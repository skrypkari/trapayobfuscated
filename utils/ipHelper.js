'use strict';const a103_0x472b10=a103_0x3b77;(function(_0x14515d,_0x560677){const _0x4248ef=a103_0x3b77,_0x5c37c3=_0x14515d();while(!![]){try{const _0x790efb=parseInt(_0x4248ef(0x142))/0x1*(parseInt(_0x4248ef(0x12f))/0x2)+-parseInt(_0x4248ef(0x133))/0x3+parseInt(_0x4248ef(0x127))/0x4*(parseInt(_0x4248ef(0x131))/0x5)+parseInt(_0x4248ef(0x12d))/0x6*(parseInt(_0x4248ef(0x138))/0x7)+-parseInt(_0x4248ef(0x122))/0x8*(-parseInt(_0x4248ef(0x129))/0x9)+parseInt(_0x4248ef(0x123))/0xa*(-parseInt(_0x4248ef(0x13d))/0xb)+parseInt(_0x4248ef(0x12b))/0xc*(-parseInt(_0x4248ef(0x140))/0xd);if(_0x790efb===_0x560677)break;else _0x5c37c3['push'](_0x5c37c3['shift']());}catch(_0x3dd1fe){_0x5c37c3['push'](_0x5c37c3['shift']());}}}(a103_0x516d,0x32040));function a103_0x3b77(_0x54b65a,_0x427e2e){_0x54b65a=_0x54b65a-0x11f;const _0x516d53=a103_0x516d();let _0x3b7792=_0x516d53[_0x54b65a];return _0x3b7792;}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['getClientIP']=getClientIP,exports[a103_0x472b10(0x12c)]=getDetailedIPInfo;function a103_0x516d(){const _0x1c6543=['trim','socket.remoteAddress','x-cluster-client-ip','35VMAPsV','user-agent','replace','x-real-ip','every','182567SiOldc','forwarded','toString','26JJUAlc','split','45996gISuOU','isArray','localhost','headers','cf-connecting-ip','::1','24hanrza','70vokJJZ','x-forwarded-for','remoteAddress','socket','776NlATXn','forwarded-for','211689vvPlso','x-forwarded','1674708xIcENq','getDetailedIPInfo','251556YEBGRW','unknown','14vpxyTf','x-client-ip','3295TPYECI','test','389550wzKwwi','connection'];a103_0x516d=function(){return _0x1c6543;};return a103_0x516d();}function getClientIP(_0x90534d){const _0x36ed14=a103_0x472b10,_0x576ab4=[_0x90534d['headers'][_0x36ed14(0x13b)],_0x90534d['headers']['x-forwarded-for'],_0x90534d[_0x36ed14(0x11f)][_0x36ed14(0x130)],_0x90534d[_0x36ed14(0x11f)][_0x36ed14(0x120)],_0x90534d['headers'][_0x36ed14(0x137)],_0x90534d[_0x36ed14(0x11f)][_0x36ed14(0x12a)],_0x90534d[_0x36ed14(0x11f)]['forwarded-for'],_0x90534d[_0x36ed14(0x11f)][_0x36ed14(0x13e)],_0x90534d['connection']?.[_0x36ed14(0x125)],_0x90534d[_0x36ed14(0x126)]?.[_0x36ed14(0x125)],_0x90534d['connection']?.[_0x36ed14(0x126)]?.[_0x36ed14(0x125)]];for(const _0x1fdaf9 of _0x576ab4){if(_0x1fdaf9){const _0x2ad903=Array[_0x36ed14(0x143)](_0x1fdaf9)?_0x1fdaf9[0x0]:_0x1fdaf9[_0x36ed14(0x13f)](),_0x2254b5=_0x2ad903['split'](',')[0x0][_0x36ed14(0x135)](),_0x5b779d=_0x2254b5[_0x36ed14(0x13a)](/^::ffff:/,'');if(isValidIP(_0x5b779d))return _0x5b779d;}}return _0x36ed14(0x12e);}function isValidIP(_0x416100){const _0xf70d=a103_0x472b10,_0x55a1c9=/^(\d{1,3}\.){3}\d{1,3}$/,_0x3b4334=/^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$/;if(_0x55a1c9[_0xf70d(0x132)](_0x416100)){const _0x2e55db=_0x416100[_0xf70d(0x141)]('.');return _0x2e55db[_0xf70d(0x13c)](_0x47bcf5=>{const _0x9cb3fb=parseInt(_0x47bcf5,0xa);return _0x9cb3fb>=0x0&&_0x9cb3fb<=0xff;});}return _0x3b4334[_0xf70d(0x132)](_0x416100)||_0x416100===_0xf70d(0x144)||_0x416100===_0xf70d(0x121);}function getDetailedIPInfo(_0x500e54){const _0x48ea71=a103_0x472b10,_0x4b35db=getClientIP(_0x500e54);let _0x5da1b5=_0x48ea71(0x12e);if(_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x13b)])_0x5da1b5=_0x48ea71(0x13b);else{if(_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x124)])_0x5da1b5=_0x48ea71(0x124);else{if(_0x500e54['headers'][_0x48ea71(0x130)])_0x5da1b5=_0x48ea71(0x130);else{if(_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x120)])_0x5da1b5=_0x48ea71(0x120);else{if(_0x500e54['headers'][_0x48ea71(0x137)])_0x5da1b5='x-cluster-client-ip';else{if(_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x12a)])_0x5da1b5=_0x48ea71(0x12a);else{if(_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x128)])_0x5da1b5='forwarded-for';else{if(_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x13e)])_0x5da1b5=_0x48ea71(0x13e);else{if(_0x500e54[_0x48ea71(0x134)]?.[_0x48ea71(0x125)])_0x5da1b5='connection.remoteAddress';else{if(_0x500e54[_0x48ea71(0x126)]?.[_0x48ea71(0x125)])_0x5da1b5=_0x48ea71(0x136);}}}}}}}}}return{'ip':_0x4b35db,'source':_0x5da1b5,'allHeaders':{'x-real-ip':_0x500e54['headers'][_0x48ea71(0x13b)]?.['toString'](),'x-forwarded-for':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x124)]?.['toString'](),'x-client-ip':_0x500e54[_0x48ea71(0x11f)]['x-client-ip']?.['toString'](),'cf-connecting-ip':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x120)]?.['toString'](),'x-cluster-client-ip':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x137)]?.[_0x48ea71(0x13f)](),'x-forwarded':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x12a)]?.[_0x48ea71(0x13f)](),'forwarded-for':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x128)]?.['toString'](),'forwarded':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x13e)]?.[_0x48ea71(0x13f)]()},'connectionInfo':{'remoteAddress':_0x500e54[_0x48ea71(0x134)]?.[_0x48ea71(0x125)],'socketRemoteAddress':_0x500e54[_0x48ea71(0x126)]?.[_0x48ea71(0x125)],'userAgent':_0x500e54[_0x48ea71(0x11f)][_0x48ea71(0x139)]}};}