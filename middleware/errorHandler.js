'use strict';const a17_0x2520e6=a17_0x1f8d;function a17_0x1f8d(_0x163fb6,_0x4646d4){const _0x1c0ecc=a17_0x1c0e();return a17_0x1f8d=function(_0x1f8d4c,_0x3b87df){_0x1f8d4c=_0x1f8d4c-0xaf;let _0x5bae60=_0x1c0ecc[_0x1f8d4c];return _0x5bae60;},a17_0x1f8d(_0x163fb6,_0x4646d4);}function a17_0x1c0e(){const _0x3ac9ec=['user','__esModule','notFound','error','560220yfVsux','message','telegramBotService','18AAmNOO','NODE_ENV','3654602nVIcJS','99HqOtOu','1819986mdfMJL','catch','status','originalUrl','development','json','env','statusCode','1587960MiQrde','1590460uADMsT','shop','60892hbtDlW','345573HvBnUO','x-request-id','8gZzjdU','errorHandler','stack','Internal\x20Server\x20Error','defineProperty','sendApiErrorNotification'];a17_0x1c0e=function(){return _0x3ac9ec;};return a17_0x1c0e();}(function(_0xbc853f,_0x48914d){const _0x17f4c6=a17_0x1f8d,_0x1d1d92=_0xbc853f();while(!![]){try{const _0x280fee=-parseInt(_0x17f4c6(0xc7))/0x1+-parseInt(_0x17f4c6(0xb4))/0x2+-parseInt(_0x17f4c6(0xba))/0x3*(-parseInt(_0x17f4c6(0xc6))/0x4)+parseInt(_0x17f4c6(0xc3))/0x5+parseInt(_0x17f4c6(0xbb))/0x6+parseInt(_0x17f4c6(0xb9))/0x7*(-parseInt(_0x17f4c6(0xc9))/0x8)+-parseInt(_0x17f4c6(0xb7))/0x9*(-parseInt(_0x17f4c6(0xc4))/0xa);if(_0x280fee===_0x48914d)break;else _0x1d1d92['push'](_0x1d1d92['shift']());}catch(_0x3cad45){_0x1d1d92['push'](_0x1d1d92['shift']());}}}(a17_0x1c0e,0x47ae5));Object[a17_0x2520e6(0xcd)](exports,a17_0x2520e6(0xb1),{'value':!![]}),exports[a17_0x2520e6(0xb2)]=exports['errorHandler']=void 0x0;const telegramBotService_1=require('../services/telegramBotService'),errorHandler=(_0x582404,_0x3b1e64,_0x3db12e,_0x5d9f46)=>{const _0x46f38c=a17_0x2520e6,_0x544d9c=_0x582404['statusCode']||0x1f4,_0x2c3112=_0x582404[_0x46f38c(0xb5)]||_0x46f38c(0xcc);console['error']('Error\x20'+_0x544d9c+':\x20'+_0x2c3112),console[_0x46f38c(0xb3)](_0x582404[_0x46f38c(0xcb)]),_0x3b1e64['user']?.['role']===_0x46f38c(0xc5)&&_0x3b1e64[_0x46f38c(0xb0)]?.['id']&&_0x544d9c>=0x190&&telegramBotService_1[_0x46f38c(0xb6)][_0x46f38c(0xaf)](_0x3b1e64['user']['id'],{'endpoint':_0x3b1e64[_0x46f38c(0xbe)],'method':_0x3b1e64['method'],'errorMessage':_0x2c3112,'statusCode':_0x544d9c,'timestamp':new Date(),'requestId':_0x3b1e64['headers'][_0x46f38c(0xc8)]||undefined})[_0x46f38c(0xbc)](_0x2762b4=>{const _0x941668=_0x46f38c;console[_0x941668(0xb3)]('Failed\x20to\x20send\x20API\x20error\x20notification:',_0x2762b4);}),_0x3db12e[_0x46f38c(0xbd)](_0x544d9c)[_0x46f38c(0xc0)]({'success':![],'message':process[_0x46f38c(0xc1)][_0x46f38c(0xb8)]==='production'&&_0x544d9c===0x1f4?_0x46f38c(0xcc):_0x2c3112,...process[_0x46f38c(0xc1)]['NODE_ENV']===_0x46f38c(0xbf)&&{'stack':_0x582404[_0x46f38c(0xcb)]}});};exports[a17_0x2520e6(0xca)]=errorHandler;const notFound=(_0x5e2865,_0x397d59,_0x5840d2)=>{const _0x61606c=a17_0x2520e6,_0x5aeb44=new Error('Route\x20'+_0x5e2865[_0x61606c(0xbe)]+'\x20not\x20found');_0x5aeb44[_0x61606c(0xc2)]=0x194,_0x5840d2(_0x5aeb44);};exports[a17_0x2520e6(0xb2)]=notFound;