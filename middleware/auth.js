'use strict';const a16_0x22fcf2=a16_0x5764;function a16_0x5764(_0x26baf5,_0x3625c8){const _0x3622d1=a16_0x3622();return a16_0x5764=function(_0x57649c,_0x50706d){_0x57649c=_0x57649c-0xc9;let _0x3200a1=_0x3622d1[_0x57649c];return _0x3200a1;},a16_0x5764(_0x26baf5,_0x3625c8);}(function(_0x5e7d69,_0x467b6d){const _0x5452c4=a16_0x5764,_0x5e1a95=_0x5e7d69();while(!![]){try{const _0x2f6019=-parseInt(_0x5452c4(0xd5))/0x1+parseInt(_0x5452c4(0xc9))/0x2+-parseInt(_0x5452c4(0xf2))/0x3+parseInt(_0x5452c4(0xed))/0x4+-parseInt(_0x5452c4(0xe7))/0x5*(parseInt(_0x5452c4(0xcc))/0x6)+-parseInt(_0x5452c4(0xde))/0x7*(-parseInt(_0x5452c4(0xd8))/0x8)+parseInt(_0x5452c4(0xcf))/0x9;if(_0x2f6019===_0x467b6d)break;else _0x5e1a95['push'](_0x5e1a95['shift']());}catch(_0x4b5229){_0x5e1a95['push'](_0x5e1a95['shift']());}}}(a16_0x3622,0x26b82));var __importDefault=this&&this[a16_0x22fcf2(0xe0)]||function(_0x162f80){const _0x3d7fe6=a16_0x22fcf2;return _0x162f80&&_0x162f80[_0x3d7fe6(0xe1)]?_0x162f80:{'default':_0x162f80};};Object[a16_0x22fcf2(0xf1)](exports,'__esModule',{'value':!![]}),exports[a16_0x22fcf2(0xcd)]=exports['requireShop']=exports[a16_0x22fcf2(0xd1)]=exports[a16_0x22fcf2(0xe4)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x22fcf2(0xd0))),config_1=require(a16_0x22fcf2(0xdc)),tokenBlacklistService_1=require(a16_0x22fcf2(0xdd)),authenticateToken=(_0x176619,_0x5087e0,_0x56c1fe)=>{const _0xd8ecf3=a16_0x22fcf2,_0x49df26=_0x176619[_0xd8ecf3(0xd2)][_0xd8ecf3(0xe5)],_0x48e64b=_0x49df26&&_0x49df26['split']('\x20')[0x1];if(!_0x48e64b)return _0x5087e0[_0xd8ecf3(0xd6)](0x191)[_0xd8ecf3(0xda)]({'success':![],'message':_0xd8ecf3(0xdb)});if(tokenBlacklistService_1[_0xd8ecf3(0xd9)]['isTokenBlacklisted'](_0x48e64b))return _0x5087e0[_0xd8ecf3(0xd6)](0x191)[_0xd8ecf3(0xda)]({'success':![],'message':_0xd8ecf3(0xe6)});jsonwebtoken_1[_0xd8ecf3(0xe8)]['verify'](_0x48e64b,config_1['config'][_0xd8ecf3(0xec)][_0xd8ecf3(0xd7)],(_0x43e78e,_0x5b3701)=>{const _0x49659c=_0xd8ecf3;if(_0x43e78e)return _0x5087e0[_0x49659c(0xd6)](0x193)['json']({'success':![],'message':_0x49659c(0xf3)});_0x176619[_0x49659c(0xeb)]=_0x5b3701,_0x176619[_0x49659c(0xd3)]=_0x48e64b,_0x56c1fe();});};exports['authenticateToken']=authenticateToken;const requireAdmin=(_0x526857,_0x4aea2a,_0x418017)=>{const _0x540692=a16_0x22fcf2;if(!_0x526857['user']||_0x526857[_0x540692(0xeb)][_0x540692(0xe3)]!==_0x540692(0xea))return _0x4aea2a[_0x540692(0xd6)](0x193)[_0x540692(0xda)]({'success':![],'message':_0x540692(0xce)});_0x418017();};exports[a16_0x22fcf2(0xd1)]=requireAdmin;const requireShop=(_0x28a797,_0x4aec8b,_0x31af74)=>{const _0x3cf90f=a16_0x22fcf2;if(!_0x28a797['user']||_0x28a797[_0x3cf90f(0xeb)][_0x3cf90f(0xe3)]!==_0x3cf90f(0xe9))return _0x4aec8b[_0x3cf90f(0xd6)](0x193)[_0x3cf90f(0xda)]({'success':![],'message':_0x3cf90f(0xcb)});_0x31af74();};exports[a16_0x22fcf2(0xca)]=requireShop;function a16_0x3622(){const _0x1c6d7e=['status','secret','2664sRStnL','tokenBlacklistService','json','Access\x20token\x20required','../config/config','../services/tokenBlacklistService','63kLIpCX','Error\x20checking\x20account\x20status','__importDefault','__esModule','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','role','authenticateToken','authorization','Token\x20has\x20been\x20revoked','595865uTpAXp','default','shop','admin','user','jwt','356092roHjFJ','Error\x20checking\x20account\x20status:','../config/database','ACTIVE','defineProperty','727605aGPJQn','Invalid\x20or\x20expired\x20token','543518sISrap','requireShop','Shop\x20access\x20required','12lQYvnO','requireActiveShop','Admin\x20access\x20required','3193515GKaYFi','jsonwebtoken','requireAdmin','headers','token','findUnique','79139mFLjHR'];a16_0x3622=function(){return _0x1c6d7e;};return a16_0x3622();}const requireActiveShop=async(_0x186eab,_0x1bf528,_0x33003b)=>{const _0x22219f=a16_0x22fcf2;if(!_0x186eab[_0x22219f(0xeb)]||_0x186eab['user'][_0x22219f(0xe3)]!==_0x22219f(0xe9))return _0x1bf528[_0x22219f(0xd6)](0x193)[_0x22219f(0xda)]({'success':![],'message':'Shop\x20access\x20required'});try{const _0x2bb116=require(_0x22219f(0xef))['default'],_0x44f4b6=await _0x2bb116[_0x22219f(0xe9)][_0x22219f(0xd4)]({'where':{'id':_0x186eab['user']['id']},'select':{'status':!![]}});if(!_0x44f4b6||_0x44f4b6[_0x22219f(0xd6)]!==_0x22219f(0xf0))return _0x1bf528[_0x22219f(0xd6)](0x193)[_0x22219f(0xda)]({'success':![],'message':_0x22219f(0xe2),'suspended':_0x44f4b6?.[_0x22219f(0xd6)]==='SUSPENDED'});_0x33003b();}catch(_0x33fdd3){return console['error'](_0x22219f(0xee),_0x33fdd3),_0x1bf528['status'](0x1f4)[_0x22219f(0xda)]({'success':![],'message':_0x22219f(0xdf)});}};exports[a16_0x22fcf2(0xcd)]=requireActiveShop;