'use strict';const a16_0x44430d=a16_0x4fd4;(function(_0x375921,_0xef8a20){const _0x4af0b1=a16_0x4fd4,_0x524d0c=_0x375921();while(!![]){try{const _0x42a689=parseInt(_0x4af0b1(0x1e2))/0x1+-parseInt(_0x4af0b1(0x1e0))/0x2*(-parseInt(_0x4af0b1(0x1d0))/0x3)+-parseInt(_0x4af0b1(0x1f5))/0x4*(parseInt(_0x4af0b1(0x1ec))/0x5)+parseInt(_0x4af0b1(0x1d6))/0x6*(parseInt(_0x4af0b1(0x1ed))/0x7)+-parseInt(_0x4af0b1(0x1cd))/0x8*(parseInt(_0x4af0b1(0x1cf))/0x9)+-parseInt(_0x4af0b1(0x1eb))/0xa+parseInt(_0x4af0b1(0x1de))/0xb*(parseInt(_0x4af0b1(0x1d5))/0xc);if(_0x42a689===_0xef8a20)break;else _0x524d0c['push'](_0x524d0c['shift']());}catch(_0x5444c4){_0x524d0c['push'](_0x524d0c['shift']());}}}(a16_0x28be,0x3b656));var __importDefault=this&&this[a16_0x44430d(0x1db)]||function(_0x40ebde){const _0xf7df4e=a16_0x44430d;return _0x40ebde&&_0x40ebde[_0xf7df4e(0x1da)]?_0x40ebde:{'default':_0x40ebde};};Object[a16_0x44430d(0x1e9)](exports,a16_0x44430d(0x1da),{'value':!![]}),exports[a16_0x44430d(0x1d8)]=exports[a16_0x44430d(0x1ce)]=exports[a16_0x44430d(0x1f3)]=exports[a16_0x44430d(0x1e7)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a16_0x44430d(0x1f8)),tokenBlacklistService_1=require(a16_0x44430d(0x1e8)),authenticateToken=(_0x2c35ea,_0x2ffbc6,_0x195afe)=>{const _0x499e4a=a16_0x44430d,_0x234753=_0x2c35ea[_0x499e4a(0x1e1)][_0x499e4a(0x1f4)],_0x30f180=_0x234753&&_0x234753[_0x499e4a(0x1e4)]('\x20')[0x1];if(!_0x30f180)return _0x2ffbc6['status'](0x191)[_0x499e4a(0x1f1)]({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x499e4a(0x1dd)][_0x499e4a(0x1e3)](_0x30f180))return _0x2ffbc6[_0x499e4a(0x1ee)](0x191)[_0x499e4a(0x1f1)]({'success':![],'message':_0x499e4a(0x1ea)});jsonwebtoken_1['default'][_0x499e4a(0x1d2)](_0x30f180,config_1[_0x499e4a(0x1df)][_0x499e4a(0x1d7)][_0x499e4a(0x1ef)],(_0x5e1543,_0x311ad5)=>{const _0xfcdd9c=_0x499e4a;if(_0x5e1543)return _0x2ffbc6[_0xfcdd9c(0x1ee)](0x193)[_0xfcdd9c(0x1f1)]({'success':![],'message':'Invalid\x20or\x20expired\x20token'});_0x2c35ea['user']=_0x311ad5,_0x2c35ea[_0xfcdd9c(0x1f7)]=_0x30f180,_0x195afe();});};exports[a16_0x44430d(0x1e7)]=authenticateToken;const requireAdmin=(_0x13a896,_0x333791,_0x81f1ad)=>{const _0x11f188=a16_0x44430d;if(!_0x13a896[_0x11f188(0x1dc)]||_0x13a896['user'][_0x11f188(0x1e6)]!==_0x11f188(0x1cc))return _0x333791[_0x11f188(0x1ee)](0x193)[_0x11f188(0x1f1)]({'success':![],'message':'Admin\x20access\x20required'});_0x81f1ad();};function a16_0x4fd4(_0x57828d,_0x5bd278){const _0x28bed9=a16_0x28be();return a16_0x4fd4=function(_0x4fd463,_0xe3bf6a){_0x4fd463=_0x4fd463-0x1cc;let _0x3bbd99=_0x28bed9[_0x4fd463];return _0x3bbd99;},a16_0x4fd4(_0x57828d,_0x5bd278);}exports[a16_0x44430d(0x1f3)]=requireAdmin;const requireShop=(_0x22160b,_0x29e5b9,_0x323d23)=>{const _0x3a45a7=a16_0x44430d;if(!_0x22160b[_0x3a45a7(0x1dc)]||_0x22160b[_0x3a45a7(0x1dc)][_0x3a45a7(0x1e6)]!==_0x3a45a7(0x1d4))return _0x29e5b9[_0x3a45a7(0x1ee)](0x193)[_0x3a45a7(0x1f1)]({'success':![],'message':_0x3a45a7(0x1f6)});_0x323d23();};function a16_0x28be(){const _0x5e6a60=['Token\x20has\x20been\x20revoked','103220GJZWIV','9095gsYVzC','2079DjXAeP','status','secret','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','json','error','requireAdmin','authorization','564epRIrK','Shop\x20access\x20required','token','../config/config','admin','80016mPcQvH','requireShop','252HGixgh','30EIaiHM','findUnique','verify','SUSPENDED','shop','150996ltudkv','2262FRRzjK','jwt','requireActiveShop','ACTIVE','__esModule','__importDefault','user','tokenBlacklistService','407HrrtBF','config','964tbAYlb','headers','207783HdRmzb','isTokenBlacklisted','split','default','role','authenticateToken','../services/tokenBlacklistService','defineProperty'];a16_0x28be=function(){return _0x5e6a60;};return a16_0x28be();}exports[a16_0x44430d(0x1ce)]=requireShop;const requireActiveShop=async(_0x3a6fb0,_0x3c0ce8,_0x92a592)=>{const _0x22f612=a16_0x44430d;if(!_0x3a6fb0['user']||_0x3a6fb0[_0x22f612(0x1dc)][_0x22f612(0x1e6)]!==_0x22f612(0x1d4))return _0x3c0ce8['status'](0x193)['json']({'success':![],'message':_0x22f612(0x1f6)});try{const _0x4ad3dc=require('../config/database')[_0x22f612(0x1e5)],_0x33e690=await _0x4ad3dc[_0x22f612(0x1d4)][_0x22f612(0x1d1)]({'where':{'id':_0x3a6fb0['user']['id']},'select':{'status':!![]}});if(!_0x33e690||_0x33e690['status']!==_0x22f612(0x1d9))return _0x3c0ce8['status'](0x193)[_0x22f612(0x1f1)]({'success':![],'message':_0x22f612(0x1f0),'suspended':_0x33e690?.[_0x22f612(0x1ee)]===_0x22f612(0x1d3)});_0x92a592();}catch(_0x3c07df){return console[_0x22f612(0x1f2)]('Error\x20checking\x20account\x20status:',_0x3c07df),_0x3c0ce8['status'](0x1f4)[_0x22f612(0x1f1)]({'success':![],'message':'Error\x20checking\x20account\x20status'});}};exports['requireActiveShop']=requireActiveShop;