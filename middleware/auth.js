'use strict';const a15_0xbbd390=a15_0x2205;(function(_0x1367d7,_0x4c85cb){const _0x41af0b=a15_0x2205,_0x2c5115=_0x1367d7();while(!![]){try{const _0x107711=parseInt(_0x41af0b(0xaa))/0x1+-parseInt(_0x41af0b(0xa0))/0x2+parseInt(_0x41af0b(0xaf))/0x3*(parseInt(_0x41af0b(0xad))/0x4)+-parseInt(_0x41af0b(0x9f))/0x5+parseInt(_0x41af0b(0xa6))/0x6*(-parseInt(_0x41af0b(0xb6))/0x7)+parseInt(_0x41af0b(0xba))/0x8+parseInt(_0x41af0b(0xa4))/0x9;if(_0x107711===_0x4c85cb)break;else _0x2c5115['push'](_0x2c5115['shift']());}catch(_0x4cc502){_0x2c5115['push'](_0x2c5115['shift']());}}}(a15_0x2e7e,0x95e29));var __importDefault=this&&this[a15_0xbbd390(0xbb)]||function(_0x18916b){return _0x18916b&&_0x18916b['__esModule']?_0x18916b:{'default':_0x18916b};};Object['defineProperty'](exports,a15_0xbbd390(0xbc),{'value':!![]}),exports['requireShop']=exports[a15_0xbbd390(0xb8)]=exports[a15_0xbbd390(0xb0)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a15_0xbbd390(0x9d))),config_1=require(a15_0xbbd390(0xa5)),tokenBlacklistService_1=require(a15_0xbbd390(0x9c)),authenticateToken=(_0x2e17a0,_0x4f744b,_0x26b3ef)=>{const _0x31996c=a15_0xbbd390,_0x5983b8=_0x2e17a0[_0x31996c(0xa7)]['authorization'],_0x1a93a7=_0x5983b8&&_0x5983b8[_0x31996c(0xa8)]('\x20')[0x1];if(!_0x1a93a7)return _0x4f744b[_0x31996c(0xa9)](0x191)['json']({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x31996c(0xbe)][_0x31996c(0x9b)](_0x1a93a7))return _0x4f744b[_0x31996c(0xa9)](0x191)[_0x31996c(0xa3)]({'success':![],'message':_0x31996c(0xbf)});jsonwebtoken_1[_0x31996c(0xb7)][_0x31996c(0xa1)](_0x1a93a7,config_1[_0x31996c(0xa2)][_0x31996c(0xb4)][_0x31996c(0xb3)],(_0x39dc4c,_0x11544e)=>{const _0xfaa2fa=_0x31996c;if(_0x39dc4c)return _0x4f744b[_0xfaa2fa(0xa9)](0x193)[_0xfaa2fa(0xa3)]({'success':![],'message':_0xfaa2fa(0xb1)});_0x2e17a0['user']=_0x11544e,_0x2e17a0[_0xfaa2fa(0xb5)]=_0x1a93a7,_0x26b3ef();});};exports[a15_0xbbd390(0xb0)]=authenticateToken;function a15_0x2e7e(){const _0x3b4b84=['json','2589075JHaYmT','../config/config','135618JeVVLD','headers','split','status','351423ZZHlTZ','Admin\x20access\x20required','admin','8OELykh','shop','1291692vfCPWR','authenticateToken','Invalid\x20or\x20expired\x20token','role','secret','jwt','token','70ODUddg','default','requireAdmin','Shop\x20access\x20required','5201400dBMYfb','__importDefault','__esModule','user','tokenBlacklistService','Token\x20has\x20been\x20revoked','isTokenBlacklisted','../services/tokenBlacklistService','jsonwebtoken','requireShop','3758090BsVLIt','1117648QyVxWQ','verify','config'];a15_0x2e7e=function(){return _0x3b4b84;};return a15_0x2e7e();}function a15_0x2205(_0x42bf75,_0x41d6a0){const _0x2e7e1e=a15_0x2e7e();return a15_0x2205=function(_0x220591,_0x571573){_0x220591=_0x220591-0x9b;let _0x578650=_0x2e7e1e[_0x220591];return _0x578650;},a15_0x2205(_0x42bf75,_0x41d6a0);}const requireAdmin=(_0xe88533,_0x46d2c2,_0x2acb56)=>{const _0x5b606f=a15_0xbbd390;if(!_0xe88533[_0x5b606f(0xbd)]||_0xe88533['user']['role']!==_0x5b606f(0xac))return _0x46d2c2[_0x5b606f(0xa9)](0x193)[_0x5b606f(0xa3)]({'success':![],'message':_0x5b606f(0xab)});_0x2acb56();};exports[a15_0xbbd390(0xb8)]=requireAdmin;const requireShop=(_0x253090,_0x24a3d9,_0x4a1045)=>{const _0x5b7f9b=a15_0xbbd390;if(!_0x253090['user']||_0x253090[_0x5b7f9b(0xbd)][_0x5b7f9b(0xb2)]!==_0x5b7f9b(0xae))return _0x24a3d9[_0x5b7f9b(0xa9)](0x193)[_0x5b7f9b(0xa3)]({'success':![],'message':_0x5b7f9b(0xb9)});_0x4a1045();};exports[a15_0xbbd390(0x9e)]=requireShop;