'use strict';const a16_0x35d6e6=a16_0x5724;(function(_0x5e49bd,_0x3a91c3){const _0x4e7ab3=a16_0x5724,_0x14cebe=_0x5e49bd();while(!![]){try{const _0x4a1f74=-parseInt(_0x4e7ab3(0x1c5))/0x1+parseInt(_0x4e7ab3(0x1b7))/0x2+parseInt(_0x4e7ab3(0x1c9))/0x3+-parseInt(_0x4e7ab3(0x1bb))/0x4+-parseInt(_0x4e7ab3(0x1c8))/0x5*(-parseInt(_0x4e7ab3(0x1c7))/0x6)+parseInt(_0x4e7ab3(0x1b3))/0x7*(parseInt(_0x4e7ab3(0x1c1))/0x8)+-parseInt(_0x4e7ab3(0x1bc))/0x9*(parseInt(_0x4e7ab3(0x1bd))/0xa);if(_0x4a1f74===_0x3a91c3)break;else _0x14cebe['push'](_0x14cebe['shift']());}catch(_0x3947b2){_0x14cebe['push'](_0x14cebe['shift']());}}}(a16_0x1be3,0xcae26));var __importDefault=this&&this[a16_0x35d6e6(0x1b4)]||function(_0x4d1d70){return _0x4d1d70&&_0x4d1d70['__esModule']?_0x4d1d70:{'default':_0x4d1d70};};Object[a16_0x35d6e6(0x1c3)](exports,a16_0x35d6e6(0x1b6),{'value':!![]}),exports[a16_0x35d6e6(0x1d4)]=exports[a16_0x35d6e6(0x1c6)]=exports[a16_0x35d6e6(0x1d3)]=exports['authenticateToken']=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x35d6e6(0x1db))),config_1=require(a16_0x35d6e6(0x1d9)),tokenBlacklistService_1=require(a16_0x35d6e6(0x1d0)),authenticateToken=(_0x5520f2,_0x17d9f7,_0x392257)=>{const _0xf4641b=a16_0x35d6e6,_0x4c9bc1=_0x5520f2[_0xf4641b(0x1ce)][_0xf4641b(0x1ca)],_0x2feca=_0x4c9bc1&&_0x4c9bc1[_0xf4641b(0x1b0)]('\x20')[0x1];if(!_0x2feca)return _0x17d9f7[_0xf4641b(0x1d2)](0x191)[_0xf4641b(0x1c0)]({'success':![],'message':_0xf4641b(0x1dc)});if(tokenBlacklistService_1[_0xf4641b(0x1da)][_0xf4641b(0x1ba)](_0x2feca))return _0x17d9f7[_0xf4641b(0x1d2)](0x191)[_0xf4641b(0x1c0)]({'success':![],'message':_0xf4641b(0x1cc)});jsonwebtoken_1[_0xf4641b(0x1d5)][_0xf4641b(0x1d1)](_0x2feca,config_1['config'][_0xf4641b(0x1cd)]['secret'],(_0x51a776,_0xc9c4a2)=>{const _0xc12d14=_0xf4641b;if(_0x51a776)return _0x17d9f7[_0xc12d14(0x1d2)](0x193)[_0xc12d14(0x1c0)]({'success':![],'message':'Invalid\x20or\x20expired\x20token'});_0x5520f2['user']=_0xc9c4a2,_0x5520f2[_0xc12d14(0x1bf)]=_0x2feca,_0x392257();});};exports[a16_0x35d6e6(0x1be)]=authenticateToken;const requireAdmin=(_0x1df683,_0x11c686,_0x532d06)=>{const _0x5e3cba=a16_0x35d6e6;if(!_0x1df683[_0x5e3cba(0x1cb)]||_0x1df683[_0x5e3cba(0x1cb)][_0x5e3cba(0x1c4)]!==_0x5e3cba(0x1cf))return _0x11c686[_0x5e3cba(0x1d2)](0x193)[_0x5e3cba(0x1c0)]({'success':![],'message':_0x5e3cba(0x1d7)});_0x532d06();};exports[a16_0x35d6e6(0x1d3)]=requireAdmin;const requireShop=(_0x524645,_0x3dc753,_0x1a5f8b)=>{const _0x127c3f=a16_0x35d6e6;if(!_0x524645[_0x127c3f(0x1cb)]||_0x524645['user'][_0x127c3f(0x1c4)]!==_0x127c3f(0x1b2))return _0x3dc753[_0x127c3f(0x1d2)](0x193)['json']({'success':![],'message':_0x127c3f(0x1b8)});_0x1a5f8b();};exports[a16_0x35d6e6(0x1c6)]=requireShop;const requireActiveShop=async(_0x3142e2,_0x27223d,_0x38de1c)=>{const _0xb558e9=a16_0x35d6e6;if(!_0x3142e2[_0xb558e9(0x1cb)]||_0x3142e2[_0xb558e9(0x1cb)][_0xb558e9(0x1c4)]!==_0xb558e9(0x1b2))return _0x27223d[_0xb558e9(0x1d2)](0x193)[_0xb558e9(0x1c0)]({'success':![],'message':_0xb558e9(0x1b8)});try{const _0x7934f4=require(_0xb558e9(0x1d6))['default'],_0x3e2712=await _0x7934f4[_0xb558e9(0x1b2)]['findUnique']({'where':{'id':_0x3142e2[_0xb558e9(0x1cb)]['id']},'select':{'status':!![]}});if(!_0x3e2712||_0x3e2712[_0xb558e9(0x1d2)]!==_0xb558e9(0x1b1))return _0x27223d['status'](0x193)['json']({'success':![],'message':_0xb558e9(0x1b5),'suspended':_0x3e2712?.[_0xb558e9(0x1d2)]===_0xb558e9(0x1d8)});_0x38de1c();}catch(_0x1ae49d){return console[_0xb558e9(0x1c2)]('Error\x20checking\x20account\x20status:',_0x1ae49d),_0x27223d[_0xb558e9(0x1d2)](0x1f4)[_0xb558e9(0x1c0)]({'success':![],'message':_0xb558e9(0x1b9)});}};exports[a16_0x35d6e6(0x1d4)]=requireActiveShop;function a16_0x5724(_0x494018,_0x545e67){const _0x1be3f0=a16_0x1be3();return a16_0x5724=function(_0x572487,_0x4e523a){_0x572487=_0x572487-0x1b0;let _0x53cc7f=_0x1be3f0[_0x572487];return _0x53cc7f;},a16_0x5724(_0x494018,_0x545e67);}function a16_0x1be3(){const _0x5e5a97=['../config/config','tokenBlacklistService','jsonwebtoken','Access\x20token\x20required','split','ACTIVE','shop','42snibnV','__importDefault','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','__esModule','2657264eyPYcB','Shop\x20access\x20required','Error\x20checking\x20account\x20status','isTokenBlacklisted','6389580vWAozr','9EJfRzo','17484720RjWRQV','authenticateToken','token','json','866568zuJKhR','error','defineProperty','role','63338RHbidt','requireShop','401682Mzghtu','85jSlrpu','3370686EBKJRx','authorization','user','Token\x20has\x20been\x20revoked','jwt','headers','admin','../services/tokenBlacklistService','verify','status','requireAdmin','requireActiveShop','default','../config/database','Admin\x20access\x20required','SUSPENDED'];a16_0x1be3=function(){return _0x5e5a97;};return a16_0x1be3();}