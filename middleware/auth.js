'use strict';const a24_0x2d56c4=a24_0x4579;(function(_0x12eaad,_0x5b6c12){const _0xee9465=a24_0x4579,_0xbd284a=_0x12eaad();while(!![]){try{const _0x28f9b6=parseInt(_0xee9465(0x163))/0x1*(-parseInt(_0xee9465(0x14a))/0x2)+-parseInt(_0xee9465(0x162))/0x3+parseInt(_0xee9465(0x14d))/0x4+parseInt(_0xee9465(0x154))/0x5+parseInt(_0xee9465(0x14c))/0x6+-parseInt(_0xee9465(0x146))/0x7*(-parseInt(_0xee9465(0x16e))/0x8)+-parseInt(_0xee9465(0x14b))/0x9;if(_0x28f9b6===_0x5b6c12)break;else _0xbd284a['push'](_0xbd284a['shift']());}catch(_0x58d034){_0xbd284a['push'](_0xbd284a['shift']());}}}(a24_0x34c6,0xa8e80));var __importDefault=this&&this[a24_0x2d56c4(0x159)]||function(_0x1379b4){const _0x4526e1=a24_0x2d56c4;return _0x1379b4&&_0x1379b4[_0x4526e1(0x16f)]?_0x1379b4:{'default':_0x1379b4};};Object['defineProperty'](exports,a24_0x2d56c4(0x16f),{'value':!![]}),exports[a24_0x2d56c4(0x161)]=exports[a24_0x2d56c4(0x148)]=exports[a24_0x2d56c4(0x164)]=exports[a24_0x2d56c4(0x16d)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a24_0x2d56c4(0x15b))),config_1=require(a24_0x2d56c4(0x15a)),tokenBlacklistService_1=require(a24_0x2d56c4(0x144)),authenticateToken=(_0xc0c08f,_0x14fd78,_0x345613)=>{const _0x34be36=a24_0x2d56c4,_0x62a2d8=_0xc0c08f[_0x34be36(0x15d)][_0x34be36(0x155)],_0x23a3d0=_0x62a2d8&&_0x62a2d8[_0x34be36(0x156)]('\x20')[0x1];if(!_0x23a3d0)return _0x14fd78[_0x34be36(0x165)](0x191)['json']({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x34be36(0x168)][_0x34be36(0x169)](_0x23a3d0))return _0x14fd78[_0x34be36(0x165)](0x191)[_0x34be36(0x150)]({'success':![],'message':_0x34be36(0x158)});jsonwebtoken_1[_0x34be36(0x153)][_0x34be36(0x143)](_0x23a3d0,config_1[_0x34be36(0x151)][_0x34be36(0x147)][_0x34be36(0x160)],(_0x881d35,_0x176bd9)=>{const _0x31edde=_0x34be36;if(_0x881d35)return _0x14fd78['status'](0x193)[_0x31edde(0x150)]({'success':![],'message':_0x31edde(0x15c)});_0xc0c08f[_0x31edde(0x16c)]=_0x176bd9,_0xc0c08f[_0x31edde(0x16a)]=_0x23a3d0,_0x345613();});};exports['authenticateToken']=authenticateToken;function a24_0x4579(_0x54ccd4,_0x574a6f){_0x54ccd4=_0x54ccd4-0x143;const _0x34c65f=a24_0x34c6();let _0x457921=_0x34c65f[_0x54ccd4];return _0x457921;}const requireAdmin=(_0x14fb27,_0x1065bd,_0x1f288f)=>{const _0x3cef56=a24_0x2d56c4;if(!_0x14fb27[_0x3cef56(0x16c)]||_0x14fb27[_0x3cef56(0x16c)][_0x3cef56(0x14f)]!==_0x3cef56(0x145))return _0x1065bd[_0x3cef56(0x165)](0x193)[_0x3cef56(0x150)]({'success':![],'message':_0x3cef56(0x167)});_0x1f288f();};exports[a24_0x2d56c4(0x164)]=requireAdmin;const requireShop=(_0x34d351,_0x87fafc,_0x2d0dfb)=>{const _0x219ca1=a24_0x2d56c4;if(!_0x34d351[_0x219ca1(0x16c)]||_0x34d351[_0x219ca1(0x16c)]['role']!==_0x219ca1(0x166))return _0x87fafc[_0x219ca1(0x165)](0x193)[_0x219ca1(0x150)]({'success':![],'message':_0x219ca1(0x15f)});_0x2d0dfb();};exports[a24_0x2d56c4(0x148)]=requireShop;const requireActiveShop=async(_0x3c3718,_0x59ace8,_0x1c6a75)=>{const _0x4b0648=a24_0x2d56c4;if(!_0x3c3718[_0x4b0648(0x16c)]||_0x3c3718[_0x4b0648(0x16c)]['role']!==_0x4b0648(0x166))return _0x59ace8[_0x4b0648(0x165)](0x193)[_0x4b0648(0x150)]({'success':![],'message':_0x4b0648(0x15f)});try{const _0x30de34=require(_0x4b0648(0x15e))['default'],_0x43409a=await _0x30de34[_0x4b0648(0x166)]['findUnique']({'where':{'id':_0x3c3718[_0x4b0648(0x16c)]['id']},'select':{'status':!![]}});if(!_0x43409a||_0x43409a[_0x4b0648(0x165)]!==_0x4b0648(0x14e))return _0x59ace8['status'](0x193)[_0x4b0648(0x150)]({'success':![],'message':_0x4b0648(0x152),'suspended':_0x43409a?.['status']===_0x4b0648(0x16b)});_0x1c6a75();}catch(_0x5c5ba4){return console[_0x4b0648(0x157)]('Error\x20checking\x20account\x20status:',_0x5c5ba4),_0x59ace8['status'](0x1f4)[_0x4b0648(0x150)]({'success':![],'message':_0x4b0648(0x149)});}};function a24_0x34c6(){const _0x2e0322=['../config/database','Shop\x20access\x20required','secret','requireActiveShop','2714277yVrjzI','12IseCye','requireAdmin','status','shop','Admin\x20access\x20required','tokenBlacklistService','isTokenBlacklisted','token','SUSPENDED','user','authenticateToken','1579024hihQxR','__esModule','verify','../services/tokenBlacklistService','admin','28mCbFFG','jwt','requireShop','Error\x20checking\x20account\x20status','72382aqtWmn','6294807QYjmmA','1654098pBwYtz','5030332iTQetO','ACTIVE','role','json','config','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','default','2037680DsDmwi','authorization','split','error','Token\x20has\x20been\x20revoked','__importDefault','../config/config','jsonwebtoken','Invalid\x20or\x20expired\x20token','headers'];a24_0x34c6=function(){return _0x2e0322;};return a24_0x34c6();}exports[a24_0x2d56c4(0x161)]=requireActiveShop;