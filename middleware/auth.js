'use strict';const a15_0x22d7bc=a15_0x7408;(function(_0x121019,_0x3e4b36){const _0x20b6d8=a15_0x7408,_0x5656df=_0x121019();while(!![]){try{const _0x50fed=parseInt(_0x20b6d8(0x8b))/0x1+parseInt(_0x20b6d8(0x73))/0x2+parseInt(_0x20b6d8(0x76))/0x3+-parseInt(_0x20b6d8(0x87))/0x4+parseInt(_0x20b6d8(0x7f))/0x5+parseInt(_0x20b6d8(0x7e))/0x6+-parseInt(_0x20b6d8(0x74))/0x7*(parseInt(_0x20b6d8(0x8f))/0x8);if(_0x50fed===_0x3e4b36)break;else _0x5656df['push'](_0x5656df['shift']());}catch(_0x331cd6){_0x5656df['push'](_0x5656df['shift']());}}}(a15_0x477d,0xdfe33));var __importDefault=this&&this[a15_0x22d7bc(0x77)]||function(_0x24a260){const _0x488672=a15_0x22d7bc;return _0x24a260&&_0x24a260[_0x488672(0x89)]?_0x24a260:{'default':_0x24a260};};function a15_0x477d(){const _0x2bd992=['Shop\x20access\x20required','shop','5560134zhXqDW','5933660MvWNcb','split','role','admin','../config/config','../services/tokenBlacklistService','verify','status','3494836zImtQy','json','__esModule','user','388991jwSrzc','authenticateToken','isTokenBlacklisted','authorization','931608hcYWnv','jwt','default','requireShop','Admin\x20access\x20required','headers','defineProperty','Token\x20has\x20been\x20revoked','1869212bVwykb','161KVxtqu','token','3096321oeiPpL','__importDefault','jsonwebtoken','requireAdmin','Access\x20token\x20required','config'];a15_0x477d=function(){return _0x2bd992;};return a15_0x477d();}Object[a15_0x22d7bc(0x71)](exports,'__esModule',{'value':!![]}),exports[a15_0x22d7bc(0x92)]=exports[a15_0x22d7bc(0x79)]=exports[a15_0x22d7bc(0x8c)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a15_0x22d7bc(0x78))),config_1=require(a15_0x22d7bc(0x83)),tokenBlacklistService_1=require(a15_0x22d7bc(0x84)),authenticateToken=(_0x34a269,_0x499f58,_0x1a20ee)=>{const _0x5740d4=a15_0x22d7bc,_0x4ad279=_0x34a269[_0x5740d4(0x94)][_0x5740d4(0x8e)],_0xeba2cb=_0x4ad279&&_0x4ad279[_0x5740d4(0x80)]('\x20')[0x1];if(!_0xeba2cb)return _0x499f58[_0x5740d4(0x86)](0x191)['json']({'success':![],'message':_0x5740d4(0x7a)});if(tokenBlacklistService_1['tokenBlacklistService'][_0x5740d4(0x8d)](_0xeba2cb))return _0x499f58[_0x5740d4(0x86)](0x191)[_0x5740d4(0x88)]({'success':![],'message':_0x5740d4(0x72)});jsonwebtoken_1[_0x5740d4(0x91)][_0x5740d4(0x85)](_0xeba2cb,config_1[_0x5740d4(0x7b)][_0x5740d4(0x90)]['secret'],(_0x1db3bf,_0x2dc05b)=>{const _0x24ab2e=_0x5740d4;if(_0x1db3bf)return _0x499f58[_0x24ab2e(0x86)](0x193)[_0x24ab2e(0x88)]({'success':![],'message':'Invalid\x20or\x20expired\x20token'});_0x34a269[_0x24ab2e(0x8a)]=_0x2dc05b,_0x34a269[_0x24ab2e(0x75)]=_0xeba2cb,_0x1a20ee();});};function a15_0x7408(_0x526a5a,_0x1cdef5){const _0x477d8f=a15_0x477d();return a15_0x7408=function(_0x7408e0,_0x5ed815){_0x7408e0=_0x7408e0-0x71;let _0x451f9a=_0x477d8f[_0x7408e0];return _0x451f9a;},a15_0x7408(_0x526a5a,_0x1cdef5);}exports[a15_0x22d7bc(0x8c)]=authenticateToken;const requireAdmin=(_0x52ca95,_0x163f7d,_0x5c9bd7)=>{const _0x3163a4=a15_0x22d7bc;if(!_0x52ca95[_0x3163a4(0x8a)]||_0x52ca95[_0x3163a4(0x8a)][_0x3163a4(0x81)]!==_0x3163a4(0x82))return _0x163f7d[_0x3163a4(0x86)](0x193)[_0x3163a4(0x88)]({'success':![],'message':_0x3163a4(0x93)});_0x5c9bd7();};exports[a15_0x22d7bc(0x79)]=requireAdmin;const requireShop=(_0x48d0c7,_0x37b07c,_0x502285)=>{const _0x2164e1=a15_0x22d7bc;if(!_0x48d0c7[_0x2164e1(0x8a)]||_0x48d0c7[_0x2164e1(0x8a)]['role']!==_0x2164e1(0x7d))return _0x37b07c[_0x2164e1(0x86)](0x193)[_0x2164e1(0x88)]({'success':![],'message':_0x2164e1(0x7c)});_0x502285();};exports[a15_0x22d7bc(0x92)]=requireShop;