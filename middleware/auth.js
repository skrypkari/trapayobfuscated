'use strict';const a16_0x4b57b2=a16_0x56a6;(function(_0x36c0f3,_0x1d9a69){const _0x3ffa81=a16_0x56a6,_0x207f58=_0x36c0f3();while(!![]){try{const _0x34ad6f=parseInt(_0x3ffa81(0x152))/0x1*(parseInt(_0x3ffa81(0x140))/0x2)+parseInt(_0x3ffa81(0x141))/0x3+parseInt(_0x3ffa81(0x136))/0x4+-parseInt(_0x3ffa81(0x149))/0x5+-parseInt(_0x3ffa81(0x14d))/0x6+-parseInt(_0x3ffa81(0x144))/0x7+-parseInt(_0x3ffa81(0x145))/0x8;if(_0x34ad6f===_0x1d9a69)break;else _0x207f58['push'](_0x207f58['shift']());}catch(_0x344edc){_0x207f58['push'](_0x207f58['shift']());}}}(a16_0x57d4,0x5d4f7));var __importDefault=this&&this[a16_0x4b57b2(0x14a)]||function(_0x333e26){const _0x321580=a16_0x4b57b2;return _0x333e26&&_0x333e26[_0x321580(0x13d)]?_0x333e26:{'default':_0x333e26};};Object[a16_0x4b57b2(0x150)](exports,a16_0x4b57b2(0x13d),{'value':!![]}),exports[a16_0x4b57b2(0x14c)]=exports[a16_0x4b57b2(0x13a)]=exports[a16_0x4b57b2(0x138)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a16_0x4b57b2(0x13b)),tokenBlacklistService_1=require('../services/tokenBlacklistService'),authenticateToken=(_0xba1524,_0xa060b5,_0x34afac)=>{const _0x2187ee=a16_0x4b57b2,_0x2a8953=_0xba1524['headers']['authorization'],_0x21a04e=_0x2a8953&&_0x2a8953[_0x2187ee(0x146)]('\x20')[0x1];if(!_0x21a04e)return _0xa060b5[_0x2187ee(0x142)](0x191)['json']({'success':![],'message':_0x2187ee(0x148)});if(tokenBlacklistService_1[_0x2187ee(0x139)][_0x2187ee(0x153)](_0x21a04e))return _0xa060b5[_0x2187ee(0x142)](0x191)[_0x2187ee(0x13c)]({'success':![],'message':_0x2187ee(0x14f)});jsonwebtoken_1[_0x2187ee(0x13f)][_0x2187ee(0x147)](_0x21a04e,config_1['config'][_0x2187ee(0x13e)]['secret'],(_0x355d1a,_0x11a29c)=>{const _0x32190c=_0x2187ee;if(_0x355d1a)return _0xa060b5[_0x32190c(0x142)](0x193)['json']({'success':![],'message':_0x32190c(0x14b)});_0xba1524[_0x32190c(0x14e)]=_0x11a29c,_0xba1524[_0x32190c(0x143)]=_0x21a04e,_0x34afac();});};exports[a16_0x4b57b2(0x138)]=authenticateToken;const requireAdmin=(_0x316237,_0x1e0f26,_0x3fb65f)=>{const _0x2d7bcb=a16_0x4b57b2;if(!_0x316237[_0x2d7bcb(0x14e)]||_0x316237[_0x2d7bcb(0x14e)]['role']!==_0x2d7bcb(0x137))return _0x1e0f26['status'](0x193)['json']({'success':![],'message':'Admin\x20access\x20required'});_0x3fb65f();};function a16_0x56a6(_0x1c4620,_0x3f17cf){const _0x57d4eb=a16_0x57d4();return a16_0x56a6=function(_0x56a6cb,_0x4ad1f1){_0x56a6cb=_0x56a6cb-0x136;let _0x2d4e30=_0x57d4eb[_0x56a6cb];return _0x2d4e30;},a16_0x56a6(_0x1c4620,_0x3f17cf);}exports[a16_0x4b57b2(0x13a)]=requireAdmin;const requireShop=(_0x30df13,_0x36c5b2,_0x5eb030)=>{const _0x29da71=a16_0x4b57b2;if(!_0x30df13['user']||_0x30df13[_0x29da71(0x14e)]['role']!==_0x29da71(0x151))return _0x36c5b2[_0x29da71(0x142)](0x193)[_0x29da71(0x13c)]({'success':![],'message':'Shop\x20access\x20required'});_0x5eb030();};exports[a16_0x4b57b2(0x14c)]=requireShop;function a16_0x57d4(){const _0x44e180=['1219050fFyXDb','__importDefault','Invalid\x20or\x20expired\x20token','requireShop','180978ZQYSQc','user','Token\x20has\x20been\x20revoked','defineProperty','shop','5477ozrWYs','isTokenBlacklisted','1857060TIbHUl','admin','authenticateToken','tokenBlacklistService','requireAdmin','../config/config','json','__esModule','jwt','default','268AuhEGE','806589gpeAAr','status','token','1847902iehqmQ','4375104StLkOm','split','verify','Access\x20token\x20required'];a16_0x57d4=function(){return _0x44e180;};return a16_0x57d4();}