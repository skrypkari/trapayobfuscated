'use strict';const a15_0x1e6ab9=a15_0x4b45;(function(_0x586874,_0x4753a7){const _0x4a88e5=a15_0x4b45,_0x45b92d=_0x586874();while(!![]){try{const _0x49a145=parseInt(_0x4a88e5(0x1c0))/0x1+parseInt(_0x4a88e5(0x1ac))/0x2*(parseInt(_0x4a88e5(0x1b3))/0x3)+parseInt(_0x4a88e5(0x1a6))/0x4+-parseInt(_0x4a88e5(0x1a7))/0x5+-parseInt(_0x4a88e5(0x1b1))/0x6+parseInt(_0x4a88e5(0x1a5))/0x7*(parseInt(_0x4a88e5(0x1b4))/0x8)+parseInt(_0x4a88e5(0x1c5))/0x9;if(_0x49a145===_0x4753a7)break;else _0x45b92d['push'](_0x45b92d['shift']());}catch(_0x4c5f9a){_0x45b92d['push'](_0x45b92d['shift']());}}}(a15_0x27b0,0x47724));function a15_0x4b45(_0x155327,_0x41b440){const _0x27b029=a15_0x27b0();return a15_0x4b45=function(_0x4b4521,_0x1061b8){_0x4b4521=_0x4b4521-0x1a4;let _0x48f9e8=_0x27b029[_0x4b4521];return _0x48f9e8;},a15_0x4b45(_0x155327,_0x41b440);}var __importDefault=this&&this[a15_0x1e6ab9(0x1b0)]||function(_0x2ebb2d){const _0x220f0b=a15_0x1e6ab9;return _0x2ebb2d&&_0x2ebb2d[_0x220f0b(0x1b2)]?_0x2ebb2d:{'default':_0x2ebb2d};};Object[a15_0x1e6ab9(0x1ba)](exports,a15_0x1e6ab9(0x1b2),{'value':!![]}),exports['requireShop']=exports['requireAdmin']=exports['authenticateToken']=void 0x0;const jsonwebtoken_1=__importDefault(require(a15_0x1e6ab9(0x1be))),config_1=require('../config/config'),tokenBlacklistService_1=require(a15_0x1e6ab9(0x1bb)),authenticateToken=(_0x5d2752,_0x190b7d,_0x1326b8)=>{const _0x333245=a15_0x1e6ab9,_0x51e26a=_0x5d2752['headers'][_0x333245(0x1a4)],_0x157adb=_0x51e26a&&_0x51e26a['split']('\x20')[0x1];if(!_0x157adb)return _0x190b7d[_0x333245(0x1c3)](0x191)[_0x333245(0x1af)]({'success':![],'message':_0x333245(0x1b9)});if(tokenBlacklistService_1[_0x333245(0x1b5)]['isTokenBlacklisted'](_0x157adb))return _0x190b7d[_0x333245(0x1c3)](0x191)[_0x333245(0x1af)]({'success':![],'message':'Token\x20has\x20been\x20revoked'});jsonwebtoken_1[_0x333245(0x1c2)]['verify'](_0x157adb,config_1[_0x333245(0x1b6)][_0x333245(0x1aa)][_0x333245(0x1b8)],(_0x5ec366,_0x138f46)=>{const _0x239eb3=_0x333245;if(_0x5ec366)return _0x190b7d[_0x239eb3(0x1c3)](0x193)[_0x239eb3(0x1af)]({'success':![],'message':_0x239eb3(0x1a9)});_0x5d2752[_0x239eb3(0x1a8)]=_0x138f46,_0x5d2752[_0x239eb3(0x1c1)]=_0x157adb,_0x1326b8();});};exports[a15_0x1e6ab9(0x1c4)]=authenticateToken;function a15_0x27b0(){const _0x3b4943=['Shop\x20access\x20required','jsonwebtoken','Admin\x20access\x20required','254826uDfVQl','token','default','status','authenticateToken','748188fYIEon','authorization','35pKkbKf','466380Wejswe','1178630uHEsFG','user','Invalid\x20or\x20expired\x20token','jwt','requireShop','8PQdleM','requireAdmin','shop','json','__importDefault','949626SzYVhT','__esModule','169221Tzeygw','10336IWoOEE','tokenBlacklistService','config','admin','secret','Access\x20token\x20required','defineProperty','../services/tokenBlacklistService','role'];a15_0x27b0=function(){return _0x3b4943;};return a15_0x27b0();}const requireAdmin=(_0x47de57,_0x664e84,_0xc718e6)=>{const _0x583737=a15_0x1e6ab9;if(!_0x47de57['user']||_0x47de57[_0x583737(0x1a8)][_0x583737(0x1bc)]!==_0x583737(0x1b7))return _0x664e84[_0x583737(0x1c3)](0x193)[_0x583737(0x1af)]({'success':![],'message':_0x583737(0x1bf)});_0xc718e6();};exports[a15_0x1e6ab9(0x1ad)]=requireAdmin;const requireShop=(_0x2f3176,_0x4777de,_0x2297c0)=>{const _0x3b56ab=a15_0x1e6ab9;if(!_0x2f3176[_0x3b56ab(0x1a8)]||_0x2f3176[_0x3b56ab(0x1a8)][_0x3b56ab(0x1bc)]!==_0x3b56ab(0x1ae))return _0x4777de[_0x3b56ab(0x1c3)](0x193)[_0x3b56ab(0x1af)]({'success':![],'message':_0x3b56ab(0x1bd)});_0x2297c0();};exports[a15_0x1e6ab9(0x1ab)]=requireShop;