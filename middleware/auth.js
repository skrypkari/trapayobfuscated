'use strict';const a22_0x13bc47=a22_0x393c;(function(_0x15ef95,_0x564224){const _0x3d9170=a22_0x393c,_0x4c1f15=_0x15ef95();while(!![]){try{const _0x4daa52=parseInt(_0x3d9170(0x1ff))/0x1+parseInt(_0x3d9170(0x221))/0x2*(parseInt(_0x3d9170(0x21e))/0x3)+parseInt(_0x3d9170(0x220))/0x4*(-parseInt(_0x3d9170(0x204))/0x5)+parseInt(_0x3d9170(0x215))/0x6*(parseInt(_0x3d9170(0x1f6))/0x7)+parseInt(_0x3d9170(0x205))/0x8*(parseInt(_0x3d9170(0x1f4))/0x9)+-parseInt(_0x3d9170(0x213))/0xa*(-parseInt(_0x3d9170(0x1fc))/0xb)+parseInt(_0x3d9170(0x216))/0xc*(-parseInt(_0x3d9170(0x1f3))/0xd);if(_0x4daa52===_0x564224)break;else _0x4c1f15['push'](_0x4c1f15['shift']());}catch(_0x28c7cf){_0x4c1f15['push'](_0x4c1f15['shift']());}}}(a22_0x49f0,0x86c1c));var __importDefault=this&&this[a22_0x13bc47(0x1f7)]||function(_0x4dfe5f){const _0x2fb1fb=a22_0x13bc47;return _0x4dfe5f&&_0x4dfe5f[_0x2fb1fb(0x208)]?_0x4dfe5f:{'default':_0x4dfe5f};};Object[a22_0x13bc47(0x20d)](exports,a22_0x13bc47(0x208),{'value':!![]}),exports[a22_0x13bc47(0x21a)]=exports['requireShop']=exports[a22_0x13bc47(0x20c)]=exports[a22_0x13bc47(0x214)]=void 0x0;function a22_0x49f0(){const _0x3c1dc4=['user','398660YoMMmK','authenticateToken','1335882maDWqR','332772nXkLZr','../services/tokenBlacklistService','isTokenBlacklisted','ACTIVE','requireActiveShop','tokenBlacklistService','role','Access\x20token\x20required','2542509xJDYXy','Error\x20checking\x20account\x20status','4kehznc','2HxJAcj','shop','1157qqlmDh','9SBWyaq','../config/database','28PnURRD','__importDefault','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','Admin\x20access\x20required','requireShop','config','176UlNCSj','split','authorization','89298GSZFWh','status','admin','json','default','2483755pRqGwA','8412232XTuMZr','SUSPENDED','Shop\x20access\x20required','__esModule','../config/config','error','token','requireAdmin','defineProperty','verify','Error\x20checking\x20account\x20status:','jwt','Invalid\x20or\x20expired\x20token'];a22_0x49f0=function(){return _0x3c1dc4;};return a22_0x49f0();}const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a22_0x13bc47(0x209)),tokenBlacklistService_1=require(a22_0x13bc47(0x217)),authenticateToken=(_0x22d573,_0x20c606,_0x30ae0e)=>{const _0x3d9d06=a22_0x13bc47,_0x2b1139=_0x22d573['headers'][_0x3d9d06(0x1fe)],_0xfcc3b3=_0x2b1139&&_0x2b1139[_0x3d9d06(0x1fd)]('\x20')[0x1];if(!_0xfcc3b3)return _0x20c606['status'](0x191)['json']({'success':![],'message':_0x3d9d06(0x21d)});if(tokenBlacklistService_1[_0x3d9d06(0x21b)][_0x3d9d06(0x218)](_0xfcc3b3))return _0x20c606[_0x3d9d06(0x200)](0x191)['json']({'success':![],'message':'Token\x20has\x20been\x20revoked'});jsonwebtoken_1['default'][_0x3d9d06(0x20e)](_0xfcc3b3,config_1[_0x3d9d06(0x1fb)][_0x3d9d06(0x210)]['secret'],(_0x5617ff,_0x349474)=>{const _0x35e34b=_0x3d9d06;if(_0x5617ff)return _0x20c606[_0x35e34b(0x200)](0x193)[_0x35e34b(0x202)]({'success':![],'message':_0x35e34b(0x211)});_0x22d573[_0x35e34b(0x212)]=_0x349474,_0x22d573[_0x35e34b(0x20b)]=_0xfcc3b3,_0x30ae0e();});};exports[a22_0x13bc47(0x214)]=authenticateToken;const requireAdmin=(_0x23eb7a,_0x2bc99b,_0x297e35)=>{const _0x4f34c5=a22_0x13bc47;if(!_0x23eb7a[_0x4f34c5(0x212)]||_0x23eb7a[_0x4f34c5(0x212)][_0x4f34c5(0x21c)]!==_0x4f34c5(0x201))return _0x2bc99b[_0x4f34c5(0x200)](0x193)[_0x4f34c5(0x202)]({'success':![],'message':_0x4f34c5(0x1f9)});_0x297e35();};exports[a22_0x13bc47(0x20c)]=requireAdmin;function a22_0x393c(_0x4f1ed4,_0x105382){_0x4f1ed4=_0x4f1ed4-0x1f3;const _0x49f0bf=a22_0x49f0();let _0x393cb5=_0x49f0bf[_0x4f1ed4];return _0x393cb5;}const requireShop=(_0x29c495,_0x1e8810,_0x5e95fd)=>{const _0x5dd96a=a22_0x13bc47;if(!_0x29c495[_0x5dd96a(0x212)]||_0x29c495[_0x5dd96a(0x212)][_0x5dd96a(0x21c)]!==_0x5dd96a(0x222))return _0x1e8810[_0x5dd96a(0x200)](0x193)['json']({'success':![],'message':_0x5dd96a(0x207)});_0x5e95fd();};exports[a22_0x13bc47(0x1fa)]=requireShop;const requireActiveShop=async(_0x33b41f,_0x259ac6,_0x447970)=>{const _0x3736d9=a22_0x13bc47;if(!_0x33b41f[_0x3736d9(0x212)]||_0x33b41f[_0x3736d9(0x212)][_0x3736d9(0x21c)]!==_0x3736d9(0x222))return _0x259ac6[_0x3736d9(0x200)](0x193)[_0x3736d9(0x202)]({'success':![],'message':_0x3736d9(0x207)});try{const _0x1bc6a6=require(_0x3736d9(0x1f5))[_0x3736d9(0x203)],_0x463dba=await _0x1bc6a6[_0x3736d9(0x222)]['findUnique']({'where':{'id':_0x33b41f[_0x3736d9(0x212)]['id']},'select':{'status':!![]}});if(!_0x463dba||_0x463dba[_0x3736d9(0x200)]!==_0x3736d9(0x219))return _0x259ac6['status'](0x193)[_0x3736d9(0x202)]({'success':![],'message':_0x3736d9(0x1f8),'suspended':_0x463dba?.[_0x3736d9(0x200)]===_0x3736d9(0x206)});_0x447970();}catch(_0x44a3f8){return console[_0x3736d9(0x20a)](_0x3736d9(0x20f),_0x44a3f8),_0x259ac6[_0x3736d9(0x200)](0x1f4)[_0x3736d9(0x202)]({'success':![],'message':_0x3736d9(0x21f)});}};exports['requireActiveShop']=requireActiveShop;