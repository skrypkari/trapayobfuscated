'use strict';const a16_0x5231e9=a16_0x148d;(function(_0x326918,_0x3913e6){const _0x131f97=a16_0x148d,_0x82e1bc=_0x326918();while(!![]){try{const _0x36c5f4=parseInt(_0x131f97(0x17f))/0x1*(parseInt(_0x131f97(0x194))/0x2)+-parseInt(_0x131f97(0x171))/0x3*(-parseInt(_0x131f97(0x191))/0x4)+-parseInt(_0x131f97(0x175))/0x5*(-parseInt(_0x131f97(0x195))/0x6)+parseInt(_0x131f97(0x178))/0x7+parseInt(_0x131f97(0x176))/0x8*(parseInt(_0x131f97(0x17d))/0x9)+parseInt(_0x131f97(0x188))/0xa*(parseInt(_0x131f97(0x17c))/0xb)+-parseInt(_0x131f97(0x17e))/0xc;if(_0x36c5f4===_0x3913e6)break;else _0x82e1bc['push'](_0x82e1bc['shift']());}catch(_0x3bd6b5){_0x82e1bc['push'](_0x82e1bc['shift']());}}}(a16_0x2ac1,0xa9084));function a16_0x148d(_0x2c9001,_0xb66adf){const _0x2ac132=a16_0x2ac1();return a16_0x148d=function(_0x148ddf,_0xf68be7){_0x148ddf=_0x148ddf-0x16a;let _0x65c1e9=_0x2ac132[_0x148ddf];return _0x65c1e9;},a16_0x148d(_0x2c9001,_0xb66adf);}var __importDefault=this&&this['__importDefault']||function(_0x1736c1){return _0x1736c1&&_0x1736c1['__esModule']?_0x1736c1:{'default':_0x1736c1};};Object[a16_0x5231e9(0x189)](exports,a16_0x5231e9(0x18c),{'value':!![]}),exports[a16_0x5231e9(0x173)]=exports[a16_0x5231e9(0x187)]=exports['requireAdmin']=exports[a16_0x5231e9(0x170)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a16_0x5231e9(0x190)),tokenBlacklistService_1=require(a16_0x5231e9(0x177)),authenticateToken=(_0x2ce648,_0x4a02ab,_0x4c612a)=>{const _0x29c954=a16_0x5231e9,_0x2f8684=_0x2ce648[_0x29c954(0x16a)][_0x29c954(0x18d)],_0x3258ae=_0x2f8684&&_0x2f8684[_0x29c954(0x197)]('\x20')[0x1];if(!_0x3258ae)return _0x4a02ab[_0x29c954(0x196)](0x191)[_0x29c954(0x180)]({'success':![],'message':_0x29c954(0x17a)});if(tokenBlacklistService_1[_0x29c954(0x185)][_0x29c954(0x184)](_0x3258ae))return _0x4a02ab[_0x29c954(0x196)](0x191)[_0x29c954(0x180)]({'success':![],'message':_0x29c954(0x16c)});jsonwebtoken_1['default'][_0x29c954(0x16d)](_0x3258ae,config_1['config'][_0x29c954(0x18f)]['secret'],(_0x2f56c6,_0x4cbaf8)=>{const _0x5bd1c1=_0x29c954;if(_0x2f56c6)return _0x4a02ab[_0x5bd1c1(0x196)](0x193)[_0x5bd1c1(0x180)]({'success':![],'message':_0x5bd1c1(0x183)});_0x2ce648[_0x5bd1c1(0x18b)]=_0x4cbaf8,_0x2ce648[_0x5bd1c1(0x193)]=_0x3258ae,_0x4c612a();});};exports[a16_0x5231e9(0x170)]=authenticateToken;const requireAdmin=(_0x48ccba,_0x593d44,_0x1770a7)=>{const _0x328f70=a16_0x5231e9;if(!_0x48ccba[_0x328f70(0x18b)]||_0x48ccba[_0x328f70(0x18b)][_0x328f70(0x16f)]!==_0x328f70(0x181))return _0x593d44['status'](0x193)[_0x328f70(0x180)]({'success':![],'message':'Admin\x20access\x20required'});_0x1770a7();};exports[a16_0x5231e9(0x182)]=requireAdmin;const requireShop=(_0x49022d,_0x10d05e,_0x230852)=>{const _0x262bec=a16_0x5231e9;if(!_0x49022d[_0x262bec(0x18b)]||_0x49022d[_0x262bec(0x18b)][_0x262bec(0x16f)]!=='shop')return _0x10d05e['status'](0x193)[_0x262bec(0x180)]({'success':![],'message':'Shop\x20access\x20required'});_0x230852();};exports[a16_0x5231e9(0x187)]=requireShop;function a16_0x2ac1(){const _0x1040af=['status','split','headers','shop','Token\x20has\x20been\x20revoked','verify','findUnique','role','authenticateToken','3qUOyeP','SUSPENDED','requireActiveShop','Shop\x20access\x20required','5SAKyKT','945808HOxavK','../services/tokenBlacklistService','3861298icaJTo','Error\x20checking\x20account\x20status','Access\x20token\x20required','../config/database','11mWwHBG','27hVqzJC','33852876pNYvWl','9811AMZTmC','json','admin','requireAdmin','Invalid\x20or\x20expired\x20token','isTokenBlacklisted','tokenBlacklistService','default','requireShop','872660iccYdP','defineProperty','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','user','__esModule','authorization','error','jwt','../config/config','5356444hWOaZy','Error\x20checking\x20account\x20status:','token','206JiAkgd','1021362vtCChZ'];a16_0x2ac1=function(){return _0x1040af;};return a16_0x2ac1();}const requireActiveShop=async(_0x537b73,_0x176fb9,_0x569c40)=>{const _0x17b773=a16_0x5231e9;if(!_0x537b73[_0x17b773(0x18b)]||_0x537b73[_0x17b773(0x18b)][_0x17b773(0x16f)]!==_0x17b773(0x16b))return _0x176fb9['status'](0x193)[_0x17b773(0x180)]({'success':![],'message':_0x17b773(0x174)});try{const _0x4c693b=require(_0x17b773(0x17b))[_0x17b773(0x186)],_0x494ffa=await _0x4c693b[_0x17b773(0x16b)][_0x17b773(0x16e)]({'where':{'id':_0x537b73[_0x17b773(0x18b)]['id']},'select':{'status':!![]}});if(!_0x494ffa||_0x494ffa['status']!=='ACTIVE')return _0x176fb9[_0x17b773(0x196)](0x193)[_0x17b773(0x180)]({'success':![],'message':_0x17b773(0x18a),'suspended':_0x494ffa?.['status']===_0x17b773(0x172)});_0x569c40();}catch(_0x1b6d09){return console[_0x17b773(0x18e)](_0x17b773(0x192),_0x1b6d09),_0x176fb9[_0x17b773(0x196)](0x1f4)['json']({'success':![],'message':_0x17b773(0x179)});}};exports['requireActiveShop']=requireActiveShop;