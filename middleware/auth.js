'use strict';const a16_0x166199=a16_0x5c45;(function(_0x53f6cf,_0x135111){const _0x5c026e=a16_0x5c45,_0x3d8b47=_0x53f6cf();while(!![]){try{const _0x20b62b=-parseInt(_0x5c026e(0x8a))/0x1+-parseInt(_0x5c026e(0x80))/0x2+parseInt(_0x5c026e(0x89))/0x3+-parseInt(_0x5c026e(0x9a))/0x4*(parseInt(_0x5c026e(0x7d))/0x5)+parseInt(_0x5c026e(0x90))/0x6*(-parseInt(_0x5c026e(0x86))/0x7)+parseInt(_0x5c026e(0x7c))/0x8*(-parseInt(_0x5c026e(0x81))/0x9)+parseInt(_0x5c026e(0x83))/0xa;if(_0x20b62b===_0x135111)break;else _0x3d8b47['push'](_0x3d8b47['shift']());}catch(_0x473814){_0x3d8b47['push'](_0x3d8b47['shift']());}}}(a16_0x4d94,0xcbef8));var __importDefault=this&&this[a16_0x166199(0x99)]||function(_0x3177df){const _0x51ad93=a16_0x166199;return _0x3177df&&_0x3177df[_0x51ad93(0x8f)]?_0x3177df:{'default':_0x3177df};};Object['defineProperty'](exports,a16_0x166199(0x8f),{'value':!![]}),exports[a16_0x166199(0x94)]=exports['requireAdmin']=exports[a16_0x166199(0x91)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x166199(0x8c))),config_1=require(a16_0x166199(0x8b)),tokenBlacklistService_1=require(a16_0x166199(0x7f)),authenticateToken=(_0x30520a,_0x5d5be6,_0xe0579c)=>{const _0x1a2dcd=a16_0x166199,_0x571664=_0x30520a['headers'][_0x1a2dcd(0x8d)],_0x157786=_0x571664&&_0x571664[_0x1a2dcd(0x97)]('\x20')[0x1];if(!_0x157786)return _0x5d5be6[_0x1a2dcd(0x8e)](0x191)[_0x1a2dcd(0x96)]({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x1a2dcd(0x9b)][_0x1a2dcd(0x7b)](_0x157786))return _0x5d5be6[_0x1a2dcd(0x8e)](0x191)['json']({'success':![],'message':_0x1a2dcd(0x87)});jsonwebtoken_1[_0x1a2dcd(0x95)][_0x1a2dcd(0x7e)](_0x157786,config_1['config'][_0x1a2dcd(0x92)][_0x1a2dcd(0x93)],(_0x274367,_0x3e6731)=>{const _0x5d68e2=_0x1a2dcd;if(_0x274367)return _0x5d5be6[_0x5d68e2(0x8e)](0x193)['json']({'success':![],'message':_0x5d68e2(0x85)});_0x30520a[_0x5d68e2(0x98)]=_0x3e6731,_0x30520a['token']=_0x157786,_0xe0579c();});};exports[a16_0x166199(0x91)]=authenticateToken;const requireAdmin=(_0x1c74af,_0x2030eb,_0x2893bd)=>{const _0x36ebdd=a16_0x166199;if(!_0x1c74af[_0x36ebdd(0x98)]||_0x1c74af['user'][_0x36ebdd(0x82)]!=='admin')return _0x2030eb[_0x36ebdd(0x8e)](0x193)[_0x36ebdd(0x96)]({'success':![],'message':_0x36ebdd(0x88)});_0x2893bd();};function a16_0x5c45(_0x51b8fd,_0x24a701){const _0x4d94c6=a16_0x4d94();return a16_0x5c45=function(_0x5c453d,_0x76a607){_0x5c453d=_0x5c453d-0x7b;let _0x3f3bb7=_0x4d94c6[_0x5c453d];return _0x3f3bb7;},a16_0x5c45(_0x51b8fd,_0x24a701);}exports[a16_0x166199(0x84)]=requireAdmin;const requireShop=(_0x35bc8f,_0x1e588e,_0x1076aa)=>{const _0xa41010=a16_0x166199;if(!_0x35bc8f[_0xa41010(0x98)]||_0x35bc8f[_0xa41010(0x98)]['role']!=='shop')return _0x1e588e[_0xa41010(0x8e)](0x193)['json']({'success':![],'message':'Shop\x20access\x20required'});_0x1076aa();};function a16_0x4d94(){const _0x4fd6a1=['8byOgTU','tokenBlacklistService','isTokenBlacklisted','1350104syVYNu','573255LrohIn','verify','../services/tokenBlacklistService','2698406mUbLYM','27XNgnkH','role','39763650mbZsdk','requireAdmin','Invalid\x20or\x20expired\x20token','9532285bYIRgr','Token\x20has\x20been\x20revoked','Admin\x20access\x20required','4519713EjGawX','1201067IoUtFJ','../config/config','jsonwebtoken','authorization','status','__esModule','6rtCxXh','authenticateToken','jwt','secret','requireShop','default','json','split','user','__importDefault'];a16_0x4d94=function(){return _0x4fd6a1;};return a16_0x4d94();}exports[a16_0x166199(0x94)]=requireShop;