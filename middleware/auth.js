'use strict';const a16_0x2844ba=a16_0x4fa7;(function(_0x300841,_0x1637b2){const _0x1b3b65=a16_0x4fa7,_0x4adb4d=_0x300841();while(!![]){try{const _0x47172a=parseInt(_0x1b3b65(0xa9))/0x1*(-parseInt(_0x1b3b65(0x9c))/0x2)+parseInt(_0x1b3b65(0x9e))/0x3+-parseInt(_0x1b3b65(0x98))/0x4*(parseInt(_0x1b3b65(0x9a))/0x5)+-parseInt(_0x1b3b65(0xab))/0x6+-parseInt(_0x1b3b65(0x9d))/0x7+parseInt(_0x1b3b65(0xa0))/0x8*(parseInt(_0x1b3b65(0x99))/0x9)+-parseInt(_0x1b3b65(0x94))/0xa*(-parseInt(_0x1b3b65(0x8d))/0xb);if(_0x47172a===_0x1637b2)break;else _0x4adb4d['push'](_0x4adb4d['shift']());}catch(_0xe9cb5){_0x4adb4d['push'](_0x4adb4d['shift']());}}}(a16_0x50b7,0xe2a6f));var __importDefault=this&&this[a16_0x2844ba(0x97)]||function(_0x4eeb8b){const _0x39cdfc=a16_0x2844ba;return _0x4eeb8b&&_0x4eeb8b[_0x39cdfc(0x95)]?_0x4eeb8b:{'default':_0x4eeb8b};};Object['defineProperty'](exports,a16_0x2844ba(0x95),{'value':!![]}),exports[a16_0x2844ba(0x9f)]=exports[a16_0x2844ba(0x8c)]=exports['authenticateToken']=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x2844ba(0x90))),config_1=require('../config/config'),tokenBlacklistService_1=require(a16_0x2844ba(0x92)),authenticateToken=(_0x1faa81,_0x3cb061,_0x2e6acf)=>{const _0x29e9f5=a16_0x2844ba,_0x333ef1=_0x1faa81['headers'][_0x29e9f5(0xa6)],_0x24fb13=_0x333ef1&&_0x333ef1['split']('\x20')[0x1];if(!_0x24fb13)return _0x3cb061[_0x29e9f5(0x8f)](0x191)[_0x29e9f5(0xa2)]({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x29e9f5(0xa3)][_0x29e9f5(0x88)](_0x24fb13))return _0x3cb061[_0x29e9f5(0x8f)](0x191)['json']({'success':![],'message':_0x29e9f5(0xa7)});jsonwebtoken_1[_0x29e9f5(0x8b)][_0x29e9f5(0x89)](_0x24fb13,config_1[_0x29e9f5(0x9b)][_0x29e9f5(0xa4)][_0x29e9f5(0x8a)],(_0x4fcd3b,_0x122b09)=>{const _0x3fe464=_0x29e9f5;if(_0x4fcd3b)return _0x3cb061['status'](0x193)[_0x3fe464(0xa2)]({'success':![],'message':_0x3fe464(0xa1)});_0x1faa81[_0x3fe464(0xaa)]=_0x122b09,_0x1faa81[_0x3fe464(0xa5)]=_0x24fb13,_0x2e6acf();});};exports[a16_0x2844ba(0x96)]=authenticateToken;const requireAdmin=(_0x578a7c,_0x30607b,_0x3cce0e)=>{const _0x15ca15=a16_0x2844ba;if(!_0x578a7c[_0x15ca15(0xaa)]||_0x578a7c[_0x15ca15(0xaa)][_0x15ca15(0x91)]!==_0x15ca15(0xa8))return _0x30607b[_0x15ca15(0x8f)](0x193)[_0x15ca15(0xa2)]({'success':![],'message':_0x15ca15(0x93)});_0x3cce0e();};function a16_0x50b7(){const _0x419ed2=['784090vdJLSZ','__esModule','authenticateToken','__importDefault','756408psLwdI','2097ffzutl','25oyEwMa','config','2hegnLS','7734111kLbEKX','1567428xZPJlG','requireShop','32128hhCjGh','Invalid\x20or\x20expired\x20token','json','tokenBlacklistService','jwt','token','authorization','Token\x20has\x20been\x20revoked','admin','27627OtJQKb','user','1531404AZNfHO','isTokenBlacklisted','verify','secret','default','requireAdmin','253GPoamC','Shop\x20access\x20required','status','jsonwebtoken','role','../services/tokenBlacklistService','Admin\x20access\x20required'];a16_0x50b7=function(){return _0x419ed2;};return a16_0x50b7();}function a16_0x4fa7(_0x246665,_0x46ff04){const _0x50b73f=a16_0x50b7();return a16_0x4fa7=function(_0x4fa709,_0x53345b){_0x4fa709=_0x4fa709-0x88;let _0x200b07=_0x50b73f[_0x4fa709];return _0x200b07;},a16_0x4fa7(_0x246665,_0x46ff04);}exports[a16_0x2844ba(0x8c)]=requireAdmin;const requireShop=(_0x234aec,_0x152abd,_0x1c73a6)=>{const _0x8704a2=a16_0x2844ba;if(!_0x234aec['user']||_0x234aec['user'][_0x8704a2(0x91)]!=='shop')return _0x152abd[_0x8704a2(0x8f)](0x193)[_0x8704a2(0xa2)]({'success':![],'message':_0x8704a2(0x8e)});_0x1c73a6();};exports[a16_0x2844ba(0x9f)]=requireShop;