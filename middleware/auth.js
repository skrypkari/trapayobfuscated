'use strict';const a15_0x3c7eb0=a15_0xd682;(function(_0x4c3756,_0x5ed39c){const _0x4d84c2=a15_0xd682,_0x16b021=_0x4c3756();while(!![]){try{const _0x32e654=-parseInt(_0x4d84c2(0x97))/0x1+parseInt(_0x4d84c2(0x9c))/0x2+parseInt(_0x4d84c2(0x9f))/0x3*(-parseInt(_0x4d84c2(0xa2))/0x4)+-parseInt(_0x4d84c2(0xac))/0x5+-parseInt(_0x4d84c2(0xa5))/0x6*(parseInt(_0x4d84c2(0xa6))/0x7)+-parseInt(_0x4d84c2(0x99))/0x8*(parseInt(_0x4d84c2(0xa7))/0x9)+parseInt(_0x4d84c2(0xa1))/0xa;if(_0x32e654===_0x5ed39c)break;else _0x16b021['push'](_0x16b021['shift']());}catch(_0x280eb8){_0x16b021['push'](_0x16b021['shift']());}}}(a15_0x1a34,0x97392));var __importDefault=this&&this[a15_0x3c7eb0(0xa4)]||function(_0x1c2d29){const _0x2b9e45=a15_0x3c7eb0;return _0x1c2d29&&_0x1c2d29[_0x2b9e45(0xb5)]?_0x1c2d29:{'default':_0x1c2d29};};Object[a15_0x3c7eb0(0xaf)](exports,a15_0x3c7eb0(0xb5),{'value':!![]}),exports['requireShop']=exports[a15_0x3c7eb0(0x9d)]=exports[a15_0x3c7eb0(0xb4)]=void 0x0;function a15_0xd682(_0x5ec41a,_0x17e8b9){const _0x1a3475=a15_0x1a34();return a15_0xd682=function(_0xd68246,_0x1177b3){_0xd68246=_0xd68246-0x96;let _0x44fb9f=_0x1a3475[_0xd68246];return _0x44fb9f;},a15_0xd682(_0x5ec41a,_0x17e8b9);}function a15_0x1a34(){const _0x20821a=['707AiczDw','288243zcjBxo','Access\x20token\x20required','../services/tokenBlacklistService','jsonwebtoken','json','3306735PVkTaV','verify','authorization','defineProperty','secret','Token\x20has\x20been\x20revoked','user','Invalid\x20or\x20expired\x20token','authenticateToken','__esModule','Admin\x20access\x20required','role','split','tokenBlacklistService','1088347CfSzgi','status','168HUKhLu','../config/config','default','57638wppzjQ','requireAdmin','admin','212142ANqvjC','config','38213090QkIUBT','44buQVKp','Shop\x20access\x20required','__importDefault','1818BIDsqA'];a15_0x1a34=function(){return _0x20821a;};return a15_0x1a34();}const jsonwebtoken_1=__importDefault(require(a15_0x3c7eb0(0xaa))),config_1=require(a15_0x3c7eb0(0x9a)),tokenBlacklistService_1=require(a15_0x3c7eb0(0xa9)),authenticateToken=(_0xc94e97,_0x16dfa5,_0xffd45a)=>{const _0xb6f0e6=a15_0x3c7eb0,_0x442804=_0xc94e97['headers'][_0xb6f0e6(0xae)],_0x4b3bbd=_0x442804&&_0x442804[_0xb6f0e6(0xb8)]('\x20')[0x1];if(!_0x4b3bbd)return _0x16dfa5[_0xb6f0e6(0x98)](0x191)[_0xb6f0e6(0xab)]({'success':![],'message':_0xb6f0e6(0xa8)});if(tokenBlacklistService_1[_0xb6f0e6(0x96)]['isTokenBlacklisted'](_0x4b3bbd))return _0x16dfa5[_0xb6f0e6(0x98)](0x191)[_0xb6f0e6(0xab)]({'success':![],'message':_0xb6f0e6(0xb1)});jsonwebtoken_1[_0xb6f0e6(0x9b)][_0xb6f0e6(0xad)](_0x4b3bbd,config_1[_0xb6f0e6(0xa0)]['jwt'][_0xb6f0e6(0xb0)],(_0x589c26,_0x3ee812)=>{const _0x40fb01=_0xb6f0e6;if(_0x589c26)return _0x16dfa5[_0x40fb01(0x98)](0x193)[_0x40fb01(0xab)]({'success':![],'message':_0x40fb01(0xb3)});_0xc94e97[_0x40fb01(0xb2)]=_0x3ee812,_0xc94e97['token']=_0x4b3bbd,_0xffd45a();});};exports[a15_0x3c7eb0(0xb4)]=authenticateToken;const requireAdmin=(_0x206c73,_0x2b63b8,_0x2edec1)=>{const _0x40aeae=a15_0x3c7eb0;if(!_0x206c73['user']||_0x206c73['user'][_0x40aeae(0xb7)]!==_0x40aeae(0x9e))return _0x2b63b8[_0x40aeae(0x98)](0x193)[_0x40aeae(0xab)]({'success':![],'message':_0x40aeae(0xb6)});_0x2edec1();};exports[a15_0x3c7eb0(0x9d)]=requireAdmin;const requireShop=(_0x7479d6,_0x9be6c8,_0x35e4f1)=>{const _0x3db2e5=a15_0x3c7eb0;if(!_0x7479d6['user']||_0x7479d6[_0x3db2e5(0xb2)][_0x3db2e5(0xb7)]!=='shop')return _0x9be6c8[_0x3db2e5(0x98)](0x193)['json']({'success':![],'message':_0x3db2e5(0xa3)});_0x35e4f1();};exports['requireShop']=requireShop;