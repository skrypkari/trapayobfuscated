'use strict';const a15_0x10fc4f=a15_0xbf58;(function(_0xec23f9,_0x29664c){const _0x2d32e1=a15_0xbf58,_0x420690=_0xec23f9();while(!![]){try{const _0x43e028=-parseInt(_0x2d32e1(0x16a))/0x1*(-parseInt(_0x2d32e1(0x183))/0x2)+-parseInt(_0x2d32e1(0x167))/0x3+parseInt(_0x2d32e1(0x164))/0x4*(-parseInt(_0x2d32e1(0x168))/0x5)+parseInt(_0x2d32e1(0x184))/0x6+parseInt(_0x2d32e1(0x174))/0x7*(-parseInt(_0x2d32e1(0x16f))/0x8)+parseInt(_0x2d32e1(0x171))/0x9*(parseInt(_0x2d32e1(0x17f))/0xa)+parseInt(_0x2d32e1(0x172))/0xb*(parseInt(_0x2d32e1(0x166))/0xc);if(_0x43e028===_0x29664c)break;else _0x420690['push'](_0x420690['shift']());}catch(_0x4e1e66){_0x420690['push'](_0x420690['shift']());}}}(a15_0x16e7,0x47443));function a15_0xbf58(_0x1744e7,_0x14664d){const _0x16e701=a15_0x16e7();return a15_0xbf58=function(_0xbf58e3,_0x3941d3){_0xbf58e3=_0xbf58e3-0x163;let _0x9139b2=_0x16e701[_0xbf58e3];return _0x9139b2;},a15_0xbf58(_0x1744e7,_0x14664d);}var __importDefault=this&&this[a15_0x10fc4f(0x16b)]||function(_0x44e817){const _0x2f351c=a15_0x10fc4f;return _0x44e817&&_0x44e817[_0x2f351c(0x165)]?_0x44e817:{'default':_0x44e817};};Object[a15_0x10fc4f(0x17b)](exports,'__esModule',{'value':!![]}),exports[a15_0x10fc4f(0x17d)]=exports[a15_0x10fc4f(0x178)]=exports[a15_0x10fc4f(0x185)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a15_0x10fc4f(0x186)),tokenBlacklistService_1=require(a15_0x10fc4f(0x16e)),authenticateToken=(_0x310946,_0x4b30a3,_0x4f6d24)=>{const _0x433852=a15_0x10fc4f,_0xb50343=_0x310946['headers'][_0x433852(0x175)],_0x5757c9=_0xb50343&&_0xb50343[_0x433852(0x17c)]('\x20')[0x1];if(!_0x5757c9)return _0x4b30a3[_0x433852(0x16c)](0x191)[_0x433852(0x181)]({'success':![],'message':_0x433852(0x17a)});if(tokenBlacklistService_1[_0x433852(0x177)]['isTokenBlacklisted'](_0x5757c9))return _0x4b30a3[_0x433852(0x16c)](0x191)[_0x433852(0x181)]({'success':![],'message':_0x433852(0x163)});jsonwebtoken_1[_0x433852(0x180)][_0x433852(0x169)](_0x5757c9,config_1[_0x433852(0x182)]['jwt'][_0x433852(0x170)],(_0x1bab4e,_0x39b62c)=>{const _0x26e65c=_0x433852;if(_0x1bab4e)return _0x4b30a3['status'](0x193)[_0x26e65c(0x181)]({'success':![],'message':_0x26e65c(0x179)});_0x310946[_0x26e65c(0x176)]=_0x39b62c,_0x310946[_0x26e65c(0x17e)]=_0x5757c9,_0x4f6d24();});};exports[a15_0x10fc4f(0x185)]=authenticateToken;const requireAdmin=(_0x1fc170,_0x4140bd,_0xbbcf40)=>{const _0x26778b=a15_0x10fc4f;if(!_0x1fc170[_0x26778b(0x176)]||_0x1fc170[_0x26778b(0x176)][_0x26778b(0x16d)]!=='admin')return _0x4140bd[_0x26778b(0x16c)](0x193)['json']({'success':![],'message':'Admin\x20access\x20required'});_0xbbcf40();};function a15_0x16e7(){const _0x2913eb=['../services/tokenBlacklistService','3648104UzVWgM','secret','36fhRwCb','1860221HVUhPm','shop','7jIQtfb','authorization','user','tokenBlacklistService','requireAdmin','Invalid\x20or\x20expired\x20token','Access\x20token\x20required','defineProperty','split','requireShop','token','1151230oKTLiy','default','json','config','18fmYsOq','2739528Wywviw','authenticateToken','../config/config','Token\x20has\x20been\x20revoked','4aShjCo','__esModule','24FsWbMx','975582doVZhv','2053175EivJVw','verify','25383CAObnI','__importDefault','status','role'];a15_0x16e7=function(){return _0x2913eb;};return a15_0x16e7();}exports['requireAdmin']=requireAdmin;const requireShop=(_0xb6984,_0x157019,_0x2e340b)=>{const _0x526a8f=a15_0x10fc4f;if(!_0xb6984[_0x526a8f(0x176)]||_0xb6984[_0x526a8f(0x176)][_0x526a8f(0x16d)]!==_0x526a8f(0x173))return _0x157019[_0x526a8f(0x16c)](0x193)['json']({'success':![],'message':'Shop\x20access\x20required'});_0x2e340b();};exports['requireShop']=requireShop;