'use strict';const a16_0x386e49=a16_0x2f42;(function(_0x3fdb72,_0x928788){const _0xdb4c12=a16_0x2f42,_0x4a4ec4=_0x3fdb72();while(!![]){try{const _0x8dd567=parseInt(_0xdb4c12(0x85))/0x1*(-parseInt(_0xdb4c12(0x81))/0x2)+parseInt(_0xdb4c12(0x83))/0x3*(parseInt(_0xdb4c12(0x8c))/0x4)+-parseInt(_0xdb4c12(0x89))/0x5*(parseInt(_0xdb4c12(0x9b))/0x6)+parseInt(_0xdb4c12(0x82))/0x7+parseInt(_0xdb4c12(0x7c))/0x8+parseInt(_0xdb4c12(0x7e))/0x9+parseInt(_0xdb4c12(0x8b))/0xa*(parseInt(_0xdb4c12(0x98))/0xb);if(_0x8dd567===_0x928788)break;else _0x4a4ec4['push'](_0x4a4ec4['shift']());}catch(_0x3042f7){_0x4a4ec4['push'](_0x4a4ec4['shift']());}}}(a16_0x4ffd,0x82911));function a16_0x4ffd(){const _0x2ac996=['authorization','headers','Access\x20token\x20required','defineProperty','token','Shop\x20access\x20required','Invalid\x20or\x20expired\x20token','ACTIVE','requireShop','authenticateToken','../config/config','__importDefault','1433304IOEsIw','Token\x20has\x20been\x20revoked','7248897pTgKjQ','user','config','2uMFwkx','2006151ikeKZE','9rwSfEC','tokenBlacklistService','325067qMFKdy','verify','admin','../services/tokenBlacklistService','5diizyM','isTokenBlacklisted','10wNXukt','241948JDHZyC','__esModule','json','Error\x20checking\x20account\x20status:','role','Admin\x20access\x20required','default','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','SUSPENDED','jwt','../config/database','status','4963651hyabtS','error','shop','6264138KPqccI','requireActiveShop','secret','Error\x20checking\x20account\x20status','jsonwebtoken','requireAdmin'];a16_0x4ffd=function(){return _0x2ac996;};return a16_0x4ffd();}var __importDefault=this&&this[a16_0x386e49(0x7b)]||function(_0x5de894){const _0x1b6d81=a16_0x386e49;return _0x5de894&&_0x5de894[_0x1b6d81(0x8d)]?_0x5de894:{'default':_0x5de894};};Object[a16_0x386e49(0xa4)](exports,'__esModule',{'value':!![]}),exports[a16_0x386e49(0x9c)]=exports[a16_0x386e49(0xa9)]=exports[a16_0x386e49(0xa0)]=exports[a16_0x386e49(0xaa)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x386e49(0x9f))),config_1=require(a16_0x386e49(0xab)),tokenBlacklistService_1=require(a16_0x386e49(0x88)),authenticateToken=(_0x520adb,_0x2250b3,_0x21e0fc)=>{const _0x1ff91e=a16_0x386e49,_0x542b6a=_0x520adb[_0x1ff91e(0xa2)][_0x1ff91e(0xa1)],_0x5b2183=_0x542b6a&&_0x542b6a['split']('\x20')[0x1];if(!_0x5b2183)return _0x2250b3[_0x1ff91e(0x97)](0x191)[_0x1ff91e(0x8e)]({'success':![],'message':_0x1ff91e(0xa3)});if(tokenBlacklistService_1[_0x1ff91e(0x84)][_0x1ff91e(0x8a)](_0x5b2183))return _0x2250b3[_0x1ff91e(0x97)](0x191)['json']({'success':![],'message':_0x1ff91e(0x7d)});jsonwebtoken_1[_0x1ff91e(0x92)][_0x1ff91e(0x86)](_0x5b2183,config_1[_0x1ff91e(0x80)][_0x1ff91e(0x95)][_0x1ff91e(0x9d)],(_0x45f8f4,_0x7c1aa7)=>{const _0x3558ac=_0x1ff91e;if(_0x45f8f4)return _0x2250b3['status'](0x193)[_0x3558ac(0x8e)]({'success':![],'message':_0x3558ac(0xa7)});_0x520adb[_0x3558ac(0x7f)]=_0x7c1aa7,_0x520adb[_0x3558ac(0xa5)]=_0x5b2183,_0x21e0fc();});};exports[a16_0x386e49(0xaa)]=authenticateToken;const requireAdmin=(_0x2baafd,_0x3fab1f,_0x5750d7)=>{const _0x4fa303=a16_0x386e49;if(!_0x2baafd['user']||_0x2baafd[_0x4fa303(0x7f)][_0x4fa303(0x90)]!==_0x4fa303(0x87))return _0x3fab1f[_0x4fa303(0x97)](0x193)[_0x4fa303(0x8e)]({'success':![],'message':_0x4fa303(0x91)});_0x5750d7();};function a16_0x2f42(_0x5b54a4,_0x1a0c1f){const _0x4ffd75=a16_0x4ffd();return a16_0x2f42=function(_0x2f4232,_0x199ba1){_0x2f4232=_0x2f4232-0x7b;let _0x4e872f=_0x4ffd75[_0x2f4232];return _0x4e872f;},a16_0x2f42(_0x5b54a4,_0x1a0c1f);}exports[a16_0x386e49(0xa0)]=requireAdmin;const requireShop=(_0x5c7286,_0x2694e7,_0x4bd49d)=>{const _0x26c594=a16_0x386e49;if(!_0x5c7286[_0x26c594(0x7f)]||_0x5c7286['user'][_0x26c594(0x90)]!==_0x26c594(0x9a))return _0x2694e7['status'](0x193)['json']({'success':![],'message':_0x26c594(0xa6)});_0x4bd49d();};exports[a16_0x386e49(0xa9)]=requireShop;const requireActiveShop=async(_0x32cf93,_0xd6f80e,_0x27ebb2)=>{const _0x5e90fe=a16_0x386e49;if(!_0x32cf93[_0x5e90fe(0x7f)]||_0x32cf93['user']['role']!==_0x5e90fe(0x9a))return _0xd6f80e['status'](0x193)[_0x5e90fe(0x8e)]({'success':![],'message':_0x5e90fe(0xa6)});try{const _0x157f2b=require(_0x5e90fe(0x96))[_0x5e90fe(0x92)],_0x4bef82=await _0x157f2b[_0x5e90fe(0x9a)]['findUnique']({'where':{'id':_0x32cf93[_0x5e90fe(0x7f)]['id']},'select':{'status':!![]}});if(!_0x4bef82||_0x4bef82[_0x5e90fe(0x97)]!==_0x5e90fe(0xa8))return _0xd6f80e[_0x5e90fe(0x97)](0x193)[_0x5e90fe(0x8e)]({'success':![],'message':_0x5e90fe(0x93),'suspended':_0x4bef82?.[_0x5e90fe(0x97)]===_0x5e90fe(0x94)});_0x27ebb2();}catch(_0x206fe2){return console[_0x5e90fe(0x99)](_0x5e90fe(0x8f),_0x206fe2),_0xd6f80e[_0x5e90fe(0x97)](0x1f4)[_0x5e90fe(0x8e)]({'success':![],'message':_0x5e90fe(0x9e)});}};exports[a16_0x386e49(0x9c)]=requireActiveShop;