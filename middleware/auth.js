'use strict';const a16_0x1ab446=a16_0x21f2;(function(_0x15d34d,_0x39bc17){const _0x317a51=a16_0x21f2,_0xfd5672=_0x15d34d();while(!![]){try{const _0x355a63=-parseInt(_0x317a51(0xc8))/0x1*(-parseInt(_0x317a51(0xe0))/0x2)+parseInt(_0x317a51(0xcf))/0x3+-parseInt(_0x317a51(0xd1))/0x4+parseInt(_0x317a51(0xd4))/0x5+-parseInt(_0x317a51(0xe3))/0x6*(parseInt(_0x317a51(0xe5))/0x7)+parseInt(_0x317a51(0xc9))/0x8*(parseInt(_0x317a51(0xd0))/0x9)+-parseInt(_0x317a51(0xe6))/0xa;if(_0x355a63===_0x39bc17)break;else _0xfd5672['push'](_0xfd5672['shift']());}catch(_0x2a9a9a){_0xfd5672['push'](_0xfd5672['shift']());}}}(a16_0x136b,0x99429));var __importDefault=this&&this[a16_0x1ab446(0xce)]||function(_0x315dd0){return _0x315dd0&&_0x315dd0['__esModule']?_0x315dd0:{'default':_0x315dd0};};function a16_0x136b(){const _0x50e07a=['role','jwt','config','__importDefault','1344186flRpKw','9ZnilWc','205412kCwXhW','default','user','5709900drFOnO','status','Invalid\x20or\x20expired\x20token','authorization','jsonwebtoken','Token\x20has\x20been\x20revoked','verify','tokenBlacklistService','Access\x20token\x20required','../config/config','defineProperty','requireAdmin','2HIfcLy','__esModule','../services/tokenBlacklistService','30CCDSkj','shop','11207aGUdRL','18758580BRYhhu','token','isTokenBlacklisted','json','authenticateToken','requireShop','Shop\x20access\x20required','374989qKelji','4783504ESkGxA','split'];a16_0x136b=function(){return _0x50e07a;};return a16_0x136b();}Object[a16_0x1ab446(0xde)](exports,a16_0x1ab446(0xe1),{'value':!![]}),exports[a16_0x1ab446(0xc6)]=exports[a16_0x1ab446(0xdf)]=exports[a16_0x1ab446(0xc5)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x1ab446(0xd8))),config_1=require(a16_0x1ab446(0xdd)),tokenBlacklistService_1=require(a16_0x1ab446(0xe2)),authenticateToken=(_0x37927d,_0x142372,_0x508ade)=>{const _0x392fd9=a16_0x1ab446,_0x15c9de=_0x37927d['headers'][_0x392fd9(0xd7)],_0x558130=_0x15c9de&&_0x15c9de[_0x392fd9(0xca)]('\x20')[0x1];if(!_0x558130)return _0x142372['status'](0x191)['json']({'success':![],'message':_0x392fd9(0xdc)});if(tokenBlacklistService_1[_0x392fd9(0xdb)][_0x392fd9(0xc3)](_0x558130))return _0x142372[_0x392fd9(0xd5)](0x191)[_0x392fd9(0xc4)]({'success':![],'message':_0x392fd9(0xd9)});jsonwebtoken_1[_0x392fd9(0xd2)][_0x392fd9(0xda)](_0x558130,config_1[_0x392fd9(0xcd)][_0x392fd9(0xcc)]['secret'],(_0x4d65d6,_0x43ea14)=>{const _0x47b58c=_0x392fd9;if(_0x4d65d6)return _0x142372[_0x47b58c(0xd5)](0x193)['json']({'success':![],'message':_0x47b58c(0xd6)});_0x37927d['user']=_0x43ea14,_0x37927d[_0x47b58c(0xc2)]=_0x558130,_0x508ade();});};exports[a16_0x1ab446(0xc5)]=authenticateToken;const requireAdmin=(_0x14027f,_0x2d7f50,_0x5b35a5)=>{const _0x1cb5fe=a16_0x1ab446;if(!_0x14027f[_0x1cb5fe(0xd3)]||_0x14027f[_0x1cb5fe(0xd3)]['role']!=='admin')return _0x2d7f50[_0x1cb5fe(0xd5)](0x193)[_0x1cb5fe(0xc4)]({'success':![],'message':'Admin\x20access\x20required'});_0x5b35a5();};exports[a16_0x1ab446(0xdf)]=requireAdmin;const requireShop=(_0x28ee1b,_0x5bf980,_0x5f02a2)=>{const _0x2e1c4e=a16_0x1ab446;if(!_0x28ee1b[_0x2e1c4e(0xd3)]||_0x28ee1b['user'][_0x2e1c4e(0xcb)]!==_0x2e1c4e(0xe4))return _0x5bf980[_0x2e1c4e(0xd5)](0x193)[_0x2e1c4e(0xc4)]({'success':![],'message':_0x2e1c4e(0xc7)});_0x5f02a2();};function a16_0x21f2(_0x3f7afe,_0x4675de){const _0x136b74=a16_0x136b();return a16_0x21f2=function(_0x21f2db,_0x490ddb){_0x21f2db=_0x21f2db-0xc2;let _0x2d9500=_0x136b74[_0x21f2db];return _0x2d9500;},a16_0x21f2(_0x3f7afe,_0x4675de);}exports['requireShop']=requireShop;