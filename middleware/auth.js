'use strict';const a16_0x22e0bf=a16_0x3b7e;(function(_0x167394,_0x182378){const _0x519741=a16_0x3b7e,_0x3e39e0=_0x167394();while(!![]){try{const _0xfbd5ca=parseInt(_0x519741(0x100))/0x1*(parseInt(_0x519741(0xf7))/0x2)+parseInt(_0x519741(0xf1))/0x3*(-parseInt(_0x519741(0xff))/0x4)+-parseInt(_0x519741(0xe3))/0x5*(parseInt(_0x519741(0xd4))/0x6)+-parseInt(_0x519741(0xee))/0x7*(-parseInt(_0x519741(0xe2))/0x8)+parseInt(_0x519741(0xfb))/0x9*(-parseInt(_0x519741(0xe8))/0xa)+parseInt(_0x519741(0xf8))/0xb+parseInt(_0x519741(0xfe))/0xc*(-parseInt(_0x519741(0xdd))/0xd);if(_0xfbd5ca===_0x182378)break;else _0x3e39e0['push'](_0x3e39e0['shift']());}catch(_0xe15447){_0x3e39e0['push'](_0x3e39e0['shift']());}}}(a16_0x144d,0x7b68f));var __importDefault=this&&this['__importDefault']||function(_0x3d3813){const _0x172e14=a16_0x3b7e;return _0x3d3813&&_0x3d3813[_0x172e14(0xda)]?_0x3d3813:{'default':_0x3d3813};};Object[a16_0x22e0bf(0xde)](exports,a16_0x22e0bf(0xda),{'value':!![]}),exports['requireActiveShop']=exports[a16_0x22e0bf(0xdc)]=exports[a16_0x22e0bf(0xd9)]=exports[a16_0x22e0bf(0xfa)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a16_0x22e0bf(0xd7)),tokenBlacklistService_1=require(a16_0x22e0bf(0xe7)),authenticateToken=(_0x54e274,_0x5efc3c,_0x51e1c1)=>{const _0x54c2da=a16_0x22e0bf,_0x479c89=_0x54e274[_0x54c2da(0xdf)]['authorization'],_0x293653=_0x479c89&&_0x479c89['split']('\x20')[0x1];if(!_0x293653)return _0x5efc3c[_0x54c2da(0xd6)](0x191)[_0x54c2da(0xfc)]({'success':![],'message':_0x54c2da(0xf5)});if(tokenBlacklistService_1[_0x54c2da(0xdb)][_0x54c2da(0xe5)](_0x293653))return _0x5efc3c[_0x54c2da(0xd6)](0x191)[_0x54c2da(0xfc)]({'success':![],'message':_0x54c2da(0xfd)});jsonwebtoken_1[_0x54c2da(0xec)][_0x54c2da(0xea)](_0x293653,config_1['config'][_0x54c2da(0xf6)][_0x54c2da(0xed)],(_0x445b45,_0x21edb4)=>{const _0xb32590=_0x54c2da;if(_0x445b45)return _0x5efc3c[_0xb32590(0xd6)](0x193)[_0xb32590(0xfc)]({'success':![],'message':_0xb32590(0xe1)});_0x54e274[_0xb32590(0xf3)]=_0x21edb4,_0x54e274[_0xb32590(0xe0)]=_0x293653,_0x51e1c1();});};exports[a16_0x22e0bf(0xfa)]=authenticateToken;const requireAdmin=(_0x329b9e,_0x42810e,_0x3a7705)=>{const _0x30e970=a16_0x22e0bf;if(!_0x329b9e['user']||_0x329b9e[_0x30e970(0xf3)][_0x30e970(0xd8)]!=='admin')return _0x42810e[_0x30e970(0xd6)](0x193)[_0x30e970(0xfc)]({'success':![],'message':_0x30e970(0xe4)});_0x3a7705();};exports[a16_0x22e0bf(0xd9)]=requireAdmin;const requireShop=(_0x3a0e2c,_0x480326,_0xdc6ae3)=>{const _0x10d5d4=a16_0x22e0bf;if(!_0x3a0e2c[_0x10d5d4(0xf3)]||_0x3a0e2c[_0x10d5d4(0xf3)][_0x10d5d4(0xd8)]!=='shop')return _0x480326[_0x10d5d4(0xd6)](0x193)[_0x10d5d4(0xfc)]({'success':![],'message':_0x10d5d4(0xe9)});_0xdc6ae3();};exports[a16_0x22e0bf(0xdc)]=requireShop;function a16_0x3b7e(_0x2d90bc,_0xeef316){const _0x144d2c=a16_0x144d();return a16_0x3b7e=function(_0x3b7e22,_0x3a06c8){_0x3b7e22=_0x3b7e22-0xd4;let _0x2cc017=_0x144d2c[_0x3b7e22];return _0x2cc017;},a16_0x3b7e(_0x2d90bc,_0xeef316);}const requireActiveShop=async(_0x3e2ac1,_0x19ac2f,_0x40dd4b)=>{const _0x2ea567=a16_0x22e0bf;if(!_0x3e2ac1['user']||_0x3e2ac1[_0x2ea567(0xf3)][_0x2ea567(0xd8)]!==_0x2ea567(0xf0))return _0x19ac2f[_0x2ea567(0xd6)](0x193)[_0x2ea567(0xfc)]({'success':![],'message':_0x2ea567(0xe9)});try{const _0x5dbb61=require(_0x2ea567(0xf9))['default'],_0x4b8862=await _0x5dbb61['shop'][_0x2ea567(0xf4)]({'where':{'id':_0x3e2ac1['user']['id']},'select':{'status':!![]}});if(!_0x4b8862||_0x4b8862[_0x2ea567(0xd6)]!=='ACTIVE')return _0x19ac2f[_0x2ea567(0xd6)](0x193)[_0x2ea567(0xfc)]({'success':![],'message':_0x2ea567(0xf2),'suspended':_0x4b8862?.[_0x2ea567(0xd6)]===_0x2ea567(0xe6)});_0x40dd4b();}catch(_0xbd3ec4){return console['error'](_0x2ea567(0xeb),_0xbd3ec4),_0x19ac2f[_0x2ea567(0xd6)](0x1f4)[_0x2ea567(0xfc)]({'success':![],'message':_0x2ea567(0xd5)});}};exports[a16_0x22e0bf(0xef)]=requireActiveShop;function a16_0x144d(){const _0x52bc8f=['Token\x20has\x20been\x20revoked','6036EqDamn','620GXINOJ','59237IzDtoK','2712ctAlBa','Error\x20checking\x20account\x20status','status','../config/config','role','requireAdmin','__esModule','tokenBlacklistService','requireShop','9347sOrTHQ','defineProperty','headers','token','Invalid\x20or\x20expired\x20token','8WrBHso','5770oUkaHx','Admin\x20access\x20required','isTokenBlacklisted','SUSPENDED','../services/tokenBlacklistService','88610QkdrKK','Shop\x20access\x20required','verify','Error\x20checking\x20account\x20status:','default','secret','6532169kEvTXv','requireActiveShop','shop','1749SSaEkM','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','user','findUnique','Access\x20token\x20required','jwt','10FDrgNp','4794306CgLmKM','../config/database','authenticateToken','189LXuINO','json'];a16_0x144d=function(){return _0x52bc8f;};return a16_0x144d();}