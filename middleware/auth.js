'use strict';const a16_0x2a3ebf=a16_0x49f2;(function(_0x1b8091,_0x337f48){const _0x493c2e=a16_0x49f2,_0x1a8bea=_0x1b8091();while(!![]){try{const _0x17691d=parseInt(_0x493c2e(0x13a))/0x1+-parseInt(_0x493c2e(0x14c))/0x2*(-parseInt(_0x493c2e(0x133))/0x3)+-parseInt(_0x493c2e(0x13e))/0x4+-parseInt(_0x493c2e(0x154))/0x5+parseInt(_0x493c2e(0x140))/0x6+-parseInt(_0x493c2e(0x13f))/0x7*(parseInt(_0x493c2e(0x14b))/0x8)+-parseInt(_0x493c2e(0x12d))/0x9;if(_0x17691d===_0x337f48)break;else _0x1a8bea['push'](_0x1a8bea['shift']());}catch(_0x522db4){_0x1a8bea['push'](_0x1a8bea['shift']());}}}(a16_0x4e8a,0x18fd6));var __importDefault=this&&this[a16_0x2a3ebf(0x150)]||function(_0x1a49ac){return _0x1a49ac&&_0x1a49ac['__esModule']?_0x1a49ac:{'default':_0x1a49ac};};Object[a16_0x2a3ebf(0x135)](exports,'__esModule',{'value':!![]}),exports[a16_0x2a3ebf(0x138)]=exports[a16_0x2a3ebf(0x13b)]=exports[a16_0x2a3ebf(0x143)]=exports[a16_0x2a3ebf(0x146)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x2a3ebf(0x155))),config_1=require(a16_0x2a3ebf(0x12f)),tokenBlacklistService_1=require(a16_0x2a3ebf(0x145)),authenticateToken=(_0xd1f6a,_0x36c584,_0x4dbafa)=>{const _0x243026=a16_0x2a3ebf,_0x5e5268=_0xd1f6a[_0x243026(0x137)][_0x243026(0x157)],_0x740bcc=_0x5e5268&&_0x5e5268[_0x243026(0x152)]('\x20')[0x1];if(!_0x740bcc)return _0x36c584['status'](0x191)[_0x243026(0x156)]({'success':![],'message':_0x243026(0x13c)});if(tokenBlacklistService_1[_0x243026(0x134)][_0x243026(0x14d)](_0x740bcc))return _0x36c584['status'](0x191)[_0x243026(0x156)]({'success':![],'message':'Token\x20has\x20been\x20revoked'});jsonwebtoken_1['default'][_0x243026(0x149)](_0x740bcc,config_1['config'][_0x243026(0x13d)][_0x243026(0x130)],(_0x3a0d8a,_0x1224f1)=>{const _0x320114=_0x243026;if(_0x3a0d8a)return _0x36c584[_0x320114(0x132)](0x193)[_0x320114(0x156)]({'success':![],'message':_0x320114(0x153)});_0xd1f6a[_0x320114(0x14e)]=_0x1224f1,_0xd1f6a['token']=_0x740bcc,_0x4dbafa();});};exports[a16_0x2a3ebf(0x146)]=authenticateToken;const requireAdmin=(_0x12a285,_0x2ee86b,_0x262ee3)=>{const _0x260b81=a16_0x2a3ebf;if(!_0x12a285[_0x260b81(0x14e)]||_0x12a285[_0x260b81(0x14e)]['role']!==_0x260b81(0x136))return _0x2ee86b[_0x260b81(0x132)](0x193)[_0x260b81(0x156)]({'success':![],'message':'Admin\x20access\x20required'});_0x262ee3();};exports[a16_0x2a3ebf(0x143)]=requireAdmin;const requireShop=(_0x72f4d,_0x4e91f8,_0x21f889)=>{const _0x1b2f09=a16_0x2a3ebf;if(!_0x72f4d[_0x1b2f09(0x14e)]||_0x72f4d[_0x1b2f09(0x14e)][_0x1b2f09(0x151)]!==_0x1b2f09(0x148))return _0x4e91f8[_0x1b2f09(0x132)](0x193)[_0x1b2f09(0x156)]({'success':![],'message':_0x1b2f09(0x131)});_0x21f889();};function a16_0x4e8a(){const _0x5b42b6=['558820lQxyfd','jsonwebtoken','json','authorization','582381yNAcVb','findUnique','../config/config','secret','Shop\x20access\x20required','status','350394FYiTCS','tokenBlacklistService','defineProperty','admin','headers','requireActiveShop','SUSPENDED','198512ydngwr','requireShop','Access\x20token\x20required','jwt','120216klXliX','70uezHzL','671430rwSsMQ','../config/database','Error\x20checking\x20account\x20status','requireAdmin','error','../services/tokenBlacklistService','authenticateToken','Error\x20checking\x20account\x20status:','shop','verify','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','94664pLoKKC','2POQYnQ','isTokenBlacklisted','user','default','__importDefault','role','split','Invalid\x20or\x20expired\x20token'];a16_0x4e8a=function(){return _0x5b42b6;};return a16_0x4e8a();}function a16_0x49f2(_0x10d6bb,_0x2d8b11){const _0x4e8ad3=a16_0x4e8a();return a16_0x49f2=function(_0x49f2a5,_0x1e263b){_0x49f2a5=_0x49f2a5-0x12d;let _0x1fb136=_0x4e8ad3[_0x49f2a5];return _0x1fb136;},a16_0x49f2(_0x10d6bb,_0x2d8b11);}exports[a16_0x2a3ebf(0x13b)]=requireShop;const requireActiveShop=async(_0x43c5b3,_0x1b3050,_0x37f235)=>{const _0x4b2334=a16_0x2a3ebf;if(!_0x43c5b3['user']||_0x43c5b3[_0x4b2334(0x14e)][_0x4b2334(0x151)]!=='shop')return _0x1b3050[_0x4b2334(0x132)](0x193)[_0x4b2334(0x156)]({'success':![],'message':_0x4b2334(0x131)});try{const _0x472457=require(_0x4b2334(0x141))[_0x4b2334(0x14f)],_0x341a97=await _0x472457[_0x4b2334(0x148)][_0x4b2334(0x12e)]({'where':{'id':_0x43c5b3[_0x4b2334(0x14e)]['id']},'select':{'status':!![]}});if(!_0x341a97||_0x341a97[_0x4b2334(0x132)]!=='ACTIVE')return _0x1b3050['status'](0x193)['json']({'success':![],'message':_0x4b2334(0x14a),'suspended':_0x341a97?.['status']===_0x4b2334(0x139)});_0x37f235();}catch(_0x441ce){return console[_0x4b2334(0x144)](_0x4b2334(0x147),_0x441ce),_0x1b3050[_0x4b2334(0x132)](0x1f4)[_0x4b2334(0x156)]({'success':![],'message':_0x4b2334(0x142)});}};exports[a16_0x2a3ebf(0x138)]=requireActiveShop;