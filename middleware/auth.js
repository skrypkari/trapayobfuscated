'use strict';const a16_0x1eb9f1=a16_0x265b;function a16_0x265b(_0x5a2864,_0xcd7ba6){const _0x6fcefe=a16_0x6fce();return a16_0x265b=function(_0x265b1d,_0x491b80){_0x265b1d=_0x265b1d-0x1a6;let _0x2baa60=_0x6fcefe[_0x265b1d];return _0x2baa60;},a16_0x265b(_0x5a2864,_0xcd7ba6);}(function(_0x4c8bfb,_0x3e8707){const _0x4cf59b=a16_0x265b,_0x165ce4=_0x4c8bfb();while(!![]){try{const _0x5f593b=parseInt(_0x4cf59b(0x1bb))/0x1+-parseInt(_0x4cf59b(0x1bd))/0x2*(parseInt(_0x4cf59b(0x1b2))/0x3)+parseInt(_0x4cf59b(0x1c1))/0x4+parseInt(_0x4cf59b(0x1a7))/0x5+parseInt(_0x4cf59b(0x1a6))/0x6+parseInt(_0x4cf59b(0x1a9))/0x7*(-parseInt(_0x4cf59b(0x1be))/0x8)+parseInt(_0x4cf59b(0x1bf))/0x9*(-parseInt(_0x4cf59b(0x1ab))/0xa);if(_0x5f593b===_0x3e8707)break;else _0x165ce4['push'](_0x165ce4['shift']());}catch(_0x30e369){_0x165ce4['push'](_0x165ce4['shift']());}}}(a16_0x6fce,0x9409f));var __importDefault=this&&this[a16_0x1eb9f1(0x1b1)]||function(_0x2f653a){return _0x2f653a&&_0x2f653a['__esModule']?_0x2f653a:{'default':_0x2f653a};};Object[a16_0x1eb9f1(0x1b4)](exports,a16_0x1eb9f1(0x1a8),{'value':!![]}),exports[a16_0x1eb9f1(0x1ba)]=exports[a16_0x1eb9f1(0x1c5)]=exports['authenticateToken']=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a16_0x1eb9f1(0x1b3)),tokenBlacklistService_1=require(a16_0x1eb9f1(0x1c2)),authenticateToken=(_0x5cdb28,_0x90983a,_0x3c150d)=>{const _0x240a49=a16_0x1eb9f1,_0x31a10a=_0x5cdb28[_0x240a49(0x1b7)][_0x240a49(0x1b9)],_0x5bb9c2=_0x31a10a&&_0x31a10a['split']('\x20')[0x1];if(!_0x5bb9c2)return _0x90983a[_0x240a49(0x1ac)](0x191)['json']({'success':![],'message':_0x240a49(0x1b6)});if(tokenBlacklistService_1[_0x240a49(0x1b8)]['isTokenBlacklisted'](_0x5bb9c2))return _0x90983a[_0x240a49(0x1ac)](0x191)[_0x240a49(0x1b0)]({'success':![],'message':'Token\x20has\x20been\x20revoked'});jsonwebtoken_1['default'][_0x240a49(0x1c0)](_0x5bb9c2,config_1[_0x240a49(0x1bc)]['jwt']['secret'],(_0x4c5aff,_0x5db699)=>{const _0x33edbc=_0x240a49;if(_0x4c5aff)return _0x90983a[_0x33edbc(0x1ac)](0x193)['json']({'success':![],'message':'Invalid\x20or\x20expired\x20token'});_0x5cdb28[_0x33edbc(0x1c4)]=_0x5db699,_0x5cdb28['token']=_0x5bb9c2,_0x3c150d();});};exports[a16_0x1eb9f1(0x1ad)]=authenticateToken;const requireAdmin=(_0xe3f4ee,_0x1a835d,_0x25d810)=>{const _0x51049c=a16_0x1eb9f1;if(!_0xe3f4ee[_0x51049c(0x1c4)]||_0xe3f4ee[_0x51049c(0x1c4)][_0x51049c(0x1af)]!==_0x51049c(0x1ae))return _0x1a835d[_0x51049c(0x1ac)](0x193)[_0x51049c(0x1b0)]({'success':![],'message':_0x51049c(0x1b5)});_0x25d810();};exports[a16_0x1eb9f1(0x1c5)]=requireAdmin;const requireShop=(_0x2621b3,_0x272f86,_0x1b58f3)=>{const _0x50e3ba=a16_0x1eb9f1;if(!_0x2621b3[_0x50e3ba(0x1c4)]||_0x2621b3[_0x50e3ba(0x1c4)][_0x50e3ba(0x1af)]!==_0x50e3ba(0x1c3))return _0x272f86[_0x50e3ba(0x1ac)](0x193)[_0x50e3ba(0x1b0)]({'success':![],'message':_0x50e3ba(0x1aa)});_0x1b58f3();};function a16_0x6fce(){const _0x124b11=['../config/config','defineProperty','Admin\x20access\x20required','Access\x20token\x20required','headers','tokenBlacklistService','authorization','requireShop','803826zWUcpZ','config','4pCoxoz','8hzrSqN','36XocINk','verify','3974920ONQCeC','../services/tokenBlacklistService','shop','user','requireAdmin','2430828OCbHLG','4118955CxcKIi','__esModule','978110RSOGzM','Shop\x20access\x20required','2933110LTvpKE','status','authenticateToken','admin','role','json','__importDefault','1660716jRAiKh'];a16_0x6fce=function(){return _0x124b11;};return a16_0x6fce();}exports[a16_0x1eb9f1(0x1ba)]=requireShop;