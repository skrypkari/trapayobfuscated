'use strict';const a16_0x4e6fbe=a16_0x5de9;(function(_0x195cef,_0xe4b86a){const _0x87d911=a16_0x5de9,_0x1848c6=_0x195cef();while(!![]){try{const _0x4119e6=-parseInt(_0x87d911(0xf2))/0x1*(parseInt(_0x87d911(0xd9))/0x2)+parseInt(_0x87d911(0xd7))/0x3*(parseInt(_0x87d911(0xcf))/0x4)+parseInt(_0x87d911(0xf1))/0x5*(parseInt(_0x87d911(0xd0))/0x6)+parseInt(_0x87d911(0xdf))/0x7*(parseInt(_0x87d911(0xd5))/0x8)+parseInt(_0x87d911(0xd4))/0x9+parseInt(_0x87d911(0xed))/0xa*(parseInt(_0x87d911(0xeb))/0xb)+-parseInt(_0x87d911(0xd6))/0xc*(parseInt(_0x87d911(0xf3))/0xd);if(_0x4119e6===_0xe4b86a)break;else _0x1848c6['push'](_0x1848c6['shift']());}catch(_0x281b7a){_0x1848c6['push'](_0x1848c6['shift']());}}}(a16_0x442b,0xf14af));function a16_0x5de9(_0x350501,_0x43bc1f){const _0x442baf=a16_0x442b();return a16_0x5de9=function(_0x5de92d,_0x24d885){_0x5de92d=_0x5de92d-0xcb;let _0x50de16=_0x442baf[_0x5de92d];return _0x50de16;},a16_0x5de9(_0x350501,_0x43bc1f);}var __importDefault=this&&this[a16_0x4e6fbe(0xd8)]||function(_0x34702a){return _0x34702a&&_0x34702a['__esModule']?_0x34702a:{'default':_0x34702a};};Object[a16_0x4e6fbe(0xd2)](exports,a16_0x4e6fbe(0xe7),{'value':!![]}),exports[a16_0x4e6fbe(0xea)]=exports[a16_0x4e6fbe(0xe9)]=exports[a16_0x4e6fbe(0xef)]=exports['authenticateToken']=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x4e6fbe(0xd1))),config_1=require(a16_0x4e6fbe(0xdc)),tokenBlacklistService_1=require(a16_0x4e6fbe(0xe5)),authenticateToken=(_0x15c990,_0x11dda0,_0x2108b6)=>{const _0x6b530=a16_0x4e6fbe,_0x9deab6=_0x15c990['headers']['authorization'],_0x284c9b=_0x9deab6&&_0x9deab6[_0x6b530(0xee)]('\x20')[0x1];if(!_0x284c9b)return _0x11dda0[_0x6b530(0xf8)](0x191)[_0x6b530(0xe8)]({'success':![],'message':_0x6b530(0xf4)});if(tokenBlacklistService_1[_0x6b530(0xdb)][_0x6b530(0xe1)](_0x284c9b))return _0x11dda0[_0x6b530(0xf8)](0x191)[_0x6b530(0xe8)]({'success':![],'message':_0x6b530(0xde)});jsonwebtoken_1[_0x6b530(0xe0)][_0x6b530(0xdd)](_0x284c9b,config_1[_0x6b530(0xcd)][_0x6b530(0xe4)]['secret'],(_0x208baa,_0x4ebf89)=>{const _0x4216ce=_0x6b530;if(_0x208baa)return _0x11dda0[_0x4216ce(0xf8)](0x193)[_0x4216ce(0xe8)]({'success':![],'message':_0x4216ce(0xe3)});_0x15c990[_0x4216ce(0xe6)]=_0x4ebf89,_0x15c990['token']=_0x284c9b,_0x2108b6();});};exports[a16_0x4e6fbe(0xf0)]=authenticateToken;const requireAdmin=(_0x37f59d,_0x471524,_0x1bb6c3)=>{const _0x220154=a16_0x4e6fbe;if(!_0x37f59d[_0x220154(0xe6)]||_0x37f59d[_0x220154(0xe6)][_0x220154(0xd3)]!==_0x220154(0xec))return _0x471524[_0x220154(0xf8)](0x193)[_0x220154(0xe8)]({'success':![],'message':_0x220154(0xf6)});_0x1bb6c3();};exports[a16_0x4e6fbe(0xef)]=requireAdmin;const requireShop=(_0x58d644,_0x3cc9a8,_0x14aa75)=>{const _0x50f3a8=a16_0x4e6fbe;if(!_0x58d644[_0x50f3a8(0xe6)]||_0x58d644[_0x50f3a8(0xe6)][_0x50f3a8(0xd3)]!=='shop')return _0x3cc9a8[_0x50f3a8(0xf8)](0x193)['json']({'success':![],'message':_0x50f3a8(0xcb)});_0x14aa75();};exports[a16_0x4e6fbe(0xe9)]=requireShop;const requireActiveShop=async(_0x290855,_0x583bb5,_0xf96a91)=>{const _0x368f0c=a16_0x4e6fbe;if(!_0x290855[_0x368f0c(0xe6)]||_0x290855[_0x368f0c(0xe6)][_0x368f0c(0xd3)]!==_0x368f0c(0xe2))return _0x583bb5[_0x368f0c(0xf8)](0x193)[_0x368f0c(0xe8)]({'success':![],'message':'Shop\x20access\x20required'});try{const _0x4f0099=require(_0x368f0c(0xf7))['default'],_0x58bbdb=await _0x4f0099[_0x368f0c(0xe2)]['findUnique']({'where':{'id':_0x290855['user']['id']},'select':{'status':!![]}});if(!_0x58bbdb||_0x58bbdb[_0x368f0c(0xf8)]!==_0x368f0c(0xf5))return _0x583bb5[_0x368f0c(0xf8)](0x193)[_0x368f0c(0xe8)]({'success':![],'message':_0x368f0c(0xce),'suspended':_0x58bbdb?.[_0x368f0c(0xf8)]==='SUSPENDED'});_0xf96a91();}catch(_0x10d637){return console[_0x368f0c(0xda)]('Error\x20checking\x20account\x20status:',_0x10d637),_0x583bb5['status'](0x1f4)[_0x368f0c(0xe8)]({'success':![],'message':_0x368f0c(0xcc)});}};exports[a16_0x4e6fbe(0xea)]=requireActiveShop;function a16_0x442b(){const _0x1eda44=['9540270xXeFrj','56qlGgag','14677368iAjGJa','3PQRpYk','__importDefault','177334SWEfYg','error','tokenBlacklistService','../config/config','verify','Token\x20has\x20been\x20revoked','1279243bYKLoE','default','isTokenBlacklisted','shop','Invalid\x20or\x20expired\x20token','jwt','../services/tokenBlacklistService','user','__esModule','json','requireShop','requireActiveShop','240042TCVmNn','admin','500obRgck','split','requireAdmin','authenticateToken','718870TRDeER','1YoMIhP','39iCahsu','Access\x20token\x20required','ACTIVE','Admin\x20access\x20required','../config/database','status','Shop\x20access\x20required','Error\x20checking\x20account\x20status','config','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','4113692yMxtGE','12JLFzDa','jsonwebtoken','defineProperty','role'];a16_0x442b=function(){return _0x1eda44;};return a16_0x442b();}