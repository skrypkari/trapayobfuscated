'use strict';const a15_0x1d777c=a15_0x2159;(function(_0x18e008,_0x273830){const _0x508bb1=a15_0x2159,_0x46d63c=_0x18e008();while(!![]){try{const _0x3f73bd=-parseInt(_0x508bb1(0x198))/0x1+-parseInt(_0x508bb1(0x197))/0x2*(-parseInt(_0x508bb1(0x18d))/0x3)+parseInt(_0x508bb1(0x19e))/0x4*(-parseInt(_0x508bb1(0x19c))/0x5)+parseInt(_0x508bb1(0x1a5))/0x6*(parseInt(_0x508bb1(0x19b))/0x7)+-parseInt(_0x508bb1(0x191))/0x8+-parseInt(_0x508bb1(0x193))/0x9+-parseInt(_0x508bb1(0x19a))/0xa*(-parseInt(_0x508bb1(0x1a7))/0xb);if(_0x3f73bd===_0x273830)break;else _0x46d63c['push'](_0x46d63c['shift']());}catch(_0x139ca3){_0x46d63c['push'](_0x46d63c['shift']());}}}(a15_0x141c,0x6493c));var __importDefault=this&&this[a15_0x1d777c(0x1a1)]||function(_0x27d969){const _0x2823fa=a15_0x1d777c;return _0x27d969&&_0x27d969[_0x2823fa(0x1a9)]?_0x27d969:{'default':_0x27d969};};Object['defineProperty'](exports,a15_0x1d777c(0x1a9),{'value':!![]}),exports[a15_0x1d777c(0x1a6)]=exports[a15_0x1d777c(0x1a8)]=exports[a15_0x1d777c(0x18e)]=void 0x0;const jsonwebtoken_1=__importDefault(require('jsonwebtoken')),config_1=require(a15_0x1d777c(0x192)),tokenBlacklistService_1=require(a15_0x1d777c(0x199)),authenticateToken=(_0x28f635,_0x446672,_0x5eafe2)=>{const _0x8559b7=a15_0x1d777c,_0x8abc5d=_0x28f635['headers'][_0x8559b7(0x1aa)],_0x1b87ff=_0x8abc5d&&_0x8abc5d[_0x8559b7(0x1a3)]('\x20')[0x1];if(!_0x1b87ff)return _0x446672[_0x8559b7(0x1a2)](0x191)['json']({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x8559b7(0x19f)][_0x8559b7(0x1ac)](_0x1b87ff))return _0x446672['status'](0x191)[_0x8559b7(0x1ab)]({'success':![],'message':'Token\x20has\x20been\x20revoked'});jsonwebtoken_1[_0x8559b7(0x1a0)]['verify'](_0x1b87ff,config_1['config'][_0x8559b7(0x194)]['secret'],(_0x34921e,_0x8076d2)=>{const _0x28ecba=_0x8559b7;if(_0x34921e)return _0x446672[_0x28ecba(0x1a2)](0x193)['json']({'success':![],'message':_0x28ecba(0x196)});_0x28f635[_0x28ecba(0x190)]=_0x8076d2,_0x28f635['token']=_0x1b87ff,_0x5eafe2();});};exports[a15_0x1d777c(0x18e)]=authenticateToken;function a15_0x141c(){const _0x45db22=['isTokenBlacklisted','Admin\x20access\x20required','464523ObchYN','authenticateToken','Shop\x20access\x20required','user','5681248DQHfYS','../config/config','1906569jADcVg','jwt','admin','Invalid\x20or\x20expired\x20token','4HDnnqw','26496DNKvwI','../services/tokenBlacklistService','10OQdKwz','1347129xyGknZ','13625bkevMq','shop','428NGBPsb','tokenBlacklistService','default','__importDefault','status','split','role','6NCPQAj','requireShop','12648933zXFrRn','requireAdmin','__esModule','authorization','json'];a15_0x141c=function(){return _0x45db22;};return a15_0x141c();}const requireAdmin=(_0x18651b,_0x3f8470,_0x580027)=>{const _0x23b92e=a15_0x1d777c;if(!_0x18651b[_0x23b92e(0x190)]||_0x18651b[_0x23b92e(0x190)][_0x23b92e(0x1a4)]!==_0x23b92e(0x195))return _0x3f8470[_0x23b92e(0x1a2)](0x193)[_0x23b92e(0x1ab)]({'success':![],'message':_0x23b92e(0x1ad)});_0x580027();};exports[a15_0x1d777c(0x1a8)]=requireAdmin;function a15_0x2159(_0x24cbd7,_0x3718f5){const _0x141caf=a15_0x141c();return a15_0x2159=function(_0x215932,_0x2e7579){_0x215932=_0x215932-0x18d;let _0x11c0fa=_0x141caf[_0x215932];return _0x11c0fa;},a15_0x2159(_0x24cbd7,_0x3718f5);}const requireShop=(_0x56c6fd,_0x12dd1b,_0x27820b)=>{const _0x3efc86=a15_0x1d777c;if(!_0x56c6fd[_0x3efc86(0x190)]||_0x56c6fd[_0x3efc86(0x190)][_0x3efc86(0x1a4)]!==_0x3efc86(0x19d))return _0x12dd1b[_0x3efc86(0x1a2)](0x193)[_0x3efc86(0x1ab)]({'success':![],'message':_0x3efc86(0x18f)});_0x27820b();};exports[a15_0x1d777c(0x1a6)]=requireShop;