'use strict';const a16_0x3a70a7=a16_0x4af3;(function(_0x497498,_0x37fb33){const _0x40c10c=a16_0x4af3,_0x3ef5f5=_0x497498();while(!![]){try{const _0x47c518=-parseInt(_0x40c10c(0x180))/0x1*(parseInt(_0x40c10c(0x176))/0x2)+parseInt(_0x40c10c(0x188))/0x3*(parseInt(_0x40c10c(0x170))/0x4)+-parseInt(_0x40c10c(0x16a))/0x5*(parseInt(_0x40c10c(0x17e))/0x6)+parseInt(_0x40c10c(0x166))/0x7+parseInt(_0x40c10c(0x182))/0x8+parseInt(_0x40c10c(0x187))/0x9*(-parseInt(_0x40c10c(0x167))/0xa)+parseInt(_0x40c10c(0x186))/0xb;if(_0x47c518===_0x37fb33)break;else _0x3ef5f5['push'](_0x3ef5f5['shift']());}catch(_0x9f2307){_0x3ef5f5['push'](_0x3ef5f5['shift']());}}}(a16_0x27b7,0xd0c62));var __importDefault=this&&this[a16_0x3a70a7(0x169)]||function(_0x185eef){const _0x4b4c6c=a16_0x3a70a7;return _0x185eef&&_0x185eef[_0x4b4c6c(0x171)]?_0x185eef:{'default':_0x185eef};};Object[a16_0x3a70a7(0x17f)](exports,a16_0x3a70a7(0x171),{'value':!![]}),exports[a16_0x3a70a7(0x16b)]=exports[a16_0x3a70a7(0x16f)]=exports[a16_0x3a70a7(0x17c)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x3a70a7(0x17b))),config_1=require(a16_0x3a70a7(0x183)),tokenBlacklistService_1=require(a16_0x3a70a7(0x16d)),authenticateToken=(_0x34b93e,_0x1aeaef,_0x198e8f)=>{const _0x393c64=a16_0x3a70a7,_0x39f01f=_0x34b93e[_0x393c64(0x16c)][_0x393c64(0x17d)],_0x3da254=_0x39f01f&&_0x39f01f[_0x393c64(0x173)]('\x20')[0x1];if(!_0x3da254)return _0x1aeaef['status'](0x191)['json']({'success':![],'message':'Access\x20token\x20required'});if(tokenBlacklistService_1[_0x393c64(0x184)][_0x393c64(0x172)](_0x3da254))return _0x1aeaef[_0x393c64(0x168)](0x191)[_0x393c64(0x178)]({'success':![],'message':_0x393c64(0x17a)});jsonwebtoken_1['default'][_0x393c64(0x175)](_0x3da254,config_1['config'][_0x393c64(0x181)][_0x393c64(0x174)],(_0x4f55b3,_0x2d1f9e)=>{const _0x37bb9b=_0x393c64;if(_0x4f55b3)return _0x1aeaef[_0x37bb9b(0x168)](0x193)[_0x37bb9b(0x178)]({'success':![],'message':'Invalid\x20or\x20expired\x20token'});_0x34b93e[_0x37bb9b(0x185)]=_0x2d1f9e,_0x34b93e['token']=_0x3da254,_0x198e8f();});};exports[a16_0x3a70a7(0x17c)]=authenticateToken;const requireAdmin=(_0x5e548c,_0x18f6e8,_0x5b11d6)=>{const _0x47fdbb=a16_0x3a70a7;if(!_0x5e548c['user']||_0x5e548c[_0x47fdbb(0x185)][_0x47fdbb(0x16e)]!=='admin')return _0x18f6e8[_0x47fdbb(0x168)](0x193)[_0x47fdbb(0x178)]({'success':![],'message':_0x47fdbb(0x177)});_0x5b11d6();};function a16_0x4af3(_0x3156b0,_0x13b09b){const _0x27b78f=a16_0x27b7();return a16_0x4af3=function(_0x4af38d,_0x7bf2ea){_0x4af38d=_0x4af38d-0x166;let _0xba2f2a=_0x27b78f[_0x4af38d];return _0xba2f2a;},a16_0x4af3(_0x3156b0,_0x13b09b);}exports[a16_0x3a70a7(0x16f)]=requireAdmin;const requireShop=(_0x931749,_0x5b2ed8,_0x3cf9a8)=>{const _0x247c54=a16_0x3a70a7;if(!_0x931749[_0x247c54(0x185)]||_0x931749[_0x247c54(0x185)][_0x247c54(0x16e)]!=='shop')return _0x5b2ed8[_0x247c54(0x168)](0x193)[_0x247c54(0x178)]({'success':![],'message':_0x247c54(0x179)});_0x3cf9a8();};function a16_0x27b7(){const _0x2a4e5a=['requireAdmin','8pfGGhW','__esModule','isTokenBlacklisted','split','secret','verify','14vJlHVC','Admin\x20access\x20required','json','Shop\x20access\x20required','Token\x20has\x20been\x20revoked','jsonwebtoken','authenticateToken','authorization','6626832mbJdPN','defineProperty','169564HMtgHV','jwt','6180072olPaCv','../config/config','tokenBlacklistService','user','21901000eunWPf','1168533GuoyNO','456609WhbBOd','3277078kYrxcC','30oIHvVR','status','__importDefault','5clcDEi','requireShop','headers','../services/tokenBlacklistService','role'];a16_0x27b7=function(){return _0x2a4e5a;};return a16_0x27b7();}exports['requireShop']=requireShop;