'use strict';const a16_0x495512=a16_0x44f9;(function(_0x12cdcc,_0x568c70){const _0x545a55=a16_0x44f9,_0x3d88aa=_0x12cdcc();while(!![]){try{const _0x5f28fc=-parseInt(_0x545a55(0x1f8))/0x1*(parseInt(_0x545a55(0x1e2))/0x2)+parseInt(_0x545a55(0x1ee))/0x3*(-parseInt(_0x545a55(0x203))/0x4)+-parseInt(_0x545a55(0x204))/0x5*(parseInt(_0x545a55(0x1d9))/0x6)+-parseInt(_0x545a55(0x1fe))/0x7+-parseInt(_0x545a55(0x1e3))/0x8*(parseInt(_0x545a55(0x1dd))/0x9)+parseInt(_0x545a55(0x1fb))/0xa+parseInt(_0x545a55(0x1e5))/0xb;if(_0x5f28fc===_0x568c70)break;else _0x3d88aa['push'](_0x3d88aa['shift']());}catch(_0x51e2b6){_0x3d88aa['push'](_0x3d88aa['shift']());}}}(a16_0x545e,0xaefcc));var __importDefault=this&&this['__importDefault']||function(_0x4aefed){const _0x1cae87=a16_0x44f9;return _0x4aefed&&_0x4aefed[_0x1cae87(0x1e7)]?_0x4aefed:{'default':_0x4aefed};};Object['defineProperty'](exports,a16_0x495512(0x1e7),{'value':!![]}),exports[a16_0x495512(0x1fd)]=exports[a16_0x495512(0x1fc)]=exports[a16_0x495512(0x1f7)]=exports[a16_0x495512(0x1e1)]=void 0x0;const jsonwebtoken_1=__importDefault(require(a16_0x495512(0x1ed))),config_1=require(a16_0x495512(0x1f4)),tokenBlacklistService_1=require(a16_0x495512(0x1da)),authenticateToken=(_0x55bf2f,_0x595b8f,_0xb44498)=>{const _0x734770=a16_0x495512,_0x4d810a=_0x55bf2f[_0x734770(0x1db)]['authorization'],_0x28891e=_0x4d810a&&_0x4d810a[_0x734770(0x1f6)]('\x20')[0x1];if(!_0x28891e)return _0x595b8f[_0x734770(0x1de)](0x191)[_0x734770(0x1f3)]({'success':![],'message':_0x734770(0x1d8)});if(tokenBlacklistService_1[_0x734770(0x1ea)][_0x734770(0x200)](_0x28891e))return _0x595b8f[_0x734770(0x1de)](0x191)[_0x734770(0x1f3)]({'success':![],'message':_0x734770(0x1f2)});jsonwebtoken_1[_0x734770(0x1e4)][_0x734770(0x202)](_0x28891e,config_1[_0x734770(0x1ef)][_0x734770(0x1f1)][_0x734770(0x1e8)],(_0x1d0155,_0xbb33f1)=>{const _0x4f8f28=_0x734770;if(_0x1d0155)return _0x595b8f[_0x4f8f28(0x1de)](0x193)[_0x4f8f28(0x1f3)]({'success':![],'message':_0x4f8f28(0x1f5)});_0x55bf2f[_0x4f8f28(0x1e6)]=_0xbb33f1,_0x55bf2f[_0x4f8f28(0x1ff)]=_0x28891e,_0xb44498();});};exports[a16_0x495512(0x1e1)]=authenticateToken;const requireAdmin=(_0xe31a42,_0xf46351,_0x4b0459)=>{const _0x4d5872=a16_0x495512;if(!_0xe31a42[_0x4d5872(0x1e6)]||_0xe31a42[_0x4d5872(0x1e6)][_0x4d5872(0x1e0)]!==_0x4d5872(0x1f9))return _0xf46351[_0x4d5872(0x1de)](0x193)['json']({'success':![],'message':_0x4d5872(0x205)});_0x4b0459();};exports['requireAdmin']=requireAdmin;const requireShop=(_0x2ab9e0,_0x27652f,_0x13a3c1)=>{const _0xd9cd2d=a16_0x495512;if(!_0x2ab9e0['user']||_0x2ab9e0[_0xd9cd2d(0x1e6)]['role']!==_0xd9cd2d(0x1ec))return _0x27652f[_0xd9cd2d(0x1de)](0x193)['json']({'success':![],'message':_0xd9cd2d(0x1df)});_0x13a3c1();};exports[a16_0x495512(0x1fc)]=requireShop;function a16_0x545e(){const _0x4a2969=['error','tokenBlacklistService','SUSPENDED','shop','jsonwebtoken','33639GfdRIu','config','Error\x20checking\x20account\x20status:','jwt','Token\x20has\x20been\x20revoked','json','../config/config','Invalid\x20or\x20expired\x20token','split','requireAdmin','3053vOKIHA','admin','Account\x20is\x20suspended\x20or\x20inactive.\x20Contact\x20administrator\x20to\x20activate\x20your\x20account.','5773950CGXVOV','requireShop','requireActiveShop','7146293dsXiAt','token','isTokenBlacklisted','../config/database','verify','184EnXeuE','736750QuMniT','Admin\x20access\x20required','Access\x20token\x20required','30aEBDDQ','../services/tokenBlacklistService','headers','findUnique','11630799ekDHYF','status','Shop\x20access\x20required','role','authenticateToken','326swSovp','8BZOxAV','default','46230250BWoqLr','user','__esModule','secret'];a16_0x545e=function(){return _0x4a2969;};return a16_0x545e();}function a16_0x44f9(_0xec642,_0x319b4f){const _0x545ed7=a16_0x545e();return a16_0x44f9=function(_0x44f9be,_0x1ce197){_0x44f9be=_0x44f9be-0x1d8;let _0x53e3c9=_0x545ed7[_0x44f9be];return _0x53e3c9;},a16_0x44f9(_0xec642,_0x319b4f);}const requireActiveShop=async(_0x409151,_0x35d0fa,_0x100a91)=>{const _0xe08a29=a16_0x495512;if(!_0x409151[_0xe08a29(0x1e6)]||_0x409151[_0xe08a29(0x1e6)][_0xe08a29(0x1e0)]!==_0xe08a29(0x1ec))return _0x35d0fa['status'](0x193)['json']({'success':![],'message':_0xe08a29(0x1df)});try{const _0x5319ef=require(_0xe08a29(0x201))[_0xe08a29(0x1e4)],_0x3f3c1d=await _0x5319ef[_0xe08a29(0x1ec)][_0xe08a29(0x1dc)]({'where':{'id':_0x409151[_0xe08a29(0x1e6)]['id']},'select':{'status':!![]}});if(!_0x3f3c1d||_0x3f3c1d[_0xe08a29(0x1de)]!=='ACTIVE')return _0x35d0fa[_0xe08a29(0x1de)](0x193)[_0xe08a29(0x1f3)]({'success':![],'message':_0xe08a29(0x1fa),'suspended':_0x3f3c1d?.['status']===_0xe08a29(0x1eb)});_0x100a91();}catch(_0x4284b2){return console[_0xe08a29(0x1e9)](_0xe08a29(0x1f0),_0x4284b2),_0x35d0fa[_0xe08a29(0x1de)](0x1f4)['json']({'success':![],'message':'Error\x20checking\x20account\x20status'});}};exports[a16_0x495512(0x1fd)]=requireActiveShop;