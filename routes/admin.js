'use strict';const a18_0x5643c5=a18_0x113c;(function(_0x5e6605,_0x3f4461){const _0x1b1d2b=a18_0x113c,_0x7503d4=_0x5e6605();while(!![]){try{const _0x6819df=parseInt(_0x1b1d2b(0x1a3))/0x1*(-parseInt(_0x1b1d2b(0x198))/0x2)+parseInt(_0x1b1d2b(0x1ca))/0x3+parseInt(_0x1b1d2b(0x1d2))/0x4*(-parseInt(_0x1b1d2b(0x1b9))/0x5)+parseInt(_0x1b1d2b(0x1b2))/0x6*(-parseInt(_0x1b1d2b(0x1c1))/0x7)+parseInt(_0x1b1d2b(0x1cd))/0x8+parseInt(_0x1b1d2b(0x1d9))/0x9+parseInt(_0x1b1d2b(0x1d8))/0xa*(parseInt(_0x1b1d2b(0x199))/0xb);if(_0x6819df===_0x3f4461)break;else _0x7503d4['push'](_0x7503d4['shift']());}catch(_0x4d0b54){_0x7503d4['push'](_0x7503d4['shift']());}}}(a18_0x187f,0x9f08d));function a18_0x187f(){const _0x7714c8=['body','get','24515eIaZsb','defineProperty','express','toISOString','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','getPayoutStats','FAILED','/payouts','4833969ogMXAK','getPayouts','/statistics','/cointopay/stats','PAID','updateUserSchema','createPayoutSchema','../services/loggerService','/users/:id','440790tpeXCX','\x20days\x20if\x20not\x20paid','use','7148016rehYap','requireAdmin','status','/logs/stats','loggerService','508FtZmjF','coinToPayStatusService','createUserSchema','default','Old\x20logs\x20cleaned\x20(kept\x20last\x20','../middleware/validation','53870upKsjk','8377038wvPRNj','deleteUser','../services/domainMonitoringService','../services/coinToPayStatusService','/payout/stats','post','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','../middleware/auth','/payout','/users/:id/suspend','/users/:id/activate','domainMonitoringService','createPayout','createUser','/payments','/auth','CoinToPay\x20payment\x20status\x20checked\x20successfully','delete','validate','Router','CoinToPay\x20automatic\x20status\x20checking\x20service','put','863094HcpUrp','1749TWPkqO','activateUser','/cointopay/check/:paymentId','getUsers','updateUser','manualCheck','/users','/domain-monitoring/stats','getStatistics','getPayoutById','2yNJVMt','PENDING','deletePayout','json','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','message','AdminController','EXPIRED','/payouts/:id','\x20days)','getLogStats','getServiceStats','/payout/merchants','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','authenticateToken','6NxoFOr','__esModule','/payments/:id','getMonitoringStats','Domain\x20check\x20failed'];a18_0x187f=function(){return _0x7714c8;};return a18_0x187f();}Object[a18_0x5643c5(0x1ba)](exports,a18_0x5643c5(0x1b3),{'value':!![]});const express_1=require(a18_0x5643c5(0x1bb)),adminController_1=require('../controllers/adminController'),validation_1=require(a18_0x5643c5(0x1d7)),auth_1=require(a18_0x5643c5(0x1e0)),loggerService_1=require(a18_0x5643c5(0x1c8)),coinToPayStatusService_1=require(a18_0x5643c5(0x1dc)),domainMonitoringService_1=require(a18_0x5643c5(0x1db)),router=(0x0,express_1[a18_0x5643c5(0x195)])(),adminController=new adminController_1[(a18_0x5643c5(0x1a9))]();function a18_0x113c(_0x43c06a,_0x19dcfa){const _0x187f10=a18_0x187f();return a18_0x113c=function(_0x113ca1,_0x102f3d){_0x113ca1=_0x113ca1-0x190;let _0x155b74=_0x187f10[_0x113ca1];return _0x155b74;},a18_0x113c(_0x43c06a,_0x19dcfa);}router[a18_0x5643c5(0x1cc)](auth_1[a18_0x5643c5(0x1b1)],auth_1[a18_0x5643c5(0x1ce)]),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x191),adminController['checkAuth']),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1c3),adminController[a18_0x5643c5(0x1a1)]),router['get'](a18_0x5643c5(0x1dd),adminController[a18_0x5643c5(0x1be)]),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1af),adminController['getMerchantsAwaitingPayout']),router[a18_0x5643c5(0x1de)](a18_0x5643c5(0x1e1),(0x0,validation_1[a18_0x5643c5(0x194)])(validation_1[a18_0x5643c5(0x1c7)]),adminController[a18_0x5643c5(0x1e5)]),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1c0),adminController[a18_0x5643c5(0x1c2)]),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1ab),adminController[a18_0x5643c5(0x1a2)]),router[a18_0x5643c5(0x193)](a18_0x5643c5(0x1ab),adminController[a18_0x5643c5(0x1a5)]),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x190),adminController['getPayments']),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1b4),adminController['getPaymentById']),router['put']('/payments/:id',adminController['updatePayment']),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x19f),adminController[a18_0x5643c5(0x19c)]),router[a18_0x5643c5(0x1b8)]('/users/:id',adminController['getUserById']),router[a18_0x5643c5(0x1de)]('/users',(0x0,validation_1['validate'])(validation_1[a18_0x5643c5(0x1d4)]),adminController[a18_0x5643c5(0x1e6)]),router[a18_0x5643c5(0x197)](a18_0x5643c5(0x1c9),(0x0,validation_1[a18_0x5643c5(0x194)])(validation_1[a18_0x5643c5(0x1c6)]),adminController[a18_0x5643c5(0x19d)]),router[a18_0x5643c5(0x193)](a18_0x5643c5(0x1c9),adminController[a18_0x5643c5(0x1da)]),router[a18_0x5643c5(0x1de)](a18_0x5643c5(0x1e2),adminController['suspendUser']),router[a18_0x5643c5(0x1de)](a18_0x5643c5(0x1e3),adminController[a18_0x5643c5(0x19a)]),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1d0),(_0x4b9225,_0x510ec9)=>{const _0x44711b=a18_0x5643c5;try{const _0x46454a=loggerService_1['loggerService'][_0x44711b(0x1ad)]();_0x510ec9[_0x44711b(0x1a6)]({'success':!![],'result':_0x46454a});}catch(_0x3353c9){_0x510ec9[_0x44711b(0x1cf)](0x1f4)[_0x44711b(0x1a6)]({'success':![],'message':'Failed\x20to\x20get\x20log\x20statistics'});}}),router[a18_0x5643c5(0x1de)]('/logs/clean',(_0x24cf6d,_0x201ece)=>{const _0x3841d6=a18_0x5643c5;try{const {daysToKeep:daysToKeep=0x1e}=_0x24cf6d[_0x3841d6(0x1b7)];loggerService_1[_0x3841d6(0x1d1)]['cleanOldLogs'](daysToKeep),_0x201ece[_0x3841d6(0x1a6)]({'success':!![],'message':_0x3841d6(0x1d6)+daysToKeep+_0x3841d6(0x1ac)});}catch(_0x4b307b){_0x201ece[_0x3841d6(0x1cf)](0x1f4)[_0x3841d6(0x1a6)]({'success':![],'message':'Failed\x20to\x20clean\x20old\x20logs'});}}),router[a18_0x5643c5(0x1de)](a18_0x5643c5(0x19b),async(_0x56fd4f,_0x5287f4)=>{const _0x5c0bdd=a18_0x5643c5;try{const {paymentId:_0x3d8bea}=_0x56fd4f['params'];await coinToPayStatusService_1[_0x5c0bdd(0x1d3)]['checkPaymentById'](_0x3d8bea),_0x5287f4[_0x5c0bdd(0x1a6)]({'success':!![],'message':_0x5c0bdd(0x192)});}catch(_0x4a5b4f){_0x5287f4[_0x5c0bdd(0x1cf)](0x1f4)[_0x5c0bdd(0x1a6)]({'success':![],'message':_0x4a5b4f instanceof Error?_0x4a5b4f['message']:_0x5c0bdd(0x1bd)});}}),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1c4),(_0x510c64,_0xe50d88)=>{const _0xef2387=a18_0x5643c5;try{const _0x468419=coinToPayStatusService_1['coinToPayStatusService'][_0xef2387(0x1ae)]();_0xe50d88['json']({'success':!![],'result':{..._0x468419,'description':_0xef2387(0x196),'statusMapping':{'Paid':_0xef2387(0x1c5),'Awaiting\x20Fiat':_0xef2387(0x1a4),'waiting':_0xef2387(0x1a4),'expired':_0xef2387(0x1aa),'failed':_0xef2387(0x1bf)},'autoExpiryNote':'Payments\x20automatically\x20expire\x20after\x20'+_0x468419['expiryDays']+_0xef2387(0x1cb)}});}catch(_0x31f06d){_0xe50d88['status'](0x1f4)[_0xef2387(0x1a6)]({'success':![],'message':_0xef2387(0x1a7)});}}),router[a18_0x5643c5(0x1b8)](a18_0x5643c5(0x1a0),(_0x5ab4fe,_0x583a5e)=>{const _0x1278be=a18_0x5643c5;try{const _0x5df2fd=domainMonitoringService_1[_0x1278be(0x1e4)][_0x1278be(0x1b5)]();_0x583a5e[_0x1278be(0x1a6)]({'success':!![],'result':{..._0x5df2fd,'description':'Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','behavior':_0x1278be(0x1df),'encoding':'Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs'}});}catch(_0x5aaddd){_0x583a5e[_0x1278be(0x1cf)](0x1f4)[_0x1278be(0x1a6)]({'success':![],'message':_0x1278be(0x1b0)});}}),router['post']('/domain-monitoring/check',async(_0x16abd3,_0x3a4152)=>{const _0x233d5b=a18_0x5643c5;try{const _0x39c434=await domainMonitoringService_1[_0x233d5b(0x1e4)][_0x233d5b(0x19e)]();_0x3a4152[_0x233d5b(0x1a6)]({'success':!![],'result':{'domainAvailable':_0x39c434,'message':_0x39c434?'Domain\x20is\x20responding\x20correctly':_0x233d5b(0x1b6),'timestamp':new Date()[_0x233d5b(0x1bc)]()}});}catch(_0x27c600){_0x3a4152[_0x233d5b(0x1cf)](0x1f4)['json']({'success':![],'message':_0x27c600 instanceof Error?_0x27c600[_0x233d5b(0x1a8)]:'Failed\x20to\x20perform\x20manual\x20domain\x20check'});}}),exports[a18_0x5643c5(0x1d5)]=router;