'use strict';const a18_0x427093=a18_0x3760;(function(_0x3692fe,_0x58cca7){const _0x3e59f4=a18_0x3760,_0x3ef3b4=_0x3692fe();while(!![]){try{const _0x1fd4f6=parseInt(_0x3e59f4(0x1e7))/0x1+parseInt(_0x3e59f4(0x211))/0x2*(parseInt(_0x3e59f4(0x206))/0x3)+parseInt(_0x3e59f4(0x22f))/0x4*(parseInt(_0x3e59f4(0x1f5))/0x5)+-parseInt(_0x3e59f4(0x1df))/0x6+-parseInt(_0x3e59f4(0x1e6))/0x7+-parseInt(_0x3e59f4(0x209))/0x8+parseInt(_0x3e59f4(0x1d8))/0x9;if(_0x1fd4f6===_0x58cca7)break;else _0x3ef3b4['push'](_0x3ef3b4['shift']());}catch(_0x334c9f){_0x3ef3b4['push'](_0x3ef3b4['shift']());}}}(a18_0x4f9e,0x271d9));Object['defineProperty'](exports,a18_0x427093(0x215),{'value':!![]});function a18_0x3760(_0x4d849b,_0x334be2){const _0x4f9e34=a18_0x4f9e();return a18_0x3760=function(_0x37605d,_0x4f4ff7){_0x37605d=_0x37605d-0x1d8;let _0x4dad29=_0x4f9e34[_0x37605d];return _0x4dad29;},a18_0x3760(_0x4d849b,_0x334be2);}const express_1=require(a18_0x427093(0x1f0)),adminController_1=require(a18_0x427093(0x218)),validation_1=require(a18_0x427093(0x20d)),auth_1=require(a18_0x427093(0x229)),loggerService_1=require(a18_0x427093(0x20a)),coinToPayStatusService_1=require(a18_0x427093(0x1fa)),domainMonitoringService_1=require('../services/domainMonitoringService'),router=(0x0,express_1['Router'])(),adminController=new adminController_1[(a18_0x427093(0x1e1))]();function a18_0x4f9e(){const _0x8d6f47=['Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','getUsers','../middleware/auth','/payouts/:id','toISOString','EXPIRED','/users','createUserSchema','11004fteGIe','/domain-monitoring/stats','/users/:id/activate','4718124WJNgAD','getStatistics','/payments','/users/:id','getUserById','validate','body','1751874RhyMUI','CoinToPay\x20payment\x20status\x20checked\x20successfully','AdminController','deletePayout','suspendUser','FAILED','post','1565046JDgTth','43069lqwFNg','\x20days)','use','Failed\x20to\x20perform\x20manual\x20domain\x20check','/domain-monitoring/check','getPayments','loggerService','put','/payout/stats','express','get','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','getPayouts','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','305DOEDaV','checkAuth','createPayout','manualCheck','domainMonitoringService','../services/coinToPayStatusService','Domain\x20check\x20failed','Domain\x20is\x20responding\x20correctly','PENDING','cleanOldLogs','/payout/merchants','Failed\x20to\x20get\x20log\x20statistics','json','/cointopay/check/:paymentId','/users/:id/suspend','expiryDays','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','3EpfPde','getLogStats','/payout','1180992VqPZRe','../services/loggerService','authenticateToken','/logs/clean','../middleware/validation','PAID','delete','/auth','176564xChCnx','/statistics','status','\x20days\x20if\x20not\x20paid','__esModule','createPayoutSchema','CoinToPay\x20automatic\x20status\x20checking\x20service','../controllers/adminController','getMonitoringStats','getMerchantsAwaitingPayout','Failed\x20to\x20clean\x20old\x20logs','message','getPaymentById','createUser','/payments/:id','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','getPayoutById','params','/payouts','coinToPayStatusService','requireAdmin','/cointopay/stats'];a18_0x4f9e=function(){return _0x8d6f47;};return a18_0x4f9e();}router[a18_0x427093(0x1e9)](auth_1[a18_0x427093(0x20b)],auth_1[a18_0x427093(0x225)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x210),adminController[a18_0x427093(0x1f6)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x212),adminController[a18_0x427093(0x1d9)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x1ef),adminController['getPayoutStats']),router['get'](a18_0x427093(0x1ff),adminController[a18_0x427093(0x21a)]),router[a18_0x427093(0x1e5)](a18_0x427093(0x208),(0x0,validation_1[a18_0x427093(0x1dd)])(validation_1[a18_0x427093(0x216)]),adminController[a18_0x427093(0x1f7)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x223),adminController[a18_0x427093(0x1f3)]),router['get'](a18_0x427093(0x22a),adminController[a18_0x427093(0x221)]),router[a18_0x427093(0x20f)](a18_0x427093(0x22a),adminController[a18_0x427093(0x1e2)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x1da),adminController[a18_0x427093(0x1ec)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x21f),adminController[a18_0x427093(0x21d)]),router[a18_0x427093(0x1ee)](a18_0x427093(0x21f),adminController['updatePayment']),router['get']('/users',adminController[a18_0x427093(0x228)]),router[a18_0x427093(0x1f1)](a18_0x427093(0x1db),adminController[a18_0x427093(0x1dc)]),router[a18_0x427093(0x1e5)](a18_0x427093(0x22d),(0x0,validation_1[a18_0x427093(0x1dd)])(validation_1[a18_0x427093(0x22e)]),adminController[a18_0x427093(0x21e)]),router[a18_0x427093(0x1ee)](a18_0x427093(0x1db),(0x0,validation_1[a18_0x427093(0x1dd)])(validation_1['updateUserSchema']),adminController['updateUser']),router[a18_0x427093(0x20f)](a18_0x427093(0x1db),adminController['deleteUser']),router['post'](a18_0x427093(0x203),adminController[a18_0x427093(0x1e3)]),router[a18_0x427093(0x1e5)](a18_0x427093(0x231),adminController['activateUser']),router[a18_0x427093(0x1f1)]('/logs/stats',(_0x3481de,_0x12689f)=>{const _0x31de31=a18_0x427093;try{const _0x1ada72=loggerService_1[_0x31de31(0x1ed)][_0x31de31(0x207)]();_0x12689f[_0x31de31(0x201)]({'success':!![],'result':_0x1ada72});}catch(_0x34ef4c){_0x12689f[_0x31de31(0x213)](0x1f4)['json']({'success':![],'message':_0x31de31(0x200)});}}),router['post'](a18_0x427093(0x20c),(_0x3ababa,_0x1dd622)=>{const _0x568f11=a18_0x427093;try{const {daysToKeep:daysToKeep=0x1e}=_0x3ababa[_0x568f11(0x1de)];loggerService_1['loggerService'][_0x568f11(0x1fe)](daysToKeep),_0x1dd622[_0x568f11(0x201)]({'success':!![],'message':'Old\x20logs\x20cleaned\x20(kept\x20last\x20'+daysToKeep+_0x568f11(0x1e8)});}catch(_0x35b882){_0x1dd622['status'](0x1f4)[_0x568f11(0x201)]({'success':![],'message':_0x568f11(0x21b)});}}),router[a18_0x427093(0x1e5)](a18_0x427093(0x202),async(_0x12b530,_0x4429d0)=>{const _0x1ed78a=a18_0x427093;try{const {paymentId:_0x4a6a7f}=_0x12b530[_0x1ed78a(0x222)];await coinToPayStatusService_1['coinToPayStatusService']['checkPaymentById'](_0x4a6a7f),_0x4429d0[_0x1ed78a(0x201)]({'success':!![],'message':_0x1ed78a(0x1e0)});}catch(_0x293908){_0x4429d0[_0x1ed78a(0x213)](0x1f4)[_0x1ed78a(0x201)]({'success':![],'message':_0x293908 instanceof Error?_0x293908[_0x1ed78a(0x21c)]:_0x1ed78a(0x220)});}}),router['get'](a18_0x427093(0x226),(_0x3293f8,_0xa5d3e4)=>{const _0x338457=a18_0x427093;try{const _0xa33d42=coinToPayStatusService_1[_0x338457(0x224)]['getServiceStats']();_0xa5d3e4[_0x338457(0x201)]({'success':!![],'result':{..._0xa33d42,'description':_0x338457(0x217),'statusMapping':{'Paid':_0x338457(0x20e),'Awaiting\x20Fiat':'PENDING','waiting':_0x338457(0x1fd),'expired':_0x338457(0x22c),'failed':_0x338457(0x1e4)},'autoExpiryNote':'Payments\x20automatically\x20expire\x20after\x20'+_0xa33d42[_0x338457(0x204)]+_0x338457(0x214)}});}catch(_0x1d5010){_0xa5d3e4[_0x338457(0x213)](0x1f4)['json']({'success':![],'message':'Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics'});}}),router[a18_0x427093(0x1f1)](a18_0x427093(0x230),(_0x470800,_0x1b7558)=>{const _0x4dedfa=a18_0x427093;try{const _0x1e62de=domainMonitoringService_1[_0x4dedfa(0x1f9)][_0x4dedfa(0x219)]();_0x1b7558[_0x4dedfa(0x201)]({'success':!![],'result':{..._0x1e62de,'description':_0x4dedfa(0x227),'behavior':_0x4dedfa(0x1f4),'encoding':_0x4dedfa(0x1f2)}});}catch(_0x148c9f){_0x1b7558[_0x4dedfa(0x213)](0x1f4)['json']({'success':![],'message':_0x4dedfa(0x205)});}}),router[a18_0x427093(0x1e5)](a18_0x427093(0x1eb),async(_0x46c947,_0x3e5d1e)=>{const _0xd2d76b=a18_0x427093;try{const _0x311b80=await domainMonitoringService_1[_0xd2d76b(0x1f9)][_0xd2d76b(0x1f8)]();_0x3e5d1e['json']({'success':!![],'result':{'domainAvailable':_0x311b80,'message':_0x311b80?_0xd2d76b(0x1fc):_0xd2d76b(0x1fb),'timestamp':new Date()[_0xd2d76b(0x22b)]()}});}catch(_0x3cd737){_0x3e5d1e[_0xd2d76b(0x213)](0x1f4)[_0xd2d76b(0x201)]({'success':![],'message':_0x3cd737 instanceof Error?_0x3cd737[_0xd2d76b(0x21c)]:_0xd2d76b(0x1ea)});}}),exports['default']=router;