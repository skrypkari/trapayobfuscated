'use strict';function a18_0x19ba(_0x564890,_0x4d40e2){const _0x506daa=a18_0x506d();return a18_0x19ba=function(_0x19ba73,_0x18662f){_0x19ba73=_0x19ba73-0x1a5;let _0x24ebad=_0x506daa[_0x19ba73];return _0x24ebad;},a18_0x19ba(_0x564890,_0x4d40e2);}const a18_0x51c518=a18_0x19ba;(function(_0x5df020,_0x3ab5a0){const _0xca1c72=a18_0x19ba,_0x2f89a0=_0x5df020();while(!![]){try{const _0xe82a7e=parseInt(_0xca1c72(0x1b1))/0x1+-parseInt(_0xca1c72(0x1b2))/0x2*(-parseInt(_0xca1c72(0x1bd))/0x3)+-parseInt(_0xca1c72(0x1ce))/0x4*(-parseInt(_0xca1c72(0x1c0))/0x5)+-parseInt(_0xca1c72(0x1b6))/0x6*(parseInt(_0xca1c72(0x1f5))/0x7)+parseInt(_0xca1c72(0x1ba))/0x8*(-parseInt(_0xca1c72(0x1bb))/0x9)+parseInt(_0xca1c72(0x1cc))/0xa*(parseInt(_0xca1c72(0x1c7))/0xb)+-parseInt(_0xca1c72(0x1d0))/0xc*(parseInt(_0xca1c72(0x1ae))/0xd);if(_0xe82a7e===_0x3ab5a0)break;else _0x2f89a0['push'](_0x2f89a0['shift']());}catch(_0x52a57f){_0x2f89a0['push'](_0x2f89a0['shift']());}}}(a18_0x506d,0x2f313));function a18_0x506d(){const _0x475b12=['FAILED','validate','14462NvwcfM','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','/payout/stats','/users/:id','getMerchantsAwaitingPayout','Failed\x20to\x20get\x20log\x20statistics','coinToPayStatusService','getPayments','createPayout','/cointopay/stats','deletePayout','/users','updateUserSchema','domainMonitoringService','toISOString','../services/loggerService','__esModule','/payouts','CoinToPay\x20automatic\x20status\x20checking\x20service','../middleware/auth','288483tSajPP','cleanOldLogs','../middleware/validation','285079bVHEme','18bUeTfU','\x20days\x20if\x20not\x20paid','put','EXPIRED','1038IwazIQ','/auth','Domain\x20is\x20responding\x20correctly','/users/:id/suspend','1356848jVKfjT','9JOmQsy','Old\x20logs\x20cleaned\x20(kept\x20last\x20','90084HsQGpa','/payouts/:id','getPaymentById','55395Wyuslj','/logs/stats','CoinToPay\x20payment\x20status\x20checked\x20successfully','/payout/merchants','PENDING','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','getUserById','77ZBLiRB','message','/payments/:id','defineProperty','getMonitoringStats','220630hMivYu','activateUser','132WcoGlr','authenticateToken','192XPHzmR','getPayouts','expiryDays','createUser','../services/domainMonitoringService','post','/domain-monitoring/stats','getLogStats','default','updateUser','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','getServiceStats','/cointopay/check/:paymentId','Payments\x20automatically\x20expire\x20after\x20','get','updatePayment','delete','/users/:id/activate','createPayoutSchema','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','suspendUser','/domain-monitoring/check','/payout','status','../controllers/adminController','../services/coinToPayStatusService','PAID','createUserSchema','requireAdmin','json','checkAuth','getPayoutStats','checkPaymentById','getStatistics','params'];a18_0x506d=function(){return _0x475b12;};return a18_0x506d();}Object[a18_0x51c518(0x1ca)](exports,a18_0x51c518(0x1aa),{'value':!![]});const express_1=require('express'),adminController_1=require(a18_0x51c518(0x1e8)),validation_1=require(a18_0x51c518(0x1b0)),auth_1=require(a18_0x51c518(0x1ad)),loggerService_1=require(a18_0x51c518(0x1a9)),coinToPayStatusService_1=require(a18_0x51c518(0x1e9)),domainMonitoringService_1=require(a18_0x51c518(0x1d4)),router=(0x0,express_1['Router'])(),adminController=new adminController_1['AdminController']();router['use'](auth_1[a18_0x51c518(0x1cf)],auth_1[a18_0x51c518(0x1ec)]),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1b7),adminController[a18_0x51c518(0x1ee)]),router[a18_0x51c518(0x1de)]('/statistics',adminController[a18_0x51c518(0x1f1)]),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1f7),adminController[a18_0x51c518(0x1ef)]),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1c3),adminController[a18_0x51c518(0x1f9)]),router['post'](a18_0x51c518(0x1e6),(0x0,validation_1[a18_0x51c518(0x1f4)])(validation_1[a18_0x51c518(0x1e2)]),adminController[a18_0x51c518(0x1fd)]),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1ab),adminController[a18_0x51c518(0x1d1)]),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1be),adminController['getPayoutById']),router[a18_0x51c518(0x1e0)](a18_0x51c518(0x1be),adminController[a18_0x51c518(0x1ff)]),router[a18_0x51c518(0x1de)]('/payments',adminController[a18_0x51c518(0x1fc)]),router[a18_0x51c518(0x1de)]('/payments/:id',adminController[a18_0x51c518(0x1bf)]),router[a18_0x51c518(0x1b4)](a18_0x51c518(0x1c9),adminController[a18_0x51c518(0x1df)]),router[a18_0x51c518(0x1de)]('/users',adminController['getUsers']),router[a18_0x51c518(0x1de)]('/users/:id',adminController[a18_0x51c518(0x1c6)]),router[a18_0x51c518(0x1d5)](a18_0x51c518(0x1a5),(0x0,validation_1['validate'])(validation_1[a18_0x51c518(0x1eb)]),adminController[a18_0x51c518(0x1d3)]),router[a18_0x51c518(0x1b4)](a18_0x51c518(0x1f8),(0x0,validation_1[a18_0x51c518(0x1f4)])(validation_1[a18_0x51c518(0x1a6)]),adminController[a18_0x51c518(0x1d9)]),router[a18_0x51c518(0x1e0)](a18_0x51c518(0x1f8),adminController['deleteUser']),router[a18_0x51c518(0x1d5)](a18_0x51c518(0x1b9),adminController[a18_0x51c518(0x1e4)]),router[a18_0x51c518(0x1d5)](a18_0x51c518(0x1e1),adminController[a18_0x51c518(0x1cd)]),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1c1),(_0x1005b7,_0x26ce88)=>{const _0x135a5f=a18_0x51c518;try{const _0x1e3918=loggerService_1['loggerService'][_0x135a5f(0x1d7)]();_0x26ce88[_0x135a5f(0x1ed)]({'success':!![],'result':_0x1e3918});}catch(_0x5ab4d2){_0x26ce88['status'](0x1f4)[_0x135a5f(0x1ed)]({'success':![],'message':_0x135a5f(0x1fa)});}}),router['post']('/logs/clean',(_0x1d0ebc,_0x3f41c9)=>{const _0xd1da2b=a18_0x51c518;try{const {daysToKeep:daysToKeep=0x1e}=_0x1d0ebc['body'];loggerService_1['loggerService'][_0xd1da2b(0x1af)](daysToKeep),_0x3f41c9['json']({'success':!![],'message':_0xd1da2b(0x1bc)+daysToKeep+'\x20days)'});}catch(_0x5451bb){_0x3f41c9[_0xd1da2b(0x1e7)](0x1f4)[_0xd1da2b(0x1ed)]({'success':![],'message':'Failed\x20to\x20clean\x20old\x20logs'});}}),router[a18_0x51c518(0x1d5)](a18_0x51c518(0x1dc),async(_0x40e164,_0x240b69)=>{const _0x23029c=a18_0x51c518;try{const {paymentId:_0x3007a5}=_0x40e164[_0x23029c(0x1f2)];await coinToPayStatusService_1[_0x23029c(0x1fb)][_0x23029c(0x1f0)](_0x3007a5),_0x240b69['json']({'success':!![],'message':_0x23029c(0x1c2)});}catch(_0x25b860){_0x240b69['status'](0x1f4)[_0x23029c(0x1ed)]({'success':![],'message':_0x25b860 instanceof Error?_0x25b860['message']:_0x23029c(0x1da)});}}),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1fe),(_0x4a92f1,_0x5e2721)=>{const _0x59eb7f=a18_0x51c518;try{const _0x255183=coinToPayStatusService_1[_0x59eb7f(0x1fb)][_0x59eb7f(0x1db)]();_0x5e2721[_0x59eb7f(0x1ed)]({'success':!![],'result':{..._0x255183,'description':_0x59eb7f(0x1ac),'statusMapping':{'Paid':_0x59eb7f(0x1ea),'Awaiting\x20Fiat':_0x59eb7f(0x1c4),'waiting':_0x59eb7f(0x1c4),'expired':_0x59eb7f(0x1b5),'failed':_0x59eb7f(0x1f3)},'autoExpiryNote':_0x59eb7f(0x1dd)+_0x255183[_0x59eb7f(0x1d2)]+_0x59eb7f(0x1b3)}});}catch(_0x282f66){_0x5e2721[_0x59eb7f(0x1e7)](0x1f4)[_0x59eb7f(0x1ed)]({'success':![],'message':'Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics'});}}),router[a18_0x51c518(0x1de)](a18_0x51c518(0x1d6),(_0x2f64c0,_0x120f72)=>{const _0x694287=a18_0x51c518;try{const _0x23fd8b=domainMonitoringService_1[_0x694287(0x1a7)][_0x694287(0x1cb)]();_0x120f72['json']({'success':!![],'result':{..._0x23fd8b,'description':'Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','behavior':_0x694287(0x1c5),'encoding':_0x694287(0x1e3)}});}catch(_0x265fbb){_0x120f72[_0x694287(0x1e7)](0x1f4)[_0x694287(0x1ed)]({'success':![],'message':_0x694287(0x1f6)});}}),router[a18_0x51c518(0x1d5)](a18_0x51c518(0x1e5),async(_0x3c8a94,_0x504c1d)=>{const _0xb46523=a18_0x51c518;try{const _0x178629=await domainMonitoringService_1[_0xb46523(0x1a7)]['manualCheck']();_0x504c1d[_0xb46523(0x1ed)]({'success':!![],'result':{'domainAvailable':_0x178629,'message':_0x178629?_0xb46523(0x1b8):'Domain\x20check\x20failed','timestamp':new Date()[_0xb46523(0x1a8)]()}});}catch(_0x58dfa9){_0x504c1d['status'](0x1f4)[_0xb46523(0x1ed)]({'success':![],'message':_0x58dfa9 instanceof Error?_0x58dfa9[_0xb46523(0x1c8)]:'Failed\x20to\x20perform\x20manual\x20domain\x20check'});}}),exports[a18_0x51c518(0x1d8)]=router;