'use strict';const a18_0x37b028=a18_0x47ff;function a18_0x47ff(_0x23cad7,_0x4481b0){const _0x5d753f=a18_0x5d75();return a18_0x47ff=function(_0x47ff6f,_0x29fdde){_0x47ff6f=_0x47ff6f-0x87;let _0x233af7=_0x5d753f[_0x47ff6f];return _0x233af7;},a18_0x47ff(_0x23cad7,_0x4481b0);}(function(_0x29c5a0,_0x154cc3){const _0xbd87aa=a18_0x47ff,_0xd58f1=_0x29c5a0();while(!![]){try{const _0x4ee51c=-parseInt(_0xbd87aa(0xc0))/0x1*(parseInt(_0xbd87aa(0x91))/0x2)+parseInt(_0xbd87aa(0xb5))/0x3+parseInt(_0xbd87aa(0xbf))/0x4*(parseInt(_0xbd87aa(0xbc))/0x5)+-parseInt(_0xbd87aa(0xc6))/0x6+parseInt(_0xbd87aa(0xb6))/0x7+-parseInt(_0xbd87aa(0xd0))/0x8*(parseInt(_0xbd87aa(0xa9))/0x9)+parseInt(_0xbd87aa(0x8c))/0xa*(-parseInt(_0xbd87aa(0xce))/0xb);if(_0x4ee51c===_0x154cc3)break;else _0xd58f1['push'](_0xd58f1['shift']());}catch(_0x4913b8){_0xd58f1['push'](_0xd58f1['shift']());}}}(a18_0x5d75,0x338d7));Object['defineProperty'](exports,a18_0x37b028(0xc2),{'value':!![]});function a18_0x5d75(){const _0x315970=['/auth','272ewJBIn','CoinToPay\x20automatic\x20status\x20checking\x20service','checkAuth','Failed\x20to\x20get\x20log\x20statistics','getPayments','FAILED','createPayout','Payments\x20automatically\x20expire\x20after\x20','/payments/:id','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','deletePayout','/payments','status','CoinToPay\x20payment\x20status\x20checked\x20successfully','10fZZGxR','getPayoutStats','EXPIRED','validate','getMerchantsAwaitingPayout','4suSxxu','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','../services/loggerService','/cointopay/stats','body','loggerService','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','createUserSchema','../middleware/auth','checkPaymentById','use','coinToPayStatusService','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','/payout/stats','/users/:id','/domain-monitoring/check','suspendUser','AdminController','/payout','../services/coinToPayStatusService','put','getLogStats','activateUser','/logs/clean','34686BFqELx','../middleware/validation','PENDING','getUserById','Domain\x20check\x20failed','requireAdmin','json','/users/:id/activate','/logs/stats','message','/payouts/:id','updateUser','1093803jyvVJb','1800134wikgYq','PAID','updatePayment','getMonitoringStats','/domain-monitoring/stats','toISOString','5cVPdDV','getPayoutById','expiryDays','778196QIjYAq','37091VlOZBI','/payout/merchants','__esModule','Failed\x20to\x20perform\x20manual\x20domain\x20check','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','Failed\x20to\x20clean\x20old\x20logs','1124856nAwmeb','domainMonitoringService','params','get','Old\x20logs\x20cleaned\x20(kept\x20last\x20','getPaymentById','/statistics','post','2337049RyymuT'];a18_0x5d75=function(){return _0x315970;};return a18_0x5d75();}const express_1=require('express'),adminController_1=require('../controllers/adminController'),validation_1=require(a18_0x37b028(0xaa)),auth_1=require(a18_0x37b028(0x99)),loggerService_1=require(a18_0x37b028(0x93)),coinToPayStatusService_1=require(a18_0x37b028(0xa4)),domainMonitoringService_1=require('../services/domainMonitoringService'),router=(0x0,express_1['Router'])(),adminController=new adminController_1[(a18_0x37b028(0xa2))]();router[a18_0x37b028(0x9b)](auth_1['authenticateToken'],auth_1[a18_0x37b028(0xae)]),router[a18_0x37b028(0xc9)](a18_0x37b028(0xcf),adminController[a18_0x37b028(0xd2)]),router[a18_0x37b028(0xc9)](a18_0x37b028(0xcc),adminController['getStatistics']),router[a18_0x37b028(0xc9)](a18_0x37b028(0x9e),adminController[a18_0x37b028(0x8d)]),router['get'](a18_0x37b028(0xc1),adminController[a18_0x37b028(0x90)]),router[a18_0x37b028(0xcd)](a18_0x37b028(0xa3),(0x0,validation_1[a18_0x37b028(0x8f)])(validation_1['createPayoutSchema']),adminController[a18_0x37b028(0xd6)]),router[a18_0x37b028(0xc9)]('/payouts',adminController['getPayouts']),router[a18_0x37b028(0xc9)](a18_0x37b028(0xb3),adminController[a18_0x37b028(0xbd)]),router['delete'](a18_0x37b028(0xb3),adminController[a18_0x37b028(0x88)]),router[a18_0x37b028(0xc9)](a18_0x37b028(0x89),adminController[a18_0x37b028(0xd4)]),router[a18_0x37b028(0xc9)](a18_0x37b028(0xd8),adminController[a18_0x37b028(0xcb)]),router['put'](a18_0x37b028(0xd8),adminController[a18_0x37b028(0xb8)]),router[a18_0x37b028(0xc9)]('/users',adminController['getUsers']),router[a18_0x37b028(0xc9)](a18_0x37b028(0x9f),adminController[a18_0x37b028(0xac)]),router[a18_0x37b028(0xcd)]('/users',(0x0,validation_1[a18_0x37b028(0x8f)])(validation_1[a18_0x37b028(0x98)]),adminController['createUser']),router[a18_0x37b028(0xa5)](a18_0x37b028(0x9f),(0x0,validation_1[a18_0x37b028(0x8f)])(validation_1['updateUserSchema']),adminController[a18_0x37b028(0xb4)]),router['delete'](a18_0x37b028(0x9f),adminController['deleteUser']),router[a18_0x37b028(0xcd)]('/users/:id/suspend',adminController[a18_0x37b028(0xa1)]),router[a18_0x37b028(0xcd)](a18_0x37b028(0xb0),adminController[a18_0x37b028(0xa7)]),router['get'](a18_0x37b028(0xb1),(_0x551376,_0x5011c2)=>{const _0xa81333=a18_0x37b028;try{const _0x3c5013=loggerService_1[_0xa81333(0x96)][_0xa81333(0xa6)]();_0x5011c2[_0xa81333(0xaf)]({'success':!![],'result':_0x3c5013});}catch(_0x202749){_0x5011c2[_0xa81333(0x8a)](0x1f4)[_0xa81333(0xaf)]({'success':![],'message':_0xa81333(0xd3)});}}),router['post'](a18_0x37b028(0xa8),(_0x2e6fcd,_0x18f025)=>{const _0x8947b1=a18_0x37b028;try{const {daysToKeep:daysToKeep=0x1e}=_0x2e6fcd[_0x8947b1(0x95)];loggerService_1[_0x8947b1(0x96)]['cleanOldLogs'](daysToKeep),_0x18f025['json']({'success':!![],'message':_0x8947b1(0xca)+daysToKeep+'\x20days)'});}catch(_0x5edfae){_0x18f025[_0x8947b1(0x8a)](0x1f4)[_0x8947b1(0xaf)]({'success':![],'message':_0x8947b1(0xc5)});}}),router[a18_0x37b028(0xcd)]('/cointopay/check/:paymentId',async(_0x18c65e,_0x52c9d7)=>{const _0x28fb03=a18_0x37b028;try{const {paymentId:_0x217080}=_0x18c65e[_0x28fb03(0xc8)];await coinToPayStatusService_1[_0x28fb03(0x9c)][_0x28fb03(0x9a)](_0x217080),_0x52c9d7[_0x28fb03(0xaf)]({'success':!![],'message':_0x28fb03(0x8b)});}catch(_0x399a24){_0x52c9d7[_0x28fb03(0x8a)](0x1f4)[_0x28fb03(0xaf)]({'success':![],'message':_0x399a24 instanceof Error?_0x399a24[_0x28fb03(0xb2)]:_0x28fb03(0x97)});}}),router[a18_0x37b028(0xc9)](a18_0x37b028(0x94),(_0xd214d9,_0x22f3f7)=>{const _0x2f6742=a18_0x37b028;try{const _0x345256=coinToPayStatusService_1[_0x2f6742(0x9c)]['getServiceStats']();_0x22f3f7[_0x2f6742(0xaf)]({'success':!![],'result':{..._0x345256,'description':_0x2f6742(0xd1),'statusMapping':{'Paid':_0x2f6742(0xb7),'Awaiting\x20Fiat':_0x2f6742(0xab),'waiting':_0x2f6742(0xab),'expired':_0x2f6742(0x8e),'failed':_0x2f6742(0xd5)},'autoExpiryNote':_0x2f6742(0xd7)+_0x345256[_0x2f6742(0xbe)]+'\x20days\x20if\x20not\x20paid'}});}catch(_0x580d61){_0x22f3f7[_0x2f6742(0x8a)](0x1f4)[_0x2f6742(0xaf)]({'success':![],'message':'Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics'});}}),router[a18_0x37b028(0xc9)](a18_0x37b028(0xba),(_0xdda3c5,_0xd96ac8)=>{const _0x21dd6f=a18_0x37b028;try{const _0x3db803=domainMonitoringService_1[_0x21dd6f(0xc7)][_0x21dd6f(0xb9)]();_0xd96ac8[_0x21dd6f(0xaf)]({'success':!![],'result':{..._0x3db803,'description':_0x21dd6f(0x92),'behavior':_0x21dd6f(0x87),'encoding':_0x21dd6f(0xc4)}});}catch(_0x4991b1){_0xd96ac8['status'](0x1f4)[_0x21dd6f(0xaf)]({'success':![],'message':_0x21dd6f(0x9d)});}}),router[a18_0x37b028(0xcd)](a18_0x37b028(0xa0),async(_0x50669c,_0x26091e)=>{const _0x3ab48d=a18_0x37b028;try{const _0x89dedd=await domainMonitoringService_1[_0x3ab48d(0xc7)]['manualCheck']();_0x26091e['json']({'success':!![],'result':{'domainAvailable':_0x89dedd,'message':_0x89dedd?'Domain\x20is\x20responding\x20correctly':_0x3ab48d(0xad),'timestamp':new Date()[_0x3ab48d(0xbb)]()}});}catch(_0x1a6bab){_0x26091e[_0x3ab48d(0x8a)](0x1f4)[_0x3ab48d(0xaf)]({'success':![],'message':_0x1a6bab instanceof Error?_0x1a6bab['message']:_0x3ab48d(0xc3)});}}),exports['default']=router;