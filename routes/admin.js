'use strict';const a18_0x5b7136=a18_0x27df;(function(_0xe1ee01,_0x191b0c){const _0x550797=a18_0x27df,_0x5469e0=_0xe1ee01();while(!![]){try{const _0x1bab1d=parseInt(_0x550797(0x216))/0x1+parseInt(_0x550797(0x21c))/0x2+parseInt(_0x550797(0x20b))/0x3*(parseInt(_0x550797(0x21b))/0x4)+-parseInt(_0x550797(0x1e6))/0x5+parseInt(_0x550797(0x1ed))/0x6*(-parseInt(_0x550797(0x1f9))/0x7)+parseInt(_0x550797(0x207))/0x8*(-parseInt(_0x550797(0x229))/0x9)+parseInt(_0x550797(0x210))/0xa;if(_0x1bab1d===_0x191b0c)break;else _0x5469e0['push'](_0x5469e0['shift']());}catch(_0x4d2936){_0x5469e0['push'](_0x5469e0['shift']());}}}(a18_0x30db,0x70c3a));function a18_0x27df(_0x411b05,_0x5e402f){const _0x30db64=a18_0x30db();return a18_0x27df=function(_0x27df51,_0x23c479){_0x27df51=_0x27df51-0x1dc;let _0x3392d3=_0x30db64[_0x27df51];return _0x3392d3;},a18_0x27df(_0x411b05,_0x5e402f);}function a18_0x30db(){const _0x1c0bc7=['createUserSchema','/payout/merchants','deleteUser','delete','message','Payments\x20automatically\x20expire\x20after\x20','updatePayment','loggerService','CoinToPay\x20automatic\x20status\x20checking\x20service','118936sOnEXI','authenticateToken','Domain\x20check\x20failed','../middleware/auth','299655kNnvgU','defineProperty','createPayoutSchema','CoinToPay\x20payment\x20status\x20checked\x20successfully','/payout/stats','219480vDqCRG','getMonitoringStats','/logs/clean','Domain\x20is\x20responding\x20correctly','EXPIRED','\x20days\x20if\x20not\x20paid','236499Nsmymp','post','checkPaymentById','/payments/:id','getMerchantsAwaitingPayout','20jFbdim','1645320hWTNqw','getPayoutStats','/users/:id/activate','expiryDays','use','suspendUser','/users','../services/coinToPayStatusService','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','createPayout','/auth','get','Failed\x20to\x20perform\x20manual\x20domain\x20check','459jGvJya','activateUser','status','/payouts/:id','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','/payout','checkAuth','params','coinToPayStatusService','getPayments','getPaymentById','manualCheck','createUser','Failed\x20to\x20clean\x20old\x20logs','put','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','/payouts','updateUser','json','cleanOldLogs','validate','updateUserSchema','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','1050690MkORfN','Router','getPayoutById','getLogStats','__esModule','/domain-monitoring/check','default','901770jGBQsF','/cointopay/check/:paymentId','domainMonitoringService','AdminController','toISOString','FAILED','/domain-monitoring/stats','/logs/stats','../services/loggerService','/payments','Old\x20logs\x20cleaned\x20(kept\x20last\x20','/cointopay/stats','7QWnNKm','PENDING','/users/:id','express','\x20days)'];a18_0x30db=function(){return _0x1c0bc7;};return a18_0x30db();}Object[a18_0x5b7136(0x20c)](exports,a18_0x5b7136(0x1ea),{'value':!![]});const express_1=require(a18_0x5b7136(0x1fc)),adminController_1=require('../controllers/adminController'),validation_1=require('../middleware/validation'),auth_1=require(a18_0x5b7136(0x20a)),loggerService_1=require(a18_0x5b7136(0x1f5)),coinToPayStatusService_1=require(a18_0x5b7136(0x223)),domainMonitoringService_1=require('../services/domainMonitoringService'),router=(0x0,express_1[a18_0x5b7136(0x1e7)])(),adminController=new adminController_1[(a18_0x5b7136(0x1f0))]();router[a18_0x5b7136(0x220)](auth_1[a18_0x5b7136(0x208)],auth_1['requireAdmin']),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x226),adminController[a18_0x5b7136(0x230)]),router[a18_0x5b7136(0x227)]('/statistics',adminController['getStatistics']),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x20f),adminController[a18_0x5b7136(0x21d)]),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x1ff),adminController[a18_0x5b7136(0x21a)]),router[a18_0x5b7136(0x217)](a18_0x5b7136(0x22f),(0x0,validation_1[a18_0x5b7136(0x1e3)])(validation_1[a18_0x5b7136(0x20d)]),adminController[a18_0x5b7136(0x225)]),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x1df),adminController['getPayouts']),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x22c),adminController[a18_0x5b7136(0x1e8)]),router[a18_0x5b7136(0x201)](a18_0x5b7136(0x22c),adminController['deletePayout']),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x1f6),adminController[a18_0x5b7136(0x233)]),router[a18_0x5b7136(0x227)]('/payments/:id',adminController[a18_0x5b7136(0x234)]),router['put'](a18_0x5b7136(0x219),adminController[a18_0x5b7136(0x204)]),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x222),adminController['getUsers']),router['get'](a18_0x5b7136(0x1fb),adminController['getUserById']),router[a18_0x5b7136(0x217)](a18_0x5b7136(0x222),(0x0,validation_1[a18_0x5b7136(0x1e3)])(validation_1[a18_0x5b7136(0x1fe)]),adminController[a18_0x5b7136(0x236)]),router[a18_0x5b7136(0x1dd)]('/users/:id',(0x0,validation_1[a18_0x5b7136(0x1e3)])(validation_1[a18_0x5b7136(0x1e4)]),adminController[a18_0x5b7136(0x1e0)]),router[a18_0x5b7136(0x201)](a18_0x5b7136(0x1fb),adminController[a18_0x5b7136(0x200)]),router[a18_0x5b7136(0x217)]('/users/:id/suspend',adminController[a18_0x5b7136(0x221)]),router[a18_0x5b7136(0x217)](a18_0x5b7136(0x21e),adminController[a18_0x5b7136(0x22a)]),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x1f4),(_0x2ca2ce,_0x3b071d)=>{const _0x291dd9=a18_0x5b7136;try{const _0x7d0ce8=loggerService_1[_0x291dd9(0x205)][_0x291dd9(0x1e9)]();_0x3b071d[_0x291dd9(0x1e1)]({'success':!![],'result':_0x7d0ce8});}catch(_0x1b4bb2){_0x3b071d[_0x291dd9(0x22b)](0x1f4)['json']({'success':![],'message':'Failed\x20to\x20get\x20log\x20statistics'});}}),router[a18_0x5b7136(0x217)](a18_0x5b7136(0x212),(_0x582296,_0x174ebd)=>{const _0x3bea1b=a18_0x5b7136;try{const {daysToKeep:daysToKeep=0x1e}=_0x582296['body'];loggerService_1['loggerService'][_0x3bea1b(0x1e2)](daysToKeep),_0x174ebd[_0x3bea1b(0x1e1)]({'success':!![],'message':_0x3bea1b(0x1f7)+daysToKeep+_0x3bea1b(0x1fd)});}catch(_0x400d33){_0x174ebd['status'](0x1f4)[_0x3bea1b(0x1e1)]({'success':![],'message':_0x3bea1b(0x1dc)});}}),router[a18_0x5b7136(0x217)](a18_0x5b7136(0x1ee),async(_0x267d16,_0x24c5e7)=>{const _0x5b47d8=a18_0x5b7136;try{const {paymentId:_0x44ed9b}=_0x267d16[_0x5b47d8(0x231)];await coinToPayStatusService_1['coinToPayStatusService'][_0x5b47d8(0x218)](_0x44ed9b),_0x24c5e7['json']({'success':!![],'message':_0x5b47d8(0x20e)});}catch(_0x338045){_0x24c5e7['status'](0x1f4)['json']({'success':![],'message':_0x338045 instanceof Error?_0x338045[_0x5b47d8(0x202)]:_0x5b47d8(0x1e5)});}}),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x1f8),(_0xccd70d,_0x27bd2e)=>{const _0x275bd7=a18_0x5b7136;try{const _0x5d40db=coinToPayStatusService_1[_0x275bd7(0x232)]['getServiceStats']();_0x27bd2e[_0x275bd7(0x1e1)]({'success':!![],'result':{..._0x5d40db,'description':_0x275bd7(0x206),'statusMapping':{'Paid':'PAID','Awaiting\x20Fiat':_0x275bd7(0x1fa),'waiting':_0x275bd7(0x1fa),'expired':_0x275bd7(0x214),'failed':_0x275bd7(0x1f2)},'autoExpiryNote':_0x275bd7(0x203)+_0x5d40db[_0x275bd7(0x21f)]+_0x275bd7(0x215)}});}catch(_0x2d9f34){_0x27bd2e[_0x275bd7(0x22b)](0x1f4)['json']({'success':![],'message':_0x275bd7(0x224)});}}),router[a18_0x5b7136(0x227)](a18_0x5b7136(0x1f3),(_0x567802,_0x532297)=>{const _0x481f2c=a18_0x5b7136;try{const _0x1c607e=domainMonitoringService_1[_0x481f2c(0x1ef)][_0x481f2c(0x211)]();_0x532297['json']({'success':!![],'result':{..._0x1c607e,'description':_0x481f2c(0x22d),'behavior':'Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','encoding':_0x481f2c(0x1de)}});}catch(_0x4a9b47){_0x532297[_0x481f2c(0x22b)](0x1f4)[_0x481f2c(0x1e1)]({'success':![],'message':_0x481f2c(0x22e)});}}),router[a18_0x5b7136(0x217)](a18_0x5b7136(0x1eb),async(_0x43bc94,_0x1c50e1)=>{const _0x438af9=a18_0x5b7136;try{const _0xd54469=await domainMonitoringService_1[_0x438af9(0x1ef)][_0x438af9(0x235)]();_0x1c50e1[_0x438af9(0x1e1)]({'success':!![],'result':{'domainAvailable':_0xd54469,'message':_0xd54469?_0x438af9(0x213):_0x438af9(0x209),'timestamp':new Date()[_0x438af9(0x1f1)]()}});}catch(_0x51a0ed){_0x1c50e1['status'](0x1f4)[_0x438af9(0x1e1)]({'success':![],'message':_0x51a0ed instanceof Error?_0x51a0ed[_0x438af9(0x202)]:_0x438af9(0x228)});}}),exports[a18_0x5b7136(0x1ec)]=router;