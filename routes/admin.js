'use strict';const a18_0x3fe0fc=a18_0x5b12;function a18_0x5947(){const _0xc22b8f=['/statistics','PENDING','11TPUiLZ','Router','getLogStats','createPayout','checkPaymentById','/payout/stats','9995902NuIAmy','toISOString','408IgyCqI','72MIYbmN','1551345xIyfHu','getMonitoringStats','getPaymentById','PAID','1347XNYUEB','status','../middleware/validation','express','getMerchantsAwaitingPayout','getUsers','manualCheck','updateUser','/users','getPayments','448aUtTYR','55GqwhTK','createPayoutSchema','post','/auth','/logs/clean','4yKwVps','\x20days\x20if\x20not\x20paid','/domain-monitoring/check','Failed\x20to\x20get\x20log\x20statistics','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','/cointopay/check/:paymentId','/users/:id','../services/coinToPayStatusService','\x20days)','createUser','/users/:id/activate','createUserSchema','Domain\x20is\x20responding\x20correctly','get','581690lolEWq','message','json','3869244smPYeN','EXPIRED','loggerService','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','39ekmwtt','CoinToPay\x20automatic\x20status\x20checking\x20service','suspendUser','domainMonitoringService','38633JuggDb','checkAuth','/payout/merchants','/payouts/:id','../middleware/auth','getServiceStats','Old\x20logs\x20cleaned\x20(kept\x20last\x20','getStatistics','/cointopay/stats','use','../services/domainMonitoringService','validate','../services/loggerService','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','delete','Payments\x20automatically\x20expire\x20after\x20','deletePayout','getPayoutById','../controllers/adminController','updatePayment','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','__esModule','authenticateToken','deleteUser','Failed\x20to\x20perform\x20manual\x20domain\x20check','/payments','AdminController','Failed\x20to\x20clean\x20old\x20logs','coinToPayStatusService','cleanOldLogs','263838GsbvbO','default','/payout','put','requireAdmin'];a18_0x5947=function(){return _0xc22b8f;};return a18_0x5947();}function a18_0x5b12(_0x1cb080,_0x40fd72){const _0x5947d2=a18_0x5947();return a18_0x5b12=function(_0x5b1209,_0x353d4d){_0x5b1209=_0x5b1209-0x95;let _0x1634dc=_0x5947d2[_0x5b1209];return _0x1634dc;},a18_0x5b12(_0x1cb080,_0x40fd72);}(function(_0x4979e1,_0x2727fc){const _0x53fe30=a18_0x5b12,_0x4ec8e1=_0x4979e1();while(!![]){try{const _0x49cfdf=parseInt(_0x53fe30(0xe7))/0x1*(parseInt(_0x53fe30(0x95))/0x2)+-parseInt(_0x53fe30(0xe3))/0x3*(parseInt(_0x53fe30(0x9b))/0x4)+-parseInt(_0x53fe30(0x96))/0x5*(parseInt(_0x53fe30(0xd2))/0x6)+-parseInt(_0x53fe30(0xb4))/0x7*(parseInt(_0x53fe30(0xe1))/0x8)+parseInt(_0x53fe30(0xe2))/0x9*(-parseInt(_0x53fe30(0xa9))/0xa)+-parseInt(_0x53fe30(0xd9))/0xb*(parseInt(_0x53fe30(0xac))/0xc)+parseInt(_0x53fe30(0xb0))/0xd*(parseInt(_0x53fe30(0xdf))/0xe);if(_0x49cfdf===_0x2727fc)break;else _0x4ec8e1['push'](_0x4ec8e1['shift']());}catch(_0x5b96bf){_0x4ec8e1['push'](_0x4ec8e1['shift']());}}}(a18_0x5947,0x5b37f));Object['defineProperty'](exports,a18_0x3fe0fc(0xc9),{'value':!![]});const express_1=require(a18_0x3fe0fc(0xea)),adminController_1=require(a18_0x3fe0fc(0xc6)),validation_1=require(a18_0x3fe0fc(0xe9)),auth_1=require(a18_0x3fe0fc(0xb8)),loggerService_1=require(a18_0x3fe0fc(0xc0)),coinToPayStatusService_1=require(a18_0x3fe0fc(0xa2)),domainMonitoringService_1=require(a18_0x3fe0fc(0xbe)),router=(0x0,express_1[a18_0x3fe0fc(0xda)])(),adminController=new adminController_1[(a18_0x3fe0fc(0xce))]();router[a18_0x3fe0fc(0xbd)](auth_1[a18_0x3fe0fc(0xca)],auth_1[a18_0x3fe0fc(0xd6)]),router['get'](a18_0x3fe0fc(0x99),adminController[a18_0x3fe0fc(0xb5)]),router[a18_0x3fe0fc(0xa8)](a18_0x3fe0fc(0xd7),adminController[a18_0x3fe0fc(0xbb)]),router[a18_0x3fe0fc(0xa8)](a18_0x3fe0fc(0xde),adminController['getPayoutStats']),router[a18_0x3fe0fc(0xa8)](a18_0x3fe0fc(0xb6),adminController[a18_0x3fe0fc(0xeb)]),router['post'](a18_0x3fe0fc(0xd4),(0x0,validation_1[a18_0x3fe0fc(0xbf)])(validation_1[a18_0x3fe0fc(0x97)]),adminController[a18_0x3fe0fc(0xdc)]),router['get']('/payouts',adminController['getPayouts']),router[a18_0x3fe0fc(0xa8)](a18_0x3fe0fc(0xb7),adminController[a18_0x3fe0fc(0xc5)]),router[a18_0x3fe0fc(0xc2)](a18_0x3fe0fc(0xb7),adminController[a18_0x3fe0fc(0xc4)]),router[a18_0x3fe0fc(0xa8)](a18_0x3fe0fc(0xcd),adminController[a18_0x3fe0fc(0xf0)]),router['get']('/payments/:id',adminController[a18_0x3fe0fc(0xe5)]),router[a18_0x3fe0fc(0xd5)]('/payments/:id',adminController[a18_0x3fe0fc(0xc7)]),router['get']('/users',adminController[a18_0x3fe0fc(0xec)]),router['get'](a18_0x3fe0fc(0xa1),adminController['getUserById']),router['post'](a18_0x3fe0fc(0xef),(0x0,validation_1[a18_0x3fe0fc(0xbf)])(validation_1[a18_0x3fe0fc(0xa6)]),adminController[a18_0x3fe0fc(0xa4)]),router[a18_0x3fe0fc(0xd5)](a18_0x3fe0fc(0xa1),(0x0,validation_1[a18_0x3fe0fc(0xbf)])(validation_1['updateUserSchema']),adminController[a18_0x3fe0fc(0xee)]),router['delete'](a18_0x3fe0fc(0xa1),adminController[a18_0x3fe0fc(0xcb)]),router[a18_0x3fe0fc(0x98)]('/users/:id/suspend',adminController[a18_0x3fe0fc(0xb2)]),router[a18_0x3fe0fc(0x98)](a18_0x3fe0fc(0xa5),adminController['activateUser']),router[a18_0x3fe0fc(0xa8)]('/logs/stats',(_0x3e7f5b,_0x3ae717)=>{const _0x3b238d=a18_0x3fe0fc;try{const _0x38a0c8=loggerService_1[_0x3b238d(0xae)][_0x3b238d(0xdb)]();_0x3ae717[_0x3b238d(0xab)]({'success':!![],'result':_0x38a0c8});}catch(_0xc478a8){_0x3ae717['status'](0x1f4)[_0x3b238d(0xab)]({'success':![],'message':_0x3b238d(0x9e)});}}),router[a18_0x3fe0fc(0x98)](a18_0x3fe0fc(0x9a),(_0x374fba,_0x1eb913)=>{const _0x355704=a18_0x3fe0fc;try{const {daysToKeep:daysToKeep=0x1e}=_0x374fba['body'];loggerService_1['loggerService'][_0x355704(0xd1)](daysToKeep),_0x1eb913[_0x355704(0xab)]({'success':!![],'message':_0x355704(0xba)+daysToKeep+_0x355704(0xa3)});}catch(_0x2f7ebf){_0x1eb913[_0x355704(0xe8)](0x1f4)[_0x355704(0xab)]({'success':![],'message':_0x355704(0xcf)});}}),router[a18_0x3fe0fc(0x98)](a18_0x3fe0fc(0xa0),async(_0x341c23,_0x17ab37)=>{const _0x52d620=a18_0x3fe0fc;try{const {paymentId:_0x3ae456}=_0x341c23['params'];await coinToPayStatusService_1[_0x52d620(0xd0)][_0x52d620(0xdd)](_0x3ae456),_0x17ab37[_0x52d620(0xab)]({'success':!![],'message':'CoinToPay\x20payment\x20status\x20checked\x20successfully'});}catch(_0x7ef543){_0x17ab37[_0x52d620(0xe8)](0x1f4)[_0x52d620(0xab)]({'success':![],'message':_0x7ef543 instanceof Error?_0x7ef543[_0x52d620(0xaa)]:_0x52d620(0xaf)});}}),router['get'](a18_0x3fe0fc(0xbc),(_0x45b480,_0x4c9f05)=>{const _0x393617=a18_0x3fe0fc;try{const _0x3f842e=coinToPayStatusService_1[_0x393617(0xd0)][_0x393617(0xb9)]();_0x4c9f05[_0x393617(0xab)]({'success':!![],'result':{..._0x3f842e,'description':_0x393617(0xb1),'statusMapping':{'Paid':_0x393617(0xe6),'Awaiting\x20Fiat':_0x393617(0xd8),'waiting':_0x393617(0xd8),'expired':_0x393617(0xad),'failed':'FAILED'},'autoExpiryNote':_0x393617(0xc3)+_0x3f842e['expiryDays']+_0x393617(0x9c)}});}catch(_0xfa6e3e){_0x4c9f05[_0x393617(0xe8)](0x1f4)['json']({'success':![],'message':_0x393617(0x9f)});}}),router[a18_0x3fe0fc(0xa8)]('/domain-monitoring/stats',(_0x17c505,_0x5deb56)=>{const _0x4154d9=a18_0x3fe0fc;try{const _0x2245c1=domainMonitoringService_1[_0x4154d9(0xb3)][_0x4154d9(0xe4)]();_0x5deb56[_0x4154d9(0xab)]({'success':!![],'result':{..._0x2245c1,'description':'Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','behavior':_0x4154d9(0xc1),'encoding':_0x4154d9(0xc8)}});}catch(_0x3f205d){_0x5deb56[_0x4154d9(0xe8)](0x1f4)['json']({'success':![],'message':'Failed\x20to\x20get\x20domain\x20monitoring\x20statistics'});}}),router[a18_0x3fe0fc(0x98)](a18_0x3fe0fc(0x9d),async(_0x3c0f96,_0x325140)=>{const _0x283f7c=a18_0x3fe0fc;try{const _0x4b413d=await domainMonitoringService_1[_0x283f7c(0xb3)][_0x283f7c(0xed)]();_0x325140[_0x283f7c(0xab)]({'success':!![],'result':{'domainAvailable':_0x4b413d,'message':_0x4b413d?_0x283f7c(0xa7):'Domain\x20check\x20failed','timestamp':new Date()[_0x283f7c(0xe0)]()}});}catch(_0x4d2a2d){_0x325140['status'](0x1f4)[_0x283f7c(0xab)]({'success':![],'message':_0x4d2a2d instanceof Error?_0x4d2a2d[_0x283f7c(0xaa)]:_0x283f7c(0xcc)});}}),exports[a18_0x3fe0fc(0xd3)]=router;