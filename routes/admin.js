'use strict';const a18_0x2a2e05=a18_0x46f0;(function(_0x4bfa54,_0x29f09e){const _0x786835=a18_0x46f0,_0x13b806=_0x4bfa54();while(!![]){try{const _0x471283=parseInt(_0x786835(0x189))/0x1*(parseInt(_0x786835(0x16a))/0x2)+-parseInt(_0x786835(0x173))/0x3+-parseInt(_0x786835(0x1a5))/0x4+parseInt(_0x786835(0x170))/0x5*(-parseInt(_0x786835(0x1a0))/0x6)+parseInt(_0x786835(0x16c))/0x7*(-parseInt(_0x786835(0x15a))/0x8)+-parseInt(_0x786835(0x179))/0x9+parseInt(_0x786835(0x17c))/0xa;if(_0x471283===_0x29f09e)break;else _0x13b806['push'](_0x13b806['shift']());}catch(_0x2f8083){_0x13b806['push'](_0x13b806['shift']());}}}(a18_0x5ab1,0xab5c9));Object[a18_0x2a2e05(0x16b)](exports,a18_0x2a2e05(0x1a7),{'value':!![]});function a18_0x46f0(_0x59be10,_0x1aea86){const _0x5ab19c=a18_0x5ab1();return a18_0x46f0=function(_0x46f046,_0x3edbde){_0x46f046=_0x46f046-0x14f;let _0x3ed7c1=_0x5ab19c[_0x46f046];return _0x3ed7c1;},a18_0x46f0(_0x59be10,_0x1aea86);}const express_1=require(a18_0x2a2e05(0x174)),adminController_1=require(a18_0x2a2e05(0x168)),validation_1=require(a18_0x2a2e05(0x156)),auth_1=require('../middleware/auth'),loggerService_1=require(a18_0x2a2e05(0x171)),coinToPayStatusService_1=require(a18_0x2a2e05(0x153)),domainMonitoringService_1=require('../services/domainMonitoringService'),router=(0x0,express_1[a18_0x2a2e05(0x16d)])(),adminController=new adminController_1[(a18_0x2a2e05(0x190))]();function a18_0x5ab1(){const _0x345dbe=['EXPIRED','../middleware/validation','PENDING','coinToPayStatusService','/users/:id/activate','16tfkBUA','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','CoinToPay\x20automatic\x20status\x20checking\x20service','getLogStats','createPayoutSchema','/auth','FAILED','updatePayment','\x20days)','updateUserSchema','checkAuth','delete','default','json','../controllers/adminController','/cointopay/check/:paymentId','6kwpxko','defineProperty','3046253XAiaTj','Router','/payout','/payouts','1256005COLuSt','../services/loggerService','/cointopay/stats','3301788inapaG','express','put','suspendUser','getMerchantsAwaitingPayout','getServiceStats','8162946HjejIN','toISOString','/statistics','32650870RplTib','Old\x20logs\x20cleaned\x20(kept\x20last\x20','params','/payouts/:id','Failed\x20to\x20perform\x20manual\x20domain\x20check','post','deletePayout','/payout/stats','/users','loggerService','Payments\x20automatically\x20expire\x20after\x20','status','updateUser','314021eJHgxs','manualCheck','getPaymentById','getUsers','Failed\x20to\x20get\x20log\x20statistics','createUser','createPayout','AdminController','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','Domain\x20is\x20responding\x20correctly','createUserSchema','message','/payments','getPayments','deleteUser','authenticateToken','get','/logs/stats','activateUser','/payments/:id','requireAdmin','getPayoutById','CoinToPay\x20payment\x20status\x20checked\x20successfully','6nHMYaG','validate','body','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','checkPaymentById','1504416UUrnAg','\x20days\x20if\x20not\x20paid','__esModule','/users/:id','/payout/merchants','use','domainMonitoringService','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','getPayouts','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','/logs/clean','/domain-monitoring/stats','../services/coinToPayStatusService','Domain\x20check\x20failed'];a18_0x5ab1=function(){return _0x345dbe;};return a18_0x5ab1();}router[a18_0x2a2e05(0x1aa)](auth_1[a18_0x2a2e05(0x198)],auth_1[a18_0x2a2e05(0x19d)]),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x15f),adminController[a18_0x2a2e05(0x164)]),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x17b),adminController['getStatistics']),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x183),adminController['getPayoutStats']),router['get'](a18_0x2a2e05(0x1a9),adminController[a18_0x2a2e05(0x177)]),router[a18_0x2a2e05(0x181)](a18_0x2a2e05(0x16e),(0x0,validation_1['validate'])(validation_1[a18_0x2a2e05(0x15e)]),adminController[a18_0x2a2e05(0x18f)]),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x16f),adminController[a18_0x2a2e05(0x14f)]),router[a18_0x2a2e05(0x199)]('/payouts/:id',adminController[a18_0x2a2e05(0x19e)]),router['delete'](a18_0x2a2e05(0x17f),adminController[a18_0x2a2e05(0x182)]),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x195),adminController[a18_0x2a2e05(0x196)]),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x19c),adminController[a18_0x2a2e05(0x18b)]),router[a18_0x2a2e05(0x175)](a18_0x2a2e05(0x19c),adminController[a18_0x2a2e05(0x161)]),router['get'](a18_0x2a2e05(0x184),adminController[a18_0x2a2e05(0x18c)]),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x1a8),adminController['getUserById']),router[a18_0x2a2e05(0x181)](a18_0x2a2e05(0x184),(0x0,validation_1['validate'])(validation_1[a18_0x2a2e05(0x193)]),adminController[a18_0x2a2e05(0x18e)]),router[a18_0x2a2e05(0x175)](a18_0x2a2e05(0x1a8),(0x0,validation_1[a18_0x2a2e05(0x1a1)])(validation_1[a18_0x2a2e05(0x163)]),adminController[a18_0x2a2e05(0x188)]),router[a18_0x2a2e05(0x165)](a18_0x2a2e05(0x1a8),adminController[a18_0x2a2e05(0x197)]),router[a18_0x2a2e05(0x181)]('/users/:id/suspend',adminController[a18_0x2a2e05(0x176)]),router[a18_0x2a2e05(0x181)](a18_0x2a2e05(0x159),adminController[a18_0x2a2e05(0x19b)]),router['get'](a18_0x2a2e05(0x19a),(_0x5201ff,_0x357feb)=>{const _0x3fe6f4=a18_0x2a2e05;try{const _0x3d2aa7=loggerService_1[_0x3fe6f4(0x185)][_0x3fe6f4(0x15d)]();_0x357feb[_0x3fe6f4(0x167)]({'success':!![],'result':_0x3d2aa7});}catch(_0x4b5fc5){_0x357feb[_0x3fe6f4(0x187)](0x1f4)['json']({'success':![],'message':_0x3fe6f4(0x18d)});}}),router[a18_0x2a2e05(0x181)](a18_0x2a2e05(0x151),(_0x55e366,_0x585d9a)=>{const _0xb5b52d=a18_0x2a2e05;try{const {daysToKeep:daysToKeep=0x1e}=_0x55e366[_0xb5b52d(0x1a2)];loggerService_1[_0xb5b52d(0x185)]['cleanOldLogs'](daysToKeep),_0x585d9a['json']({'success':!![],'message':_0xb5b52d(0x17d)+daysToKeep+_0xb5b52d(0x162)});}catch(_0x576932){_0x585d9a[_0xb5b52d(0x187)](0x1f4)[_0xb5b52d(0x167)]({'success':![],'message':'Failed\x20to\x20clean\x20old\x20logs'});}}),router[a18_0x2a2e05(0x181)](a18_0x2a2e05(0x169),async(_0x2d815d,_0x53e57d)=>{const _0x445ad9=a18_0x2a2e05;try{const {paymentId:_0x280b01}=_0x2d815d[_0x445ad9(0x17e)];await coinToPayStatusService_1[_0x445ad9(0x158)][_0x445ad9(0x1a4)](_0x280b01),_0x53e57d[_0x445ad9(0x167)]({'success':!![],'message':_0x445ad9(0x19f)});}catch(_0x52b4ec){_0x53e57d['status'](0x1f4)[_0x445ad9(0x167)]({'success':![],'message':_0x52b4ec instanceof Error?_0x52b4ec[_0x445ad9(0x194)]:_0x445ad9(0x1a3)});}}),router[a18_0x2a2e05(0x199)](a18_0x2a2e05(0x172),(_0x33bf20,_0x53340b)=>{const _0x31ff43=a18_0x2a2e05;try{const _0x425464=coinToPayStatusService_1[_0x31ff43(0x158)][_0x31ff43(0x178)]();_0x53340b[_0x31ff43(0x167)]({'success':!![],'result':{..._0x425464,'description':_0x31ff43(0x15c),'statusMapping':{'Paid':'PAID','Awaiting\x20Fiat':_0x31ff43(0x157),'waiting':_0x31ff43(0x157),'expired':_0x31ff43(0x155),'failed':_0x31ff43(0x160)},'autoExpiryNote':_0x31ff43(0x186)+_0x425464['expiryDays']+_0x31ff43(0x1a6)}});}catch(_0x2d650f){_0x53340b[_0x31ff43(0x187)](0x1f4)[_0x31ff43(0x167)]({'success':![],'message':'Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics'});}}),router['get'](a18_0x2a2e05(0x152),(_0x12dea1,_0x2e473f)=>{const _0x4c28f0=a18_0x2a2e05;try{const _0x110b0d=domainMonitoringService_1[_0x4c28f0(0x1ab)]['getMonitoringStats']();_0x2e473f[_0x4c28f0(0x167)]({'success':!![],'result':{..._0x110b0d,'description':_0x4c28f0(0x15b),'behavior':_0x4c28f0(0x1ac),'encoding':_0x4c28f0(0x191)}});}catch(_0x2cd37b){_0x2e473f[_0x4c28f0(0x187)](0x1f4)[_0x4c28f0(0x167)]({'success':![],'message':_0x4c28f0(0x150)});}}),router[a18_0x2a2e05(0x181)]('/domain-monitoring/check',async(_0x2b80f7,_0x2af51e)=>{const _0x5163a3=a18_0x2a2e05;try{const _0x13f1ce=await domainMonitoringService_1['domainMonitoringService'][_0x5163a3(0x18a)]();_0x2af51e[_0x5163a3(0x167)]({'success':!![],'result':{'domainAvailable':_0x13f1ce,'message':_0x13f1ce?_0x5163a3(0x192):_0x5163a3(0x154),'timestamp':new Date()[_0x5163a3(0x17a)]()}});}catch(_0x259a5b){_0x2af51e[_0x5163a3(0x187)](0x1f4)[_0x5163a3(0x167)]({'success':![],'message':_0x259a5b instanceof Error?_0x259a5b[_0x5163a3(0x194)]:_0x5163a3(0x180)});}}),exports[a18_0x2a2e05(0x166)]=router;