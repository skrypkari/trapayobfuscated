'use strict';const a18_0x5f063c=a18_0x3497;(function(_0x547a10,_0x37c23f){const _0xa44873=a18_0x3497,_0x47f6ea=_0x547a10();while(!![]){try{const _0x4d2d4a=parseInt(_0xa44873(0xef))/0x1*(-parseInt(_0xa44873(0xe6))/0x2)+parseInt(_0xa44873(0xeb))/0x3+parseInt(_0xa44873(0xf1))/0x4+parseInt(_0xa44873(0xf7))/0x5*(parseInt(_0xa44873(0x12a))/0x6)+-parseInt(_0xa44873(0x128))/0x7+parseInt(_0xa44873(0x125))/0x8+-parseInt(_0xa44873(0x117))/0x9;if(_0x4d2d4a===_0x37c23f)break;else _0x47f6ea['push'](_0x47f6ea['shift']());}catch(_0x4b4dc1){_0x47f6ea['push'](_0x47f6ea['shift']());}}}(a18_0x28ee,0x5c9c8));Object['defineProperty'](exports,'__esModule',{'value':!![]});function a18_0x28ee(){const _0x278c16=['deleteUser','manualCheck','toISOString','../middleware/validation','validate','/statistics','/payouts','/users/:id','/domain-monitoring/stats','/users','loggerService','getMonitoringStats','getServiceStats','/logs/clean','/cointopay/stats','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','Domain\x20check\x20failed','checkAuth','Failed\x20to\x20get\x20log\x20statistics','express','createPayoutSchema','/payouts/:id','body','Failed\x20to\x20perform\x20manual\x20domain\x20check','../services/domainMonitoringService','getLogStats','CoinToPay\x20payment\x20status\x20checked\x20successfully','1372995cpVjbf','AdminController','getPayoutById','getPayoutStats','Domain\x20is\x20responding\x20correctly','updateUserSchema','PENDING','get','EXPIRED','message','updateUser','getUsers','createUserSchema','status','543408lxmkYN','getStatistics','/auth','2996021XXHmmM','deletePayout','350862SQYLHY','/users/:id/activate','FAILED','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','Old\x20logs\x20cleaned\x20(kept\x20last\x20','/cointopay/check/:paymentId','../services/coinToPayStatusService','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','put','Failed\x20to\x20clean\x20old\x20logs','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','default','/users/:id/suspend','310094GgXeGQ','/payments','getPayments','authenticateToken','getUserById','2220261qpMiYU','/payout/stats','CoinToPay\x20automatic\x20status\x20checking\x20service','../controllers/adminController','4CnNWLj','\x20days\x20if\x20not\x20paid','1684828xKaPjc','delete','json','getPayouts','params','post','30yKbafj','coinToPayStatusService','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','/payments/:id','../services/loggerService'];a18_0x28ee=function(){return _0x278c16;};return a18_0x28ee();}const express_1=require(a18_0x5f063c(0x10f)),adminController_1=require(a18_0x5f063c(0xee)),validation_1=require(a18_0x5f063c(0xff)),auth_1=require('../middleware/auth'),loggerService_1=require(a18_0x5f063c(0xfb)),coinToPayStatusService_1=require(a18_0x5f063c(0x130)),domainMonitoringService_1=require(a18_0x5f063c(0x114)),router=(0x0,express_1['Router'])(),adminController=new adminController_1[(a18_0x5f063c(0x118))]();function a18_0x3497(_0x2d2f9c,_0x5c296d){const _0x28ee96=a18_0x28ee();return a18_0x3497=function(_0x349733,_0x4880f9){_0x349733=_0x349733-0xe6;let _0x472790=_0x28ee96[_0x349733];return _0x472790;},a18_0x3497(_0x2d2f9c,_0x5c296d);}router['use'](auth_1[a18_0x5f063c(0xe9)],auth_1['requireAdmin']),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0x127),adminController[a18_0x5f063c(0x10d)]),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0x101),adminController[a18_0x5f063c(0x126)]),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0xec),adminController[a18_0x5f063c(0x11a)]),router[a18_0x5f063c(0x11e)]('/payout/merchants',adminController['getMerchantsAwaitingPayout']),router[a18_0x5f063c(0xf6)]('/payout',(0x0,validation_1[a18_0x5f063c(0x100)])(validation_1[a18_0x5f063c(0x110)]),adminController['createPayout']),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0x102),adminController[a18_0x5f063c(0xf4)]),router[a18_0x5f063c(0x11e)]('/payouts/:id',adminController[a18_0x5f063c(0x119)]),router[a18_0x5f063c(0xf2)](a18_0x5f063c(0x111),adminController[a18_0x5f063c(0x129)]),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0xe7),adminController[a18_0x5f063c(0xe8)]),router[a18_0x5f063c(0x11e)]('/payments/:id',adminController['getPaymentById']),router[a18_0x5f063c(0x132)](a18_0x5f063c(0xfa),adminController['updatePayment']),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0x105),adminController[a18_0x5f063c(0x122)]),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0x103),adminController[a18_0x5f063c(0xea)]),router['post'](a18_0x5f063c(0x105),(0x0,validation_1[a18_0x5f063c(0x100)])(validation_1[a18_0x5f063c(0x123)]),adminController['createUser']),router[a18_0x5f063c(0x132)]('/users/:id',(0x0,validation_1[a18_0x5f063c(0x100)])(validation_1[a18_0x5f063c(0x11c)]),adminController[a18_0x5f063c(0x121)]),router['delete'](a18_0x5f063c(0x103),adminController[a18_0x5f063c(0xfc)]),router[a18_0x5f063c(0xf6)](a18_0x5f063c(0x136),adminController['suspendUser']),router[a18_0x5f063c(0xf6)](a18_0x5f063c(0x12b),adminController['activateUser']),router[a18_0x5f063c(0x11e)]('/logs/stats',(_0x163585,_0x2c8acf)=>{const _0x1c18e8=a18_0x5f063c;try{const _0x1c293e=loggerService_1[_0x1c18e8(0x106)][_0x1c18e8(0x115)]();_0x2c8acf[_0x1c18e8(0xf3)]({'success':!![],'result':_0x1c293e});}catch(_0x3ee36a){_0x2c8acf[_0x1c18e8(0x124)](0x1f4)[_0x1c18e8(0xf3)]({'success':![],'message':_0x1c18e8(0x10e)});}}),router[a18_0x5f063c(0xf6)](a18_0x5f063c(0x109),(_0x1864ff,_0x275006)=>{const _0xb0016c=a18_0x5f063c;try{const {daysToKeep:daysToKeep=0x1e}=_0x1864ff[_0xb0016c(0x112)];loggerService_1['loggerService']['cleanOldLogs'](daysToKeep),_0x275006[_0xb0016c(0xf3)]({'success':!![],'message':_0xb0016c(0x12e)+daysToKeep+'\x20days)'});}catch(_0x1eebd5){_0x275006[_0xb0016c(0x124)](0x1f4)[_0xb0016c(0xf3)]({'success':![],'message':_0xb0016c(0x133)});}}),router[a18_0x5f063c(0xf6)](a18_0x5f063c(0x12f),async(_0x43e531,_0x5e6bf5)=>{const _0x58ff97=a18_0x5f063c;try{const {paymentId:_0x1b3b9c}=_0x43e531[_0x58ff97(0xf5)];await coinToPayStatusService_1[_0x58ff97(0xf8)]['checkPaymentById'](_0x1b3b9c),_0x5e6bf5['json']({'success':!![],'message':_0x58ff97(0x116)});}catch(_0xe13da2){_0x5e6bf5[_0x58ff97(0x124)](0x1f4)[_0x58ff97(0xf3)]({'success':![],'message':_0xe13da2 instanceof Error?_0xe13da2[_0x58ff97(0x120)]:_0x58ff97(0x134)});}}),router[a18_0x5f063c(0x11e)](a18_0x5f063c(0x10a),(_0x474268,_0x1687c0)=>{const _0x4153fc=a18_0x5f063c;try{const _0x254e19=coinToPayStatusService_1[_0x4153fc(0xf8)][_0x4153fc(0x108)]();_0x1687c0[_0x4153fc(0xf3)]({'success':!![],'result':{..._0x254e19,'description':_0x4153fc(0xed),'statusMapping':{'Paid':'PAID','Awaiting\x20Fiat':_0x4153fc(0x11d),'waiting':_0x4153fc(0x11d),'expired':_0x4153fc(0x11f),'failed':_0x4153fc(0x12c)},'autoExpiryNote':'Payments\x20automatically\x20expire\x20after\x20'+_0x254e19['expiryDays']+_0x4153fc(0xf0)}});}catch(_0x3702a3){_0x1687c0[_0x4153fc(0x124)](0x1f4)[_0x4153fc(0xf3)]({'success':![],'message':'Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics'});}}),router['get'](a18_0x5f063c(0x104),(_0x2856c8,_0x152e02)=>{const _0x4f6c0a=a18_0x5f063c;try{const _0x2e1036=domainMonitoringService_1['domainMonitoringService'][_0x4f6c0a(0x107)]();_0x152e02['json']({'success':!![],'result':{..._0x2e1036,'description':_0x4f6c0a(0x12d),'behavior':_0x4f6c0a(0x131),'encoding':_0x4f6c0a(0x10b)}});}catch(_0x25053a){_0x152e02['status'](0x1f4)[_0x4f6c0a(0xf3)]({'success':![],'message':_0x4f6c0a(0xf9)});}}),router[a18_0x5f063c(0xf6)]('/domain-monitoring/check',async(_0x1fa4b4,_0x1dd1d6)=>{const _0x222bf9=a18_0x5f063c;try{const _0x36162b=await domainMonitoringService_1['domainMonitoringService'][_0x222bf9(0xfd)]();_0x1dd1d6['json']({'success':!![],'result':{'domainAvailable':_0x36162b,'message':_0x36162b?_0x222bf9(0x11b):_0x222bf9(0x10c),'timestamp':new Date()[_0x222bf9(0xfe)]()}});}catch(_0x2e899d){_0x1dd1d6[_0x222bf9(0x124)](0x1f4)[_0x222bf9(0xf3)]({'success':![],'message':_0x2e899d instanceof Error?_0x2e899d[_0x222bf9(0x120)]:_0x222bf9(0x113)});}}),exports[a18_0x5f063c(0x135)]=router;