'use strict';const a18_0x11c896=a18_0xaee1;(function(_0x2144da,_0x41ebb4){const _0x20742d=a18_0xaee1,_0x2ec3e1=_0x2144da();while(!![]){try{const _0x5c205d=-parseInt(_0x20742d(0x150))/0x1*(-parseInt(_0x20742d(0x173))/0x2)+parseInt(_0x20742d(0x171))/0x3+-parseInt(_0x20742d(0x177))/0x4*(-parseInt(_0x20742d(0x160))/0x5)+-parseInt(_0x20742d(0x15c))/0x6+parseInt(_0x20742d(0x133))/0x7+-parseInt(_0x20742d(0x147))/0x8+-parseInt(_0x20742d(0x14a))/0x9;if(_0x5c205d===_0x41ebb4)break;else _0x2ec3e1['push'](_0x2ec3e1['shift']());}catch(_0x3fe849){_0x2ec3e1['push'](_0x2ec3e1['shift']());}}}(a18_0x99c8,0x52e86));function a18_0x99c8(){const _0x4ddfc6=['FAILED','status','cleanOldLogs','createUser','deletePayout','../services/loggerService','createPayout','\x20days)','checkAuth','511362BsPlBZ','../services/coinToPayStatusService','getPayments','/users','29915FbkzPh','getUserById','updatePayment','/payments/:id','PAID','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','/logs/stats','activateUser','validate','Router','updateUserSchema','default','getPaymentById','/payout/stats','PENDING','getPayoutStats','CoinToPay\x20payment\x20status\x20checked\x20successfully','1920201gUnvvM','EXPIRED','222218jLnXyp','get','Failed\x20to\x20clean\x20old\x20logs','deleteUser','124jbvQOz','getMerchantsAwaitingPayout','/payout/merchants','Failed\x20to\x20get\x20log\x20statistics','/users/:id/suspend','855064JZULqd','json','defineProperty','checkPaymentById','params','message','/auth','getLogStats','/cointopay/stats','body','../controllers/adminController','authenticateToken','/payments','delete','post','/cointopay/check/:paymentId','use','\x20days\x20if\x20not\x20paid','/logs/clean','/payouts/:id','4471800EZgPwV','expiryDays','Payments\x20automatically\x20expire\x20after\x20','675081howgAZ','createUserSchema','/statistics','/users/:id','CoinToPay\x20automatic\x20status\x20checking\x20service','getPayouts','1tRNZqD','coinToPayStatusService','put'];a18_0x99c8=function(){return _0x4ddfc6;};return a18_0x99c8();}function a18_0xaee1(_0x28016e,_0x18fc13){const _0x99c85c=a18_0x99c8();return a18_0xaee1=function(_0xaee1d,_0x2692ac){_0xaee1d=_0xaee1d-0x133;let _0x3d6007=_0x99c85c[_0xaee1d];return _0x3d6007;},a18_0xaee1(_0x28016e,_0x18fc13);}Object[a18_0x11c896(0x135)](exports,'__esModule',{'value':!![]});const express_1=require('express'),adminController_1=require(a18_0x11c896(0x13d)),validation_1=require('../middleware/validation'),auth_1=require('../middleware/auth'),loggerService_1=require(a18_0x11c896(0x158)),coinToPayStatusService_1=require(a18_0x11c896(0x15d)),router=(0x0,express_1[a18_0x11c896(0x169)])(),adminController=new adminController_1['AdminController']();router[a18_0x11c896(0x143)](auth_1[a18_0x11c896(0x13e)],auth_1['requireAdmin']),router['get'](a18_0x11c896(0x139),adminController[a18_0x11c896(0x15b)]),router[a18_0x11c896(0x174)](a18_0x11c896(0x14c),adminController['getStatistics']),router[a18_0x11c896(0x174)](a18_0x11c896(0x16d),adminController[a18_0x11c896(0x16f)]),router[a18_0x11c896(0x174)](a18_0x11c896(0x179),adminController[a18_0x11c896(0x178)]),router[a18_0x11c896(0x141)]('/payout',(0x0,validation_1['validate'])(validation_1['createPayoutSchema']),adminController[a18_0x11c896(0x159)]),router['get']('/payouts',adminController[a18_0x11c896(0x14f)]),router['get'](a18_0x11c896(0x146),adminController['getPayoutById']),router['delete'](a18_0x11c896(0x146),adminController[a18_0x11c896(0x157)]),router[a18_0x11c896(0x174)](a18_0x11c896(0x13f),adminController[a18_0x11c896(0x15e)]),router[a18_0x11c896(0x174)]('/payments/:id',adminController[a18_0x11c896(0x16c)]),router[a18_0x11c896(0x152)](a18_0x11c896(0x163),adminController[a18_0x11c896(0x162)]),router[a18_0x11c896(0x174)](a18_0x11c896(0x15f),adminController['getUsers']),router[a18_0x11c896(0x174)](a18_0x11c896(0x14d),adminController[a18_0x11c896(0x161)]),router[a18_0x11c896(0x141)](a18_0x11c896(0x15f),(0x0,validation_1[a18_0x11c896(0x168)])(validation_1[a18_0x11c896(0x14b)]),adminController[a18_0x11c896(0x156)]),router[a18_0x11c896(0x152)](a18_0x11c896(0x14d),(0x0,validation_1['validate'])(validation_1[a18_0x11c896(0x16a)]),adminController['updateUser']),router[a18_0x11c896(0x140)](a18_0x11c896(0x14d),adminController[a18_0x11c896(0x176)]),router[a18_0x11c896(0x141)](a18_0x11c896(0x17b),adminController['suspendUser']),router[a18_0x11c896(0x141)]('/users/:id/activate',adminController[a18_0x11c896(0x167)]),router[a18_0x11c896(0x174)](a18_0x11c896(0x166),(_0x3d3109,_0x2eeb10)=>{const _0x171bb9=a18_0x11c896;try{const _0x3b9045=loggerService_1['loggerService'][_0x171bb9(0x13a)]();_0x2eeb10[_0x171bb9(0x134)]({'success':!![],'result':_0x3b9045});}catch(_0x2fdeb6){_0x2eeb10[_0x171bb9(0x154)](0x1f4)['json']({'success':![],'message':_0x171bb9(0x17a)});}}),router[a18_0x11c896(0x141)](a18_0x11c896(0x145),(_0x38d3d7,_0xa5f7f1)=>{const _0x57709c=a18_0x11c896;try{const {daysToKeep:daysToKeep=0x1e}=_0x38d3d7[_0x57709c(0x13c)];loggerService_1['loggerService'][_0x57709c(0x155)](daysToKeep),_0xa5f7f1['json']({'success':!![],'message':'Old\x20logs\x20cleaned\x20(kept\x20last\x20'+daysToKeep+_0x57709c(0x15a)});}catch(_0x134463){_0xa5f7f1['status'](0x1f4)[_0x57709c(0x134)]({'success':![],'message':_0x57709c(0x175)});}}),router[a18_0x11c896(0x141)](a18_0x11c896(0x142),async(_0x1bba14,_0x25e4db)=>{const _0x5a3edb=a18_0x11c896;try{const {paymentId:_0x385577}=_0x1bba14[_0x5a3edb(0x137)];await coinToPayStatusService_1[_0x5a3edb(0x151)][_0x5a3edb(0x136)](_0x385577),_0x25e4db[_0x5a3edb(0x134)]({'success':!![],'message':_0x5a3edb(0x170)});}catch(_0x4bd7e2){_0x25e4db['status'](0x1f4)[_0x5a3edb(0x134)]({'success':![],'message':_0x4bd7e2 instanceof Error?_0x4bd7e2[_0x5a3edb(0x138)]:_0x5a3edb(0x165)});}}),router['get'](a18_0x11c896(0x13b),(_0x6edba5,_0x464d8b)=>{const _0x29d187=a18_0x11c896;try{const _0x10a764=coinToPayStatusService_1[_0x29d187(0x151)]['getServiceStats']();_0x464d8b[_0x29d187(0x134)]({'success':!![],'result':{..._0x10a764,'description':_0x29d187(0x14e),'statusMapping':{'Paid':_0x29d187(0x164),'Awaiting\x20Fiat':'PENDING','waiting':_0x29d187(0x16e),'expired':_0x29d187(0x172),'failed':_0x29d187(0x153)},'autoExpiryNote':_0x29d187(0x149)+_0x10a764[_0x29d187(0x148)]+_0x29d187(0x144)}});}catch(_0x496fdb){_0x464d8b[_0x29d187(0x154)](0x1f4)[_0x29d187(0x134)]({'success':![],'message':'Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics'});}}),exports[a18_0x11c896(0x16b)]=router;