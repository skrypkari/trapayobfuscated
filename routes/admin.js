'use strict';function a18_0x31a1(){const _0x3dee5a=['deleteUser','32233025ISCEZH','getUsers','CoinToPay\x20automatic\x20status\x20checking\x20service','suspendUser','1zSERaT','updateUser','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','5540490wGJIyH','getPayoutStats','/cointopay/stats','message','../services/coinToPayStatusService','getStatistics','authenticateToken','use','default','/payouts/:id','put','getLogStats','312076jeSbXX','createUserSchema','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','\x20days\x20if\x20not\x20paid','getPaymentById','/users/:id','expiryDays','domainMonitoringService','../middleware/auth','getMerchantsAwaitingPayout','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','../services/loggerService','10EaZlBO','Router','3175186UChleL','../services/domainMonitoringService','get','/cointopay/check/:paymentId','coinToPayStatusService','3148299XPGKTt','requireAdmin','getPayments','checkPaymentById','PENDING','996336nQLLTe','post','699570xppXJS','\x20days)','defineProperty','checkAuth','Failed\x20to\x20get\x20log\x20statistics','/users/:id/suspend','getUserById','getMonitoringStats','cleanOldLogs','Domain\x20check\x20failed','../middleware/validation','/users','json','status','updatePayment','/payments/:id','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','body','loggerService','getPayoutById','FAILED','/domain-monitoring/stats','Old\x20logs\x20cleaned\x20(kept\x20last\x20','/payout','/logs/stats','6yYZVFA','toISOString','12HtSWaY','Domain\x20is\x20responding\x20correctly','updateUserSchema','Payments\x20automatically\x20expire\x20after\x20','validate','delete','createPayout'];a18_0x31a1=function(){return _0x3dee5a;};return a18_0x31a1();}const a18_0x488688=a18_0x8c21;function a18_0x8c21(_0x22bf70,_0x562212){const _0x31a18c=a18_0x31a1();return a18_0x8c21=function(_0x8c2158,_0x307859){_0x8c2158=_0x8c2158-0x193;let _0x3cb219=_0x31a18c[_0x8c2158];return _0x3cb219;},a18_0x8c21(_0x22bf70,_0x562212);}(function(_0x529862,_0x4da759){const _0x328ea4=a18_0x8c21,_0x2c2a26=_0x529862();while(!![]){try{const _0x11b36b=-parseInt(_0x328ea4(0x1dc))/0x1*(-parseInt(_0x328ea4(0x19a))/0x2)+-parseInt(_0x328ea4(0x1ad))/0x3+-parseInt(_0x328ea4(0x1d0))/0x4*(parseInt(_0x328ea4(0x1b4))/0x5)+-parseInt(_0x328ea4(0x1ce))/0x6*(parseInt(_0x328ea4(0x1a8))/0x7)+parseInt(_0x328ea4(0x1b2))/0x8+-parseInt(_0x328ea4(0x1df))/0x9*(parseInt(_0x328ea4(0x1a6))/0xa)+parseInt(_0x328ea4(0x1d8))/0xb;if(_0x11b36b===_0x4da759)break;else _0x2c2a26['push'](_0x2c2a26['shift']());}catch(_0x1c4e04){_0x2c2a26['push'](_0x2c2a26['shift']());}}}(a18_0x31a1,0xa42d8));Object[a18_0x488688(0x1b6)](exports,'__esModule',{'value':!![]});const express_1=require('express'),adminController_1=require('../controllers/adminController'),validation_1=require(a18_0x488688(0x1be)),auth_1=require(a18_0x488688(0x1a2)),loggerService_1=require(a18_0x488688(0x1a5)),coinToPayStatusService_1=require(a18_0x488688(0x1e3)),domainMonitoringService_1=require(a18_0x488688(0x1a9)),router=(0x0,express_1[a18_0x488688(0x1a7)])(),adminController=new adminController_1['AdminController']();router[a18_0x488688(0x195)](auth_1[a18_0x488688(0x194)],auth_1[a18_0x488688(0x1ae)]),router[a18_0x488688(0x1aa)]('/auth',adminController[a18_0x488688(0x1b7)]),router[a18_0x488688(0x1aa)]('/statistics',adminController[a18_0x488688(0x193)]),router[a18_0x488688(0x1aa)]('/payout/stats',adminController[a18_0x488688(0x1e0)]),router[a18_0x488688(0x1aa)]('/payout/merchants',adminController[a18_0x488688(0x1a3)]),router[a18_0x488688(0x1b3)](a18_0x488688(0x1cc),(0x0,validation_1[a18_0x488688(0x1d4)])(validation_1['createPayoutSchema']),adminController[a18_0x488688(0x1d6)]),router[a18_0x488688(0x1aa)]('/payouts',adminController['getPayouts']),router[a18_0x488688(0x1aa)](a18_0x488688(0x197),adminController[a18_0x488688(0x1c8)]),router[a18_0x488688(0x1d5)](a18_0x488688(0x197),adminController['deletePayout']),router[a18_0x488688(0x1aa)]('/payments',adminController[a18_0x488688(0x1af)]),router[a18_0x488688(0x1aa)](a18_0x488688(0x1c3),adminController[a18_0x488688(0x19e)]),router[a18_0x488688(0x198)](a18_0x488688(0x1c3),adminController[a18_0x488688(0x1c2)]),router[a18_0x488688(0x1aa)](a18_0x488688(0x1bf),adminController[a18_0x488688(0x1d9)]),router[a18_0x488688(0x1aa)]('/users/:id',adminController[a18_0x488688(0x1ba)]),router['post'](a18_0x488688(0x1bf),(0x0,validation_1[a18_0x488688(0x1d4)])(validation_1[a18_0x488688(0x19b)]),adminController['createUser']),router[a18_0x488688(0x198)](a18_0x488688(0x19f),(0x0,validation_1[a18_0x488688(0x1d4)])(validation_1[a18_0x488688(0x1d2)]),adminController[a18_0x488688(0x1dd)]),router[a18_0x488688(0x1d5)](a18_0x488688(0x19f),adminController[a18_0x488688(0x1d7)]),router['post'](a18_0x488688(0x1b9),adminController[a18_0x488688(0x1db)]),router[a18_0x488688(0x1b3)]('/users/:id/activate',adminController['activateUser']),router[a18_0x488688(0x1aa)](a18_0x488688(0x1cd),(_0x3b5aa0,_0x2c54d9)=>{const _0x594f19=a18_0x488688;try{const _0x3c1453=loggerService_1[_0x594f19(0x1c7)][_0x594f19(0x199)]();_0x2c54d9['json']({'success':!![],'result':_0x3c1453});}catch(_0x22dadc){_0x2c54d9['status'](0x1f4)[_0x594f19(0x1c0)]({'success':![],'message':_0x594f19(0x1b8)});}}),router['post']('/logs/clean',(_0x110ba4,_0x26deaa)=>{const _0x321c59=a18_0x488688;try{const {daysToKeep:daysToKeep=0x1e}=_0x110ba4[_0x321c59(0x1c6)];loggerService_1['loggerService'][_0x321c59(0x1bc)](daysToKeep),_0x26deaa[_0x321c59(0x1c0)]({'success':!![],'message':_0x321c59(0x1cb)+daysToKeep+_0x321c59(0x1b5)});}catch(_0x4fc4ea){_0x26deaa[_0x321c59(0x1c1)](0x1f4)['json']({'success':![],'message':'Failed\x20to\x20clean\x20old\x20logs'});}}),router[a18_0x488688(0x1b3)](a18_0x488688(0x1ab),async(_0x427933,_0x23fab7)=>{const _0x55bcab=a18_0x488688;try{const {paymentId:_0x15a75a}=_0x427933['params'];await coinToPayStatusService_1[_0x55bcab(0x1ac)][_0x55bcab(0x1b0)](_0x15a75a),_0x23fab7[_0x55bcab(0x1c0)]({'success':!![],'message':'CoinToPay\x20payment\x20status\x20checked\x20successfully'});}catch(_0x201e7b){_0x23fab7[_0x55bcab(0x1c1)](0x1f4)[_0x55bcab(0x1c0)]({'success':![],'message':_0x201e7b instanceof Error?_0x201e7b['message']:_0x55bcab(0x19c)});}}),router[a18_0x488688(0x1aa)](a18_0x488688(0x1e1),(_0x41399c,_0x4a8101)=>{const _0x111cb5=a18_0x488688;try{const _0x1b7edd=coinToPayStatusService_1[_0x111cb5(0x1ac)]['getServiceStats']();_0x4a8101['json']({'success':!![],'result':{..._0x1b7edd,'description':_0x111cb5(0x1da),'statusMapping':{'Paid':'PAID','Awaiting\x20Fiat':_0x111cb5(0x1b1),'waiting':'PENDING','expired':'EXPIRED','failed':_0x111cb5(0x1c9)},'autoExpiryNote':_0x111cb5(0x1d3)+_0x1b7edd[_0x111cb5(0x1a0)]+_0x111cb5(0x19d)}});}catch(_0x1eb6f4){_0x4a8101[_0x111cb5(0x1c1)](0x1f4)[_0x111cb5(0x1c0)]({'success':![],'message':_0x111cb5(0x1de)});}}),router[a18_0x488688(0x1aa)](a18_0x488688(0x1ca),(_0x13ba89,_0x2491cc)=>{const _0x3dc417=a18_0x488688;try{const _0x36d7e8=domainMonitoringService_1[_0x3dc417(0x1a1)][_0x3dc417(0x1bb)]();_0x2491cc['json']({'success':!![],'result':{..._0x36d7e8,'description':_0x3dc417(0x1c4),'behavior':'Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','encoding':_0x3dc417(0x1c5)}});}catch(_0x2e877b){_0x2491cc[_0x3dc417(0x1c1)](0x1f4)[_0x3dc417(0x1c0)]({'success':![],'message':_0x3dc417(0x1a4)});}}),router[a18_0x488688(0x1b3)]('/domain-monitoring/check',async(_0x4eb2ca,_0x79a732)=>{const _0x4154d3=a18_0x488688;try{const _0x3fff46=await domainMonitoringService_1[_0x4154d3(0x1a1)]['manualCheck']();_0x79a732[_0x4154d3(0x1c0)]({'success':!![],'result':{'domainAvailable':_0x3fff46,'message':_0x3fff46?_0x4154d3(0x1d1):_0x4154d3(0x1bd),'timestamp':new Date()[_0x4154d3(0x1cf)]()}});}catch(_0x511e38){_0x79a732['status'](0x1f4)[_0x4154d3(0x1c0)]({'success':![],'message':_0x511e38 instanceof Error?_0x511e38[_0x4154d3(0x1e2)]:'Failed\x20to\x20perform\x20manual\x20domain\x20check'});}}),exports[a18_0x488688(0x196)]=router;