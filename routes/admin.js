'use strict';function a19_0x1514(_0x4545c2,_0x2b249d){const _0x3822ac=a19_0x3822();return a19_0x1514=function(_0x1514a9,_0x5bcaba){_0x1514a9=_0x1514a9-0x192;let _0x5da6ab=_0x3822ac[_0x1514a9];return _0x5da6ab;},a19_0x1514(_0x4545c2,_0x2b249d);}const a19_0xeea53b=a19_0x1514;function a19_0x3822(){const _0x5e73a5=['3441236KNIYrf','authenticateToken','cleanOldLogs','put','AdminController','suspendUser','__importStar','getMerchantsAwaitingPayout','paymentId','getPaymentById','../services/coinToPayStatusService','getMonitoringStats','../middleware/validation','updatePayment','PENDING','deleteUser','Old\x20logs\x20cleaned\x20(kept\x20last\x20','gatewayPaymentId','444OoEPyU','requireAdmin','/payouts','/merchant-statistics','/payments','error','\x20days)','5kqzuTO','__createBinding','EXPIRED','‚ùå\x20[ADMIN]\x20Manual\x20CoinToPay\x20check\x20failed\x20for\x20payment\x20','../middleware/auth','getPayoutStats','/users/:id/activate','coinToPayStatusService','PAID','/users/:id/suspend','/payments/:id','/statistics','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','defineProperty','/domain-monitoring/check','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','checkPaymentById','3AHsNal','cointopay','updateCustomerData','validate','Payment\x20not\x20found','824100hVlLUZ','length','amount','Router','Domain\x20is\x20responding\x20correctly','getMerchantsSelection','now','shop','/payments/:id/customer','296aUjgnD','/auth','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','CoinToPay\x20payment\x20status\x20checked\x20successfully','__esModule','hasOwnProperty','currency','deletePayout','message','createPayout','CoinToPay\x20automatic\x20status\x20checking\x20service','status','express','gateway','üîç\x20[ADMIN]\x20Manual\x20CoinToPay\x20check\x20requested\x20for\x20payment:\x20','3468snPpSM','getLogStats','Failed\x20to\x20perform\x20manual\x20domain\x20check','/domain-monitoring/stats','delete','getPayments','/cointopay/payment/:paymentId','get','8288UrAyUS','manualCheck','default','Failed\x20to\x20get\x20payment\x20information','payment','741912KiAgxf','../services/loggerService','FAILED','2101308jGnATp','../controllers/adminController','../services/domainMonitoringService','expiryDays','createUserSchema','json','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','getUserById','writable','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','updatedAt','use','/payout','/logs/stats','log','/users/:id','/payout/merchants','/logs/clean','getPayouts','538516DLNqJm','getPaymentTimerInfo','post','getTime','findUnique','Payments\x20automatically\x20expire\x20after\x20','Failed\x20to\x20clean\x20old\x20logs','getPayoutById','resolve','248805vBNUzJ','create','updateCustomerDataSchema','/users','domainMonitoringService','/cointopay/check/:paymentId','getMerchantStatistics','params','body','Domain\x20check\x20failed','getOwnPropertyDescriptor','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','/payout/stats','loggerService','/payouts/:id','then','getOwnPropertyNames'];a19_0x3822=function(){return _0x5e73a5;};return a19_0x3822();}(function(_0x727cd3,_0x20053f){const _0x3062f7=a19_0x1514,_0x5d5fd3=_0x727cd3();while(!![]){try{const _0xfb4d55=parseInt(_0x3062f7(0x19e))/0x1+parseInt(_0x3062f7(0x1a1))/0x2*(parseInt(_0x3062f7(0x1f8))/0x3)+parseInt(_0x3062f7(0x1ce))/0x4*(parseInt(_0x3062f7(0x1e7))/0x5)+-parseInt(_0x3062f7(0x215))/0x6*(-parseInt(_0x3062f7(0x199))/0x7)+-parseInt(_0x3062f7(0x206))/0x8*(parseInt(_0x3062f7(0x1bd))/0x9)+parseInt(_0x3062f7(0x1fd))/0xa+-parseInt(_0x3062f7(0x1b4))/0xb*(parseInt(_0x3062f7(0x1e0))/0xc);if(_0xfb4d55===_0x20053f)break;else _0x5d5fd3['push'](_0x5d5fd3['shift']());}catch(_0x353ec9){_0x5d5fd3['push'](_0x5d5fd3['shift']());}}}(a19_0x3822,0x8eeb8));var __createBinding=this&&this[a19_0xeea53b(0x1e8)]||(Object['create']?function(_0x35f28b,_0x38a5bc,_0x3c4f0f,_0x1ae88a){const _0x1c8094=a19_0xeea53b;if(_0x1ae88a===undefined)_0x1ae88a=_0x3c4f0f;var _0x35d00b=Object[_0x1c8094(0x1c7)](_0x38a5bc,_0x3c4f0f);(!_0x35d00b||(_0x1c8094(0x198)in _0x35d00b?!_0x38a5bc['__esModule']:_0x35d00b[_0x1c8094(0x1a9)]||_0x35d00b['configurable']))&&(_0x35d00b={'enumerable':!![],'get':function(){return _0x38a5bc[_0x3c4f0f];}}),Object['defineProperty'](_0x35f28b,_0x1ae88a,_0x35d00b);}:function(_0x2da373,_0x4c4328,_0x47ae0e,_0x1032ef){if(_0x1032ef===undefined)_0x1032ef=_0x47ae0e;_0x2da373[_0x1032ef]=_0x4c4328[_0x47ae0e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a19_0xeea53b(0x1be)]?function(_0x30779d,_0x23d4d8){const _0x480c4f=a19_0xeea53b;Object[_0x480c4f(0x1f4)](_0x30779d,'default',{'enumerable':!![],'value':_0x23d4d8});}:function(_0x3f1407,_0x2c9bad){const _0xa33c88=a19_0xeea53b;_0x3f1407[_0xa33c88(0x19b)]=_0x2c9bad;}),__importStar=this&&this[a19_0xeea53b(0x1d4)]||(function(){var _0x2d3a77=function(_0x1efedf){const _0x2220bb=a19_0x1514;return _0x2d3a77=Object[_0x2220bb(0x1cd)]||function(_0x28eccb){const _0x2173e3=_0x2220bb;var _0x1ac4af=[];for(var _0x5a1734 in _0x28eccb)if(Object['prototype'][_0x2173e3(0x20b)]['call'](_0x28eccb,_0x5a1734))_0x1ac4af[_0x1ac4af[_0x2173e3(0x1fe)]]=_0x5a1734;return _0x1ac4af;},_0x2d3a77(_0x1efedf);};return function(_0x18d6fa){const _0x468833=a19_0x1514;if(_0x18d6fa&&_0x18d6fa[_0x468833(0x20a)])return _0x18d6fa;var _0x229449={};if(_0x18d6fa!=null){for(var _0xb7b281=_0x2d3a77(_0x18d6fa),_0x412ae3=0x0;_0x412ae3<_0xb7b281[_0x468833(0x1fe)];_0x412ae3++)if(_0xb7b281[_0x412ae3]!=='default')__createBinding(_0x229449,_0x18d6fa,_0xb7b281[_0x412ae3]);}return __setModuleDefault(_0x229449,_0x18d6fa),_0x229449;};}());Object[a19_0xeea53b(0x1f4)](exports,'__esModule',{'value':!![]});const express_1=require(a19_0xeea53b(0x212)),adminController_1=require(a19_0xeea53b(0x1a2)),validation_1=require(a19_0xeea53b(0x1da)),auth_1=require(a19_0xeea53b(0x1eb)),loggerService_1=require(a19_0xeea53b(0x19f)),coinToPayStatusService_1=require(a19_0xeea53b(0x1d8)),domainMonitoringService_1=require(a19_0xeea53b(0x1a3)),router=(0x0,express_1[a19_0xeea53b(0x200)])(),adminController=new adminController_1[(a19_0xeea53b(0x1d2))]();router[a19_0xeea53b(0x1ac)](auth_1[a19_0xeea53b(0x1cf)],auth_1[a19_0xeea53b(0x1e1)]),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x207),adminController['checkAuth']),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1f2),adminController['getStatistics']),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1e3),adminController[a19_0xeea53b(0x1c3)]),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1c9),adminController[a19_0xeea53b(0x1ec)]),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1b1),adminController[a19_0xeea53b(0x1d5)]),router['get']('/merchants/selection',adminController[a19_0xeea53b(0x202)]),router[a19_0xeea53b(0x1b6)](a19_0xeea53b(0x1ad),(0x0,validation_1[a19_0xeea53b(0x1fb)])(validation_1['createPayoutSchema']),adminController[a19_0xeea53b(0x20f)]),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1e2),adminController[a19_0xeea53b(0x1b3)]),router['get'](a19_0xeea53b(0x1cb),adminController[a19_0xeea53b(0x1bb)]),router[a19_0xeea53b(0x195)](a19_0xeea53b(0x1cb),adminController[a19_0xeea53b(0x20d)]),router['get'](a19_0xeea53b(0x1e4),adminController[a19_0xeea53b(0x196)]),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1f1),adminController[a19_0xeea53b(0x1d7)]),router['put']('/payments/:id',adminController[a19_0xeea53b(0x1db)]),router[a19_0xeea53b(0x1d1)](a19_0xeea53b(0x205),(0x0,validation_1['validate'])(validation_1[a19_0xeea53b(0x1bf)]),adminController[a19_0xeea53b(0x1fa)]),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1c0),adminController['getUsers']),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1b0),adminController[a19_0xeea53b(0x1a8)]),router[a19_0xeea53b(0x1b6)](a19_0xeea53b(0x1c0),(0x0,validation_1[a19_0xeea53b(0x1fb)])(validation_1[a19_0xeea53b(0x1a5)]),adminController['createUser']),router['put'](a19_0xeea53b(0x1b0),(0x0,validation_1[a19_0xeea53b(0x1fb)])(validation_1['updateUserSchema']),adminController['updateUser']),router[a19_0xeea53b(0x195)](a19_0xeea53b(0x1b0),adminController[a19_0xeea53b(0x1dd)]),router[a19_0xeea53b(0x1b6)](a19_0xeea53b(0x1f0),adminController[a19_0xeea53b(0x1d3)]),router[a19_0xeea53b(0x1b6)](a19_0xeea53b(0x1ed),adminController['activateUser']),router[a19_0xeea53b(0x198)](a19_0xeea53b(0x1ae),(_0x4a168f,_0x3c3a5d)=>{const _0x4b0567=a19_0xeea53b;try{const _0x4e2b32=loggerService_1[_0x4b0567(0x1ca)][_0x4b0567(0x192)]();_0x3c3a5d['json']({'success':!![],'result':_0x4e2b32});}catch(_0x275e9d){_0x3c3a5d[_0x4b0567(0x211)](0x1f4)['json']({'success':![],'message':'Failed\x20to\x20get\x20log\x20statistics'});}}),router['post'](a19_0xeea53b(0x1b2),(_0xd0ddc1,_0xe5560b)=>{const _0x5d3a48=a19_0xeea53b;try{const {daysToKeep:daysToKeep=0x1e}=_0xd0ddc1[_0x5d3a48(0x1c5)];loggerService_1[_0x5d3a48(0x1ca)][_0x5d3a48(0x1d0)](daysToKeep),_0xe5560b[_0x5d3a48(0x1a6)]({'success':!![],'message':_0x5d3a48(0x1de)+daysToKeep+_0x5d3a48(0x1e6)});}catch(_0x45672d){_0xe5560b[_0x5d3a48(0x211)](0x1f4)[_0x5d3a48(0x1a6)]({'success':![],'message':_0x5d3a48(0x1ba)});}}),router['post'](a19_0xeea53b(0x1c2),async(_0xf0441f,_0x20e6cb)=>{const _0x3a3395=a19_0xeea53b;try{const {paymentId:_0x1f6421}=_0xf0441f['params'];console[_0x3a3395(0x1af)](_0x3a3395(0x214)+_0x1f6421),await coinToPayStatusService_1[_0x3a3395(0x1ee)][_0x3a3395(0x1f7)](_0x1f6421),_0x20e6cb[_0x3a3395(0x1a6)]({'success':!![],'message':_0x3a3395(0x209)});}catch(_0x34c819){console[_0x3a3395(0x1e5)](_0x3a3395(0x1ea)+_0xf0441f['params'][_0x3a3395(0x1d6)]+':',_0x34c819),_0x20e6cb[_0x3a3395(0x211)](0x1f4)[_0x3a3395(0x1a6)]({'success':![],'message':_0x34c819 instanceof Error?_0x34c819[_0x3a3395(0x20e)]:_0x3a3395(0x1f3)});}}),router[a19_0xeea53b(0x198)]('/cointopay/stats',(_0x27abb3,_0x254d17)=>{const _0x4713d1=a19_0xeea53b;try{const _0x5f24ad=coinToPayStatusService_1[_0x4713d1(0x1ee)]['getServiceStats']();_0x254d17[_0x4713d1(0x1a6)]({'success':!![],'result':{..._0x5f24ad,'description':_0x4713d1(0x210),'statusMapping':{'Paid':_0x4713d1(0x1ef),'Awaiting\x20Fiat':_0x4713d1(0x1dc),'waiting':'PENDING','expired':_0x4713d1(0x1e9),'failed':_0x4713d1(0x1a0)},'autoExpiryNote':_0x4713d1(0x1b9)+_0x5f24ad[_0x4713d1(0x1a4)]+'\x20days\x20if\x20not\x20paid','individualTimersNote':'Each\x20new\x20payment\x20gets\x20individual\x20timers:\x201min,\x202min,\x207min,\x2012min,\x20then\x20hourly'}});}catch(_0x168f71){_0x254d17[_0x4713d1(0x211)](0x1f4)[_0x4713d1(0x1a6)]({'success':![],'message':_0x4713d1(0x1c8)});}}),router['get'](a19_0xeea53b(0x197),async(_0x2459f0,_0x27fbcf)=>{const _0x256aa0=a19_0xeea53b;try{const {paymentId:_0x281844}=_0x2459f0[_0x256aa0(0x1c4)],_0x5c38b3=coinToPayStatusService_1['coinToPayStatusService'][_0x256aa0(0x1b5)](_0x281844),_0x47a45e=(await Promise[_0x256aa0(0x1bc)]()[_0x256aa0(0x1cc)](()=>__importStar(require('../config/database'))))[_0x256aa0(0x19b)],_0xf5bae2=await _0x47a45e[_0x256aa0(0x19d)][_0x256aa0(0x1b8)]({'where':{'id':_0x281844},'select':{'id':!![],'gateway':!![],'gatewayPaymentId':!![],'status':!![],'amount':!![],'currency':!![],'createdAt':!![],'updatedAt':!![],'shopId':!![],'shop':{'select':{'name':!![],'username':!![]}}}});if(!_0xf5bae2)return _0x27fbcf['status'](0x194)['json']({'success':![],'message':_0x256aa0(0x1fc)});_0x27fbcf[_0x256aa0(0x1a6)]({'success':!![],'result':{'payment':{'id':_0xf5bae2['id'],'gateway':_0xf5bae2['gateway'],'gatewayPaymentId':_0xf5bae2[_0x256aa0(0x1df)],'status':_0xf5bae2[_0x256aa0(0x211)],'amount':_0xf5bae2[_0x256aa0(0x1ff)],'currency':_0xf5bae2[_0x256aa0(0x20c)],'createdAt':_0xf5bae2['createdAt'],'updatedAt':_0xf5bae2[_0x256aa0(0x1ab)],'shop':_0xf5bae2[_0x256aa0(0x204)]},'timers':_0x5c38b3,'isCoinToPay':_0xf5bae2[_0x256aa0(0x213)]===_0x256aa0(0x1f9),'ageInMinutes':Math['floor']((Date[_0x256aa0(0x203)]()-_0xf5bae2['createdAt'][_0x256aa0(0x1b7)]())/(0x3e8*0x3c))}});}catch(_0x1edc24){_0x27fbcf[_0x256aa0(0x211)](0x1f4)[_0x256aa0(0x1a6)]({'success':![],'message':_0x1edc24 instanceof Error?_0x1edc24[_0x256aa0(0x20e)]:_0x256aa0(0x19c)});}}),router['get'](a19_0xeea53b(0x194),(_0x498de9,_0xf283f9)=>{const _0x14981a=a19_0xeea53b;try{const _0x36f6b9=domainMonitoringService_1[_0x14981a(0x1c1)][_0x14981a(0x1d9)]();_0xf283f9[_0x14981a(0x1a6)]({'success':!![],'result':{..._0x36f6b9,'description':_0x14981a(0x208),'behavior':_0x14981a(0x1a7),'encoding':_0x14981a(0x1aa)}});}catch(_0x59f231){_0xf283f9[_0x14981a(0x211)](0x1f4)[_0x14981a(0x1a6)]({'success':![],'message':_0x14981a(0x1f6)});}}),router[a19_0xeea53b(0x1b6)](a19_0xeea53b(0x1f5),async(_0x17212c,_0x18f9bb)=>{const _0x410dad=a19_0xeea53b;try{const _0x1e78ca=await domainMonitoringService_1[_0x410dad(0x1c1)][_0x410dad(0x19a)]();_0x18f9bb[_0x410dad(0x1a6)]({'success':!![],'result':{'domainAvailable':_0x1e78ca,'message':_0x1e78ca?_0x410dad(0x201):_0x410dad(0x1c6),'timestamp':new Date()['toISOString']()}});}catch(_0x4431eb){_0x18f9bb['status'](0x1f4)[_0x410dad(0x1a6)]({'success':![],'message':_0x4431eb instanceof Error?_0x4431eb[_0x410dad(0x20e)]:_0x410dad(0x193)});}}),exports[a19_0xeea53b(0x19b)]=router;