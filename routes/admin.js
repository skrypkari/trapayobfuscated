'use strict';function a18_0x39de(_0x3cdabf,_0x5099bb){const _0x2a1648=a18_0x2a16();return a18_0x39de=function(_0x39decc,_0x26f30a){_0x39decc=_0x39decc-0x113;let _0x1fdf1e=_0x2a1648[_0x39decc];return _0x1fdf1e;},a18_0x39de(_0x3cdabf,_0x5099bb);}function a18_0x2a16(){const _0x4ace9e=['AdminController','465909RGHSaE','5683656dgMNGk','220340KmEUPm','../services/loggerService','params','\x20days\x20if\x20not\x20paid','Failed\x20to\x20clean\x20old\x20logs','110HEapXp','Domain\x20is\x20responding\x20correctly','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','Failed\x20to\x20perform\x20manual\x20domain\x20check','requireAdmin','json','/users/:id/suspend','updateUser','CoinToPay\x20payment\x20status\x20checked\x20successfully','toISOString','../controllers/adminController','7IcmrrW','/payout/stats','createUser','getPayments','__esModule','domainMonitoringService','coinToPayStatusService','deletePayout','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','1004676PYMsxA','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','/auth','25355198SpfruQ','getPayouts','EXPIRED','Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','/payouts','/payout','defineProperty','getUserById','loggerService','body','getUsers','getMerchantsAwaitingPayout','/payments/:id','\x20days)','updateUserSchema','getPaymentById','FAILED','checkAuth','/users','activateUser','/users/:id','Failed\x20to\x20get\x20log\x20statistics','post','express','6nCRMnL','delete','message','6UTwola','expiryDays','PENDING','get','../services/domainMonitoringService','1182755asFgbL','createPayoutSchema','use','deleteUser','authenticateToken','updatePayment','../middleware/auth','Router','checkPaymentById','status','1210779DXqpwy','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','createPayout','Old\x20logs\x20cleaned\x20(kept\x20last\x20','Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs','../middleware/validation','CoinToPay\x20automatic\x20status\x20checking\x20service','getPayoutStats','put','/statistics','validate','manualCheck','Domain\x20check\x20failed'];a18_0x2a16=function(){return _0x4ace9e;};return a18_0x2a16();}const a18_0xdba051=a18_0x39de;(function(_0x24cc73,_0xc4d4f0){const _0x221951=a18_0x39de,_0x3b47b1=_0x24cc73();while(!![]){try{const _0x28629b=-parseInt(_0x221951(0x120))/0x1+parseInt(_0x221951(0x157))/0x2*(-parseInt(_0x221951(0x11e))/0x3)+-parseInt(_0x221951(0x139))/0x4+-parseInt(_0x221951(0x15c))/0x5*(-parseInt(_0x221951(0x154))/0x6)+-parseInt(_0x221951(0x130))/0x7*(-parseInt(_0x221951(0x11f))/0x8)+parseInt(_0x221951(0x166))/0x9*(-parseInt(_0x221951(0x125))/0xa)+parseInt(_0x221951(0x13c))/0xb;if(_0x28629b===_0xc4d4f0)break;else _0x3b47b1['push'](_0x3b47b1['shift']());}catch(_0x33c256){_0x3b47b1['push'](_0x3b47b1['shift']());}}}(a18_0x2a16,0xcbccf));Object[a18_0xdba051(0x142)](exports,a18_0xdba051(0x134),{'value':!![]});const express_1=require(a18_0xdba051(0x153)),adminController_1=require(a18_0xdba051(0x12f)),validation_1=require(a18_0xdba051(0x115)),auth_1=require(a18_0xdba051(0x162)),loggerService_1=require(a18_0xdba051(0x121)),coinToPayStatusService_1=require('../services/coinToPayStatusService'),domainMonitoringService_1=require(a18_0xdba051(0x15b)),router=(0x0,express_1[a18_0xdba051(0x163)])(),adminController=new adminController_1[(a18_0xdba051(0x11d))]();router[a18_0xdba051(0x15e)](auth_1[a18_0xdba051(0x160)],auth_1[a18_0xdba051(0x129)]),router[a18_0xdba051(0x15a)](a18_0xdba051(0x13b),adminController[a18_0xdba051(0x14d)]),router[a18_0xdba051(0x15a)](a18_0xdba051(0x119),adminController['getStatistics']),router[a18_0xdba051(0x15a)](a18_0xdba051(0x131),adminController[a18_0xdba051(0x117)]),router['get']('/payout/merchants',adminController[a18_0xdba051(0x147)]),router[a18_0xdba051(0x152)](a18_0xdba051(0x141),(0x0,validation_1['validate'])(validation_1[a18_0xdba051(0x15d)]),adminController[a18_0xdba051(0x168)]),router[a18_0xdba051(0x15a)](a18_0xdba051(0x140),adminController[a18_0xdba051(0x13d)]),router[a18_0xdba051(0x15a)]('/payouts/:id',adminController['getPayoutById']),router[a18_0xdba051(0x155)]('/payouts/:id',adminController[a18_0xdba051(0x137)]),router[a18_0xdba051(0x15a)]('/payments',adminController[a18_0xdba051(0x133)]),router[a18_0xdba051(0x15a)](a18_0xdba051(0x148),adminController[a18_0xdba051(0x14b)]),router['put'](a18_0xdba051(0x148),adminController[a18_0xdba051(0x161)]),router[a18_0xdba051(0x15a)](a18_0xdba051(0x14e),adminController[a18_0xdba051(0x146)]),router[a18_0xdba051(0x15a)]('/users/:id',adminController[a18_0xdba051(0x143)]),router[a18_0xdba051(0x152)]('/users',(0x0,validation_1[a18_0xdba051(0x11a)])(validation_1['createUserSchema']),adminController[a18_0xdba051(0x132)]),router[a18_0xdba051(0x118)](a18_0xdba051(0x150),(0x0,validation_1[a18_0xdba051(0x11a)])(validation_1[a18_0xdba051(0x14a)]),adminController[a18_0xdba051(0x12c)]),router['delete'](a18_0xdba051(0x150),adminController[a18_0xdba051(0x15f)]),router[a18_0xdba051(0x152)](a18_0xdba051(0x12b),adminController['suspendUser']),router[a18_0xdba051(0x152)]('/users/:id/activate',adminController[a18_0xdba051(0x14f)]),router[a18_0xdba051(0x15a)]('/logs/stats',(_0x4e86fc,_0x4c86d0)=>{const _0x5f4872=a18_0xdba051;try{const _0x37b77d=loggerService_1[_0x5f4872(0x144)]['getLogStats']();_0x4c86d0[_0x5f4872(0x12a)]({'success':!![],'result':_0x37b77d});}catch(_0x1158fa){_0x4c86d0['status'](0x1f4)['json']({'success':![],'message':_0x5f4872(0x151)});}}),router[a18_0xdba051(0x152)]('/logs/clean',(_0x5ebc1f,_0x8e717f)=>{const _0x5a137d=a18_0xdba051;try{const {daysToKeep:daysToKeep=0x1e}=_0x5ebc1f[_0x5a137d(0x145)];loggerService_1[_0x5a137d(0x144)]['cleanOldLogs'](daysToKeep),_0x8e717f[_0x5a137d(0x12a)]({'success':!![],'message':_0x5a137d(0x113)+daysToKeep+_0x5a137d(0x149)});}catch(_0x2609c3){_0x8e717f[_0x5a137d(0x165)](0x1f4)[_0x5a137d(0x12a)]({'success':![],'message':_0x5a137d(0x124)});}}),router[a18_0xdba051(0x152)]('/cointopay/check/:paymentId',async(_0x58d49b,_0x525172)=>{const _0x2e7a19=a18_0xdba051;try{const {paymentId:_0x3dd518}=_0x58d49b[_0x2e7a19(0x122)];await coinToPayStatusService_1[_0x2e7a19(0x136)][_0x2e7a19(0x164)](_0x3dd518),_0x525172[_0x2e7a19(0x12a)]({'success':!![],'message':_0x2e7a19(0x12d)});}catch(_0x31b8c4){_0x525172[_0x2e7a19(0x165)](0x1f4)[_0x2e7a19(0x12a)]({'success':![],'message':_0x31b8c4 instanceof Error?_0x31b8c4[_0x2e7a19(0x156)]:_0x2e7a19(0x13a)});}}),router[a18_0xdba051(0x15a)]('/cointopay/stats',(_0x569ca6,_0x5017ad)=>{const _0x2206cd=a18_0xdba051;try{const _0x374e7f=coinToPayStatusService_1[_0x2206cd(0x136)]['getServiceStats']();_0x5017ad['json']({'success':!![],'result':{..._0x374e7f,'description':_0x2206cd(0x116),'statusMapping':{'Paid':'PAID','Awaiting\x20Fiat':_0x2206cd(0x159),'waiting':'PENDING','expired':_0x2206cd(0x13e),'failed':_0x2206cd(0x14c)},'autoExpiryNote':'Payments\x20automatically\x20expire\x20after\x20'+_0x374e7f[_0x2206cd(0x158)]+_0x2206cd(0x123)}});}catch(_0x1eb628){_0x5017ad[_0x2206cd(0x165)](0x1f4)[_0x2206cd(0x12a)]({'success':![],'message':_0x2206cd(0x138)});}}),router['get']('/domain-monitoring/stats',(_0x17fcad,_0x17afcb)=>{const _0x227613=a18_0xdba051;try{const _0x18e325=domainMonitoringService_1[_0x227613(0x135)]['getMonitoringStats']();_0x17afcb['json']({'success':!![],'result':{..._0x18e325,'description':_0x227613(0x13f),'behavior':_0x227613(0x167),'encoding':_0x227613(0x114)}});}catch(_0x41be65){_0x17afcb[_0x227613(0x165)](0x1f4)['json']({'success':![],'message':_0x227613(0x127)});}}),router['post']('/domain-monitoring/check',async(_0x505796,_0x15d83c)=>{const _0x341c0b=a18_0xdba051;try{const _0x321cc2=await domainMonitoringService_1[_0x341c0b(0x135)][_0x341c0b(0x11b)]();_0x15d83c[_0x341c0b(0x12a)]({'success':!![],'result':{'domainAvailable':_0x321cc2,'message':_0x321cc2?_0x341c0b(0x126):_0x341c0b(0x11c),'timestamp':new Date()[_0x341c0b(0x12e)]()}});}catch(_0x446eb7){_0x15d83c['status'](0x1f4)[_0x341c0b(0x12a)]({'success':![],'message':_0x446eb7 instanceof Error?_0x446eb7[_0x341c0b(0x156)]:_0x341c0b(0x128)});}}),exports['default']=router;