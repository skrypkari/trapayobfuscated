'use strict';const a18_0x567408=a18_0x1cf5;(function(_0x43a88e,_0x5cee28){const _0x3eb8a2=a18_0x1cf5,_0x2f38f4=_0x43a88e();while(!![]){try{const _0x48458d=-parseInt(_0x3eb8a2(0x1e7))/0x1+parseInt(_0x3eb8a2(0x1ef))/0x2+-parseInt(_0x3eb8a2(0x1da))/0x3+-parseInt(_0x3eb8a2(0x1c4))/0x4*(-parseInt(_0x3eb8a2(0x1e6))/0x5)+parseInt(_0x3eb8a2(0x1bd))/0x6*(parseInt(_0x3eb8a2(0x1bc))/0x7)+-parseInt(_0x3eb8a2(0x1e1))/0x8+parseInt(_0x3eb8a2(0x1b6))/0x9;if(_0x48458d===_0x5cee28)break;else _0x2f38f4['push'](_0x2f38f4['shift']());}catch(_0x214b47){_0x2f38f4['push'](_0x2f38f4['shift']());}}}(a18_0x1b66,0xb6325));function a18_0x1b66(){const _0xa9489e=['Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','CoinToPay\x20payment\x20status\x20checked\x20successfully','updatePayment','/payouts/:id','401200YizDTU','express','createPayoutSchema','getServiceStats','getPayments','coinToPayStatusService','checkPaymentById','/users/:id','/users/:id/suspend','AdminController','/cointopay/stats','loggerService','/users','json','suspendUser','defineProperty','status','getPayoutStats','params','post','expiryDays','../controllers/adminController','1077798WeovsG','PENDING','createUser','checkAuth','getPayoutById','updateUser','CoinToPay\x20automatic\x20status\x20checking\x20service','5071296IyXJFx','getUsers','default','/payout/merchants','/users/:id/activate','60LexTRB','506408jnawdR','Failed\x20to\x20clean\x20old\x20logs','createPayout','deletePayout','/payout/stats','EXPIRED','/logs/stats','updateUserSchema','453430RolzAG','/payments','body','/logs/clean','delete','/cointopay/check/:paymentId','/payout','get','activateUser','\x20days)','use','../middleware/auth','Old\x20logs\x20cleaned\x20(kept\x20last\x20','validate','4857084DQxDQY','put','PAID','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','getUserById','getPayouts','241388rgCHyH','48JQlLsX','__esModule','deleteUser'];a18_0x1b66=function(){return _0xa9489e;};return a18_0x1b66();}Object[a18_0x567408(0x1d3)](exports,a18_0x567408(0x1be),{'value':!![]});function a18_0x1cf5(_0x4c1690,_0x11ed74){const _0x1b66f3=a18_0x1b66();return a18_0x1cf5=function(_0x1cf5ac,_0x2d06e8){_0x1cf5ac=_0x1cf5ac-0x1a9;let _0x5c9b64=_0x1b66f3[_0x1cf5ac];return _0x5c9b64;},a18_0x1cf5(_0x4c1690,_0x11ed74);}const express_1=require(a18_0x567408(0x1c5)),adminController_1=require(a18_0x567408(0x1d9)),validation_1=require('../middleware/validation'),auth_1=require(a18_0x567408(0x1b3)),loggerService_1=require('../services/loggerService'),coinToPayStatusService_1=require('../services/coinToPayStatusService'),router=(0x0,express_1['Router'])(),adminController=new adminController_1[(a18_0x567408(0x1cd))]();router[a18_0x567408(0x1b2)](auth_1['authenticateToken'],auth_1['requireAdmin']),router[a18_0x567408(0x1af)]('/auth',adminController[a18_0x567408(0x1dd)]),router[a18_0x567408(0x1af)]('/statistics',adminController['getStatistics']),router[a18_0x567408(0x1af)](a18_0x567408(0x1eb),adminController[a18_0x567408(0x1d5)]),router[a18_0x567408(0x1af)](a18_0x567408(0x1e4),adminController['getMerchantsAwaitingPayout']),router[a18_0x567408(0x1d7)](a18_0x567408(0x1ae),(0x0,validation_1[a18_0x567408(0x1b5)])(validation_1[a18_0x567408(0x1c6)]),adminController[a18_0x567408(0x1e9)]),router[a18_0x567408(0x1af)]('/payouts',adminController[a18_0x567408(0x1bb)]),router[a18_0x567408(0x1af)](a18_0x567408(0x1c3),adminController[a18_0x567408(0x1de)]),router[a18_0x567408(0x1ac)]('/payouts/:id',adminController[a18_0x567408(0x1ea)]),router[a18_0x567408(0x1af)](a18_0x567408(0x1a9),adminController[a18_0x567408(0x1c8)]),router[a18_0x567408(0x1af)]('/payments/:id',adminController['getPaymentById']),router[a18_0x567408(0x1b7)]('/payments/:id',adminController[a18_0x567408(0x1c2)]),router[a18_0x567408(0x1af)](a18_0x567408(0x1d0),adminController[a18_0x567408(0x1e2)]),router['get'](a18_0x567408(0x1cb),adminController[a18_0x567408(0x1ba)]),router['post'](a18_0x567408(0x1d0),(0x0,validation_1[a18_0x567408(0x1b5)])(validation_1['createUserSchema']),adminController[a18_0x567408(0x1dc)]),router['put'](a18_0x567408(0x1cb),(0x0,validation_1[a18_0x567408(0x1b5)])(validation_1[a18_0x567408(0x1ee)]),adminController[a18_0x567408(0x1df)]),router[a18_0x567408(0x1ac)](a18_0x567408(0x1cb),adminController[a18_0x567408(0x1bf)]),router[a18_0x567408(0x1d7)](a18_0x567408(0x1cc),adminController[a18_0x567408(0x1d2)]),router['post'](a18_0x567408(0x1e5),adminController[a18_0x567408(0x1b0)]),router[a18_0x567408(0x1af)](a18_0x567408(0x1ed),(_0x14f01c,_0x5d29d4)=>{const _0x4b69c4=a18_0x567408;try{const _0x36e91e=loggerService_1[_0x4b69c4(0x1cf)]['getLogStats']();_0x5d29d4[_0x4b69c4(0x1d1)]({'success':!![],'result':_0x36e91e});}catch(_0x276445){_0x5d29d4[_0x4b69c4(0x1d4)](0x1f4)[_0x4b69c4(0x1d1)]({'success':![],'message':'Failed\x20to\x20get\x20log\x20statistics'});}}),router['post'](a18_0x567408(0x1ab),(_0xdba1b0,_0x16ebc2)=>{const _0x297195=a18_0x567408;try{const {daysToKeep:daysToKeep=0x1e}=_0xdba1b0[_0x297195(0x1aa)];loggerService_1[_0x297195(0x1cf)]['cleanOldLogs'](daysToKeep),_0x16ebc2[_0x297195(0x1d1)]({'success':!![],'message':_0x297195(0x1b4)+daysToKeep+_0x297195(0x1b1)});}catch(_0x537b0e){_0x16ebc2[_0x297195(0x1d4)](0x1f4)[_0x297195(0x1d1)]({'success':![],'message':_0x297195(0x1e8)});}}),router[a18_0x567408(0x1d7)](a18_0x567408(0x1ad),async(_0x46c2d6,_0x245da2)=>{const _0x3be917=a18_0x567408;try{const {paymentId:_0x33c8ec}=_0x46c2d6[_0x3be917(0x1d6)];await coinToPayStatusService_1[_0x3be917(0x1c9)][_0x3be917(0x1ca)](_0x33c8ec),_0x245da2[_0x3be917(0x1d1)]({'success':!![],'message':_0x3be917(0x1c1)});}catch(_0x141469){_0x245da2[_0x3be917(0x1d4)](0x1f4)[_0x3be917(0x1d1)]({'success':![],'message':_0x141469 instanceof Error?_0x141469['message']:_0x3be917(0x1c0)});}}),router[a18_0x567408(0x1af)](a18_0x567408(0x1ce),(_0x5c3907,_0x1c0859)=>{const _0xc4404=a18_0x567408;try{const _0x2607cc=coinToPayStatusService_1[_0xc4404(0x1c9)][_0xc4404(0x1c7)]();_0x1c0859[_0xc4404(0x1d1)]({'success':!![],'result':{..._0x2607cc,'description':_0xc4404(0x1e0),'statusMapping':{'Paid':_0xc4404(0x1b8),'Awaiting\x20Fiat':_0xc4404(0x1db),'waiting':_0xc4404(0x1db),'expired':_0xc4404(0x1ec),'failed':'FAILED'},'autoExpiryNote':'Payments\x20automatically\x20expire\x20after\x20'+_0x2607cc[_0xc4404(0x1d8)]+'\x20days\x20if\x20not\x20paid'}});}catch(_0x115b32){_0x1c0859['status'](0x1f4)['json']({'success':![],'message':_0xc4404(0x1b9)});}}),exports[a18_0x567408(0x1e3)]=router;