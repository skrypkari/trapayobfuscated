'use strict';function a18_0x1c2d(_0x25eea3,_0x2dc3c8){const _0x476a5e=a18_0x476a();return a18_0x1c2d=function(_0x1c2dcf,_0x712021){_0x1c2dcf=_0x1c2dcf-0xbd;let _0x4453c9=_0x476a5e[_0x1c2dcf];return _0x4453c9;},a18_0x1c2d(_0x25eea3,_0x2dc3c8);}const a18_0x4d4111=a18_0x1c2d;(function(_0x128f91,_0x37d4ac){const _0x3e7c6f=a18_0x1c2d,_0x5307cf=_0x128f91();while(!![]){try{const _0x4decd1=-parseInt(_0x3e7c6f(0x10e))/0x1*(-parseInt(_0x3e7c6f(0xf2))/0x2)+parseInt(_0x3e7c6f(0xc4))/0x3*(-parseInt(_0x3e7c6f(0xd3))/0x4)+parseInt(_0x3e7c6f(0xd0))/0x5+parseInt(_0x3e7c6f(0xdd))/0x6*(parseInt(_0x3e7c6f(0xcc))/0x7)+-parseInt(_0x3e7c6f(0xd4))/0x8*(parseInt(_0x3e7c6f(0xd5))/0x9)+-parseInt(_0x3e7c6f(0x107))/0xa*(parseInt(_0x3e7c6f(0xdf))/0xb)+-parseInt(_0x3e7c6f(0xfd))/0xc*(-parseInt(_0x3e7c6f(0xc3))/0xd);if(_0x4decd1===_0x37d4ac)break;else _0x5307cf['push'](_0x5307cf['shift']());}catch(_0x5128f7){_0x5307cf['push'](_0x5307cf['shift']());}}}(a18_0x476a,0x9ce4b));Object[a18_0x4d4111(0xda)](exports,a18_0x4d4111(0xe4),{'value':!![]});const express_1=require('express'),adminController_1=require(a18_0x4d4111(0xe8)),validation_1=require('../middleware/validation'),auth_1=require('../middleware/auth'),loggerService_1=require(a18_0x4d4111(0x10a)),coinToPayStatusService_1=require(a18_0x4d4111(0xc7)),domainMonitoringService_1=require(a18_0x4d4111(0xc8)),router=(0x0,express_1[a18_0x4d4111(0xee)])(),adminController=new adminController_1[(a18_0x4d4111(0xd6))]();function a18_0x476a(){const _0x487482=['/logs/stats','cleanOldLogs','authenticateToken','/payouts/:id','Server\x20crashes\x20if\x20domain\x20is\x20not\x20responding\x20after\x20consecutive\x20failures','put','/users','updateUser','\x20days\x20if\x20not\x20paid','Failed\x20to\x20clean\x20old\x20logs','8112XsJMIm','use','PENDING','toISOString','deletePayout','/payouts','loggerService','getMonitoringStats','/auth','CoinToPay\x20automatic\x20status\x20checking\x20service','160RxWxhy','/users/:id','createPayoutSchema','../services/loggerService','post','checkAuth','checkPaymentById','5hVPtyv','Failed\x20to\x20get\x20log\x20statistics','createUser','Old\x20logs\x20cleaned\x20(kept\x20last\x20','updateUserSchema','/payments','json','status','2665bbYWTI','1250793veQvhe','Failed\x20to\x20check\x20CoinToPay\x20payment\x20status','/cointopay/check/:paymentId','../services/coinToPayStatusService','../services/domainMonitoringService','coinToPayStatusService','Failed\x20to\x20get\x20domain\x20monitoring\x20statistics','createPayout','35VTbfRy','CoinToPay\x20payment\x20status\x20checked\x20successfully','suspendUser','getUserById','3071765olTOUG','delete','message','4MwVztK','120sLDLqh','483471JyOZrO','AdminController','/payments/:id','/statistics','Domain\x20is\x20responding\x20correctly','defineProperty','getServiceStats','Domain\x20check\x20failed','580578AAlTBM','deleteUser','322597XWbQpD','Payments\x20automatically\x20expire\x20after\x20','Failed\x20to\x20perform\x20manual\x20domain\x20check','get','/logs/clean','__esModule','domainMonitoringService','/domain-monitoring/check','/payout/merchants','../controllers/adminController','getPayoutStats','getPayments','Failed\x20to\x20get\x20CoinToPay\x20service\x20statistics','/domain-monitoring/stats','params','Router','getPayouts','/cointopay/stats','validate','439134eEFgdf'];a18_0x476a=function(){return _0x487482;};return a18_0x476a();}router[a18_0x4d4111(0xfe)](auth_1[a18_0x4d4111(0xf5)],auth_1['requireAdmin']),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0x105),adminController[a18_0x4d4111(0x10c)]),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xd8),adminController['getStatistics']),router[a18_0x4d4111(0xe2)]('/payout/stats',adminController[a18_0x4d4111(0xe9)]),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xe7),adminController['getMerchantsAwaitingPayout']),router[a18_0x4d4111(0x10b)]('/payout',(0x0,validation_1[a18_0x4d4111(0xf1)])(validation_1[a18_0x4d4111(0x109)]),adminController[a18_0x4d4111(0xcb)]),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0x102),adminController[a18_0x4d4111(0xef)]),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xf6),adminController['getPayoutById']),router[a18_0x4d4111(0xd1)]('/payouts/:id',adminController[a18_0x4d4111(0x101)]),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xc0),adminController[a18_0x4d4111(0xea)]),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xd7),adminController['getPaymentById']),router[a18_0x4d4111(0xf8)](a18_0x4d4111(0xd7),adminController['updatePayment']),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xf9),adminController['getUsers']),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0x108),adminController[a18_0x4d4111(0xcf)]),router['post'](a18_0x4d4111(0xf9),(0x0,validation_1[a18_0x4d4111(0xf1)])(validation_1['createUserSchema']),adminController[a18_0x4d4111(0xbd)]),router['put'](a18_0x4d4111(0x108),(0x0,validation_1[a18_0x4d4111(0xf1)])(validation_1[a18_0x4d4111(0xbf)]),adminController[a18_0x4d4111(0xfa)]),router[a18_0x4d4111(0xd1)](a18_0x4d4111(0x108),adminController[a18_0x4d4111(0xde)]),router['post']('/users/:id/suspend',adminController[a18_0x4d4111(0xce)]),router[a18_0x4d4111(0x10b)]('/users/:id/activate',adminController['activateUser']),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xf3),(_0x561ed0,_0x567126)=>{const _0x175873=a18_0x4d4111;try{const _0x4d14e0=loggerService_1[_0x175873(0x103)]['getLogStats']();_0x567126['json']({'success':!![],'result':_0x4d14e0});}catch(_0x7d6fa4){_0x567126[_0x175873(0xc2)](0x1f4)['json']({'success':![],'message':_0x175873(0x10f)});}}),router['post'](a18_0x4d4111(0xe3),(_0x44d602,_0x3feadc)=>{const _0x41926b=a18_0x4d4111;try{const {daysToKeep:daysToKeep=0x1e}=_0x44d602['body'];loggerService_1[_0x41926b(0x103)][_0x41926b(0xf4)](daysToKeep),_0x3feadc[_0x41926b(0xc1)]({'success':!![],'message':_0x41926b(0xbe)+daysToKeep+'\x20days)'});}catch(_0xddb984){_0x3feadc[_0x41926b(0xc2)](0x1f4)[_0x41926b(0xc1)]({'success':![],'message':_0x41926b(0xfc)});}}),router[a18_0x4d4111(0x10b)](a18_0x4d4111(0xc6),async(_0x9175de,_0x5ef431)=>{const _0x41e5ec=a18_0x4d4111;try{const {paymentId:_0x2ec270}=_0x9175de[_0x41e5ec(0xed)];await coinToPayStatusService_1[_0x41e5ec(0xc9)][_0x41e5ec(0x10d)](_0x2ec270),_0x5ef431[_0x41e5ec(0xc1)]({'success':!![],'message':_0x41e5ec(0xcd)});}catch(_0x17f745){_0x5ef431['status'](0x1f4)[_0x41e5ec(0xc1)]({'success':![],'message':_0x17f745 instanceof Error?_0x17f745[_0x41e5ec(0xd2)]:_0x41e5ec(0xc5)});}}),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xf0),(_0xfb4bd2,_0x3e1513)=>{const _0x9def76=a18_0x4d4111;try{const _0x270bb9=coinToPayStatusService_1[_0x9def76(0xc9)][_0x9def76(0xdb)]();_0x3e1513['json']({'success':!![],'result':{..._0x270bb9,'description':_0x9def76(0x106),'statusMapping':{'Paid':'PAID','Awaiting\x20Fiat':_0x9def76(0xff),'waiting':'PENDING','expired':'EXPIRED','failed':'FAILED'},'autoExpiryNote':_0x9def76(0xe0)+_0x270bb9['expiryDays']+_0x9def76(0xfb)}});}catch(_0x4839a8){_0x3e1513[_0x9def76(0xc2)](0x1f4)[_0x9def76(0xc1)]({'success':![],'message':_0x9def76(0xeb)});}}),router[a18_0x4d4111(0xe2)](a18_0x4d4111(0xec),(_0x160625,_0x4f121c)=>{const _0x1e7800=a18_0x4d4111;try{const _0x261bf7=domainMonitoringService_1[_0x1e7800(0xe5)][_0x1e7800(0x104)]();_0x4f121c['json']({'success':!![],'result':{..._0x261bf7,'description':'Domain\x20monitoring\x20service\x20for\x20amaterasy884.icu','behavior':_0x1e7800(0xf7),'encoding':'Requests\x20are\x20made\x20with\x20base64\x20encoded\x20URLs'}});}catch(_0x21aa56){_0x4f121c[_0x1e7800(0xc2)](0x1f4)[_0x1e7800(0xc1)]({'success':![],'message':_0x1e7800(0xca)});}}),router['post'](a18_0x4d4111(0xe6),async(_0x541472,_0x16d38b)=>{const _0x1db79a=a18_0x4d4111;try{const _0xae58dd=await domainMonitoringService_1['domainMonitoringService']['manualCheck']();_0x16d38b[_0x1db79a(0xc1)]({'success':!![],'result':{'domainAvailable':_0xae58dd,'message':_0xae58dd?_0x1db79a(0xd9):_0x1db79a(0xdc),'timestamp':new Date()[_0x1db79a(0x100)]()}});}catch(_0x2175b8){_0x16d38b[_0x1db79a(0xc2)](0x1f4)['json']({'success':![],'message':_0x2175b8 instanceof Error?_0x2175b8['message']:_0x1db79a(0xe1)});}}),exports['default']=router;