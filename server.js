'use strict';const a49_0xb0b2b3=a49_0x59bd;(function(_0x1a0140,_0x13e642){const _0x4909b7=a49_0x59bd,_0x560ac1=_0x1a0140();while(!![]){try{const _0x1dbdc9=parseInt(_0x4909b7(0x143))/0x1+parseInt(_0x4909b7(0x11a))/0x2*(-parseInt(_0x4909b7(0x13a))/0x3)+-parseInt(_0x4909b7(0x11b))/0x4+parseInt(_0x4909b7(0x129))/0x5*(-parseInt(_0x4909b7(0x14a))/0x6)+-parseInt(_0x4909b7(0x12f))/0x7*(parseInt(_0x4909b7(0x120))/0x8)+parseInt(_0x4909b7(0x136))/0x9+parseInt(_0x4909b7(0x12c))/0xa;if(_0x1dbdc9===_0x13e642)break;else _0x560ac1['push'](_0x560ac1['shift']());}catch(_0x2b956a){_0x560ac1['push'](_0x560ac1['shift']());}}}(a49_0x54e7,0xa467c));var __importDefault=this&&this[a49_0xb0b2b3(0x146)]||function(_0x29e4a9){const _0x3ce728=a49_0xb0b2b3;return _0x29e4a9&&_0x29e4a9[_0x3ce728(0x14f)]?_0x29e4a9:{'default':_0x29e4a9};};function a49_0x54e7(){const _0x561260=['5700680ICoqHj','./services/paymentCleanupService','runCleanupWithReport','domainMonitoringService','isActive','exit','stopBot','listen','port','35cKUODW','coinToPayStatusService','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','24967270dzUyHw','ðŸš€\x20Server\x20running\x20on\x20port\x20','production','7NbTpUW','paymentCleanupService','telegramBotService','./app','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','./services/telegramBotService','stopPeriodicStatusCheck','3233934dLjGkW','config','SIGTERM','âœ…\x20Telegram\x20bot\x20@','46377SoXbeV','/api/health','error','\x20is\x20active','startPeriodicStatusCheck','âŒ\x20Initial\x20cleanup\x20failed:','getBotInfo','currencyService','\x20hours','774877mozgln','$disconnect','nodeEnv','__importDefault','ðŸŒ\x20Environment:\x20','âŒ\x20Failed\x20to\x20start\x20server:','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','646836YltnUW','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','startMonitoring','127.1.1.159','SIGINT','__esModule','$connect','./services/domainMonitoringService','stopMonitoring','./config/config','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','stopPeriodicUpdates','default','52WpkxhP','4353460wypnqm','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','log'];a49_0x54e7=function(){return _0x561260;};return a49_0x54e7();}Object['defineProperty'](exports,'__esModule',{'value':!![]});const app_1=__importDefault(require(a49_0xb0b2b3(0x132))),config_1=require(a49_0xb0b2b3(0x153)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a49_0xb0b2b3(0x134)),currencyService_1=require('./services/currencyService'),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require(a49_0xb0b2b3(0x151)),paymentCleanupService_1=require(a49_0xb0b2b3(0x121));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0xada06=a49_0xb0b2b3,_0x15ca6a=0x18,_0x43fa86=_0x15ca6a*0x3c*0x3c*0x3e8;console['log'](_0xada06(0x14b)+_0x15ca6a+_0xada06(0x142)),setTimeout(async()=>{const _0xa2e682=_0xada06;console[_0xa2e682(0x11f)](_0xa2e682(0x12b));try{await paymentCleanupService_1['paymentCleanupService'][_0xa2e682(0x122)](),console[_0xa2e682(0x11f)](_0xa2e682(0x11c));}catch(_0xa166c7){console[_0xa2e682(0x13c)](_0xa2e682(0x13f),_0xa166c7);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x3d29ff=_0xada06;console[_0x3d29ff(0x11f)](_0x3d29ff(0x149));try{await paymentCleanupService_1[_0x3d29ff(0x130)][_0x3d29ff(0x122)](),console['log']('âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x1516d0){console[_0x3d29ff(0x13c)]('âŒ\x20Scheduled\x20cleanup\x20failed:',_0x1516d0);}},_0x43fa86);}function a49_0x59bd(_0x264047,_0x5343c2){_0x264047=_0x264047-0x11a;const _0x54e75f=a49_0x54e7();let _0x59bd6d=_0x54e75f[_0x264047];return _0x59bd6d;}function stopPaymentCleanupScheduler(){const _0x12c740=a49_0xb0b2b3;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x12c740(0x11f)](_0x12c740(0x11e)));}async function startServer(){const _0x587861=a49_0xb0b2b3;try{await database_1[_0x587861(0x156)][_0x587861(0x150)](),console[_0x587861(0x11f)]('âœ…\x20Database\x20connected\x20successfully');const _0x321ead=telegramBotService_1[_0x587861(0x131)][_0x587861(0x140)]();_0x321ead[_0x587861(0x124)]?console[_0x587861(0x11f)](_0x587861(0x139)+_0x321ead['username']+_0x587861(0x13d)):console[_0x587861(0x11f)](_0x587861(0x133));console[_0x587861(0x11f)](_0x587861(0x11d)),console[_0x587861(0x11f)]('ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'),coinToPayStatusService_1['coinToPayStatusService'][_0x587861(0x13e)](),console['log'](_0x587861(0x154)),domainMonitoringService_1[_0x587861(0x123)][_0x587861(0x14c)](),console[_0x587861(0x11f)]('ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...'),startPaymentCleanupScheduler();config_1[_0x587861(0x137)]['nodeEnv']===_0x587861(0x12e)?app_1[_0x587861(0x156)][_0x587861(0x127)](config_1['config']['port'],()=>{const _0x30b47e=_0x587861;console[_0x30b47e(0x11f)](_0x30b47e(0x12d)+config_1[_0x30b47e(0x137)][_0x30b47e(0x128)]),console[_0x30b47e(0x11f)]('ðŸŒ\x20Environment:\x20'+config_1[_0x30b47e(0x137)][_0x30b47e(0x145)]);}):app_1[_0x587861(0x156)][_0x587861(0x127)](config_1[_0x587861(0x137)]['port'],_0x587861(0x14d),()=>{const _0x18b4a1=_0x587861;console[_0x18b4a1(0x11f)]('ðŸš€\x20Server\x20running\x20on\x20port\x20'+config_1['config'][_0x18b4a1(0x128)]),console[_0x18b4a1(0x11f)](_0x18b4a1(0x147)+config_1['config']['nodeEnv']),console[_0x18b4a1(0x11f)]('ðŸ“Š\x20Health\x20check:\x20http://localhost:'+config_1[_0x18b4a1(0x137)][_0x18b4a1(0x128)]+_0x18b4a1(0x13b));});;}catch(_0x5aff89){console[_0x587861(0x13c)](_0x587861(0x148),_0x5aff89),process[_0x587861(0x125)](0x1);}}process['on'](a49_0xb0b2b3(0x14e),async()=>{const _0x19a09a=a49_0xb0b2b3;console[_0x19a09a(0x11f)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService']['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x19a09a(0x12a)][_0x19a09a(0x135)](),domainMonitoringService_1['domainMonitoringService']['stopMonitoring'](),telegramBotService_1[_0x19a09a(0x131)][_0x19a09a(0x126)](),await database_1[_0x19a09a(0x156)][_0x19a09a(0x144)](),process['exit'](0x0);}),process['on'](a49_0xb0b2b3(0x138),async()=>{const _0x5b4aff=a49_0xb0b2b3;console[_0x5b4aff(0x11f)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x5b4aff(0x141)][_0x5b4aff(0x155)](),coinToPayStatusService_1[_0x5b4aff(0x12a)][_0x5b4aff(0x135)](),domainMonitoringService_1['domainMonitoringService'][_0x5b4aff(0x152)](),telegramBotService_1[_0x5b4aff(0x131)][_0x5b4aff(0x126)](),await database_1[_0x5b4aff(0x156)]['$disconnect'](),process[_0x5b4aff(0x125)](0x0);}),startServer();