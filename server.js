'use strict';const a45_0x149556=a45_0x23d3;function a45_0x54b3(){const _0x22c326=['âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','startMonitoring','./config/database','./app','exit','coinToPayStatusService','./services/currencyService','stopBot','295270njEqzv','779480PDueei','$connect','24213uSRiei','9khDgVC','error','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','298108DIbrpz','default','ðŸŒ\x20Environment:\x20','ðŸš€\x20Server\x20running\x20on\x20port\x20','./services/paymentCleanupService','âœ…\x20Telegram\x20bot\x20@','telegramBotService','796XAfmSf','$disconnect','\x20hours','stopPeriodicUpdates','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','paymentCleanupService','__importDefault','âŒ\x20Scheduled\x20cleanup\x20failed:','/api/health','SIGINT','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','runCleanupWithReport','âŒ\x20Failed\x20to\x20start\x20server:','getBotInfo','stopMonitoring','stopPeriodicStatusCheck','\x20is\x20active','./services/coinToPayStatusService','3047175XsRKcc','config','12663167IreRkv','__esModule','log','âŒ\x20Initial\x20cleanup\x20failed:','defineProperty','SIGTERM','currencyService','port','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','318XisHrz','1234vTqHrj','18khFZux','username','domainMonitoringService','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','âœ…\x20Database\x20connected\x20successfully','ðŸ“Š\x20Health\x20check:\x20http://localhost:','listen','127.1.1.159'];a45_0x54b3=function(){return _0x22c326;};return a45_0x54b3();}function a45_0x23d3(_0x3763d1,_0x29e137){_0x3763d1=_0x3763d1-0x1ed;const _0x54b3d9=a45_0x54b3();let _0x23d382=_0x54b3d9[_0x3763d1];return _0x23d382;}(function(_0x2dc79e,_0x20acd4){const _0x54f26e=a45_0x23d3,_0x1918f1=_0x2dc79e();while(!![]){try{const _0x592143=-parseInt(_0x54f26e(0x222))/0x1*(-parseInt(_0x54f26e(0x202))/0x2)+-parseInt(_0x54f26e(0x223))/0x3*(-parseInt(_0x54f26e(0x1fb))/0x4)+parseInt(_0x54f26e(0x216))/0x5+-parseInt(_0x54f26e(0x221))/0x6*(parseInt(_0x54f26e(0x1f7))/0x7)+parseInt(_0x54f26e(0x1f5))/0x8+parseInt(_0x54f26e(0x1f8))/0x9*(parseInt(_0x54f26e(0x1f4))/0xa)+-parseInt(_0x54f26e(0x218))/0xb;if(_0x592143===_0x20acd4)break;else _0x1918f1['push'](_0x1918f1['shift']());}catch(_0x5c71a3){_0x1918f1['push'](_0x1918f1['shift']());}}}(a45_0x54b3,0x530c7));var __importDefault=this&&this[a45_0x149556(0x20a)]||function(_0x27d048){const _0x14ce2e=a45_0x149556;return _0x27d048&&_0x27d048[_0x14ce2e(0x219)]?_0x27d048:{'default':_0x27d048};};Object[a45_0x149556(0x21c)](exports,'__esModule',{'value':!![]});const app_1=__importDefault(require(a45_0x149556(0x1ef))),config_1=require('./config/config'),database_1=__importDefault(require(a45_0x149556(0x1ee))),telegramBotService_1=require('./services/telegramBotService'),currencyService_1=require(a45_0x149556(0x1f2)),coinToPayStatusService_1=require(a45_0x149556(0x215)),domainMonitoringService_1=require('./services/domainMonitoringService'),paymentCleanupService_1=require(a45_0x149556(0x1ff));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x1bed00=a45_0x149556,_0x1e7663=0x18,_0x2a6ed8=_0x1e7663*0x3c*0x3c*0x3e8;console[_0x1bed00(0x21a)](_0x1bed00(0x207)+_0x1e7663+_0x1bed00(0x204)),setTimeout(async()=>{const _0x4c737f=_0x1bed00;console['log'](_0x4c737f(0x22c));try{await paymentCleanupService_1[_0x4c737f(0x209)][_0x4c737f(0x20f)](),console['log']('âœ…\x20Initial\x20cleanup\x20completed\x20successfully');}catch(_0x36086f){console[_0x4c737f(0x1f9)](_0x4c737f(0x21b),_0x36086f);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x4830f5=_0x1bed00;console[_0x4830f5(0x21a)](_0x4830f5(0x226));try{await paymentCleanupService_1[_0x4830f5(0x209)][_0x4830f5(0x20f)](),console['log'](_0x4830f5(0x22d));}catch(_0x4b12a9){console['error'](_0x4830f5(0x20b),_0x4b12a9);}},_0x2a6ed8);}function stopPaymentCleanupScheduler(){const _0x3bbcbc=a45_0x149556;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x3bbcbc(0x21a)](_0x3bbcbc(0x220)));}async function startServer(){const _0x5f3a85=a45_0x149556;try{await database_1[_0x5f3a85(0x1fc)][_0x5f3a85(0x1f6)](),console[_0x5f3a85(0x21a)](_0x5f3a85(0x227));const _0x3fddcb=telegramBotService_1[_0x5f3a85(0x201)][_0x5f3a85(0x211)]();_0x3fddcb['isActive']?console[_0x5f3a85(0x21a)](_0x5f3a85(0x200)+_0x3fddcb[_0x5f3a85(0x224)]+_0x5f3a85(0x214)):console['log'](_0x5f3a85(0x22b)),console[_0x5f3a85(0x21a)]('ðŸ”„\x20Initializing\x20currency\x20rates\x20service...'),console[_0x5f3a85(0x21a)](_0x5f3a85(0x20e)),coinToPayStatusService_1[_0x5f3a85(0x1f1)]['startPeriodicStatusCheck'](),console['log'](_0x5f3a85(0x208)),domainMonitoringService_1[_0x5f3a85(0x225)][_0x5f3a85(0x1ed)](),console[_0x5f3a85(0x21a)](_0x5f3a85(0x206)),startPaymentCleanupScheduler(),app_1['default'][_0x5f3a85(0x229)](config_1[_0x5f3a85(0x217)][_0x5f3a85(0x21f)],_0x5f3a85(0x22a),()=>{const _0x435103=_0x5f3a85;console[_0x435103(0x21a)](_0x435103(0x1fe)+config_1[_0x435103(0x217)]['port']),console[_0x435103(0x21a)](_0x435103(0x1fd)+config_1[_0x435103(0x217)]['nodeEnv']),console['log'](_0x435103(0x228)+config_1[_0x435103(0x217)][_0x435103(0x21f)]+_0x435103(0x20c));});}catch(_0x3155cc){console[_0x5f3a85(0x1f9)](_0x5f3a85(0x210),_0x3155cc),process['exit'](0x1);}}process['on'](a45_0x149556(0x20d),async()=>{const _0x1ebee6=a45_0x149556;console[_0x1ebee6(0x21a)](_0x1ebee6(0x1fa)),stopPaymentCleanupScheduler(),currencyService_1[_0x1ebee6(0x21e)][_0x1ebee6(0x205)](),coinToPayStatusService_1[_0x1ebee6(0x1f1)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService']['stopMonitoring'](),telegramBotService_1['telegramBotService'][_0x1ebee6(0x1f3)](),await database_1[_0x1ebee6(0x1fc)][_0x1ebee6(0x203)](),process[_0x1ebee6(0x1f0)](0x0);}),process['on'](a45_0x149556(0x21d),async()=>{const _0x1565e9=a45_0x149556;console[_0x1565e9(0x21a)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x1565e9(0x21e)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x1565e9(0x1f1)][_0x1565e9(0x213)](),domainMonitoringService_1['domainMonitoringService'][_0x1565e9(0x212)](),telegramBotService_1[_0x1565e9(0x201)][_0x1565e9(0x1f3)](),await database_1[_0x1565e9(0x1fc)][_0x1565e9(0x203)](),process[_0x1565e9(0x1f0)](0x0);}),startServer();