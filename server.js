'use strict';const a47_0x4fce04=a47_0x4069;(function(_0x5db6d3,_0x502c18){const _0x1b00ef=a47_0x4069,_0x456dbe=_0x5db6d3();while(!![]){try{const _0x2e2dbf=-parseInt(_0x1b00ef(0x19e))/0x1*(-parseInt(_0x1b00ef(0x1d4))/0x2)+-parseInt(_0x1b00ef(0x1a8))/0x3*(-parseInt(_0x1b00ef(0x19d))/0x4)+parseInt(_0x1b00ef(0x1bd))/0x5+parseInt(_0x1b00ef(0x1cb))/0x6+parseInt(_0x1b00ef(0x1c6))/0x7+-parseInt(_0x1b00ef(0x1b8))/0x8*(-parseInt(_0x1b00ef(0x199))/0x9)+-parseInt(_0x1b00ef(0x1d0))/0xa*(parseInt(_0x1b00ef(0x1b1))/0xb);if(_0x2e2dbf===_0x502c18)break;else _0x456dbe['push'](_0x456dbe['shift']());}catch(_0x6700fa){_0x456dbe['push'](_0x456dbe['shift']());}}}(a47_0x5d7e,0x5ed2d));var __importDefault=this&&this[a47_0x4fce04(0x1c0)]||function(_0x1029cc){const _0x4ba6cb=a47_0x4fce04;return _0x1029cc&&_0x1029cc[_0x4ba6cb(0x1a3)]?_0x1029cc:{'default':_0x1029cc};};Object['defineProperty'](exports,a47_0x4fce04(0x1a3),{'value':!![]});const app_1=__importDefault(require(a47_0x4fce04(0x1b9))),config_1=require(a47_0x4fce04(0x1b5)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a47_0x4fce04(0x1bf)),currencyService_1=require(a47_0x4fce04(0x1c1)),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require('./services/domainMonitoringService'),paymentCleanupService_1=require(a47_0x4fce04(0x1b4));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x4d2e54=a47_0x4fce04,_0x416842=0x18,_0xd2058=_0x416842*0x3c*0x3c*0x3e8;console[_0x4d2e54(0x1a9)](_0x4d2e54(0x19c)+_0x416842+_0x4d2e54(0x1d3)),setTimeout(async()=>{const _0x7bfaea=_0x4d2e54;console[_0x7bfaea(0x1a9)](_0x7bfaea(0x1a4));try{await paymentCleanupService_1[_0x7bfaea(0x1ba)][_0x7bfaea(0x1a7)](),console['log'](_0x7bfaea(0x1ce));}catch(_0x4a3253){console[_0x7bfaea(0x1c2)](_0x7bfaea(0x1aa),_0x4a3253);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x2f7e57=_0x4d2e54;console[_0x2f7e57(0x1a9)]('ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1['paymentCleanupService'][_0x2f7e57(0x1a7)](),console[_0x2f7e57(0x1a9)](_0x2f7e57(0x1be));}catch(_0x1ed0d9){console[_0x2f7e57(0x1c2)](_0x2f7e57(0x1a6),_0x1ed0d9);}},_0xd2058);}function a47_0x5d7e(){const _0x57daa6=['SIGINT','__esModule','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','âŒ\x20Scheduled\x20cleanup\x20failed:','runCleanupWithReport','183363EueNaF','log','âŒ\x20Initial\x20cleanup\x20failed:','exit','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','coinToPayStatusService','âŒ\x20Failed\x20to\x20start\x20server:','âœ…\x20Database\x20connected\x20successfully','telegramBotService','29873965HFYnxu','/api/health','port','./services/paymentCleanupService','./config/config','getBotInfo','nodeEnv','2414056QPSrEy','./app','paymentCleanupService','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','stopPeriodicUpdates','2512005cmbNvH','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','./services/telegramBotService','__importDefault','./services/currencyService','error','listen','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','SIGTERM','5414017RRaYnm','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','isActive','ðŸŒ\x20Environment:\x20','âœ…\x20Telegram\x20bot\x20@','1772016myJrMo','config','$disconnect','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','stopBot','10ZjQAwX','ðŸš€\x20Server\x20running\x20on\x20port\x20','$connect','\x20hours','279478vTCaUY','\x20is\x20active','domainMonitoringService','9uthFfO','stopPeriodicStatusCheck','production','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','44xGyDse','4PEiHhj','startPeriodicStatusCheck','default','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...'];a47_0x5d7e=function(){return _0x57daa6;};return a47_0x5d7e();}function stopPaymentCleanupScheduler(){const _0x28eeca=a47_0x4fce04;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x28eeca(0x1a9)](_0x28eeca(0x1c4)));}function a47_0x4069(_0x279e9d,_0x2d3333){_0x279e9d=_0x279e9d-0x198;const _0x5d7e00=a47_0x5d7e();let _0x4069bf=_0x5d7e00[_0x279e9d];return _0x4069bf;}async function startServer(){const _0x21a5e2=a47_0x4fce04;try{await database_1[_0x21a5e2(0x1a0)][_0x21a5e2(0x1d2)](),console['log'](_0x21a5e2(0x1af));const _0x43b152=telegramBotService_1[_0x21a5e2(0x1b0)][_0x21a5e2(0x1b6)]();_0x43b152[_0x21a5e2(0x1c8)]?console[_0x21a5e2(0x1a9)](_0x21a5e2(0x1ca)+_0x43b152['username']+_0x21a5e2(0x1d5)):console[_0x21a5e2(0x1a9)](_0x21a5e2(0x1c7));console[_0x21a5e2(0x1a9)]('ðŸ”„\x20Initializing\x20currency\x20rates\x20service...'),console[_0x21a5e2(0x1a9)](_0x21a5e2(0x1bb)),coinToPayStatusService_1[_0x21a5e2(0x1ad)][_0x21a5e2(0x19f)](),console[_0x21a5e2(0x1a9)](_0x21a5e2(0x1a1)),domainMonitoringService_1[_0x21a5e2(0x198)]['startMonitoring'](),console[_0x21a5e2(0x1a9)](_0x21a5e2(0x1a5)),startPaymentCleanupScheduler();config_1['config']['nodeEnv']===_0x21a5e2(0x19b)?app_1['default']['listen'](config_1[_0x21a5e2(0x1cc)][_0x21a5e2(0x1b3)],()=>{const _0x20aa91=_0x21a5e2;console[_0x20aa91(0x1a9)]('ðŸš€\x20Server\x20running\x20on\x20port\x20'+config_1[_0x20aa91(0x1cc)][_0x20aa91(0x1b3)]),console['log']('ðŸŒ\x20Environment:\x20'+config_1[_0x20aa91(0x1cc)][_0x20aa91(0x1b7)]);}):app_1[_0x21a5e2(0x1a0)][_0x21a5e2(0x1c3)](config_1['config']['port'],'127.1.1.159',()=>{const _0x467daa=_0x21a5e2;console[_0x467daa(0x1a9)](_0x467daa(0x1d1)+config_1[_0x467daa(0x1cc)][_0x467daa(0x1b3)]),console['log'](_0x467daa(0x1c9)+config_1[_0x467daa(0x1cc)][_0x467daa(0x1b7)]),console[_0x467daa(0x1a9)]('ðŸ“Š\x20Health\x20check:\x20http://localhost:'+config_1['config'][_0x467daa(0x1b3)]+_0x467daa(0x1b2));});;}catch(_0x2e5acf){console[_0x21a5e2(0x1c2)](_0x21a5e2(0x1ae),_0x2e5acf),process[_0x21a5e2(0x1ab)](0x1);}}process['on'](a47_0x4fce04(0x1a2),async()=>{const _0x445402=a47_0x4fce04;console[_0x445402(0x1a9)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x445402(0x1bc)](),coinToPayStatusService_1[_0x445402(0x1ad)][_0x445402(0x19a)](),domainMonitoringService_1[_0x445402(0x198)]['stopMonitoring'](),telegramBotService_1[_0x445402(0x1b0)][_0x445402(0x1cf)](),await database_1[_0x445402(0x1a0)]['$disconnect'](),process[_0x445402(0x1ab)](0x0);}),process['on'](a47_0x4fce04(0x1c5),async()=>{const _0xdb8d2b=a47_0x4fce04;console[_0xdb8d2b(0x1a9)](_0xdb8d2b(0x1ac)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0xdb8d2b(0x1bc)](),coinToPayStatusService_1[_0xdb8d2b(0x1ad)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0xdb8d2b(0x198)]['stopMonitoring'](),telegramBotService_1[_0xdb8d2b(0x1b0)]['stopBot'](),await database_1[_0xdb8d2b(0x1a0)][_0xdb8d2b(0x1cd)](),process['exit'](0x0);}),startServer();