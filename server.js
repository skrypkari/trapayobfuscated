'use strict';const a39_0x1374d4=a39_0xef52;(function(_0x489fdd,_0x230dcd){const _0x24c89d=a39_0xef52,_0x238dc4=_0x489fdd();while(!![]){try{const _0x476085=-parseInt(_0x24c89d(0xb9))/0x1*(-parseInt(_0x24c89d(0xab))/0x2)+parseInt(_0x24c89d(0xbf))/0x3+parseInt(_0x24c89d(0xe0))/0x4+parseInt(_0x24c89d(0xbe))/0x5*(parseInt(_0x24c89d(0xd1))/0x6)+parseInt(_0x24c89d(0xc6))/0x7+-parseInt(_0x24c89d(0xce))/0x8+-parseInt(_0x24c89d(0xcd))/0x9*(parseInt(_0x24c89d(0xcb))/0xa);if(_0x476085===_0x230dcd)break;else _0x238dc4['push'](_0x238dc4['shift']());}catch(_0x418486){_0x238dc4['push'](_0x238dc4['shift']());}}}(a39_0x989c,0x5d601));var __importDefault=this&&this['__importDefault']||function(_0x3d8fb4){return _0x3d8fb4&&_0x3d8fb4['__esModule']?_0x3d8fb4:{'default':_0x3d8fb4};};function a39_0x989c(){const _0x38c0f5=['1BrQoKv','error','127.1.1.159','exit','listen','155xzimyD','985512loIRkP','🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','startPeriodicStatusCheck','./config/database','currencyService','$disconnect','./config/config','1194333eaoRly','stopBot','🛑\x20Payment\x20cleanup\x20scheduler\x20stopped','./services/telegramBotService','✅\x20Telegram\x20bot\x20@','1870KGEOJt','config','33786WSWXUx','5608824EjXhXk','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','\x0a🔄\x20Gracefully\x20shutting\x20down...','32910BHyvSQ','log','stopMonitoring','runCleanupWithReport','port','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','🌍\x20Environment:\x20','isActive','./services/currencyService','telegramBotService','\x20is\x20active','stopPeriodicUpdates','nodeEnv','\x20hours','./services/domainMonitoringService','2128364xSNFfr','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','❌\x20Failed\x20to\x20start\x20server:','./services/coinToPayStatusService','📊\x20Health\x20check:\x20http://localhost:','default','1168634lfOpQJ','🔍\x20Initializing\x20domain\x20monitoring\x20service...','✅\x20Initial\x20cleanup\x20completed\x20successfully','/api/health','paymentCleanupService','$connect','./services/paymentCleanupService','🔄\x20Initializing\x20currency\x20rates\x20service...','startMonitoring','./app','🚀\x20Server\x20running\x20on\x20port\x20','username','SIGTERM','coinToPayStatusService'];a39_0x989c=function(){return _0x38c0f5;};return a39_0x989c();}Object['defineProperty'](exports,'__esModule',{'value':!![]});const app_1=__importDefault(require(a39_0x1374d4(0xb4))),config_1=require(a39_0x1374d4(0xc5)),database_1=__importDefault(require(a39_0x1374d4(0xc2))),telegramBotService_1=require(a39_0x1374d4(0xc9)),currencyService_1=require(a39_0x1374d4(0xd9)),coinToPayStatusService_1=require(a39_0x1374d4(0xa8)),domainMonitoringService_1=require(a39_0x1374d4(0xdf)),paymentCleanupService_1=require(a39_0x1374d4(0xb1));let paymentCleanupInterval=null;function a39_0xef52(_0x52810b,_0x13d8a6){const _0x989c33=a39_0x989c();return a39_0xef52=function(_0xef5243,_0x4ae760){_0xef5243=_0xef5243-0xa7;let _0x3d348c=_0x989c33[_0xef5243];return _0x3d348c;},a39_0xef52(_0x52810b,_0x13d8a6);}function startPaymentCleanupScheduler(){const _0x2e58fd=a39_0x1374d4,_0x56d125=0x18,_0x3b6b56=_0x56d125*0x3c*0x3c*0x3e8;console[_0x2e58fd(0xd2)](_0x2e58fd(0xc0)+_0x56d125+_0x2e58fd(0xde)),setTimeout(async()=>{const _0xf53ec3=_0x2e58fd;console[_0xf53ec3(0xd2)](_0xf53ec3(0xe1));try{await paymentCleanupService_1[_0xf53ec3(0xaf)][_0xf53ec3(0xd4)](),console[_0xf53ec3(0xd2)](_0xf53ec3(0xad));}catch(_0x5d13d0){console['error']('❌\x20Initial\x20cleanup\x20failed:',_0x5d13d0);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x487eda=_0x2e58fd;console[_0x487eda(0xd2)](_0x487eda(0xd6));try{await paymentCleanupService_1[_0x487eda(0xaf)][_0x487eda(0xd4)](),console[_0x487eda(0xd2)]('✅\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x43cab3){console[_0x487eda(0xba)]('❌\x20Scheduled\x20cleanup\x20failed:',_0x43cab3);}},_0x3b6b56);}function stopPaymentCleanupScheduler(){const _0x1ccd79=a39_0x1374d4;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0x1ccd79(0xc8)));}async function startServer(){const _0x569799=a39_0x1374d4;try{await database_1[_0x569799(0xaa)][_0x569799(0xb0)](),console[_0x569799(0xd2)]('✅\x20Database\x20connected\x20successfully');const _0x1d0b1a=telegramBotService_1[_0x569799(0xda)]['getBotInfo']();_0x1d0b1a[_0x569799(0xd8)]?console[_0x569799(0xd2)](_0x569799(0xca)+_0x1d0b1a[_0x569799(0xb6)]+_0x569799(0xdb)):console['log'](_0x569799(0xe2)),console[_0x569799(0xd2)](_0x569799(0xb2)),console[_0x569799(0xd2)](_0x569799(0xcf)),coinToPayStatusService_1[_0x569799(0xb8)][_0x569799(0xc1)](),console[_0x569799(0xd2)](_0x569799(0xac)),domainMonitoringService_1['domainMonitoringService'][_0x569799(0xb3)](),console[_0x569799(0xd2)]('🧹\x20Initializing\x20payment\x20cleanup\x20service...'),startPaymentCleanupScheduler(),app_1[_0x569799(0xaa)][_0x569799(0xbd)](config_1[_0x569799(0xcc)]['port'],_0x569799(0xbb),()=>{const _0x292870=_0x569799;console['log'](_0x292870(0xb5)+config_1[_0x292870(0xcc)]['port']),console['log'](_0x292870(0xd7)+config_1[_0x292870(0xcc)][_0x292870(0xdd)]),console['log'](_0x292870(0xa9)+config_1['config'][_0x292870(0xd5)]+_0x292870(0xae));});}catch(_0x331556){console[_0x569799(0xba)](_0x569799(0xa7),_0x331556),process[_0x569799(0xbc)](0x1);}}process['on']('SIGINT',async()=>{const _0x5954d6=a39_0x1374d4;console[_0x5954d6(0xd2)](_0x5954d6(0xd0)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x5954d6(0xdc)](),coinToPayStatusService_1[_0x5954d6(0xb8)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService'][_0x5954d6(0xd3)](),telegramBotService_1[_0x5954d6(0xda)][_0x5954d6(0xc7)](),await database_1[_0x5954d6(0xaa)][_0x5954d6(0xc4)](),process[_0x5954d6(0xbc)](0x0);}),process['on'](a39_0x1374d4(0xb7),async()=>{const _0x42ce26=a39_0x1374d4;console[_0x42ce26(0xd2)]('\x0a🔄\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x42ce26(0xc3)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x42ce26(0xb8)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService']['stopMonitoring'](),telegramBotService_1['telegramBotService'][_0x42ce26(0xc7)](),await database_1[_0x42ce26(0xaa)][_0x42ce26(0xc4)](),process[_0x42ce26(0xbc)](0x0);}),startServer();