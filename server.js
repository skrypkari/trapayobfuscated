'use strict';function a39_0x5b39(){const _0x1afeb3=['627444TFEmAH','./config/config','66090scZmlz','stopPeriodicStatusCheck','./config/database','__esModule','getBotInfo','🛑\x20Payment\x20cleanup\x20scheduler\x20stopped','exit','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','🚀\x20Server\x20running\x20on\x20port\x20','\x20hours','977070vKjivS','paymentCleanupService','__importDefault','127.1.1.159','❌\x20Failed\x20to\x20start\x20server:','isActive','✅\x20Telegram\x20bot\x20@','startMonitoring','./services/paymentCleanupService','defineProperty','7248420eaVDIo','/api/health','357OVgdUK','🔄\x20Initializing\x20currency\x20rates\x20service...','SIGTERM','✅\x20Initial\x20cleanup\x20completed\x20successfully','default','45112SDrHPD','config','\x0a🔄\x20Gracefully\x20shutting\x20down...','1AcsBGQ','\x20is\x20active','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','stopBot','log','listen','stopPeriodicUpdates','./services/currencyService','$disconnect','./services/domainMonitoringService','port','🧹\x20Initializing\x20payment\x20cleanup\x20service...','telegramBotService','error','coinToPayStatusService','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','./services/telegramBotService','❌\x20Initial\x20cleanup\x20failed:','startPeriodicStatusCheck','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','1102332nfRxlo','domainMonitoringService','539582amUZwf','✅\x20Scheduled\x20cleanup\x20completed\x20successfully','currencyService'];a39_0x5b39=function(){return _0x1afeb3;};return a39_0x5b39();}const a39_0x4f6631=a39_0x56b9;(function(_0x376189,_0x58d278){const _0x137861=a39_0x56b9,_0x214cd0=_0x376189();while(!![]){try{const _0x1c5071=parseInt(_0x137861(0x1b0))/0x1*(-parseInt(_0x137861(0x18d))/0x2)+-parseInt(_0x137861(0x190))/0x3+-parseInt(_0x137861(0x18b))/0x4+-parseInt(_0x137861(0x192))/0x5+-parseInt(_0x137861(0x19c))/0x6+-parseInt(_0x137861(0x1a8))/0x7*(-parseInt(_0x137861(0x1ad))/0x8)+parseInt(_0x137861(0x1a6))/0x9;if(_0x1c5071===_0x58d278)break;else _0x214cd0['push'](_0x214cd0['shift']());}catch(_0x22f94f){_0x214cd0['push'](_0x214cd0['shift']());}}}(a39_0x5b39,0x27a50));var __importDefault=this&&this[a39_0x4f6631(0x19e)]||function(_0x24a964){const _0x5d1d91=a39_0x4f6631;return _0x24a964&&_0x24a964[_0x5d1d91(0x195)]?_0x24a964:{'default':_0x24a964};};Object[a39_0x4f6631(0x1a5)](exports,a39_0x4f6631(0x195),{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a39_0x4f6631(0x191)),database_1=__importDefault(require(a39_0x4f6631(0x194))),telegramBotService_1=require(a39_0x4f6631(0x187)),currencyService_1=require(a39_0x4f6631(0x1b7)),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require(a39_0x4f6631(0x1b9)),paymentCleanupService_1=require(a39_0x4f6631(0x1a4));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x690842=a39_0x4f6631,_0x1291ce=0x18,_0x26b226=_0x1291ce*0x3c*0x3c*0x3e8;console[_0x690842(0x1b4)]('🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x1291ce+_0x690842(0x19b)),setTimeout(async()=>{const _0xaab6e7=_0x690842;console[_0xaab6e7(0x1b4)](_0xaab6e7(0x199));try{await paymentCleanupService_1[_0xaab6e7(0x19d)]['runCleanupWithReport'](),console[_0xaab6e7(0x1b4)](_0xaab6e7(0x1ab));}catch(_0x2fd5c3){console['error'](_0xaab6e7(0x188),_0x2fd5c3);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x28dd52=_0x690842;console[_0x28dd52(0x1b4)](_0x28dd52(0x18a));try{await paymentCleanupService_1[_0x28dd52(0x19d)]['runCleanupWithReport'](),console[_0x28dd52(0x1b4)](_0x28dd52(0x18e));}catch(_0x1709ae){console[_0x28dd52(0x184)]('❌\x20Scheduled\x20cleanup\x20failed:',_0x1709ae);}},_0x26b226);}function stopPaymentCleanupScheduler(){const _0x2d2cac=a39_0x4f6631;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x2d2cac(0x1b4)](_0x2d2cac(0x197)));}async function startServer(){const _0x27eb15=a39_0x4f6631;try{await database_1[_0x27eb15(0x1ac)]['$connect'](),console[_0x27eb15(0x1b4)]('✅\x20Database\x20connected\x20successfully');const _0x5c19b8=telegramBotService_1[_0x27eb15(0x183)][_0x27eb15(0x196)]();_0x5c19b8[_0x27eb15(0x1a1)]?console['log'](_0x27eb15(0x1a2)+_0x5c19b8['username']+_0x27eb15(0x1b1)):console['log'](_0x27eb15(0x1b2)),console[_0x27eb15(0x1b4)](_0x27eb15(0x1a9)),console['log'](_0x27eb15(0x186)),coinToPayStatusService_1[_0x27eb15(0x185)][_0x27eb15(0x189)](),console[_0x27eb15(0x1b4)]('🔍\x20Initializing\x20domain\x20monitoring\x20service...'),domainMonitoringService_1[_0x27eb15(0x18c)][_0x27eb15(0x1a3)](),console[_0x27eb15(0x1b4)](_0x27eb15(0x182)),startPaymentCleanupScheduler(),app_1[_0x27eb15(0x1ac)][_0x27eb15(0x1b5)](config_1[_0x27eb15(0x1ae)][_0x27eb15(0x181)],_0x27eb15(0x19f),()=>{const _0x57ca95=_0x27eb15;console[_0x57ca95(0x1b4)](_0x57ca95(0x19a)+config_1['config'][_0x57ca95(0x181)]),console[_0x57ca95(0x1b4)]('🌍\x20Environment:\x20'+config_1[_0x57ca95(0x1ae)]['nodeEnv']),console[_0x57ca95(0x1b4)]('📊\x20Health\x20check:\x20http://localhost:'+config_1['config'][_0x57ca95(0x181)]+_0x57ca95(0x1a7));});}catch(_0x3d1f02){console[_0x27eb15(0x184)](_0x27eb15(0x1a0),_0x3d1f02),process[_0x27eb15(0x198)](0x1);}}function a39_0x56b9(_0x2bdf79,_0x1dc2ad){const _0x5b39bb=a39_0x5b39();return a39_0x56b9=function(_0x56b93a,_0x3d5eef){_0x56b93a=_0x56b93a-0x181;let _0x45eabb=_0x5b39bb[_0x56b93a];return _0x45eabb;},a39_0x56b9(_0x2bdf79,_0x1dc2ad);}process['on']('SIGINT',async()=>{const _0x3685be=a39_0x4f6631;console[_0x3685be(0x1b4)](_0x3685be(0x1af)),stopPaymentCleanupScheduler(),currencyService_1[_0x3685be(0x18f)][_0x3685be(0x1b6)](),coinToPayStatusService_1[_0x3685be(0x185)][_0x3685be(0x193)](),domainMonitoringService_1[_0x3685be(0x18c)]['stopMonitoring'](),telegramBotService_1[_0x3685be(0x183)][_0x3685be(0x1b3)](),await database_1[_0x3685be(0x1ac)]['$disconnect'](),process[_0x3685be(0x198)](0x0);}),process['on'](a39_0x4f6631(0x1aa),async()=>{const _0x31c0a4=a39_0x4f6631;console['log'](_0x31c0a4(0x1af)),stopPaymentCleanupScheduler(),currencyService_1[_0x31c0a4(0x18f)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x31c0a4(0x185)][_0x31c0a4(0x193)](),domainMonitoringService_1[_0x31c0a4(0x18c)]['stopMonitoring'](),telegramBotService_1[_0x31c0a4(0x183)][_0x31c0a4(0x1b3)](),await database_1[_0x31c0a4(0x1ac)][_0x31c0a4(0x1b8)](),process[_0x31c0a4(0x198)](0x0);}),startServer();