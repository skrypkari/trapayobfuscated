'use strict';const a39_0x2449c6=a39_0x1079;(function(_0xb248f5,_0x489584){const _0x5a22d0=a39_0x1079,_0x14d759=_0xb248f5();while(!![]){try{const _0x32d198=parseInt(_0x5a22d0(0x14d))/0x1*(parseInt(_0x5a22d0(0x140))/0x2)+-parseInt(_0x5a22d0(0x122))/0x3*(parseInt(_0x5a22d0(0x13f))/0x4)+parseInt(_0x5a22d0(0x12f))/0x5+parseInt(_0x5a22d0(0x12d))/0x6+-parseInt(_0x5a22d0(0x144))/0x7*(parseInt(_0x5a22d0(0x119))/0x8)+parseInt(_0x5a22d0(0x150))/0x9+parseInt(_0x5a22d0(0x11a))/0xa*(-parseInt(_0x5a22d0(0x14a))/0xb);if(_0x32d198===_0x489584)break;else _0x14d759['push'](_0x14d759['shift']());}catch(_0x4fd626){_0x14d759['push'](_0x14d759['shift']());}}}(a39_0x10eb,0x9eb0f));var __importDefault=this&&this[a39_0x2449c6(0x138)]||function(_0xd46e24){const _0x403b55=a39_0x2449c6;return _0xd46e24&&_0xd46e24[_0x403b55(0x126)]?_0xd46e24:{'default':_0xd46e24};};Object[a39_0x2449c6(0x13b)](exports,a39_0x2449c6(0x126),{'value':!![]});const app_1=__importDefault(require(a39_0x2449c6(0x117))),config_1=require(a39_0x2449c6(0x145)),database_1=__importDefault(require(a39_0x2449c6(0x13d))),telegramBotService_1=require(a39_0x2449c6(0x143)),currencyService_1=require('./services/currencyService'),coinToPayStatusService_1=require(a39_0x2449c6(0x13e)),domainMonitoringService_1=require('./services/domainMonitoringService'),paymentCleanupService_1=require(a39_0x2449c6(0x137));function a39_0x1079(_0x2a41c8,_0x34cafc){const _0x10eb69=a39_0x10eb();return a39_0x1079=function(_0x1079fa,_0x208316){_0x1079fa=_0x1079fa-0x116;let _0x3f656b=_0x10eb69[_0x1079fa];return _0x3f656b;},a39_0x1079(_0x2a41c8,_0x34cafc);}let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x3c8616=a39_0x2449c6,_0x36a564=0x18,_0x484977=_0x36a564*0x3c*0x3c*0x3e8;console[_0x3c8616(0x116)]('🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x36a564+'\x20hours'),setTimeout(async()=>{const _0x9523c2=_0x3c8616;console[_0x9523c2(0x116)](_0x9523c2(0x152));try{await paymentCleanupService_1[_0x9523c2(0x123)]['runCleanupWithReport'](),console[_0x9523c2(0x116)](_0x9523c2(0x146));}catch(_0x532220){console[_0x9523c2(0x132)](_0x9523c2(0x11c),_0x532220);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x55d982=_0x3c8616;console[_0x55d982(0x116)](_0x55d982(0x141));try{await paymentCleanupService_1['paymentCleanupService']['runCleanupWithReport'](),console['log'](_0x55d982(0x127));}catch(_0x5adf03){console['error']('❌\x20Scheduled\x20cleanup\x20failed:',_0x5adf03);}},_0x484977);}function a39_0x10eb(){const _0x360863=['exit','🔍\x20Initializing\x20domain\x20monitoring\x20service...','5105838DmQtzu','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','374620CkIkVY','\x20is\x20active','startMonitoring','error','default','/api/health','port','🔄\x20Initializing\x20currency\x20rates\x20service...','./services/paymentCleanupService','__importDefault','SIGTERM','isActive','defineProperty','listen','./config/database','./services/coinToPayStatusService','32gKwYAH','142gtoquO','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','❌\x20Failed\x20to\x20start\x20server:','./services/telegramBotService','4075309ZnLRiP','./config/config','✅\x20Initial\x20cleanup\x20completed\x20successfully','config','nodeEnv','🧹\x20Initializing\x20payment\x20cleanup\x20service...','872146ztSDQt','$disconnect','SIGINT','16913nkWRsb','📊\x20Health\x20check:\x20http://localhost:','username','7110801pgynNi','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','stopBot','log','./app','\x0a🔄\x20Gracefully\x20shutting\x20down...','16kPYtuY','100lxhqTk','stopPeriodicUpdates','❌\x20Initial\x20cleanup\x20failed:','telegramBotService','getBotInfo','stopMonitoring','currencyService','stopPeriodicStatusCheck','116091eJUGNs','paymentCleanupService','🌍\x20Environment:\x20','domainMonitoringService','__esModule','✅\x20Scheduled\x20cleanup\x20completed\x20successfully','$connect','🚀\x20Server\x20running\x20on\x20port\x20','startPeriodicStatusCheck'];a39_0x10eb=function(){return _0x360863;};return a39_0x10eb();}function stopPaymentCleanupScheduler(){paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log']('🛑\x20Payment\x20cleanup\x20scheduler\x20stopped'));}async function startServer(){const _0x31876b=a39_0x2449c6;try{await database_1[_0x31876b(0x133)][_0x31876b(0x128)](),console[_0x31876b(0x116)]('✅\x20Database\x20connected\x20successfully');const _0x5b86e8=telegramBotService_1[_0x31876b(0x11d)][_0x31876b(0x11e)]();_0x5b86e8[_0x31876b(0x13a)]?console['log']('✅\x20Telegram\x20bot\x20@'+_0x5b86e8[_0x31876b(0x14f)]+_0x31876b(0x130)):console['log'](_0x31876b(0x12e)),console[_0x31876b(0x116)](_0x31876b(0x136)),console[_0x31876b(0x116)](_0x31876b(0x151)),coinToPayStatusService_1['coinToPayStatusService'][_0x31876b(0x12a)](),console[_0x31876b(0x116)](_0x31876b(0x12c)),domainMonitoringService_1['domainMonitoringService'][_0x31876b(0x131)](),console[_0x31876b(0x116)](_0x31876b(0x149)),startPaymentCleanupScheduler(),app_1[_0x31876b(0x133)][_0x31876b(0x13c)](config_1['config'][_0x31876b(0x135)],'127.1.1.159',()=>{const _0x2f0648=_0x31876b;console[_0x2f0648(0x116)](_0x2f0648(0x129)+config_1['config']['port']),console[_0x2f0648(0x116)](_0x2f0648(0x124)+config_1['config'][_0x2f0648(0x148)]),console[_0x2f0648(0x116)](_0x2f0648(0x14e)+config_1[_0x2f0648(0x147)]['port']+_0x2f0648(0x134));});}catch(_0x330d03){console[_0x31876b(0x132)](_0x31876b(0x142),_0x330d03),process['exit'](0x1);}}process['on'](a39_0x2449c6(0x14c),async()=>{const _0x83ecd3=a39_0x2449c6;console[_0x83ecd3(0x116)](_0x83ecd3(0x118)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x83ecd3(0x11b)](),coinToPayStatusService_1['coinToPayStatusService'][_0x83ecd3(0x121)](),domainMonitoringService_1[_0x83ecd3(0x125)][_0x83ecd3(0x11f)](),telegramBotService_1[_0x83ecd3(0x11d)][_0x83ecd3(0x153)](),await database_1[_0x83ecd3(0x133)][_0x83ecd3(0x14b)](),process[_0x83ecd3(0x12b)](0x0);}),process['on'](a39_0x2449c6(0x139),async()=>{const _0x4633c1=a39_0x2449c6;console[_0x4633c1(0x116)](_0x4633c1(0x118)),stopPaymentCleanupScheduler(),currencyService_1[_0x4633c1(0x120)][_0x4633c1(0x11b)](),coinToPayStatusService_1['coinToPayStatusService'][_0x4633c1(0x121)](),domainMonitoringService_1[_0x4633c1(0x125)][_0x4633c1(0x11f)](),telegramBotService_1[_0x4633c1(0x11d)][_0x4633c1(0x153)](),await database_1[_0x4633c1(0x133)][_0x4633c1(0x14b)](),process[_0x4633c1(0x12b)](0x0);}),startServer();