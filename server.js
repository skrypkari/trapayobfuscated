'use strict';const a39_0x824213=a39_0x4a49;function a39_0x4a49(_0x275de8,_0x10b85c){const _0x1ca773=a39_0x1ca7();return a39_0x4a49=function(_0x4a4978,_0xf7f879){_0x4a4978=_0x4a4978-0x1c6;let _0x25b58a=_0x1ca773[_0x4a4978];return _0x25b58a;},a39_0x4a49(_0x275de8,_0x10b85c);}(function(_0x9e627d,_0x270022){const _0x74754c=a39_0x4a49,_0x157094=_0x9e627d();while(!![]){try{const _0x388e9e=parseInt(_0x74754c(0x1c7))/0x1+-parseInt(_0x74754c(0x1f3))/0x2*(-parseInt(_0x74754c(0x1d1))/0x3)+parseInt(_0x74754c(0x1ce))/0x4+-parseInt(_0x74754c(0x1e2))/0x5*(-parseInt(_0x74754c(0x1de))/0x6)+parseInt(_0x74754c(0x1d5))/0x7+parseInt(_0x74754c(0x1ef))/0x8+-parseInt(_0x74754c(0x1d9))/0x9;if(_0x388e9e===_0x270022)break;else _0x157094['push'](_0x157094['shift']());}catch(_0xa6cce2){_0x157094['push'](_0x157094['shift']());}}}(a39_0x1ca7,0x67469));var __importDefault=this&&this[a39_0x824213(0x1e4)]||function(_0x190863){const _0xc46cb6=a39_0x824213;return _0x190863&&_0x190863[_0xc46cb6(0x1f2)]?_0x190863:{'default':_0x190863};};Object[a39_0x824213(0x1ca)](exports,a39_0x824213(0x1f2),{'value':!![]});const app_1=__importDefault(require(a39_0x824213(0x1e3))),config_1=require(a39_0x824213(0x1db)),database_1=__importDefault(require(a39_0x824213(0x1dd))),telegramBotService_1=require(a39_0x824213(0x1c8)),currencyService_1=require(a39_0x824213(0x1e0)),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require(a39_0x824213(0x1fd)),paymentCleanupService_1=require('./services/paymentCleanupService');let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x28f95a=a39_0x824213,_0x1f9a77=0x18,_0x4f9c6f=_0x1f9a77*0x3c*0x3c*0x3e8;console[_0x28f95a(0x1dc)]('üïê\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x1f9a77+'\x20hours'),setTimeout(async()=>{const _0x3b6c75=_0x28f95a;console[_0x3b6c75(0x1dc)](_0x3b6c75(0x1ec));try{await paymentCleanupService_1[_0x3b6c75(0x1fa)][_0x3b6c75(0x1e9)](),console[_0x3b6c75(0x1dc)](_0x3b6c75(0x1cc));}catch(_0x285f31){console[_0x3b6c75(0x1d2)](_0x3b6c75(0x1f7),_0x285f31);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x252778=_0x28f95a;console[_0x252778(0x1dc)](_0x252778(0x1ff));try{await paymentCleanupService_1[_0x252778(0x1fa)][_0x252778(0x1e9)](),console[_0x252778(0x1dc)]('‚úÖ\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0xefe616){console[_0x252778(0x1d2)](_0x252778(0x1f4),_0xefe616);}},_0x4f9c6f);}function stopPaymentCleanupScheduler(){paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log']('üõë\x20Payment\x20cleanup\x20scheduler\x20stopped'));}async function startServer(){const _0x5c6daf=a39_0x824213;try{await database_1[_0x5c6daf(0x1cd)]['$connect'](),console[_0x5c6daf(0x1dc)](_0x5c6daf(0x1fc));const _0x4f41b1=telegramBotService_1[_0x5c6daf(0x1d6)][_0x5c6daf(0x1f8)]();_0x4f41b1['isActive']?console[_0x5c6daf(0x1dc)](_0x5c6daf(0x1e1)+_0x4f41b1[_0x5c6daf(0x1fb)]+'\x20is\x20active'):console['log'](_0x5c6daf(0x1f5)),console[_0x5c6daf(0x1dc)](_0x5c6daf(0x1cf)),console[_0x5c6daf(0x1dc)]('ü™ô\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'),coinToPayStatusService_1[_0x5c6daf(0x1f1)][_0x5c6daf(0x1e7)](),console['log'](_0x5c6daf(0x1e5)),domainMonitoringService_1['domainMonitoringService'][_0x5c6daf(0x1d7)](),console[_0x5c6daf(0x1dc)](_0x5c6daf(0x1f9)),startPaymentCleanupScheduler(),app_1[_0x5c6daf(0x1cd)][_0x5c6daf(0x1f0)](config_1[_0x5c6daf(0x1f6)][_0x5c6daf(0x1fe)],_0x5c6daf(0x1df),()=>{const _0x58e27f=_0x5c6daf;console[_0x58e27f(0x1dc)](_0x58e27f(0x1e6)+config_1[_0x58e27f(0x1f6)][_0x58e27f(0x1fe)]),console[_0x58e27f(0x1dc)](_0x58e27f(0x1cb)+config_1[_0x58e27f(0x1f6)][_0x58e27f(0x1e8)]),console[_0x58e27f(0x1dc)]('üìä\x20Health\x20check:\x20http://localhost:'+config_1[_0x58e27f(0x1f6)][_0x58e27f(0x1fe)]+_0x58e27f(0x1d8));});}catch(_0x1a5887){console['error'](_0x5c6daf(0x1c9),_0x1a5887),process['exit'](0x1);}}process['on'](a39_0x824213(0x1d3),async()=>{const _0x571e77=a39_0x824213;console['log']('\x0aüîÑ\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x571e77(0x1ea)][_0x571e77(0x1d4)](),coinToPayStatusService_1[_0x571e77(0x1f1)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService'][_0x571e77(0x1eb)](),telegramBotService_1['telegramBotService'][_0x571e77(0x1c6)](),await database_1[_0x571e77(0x1cd)][_0x571e77(0x1ed)](),process['exit'](0x0);}),process['on'](a39_0x824213(0x1d0),async()=>{const _0x42bae2=a39_0x824213;console['log'](_0x42bae2(0x1da)),stopPaymentCleanupScheduler(),currencyService_1[_0x42bae2(0x1ea)][_0x42bae2(0x1d4)](),coinToPayStatusService_1[_0x42bae2(0x1f1)][_0x42bae2(0x1ee)](),domainMonitoringService_1['domainMonitoringService'][_0x42bae2(0x1eb)](),telegramBotService_1[_0x42bae2(0x1d6)]['stopBot'](),await database_1[_0x42bae2(0x1cd)][_0x42bae2(0x1ed)](),process['exit'](0x0);}),startServer();function a39_0x1ca7(){const _0x46df67=['üöÄ\x20Server\x20running\x20on\x20port\x20','startPeriodicStatusCheck','nodeEnv','runCleanupWithReport','currencyService','stopMonitoring','üßπ\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','$disconnect','stopPeriodicStatusCheck','3067400WEzSMr','listen','coinToPayStatusService','__esModule','6xojEnd','‚ùå\x20Scheduled\x20cleanup\x20failed:','‚ö†Ô∏è\x20Telegram\x20bot\x20is\x20not\x20configured','config','‚ùå\x20Initial\x20cleanup\x20failed:','getBotInfo','üßπ\x20Initializing\x20payment\x20cleanup\x20service...','paymentCleanupService','username','‚úÖ\x20Database\x20connected\x20successfully','./services/domainMonitoringService','port','üßπ\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','stopBot','403304oTWrnO','./services/telegramBotService','‚ùå\x20Failed\x20to\x20start\x20server:','defineProperty','üåç\x20Environment:\x20','‚úÖ\x20Initial\x20cleanup\x20completed\x20successfully','default','3372696ZJiUUG','üîÑ\x20Initializing\x20currency\x20rates\x20service...','SIGTERM','197307HdmhbJ','error','SIGINT','stopPeriodicUpdates','450317QcuNLh','telegramBotService','startMonitoring','/api/health','19533537OLvJKI','\x0aüîÑ\x20Gracefully\x20shutting\x20down...','./config/config','log','./config/database','4211214YAENIT','127.1.1.159','./services/currencyService','‚úÖ\x20Telegram\x20bot\x20@','5cGYdxD','./app','__importDefault','üîç\x20Initializing\x20domain\x20monitoring\x20service...'];a39_0x1ca7=function(){return _0x46df67;};return a39_0x1ca7();}