'use strict';const a37_0x490126=a37_0x1368;(function(_0x266e88,_0x5d2db9){const _0x44fbbb=a37_0x1368,_0x17b9bb=_0x266e88();while(!![]){try{const _0x28d481=parseInt(_0x44fbbb(0x18f))/0x1+-parseInt(_0x44fbbb(0x17e))/0x2*(parseInt(_0x44fbbb(0x197))/0x3)+parseInt(_0x44fbbb(0x185))/0x4*(parseInt(_0x44fbbb(0x19d))/0x5)+parseInt(_0x44fbbb(0x19a))/0x6+-parseInt(_0x44fbbb(0x177))/0x7+parseInt(_0x44fbbb(0x168))/0x8*(-parseInt(_0x44fbbb(0x18a))/0x9)+-parseInt(_0x44fbbb(0x172))/0xa*(parseInt(_0x44fbbb(0x194))/0xb);if(_0x28d481===_0x5d2db9)break;else _0x17b9bb['push'](_0x17b9bb['shift']());}catch(_0x40c310){_0x17b9bb['push'](_0x17b9bb['shift']());}}}(a37_0x432a,0x71bdb));function a37_0x432a(){const _0x17f479=['stopPeriodicStatusCheck','2EfQfpb','nodeEnv','./services/coinToPayStatusService','SIGTERM','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','defineProperty','./services/paymentCleanupService','14636jQMGxU','./services/currencyService','getBotInfo','stopMonitoring','$connect','9SMWCPU','domainMonitoringService','./services/domainMonitoringService','__importDefault','runCleanupWithReport','603419NZAwSv','error','📊\x20Health\x20check:\x20http://localhost:','currencyService','isActive','242sSEjPe','startPeriodicStatusCheck','$disconnect','614616uPCrJN','✅\x20Telegram\x20bot\x20@','✅\x20Initial\x20cleanup\x20completed\x20successfully','5470008jlhUJk','/api/health','❌\x20Initial\x20cleanup\x20failed:','1035BendjR','coinToPayStatusService','\x20hours','default','SIGINT','__esModule','🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','./app','config','paymentCleanupService','./services/telegramBotService','127.1.1.159','973248JczrAI','listen','port','log','./config/config','🧹\x20Initializing\x20payment\x20cleanup\x20service...','❌\x20Scheduled\x20cleanup\x20failed:','\x0a🔄\x20Gracefully\x20shutting\x20down...','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','🛑\x20Payment\x20cleanup\x20scheduler\x20stopped','278380PBSMxy','🚀\x20Server\x20running\x20on\x20port\x20','🌍\x20Environment:\x20','telegramBotService','🔍\x20Initializing\x20domain\x20monitoring\x20service...','6073571usripp','exit','startMonitoring','\x20is\x20active','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','stopPeriodicUpdates'];a37_0x432a=function(){return _0x17f479;};return a37_0x432a();}var __importDefault=this&&this[a37_0x490126(0x18d)]||function(_0x5ed990){const _0xb728b6=a37_0x490126;return _0x5ed990&&_0x5ed990[_0xb728b6(0x161)]?_0x5ed990:{'default':_0x5ed990};};Object[a37_0x490126(0x183)](exports,a37_0x490126(0x161),{'value':!![]});const app_1=__importDefault(require(a37_0x490126(0x163))),config_1=require(a37_0x490126(0x16c)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a37_0x490126(0x166)),currencyService_1=require(a37_0x490126(0x186)),coinToPayStatusService_1=require(a37_0x490126(0x180)),domainMonitoringService_1=require(a37_0x490126(0x18c)),paymentCleanupService_1=require(a37_0x490126(0x184));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x503e22=a37_0x490126,_0x290423=0x18,_0x443c20=_0x290423*0x3c*0x3c*0x3e8;console[_0x503e22(0x16b)](_0x503e22(0x162)+_0x290423+_0x503e22(0x19f)),setTimeout(async()=>{const _0xe80e00=_0x503e22;console['log']('🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0xe80e00(0x165)]['runCleanupWithReport'](),console['log'](_0xe80e00(0x199));}catch(_0x430f38){console[_0xe80e00(0x190)](_0xe80e00(0x19c),_0x430f38);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x536072=_0x503e22;console['log'](_0x536072(0x182));try{await paymentCleanupService_1[_0x536072(0x165)][_0x536072(0x18e)](),console['log']('✅\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x26fd89){console[_0x536072(0x190)](_0x536072(0x16e),_0x26fd89);}},_0x443c20);}function a37_0x1368(_0x438686,_0x5043b3){const _0x432a12=a37_0x432a();return a37_0x1368=function(_0x1368f9,_0x35a508){_0x1368f9=_0x1368f9-0x15f;let _0x2cb8dd=_0x432a12[_0x1368f9];return _0x2cb8dd;},a37_0x1368(_0x438686,_0x5043b3);}function stopPaymentCleanupScheduler(){const _0x3f4bd7=a37_0x490126;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x3f4bd7(0x16b)](_0x3f4bd7(0x171)));}async function startServer(){const _0x32b22e=a37_0x490126;try{await database_1[_0x32b22e(0x15f)][_0x32b22e(0x189)](),console[_0x32b22e(0x16b)]('✅\x20Database\x20connected\x20successfully');const _0x5dc5ab=telegramBotService_1[_0x32b22e(0x175)][_0x32b22e(0x187)]();_0x5dc5ab[_0x32b22e(0x193)]?console[_0x32b22e(0x16b)](_0x32b22e(0x198)+_0x5dc5ab['username']+_0x32b22e(0x17a)):console[_0x32b22e(0x16b)](_0x32b22e(0x170)),console[_0x32b22e(0x16b)]('🔄\x20Initializing\x20currency\x20rates\x20service...'),console[_0x32b22e(0x16b)](_0x32b22e(0x17b)),coinToPayStatusService_1[_0x32b22e(0x19e)][_0x32b22e(0x195)](),console[_0x32b22e(0x16b)](_0x32b22e(0x176)),domainMonitoringService_1[_0x32b22e(0x18b)][_0x32b22e(0x179)](),console[_0x32b22e(0x16b)](_0x32b22e(0x16d)),startPaymentCleanupScheduler(),app_1[_0x32b22e(0x15f)][_0x32b22e(0x169)](config_1['config']['port'],_0x32b22e(0x167),()=>{const _0x419f4e=_0x32b22e;console[_0x419f4e(0x16b)](_0x419f4e(0x173)+config_1['config'][_0x419f4e(0x16a)]),console[_0x419f4e(0x16b)](_0x419f4e(0x174)+config_1[_0x419f4e(0x164)][_0x419f4e(0x17f)]),console['log'](_0x419f4e(0x191)+config_1[_0x419f4e(0x164)][_0x419f4e(0x16a)]+_0x419f4e(0x19b));});}catch(_0x946adb){console[_0x32b22e(0x190)]('❌\x20Failed\x20to\x20start\x20server:',_0x946adb),process[_0x32b22e(0x178)](0x1);}}process['on'](a37_0x490126(0x160),async()=>{const _0x3bd97e=a37_0x490126;console[_0x3bd97e(0x16b)](_0x3bd97e(0x16f)),stopPaymentCleanupScheduler(),currencyService_1[_0x3bd97e(0x192)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x3bd97e(0x19e)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x3bd97e(0x18b)]['stopMonitoring'](),telegramBotService_1[_0x3bd97e(0x175)]['stopBot'](),await database_1[_0x3bd97e(0x15f)]['$disconnect'](),process[_0x3bd97e(0x178)](0x0);}),process['on'](a37_0x490126(0x181),async()=>{const _0xa31437=a37_0x490126;console['log'](_0xa31437(0x16f)),stopPaymentCleanupScheduler(),currencyService_1[_0xa31437(0x192)][_0xa31437(0x17c)](),coinToPayStatusService_1[_0xa31437(0x19e)][_0xa31437(0x17d)](),domainMonitoringService_1[_0xa31437(0x18b)][_0xa31437(0x188)](),telegramBotService_1[_0xa31437(0x175)]['stopBot'](),await database_1[_0xa31437(0x15f)][_0xa31437(0x196)](),process[_0xa31437(0x178)](0x0);}),startServer();