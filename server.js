'use strict';const a47_0x5bfbc2=a47_0x1cd6;function a47_0x2500(){const _0x4d7d95=['stopPeriodicUpdates','listen','production','nodeEnv','./services/currencyService','1380qaSoCa','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','37597WTuxZv','default','\x20hours','stopPeriodicStatusCheck','./services/telegramBotService','/api/health','225KQfSOt','SIGTERM','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','./config/database','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','defineProperty','__importDefault','port','9740560qKsQue','ðŸ“Š\x20Health\x20check:\x20http://localhost:','$connect','stopBot','config','âŒ\x20Failed\x20to\x20start\x20server:','currencyService','2766973TSsMig','ðŸš€\x20Server\x20running\x20on\x20port\x20','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','./app','isActive','4MZvxQW','3406915LoIunu','$disconnect','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','29BVmHVK','386010wurSYz','./services/coinToPayStatusService','startPeriodicStatusCheck','paymentCleanupService','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','stopMonitoring','getBotInfo','SIGINT','coinToPayStatusService','\x20is\x20active','runCleanupWithReport','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','1956378SfLvpR','telegramBotService','error','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','startMonitoring','./services/paymentCleanupService','127.1.1.159','exit','âœ…\x20Telegram\x20bot\x20@','__esModule','ðŸŒ\x20Environment:\x20','âœ…\x20Database\x20connected\x20successfully','log','79354EOrOCq','domainMonitoringService','./services/domainMonitoringService','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured'];a47_0x2500=function(){return _0x4d7d95;};return a47_0x2500();}(function(_0x54b57c,_0x5f1ae8){const _0x430278=a47_0x1cd6,_0x4302e4=_0x54b57c();while(!![]){try{const _0xab4d15=parseInt(_0x430278(0x1b9))/0x1*(parseInt(_0x430278(0x18f))/0x2)+parseInt(_0x430278(0x1c6))/0x3+-parseInt(_0x430278(0x1b5))/0x4*(-parseInt(_0x430278(0x1b6))/0x5)+-parseInt(_0x430278(0x198))/0x6*(parseInt(_0x430278(0x19b))/0x7)+-parseInt(_0x430278(0x1a9))/0x8+parseInt(_0x430278(0x1a1))/0x9*(parseInt(_0x430278(0x1ba))/0xa)+-parseInt(_0x430278(0x1b0))/0xb;if(_0xab4d15===_0x5f1ae8)break;else _0x4302e4['push'](_0x4302e4['shift']());}catch(_0xf06ee3){_0x4302e4['push'](_0x4302e4['shift']());}}}(a47_0x2500,0xb5d14));var __importDefault=this&&this[a47_0x5bfbc2(0x1a7)]||function(_0x5b1ef9){const _0xbce18a=a47_0x5bfbc2;return _0x5b1ef9&&_0x5b1ef9[_0xbce18a(0x18b)]?_0x5b1ef9:{'default':_0x5b1ef9};};Object[a47_0x5bfbc2(0x1a6)](exports,a47_0x5bfbc2(0x18b),{'value':!![]});const app_1=__importDefault(require(a47_0x5bfbc2(0x1b3))),config_1=require('./config/config'),database_1=__importDefault(require(a47_0x5bfbc2(0x1a4))),telegramBotService_1=require(a47_0x5bfbc2(0x19f)),currencyService_1=require(a47_0x5bfbc2(0x197)),coinToPayStatusService_1=require(a47_0x5bfbc2(0x1bb)),domainMonitoringService_1=require(a47_0x5bfbc2(0x191)),paymentCleanupService_1=require(a47_0x5bfbc2(0x187));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x47b0bd=a47_0x5bfbc2,_0x395d95=0x18,_0x360db2=_0x395d95*0x3c*0x3c*0x3e8;console['log'](_0x47b0bd(0x1be)+_0x395d95+_0x47b0bd(0x19d)),setTimeout(async()=>{const _0x5e5696=_0x47b0bd;console[_0x5e5696(0x18e)](_0x5e5696(0x19a));try{await paymentCleanupService_1[_0x5e5696(0x1bd)][_0x5e5696(0x1c4)](),console[_0x5e5696(0x18e)](_0x5e5696(0x1a3));}catch(_0x2f70e1){console[_0x5e5696(0x1c8)]('âŒ\x20Initial\x20cleanup\x20failed:',_0x2f70e1);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x1bbc44=_0x47b0bd;console[_0x1bbc44(0x18e)](_0x1bbc44(0x1b2));try{await paymentCleanupService_1['paymentCleanupService']['runCleanupWithReport'](),console[_0x1bbc44(0x18e)](_0x1bbc44(0x1ca));}catch(_0x4a6bd8){console[_0x1bbc44(0x1c8)]('âŒ\x20Scheduled\x20cleanup\x20failed:',_0x4a6bd8);}},_0x360db2);}function a47_0x1cd6(_0x3f286c,_0x54faf4){_0x3f286c=_0x3f286c-0x187;const _0x250012=a47_0x2500();let _0x1cd604=_0x250012[_0x3f286c];return _0x1cd604;}function stopPaymentCleanupScheduler(){const _0x5e8c82=a47_0x5bfbc2;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x5e8c82(0x18e)](_0x5e8c82(0x1c5)));}async function startServer(){const _0x33505c=a47_0x5bfbc2;try{await database_1[_0x33505c(0x19c)][_0x33505c(0x1ab)](),console[_0x33505c(0x18e)](_0x33505c(0x18d));const _0x11c4b3=telegramBotService_1[_0x33505c(0x1c7)][_0x33505c(0x1c0)]();_0x11c4b3[_0x33505c(0x1b4)]?console['log'](_0x33505c(0x18a)+_0x11c4b3['username']+_0x33505c(0x1c3)):console['log'](_0x33505c(0x192));console['log'](_0x33505c(0x199)),console[_0x33505c(0x18e)](_0x33505c(0x1c9)),coinToPayStatusService_1[_0x33505c(0x1c2)][_0x33505c(0x1bc)](),console[_0x33505c(0x18e)](_0x33505c(0x1b8)),domainMonitoringService_1['domainMonitoringService'][_0x33505c(0x1cb)](),console[_0x33505c(0x18e)]('ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...'),startPaymentCleanupScheduler();config_1[_0x33505c(0x1ad)][_0x33505c(0x196)]===_0x33505c(0x195)?app_1[_0x33505c(0x19c)][_0x33505c(0x194)](config_1[_0x33505c(0x1ad)][_0x33505c(0x1a8)],()=>{const _0x4794e3=_0x33505c;console[_0x4794e3(0x18e)](_0x4794e3(0x1b1)+config_1[_0x4794e3(0x1ad)][_0x4794e3(0x1a8)]),console[_0x4794e3(0x18e)](_0x4794e3(0x18c)+config_1['config'][_0x4794e3(0x196)]);}):app_1['default'][_0x33505c(0x194)](config_1['config']['port'],_0x33505c(0x188),()=>{const _0xf15cb0=_0x33505c;console[_0xf15cb0(0x18e)](_0xf15cb0(0x1b1)+config_1[_0xf15cb0(0x1ad)]['port']),console[_0xf15cb0(0x18e)](_0xf15cb0(0x18c)+config_1[_0xf15cb0(0x1ad)]['nodeEnv']),console[_0xf15cb0(0x18e)](_0xf15cb0(0x1aa)+config_1['config']['port']+_0xf15cb0(0x1a0));});;}catch(_0x183842){console[_0x33505c(0x1c8)](_0x33505c(0x1ae),_0x183842),process[_0x33505c(0x189)](0x1);}}process['on'](a47_0x5bfbc2(0x1c1),async()=>{const _0x684770=a47_0x5bfbc2;console[_0x684770(0x18e)](_0x684770(0x1a5)),stopPaymentCleanupScheduler(),currencyService_1[_0x684770(0x1af)][_0x684770(0x193)](),coinToPayStatusService_1[_0x684770(0x1c2)][_0x684770(0x19e)](),domainMonitoringService_1[_0x684770(0x190)][_0x684770(0x1bf)](),telegramBotService_1['telegramBotService'][_0x684770(0x1ac)](),await database_1['default'][_0x684770(0x1b7)](),process[_0x684770(0x189)](0x0);}),process['on'](a47_0x5bfbc2(0x1a2),async()=>{const _0x2d3544=a47_0x5bfbc2;console[_0x2d3544(0x18e)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x2d3544(0x1af)][_0x2d3544(0x193)](),coinToPayStatusService_1[_0x2d3544(0x1c2)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x2d3544(0x190)][_0x2d3544(0x1bf)](),telegramBotService_1['telegramBotService'][_0x2d3544(0x1ac)](),await database_1[_0x2d3544(0x19c)][_0x2d3544(0x1b7)](),process[_0x2d3544(0x189)](0x0);}),startServer();