'use strict';const a39_0x29c253=a39_0x437a;function a39_0x5df7(){const _0x2bd8c8=['$disconnect','$connect','137470WDcyjg','2179090OdoFzx','127.1.1.159','runCleanupWithReport','__esModule','getBotInfo','1142036KFGrjh','listen','633gklpmm','40mZCaVi','nodeEnv','417912pNjgLe','✅\x20Database\x20connected\x20successfully','log','port','./services/telegramBotService','exit','startMonitoring','❌\x20Scheduled\x20cleanup\x20failed:','defineProperty','✅\x20Initial\x20cleanup\x20completed\x20successfully','30754KKWoua','./services/currencyService','isActive','18gyeVkw','🚀\x20Server\x20running\x20on\x20port\x20','🔍\x20Initializing\x20domain\x20monitoring\x20service...','3436rrTVjQ','224730FMOWjL','/api/health','📊\x20Health\x20check:\x20http://localhost:','__importDefault','coinToPayStatusService','error','❌\x20Failed\x20to\x20start\x20server:','./config/database','paymentCleanupService','telegramBotService','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','currencyService','🧹\x20Initializing\x20payment\x20cleanup\x20service...','✅\x20Scheduled\x20cleanup\x20completed\x20successfully','stopPeriodicUpdates','16PwBCyt','SIGTERM','\x0a🔄\x20Gracefully\x20shutting\x20down...','🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','./services/paymentCleanupService','domainMonitoringService','username','./app','./services/coinToPayStatusService','default','\x20hours','✅\x20Telegram\x20bot\x20@','stopBot','config'];a39_0x5df7=function(){return _0x2bd8c8;};return a39_0x5df7();}(function(_0x3fb2c2,_0x3e6b5c){const _0x1d9adf=a39_0x437a,_0x5ce9ae=_0x3fb2c2();while(!![]){try{const _0x22a769=-parseInt(_0x1d9adf(0x1b8))/0x1*(parseInt(_0x1d9adf(0x1ce))/0x2)+parseInt(_0x1d9adf(0x1ab))/0x3*(parseInt(_0x1d9adf(0x1be))/0x4)+-parseInt(_0x1d9adf(0x1a3))/0x5*(-parseInt(_0x1d9adf(0x1bb))/0x6)+parseInt(_0x1d9adf(0x1a9))/0x7+parseInt(_0x1d9adf(0x1ac))/0x8*(parseInt(_0x1d9adf(0x1bf))/0x9)+-parseInt(_0x1d9adf(0x1a4))/0xa+parseInt(_0x1d9adf(0x1ae))/0xb;if(_0x22a769===_0x3e6b5c)break;else _0x5ce9ae['push'](_0x5ce9ae['shift']());}catch(_0xcadaf3){_0x5ce9ae['push'](_0x5ce9ae['shift']());}}}(a39_0x5df7,0x1eb54));var __importDefault=this&&this[a39_0x29c253(0x1c2)]||function(_0x3bae91){const _0x559271=a39_0x29c253;return _0x3bae91&&_0x3bae91[_0x559271(0x1a7)]?_0x3bae91:{'default':_0x3bae91};};Object[a39_0x29c253(0x1b6)](exports,a39_0x29c253(0x1a7),{'value':!![]});const app_1=__importDefault(require(a39_0x29c253(0x19a))),config_1=require('./config/config'),database_1=__importDefault(require(a39_0x29c253(0x1c6))),telegramBotService_1=require(a39_0x29c253(0x1b2)),currencyService_1=require(a39_0x29c253(0x1b9)),coinToPayStatusService_1=require(a39_0x29c253(0x19b)),domainMonitoringService_1=require('./services/domainMonitoringService'),paymentCleanupService_1=require(a39_0x29c253(0x197));let paymentCleanupInterval=null;function a39_0x437a(_0x39a719,_0x5a7076){const _0x5df7ba=a39_0x5df7();return a39_0x437a=function(_0x437a64,_0x20060c){_0x437a64=_0x437a64-0x194;let _0x18a4c9=_0x5df7ba[_0x437a64];return _0x18a4c9;},a39_0x437a(_0x39a719,_0x5a7076);}function startPaymentCleanupScheduler(){const _0x3e72e2=a39_0x29c253,_0x44f4af=0x18,_0x2766dc=_0x44f4af*0x3c*0x3c*0x3e8;console[_0x3e72e2(0x1b0)](_0x3e72e2(0x196)+_0x44f4af+_0x3e72e2(0x19d)),setTimeout(async()=>{const _0x4d7bf5=_0x3e72e2;console[_0x4d7bf5(0x1b0)]('🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1['paymentCleanupService'][_0x4d7bf5(0x1a6)](),console[_0x4d7bf5(0x1b0)](_0x4d7bf5(0x1b7));}catch(_0x1749e1){console['error']('❌\x20Initial\x20cleanup\x20failed:',_0x1749e1);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x1d048e=_0x3e72e2;console[_0x1d048e(0x1b0)](_0x1d048e(0x1c9));try{await paymentCleanupService_1[_0x1d048e(0x1c7)][_0x1d048e(0x1a6)](),console[_0x1d048e(0x1b0)](_0x1d048e(0x1cc));}catch(_0x273ab6){console['error'](_0x1d048e(0x1b5),_0x273ab6);}},_0x2766dc);}function stopPaymentCleanupScheduler(){const _0xfef515=a39_0x29c253;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0xfef515(0x1b0)]('🛑\x20Payment\x20cleanup\x20scheduler\x20stopped'));}async function startServer(){const _0x532f3d=a39_0x29c253;try{await database_1['default'][_0x532f3d(0x1a2)](),console[_0x532f3d(0x1b0)](_0x532f3d(0x1af));const _0x205fc6=telegramBotService_1[_0x532f3d(0x1c8)][_0x532f3d(0x1a8)]();_0x205fc6[_0x532f3d(0x1ba)]?console[_0x532f3d(0x1b0)](_0x532f3d(0x19e)+_0x205fc6[_0x532f3d(0x199)]+'\x20is\x20active'):console[_0x532f3d(0x1b0)]('⚠️\x20Telegram\x20bot\x20is\x20not\x20configured'),console[_0x532f3d(0x1b0)]('🔄\x20Initializing\x20currency\x20rates\x20service...'),console['log']('🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'),coinToPayStatusService_1[_0x532f3d(0x1c3)]['startPeriodicStatusCheck'](),console[_0x532f3d(0x1b0)](_0x532f3d(0x1bd)),domainMonitoringService_1[_0x532f3d(0x198)][_0x532f3d(0x1b4)](),console[_0x532f3d(0x1b0)](_0x532f3d(0x1cb)),startPaymentCleanupScheduler(),app_1[_0x532f3d(0x19c)][_0x532f3d(0x1aa)](config_1[_0x532f3d(0x1a0)]['port'],_0x532f3d(0x1a5),()=>{const _0x3f9b65=_0x532f3d;console['log'](_0x3f9b65(0x1bc)+config_1[_0x3f9b65(0x1a0)][_0x3f9b65(0x1b1)]),console[_0x3f9b65(0x1b0)]('🌍\x20Environment:\x20'+config_1['config'][_0x3f9b65(0x1ad)]),console[_0x3f9b65(0x1b0)](_0x3f9b65(0x1c1)+config_1[_0x3f9b65(0x1a0)]['port']+_0x3f9b65(0x1c0));});}catch(_0xce3ba8){console[_0x532f3d(0x1c4)](_0x532f3d(0x1c5),_0xce3ba8),process['exit'](0x1);}}process['on']('SIGINT',async()=>{const _0x5a7ec9=a39_0x29c253;console['log'](_0x5a7ec9(0x195)),stopPaymentCleanupScheduler(),currencyService_1['currencyService']['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x5a7ec9(0x1c3)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x5a7ec9(0x198)]['stopMonitoring'](),telegramBotService_1[_0x5a7ec9(0x1c8)][_0x5a7ec9(0x19f)](),await database_1['default'][_0x5a7ec9(0x1a1)](),process[_0x5a7ec9(0x1b3)](0x0);}),process['on'](a39_0x29c253(0x194),async()=>{const _0x1f5c24=a39_0x29c253;console[_0x1f5c24(0x1b0)](_0x1f5c24(0x195)),stopPaymentCleanupScheduler(),currencyService_1[_0x1f5c24(0x1ca)][_0x1f5c24(0x1cd)](),coinToPayStatusService_1[_0x1f5c24(0x1c3)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x1f5c24(0x198)]['stopMonitoring'](),telegramBotService_1[_0x1f5c24(0x1c8)][_0x1f5c24(0x19f)](),await database_1[_0x1f5c24(0x19c)]['$disconnect'](),process[_0x1f5c24(0x1b3)](0x0);}),startServer();