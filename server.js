'use strict';const a37_0xc2a4eb=a37_0xf039;(function(_0x320252,_0x58c16e){const _0x3cf96f=a37_0xf039,_0x5e2c92=_0x320252();while(!![]){try{const _0x9f66fd=-parseInt(_0x3cf96f(0xe5))/0x1+-parseInt(_0x3cf96f(0xcb))/0x2*(parseInt(_0x3cf96f(0xbc))/0x3)+-parseInt(_0x3cf96f(0xda))/0x4+parseInt(_0x3cf96f(0xf2))/0x5*(-parseInt(_0x3cf96f(0xdd))/0x6)+-parseInt(_0x3cf96f(0xc4))/0x7+-parseInt(_0x3cf96f(0xef))/0x8*(parseInt(_0x3cf96f(0xd5))/0x9)+-parseInt(_0x3cf96f(0xcc))/0xa*(-parseInt(_0x3cf96f(0xf3))/0xb);if(_0x9f66fd===_0x58c16e)break;else _0x5e2c92['push'](_0x5e2c92['shift']());}catch(_0x5c2b0d){_0x5e2c92['push'](_0x5e2c92['shift']());}}}(a37_0x481d,0x772a9));var __importDefault=this&&this['__importDefault']||function(_0x3b20a0){const _0x221aea=a37_0xf039;return _0x3b20a0&&_0x3b20a0[_0x221aea(0xc1)]?_0x3b20a0:{'default':_0x3b20a0};};function a37_0x481d(){const _0x15b384=['\x20hours','./services/domainMonitoringService','518icakBU','230YCcFYx','domainMonitoringService','getBotInfo','📊\x20Health\x20check:\x20http://localhost:','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','coinToPayStatusService','error','port','✅\x20Scheduled\x20cleanup\x20completed\x20successfully','1454247fZlait','default','nodeEnv','stopBot','stopPeriodicStatusCheck','2898060xrPGQz','🔄\x20Initializing\x20currency\x20rates\x20service...','./services/paymentCleanupService','9138lGLVEH','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','./config/config','/api/health','✅\x20Telegram\x20bot\x20@','$disconnect','$connect','910949SBIJyE','✅\x20Initial\x20cleanup\x20completed\x20successfully','currencyService','✅\x20Database\x20connected\x20successfully','runCleanupWithReport','🔍\x20Initializing\x20domain\x20monitoring\x20service...','defineProperty','exit','❌\x20Scheduled\x20cleanup\x20failed:','./services/coinToPayStatusService','24OPVCmP','🛑\x20Payment\x20cleanup\x20scheduler\x20stopped','SIGTERM','25EXuoMg','1682527GDbwpr','username','config','log','🧹\x20Initializing\x20payment\x20cleanup\x20service...','2709HpjSHk','\x0a🔄\x20Gracefully\x20shutting\x20down...','stopMonitoring','./services/currencyService','SIGINT','__esModule','🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','stopPeriodicUpdates','4677407mKQwDC','❌\x20Initial\x20cleanup\x20failed:','telegramBotService','./config/database','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'];a37_0x481d=function(){return _0x15b384;};return a37_0x481d();}Object[a37_0xc2a4eb(0xeb)](exports,a37_0xc2a4eb(0xc1),{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a37_0xc2a4eb(0xe0)),database_1=__importDefault(require(a37_0xc2a4eb(0xc7))),telegramBotService_1=require('./services/telegramBotService'),currencyService_1=require(a37_0xc2a4eb(0xbf)),coinToPayStatusService_1=require(a37_0xc2a4eb(0xee)),domainMonitoringService_1=require(a37_0xc2a4eb(0xca)),paymentCleanupService_1=require(a37_0xc2a4eb(0xdc));function a37_0xf039(_0x1410f7,_0x443d64){const _0x481d14=a37_0x481d();return a37_0xf039=function(_0xf03917,_0x246462){_0xf03917=_0xf03917-0xbc;let _0x48b485=_0x481d14[_0xf03917];return _0x48b485;},a37_0xf039(_0x1410f7,_0x443d64);}let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x319750=a37_0xc2a4eb,_0x5c0d32=0x18,_0x65be99=_0x5c0d32*0x3c*0x3c*0x3e8;console[_0x319750(0xf6)](_0x319750(0xc2)+_0x5c0d32+_0x319750(0xc9)),setTimeout(async()=>{const _0x3f7185=_0x319750;console['log'](_0x3f7185(0xd0));try{await paymentCleanupService_1['paymentCleanupService'][_0x3f7185(0xe9)](),console[_0x3f7185(0xf6)](_0x3f7185(0xe6));}catch(_0x31b5e6){console[_0x3f7185(0xd2)](_0x3f7185(0xc5),_0x31b5e6);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x414398=_0x319750;console['log'](_0x414398(0xdf));try{await paymentCleanupService_1['paymentCleanupService'][_0x414398(0xe9)](),console[_0x414398(0xf6)](_0x414398(0xd4));}catch(_0x3e29d3){console[_0x414398(0xd2)](_0x414398(0xed),_0x3e29d3);}},_0x65be99);}function stopPaymentCleanupScheduler(){const _0x182b45=a37_0xc2a4eb;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x182b45(0xf6)](_0x182b45(0xf0)));}async function startServer(){const _0x398cf5=a37_0xc2a4eb;try{await database_1[_0x398cf5(0xd6)][_0x398cf5(0xe4)](),console[_0x398cf5(0xf6)](_0x398cf5(0xe8));const _0x21c7db=telegramBotService_1[_0x398cf5(0xc6)][_0x398cf5(0xce)]();_0x21c7db['isActive']?console[_0x398cf5(0xf6)](_0x398cf5(0xe2)+_0x21c7db[_0x398cf5(0xf4)]+'\x20is\x20active'):console[_0x398cf5(0xf6)](_0x398cf5(0xde)),console[_0x398cf5(0xf6)](_0x398cf5(0xdb)),console[_0x398cf5(0xf6)](_0x398cf5(0xc8)),coinToPayStatusService_1[_0x398cf5(0xd1)]['startPeriodicStatusCheck'](),console[_0x398cf5(0xf6)](_0x398cf5(0xea)),domainMonitoringService_1[_0x398cf5(0xcd)]['startMonitoring'](),console[_0x398cf5(0xf6)](_0x398cf5(0xf7)),startPaymentCleanupScheduler(),app_1[_0x398cf5(0xd6)]['listen'](config_1['config'][_0x398cf5(0xd3)],'127.1.1.159',()=>{const _0x3df0a6=_0x398cf5;console[_0x3df0a6(0xf6)]('🚀\x20Server\x20running\x20on\x20port\x20'+config_1[_0x3df0a6(0xf5)][_0x3df0a6(0xd3)]),console[_0x3df0a6(0xf6)]('🌍\x20Environment:\x20'+config_1[_0x3df0a6(0xf5)][_0x3df0a6(0xd7)]),console[_0x3df0a6(0xf6)](_0x3df0a6(0xcf)+config_1['config'][_0x3df0a6(0xd3)]+_0x3df0a6(0xe1));});}catch(_0x376190){console[_0x398cf5(0xd2)]('❌\x20Failed\x20to\x20start\x20server:',_0x376190),process[_0x398cf5(0xec)](0x1);}}process['on'](a37_0xc2a4eb(0xc0),async()=>{const _0x520a21=a37_0xc2a4eb;console[_0x520a21(0xf6)](_0x520a21(0xbd)),stopPaymentCleanupScheduler(),currencyService_1[_0x520a21(0xe7)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x520a21(0xd1)][_0x520a21(0xd9)](),domainMonitoringService_1[_0x520a21(0xcd)][_0x520a21(0xbe)](),telegramBotService_1[_0x520a21(0xc6)][_0x520a21(0xd8)](),await database_1['default'][_0x520a21(0xe3)](),process[_0x520a21(0xec)](0x0);}),process['on'](a37_0xc2a4eb(0xf1),async()=>{const _0x136281=a37_0xc2a4eb;console[_0x136281(0xf6)](_0x136281(0xbd)),stopPaymentCleanupScheduler(),currencyService_1[_0x136281(0xe7)][_0x136281(0xc3)](),coinToPayStatusService_1[_0x136281(0xd1)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x136281(0xcd)][_0x136281(0xbe)](),telegramBotService_1[_0x136281(0xc6)][_0x136281(0xd8)](),await database_1[_0x136281(0xd6)][_0x136281(0xe3)](),process[_0x136281(0xec)](0x0);}),startServer();