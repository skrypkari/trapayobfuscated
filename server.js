'use strict';const a47_0xc936e1=a47_0x448e;(function(_0x469d7b,_0x126137){const _0x3d3650=a47_0x448e,_0x47c5aa=_0x469d7b();while(!![]){try{const _0x238473=parseInt(_0x3d3650(0x205))/0x1+parseInt(_0x3d3650(0x1ee))/0x2*(-parseInt(_0x3d3650(0x1fc))/0x3)+-parseInt(_0x3d3650(0x1f7))/0x4*(-parseInt(_0x3d3650(0x206))/0x5)+-parseInt(_0x3d3650(0x1fb))/0x6*(parseInt(_0x3d3650(0x1ef))/0x7)+parseInt(_0x3d3650(0x1f9))/0x8+parseInt(_0x3d3650(0x1f2))/0x9+parseInt(_0x3d3650(0x21b))/0xa*(-parseInt(_0x3d3650(0x20b))/0xb);if(_0x238473===_0x126137)break;else _0x47c5aa['push'](_0x47c5aa['shift']());}catch(_0x3870aa){_0x47c5aa['push'](_0x47c5aa['shift']());}}}(a47_0x2044,0xd9a90));var __importDefault=this&&this[a47_0xc936e1(0x1f6)]||function(_0x5691f3){const _0x2a74d0=a47_0xc936e1;return _0x5691f3&&_0x5691f3[_0x2a74d0(0x22a)]?_0x5691f3:{'default':_0x5691f3};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a47_0x448e(_0x170373,_0x37d0c1){_0x170373=_0x170373-0x1ec;const _0x204489=a47_0x2044();let _0x448e5d=_0x204489[_0x170373];return _0x448e5d;}const app_1=__importDefault(require(a47_0xc936e1(0x217))),config_1=require(a47_0xc936e1(0x22b)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a47_0xc936e1(0x21f)),currencyService_1=require(a47_0xc936e1(0x20a)),coinToPayStatusService_1=require(a47_0xc936e1(0x204)),domainMonitoringService_1=require(a47_0xc936e1(0x203)),paymentCleanupService_1=require(a47_0xc936e1(0x21e));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x33e0ea=a47_0xc936e1,_0x524231=0x18,_0x2af4a2=_0x524231*0x3c*0x3c*0x3e8;console[_0x33e0ea(0x1fa)](_0x33e0ea(0x211)+_0x524231+_0x33e0ea(0x20f)),setTimeout(async()=>{const _0x37a2cc=_0x33e0ea;console[_0x37a2cc(0x1fa)](_0x37a2cc(0x218));try{await paymentCleanupService_1[_0x37a2cc(0x1ff)][_0x37a2cc(0x214)](),console['log'](_0x37a2cc(0x200));}catch(_0x1f0271){console[_0x37a2cc(0x1f0)](_0x37a2cc(0x213),_0x1f0271);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x5f0e1d=_0x33e0ea;console[_0x5f0e1d(0x1fa)](_0x5f0e1d(0x1ec));try{await paymentCleanupService_1[_0x5f0e1d(0x1ff)][_0x5f0e1d(0x214)](),console[_0x5f0e1d(0x1fa)](_0x5f0e1d(0x216));}catch(_0x4b6517){console['error']('âŒ\x20Scheduled\x20cleanup\x20failed:',_0x4b6517);}},_0x2af4a2);}function stopPaymentCleanupScheduler(){const _0x35b698=a47_0xc936e1;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x35b698(0x1fa)](_0x35b698(0x1f3)));}async function startServer(){const _0x1fa855=a47_0xc936e1;try{await database_1[_0x1fa855(0x1f1)]['$connect'](),console[_0x1fa855(0x1fa)](_0x1fa855(0x1f8));const _0x10a35b=telegramBotService_1[_0x1fa855(0x1ed)]['getBotInfo']();_0x10a35b['isActive']?console['log']('âœ…\x20Telegram\x20bot\x20@'+_0x10a35b['username']+_0x1fa855(0x222)):console[_0x1fa855(0x1fa)](_0x1fa855(0x1f5));console[_0x1fa855(0x1fa)](_0x1fa855(0x221)),console[_0x1fa855(0x1fa)](_0x1fa855(0x229)),coinToPayStatusService_1[_0x1fa855(0x1fe)]['startPeriodicStatusCheck'](),console[_0x1fa855(0x1fa)](_0x1fa855(0x210)),domainMonitoringService_1['domainMonitoringService'][_0x1fa855(0x227)](),console[_0x1fa855(0x1fa)](_0x1fa855(0x212)),startPaymentCleanupScheduler();config_1[_0x1fa855(0x21c)][_0x1fa855(0x1f4)]==='production'?app_1[_0x1fa855(0x1f1)][_0x1fa855(0x215)](config_1[_0x1fa855(0x21c)][_0x1fa855(0x202)],()=>{const _0x2bdde7=_0x1fa855;console[_0x2bdde7(0x1fa)](_0x2bdde7(0x225)+config_1[_0x2bdde7(0x21c)][_0x2bdde7(0x202)]),console[_0x2bdde7(0x1fa)](_0x2bdde7(0x228)+config_1['config'][_0x2bdde7(0x1f4)]);}):app_1['default'][_0x1fa855(0x215)](config_1[_0x1fa855(0x21c)]['port'],_0x1fa855(0x226),()=>{const _0x329b9=_0x1fa855;console[_0x329b9(0x1fa)](_0x329b9(0x225)+config_1[_0x329b9(0x21c)][_0x329b9(0x202)]),console['log']('ğŸŒ\x20Environment:\x20'+config_1['config'][_0x329b9(0x1f4)]),console[_0x329b9(0x1fa)](_0x329b9(0x208)+config_1[_0x329b9(0x21c)][_0x329b9(0x202)]+_0x329b9(0x207));});;}catch(_0x17c74f){console['error'](_0x1fa855(0x201),_0x17c74f),process['exit'](0x1);}}process['on'](a47_0xc936e1(0x21d),async()=>{const _0x3590d9=a47_0xc936e1;console[_0x3590d9(0x1fa)](_0x3590d9(0x20e)),stopPaymentCleanupScheduler(),currencyService_1[_0x3590d9(0x1fd)][_0x3590d9(0x223)](),coinToPayStatusService_1[_0x3590d9(0x1fe)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService'][_0x3590d9(0x224)](),telegramBotService_1[_0x3590d9(0x1ed)][_0x3590d9(0x219)](),await database_1[_0x3590d9(0x1f1)][_0x3590d9(0x220)](),process[_0x3590d9(0x209)](0x0);}),process['on'](a47_0xc936e1(0x20d),async()=>{const _0x2b7ea3=a47_0xc936e1;console[_0x2b7ea3(0x1fa)]('\x0ağŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x2b7ea3(0x223)](),coinToPayStatusService_1[_0x2b7ea3(0x1fe)][_0x2b7ea3(0x21a)](),domainMonitoringService_1[_0x2b7ea3(0x20c)][_0x2b7ea3(0x224)](),telegramBotService_1[_0x2b7ea3(0x1ed)][_0x2b7ea3(0x219)](),await database_1[_0x2b7ea3(0x1f1)][_0x2b7ea3(0x220)](),process[_0x2b7ea3(0x209)](0x0);}),startServer();function a47_0x2044(){const _0x1ab4d3=['./app','ğŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','stopBot','stopPeriodicStatusCheck','20xBlNCv','config','SIGINT','./services/paymentCleanupService','./services/telegramBotService','$disconnect','ğŸ”„\x20Initializing\x20currency\x20rates\x20service...','\x20is\x20active','stopPeriodicUpdates','stopMonitoring','ğŸš€\x20Server\x20running\x20on\x20port\x20','127.1.1.159','startMonitoring','ğŸŒ\x20Environment:\x20','ğŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','__esModule','./config/config','ğŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','telegramBotService','1055022AXnKFb','21JdJOpq','error','default','9955260oeciNv','ğŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','nodeEnv','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','__importDefault','1047184zRYoBv','âœ…\x20Database\x20connected\x20successfully','9654560HnVUBf','log','1256586cJJTcS','3CaAgeX','currencyService','coinToPayStatusService','paymentCleanupService','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','âŒ\x20Failed\x20to\x20start\x20server:','port','./services/domainMonitoringService','./services/coinToPayStatusService','925526tWzpIu','30YmTpNz','/api/health','ğŸ“Š\x20Health\x20check:\x20http://localhost:','exit','./services/currencyService','15190571hfcKkK','domainMonitoringService','SIGTERM','\x0ağŸ”„\x20Gracefully\x20shutting\x20down...','\x20hours','ğŸ”\x20Initializing\x20domain\x20monitoring\x20service...','ğŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','ğŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','âŒ\x20Initial\x20cleanup\x20failed:','runCleanupWithReport','listen','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully'];a47_0x2044=function(){return _0x1ab4d3;};return a47_0x2044();}