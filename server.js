'use strict';const a37_0xfce87=a37_0x2073;(function(_0x5eab5c,_0x3f8561){const _0x490206=a37_0x2073,_0x26345c=_0x5eab5c();while(!![]){try{const _0x3a3b30=parseInt(_0x490206(0x79))/0x1+-parseInt(_0x490206(0x7e))/0x2*(-parseInt(_0x490206(0x8b))/0x3)+-parseInt(_0x490206(0x99))/0x4+-parseInt(_0x490206(0x96))/0x5*(parseInt(_0x490206(0x8c))/0x6)+-parseInt(_0x490206(0x83))/0x7*(parseInt(_0x490206(0x6f))/0x8)+parseInt(_0x490206(0x70))/0x9*(-parseInt(_0x490206(0x7c))/0xa)+parseInt(_0x490206(0x82))/0xb;if(_0x3a3b30===_0x3f8561)break;else _0x26345c['push'](_0x26345c['shift']());}catch(_0x44cab0){_0x26345c['push'](_0x26345c['shift']());}}}(a37_0x27ee,0xc0e5c));var __importDefault=this&&this[a37_0xfce87(0xab)]||function(_0x5184f4){const _0x29f68b=a37_0xfce87;return _0x5184f4&&_0x5184f4[_0x29f68b(0x84)]?_0x5184f4:{'default':_0x5184f4};};Object['defineProperty'](exports,a37_0xfce87(0x84),{'value':!![]});function a37_0x27ee(){const _0x3306be=['getBotInfo','6342060RrOzOc','🌍\x20Environment:\x20','129692KneJBr','./config/config','runCleanupWithReport','📊\x20Health\x20check:\x20http://localhost:','36288538jDQfsG','13265hMiRtz','__esModule','🔄\x20Initializing\x20currency\x20rates\x20service...','🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','port','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','stopBot','\x20hours','30LpCneO','2542542VzgttI','🔍\x20Initializing\x20domain\x20monitoring\x20service...','stopPeriodicUpdates','./services/paymentCleanupService','SIGINT','exit','coinToPayStatusService','$connect','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','telegramBotService','15mDIKuK','🧹\x20Initializing\x20payment\x20cleanup\x20service...','\x20is\x20active','3466596mpCZAK','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','stopPeriodicStatusCheck','listen','log','127.1.1.159','startMonitoring','config','./services/coinToPayStatusService','stopMonitoring','SIGTERM','✅\x20Telegram\x20bot\x20@','✅\x20Database\x20connected\x20successfully','\x0a🔄\x20Gracefully\x20shutting\x20down...','error','startPeriodicStatusCheck','./services/telegramBotService','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','__importDefault','3032xYBxsY','9hgiQof','✅\x20Initial\x20cleanup\x20completed\x20successfully','currencyService','$disconnect','paymentCleanupService','❌\x20Scheduled\x20cleanup\x20failed:','default','username','❌\x20Failed\x20to\x20start\x20server:','333021POlimf','domainMonitoringService'];a37_0x27ee=function(){return _0x3306be;};return a37_0x27ee();}const app_1=__importDefault(require('./app')),config_1=require(a37_0xfce87(0x7f)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a37_0xfce87(0xa9)),currencyService_1=require('./services/currencyService'),coinToPayStatusService_1=require(a37_0xfce87(0xa1)),domainMonitoringService_1=require('./services/domainMonitoringService'),paymentCleanupService_1=require(a37_0xfce87(0x8f));function a37_0x2073(_0x5d2da8,_0x5a3bfc){const _0x27ee1d=a37_0x27ee();return a37_0x2073=function(_0x207382,_0x46a425){_0x207382=_0x207382-0x6f;let _0x59b976=_0x27ee1d[_0x207382];return _0x59b976;},a37_0x2073(_0x5d2da8,_0x5a3bfc);}let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x5da6b3=a37_0xfce87,_0x11e801=0x18,_0x5abaa3=_0x11e801*0x3c*0x3c*0x3e8;console['log'](_0x5da6b3(0x86)+_0x11e801+_0x5da6b3(0x8a)),setTimeout(async()=>{const _0x3c03dc=_0x5da6b3;console[_0x3c03dc(0x9d)](_0x3c03dc(0xaa));try{await paymentCleanupService_1[_0x3c03dc(0x74)]['runCleanupWithReport'](),console[_0x3c03dc(0x9d)](_0x3c03dc(0x71));}catch(_0x5c4bbd){console[_0x3c03dc(0xa7)]('❌\x20Initial\x20cleanup\x20failed:',_0x5c4bbd);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x2a88b3=_0x5da6b3;console[_0x2a88b3(0x9d)](_0x2a88b3(0x9a));try{await paymentCleanupService_1[_0x2a88b3(0x74)][_0x2a88b3(0x80)](),console['log']('✅\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x34fdc1){console['error'](_0x2a88b3(0x75),_0x34fdc1);}},_0x5abaa3);}function stopPaymentCleanupScheduler(){paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log']('🛑\x20Payment\x20cleanup\x20scheduler\x20stopped'));}async function startServer(){const _0x39b6ad=a37_0xfce87;try{await database_1[_0x39b6ad(0x76)][_0x39b6ad(0x93)](),console['log'](_0x39b6ad(0xa5));const _0x3c15da=telegramBotService_1['telegramBotService'][_0x39b6ad(0x7b)]();_0x3c15da['isActive']?console[_0x39b6ad(0x9d)](_0x39b6ad(0xa4)+_0x3c15da[_0x39b6ad(0x77)]+_0x39b6ad(0x98)):console['log'](_0x39b6ad(0x88)),console['log'](_0x39b6ad(0x85)),console[_0x39b6ad(0x9d)](_0x39b6ad(0x94)),coinToPayStatusService_1[_0x39b6ad(0x92)][_0x39b6ad(0xa8)](),console['log'](_0x39b6ad(0x8d)),domainMonitoringService_1[_0x39b6ad(0x7a)][_0x39b6ad(0x9f)](),console[_0x39b6ad(0x9d)](_0x39b6ad(0x97)),startPaymentCleanupScheduler(),app_1[_0x39b6ad(0x76)][_0x39b6ad(0x9c)](config_1[_0x39b6ad(0xa0)][_0x39b6ad(0x87)],_0x39b6ad(0x9e),()=>{const _0x417739=_0x39b6ad;console[_0x417739(0x9d)]('🚀\x20Server\x20running\x20on\x20port\x20'+config_1[_0x417739(0xa0)][_0x417739(0x87)]),console[_0x417739(0x9d)](_0x417739(0x7d)+config_1[_0x417739(0xa0)]['nodeEnv']),console[_0x417739(0x9d)](_0x417739(0x81)+config_1[_0x417739(0xa0)]['port']+'/api/health');});}catch(_0x11c3c9){console['error'](_0x39b6ad(0x78),_0x11c3c9),process[_0x39b6ad(0x91)](0x1);}}process['on'](a37_0xfce87(0x90),async()=>{const _0x4ad307=a37_0xfce87;console[_0x4ad307(0x9d)](_0x4ad307(0xa6)),stopPaymentCleanupScheduler(),currencyService_1[_0x4ad307(0x72)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x4ad307(0x92)][_0x4ad307(0x9b)](),domainMonitoringService_1[_0x4ad307(0x7a)][_0x4ad307(0xa2)](),telegramBotService_1[_0x4ad307(0x95)][_0x4ad307(0x89)](),await database_1[_0x4ad307(0x76)][_0x4ad307(0x73)](),process[_0x4ad307(0x91)](0x0);}),process['on'](a37_0xfce87(0xa3),async()=>{const _0x172049=a37_0xfce87;console[_0x172049(0x9d)](_0x172049(0xa6)),stopPaymentCleanupScheduler(),currencyService_1[_0x172049(0x72)][_0x172049(0x8e)](),coinToPayStatusService_1[_0x172049(0x92)][_0x172049(0x9b)](),domainMonitoringService_1[_0x172049(0x7a)][_0x172049(0xa2)](),telegramBotService_1[_0x172049(0x95)][_0x172049(0x89)](),await database_1['default']['$disconnect'](),process[_0x172049(0x91)](0x0);}),startServer();