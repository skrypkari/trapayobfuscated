'use strict';const a47_0x196bc7=a47_0xde9c;(function(_0x226ec4,_0x2d1d09){const _0x3ea5a7=a47_0xde9c,_0x3c10a0=_0x226ec4();while(!![]){try{const _0x1bcdc9=parseInt(_0x3ea5a7(0x1b2))/0x1*(-parseInt(_0x3ea5a7(0x1bc))/0x2)+parseInt(_0x3ea5a7(0x1c5))/0x3+parseInt(_0x3ea5a7(0x1b1))/0x4+-parseInt(_0x3ea5a7(0x1c6))/0x5*(parseInt(_0x3ea5a7(0x1b0))/0x6)+parseInt(_0x3ea5a7(0x1cf))/0x7+-parseInt(_0x3ea5a7(0x1d4))/0x8+parseInt(_0x3ea5a7(0x1ca))/0x9;if(_0x1bcdc9===_0x2d1d09)break;else _0x3c10a0['push'](_0x3c10a0['shift']());}catch(_0x10b980){_0x3c10a0['push'](_0x3c10a0['shift']());}}}(a47_0xe0c2,0xba729));function a47_0xde9c(_0x43a848,_0x133dd6){_0x43a848=_0x43a848-0x1a3;const _0xe0c22=a47_0xe0c2();let _0xde9cc2=_0xe0c22[_0x43a848];return _0xde9cc2;}var __importDefault=this&&this[a47_0x196bc7(0x1d8)]||function(_0x24115e){const _0x2dd71c=a47_0x196bc7;return _0x24115e&&_0x24115e[_0x2dd71c(0x1a4)]?_0x24115e:{'default':_0x24115e};};Object[a47_0x196bc7(0x1bd)](exports,a47_0x196bc7(0x1a4),{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a47_0x196bc7(0x1ce)),database_1=__importDefault(require(a47_0x196bc7(0x1de))),telegramBotService_1=require('./services/telegramBotService'),currencyService_1=require(a47_0x196bc7(0x1c2)),coinToPayStatusService_1=require(a47_0x196bc7(0x1d5)),domainMonitoringService_1=require(a47_0x196bc7(0x1ab)),paymentCleanupService_1=require('./services/paymentCleanupService');let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0xfca328=a47_0x196bc7,_0x5effaa=0x18,_0x561b92=_0x5effaa*0x3c*0x3c*0x3e8;console[_0xfca328(0x1d6)]('ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x5effaa+'\x20hours'),setTimeout(async()=>{const _0x1854a5=_0xfca328;console[_0x1854a5(0x1d6)](_0x1854a5(0x1d1));try{await paymentCleanupService_1['paymentCleanupService'][_0x1854a5(0x1aa)](),console['log'](_0x1854a5(0x1cb));}catch(_0x582732){console[_0x1854a5(0x1af)](_0x1854a5(0x1c7),_0x582732);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x2cf6cf=_0xfca328;console[_0x2cf6cf(0x1d6)](_0x2cf6cf(0x1a6));try{await paymentCleanupService_1[_0x2cf6cf(0x1b6)][_0x2cf6cf(0x1aa)](),console[_0x2cf6cf(0x1d6)](_0x2cf6cf(0x1bb));}catch(_0x1add67){console[_0x2cf6cf(0x1af)](_0x2cf6cf(0x1d7),_0x1add67);}},_0x561b92);}function stopPaymentCleanupScheduler(){const _0x4c8750=a47_0x196bc7;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x4c8750(0x1d6)]('ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped'));}function a47_0xe0c2(){const _0x2a05e7=['config','ðŸ“Š\x20Health\x20check:\x20http://localhost:','error','1506RlayqX','844584GbMPdu','184cclOPv','listen','getBotInfo','$disconnect','paymentCleanupService','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','nodeEnv','SIGTERM','currencyService','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','12766ffUFJQ','defineProperty','SIGINT','$connect','ðŸš€\x20Server\x20running\x20on\x20port\x20','stopBot','./services/currencyService','coinToPayStatusService','stopPeriodicStatusCheck','206796DNHxna','29935MuCSLs','âŒ\x20Initial\x20cleanup\x20failed:','startMonitoring','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','41116122LTZBYK','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','stopPeriodicUpdates','stopMonitoring','./config/config','87465RiTQJy','telegramBotService','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','domainMonitoringService','default','11361064jvjKrp','./services/coinToPayStatusService','log','âŒ\x20Scheduled\x20cleanup\x20failed:','__importDefault','isActive','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','\x20is\x20active','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','./config/database','âœ…\x20Database\x20connected\x20successfully','/api/health','production','__esModule','exit','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','startPeriodicStatusCheck','port','username','runCleanupWithReport','./services/domainMonitoringService','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'];a47_0xe0c2=function(){return _0x2a05e7;};return a47_0xe0c2();}async function startServer(){const _0x13f213=a47_0x196bc7;try{await database_1[_0x13f213(0x1d3)][_0x13f213(0x1bf)](),console[_0x13f213(0x1d6)](_0x13f213(0x1df));const _0x5acad8=telegramBotService_1['telegramBotService'][_0x13f213(0x1b4)]();_0x5acad8[_0x13f213(0x1d9)]?console[_0x13f213(0x1d6)]('âœ…\x20Telegram\x20bot\x20@'+_0x5acad8[_0x13f213(0x1a9)]+_0x13f213(0x1db)):console[_0x13f213(0x1d6)](_0x13f213(0x1dd));console[_0x13f213(0x1d6)](_0x13f213(0x1da)),console['log'](_0x13f213(0x1ac)),coinToPayStatusService_1[_0x13f213(0x1c3)][_0x13f213(0x1a7)](),console[_0x13f213(0x1d6)](_0x13f213(0x1b7)),domainMonitoringService_1[_0x13f213(0x1d2)][_0x13f213(0x1c8)](),console[_0x13f213(0x1d6)](_0x13f213(0x1c9)),startPaymentCleanupScheduler();config_1['config'][_0x13f213(0x1b8)]===_0x13f213(0x1a3)?app_1[_0x13f213(0x1d3)][_0x13f213(0x1b3)](config_1[_0x13f213(0x1ad)][_0x13f213(0x1a8)],()=>{const _0x3c5a74=_0x13f213;console['log'](_0x3c5a74(0x1c0)+config_1[_0x3c5a74(0x1ad)]['port']),console[_0x3c5a74(0x1d6)]('ðŸŒ\x20Environment:\x20'+config_1[_0x3c5a74(0x1ad)]['nodeEnv']);}):app_1[_0x13f213(0x1d3)]['listen'](config_1['config'][_0x13f213(0x1a8)],'127.1.1.159',()=>{const _0x4058a9=_0x13f213;console[_0x4058a9(0x1d6)](_0x4058a9(0x1c0)+config_1[_0x4058a9(0x1ad)][_0x4058a9(0x1a8)]),console[_0x4058a9(0x1d6)]('ðŸŒ\x20Environment:\x20'+config_1[_0x4058a9(0x1ad)][_0x4058a9(0x1b8)]),console[_0x4058a9(0x1d6)](_0x4058a9(0x1ae)+config_1['config'][_0x4058a9(0x1a8)]+_0x4058a9(0x1e0));});;}catch(_0x5d8e89){console[_0x13f213(0x1af)]('âŒ\x20Failed\x20to\x20start\x20server:',_0x5d8e89),process[_0x13f213(0x1a5)](0x1);}}process['on'](a47_0x196bc7(0x1be),async()=>{const _0x49cc0d=a47_0x196bc7;console[_0x49cc0d(0x1d6)](_0x49cc0d(0x1dc)),stopPaymentCleanupScheduler(),currencyService_1[_0x49cc0d(0x1ba)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x49cc0d(0x1c3)][_0x49cc0d(0x1c4)](),domainMonitoringService_1[_0x49cc0d(0x1d2)][_0x49cc0d(0x1cd)](),telegramBotService_1[_0x49cc0d(0x1d0)]['stopBot'](),await database_1[_0x49cc0d(0x1d3)]['$disconnect'](),process[_0x49cc0d(0x1a5)](0x0);}),process['on'](a47_0x196bc7(0x1b9),async()=>{const _0x55b76c=a47_0x196bc7;console[_0x55b76c(0x1d6)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x55b76c(0x1ba)][_0x55b76c(0x1cc)](),coinToPayStatusService_1['coinToPayStatusService'][_0x55b76c(0x1c4)](),domainMonitoringService_1[_0x55b76c(0x1d2)][_0x55b76c(0x1cd)](),telegramBotService_1[_0x55b76c(0x1d0)][_0x55b76c(0x1c1)](),await database_1[_0x55b76c(0x1d3)][_0x55b76c(0x1b5)](),process['exit'](0x0);}),startServer();