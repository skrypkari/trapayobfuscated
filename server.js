'use strict';const a39_0x972c9=a39_0x11b3;(function(_0x27ab14,_0x56f04d){const _0x18a79d=a39_0x11b3,_0x18f128=_0x27ab14();while(!![]){try{const _0x1efd25=-parseInt(_0x18a79d(0x19c))/0x1*(-parseInt(_0x18a79d(0x18b))/0x2)+parseInt(_0x18a79d(0x19d))/0x3+-parseInt(_0x18a79d(0x196))/0x4*(parseInt(_0x18a79d(0x187))/0x5)+parseInt(_0x18a79d(0x193))/0x6*(parseInt(_0x18a79d(0x170))/0x7)+-parseInt(_0x18a79d(0x166))/0x8+parseInt(_0x18a79d(0x176))/0x9*(parseInt(_0x18a79d(0x16b))/0xa)+-parseInt(_0x18a79d(0x1a3))/0xb*(-parseInt(_0x18a79d(0x17c))/0xc);if(_0x1efd25===_0x56f04d)break;else _0x18f128['push'](_0x18f128['shift']());}catch(_0x3246bb){_0x18f128['push'](_0x18f128['shift']());}}}(a39_0x2a91,0x6df63));function a39_0x2a91(){const _0x249420=['📊\x20Health\x20check:\x20http://localhost:','\x0a🔄\x20Gracefully\x20shutting\x20down...','343745wCAtKy','2143794uvATOd','startPeriodicStatusCheck','exit','log','port','🧹\x20Initializing\x20payment\x20cleanup\x20service...','60489sAqzCN','./services/coinToPayStatusService','__esModule','5382800rRJgIW','✅\x20Telegram\x20bot\x20@','🛑\x20Payment\x20cleanup\x20scheduler\x20stopped','./services/currencyService','config','1120KOLwpn','username','nodeEnv','✅\x20Database\x20connected\x20successfully','telegramBotService','72205TfWFXC','defineProperty','stopBot','currencyService','./config/config','🌍\x20Environment:\x20','25119sIPamG','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','default','$disconnect','coinToPayStatusService','/api/health','1272JnHvCR','stopMonitoring','❌\x20Initial\x20cleanup\x20failed:','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','🚀\x20Server\x20running\x20on\x20port\x20','./services/domainMonitoringService','\x20hours','❌\x20Scheduled\x20cleanup\x20failed:','error','__importDefault','SIGINT','4307605jDgkEi','./services/paymentCleanupService','domainMonitoringService','paymentCleanupService','2kHwwJk','stopPeriodicUpdates','runCleanupWithReport','🔄\x20Initializing\x20currency\x20rates\x20service...','stopPeriodicStatusCheck','./config/database','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','❌\x20Failed\x20to\x20start\x20server:','18oglLkm','startMonitoring','127.1.1.159','4NOmple','🔍\x20Initializing\x20domain\x20monitoring\x20service...','✅\x20Scheduled\x20cleanup\x20completed\x20successfully','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured'];a39_0x2a91=function(){return _0x249420;};return a39_0x2a91();}function a39_0x11b3(_0x5d58b0,_0x2f97c1){const _0x2a91c8=a39_0x2a91();return a39_0x11b3=function(_0x11b3df,_0xf2c2a9){_0x11b3df=_0x11b3df-0x166;let _0x5c99e6=_0x2a91c8[_0x11b3df];return _0x5c99e6;},a39_0x11b3(_0x5d58b0,_0x2f97c1);}var __importDefault=this&&this[a39_0x972c9(0x185)]||function(_0x359874){const _0x23ef2a=a39_0x972c9;return _0x359874&&_0x359874[_0x23ef2a(0x1a5)]?_0x359874:{'default':_0x359874};};Object[a39_0x972c9(0x171)](exports,a39_0x972c9(0x1a5),{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a39_0x972c9(0x174)),database_1=__importDefault(require(a39_0x972c9(0x190))),telegramBotService_1=require('./services/telegramBotService'),currencyService_1=require(a39_0x972c9(0x169)),coinToPayStatusService_1=require(a39_0x972c9(0x1a4)),domainMonitoringService_1=require(a39_0x972c9(0x181)),paymentCleanupService_1=require(a39_0x972c9(0x188));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x50fe6c=a39_0x972c9,_0x576131=0x18,_0x1efbeb=_0x576131*0x3c*0x3c*0x3e8;console[_0x50fe6c(0x1a0)]('🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x576131+_0x50fe6c(0x182)),setTimeout(async()=>{const _0x32ec19=_0x50fe6c;console[_0x32ec19(0x1a0)](_0x32ec19(0x17f));try{await paymentCleanupService_1[_0x32ec19(0x18a)][_0x32ec19(0x18d)](),console[_0x32ec19(0x1a0)]('✅\x20Initial\x20cleanup\x20completed\x20successfully');}catch(_0xa79431){console['error'](_0x32ec19(0x17e),_0xa79431);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x41a429=_0x50fe6c;console[_0x41a429(0x1a0)](_0x41a429(0x191));try{await paymentCleanupService_1[_0x41a429(0x18a)][_0x41a429(0x18d)](),console[_0x41a429(0x1a0)](_0x41a429(0x198));}catch(_0x324312){console[_0x41a429(0x184)](_0x41a429(0x183),_0x324312);}},_0x1efbeb);}function stopPaymentCleanupScheduler(){const _0x40fc3e=a39_0x972c9;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0x40fc3e(0x168)));}async function startServer(){const _0x5c7b95=a39_0x972c9;try{await database_1[_0x5c7b95(0x178)]['$connect'](),console[_0x5c7b95(0x1a0)](_0x5c7b95(0x16e));const _0x44524c=telegramBotService_1[_0x5c7b95(0x16f)]['getBotInfo']();_0x44524c['isActive']?console[_0x5c7b95(0x1a0)](_0x5c7b95(0x167)+_0x44524c[_0x5c7b95(0x16c)]+'\x20is\x20active'):console[_0x5c7b95(0x1a0)](_0x5c7b95(0x199)),console['log'](_0x5c7b95(0x18e)),console[_0x5c7b95(0x1a0)](_0x5c7b95(0x177)),coinToPayStatusService_1[_0x5c7b95(0x17a)][_0x5c7b95(0x19e)](),console[_0x5c7b95(0x1a0)](_0x5c7b95(0x197)),domainMonitoringService_1[_0x5c7b95(0x189)][_0x5c7b95(0x194)](),console[_0x5c7b95(0x1a0)](_0x5c7b95(0x1a2)),startPaymentCleanupScheduler(),app_1['default']['listen'](config_1['config'][_0x5c7b95(0x1a1)],_0x5c7b95(0x195),()=>{const _0x1b8056=_0x5c7b95;console['log'](_0x1b8056(0x180)+config_1[_0x1b8056(0x16a)][_0x1b8056(0x1a1)]),console[_0x1b8056(0x1a0)](_0x1b8056(0x175)+config_1[_0x1b8056(0x16a)][_0x1b8056(0x16d)]),console['log'](_0x1b8056(0x19a)+config_1[_0x1b8056(0x16a)][_0x1b8056(0x1a1)]+_0x1b8056(0x17b));});}catch(_0xf86281){console[_0x5c7b95(0x184)](_0x5c7b95(0x192),_0xf86281),process[_0x5c7b95(0x19f)](0x1);}}process['on'](a39_0x972c9(0x186),async()=>{const _0x189e8d=a39_0x972c9;console[_0x189e8d(0x1a0)](_0x189e8d(0x19b)),stopPaymentCleanupScheduler(),currencyService_1[_0x189e8d(0x173)][_0x189e8d(0x18c)](),coinToPayStatusService_1[_0x189e8d(0x17a)][_0x189e8d(0x18f)](),domainMonitoringService_1[_0x189e8d(0x189)][_0x189e8d(0x17d)](),telegramBotService_1['telegramBotService'][_0x189e8d(0x172)](),await database_1['default'][_0x189e8d(0x179)](),process[_0x189e8d(0x19f)](0x0);}),process['on']('SIGTERM',async()=>{const _0x3495ed=a39_0x972c9;console[_0x3495ed(0x1a0)]('\x0a🔄\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x3495ed(0x173)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x3495ed(0x17a)][_0x3495ed(0x18f)](),domainMonitoringService_1['domainMonitoringService'][_0x3495ed(0x17d)](),telegramBotService_1[_0x3495ed(0x16f)][_0x3495ed(0x172)](),await database_1[_0x3495ed(0x178)][_0x3495ed(0x179)](),process[_0x3495ed(0x19f)](0x0);}),startServer();