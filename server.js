'use strict';const a47_0x503278=a47_0x4daf;(function(_0x88573e,_0x9168f1){const _0x22504b=a47_0x4daf,_0x848da0=_0x88573e();while(!![]){try{const _0x368803=-parseInt(_0x22504b(0x1c4))/0x1*(-parseInt(_0x22504b(0x1df))/0x2)+parseInt(_0x22504b(0x1bc))/0x3*(-parseInt(_0x22504b(0x1cb))/0x4)+-parseInt(_0x22504b(0x1d8))/0x5+parseInt(_0x22504b(0x1c7))/0x6+parseInt(_0x22504b(0x1b8))/0x7*(parseInt(_0x22504b(0x1c0))/0x8)+-parseInt(_0x22504b(0x1e4))/0x9+-parseInt(_0x22504b(0x1d3))/0xa;if(_0x368803===_0x9168f1)break;else _0x848da0['push'](_0x848da0['shift']());}catch(_0x488ac4){_0x848da0['push'](_0x848da0['shift']());}}}(a47_0x1354,0x6f74a));function a47_0x4daf(_0x58f6dc,_0x1454d0){_0x58f6dc=_0x58f6dc-0x1b1;const _0x1354f7=a47_0x1354();let _0x4daf54=_0x1354f7[_0x58f6dc];return _0x4daf54;}var __importDefault=this&&this[a47_0x503278(0x1e8)]||function(_0x5803b1){const _0x49a776=a47_0x503278;return _0x5803b1&&_0x5803b1[_0x49a776(0x1dc)]?_0x5803b1:{'default':_0x5803b1};};function a47_0x1354(){const _0x53510c=['$connect','default','1089396lOXsuk','paymentCleanupService','config','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','__importDefault','domainMonitoringService','\x20is\x20active','127.1.1.159','stopPeriodicStatusCheck','production','./services/telegramBotService','log','./services/currencyService','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','stopBot','./config/config','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','stopPeriodicUpdates','SIGINT','âœ…\x20Database\x20connected\x20successfully','\x20hours','âŒ\x20Initial\x20cleanup\x20failed:','getBotInfo','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','4615961EkXHFF','SIGTERM','currencyService','$disconnect','762JGeCKX','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','exit','âœ…\x20Telegram\x20bot\x20@','8JBUVuL','/api/health','telegramBotService','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','3743AYwusb','âŒ\x20Failed\x20to\x20start\x20server:','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','2765952pRaEYB','ðŸŒ\x20Environment:\x20','./services/domainMonitoringService','./services/coinToPayStatusService','88ghpRVE','port','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','âŒ\x20Scheduled\x20cleanup\x20failed:','nodeEnv','./config/database','coinToPayStatusService','runCleanupWithReport','2877630kfQxCj','startPeriodicStatusCheck','stopMonitoring','error','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','2127095aRvacB','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','listen','username','__esModule','defineProperty','isActive','94fXjToI','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','./app'];a47_0x1354=function(){return _0x53510c;};return a47_0x1354();}Object[a47_0x503278(0x1dd)](exports,a47_0x503278(0x1dc),{'value':!![]});const app_1=__importDefault(require(a47_0x503278(0x1e1))),config_1=require(a47_0x503278(0x1f3)),database_1=__importDefault(require(a47_0x503278(0x1d0))),telegramBotService_1=require(a47_0x503278(0x1ee)),currencyService_1=require(a47_0x503278(0x1f0)),coinToPayStatusService_1=require(a47_0x503278(0x1ca)),domainMonitoringService_1=require(a47_0x503278(0x1c9)),paymentCleanupService_1=require('./services/paymentCleanupService');let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x4fbd15=a47_0x503278,_0x2c2224=0x18,_0x58d5e3=_0x2c2224*0x3c*0x3c*0x3e8;console[_0x4fbd15(0x1ef)](_0x4fbd15(0x1cd)+_0x2c2224+_0x4fbd15(0x1b4)),setTimeout(async()=>{const _0x2d7e1a=_0x4fbd15;console['log']('ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0x2d7e1a(0x1e5)][_0x2d7e1a(0x1d2)](),console[_0x2d7e1a(0x1ef)](_0x2d7e1a(0x1f4));}catch(_0x53a920){console['error'](_0x2d7e1a(0x1b5),_0x53a920);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x54bd19=_0x4fbd15;console[_0x54bd19(0x1ef)](_0x54bd19(0x1e7));try{await paymentCleanupService_1['paymentCleanupService']['runCleanupWithReport'](),console[_0x54bd19(0x1ef)](_0x54bd19(0x1d7));}catch(_0xea0b89){console[_0x54bd19(0x1d6)](_0x54bd19(0x1ce),_0xea0b89);}},_0x58d5e3);}function stopPaymentCleanupScheduler(){const _0xfd9a7e=a47_0x503278;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0xfd9a7e(0x1ef)](_0xfd9a7e(0x1bd)));}async function startServer(){const _0x352b9b=a47_0x503278;try{await database_1[_0x352b9b(0x1e3)][_0x352b9b(0x1e2)](),console['log'](_0x352b9b(0x1b3));const _0x4d53be=telegramBotService_1[_0x352b9b(0x1c2)][_0x352b9b(0x1b6)]();_0x4d53be[_0x352b9b(0x1de)]?console[_0x352b9b(0x1ef)](_0x352b9b(0x1bf)+_0x4d53be[_0x352b9b(0x1db)]+_0x352b9b(0x1ea)):console[_0x352b9b(0x1ef)](_0x352b9b(0x1e0));console[_0x352b9b(0x1ef)](_0x352b9b(0x1d9)),console[_0x352b9b(0x1ef)](_0x352b9b(0x1f1)),coinToPayStatusService_1[_0x352b9b(0x1d1)][_0x352b9b(0x1d4)](),console[_0x352b9b(0x1ef)](_0x352b9b(0x1b7)),domainMonitoringService_1['domainMonitoringService']['startMonitoring'](),console[_0x352b9b(0x1ef)](_0x352b9b(0x1c3)),startPaymentCleanupScheduler();config_1[_0x352b9b(0x1e6)][_0x352b9b(0x1cf)]===_0x352b9b(0x1ed)?app_1[_0x352b9b(0x1e3)][_0x352b9b(0x1da)](config_1['config'][_0x352b9b(0x1cc)],()=>{const _0x1f1edd=_0x352b9b;console[_0x1f1edd(0x1ef)]('ðŸš€\x20Server\x20running\x20on\x20port\x20'+config_1[_0x1f1edd(0x1e6)]['port']),console[_0x1f1edd(0x1ef)]('ðŸŒ\x20Environment:\x20'+config_1[_0x1f1edd(0x1e6)]['nodeEnv']);}):app_1[_0x352b9b(0x1e3)]['listen'](config_1[_0x352b9b(0x1e6)]['port'],_0x352b9b(0x1eb),()=>{const _0x56cc13=_0x352b9b;console[_0x56cc13(0x1ef)]('ðŸš€\x20Server\x20running\x20on\x20port\x20'+config_1[_0x56cc13(0x1e6)]['port']),console[_0x56cc13(0x1ef)](_0x56cc13(0x1c8)+config_1['config'][_0x56cc13(0x1cf)]),console[_0x56cc13(0x1ef)]('ðŸ“Š\x20Health\x20check:\x20http://localhost:'+config_1[_0x56cc13(0x1e6)][_0x56cc13(0x1cc)]+_0x56cc13(0x1c1));});;}catch(_0x4db1c7){console[_0x352b9b(0x1d6)](_0x352b9b(0x1c5),_0x4db1c7),process[_0x352b9b(0x1be)](0x1);}}process['on'](a47_0x503278(0x1b2),async()=>{const _0x40037f=a47_0x503278;console[_0x40037f(0x1ef)](_0x40037f(0x1c6)),stopPaymentCleanupScheduler(),currencyService_1[_0x40037f(0x1ba)][_0x40037f(0x1b1)](),coinToPayStatusService_1[_0x40037f(0x1d1)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService']['stopMonitoring'](),telegramBotService_1[_0x40037f(0x1c2)][_0x40037f(0x1f2)](),await database_1[_0x40037f(0x1e3)][_0x40037f(0x1bb)](),process[_0x40037f(0x1be)](0x0);}),process['on'](a47_0x503278(0x1b9),async()=>{const _0x43c31c=a47_0x503278;console[_0x43c31c(0x1ef)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x43c31c(0x1ba)][_0x43c31c(0x1b1)](),coinToPayStatusService_1[_0x43c31c(0x1d1)][_0x43c31c(0x1ec)](),domainMonitoringService_1[_0x43c31c(0x1e9)][_0x43c31c(0x1d5)](),telegramBotService_1['telegramBotService'][_0x43c31c(0x1f2)](),await database_1[_0x43c31c(0x1e3)][_0x43c31c(0x1bb)](),process['exit'](0x0);}),startServer();