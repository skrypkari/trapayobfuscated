'use strict';function a45_0x5d5f(_0x3974f5,_0x379906){_0x3974f5=_0x3974f5-0x10f;const _0x1c3434=a45_0x1c34();let _0x5d5f4c=_0x1c3434[_0x3974f5];return _0x5d5f4c;}function a45_0x1c34(){const _0x2c524b=['âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','defineProperty','__importDefault','exit','startMonitoring','774751JHSMLI','ðŸ“Š\x20Health\x20check:\x20http://localhost:','SIGINT','13172904HZBMxJ','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','domainMonitoringService','148RpcFwe','./services/domainMonitoringService','runCleanupWithReport','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','getBotInfo','default','isActive','./services/coinToPayStatusService','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','startPeriodicStatusCheck','$connect','./services/telegramBotService','__esModule','listen','127.1.1.159','3090706LOlPXC','stopMonitoring','\x20hours','stopPeriodicStatusCheck','SIGTERM','paymentCleanupService','error','âŒ\x20Scheduled\x20cleanup\x20failed:','âœ…\x20Database\x20connected\x20successfully','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','./config/config','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','./services/paymentCleanupService','7835040gfokPA','ðŸŒ\x20Environment:\x20','config','/api/health','telegramBotService','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','nodeEnv','currencyService','stopBot','coinToPayStatusService','âŒ\x20Initial\x20cleanup\x20failed:','16zUpuGy','username','$disconnect','./config/database','46701hbunVE','ðŸš€\x20Server\x20running\x20on\x20port\x20','124222ayQbPv','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','./services/currencyService','port','4933668fzsnlS','log','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','stopPeriodicUpdates'];a45_0x1c34=function(){return _0x2c524b;};return a45_0x1c34();}const a45_0x42aa15=a45_0x5d5f;(function(_0x123bdc,_0x5df601){const _0xa95699=a45_0x5d5f,_0x3783e7=_0x123bdc();while(!![]){try{const _0x149514=parseInt(_0xa95699(0x119))/0x1+-parseInt(_0xa95699(0x12e))/0x2+parseInt(_0xa95699(0x14b))/0x3*(-parseInt(_0xa95699(0x11f))/0x4)+-parseInt(_0xa95699(0x13c))/0x5+parseInt(_0xa95699(0x10f))/0x6+parseInt(_0xa95699(0x14d))/0x7+parseInt(_0xa95699(0x147))/0x8*(parseInt(_0xa95699(0x11c))/0x9);if(_0x149514===_0x5df601)break;else _0x3783e7['push'](_0x3783e7['shift']());}catch(_0x2722d6){_0x3783e7['push'](_0x3783e7['shift']());}}}(a45_0x1c34,0xd06f3));var __importDefault=this&&this[a45_0x42aa15(0x116)]||function(_0x3244dd){const _0x50eaf6=a45_0x42aa15;return _0x3244dd&&_0x3244dd[_0x50eaf6(0x12b)]?_0x3244dd:{'default':_0x3244dd};};Object[a45_0x42aa15(0x115)](exports,a45_0x42aa15(0x12b),{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a45_0x42aa15(0x138)),database_1=__importDefault(require(a45_0x42aa15(0x14a))),telegramBotService_1=require(a45_0x42aa15(0x12a)),currencyService_1=require(a45_0x42aa15(0x150)),coinToPayStatusService_1=require(a45_0x42aa15(0x126)),domainMonitoringService_1=require(a45_0x42aa15(0x120)),paymentCleanupService_1=require(a45_0x42aa15(0x13b));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x464830=a45_0x42aa15,_0x171e17=0x18,_0x3e685f=_0x171e17*0x3c*0x3c*0x3e8;console[_0x464830(0x110)](_0x464830(0x14f)+_0x171e17+_0x464830(0x130)),setTimeout(async()=>{const _0x41ace9=_0x464830;console[_0x41ace9(0x110)](_0x41ace9(0x111));try{await paymentCleanupService_1[_0x41ace9(0x133)][_0x41ace9(0x121)](),console[_0x41ace9(0x110)](_0x41ace9(0x139));}catch(_0x38c698){console[_0x41ace9(0x134)](_0x41ace9(0x146),_0x38c698);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x544bdc=_0x464830;console['log'](_0x544bdc(0x141));try{await paymentCleanupService_1[_0x544bdc(0x133)][_0x544bdc(0x121)](),console['log'](_0x544bdc(0x137));}catch(_0x132c86){console['error'](_0x544bdc(0x135),_0x132c86);}},_0x3e685f);}function stopPaymentCleanupScheduler(){const _0x13489c=a45_0x42aa15;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0x13489c(0x127)));}async function startServer(){const _0xe4329c=a45_0x42aa15;try{await database_1[_0xe4329c(0x124)][_0xe4329c(0x129)](),console[_0xe4329c(0x110)](_0xe4329c(0x136));const _0x4b1344=telegramBotService_1['telegramBotService'][_0xe4329c(0x123)]();_0x4b1344[_0xe4329c(0x125)]?console[_0xe4329c(0x110)]('âœ…\x20Telegram\x20bot\x20@'+_0x4b1344[_0xe4329c(0x148)]+'\x20is\x20active'):console[_0xe4329c(0x110)](_0xe4329c(0x114)),console['log'](_0xe4329c(0x122)),console[_0xe4329c(0x110)](_0xe4329c(0x11d)),coinToPayStatusService_1[_0xe4329c(0x145)][_0xe4329c(0x128)](),console[_0xe4329c(0x110)](_0xe4329c(0x14e)),domainMonitoringService_1['domainMonitoringService'][_0xe4329c(0x118)](),console[_0xe4329c(0x110)](_0xe4329c(0x13a)),startPaymentCleanupScheduler(),app_1[_0xe4329c(0x124)][_0xe4329c(0x12c)](config_1[_0xe4329c(0x13e)]['port'],_0xe4329c(0x12d),()=>{const _0x15c895=_0xe4329c;console[_0x15c895(0x110)](_0x15c895(0x14c)+config_1[_0x15c895(0x13e)][_0x15c895(0x151)]),console['log'](_0x15c895(0x13d)+config_1[_0x15c895(0x13e)][_0x15c895(0x142)]),console[_0x15c895(0x110)](_0x15c895(0x11a)+config_1[_0x15c895(0x13e)][_0x15c895(0x151)]+_0x15c895(0x13f));});}catch(_0x38f7b8){console['error']('âŒ\x20Failed\x20to\x20start\x20server:',_0x38f7b8),process[_0xe4329c(0x117)](0x1);}}process['on'](a45_0x42aa15(0x11b),async()=>{const _0x48b498=a45_0x42aa15;console[_0x48b498(0x110)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x48b498(0x143)][_0x48b498(0x113)](),coinToPayStatusService_1[_0x48b498(0x145)][_0x48b498(0x131)](),domainMonitoringService_1[_0x48b498(0x11e)][_0x48b498(0x12f)](),telegramBotService_1[_0x48b498(0x140)][_0x48b498(0x144)](),await database_1[_0x48b498(0x124)][_0x48b498(0x149)](),process[_0x48b498(0x117)](0x0);}),process['on'](a45_0x42aa15(0x132),async()=>{const _0x4d34ab=a45_0x42aa15;console[_0x4d34ab(0x110)](_0x4d34ab(0x112)),stopPaymentCleanupScheduler(),currencyService_1['currencyService']['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x4d34ab(0x145)][_0x4d34ab(0x131)](),domainMonitoringService_1[_0x4d34ab(0x11e)][_0x4d34ab(0x12f)](),telegramBotService_1[_0x4d34ab(0x140)][_0x4d34ab(0x144)](),await database_1[_0x4d34ab(0x124)][_0x4d34ab(0x149)](),process['exit'](0x0);}),startServer();