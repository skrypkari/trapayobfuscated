'use strict';const a47_0x382333=a47_0x37c6;function a47_0x37c6(_0x1157e7,_0x2e7708){_0x1157e7=_0x1157e7-0xf0;const _0x73ec35=a47_0x73ec();let _0x37c60a=_0x73ec35[_0x1157e7];return _0x37c60a;}(function(_0x4d0499,_0x8d021){const _0x8d81ba=a47_0x37c6,_0x6f574=_0x4d0499();while(!![]){try{const _0x23bc8d=parseInt(_0x8d81ba(0x131))/0x1*(-parseInt(_0x8d81ba(0x122))/0x2)+parseInt(_0x8d81ba(0x10d))/0x3*(-parseInt(_0x8d81ba(0x12e))/0x4)+parseInt(_0x8d81ba(0x10a))/0x5+parseInt(_0x8d81ba(0x12d))/0x6*(parseInt(_0x8d81ba(0xfc))/0x7)+-parseInt(_0x8d81ba(0x124))/0x8*(-parseInt(_0x8d81ba(0xf0))/0x9)+parseInt(_0x8d81ba(0x114))/0xa*(-parseInt(_0x8d81ba(0x11e))/0xb)+-parseInt(_0x8d81ba(0x126))/0xc;if(_0x23bc8d===_0x8d021)break;else _0x6f574['push'](_0x6f574['shift']());}catch(_0x32d160){_0x6f574['push'](_0x6f574['shift']());}}}(a47_0x73ec,0x27f5f));var __importDefault=this&&this[a47_0x382333(0x102)]||function(_0x480a6c){const _0xdb47f6=a47_0x382333;return _0x480a6c&&_0x480a6c[_0xdb47f6(0x109)]?_0x480a6c:{'default':_0x480a6c};};Object['defineProperty'](exports,a47_0x382333(0x109),{'value':!![]});const app_1=__importDefault(require(a47_0x382333(0xf7))),config_1=require(a47_0x382333(0x110)),database_1=__importDefault(require(a47_0x382333(0x107))),telegramBotService_1=require('./services/telegramBotService'),currencyService_1=require(a47_0x382333(0x112)),coinToPayStatusService_1=require(a47_0x382333(0xf2)),domainMonitoringService_1=require(a47_0x382333(0x128)),paymentCleanupService_1=require(a47_0x382333(0x111));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x41f5ab=a47_0x382333,_0x214175=0x18,_0xe08c76=_0x214175*0x3c*0x3c*0x3e8;console[_0x41f5ab(0xfe)](_0x41f5ab(0x12c)+_0x214175+_0x41f5ab(0x121)),setTimeout(async()=>{const _0x39df46=_0x41f5ab;console[_0x39df46(0xfe)](_0x39df46(0xf4));try{await paymentCleanupService_1[_0x39df46(0x118)]['runCleanupWithReport'](),console[_0x39df46(0xfe)](_0x39df46(0x100));}catch(_0x186cef){console[_0x39df46(0xf3)](_0x39df46(0x101),_0x186cef);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x16dfe5=_0x41f5ab;console[_0x16dfe5(0xfe)](_0x16dfe5(0x108));try{await paymentCleanupService_1[_0x16dfe5(0x118)]['runCleanupWithReport'](),console[_0x16dfe5(0xfe)](_0x16dfe5(0x11c));}catch(_0x2fb84c){console[_0x16dfe5(0xf3)]('âŒ\x20Scheduled\x20cleanup\x20failed:',_0x2fb84c);}},_0xe08c76);}function stopPaymentCleanupScheduler(){const _0x37bef5=a47_0x382333;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0x37bef5(0x10f)));}async function startServer(){const _0x28c61e=a47_0x382333;try{await database_1['default'][_0x28c61e(0xfb)](),console[_0x28c61e(0xfe)](_0x28c61e(0x11a));const _0x4ee10d=telegramBotService_1['telegramBotService'][_0x28c61e(0x113)]();_0x4ee10d[_0x28c61e(0x12b)]?console[_0x28c61e(0xfe)](_0x28c61e(0x103)+_0x4ee10d['username']+_0x28c61e(0xfd)):console['log'](_0x28c61e(0x10c));console[_0x28c61e(0xfe)](_0x28c61e(0xf1)),console[_0x28c61e(0xfe)]('ğŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'),coinToPayStatusService_1[_0x28c61e(0x10b)][_0x28c61e(0xf9)](),console['log'](_0x28c61e(0x115)),domainMonitoringService_1[_0x28c61e(0x11b)][_0x28c61e(0xf8)](),console[_0x28c61e(0xfe)](_0x28c61e(0x106)),startPaymentCleanupScheduler();config_1[_0x28c61e(0x116)][_0x28c61e(0x12f)]===_0x28c61e(0x125)?app_1[_0x28c61e(0x10e)][_0x28c61e(0xf5)](config_1[_0x28c61e(0x116)][_0x28c61e(0x105)],()=>{const _0x5598d5=_0x28c61e;console[_0x5598d5(0xfe)]('ğŸš€\x20Server\x20running\x20on\x20port\x20'+config_1['config']['port']),console[_0x5598d5(0xfe)](_0x5598d5(0x119)+config_1[_0x5598d5(0x116)][_0x5598d5(0x12f)]);}):app_1[_0x28c61e(0x10e)][_0x28c61e(0xf5)](config_1[_0x28c61e(0x116)][_0x28c61e(0x105)],'127.1.1.159',()=>{const _0x5f2305=_0x28c61e;console[_0x5f2305(0xfe)](_0x5f2305(0x11d)+config_1[_0x5f2305(0x116)][_0x5f2305(0x105)]),console[_0x5f2305(0xfe)](_0x5f2305(0x119)+config_1[_0x5f2305(0x116)]['nodeEnv']),console[_0x5f2305(0xfe)]('ğŸ“Š\x20Health\x20check:\x20http://localhost:'+config_1[_0x5f2305(0x116)][_0x5f2305(0x105)]+_0x5f2305(0x130));});;}catch(_0x1b1c44){console['error']('âŒ\x20Failed\x20to\x20start\x20server:',_0x1b1c44),process[_0x28c61e(0x129)](0x1);}}process['on'](a47_0x382333(0x12a),async()=>{const _0xaa6fa7=a47_0x382333;console['log']('\x0ağŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0xaa6fa7(0xfa)](),coinToPayStatusService_1[_0xaa6fa7(0x10b)][_0xaa6fa7(0x104)](),domainMonitoringService_1[_0xaa6fa7(0x11b)][_0xaa6fa7(0x11f)](),telegramBotService_1['telegramBotService'][_0xaa6fa7(0x123)](),await database_1[_0xaa6fa7(0x10e)][_0xaa6fa7(0xf6)](),process[_0xaa6fa7(0x129)](0x0);}),process['on'](a47_0x382333(0x127),async()=>{const _0x42e583=a47_0x382333;console['log'](_0x42e583(0x120)),stopPaymentCleanupScheduler(),currencyService_1[_0x42e583(0x117)][_0x42e583(0xfa)](),coinToPayStatusService_1[_0x42e583(0x10b)][_0x42e583(0x104)](),domainMonitoringService_1[_0x42e583(0x11b)][_0x42e583(0x11f)](),telegramBotService_1[_0x42e583(0xff)][_0x42e583(0x123)](),await database_1['default']['$disconnect'](),process['exit'](0x0);}),startServer();function a47_0x73ec(){const _0x4c2afd=['exit','SIGINT','isActive','ğŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','913722WGlkEm','1248EwUjXl','nodeEnv','/api/health','3wjxHYo','2088hrXmcb','ğŸ”„\x20Initializing\x20currency\x20rates\x20service...','./services/coinToPayStatusService','error','ğŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','listen','$disconnect','./app','startMonitoring','startPeriodicStatusCheck','stopPeriodicUpdates','$connect','7jrxYMF','\x20is\x20active','log','telegramBotService','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','âŒ\x20Initial\x20cleanup\x20failed:','__importDefault','âœ…\x20Telegram\x20bot\x20@','stopPeriodicStatusCheck','port','ğŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','./config/database','ğŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','__esModule','729495RMfDhm','coinToPayStatusService','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','75AKbcDX','default','ğŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','./config/config','./services/paymentCleanupService','./services/currencyService','getBotInfo','20bugADm','ğŸ”\x20Initializing\x20domain\x20monitoring\x20service...','config','currencyService','paymentCleanupService','ğŸŒ\x20Environment:\x20','âœ…\x20Database\x20connected\x20successfully','domainMonitoringService','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','ğŸš€\x20Server\x20running\x20on\x20port\x20','29161pgRVfh','stopMonitoring','\x0ağŸ”„\x20Gracefully\x20shutting\x20down...','\x20hours','1802neWiOg','stopBot','7424jCGMwi','production','4007976BgXhZP','SIGTERM','./services/domainMonitoringService'];a47_0x73ec=function(){return _0x4c2afd;};return a47_0x73ec();}