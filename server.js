'use strict';const a51_0x422cc7=a51_0x30b0;(function(_0x2cb5c0,_0x5b5077){const _0xea87f6=a51_0x30b0,_0x2bf945=_0x2cb5c0();while(!![]){try{const _0x146764=parseInt(_0xea87f6(0x20a))/0x1*(-parseInt(_0xea87f6(0x20e))/0x2)+-parseInt(_0xea87f6(0x1f6))/0x3+parseInt(_0xea87f6(0x201))/0x4+-parseInt(_0xea87f6(0x217))/0x5+parseInt(_0xea87f6(0x21c))/0x6+parseInt(_0xea87f6(0x20d))/0x7*(parseInt(_0xea87f6(0x22b))/0x8)+parseInt(_0xea87f6(0x22d))/0x9;if(_0x146764===_0x5b5077)break;else _0x2bf945['push'](_0x2bf945['shift']());}catch(_0x118def){_0x2bf945['push'](_0x2bf945['shift']());}}}(a51_0x1ed1,0xdd335));var __importDefault=this&&this[a51_0x422cc7(0x21e)]||function(_0x5e942d){const _0x5c2f43=a51_0x422cc7;return _0x5e942d&&_0x5e942d[_0x5c2f43(0x218)]?_0x5e942d:{'default':_0x5e942d};};function a51_0x1ed1(){const _0xa60b91=['listen','stopPeriodicUpdates','ðŸ“Š\x20Health\x20check:\x20http://localhost:','config','production','3263790OoRkEo','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','./services/currencyService','nodeEnv','âœ…\x20Database\x20connected\x20successfully','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','telegramBotService','isActive','./config/config','exit','5358836znQnrh','$disconnect','startPeriodicStatusCheck','default','./services/coinToPayStatusService','./services/paymentCleanupService','âŒ\x20Scheduled\x20cleanup\x20failed:','./services/telegramBotService','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','602363JmOfuQ','port','currencyService','371PLfPDG','4CLsTDv','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','âŒ\x20Initial\x20cleanup\x20failed:','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','getBotInfo','domainMonitoringService','$connect','./app','stopMonitoring','4594940YWSkkd','__esModule','\x20hours','stopPeriodicStatusCheck','/api/health','6294534aqVQNR','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','__importDefault','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','SIGINT','coinToPayStatusService','error','\x20is\x20active','âŒ\x20Failed\x20to\x20start\x20server:','ðŸš€\x20Server\x20running\x20on\x20port\x20','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','paymentCleanupService','defineProperty','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','log','63464GNxtCd','startMonitoring','11775906MOdgoY','./services/domainMonitoringService'];a51_0x1ed1=function(){return _0xa60b91;};return a51_0x1ed1();}Object[a51_0x422cc7(0x228)](exports,a51_0x422cc7(0x218),{'value':!![]});const app_1=__importDefault(require(a51_0x422cc7(0x215))),config_1=require(a51_0x422cc7(0x1ff)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a51_0x422cc7(0x208)),currencyService_1=require(a51_0x422cc7(0x1f9)),coinToPayStatusService_1=require(a51_0x422cc7(0x205)),domainMonitoringService_1=require(a51_0x422cc7(0x22e)),paymentCleanupService_1=require(a51_0x422cc7(0x206));let paymentCleanupInterval=null;function a51_0x30b0(_0x19ccb8,_0xdf932c){_0x19ccb8=_0x19ccb8-0x1f1;const _0x1ed167=a51_0x1ed1();let _0x30b0e9=_0x1ed167[_0x19ccb8];return _0x30b0e9;}function startPaymentCleanupScheduler(){const _0x1fdd9a=a51_0x422cc7,_0x399f6b=0x18,_0x29df1f=_0x399f6b*0x3c*0x3c*0x3e8;console[_0x1fdd9a(0x22a)]('ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x399f6b+_0x1fdd9a(0x219)),setTimeout(async()=>{const _0x5c715b=_0x1fdd9a;console[_0x5c715b(0x22a)](_0x5c715b(0x1fc));try{await paymentCleanupService_1[_0x5c715b(0x227)]['runCleanupWithReport'](),console[_0x5c715b(0x22a)]('âœ…\x20Initial\x20cleanup\x20completed\x20successfully');}catch(_0x252139){console[_0x5c715b(0x222)](_0x5c715b(0x210),_0x252139);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x3a6ce7=_0x1fdd9a;console[_0x3a6ce7(0x22a)](_0x3a6ce7(0x211));try{await paymentCleanupService_1[_0x3a6ce7(0x227)]['runCleanupWithReport'](),console[_0x3a6ce7(0x22a)](_0x3a6ce7(0x229));}catch(_0x14fecc){console[_0x3a6ce7(0x222)](_0x3a6ce7(0x207),_0x14fecc);}},_0x29df1f);}function stopPaymentCleanupScheduler(){const _0x5b2741=a51_0x422cc7;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x5b2741(0x22a)](_0x5b2741(0x1f8)));}async function startServer(){const _0x1293a2=a51_0x422cc7;try{await database_1[_0x1293a2(0x204)][_0x1293a2(0x214)](),console[_0x1293a2(0x22a)](_0x1293a2(0x1fb));const _0x241480=telegramBotService_1[_0x1293a2(0x1fd)][_0x1293a2(0x212)]();_0x241480[_0x1293a2(0x1fe)]?console[_0x1293a2(0x22a)]('âœ…\x20Telegram\x20bot\x20@'+_0x241480['username']+_0x1293a2(0x223)):console['log'](_0x1293a2(0x21f));console[_0x1293a2(0x22a)](_0x1293a2(0x20f)),console[_0x1293a2(0x22a)](_0x1293a2(0x1f7)),coinToPayStatusService_1['coinToPayStatusService'][_0x1293a2(0x203)](),console[_0x1293a2(0x22a)](_0x1293a2(0x21d)),domainMonitoringService_1[_0x1293a2(0x213)][_0x1293a2(0x22c)](),console[_0x1293a2(0x22a)](_0x1293a2(0x226)),startPaymentCleanupScheduler();config_1[_0x1293a2(0x1f4)][_0x1293a2(0x1fa)]===_0x1293a2(0x1f5)?app_1[_0x1293a2(0x204)][_0x1293a2(0x1f1)](config_1[_0x1293a2(0x1f4)]['port'],()=>{const _0x30e12e=_0x1293a2;console['log'](_0x30e12e(0x225)+config_1[_0x30e12e(0x1f4)][_0x30e12e(0x20b)]),console[_0x30e12e(0x22a)]('ðŸŒ\x20Environment:\x20'+config_1[_0x30e12e(0x1f4)]['nodeEnv']);}):app_1[_0x1293a2(0x204)][_0x1293a2(0x1f1)](config_1[_0x1293a2(0x1f4)]['port'],'127.1.1.159',()=>{const _0x33667c=_0x1293a2;console[_0x33667c(0x22a)](_0x33667c(0x225)+config_1[_0x33667c(0x1f4)]['port']),console[_0x33667c(0x22a)]('ðŸŒ\x20Environment:\x20'+config_1['config'][_0x33667c(0x1fa)]),console['log'](_0x33667c(0x1f3)+config_1[_0x33667c(0x1f4)][_0x33667c(0x20b)]+_0x33667c(0x21b));});;}catch(_0x1cec00){console['error'](_0x1293a2(0x224),_0x1cec00),process[_0x1293a2(0x200)](0x1);}}process['on'](a51_0x422cc7(0x220),async()=>{const _0x177cf7=a51_0x422cc7;console[_0x177cf7(0x22a)](_0x177cf7(0x209)),stopPaymentCleanupScheduler(),currencyService_1[_0x177cf7(0x20c)][_0x177cf7(0x1f2)](),coinToPayStatusService_1[_0x177cf7(0x221)][_0x177cf7(0x21a)](),domainMonitoringService_1[_0x177cf7(0x213)]['stopMonitoring'](),telegramBotService_1[_0x177cf7(0x1fd)]['stopBot'](),await database_1[_0x177cf7(0x204)][_0x177cf7(0x202)](),process[_0x177cf7(0x200)](0x0);}),process['on']('SIGTERM',async()=>{const _0x5893d3=a51_0x422cc7;console['log']('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x5893d3(0x1f2)](),coinToPayStatusService_1['coinToPayStatusService']['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x5893d3(0x213)][_0x5893d3(0x216)](),telegramBotService_1['telegramBotService']['stopBot'](),await database_1[_0x5893d3(0x204)][_0x5893d3(0x202)](),process[_0x5893d3(0x200)](0x0);}),startServer();