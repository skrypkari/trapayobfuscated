'use strict';const a45_0x5852fb=a45_0x25a6;(function(_0x1eaa08,_0x540dbe){const _0x51b402=a45_0x25a6,_0x22977c=_0x1eaa08();while(!![]){try{const _0x8244c3=parseInt(_0x51b402(0x1e6))/0x1+-parseInt(_0x51b402(0x1b1))/0x2*(-parseInt(_0x51b402(0x1e8))/0x3)+-parseInt(_0x51b402(0x1c5))/0x4+-parseInt(_0x51b402(0x1b0))/0x5*(parseInt(_0x51b402(0x1db))/0x6)+parseInt(_0x51b402(0x1b4))/0x7*(parseInt(_0x51b402(0x1bb))/0x8)+parseInt(_0x51b402(0x1de))/0x9+-parseInt(_0x51b402(0x1e1))/0xa*(parseInt(_0x51b402(0x1b9))/0xb);if(_0x8244c3===_0x540dbe)break;else _0x22977c['push'](_0x22977c['shift']());}catch(_0x24b483){_0x22977c['push'](_0x22977c['shift']());}}}(a45_0x5705,0x6fb7e));function a45_0x25a6(_0x20c8e3,_0x971b3f){_0x20c8e3=_0x20c8e3-0x1ad;const _0x570503=a45_0x5705();let _0x25a614=_0x570503[_0x20c8e3];return _0x25a614;}var __importDefault=this&&this['__importDefault']||function(_0x37ff54){const _0x4fddef=a45_0x25a6;return _0x37ff54&&_0x37ff54[_0x4fddef(0x1e7)]?_0x37ff54:{'default':_0x37ff54};};Object[a45_0x5852fb(0x1d7)](exports,a45_0x5852fb(0x1e7),{'value':!![]});const app_1=__importDefault(require(a45_0x5852fb(0x1d4))),config_1=require(a45_0x5852fb(0x1e0)),database_1=__importDefault(require(a45_0x5852fb(0x1d8))),telegramBotService_1=require(a45_0x5852fb(0x1cd)),currencyService_1=require('./services/currencyService'),coinToPayStatusService_1=require(a45_0x5852fb(0x1dc)),domainMonitoringService_1=require(a45_0x5852fb(0x1d0)),paymentCleanupService_1=require('./services/paymentCleanupService');function a45_0x5705(){const _0x308924=['runCleanupWithReport','./config/config','4943830ampKYE','$connect','config','SIGTERM','SIGINT','198418Voapdo','__esModule','3iSLVod','stopPeriodicStatusCheck','error','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','\x20is\x20active','10gWWHge','964618SGsxOw','âœ…\x20Telegram\x20bot\x20@','startMonitoring','37247bEHyVs','port','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','stopBot','telegramBotService','11oJWCfL','âŒ\x20Scheduled\x20cleanup\x20failed:','664xIGreI','getBotInfo','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','âŒ\x20Initial\x20cleanup\x20failed:','default','stopMonitoring','ðŸš€\x20Server\x20running\x20on\x20port\x20','127.1.1.159','ðŸ“Š\x20Health\x20check:\x20http://localhost:','/api/health','1228072zKLBEp','$disconnect','listen','log','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','username','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','./services/telegramBotService','coinToPayStatusService','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','./services/domainMonitoringService','exit','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','stopPeriodicUpdates','./app','\x20hours','paymentCleanupService','defineProperty','./config/database','âœ…\x20Database\x20connected\x20successfully','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','2073198ItbuKy','./services/coinToPayStatusService','domainMonitoringService','7449255HRllCs'];a45_0x5705=function(){return _0x308924;};return a45_0x5705();}let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x5980ce=a45_0x5852fb,_0x30a380=0x18,_0x2e12f4=_0x30a380*0x3c*0x3c*0x3e8;console['log'](_0x5980ce(0x1d2)+_0x30a380+_0x5980ce(0x1d5)),setTimeout(async()=>{const _0xa4e8c0=_0x5980ce;console[_0xa4e8c0(0x1c8)]('ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0xa4e8c0(0x1d6)]['runCleanupWithReport'](),console[_0xa4e8c0(0x1c8)](_0xa4e8c0(0x1bd));}catch(_0x15c8b2){console[_0xa4e8c0(0x1ea)](_0xa4e8c0(0x1be),_0x15c8b2);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x2bad7c=_0x5980ce;console[_0x2bad7c(0x1c8)](_0x2bad7c(0x1cc));try{await paymentCleanupService_1[_0x2bad7c(0x1d6)][_0x2bad7c(0x1df)](),console[_0x2bad7c(0x1c8)](_0x2bad7c(0x1ae));}catch(_0x1369b6){console[_0x2bad7c(0x1ea)](_0x2bad7c(0x1ba),_0x1369b6);}},_0x2e12f4);}function stopPaymentCleanupScheduler(){const _0x4699e0=a45_0x5852fb;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0x4699e0(0x1c9)));}async function startServer(){const _0x38ba35=a45_0x5852fb;try{await database_1[_0x38ba35(0x1bf)][_0x38ba35(0x1e2)](),console[_0x38ba35(0x1c8)](_0x38ba35(0x1d9));const _0x1382cf=telegramBotService_1[_0x38ba35(0x1b8)][_0x38ba35(0x1bc)]();_0x1382cf['isActive']?console[_0x38ba35(0x1c8)](_0x38ba35(0x1b2)+_0x1382cf[_0x38ba35(0x1ca)]+_0x38ba35(0x1af)):console[_0x38ba35(0x1c8)]('âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured'),console[_0x38ba35(0x1c8)](_0x38ba35(0x1da)),console[_0x38ba35(0x1c8)](_0x38ba35(0x1b6)),coinToPayStatusService_1['coinToPayStatusService']['startPeriodicStatusCheck'](),console[_0x38ba35(0x1c8)](_0x38ba35(0x1cf)),domainMonitoringService_1['domainMonitoringService'][_0x38ba35(0x1b3)](),console['log'](_0x38ba35(0x1cb)),startPaymentCleanupScheduler(),app_1['default'][_0x38ba35(0x1c7)](config_1['config'][_0x38ba35(0x1b5)],_0x38ba35(0x1c2),()=>{const _0xc96f2d=_0x38ba35;console[_0xc96f2d(0x1c8)](_0xc96f2d(0x1c1)+config_1[_0xc96f2d(0x1e3)]['port']),console[_0xc96f2d(0x1c8)]('ðŸŒ\x20Environment:\x20'+config_1[_0xc96f2d(0x1e3)]['nodeEnv']),console[_0xc96f2d(0x1c8)](_0xc96f2d(0x1c3)+config_1[_0xc96f2d(0x1e3)][_0xc96f2d(0x1b5)]+_0xc96f2d(0x1c4));});}catch(_0x5cb4af){console['error']('âŒ\x20Failed\x20to\x20start\x20server:',_0x5cb4af),process['exit'](0x1);}}process['on'](a45_0x5852fb(0x1e5),async()=>{const _0x1e8350=a45_0x5852fb;console[_0x1e8350(0x1c8)](_0x1e8350(0x1ad)),stopPaymentCleanupScheduler(),currencyService_1['currencyService']['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x1e8350(0x1ce)][_0x1e8350(0x1e9)](),domainMonitoringService_1['domainMonitoringService'][_0x1e8350(0x1c0)](),telegramBotService_1[_0x1e8350(0x1b8)]['stopBot'](),await database_1[_0x1e8350(0x1bf)][_0x1e8350(0x1c6)](),process[_0x1e8350(0x1d1)](0x0);}),process['on'](a45_0x5852fb(0x1e4),async()=>{const _0x5f1b2f=a45_0x5852fb;console['log']('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x5f1b2f(0x1d3)](),coinToPayStatusService_1['coinToPayStatusService'][_0x5f1b2f(0x1e9)](),domainMonitoringService_1[_0x5f1b2f(0x1dd)][_0x5f1b2f(0x1c0)](),telegramBotService_1[_0x5f1b2f(0x1b8)][_0x5f1b2f(0x1b7)](),await database_1['default'][_0x5f1b2f(0x1c6)](),process['exit'](0x0);}),startServer();