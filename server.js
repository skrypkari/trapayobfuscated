'use strict';const a49_0x801e85=a49_0x3d85;function a49_0x3d85(_0x2610cd,_0x38c43a){_0x2610cd=_0x2610cd-0x7a;const _0x3ae798=a49_0x3ae7();let _0x3d859e=_0x3ae798[_0x2610cd];return _0x3d859e;}(function(_0x752adb,_0x5e4364){const _0x18d5e1=a49_0x3d85,_0x3f39b9=_0x752adb();while(!![]){try{const _0xa62f10=-parseInt(_0x18d5e1(0x8e))/0x1*(-parseInt(_0x18d5e1(0x7f))/0x2)+parseInt(_0x18d5e1(0xad))/0x3+-parseInt(_0x18d5e1(0x8d))/0x4*(parseInt(_0x18d5e1(0xa9))/0x5)+-parseInt(_0x18d5e1(0x86))/0x6*(-parseInt(_0x18d5e1(0x7b))/0x7)+parseInt(_0x18d5e1(0x81))/0x8*(-parseInt(_0x18d5e1(0x94))/0x9)+parseInt(_0x18d5e1(0xaa))/0xa*(parseInt(_0x18d5e1(0x88))/0xb)+-parseInt(_0x18d5e1(0x9e))/0xc;if(_0xa62f10===_0x5e4364)break;else _0x3f39b9['push'](_0x3f39b9['shift']());}catch(_0x2b61cf){_0x3f39b9['push'](_0x3f39b9['shift']());}}}(a49_0x3ae7,0xe574f));var __importDefault=this&&this['__importDefault']||function(_0x404e91){const _0x5c3c0b=a49_0x3d85;return _0x404e91&&_0x404e91[_0x5c3c0b(0xa4)]?_0x404e91:{'default':_0x404e91};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const app_1=__importDefault(require(a49_0x801e85(0xa1))),config_1=require(a49_0x801e85(0x7a)),database_1=__importDefault(require(a49_0x801e85(0xb3))),telegramBotService_1=require(a49_0x801e85(0x8a)),currencyService_1=require(a49_0x801e85(0x90)),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require(a49_0x801e85(0xae)),paymentCleanupService_1=require(a49_0x801e85(0x8f));let paymentCleanupInterval=null;function a49_0x3ae7(){const _0x47a8b5=['127.1.1.159','__esModule','isActive','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','config','âŒ\x20Scheduled\x20cleanup\x20failed:','50RYRUQC','1580UqpkAl','startPeriodicStatusCheck','default','3354159ROZFkv','./services/domainMonitoringService','domainMonitoringService','getBotInfo','ðŸŒ\x20Environment:\x20','stopPeriodicStatusCheck','./config/database','runCleanupWithReport','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','ðŸ“Š\x20Health\x20check:\x20http://localhost:','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','exit','nodeEnv','stopBot','./config/config','406zFRJnt','listen','\x20hours','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','3143066fkQmoD','ðŸš€\x20Server\x20running\x20on\x20port\x20','496AayYKh','log','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','paymentCleanupService','67386ZqtscT','SIGINT','7073iUogGP','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','./services/telegramBotService','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','stopMonitoring','97788TSksva','1aJFOSg','./services/paymentCleanupService','./services/currencyService','currencyService','stopPeriodicUpdates','username','77859ImtTyC','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','\x20is\x20active','coinToPayStatusService','$disconnect','/api/health','âœ…\x20Telegram\x20bot\x20@','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','âŒ\x20Initial\x20cleanup\x20failed:','telegramBotService','20662692ztkLbV','âœ…\x20Database\x20connected\x20successfully','error','./app','port'];a49_0x3ae7=function(){return _0x47a8b5;};return a49_0x3ae7();}function startPaymentCleanupScheduler(){const _0x1d06a7=a49_0x801e85,_0x4638e4=0x18,_0x9ee08a=_0x4638e4*0x3c*0x3c*0x3e8;console[_0x1d06a7(0x82)](_0x1d06a7(0xb5)+_0x4638e4+_0x1d06a7(0x7d)),setTimeout(async()=>{const _0x3e9005=_0x1d06a7;console[_0x3e9005(0x82)](_0x3e9005(0xb7));try{await paymentCleanupService_1[_0x3e9005(0x85)][_0x3e9005(0xb4)](),console[_0x3e9005(0x82)](_0x3e9005(0x83));}catch(_0x2d5662){console[_0x3e9005(0xa0)](_0x3e9005(0x9c),_0x2d5662);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x519b45=_0x1d06a7;console[_0x519b45(0x82)](_0x519b45(0xa6));try{await paymentCleanupService_1[_0x519b45(0x85)][_0x519b45(0xb4)](),console['log'](_0x519b45(0x8b));}catch(_0x50727d){console['error'](_0x519b45(0xa8),_0x50727d);}},_0x9ee08a);}function stopPaymentCleanupScheduler(){const _0xbc942d=a49_0x801e85;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0xbc942d(0x95)));}async function startServer(){const _0x3999ae=a49_0x801e85;try{await database_1[_0x3999ae(0xac)]['$connect'](),console[_0x3999ae(0x82)](_0x3999ae(0x9f));const _0x4a45e2=telegramBotService_1['telegramBotService'][_0x3999ae(0xb0)]();_0x4a45e2[_0x3999ae(0xa5)]?console[_0x3999ae(0x82)](_0x3999ae(0x9a)+_0x4a45e2[_0x3999ae(0x93)]+_0x3999ae(0x96)):console[_0x3999ae(0x82)](_0x3999ae(0x7e));console[_0x3999ae(0x82)](_0x3999ae(0x84)),console['log']('ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...'),coinToPayStatusService_1[_0x3999ae(0x97)][_0x3999ae(0xab)](),console[_0x3999ae(0x82)]('ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...'),domainMonitoringService_1['domainMonitoringService']['startMonitoring'](),console[_0x3999ae(0x82)](_0x3999ae(0x89)),startPaymentCleanupScheduler();config_1[_0x3999ae(0xa7)][_0x3999ae(0xb9)]==='production'?app_1[_0x3999ae(0xac)]['listen'](config_1['config'][_0x3999ae(0xa2)],()=>{const _0x1ad1c3=_0x3999ae;console['log'](_0x1ad1c3(0x80)+config_1[_0x1ad1c3(0xa7)][_0x1ad1c3(0xa2)]),console['log'](_0x1ad1c3(0xb1)+config_1[_0x1ad1c3(0xa7)][_0x1ad1c3(0xb9)]);}):app_1['default'][_0x3999ae(0x7c)](config_1[_0x3999ae(0xa7)][_0x3999ae(0xa2)],_0x3999ae(0xa3),()=>{const _0x2df078=_0x3999ae;console[_0x2df078(0x82)](_0x2df078(0x80)+config_1['config'][_0x2df078(0xa2)]),console[_0x2df078(0x82)]('ðŸŒ\x20Environment:\x20'+config_1['config']['nodeEnv']),console[_0x2df078(0x82)](_0x2df078(0xb6)+config_1[_0x2df078(0xa7)][_0x2df078(0xa2)]+_0x2df078(0x99));});;}catch(_0x8371a8){console['error']('âŒ\x20Failed\x20to\x20start\x20server:',_0x8371a8),process[_0x3999ae(0xb8)](0x1);}}process['on'](a49_0x801e85(0x87),async()=>{const _0x477b2d=a49_0x801e85;console[_0x477b2d(0x82)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x477b2d(0x91)][_0x477b2d(0x92)](),coinToPayStatusService_1[_0x477b2d(0x97)][_0x477b2d(0xb2)](),domainMonitoringService_1[_0x477b2d(0xaf)][_0x477b2d(0x8c)](),telegramBotService_1[_0x477b2d(0x9d)][_0x477b2d(0xba)](),await database_1[_0x477b2d(0xac)]['$disconnect'](),process[_0x477b2d(0xb8)](0x0);}),process['on']('SIGTERM',async()=>{const _0x4f1d11=a49_0x801e85;console[_0x4f1d11(0x82)](_0x4f1d11(0x9b)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x4f1d11(0x92)](),coinToPayStatusService_1[_0x4f1d11(0x97)][_0x4f1d11(0xb2)](),domainMonitoringService_1[_0x4f1d11(0xaf)][_0x4f1d11(0x8c)](),telegramBotService_1[_0x4f1d11(0x9d)][_0x4f1d11(0xba)](),await database_1[_0x4f1d11(0xac)][_0x4f1d11(0x98)](),process[_0x4f1d11(0xb8)](0x0);}),startServer();