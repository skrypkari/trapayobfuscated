'use strict';const a39_0x2d6a9f=a39_0x19ff;(function(_0x45c030,_0x855531){const _0x918747=a39_0x19ff,_0x50ebe8=_0x45c030();while(!![]){try{const _0x393019=-parseInt(_0x918747(0xab))/0x1*(parseInt(_0x918747(0xaa))/0x2)+parseInt(_0x918747(0xcd))/0x3+-parseInt(_0x918747(0xa2))/0x4+-parseInt(_0x918747(0x9b))/0x5+-parseInt(_0x918747(0xcb))/0x6+-parseInt(_0x918747(0x9c))/0x7+parseInt(_0x918747(0xa8))/0x8*(parseInt(_0x918747(0xa7))/0x9);if(_0x393019===_0x855531)break;else _0x50ebe8['push'](_0x50ebe8['shift']());}catch(_0x5e513d){_0x50ebe8['push'](_0x50ebe8['shift']());}}}(a39_0x55da,0x3ee2c));var __importDefault=this&&this[a39_0x2d6a9f(0x96)]||function(_0x40b294){return _0x40b294&&_0x40b294['__esModule']?_0x40b294:{'default':_0x40b294};};Object[a39_0x2d6a9f(0xbc)](exports,a39_0x2d6a9f(0xc0),{'value':!![]});const app_1=__importDefault(require(a39_0x2d6a9f(0xa5))),config_1=require('./config/config'),database_1=__importDefault(require(a39_0x2d6a9f(0xc2))),telegramBotService_1=require(a39_0x2d6a9f(0xd4)),currencyService_1=require(a39_0x2d6a9f(0x9e)),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require(a39_0x2d6a9f(0xa0)),paymentCleanupService_1=require(a39_0x2d6a9f(0xb5));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x210ee6=a39_0x2d6a9f,_0x3e3e25=0x18,_0xc075bb=_0x3e3e25*0x3c*0x3c*0x3e8;console['log'](_0x210ee6(0xa6)+_0x3e3e25+_0x210ee6(0xb2)),setTimeout(async()=>{const _0x9b1e1b=_0x210ee6;console['log'](_0x9b1e1b(0x9f));try{await paymentCleanupService_1[_0x9b1e1b(0xac)][_0x9b1e1b(0xbb)](),console['log'](_0x9b1e1b(0xbd));}catch(_0x2e9ffa){console['error'](_0x9b1e1b(0xa4),_0x2e9ffa);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x507249=_0x210ee6;console['log']('🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0x507249(0xac)][_0x507249(0xbb)](),console[_0x507249(0xce)](_0x507249(0xd2));}catch(_0x21e75c){console['error'](_0x507249(0x97),_0x21e75c);}},_0xc075bb);}function stopPaymentCleanupScheduler(){const _0x11f737=a39_0x2d6a9f;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x11f737(0xce)]('🛑\x20Payment\x20cleanup\x20scheduler\x20stopped'));}function a39_0x55da(){const _0x1a2cb6=['exit','❌\x20Initial\x20cleanup\x20failed:','./app','🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','12561093SbNaBr','8tsLJAK','SIGTERM','6zHVVkK','86063VJrwFe','paymentCleanupService','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','\x0a🔄\x20Gracefully\x20shutting\x20down...','✅\x20Database\x20connected\x20successfully','config','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','\x20hours','🧹\x20Initializing\x20payment\x20cleanup\x20service...','/api/health','./services/paymentCleanupService','startPeriodicStatusCheck','username','✅\x20Telegram\x20bot\x20@','stopBot','🔍\x20Initializing\x20domain\x20monitoring\x20service...','runCleanupWithReport','defineProperty','✅\x20Initial\x20cleanup\x20completed\x20successfully','telegramBotService','📊\x20Health\x20check:\x20http://localhost:','__esModule','\x20is\x20active','./config/database','error','$disconnect','listen','🚀\x20Server\x20running\x20on\x20port\x20','currencyService','default','🌍\x20Environment:\x20','port','753558sxovMr','stopPeriodicUpdates','184611NDjkyN','log','domainMonitoringService','stopPeriodicStatusCheck','$connect','✅\x20Scheduled\x20cleanup\x20completed\x20successfully','❌\x20Failed\x20to\x20start\x20server:','./services/telegramBotService','coinToPayStatusService','__importDefault','❌\x20Scheduled\x20cleanup\x20failed:','getBotInfo','127.1.1.159','stopMonitoring','1548825LCRjyr','1858829gUBoFx','🔄\x20Initializing\x20currency\x20rates\x20service...','./services/currencyService','🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','./services/domainMonitoringService','nodeEnv','962160AOMnEG'];a39_0x55da=function(){return _0x1a2cb6;};return a39_0x55da();}function a39_0x19ff(_0x3a6c73,_0x2de031){const _0x55da14=a39_0x55da();return a39_0x19ff=function(_0x19ff46,_0x59928c){_0x19ff46=_0x19ff46-0x96;let _0x34c799=_0x55da14[_0x19ff46];return _0x34c799;},a39_0x19ff(_0x3a6c73,_0x2de031);}async function startServer(){const _0x529bda=a39_0x2d6a9f;try{await database_1['default'][_0x529bda(0xd1)](),console[_0x529bda(0xce)](_0x529bda(0xaf));const _0x1f1bc4=telegramBotService_1[_0x529bda(0xbe)][_0x529bda(0x98)]();_0x1f1bc4['isActive']?console[_0x529bda(0xce)](_0x529bda(0xb8)+_0x1f1bc4[_0x529bda(0xb7)]+_0x529bda(0xc1)):console['log'](_0x529bda(0xb1)),console['log'](_0x529bda(0x9d)),console[_0x529bda(0xce)](_0x529bda(0xad)),coinToPayStatusService_1[_0x529bda(0xd5)][_0x529bda(0xb6)](),console[_0x529bda(0xce)](_0x529bda(0xba)),domainMonitoringService_1[_0x529bda(0xcf)]['startMonitoring'](),console[_0x529bda(0xce)](_0x529bda(0xb3)),startPaymentCleanupScheduler(),app_1['default'][_0x529bda(0xc5)](config_1[_0x529bda(0xb0)][_0x529bda(0xca)],_0x529bda(0x99),()=>{const _0x1eb00d=_0x529bda;console[_0x1eb00d(0xce)](_0x1eb00d(0xc6)+config_1[_0x1eb00d(0xb0)][_0x1eb00d(0xca)]),console['log'](_0x1eb00d(0xc9)+config_1['config'][_0x1eb00d(0xa1)]),console[_0x1eb00d(0xce)](_0x1eb00d(0xbf)+config_1[_0x1eb00d(0xb0)][_0x1eb00d(0xca)]+_0x1eb00d(0xb4));});}catch(_0x248321){console[_0x529bda(0xc3)](_0x529bda(0xd3),_0x248321),process['exit'](0x1);}}process['on']('SIGINT',async()=>{const _0x204ae6=a39_0x2d6a9f;console['log'](_0x204ae6(0xae)),stopPaymentCleanupScheduler(),currencyService_1[_0x204ae6(0xc7)][_0x204ae6(0xcc)](),coinToPayStatusService_1[_0x204ae6(0xd5)][_0x204ae6(0xd0)](),domainMonitoringService_1[_0x204ae6(0xcf)][_0x204ae6(0x9a)](),telegramBotService_1['telegramBotService']['stopBot'](),await database_1[_0x204ae6(0xc8)]['$disconnect'](),process[_0x204ae6(0xa3)](0x0);}),process['on'](a39_0x2d6a9f(0xa9),async()=>{const _0x4fc095=a39_0x2d6a9f;console[_0x4fc095(0xce)](_0x4fc095(0xae)),stopPaymentCleanupScheduler(),currencyService_1[_0x4fc095(0xc7)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x4fc095(0xd5)][_0x4fc095(0xd0)](),domainMonitoringService_1[_0x4fc095(0xcf)][_0x4fc095(0x9a)](),telegramBotService_1[_0x4fc095(0xbe)][_0x4fc095(0xb9)](),await database_1['default'][_0x4fc095(0xc4)](),process[_0x4fc095(0xa3)](0x0);}),startServer();