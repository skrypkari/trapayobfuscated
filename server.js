'use strict';const a39_0xdb0574=a39_0x4dc2;(function(_0x27e4f0,_0x562b0a){const _0x5a40d4=a39_0x4dc2,_0x55ae1f=_0x27e4f0();while(!![]){try{const _0x4a362e=-parseInt(_0x5a40d4(0xac))/0x1+-parseInt(_0x5a40d4(0xcd))/0x2*(parseInt(_0x5a40d4(0xc5))/0x3)+-parseInt(_0x5a40d4(0xbb))/0x4*(parseInt(_0x5a40d4(0xa9))/0x5)+parseInt(_0x5a40d4(0xb2))/0x6+parseInt(_0x5a40d4(0xdc))/0x7*(parseInt(_0x5a40d4(0xe0))/0x8)+-parseInt(_0x5a40d4(0xb6))/0x9*(parseInt(_0x5a40d4(0xca))/0xa)+parseInt(_0x5a40d4(0xd5))/0xb;if(_0x4a362e===_0x562b0a)break;else _0x55ae1f['push'](_0x55ae1f['shift']());}catch(_0x4675c3){_0x55ae1f['push'](_0x55ae1f['shift']());}}}(a39_0x44a4,0xd6a1d));function a39_0x4dc2(_0x29d7c0,_0x56fbb4){const _0x44a4f7=a39_0x44a4();return a39_0x4dc2=function(_0x4dc2c0,_0x49c4d9){_0x4dc2c0=_0x4dc2c0-0xa6;let _0x506bbd=_0x44a4f7[_0x4dc2c0];return _0x506bbd;},a39_0x4dc2(_0x29d7c0,_0x56fbb4);}var __importDefault=this&&this[a39_0xdb0574(0xd8)]||function(_0x191ac4){const _0x1fe339=a39_0xdb0574;return _0x191ac4&&_0x191ac4[_0x1fe339(0xbe)]?_0x191ac4:{'default':_0x191ac4};};Object[a39_0xdb0574(0xb5)](exports,a39_0xdb0574(0xbe),{'value':!![]});const app_1=__importDefault(require(a39_0xdb0574(0xaf))),config_1=require(a39_0xdb0574(0xc7)),database_1=__importDefault(require(a39_0xdb0574(0xad))),telegramBotService_1=require('./services/telegramBotService'),currencyService_1=require(a39_0xdb0574(0xd4)),coinToPayStatusService_1=require(a39_0xdb0574(0xab)),domainMonitoringService_1=require(a39_0xdb0574(0xae)),paymentCleanupService_1=require(a39_0xdb0574(0xc9));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x11d560=a39_0xdb0574,_0x1f2870=0x18,_0x1d68d8=_0x1f2870*0x3c*0x3c*0x3e8;console[_0x11d560(0xbf)]('🕐\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x1f2870+_0x11d560(0xcb)),setTimeout(async()=>{const _0x5617b9=_0x11d560;console[_0x5617b9(0xbf)]('🧹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0x5617b9(0xa8)][_0x5617b9(0xb7)](),console['log'](_0x5617b9(0xda));}catch(_0x19be9d){console[_0x5617b9(0xb9)](_0x5617b9(0xe2),_0x19be9d);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x3c51db=_0x11d560;console['log'](_0x3c51db(0xdb));try{await paymentCleanupService_1[_0x3c51db(0xa8)][_0x3c51db(0xb7)](),console[_0x3c51db(0xbf)]('✅\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x3d2d97){console[_0x3c51db(0xb9)](_0x3c51db(0xd1),_0x3d2d97);}},_0x1d68d8);}function stopPaymentCleanupScheduler(){const _0x27a546=a39_0xdb0574;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0x27a546(0xbd)));}function a39_0x44a4(){const _0x5cdb78=['./app','\x0a🔄\x20Gracefully\x20shutting\x20down...','stopBot','3762132EvbjlI','getBotInfo','🌍\x20Environment:\x20','defineProperty','1917mzYZgD','runCleanupWithReport','$connect','error','currencyService','3468052WUCorm','🧹\x20Initializing\x20payment\x20cleanup\x20service...','🛑\x20Payment\x20cleanup\x20scheduler\x20stopped','__esModule','log','⚠️\x20Telegram\x20bot\x20is\x20not\x20configured','SIGINT','default','username','domainMonitoringService','185754WnulBj','\x20is\x20active','./config/config','isActive','./services/paymentCleanupService','66060EOwZSI','\x20hours','telegramBotService','6mPLCJB','listen','coinToPayStatusService','startPeriodicStatusCheck','❌\x20Scheduled\x20cleanup\x20failed:','stopMonitoring','exit','./services/currencyService','16532725ZKpKhP','🔍\x20Initializing\x20domain\x20monitoring\x20service...','🔄\x20Initializing\x20currency\x20rates\x20service...','__importDefault','config','✅\x20Initial\x20cleanup\x20completed\x20successfully','🧹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','57827eGlApv','SIGTERM','✅\x20Database\x20connected\x20successfully','$disconnect','1552pVLzVk','stopPeriodicUpdates','❌\x20Initial\x20cleanup\x20failed:','stopPeriodicStatusCheck','127.1.1.159','🪙\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','🚀\x20Server\x20running\x20on\x20port\x20','paymentCleanupService','5mliYHb','❌\x20Failed\x20to\x20start\x20server:','./services/coinToPayStatusService','393653AIxkiJ','./config/database','./services/domainMonitoringService'];a39_0x44a4=function(){return _0x5cdb78;};return a39_0x44a4();}async function startServer(){const _0xf30db8=a39_0xdb0574;try{await database_1[_0xf30db8(0xc2)][_0xf30db8(0xb8)](),console[_0xf30db8(0xbf)](_0xf30db8(0xde));const _0x50e435=telegramBotService_1['telegramBotService'][_0xf30db8(0xb3)]();_0x50e435[_0xf30db8(0xc8)]?console[_0xf30db8(0xbf)]('✅\x20Telegram\x20bot\x20@'+_0x50e435[_0xf30db8(0xc3)]+_0xf30db8(0xc6)):console[_0xf30db8(0xbf)](_0xf30db8(0xc0)),console['log'](_0xf30db8(0xd7)),console[_0xf30db8(0xbf)](_0xf30db8(0xa6)),coinToPayStatusService_1[_0xf30db8(0xcf)][_0xf30db8(0xd0)](),console[_0xf30db8(0xbf)](_0xf30db8(0xd6)),domainMonitoringService_1[_0xf30db8(0xc4)]['startMonitoring'](),console[_0xf30db8(0xbf)](_0xf30db8(0xbc)),startPaymentCleanupScheduler(),app_1[_0xf30db8(0xc2)][_0xf30db8(0xce)](config_1['config']['port'],_0xf30db8(0xe4),()=>{const _0x11813c=_0xf30db8;console[_0x11813c(0xbf)](_0x11813c(0xa7)+config_1[_0x11813c(0xd9)]['port']),console['log'](_0x11813c(0xb4)+config_1[_0x11813c(0xd9)]['nodeEnv']),console[_0x11813c(0xbf)]('📊\x20Health\x20check:\x20http://localhost:'+config_1[_0x11813c(0xd9)]['port']+'/api/health');});}catch(_0x4d522b){console['error'](_0xf30db8(0xaa),_0x4d522b),process[_0xf30db8(0xd3)](0x1);}}process['on'](a39_0xdb0574(0xc1),async()=>{const _0x572a75=a39_0xdb0574;console[_0x572a75(0xbf)]('\x0a🔄\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x572a75(0xba)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x572a75(0xcf)][_0x572a75(0xe3)](),domainMonitoringService_1[_0x572a75(0xc4)][_0x572a75(0xd2)](),telegramBotService_1[_0x572a75(0xcc)][_0x572a75(0xb1)](),await database_1[_0x572a75(0xc2)][_0x572a75(0xdf)](),process[_0x572a75(0xd3)](0x0);}),process['on'](a39_0xdb0574(0xdd),async()=>{const _0x5e90d4=a39_0xdb0574;console[_0x5e90d4(0xbf)](_0x5e90d4(0xb0)),stopPaymentCleanupScheduler(),currencyService_1[_0x5e90d4(0xba)][_0x5e90d4(0xe1)](),coinToPayStatusService_1[_0x5e90d4(0xcf)][_0x5e90d4(0xe3)](),domainMonitoringService_1[_0x5e90d4(0xc4)][_0x5e90d4(0xd2)](),telegramBotService_1[_0x5e90d4(0xcc)][_0x5e90d4(0xb1)](),await database_1[_0x5e90d4(0xc2)][_0x5e90d4(0xdf)](),process[_0x5e90d4(0xd3)](0x0);}),startServer();