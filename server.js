'use strict';const a45_0xe225f5=a45_0x304a;(function(_0x1bde38,_0x29325f){const _0x33bece=a45_0x304a,_0x34303c=_0x1bde38();while(!![]){try{const _0x307805=parseInt(_0x33bece(0xff))/0x1+-parseInt(_0x33bece(0x105))/0x2*(-parseInt(_0x33bece(0x102))/0x3)+-parseInt(_0x33bece(0xe9))/0x4*(parseInt(_0x33bece(0xcf))/0x5)+-parseInt(_0x33bece(0xd6))/0x6+-parseInt(_0x33bece(0xd9))/0x7*(-parseInt(_0x33bece(0x106))/0x8)+parseInt(_0x33bece(0xfd))/0x9+-parseInt(_0x33bece(0xdc))/0xa;if(_0x307805===_0x29325f)break;else _0x34303c['push'](_0x34303c['shift']());}catch(_0x45fd6b){_0x34303c['push'](_0x34303c['shift']());}}}(a45_0x410d,0x7d10a));function a45_0x410d(){const _0x1b040c=['ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','stopPeriodicStatusCheck','./services/telegramBotService','$disconnect','âœ…\x20Telegram\x20bot\x20@','error','./services/paymentCleanupService','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','\x20is\x20active','paymentCleanupService','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','8137701XJBdzN','stopMonitoring','11285Qhzosl','__importDefault','isActive','699201HztBJt','./services/domainMonitoringService','telegramBotService','8tcVxcJ','567128HZvZvv','./config/config','127.1.1.159','domainMonitoringService','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','80qTTtBv','nodeEnv','log','runCleanupWithReport','defineProperty','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','âŒ\x20Failed\x20to\x20start\x20server:','4566114TBbYcE','stopBot','exit','21NaMmOf','./services/coinToPayStatusService','stopPeriodicUpdates','7290820xeIqNW','$connect','ðŸš€\x20Server\x20running\x20on\x20port\x20','startMonitoring','ðŸŒ\x20Environment:\x20','âŒ\x20Scheduled\x20cleanup\x20failed:','listen','username','SIGTERM','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','config','./config/database','14512vxaeOi','default','/api/health','startPeriodicStatusCheck','port','coinToPayStatusService','currencyService','SIGINT','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...'];a45_0x410d=function(){return _0x1b040c;};return a45_0x410d();}var __importDefault=this&&this[a45_0xe225f5(0x100)]||function(_0x8a5254){return _0x8a5254&&_0x8a5254['__esModule']?_0x8a5254:{'default':_0x8a5254};};Object[a45_0xe225f5(0xd3)](exports,'__esModule',{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a45_0xe225f5(0x107)),database_1=__importDefault(require(a45_0xe225f5(0xe8))),telegramBotService_1=require(a45_0xe225f5(0xf4)),currencyService_1=require('./services/currencyService'),coinToPayStatusService_1=require(a45_0xe225f5(0xda)),domainMonitoringService_1=require(a45_0xe225f5(0x103)),paymentCleanupService_1=require(a45_0xe225f5(0xf8));function a45_0x304a(_0x323e7c,_0x2140ac){_0x323e7c=_0x323e7c-0xce;const _0x410de6=a45_0x410d();let _0x304a35=_0x410de6[_0x323e7c];return _0x304a35;}let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x191034=a45_0xe225f5,_0x32776f=0x18,_0x5a80d6=_0x32776f*0x3c*0x3c*0x3e8;console[_0x191034(0xd1)](_0x191034(0xf2)+_0x32776f+'\x20hours'),setTimeout(async()=>{const _0x4c68ac=_0x191034;console[_0x4c68ac(0xd1)]('ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0x4c68ac(0xfb)][_0x4c68ac(0xd2)](),console[_0x4c68ac(0xd1)](_0x4c68ac(0xd4));}catch(_0x28eac4){console['error']('âŒ\x20Initial\x20cleanup\x20failed:',_0x28eac4);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x3e5ea9=_0x191034;console['log']('ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1['paymentCleanupService'][_0x3e5ea9(0xd2)](),console['log'](_0x3e5ea9(0xe6));}catch(_0x37b492){console[_0x3e5ea9(0xf7)](_0x3e5ea9(0xe1),_0x37b492);}},_0x5a80d6);}function stopPaymentCleanupScheduler(){const _0x223396=a45_0xe225f5;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x223396(0xd1)](_0x223396(0xf9)));}async function startServer(){const _0x4a8f2a=a45_0xe225f5;try{await database_1[_0x4a8f2a(0xea)][_0x4a8f2a(0xdd)](),console[_0x4a8f2a(0xd1)]('âœ…\x20Database\x20connected\x20successfully');const _0x2dd835=telegramBotService_1[_0x4a8f2a(0x104)]['getBotInfo']();_0x2dd835[_0x4a8f2a(0x101)]?console[_0x4a8f2a(0xd1)](_0x4a8f2a(0xf6)+_0x2dd835[_0x4a8f2a(0xe3)]+_0x4a8f2a(0xfa)):console[_0x4a8f2a(0xd1)]('âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured'),console['log'](_0x4a8f2a(0xfc)),console[_0x4a8f2a(0xd1)](_0x4a8f2a(0xce)),coinToPayStatusService_1[_0x4a8f2a(0xee)][_0x4a8f2a(0xec)](),console[_0x4a8f2a(0xd1)](_0x4a8f2a(0xe5)),domainMonitoringService_1[_0x4a8f2a(0x109)][_0x4a8f2a(0xdf)](),console[_0x4a8f2a(0xd1)](_0x4a8f2a(0xf1)),startPaymentCleanupScheduler(),app_1[_0x4a8f2a(0xea)][_0x4a8f2a(0xe2)](config_1[_0x4a8f2a(0xe7)]['port'],_0x4a8f2a(0x108),()=>{const _0x10f3c6=_0x4a8f2a;console[_0x10f3c6(0xd1)](_0x10f3c6(0xde)+config_1['config'][_0x10f3c6(0xed)]),console['log'](_0x10f3c6(0xe0)+config_1[_0x10f3c6(0xe7)][_0x10f3c6(0xd0)]),console['log']('ðŸ“Š\x20Health\x20check:\x20http://localhost:'+config_1[_0x10f3c6(0xe7)][_0x10f3c6(0xed)]+_0x10f3c6(0xeb));});}catch(_0x2ab997){console['error'](_0x4a8f2a(0xd5),_0x2ab997),process['exit'](0x1);}}process['on'](a45_0xe225f5(0xf0),async()=>{const _0x32642b=a45_0xe225f5;console[_0x32642b(0xd1)](_0x32642b(0x10a)),stopPaymentCleanupScheduler(),currencyService_1[_0x32642b(0xef)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x32642b(0xee)][_0x32642b(0xf3)](),domainMonitoringService_1[_0x32642b(0x109)][_0x32642b(0xfe)](),telegramBotService_1[_0x32642b(0x104)][_0x32642b(0xd7)](),await database_1[_0x32642b(0xea)][_0x32642b(0xf5)](),process['exit'](0x0);}),process['on'](a45_0xe225f5(0xe4),async()=>{const _0xf3e19d=a45_0xe225f5;console['log'](_0xf3e19d(0x10a)),stopPaymentCleanupScheduler(),currencyService_1[_0xf3e19d(0xef)][_0xf3e19d(0xdb)](),coinToPayStatusService_1[_0xf3e19d(0xee)][_0xf3e19d(0xf3)](),domainMonitoringService_1[_0xf3e19d(0x109)]['stopMonitoring'](),telegramBotService_1[_0xf3e19d(0x104)][_0xf3e19d(0xd7)](),await database_1[_0xf3e19d(0xea)]['$disconnect'](),process[_0xf3e19d(0xd8)](0x0);}),startServer();