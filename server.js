'use strict';const a47_0x86159d=a47_0x5015;(function(_0x5506a0,_0x4aedee){const _0x44355d=a47_0x5015,_0x16d706=_0x5506a0();while(!![]){try{const _0x5878d4=parseInt(_0x44355d(0xf6))/0x1+-parseInt(_0x44355d(0xf4))/0x2+-parseInt(_0x44355d(0x108))/0x3+parseInt(_0x44355d(0xd0))/0x4+-parseInt(_0x44355d(0xe8))/0x5*(parseInt(_0x44355d(0xcf))/0x6)+parseInt(_0x44355d(0xf5))/0x7*(-parseInt(_0x44355d(0x105))/0x8)+parseInt(_0x44355d(0xe7))/0x9;if(_0x5878d4===_0x4aedee)break;else _0x16d706['push'](_0x16d706['shift']());}catch(_0xa3450f){_0x16d706['push'](_0x16d706['shift']());}}}(a47_0xab03,0xdd4e3));var __importDefault=this&&this[a47_0x86159d(0xfc)]||function(_0x34936e){const _0x102765=a47_0x86159d;return _0x34936e&&_0x34936e[_0x102765(0xf2)]?_0x34936e:{'default':_0x34936e};};Object[a47_0x86159d(0xd8)](exports,a47_0x86159d(0xf2),{'value':!![]});const app_1=__importDefault(require(a47_0x86159d(0xd7))),config_1=require('./config/config'),database_1=__importDefault(require(a47_0x86159d(0x103))),telegramBotService_1=require(a47_0x86159d(0x100)),currencyService_1=require(a47_0x86159d(0xd3)),coinToPayStatusService_1=require('./services/coinToPayStatusService'),domainMonitoringService_1=require(a47_0x86159d(0xe5)),paymentCleanupService_1=require('./services/paymentCleanupService');let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x21ef65=a47_0x86159d,_0x39eeef=0x18,_0x3b53f8=_0x39eeef*0x3c*0x3c*0x3e8;console[_0x21ef65(0xef)](_0x21ef65(0xe4)+_0x39eeef+_0x21ef65(0x107)),setTimeout(async()=>{const _0x19d368=_0x21ef65;console['log']('ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1['paymentCleanupService']['runCleanupWithReport'](),console[_0x19d368(0xef)]('âœ…\x20Initial\x20cleanup\x20completed\x20successfully');}catch(_0x20c1fb){console[_0x19d368(0xfd)]('âŒ\x20Initial\x20cleanup\x20failed:',_0x20c1fb);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x187191=_0x21ef65;console['log'](_0x187191(0xd1));try{await paymentCleanupService_1[_0x187191(0xe3)][_0x187191(0x101)](),console['log'](_0x187191(0xd2));}catch(_0x2ad3b8){console['error'](_0x187191(0x102),_0x2ad3b8);}},_0x3b53f8);}function stopPaymentCleanupScheduler(){const _0x2446c3=a47_0x86159d;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x2446c3(0xef)](_0x2446c3(0xe1)));}function a47_0xab03(){const _0x51ce9b=['isActive','ðŸ“Š\x20Health\x20check:\x20http://localhost:','nodeEnv','domainMonitoringService','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','log','âŒ\x20Failed\x20to\x20start\x20server:','SIGINT','__esModule','username','2195264PlofCP','49fAWJeE','20506zpRhEc','startPeriodicStatusCheck','production','âœ…\x20Telegram\x20bot\x20@','coinToPayStatusService','ðŸš€\x20Server\x20running\x20on\x20port\x20','__importDefault','error','config','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','./services/telegramBotService','runCleanupWithReport','âŒ\x20Scheduled\x20cleanup\x20failed:','./config/database','telegramBotService','1267512EeKMwT','stopPeriodicUpdates','\x20hours','3552222EkPFpo','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','655518kRYwcP','92180qRqujU','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','./services/currencyService','stopBot','default','listen','./app','defineProperty','stopPeriodicStatusCheck','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','$connect','ðŸŒ\x20Environment:\x20','stopMonitoring','SIGTERM','port','âœ…\x20Database\x20connected\x20successfully','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','$disconnect','paymentCleanupService','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','./services/domainMonitoringService','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','50082579zaGSpH','60WATwNf','exit'];a47_0xab03=function(){return _0x51ce9b;};return a47_0xab03();}async function startServer(){const _0x399912=a47_0x86159d;try{await database_1[_0x399912(0xd5)][_0x399912(0xdb)](),console[_0x399912(0xef)](_0x399912(0xe0));const _0x1ea944=telegramBotService_1['telegramBotService']['getBotInfo']();_0x1ea944[_0x399912(0xea)]?console[_0x399912(0xef)](_0x399912(0xf9)+_0x1ea944[_0x399912(0xf3)]+'\x20is\x20active'):console['log'](_0x399912(0xee));console[_0x399912(0xef)](_0x399912(0xff)),console[_0x399912(0xef)](_0x399912(0xe6)),coinToPayStatusService_1[_0x399912(0xfa)][_0x399912(0xf7)](),console[_0x399912(0xef)](_0x399912(0xda)),domainMonitoringService_1[_0x399912(0xed)]['startMonitoring'](),console['log']('ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...'),startPaymentCleanupScheduler();config_1[_0x399912(0xfe)]['nodeEnv']===_0x399912(0xf8)?app_1[_0x399912(0xd5)]['listen'](config_1['config'][_0x399912(0xdf)],()=>{const _0xccadee=_0x399912;console['log'](_0xccadee(0xfb)+config_1[_0xccadee(0xfe)][_0xccadee(0xdf)]),console[_0xccadee(0xef)](_0xccadee(0xdc)+config_1['config'][_0xccadee(0xec)]);}):app_1[_0x399912(0xd5)][_0x399912(0xd6)](config_1[_0x399912(0xfe)]['port'],'127.1.1.159',()=>{const _0x3dab96=_0x399912;console[_0x3dab96(0xef)](_0x3dab96(0xfb)+config_1[_0x3dab96(0xfe)][_0x3dab96(0xdf)]),console[_0x3dab96(0xef)](_0x3dab96(0xdc)+config_1[_0x3dab96(0xfe)][_0x3dab96(0xec)]),console['log'](_0x3dab96(0xeb)+config_1[_0x3dab96(0xfe)][_0x3dab96(0xdf)]+'/api/health');});;}catch(_0x3fc729){console['error'](_0x399912(0xf0),_0x3fc729),process[_0x399912(0xe9)](0x1);}}function a47_0x5015(_0x5e8cbd,_0xc2c2dd){_0x5e8cbd=_0x5e8cbd-0xcf;const _0xab0305=a47_0xab03();let _0x5015e3=_0xab0305[_0x5e8cbd];return _0x5015e3;}process['on'](a47_0x86159d(0xf1),async()=>{const _0x574081=a47_0x86159d;console[_0x574081(0xef)](_0x574081(0x109)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x574081(0x106)](),coinToPayStatusService_1[_0x574081(0xfa)][_0x574081(0xd9)](),domainMonitoringService_1[_0x574081(0xed)][_0x574081(0xdd)](),telegramBotService_1[_0x574081(0x104)][_0x574081(0xd4)](),await database_1['default'][_0x574081(0xe2)](),process[_0x574081(0xe9)](0x0);}),process['on'](a47_0x86159d(0xde),async()=>{const _0x1f26d7=a47_0x86159d;console[_0x1f26d7(0xef)](_0x1f26d7(0x109)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x1f26d7(0x106)](),coinToPayStatusService_1[_0x1f26d7(0xfa)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x1f26d7(0xed)][_0x1f26d7(0xdd)](),telegramBotService_1[_0x1f26d7(0x104)][_0x1f26d7(0xd4)](),await database_1[_0x1f26d7(0xd5)][_0x1f26d7(0xe2)](),process[_0x1f26d7(0xe9)](0x0);}),startServer();