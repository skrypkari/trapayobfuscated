'use strict';function a45_0x16bd(_0x2338e6,_0x597a98){_0x2338e6=_0x2338e6-0x10b;const _0x4a3979=a45_0x4a39();let _0x16bd93=_0x4a3979[_0x2338e6];return _0x16bd93;}const a45_0x591d93=a45_0x16bd;(function(_0x15f782,_0x135bc6){const _0x437893=a45_0x16bd,_0x2796a2=_0x15f782();while(!![]){try{const _0x39a6e5=parseInt(_0x437893(0x120))/0x1*(parseInt(_0x437893(0x134))/0x2)+-parseInt(_0x437893(0x132))/0x3*(-parseInt(_0x437893(0x10b))/0x4)+-parseInt(_0x437893(0x127))/0x5*(-parseInt(_0x437893(0x124))/0x6)+parseInt(_0x437893(0x13b))/0x7+parseInt(_0x437893(0x12f))/0x8+parseInt(_0x437893(0x126))/0x9*(parseInt(_0x437893(0x116))/0xa)+parseInt(_0x437893(0x12d))/0xb*(-parseInt(_0x437893(0x136))/0xc);if(_0x39a6e5===_0x135bc6)break;else _0x2796a2['push'](_0x2796a2['shift']());}catch(_0x18e535){_0x2796a2['push'](_0x2796a2['shift']());}}}(a45_0x4a39,0xcd244));var __importDefault=this&&this[a45_0x591d93(0x113)]||function(_0x3ec0aa){const _0x1182c4=a45_0x591d93;return _0x3ec0aa&&_0x3ec0aa[_0x1182c4(0x112)]?_0x3ec0aa:{'default':_0x3ec0aa};};Object[a45_0x591d93(0x128)](exports,'__esModule',{'value':!![]});const app_1=__importDefault(require(a45_0x591d93(0x145))),config_1=require(a45_0x591d93(0x10d)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a45_0x591d93(0x139)),currencyService_1=require('./services/currencyService'),coinToPayStatusService_1=require(a45_0x591d93(0x12a)),domainMonitoringService_1=require('./services/domainMonitoringService'),paymentCleanupService_1=require(a45_0x591d93(0x125));let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x46bcec=a45_0x591d93,_0x1cbdae=0x18,_0x3c8748=_0x1cbdae*0x3c*0x3c*0x3e8;console[_0x46bcec(0x119)]('üïê\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x1cbdae+'\x20hours'),setTimeout(async()=>{const _0x150810=_0x46bcec;console[_0x150810(0x119)](_0x150810(0x11c));try{await paymentCleanupService_1['paymentCleanupService'][_0x150810(0x12b)](),console[_0x150810(0x119)](_0x150810(0x121));}catch(_0x3892fc){console['error']('‚ùå\x20Initial\x20cleanup\x20failed:',_0x3892fc);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x5d5b4d=_0x46bcec;console[_0x5d5b4d(0x119)]('üßπ\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0x5d5b4d(0x110)][_0x5d5b4d(0x12b)](),console[_0x5d5b4d(0x119)]('‚úÖ\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x5084f0){console[_0x5d5b4d(0x118)](_0x5d5b4d(0x11a),_0x5084f0);}},_0x3c8748);}function stopPaymentCleanupScheduler(){const _0xf91aec=a45_0x591d93;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console['log'](_0xf91aec(0x131)));}async function startServer(){const _0x1f192a=a45_0x591d93;try{await database_1[_0x1f192a(0x137)][_0x1f192a(0x11f)](),console[_0x1f192a(0x119)]('‚úÖ\x20Database\x20connected\x20successfully');const _0x32717b=telegramBotService_1[_0x1f192a(0x142)][_0x1f192a(0x12e)]();_0x32717b['isActive']?console[_0x1f192a(0x119)](_0x1f192a(0x144)+_0x32717b[_0x1f192a(0x135)]+_0x1f192a(0x133)):console[_0x1f192a(0x119)](_0x1f192a(0x141));console[_0x1f192a(0x119)](_0x1f192a(0x13e)),console['log'](_0x1f192a(0x13c)),coinToPayStatusService_1[_0x1f192a(0x123)]['startPeriodicStatusCheck'](),console[_0x1f192a(0x119)](_0x1f192a(0x117)),domainMonitoringService_1[_0x1f192a(0x122)]['startMonitoring'](),console['log'](_0x1f192a(0x10c)),startPaymentCleanupScheduler();config_1[_0x1f192a(0x143)][_0x1f192a(0x13f)]==='production'?app_1[_0x1f192a(0x137)][_0x1f192a(0x130)](config_1['config'][_0x1f192a(0x129)],()=>{const _0x33c597=_0x1f192a;console[_0x33c597(0x119)]('üöÄ\x20Server\x20running\x20on\x20port\x20'+config_1['config'][_0x33c597(0x129)]),console[_0x33c597(0x119)](_0x33c597(0x13d)+config_1[_0x33c597(0x143)]['nodeEnv']);}):app_1['default']['listen'](config_1['config']['port'],_0x1f192a(0x11e),()=>{const _0x1b178f=_0x1f192a;console[_0x1b178f(0x119)]('üöÄ\x20Server\x20running\x20on\x20port\x20'+config_1['config'][_0x1b178f(0x129)]),console[_0x1b178f(0x119)](_0x1b178f(0x13d)+config_1[_0x1b178f(0x143)][_0x1b178f(0x13f)]),console[_0x1b178f(0x119)](_0x1b178f(0x140)+config_1[_0x1b178f(0x143)][_0x1b178f(0x129)]+'/api/health');});;}catch(_0x5275a6){console[_0x1f192a(0x118)](_0x1f192a(0x115),_0x5275a6),process['exit'](0x1);}}process['on'](a45_0x591d93(0x114),async()=>{const _0x2e4d32=a45_0x591d93;console[_0x2e4d32(0x119)]('\x0aüîÑ\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x2e4d32(0x13a)](),coinToPayStatusService_1[_0x2e4d32(0x123)][_0x2e4d32(0x11b)](),domainMonitoringService_1[_0x2e4d32(0x122)][_0x2e4d32(0x11d)](),telegramBotService_1[_0x2e4d32(0x142)][_0x2e4d32(0x10f)](),await database_1['default']['$disconnect'](),process[_0x2e4d32(0x111)](0x0);}),process['on'](a45_0x591d93(0x138),async()=>{const _0x32922f=a45_0x591d93;console['log']('\x0aüîÑ\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x32922f(0x12c)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x32922f(0x123)]['stopPeriodicStatusCheck'](),domainMonitoringService_1['domainMonitoringService']['stopMonitoring'](),telegramBotService_1[_0x32922f(0x142)][_0x32922f(0x10f)](),await database_1['default'][_0x32922f(0x10e)](),process['exit'](0x0);}),startServer();function a45_0x4a39(){const _0x4e7d7e=['543938SOSYVR','username','12533340tMGABD','default','SIGTERM','./services/telegramBotService','stopPeriodicUpdates','7333543eLNFxW','ü™ô\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','üåç\x20Environment:\x20','üîÑ\x20Initializing\x20currency\x20rates\x20service...','nodeEnv','üìä\x20Health\x20check:\x20http://localhost:','‚ö†Ô∏è\x20Telegram\x20bot\x20is\x20not\x20configured','telegramBotService','config','‚úÖ\x20Telegram\x20bot\x20@','./app','12676voboFE','üßπ\x20Initializing\x20payment\x20cleanup\x20service...','./config/config','$disconnect','stopBot','paymentCleanupService','exit','__esModule','__importDefault','SIGINT','‚ùå\x20Failed\x20to\x20start\x20server:','11200cuvOuC','üîç\x20Initializing\x20domain\x20monitoring\x20service...','error','log','‚ùå\x20Scheduled\x20cleanup\x20failed:','stopPeriodicStatusCheck','üßπ\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','stopMonitoring','127.1.1.159','$connect','3fgcEcA','‚úÖ\x20Initial\x20cleanup\x20completed\x20successfully','domainMonitoringService','coinToPayStatusService','1756434nIXFSs','./services/paymentCleanupService','6030rBRIAl','25OsxWGS','defineProperty','port','./services/coinToPayStatusService','runCleanupWithReport','currencyService','55bFsbxK','getBotInfo','7056176KOmHsS','listen','üõë\x20Payment\x20cleanup\x20scheduler\x20stopped','1044DoMkJI','\x20is\x20active'];a45_0x4a39=function(){return _0x4e7d7e;};return a45_0x4a39();}