'use strict';function a51_0x4fb7(){const _0x335e79=['105319rIzPGB','./config/config','telegramBotService','âŒ\x20Initial\x20cleanup\x20failed:','runCleanupWithReport','\x20is\x20active','âœ…\x20Database\x20connected\x20successfully','stopBot','./services/telegramBotService','SIGINT','exit','currencyService','error','config','coinToPayStatusService','./services/currencyService','paymentCleanupService','âŒ\x20Scheduled\x20cleanup\x20failed:','stopPeriodicUpdates','\x20hours','592669ojZwcF','log','getBotInfo','nodeEnv','2605908edKMrm','./services/coinToPayStatusService','ðŸŒ\x20Environment:\x20','10qiikQj','âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','18lMPqwg','$disconnect','defineProperty','âŒ\x20Failed\x20to\x20start\x20server:','production','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','225ldAlHn','stopPeriodicStatusCheck','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','domainMonitoringService','SIGTERM','3062529wsGSHg','ðŸš€\x20Server\x20running\x20on\x20port\x20','__importDefault','ðŸ“Š\x20Health\x20check:\x20http://localhost:','./services/domainMonitoringService','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','127.1.1.159','isActive','__esModule','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','stopMonitoring','default','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','52852GeFsLe','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','startMonitoring','username','3014970fFabLt','/api/health','ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','listen','3344136oQJyZM'];a51_0x4fb7=function(){return _0x335e79;};return a51_0x4fb7();}const a51_0x20c680=a51_0x56fc;(function(_0x12994d,_0x1fe8a7){const _0xb92b7f=a51_0x56fc,_0x5d1b9c=_0x12994d();while(!![]){try{const _0x15c479=-parseInt(_0xb92b7f(0x1ca))/0x1*(-parseInt(_0xb92b7f(0x1a8))/0x2)+parseInt(_0xb92b7f(0x1ae))/0x3*(-parseInt(_0xb92b7f(0x1c1))/0x4)+-parseInt(_0xb92b7f(0x1a5))/0x5*(-parseInt(_0xb92b7f(0x1a2))/0x6)+-parseInt(_0xb92b7f(0x19e))/0x7+parseInt(_0xb92b7f(0x1c9))/0x8+-parseInt(_0xb92b7f(0x1b4))/0x9+-parseInt(_0xb92b7f(0x1c5))/0xa;if(_0x15c479===_0x1fe8a7)break;else _0x5d1b9c['push'](_0x5d1b9c['shift']());}catch(_0x5846d3){_0x5d1b9c['push'](_0x5d1b9c['shift']());}}}(a51_0x4fb7,0x7e3f0));var __importDefault=this&&this[a51_0x20c680(0x1b6)]||function(_0xbd2c8e){return _0xbd2c8e&&_0xbd2c8e['__esModule']?_0xbd2c8e:{'default':_0xbd2c8e};};Object[a51_0x20c680(0x1aa)](exports,a51_0x20c680(0x1bc),{'value':!![]});const app_1=__importDefault(require('./app')),config_1=require(a51_0x20c680(0x1cb)),database_1=__importDefault(require('./config/database')),telegramBotService_1=require(a51_0x20c680(0x192)),currencyService_1=require(a51_0x20c680(0x199)),coinToPayStatusService_1=require(a51_0x20c680(0x1a3)),domainMonitoringService_1=require(a51_0x20c680(0x1b8)),paymentCleanupService_1=require('./services/paymentCleanupService');let paymentCleanupInterval=null;function a51_0x56fc(_0x5bcf2a,_0x57b5ae){_0x5bcf2a=_0x5bcf2a-0x191;const _0x4fb728=a51_0x4fb7();let _0x56fc3f=_0x4fb728[_0x5bcf2a];return _0x56fc3f;}function startPaymentCleanupScheduler(){const _0x118fc2=a51_0x20c680,_0x486fbc=0x18,_0x1eed1f=_0x486fbc*0x3c*0x3c*0x3e8;console[_0x118fc2(0x19f)]('ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20'+_0x486fbc+_0x118fc2(0x19d)),setTimeout(async()=>{const _0x2b31b6=_0x118fc2;console[_0x2b31b6(0x19f)](_0x2b31b6(0x1c7));try{await paymentCleanupService_1[_0x2b31b6(0x19a)][_0x2b31b6(0x1ce)](),console[_0x2b31b6(0x19f)](_0x2b31b6(0x1a7));}catch(_0x2f4478){console['error'](_0x2b31b6(0x1cd),_0x2f4478);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x3c9b4b=_0x118fc2;console[_0x3c9b4b(0x19f)](_0x3c9b4b(0x1c2));try{await paymentCleanupService_1['paymentCleanupService'][_0x3c9b4b(0x1ce)](),console[_0x3c9b4b(0x19f)](_0x3c9b4b(0x1a6));}catch(_0x3f12dc){console['error'](_0x3c9b4b(0x19b),_0x3f12dc);}},_0x1eed1f);}function stopPaymentCleanupScheduler(){const _0x38d67b=a51_0x20c680;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0x38d67b(0x19f)]('ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped'));}async function startServer(){const _0x59ac50=a51_0x20c680;try{await database_1['default']['$connect'](),console['log'](_0x59ac50(0x1d0));const _0x2aff2b=telegramBotService_1[_0x59ac50(0x1cc)][_0x59ac50(0x1a0)]();_0x2aff2b[_0x59ac50(0x1bb)]?console[_0x59ac50(0x19f)]('âœ…\x20Telegram\x20bot\x20@'+_0x2aff2b[_0x59ac50(0x1c4)]+_0x59ac50(0x1cf)):console['log'](_0x59ac50(0x1c0));console[_0x59ac50(0x19f)](_0x59ac50(0x1bd)),console[_0x59ac50(0x19f)](_0x59ac50(0x1b1)),coinToPayStatusService_1[_0x59ac50(0x198)]['startPeriodicStatusCheck'](),console[_0x59ac50(0x19f)](_0x59ac50(0x1b9)),domainMonitoringService_1[_0x59ac50(0x1b2)][_0x59ac50(0x1c3)](),console[_0x59ac50(0x19f)](_0x59ac50(0x1ad)),startPaymentCleanupScheduler();config_1[_0x59ac50(0x197)][_0x59ac50(0x1a1)]===_0x59ac50(0x1ac)?app_1[_0x59ac50(0x1bf)]['listen'](config_1['config']['port'],()=>{const _0x4fbe45=_0x59ac50;console['log'](_0x4fbe45(0x1b5)+config_1[_0x4fbe45(0x197)]['port']),console[_0x4fbe45(0x19f)](_0x4fbe45(0x1a4)+config_1[_0x4fbe45(0x197)][_0x4fbe45(0x1a1)]);}):app_1[_0x59ac50(0x1bf)][_0x59ac50(0x1c8)](config_1[_0x59ac50(0x197)]['port'],_0x59ac50(0x1ba),()=>{const _0x39e1c1=_0x59ac50;console[_0x39e1c1(0x19f)]('ðŸš€\x20Server\x20running\x20on\x20port\x20'+config_1[_0x39e1c1(0x197)]['port']),console['log'](_0x39e1c1(0x1a4)+config_1[_0x39e1c1(0x197)]['nodeEnv']),console[_0x39e1c1(0x19f)](_0x39e1c1(0x1b7)+config_1[_0x39e1c1(0x197)]['port']+_0x39e1c1(0x1c6));});;}catch(_0x40333f){console[_0x59ac50(0x196)](_0x59ac50(0x1ab),_0x40333f),process[_0x59ac50(0x194)](0x1);}}process['on'](a51_0x20c680(0x193),async()=>{const _0x4f7a8f=a51_0x20c680;console[_0x4f7a8f(0x19f)](_0x4f7a8f(0x1b0)),stopPaymentCleanupScheduler(),currencyService_1[_0x4f7a8f(0x195)]['stopPeriodicUpdates'](),coinToPayStatusService_1[_0x4f7a8f(0x198)][_0x4f7a8f(0x1af)](),domainMonitoringService_1[_0x4f7a8f(0x1b2)][_0x4f7a8f(0x1be)](),telegramBotService_1['telegramBotService'][_0x4f7a8f(0x191)](),await database_1['default'][_0x4f7a8f(0x1a9)](),process[_0x4f7a8f(0x194)](0x0);}),process['on'](a51_0x20c680(0x1b3),async()=>{const _0x1ff953=a51_0x20c680;console['log'](_0x1ff953(0x1b0)),stopPaymentCleanupScheduler(),currencyService_1['currencyService'][_0x1ff953(0x19c)](),coinToPayStatusService_1['coinToPayStatusService'][_0x1ff953(0x1af)](),domainMonitoringService_1['domainMonitoringService'][_0x1ff953(0x1be)](),telegramBotService_1[_0x1ff953(0x1cc)][_0x1ff953(0x191)](),await database_1[_0x1ff953(0x1bf)][_0x1ff953(0x1a9)](),process[_0x1ff953(0x194)](0x0);}),startServer();