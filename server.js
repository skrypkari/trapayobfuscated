'use strict';function a51_0xb2e7(_0x260b6b,_0x3bf4fe){_0x260b6b=_0x260b6b-0x163;const _0x492c57=a51_0x492c();let _0xb2e7ef=_0x492c57[_0x260b6b];return _0xb2e7ef;}const a51_0x52dbd4=a51_0xb2e7;(function(_0x209fce,_0x3c2856){const _0x3e5f06=a51_0xb2e7,_0x1c9ff7=_0x209fce();while(!![]){try{const _0xfeec3a=parseInt(_0x3e5f06(0x19d))/0x1*(-parseInt(_0x3e5f06(0x183))/0x2)+parseInt(_0x3e5f06(0x179))/0x3+parseInt(_0x3e5f06(0x17a))/0x4*(parseInt(_0x3e5f06(0x174))/0x5)+-parseInt(_0x3e5f06(0x18a))/0x6*(-parseInt(_0x3e5f06(0x197))/0x7)+parseInt(_0x3e5f06(0x18e))/0x8*(parseInt(_0x3e5f06(0x175))/0x9)+parseInt(_0x3e5f06(0x170))/0xa+parseInt(_0x3e5f06(0x18c))/0xb*(-parseInt(_0x3e5f06(0x167))/0xc);if(_0xfeec3a===_0x3c2856)break;else _0x1c9ff7['push'](_0x1c9ff7['shift']());}catch(_0x10c2a5){_0x1c9ff7['push'](_0x1c9ff7['shift']());}}}(a51_0x492c,0x8b4fb));var __importDefault=this&&this['__importDefault']||function(_0x2ffd90){const _0x47919f=a51_0xb2e7;return _0x2ffd90&&_0x2ffd90[_0x47919f(0x17c)]?_0x2ffd90:{'default':_0x2ffd90};};Object[a51_0x52dbd4(0x186)](exports,a51_0x52dbd4(0x17c),{'value':!![]});const app_1=__importDefault(require(a51_0x52dbd4(0x1a1))),config_1=require(a51_0x52dbd4(0x17d)),database_1=__importDefault(require(a51_0x52dbd4(0x17e))),telegramBotService_1=require(a51_0x52dbd4(0x187)),currencyService_1=require(a51_0x52dbd4(0x171)),coinToPayStatusService_1=require(a51_0x52dbd4(0x16b)),domainMonitoringService_1=require(a51_0x52dbd4(0x193)),paymentCleanupService_1=require(a51_0x52dbd4(0x188));function a51_0x492c(){const _0x1474b6=['âœ…\x20Database\x20connected\x20successfully','stopPeriodicUpdates','5CfvaPa','9TMbyUY','stopPeriodicStatusCheck','SIGINT','ðŸ§¹\x20Running\x20scheduled\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...','3270504uSwasn','235132NzAsPk','\x20is\x20active','__esModule','./config/config','./config/database','ðŸŒ\x20Environment:\x20','runCleanupWithReport','ðŸª™\x20Initializing\x20CoinToPay\x20status\x20checking\x20service...','/api/health','2lOJQDb','paymentCleanupService','listen','defineProperty','./services/telegramBotService','./services/paymentCleanupService','âœ…\x20Telegram\x20bot\x20@','5196726YuGVzH','ðŸ›‘\x20Payment\x20cleanup\x20scheduler\x20stopped','440Mkknwk','port','1357096YwTzkk','getBotInfo','âŒ\x20Initial\x20cleanup\x20failed:','ðŸ“Š\x20Health\x20check:\x20http://localhost:','coinToPayStatusService','./services/domainMonitoringService','\x20hours','nodeEnv','error','7ZFfhdK','âš ï¸\x20Telegram\x20bot\x20is\x20not\x20configured','âŒ\x20Failed\x20to\x20start\x20server:','âœ…\x20Initial\x20cleanup\x20completed\x20successfully','âŒ\x20Scheduled\x20cleanup\x20failed:','telegramBotService','945946pyOdQf','ðŸ§¹\x20Initializing\x20payment\x20cleanup\x20service...','default','ðŸ•\x20Payment\x20cleanup\x20scheduled\x20to\x20run\x20every\x20','./app','\x0aðŸ”„\x20Gracefully\x20shutting\x20down...','stopMonitoring','ðŸš€\x20Server\x20running\x20on\x20port\x20','isActive','startPeriodicStatusCheck','stopBot','domainMonitoringService','startMonitoring','currencyService','323484gWbuWH','ðŸ”„\x20Initializing\x20currency\x20rates\x20service...','config','SIGTERM','./services/coinToPayStatusService','exit','username','log','ðŸ”\x20Initializing\x20domain\x20monitoring\x20service...','4101360bnECTB','./services/currencyService'];a51_0x492c=function(){return _0x1474b6;};return a51_0x492c();}let paymentCleanupInterval=null;function startPaymentCleanupScheduler(){const _0x27f329=a51_0x52dbd4,_0xe7b9c8=0x18,_0x4f0d8c=_0xe7b9c8*0x3c*0x3c*0x3e8;console['log'](_0x27f329(0x1a0)+_0xe7b9c8+_0x27f329(0x194)),setTimeout(async()=>{const _0x96a750=_0x27f329;console[_0x96a750(0x16e)]('ðŸ§¹\x20Running\x20initial\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)...');try{await paymentCleanupService_1[_0x96a750(0x184)]['runCleanupWithReport'](),console[_0x96a750(0x16e)](_0x96a750(0x19a));}catch(_0x997d0f){console[_0x96a750(0x196)](_0x96a750(0x190),_0x997d0f);}},0x5*0x3c*0x3e8),paymentCleanupInterval=setInterval(async()=>{const _0x4943b2=_0x27f329;console[_0x4943b2(0x16e)](_0x4943b2(0x178));try{await paymentCleanupService_1['paymentCleanupService'][_0x4943b2(0x180)](),console['log']('âœ…\x20Scheduled\x20cleanup\x20completed\x20successfully');}catch(_0x3e9152){console[_0x4943b2(0x196)](_0x4943b2(0x19b),_0x3e9152);}},_0x4f0d8c);}function stopPaymentCleanupScheduler(){const _0xa476b4=a51_0x52dbd4;paymentCleanupInterval&&(clearInterval(paymentCleanupInterval),paymentCleanupInterval=null,console[_0xa476b4(0x16e)](_0xa476b4(0x18b)));}async function startServer(){const _0x423d06=a51_0x52dbd4;try{await database_1[_0x423d06(0x19f)]['$connect'](),console[_0x423d06(0x16e)](_0x423d06(0x172));const _0x12e376=telegramBotService_1[_0x423d06(0x19c)][_0x423d06(0x18f)]();_0x12e376[_0x423d06(0x1a5)]?console['log'](_0x423d06(0x189)+_0x12e376[_0x423d06(0x16d)]+_0x423d06(0x17b)):console[_0x423d06(0x16e)](_0x423d06(0x198));console[_0x423d06(0x16e)](_0x423d06(0x168)),console[_0x423d06(0x16e)](_0x423d06(0x181)),coinToPayStatusService_1[_0x423d06(0x192)][_0x423d06(0x1a6)](),console['log'](_0x423d06(0x16f)),domainMonitoringService_1['domainMonitoringService'][_0x423d06(0x165)](),console[_0x423d06(0x16e)](_0x423d06(0x19e)),startPaymentCleanupScheduler();config_1['config'][_0x423d06(0x195)]==='production'?app_1[_0x423d06(0x19f)][_0x423d06(0x185)](config_1['config']['port'],()=>{const _0x2651ba=_0x423d06;console['log'](_0x2651ba(0x1a4)+config_1[_0x2651ba(0x169)][_0x2651ba(0x18d)]),console[_0x2651ba(0x16e)](_0x2651ba(0x17f)+config_1[_0x2651ba(0x169)][_0x2651ba(0x195)]);}):app_1[_0x423d06(0x19f)][_0x423d06(0x185)](config_1[_0x423d06(0x169)][_0x423d06(0x18d)],'127.1.1.159',()=>{const _0x59afdc=_0x423d06;console[_0x59afdc(0x16e)](_0x59afdc(0x1a4)+config_1['config'][_0x59afdc(0x18d)]),console[_0x59afdc(0x16e)]('ðŸŒ\x20Environment:\x20'+config_1[_0x59afdc(0x169)][_0x59afdc(0x195)]),console[_0x59afdc(0x16e)](_0x59afdc(0x191)+config_1[_0x59afdc(0x169)]['port']+_0x59afdc(0x182));});;}catch(_0x1ee18d){console[_0x423d06(0x196)](_0x423d06(0x199),_0x1ee18d),process['exit'](0x1);}}process['on'](a51_0x52dbd4(0x177),async()=>{const _0x51d07c=a51_0x52dbd4;console[_0x51d07c(0x16e)]('\x0aðŸ”„\x20Gracefully\x20shutting\x20down...'),stopPaymentCleanupScheduler(),currencyService_1[_0x51d07c(0x166)][_0x51d07c(0x173)](),coinToPayStatusService_1[_0x51d07c(0x192)]['stopPeriodicStatusCheck'](),domainMonitoringService_1[_0x51d07c(0x164)][_0x51d07c(0x1a3)](),telegramBotService_1[_0x51d07c(0x19c)][_0x51d07c(0x163)](),await database_1[_0x51d07c(0x19f)]['$disconnect'](),process[_0x51d07c(0x16c)](0x0);}),process['on'](a51_0x52dbd4(0x16a),async()=>{const _0x38b91f=a51_0x52dbd4;console[_0x38b91f(0x16e)](_0x38b91f(0x1a2)),stopPaymentCleanupScheduler(),currencyService_1[_0x38b91f(0x166)][_0x38b91f(0x173)](),coinToPayStatusService_1[_0x38b91f(0x192)][_0x38b91f(0x176)](),domainMonitoringService_1['domainMonitoringService'][_0x38b91f(0x1a3)](),telegramBotService_1[_0x38b91f(0x19c)][_0x38b91f(0x163)](),await database_1['default']['$disconnect'](),process[_0x38b91f(0x16c)](0x0);}),startServer();