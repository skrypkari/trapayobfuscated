'use strict';function a5_0x4c80(){const _0x25b1d7=['defineProperty','convertToUSDT','2970YfYJZa','1676sICFHp','usdt','260010heGMMs','toUpperCase','__esModule','getRates','getRatesStatus','488141vPRqYI','Currency\x20rates\x20updated\x20successfully','924820yAmnEo','../services/currencyService','1592559mMGKdF','getStatus','status','getAllRates','21441bRwiIM','1990XAqOXO','currencyService','11Nbpdjo','296gScDwK','json','666vTuIKZ','body'];a5_0x4c80=function(){return _0x25b1d7;};return a5_0x4c80();}const a5_0x52fba2=a5_0x1829;(function(_0x244e16,_0xbb33f6){const _0x259444=a5_0x1829,_0xce44e2=_0x244e16();while(!![]){try{const _0x4c6fb6=parseInt(_0x259444(0x1d8))/0x1+parseInt(_0x259444(0x1c7))/0x2*(-parseInt(_0x259444(0x1cc))/0x3)+parseInt(_0x259444(0x1d1))/0x4*(parseInt(_0x259444(0x1d0))/0x5)+-parseInt(_0x259444(0x1d3))/0x6+-parseInt(_0x259444(0x1e0))/0x7*(parseInt(_0x259444(0x1ca))/0x8)+parseInt(_0x259444(0x1dc))/0x9+-parseInt(_0x259444(0x1da))/0xa*(-parseInt(_0x259444(0x1c9))/0xb);if(_0x4c6fb6===_0xbb33f6)break;else _0xce44e2['push'](_0xce44e2['shift']());}catch(_0x28513f){_0xce44e2['push'](_0xce44e2['shift']());}}}(a5_0x4c80,0x998a8));function a5_0x1829(_0x1cc51d,_0x4c7c58){const _0x4c80f8=a5_0x4c80();return a5_0x1829=function(_0x18297e,_0xccfc8c){_0x18297e=_0x18297e-0x1c7;let _0x2347af=_0x4c80f8[_0x18297e];return _0x2347af;},a5_0x1829(_0x1cc51d,_0x4c7c58);}Object[a5_0x52fba2(0x1ce)](exports,a5_0x52fba2(0x1d5),{'value':!![]}),exports['CurrencyController']=void 0x0;const currencyService_1=require(a5_0x52fba2(0x1db));class CurrencyController{constructor(){const _0x3283b5=a5_0x52fba2;this[_0x3283b5(0x1d6)]=async(_0x45db20,_0x4e0ef7,_0x1db064)=>{const _0x10d39a=_0x3283b5;try{const _0x1647ff=await currencyService_1[_0x10d39a(0x1c8)][_0x10d39a(0x1df)]();_0x4e0ef7[_0x10d39a(0x1cb)]({'success':!![],'rates':_0x1647ff});}catch(_0x4e0421){_0x1db064(_0x4e0421);}},this[_0x3283b5(0x1dd)]=async(_0x432ffe,_0x5b5e43,_0x5d9112)=>{const _0x48cea9=_0x3283b5;try{const _0x3f3af6=await currencyService_1[_0x48cea9(0x1c8)][_0x48cea9(0x1d7)]();_0x5b5e43['json']({'success':!![],'status':_0x3f3af6});}catch(_0x41d93e){_0x5d9112(_0x41d93e);}},this['updateRates']=async(_0x247298,_0x242e29,_0x202d6d)=>{const _0x3fdc70=_0x3283b5;try{await currencyService_1[_0x3fdc70(0x1c8)]['updateCurrencyRates'](),_0x242e29[_0x3fdc70(0x1cb)]({'success':!![],'message':_0x3fdc70(0x1d9)});}catch(_0xadc961){_0x202d6d(_0xadc961);}},this['convertCurrency']=async(_0x1ab83c,_0x489c41,_0x190636)=>{const _0x13bd09=_0x3283b5;try{const {amount:_0x18e526,fromCurrency:_0x1e1822,toCurrency:toCurrency='usdt'}=_0x1ab83c[_0x13bd09(0x1cd)];if(!_0x18e526||!_0x1e1822)return _0x489c41['status'](0x190)['json']({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency['toLowerCase']()!==_0x13bd09(0x1d2))return _0x489c41[_0x13bd09(0x1de)](0x190)[_0x13bd09(0x1cb)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x54aefd=await currencyService_1[_0x13bd09(0x1c8)][_0x13bd09(0x1cf)](_0x18e526,_0x1e1822);_0x489c41['json']({'success':!![],'result':{'originalAmount':_0x18e526,'fromCurrency':_0x1e1822[_0x13bd09(0x1d4)](),'convertedAmount':_0x54aefd,'toCurrency':'USDT'}});}catch(_0x45a57f){_0x190636(_0x45a57f);}};}}exports['CurrencyController']=CurrencyController;