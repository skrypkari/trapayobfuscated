'use strict';function a49_0x3711(_0x179a7b,_0x1674ae){const _0x121179=a49_0x1211();return a49_0x3711=function(_0x371152,_0x2cf36b){_0x371152=_0x371152-0xd9;let _0x1a16d7=_0x121179[_0x371152];return _0x1a16d7;},a49_0x3711(_0x179a7b,_0x1674ae);}const a49_0x116514=a49_0x3711;function a49_0x1211(){const _0xb7a245=['failed','success','–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞','TelegramBotService','shop','Failed\x20to\x20send\x20API\x20error\x20notification:','6nEEFDs','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','ru-RU','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','userAgent','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*','updatedAt','Error\x20handling\x20/start\x20command:','stopBot','336QilTwZ','amount','statusCode','‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!','toLocaleDateString','589910WJKXVQ','trim','telegramId','endpoint','requestId','substring','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','defineProperty','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','update','shopId','findMany','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','\x20\x20\x20Status:\x20','Error\x20handling\x20/debug\x20command:','warn','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a','Error\x20handling\x20message:','chargeback','–ö–æ–º–∞–Ω–¥—ã:\x0a','toString','env','allSettled','–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞','üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*','create','üí∏\x20–°—É–º–º–∞:\x20*','map','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','sk_','user\x20is\x20deactivated','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','findUnique','currency','üîó\x20Endpoint:\x20`','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','trapay_bot','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','\x20USDT*\x0a','`.\x0a\x0a','–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É','üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','method','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','chargebackAmount','length','API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','error','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','telegramBotService','‚Ä¢\x20`','log','üìÖ\x20–í—Ä–µ–º—è:\x20','\x20initialized\x20successfully','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','isVerified','Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).','954900wLkjHE','includes',':\x20`','orderId','üîó\x20TXID:\x20`','üë§\x20Username:\x20`','chat','chat\x20not\x20found','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a','...','initializeBot','timestamp','üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','first_name','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','Error\x20in\x20handleMultilineVerification:','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','notificationLogin','`\x20(','üí∞\x20–°—É–º–º–∞:\x20*','findFirst','\x20with\x20shop\x20','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','botUsername','ipAddress','–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','üîå\x20User\x20','\x20\x20\x20Username:\x20`','setupBotHandlers','message','...\x22','errorMessage','*.\x0a\x0a','592856KAEwYq','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','sendShopNotification','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','username','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','stopPolling','`appple`\x0a','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a',':\x20username=\x22','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!','node-telegram-bot-api','handleMultilineVerification','notificationApiError','20XTSUGe','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','from','Markdown','telegramUser','TELEGRAM_BOT_USERNAME','2Ô∏è‚É£\x20API\x20–∫–ª—é—á','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','–ü—Ä–∏–º–µ—Ä:\x0a','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','üÜî\x20Request\x20ID:\x20`','üîî\x20*','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','Error\x20in\x20handleUsernameVerification:','getBotInfo','Username:\x20`','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.','1891143CUHzJD','\x20verified\x20for\x20shop\x20','üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.','428630NqCtTL','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a',',\x20reset\x20shop\x20association','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','toLocaleString','üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','__importDefault','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','üìÖ\x20–î–∞—Ç–∞:\x20','pk_','Error\x20sending\x20shop\x20notification:','üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20','Error\x20handling\x20/status\x20command:','‚úÖ\x20Username\x20`','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','ACTIVE','sendMessage','üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`','handleApiKeyVerification','Telegram\x20bot\x20error:','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','test','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','bot','222760ogfkoO','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','1Ô∏è‚É£\x20Username\x0a','User\x20','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','publicKey','Error\x20in\x20handleApiKeyVerification:','7puYIck','üõë\x20Telegram\x20bot\x20stopped','5577TiVVVu','adminNotes','\x20disconnected\x20from\x20shop\x20','*\x0a\x0a','name','startsWith','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω','Error\x20handling\x20/disconnect\x20command:','text','forEach','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','shopSettings','üè¶\x20–ú–µ—Ç–æ–¥:\x20`','üìù\x20Order\x20ID:\x20`','default','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','handleUsernameVerification','üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`','__esModule','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','\x20(@','\x20\x20\x20Public\x20Key:\x20`','botToken','\x22,\x20apiKey=\x22','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','entries','–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','‚úÖ\x20Telegram\x20user\x20','last_name','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','split','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','secretKey','üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20','`\x0a\x0a','status','–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','‚ùå\x20–û—à–∏–±–∫–∞:\x20`','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a','blocked','onText'];a49_0x1211=function(){return _0xb7a245;};return a49_0x1211();}(function(_0xf8611b,_0x1299c6){const _0x498ede=a49_0x3711,_0x2c9a17=_0xf8611b();while(!![]){try{const _0x273827=parseInt(_0x498ede(0x18c))/0x1+parseInt(_0x498ede(0xf4))/0x2*(parseInt(_0x498ede(0x1b3))/0x3)+-parseInt(_0x498ede(0x13c))/0x4+-parseInt(_0x498ede(0xf9))/0x5*(-parseInt(_0x498ede(0xea))/0x6)+parseInt(_0x498ede(0x1b1))/0x7*(-parseInt(_0x498ede(0x1a6))/0x8)+parseInt(_0x498ede(0x186))/0x9*(-parseInt(_0x498ede(0x173))/0xa)+parseInt(_0x498ede(0x161))/0xb;if(_0x273827===_0x1299c6)break;else _0x2c9a17['push'](_0x2c9a17['shift']());}catch(_0x3beaba){_0x2c9a17['push'](_0x2c9a17['shift']());}}}(a49_0x1211,0x372cc));var __importDefault=this&&this[a49_0x116514(0x192)]||function(_0x10cd0e){const _0x1ad517=a49_0x116514;return _0x10cd0e&&_0x10cd0e[_0x1ad517(0x1c5)]?_0x10cd0e:{'default':_0x10cd0e};};Object[a49_0x116514(0x100)](exports,a49_0x116514(0x1c5),{'value':!![]}),exports[a49_0x116514(0x134)]=exports[a49_0x116514(0xe7)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x116514(0x170))),database_1=__importDefault(require('../config/database'));class TelegramBotService{constructor(){const _0x19720a=a49_0x116514;this['bot']=null,this[_0x19720a(0x1c9)]=process[_0x19720a(0x111)]['TELEGRAM_BOT_TOKEN']||'',this[_0x19720a(0x157)]=process[_0x19720a(0x111)][_0x19720a(0x178)]||_0x19720a(0x125),this['botToken']?this[_0x19720a(0x148)]():console['warn'](_0x19720a(0x12d));}[a49_0x116514(0x148)](){const _0x198e44=a49_0x116514;try{this['bot']=new node_telegram_bot_api_1[(_0x198e44(0x1c1))](this[_0x198e44(0x1c9)],{'polling':!![]}),this[_0x198e44(0x15c)](),console[_0x198e44(0x136)]('‚úÖ\x20Telegram\x20bot\x20@'+this[_0x198e44(0x157)]+_0x198e44(0x138));}catch(_0x2dbf01){console[_0x198e44(0x132)](_0x198e44(0x1aa),_0x2dbf01);}}[a49_0x116514(0x15c)](){const _0x12e0f4=a49_0x116514;if(!this[_0x12e0f4(0x1a5)])return;this[_0x12e0f4(0x1a5)][_0x12e0f4(0xe3)](/\/start/,async _0x1c97cf=>{const _0x446516=_0x12e0f4,_0x4d2a0c=_0x1c97cf[_0x446516(0x142)]['id'],_0x2bbd72=_0x1c97cf[_0x446516(0x175)]?.['id'][_0x446516(0x110)](),_0x25c138=_0x1c97cf[_0x446516(0x175)]?.['username'],_0x5baae8=_0x1c97cf[_0x446516(0x175)]?.[_0x446516(0x14d)],_0x8b10aa=_0x1c97cf[_0x446516(0x175)]?.[_0x446516(0x1cf)];if(!_0x2bbd72)return;try{let _0x61fd69=await database_1[_0x446516(0x1c1)][_0x446516(0x177)]['findUnique']({'where':{'telegramId':_0x2bbd72},'include':{'shop':!![]}});!_0x61fd69?(_0x61fd69=await database_1['default'][_0x446516(0x177)][_0x446516(0x115)]({'data':{'telegramId':_0x2bbd72,'username':_0x25c138,'firstName':_0x5baae8,'lastName':_0x8b10aa,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x446516(0x136)]('üì±\x20Created\x20new\x20Telegram\x20user:\x20'+_0x2bbd72+_0x446516(0x1c7)+_0x25c138+')')):_0x61fd69=await database_1[_0x446516(0x1c1)]['telegramUser'][_0x446516(0x103)]({'where':{'telegramId':_0x2bbd72},'data':{'username':_0x25c138,'firstName':_0x5baae8,'lastName':_0x8b10aa},'include':{'shop':!![]}}),_0x61fd69[_0x446516(0x13a)]&&_0x61fd69[_0x446516(0x104)]&&_0x61fd69['shop']?await this['bot']?.[_0x446516(0x19d)](_0x4d2a0c,_0x446516(0x1a3)+(_0x446516(0x165)+_0x61fd69[_0x446516(0xe8)][_0x446516(0x1b7)]+'*\x0a')+(_0x446516(0x183)+_0x61fd69[_0x446516(0xe8)][_0x446516(0x168)]+_0x446516(0xdd))+_0x446516(0xef)+'‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a'+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x446516(0x18d)+_0x446516(0x10f)+_0x446516(0x11a)+_0x446516(0x1a4),{'parse_mode':_0x446516(0x176)}):(_0x61fd69[_0x446516(0x104)]&&!_0x61fd69[_0x446516(0x13a)]&&(await database_1[_0x446516(0x1c1)][_0x446516(0x177)][_0x446516(0x103)]({'where':{'telegramId':_0x2bbd72},'data':{'shopId':null,'isVerified':![]}}),console['log'](_0x446516(0x101)+_0x2bbd72)),await this[_0x446516(0x1a5)]?.[_0x446516(0x19d)](_0x4d2a0c,_0x446516(0xda)+'–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a'+'1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a'+_0x446516(0xed)+_0x446516(0x145)+_0x446516(0x17c)+'`appple`\x0a'+_0x446516(0x10b)+_0x446516(0xf7),{'parse_mode':'Markdown'}));}catch(_0x5d404c){console[_0x446516(0x132)](_0x446516(0xf2),_0x5d404c),await this[_0x446516(0x1a5)]?.['sendMessage'](_0x4d2a0c,_0x446516(0x150));}}),this[_0x12e0f4(0x1a5)]['onText'](/\/disconnect/,async _0x4f3225=>{const _0x5a9245=_0x12e0f4,_0x281d4b=_0x4f3225[_0x5a9245(0x142)]['id'],_0x518647=_0x4f3225[_0x5a9245(0x175)]?.['id'][_0x5a9245(0x110)]();if(!_0x518647)return;try{const _0x2a19fa=await database_1[_0x5a9245(0x1c1)][_0x5a9245(0x177)][_0x5a9245(0x121)]({'where':{'telegramId':_0x518647},'include':{'shop':!![]}});if(!_0x2a19fa||!_0x2a19fa['isVerified']||!_0x2a19fa['shopId']){await this[_0x5a9245(0x1a5)]?.[_0x5a9245(0x19d)](_0x281d4b,'‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.');return;}const _0x461a0f=_0x2a19fa[_0x5a9245(0xe8)]?.['name']||_0x5a9245(0x1b9);await database_1[_0x5a9245(0x1c1)][_0x5a9245(0x177)]['update']({'where':{'telegramId':_0x518647},'data':{'shopId':null,'isVerified':![]}}),console[_0x5a9245(0x136)](_0x5a9245(0x15a)+_0x518647+_0x5a9245(0x1b5)+_0x2a19fa[_0x5a9245(0x104)]),await this[_0x5a9245(0x1a5)]?.['sendMessage'](_0x281d4b,_0x5a9245(0x16e)+_0x461a0f+_0x5a9245(0x160)+_0x5a9245(0x119),{'parse_mode':'Markdown'});}catch(_0x2bacc9){console[_0x5a9245(0x132)](_0x5a9245(0x1ba),_0x2bacc9),await this[_0x5a9245(0x1a5)]?.[_0x5a9245(0x19d)](_0x281d4b,_0x5a9245(0x150));}}),this['bot'][_0x12e0f4(0xe3)](/\/status/,async _0x495cc2=>{const _0xd9b567=_0x12e0f4,_0x41cfd3=_0x495cc2[_0xd9b567(0x142)]['id'],_0x5df44c=_0x495cc2[_0xd9b567(0x175)]?.['id'][_0xd9b567(0x110)]();if(!_0x5df44c)return;try{const _0x218147=await database_1['default'][_0xd9b567(0x177)][_0xd9b567(0x121)]({'where':{'telegramId':_0x5df44c},'include':{'shop':!![]}});if(!_0x218147){await this['bot']?.[_0xd9b567(0x19d)](_0x41cfd3,_0xd9b567(0x16c)+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.');return;}if(!_0x218147[_0xd9b567(0x13a)]||!_0x218147[_0xd9b567(0x104)]||!_0x218147[_0xd9b567(0xe8)]){await this[_0xd9b567(0x1a5)]?.[_0xd9b567(0x19d)](_0x41cfd3,'‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a'+_0xd9b567(0x11f));return;}await this['bot']?.[_0xd9b567(0x19d)](_0x41cfd3,_0xd9b567(0x17a)+('‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*'+_0x218147[_0xd9b567(0xe8)][_0xd9b567(0x1b7)]+'*\x0a')+(_0xd9b567(0x141)+_0x218147[_0xd9b567(0xe8)][_0xd9b567(0x168)]+'`\x0a')+(_0xd9b567(0xdc)+_0x218147[_0xd9b567(0xf1)][_0xd9b567(0xf8)]('ru-RU')+'\x0a\x0a')+'üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a'+_0xd9b567(0x10f)+_0xd9b567(0x1a4),{'parse_mode':'Markdown'});}catch(_0x11c56e){console[_0xd9b567(0x132)](_0xd9b567(0x199),_0x11c56e),await this['bot']?.[_0xd9b567(0x19d)](_0x41cfd3,_0xd9b567(0x150));}}),this[_0x12e0f4(0x1a5)][_0x12e0f4(0xe3)](/\/debug/,async _0x1414eb=>{const _0x366f9d=_0x12e0f4,_0x47d114=_0x1414eb[_0x366f9d(0x142)]['id'],_0x736fe5=_0x1414eb[_0x366f9d(0x175)]?.['id'][_0x366f9d(0x110)]();if(!_0x736fe5)return;try{const _0x4c9eb9=await database_1[_0x366f9d(0x1c1)][_0x366f9d(0xe8)]['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x3bf146='üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a';_0x3bf146+=_0x366f9d(0x197)+_0x736fe5+_0x366f9d(0xdd),_0x3bf146+='üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a',_0x4c9eb9[_0x366f9d(0x1bc)]((_0x5d701f,_0x21c3e1)=>{const _0x2c0304=_0x366f9d;_0x3bf146+=_0x21c3e1+0x1+'.\x20*'+_0x5d701f[_0x2c0304(0x1b7)]+'*\x0a',_0x3bf146+=_0x2c0304(0x15b)+_0x5d701f['username']+'`\x0a',_0x3bf146+=_0x2c0304(0x107)+_0x5d701f['status']+'\x0a',_0x3bf146+=_0x2c0304(0x1c8)+_0x5d701f['publicKey'][_0x2c0304(0xfe)](0x0,0xf)+'...`\x0a\x0a';}),await this[_0x366f9d(0x1a5)]?.['sendMessage'](_0x47d114,_0x3bf146,{'parse_mode':'Markdown'});}catch(_0xe0e6fb){console[_0x366f9d(0x132)](_0x366f9d(0x108),_0xe0e6fb),await this['bot']?.[_0x366f9d(0x19d)](_0x47d114,_0x366f9d(0x18b));}}),this['bot']['on'](_0x12e0f4(0x15d),async _0x20fcec=>{const _0x239e36=_0x12e0f4;if(_0x20fcec[_0x239e36(0x1bb)]?.[_0x239e36(0x1b8)]('/'))return;const _0x3e79a6=_0x20fcec[_0x239e36(0x142)]['id'],_0x1236f5=_0x20fcec[_0x239e36(0x175)]?.['id'][_0x239e36(0x110)](),_0x137fdb=_0x20fcec[_0x239e36(0x1bb)]?.[_0x239e36(0xfa)]();if(!_0x1236f5||!_0x137fdb)return;try{const _0x401c82=await database_1[_0x239e36(0x1c1)]['telegramUser'][_0x239e36(0x121)]({'where':{'telegramId':_0x1236f5},'include':{'shop':!![]}});if(!_0x401c82){await this[_0x239e36(0x1a5)]?.[_0x239e36(0x19d)](_0x3e79a6,'‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start');return;}if(_0x401c82[_0x239e36(0x13a)]&&_0x401c82[_0x239e36(0x104)]&&_0x401c82[_0x239e36(0xe8)]){await this[_0x239e36(0x1a5)]?.[_0x239e36(0x19d)](_0x3e79a6,'‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*'+_0x401c82[_0x239e36(0xe8)]['name']+_0x239e36(0x160)+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.',{'parse_mode':_0x239e36(0x176)});return;}const _0x44a851=_0x137fdb[_0x239e36(0xd9)]('\x0a')[_0x239e36(0x117)](_0x351f44=>_0x351f44[_0x239e36(0xfa)]())['filter'](_0x412ef8=>_0x412ef8[_0x239e36(0x12f)]>0x0);if(_0x44a851[_0x239e36(0x12f)]===0x2){const [_0x320c29,_0x1a6889]=_0x44a851;await this[_0x239e36(0x171)](_0x3e79a6,_0x1236f5,_0x320c29,_0x1a6889);}else{if(_0x44a851[_0x239e36(0x12f)]===0x1){const _0x29d4c6=_0x44a851[0x0];if(_0x29d4c6[_0x239e36(0x12f)]>=0x3&&_0x29d4c6['length']<=0x32&&/^[a-zA-Z0-9_]+$/[_0x239e36(0x1a2)](_0x29d4c6))await this[_0x239e36(0x1c3)](_0x3e79a6,_0x1236f5,_0x29d4c6);else _0x29d4c6[_0x239e36(0x1b8)](_0x239e36(0x195))||_0x29d4c6[_0x239e36(0x1b8)](_0x239e36(0x11c))?await this[_0x239e36(0x19f)](_0x3e79a6,_0x1236f5,_0x29d4c6):await this[_0x239e36(0x1a5)]?.[_0x239e36(0x19d)](_0x3e79a6,_0x239e36(0x14b)+_0x239e36(0x166)+_0x239e36(0x10c)+'2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a'+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a'+'`appple`\x0a'+_0x239e36(0x126),{'parse_mode':_0x239e36(0x176)});}else await this[_0x239e36(0x1a5)]?.[_0x239e36(0x19d)](_0x3e79a6,_0x239e36(0x14b)+_0x239e36(0x146)+_0x239e36(0x17c)+_0x239e36(0x16b)+_0x239e36(0x126),{'parse_mode':_0x239e36(0x176)});}}catch(_0x4339fc){console[_0x239e36(0x132)](_0x239e36(0x10d),_0x4339fc),await this[_0x239e36(0x1a5)]?.[_0x239e36(0x19d)](_0x3e79a6,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x12e0f4(0x1a5)]['on']('error',_0x37a459=>{const _0x5927d1=_0x12e0f4;console[_0x5927d1(0x132)](_0x5927d1(0x1a0),_0x37a459);}),this[_0x12e0f4(0x1a5)]['on']('polling_error',_0x46444b=>{const _0x303339=_0x12e0f4;console[_0x303339(0x132)]('Telegram\x20bot\x20polling\x20error:',_0x46444b);});}async['handleMultilineVerification'](_0x131e18,_0xb0ed0e,_0x3a5315,_0x4183ff){const _0x224b7f=a49_0x116514;try{console[_0x224b7f(0x136)](_0x224b7f(0x188)+_0xb0ed0e+_0x224b7f(0x16d)+_0x3a5315+_0x224b7f(0x1ca)+_0x4183ff[_0x224b7f(0xfe)](0x0,0xa)+_0x224b7f(0x15e));if(!_0x3a5315||_0x3a5315['length']<0x3||_0x3a5315['length']>0x32||!/^[a-zA-Z0-9_]+$/['test'](_0x3a5315)){await this[_0x224b7f(0x1a5)]?.['sendMessage'](_0x131e18,_0x224b7f(0x169)+_0x3a5315+_0x224b7f(0xdd)+_0x224b7f(0x13b),{'parse_mode':_0x224b7f(0x176)});return;}if(!_0x4183ff||!_0x4183ff[_0x224b7f(0x1b8)](_0x224b7f(0x195))&&!_0x4183ff[_0x224b7f(0x1b8)](_0x224b7f(0x11c))){await this['bot']?.[_0x224b7f(0x19d)](_0x131e18,_0x224b7f(0xe1)+_0x224b7f(0x130),{'parse_mode':'Markdown'});return;}const _0x1ad307=await database_1['default']['shop'][_0x224b7f(0x121)]({'where':{'username':_0x3a5315},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x1ad307){const _0x24876c=await database_1[_0x224b7f(0x1c1)]['shop']['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x1d3adb=_0x224b7f(0x118)+_0x3a5315+_0x224b7f(0xeb);_0x24876c[_0x224b7f(0x12f)]>0x0?(_0x1d3adb+=_0x224b7f(0x1a7),_0x24876c[_0x224b7f(0x1bc)](_0x2440c3=>{const _0x24ab1d=_0x224b7f;_0x1d3adb+=_0x24ab1d(0x135)+_0x2440c3[_0x24ab1d(0x168)]+'`\x20('+_0x2440c3[_0x24ab1d(0x1b7)]+')\x0a';}),_0x1d3adb+='\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.'):_0x1d3adb+=_0x224b7f(0x133);await this['bot']?.[_0x224b7f(0x19d)](_0x131e18,_0x1d3adb,{'parse_mode':_0x224b7f(0x176)});return;}if(_0x1ad307[_0x224b7f(0xde)]!==_0x224b7f(0x19c)){await this['bot']?.[_0x224b7f(0x19d)](_0x131e18,_0x224b7f(0x124)+_0x3a5315+_0x224b7f(0x120)+_0x224b7f(0x18a),{'parse_mode':'Markdown'});return;}if(_0x1ad307[_0x224b7f(0x1af)]!==_0x4183ff&&_0x1ad307[_0x224b7f(0xdb)]!==_0x4183ff){await this[_0x224b7f(0x1a5)]?.['sendMessage'](_0x131e18,_0x224b7f(0x1c2)+_0x3a5315+_0x224b7f(0x128)+_0x224b7f(0x1ae)+_0x224b7f(0x193),{'parse_mode':_0x224b7f(0x176)});return;}const _0x3eedc6=await database_1[_0x224b7f(0x1c1)]['telegramUser'][_0x224b7f(0x154)]({'where':{'shopId':_0x1ad307['id'],'isVerified':!![],'telegramId':{'not':_0xb0ed0e}}});if(_0x3eedc6){await this[_0x224b7f(0x1a5)]?.['sendMessage'](_0x131e18,_0x224b7f(0x18f)+_0x3a5315+_0x224b7f(0x11e)+'–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':_0x224b7f(0x176)});return;}await database_1['default']['telegramUser'][_0x224b7f(0x103)]({'where':{'telegramId':_0xb0ed0e},'data':{'shopId':_0x1ad307['id'],'isVerified':!![]}}),await this[_0x224b7f(0x1a5)]?.[_0x224b7f(0x19d)](_0x131e18,_0x224b7f(0x167)+_0x224b7f(0x14e)+(_0x224b7f(0xf0)+_0x1ad307[_0x224b7f(0x1b7)]+'*\x0a')+(_0x224b7f(0x141)+_0x1ad307[_0x224b7f(0x168)]+_0x224b7f(0xdd))+'üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a'+_0x224b7f(0x184)+_0x224b7f(0x102)+_0x224b7f(0x106)+_0x224b7f(0x164)+_0x224b7f(0x10f)+'/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a'+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':'Markdown'}),console[_0x224b7f(0x136)](_0x224b7f(0x1ce)+_0xb0ed0e+_0x224b7f(0x187)+_0x1ad307['username']+'\x20via\x20multiline\x20input');}catch(_0x2df627){console['error'](_0x224b7f(0x14f),_0x2df627),await this[_0x224b7f(0x1a5)]?.[_0x224b7f(0x19d)](_0x131e18,_0x224b7f(0x12b));}}async[a49_0x116514(0x1c3)](_0x1b5d73,_0x8c8325,_0x20ae36){const _0x3cf875=a49_0x116514;try{console[_0x3cf875(0x136)]('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x8c8325+_0x3cf875(0x16d)+_0x20ae36+'\x22');const _0x126d4b=await database_1[_0x3cf875(0x1c1)][_0x3cf875(0xe8)]['findUnique']({'where':{'username':_0x20ae36},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x126d4b){const _0x3143ed=await database_1[_0x3cf875(0x1c1)][_0x3cf875(0xe8)][_0x3cf875(0x105)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x3686ea=_0x3cf875(0x118)+_0x20ae36+_0x3cf875(0xeb);_0x3143ed['length']>0x0?(_0x3686ea+='–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a',_0x3143ed['forEach'](_0x45e04a=>{const _0xa3fa4b=_0x3cf875;_0x3686ea+=_0xa3fa4b(0x135)+_0x45e04a[_0xa3fa4b(0x168)]+_0xa3fa4b(0x152)+_0x45e04a[_0xa3fa4b(0x1b7)]+')\x0a';}),_0x3686ea+=_0x3cf875(0x180)):_0x3686ea+=_0x3cf875(0x133);await this[_0x3cf875(0x1a5)]?.[_0x3cf875(0x19d)](_0x1b5d73,_0x3686ea,{'parse_mode':'Markdown'});return;}if(_0x126d4b[_0x3cf875(0xde)]!==_0x3cf875(0x19c)){await this[_0x3cf875(0x1a5)]?.[_0x3cf875(0x19d)](_0x1b5d73,_0x3cf875(0x124)+_0x20ae36+'`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a'+_0x3cf875(0x18a),{'parse_mode':_0x3cf875(0x176)});return;}await database_1[_0x3cf875(0x1c1)][_0x3cf875(0x177)][_0x3cf875(0x103)]({'where':{'telegramId':_0x8c8325},'data':{'shopId':_0x126d4b['id'],'isVerified':![]}}),await this['bot']?.[_0x3cf875(0x19d)](_0x1b5d73,_0x3cf875(0x19a)+_0x20ae36+'`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a'+('–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x126d4b[_0x3cf875(0x1b7)]+_0x3cf875(0x1b6))+_0x3cf875(0x1ab),{'parse_mode':_0x3cf875(0x176)}),console[_0x3cf875(0x136)](_0x3cf875(0x17b)+_0x8c8325+_0x3cf875(0x155)+_0x126d4b[_0x3cf875(0x168)]);}catch(_0x25c55e){console['error'](_0x3cf875(0x181),_0x25c55e),await this[_0x3cf875(0x1a5)]?.[_0x3cf875(0x19d)](_0x1b5d73,_0x3cf875(0x139));}}async[a49_0x116514(0x19f)](_0x298bdc,_0x2ee21e,_0xb7a868){const _0x8afc70=a49_0x116514;try{console[_0x8afc70(0x136)](_0x8afc70(0x14a)+_0x2ee21e+':\x20apiKey=\x22'+_0xb7a868[_0x8afc70(0xfe)](0x0,0xa)+_0x8afc70(0x15e));const _0x29ab8e=await database_1['default']['telegramUser'][_0x8afc70(0x121)]({'where':{'telegramId':_0x2ee21e},'include':{'shop':!![]}});if(!_0x29ab8e?.[_0x8afc70(0x104)]){await this['bot']?.[_0x8afc70(0x19d)](_0x298bdc,_0x8afc70(0x17d)+'–ü–æ—Ä—è–¥–æ–∫:\x0a'+_0x8afc70(0x1a8)+_0x8afc70(0x179));return;}if(_0x29ab8e['isVerified']){await this[_0x8afc70(0x1a5)]?.['sendMessage'](_0x298bdc,_0x8afc70(0xff)+(_0x29ab8e['shop']?.[_0x8afc70(0x1b7)]||_0x8afc70(0x1d1))+_0x8afc70(0x160)+_0x8afc70(0x144),{'parse_mode':_0x8afc70(0x176)});return;}const _0x583a26=await database_1[_0x8afc70(0x1c1)]['shop'][_0x8afc70(0x154)]({'where':{'id':_0x29ab8e['shopId'],'OR':[{'publicKey':_0xb7a868},{'secretKey':_0xb7a868}]}});if(!_0x583a26){await this[_0x8afc70(0x1a5)]?.[_0x8afc70(0x19d)](_0x298bdc,_0x8afc70(0x1bd)+'–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a'+_0x8afc70(0x193),{'parse_mode':_0x8afc70(0x176)}),await database_1[_0x8afc70(0x1c1)][_0x8afc70(0x177)][_0x8afc70(0x103)]({'where':{'telegramId':_0x2ee21e},'data':{'shopId':null,'isVerified':![]}}),console[_0x8afc70(0x136)](_0x8afc70(0x198)+_0x2ee21e+_0x8afc70(0x18e));return;}const _0x551930=await database_1[_0x8afc70(0x1c1)][_0x8afc70(0x177)][_0x8afc70(0x154)]({'where':{'shopId':_0x583a26['id'],'isVerified':!![],'telegramId':{'not':_0x2ee21e}}});if(_0x551930){await this[_0x8afc70(0x1a5)]?.[_0x8afc70(0x19d)](_0x298bdc,_0x8afc70(0x18f)+_0x583a26[_0x8afc70(0x168)]+_0x8afc70(0x11e)+'–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':'Markdown'}),await database_1['default'][_0x8afc70(0x177)][_0x8afc70(0x103)]({'where':{'telegramId':_0x2ee21e},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x8afc70(0x1c1)][_0x8afc70(0x177)][_0x8afc70(0x103)]({'where':{'telegramId':_0x2ee21e},'data':{'isVerified':!![]}}),await this[_0x8afc70(0x1a5)]?.[_0x8afc70(0x19d)](_0x298bdc,_0x8afc70(0x167)+'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a'+(_0x8afc70(0xf0)+_0x583a26[_0x8afc70(0x1b7)]+'*\x0a')+(_0x8afc70(0x141)+_0x583a26[_0x8afc70(0x168)]+_0x8afc70(0xdd))+_0x8afc70(0x156)+_0x8afc70(0x184)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x8afc70(0x106)+_0x8afc70(0x164)+_0x8afc70(0x10f)+_0x8afc70(0x11a)+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':'Markdown'}),console[_0x8afc70(0x136)](_0x8afc70(0x1ce)+_0x2ee21e+_0x8afc70(0x187)+_0x583a26[_0x8afc70(0x168)]);}catch(_0x367374){console['error'](_0x8afc70(0x1b0),_0x367374),await this[_0x8afc70(0x1a5)]?.['sendMessage'](_0x298bdc,_0x8afc70(0x185));}}async['sendShopNotification'](_0x1c5f0a,_0x5a0f74,_0x19caf2){const _0xddb89f=a49_0x116514;if(!this[_0xddb89f(0x1a5)]){console[_0xddb89f(0x109)](_0xddb89f(0x1d0));return;}try{const _0x108959=await database_1[_0xddb89f(0x1c1)]['telegramUser']['findMany']({'where':{'shopId':_0x1c5f0a,'isVerified':!![]}});if(_0x108959['length']===0x0){console[_0xddb89f(0x136)](_0xddb89f(0x1ac)+_0x1c5f0a);return;}const _0x5b9dc5=_0x108959['map'](async _0x183064=>{const _0x144e3a=_0xddb89f;try{await this[_0x144e3a(0x1a5)]?.[_0x144e3a(0x19d)](_0x183064[_0x144e3a(0xfb)],_0x5a0f74,_0x19caf2),console[_0x144e3a(0x136)](_0x144e3a(0x174)+_0x183064['telegramId']);}catch(_0x55b11f){console[_0x144e3a(0x132)](_0x144e3a(0x1c6)+_0x183064[_0x144e3a(0xfb)]+':',_0x55b11f),_0x55b11f instanceof Error&&(_0x55b11f['message'][_0x144e3a(0x13d)](_0x144e3a(0xe2))||_0x55b11f[_0x144e3a(0x15d)][_0x144e3a(0x13d)](_0x144e3a(0x143))||_0x55b11f[_0x144e3a(0x15d)]['includes'](_0x144e3a(0x11d)))&&(await database_1['default'][_0x144e3a(0x177)][_0x144e3a(0x103)]({'where':{'id':_0x183064['id']},'data':{'isVerified':![]}}),console[_0x144e3a(0x136)](_0x144e3a(0x1a9)+_0x183064[_0x144e3a(0xfb)]+_0x144e3a(0x1a1)));}});await Promise[_0xddb89f(0x112)](_0x5b9dc5);}catch(_0x33c5b6){console['error'](_0xddb89f(0x196),_0x33c5b6);}}async['sendPaymentNotification'](_0x577d27,_0x163795,_0x27029a){const _0x37c506=a49_0x116514,_0x561411={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x4cd8f5={'created':_0x37c506(0x159),'paid':'–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','failed':_0x37c506(0x1cd),'expired':_0x37c506(0xdf),'refund':_0x37c506(0x19b),'chargeback':_0x37c506(0x129)},_0x501188=_0x561411[_0x27029a],_0xf325d2=_0x4cd8f5[_0x27029a];let _0x13aabd=_0x501188+'\x20*'+_0xf325d2+_0x37c506(0x1b6)+(_0x37c506(0x153)+_0x163795[_0x37c506(0xf5)]+'\x20'+_0x163795[_0x37c506(0x122)]+'*\x0a')+(_0x37c506(0x1c0)+(_0x163795[_0x37c506(0x13f)]||_0x163795['id'])+'`\x0a')+(_0x37c506(0x1c4)+_0x163795['id']+'`\x0a')+('üè™\x20–®–ª—é–∑:\x20`'+_0x163795['gateway']['toUpperCase']()+'`\x0a')+(_0x37c506(0x194)+new Date(_0x163795['createdAt'])['toLocaleString'](_0x37c506(0xec))+'\x0a');_0x27029a===_0x37c506(0x10e)&&_0x163795['chargebackAmount']&&(_0x13aabd+=_0x37c506(0x114)+_0x163795[_0x37c506(0x12e)]+_0x37c506(0x127)),_0x163795[_0x37c506(0x1b4)]&&(_0x13aabd+=_0x37c506(0x1ad)+_0x163795['adminNotes']+'\x0a'),await this[_0x37c506(0x163)](_0x577d27,_0x13aabd,{'parse_mode':_0x37c506(0x176)});}async['sendPayoutNotification'](_0x57d5f1,_0x1ae6f6,_0x5823ee){const _0x5c25aa=a49_0x116514,_0x2bc5c6={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x299941={'created':_0x5c25aa(0x14c),'completed':_0x5c25aa(0x1cb),'rejected':_0x5c25aa(0xe6)},_0x28b1bf=_0x2bc5c6[_0x5823ee],_0x80df7=_0x299941[_0x5823ee],_0x100239=_0x28b1bf+'\x20*'+_0x80df7+'*\x0a\x0a'+(_0x5c25aa(0x116)+_0x1ae6f6[_0x5c25aa(0xf5)]+'\x20USD*\x0a')+(_0x5c25aa(0x1bf)+_0x1ae6f6[_0x5c25aa(0x12c)]+'`\x0a')+(_0x5c25aa(0x12a)+_0x1ae6f6['id']+'`\x0a')+(_0x5c25aa(0x194)+new Date(_0x1ae6f6['createdAt'])[_0x5c25aa(0x190)](_0x5c25aa(0xec))+'\x0a')+(_0x1ae6f6['txid']?_0x5c25aa(0x140)+_0x1ae6f6['txid']+'`':'');await this[_0x5c25aa(0x163)](_0x57d5f1,_0x100239,{'parse_mode':_0x5c25aa(0x176)});}async['sendLoginNotification'](_0x3f9bea,_0x3565a6){const _0x3cbf62=a49_0x116514;try{const _0x30fdcb=await database_1['default']['shopSettings'][_0x3cbf62(0x121)]({'where':{'shopId':_0x3f9bea},'select':{'notificationLogin':!![]}});if(!_0x30fdcb?.[_0x3cbf62(0x151)]){console[_0x3cbf62(0x136)](_0x3cbf62(0x191)+_0x3f9bea);return;}const _0x55df16=_0x3565a6[_0x3cbf62(0xe5)]?'üîê':'üö®',_0x510f42=_0x3565a6['success']?'–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É':_0x3cbf62(0x113);let _0x50a46a=_0x55df16+'\x20*'+_0x510f42+_0x3cbf62(0x1b6)+('üë§\x20Username:\x20`'+_0x3565a6['username']+'`\x0a')+(_0x3cbf62(0x137)+_0x3565a6[_0x3cbf62(0x149)][_0x3cbf62(0x190)](_0x3cbf62(0xec))+'\x0a');_0x3565a6[_0x3cbf62(0x158)]&&(_0x50a46a+=_0x3cbf62(0x10a)+_0x3565a6[_0x3cbf62(0x158)]+'`\x0a');if(_0x3565a6[_0x3cbf62(0xee)]){const _0x45ba6c=_0x3565a6['userAgent']['length']>0x32?_0x3565a6[_0x3cbf62(0xee)][_0x3cbf62(0xfe)](0x0,0x32)+_0x3cbf62(0x147):_0x3565a6[_0x3cbf62(0xee)];_0x50a46a+=_0x3cbf62(0x19e)+_0x45ba6c+'`\x0a';}!_0x3565a6[_0x3cbf62(0xe5)]&&(_0x50a46a+=_0x3cbf62(0x16f)),await this[_0x3cbf62(0x163)](_0x3f9bea,_0x50a46a,{'parse_mode':_0x3cbf62(0x176)}),console['log'](_0x3cbf62(0x131)+_0x3f9bea+':\x20'+(_0x3565a6[_0x3cbf62(0xe5)]?_0x3cbf62(0xe5):_0x3cbf62(0xe4)));}catch(_0x3a7015){console[_0x3cbf62(0x132)]('Failed\x20to\x20send\x20login\x20notification:',_0x3a7015);}}async['sendApiErrorNotification'](_0x8a2ca2,_0x252601){const _0x49cc8f=a49_0x116514;try{const _0x24062d=await database_1[_0x49cc8f(0x1c1)][_0x49cc8f(0x1be)][_0x49cc8f(0x121)]({'where':{'shopId':_0x8a2ca2},'select':{'notificationApiError':!![]}});if(!_0x24062d?.[_0x49cc8f(0x172)]){console[_0x49cc8f(0x136)](_0x49cc8f(0x162)+_0x8a2ca2);return;}let _0x385304=_0x49cc8f(0x189)+(_0x49cc8f(0x123)+_0x252601[_0x49cc8f(0x12c)]+'\x20'+_0x252601[_0x49cc8f(0xfc)]+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x252601[_0x49cc8f(0x149)][_0x49cc8f(0x190)](_0x49cc8f(0xec))+'\x0a');_0x252601[_0x49cc8f(0xf6)]&&(_0x385304+=_0x49cc8f(0x11b)+_0x252601[_0x49cc8f(0xf6)]+'`\x0a'),_0x385304+=_0x49cc8f(0xe0)+_0x252601[_0x49cc8f(0x15f)]+'`\x0a',_0x252601[_0x49cc8f(0xfd)]&&(_0x385304+=_0x49cc8f(0x17e)+_0x252601[_0x49cc8f(0xfd)]+'`\x0a'),_0x385304+='\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.',await this[_0x49cc8f(0x163)](_0x8a2ca2,_0x385304,{'parse_mode':_0x49cc8f(0x176)}),console[_0x49cc8f(0x136)]('‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20'+_0x8a2ca2+':\x20'+_0x252601[_0x49cc8f(0xfc)]);}catch(_0x4d7c00){console[_0x49cc8f(0x132)](_0x49cc8f(0xe9),_0x4d7c00);}}async['sendCustomNotification'](_0x2c2800,_0x3cc743,_0x1540cb){const _0x32389e=a49_0x116514;let _0x5e2db0=_0x32389e(0x17f)+_0x3cc743+_0x32389e(0x1b6);for(const [_0x1c7771,_0x23741e]of Object[_0x32389e(0x1cc)](_0x1540cb)){_0x23741e!==null&&_0x23741e!==undefined&&(_0x5e2db0+=_0x1c7771+_0x32389e(0x13e)+_0x23741e+'`\x0a');}await this[_0x32389e(0x163)](_0x2c2800,_0x5e2db0,{'parse_mode':_0x32389e(0x176)});}[a49_0x116514(0x182)](){const _0x192ff7=a49_0x116514;return{'isActive':!!this[_0x192ff7(0x1a5)],'username':this[_0x192ff7(0x157)]};}[a49_0x116514(0xf3)](){const _0x37745c=a49_0x116514;this[_0x37745c(0x1a5)]&&(this[_0x37745c(0x1a5)][_0x37745c(0x16a)](),this[_0x37745c(0x1a5)]=null,console[_0x37745c(0x136)](_0x37745c(0x1b2)));}}exports[a49_0x116514(0xe7)]=TelegramBotService,exports[a49_0x116514(0x134)]=new TelegramBotService();