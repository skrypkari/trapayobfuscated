'use strict';function a0_0x4f31(){const _0x580b8e=['NODE_ENV','production','combined','Content-Type','__importDefault','DELETE','Origin','25nbtkwH','urlencoded','json','PUT','X-Requested-With','express-rate-limit','__esModule','2770096DdsEUX','2211566xaEfar','POST','3UCAoZa','default','./config/config','GET','morgan','helmet','1039538PGiBdO','6391848nNtAWD','test','7299033WwjwLv','defineProperty','use','cors','2036370pkkHGS','notFound','Accept','env','22186080cLfNje','10mb','/api/auth/login','/api'];a0_0x4f31=function(){return _0x580b8e;};return a0_0x4f31();}const a0_0x257331=a0_0x9880;(function(_0x58d0c1,_0x5a8f83){const _0x54043c=a0_0x9880,_0x327f1a=_0x58d0c1();while(!![]){try{const _0x3f95b5=parseInt(_0x54043c(0xfc))/0x1+parseInt(_0x54043c(0xf4))/0x2*(-parseInt(_0x54043c(0xf6))/0x3)+parseInt(_0x54043c(0xfd))/0x4+parseInt(_0x54043c(0xec))/0x5*(-parseInt(_0x54043c(0x103))/0x6)+-parseInt(_0x54043c(0xff))/0x7+-parseInt(_0x54043c(0xf3))/0x8+parseInt(_0x54043c(0x107))/0x9;if(_0x3f95b5===_0x5a8f83)break;else _0x327f1a['push'](_0x327f1a['shift']());}catch(_0x2564b3){_0x327f1a['push'](_0x327f1a['shift']());}}}(a0_0x4f31,0xde621));var __importDefault=this&&this[a0_0x257331(0xe9)]||function(_0x1b5031){const _0xfc85f1=a0_0x257331;return _0x1b5031&&_0x1b5031[_0xfc85f1(0xf2)]?_0x1b5031:{'default':_0x1b5031};};Object[a0_0x257331(0x100)](exports,a0_0x257331(0xf2),{'value':!![]});const express_1=__importDefault(require('express')),cors_1=__importDefault(require(a0_0x257331(0x102))),helmet_1=__importDefault(require(a0_0x257331(0xfb))),morgan_1=__importDefault(require(a0_0x257331(0xfa))),express_rate_limit_1=__importDefault(require(a0_0x257331(0xf1))),routes_1=__importDefault(require('./routes')),errorHandler_1=require('./middleware/errorHandler'),config_1=require(a0_0x257331(0xf8)),app=(0x0,express_1['default'])();app['use']((0x0,helmet_1[a0_0x257331(0xf7)])()),app['use']((0x0,cors_1[a0_0x257331(0xf7)])({'origin':process[a0_0x257331(0x106)][a0_0x257331(0x10b)]===a0_0x257331(0x10c)?['https://yourdomain.com']:!![],'credentials':!![],'methods':[a0_0x257331(0xf9),a0_0x257331(0xf5),a0_0x257331(0xef),a0_0x257331(0xea),'OPTIONS','PATCH'],'allowedHeaders':[a0_0x257331(0xe8),'Authorization',a0_0x257331(0xf0),a0_0x257331(0x105),a0_0x257331(0xeb)],'optionsSuccessStatus':0xc8}));const limiter=(0x0,express_rate_limit_1[a0_0x257331(0xf7)])({'windowMs':0xf*0x3c*0x3e8,'max':0x64,'message':{'success':![],'message':'Too\x20many\x20requests\x20from\x20this\x20IP,\x20please\x20try\x20again\x20later.'}});app['use'](limiter);const authLimiter=(0x0,express_rate_limit_1[a0_0x257331(0xf7)])({'windowMs':0xf*0x3c*0x3e8,'max':0x5,'message':{'success':![],'message':'Too\x20many\x20authentication\x20attempts,\x20please\x20try\x20again\x20later.'}});app[a0_0x257331(0x101)](a0_0x257331(0x109),authLimiter),app[a0_0x257331(0x101)](express_1[a0_0x257331(0xf7)][a0_0x257331(0xee)]({'limit':a0_0x257331(0x108)})),app[a0_0x257331(0x101)](express_1[a0_0x257331(0xf7)][a0_0x257331(0xed)]({'extended':!![]}));function a0_0x9880(_0x5085c3,_0x54adee){const _0x4f31ad=a0_0x4f31();return a0_0x9880=function(_0x98808d,_0x1d082f){_0x98808d=_0x98808d-0xe8;let _0xb41bc=_0x4f31ad[_0x98808d];return _0xb41bc;},a0_0x9880(_0x5085c3,_0x54adee);}config_1['config']['nodeEnv']!==a0_0x257331(0xfe)&&app['use']((0x0,morgan_1[a0_0x257331(0xf7)])(a0_0x257331(0x10d)));app[a0_0x257331(0x101)](a0_0x257331(0x10a),routes_1[a0_0x257331(0xf7)]),app[a0_0x257331(0x101)](errorHandler_1[a0_0x257331(0x104)]),app['use'](errorHandler_1['errorHandler']),exports[a0_0x257331(0xf7)]=app;