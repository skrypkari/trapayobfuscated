'use strict';const a48_0x175455=a48_0x8ce3;(function(_0x56c8fe,_0x4d9b97){const _0x3ae374=a48_0x8ce3,_0x582fc6=_0x56c8fe();while(!![]){try{const _0x51ad41=parseInt(_0x3ae374(0x175))/0x1*(-parseInt(_0x3ae374(0x162))/0x2)+parseInt(_0x3ae374(0x16d))/0x3+parseInt(_0x3ae374(0x16a))/0x4+-parseInt(_0x3ae374(0x15f))/0x5*(-parseInt(_0x3ae374(0x170))/0x6)+parseInt(_0x3ae374(0x16e))/0x7+parseInt(_0x3ae374(0x169))/0x8+parseInt(_0x3ae374(0x164))/0x9*(-parseInt(_0x3ae374(0x16f))/0xa);if(_0x51ad41===_0x4d9b97)break;else _0x582fc6['push'](_0x582fc6['shift']());}catch(_0x52929f){_0x582fc6['push'](_0x582fc6['shift']());}}}(a48_0x2c0a,0x5f4b6));function a48_0x8ce3(_0x2f3aeb,_0x496247){const _0x2c0ab7=a48_0x2c0a();return a48_0x8ce3=function(_0x8ce3da,_0x1e6d48){_0x8ce3da=_0x8ce3da-0x15c;let _0x605c70=_0x2c0ab7[_0x8ce3da];return _0x605c70;},a48_0x8ce3(_0x2f3aeb,_0x496247);}var __importDefault=this&&this[a48_0x175455(0x16c)]||function(_0x286f21){const _0x622585=a48_0x175455;return _0x286f21&&_0x286f21[_0x622585(0x15c)]?_0x286f21:{'default':_0x286f21};};Object[a48_0x175455(0x177)](exports,'__esModule',{'value':!![]}),exports[a48_0x175455(0x173)]=void 0x0;const database_1=__importDefault(require(a48_0x175455(0x167)));class IntegrationsService{['parseWebhookEvents'](_0x5db240){const _0x5a043a=a48_0x175455;if(!_0x5db240)return[];if(Array[_0x5a043a(0x168)](_0x5db240))return _0x5db240;if(typeof _0x5db240===_0x5a043a(0x179))try{const _0x2a173e=JSON[_0x5a043a(0x176)](_0x5db240);return Array[_0x5a043a(0x168)](_0x2a173e)?_0x2a173e:[];}catch{return[];}return[];}async[a48_0x175455(0x166)](_0x67ce3b){const _0x52485a=a48_0x175455;await this[_0x52485a(0x15d)](_0x67ce3b);const _0x40b815=await database_1[_0x52485a(0x165)]['shopSettings']['findUnique']({'where':{'shopId':_0x67ce3b},'select':{'webhookUrl':!![],'webhookEvents':!![]}});if(!_0x40b815)throw new Error(_0x52485a(0x178));return{'webhook':{'url':_0x40b815['webhookUrl'],'events':this[_0x52485a(0x174)](_0x40b815['webhookEvents'])}};}async[a48_0x175455(0x171)](_0xdf83f5,_0xec3cc7){const _0x290dfa=a48_0x175455;await this[_0x290dfa(0x15d)](_0xdf83f5);const _0xc2101a={};_0xec3cc7[_0x290dfa(0x172)]!==undefined&&(_0xc2101a[_0x290dfa(0x172)]=_0xec3cc7[_0x290dfa(0x172)]||null),_0xec3cc7[_0x290dfa(0x163)]!==undefined&&(_0xc2101a[_0x290dfa(0x163)]=_0xec3cc7[_0x290dfa(0x163)]||[]),await database_1[_0x290dfa(0x165)][_0x290dfa(0x161)][_0x290dfa(0x16b)]({'where':{'shopId':_0xdf83f5},'data':_0xc2101a});}async[a48_0x175455(0x15d)](_0x5a1f0e){const _0x4df713=a48_0x175455,_0xaec950=await database_1[_0x4df713(0x165)][_0x4df713(0x161)][_0x4df713(0x15e)]({'where':{'shopId':_0x5a1f0e}});!_0xaec950&&await database_1[_0x4df713(0x165)][_0x4df713(0x161)][_0x4df713(0x160)]({'data':{'shopId':_0x5a1f0e}});}}exports[a48_0x175455(0x173)]=IntegrationsService;function a48_0x2c0a(){const _0x58801e=['__importDefault','908964WykOzl','3501834YaFqMZ','10OWTSKA','4908ruBqvI','updateWebhookSettings','webhookUrl','IntegrationsService','parseWebhookEvents','62iOqzzZ','parse','defineProperty','Shop\x20settings\x20not\x20found','string','__esModule','ensureSettingsExist','findUnique','3215lneKgU','create','shopSettings','3098ZlBLXl','webhookEvents','18440073DUKEJL','default','getIntegrations','../config/database','isArray','5420392JbZdFk','2113952IDTyok','update'];a48_0x2c0a=function(){return _0x58801e;};return a48_0x2c0a();}