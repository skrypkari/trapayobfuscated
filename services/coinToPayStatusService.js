'use strict';const a37_0x55e9e4=a37_0x5ad5;function a37_0x2e37(){const _0x17c1cf=['Bank\x20Details:\x20','sendShopWebhook','paymentId','✅\x20[HOURLY]\x20Payment\x20','webhookUrl','✅\x20[INIT]\x20CoinToPay\x20status\x20checking\x20service\x20started\x20(global\x20hourly\x20checks\x20+\x20individual\x20payment\x20timers)','checkPaymentStatus','⏰\x20[EXPIRY]\x20Payment\x20','createdOn','\x20expired\x20CoinToPay\x20payments','\x20marked\x20as\x20EXPIRED\x20due\x20to\x20','coinToPayService','CoinToPay2Service','status_check','\x20days,\x20marking\x20as\x20EXPIRED','⏰\x20[HOURLY]\x20Payment\x20','4cHiLuY','timestamp','\x20\x20\x20📊\x20Status:\x20','size','PENDING','gatewayOrderId','EXPIRY_DAYS','../types/gateway','checkAllPendingPayments','shopId','\x20(age:\x20','status','🛑\x20[SHUTDOWN]\x20Cleared\x20','cointopay2','1208TUKfqf','checkPaymentById','\x20is\x20valid\x20for\x20checking,\x20proceeding...','\x20\x20\x20📝\x20Context:','566434EQsaxz','EXPIRED','🪙\x20[GLOBAL]\x20Starting\x20global\x20check\x20cycle...','stopPeriodicStatusCheck','\x20expired','3254280JnreDS','create','.\x20Remaining\x20active\x20timers:\x20','\x20\x20\x20📝\x20Details:','__esModule','coinToPay2Service','🪙\x20CoinToPayStatusService\x20initialized\x20with\x20support\x20for\x20both\x20CoinToPay\x20and\x20CoinToPay2','\x20days\x20without\x20payment\x20confirmation','findMany','\x20seconds\x20(','❌\x20[GLOBAL]\x20Failed\x20to\x20get\x20pending\x20CoinToPay\x20payments:','Payment\x20is\x20not\x20a\x20CoinToPay/CoinToPay2\x20payment','delay','\x20\x20\x20-\x20Gateway:\x20','\x20not\x20found,\x20clearing\x20timers','iban','40GklKJR','cointopay','\x20skipped,\x20','GLOBAL_CHECK_INTERVAL_MS','customerEmail','createdAt','cointopay_status_check_','🔍\x20[CHECK]\x20Checking\x20','checkExpiredPayments','No\x20webhook\x20URL\x20configured\x20for\x20shop\x20','🪙\x20[GLOBAL]\x20No\x20pending\x20CoinToPay\x20payments\x20to\x20check','Failed\x20to\x20send\x20Telegram\x20payment\x20notification:','6tztLjU','sendPaymentStatusNotification','\x20updated\x20successfully','\x20->\x20','gatewayPaymentId','🏦\x20[CHECK]\x20Saved\x20IBAN:\x20','cointopay_auto_expired','remitterIban','amount','\x20has\x20no\x20gatewayPaymentId,\x20skipping','✅\x20[HOURLY]\x20Hourly\x20check\x20completed\x20for\x20payment\x20','⏰\x20[GLOBAL]\x20Payment\x20','paymentTimers','sendPaymentNotification','\x20is\x20not\x20a\x20CoinToPay/CoinToPay2\x20payment\x20(gateway:\x20','getTime','h),\x20skipping\x20global\x20check','🪙\x20[DEBUG]\x20schedulePaymentChecks\x20called\x20with:','Automatically\x20expired\x20after\x20','includes','transactionId','🏦\x20[CHECK]\x20Saved\x20bank\x20details\x20to\x20admin\x20notes','Webhook\x20event\x20','💰\x20[CHECK]\x20Payment\x20','startPeriodicStatusCheck','./gateways/coinToPayService','payment.failed','\x20found:','timers','application/json','CoinToPayService','\x20\x20\x20-\x20paymentId:\x20','2514197OjfquF','🧹\x20[DEBUG]\x20Cleared\x20timer\x20#','🆔\x20[CHECK]\x20Transaction\x20ID:\x20','webhookLog','bankDetails','unknown','../config/database','\x20status\x20is\x20','update','⏰\x20[DEBUG]\x20Scheduled\x20check\x20#','webhookEvents','./gateways/coinToPay2Service','Failed\x20to\x20send\x20shop\x20webhook:','📊\x20[HOURLY]\x20Payment\x20','description','paymentDetails','\x20\x20\x20📍\x20Source:\x20','paid','loggerService','🧹\x20[CHECK]\x20Payment\x20','✅\x20[EXPIRY]\x20Payment\x20','🛑\x20[SHUTDOWN]\x20CoinToPay\x20global\x20status\x20checking\x20stopped','Payment\x20older\x20than\x20','text','not\x20found','currency','\x20days','catch','\x20with\x20status\x20','1\x20minute','\x20payment\x20',',\x20clearing\x20individual\x20timers','expired','\x20initial\x20timers\x20for\x20payment\x20','push','\x20already\x20marked\x20as\x20expired,\x20skipping\x20global\x20check','\x20for\x20payment\x20','\x20days\x20(created\x20before\x20','\x20has\x20no\x20gatewayPaymentId','8330180BDZAoD','\x20days,\x20will\x20be\x20handled\x20by\x20global\x20expiry\x20check','PAID','FAILED','toISOString','290KqAchC','✅\x20[CHECK]\x20Payment\x20','\x20in\x20','🛑\x20[SHUTDOWN]\x20Stopping\x20CoinToPay\x20status\x20checking\x20service...','Success','✅\x20[TIMER]\x20Individual\x20check\x20#','2\x20minutes',',\x20stopping\x20individual\x20checks','\x20not\x20found\x20in\x20database','TesSoft\x20Payment\x20System/1.0','default','toLowerCase','\x20\x20\x20📅\x20Time:\x20','setDate','📊\x20[CHECK]\x20CoinToPay\x20payment\x20','⚠️\x20[CHECK]\x20Payment\x20','orderId','⏰\x20[EXPIRY]\x20Checking\x20for\x20CoinToPay\x20payments\x20older\x20than\x20','__importDefault','schedulePaymentChecks','toFixed','logShopWebhookError','✅\x20[DEBUG]\x20All\x20timers\x20cleared\x20for\x20payment\x20','🪙\x20[GLOBAL]\x20Found\x20','CoinToPayStatusService','⚠️\x20[DEBUG]\x20No\x20timers\x20found\x20for\x20payment\x20','now','\x20(after\x20','error','\x20pending\x20CoinToPay\x20payments','./loggerService','🪙\x20[GLOBAL]\x20Getting\x20all\x20pending\x20CoinToPay\x20payments...','coinToPayStatusService','3154995fzNcbS','paidAt','not\x20confirmed','\x20checked,\x20','logCoinToPayStatus','\x20to\x20clear','\x20has\x20individual\x20timers,\x20skipping\x20global\x20check','\x20initial\x20checks\x20+\x20hourly\x20checks\x20for\x20payment\x20','cointopay_status_check_error','length','has','🪙\x20[ERROR]\x20CoinToPay\x20Error:\x20','\x20marked\x20as\x20paid\x20at:\x20','COINTOPAY_ERROR','130JTxveE','floor','\x20triggered\x20for\x20payment\x20','🔄\x20[CHECK]\x20Updating\x20payment\x20','🧹\x20[DEBUG]\x20Clearing\x20','Unknown\x20error','schedule_created','created','🪙\x20[HOURLY]\x20Hourly\x20check\x20triggered\x20for\x20payment\x20','5\x20minutes','\x20not\x20enabled\x20for\x20shop\x20','logCoinToPayError','120352KvBZqO','\x20status:\x20','confirmedOn','settings','/status/','Shop\x20webhook\x20sent\x20to\x20','clearPaymentTimers','3582DpcUaX','gateway','findUnique','customerName','❌\x20[CHECK]\x20Payment\x20','log','❌\x20[GLOBAL]\x20Failed\x20to\x20check\x20CoinToPay\x20payment\x20','✅\x20[GLOBAL]\x20Global\x20check\x20completed:\x20','\x20\x20\x20-\x20Status:\x20','checkSinglePayment','📊\x20[CHECK]\x20Payment\x20','\x20status\x20changed\x20to\x20','🪙\x20[INIT]\x20Starting\x20CoinToPay\x20periodic\x20status\x20checking\x20(global\x20checks\x20every\x201\x20hour)','❌\x20[INIT]\x20Initial\x20CoinToPay\x20status\x20check\x20failed:','\x20is\x20older\x20than\x20','\x20status\x20from\x20','shop','globalCheckInterval','message','✅\x20[GLOBAL]\x20Global\x20check\x20cycle\x20completed','COINTOPAY_STATUS_CHANGE','payment.success','stringify','set','🔍\x20[CHECK]\x20Starting\x20check\x20for\x20payment\x20ID:\x20','🔍\x20[MANUAL]\x20Manual\x20check\x20requested\x20for\x20payment:\x20','stack','delete','getPaymentTimerInfo','\x20to\x20','POST','\x20individual\x20payment\x20timers','checkSinglePaymentById','🪙\x20[LOG]\x20CoinToPay\x20Status\x20Change:\x20','payment','adminNotes','\x20\x20\x20-\x20GatewayPaymentId:\x20','auto_expire','❌\x20[EXPIRY]\x20Failed\x20to\x20expire\x20payment\x20','get','forEach'];a37_0x2e37=function(){return _0x17c1cf;};return a37_0x2e37();}function a37_0x5ad5(_0x3a4e0d,_0x1e974e){const _0x2e372c=a37_0x2e37();return a37_0x5ad5=function(_0x5ad5ec,_0x4e9928){_0x5ad5ec=_0x5ad5ec-0x19c;let _0x276cee=_0x2e372c[_0x5ad5ec];return _0x276cee;},a37_0x5ad5(_0x3a4e0d,_0x1e974e);}(function(_0x3beb6f,_0x412e74){const _0x16c868=a37_0x5ad5,_0xaa950c=_0x3beb6f();while(!![]){try{const _0x2e4b9a=parseInt(_0x16c868(0x1b0))/0x1*(-parseInt(_0x16c868(0x1f0))/0x2)+parseInt(_0x16c868(0x1b7))/0x3*(parseInt(_0x16c868(0x1fe))/0x4)+parseInt(_0x16c868(0x26a))/0x5+-parseInt(_0x16c868(0x223))/0x6*(parseInt(_0x16c868(0x243))/0x7)+-parseInt(_0x16c868(0x217))/0x8*(parseInt(_0x16c868(0x290))/0x9)+-parseInt(_0x16c868(0x26f))/0xa*(parseInt(_0x16c868(0x202))/0xb)+-parseInt(_0x16c868(0x207))/0xc*(-parseInt(_0x16c868(0x1a4))/0xd);if(_0x2e4b9a===_0x412e74)break;else _0xaa950c['push'](_0xaa950c['shift']());}catch(_0x2bddac){_0xaa950c['push'](_0xaa950c['shift']());}}}(a37_0x2e37,0xd9e84));var __importDefault=this&&this[a37_0x55e9e4(0x281)]||function(_0x544097){const _0x4d9106=a37_0x55e9e4;return _0x544097&&_0x544097[_0x4d9106(0x20b)]?_0x544097:{'default':_0x544097};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['coinToPayStatusService']=exports[a37_0x55e9e4(0x287)]=void 0x0;const coinToPayService_1=require(a37_0x55e9e4(0x23c)),coinToPay2Service_1=require(a37_0x55e9e4(0x24e)),gateway_1=require(a37_0x55e9e4(0x1f7)),database_1=__importDefault(require(a37_0x55e9e4(0x249))),telegramBotService_1=require('./telegramBotService'),loggerService_1=require(a37_0x55e9e4(0x28d));class CoinToPayStatusService{constructor(){const _0x1801cc=a37_0x55e9e4;this['globalCheckInterval']=null,this['GLOBAL_CHECK_INTERVAL_MS']=0x3c*0x3c*0x3e8,this[_0x1801cc(0x1f6)]=0x5,this[_0x1801cc(0x22f)]=new Map(),this[_0x1801cc(0x1eb)]=new coinToPayService_1[(_0x1801cc(0x241))](),this[_0x1801cc(0x20c)]=new coinToPay2Service_1[(_0x1801cc(0x1ec))](),console[_0x1801cc(0x1bc)](_0x1801cc(0x20d));}[a37_0x55e9e4(0x282)](_0x55c478,_0x40de1a){const _0x228668=a37_0x55e9e4;console[_0x228668(0x1bc)](_0x228668(0x234)),console['log'](_0x228668(0x242)+_0x55c478),console[_0x228668(0x1bc)]('\x20\x20\x20-\x20gatewayPaymentId:\x20'+_0x40de1a),this['clearPaymentTimers'](_0x55c478);const _0x366c21=[],_0x3a848b=new Date(),_0xbe78ad=[{'delay':0x1*0x3c*0x3e8,'description':_0x228668(0x260)},{'delay':0x2*0x3c*0x3e8,'description':_0x228668(0x275)},{'delay':0x5*0x3c*0x3e8,'description':'5\x20minutes'},{'delay':0x5*0x3c*0x3e8,'description':_0x228668(0x1ad)}];console[_0x228668(0x1bc)]('🪙\x20[DEBUG]\x20Creating\x20'+_0xbe78ad[_0x228668(0x19f)]+_0x228668(0x264)+_0x55c478);let _0x4308a8=0x0;_0xbe78ad['forEach']((_0x4e3402,_0x5acb36)=>{const _0x4b870d=_0x228668;_0x4308a8+=_0x4e3402[_0x4b870d(0x213)];const _0x34ab86=setTimeout(async()=>{const _0x2995f8=_0x4b870d;console[_0x2995f8(0x1bc)]('🪙\x20[TIMER]\x20Individual\x20check\x20#'+(_0x5acb36+0x1)+_0x2995f8(0x1a6)+_0x55c478+_0x2995f8(0x28a)+_0x4e3402[_0x2995f8(0x251)]+')');try{await this['checkSinglePaymentById'](_0x55c478),console[_0x2995f8(0x1bc)](_0x2995f8(0x274)+(_0x5acb36+0x1)+'\x20completed\x20for\x20payment\x20'+_0x55c478);}catch(_0x552346){console['error']('❌\x20[TIMER]\x20Failed\x20individual\x20check\x20#'+(_0x5acb36+0x1)+_0x2995f8(0x267)+_0x55c478+':',_0x552346),this['logCoinToPayError'](_0x55c478,_0x40de1a,_0x552346,_0x2995f8(0x1ed),{'checkNumber':_0x5acb36+0x1,'scheduledAfter':_0x4e3402[_0x2995f8(0x251)],'isIndividualCheck':!![]});}},_0x4308a8);_0x366c21[_0x4b870d(0x265)](_0x34ab86),console[_0x4b870d(0x1bc)](_0x4b870d(0x24c)+(_0x5acb36+0x1)+_0x4b870d(0x267)+_0x55c478+_0x4b870d(0x271)+_0x4308a8/0x3e8+_0x4b870d(0x210)+_0x4e3402[_0x4b870d(0x251)]+')');});const _0x545b54=setInterval(async()=>{const _0x5e2457=_0x228668;console[_0x5e2457(0x1bc)](_0x5e2457(0x1ac)+_0x55c478);try{const _0x167503=await database_1[_0x5e2457(0x279)]['payment'][_0x5e2457(0x1b9)]({'where':{'id':_0x55c478},'select':{'id':!![],'status':!![],'createdAt':!![],'gatewayPaymentId':!![]}});if(!_0x167503){console[_0x5e2457(0x1bc)]('❌\x20[HOURLY]\x20Payment\x20'+_0x55c478+_0x5e2457(0x215)),this['clearPaymentTimers'](_0x55c478);return;}console[_0x5e2457(0x1bc)](_0x5e2457(0x250)+_0x55c478+'\x20current\x20status:\x20'+_0x167503['status']);if(_0x167503[_0x5e2457(0x1fb)]!==_0x5e2457(0x1f4)){console[_0x5e2457(0x1bc)](_0x5e2457(0x1e3)+_0x55c478+_0x5e2457(0x24a)+_0x167503[_0x5e2457(0x1fb)]+',\x20stopping\x20individual\x20checks'),this[_0x5e2457(0x1b6)](_0x55c478);return;}const _0x1dd121=Math[_0x5e2457(0x1a5)]((Date[_0x5e2457(0x289)]()-_0x167503[_0x5e2457(0x21c)][_0x5e2457(0x232)]())/(0x3e8*0x3c*0x3c*0x18));if(_0x1dd121>=this[_0x5e2457(0x1f6)]){console['log'](_0x5e2457(0x1ef)+_0x55c478+_0x5e2457(0x1c5)+this[_0x5e2457(0x1f6)]+_0x5e2457(0x26b)),this[_0x5e2457(0x1b6)](_0x55c478);return;}await this[_0x5e2457(0x1d7)](_0x55c478),console[_0x5e2457(0x1bc)](_0x5e2457(0x22d)+_0x55c478);}catch(_0x2e2cc7){console[_0x5e2457(0x28b)]('❌\x20[HOURLY]\x20Failed\x20hourly\x20check\x20for\x20payment\x20'+_0x55c478+':',_0x2e2cc7),this[_0x5e2457(0x1af)](_0x55c478,_0x40de1a,_0x2e2cc7,_0x5e2457(0x1ed),{'isHourlyCheck':!![],'isIndividualCheck':!![]});}},0x3c*0x3c*0x3e8);_0x366c21[_0x228668(0x265)](_0x545b54),this['paymentTimers'][_0x228668(0x1ce)](_0x55c478,{'timers':_0x366c21,'paymentId':_0x55c478,'gatewayPaymentId':_0x40de1a,'createdAt':_0x3a848b}),console['log']('✅\x20[DEBUG]\x20Successfully\x20scheduled\x20'+_0xbe78ad[_0x228668(0x19f)]+_0x228668(0x19d)+_0x55c478),console[_0x228668(0x1bc)]('📊\x20[DEBUG]\x20Total\x20active\x20payment\x20timers:\x20'+this[_0x228668(0x22f)][_0x228668(0x1f3)]),this[_0x228668(0x294)](_0x55c478,_0x40de1a,_0x228668(0x1f4),'PENDING','status_check',{'action':_0x228668(0x1aa),'scheduledChecks':_0xbe78ad['length'],'firstCheckIn':_0xbe78ad[0x0][_0x228668(0x213)]/0x3e8,'totalTimers':this[_0x228668(0x22f)][_0x228668(0x1f3)]});}[a37_0x55e9e4(0x1b6)](_0x2a3019){const _0x505e62=a37_0x55e9e4,_0x5406d9=this['paymentTimers'][_0x505e62(0x1de)](_0x2a3019);_0x5406d9?(console[_0x505e62(0x1bc)](_0x505e62(0x1a8)+_0x5406d9[_0x505e62(0x23f)][_0x505e62(0x19f)]+'\x20timers\x20for\x20payment\x20'+_0x2a3019),_0x5406d9['timers'][_0x505e62(0x1df)]((_0x459d09,_0x40dc29)=>{const _0xe234b2=_0x505e62;_0x459d09&&(clearTimeout(_0x459d09),clearInterval(_0x459d09),console['log'](_0xe234b2(0x244)+(_0x40dc29+0x1)+_0xe234b2(0x267)+_0x2a3019));}),this['paymentTimers'][_0x505e62(0x1d2)](_0x2a3019),console[_0x505e62(0x1bc)](_0x505e62(0x285)+_0x2a3019+_0x505e62(0x209)+this[_0x505e62(0x22f)][_0x505e62(0x1f3)])):console[_0x505e62(0x1bc)](_0x505e62(0x288)+_0x2a3019+_0x505e62(0x295));}async[a37_0x55e9e4(0x1d7)](_0x41bd9d){const _0xa4b7bf=a37_0x55e9e4;console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x1cf)+_0x41bd9d);const _0x56026a=await database_1[_0xa4b7bf(0x279)][_0xa4b7bf(0x1d9)][_0xa4b7bf(0x1b9)]({'where':{'id':_0x41bd9d},'select':{'id':!![],'gatewayPaymentId':!![],'amount':!![],'currency':!![],'status':!![],'shopId':!![],'createdAt':!![],'gateway':!![],'remitterIban':!![],'customerIp':!![],'customerUa':!![],'shop':{'select':{'id':!![],'name':!![],'settings':{'select':{'webhookUrl':!![],'webhookEvents':!![]}}}}}});if(!_0x56026a){console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x1bb)+_0x41bd9d+_0xa4b7bf(0x277));return;}console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x1c1)+_0x41bd9d+_0xa4b7bf(0x23e)),console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x214)+_0x56026a['gateway']),console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x1bf)+_0x56026a[_0xa4b7bf(0x1fb)]),console['log'](_0xa4b7bf(0x1db)+_0x56026a[_0xa4b7bf(0x227)]),console[_0xa4b7bf(0x1bc)]('\x20\x20\x20-\x20Amount:\x20'+_0x56026a[_0xa4b7bf(0x22b)]+'\x20'+_0x56026a['currency']),console[_0xa4b7bf(0x1bc)]('\x20\x20\x20-\x20ShopId:\x20'+_0x56026a[_0xa4b7bf(0x1f9)]);if(_0x56026a['gateway']!=='cointopay'&&_0x56026a['gateway']!=='cointopay2'){console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x27e)+_0x41bd9d+_0xa4b7bf(0x231)+_0x56026a[_0xa4b7bf(0x1b8)]+')');return;}if(_0x56026a[_0xa4b7bf(0x1fb)]!==_0xa4b7bf(0x1f4)){console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x27e)+_0x41bd9d+_0xa4b7bf(0x24a)+_0x56026a[_0xa4b7bf(0x1fb)]+_0xa4b7bf(0x276)),this[_0xa4b7bf(0x1b6)](_0x41bd9d);return;}if(!_0x56026a[_0xa4b7bf(0x227)]){console[_0xa4b7bf(0x1bc)](_0xa4b7bf(0x27e)+_0x41bd9d+_0xa4b7bf(0x269));return;}console['log'](_0xa4b7bf(0x270)+_0x41bd9d+_0xa4b7bf(0x200)),await this[_0xa4b7bf(0x1c0)](_0x56026a);}[a37_0x55e9e4(0x294)](_0x44c7fe,_0xf700a7,_0x3485a2,_0x191ead,_0xe92c81,_0x3f1f37){const _0x276c2e=a37_0x55e9e4,_0x3b7756={'type':_0x276c2e(0x1cb),'paymentId':_0x44c7fe,'gatewayPaymentId':_0xf700a7,'oldStatus':_0x3485a2,'newStatus':_0x191ead,'source':_0xe92c81,'timestamp':new Date()[_0x276c2e(0x26e)](),'details':_0x3f1f37||{}};loggerService_1['loggerService'][_0x276c2e(0x294)](_0x3b7756),console['log'](_0x276c2e(0x1d8)+_0x44c7fe+'\x20('+_0xf700a7+')'),console[_0x276c2e(0x1bc)](_0x276c2e(0x1f2)+_0x3485a2+_0x276c2e(0x226)+_0x191ead),console[_0x276c2e(0x1bc)](_0x276c2e(0x253)+_0xe92c81),console[_0x276c2e(0x1bc)](_0x276c2e(0x27b)+_0x3b7756['timestamp']),_0x3f1f37&&console[_0x276c2e(0x1bc)](_0x276c2e(0x20a),_0x3f1f37);}['logCoinToPayError'](_0xc7af03,_0x587df7,_0x26d9c2,_0x15a992,_0x418fbb){const _0x103ded=a37_0x55e9e4,_0x3d6e5a={'type':_0x103ded(0x1a3),'paymentId':_0xc7af03,'gatewayPaymentId':_0x587df7,'error':_0x26d9c2 instanceof Error?{'message':_0x26d9c2[_0x103ded(0x1c9)],'stack':_0x26d9c2[_0x103ded(0x1d1)]}:_0x26d9c2,'source':_0x15a992,'timestamp':new Date()[_0x103ded(0x26e)](),'context':_0x418fbb||{}};loggerService_1[_0x103ded(0x255)][_0x103ded(0x1af)](_0x3d6e5a),console[_0x103ded(0x28b)](_0x103ded(0x1a1)+_0xc7af03+'\x20('+_0x587df7+')'),console[_0x103ded(0x28b)]('\x20\x20\x20❌\x20Error:\x20'+(_0x26d9c2 instanceof Error?_0x26d9c2[_0x103ded(0x1c9)]:_0x26d9c2)),console[_0x103ded(0x28b)](_0x103ded(0x253)+_0x15a992),console[_0x103ded(0x28b)](_0x103ded(0x27b)+_0x3d6e5a[_0x103ded(0x1f1)]),_0x418fbb&&console[_0x103ded(0x28b)](_0x103ded(0x201),_0x418fbb);}[a37_0x55e9e4(0x23b)](){const _0x14eef4=a37_0x55e9e4;console[_0x14eef4(0x1bc)](_0x14eef4(0x1c3)),this[_0x14eef4(0x1f8)]()[_0x14eef4(0x25e)](_0x25a83d=>{const _0x59449f=_0x14eef4;console['error'](_0x59449f(0x1c4),_0x25a83d);}),this[_0x14eef4(0x1c8)]=setInterval(async()=>{const _0x49da3c=_0x14eef4;try{console[_0x49da3c(0x1bc)](_0x49da3c(0x204)),await this[_0x49da3c(0x1f8)](),console[_0x49da3c(0x1bc)](_0x49da3c(0x1ca));}catch(_0x2bce6d){console[_0x49da3c(0x28b)]('❌\x20[GLOBAL]\x20Periodic\x20CoinToPay\x20status\x20check\x20failed:',_0x2bce6d);}},this[_0x14eef4(0x21a)]),console['log'](_0x14eef4(0x1e5));}[a37_0x55e9e4(0x205)](){const _0x13c210=a37_0x55e9e4;console[_0x13c210(0x1bc)](_0x13c210(0x272));this[_0x13c210(0x1c8)]&&(clearInterval(this[_0x13c210(0x1c8)]),this[_0x13c210(0x1c8)]=null,console['log'](_0x13c210(0x258)));const _0xf1fb6=this[_0x13c210(0x22f)]['size'];for(const [_0x573efd]of this['paymentTimers']){this[_0x13c210(0x1b6)](_0x573efd);}console[_0x13c210(0x1bc)](_0x13c210(0x1fc)+_0xf1fb6+_0x13c210(0x1d6));}async[a37_0x55e9e4(0x1f8)](){const _0xb0b5a4=a37_0x55e9e4;try{console[_0xb0b5a4(0x1bc)](_0xb0b5a4(0x28e));const _0x2f2419=await database_1[_0xb0b5a4(0x279)][_0xb0b5a4(0x1d9)][_0xb0b5a4(0x20f)]({'where':{'gateway':{'in':[_0xb0b5a4(0x218),_0xb0b5a4(0x1fd)]},'status':_0xb0b5a4(0x1f4),'gatewayPaymentId':{'not':null}},'select':{'id':!![],'gatewayPaymentId':!![],'amount':!![],'currency':!![],'status':!![],'shopId':!![],'createdAt':!![],'remitterIban':!![],'customerIp':!![],'customerUa':!![],'shop':{'select':{'id':!![],'name':!![],'settings':{'select':{'webhookUrl':!![],'webhookEvents':!![]}}}}}});console['log'](_0xb0b5a4(0x286)+_0x2f2419[_0xb0b5a4(0x19f)]+_0xb0b5a4(0x28c));if(_0x2f2419[_0xb0b5a4(0x19f)]===0x0){console[_0xb0b5a4(0x1bc)](_0xb0b5a4(0x221));return;}const _0x2fc882=await this[_0xb0b5a4(0x21f)](_0x2f2419);console[_0xb0b5a4(0x1bc)]('⏰\x20[GLOBAL]\x20Found\x20'+_0x2fc882[_0xb0b5a4(0x19f)]+_0xb0b5a4(0x1e9));let _0x3b5ade=0x0,_0x28b51e=0x0;for(const _0x416856 of _0x2f2419){try{if(_0x2fc882['includes'](_0x416856['id'])){console[_0xb0b5a4(0x1bc)](_0xb0b5a4(0x22e)+_0x416856['id']+_0xb0b5a4(0x266)),_0x28b51e++;continue;}if(this[_0xb0b5a4(0x22f)][_0xb0b5a4(0x1a0)](_0x416856['id'])){console[_0xb0b5a4(0x1bc)]('⏰\x20[GLOBAL]\x20Payment\x20'+_0x416856['id']+_0xb0b5a4(0x19c)),_0x28b51e++;continue;}const _0x4a84b5=(Date[_0xb0b5a4(0x289)]()-_0x416856['createdAt'][_0xb0b5a4(0x232)]())/(0x3e8*0x3c*0x3c);if(_0x4a84b5<0x1){console[_0xb0b5a4(0x1bc)](_0xb0b5a4(0x22e)+_0x416856['id']+'\x20is\x20too\x20new\x20('+_0x4a84b5['toFixed'](0x1)+_0xb0b5a4(0x233)),_0x28b51e++;continue;}console[_0xb0b5a4(0x1bc)]('🔍\x20[GLOBAL]\x20Checking\x20old\x20payment\x20'+_0x416856['id']+_0xb0b5a4(0x1fa)+_0x4a84b5[_0xb0b5a4(0x283)](0x1)+'h)'),await this[_0xb0b5a4(0x1c0)](_0x416856),_0x3b5ade++,await new Promise(_0x56e3e5=>setTimeout(_0x56e3e5,0x7d0));}catch(_0x3bc5f2){console[_0xb0b5a4(0x28b)](_0xb0b5a4(0x1bd)+_0x416856['id']+':',_0x3bc5f2),this['logCoinToPayError'](_0x416856['id'],_0x416856[_0xb0b5a4(0x227)]||'unknown',_0x3bc5f2,_0xb0b5a4(0x1ed),{'isGlobalCheck':!![],'paymentAmount':_0x416856[_0xb0b5a4(0x22b)],'paymentCurrency':_0x416856[_0xb0b5a4(0x25c)],'shopId':_0x416856[_0xb0b5a4(0x1f9)],'createdAt':_0x416856['createdAt']}),loggerService_1[_0xb0b5a4(0x255)]['logWhiteDomainError']('cointopay',_0xb0b5a4(0x1b4)+_0x416856[_0xb0b5a4(0x227)],_0x3bc5f2);}}console[_0xb0b5a4(0x1bc)](_0xb0b5a4(0x1be)+_0x3b5ade+_0xb0b5a4(0x293)+_0x28b51e+_0xb0b5a4(0x219)+_0x2fc882['length']+_0xb0b5a4(0x206));}catch(_0x227937){console[_0xb0b5a4(0x28b)](_0xb0b5a4(0x211),_0x227937);}}async[a37_0x55e9e4(0x21f)](_0x5b4f6e){const _0x47ee8f=a37_0x55e9e4,_0x2bfe2e=[],_0x152cf9=new Date();_0x152cf9[_0x47ee8f(0x27c)](_0x152cf9['getDate']()-this[_0x47ee8f(0x1f6)]),console[_0x47ee8f(0x1bc)](_0x47ee8f(0x280)+this[_0x47ee8f(0x1f6)]+_0x47ee8f(0x268)+_0x152cf9['toISOString']()+')');for(const _0x24b084 of _0x5b4f6e){if(_0x24b084[_0x47ee8f(0x21c)]<_0x152cf9){console[_0x47ee8f(0x1bc)](_0x47ee8f(0x1e7)+_0x24b084['id']+'\x20is\x20older\x20than\x20'+this['EXPIRY_DAYS']+_0x47ee8f(0x1ee));try{this[_0x47ee8f(0x294)](_0x24b084['id'],_0x24b084[_0x47ee8f(0x227)]||_0x47ee8f(0x248),_0x47ee8f(0x1f4),_0x47ee8f(0x203),_0x47ee8f(0x1dc),{'reason':'Payment\x20older\x20than\x20'+this[_0x47ee8f(0x1f6)]+_0x47ee8f(0x25d),'createdAt':_0x24b084['createdAt'],'daysSinceCreation':Math[_0x47ee8f(0x1a5)]((Date[_0x47ee8f(0x289)]()-_0x24b084[_0x47ee8f(0x21c)][_0x47ee8f(0x232)]())/(0x3e8*0x3c*0x3c*0x18)),'paymentAmount':_0x24b084['amount'],'paymentCurrency':_0x24b084[_0x47ee8f(0x25c)],'shopId':_0x24b084['shopId']}),await database_1[_0x47ee8f(0x279)][_0x47ee8f(0x1d9)][_0x47ee8f(0x24b)]({'where':{'id':_0x24b084['id']},'data':{'status':_0x47ee8f(0x203),'updatedAt':new Date(),'adminNotes':_0x47ee8f(0x235)+this[_0x47ee8f(0x1f6)]+_0x47ee8f(0x20e)}}),await database_1['default']['webhookLog'][_0x47ee8f(0x208)]({'data':{'paymentId':_0x24b084['id'],'shopId':_0x24b084[_0x47ee8f(0x1f9)],'event':_0x47ee8f(0x229),'statusCode':0xc8,'responseBody':JSON[_0x47ee8f(0x1cd)]({'reason':_0x47ee8f(0x259)+this['EXPIRY_DAYS']+_0x47ee8f(0x25d),'createdAt':_0x24b084[_0x47ee8f(0x21c)],'expiredAt':new Date()[_0x47ee8f(0x26e)](),'daysSinceCreation':Math[_0x47ee8f(0x1a5)]((Date['now']()-_0x24b084[_0x47ee8f(0x21c)][_0x47ee8f(0x232)]())/(0x3e8*0x3c*0x3c*0x18))})}}),await this['sendShopWebhook'](_0x24b084,_0x47ee8f(0x203)),await this['sendPaymentStatusNotification'](_0x24b084,_0x47ee8f(0x203)),this['clearPaymentTimers'](_0x24b084['id']),_0x2bfe2e[_0x47ee8f(0x265)](_0x24b084['id']),console[_0x47ee8f(0x1bc)](_0x47ee8f(0x257)+_0x24b084['id']+_0x47ee8f(0x1ea)+this[_0x47ee8f(0x1f6)]+'-day\x20timeout');}catch(_0xb966f8){console[_0x47ee8f(0x28b)](_0x47ee8f(0x1dd)+_0x24b084['id']+':',_0xb966f8),this[_0x47ee8f(0x1af)](_0x24b084['id'],_0x24b084[_0x47ee8f(0x227)]||_0x47ee8f(0x248),_0xb966f8,_0x47ee8f(0x1dc),{'reason':'Failed\x20to\x20mark\x20payment\x20as\x20expired','createdAt':_0x24b084[_0x47ee8f(0x21c)],'daysSinceCreation':Math[_0x47ee8f(0x1a5)]((Date[_0x47ee8f(0x289)]()-_0x24b084[_0x47ee8f(0x21c)][_0x47ee8f(0x232)]())/(0x3e8*0x3c*0x3c*0x18))});}}}return _0x2bfe2e;}async[a37_0x55e9e4(0x1c0)](_0x485846){const _0x27376b=a37_0x55e9e4;if(!_0x485846[_0x27376b(0x227)]){console[_0x27376b(0x1bc)](_0x27376b(0x27e)+_0x485846['id']+_0x27376b(0x22c));return;}console[_0x27376b(0x1bc)](_0x27376b(0x21e)+_0x485846[_0x27376b(0x1b8)]+_0x27376b(0x261)+_0x485846['id']+'\x20('+_0x485846['gatewayPaymentId']+')');try{let _0x577372;_0x485846[_0x27376b(0x1b8)]===_0x27376b(0x1fd)?(_0x577372=await this[_0x27376b(0x20c)]['checkPaymentStatus'](_0x485846['gatewayPaymentId']),console['log']('📊\x20[CHECK]\x20CoinToPay2\x20payment\x20'+_0x485846['id']+_0x27376b(0x1b1)+_0x577372[_0x27376b(0x1fb)])):(_0x577372=await this[_0x27376b(0x1eb)][_0x27376b(0x1e6)](_0x485846[_0x27376b(0x227)]),console['log'](_0x27376b(0x27d)+_0x485846['id']+_0x27376b(0x1b1)+_0x577372[_0x27376b(0x1fb)]));_0x577372[_0x27376b(0x252)]&&console['log'](_0x27376b(0x1c1)+_0x485846['id']+'\x20details:',{'iban':_0x577372[_0x27376b(0x252)][_0x27376b(0x216)]||_0x27376b(0x25b),'transactionId':_0x577372[_0x27376b(0x252)]['transactionId'],'createdOn':_0x577372[_0x27376b(0x252)][_0x27376b(0x1e8)],'confirmedOn':_0x577372[_0x27376b(0x252)]['confirmedOn']||_0x27376b(0x292)});if(_0x577372[_0x27376b(0x1fb)]!==_0x485846[_0x27376b(0x1fb)]){console[_0x27376b(0x1bc)](_0x27376b(0x1a7)+_0x485846['id']+_0x27376b(0x1c6)+_0x485846[_0x27376b(0x1fb)]+_0x27376b(0x1d4)+_0x577372[_0x27376b(0x1fb)]),this[_0x27376b(0x294)](_0x485846['id'],_0x485846[_0x27376b(0x227)],_0x485846[_0x27376b(0x1fb)],_0x577372[_0x27376b(0x1fb)],_0x27376b(0x1ed),{'paymentDetails':_0x577372[_0x27376b(0x252)],'amount':_0x577372['amount'],'currency':_0x577372[_0x27376b(0x25c)],'shopId':_0x485846[_0x27376b(0x1f9)],'checkTimestamp':new Date()[_0x27376b(0x26e)]()});const _0x2aab93={'status':_0x577372[_0x27376b(0x1fb)],'updatedAt':new Date()};_0x577372[_0x27376b(0x1fb)]===_0x27376b(0x26c)&&_0x485846[_0x27376b(0x1fb)]!=='PAID'&&(_0x2aab93[_0x27376b(0x291)]=new Date(),console[_0x27376b(0x1bc)](_0x27376b(0x23a)+_0x485846['id']+_0x27376b(0x1a2)+_0x2aab93['paidAt'][_0x27376b(0x26e)]()));if(_0x577372[_0x27376b(0x252)]){const _0x46bdc7=_0x577372[_0x27376b(0x252)];_0x46bdc7[_0x27376b(0x216)]&&(_0x2aab93[_0x27376b(0x22a)]=_0x46bdc7[_0x27376b(0x216)],console[_0x27376b(0x1bc)](_0x27376b(0x228)+_0x46bdc7[_0x27376b(0x216)]));if(_0x46bdc7['bankDetails']){const _0xa1f1c0=_0x485846[_0x27376b(0x1da)]||'',_0x404862=_0x27376b(0x1e0)+_0x46bdc7[_0x27376b(0x247)];_0x2aab93['adminNotes']=_0xa1f1c0?_0xa1f1c0+'\x0a\x0a'+_0x404862:_0x404862,console[_0x27376b(0x1bc)](_0x27376b(0x238));}_0x46bdc7['transactionId']&&console[_0x27376b(0x1bc)](_0x27376b(0x245)+_0x46bdc7[_0x27376b(0x237)]),_0x46bdc7[_0x27376b(0x1b2)]&&console['log']('✅\x20[CHECK]\x20Transaction\x20confirmed\x20on:\x20'+_0x46bdc7['confirmedOn']);}await database_1[_0x27376b(0x279)]['payment']['update']({'where':{'id':_0x485846['id']},'data':_0x2aab93}),await database_1[_0x27376b(0x279)][_0x27376b(0x246)]['create']({'data':{'paymentId':_0x485846['id'],'shopId':_0x485846['shopId'],'event':_0x27376b(0x21d)+_0x577372['status']['toLowerCase'](),'statusCode':0xc8,'responseBody':JSON[_0x27376b(0x1cd)]({'oldStatus':_0x485846[_0x27376b(0x1fb)],'newStatus':_0x577372[_0x27376b(0x1fb)],'paymentDetails':_0x577372[_0x27376b(0x252)],'checkedAt':new Date()['toISOString']()})}}),await this[_0x27376b(0x1e1)](_0x485846,_0x577372[_0x27376b(0x1fb)]),await this['sendPaymentStatusNotification'](_0x485846,_0x577372[_0x27376b(0x1fb)]),_0x577372[_0x27376b(0x1fb)]!=='PENDING'&&(console[_0x27376b(0x1bc)](_0x27376b(0x256)+_0x485846['id']+_0x27376b(0x1c2)+_0x577372[_0x27376b(0x1fb)]+_0x27376b(0x262)),this[_0x27376b(0x1b6)](_0x485846['id'])),console[_0x27376b(0x1bc)](_0x27376b(0x270)+_0x485846['id']+_0x27376b(0x225));}else console[_0x27376b(0x1bc)](_0x27376b(0x1c1)+_0x485846['id']+'\x20status\x20unchanged\x20('+_0x577372[_0x27376b(0x1fb)]+')'),this[_0x27376b(0x294)](_0x485846['id'],_0x485846['gatewayPaymentId'],_0x485846[_0x27376b(0x1fb)],_0x577372[_0x27376b(0x1fb)],'status_check',{'statusUnchanged':!![],'paymentDetails':_0x577372['paymentDetails'],'amount':_0x577372[_0x27376b(0x22b)],'currency':_0x577372[_0x27376b(0x25c)],'shopId':_0x485846[_0x27376b(0x1f9)],'checkTimestamp':new Date()[_0x27376b(0x26e)]()});}catch(_0x56cbdf){console[_0x27376b(0x28b)]('❌\x20[CHECK]\x20Failed\x20to\x20check\x20payment\x20'+_0x485846['id']+':',_0x56cbdf),this[_0x27376b(0x1af)](_0x485846['id'],_0x485846[_0x27376b(0x227)],_0x56cbdf,'status_check',{'paymentAmount':_0x485846[_0x27376b(0x22b)],'paymentCurrency':_0x485846['currency'],'shopId':_0x485846['shopId'],'createdAt':_0x485846[_0x27376b(0x21c)]}),await database_1[_0x27376b(0x279)]['webhookLog'][_0x27376b(0x208)]({'data':{'paymentId':_0x485846['id'],'shopId':_0x485846['shopId'],'event':_0x27376b(0x19e),'statusCode':0x1f4,'responseBody':JSON[_0x27376b(0x1cd)]({'error':_0x56cbdf instanceof Error?_0x56cbdf[_0x27376b(0x1c9)]:_0x27376b(0x1a9),'gatewayPaymentId':_0x485846[_0x27376b(0x227)],'checkedAt':new Date()[_0x27376b(0x26e)]()})}});}}async[a37_0x55e9e4(0x1e1)](_0x5978f3,_0x224286){const _0x3e9f27=a37_0x55e9e4,_0x33f3f0=Date[_0x3e9f27(0x289)]();try{const _0x1d0ba6=_0x5978f3[_0x3e9f27(0x1c7)],_0x4300e4=_0x1d0ba6['settings'];if(!_0x4300e4?.[_0x3e9f27(0x1e4)]){console[_0x3e9f27(0x1bc)](_0x3e9f27(0x220)+_0x1d0ba6['id']);return;}const _0xf6c858=_0x224286===_0x3e9f27(0x26c)?_0x3e9f27(0x1cc):_0x224286===_0x3e9f27(0x26d)?'payment.failed':_0x224286===_0x3e9f27(0x203)?_0x3e9f27(0x23d):'payment.pending';if(!_0x4300e4[_0x3e9f27(0x24d)]?.[_0x3e9f27(0x236)](_0xf6c858)){console['log'](_0x3e9f27(0x239)+_0xf6c858+_0x3e9f27(0x1ae)+_0x1d0ba6['id']);return;}const _0x493f4a=(0x0,gateway_1['getGatewayIdByName'])(_0x5978f3[_0x3e9f27(0x1b8)])||_0x5978f3['gateway'],_0x60dfb5={'event':_0xf6c858,'payment':{'id':_0x5978f3['id'],'order_id':_0x5978f3[_0x3e9f27(0x27f)],'gateway_order_id':_0x5978f3[_0x3e9f27(0x1f5)],'gateway':_0x493f4a,'amount':_0x5978f3['amount'],'currency':_0x5978f3['currency'],'status':_0x224286[_0x3e9f27(0x27a)](),'customer_email':_0x5978f3[_0x3e9f27(0x21b)],'customer_name':_0x5978f3[_0x3e9f27(0x1ba)],'created_at':_0x5978f3[_0x3e9f27(0x21c)],'updated_at':new Date()}},_0x199ef7=await fetch(_0x4300e4[_0x3e9f27(0x1e4)],{'method':_0x3e9f27(0x1d5),'headers':{'Content-Type':_0x3e9f27(0x240),'User-Agent':_0x3e9f27(0x278)},'body':JSON[_0x3e9f27(0x1cd)](_0x60dfb5)}),_0x17fdef=Date[_0x3e9f27(0x289)]()-_0x33f3f0,_0x5888fb=_0x199ef7['ok']?_0x3e9f27(0x273):await _0x199ef7[_0x3e9f27(0x25a)]();loggerService_1[_0x3e9f27(0x255)]['logShopWebhookSent'](_0x5978f3[_0x3e9f27(0x1f9)],_0x4300e4[_0x3e9f27(0x1e4)],_0xf6c858,_0x199ef7['status'],_0x17fdef,_0x60dfb5),console[_0x3e9f27(0x1bc)](_0x3e9f27(0x1b5)+_0x4300e4[_0x3e9f27(0x1e4)]+_0x3e9f27(0x25f)+_0x199ef7[_0x3e9f27(0x1fb)]+'\x20('+_0x17fdef+'ms)');}catch(_0x202a58){console[_0x3e9f27(0x28b)](_0x3e9f27(0x24f),_0x202a58),loggerService_1[_0x3e9f27(0x255)][_0x3e9f27(0x284)](_0x5978f3[_0x3e9f27(0x1f9)],_0x5978f3[_0x3e9f27(0x1c7)]?.[_0x3e9f27(0x1b3)]?.[_0x3e9f27(0x1e4)]||_0x3e9f27(0x248),'webhook_send',_0x202a58,{});}}async[a37_0x55e9e4(0x224)](_0xecacf2,_0xfc4a59){const _0x3237db=a37_0x55e9e4;try{const _0x580f5b={'PENDING':_0x3237db(0x1ab),'PAID':_0x3237db(0x254),'FAILED':'failed','EXPIRED':_0x3237db(0x263)},_0x11d468=_0x580f5b[_0xfc4a59];if(!_0x11d468||_0x11d468===_0x3237db(0x1ab))return;await telegramBotService_1['telegramBotService'][_0x3237db(0x230)](_0xecacf2['shopId'],_0xecacf2,_0x11d468);}catch(_0x360585){console[_0x3237db(0x28b)](_0x3237db(0x222),_0x360585);}}async[a37_0x55e9e4(0x1ff)](_0x26bc27){const _0x123d9b=a37_0x55e9e4;console[_0x123d9b(0x1bc)](_0x123d9b(0x1d0)+_0x26bc27);const _0x2e9a21=await database_1[_0x123d9b(0x279)][_0x123d9b(0x1d9)][_0x123d9b(0x1b9)]({'where':{'id':_0x26bc27},'include':{'shop':{'select':{'id':!![],'name':!![],'settings':{'select':{'webhookUrl':!![],'webhookEvents':!![]}}}}}});if(!_0x2e9a21)throw new Error('Payment\x20not\x20found');if(_0x2e9a21[_0x123d9b(0x1b8)]!==_0x123d9b(0x218)&&_0x2e9a21['gateway']!==_0x123d9b(0x1fd))throw new Error(_0x123d9b(0x212));console[_0x123d9b(0x1bc)]('✅\x20[MANUAL]\x20Starting\x20manual\x20check\x20for\x20'+_0x2e9a21['gateway']+_0x123d9b(0x261)+_0x26bc27),await this[_0x123d9b(0x1c0)](_0x2e9a21),console[_0x123d9b(0x1bc)]('✅\x20[MANUAL]\x20Manual\x20check\x20completed\x20for\x20payment\x20'+_0x26bc27);}['getServiceStats'](){const _0x409148=a37_0x55e9e4,_0x55332a=this[_0x409148(0x1c8)]?this[_0x409148(0x21a)]:undefined,_0x112f4e=Array['from'](this[_0x409148(0x22f)]['values']())['map'](_0x10810d=>({'paymentId':_0x10810d[_0x409148(0x1e2)],'gatewayPaymentId':_0x10810d['gatewayPaymentId'],'createdAt':_0x10810d[_0x409148(0x21c)],'timersCount':_0x10810d[_0x409148(0x23f)][_0x409148(0x19f)]}));return{'isActive':!!this[_0x409148(0x1c8)],'globalCheckIntervalMinutes':this[_0x409148(0x21a)]/(0x3e8*0x3c),'expiryDays':this[_0x409148(0x1f6)],'activeIndividualTimers':this[_0x409148(0x22f)][_0x409148(0x1f3)],'nextGlobalCheckIn':_0x55332a,'paymentTimersDetails':_0x112f4e};}[a37_0x55e9e4(0x1d3)](_0x186533){const _0x1eacab=a37_0x55e9e4,_0x5a35f0=this[_0x1eacab(0x22f)][_0x1eacab(0x1de)](_0x186533);if(_0x5a35f0)return{'hasTimers':!![],'timersCount':_0x5a35f0[_0x1eacab(0x23f)][_0x1eacab(0x19f)],'createdAt':_0x5a35f0['createdAt'],'gatewayPaymentId':_0x5a35f0[_0x1eacab(0x227)]};return{'hasTimers':![]};}}exports[a37_0x55e9e4(0x287)]=CoinToPayStatusService,exports[a37_0x55e9e4(0x28f)]=new CoinToPayStatusService();