'use strict';function a52_0x9508(){const _0x74f8d3=['âŒ\x20Error\x20getting\x20debug\x20information','ðŸ‘¥\x20Admin\x20Count:\x20','ðŸ”\x20*Debug\x20Information*\x0a\x0a','chat','broadcastSessions','getUTCFullYear','âœ…\x20Active','default','photo','forEach','preview','initializeBot','padStart','message','ðŸ’¬\x20Create\x20Broadcast','stats_yesterday','join','replace','ðŸ“Š\x20*Statistics:\x20','711585YmNOfY','\x20USDT\x0a','ðŸ“…\x20Today','toISOString','UTC','adminIds','âŒ\x20Merchant\x20bot\x20token\x20not\x20configured','text','CHARGEBACK','getUTCDate','sendPhoto','Markdown','AdminBotService','step','photoFileId','stats_all_time','ðŸ†”\x20Your\x20ID:\x20`','existsSync','warn','stats_today','MarkdownV2','loadConfig','ðŸ“¢\x20*Create\x20Broadcast*\x0a\x0aPlease\x20enter\x20the\x20message\x20text\x20you\x20want\x20to\x20send\x20to\x20all\x20merchants:','4UlAwss','ðŸ¤–\x20Bot\x20Status:\x20','set','8zIwpOM','Error\x20handling\x20debug\x20command:','â›”ï¸\x20Access\x20Denied','âŒ\x20Not\x20Delivered:\x20','log','Error\x20loading\x20admin\x20bot\x20config:','âŒ\x20Inactive','telegramId','ðŸ“¢\x20*Broadcast\x20Preview*\x0a\x0a','ðŸ“…\x20All\x20Time','adminBotService','â›”ï¸\x20Access\x20Denied\x0a\x0a','âŒ\x20Error\x20sending\x20broadcast','âœ…\x20Delivered:\x20','Error\x20saving\x20admin\x20bot\x20config:','\x20-\x20','toFixed','botActive','getUTCMonth','stringify','cwd','ðŸ“†\x20Yesterday','2738403JIZPuv','You\x20are\x20not\x20authorized\x20to\x20use\x20this\x20bot.\x0a','Contact\x20system\x20administrator.','âŒ\x20Cancel','utf-8','âš ï¸\x20Chargebacks\x20\x5c-\x20','readFileSync','ðŸ“‹\x20Admins:\x20`','answerCallbackQuery','âŒ\x20Failed\x20Payments\x20\x5c-\x20','ðŸ“¤\x20Send','length','All\x20Time','âœ…\x20Admin\x20IDs\x20updated:','3466SrRXZh','43803727tGocQJ','parse','12WELqlr','âŒ\x20Error\x20getting\x20statistics','ðŸ“¤\x20Sending\x20broadcast\x20to\x20','âŒ\x20Failed\x20to\x20download\x20photo','ðŸ”\x20*TRAPAY\x20Admin\x20Bot*\x0a\x0aâœ…\x20You\x20are\x20authorized\x20as\x20admin.','handleStatistics','back_to_stats_menu','amountAfterGatewayCommissionUSDT','config','dirname','get','uptime','ðŸ’µ\x20Earned\x20\x5c-\x20','0.0','stopBot','data','stats_last_month','message_id','ðŸ“¦\x20Node:\x20','node-telegram-bot-api','editMessageText','\x20merchants...','floor','2729913WZdLLW','timestamp','EXPIRED','__importDefault','from','telegramUser','PAID','stats_','mkdirSync','FAILED','ðŸ“ˆ\x20Statistics','setupBotHandlers','defineProperty','toString','back_to_main','admins','ðŸ“ˆ\x20Conversion\x20\x5c-\x20','ðŸ‘¥\x20Total\x20Merchants:\x20','ðŸ›‘\x20Admin\x20Telegram\x20bot\x20stopped','onText','â¬…ï¸\x20Back','cmd_broadcast','ðŸ“…\x20Last\x20Month','bot','\x0a\x0a_Ready\x20to\x20send?_','âœ…\x20Successful\x20Payments\x20\x5c-\x20','path','Error\x20getting\x20statistics:','8848550VqZWLF','updateAdminIds','cmd_debug','ðŸ“…\x20Yesterday','â°\x20Timestamp:\x20','caption','894zYgnuD','TELEGRAM_ADMIN_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','339WTkfSb','startsWith','__esModule','ï¿½\x20Today','botToken','delete','error','ðŸ“…\x20This\x20Month','getFileLink','ðŸ”§\x20Debug','broadcast_cancel','sendMessage','status','Error\x20sending\x20broadcast:','41153QgDfMs','version','stopPolling','filter','awaiting_text','arrayBuffer','â±\x20Uptime:\x20','ðŸ“Š\x20*Statistics*\x0a\x0aSelect\x20period:','ðŸ“¤\x20Sending\x20broadcast...','cmd_statistics','Admin\x20Telegram\x20bot\x20error:','Error\x20handling\x20/debug\x20command:','yourId','adminBotConfig.json','isAdmin','findMany','nodeVersion','includes','callback_query','saveConfig','handleBroadcast','âœ…\x20Admin\x20Telegram\x20bot\x20initialized\x20successfully','stats_this_month','payment','âŒ\x20Broadcast\x20cancelled','âŒ\x20Failed\x20to\x20initialize\x20Admin\x20Telegram\x20bot:','../config/database','REFUND','Failed\x20to\x20download\x20photo:','adminCount','broadcast_send'];a52_0x9508=function(){return _0x74f8d3;};return a52_0x9508();}const a52_0x170030=a52_0xdd88;(function(_0x5d7b4b,_0x349bcf){const _0x412ca4=a52_0xdd88,_0x5b7286=_0x5d7b4b();while(!![]){try{const _0x3352ff=parseInt(_0x412ca4(0x17f))/0x1*(-parseInt(_0x412ca4(0x141))/0x2)+parseInt(_0x412ca4(0x15b))/0x3*(-parseInt(_0x412ca4(0x11a))/0x4)+parseInt(_0x412ca4(0x103))/0x5+-parseInt(_0x412ca4(0x17d))/0x6*(parseInt(_0x412ca4(0x18d))/0x7)+-parseInt(_0x412ca4(0x11d))/0x8*(parseInt(_0x412ca4(0x133))/0x9)+-parseInt(_0x412ca4(0x177))/0xa+parseInt(_0x412ca4(0x142))/0xb*(parseInt(_0x412ca4(0x144))/0xc);if(_0x3352ff===_0x349bcf)break;else _0x5b7286['push'](_0x5b7286['shift']());}catch(_0x5c5e44){_0x5b7286['push'](_0x5b7286['shift']());}}}(a52_0x9508,0x89303));var __importDefault=this&&this[a52_0x170030(0x15e)]||function(_0x29e54b){const _0xe085e9=a52_0x170030;return _0x29e54b&&_0x29e54b[_0xe085e9(0x181)]?_0x29e54b:{'default':_0x29e54b};};Object[a52_0x170030(0x167)](exports,'__esModule',{'value':!![]}),exports[a52_0x170030(0x127)]=exports[a52_0x170030(0x10f)]=void 0x0;function a52_0xdd88(_0x459490,_0x204a91){_0x459490=_0x459490-0xf3;const _0x950806=a52_0x9508();let _0xdd889f=_0x950806[_0x459490];return _0xdd889f;}const node_telegram_bot_api_1=__importDefault(require(a52_0x170030(0x157))),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a52_0x170030(0x175))),CONFIG_PATH=path_1[a52_0x170030(0xf7)][a52_0x170030(0x100)](process[a52_0x170030(0x131)](),a52_0x170030(0x153),a52_0x170030(0x19a));class AdminBotService{constructor(){const _0x11faf6=a52_0x170030;this[_0x11faf6(0x172)]=null,this[_0x11faf6(0xf4)]=new Map(),this[_0x11faf6(0x183)]=process.env.TELEGRAM_ADMIN_BOT_TOKEN||'',this['config']=this[_0x11faf6(0x118)](),this[_0x11faf6(0x183)]?this[_0x11faf6(0xfb)]():console[_0x11faf6(0x115)](_0x11faf6(0x17e));}[a52_0x170030(0x118)](){const _0x5b501b=a52_0x170030;try{if(fs_1[_0x5b501b(0xf7)][_0x5b501b(0x114)](CONFIG_PATH)){const _0x5eadfe=fs_1[_0x5b501b(0xf7)][_0x5b501b(0x139)](CONFIG_PATH,_0x5b501b(0x137));return JSON[_0x5b501b(0x143)](_0x5eadfe);}}catch(_0x3d1d4f){console[_0x5b501b(0x185)](_0x5b501b(0x122),_0x3d1d4f);}return{'adminIds':[]};}[a52_0x170030(0x1a0)](){const _0x44f264=a52_0x170030;try{const _0x2dedea=path_1['default'][_0x44f264(0x14d)](CONFIG_PATH);!fs_1['default'][_0x44f264(0x114)](_0x2dedea)&&fs_1[_0x44f264(0xf7)][_0x44f264(0x163)](_0x2dedea,{'recursive':!![]}),fs_1[_0x44f264(0xf7)]['writeFileSync'](CONFIG_PATH,JSON[_0x44f264(0x130)](this[_0x44f264(0x14c)],null,0x2));}catch(_0x521ad5){console[_0x44f264(0x185)](_0x44f264(0x12b),_0x521ad5);}}['isAdmin'](_0x505a94){const _0x478377=a52_0x170030;return this[_0x478377(0x14c)]['adminIds'][_0x478377(0x19e)](_0x505a94);}['initializeBot'](){const _0x8ed911=a52_0x170030;try{this[_0x8ed911(0x172)]=new node_telegram_bot_api_1[(_0x8ed911(0xf7))](this[_0x8ed911(0x183)],{'polling':!![]}),this[_0x8ed911(0x166)](),console[_0x8ed911(0x121)](_0x8ed911(0x1a2));}catch(_0x3eb982){console[_0x8ed911(0x185)](_0x8ed911(0x1a6),_0x3eb982);}}[a52_0x170030(0x166)](){const _0x5d580a=a52_0x170030;if(!this[_0x5d580a(0x172)])return;this[_0x5d580a(0x172)]['onText'](/\/start/,async _0x26eab0=>{const _0x26fa6d=_0x5d580a,_0x235bfb=_0x26eab0[_0x26fa6d(0xf3)]['id'],_0x4fc83f=_0x26eab0[_0x26fa6d(0x15f)]?.['id']['toString']();if(!_0x4fc83f)return;if(this[_0x26fa6d(0x19b)](_0x4fc83f)){const _0x54e584={'inline_keyboard':[[{'text':_0x26fa6d(0x165),'callback_data':_0x26fa6d(0x196)}],[{'text':_0x26fa6d(0xfe),'callback_data':_0x26fa6d(0x170)}],[{'text':_0x26fa6d(0x188),'callback_data':'cmd_debug'}]]};await this[_0x26fa6d(0x172)]?.[_0x26fa6d(0x18a)](_0x235bfb,_0x26fa6d(0x148),{'parse_mode':_0x26fa6d(0x10e),'reply_markup':_0x54e584});}else await this[_0x26fa6d(0x172)]?.['sendMessage'](_0x235bfb,_0x26fa6d(0x128)+_0x26fa6d(0x134)+_0x26fa6d(0x135),{'parse_mode':'Markdown'});}),this[_0x5d580a(0x172)][_0x5d580a(0x16e)](/\/debug/,async _0x59c7e6=>{const _0x112726=_0x5d580a,_0x3d69d3=_0x59c7e6[_0x112726(0xf3)]['id'],_0x39d861=_0x59c7e6[_0x112726(0x15f)]?.['id'][_0x112726(0x168)]();if(!_0x39d861)return;if(!this[_0x112726(0x19b)](_0x39d861)){await this['bot']?.[_0x112726(0x18a)](_0x3d69d3,'â›”ï¸\x20Access\x20Denied');return;}try{const _0x231ee4={'botActive':!!this['bot'],'adminCount':this[_0x112726(0x14c)][_0x112726(0x108)][_0x112726(0x13e)],'admins':this[_0x112726(0x14c)][_0x112726(0x108)],'yourId':_0x39d861,'timestamp':new Date()[_0x112726(0x106)](),'nodeVersion':process['version'],'uptime':process[_0x112726(0x14f)]()};let _0x5cbf60='ðŸ”\x20*Debug\x20Information*\x0a\x0a';_0x5cbf60+=_0x112726(0x11b)+(_0x231ee4[_0x112726(0x12e)]?'âœ…\x20Active':_0x112726(0x123))+'\x0a',_0x5cbf60+=_0x112726(0x1ad)+_0x231ee4['adminCount']+'\x0a',_0x5cbf60+=_0x112726(0x13a)+_0x231ee4['admins']['join'](',\x20')+'`\x0a',_0x5cbf60+=_0x112726(0x113)+_0x231ee4[_0x112726(0x199)]+'`\x0a',_0x5cbf60+=_0x112726(0x17b)+_0x231ee4['timestamp']+'\x0a',_0x5cbf60+=_0x112726(0x156)+_0x231ee4[_0x112726(0x19d)]+'\x0a',_0x5cbf60+=_0x112726(0x193)+Math[_0x112726(0x15a)](_0x231ee4[_0x112726(0x14f)])+'s',await this[_0x112726(0x172)]?.[_0x112726(0x18a)](_0x3d69d3,_0x5cbf60,{'parse_mode':'Markdown'});}catch(_0x3b05e3){console['error'](_0x112726(0x198),_0x3b05e3),await this['bot']?.[_0x112726(0x18a)](_0x3d69d3,_0x112726(0x1ac));}}),this['bot'][_0x5d580a(0x16e)](/\/statistics/,async _0x23487c=>{const _0x1943a5=_0x5d580a,_0x496d8a=_0x23487c[_0x1943a5(0xf3)]['id'],_0x3ce0f0=_0x23487c['from']?.['id'][_0x1943a5(0x168)]();if(!_0x3ce0f0)return;if(!this[_0x1943a5(0x19b)](_0x3ce0f0)){await this['bot']?.[_0x1943a5(0x18a)](_0x496d8a,_0x1943a5(0x11f));return;}const _0x5c1a93={'inline_keyboard':[[{'text':_0x1943a5(0x105),'callback_data':_0x1943a5(0x116)}],[{'text':_0x1943a5(0x17a),'callback_data':'stats_yesterday'}],[{'text':'ðŸ“…\x20This\x20Month','callback_data':_0x1943a5(0x1a3)}],[{'text':_0x1943a5(0x171),'callback_data':_0x1943a5(0x154)}],[{'text':_0x1943a5(0x126),'callback_data':_0x1943a5(0x112)}]]};await this['bot']?.[_0x1943a5(0x18a)](_0x496d8a,'ðŸ“Š\x20*Statistics*\x0a\x0aSelect\x20period:',{'parse_mode':_0x1943a5(0x10e),'reply_markup':_0x5c1a93});}),this[_0x5d580a(0x172)]['on'](_0x5d580a(0x19f),async _0x4ee381=>{const _0x15df4f=_0x5d580a,_0xd5e6dd=_0x4ee381[_0x15df4f(0xfd)]?.['chat']['id'],_0x283d26=_0x4ee381['from']?.['id']['toString'](),_0x319133=_0x4ee381[_0x15df4f(0x153)];if(!_0xd5e6dd||!_0x283d26||!_0x319133)return;if(!this['isAdmin'](_0x283d26)){await this[_0x15df4f(0x172)]?.[_0x15df4f(0x13b)](_0x4ee381['id'],{'text':'â›”ï¸\x20Access\x20Denied'});return;}if(_0x319133===_0x15df4f(0x196)){const _0x2a4acb={'inline_keyboard':[[{'text':'ðŸ“…\x20Today','callback_data':'stats_today'}],[{'text':'ðŸ“…\x20Yesterday','callback_data':'stats_yesterday'}],[{'text':_0x15df4f(0x186),'callback_data':_0x15df4f(0x1a3)}],[{'text':_0x15df4f(0x171),'callback_data':'stats_last_month'}],[{'text':_0x15df4f(0x126),'callback_data':_0x15df4f(0x112)}],[{'text':'ðŸ”™\x20Back','callback_data':_0x15df4f(0x169)}]]};await this[_0x15df4f(0x172)]?.[_0x15df4f(0x158)](_0x15df4f(0x194),{'chat_id':_0xd5e6dd,'message_id':_0x4ee381[_0x15df4f(0xfd)]?.['message_id'],'parse_mode':_0x15df4f(0x10e),'reply_markup':_0x2a4acb}),await this['bot']?.[_0x15df4f(0x13b)](_0x4ee381['id']);}else{if(_0x319133===_0x15df4f(0x179))try{const _0x36869b={'botActive':!!this[_0x15df4f(0x172)],'adminCount':this[_0x15df4f(0x14c)][_0x15df4f(0x108)]['length'],'admins':this[_0x15df4f(0x14c)][_0x15df4f(0x108)],'yourId':_0x283d26,'timestamp':new Date()[_0x15df4f(0x106)](),'nodeVersion':process[_0x15df4f(0x18e)],'uptime':process[_0x15df4f(0x14f)]()};let _0x30560b=_0x15df4f(0x1ae);_0x30560b+=_0x15df4f(0x11b)+(_0x36869b[_0x15df4f(0x12e)]?_0x15df4f(0xf6):_0x15df4f(0x123))+'\x0a',_0x30560b+=_0x15df4f(0x1ad)+_0x36869b[_0x15df4f(0x1aa)]+'\x0a',_0x30560b+=_0x15df4f(0x13a)+_0x36869b[_0x15df4f(0x16a)][_0x15df4f(0x100)](',\x20')+'`\x0a',_0x30560b+=_0x15df4f(0x113)+_0x36869b[_0x15df4f(0x199)]+'`\x0a',_0x30560b+=_0x15df4f(0x17b)+_0x36869b[_0x15df4f(0x15c)]+'\x0a',_0x30560b+='ðŸ“¦\x20Node:\x20'+_0x36869b[_0x15df4f(0x19d)]+'\x0a',_0x30560b+='â±\x20Uptime:\x20'+Math[_0x15df4f(0x15a)](_0x36869b[_0x15df4f(0x14f)])+'s';const _0x5b94d2={'inline_keyboard':[[{'text':_0x15df4f(0x16f),'callback_data':_0x15df4f(0x169)}]]};await this[_0x15df4f(0x172)]?.['editMessageText'](_0x30560b,{'chat_id':_0xd5e6dd,'message_id':_0x4ee381[_0x15df4f(0xfd)]?.['message_id'],'parse_mode':_0x15df4f(0x10e),'reply_markup':_0x5b94d2}),await this[_0x15df4f(0x172)]?.['answerCallbackQuery'](_0x4ee381['id']);}catch(_0x4c9dcf){console[_0x15df4f(0x185)](_0x15df4f(0x11e),_0x4c9dcf),await this['bot']?.[_0x15df4f(0x13b)](_0x4ee381['id'],{'text':_0x15df4f(0x1ac)});}else{if(_0x319133===_0x15df4f(0x170))this['broadcastSessions'][_0x15df4f(0x11c)](_0xd5e6dd,{'step':'awaiting_text'}),await this[_0x15df4f(0x172)]?.[_0x15df4f(0x158)](_0x15df4f(0x119),{'chat_id':_0xd5e6dd,'message_id':_0x4ee381[_0x15df4f(0xfd)]?.['message_id'],'parse_mode':_0x15df4f(0x10e)}),await this[_0x15df4f(0x172)]?.[_0x15df4f(0x13b)](_0x4ee381['id']);else{if(_0x319133==='broadcast_cancel')this[_0x15df4f(0xf4)][_0x15df4f(0x184)](_0xd5e6dd),await this[_0x15df4f(0x172)]?.['sendMessage'](_0xd5e6dd,_0x15df4f(0x1a5)),await this[_0x15df4f(0x172)]?.[_0x15df4f(0x13b)](_0x4ee381['id']);else{if(_0x319133===_0x15df4f(0x1ab)){const _0x320188=this[_0x15df4f(0xf4)][_0x15df4f(0x14e)](_0xd5e6dd);if(!_0x320188||!_0x320188[_0x15df4f(0x10a)]&&!_0x320188['photoFileId']){await this[_0x15df4f(0x172)]?.['answerCallbackQuery'](_0x4ee381['id'],{'text':'âŒ\x20No\x20message\x20to\x20send'});return;}await this[_0x15df4f(0x172)]?.[_0x15df4f(0x13b)](_0x4ee381['id'],{'text':_0x15df4f(0x195)}),await this[_0x15df4f(0x1a1)](_0xd5e6dd,_0x320188['text']||'',_0x320188[_0x15df4f(0x111)]),this['broadcastSessions'][_0x15df4f(0x184)](_0xd5e6dd);}else{if(_0x319133[_0x15df4f(0x180)](_0x15df4f(0x162)))await this[_0x15df4f(0x149)](_0xd5e6dd,_0x319133,_0x4ee381['message']?.[_0x15df4f(0x155)]),await this[_0x15df4f(0x172)]?.['answerCallbackQuery'](_0x4ee381['id']);else{if(_0x319133==='back_to_main'){const _0x28ca74={'inline_keyboard':[[{'text':_0x15df4f(0x165),'callback_data':'cmd_statistics'}],[{'text':_0x15df4f(0xfe),'callback_data':'cmd_broadcast'}],[{'text':_0x15df4f(0x188),'callback_data':'cmd_debug'}]]};await this['bot']?.[_0x15df4f(0x158)]('ðŸ”\x20*TRAPAY\x20Admin\x20Bot*\x0a\x0aâœ…\x20You\x20are\x20authorized\x20as\x20admin.',{'chat_id':_0xd5e6dd,'message_id':_0x4ee381[_0x15df4f(0xfd)]?.[_0x15df4f(0x155)],'parse_mode':_0x15df4f(0x10e),'reply_markup':_0x28ca74}),await this[_0x15df4f(0x172)]?.[_0x15df4f(0x13b)](_0x4ee381['id']);}else{if(_0x319133===_0x15df4f(0x14a)){const _0x521bf5={'inline_keyboard':[[{'text':_0x15df4f(0x182),'callback_data':_0x15df4f(0x116)}],[{'text':_0x15df4f(0x132),'callback_data':'stats_yesterday'}],[{'text':'ðŸ“†\x20This\x20Month','callback_data':_0x15df4f(0x1a3)}],[{'text':'ðŸ“†\x20Last\x20Month','callback_data':_0x15df4f(0x154)}],[{'text':'ðŸ“†\x20All\x20Time','callback_data':'stats_all_time'}],[{'text':_0x15df4f(0x16f),'callback_data':_0x15df4f(0x169)}]]};await this[_0x15df4f(0x172)]?.[_0x15df4f(0x158)]('ðŸ“Š\x20*Statistics*\x0a\x0aSelect\x20period:',{'chat_id':_0xd5e6dd,'message_id':_0x4ee381[_0x15df4f(0xfd)]?.['message_id'],'parse_mode':_0x15df4f(0x10e),'reply_markup':_0x521bf5}),await this[_0x15df4f(0x172)]?.['answerCallbackQuery'](_0x4ee381['id']);}}}}}}}}}),this[_0x5d580a(0x172)]['on'](_0x5d580a(0xfd),async _0x8be0b6=>{const _0x114609=_0x5d580a,_0x49db64=_0x8be0b6[_0x114609(0xf3)]['id'],_0x228ae0=_0x8be0b6[_0x114609(0x15f)]?.['id'][_0x114609(0x168)](),_0x2f9d1a=_0x8be0b6[_0x114609(0x10a)]||_0x8be0b6[_0x114609(0x17c)],_0x466126=_0x8be0b6[_0x114609(0xf8)];if(!_0x228ae0)return;if(!this[_0x114609(0x19b)](_0x228ae0))return;if(_0x2f9d1a&&_0x2f9d1a[_0x114609(0x180)]('/'))return;const _0x34d093=this[_0x114609(0xf4)][_0x114609(0x14e)](_0x49db64);if(!_0x34d093)return;if(_0x34d093[_0x114609(0x110)]===_0x114609(0x191)){if(!_0x2f9d1a&&!_0x466126)return;_0x34d093[_0x114609(0x10a)]=_0x2f9d1a||'';_0x466126&&_0x466126[_0x114609(0x13e)]>0x0&&(_0x34d093['photoFileId']=_0x466126[_0x466126[_0x114609(0x13e)]-0x1]['file_id']);_0x34d093[_0x114609(0x110)]=_0x114609(0xfa);const _0x576cfb={'inline_keyboard':[[{'text':_0x114609(0x136),'callback_data':_0x114609(0x189)},{'text':_0x114609(0x13d),'callback_data':'broadcast_send'}]]};_0x34d093['photoFileId']?await this[_0x114609(0x172)]?.[_0x114609(0x10d)](_0x49db64,_0x34d093[_0x114609(0x111)],{'caption':'ðŸ“¢\x20*Broadcast\x20Preview*\x0a\x0a'+_0x34d093['text']+_0x114609(0x173),'parse_mode':_0x114609(0x10e),'reply_markup':_0x576cfb}):await this[_0x114609(0x172)]?.['sendMessage'](_0x49db64,_0x114609(0x125)+_0x34d093[_0x114609(0x10a)]+_0x114609(0x173),{'parse_mode':'Markdown','reply_markup':_0x576cfb});}}),this[_0x5d580a(0x172)]['on'](_0x5d580a(0x185),_0x13f836=>{const _0x496b37=_0x5d580a;console['error'](_0x496b37(0x197),_0x13f836);});}async[a52_0x170030(0x1a1)](_0x27e9e0,_0x29d7b7,_0x30ab53){const _0x8dad18=a52_0x170030;try{const _0x32d4ed=require(_0x8dad18(0x1a7))[_0x8dad18(0xf7)],_0x396309=require(_0x8dad18(0x157)),_0x3ad6c4=process.env.TELEGRAM_BOT_TOKEN;if(!_0x3ad6c4){await this[_0x8dad18(0x172)]?.[_0x8dad18(0x18a)](_0x27e9e0,_0x8dad18(0x109));return;}const _0x55db26=new _0x396309(_0x3ad6c4),_0x35d249=await _0x32d4ed[_0x8dad18(0x160)][_0x8dad18(0x19c)]({'where':{'shopId':{'not':null},'isVerified':!![]},'select':{'telegramId':!![]}}),_0x4c8fd5=_0x35d249['length'];let _0x3f1725=0x0,_0x18a5f6=0x0,_0x1ad15c=0x0;await this[_0x8dad18(0x172)]?.['sendMessage'](_0x27e9e0,_0x8dad18(0x146)+_0x4c8fd5+_0x8dad18(0x159));let _0x558f14=null;if(_0x30ab53&&this['bot'])try{const _0x45e717=await this[_0x8dad18(0x172)][_0x8dad18(0x187)](_0x30ab53),_0x56fb7a=await fetch(_0x45e717);_0x558f14=Buffer[_0x8dad18(0x15f)](await _0x56fb7a[_0x8dad18(0x192)]());}catch(_0x36043f){console[_0x8dad18(0x185)](_0x8dad18(0x1a9),_0x36043f),await this['bot']?.[_0x8dad18(0x18a)](_0x27e9e0,_0x8dad18(0x147));return;}for(const _0x41ac1e of _0x35d249){try{_0x558f14?await _0x55db26[_0x8dad18(0x10d)](_0x41ac1e[_0x8dad18(0x124)],_0x558f14,{'caption':_0x29d7b7,'parse_mode':_0x8dad18(0x10e)}):await _0x55db26['sendMessage'](_0x41ac1e[_0x8dad18(0x124)],_0x29d7b7,{'parse_mode':'Markdown'}),_0x3f1725++,_0x18a5f6++,await new Promise(_0x4644dd=>setTimeout(_0x4644dd,0x64));}catch(_0x5a4cd0){_0x3f1725++,_0x1ad15c++,console[_0x8dad18(0x185)]('Failed\x20to\x20send\x20to\x20'+_0x41ac1e[_0x8dad18(0x124)]+':',_0x5a4cd0['message']);}}const _0x2c9c41='âœ…\x20*Broadcast\x20Complete*\x0a\x0a'+(_0x8dad18(0x16c)+_0x4c8fd5+'\x0a')+('ðŸ“¤\x20Sent:\x20'+_0x3f1725+'\x0a')+(_0x8dad18(0x12a)+_0x18a5f6+'\x0a')+(_0x8dad18(0x120)+_0x1ad15c);await this['bot']?.[_0x8dad18(0x18a)](_0x27e9e0,_0x2c9c41,{'parse_mode':_0x8dad18(0x10e)});}catch(_0x711f01){console[_0x8dad18(0x185)](_0x8dad18(0x18c),_0x711f01),await this['bot']?.[_0x8dad18(0x18a)](_0x27e9e0,_0x8dad18(0x129));}}async[a52_0x170030(0x149)](_0x249298,_0x3beb7e,_0x9c7e87){const _0x55a6d2=a52_0x170030;try{const _0x148262=require(_0x55a6d2(0x1a7))[_0x55a6d2(0xf7)],_0x2bc136=new Date();let _0x25fc8e,_0x166ef7,_0x2fde48;switch(_0x3beb7e){case _0x55a6d2(0x116):{const _0x4f9e62=new Date(Date['UTC'](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136[_0x55a6d2(0x12f)](),_0x2bc136[_0x55a6d2(0x10c)]()));_0x25fc8e=_0x4f9e62,_0x166ef7=new Date(Date[_0x55a6d2(0x107)](_0x2bc136['getUTCFullYear'](),_0x2bc136['getUTCMonth'](),_0x2bc136[_0x55a6d2(0x10c)](),0x17,0x3b,0x3b,0x3e7)),_0x2fde48=_0x4f9e62[_0x55a6d2(0x10c)]()[_0x55a6d2(0x168)]()['padStart'](0x2,'0')+'.'+(_0x4f9e62[_0x55a6d2(0x12f)]()+0x1)[_0x55a6d2(0x168)]()[_0x55a6d2(0xfc)](0x2,'0')+'.'+_0x4f9e62[_0x55a6d2(0xf5)]();break;}case _0x55a6d2(0xff):{const _0x54249d=new Date(Date[_0x55a6d2(0x107)](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136[_0x55a6d2(0x12f)](),_0x2bc136[_0x55a6d2(0x10c)]()-0x1));_0x25fc8e=_0x54249d,_0x166ef7=new Date(Date[_0x55a6d2(0x107)](_0x2bc136['getUTCFullYear'](),_0x2bc136[_0x55a6d2(0x12f)](),_0x2bc136[_0x55a6d2(0x10c)]()-0x1,0x17,0x3b,0x3b,0x3e7)),_0x2fde48=_0x54249d[_0x55a6d2(0x10c)]()[_0x55a6d2(0x168)]()[_0x55a6d2(0xfc)](0x2,'0')+'.'+(_0x54249d['getUTCMonth']()+0x1)[_0x55a6d2(0x168)]()['padStart'](0x2,'0')+'.'+_0x54249d['getUTCFullYear']();break;}case _0x55a6d2(0x1a3):{const _0x542a95=new Date(Date[_0x55a6d2(0x107)](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136['getUTCMonth'](),0x1));_0x25fc8e=_0x542a95,_0x166ef7=new Date(Date[_0x55a6d2(0x107)](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136[_0x55a6d2(0x12f)]()+0x1,0x0,0x17,0x3b,0x3b,0x3e7));const _0x4bd3dc=new Date(Date[_0x55a6d2(0x107)](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136['getUTCMonth']()+0x1,0x0));_0x2fde48=_0x542a95[_0x55a6d2(0x10c)]()[_0x55a6d2(0x168)]()[_0x55a6d2(0xfc)](0x2,'0')+'.'+(_0x542a95[_0x55a6d2(0x12f)]()+0x1)[_0x55a6d2(0x168)]()['padStart'](0x2,'0')+'.'+_0x542a95[_0x55a6d2(0xf5)]()+_0x55a6d2(0x12c)+_0x4bd3dc[_0x55a6d2(0x10c)]()[_0x55a6d2(0x168)]()[_0x55a6d2(0xfc)](0x2,'0')+'.'+(_0x4bd3dc[_0x55a6d2(0x12f)]()+0x1)['toString']()[_0x55a6d2(0xfc)](0x2,'0')+'.'+_0x4bd3dc[_0x55a6d2(0xf5)]();break;}case _0x55a6d2(0x154):{const _0x2dbc36=new Date(Date['UTC'](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136[_0x55a6d2(0x12f)]()-0x1,0x1));_0x25fc8e=_0x2dbc36,_0x166ef7=new Date(Date[_0x55a6d2(0x107)](_0x2bc136['getUTCFullYear'](),_0x2bc136[_0x55a6d2(0x12f)](),0x0,0x17,0x3b,0x3b,0x3e7));const _0x5237e0=new Date(Date[_0x55a6d2(0x107)](_0x2bc136[_0x55a6d2(0xf5)](),_0x2bc136[_0x55a6d2(0x12f)](),0x0));_0x2fde48=_0x2dbc36[_0x55a6d2(0x10c)]()[_0x55a6d2(0x168)]()['padStart'](0x2,'0')+'.'+(_0x2dbc36[_0x55a6d2(0x12f)]()+0x1)['toString']()[_0x55a6d2(0xfc)](0x2,'0')+'.'+_0x2dbc36[_0x55a6d2(0xf5)]()+_0x55a6d2(0x12c)+_0x5237e0[_0x55a6d2(0x10c)]()['toString']()[_0x55a6d2(0xfc)](0x2,'0')+'.'+(_0x5237e0[_0x55a6d2(0x12f)]()+0x1)[_0x55a6d2(0x168)]()['padStart'](0x2,'0')+'.'+_0x5237e0[_0x55a6d2(0xf5)]();break;}case _0x55a6d2(0x112):{_0x25fc8e=new Date(0x0),_0x166ef7=_0x2bc136,_0x2fde48=_0x55a6d2(0x13f);break;}default:return;}const _0x99e0f4=await _0x148262[_0x55a6d2(0x1a4)]['findMany']({'where':{'createdAt':{'gte':_0x25fc8e,'lte':_0x166ef7}},'select':{'status':!![],'amountUSDT':!![],'amountAfterGatewayCommissionUSDT':!![]}});let _0x3eaff1=0x0,_0x1a023a=0x0,_0x2c408d=0x0,_0x5a6cab=0x0,_0x53c22e=0x0,_0x248cd9=0x0;_0x99e0f4[_0x55a6d2(0xf9)](_0xce549e=>{const _0x22944a=_0x55a6d2,_0x3108f9=_0xce549e['amountUSDT']||0x0,_0x5ec945=_0xce549e[_0x22944a(0x14b)]||0x0;if(_0xce549e['status']===_0x22944a(0x161))_0x3eaff1+=_0x3108f9,_0x1a023a+=_0x3108f9-_0x5ec945,_0x2c408d++;else{if(_0xce549e['status']===_0x22944a(0x164)||_0xce549e[_0x22944a(0x18b)]===_0x22944a(0x15d))_0x5a6cab++;else{if(_0xce549e[_0x22944a(0x18b)]===_0x22944a(0x10b))_0x53c22e++,_0x3eaff1+=_0x3108f9;else _0xce549e['status']===_0x22944a(0x1a8)&&(_0x248cd9++,_0x3eaff1+=_0x3108f9);}}});const _0x4db9b7=_0x2c408d+_0x5a6cab,_0xfce743=_0x4db9b7>0x0?(_0x2c408d/_0x4db9b7*0x64)[_0x55a6d2(0x12d)](0x1):_0x55a6d2(0x151),_0x4e0aab=_0x2fde48[_0x55a6d2(0x101)](/\./g,'\x5c.')[_0x55a6d2(0x101)](/\-/g,'\x5c-'),_0x294d20=_0x3eaff1[_0x55a6d2(0x12d)](0x2)[_0x55a6d2(0x101)](/\./g,'\x5c.'),_0xe51e73=_0x1a023a['toFixed'](0x2)[_0x55a6d2(0x101)](/\./g,'\x5c.'),_0x5dfef6=_0xfce743[_0x55a6d2(0x101)](/\./g,'\x5c.'),_0x29aae1=_0x55a6d2(0x102)+_0x4e0aab+'*\x0a\x0a'+('ðŸ’°\x20Turnover\x20\x5c-\x20'+_0x294d20+_0x55a6d2(0x104))+(_0x55a6d2(0x150)+_0xe51e73+_0x55a6d2(0x104))+(_0x55a6d2(0x174)+_0x2c408d+'\x0a')+(_0x55a6d2(0x13c)+_0x5a6cab+'\x0a')+(_0x55a6d2(0x16b)+_0x5dfef6+'%\x0a')+(_0x55a6d2(0x138)+_0x53c22e+'\x0a')+('ðŸ”„\x20Refunds\x20\x5c-\x20'+_0x248cd9),_0x34427e={'inline_keyboard':[[{'text':'â¬…ï¸\x20Back','callback_data':_0x55a6d2(0x14a)}]]};_0x9c7e87?await this['bot']?.[_0x55a6d2(0x158)](_0x29aae1,{'chat_id':_0x249298,'message_id':_0x9c7e87,'parse_mode':'MarkdownV2','reply_markup':_0x34427e}):await this[_0x55a6d2(0x172)]?.['sendMessage'](_0x249298,_0x29aae1,{'parse_mode':_0x55a6d2(0x117),'reply_markup':_0x34427e});}catch(_0x38c541){console['error'](_0x55a6d2(0x176),_0x38c541),await this[_0x55a6d2(0x172)]?.[_0x55a6d2(0x18a)](_0x249298,_0x55a6d2(0x145));}}[a52_0x170030(0x178)](_0x56cb87){const _0x588e8e=a52_0x170030;this[_0x588e8e(0x14c)][_0x588e8e(0x108)]=_0x56cb87[_0x588e8e(0x190)](_0x522287=>_0x522287&&_0x522287['trim']()),this[_0x588e8e(0x1a0)](),console[_0x588e8e(0x121)](_0x588e8e(0x140),this['config']['adminIds']);}['getAdminIds'](){const _0x2367fb=a52_0x170030;return[...this['config'][_0x2367fb(0x108)]];}['getBotInfo'](){const _0x208d56=a52_0x170030;return{'isActive':!!this[_0x208d56(0x172)],'adminCount':this[_0x208d56(0x14c)][_0x208d56(0x108)][_0x208d56(0x13e)]};}[a52_0x170030(0x152)](){const _0x66db9a=a52_0x170030;this[_0x66db9a(0x172)]&&(this[_0x66db9a(0x172)][_0x66db9a(0x18f)](),this['bot']=null,console[_0x66db9a(0x121)](_0x66db9a(0x16d)));}}exports[a52_0x170030(0x10f)]=AdminBotService,exports[a52_0x170030(0x127)]=new AdminBotService();