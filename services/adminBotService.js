'use strict';const a52_0x249108=a52_0x4b3a;(function(_0x3f6f27,_0x9d08fa){const _0x48049=a52_0x4b3a,_0x2ad962=_0x3f6f27();while(!![]){try{const _0x14f7e7=-parseInt(_0x48049(0x1a3))/0x1*(-parseInt(_0x48049(0x1f7))/0x2)+-parseInt(_0x48049(0x193))/0x3*(parseInt(_0x48049(0x1e2))/0x4)+-parseInt(_0x48049(0x21f))/0x5+-parseInt(_0x48049(0x178))/0x6+parseInt(_0x48049(0x18c))/0x7*(-parseInt(_0x48049(0x171))/0x8)+parseInt(_0x48049(0x1cf))/0x9*(-parseInt(_0x48049(0x1ab))/0xa)+-parseInt(_0x48049(0x1c9))/0xb*(-parseInt(_0x48049(0x1bc))/0xc);if(_0x14f7e7===_0x9d08fa)break;else _0x2ad962['push'](_0x2ad962['shift']());}catch(_0x186a9d){_0x2ad962['push'](_0x2ad962['shift']());}}}(a52_0x51ce,0x9af78));var __importDefault=this&&this[a52_0x249108(0x189)]||function(_0x2d5c48){const _0x278c97=a52_0x249108;return _0x2d5c48&&_0x2d5c48[_0x278c97(0x1a5)]?_0x2d5c48:{'default':_0x2d5c48};};function a52_0x51ce(){const _0x2a61c4=['38457ldGJki','error','âŒ\x20Error\x20getting\x20debug\x20information','includes','timestamp','bot','You\x20are\x20not\x20authorized\x20to\x20use\x20this\x20bot.\x0a','stopBot','loadConfig','âŒ\x20Cancel','cmd_statistics','adminBotService','ðŸ“…\x20All\x20Time','stats_last_month','amountAfterGatewayCommissionUSDT','âŒ\x20Inactive','photoFileId','stats_this_month','message','11052ZHcZBt','findMany','forEach','ðŸ“¢\x20*Broadcast\x20Preview*\x0a\x0a','â›”ï¸\x20Access\x20Denied\x0a\x0a','padStart','chat','writeFileSync','adminIds','Error\x20loading\x20admin\x20bot\x20config:','Markdown','../config/database','telegramUser','getUTCFullYear','replace','âŒ\x20No\x20message\x20to\x20send','*\x0a\x0a','path','ï¿½\x20Today','broadcastSessions','âŒ\x20Error\x20sending\x20broadcast','1298wkpFQh','UTC','parse','handleBroadcast','ðŸ’µ\x20Earned\x20\x5c-\x20','initializeBot','saveConfig','cmd_debug','ðŸ“…\x20Today','yourId','botToken','ðŸ‘¥\x20Total\x20Merchants:\x20','ðŸ”„\x20Refunds\x20\x5c-\x20','adminBotConfig.json','ðŸ“†\x20Last\x20Month','photo','broadcast_cancel','âŒ\x20Failed\x20to\x20download\x20photo','getFileLink','existsSync','\x20merchants...','editMessageText','AdminBotService','ðŸ“Š\x20*Statistics*\x0a\x0aSelect\x20period:','ðŸ’°\x20Turnover\x20\x5c-\x20','ðŸ‘¥\x20Admin\x20Count:\x20','floor','âœ…\x20Admin\x20Telegram\x20bot\x20initialized\x20successfully','handleStatistics','back_to_main','ðŸ“¢\x20*Create\x20Broadcast*\x0a\x0aPlease\x20enter\x20the\x20message\x20text\x20you\x20want\x20to\x20send\x20to\x20all\x20merchants:','ðŸ“…\x20This\x20Month','ðŸ¤–\x20Bot\x20Status:\x20','CHARGEBACK','ðŸ”™\x20Back','âŒ\x20Merchant\x20bot\x20token\x20not\x20configured','step','MarkdownV2','\x0a\x0a_Ready\x20to\x20send?_','ðŸ”§\x20Debug','3212370exohcP','stats_','ðŸ“¦\x20Node:\x20','startsWith','delete','ðŸ“†\x20All\x20Time','stats_yesterday','TELEGRAM_ADMIN_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','updateAdminIds','data','43096dOLyxe','getAdminIds','â¬…ï¸\x20Back','adminCount','get','version','admins','1569018wCbXlj','getUTCMonth','Error\x20sending\x20broadcast:','nodeVersion','\x20USDT\x0a','cmd_broadcast','âœ…\x20Successful\x20Payments\x20\x5c-\x20','awaiting_text','sendPhoto','filter','ðŸ†”\x20Your\x20ID:\x20`','âœ…\x20Delivered:\x20','stats_all_time','sendMessage','cwd','â±\x20Uptime:\x20','back_to_stats_menu','__importDefault','Error\x20handling\x20debug\x20command:','âš ï¸\x20Chargebacks\x20\x5c-\x20','553mqunRM','status','getUTCDate','stats_today','getBotInfo','ðŸ“…\x20Yesterday','ðŸ“†\x20This\x20Month','642Qnbhaj','EXPIRED','All\x20Time','length','âœ…\x20Admin\x20IDs\x20updated:','ðŸ“ˆ\x20Statistics','text','botActive','onText','Error\x20handling\x20/debug\x20command:','join','arrayBuffer','ðŸ“…\x20Last\x20Month','defineProperty','Failed\x20to\x20download\x20photo:','set','657GekZWE','readFileSync','__esModule','âŒ\x20Not\x20Delivered:\x20','from','Admin\x20Telegram\x20bot\x20error:','ðŸ”\x20*TRAPAY\x20Admin\x20Bot*\x0a\x0aâœ…\x20You\x20are\x20authorized\x20as\x20admin.','FAILED','890IgyUKw','âŒ\x20Failed\x20Payments\x20\x5c-\x20','âœ…\x20Active','toISOString','âœ…\x20*Broadcast\x20Complete*\x0a\x0a','ðŸ’¬\x20Create\x20Broadcast','Error\x20getting\x20statistics:','stopPolling','â›”ï¸\x20Access\x20Denied','isAdmin','REFUND','â°\x20Timestamp:\x20','default','\x20-\x20','answerCallbackQuery','node-telegram-bot-api','ðŸ”\x20*Debug\x20Information*\x0a\x0a','480ADjDKx','file_id','config','0.0','ðŸ“¤\x20Sending\x20broadcast...','ðŸ“¤\x20Sent:\x20','broadcast_send','ðŸ“‹\x20Admins:\x20`','PAID','toFixed','âŒ\x20Error\x20getting\x20statistics','log','ðŸ“ˆ\x20Conversion\x20\x5c-\x20','690107aaJoaD','telegramId','uptime','toString','message_id','dirname'];a52_0x51ce=function(){return _0x2a61c4;};return a52_0x51ce();}function a52_0x4b3a(_0x35feeb,_0x3c0f61){_0x35feeb=_0x35feeb-0x170;const _0x51ce11=a52_0x51ce();let _0x4b3ac0=_0x51ce11[_0x35feeb];return _0x4b3ac0;}Object[a52_0x249108(0x1a0)](exports,'__esModule',{'value':!![]}),exports[a52_0x249108(0x1da)]=exports[a52_0x249108(0x20d)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a52_0x249108(0x1ba))),fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a52_0x249108(0x1f3))),CONFIG_PATH=path_1[a52_0x249108(0x1b7)][a52_0x249108(0x19d)](process[a52_0x249108(0x186)](),a52_0x249108(0x170),a52_0x249108(0x204));class AdminBotService{constructor(){const _0x112626=a52_0x249108;this[_0x112626(0x1d4)]=null,this[_0x112626(0x1f5)]=new Map(),this['botToken']=process.env.TELEGRAM_ADMIN_BOT_TOKEN||'',this[_0x112626(0x1be)]=this[_0x112626(0x1d7)](),this[_0x112626(0x201)]?this[_0x112626(0x1fc)]():console['warn'](_0x112626(0x226));}['loadConfig'](){const _0x26553a=a52_0x249108;try{if(fs_1[_0x26553a(0x1b7)]['existsSync'](CONFIG_PATH)){const _0x1945f8=fs_1['default'][_0x26553a(0x1a4)](CONFIG_PATH,'utf-8');return JSON[_0x26553a(0x1f9)](_0x1945f8);}}catch(_0x4b041e){console[_0x26553a(0x1d0)](_0x26553a(0x1eb),_0x4b041e);}return{'adminIds':[]};}[a52_0x249108(0x1fd)](){const _0x16cac0=a52_0x249108;try{const _0x2b6951=path_1[_0x16cac0(0x1b7)][_0x16cac0(0x1ce)](CONFIG_PATH);!fs_1['default'][_0x16cac0(0x20a)](_0x2b6951)&&fs_1['default']['mkdirSync'](_0x2b6951,{'recursive':!![]}),fs_1[_0x16cac0(0x1b7)][_0x16cac0(0x1e9)](CONFIG_PATH,JSON['stringify'](this['config'],null,0x2));}catch(_0x51b4f0){console['error']('Error\x20saving\x20admin\x20bot\x20config:',_0x51b4f0);}}['isAdmin'](_0x46f03e){const _0x56bc8e=a52_0x249108;return this[_0x56bc8e(0x1be)][_0x56bc8e(0x1ea)][_0x56bc8e(0x1d2)](_0x46f03e);}[a52_0x249108(0x1fc)](){const _0x15fd51=a52_0x249108;try{this['bot']=new node_telegram_bot_api_1[(_0x15fd51(0x1b7))](this[_0x15fd51(0x201)],{'polling':!![]}),this['setupBotHandlers'](),console['log'](_0x15fd51(0x212));}catch(_0xd4186a){console[_0x15fd51(0x1d0)]('âŒ\x20Failed\x20to\x20initialize\x20Admin\x20Telegram\x20bot:',_0xd4186a);}}['setupBotHandlers'](){const _0x37e92e=a52_0x249108;if(!this['bot'])return;this[_0x37e92e(0x1d4)][_0x37e92e(0x19b)](/\/start/,async _0x2b70b1=>{const _0xdb3c55=_0x37e92e,_0x4f1b2a=_0x2b70b1[_0xdb3c55(0x1e8)]['id'],_0x255fe0=_0x2b70b1[_0xdb3c55(0x1a7)]?.['id'][_0xdb3c55(0x1cc)]();if(!_0x255fe0)return;if(this[_0xdb3c55(0x1b4)](_0x255fe0)){const _0x3e368e={'inline_keyboard':[[{'text':_0xdb3c55(0x198),'callback_data':_0xdb3c55(0x1d9)}],[{'text':'ðŸ’¬\x20Create\x20Broadcast','callback_data':_0xdb3c55(0x17d)}],[{'text':_0xdb3c55(0x21e),'callback_data':_0xdb3c55(0x1fe)}]]};await this['bot']?.[_0xdb3c55(0x185)](_0x4f1b2a,_0xdb3c55(0x1a9),{'parse_mode':_0xdb3c55(0x1ec),'reply_markup':_0x3e368e});}else await this[_0xdb3c55(0x1d4)]?.[_0xdb3c55(0x185)](_0x4f1b2a,_0xdb3c55(0x1e6)+_0xdb3c55(0x1d5)+'Contact\x20system\x20administrator.',{'parse_mode':'Markdown'});}),this[_0x37e92e(0x1d4)][_0x37e92e(0x19b)](/\/debug/,async _0x342ccd=>{const _0x765109=_0x37e92e,_0x4d7fa0=_0x342ccd[_0x765109(0x1e8)]['id'],_0x34b3b1=_0x342ccd[_0x765109(0x1a7)]?.['id']['toString']();if(!_0x34b3b1)return;if(!this[_0x765109(0x1b4)](_0x34b3b1)){await this[_0x765109(0x1d4)]?.['sendMessage'](_0x4d7fa0,_0x765109(0x1b3));return;}try{const _0xe26f={'botActive':!!this[_0x765109(0x1d4)],'adminCount':this[_0x765109(0x1be)][_0x765109(0x1ea)][_0x765109(0x196)],'admins':this[_0x765109(0x1be)]['adminIds'],'yourId':_0x34b3b1,'timestamp':new Date()[_0x765109(0x1ae)](),'nodeVersion':process[_0x765109(0x176)],'uptime':process[_0x765109(0x1cb)]()};let _0x9febe6=_0x765109(0x1bb);_0x9febe6+=_0x765109(0x217)+(_0xe26f['botActive']?'âœ…\x20Active':_0x765109(0x1de))+'\x0a',_0x9febe6+=_0x765109(0x210)+_0xe26f['adminCount']+'\x0a',_0x9febe6+=_0x765109(0x1c3)+_0xe26f['admins'][_0x765109(0x19d)](',\x20')+'`\x0a',_0x9febe6+='ðŸ†”\x20Your\x20ID:\x20`'+_0xe26f[_0x765109(0x200)]+'`\x0a',_0x9febe6+=_0x765109(0x1b6)+_0xe26f[_0x765109(0x1d3)]+'\x0a',_0x9febe6+=_0x765109(0x221)+_0xe26f[_0x765109(0x17b)]+'\x0a',_0x9febe6+='â±\x20Uptime:\x20'+Math[_0x765109(0x211)](_0xe26f[_0x765109(0x1cb)])+'s',await this[_0x765109(0x1d4)]?.['sendMessage'](_0x4d7fa0,_0x9febe6,{'parse_mode':_0x765109(0x1ec)});}catch(_0x3fda05){console['error'](_0x765109(0x19c),_0x3fda05),await this['bot']?.[_0x765109(0x185)](_0x4d7fa0,_0x765109(0x1d1));}}),this[_0x37e92e(0x1d4)][_0x37e92e(0x19b)](/\/statistics/,async _0x27c601=>{const _0x8502e=_0x37e92e,_0x385b22=_0x27c601[_0x8502e(0x1e8)]['id'],_0x49ca3b=_0x27c601[_0x8502e(0x1a7)]?.['id'][_0x8502e(0x1cc)]();if(!_0x49ca3b)return;if(!this[_0x8502e(0x1b4)](_0x49ca3b)){await this[_0x8502e(0x1d4)]?.['sendMessage'](_0x385b22,_0x8502e(0x1b3));return;}const _0x5f3f8c={'inline_keyboard':[[{'text':_0x8502e(0x1ff),'callback_data':_0x8502e(0x18f)}],[{'text':'ðŸ“…\x20Yesterday','callback_data':_0x8502e(0x225)}],[{'text':_0x8502e(0x216),'callback_data':'stats_this_month'}],[{'text':_0x8502e(0x19f),'callback_data':_0x8502e(0x1dc)}],[{'text':_0x8502e(0x1db),'callback_data':'stats_all_time'}]]};await this[_0x8502e(0x1d4)]?.[_0x8502e(0x185)](_0x385b22,_0x8502e(0x20e),{'parse_mode':_0x8502e(0x1ec),'reply_markup':_0x5f3f8c});}),this[_0x37e92e(0x1d4)]['on']('callback_query',async _0x235a29=>{const _0x101de0=_0x37e92e,_0x5c55b7=_0x235a29['message']?.[_0x101de0(0x1e8)]['id'],_0x1730af=_0x235a29[_0x101de0(0x1a7)]?.['id']['toString'](),_0x54820c=_0x235a29['data'];if(!_0x5c55b7||!_0x1730af||!_0x54820c)return;if(!this[_0x101de0(0x1b4)](_0x1730af)){await this[_0x101de0(0x1d4)]?.[_0x101de0(0x1b9)](_0x235a29['id'],{'text':_0x101de0(0x1b3)});return;}if(_0x54820c===_0x101de0(0x1d9)){const _0x173261={'inline_keyboard':[[{'text':'ðŸ“…\x20Today','callback_data':_0x101de0(0x18f)}],[{'text':_0x101de0(0x191),'callback_data':_0x101de0(0x225)}],[{'text':_0x101de0(0x216),'callback_data':'stats_this_month'}],[{'text':_0x101de0(0x19f),'callback_data':'stats_last_month'}],[{'text':_0x101de0(0x1db),'callback_data':'stats_all_time'}],[{'text':_0x101de0(0x219),'callback_data':'back_to_main'}]]};await this[_0x101de0(0x1d4)]?.['editMessageText'](_0x101de0(0x20e),{'chat_id':_0x5c55b7,'message_id':_0x235a29[_0x101de0(0x1e1)]?.['message_id'],'parse_mode':_0x101de0(0x1ec),'reply_markup':_0x173261}),await this['bot']?.[_0x101de0(0x1b9)](_0x235a29['id']);}else{if(_0x54820c===_0x101de0(0x1fe))try{const _0x3489a3={'botActive':!!this[_0x101de0(0x1d4)],'adminCount':this[_0x101de0(0x1be)][_0x101de0(0x1ea)][_0x101de0(0x196)],'admins':this[_0x101de0(0x1be)][_0x101de0(0x1ea)],'yourId':_0x1730af,'timestamp':new Date()['toISOString'](),'nodeVersion':process[_0x101de0(0x176)],'uptime':process[_0x101de0(0x1cb)]()};let _0x21e671='ðŸ”\x20*Debug\x20Information*\x0a\x0a';_0x21e671+=_0x101de0(0x217)+(_0x3489a3[_0x101de0(0x19a)]?_0x101de0(0x1ad):_0x101de0(0x1de))+'\x0a',_0x21e671+=_0x101de0(0x210)+_0x3489a3[_0x101de0(0x174)]+'\x0a',_0x21e671+=_0x101de0(0x1c3)+_0x3489a3[_0x101de0(0x177)][_0x101de0(0x19d)](',\x20')+'`\x0a',_0x21e671+=_0x101de0(0x182)+_0x3489a3[_0x101de0(0x200)]+'`\x0a',_0x21e671+=_0x101de0(0x1b6)+_0x3489a3[_0x101de0(0x1d3)]+'\x0a',_0x21e671+='ðŸ“¦\x20Node:\x20'+_0x3489a3[_0x101de0(0x17b)]+'\x0a',_0x21e671+=_0x101de0(0x187)+Math['floor'](_0x3489a3['uptime'])+'s';const _0x11c465={'inline_keyboard':[[{'text':_0x101de0(0x173),'callback_data':_0x101de0(0x214)}]]};await this[_0x101de0(0x1d4)]?.[_0x101de0(0x20c)](_0x21e671,{'chat_id':_0x5c55b7,'message_id':_0x235a29[_0x101de0(0x1e1)]?.[_0x101de0(0x1cd)],'parse_mode':_0x101de0(0x1ec),'reply_markup':_0x11c465}),await this[_0x101de0(0x1d4)]?.[_0x101de0(0x1b9)](_0x235a29['id']);}catch(_0x2fd84b){console[_0x101de0(0x1d0)](_0x101de0(0x18a),_0x2fd84b),await this[_0x101de0(0x1d4)]?.[_0x101de0(0x1b9)](_0x235a29['id'],{'text':_0x101de0(0x1d1)});}else{if(_0x54820c===_0x101de0(0x17d))this[_0x101de0(0x1f5)][_0x101de0(0x1a2)](_0x5c55b7,{'step':_0x101de0(0x17f)}),await this['bot']?.['editMessageText'](_0x101de0(0x215),{'chat_id':_0x5c55b7,'message_id':_0x235a29[_0x101de0(0x1e1)]?.[_0x101de0(0x1cd)],'parse_mode':_0x101de0(0x1ec)}),await this[_0x101de0(0x1d4)]?.['answerCallbackQuery'](_0x235a29['id']);else{if(_0x54820c==='broadcast_cancel')this['broadcastSessions'][_0x101de0(0x223)](_0x5c55b7),await this[_0x101de0(0x1d4)]?.['sendMessage'](_0x5c55b7,'âŒ\x20Broadcast\x20cancelled'),await this['bot']?.[_0x101de0(0x1b9)](_0x235a29['id']);else{if(_0x54820c===_0x101de0(0x1c2)){const _0x5f58b7=this[_0x101de0(0x1f5)]['get'](_0x5c55b7);if(!_0x5f58b7||!_0x5f58b7[_0x101de0(0x199)]&&!_0x5f58b7['photoFileId']){await this['bot']?.[_0x101de0(0x1b9)](_0x235a29['id'],{'text':_0x101de0(0x1f1)});return;}await this[_0x101de0(0x1d4)]?.[_0x101de0(0x1b9)](_0x235a29['id'],{'text':_0x101de0(0x1c0)}),await this[_0x101de0(0x1fa)](_0x5c55b7,_0x5f58b7['text']||'',_0x5f58b7[_0x101de0(0x1df)]),this[_0x101de0(0x1f5)][_0x101de0(0x223)](_0x5c55b7);}else{if(_0x54820c['startsWith'](_0x101de0(0x220)))await this[_0x101de0(0x213)](_0x5c55b7,_0x54820c,_0x235a29[_0x101de0(0x1e1)]?.[_0x101de0(0x1cd)]),await this[_0x101de0(0x1d4)]?.[_0x101de0(0x1b9)](_0x235a29['id']);else{if(_0x54820c==='back_to_main'){const _0x39b2f6={'inline_keyboard':[[{'text':_0x101de0(0x198),'callback_data':_0x101de0(0x1d9)}],[{'text':_0x101de0(0x1b0),'callback_data':'cmd_broadcast'}],[{'text':_0x101de0(0x21e),'callback_data':_0x101de0(0x1fe)}]]};await this[_0x101de0(0x1d4)]?.[_0x101de0(0x20c)](_0x101de0(0x1a9),{'chat_id':_0x5c55b7,'message_id':_0x235a29[_0x101de0(0x1e1)]?.[_0x101de0(0x1cd)],'parse_mode':_0x101de0(0x1ec),'reply_markup':_0x39b2f6}),await this[_0x101de0(0x1d4)]?.['answerCallbackQuery'](_0x235a29['id']);}else{if(_0x54820c===_0x101de0(0x188)){const _0x4a80b2={'inline_keyboard':[[{'text':_0x101de0(0x1f4),'callback_data':_0x101de0(0x18f)}],[{'text':'ðŸ“†\x20Yesterday','callback_data':_0x101de0(0x225)}],[{'text':_0x101de0(0x192),'callback_data':'stats_this_month'}],[{'text':_0x101de0(0x205),'callback_data':_0x101de0(0x1dc)}],[{'text':_0x101de0(0x224),'callback_data':_0x101de0(0x184)}],[{'text':_0x101de0(0x173),'callback_data':_0x101de0(0x214)}]]};await this[_0x101de0(0x1d4)]?.[_0x101de0(0x20c)]('ðŸ“Š\x20*Statistics*\x0a\x0aSelect\x20period:',{'chat_id':_0x5c55b7,'message_id':_0x235a29[_0x101de0(0x1e1)]?.[_0x101de0(0x1cd)],'parse_mode':_0x101de0(0x1ec),'reply_markup':_0x4a80b2}),await this[_0x101de0(0x1d4)]?.[_0x101de0(0x1b9)](_0x235a29['id']);}}}}}}}}}),this[_0x37e92e(0x1d4)]['on'](_0x37e92e(0x1e1),async _0xd02a75=>{const _0x3a0a0c=_0x37e92e,_0x45758e=_0xd02a75[_0x3a0a0c(0x1e8)]['id'],_0x6b47d6=_0xd02a75[_0x3a0a0c(0x1a7)]?.['id'][_0x3a0a0c(0x1cc)](),_0x3b927c=_0xd02a75[_0x3a0a0c(0x199)]||_0xd02a75['caption'],_0x1d3e49=_0xd02a75[_0x3a0a0c(0x206)];if(!_0x6b47d6)return;if(!this[_0x3a0a0c(0x1b4)](_0x6b47d6))return;if(_0x3b927c&&_0x3b927c[_0x3a0a0c(0x222)]('/'))return;const _0x524757=this['broadcastSessions'][_0x3a0a0c(0x175)](_0x45758e);if(!_0x524757)return;if(_0x524757[_0x3a0a0c(0x21b)]===_0x3a0a0c(0x17f)){if(!_0x3b927c&&!_0x1d3e49)return;_0x524757['text']=_0x3b927c||'';_0x1d3e49&&_0x1d3e49[_0x3a0a0c(0x196)]>0x0&&(_0x524757[_0x3a0a0c(0x1df)]=_0x1d3e49[_0x1d3e49[_0x3a0a0c(0x196)]-0x1][_0x3a0a0c(0x1bd)]);_0x524757['step']='preview';const _0x4c07c3={'inline_keyboard':[[{'text':_0x3a0a0c(0x1d8),'callback_data':_0x3a0a0c(0x207)},{'text':'ðŸ“¤\x20Send','callback_data':_0x3a0a0c(0x1c2)}]]};_0x524757[_0x3a0a0c(0x1df)]?await this[_0x3a0a0c(0x1d4)]?.['sendPhoto'](_0x45758e,_0x524757[_0x3a0a0c(0x1df)],{'caption':'ðŸ“¢\x20*Broadcast\x20Preview*\x0a\x0a'+_0x524757[_0x3a0a0c(0x199)]+_0x3a0a0c(0x21d),'parse_mode':_0x3a0a0c(0x1ec),'reply_markup':_0x4c07c3}):await this[_0x3a0a0c(0x1d4)]?.['sendMessage'](_0x45758e,_0x3a0a0c(0x1e5)+_0x524757['text']+_0x3a0a0c(0x21d),{'parse_mode':_0x3a0a0c(0x1ec),'reply_markup':_0x4c07c3});}}),this['bot']['on'](_0x37e92e(0x1d0),_0x3ff703=>{const _0x50c3b4=_0x37e92e;console[_0x50c3b4(0x1d0)](_0x50c3b4(0x1a8),_0x3ff703);});}async[a52_0x249108(0x1fa)](_0x1f6cb6,_0x4285f1,_0x4d2e17){const _0x140171=a52_0x249108;try{const _0x316690=require(_0x140171(0x1ed))[_0x140171(0x1b7)],_0x2be14e=require(_0x140171(0x1ba)),_0x2d5c42=process.env.TELEGRAM_BOT_TOKEN;if(!_0x2d5c42){await this[_0x140171(0x1d4)]?.[_0x140171(0x185)](_0x1f6cb6,_0x140171(0x21a));return;}const _0x428223=new _0x2be14e(_0x2d5c42),_0x7a0c6=await _0x316690[_0x140171(0x1ee)][_0x140171(0x1e3)]({'where':{'shopId':{'not':null},'isVerified':!![]},'select':{'telegramId':!![]}}),_0x2fa687=_0x7a0c6[_0x140171(0x196)];let _0x490e23=0x0,_0x818de8=0x0,_0x563302=0x0;await this[_0x140171(0x1d4)]?.[_0x140171(0x185)](_0x1f6cb6,'ðŸ“¤\x20Sending\x20broadcast\x20to\x20'+_0x2fa687+_0x140171(0x20b));let _0x2da8b7=null;if(_0x4d2e17&&this[_0x140171(0x1d4)])try{const _0x4f54f6=await this['bot'][_0x140171(0x209)](_0x4d2e17),_0xd150d2=await fetch(_0x4f54f6);_0x2da8b7=Buffer['from'](await _0xd150d2[_0x140171(0x19e)]());}catch(_0x369cfe){console[_0x140171(0x1d0)](_0x140171(0x1a1),_0x369cfe),await this[_0x140171(0x1d4)]?.[_0x140171(0x185)](_0x1f6cb6,_0x140171(0x208));return;}for(const _0x463152 of _0x7a0c6){try{_0x2da8b7?await _0x428223[_0x140171(0x180)](_0x463152[_0x140171(0x1ca)],_0x2da8b7,{'caption':_0x4285f1,'parse_mode':_0x140171(0x1ec)}):await _0x428223[_0x140171(0x185)](_0x463152[_0x140171(0x1ca)],_0x4285f1,{'parse_mode':_0x140171(0x1ec)}),_0x490e23++,_0x818de8++,await new Promise(_0x235ebb=>setTimeout(_0x235ebb,0x64));}catch(_0x40c3d1){_0x490e23++,_0x563302++,console[_0x140171(0x1d0)]('Failed\x20to\x20send\x20to\x20'+_0x463152[_0x140171(0x1ca)]+':',_0x40c3d1[_0x140171(0x1e1)]);}}const _0x2ab260=_0x140171(0x1af)+(_0x140171(0x202)+_0x2fa687+'\x0a')+(_0x140171(0x1c1)+_0x490e23+'\x0a')+(_0x140171(0x183)+_0x818de8+'\x0a')+(_0x140171(0x1a6)+_0x563302);await this[_0x140171(0x1d4)]?.[_0x140171(0x185)](_0x1f6cb6,_0x2ab260,{'parse_mode':_0x140171(0x1ec)});}catch(_0x2e9288){console[_0x140171(0x1d0)](_0x140171(0x17a),_0x2e9288),await this[_0x140171(0x1d4)]?.[_0x140171(0x185)](_0x1f6cb6,_0x140171(0x1f6));}}async[a52_0x249108(0x213)](_0x1e7143,_0xb58835,_0x11c6c3){const _0x33763a=a52_0x249108;try{const _0x23da23=require(_0x33763a(0x1ed))[_0x33763a(0x1b7)],_0x135714=new Date();let _0x1acec4,_0x1f5382,_0x3929bd;switch(_0xb58835){case _0x33763a(0x18f):{const _0x3b2418=new Date(Date['UTC'](_0x135714[_0x33763a(0x1ef)](),_0x135714[_0x33763a(0x179)](),_0x135714[_0x33763a(0x18e)]()));_0x1acec4=_0x3b2418,_0x1f5382=new Date(Date['UTC'](_0x135714['getUTCFullYear'](),_0x135714[_0x33763a(0x179)](),_0x135714[_0x33763a(0x18e)](),0x17,0x3b,0x3b,0x3e7)),_0x3929bd=_0x3b2418['getUTCDate']()[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+(_0x3b2418['getUTCMonth']()+0x1)[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+_0x3b2418[_0x33763a(0x1ef)]();break;}case _0x33763a(0x225):{const _0x31863c=new Date(Date[_0x33763a(0x1f8)](_0x135714[_0x33763a(0x1ef)](),_0x135714[_0x33763a(0x179)](),_0x135714[_0x33763a(0x18e)]()-0x1));_0x1acec4=_0x31863c,_0x1f5382=new Date(Date[_0x33763a(0x1f8)](_0x135714[_0x33763a(0x1ef)](),_0x135714['getUTCMonth'](),_0x135714[_0x33763a(0x18e)]()-0x1,0x17,0x3b,0x3b,0x3e7)),_0x3929bd=_0x31863c[_0x33763a(0x18e)]()[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+(_0x31863c[_0x33763a(0x179)]()+0x1)['toString']()[_0x33763a(0x1e7)](0x2,'0')+'.'+_0x31863c[_0x33763a(0x1ef)]();break;}case _0x33763a(0x1e0):{const _0x57a93e=new Date(Date[_0x33763a(0x1f8)](_0x135714['getUTCFullYear'](),_0x135714[_0x33763a(0x179)](),0x1));_0x1acec4=_0x57a93e,_0x1f5382=new Date(Date[_0x33763a(0x1f8)](_0x135714[_0x33763a(0x1ef)](),_0x135714['getUTCMonth']()+0x1,0x0,0x17,0x3b,0x3b,0x3e7));const _0xf74c3a=new Date(Date['UTC'](_0x135714['getUTCFullYear'](),_0x135714['getUTCMonth']()+0x1,0x0));_0x3929bd=_0x57a93e['getUTCDate']()['toString']()[_0x33763a(0x1e7)](0x2,'0')+'.'+(_0x57a93e[_0x33763a(0x179)]()+0x1)[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+_0x57a93e[_0x33763a(0x1ef)]()+_0x33763a(0x1b8)+_0xf74c3a[_0x33763a(0x18e)]()[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+(_0xf74c3a[_0x33763a(0x179)]()+0x1)[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+_0xf74c3a['getUTCFullYear']();break;}case _0x33763a(0x1dc):{const _0x384cdd=new Date(Date[_0x33763a(0x1f8)](_0x135714[_0x33763a(0x1ef)](),_0x135714[_0x33763a(0x179)]()-0x1,0x1));_0x1acec4=_0x384cdd,_0x1f5382=new Date(Date['UTC'](_0x135714[_0x33763a(0x1ef)](),_0x135714[_0x33763a(0x179)](),0x0,0x17,0x3b,0x3b,0x3e7));const _0x34214f=new Date(Date[_0x33763a(0x1f8)](_0x135714['getUTCFullYear'](),_0x135714[_0x33763a(0x179)](),0x0));_0x3929bd=_0x384cdd[_0x33763a(0x18e)]()[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+(_0x384cdd[_0x33763a(0x179)]()+0x1)[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+_0x384cdd['getUTCFullYear']()+_0x33763a(0x1b8)+_0x34214f['getUTCDate']()[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+(_0x34214f[_0x33763a(0x179)]()+0x1)[_0x33763a(0x1cc)]()[_0x33763a(0x1e7)](0x2,'0')+'.'+_0x34214f[_0x33763a(0x1ef)]();break;}case _0x33763a(0x184):{_0x1acec4=new Date(0x0),_0x1f5382=_0x135714,_0x3929bd=_0x33763a(0x195);break;}default:return;}const _0xf6bb7d=await _0x23da23['payment'][_0x33763a(0x1e3)]({'where':{'createdAt':{'gte':_0x1acec4,'lte':_0x1f5382}},'select':{'status':!![],'amountUSDT':!![],'amountAfterGatewayCommissionUSDT':!![]}});let _0x1c61d0=0x0,_0x49d6c3=0x0,_0x4e283e=0x0,_0x4d7375=0x0,_0x7e77df=0x0,_0x39a55a=0x0;_0xf6bb7d[_0x33763a(0x1e4)](_0x649b83=>{const _0x52b4d1=_0x33763a,_0x492814=_0x649b83['amountUSDT']||0x0,_0x2999e1=_0x649b83[_0x52b4d1(0x1dd)]||0x0;if(_0x649b83[_0x52b4d1(0x18d)]===_0x52b4d1(0x1c4))_0x1c61d0+=_0x492814,_0x49d6c3+=_0x492814-_0x2999e1,_0x4e283e++;else{if(_0x649b83['status']===_0x52b4d1(0x1aa)||_0x649b83[_0x52b4d1(0x18d)]===_0x52b4d1(0x194))_0x4d7375++;else{if(_0x649b83[_0x52b4d1(0x18d)]===_0x52b4d1(0x218))_0x7e77df++,_0x1c61d0+=_0x492814;else _0x649b83[_0x52b4d1(0x18d)]===_0x52b4d1(0x1b5)&&(_0x39a55a++,_0x1c61d0+=_0x492814);}}});const _0x16d55b=_0x4e283e+_0x4d7375,_0x5e12d9=_0x16d55b>0x0?(_0x4e283e/_0x16d55b*0x64)[_0x33763a(0x1c5)](0x1):_0x33763a(0x1bf),_0x463a93=_0x3929bd[_0x33763a(0x1f0)](/\./g,'\x5c.')[_0x33763a(0x1f0)](/\-/g,'\x5c-'),_0x4c7e4b=_0x1c61d0[_0x33763a(0x1c5)](0x2)[_0x33763a(0x1f0)](/\./g,'\x5c.'),_0x3643da=_0x49d6c3[_0x33763a(0x1c5)](0x2)[_0x33763a(0x1f0)](/\./g,'\x5c.'),_0x2a0d4b=_0x5e12d9[_0x33763a(0x1f0)](/\./g,'\x5c.'),_0x2b4819='ðŸ“Š\x20*Statistics:\x20'+_0x463a93+_0x33763a(0x1f2)+(_0x33763a(0x20f)+_0x4c7e4b+_0x33763a(0x17c))+(_0x33763a(0x1fb)+_0x3643da+_0x33763a(0x17c))+(_0x33763a(0x17e)+_0x4e283e+'\x0a')+(_0x33763a(0x1ac)+_0x4d7375+'\x0a')+(_0x33763a(0x1c8)+_0x2a0d4b+'%\x0a')+(_0x33763a(0x18b)+_0x7e77df+'\x0a')+(_0x33763a(0x203)+_0x39a55a),_0x5bb2ae={'inline_keyboard':[[{'text':_0x33763a(0x173),'callback_data':'back_to_stats_menu'}]]};_0x11c6c3?await this[_0x33763a(0x1d4)]?.['editMessageText'](_0x2b4819,{'chat_id':_0x1e7143,'message_id':_0x11c6c3,'parse_mode':_0x33763a(0x21c),'reply_markup':_0x5bb2ae}):await this[_0x33763a(0x1d4)]?.[_0x33763a(0x185)](_0x1e7143,_0x2b4819,{'parse_mode':_0x33763a(0x21c),'reply_markup':_0x5bb2ae});}catch(_0x377414){console[_0x33763a(0x1d0)](_0x33763a(0x1b1),_0x377414),await this[_0x33763a(0x1d4)]?.[_0x33763a(0x185)](_0x1e7143,_0x33763a(0x1c6));}}[a52_0x249108(0x227)](_0x1d0a85){const _0x8cf4c3=a52_0x249108;this['config']['adminIds']=_0x1d0a85[_0x8cf4c3(0x181)](_0x31afe7=>_0x31afe7&&_0x31afe7['trim']()),this[_0x8cf4c3(0x1fd)](),console[_0x8cf4c3(0x1c7)](_0x8cf4c3(0x197),this[_0x8cf4c3(0x1be)][_0x8cf4c3(0x1ea)]);}[a52_0x249108(0x172)](){const _0x52b70c=a52_0x249108;return[...this[_0x52b70c(0x1be)][_0x52b70c(0x1ea)]];}[a52_0x249108(0x190)](){const _0x4efbbc=a52_0x249108;return{'isActive':!!this[_0x4efbbc(0x1d4)],'adminCount':this[_0x4efbbc(0x1be)]['adminIds'][_0x4efbbc(0x196)]};}[a52_0x249108(0x1d6)](){const _0x1ca737=a52_0x249108;this[_0x1ca737(0x1d4)]&&(this[_0x1ca737(0x1d4)][_0x1ca737(0x1b2)](),this[_0x1ca737(0x1d4)]=null,console[_0x1ca737(0x1c7)]('ðŸ›‘\x20Admin\x20Telegram\x20bot\x20stopped'));}}exports[a52_0x249108(0x20d)]=AdminBotService,exports[a52_0x249108(0x1da)]=new AdminBotService();