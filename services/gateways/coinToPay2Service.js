'use strict';const a48_0xce2191=a48_0xcadb;function a48_0x173c(){const _0x39b0aa=['not\x20confirmed','766102PNTFlP','status','Unknown\x20error','CreatedOn','===\x20COINTOPAY2\x20API\x20REQUEST\x20(traffer.uk)\x20===','Status\x20Text:','6ghvlXG','===\x20COINTOPAY2\x20API\x20RESPONSE\x20(traffer.uk)\x20===','Response\x20Time:','Status','Invalid\x20response\x20from\x20CoinToPay2\x20API:\x20missing\x20payment_url\x20or\x20gateway_payment_id','2057670eJJVVj','message','===\x20PARSED\x20COINTOPAY2\x20STATUS\x20RESPONSE\x20===','\x20EUR','HTTP\x20Status:','logWhiteDomainError','toLowerCase','waiting','Invalid\x20response\x20from\x20CoinToPay2\x20status\x20API:\x20missing\x20data','1527965VbJrtg',',\x20body:\x20','logWhiteDomainResponse','Failed\x20to\x20check\x20CoinToPay2\x20payment\x20status:\x20','===\x20COINTOPAY2\x20API\x20BUSINESS\x20ERROR\x20===','inputCurrency','===\x20COINTOPAY2\x20STATUS\x20API\x20INCOMPLETE\x20RESPONSE\x20===','üìä\x20Checking\x20CoinToPay2\x20payment\x20status\x20for:\x20','Error\x20stack:','üìä\x20Status\x20check\x20URL:','gateway_payment_id','headers','Request\x20Body:','Failed\x20to\x20create\x20CoinToPay2\x20payment\x20link:\x20Unknown\x20error','Processing\x20CoinToPay2\x20webhook\x20(deprecated\x20-\x20use\x20status\x20check\x20instead):','data','entries','Status:','EXPIRED','===\x20COINTOPAY2\x20STATUS\x20SUCCESS\x20===','Response\x20Body:','__esModule','Response\x20data:','EUR','Gateway\x20Payment\x20ID:','Amount:','logWhiteDomainRequest','CoinToPay2\x20status\x20API\x20error:\x20','expired','pending','Error\x20Message:','PAID','EUR\x20(always\x20EUR\x20for\x20CoinToPay2)','Payment\x20URL\x20(modified):','===\x20COINTOPAY2\x20STATUS\x20CHECK\x20RESPONSE\x20===','Invalid\x20JSON\x20response\x20from\x20CoinToPay2\x20API:\x20','&alternative=false','Incomplete\x20response:\x20missing\x20data','üè¶\x20Extracted\x20IBAN:','PaymentDetail','error','log','text','===\x20COINTOPAY2\x20SERVICE\x20ERROR\x20===','Error\x20message:','currency','paid','TransactionID','Unknown\x20error\x20from\x20CoinToPay2\x20status\x20API','verifyPayment','===\x20COINTOPAY2\x20API\x20ERROR\x20===','HTTP\x20error!\x20status:\x20','result','Status\x20API\x20Error:\x20','üè¶\x20Payment\x20Detail:','FAILED','Unknown\x20error\x20from\x20CoinToPay2\x20API','failed','1912104VBCMsI','success','TransactionConfirmedOn','amount','parse','stringify','now','Transaction\x20ID:','cancelled','status_code','checkPaymentStatus','Result:','===\x20PARSED\x20COINTOPAY2\x20RESPONSE\x20===','Raw\x20Response\x20Body:','match','3292710hIuwuA','https://traffer.uk/gateway/cointopay/status.php','apiUrl','Missing\x20data\x20in\x20response','cointopay2','/status','Payment\x20System/1.0\x20(CoinToPay2)','Incomplete\x20response:\x20missing\x20payment_url\x20or\x20gateway_payment_id','4SiNdwu','Headers:','Currency:','statusUrl','Failed\x20to\x20parse\x20JSON\x20response:','/create','loggerService','603038RHbSzk','not\x20found','JSON\x20Parse\x20Error:\x20','CoinToPay2\x20payment\x20status\x20check\x20error:','ExpiryTime','Amount','using\x20pattern:','awaiting\x20fiat','created','4717146liZhSl','POST','HTTP\x20','6VDkwUB','===\x20COINTOPAY2\x20API\x20INCOMPLETE\x20RESPONSE\x20===','Confirmed\x20On:','order_id','defineProperty','ü™ô\x20Creating\x20CoinToPay2\x20payment:\x20','payment_url','CoinToPay2\x20API\x20error:\x20','Status\x20Code:','stack','Failed\x20to\x20create\x20CoinToPay2\x20payment\x20link:\x20','fromEntries','PENDING','CoinToPay2Service','createPaymentLink','application/json','merchant_reference_id'];a48_0x173c=function(){return _0x39b0aa;};return a48_0x173c();}(function(_0x58704a,_0x340bb4){const _0x3ec13e=a48_0xcadb,_0x1e95cf=_0x58704a();while(!![]){try{const _0x1230d3=-parseInt(_0x3ec13e(0x1e3))/0x1+parseInt(_0x3ec13e(0x1c5))/0x2*(parseInt(_0x3ec13e(0x1d1))/0x3)+parseInt(_0x3ec13e(0x1be))/0x4*(parseInt(_0x3ec13e(0x1f7))/0x5)+-parseInt(_0x3ec13e(0x1e9))/0x6*(-parseInt(_0x3ec13e(0x1ce))/0x7)+parseInt(_0x3ec13e(0x231))/0x8+-parseInt(_0x3ec13e(0x1ee))/0x9+-parseInt(_0x3ec13e(0x240))/0xa;if(_0x1230d3===_0x340bb4)break;else _0x1e95cf['push'](_0x1e95cf['shift']());}catch(_0x56cb88){_0x1e95cf['push'](_0x1e95cf['shift']());}}}(a48_0x173c,0x7976f));Object[a48_0xce2191(0x1d5)](exports,a48_0xce2191(0x20c),{'value':!![]}),exports[a48_0xce2191(0x1de)]=void 0x0;function a48_0xcadb(_0x38aeed,_0x12cf29){const _0x173c5d=a48_0x173c();return a48_0xcadb=function(_0xcadb6e,_0x5b3f8a){_0xcadb6e=_0xcadb6e-0x1b7;let _0x3a45f2=_0x173c5d[_0xcadb6e];return _0x3a45f2;},a48_0xcadb(_0x38aeed,_0x12cf29);}const loggerService_1=require('../loggerService');class CoinToPay2Service{constructor(){const _0x894a5e=a48_0xce2191;this['apiUrl']='https://traffer.uk/gateway/cointopay/',this[_0x894a5e(0x1c1)]=_0x894a5e(0x1b7),console['log']('ü™ô\x20CoinToPay2\x20service\x20initialized\x20with\x20traffer.uk\x20proxy'),console['log'](_0x894a5e(0x200),this[_0x894a5e(0x1c1)]);}async[a48_0xce2191(0x1df)](_0x46a0bd){const _0x16a381=a48_0xce2191,{orderId:_0x493244,amount:_0x534b05}=_0x46a0bd;console[_0x16a381(0x220)](_0x16a381(0x1d6)+_0x534b05+_0x16a381(0x1f1));const _0x575d0f={'amount':_0x534b05},_0x26d0e7=Date[_0x16a381(0x237)]();try{console[_0x16a381(0x220)](_0x16a381(0x1e7)),console['log']('URL:',this['apiUrl']),console[_0x16a381(0x220)](_0x16a381(0x203),JSON[_0x16a381(0x236)](_0x575d0f,null,0x2)),console[_0x16a381(0x220)](_0x16a381(0x210),_0x534b05,_0x16a381(0x217)),loggerService_1['loggerService'][_0x16a381(0x211)]('cointopay2',_0x16a381(0x1c3),_0x16a381(0x1cf),_0x575d0f);const _0x2f6ce9=await fetch(this[_0x16a381(0x1b8)],{'method':'POST','headers':{'Content-Type':_0x16a381(0x1e0),'Accept':'application/json','User-Agent':_0x16a381(0x1bc)},'body':JSON[_0x16a381(0x236)](_0x575d0f)}),_0x2d084a=Date[_0x16a381(0x237)]()-_0x26d0e7;console['log'](_0x16a381(0x1ea)),console[_0x16a381(0x220)](_0x16a381(0x208),_0x2f6ce9[_0x16a381(0x1e4)]),console[_0x16a381(0x220)](_0x16a381(0x1e8),_0x2f6ce9['statusText']),console[_0x16a381(0x220)](_0x16a381(0x1bf),Object[_0x16a381(0x1dc)](_0x2f6ce9[_0x16a381(0x202)][_0x16a381(0x207)]())),console[_0x16a381(0x220)](_0x16a381(0x1eb),_0x2d084a+'ms');const _0x2d0238=await _0x2f6ce9['text']();console[_0x16a381(0x220)](_0x16a381(0x23e),_0x2d0238);if(!_0x2f6ce9['ok']){console[_0x16a381(0x21f)](_0x16a381(0x229)),console[_0x16a381(0x21f)](_0x16a381(0x1f2),_0x2f6ce9['status']),console['error'](_0x16a381(0x20b),_0x2d0238),loggerService_1['loggerService'][_0x16a381(0x1f9)]('cointopay2','/create',_0x2f6ce9[_0x16a381(0x1e4)],_0x2d0238,_0x2d084a),loggerService_1['loggerService'][_0x16a381(0x1f3)]('cointopay2',_0x16a381(0x1c3),'HTTP\x20'+_0x2f6ce9[_0x16a381(0x1e4)]+':\x20'+_0x2d0238);throw new Error(_0x16a381(0x22a)+_0x2f6ce9[_0x16a381(0x1e4)]+_0x16a381(0x1f8)+_0x2d0238);}let _0x54b65e;try{_0x54b65e=JSON[_0x16a381(0x235)](_0x2d0238);}catch(_0x1eba63){console[_0x16a381(0x21f)]('Failed\x20to\x20parse\x20JSON\x20response:',_0x1eba63),loggerService_1[_0x16a381(0x1c4)]['logWhiteDomainError']('cointopay2',_0x16a381(0x1c3),_0x16a381(0x1c7)+_0x1eba63);throw new Error(_0x16a381(0x21a)+_0x2d0238);}console[_0x16a381(0x220)](_0x16a381(0x23d)),console[_0x16a381(0x220)]('Parsed\x20Result:',JSON[_0x16a381(0x236)](_0x54b65e,null,0x2)),loggerService_1[_0x16a381(0x1c4)][_0x16a381(0x1f9)](_0x16a381(0x1ba),_0x16a381(0x1c3),_0x2f6ce9[_0x16a381(0x1e4)],_0x54b65e,_0x2d084a);if(_0x54b65e[_0x16a381(0x21f)]){const _0x122d51=_0x54b65e[_0x16a381(0x1ef)]||_0x54b65e[_0x16a381(0x21f)]||_0x16a381(0x22f);console[_0x16a381(0x21f)](_0x16a381(0x1fb)),console[_0x16a381(0x21f)](_0x16a381(0x215),_0x122d51),loggerService_1['loggerService']['logWhiteDomainError'](_0x16a381(0x1ba),'/create','Business\x20Error:\x20'+_0x122d51);throw new Error(_0x16a381(0x1d8)+_0x122d51);}if(!_0x54b65e['payment_url']||!_0x54b65e['gateway_payment_id']){console['error'](_0x16a381(0x1d2)),console[_0x16a381(0x21f)]('Missing\x20payment_url\x20or\x20gateway_payment_id\x20in\x20response'),console[_0x16a381(0x21f)](_0x16a381(0x20d),_0x54b65e),loggerService_1[_0x16a381(0x1c4)][_0x16a381(0x1f3)](_0x16a381(0x1ba),_0x16a381(0x1c3),_0x16a381(0x1bd));throw new Error(_0x16a381(0x1ed));}console[_0x16a381(0x220)]('===\x20COINTOPAY2\x20SUCCESS\x20==='),console['log'](_0x16a381(0x20f),_0x54b65e[_0x16a381(0x201)]),console['log']('Payment\x20URL\x20(original):',_0x54b65e[_0x16a381(0x1d7)]);const _0x4f89ac=_0x54b65e[_0x16a381(0x1d7)]+_0x16a381(0x21b);return console['log'](_0x16a381(0x218),_0x4f89ac),console[_0x16a381(0x220)]('Amount:',_0x534b05,_0x16a381(0x20e)),{'gateway_payment_id':_0x54b65e[_0x16a381(0x201)],'payment_url':_0x4f89ac};}catch(_0xb0f23f){console[_0x16a381(0x21f)](_0x16a381(0x222)),console[_0x16a381(0x21f)]('Error\x20details:',_0xb0f23f),loggerService_1[_0x16a381(0x1c4)][_0x16a381(0x1f3)]('cointopay2',_0x16a381(0x1c3),_0xb0f23f);if(_0xb0f23f instanceof Error){console['error'](_0x16a381(0x223),_0xb0f23f[_0x16a381(0x1ef)]),console[_0x16a381(0x21f)](_0x16a381(0x1ff),_0xb0f23f[_0x16a381(0x1da)]);throw new Error(_0x16a381(0x1db)+_0xb0f23f[_0x16a381(0x1ef)]);}throw new Error(_0x16a381(0x204));}}async[a48_0xce2191(0x23b)](_0x2c4091){const _0x2f0fb9=a48_0xce2191,_0x273a7c=Date[_0x2f0fb9(0x237)]();try{console[_0x2f0fb9(0x220)](_0x2f0fb9(0x1fe)+_0x2c4091);const _0x45505d={'gatewayPaymentId':_0x2c4091};loggerService_1['loggerService'][_0x2f0fb9(0x211)](_0x2f0fb9(0x1ba),_0x2f0fb9(0x1bb),_0x2f0fb9(0x1cf),_0x45505d);const _0x1abaf9=await fetch(this[_0x2f0fb9(0x1c1)],{'method':_0x2f0fb9(0x1cf),'headers':{'Content-Type':'application/json','Accept':_0x2f0fb9(0x1e0),'User-Agent':_0x2f0fb9(0x1bc)},'body':JSON[_0x2f0fb9(0x236)](_0x45505d)}),_0x4d3a04=Date[_0x2f0fb9(0x237)]()-_0x273a7c;console['log'](_0x2f0fb9(0x219)),console[_0x2f0fb9(0x220)]('Status:',_0x1abaf9[_0x2f0fb9(0x1e4)]),console[_0x2f0fb9(0x220)](_0x2f0fb9(0x1eb),_0x4d3a04+'ms');if(!_0x1abaf9['ok']){const _0x48588d=await _0x1abaf9[_0x2f0fb9(0x221)]();console[_0x2f0fb9(0x21f)](_0x2f0fb9(0x1f2),_0x1abaf9['status']),console['error'](_0x2f0fb9(0x20b),_0x48588d),loggerService_1[_0x2f0fb9(0x1c4)][_0x2f0fb9(0x1f9)](_0x2f0fb9(0x1ba),_0x2f0fb9(0x1bb),_0x1abaf9[_0x2f0fb9(0x1e4)],_0x48588d,_0x4d3a04),loggerService_1[_0x2f0fb9(0x1c4)][_0x2f0fb9(0x1f3)]('cointopay2',_0x2f0fb9(0x1bb),_0x2f0fb9(0x1d0)+_0x1abaf9[_0x2f0fb9(0x1e4)]+':\x20'+_0x48588d);throw new Error(_0x2f0fb9(0x22a)+_0x1abaf9[_0x2f0fb9(0x1e4)]);}const _0x2034bb=await _0x1abaf9[_0x2f0fb9(0x221)]();console['log']('Raw\x20Response\x20Body:',_0x2034bb);let _0xc86d46;try{_0xc86d46=JSON[_0x2f0fb9(0x235)](_0x2034bb);}catch(_0x36f92c){console[_0x2f0fb9(0x21f)](_0x2f0fb9(0x1c2),_0x36f92c),loggerService_1[_0x2f0fb9(0x1c4)][_0x2f0fb9(0x1f3)](_0x2f0fb9(0x1ba),'/status',_0x2f0fb9(0x1c7)+_0x36f92c);throw new Error('Invalid\x20JSON\x20response\x20from\x20CoinToPay2\x20status\x20API:\x20'+_0x2034bb);}loggerService_1[_0x2f0fb9(0x1c4)][_0x2f0fb9(0x1f9)](_0x2f0fb9(0x1ba),_0x2f0fb9(0x1bb),_0x1abaf9[_0x2f0fb9(0x1e4)],_0xc86d46,_0x4d3a04),console[_0x2f0fb9(0x220)](_0x2f0fb9(0x1f0)),console[_0x2f0fb9(0x220)](_0x2f0fb9(0x23c),_0xc86d46[_0x2f0fb9(0x22b)]),console['log'](_0x2f0fb9(0x1d9),_0xc86d46[_0x2f0fb9(0x23a)]),console[_0x2f0fb9(0x220)]('Payment\x20Status:',_0xc86d46[_0x2f0fb9(0x206)]?.[_0x2f0fb9(0x1ec)]),console[_0x2f0fb9(0x220)]('Amount:',_0xc86d46[_0x2f0fb9(0x206)]?.[_0x2f0fb9(0x1ca)]),console[_0x2f0fb9(0x220)](_0x2f0fb9(0x1c0),_0xc86d46[_0x2f0fb9(0x206)]?.[_0x2f0fb9(0x1fc)]);if(_0xc86d46[_0x2f0fb9(0x22b)]!==_0x2f0fb9(0x232)||_0xc86d46[_0x2f0fb9(0x23a)]!==0xc8){const _0x20516f=_0xc86d46[_0x2f0fb9(0x1ef)]||_0x2f0fb9(0x227);console[_0x2f0fb9(0x21f)]('===\x20COINTOPAY2\x20STATUS\x20API\x20ERROR\x20==='),console[_0x2f0fb9(0x21f)](_0x2f0fb9(0x215),_0x20516f),loggerService_1[_0x2f0fb9(0x1c4)]['logWhiteDomainError'](_0x2f0fb9(0x1ba),_0x2f0fb9(0x1bb),_0x2f0fb9(0x22c)+_0x20516f);throw new Error(_0x2f0fb9(0x212)+_0x20516f);}if(!_0xc86d46[_0x2f0fb9(0x206)]){console[_0x2f0fb9(0x21f)](_0x2f0fb9(0x1fd)),console[_0x2f0fb9(0x21f)](_0x2f0fb9(0x1b9)),loggerService_1[_0x2f0fb9(0x1c4)][_0x2f0fb9(0x1f3)]('cointopay2',_0x2f0fb9(0x1bb),_0x2f0fb9(0x21c));throw new Error(_0x2f0fb9(0x1f6));}let _0x17b77b=_0x2f0fb9(0x1dd);switch(_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1ec)]?.[_0x2f0fb9(0x1f4)]()){case _0x2f0fb9(0x225):_0x17b77b='PAID';break;case'cancelled':case _0x2f0fb9(0x230):case'error':_0x17b77b=_0x2f0fb9(0x22e);break;case _0x2f0fb9(0x213):case'timeout':_0x17b77b=_0x2f0fb9(0x209);break;case'waiting':case _0x2f0fb9(0x1cc):case _0x2f0fb9(0x214):case'created':default:_0x17b77b=_0x2f0fb9(0x1dd);break;}let _0x54d84e,_0x41a9a8;if(_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x21e)]){const _0x12cbf=_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x21e)];console['log'](_0x2f0fb9(0x22d),_0x12cbf);const _0x208169=[/<span[^>]*>IBAN<\/span>&nbsp;([A-Z]{2}[0-9]{2}[A-Z0-9]+)/i,/IBAN[:\s]+([A-Z]{2}[0-9]{2}[A-Z0-9]+)/i,/IBAN\s+([A-Z]{2}[0-9]{2}[A-Z0-9]+)/i];for(const _0x54b8ea of _0x208169){const _0xba78c5=_0x12cbf[_0x2f0fb9(0x23f)](_0x54b8ea);if(_0xba78c5){_0x54d84e=_0xba78c5[0x1],console['log'](_0x2f0fb9(0x21d),_0x54d84e,_0x2f0fb9(0x1cb),_0x54b8ea['source']);break;}}if(!_0x54d84e){console[_0x2f0fb9(0x220)]('‚ö†Ô∏è\x20IBAN\x20not\x20found\x20in\x20payment\x20details.\x20Trying\x20to\x20extract\x20from\x20text...');const _0x1cda3b=_0x12cbf[_0x2f0fb9(0x23f)](/\b([A-Z]{2}[0-9]{2}[A-Z0-9]{10,})\b/i);_0x1cda3b&&(_0x54d84e=_0x1cda3b[0x1],console['log']('üè¶\x20Extracted\x20IBAN\x20via\x20fallback:',_0x54d84e));}_0x41a9a8=_0x12cbf;}const _0x3cb4bd={'iban':_0x54d84e,'bankDetails':_0x41a9a8,'transactionId':_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x226)],'coinAddress':_0xc86d46[_0x2f0fb9(0x206)]['coinAddress'],'qrCodeUrl':_0xc86d46[_0x2f0fb9(0x206)]['QRCodeURL'],'expiryTime':_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1c9)],'createdOn':_0xc86d46[_0x2f0fb9(0x206)]['CreatedOn'],'confirmedOn':_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x233)]};console['log'](_0x2f0fb9(0x20a)),console[_0x2f0fb9(0x220)](_0x2f0fb9(0x208),_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1ec)],'->',_0x17b77b),console['log'](_0x2f0fb9(0x210),_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1ca)],_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1fc)]),console['log'](_0x2f0fb9(0x238),_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x226)]),console[_0x2f0fb9(0x220)]('IBAN:',_0x54d84e||_0x2f0fb9(0x1c6)),console[_0x2f0fb9(0x220)]('Created\x20On:',_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1e6)]),console[_0x2f0fb9(0x220)](_0x2f0fb9(0x1d3),_0xc86d46[_0x2f0fb9(0x206)]['TransactionConfirmedOn']||_0x2f0fb9(0x1e2));if(_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1ec)]?.[_0x2f0fb9(0x1f4)]()===_0x2f0fb9(0x1cc))console['log']('üí°\x20\x22Awaiting\x20Fiat\x22\x20mapped\x20to\x20PENDING\x20(not\x20PAID)');else _0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1ec)]?.[_0x2f0fb9(0x1f4)]()===_0x2f0fb9(0x225)&&console[_0x2f0fb9(0x220)]('‚úÖ\x20\x22Paid\x22\x20mapped\x20to\x20PAID');return{'status':_0x17b77b,'amount':parseFloat(_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1ca)])||undefined,'currency':_0xc86d46[_0x2f0fb9(0x206)][_0x2f0fb9(0x1fc)]||_0x2f0fb9(0x20e),'paymentDetails':_0x3cb4bd};}catch(_0x21802f){console['error'](_0x2f0fb9(0x1c8),_0x21802f),loggerService_1[_0x2f0fb9(0x1c4)][_0x2f0fb9(0x1f3)](_0x2f0fb9(0x1ba),_0x2f0fb9(0x1bb),_0x21802f);throw new Error(_0x2f0fb9(0x1fa)+(_0x21802f instanceof Error?_0x21802f[_0x2f0fb9(0x1ef)]:_0x2f0fb9(0x1e5)));}}async[a48_0xce2191(0x228)](_0x4a994f){const _0x4012e8=a48_0xce2191,_0x4237e9=await this[_0x4012e8(0x23b)](_0x4a994f);return{'status':_0x4237e9[_0x4012e8(0x1e4)],'amount':_0x4237e9[_0x4012e8(0x234)],'currency':_0x4237e9[_0x4012e8(0x224)]};}async['processWebhook'](_0x5bf95e){const _0x3e86ca=a48_0xce2191;console[_0x3e86ca(0x220)](_0x3e86ca(0x205),_0x5bf95e);let _0x2b20be=_0x3e86ca(0x1dd);switch(_0x5bf95e[_0x3e86ca(0x1e4)]?.['toLowerCase']()){case _0x3e86ca(0x225):_0x2b20be=_0x3e86ca(0x216);break;case _0x3e86ca(0x239):case'failed':case _0x3e86ca(0x21f):_0x2b20be=_0x3e86ca(0x22e);break;case _0x3e86ca(0x213):case'timeout':_0x2b20be='EXPIRED';break;case _0x3e86ca(0x214):case _0x3e86ca(0x1f5):case _0x3e86ca(0x1cc):case _0x3e86ca(0x1cd):default:_0x2b20be=_0x3e86ca(0x1dd);break;}return{'paymentId':_0x5bf95e[_0x3e86ca(0x1d4)]||_0x5bf95e[_0x3e86ca(0x1e1)]||'','status':_0x2b20be,'amount':_0x5bf95e[_0x3e86ca(0x234)],'currency':_0x5bf95e[_0x3e86ca(0x224)]||_0x3e86ca(0x20e)};}}exports[a48_0xce2191(0x1de)]=CoinToPay2Service;