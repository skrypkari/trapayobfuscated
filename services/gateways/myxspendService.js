'use strict';const a47_0x374e7f=a47_0x3294;(function(_0x5c0610,_0x478321){const _0x45ee8c=a47_0x3294,_0x4be183=_0x5c0610();while(!![]){try{const _0x437ad2=parseInt(_0x45ee8c(0xb3))/0x1+-parseInt(_0x45ee8c(0xbb))/0x2*(parseInt(_0x45ee8c(0xcd))/0x3)+parseInt(_0x45ee8c(0xb6))/0x4*(parseInt(_0x45ee8c(0xcc))/0x5)+parseInt(_0x45ee8c(0xb0))/0x6+-parseInt(_0x45ee8c(0xaf))/0x7*(parseInt(_0x45ee8c(0x9d))/0x8)+parseInt(_0x45ee8c(0xc9))/0x9+parseInt(_0x45ee8c(0xa0))/0xa*(-parseInt(_0x45ee8c(0xbe))/0xb);if(_0x437ad2===_0x478321)break;else _0x4be183['push'](_0x4be183['shift']());}catch(_0x25f972){_0x4be183['push'](_0x4be183['shift']());}}}(a47_0x7f7a,0xd153d));function a47_0x3294(_0x55be3c,_0x30396e){const _0x7f7a35=a47_0x7f7a();return a47_0x3294=function(_0x3294df,_0x25ecce){_0x3294df=_0x3294df-0x9c;let _0x39998d=_0x7f7a35[_0x3294df];return _0x39998d;},a47_0x3294(_0x55be3c,_0x30396e);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a47_0x374e7f(0xba)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x4ac2bc=a47_0x374e7f;this[_0x4ac2bc(0xa7)]=null,this[_0x4ac2bc(0xc2)]=_0x4ac2bc(0xbc),this[_0x4ac2bc(0xca)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x4ac2bc(0xd0)]=_0x4ac2bc(0xaa),console[_0x4ac2bc(0xd1)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a47_0x374e7f(0xb8)](_0x4c7330){const _0x281176=a47_0x374e7f;try{const {orderId:_0x562bbd,amount:_0xa8eee9,currency:_0x300aee,firstName:_0x18bcb4,lastName:_0xd35dbb,email:_0x37a469,phone:_0x3b297c,successUrl:_0x2a045a,failureUrl:_0x39e0a2}=_0x4c7330;console[_0x281176(0xd1)](_0x281176(0xb2)),console['log'](_0x281176(0xa5),_0x562bbd),console[_0x281176(0xd1)](_0x281176(0xab),_0xa8eee9,_0x300aee),console[_0x281176(0xd1)](_0x281176(0xad),_0x18bcb4+'\x20'+_0xd35dbb),console[_0x281176(0xd1)](_0x281176(0xa2),_0x37a469),console[_0x281176(0xd1)](_0x281176(0xa1),_0x3b297c||_0x281176(0xa4));const _0x44b214={'firstName':_0x18bcb4,'lastName':_0xd35dbb,'customerOrderId':_0x562bbd,'email':_0x37a469,'phone':_0x3b297c||'','amount':_0xa8eee9,'currency':_0x300aee[_0x281176(0xc3)](),'success_url':_0x2a045a,'failure_url':_0x39e0a2};console[_0x281176(0xd1)](_0x281176(0xac),JSON[_0x281176(0xc0)](_0x44b214,null,0x2));const _0x17cb16=await fetch(this['apiUrl']+_0x281176(0xa6),{'method':_0x281176(0xcf),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x281176(0xc0)](_0x44b214)}),_0x227e77=await _0x17cb16['text']();console[_0x281176(0xd1)](_0x281176(0xae),_0x227e77);if(!_0x17cb16['ok'])throw new Error(_0x281176(0xb7)+_0x17cb16[_0x281176(0xb1)]+'\x20-\x20'+_0x227e77);let _0x38d7b5;try{_0x38d7b5=JSON[_0x281176(0xb4)](_0x227e77);}catch(_0x129a60){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x227e77);}console['log'](_0x281176(0xc7),JSON['stringify'](_0x38d7b5,null,0x2));if(!_0x38d7b5[_0x281176(0xc8)]&&!_0x38d7b5[_0x281176(0x9f)])throw new Error(_0x281176(0x9e)+(_0x38d7b5[_0x281176(0xbd)]||'Unknown\x20error'));const _0x4ed892=_0x38d7b5[_0x281176(0xc8)]||_0x38d7b5[_0x281176(0x9f)],_0x4c53d8=_0x38d7b5[_0x281176(0xcb)]||_0x38d7b5[_0x281176(0xc5)];return console[_0x281176(0xd1)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x281176(0xd1)](_0x281176(0xb5),_0x4ed892),console[_0x281176(0xd1)](_0x281176(0xc4),_0x4c53d8),console['log'](_0x281176(0x9c),_0x38d7b5[_0x281176(0xd3)]),console['log'](_0x281176(0xa3)),{'gateway_payment_id':_0x4c53d8||_0x562bbd,'payment_url':_0x4ed892||'','paymentLinkCode':_0x4c53d8};}catch(_0x42139b){console[_0x281176(0xb9)](_0x281176(0xa9),_0x42139b),console[_0x281176(0xd1)](_0x281176(0xd4));throw _0x42139b;}}[a47_0x374e7f(0xd2)](){const _0xbf8b92=a47_0x374e7f;this[_0xbf8b92(0xa7)]=null,console[_0xbf8b92(0xd1)](_0xbf8b92(0xc6));}async[a47_0x374e7f(0xc1)](){const _0x230fd9=a47_0x374e7f;try{const _0xa4c30f=await fetch(this[_0x230fd9(0xd0)]+'health.php',{'method':'GET','headers':{'Content-Type':_0x230fd9(0xbf),'User-Agent':_0x230fd9(0xa8)}});return _0xa4c30f&&_0xa4c30f[_0x230fd9(0xb1)]===0xc8?!![]:![];}catch(_0x3a2c75){return console[_0x230fd9(0xb9)](_0x230fd9(0xce),_0x3a2c75),![];}}}function a47_0x7f7a(){const _0x5926de=['14286580iHzMAF','application/json','stringify','healthCheck','API_KEY','toUpperCase','Payment\x20Code:','gateway_payment_id','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üìä\x20MyXSpend\x20unified\x20response\x20data:','PaymentLink','10442988pyFuVI','COMPANY_ID','PaymentLinkCode','95FkLWxj','1848393tNrCMX','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','POST','apiUrl','log','invalidateAuth','responseCode','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Response\x20Code:','88936TaDZZz','MyXSpend\x20payment\x20creation\x20failed:\x20','payment_url','10OzfXmc','Phone:','Email:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','not\x20provided','Order\x20ID:','myxspend.php','authToken','TrapayAPI/1.0','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','https://traffer.uk/gateway/myxspend/','Amount:','üì§\x20MyXSpend\x20unified\x20request\x20body:','Customer:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','910GKgjIq','1170732rdCEwT','status','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','1290297ULpBMG','parse','Payment\x20Link:','330900eRsIlo','MyXSpend\x20API\x20error:\x20HTTP\x20','createPaymentLink','error','myxspendService','2ycrLeB','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','responseMessage'];a47_0x7f7a=function(){return _0x5926de;};return a47_0x7f7a();}exports['MyXSpendService']=MyXSpendService,exports[a47_0x374e7f(0xba)]=new MyXSpendService();