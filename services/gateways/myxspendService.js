'use strict';const a70_0x3af3d4=a70_0x3324;function a70_0x3324(_0x13fea1,_0x4af864){_0x13fea1=_0x13fea1-0xde;const _0x66989b=a70_0x6698();let _0x3324b0=_0x66989b[_0x13fea1];return _0x3324b0;}(function(_0x5caa7a,_0x30a804){const _0x13530b=a70_0x3324,_0x4b43cf=_0x5caa7a();while(!![]){try{const _0x1fc73d=parseInt(_0x13530b(0xdf))/0x1+parseInt(_0x13530b(0xff))/0x2+-parseInt(_0x13530b(0x10e))/0x3*(parseInt(_0x13530b(0x104))/0x4)+-parseInt(_0x13530b(0xf3))/0x5+parseInt(_0x13530b(0x109))/0x6*(-parseInt(_0x13530b(0x10d))/0x7)+-parseInt(_0x13530b(0x102))/0x8+parseInt(_0x13530b(0x111))/0x9;if(_0x1fc73d===_0x30a804)break;else _0x4b43cf['push'](_0x4b43cf['shift']());}catch(_0x6cbb30){_0x4b43cf['push'](_0x4b43cf['shift']());}}}(a70_0x6698,0x6a5b1));Object['defineProperty'](exports,a70_0x3af3d4(0xf1),{'value':!![]}),exports[a70_0x3af3d4(0xe3)]=exports[a70_0x3af3d4(0xfb)]=void 0x0;class MyXSpendService{constructor(){const _0x1a4581=a70_0x3af3d4;this[_0x1a4581(0xf5)]=null,this['API_KEY']=_0x1a4581(0xde),this[_0x1a4581(0xe4)]=_0x1a4581(0xf2),this[_0x1a4581(0xf8)]='https://traffer.uk/gateway/myxspend/',console['log'](_0x1a4581(0xfe));}async[a70_0x3af3d4(0xf6)](_0x42225f){const _0x271e12=a70_0x3af3d4;try{const {orderId:_0x18ffe6,amount:_0x5f05a4,currency:_0xe1b5b7,firstName:_0x56e67e,lastName:_0x5e1911,email:_0x4a1c12,phone:_0x176b1e,successUrl:_0x3b8186,failureUrl:_0x51f403}=_0x42225f;console[_0x271e12(0xf7)](_0x271e12(0x10a)),console[_0x271e12(0xf7)]('Order\x20ID:',_0x18ffe6),console[_0x271e12(0xf7)]('Amount:',_0x5f05a4,_0xe1b5b7),console[_0x271e12(0xf7)]('Customer:',_0x56e67e+'\x20'+_0x5e1911),console[_0x271e12(0xf7)](_0x271e12(0xfa),_0x4a1c12),console['log']('Phone:',_0x176b1e||_0x271e12(0xe0));const _0x232975={'firstName':_0x56e67e,'lastName':_0x5e1911,'customerOrderId':_0x18ffe6,'email':_0x4a1c12,'phone':_0x176b1e||'','amount':_0x5f05a4,'currency':_0xe1b5b7[_0x271e12(0x106)](),'success_url':_0x3b8186,'failure_url':_0x51f403};console[_0x271e12(0xf7)](_0x271e12(0xee),JSON[_0x271e12(0x103)](_0x232975,null,0x2));const _0x5e8844=await fetch(this['apiUrl']+_0x271e12(0xef),{'method':_0x271e12(0x110),'headers':{'Content-Type':'application/json','User-Agent':_0x271e12(0xe7)},'body':JSON[_0x271e12(0x103)](_0x232975)}),_0x3137cc=await _0x5e8844[_0x271e12(0x10f)]();console[_0x271e12(0xf7)](_0x271e12(0xe6),_0x3137cc);if(!_0x5e8844['ok'])throw new Error(_0x271e12(0xfd)+_0x5e8844[_0x271e12(0xe8)]+'\x20-\x20'+_0x3137cc);let _0x2c6f95;try{_0x2c6f95=JSON['parse'](_0x3137cc);}catch(_0xcc119a){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x3137cc);}console[_0x271e12(0xf7)](_0x271e12(0xeb),JSON[_0x271e12(0x103)](_0x2c6f95,null,0x2));if(!_0x2c6f95[_0x271e12(0x100)]&&!_0x2c6f95['payment_url'])throw new Error(_0x271e12(0x105)+(_0x2c6f95[_0x271e12(0xf9)]||_0x271e12(0xe5)));const _0x1ce586=_0x2c6f95['PaymentLink']||_0x2c6f95[_0x271e12(0xf4)],_0x3e477e=_0x2c6f95['PaymentLinkCode']||_0x2c6f95['gateway_payment_id'];return console[_0x271e12(0xf7)](_0x271e12(0xe2)),console['log'](_0x271e12(0x108),_0x1ce586),console[_0x271e12(0xf7)](_0x271e12(0xf0),_0x3e477e),console[_0x271e12(0xf7)](_0x271e12(0xec),_0x2c6f95[_0x271e12(0xea)]),console[_0x271e12(0xf7)](_0x271e12(0x107)),{'gateway_payment_id':_0x3e477e||_0x18ffe6,'payment_url':_0x1ce586||'','paymentLinkCode':_0x3e477e};}catch(_0x4ae640){console['error'](_0x271e12(0x10b),_0x4ae640),console[_0x271e12(0xf7)](_0x271e12(0x112));throw _0x4ae640;}}['invalidateAuth'](){const _0x375976=a70_0x3af3d4;this['authToken']=null,console[_0x375976(0xf7)](_0x375976(0xe1));}async[a70_0x3af3d4(0x101)](){const _0x5861b6=a70_0x3af3d4;try{const _0xa9c797=await fetch(this[_0x5861b6(0xf8)]+_0x5861b6(0xfc),{'method':_0x5861b6(0x10c),'headers':{'Content-Type':'application/json','User-Agent':_0x5861b6(0xe7)}});return _0xa9c797&&_0xa9c797['status']===0xc8?!![]:![];}catch(_0x22dae3){return console[_0x5861b6(0xe9)](_0x5861b6(0xed),_0x22dae3),![];}}}function a70_0x6698(){const _0x528cd3=['192428PqeIWv','PaymentLink','healthCheck','4554536DxRjIw','stringify','813640DmGxrU','MyXSpend\x20payment\x20creation\x20failed:\x20','toUpperCase','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','Payment\x20Link:','30pdpVXG','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','GET','360647lULZVi','3wVTAHh','text','POST','5849226HhTTXR','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','750578qiIujF','not\x20provided','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','myxspendService','COMPANY_ID','Unknown\x20error','üì•\x20MyXSpend\x20unified\x20raw\x20response:','TrapayAPI/1.0','status','error','responseCode','üìä\x20MyXSpend\x20unified\x20response\x20data:','Response\x20Code:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','üì§\x20MyXSpend\x20unified\x20request\x20body:','myxspend.php','Payment\x20Code:','__esModule','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','153705ofDZLS','payment_url','authToken','createPaymentLink','log','apiUrl','responseMessage','Email:','MyXSpendService','health.php','MyXSpend\x20API\x20error:\x20HTTP\x20','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing'];a70_0x6698=function(){return _0x528cd3;};return a70_0x6698();}exports[a70_0x3af3d4(0xfb)]=MyXSpendService,exports[a70_0x3af3d4(0xe3)]=new MyXSpendService();