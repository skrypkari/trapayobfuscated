'use strict';function a47_0x279a(){const _0x16bedb=['myxspend.php','__esModule','Email:','Unknown\x20error','apiUrl','288732hQSwGC','createPaymentLink','üì§\x20MyXSpend\x20unified\x20request\x20body:','836BYlFZs','myxspendService','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','Phone:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','COMPANY_ID','payment_url','\x20-\x20','Amount:','API_KEY','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','1738746qVrHFI','healthCheck','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','Payment\x20Link:','MyXSpend\x20payment\x20creation\x20failed:\x20','invalidateAuth','error','612886HAyCAx','6oxiFYA','16dCKQlg','5933000kBHkyy','not\x20provided','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','PaymentLink','üìä\x20MyXSpend\x20unified\x20response\x20data:','5hOvcmz','defineProperty','2omWoWT','status','986456hbVyFt','4154927jBCFkO','stringify','PaymentLinkCode','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','1799487FWJGlG','GET','Customer:','log','https://traffer.uk/gateway/myxspend/','Response\x20Code:','health.php','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','TrapayAPI/1.0','POST'];a47_0x279a=function(){return _0x16bedb;};return a47_0x279a();}function a47_0x9b21(_0x31780f,_0x9cba6a){const _0x279ad3=a47_0x279a();return a47_0x9b21=function(_0x9b2123,_0x4e290d){_0x9b2123=_0x9b2123-0xea;let _0x35bd1c=_0x279ad3[_0x9b2123];return _0x35bd1c;},a47_0x9b21(_0x31780f,_0x9cba6a);}const a47_0xf73ac8=a47_0x9b21;(function(_0x3d5bae,_0x4bd948){const _0x412b58=a47_0x9b21,_0x18498a=_0x3d5bae();while(!![]){try{const _0x4fe4db=parseInt(_0x412b58(0x10f))/0x1+parseInt(_0x412b58(0x11a))/0x2*(parseInt(_0x412b58(0x108))/0x3)+parseInt(_0x412b58(0x11c))/0x4*(parseInt(_0x412b58(0x118))/0x5)+parseInt(_0x412b58(0x110))/0x6*(parseInt(_0x412b58(0x11d))/0x7)+-parseInt(_0x412b58(0x111))/0x8*(parseInt(_0x412b58(0xea))/0x9)+parseInt(_0x412b58(0x112))/0xa+parseInt(_0x412b58(0xfc))/0xb*(-parseInt(_0x412b58(0xf9))/0xc);if(_0x4fe4db===_0x4bd948)break;else _0x18498a['push'](_0x18498a['shift']());}catch(_0x40347b){_0x18498a['push'](_0x18498a['shift']());}}}(a47_0x279a,0x6106d));Object[a47_0xf73ac8(0x119)](exports,a47_0xf73ac8(0xf5),{'value':!![]}),exports['myxspendService']=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x4bd068=a47_0xf73ac8;this['authToken']=null,this[_0x4bd068(0x106)]=_0x4bd068(0x10a),this[_0x4bd068(0x102)]=_0x4bd068(0xf1),this[_0x4bd068(0xf8)]=_0x4bd068(0xee),console[_0x4bd068(0xed)](_0x4bd068(0xff));}async[a47_0xf73ac8(0xfa)](_0xc9e4af){const _0x4fbc04=a47_0xf73ac8;try{const {orderId:_0x55596a,amount:_0x427958,currency:_0x52cd98,firstName:_0x9d93e0,lastName:_0x2eacbc,email:_0x6a90be,phone:_0xb6a3c6,successUrl:_0x18cb0b,failureUrl:_0xa3b835}=_0xc9e4af;console[_0x4fbc04(0xed)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x4fbc04(0xed)]('Order\x20ID:',_0x55596a),console[_0x4fbc04(0xed)](_0x4fbc04(0x105),_0x427958,_0x52cd98),console[_0x4fbc04(0xed)](_0x4fbc04(0xec),_0x9d93e0+'\x20'+_0x2eacbc),console[_0x4fbc04(0xed)](_0x4fbc04(0xf6),_0x6a90be),console['log'](_0x4fbc04(0x100),_0xb6a3c6||_0x4fbc04(0x113));const _0x1aa9ce={'firstName':_0x9d93e0,'lastName':_0x2eacbc,'customerOrderId':_0x55596a,'email':_0x6a90be,'phone':_0xb6a3c6||'','amount':_0x427958,'currency':_0x52cd98['toUpperCase'](),'success_url':_0x18cb0b,'failure_url':_0xa3b835};console[_0x4fbc04(0xed)](_0x4fbc04(0xfb),JSON[_0x4fbc04(0x11e)](_0x1aa9ce,null,0x2));const _0x49797d=await fetch(this[_0x4fbc04(0xf8)]+_0x4fbc04(0xf4),{'method':_0x4fbc04(0xf3),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x4fbc04(0x11e)](_0x1aa9ce)}),_0x2e6755=await _0x49797d['text']();console[_0x4fbc04(0xed)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0x2e6755);if(!_0x49797d['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x49797d[_0x4fbc04(0x11b)]+_0x4fbc04(0x104)+_0x2e6755);let _0xddd388;try{_0xddd388=JSON['parse'](_0x2e6755);}catch(_0x5039a9){throw new Error(_0x4fbc04(0x120)+_0x2e6755);}console[_0x4fbc04(0xed)](_0x4fbc04(0x117),JSON['stringify'](_0xddd388,null,0x2));if(!_0xddd388[_0x4fbc04(0x116)]&&!_0xddd388[_0x4fbc04(0x103)])throw new Error(_0x4fbc04(0x10c)+(_0xddd388['responseMessage']||_0x4fbc04(0xf7)));const _0x3ff28e=_0xddd388[_0x4fbc04(0x116)]||_0xddd388[_0x4fbc04(0x103)],_0xbff5be=_0xddd388[_0x4fbc04(0x11f)]||_0xddd388['gateway_payment_id'];return console[_0x4fbc04(0xed)](_0x4fbc04(0x115)),console[_0x4fbc04(0xed)](_0x4fbc04(0x10b),_0x3ff28e),console[_0x4fbc04(0xed)]('Payment\x20Code:',_0xbff5be),console['log'](_0x4fbc04(0xef),_0xddd388['responseCode']),console['log'](_0x4fbc04(0x114)),{'gateway_payment_id':_0xbff5be||_0x55596a,'payment_url':_0x3ff28e||'','paymentLinkCode':_0xbff5be};}catch(_0x264e78){console[_0x4fbc04(0x10e)](_0x4fbc04(0x101),_0x264e78),console[_0x4fbc04(0xed)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x264e78;}}[a47_0xf73ac8(0x10d)](){const _0x15cfe8=a47_0xf73ac8;this['authToken']=null,console['log'](_0x15cfe8(0xfe));}async[a47_0xf73ac8(0x109)](){const _0x1b70a5=a47_0xf73ac8;try{const _0x1f8013=await fetch(this[_0x1b70a5(0xf8)]+_0x1b70a5(0xf0),{'method':_0x1b70a5(0xeb),'headers':{'Content-Type':'application/json','User-Agent':_0x1b70a5(0xf2)}});return _0x1f8013&&_0x1f8013[_0x1b70a5(0x11b)]===0xc8?!![]:![];}catch(_0x1aacb1){return console['error'](_0x1b70a5(0x107),_0x1aacb1),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a47_0xf73ac8(0xfd)]=new MyXSpendService();