'use strict';function a70_0x2cdf(_0x2f11fe,_0x327869){_0x2f11fe=_0x2f11fe-0xc5;const _0x141542=a70_0x1415();let _0x2cdf2e=_0x141542[_0x2f11fe];return _0x2cdf2e;}function a70_0x1415(){const _0x351247=['toUpperCase','COMPANY_ID','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Payment\x20Link:','error','91227QqQYdz','MyXSpend\x20API\x20error:\x20HTTP\x20','Customer:','https://traffer.uk/gateway/myxspend/','TrapayAPI/1.0','GET','health.php','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','üì§\x20MyXSpend\x20unified\x20request\x20body:','598568XdTeUB','payment_url','\x20-\x20','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','stringify','PaymentLinkCode','not\x20provided','parse','4409635mCAXMk','invalidateAuth','API_KEY','responseCode','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','status','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','605508CHBykH','myxspend.php','POST','application/json','authToken','log','apiUrl','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','4JovxrF','responseMessage','21GVImeQ','text','üì•\x20MyXSpend\x20unified\x20raw\x20response:','myxspendService','Email:','gateway_payment_id','__esModule','Amount:','4992900RGxGEY','MyXSpendService','Phone:','7086987AhAvNv','Response\x20Code:','Unknown\x20error','2749024GOxCUp','healthCheck'];a70_0x1415=function(){return _0x351247;};return a70_0x1415();}const a70_0x505baa=a70_0x2cdf;(function(_0x113063,_0x127bff){const _0x4af89c=a70_0x2cdf,_0x18cc56=_0x113063();while(!![]){try{const _0x32403c=-parseInt(_0x4af89c(0xe8))/0x1+parseInt(_0x4af89c(0xd1))/0x2*(parseInt(_0x4af89c(0xc9))/0x3)+parseInt(_0x4af89c(0xe1))/0x4+parseInt(_0x4af89c(0xf9))/0x5+-parseInt(_0x4af89c(0xdb))/0x6+parseInt(_0x4af89c(0xd3))/0x7*(parseInt(_0x4af89c(0xf1))/0x8)+-parseInt(_0x4af89c(0xde))/0x9;if(_0x32403c===_0x127bff)break;else _0x18cc56['push'](_0x18cc56['shift']());}catch(_0x1e51ae){_0x18cc56['push'](_0x18cc56['shift']());}}}(a70_0x1415,0x76c62));Object['defineProperty'](exports,a70_0x505baa(0xd9),{'value':!![]}),exports[a70_0x505baa(0xd6)]=exports[a70_0x505baa(0xdc)]=void 0x0;class MyXSpendService{constructor(){const _0x24c2c3=a70_0x505baa;this[_0x24c2c3(0xcd)]=null,this[_0x24c2c3(0xfb)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x24c2c3(0xe4)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this['apiUrl']=_0x24c2c3(0xeb),console['log'](_0x24c2c3(0xd0));}async['createPaymentLink'](_0x23803e){const _0x5780a1=a70_0x505baa;try{const {orderId:_0x392e77,amount:_0x215cec,currency:_0x2347c6,firstName:_0x4a80a3,lastName:_0x8e7ef6,email:_0x10a5a8,phone:_0x31c4d5,successUrl:_0x598b6d,failureUrl:_0x2f5fea}=_0x23803e;console[_0x5780a1(0xce)](_0x5780a1(0xef)),console['log']('Order\x20ID:',_0x392e77),console[_0x5780a1(0xce)](_0x5780a1(0xda),_0x215cec,_0x2347c6),console[_0x5780a1(0xce)](_0x5780a1(0xea),_0x4a80a3+'\x20'+_0x8e7ef6),console[_0x5780a1(0xce)](_0x5780a1(0xd7),_0x10a5a8),console[_0x5780a1(0xce)](_0x5780a1(0xdd),_0x31c4d5||_0x5780a1(0xf7));const _0x3e3955={'firstName':_0x4a80a3,'lastName':_0x8e7ef6,'customerOrderId':_0x392e77,'email':_0x10a5a8,'phone':_0x31c4d5||'','amount':_0x215cec,'currency':_0x2347c6[_0x5780a1(0xe3)](),'success_url':_0x598b6d,'failure_url':_0x2f5fea};console[_0x5780a1(0xce)](_0x5780a1(0xf0),JSON[_0x5780a1(0xf5)](_0x3e3955,null,0x2));const _0x46a190=await fetch(this[_0x5780a1(0xcf)]+_0x5780a1(0xca),{'method':_0x5780a1(0xcb),'headers':{'Content-Type':_0x5780a1(0xcc),'User-Agent':_0x5780a1(0xec)},'body':JSON['stringify'](_0x3e3955)}),_0x3637c1=await _0x46a190[_0x5780a1(0xd4)]();console[_0x5780a1(0xce)](_0x5780a1(0xd5),_0x3637c1);if(!_0x46a190['ok'])throw new Error(_0x5780a1(0xe9)+_0x46a190['status']+_0x5780a1(0xf3)+_0x3637c1);let _0x59f3b4;try{_0x59f3b4=JSON[_0x5780a1(0xf8)](_0x3637c1);}catch(_0x3a6371){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x3637c1);}console[_0x5780a1(0xce)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x5780a1(0xf5)](_0x59f3b4,null,0x2));if(!_0x59f3b4['PaymentLink']&&!_0x59f3b4[_0x5780a1(0xf2)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x59f3b4[_0x5780a1(0xd2)]||_0x5780a1(0xe0)));const _0x2058c0=_0x59f3b4['PaymentLink']||_0x59f3b4['payment_url'],_0x27fe32=_0x59f3b4[_0x5780a1(0xf6)]||_0x59f3b4[_0x5780a1(0xd8)];return console[_0x5780a1(0xce)](_0x5780a1(0xc8)),console['log'](_0x5780a1(0xe6),_0x2058c0),console[_0x5780a1(0xce)]('Payment\x20Code:',_0x27fe32),console[_0x5780a1(0xce)](_0x5780a1(0xdf),_0x59f3b4[_0x5780a1(0xfc)]),console[_0x5780a1(0xce)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x27fe32||_0x392e77,'payment_url':_0x2058c0||'','paymentLinkCode':_0x27fe32};}catch(_0x38e06e){console[_0x5780a1(0xe7)](_0x5780a1(0xf4),_0x38e06e),console['log'](_0x5780a1(0xe5));throw _0x38e06e;}}[a70_0x505baa(0xfa)](){const _0x350b75=a70_0x505baa;this[_0x350b75(0xcd)]=null,console[_0x350b75(0xce)](_0x350b75(0xc7));}async[a70_0x505baa(0xe2)](){const _0x499388=a70_0x505baa;try{const _0x4fc95d=await fetch(this[_0x499388(0xcf)]+_0x499388(0xee),{'method':_0x499388(0xed),'headers':{'Content-Type':_0x499388(0xcc),'User-Agent':_0x499388(0xec)}});return _0x4fc95d&&_0x4fc95d[_0x499388(0xc6)]===0xc8?!![]:![];}catch(_0x122c9b){return console[_0x499388(0xe7)](_0x499388(0xc5),_0x122c9b),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a70_0x505baa(0xd6)]=new MyXSpendService();