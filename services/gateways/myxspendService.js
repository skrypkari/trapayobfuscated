'use strict';function a50_0x39a4(){const _0x1aaf7a=['parse','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','createPaymentLink','üì§\x20MyXSpend\x20unified\x20request\x20body:','stringify','Payment\x20Code:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','290TrxsVI','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','116160tOAxEN','TrapayAPI/1.0','toUpperCase','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Payment\x20Link:','status','Response\x20Code:','gateway_payment_id','61686gIXDZY','MyXSpend\x20payment\x20creation\x20failed:\x20','56hMAhnU','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','health.php','\x20-\x20','üìä\x20MyXSpend\x20unified\x20response\x20data:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','MyXSpendService','47241ldyCXr','text','__esModule','defineProperty','healthCheck','136682iiEpJQ','myxspendService','authToken','195538HcEJCU','error','Amount:','5TjhJBi','290460ZSBcmA','responseMessage','apiUrl','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','API_KEY','PaymentLinkCode','responseCode','MyXSpend\x20API\x20error:\x20HTTP\x20','PaymentLink','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','COMPANY_ID','myxspend.php','Phone:','Email:','GET','91631lfKwOp','log','POST','payment_url'];a50_0x39a4=function(){return _0x1aaf7a;};return a50_0x39a4();}function a50_0x4e9c(_0x426911,_0x27b335){const _0x39a4e6=a50_0x39a4();return a50_0x4e9c=function(_0x4e9ce4,_0x5e1328){_0x4e9ce4=_0x4e9ce4-0xf1;let _0xe182db=_0x39a4e6[_0x4e9ce4];return _0xe182db;},a50_0x4e9c(_0x426911,_0x27b335);}const a50_0x31a68d=a50_0x4e9c;(function(_0x48caf5,_0x22e53a){const _0x2f7f47=a50_0x4e9c,_0xe5fe11=_0x48caf5();while(!![]){try{const _0x180866=-parseInt(_0x2f7f47(0x108))/0x1+-parseInt(_0x2f7f47(0xf2))/0x2+parseInt(_0x2f7f47(0x11e))/0x3+-parseInt(_0x2f7f47(0x116))/0x4+-parseInt(_0x2f7f47(0xf8))/0x5*(parseInt(_0x2f7f47(0xf9))/0x6)+-parseInt(_0x2f7f47(0xf5))/0x7*(-parseInt(_0x2f7f47(0x120))/0x8)+-parseInt(_0x2f7f47(0x127))/0x9*(-parseInt(_0x2f7f47(0x114))/0xa);if(_0x180866===_0x22e53a)break;else _0xe5fe11['push'](_0xe5fe11['shift']());}catch(_0x50d585){_0xe5fe11['push'](_0xe5fe11['shift']());}}}(a50_0x39a4,0x1ff53));Object[a50_0x31a68d(0x12a)](exports,a50_0x31a68d(0x129),{'value':!![]}),exports[a50_0x31a68d(0xf3)]=exports[a50_0x31a68d(0x126)]=void 0x0;class MyXSpendService{constructor(){const _0x1ae4e4=a50_0x31a68d;this[_0x1ae4e4(0xf4)]=null,this[_0x1ae4e4(0xfd)]=_0x1ae4e4(0x102),this[_0x1ae4e4(0x103)]=_0x1ae4e4(0x10d),this[_0x1ae4e4(0xfb)]='https://traffer.uk/gateway/myxspend/',console[_0x1ae4e4(0x109)](_0x1ae4e4(0x115));}async[a50_0x31a68d(0x10e)](_0xb27d20){const _0x325efd=a50_0x31a68d;try{const {orderId:_0x2d1896,amount:_0xc2972f,currency:_0xd294d,firstName:_0x1c41a0,lastName:_0x1a62d4,email:_0xe02df1,phone:_0x456fd9,successUrl:_0x28d6ac,failureUrl:_0x31ef80}=_0xb27d20;console[_0x325efd(0x109)](_0x325efd(0xfc)),console[_0x325efd(0x109)]('Order\x20ID:',_0x2d1896),console['log'](_0x325efd(0xf7),_0xc2972f,_0xd294d),console['log']('Customer:',_0x1c41a0+'\x20'+_0x1a62d4),console[_0x325efd(0x109)](_0x325efd(0x106),_0xe02df1),console[_0x325efd(0x109)](_0x325efd(0x105),_0x456fd9||'not\x20provided');const _0x26b516={'firstName':_0x1c41a0,'lastName':_0x1a62d4,'customerOrderId':_0x2d1896,'email':_0xe02df1,'phone':_0x456fd9||'','amount':_0xc2972f,'currency':_0xd294d[_0x325efd(0x118)](),'success_url':_0x28d6ac,'failure_url':_0x31ef80};console[_0x325efd(0x109)](_0x325efd(0x10f),JSON['stringify'](_0x26b516,null,0x2));const _0x496962=await fetch(this[_0x325efd(0xfb)]+_0x325efd(0x104),{'method':_0x325efd(0x10a),'headers':{'Content-Type':'application/json','User-Agent':_0x325efd(0x117)},'body':JSON[_0x325efd(0x110)](_0x26b516)}),_0x2b1ce1=await _0x496962[_0x325efd(0x128)]();console[_0x325efd(0x109)](_0x325efd(0x119),_0x2b1ce1);if(!_0x496962['ok'])throw new Error(_0x325efd(0x100)+_0x496962[_0x325efd(0x11b)]+_0x325efd(0x123)+_0x2b1ce1);let _0x3c4c2d;try{_0x3c4c2d=JSON[_0x325efd(0x10c)](_0x2b1ce1);}catch(_0x15b18b){throw new Error(_0x325efd(0x125)+_0x2b1ce1);}console[_0x325efd(0x109)](_0x325efd(0x124),JSON[_0x325efd(0x110)](_0x3c4c2d,null,0x2));if(!_0x3c4c2d[_0x325efd(0x101)]&&!_0x3c4c2d['payment_url'])throw new Error(_0x325efd(0x11f)+(_0x3c4c2d[_0x325efd(0xfa)]||'Unknown\x20error'));const _0x4c56bf=_0x3c4c2d[_0x325efd(0x101)]||_0x3c4c2d[_0x325efd(0x10b)],_0x1d175a=_0x3c4c2d[_0x325efd(0xfe)]||_0x3c4c2d[_0x325efd(0x11d)];return console[_0x325efd(0x109)](_0x325efd(0x113)),console[_0x325efd(0x109)](_0x325efd(0x11a),_0x4c56bf),console[_0x325efd(0x109)](_0x325efd(0x111),_0x1d175a),console[_0x325efd(0x109)](_0x325efd(0x11c),_0x3c4c2d[_0x325efd(0xff)]),console[_0x325efd(0x109)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x1d175a||_0x2d1896,'payment_url':_0x4c56bf||'','paymentLinkCode':_0x1d175a};}catch(_0x43280c){console['error']('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x43280c),console['log'](_0x325efd(0x112));throw _0x43280c;}}['invalidateAuth'](){const _0x5af0bb=a50_0x31a68d;this[_0x5af0bb(0xf4)]=null,console[_0x5af0bb(0x109)](_0x5af0bb(0x121));}async[a50_0x31a68d(0xf1)](){const _0x47572d=a50_0x31a68d;try{const _0xb3f3a2=await fetch(this[_0x47572d(0xfb)]+_0x47572d(0x122),{'method':_0x47572d(0x107),'headers':{'Content-Type':'application/json','User-Agent':_0x47572d(0x117)}});return _0xb3f3a2&&_0xb3f3a2[_0x47572d(0x11b)]===0xc8?!![]:![];}catch(_0x3345f5){return console[_0x47572d(0xf6)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x3345f5),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a50_0x31a68d(0xf3)]=new MyXSpendService();