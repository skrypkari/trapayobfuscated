'use strict';const a49_0x402b24=a49_0x2ac8;(function(_0x318e9e,_0x2f7e1a){const _0xfaa0fa=a49_0x2ac8,_0x202270=_0x318e9e();while(!![]){try{const _0x4bc7af=-parseInt(_0xfaa0fa(0xb7))/0x1+-parseInt(_0xfaa0fa(0xbb))/0x2+-parseInt(_0xfaa0fa(0xba))/0x3*(-parseInt(_0xfaa0fa(0xd8))/0x4)+-parseInt(_0xfaa0fa(0xb4))/0x5+-parseInt(_0xfaa0fa(0xda))/0x6*(parseInt(_0xfaa0fa(0xca))/0x7)+parseInt(_0xfaa0fa(0xc2))/0x8+parseInt(_0xfaa0fa(0xc1))/0x9;if(_0x4bc7af===_0x2f7e1a)break;else _0x202270['push'](_0x202270['shift']());}catch(_0x23d688){_0x202270['push'](_0x202270['shift']());}}}(a49_0x3d77,0x6514d));Object[a49_0x402b24(0xb2)](exports,a49_0x402b24(0xc6),{'value':!![]}),exports[a49_0x402b24(0xab)]=exports[a49_0x402b24(0xbe)]=void 0x0;class MyXSpendService{constructor(){const _0x19a216=a49_0x402b24;this['authToken']=null,this[_0x19a216(0xd4)]=_0x19a216(0xbf),this[_0x19a216(0xc8)]=_0x19a216(0xc0),this[_0x19a216(0xa8)]='https://traffer.uk/gateway/myxspend/',console['log'](_0x19a216(0xd6));}async['createPaymentLink'](_0x207978){const _0x482789=a49_0x402b24;try{const {orderId:_0x157a0e,amount:_0x1068e7,currency:_0x3ba7cb,firstName:_0x20fc83,lastName:_0x202e3b,email:_0xcf815e,phone:_0x54cd3d,successUrl:_0x3c2fd1,failureUrl:_0x174b98}=_0x207978;console[_0x482789(0xce)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console['log'](_0x482789(0xbd),_0x157a0e),console[_0x482789(0xce)](_0x482789(0xb1),_0x1068e7,_0x3ba7cb),console[_0x482789(0xce)](_0x482789(0xbc),_0x20fc83+'\x20'+_0x202e3b),console[_0x482789(0xce)]('Email:',_0xcf815e),console[_0x482789(0xce)](_0x482789(0xc5),_0x54cd3d||_0x482789(0xc3));const _0x31d94f={'firstName':_0x20fc83,'lastName':_0x202e3b,'customerOrderId':_0x157a0e,'email':_0xcf815e,'phone':_0x54cd3d||'','amount':_0x1068e7,'currency':_0x3ba7cb[_0x482789(0xcc)](),'success_url':_0x3c2fd1,'failure_url':_0x174b98};console[_0x482789(0xce)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x482789(0xb9)](_0x31d94f,null,0x2));const _0x59ee20=await fetch(this[_0x482789(0xa8)]+_0x482789(0xdc),{'method':'POST','headers':{'Content-Type':_0x482789(0xd2),'User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x482789(0xb9)](_0x31d94f)}),_0x50f5a1=await _0x59ee20[_0x482789(0xd5)]();console['log'](_0x482789(0xcf),_0x50f5a1);if(!_0x59ee20['ok'])throw new Error(_0x482789(0xb8)+_0x59ee20[_0x482789(0xc7)]+'\x20-\x20'+_0x50f5a1);let _0x1486c4;try{_0x1486c4=JSON['parse'](_0x50f5a1);}catch(_0x5305b4){throw new Error(_0x482789(0xd3)+_0x50f5a1);}console['log'](_0x482789(0xd0),JSON[_0x482789(0xb9)](_0x1486c4,null,0x2));if(!_0x1486c4['PaymentLink']&&!_0x1486c4[_0x482789(0xb0)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x1486c4[_0x482789(0xc4)]||_0x482789(0xd1)));const _0x5e5a5f=_0x1486c4[_0x482789(0xdb)]||_0x1486c4['payment_url'],_0x3ff550=_0x1486c4['PaymentLinkCode']||_0x1486c4['gateway_payment_id'];return console[_0x482789(0xce)](_0x482789(0xa9)),console[_0x482789(0xce)](_0x482789(0xac),_0x5e5a5f),console[_0x482789(0xce)](_0x482789(0xaf),_0x3ff550),console[_0x482789(0xce)](_0x482789(0xb5),_0x1486c4[_0x482789(0xad)]),console[_0x482789(0xce)](_0x482789(0xb3)),{'gateway_payment_id':_0x3ff550||_0x157a0e,'payment_url':_0x5e5a5f||'','paymentLinkCode':_0x3ff550};}catch(_0x4db411){console['error'](_0x482789(0xb6),_0x4db411),console['log'](_0x482789(0xaa));throw _0x4db411;}}[a49_0x402b24(0xd7)](){const _0x33cff6=a49_0x402b24;this[_0x33cff6(0xae)]=null,console[_0x33cff6(0xce)](_0x33cff6(0xc9));}async[a49_0x402b24(0xcb)](){const _0x1c45a4=a49_0x402b24;try{const _0x3a4dd4=await fetch(this[_0x1c45a4(0xa8)]+'health.php',{'method':'GET','headers':{'Content-Type':_0x1c45a4(0xd2),'User-Agent':'TrapayAPI/1.0'}});return _0x3a4dd4&&_0x3a4dd4['status']===0xc8?!![]:![];}catch(_0x3f34a4){return console[_0x1c45a4(0xcd)](_0x1c45a4(0xd9),_0x3f34a4),![];}}}exports[a49_0x402b24(0xbe)]=MyXSpendService,exports[a49_0x402b24(0xab)]=new MyXSpendService();function a49_0x2ac8(_0x3d1782,_0x1a682d){const _0x3d77e2=a49_0x3d77();return a49_0x2ac8=function(_0x2ac8d2,_0x103b68){_0x2ac8d2=_0x2ac8d2-0xa8;let _0x4880d7=_0x3d77e2[_0x2ac8d2];return _0x4880d7;},a49_0x2ac8(_0x3d1782,_0x1a682d);}function a49_0x3d77(){const _0x30b8e1=['üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','myxspendService','Payment\x20Link:','responseCode','authToken','Payment\x20Code:','payment_url','Amount:','defineProperty','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','3974980kmcWBN','Response\x20Code:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','369888aTPLIb','MyXSpend\x20API\x20error:\x20HTTP\x20','stringify','95061lxmatt','539948uJWVKK','Customer:','Order\x20ID:','MyXSpendService','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','15283152tgvpTO','4319552KQIoNB','not\x20provided','responseMessage','Phone:','__esModule','status','COMPANY_ID','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','736526SkwkzE','healthCheck','toUpperCase','error','log','üì•\x20MyXSpend\x20unified\x20raw\x20response:','üìä\x20MyXSpend\x20unified\x20response\x20data:','Unknown\x20error','application/json','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','API_KEY','text','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','invalidateAuth','4omBpsr','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','24ICuYCB','PaymentLink','myxspend.php','apiUrl','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'];a49_0x3d77=function(){return _0x30b8e1;};return a49_0x3d77();}