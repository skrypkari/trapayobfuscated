'use strict';const a62_0x3836b=a62_0x3856;(function(_0x428358,_0x8f186b){const _0x54edd7=a62_0x3856,_0x18a19b=_0x428358();while(!![]){try{const _0x407f06=parseInt(_0x54edd7(0xf3))/0x1*(-parseInt(_0x54edd7(0xcc))/0x2)+parseInt(_0x54edd7(0xd0))/0x3*(-parseInt(_0x54edd7(0xd2))/0x4)+parseInt(_0x54edd7(0xea))/0x5+-parseInt(_0x54edd7(0xce))/0x6*(-parseInt(_0x54edd7(0xd8))/0x7)+-parseInt(_0x54edd7(0xc0))/0x8*(parseInt(_0x54edd7(0xef))/0x9)+-parseInt(_0x54edd7(0xca))/0xa*(-parseInt(_0x54edd7(0xc7))/0xb)+-parseInt(_0x54edd7(0xeb))/0xc*(-parseInt(_0x54edd7(0xd1))/0xd);if(_0x407f06===_0x8f186b)break;else _0x18a19b['push'](_0x18a19b['shift']());}catch(_0x3fe298){_0x18a19b['push'](_0x18a19b['shift']());}}}(a62_0x3af7,0x67ef7));function a62_0x3856(_0x421553,_0x45bac3){_0x421553=_0x421553-0xbd;const _0x3af79d=a62_0x3af7();let _0x38567f=_0x3af79d[_0x421553];return _0x38567f;}Object[a62_0x3836b(0xd5)](exports,a62_0x3836b(0xcf),{'value':!![]}),exports[a62_0x3836b(0xda)]=exports[a62_0x3836b(0xe6)]=void 0x0;class MyXSpendService{constructor(){const _0x40f298=a62_0x3836b;this[_0x40f298(0xd7)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this['COMPANY_ID']='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x40f298(0xd6)]='https://traffer.uk/gateway/myxspend/',console[_0x40f298(0xde)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a62_0x3836b(0xe8)](_0x2238e0){const _0x48b5d3=a62_0x3836b;try{const {orderId:_0x51cf59,amount:_0x257598,currency:_0x1b5569,firstName:_0x580269,lastName:_0x374f3a,email:_0x59635d,phone:_0x30f6fd,successUrl:_0x30016f,failureUrl:_0x31f29b}=_0x2238e0;console['log'](_0x48b5d3(0xdc)),console[_0x48b5d3(0xde)](_0x48b5d3(0xc8),_0x51cf59),console['log'](_0x48b5d3(0xee),_0x257598,_0x1b5569),console[_0x48b5d3(0xde)]('Customer:',_0x580269+'\x20'+_0x374f3a),console[_0x48b5d3(0xde)](_0x48b5d3(0xbf),_0x59635d),console[_0x48b5d3(0xde)](_0x48b5d3(0xc5),_0x30f6fd||_0x48b5d3(0xdf));const _0x4a6585={'firstName':_0x580269,'lastName':_0x374f3a,'customerOrderId':_0x51cf59,'email':_0x59635d,'phone':_0x30f6fd||'','amount':_0x257598,'currency':_0x1b5569['toUpperCase'](),'success_url':_0x30016f,'failure_url':_0x31f29b};console[_0x48b5d3(0xde)](_0x48b5d3(0xf1),JSON[_0x48b5d3(0xf2)](_0x4a6585,null,0x2));const _0x43bf74=await fetch(this[_0x48b5d3(0xd6)]+'myxspend.php',{'method':_0x48b5d3(0xbd),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x48b5d3(0xf2)](_0x4a6585)}),_0x1f7776=await _0x43bf74[_0x48b5d3(0xcd)]();console[_0x48b5d3(0xde)](_0x48b5d3(0xe7),_0x1f7776);if(!_0x43bf74['ok'])throw new Error(_0x48b5d3(0xc6)+_0x43bf74[_0x48b5d3(0xc9)]+_0x48b5d3(0xdd)+_0x1f7776);let _0xbfbb2c;try{_0xbfbb2c=JSON['parse'](_0x1f7776);}catch(_0x3665b3){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x1f7776);}console['log'](_0x48b5d3(0xc2),JSON[_0x48b5d3(0xf2)](_0xbfbb2c,null,0x2));if(!_0xbfbb2c['PaymentLink']&&!_0xbfbb2c[_0x48b5d3(0xd4)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0xbfbb2c[_0x48b5d3(0xf4)]||'Unknown\x20error'));const _0x1edd5c=_0xbfbb2c[_0x48b5d3(0xc4)]||_0xbfbb2c[_0x48b5d3(0xd4)],_0x1ef97d=_0xbfbb2c[_0x48b5d3(0xf0)]||_0xbfbb2c[_0x48b5d3(0xd9)];return console[_0x48b5d3(0xde)](_0x48b5d3(0xed)),console['log'](_0x48b5d3(0xdb),_0x1edd5c),console[_0x48b5d3(0xde)](_0x48b5d3(0xe9),_0x1ef97d),console[_0x48b5d3(0xde)](_0x48b5d3(0xe1),_0xbfbb2c[_0x48b5d3(0xbe)]),console[_0x48b5d3(0xde)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x1ef97d||_0x51cf59,'payment_url':_0x1edd5c||'','paymentLinkCode':_0x1ef97d};}catch(_0x1f10d8){console[_0x48b5d3(0xc3)](_0x48b5d3(0xec),_0x1f10d8),console[_0x48b5d3(0xde)](_0x48b5d3(0xcb));throw _0x1f10d8;}}['invalidateAuth'](){const _0x476d3f=a62_0x3836b;this[_0x476d3f(0xd7)]=null,console[_0x476d3f(0xde)](_0x476d3f(0xe4));}async[a62_0x3836b(0xe0)](){const _0x16df5b=a62_0x3836b;try{const _0x166fa2=await fetch(this[_0x16df5b(0xd6)]+_0x16df5b(0xe3),{'method':_0x16df5b(0xc1),'headers':{'Content-Type':_0x16df5b(0xd3),'User-Agent':_0x16df5b(0xe2)}});return _0x166fa2&&_0x166fa2[_0x16df5b(0xc9)]===0xc8?!![]:![];}catch(_0x28acc4){return console[_0x16df5b(0xc3)](_0x16df5b(0xe5),_0x28acc4),![];}}}function a62_0x3af7(){const _0x4082e8=['6jSpPUL','__esModule','591897PcapoV','13SAFRKz','4ueHGqF','application/json','payment_url','defineProperty','apiUrl','authToken','1428651AEhORd','gateway_payment_id','myxspendService','Payment\x20Link:','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','\x20-\x20','log','not\x20provided','healthCheck','Response\x20Code:','TrapayAPI/1.0','health.php','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','MyXSpendService','üì•\x20MyXSpend\x20unified\x20raw\x20response:','createPaymentLink','Payment\x20Code:','3386305FnrIAM','6623988QbmWOb','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','Amount:','125937BGhLUM','PaymentLinkCode','üì§\x20MyXSpend\x20unified\x20request\x20body:','stringify','1oeSCaf','responseMessage','POST','responseCode','Email:','472jbjFCC','GET','üìä\x20MyXSpend\x20unified\x20response\x20data:','error','PaymentLink','Phone:','MyXSpend\x20API\x20error:\x20HTTP\x20','255607WaaLjE','Order\x20ID:','status','170JWeESJ','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','759554hItdHy','text'];a62_0x3af7=function(){return _0x4082e8;};return a62_0x3af7();}exports[a62_0x3836b(0xe6)]=MyXSpendService,exports[a62_0x3836b(0xda)]=new MyXSpendService();