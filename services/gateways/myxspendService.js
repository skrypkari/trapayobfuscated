'use strict';function a62_0x2a55(){const _0x383f8a=['82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Payment\x20Code:','gateway_payment_id','üì§\x20MyXSpend\x20unified\x20request\x20body:','application/json','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','6676ByAGQq','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','GET','Phone:','text','MyXSpend\x20API\x20error:\x20HTTP\x20','apiUrl','1079928tKaSKp','Payment\x20Link:','https://traffer.uk/gateway/myxspend/','log','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','error','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','__esModule','authToken','Order\x20ID:','myxspendService','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','API_KEY','1356984mKkLcN','POST','payment_url','not\x20provided','276KBcbcb','PaymentLinkCode','6vdVUpt','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Email:','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','myxspend.php','responseCode','health.php','responseMessage','status','Unknown\x20error','14090mjgcDZ','690277xzDcGM','1629pebDPF','417580UsEguX','stringify','toUpperCase','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','2562310ckSQHT'];a62_0x2a55=function(){return _0x383f8a;};return a62_0x2a55();}const a62_0x7a0890=a62_0x44af;(function(_0x1a996d,_0x2e1c55){const _0x52721f=a62_0x44af,_0x15d724=_0x1a996d();while(!![]){try{const _0xf2e2f9=-parseInt(_0x52721f(0x81))/0x1+parseInt(_0x52721f(0xa1))/0x2+parseInt(_0x52721f(0x72))/0x3*(parseInt(_0x52721f(0x8d))/0x4)+parseInt(_0x52721f(0x86))/0x5*(-parseInt(_0x52721f(0x74))/0x6)+parseInt(_0x52721f(0x7f))/0x7+parseInt(_0x52721f(0x94))/0x8+-parseInt(_0x52721f(0x80))/0x9*(-parseInt(_0x52721f(0x7e))/0xa);if(_0xf2e2f9===_0x2e1c55)break;else _0x15d724['push'](_0x15d724['shift']());}catch(_0x946c9){_0x15d724['push'](_0x15d724['shift']());}}}(a62_0x2a55,0x5f5e5));Object['defineProperty'](exports,a62_0x7a0890(0x9b),{'value':!![]}),exports[a62_0x7a0890(0x9e)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x4752a1=a62_0x7a0890;this[_0x4752a1(0x9c)]=null,this[_0x4752a1(0xa0)]=_0x4752a1(0x98),this['COMPANY_ID']=_0x4752a1(0x87),this[_0x4752a1(0x93)]=_0x4752a1(0x96),console[_0x4752a1(0x97)](_0x4752a1(0x9f));}async['createPaymentLink'](_0x377137){const _0x498278=a62_0x7a0890;try{const {orderId:_0xca9b6e,amount:_0x331a9f,currency:_0x405043,firstName:_0x103ba8,lastName:_0x2d9f44,email:_0x740291,phone:_0x56f521,successUrl:_0x2306cc,failureUrl:_0x4a6cbb}=_0x377137;console[_0x498278(0x97)](_0x498278(0x77)),console[_0x498278(0x97)](_0x498278(0x9d),_0xca9b6e),console[_0x498278(0x97)]('Amount:',_0x331a9f,_0x405043),console[_0x498278(0x97)]('Customer:',_0x103ba8+'\x20'+_0x2d9f44),console[_0x498278(0x97)](_0x498278(0x76),_0x740291),console[_0x498278(0x97)](_0x498278(0x90),_0x56f521||_0x498278(0x71));const _0x5f52c0={'firstName':_0x103ba8,'lastName':_0x2d9f44,'customerOrderId':_0xca9b6e,'email':_0x740291,'phone':_0x56f521||'','amount':_0x331a9f,'currency':_0x405043[_0x498278(0x83)](),'success_url':_0x2306cc,'failure_url':_0x4a6cbb};console[_0x498278(0x97)](_0x498278(0x8a),JSON[_0x498278(0x82)](_0x5f52c0,null,0x2));const _0x2d1c3f=await fetch(this[_0x498278(0x93)]+_0x498278(0x78),{'method':_0x498278(0x6f),'headers':{'Content-Type':_0x498278(0x8b),'User-Agent':'TrapayAPI/1.0'},'body':JSON['stringify'](_0x5f52c0)}),_0xf61e=await _0x2d1c3f[_0x498278(0x91)]();console[_0x498278(0x97)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0xf61e);if(!_0x2d1c3f['ok'])throw new Error(_0x498278(0x92)+_0x2d1c3f[_0x498278(0x7c)]+'\x20-\x20'+_0xf61e);let _0x4a38f3;try{_0x4a38f3=JSON['parse'](_0xf61e);}catch(_0x1eb065){throw new Error(_0x498278(0x8c)+_0xf61e);}console[_0x498278(0x97)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x498278(0x82)](_0x4a38f3,null,0x2));if(!_0x4a38f3['PaymentLink']&&!_0x4a38f3[_0x498278(0x70)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x4a38f3[_0x498278(0x7b)]||_0x498278(0x7d)));const _0x327ce3=_0x4a38f3['PaymentLink']||_0x4a38f3[_0x498278(0x70)],_0x72a737=_0x4a38f3[_0x498278(0x73)]||_0x4a38f3[_0x498278(0x89)];return console['log'](_0x498278(0x84)),console[_0x498278(0x97)](_0x498278(0x95),_0x327ce3),console[_0x498278(0x97)](_0x498278(0x88),_0x72a737),console[_0x498278(0x97)]('Response\x20Code:',_0x4a38f3[_0x498278(0x79)]),console[_0x498278(0x97)](_0x498278(0x85)),{'gateway_payment_id':_0x72a737||_0xca9b6e,'payment_url':_0x327ce3||'','paymentLinkCode':_0x72a737};}catch(_0x342ba1){console[_0x498278(0x99)](_0x498278(0x9a),_0x342ba1),console[_0x498278(0x97)](_0x498278(0x75));throw _0x342ba1;}}['invalidateAuth'](){const _0x1da08e=a62_0x7a0890;this[_0x1da08e(0x9c)]=null,console[_0x1da08e(0x97)]('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async['healthCheck'](){const _0x37725d=a62_0x7a0890;try{const _0x502827=await fetch(this[_0x37725d(0x93)]+_0x37725d(0x7a),{'method':_0x37725d(0x8f),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'}});return _0x502827&&_0x502827[_0x37725d(0x7c)]===0xc8?!![]:![];}catch(_0x3b892a){return console[_0x37725d(0x99)](_0x37725d(0x8e),_0x3b892a),![];}}}function a62_0x44af(_0x24958f,_0x52b052){_0x24958f=_0x24958f-0x6f;const _0x2a5524=a62_0x2a55();let _0x44afce=_0x2a5524[_0x24958f];return _0x44afce;}exports['MyXSpendService']=MyXSpendService,exports[a62_0x7a0890(0x9e)]=new MyXSpendService();