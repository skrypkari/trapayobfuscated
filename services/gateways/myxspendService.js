'use strict';function a64_0x4835(){const _0x5d5d32=['__esModule','Payment\x20Code:','GET','status','Response\x20Code:','4462024CodgFQ','createPaymentLink','156156zTWUfR','authToken','responseMessage','payment_url','Unknown\x20error','MyXSpend\x20payment\x20creation\x20failed:\x20','üìä\x20MyXSpend\x20unified\x20response\x20data:','COMPANY_ID','myxspend.php','22eovJPg','defineProperty','2663859yASFKQ','health.php','17778PiPCPf','117DxUfdH','invalidateAuth','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','6294lAslbI','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','MyXSpendService','toUpperCase','gateway_payment_id','TrapayAPI/1.0','error','stringify','healthCheck','apiUrl','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','log','160syzwob','Order\x20ID:','üì§\x20MyXSpend\x20unified\x20request\x20body:','application/json','myxspendService','204470goIrju','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','MyXSpend\x20API\x20error:\x20HTTP\x20','https://traffer.uk/gateway/myxspend/','POST','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','705tqlwCK','üì•\x20MyXSpend\x20unified\x20raw\x20response:','5070204HMFESw','Email:','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','PaymentLink','\x20-\x20','not\x20provided'];a64_0x4835=function(){return _0x5d5d32;};return a64_0x4835();}function a64_0x432d(_0x546cd2,_0xe1c042){_0x546cd2=_0x546cd2-0xe4;const _0x483539=a64_0x4835();let _0x432d5f=_0x483539[_0x546cd2];return _0x432d5f;}const a64_0x4b9b62=a64_0x432d;(function(_0x1f6428,_0x149f76){const _0x1be66a=a64_0x432d,_0x39d3ff=_0x1f6428();while(!![]){try{const _0x20b580=parseInt(_0x1be66a(0xf6))/0x1*(parseInt(_0x1be66a(0xf5))/0x2)+parseInt(_0x1be66a(0xf3))/0x3+-parseInt(_0x1be66a(0xe6))/0x4+parseInt(_0x1be66a(0x110))/0x5*(-parseInt(_0x1be66a(0xf9))/0x6)+parseInt(_0x1be66a(0xe8))/0x7*(parseInt(_0x1be66a(0x105))/0x8)+-parseInt(_0x1be66a(0x112))/0x9+-parseInt(_0x1be66a(0x10a))/0xa*(-parseInt(_0x1be66a(0xf1))/0xb);if(_0x20b580===_0x149f76)break;else _0x39d3ff['push'](_0x39d3ff['shift']());}catch(_0x3dec77){_0x39d3ff['push'](_0x39d3ff['shift']());}}}(a64_0x4835,0x8f9d9));Object[a64_0x4b9b62(0xf2)](exports,a64_0x4b9b62(0x118),{'value':!![]}),exports[a64_0x4b9b62(0x109)]=exports[a64_0x4b9b62(0xfb)]=void 0x0;class MyXSpendService{constructor(){const _0x3d275c=a64_0x4b9b62;this[_0x3d275c(0xe9)]=null,this['API_KEY']=_0x3d275c(0xf8),this[_0x3d275c(0xef)]=_0x3d275c(0x10b),this['apiUrl']=_0x3d275c(0x10d),console['log']('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a64_0x4b9b62(0xe7)](_0x1f41fe){const _0x594732=a64_0x4b9b62;try{const {orderId:_0x5ce962,amount:_0x5d8782,currency:_0x264dd8,firstName:_0x3e7ab8,lastName:_0x9dae0d,email:_0x2e4d76,phone:_0xf29f1b,successUrl:_0x3d370e,failureUrl:_0x200588}=_0x1f41fe;console['log']('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x594732(0x104)](_0x594732(0x106),_0x5ce962),console[_0x594732(0x104)]('Amount:',_0x5d8782,_0x264dd8),console['log']('Customer:',_0x3e7ab8+'\x20'+_0x9dae0d),console[_0x594732(0x104)](_0x594732(0x113),_0x2e4d76),console['log']('Phone:',_0xf29f1b||_0x594732(0x117));const _0x452a5e={'firstName':_0x3e7ab8,'lastName':_0x9dae0d,'customerOrderId':_0x5ce962,'email':_0x2e4d76,'phone':_0xf29f1b||'','amount':_0x5d8782,'currency':_0x264dd8[_0x594732(0xfc)](),'success_url':_0x3d370e,'failure_url':_0x200588};console['log'](_0x594732(0x107),JSON[_0x594732(0x100)](_0x452a5e,null,0x2));const _0x572070=await fetch(this[_0x594732(0x102)]+_0x594732(0xf0),{'method':_0x594732(0x10e),'headers':{'Content-Type':_0x594732(0x108),'User-Agent':_0x594732(0xfe)},'body':JSON[_0x594732(0x100)](_0x452a5e)}),_0x55a835=await _0x572070['text']();console[_0x594732(0x104)](_0x594732(0x111),_0x55a835);if(!_0x572070['ok'])throw new Error(_0x594732(0x10c)+_0x572070[_0x594732(0xe4)]+_0x594732(0x116)+_0x55a835);let _0x482021;try{_0x482021=JSON['parse'](_0x55a835);}catch(_0x596d16){throw new Error(_0x594732(0x103)+_0x55a835);}console[_0x594732(0x104)](_0x594732(0xee),JSON[_0x594732(0x100)](_0x482021,null,0x2));if(!_0x482021[_0x594732(0x115)]&&!_0x482021[_0x594732(0xeb)])throw new Error(_0x594732(0xed)+(_0x482021[_0x594732(0xea)]||_0x594732(0xec)));const _0x22c37b=_0x482021['PaymentLink']||_0x482021['payment_url'],_0x1ac17c=_0x482021['PaymentLinkCode']||_0x482021[_0x594732(0xfd)];return console[_0x594732(0x104)](_0x594732(0x114)),console[_0x594732(0x104)]('Payment\x20Link:',_0x22c37b),console[_0x594732(0x104)](_0x594732(0x119),_0x1ac17c),console[_0x594732(0x104)](_0x594732(0xe5),_0x482021['responseCode']),console[_0x594732(0x104)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x1ac17c||_0x5ce962,'payment_url':_0x22c37b||'','paymentLinkCode':_0x1ac17c};}catch(_0x1e5e30){console[_0x594732(0xff)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x1e5e30),console['log']('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x1e5e30;}}[a64_0x4b9b62(0xf7)](){const _0x5d7521=a64_0x4b9b62;this['authToken']=null,console[_0x5d7521(0x104)](_0x5d7521(0x10f));}async[a64_0x4b9b62(0x101)](){const _0x36075=a64_0x4b9b62;try{const _0x1e28a0=await fetch(this[_0x36075(0x102)]+_0x36075(0xf4),{'method':_0x36075(0x11a),'headers':{'Content-Type':'application/json','User-Agent':_0x36075(0xfe)}});return _0x1e28a0&&_0x1e28a0[_0x36075(0xe4)]===0xc8?!![]:![];}catch(_0x50914d){return console[_0x36075(0xff)](_0x36075(0xfa),_0x50914d),![];}}}exports[a64_0x4b9b62(0xfb)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();