'use strict';const a59_0x58b370=a59_0x156f;(function(_0x2edaf1,_0x200e17){const _0x77924f=a59_0x156f,_0x51365a=_0x2edaf1();while(!![]){try{const _0x5aa57b=-parseInt(_0x77924f(0xca))/0x1*(parseInt(_0x77924f(0xd6))/0x2)+parseInt(_0x77924f(0xe7))/0x3*(parseInt(_0x77924f(0xc5))/0x4)+-parseInt(_0x77924f(0xb6))/0x5+-parseInt(_0x77924f(0xc2))/0x6+-parseInt(_0x77924f(0xd4))/0x7+-parseInt(_0x77924f(0xe5))/0x8+parseInt(_0x77924f(0xbc))/0x9;if(_0x5aa57b===_0x200e17)break;else _0x51365a['push'](_0x51365a['shift']());}catch(_0x5a72c3){_0x51365a['push'](_0x51365a['shift']());}}}(a59_0x32d9,0xa600c));function a59_0x32d9(){const _0x2e1cdd=['Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','invalidateAuth','Amount:','payment_url','apiUrl','COMPANY_ID','5679685lKnpJz','authToken','üì•\x20MyXSpend\x20unified\x20raw\x20response:','\x20-\x20','üìä\x20MyXSpend\x20unified\x20response\x20data:','Phone:','32445576TuqnFf','status','myxspend.php','responseMessage','error','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','6448404LUCkPE','stringify','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','4sIZATy','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','log','__esModule','MyXSpendService','2647rMHlhZ','gateway_payment_id','health.php','Payment\x20Code:','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','POST','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','GET','Customer:','myxspendService','4706590PpKcLX','defineProperty','82svgYpl','toUpperCase','createPaymentLink','application/json','MyXSpend\x20API\x20error:\x20HTTP\x20','üì§\x20MyXSpend\x20unified\x20request\x20body:','healthCheck','not\x20provided','TrapayAPI/1.0','text','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','https://traffer.uk/gateway/myxspend/','Response\x20Code:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','parse','3726008iRroaq','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','1596609ABIzBs','Unknown\x20error','Email:'];a59_0x32d9=function(){return _0x2e1cdd;};return a59_0x32d9();}Object[a59_0x58b370(0xd5)](exports,a59_0x58b370(0xc8),{'value':!![]}),exports[a59_0x58b370(0xd3)]=exports[a59_0x58b370(0xc9)]=void 0x0;function a59_0x156f(_0x57e4c5,_0xa072a4){_0x57e4c5=_0x57e4c5-0xb1;const _0x32d9e2=a59_0x32d9();let _0x156f46=_0x32d9e2[_0x57e4c5];return _0x156f46;}class MyXSpendService{constructor(){const _0x3761fc=a59_0x58b370;this[_0x3761fc(0xb7)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x3761fc(0xb5)]=_0x3761fc(0xce),this[_0x3761fc(0xb4)]=_0x3761fc(0xe1),console['log'](_0x3761fc(0xc4));}async[a59_0x58b370(0xd8)](_0x50639a){const _0x3b7368=a59_0x58b370;try{const {orderId:_0x22e5b6,amount:_0x359ead,currency:_0x2bc7a9,firstName:_0x3ff8c4,lastName:_0x365da2,email:_0x1aa7ac,phone:_0x3358a5,successUrl:_0x332204,failureUrl:_0x37bcef}=_0x50639a;console['log'](_0x3b7368(0xe0)),console[_0x3b7368(0xc7)]('Order\x20ID:',_0x22e5b6),console[_0x3b7368(0xc7)](_0x3b7368(0xb2),_0x359ead,_0x2bc7a9),console[_0x3b7368(0xc7)](_0x3b7368(0xd2),_0x3ff8c4+'\x20'+_0x365da2),console['log'](_0x3b7368(0xe9),_0x1aa7ac),console[_0x3b7368(0xc7)](_0x3b7368(0xbb),_0x3358a5||_0x3b7368(0xdd));const _0x3d55a5={'firstName':_0x3ff8c4,'lastName':_0x365da2,'customerOrderId':_0x22e5b6,'email':_0x1aa7ac,'phone':_0x3358a5||'','amount':_0x359ead,'currency':_0x2bc7a9[_0x3b7368(0xd7)](),'success_url':_0x332204,'failure_url':_0x37bcef};console[_0x3b7368(0xc7)](_0x3b7368(0xdb),JSON[_0x3b7368(0xc3)](_0x3d55a5,null,0x2));const _0x2b41b8=await fetch(this['apiUrl']+_0x3b7368(0xbe),{'method':_0x3b7368(0xcf),'headers':{'Content-Type':_0x3b7368(0xd9),'User-Agent':_0x3b7368(0xde)},'body':JSON['stringify'](_0x3d55a5)}),_0x428991=await _0x2b41b8[_0x3b7368(0xdf)]();console[_0x3b7368(0xc7)](_0x3b7368(0xb8),_0x428991);if(!_0x2b41b8['ok'])throw new Error(_0x3b7368(0xda)+_0x2b41b8[_0x3b7368(0xbd)]+_0x3b7368(0xb9)+_0x428991);let _0x2f245d;try{_0x2f245d=JSON[_0x3b7368(0xe4)](_0x428991);}catch(_0x5ee7d3){throw new Error(_0x3b7368(0xea)+_0x428991);}console[_0x3b7368(0xc7)](_0x3b7368(0xba),JSON[_0x3b7368(0xc3)](_0x2f245d,null,0x2));if(!_0x2f245d['PaymentLink']&&!_0x2f245d[_0x3b7368(0xb3)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x2f245d[_0x3b7368(0xbf)]||_0x3b7368(0xe8)));const _0xeeb95e=_0x2f245d['PaymentLink']||_0x2f245d[_0x3b7368(0xb3)],_0x3fb709=_0x2f245d['PaymentLinkCode']||_0x2f245d[_0x3b7368(0xcb)];return console[_0x3b7368(0xc7)](_0x3b7368(0xc6)),console[_0x3b7368(0xc7)]('Payment\x20Link:',_0xeeb95e),console['log'](_0x3b7368(0xcd),_0x3fb709),console[_0x3b7368(0xc7)](_0x3b7368(0xe2),_0x2f245d['responseCode']),console[_0x3b7368(0xc7)](_0x3b7368(0xe6)),{'gateway_payment_id':_0x3fb709||_0x22e5b6,'payment_url':_0xeeb95e||'','paymentLinkCode':_0x3fb709};}catch(_0x3d1822){console[_0x3b7368(0xc0)](_0x3b7368(0xe3),_0x3d1822),console['log'](_0x3b7368(0xc1));throw _0x3d1822;}}[a59_0x58b370(0xb1)](){const _0x3b633d=a59_0x58b370;this[_0x3b633d(0xb7)]=null,console[_0x3b633d(0xc7)]('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a59_0x58b370(0xdc)](){const _0x30e8d3=a59_0x58b370;try{const _0x1f10b3=await fetch(this[_0x30e8d3(0xb4)]+_0x30e8d3(0xcc),{'method':_0x30e8d3(0xd1),'headers':{'Content-Type':_0x30e8d3(0xd9),'User-Agent':_0x30e8d3(0xde)}});return _0x1f10b3&&_0x1f10b3[_0x30e8d3(0xbd)]===0xc8?!![]:![];}catch(_0x4b1509){return console['error'](_0x30e8d3(0xd0),_0x4b1509),![];}}}exports[a59_0x58b370(0xc9)]=MyXSpendService,exports[a59_0x58b370(0xd3)]=new MyXSpendService();