'use strict';function a46_0x5a68(){const _0x4d416b=['333GYsdgP','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','420300EwSwSN','üìä\x20MyXSpend\x20unified\x20response\x20data:','myxspend.php','1515796ByMXFu','authToken','25JydaaO','PaymentLink','3ZvwKDa','log','MyXSpendService','Amount:','Payment\x20Code:','parse','POST','Order\x20ID:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','COMPANY_ID','application/json','935bJNVTv','responseCode','50757MNBsZh','status','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','PaymentLinkCode','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','apiUrl','Unknown\x20error','__esModule','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','937850ldoklh','538024JMIqSs','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','toUpperCase','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','MyXSpend\x20API\x20error:\x20HTTP\x20','https://traffer.uk/gateway/myxspend/','Phone:','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','Payment\x20Link:','MyXSpend\x20payment\x20creation\x20failed:\x20','üì•\x20MyXSpend\x20unified\x20raw\x20response:','57320zgEBkD','responseMessage','defineProperty','payment_url','stringify','12pvQFkc','Customer:','381070PNEULk','TrapayAPI/1.0','Email:'];a46_0x5a68=function(){return _0x4d416b;};return a46_0x5a68();}const a46_0x3809f2=a46_0x192b;(function(_0x518af4,_0x2eee1b){const _0x1213e8=a46_0x192b,_0x405d23=_0x518af4();while(!![]){try{const _0x56d840=-parseInt(_0x1213e8(0x6e))/0x1+-parseInt(_0x1213e8(0x89))/0x2*(-parseInt(_0x1213e8(0x8d))/0x3)+parseInt(_0x1213e8(0x6f))/0x4*(-parseInt(_0x1213e8(0x8b))/0x5)+-parseInt(_0x1213e8(0x7f))/0x6*(-parseInt(_0x1213e8(0x9a))/0x7)+-parseInt(_0x1213e8(0x7a))/0x8+parseInt(_0x1213e8(0x84))/0x9*(-parseInt(_0x1213e8(0x81))/0xa)+parseInt(_0x1213e8(0x98))/0xb*(parseInt(_0x1213e8(0x86))/0xc);if(_0x56d840===_0x2eee1b)break;else _0x405d23['push'](_0x405d23['shift']());}catch(_0x435e7){_0x405d23['push'](_0x405d23['shift']());}}}(a46_0x5a68,0xb0465));function a46_0x192b(_0x43a914,_0x1e66cd){const _0x5a6842=a46_0x5a68();return a46_0x192b=function(_0x192bbe,_0x52c287){_0x192bbe=_0x192bbe-0x6a;let _0x3d304e=_0x5a6842[_0x192bbe];return _0x3d304e;},a46_0x192b(_0x43a914,_0x1e66cd);}Object[a46_0x3809f2(0x7c)](exports,a46_0x3809f2(0x6c),{'value':!![]}),exports['myxspendService']=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x4e528d=a46_0x3809f2;this[_0x4e528d(0x8a)]=null,this['API_KEY']=_0x4e528d(0x6d),this[_0x4e528d(0x96)]=_0x4e528d(0x72),this['apiUrl']=_0x4e528d(0x74),console['log'](_0x4e528d(0x85));}async['createPaymentLink'](_0x126ec5){const _0x1cea91=a46_0x3809f2;try{const {orderId:_0x508c24,amount:_0xc7ffa7,currency:_0x59eaa2,firstName:_0x1e3e53,lastName:_0x330e3b,email:_0xd99878,phone:_0x12f043,successUrl:_0x403d38,failureUrl:_0x552a90}=_0x126ec5;console[_0x1cea91(0x8e)](_0x1cea91(0x76)),console[_0x1cea91(0x8e)](_0x1cea91(0x94),_0x508c24),console[_0x1cea91(0x8e)](_0x1cea91(0x90),_0xc7ffa7,_0x59eaa2),console['log'](_0x1cea91(0x80),_0x1e3e53+'\x20'+_0x330e3b),console[_0x1cea91(0x8e)](_0x1cea91(0x83),_0xd99878),console[_0x1cea91(0x8e)](_0x1cea91(0x75),_0x12f043||'not\x20provided');const _0x31d404={'firstName':_0x1e3e53,'lastName':_0x330e3b,'customerOrderId':_0x508c24,'email':_0xd99878,'phone':_0x12f043||'','amount':_0xc7ffa7,'currency':_0x59eaa2[_0x1cea91(0x71)](),'success_url':_0x403d38,'failure_url':_0x552a90};console[_0x1cea91(0x8e)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x1cea91(0x7e)](_0x31d404,null,0x2));const _0xa49289=await fetch(this[_0x1cea91(0x6a)]+_0x1cea91(0x88),{'method':_0x1cea91(0x93),'headers':{'Content-Type':_0x1cea91(0x97),'User-Agent':_0x1cea91(0x82)},'body':JSON[_0x1cea91(0x7e)](_0x31d404)}),_0xafd270=await _0xa49289['text']();console[_0x1cea91(0x8e)](_0x1cea91(0x79),_0xafd270);if(!_0xa49289['ok'])throw new Error(_0x1cea91(0x73)+_0xa49289[_0x1cea91(0x9b)]+'\x20-\x20'+_0xafd270);let _0xbf4a22;try{_0xbf4a22=JSON[_0x1cea91(0x92)](_0xafd270);}catch(_0x1137d8){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0xafd270);}console[_0x1cea91(0x8e)](_0x1cea91(0x87),JSON[_0x1cea91(0x7e)](_0xbf4a22,null,0x2));if(!_0xbf4a22[_0x1cea91(0x8c)]&&!_0xbf4a22[_0x1cea91(0x7d)])throw new Error(_0x1cea91(0x78)+(_0xbf4a22[_0x1cea91(0x7b)]||_0x1cea91(0x6b)));const _0x232866=_0xbf4a22[_0x1cea91(0x8c)]||_0xbf4a22['payment_url'],_0x560fe4=_0xbf4a22[_0x1cea91(0x9d)]||_0xbf4a22['gateway_payment_id'];return console[_0x1cea91(0x8e)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console['log'](_0x1cea91(0x77),_0x232866),console[_0x1cea91(0x8e)](_0x1cea91(0x91),_0x560fe4),console[_0x1cea91(0x8e)]('Response\x20Code:',_0xbf4a22[_0x1cea91(0x99)]),console[_0x1cea91(0x8e)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x560fe4||_0x508c24,'payment_url':_0x232866||'','paymentLinkCode':_0x560fe4};}catch(_0x2ec378){console['error'](_0x1cea91(0x9c),_0x2ec378),console[_0x1cea91(0x8e)](_0x1cea91(0x95));throw _0x2ec378;}}['invalidateAuth'](){const _0x367611=a46_0x3809f2;this[_0x367611(0x8a)]=null,console[_0x367611(0x8e)](_0x367611(0x70));}async['healthCheck'](){const _0x5c031f=a46_0x3809f2;try{return!![];}catch(_0x4399e2){return console['error'](_0x5c031f(0x9e),_0x4399e2),![];}}}exports[a46_0x3809f2(0x8f)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();