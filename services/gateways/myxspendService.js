'use strict';const a64_0x18c070=a64_0x17b9;function a64_0x17b9(_0x120ecf,_0x49b3c5){_0x120ecf=_0x120ecf-0x16c;const _0x86dfc6=a64_0x86df();let _0x17b955=_0x86dfc6[_0x120ecf];return _0x17b955;}function a64_0x86df(){const _0x12e47f=['TrapayAPI/1.0','COMPANY_ID','Payment\x20Link:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','2395960VcFEJA','myxspendService','gateway_payment_id','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','Response\x20Code:','6584067KQCpUb','Payment\x20Code:','455336zbOIQT','https://traffer.uk/gateway/myxspend/','GET','createPaymentLink','parse','not\x20provided','Unknown\x20error','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Phone:','MyXSpendService','126HcNUIq','505foChpT','20496lQejZR','Email:','toUpperCase','2450eSnNmp','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','MyXSpend\x20payment\x20creation\x20failed:\x20','authToken','Amount:','MyXSpend\x20API\x20error:\x20HTTP\x20','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','Order\x20ID:','myxspend.php','üìä\x20MyXSpend\x20unified\x20response\x20data:','15byOxgl','responseMessage','health.php','apiUrl','payment_url','stringify','status','19735551BvwyYn','276GBkUnP','application/json','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','error','__esModule','healthCheck','1888716OArjii','log','PaymentLink'];a64_0x86df=function(){return _0x12e47f;};return a64_0x86df();}(function(_0x46a1ee,_0x3e1e3c){const _0x146f80=a64_0x17b9,_0x29eee8=_0x46a1ee();while(!![]){try{const _0x7d5db6=parseInt(_0x146f80(0x1a1))/0x1*(-parseInt(_0x146f80(0x16f))/0x2)+-parseInt(_0x146f80(0x16c))/0x3*(-parseInt(_0x146f80(0x181))/0x4)+parseInt(_0x146f80(0x179))/0x5*(-parseInt(_0x146f80(0x187))/0x6)+parseInt(_0x146f80(0x193))/0x7+-parseInt(_0x146f80(0x195))/0x8*(parseInt(_0x146f80(0x1a0))/0x9)+-parseInt(_0x146f80(0x18e))/0xa+parseInt(_0x146f80(0x180))/0xb;if(_0x7d5db6===_0x3e1e3c)break;else _0x29eee8['push'](_0x29eee8['shift']());}catch(_0x109356){_0x29eee8['push'](_0x29eee8['shift']());}}}(a64_0x86df,0x941f9));Object['defineProperty'](exports,a64_0x18c070(0x185),{'value':!![]}),exports[a64_0x18c070(0x18f)]=exports[a64_0x18c070(0x19f)]=void 0x0;class MyXSpendService{constructor(){const _0x5b580d=a64_0x18c070;this[_0x5b580d(0x172)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x5b580d(0x18b)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x5b580d(0x17c)]=_0x5b580d(0x196),console['log'](_0x5b580d(0x175));}async[a64_0x18c070(0x198)](_0x59dcce){const _0x1e73dc=a64_0x18c070;try{const {orderId:_0x113b0c,amount:_0x3b97b9,currency:_0x1316b4,firstName:_0x569558,lastName:_0x5b9e9c,email:_0x2648db,phone:_0x37f37e,successUrl:_0x306ad3,failureUrl:_0x414939}=_0x59dcce;console[_0x1e73dc(0x188)](_0x1e73dc(0x170)),console[_0x1e73dc(0x188)](_0x1e73dc(0x176),_0x113b0c),console[_0x1e73dc(0x188)](_0x1e73dc(0x173),_0x3b97b9,_0x1316b4),console['log']('Customer:',_0x569558+'\x20'+_0x5b9e9c),console[_0x1e73dc(0x188)](_0x1e73dc(0x16d),_0x2648db),console[_0x1e73dc(0x188)](_0x1e73dc(0x19e),_0x37f37e||_0x1e73dc(0x19a));const _0x45d317={'firstName':_0x569558,'lastName':_0x5b9e9c,'customerOrderId':_0x113b0c,'email':_0x2648db,'phone':_0x37f37e||'','amount':_0x3b97b9,'currency':_0x1316b4[_0x1e73dc(0x16e)](),'success_url':_0x306ad3,'failure_url':_0x414939};console[_0x1e73dc(0x188)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x1e73dc(0x17e)](_0x45d317,null,0x2));const _0x122220=await fetch(this[_0x1e73dc(0x17c)]+_0x1e73dc(0x177),{'method':'POST','headers':{'Content-Type':'application/json','User-Agent':_0x1e73dc(0x18a)},'body':JSON[_0x1e73dc(0x17e)](_0x45d317)}),_0x2585a6=await _0x122220['text']();console['log'](_0x1e73dc(0x19d),_0x2585a6);if(!_0x122220['ok'])throw new Error(_0x1e73dc(0x174)+_0x122220[_0x1e73dc(0x17f)]+'\x20-\x20'+_0x2585a6);let _0x3e08e8;try{_0x3e08e8=JSON[_0x1e73dc(0x199)](_0x2585a6);}catch(_0x37e5fc){throw new Error(_0x1e73dc(0x19c)+_0x2585a6);}console[_0x1e73dc(0x188)](_0x1e73dc(0x178),JSON[_0x1e73dc(0x17e)](_0x3e08e8,null,0x2));if(!_0x3e08e8[_0x1e73dc(0x189)]&&!_0x3e08e8[_0x1e73dc(0x17d)])throw new Error(_0x1e73dc(0x171)+(_0x3e08e8[_0x1e73dc(0x17a)]||_0x1e73dc(0x19b)));const _0x2eb1ce=_0x3e08e8[_0x1e73dc(0x189)]||_0x3e08e8[_0x1e73dc(0x17d)],_0x8b5a67=_0x3e08e8['PaymentLinkCode']||_0x3e08e8[_0x1e73dc(0x190)];return console[_0x1e73dc(0x188)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console['log'](_0x1e73dc(0x18c),_0x2eb1ce),console[_0x1e73dc(0x188)](_0x1e73dc(0x194),_0x8b5a67),console[_0x1e73dc(0x188)](_0x1e73dc(0x192),_0x3e08e8['responseCode']),console['log'](_0x1e73dc(0x183)),{'gateway_payment_id':_0x8b5a67||_0x113b0c,'payment_url':_0x2eb1ce||'','paymentLinkCode':_0x8b5a67};}catch(_0x3b582d){console[_0x1e73dc(0x184)](_0x1e73dc(0x191),_0x3b582d),console[_0x1e73dc(0x188)](_0x1e73dc(0x18d));throw _0x3b582d;}}['invalidateAuth'](){const _0x261d8a=a64_0x18c070;this[_0x261d8a(0x172)]=null,console[_0x261d8a(0x188)]('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a64_0x18c070(0x186)](){const _0x532bcb=a64_0x18c070;try{const _0x45a388=await fetch(this[_0x532bcb(0x17c)]+_0x532bcb(0x17b),{'method':_0x532bcb(0x197),'headers':{'Content-Type':_0x532bcb(0x182),'User-Agent':_0x532bcb(0x18a)}});return _0x45a388&&_0x45a388['status']===0xc8?!![]:![];}catch(_0x56065b){return console[_0x532bcb(0x184)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x56065b),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a64_0x18c070(0x18f)]=new MyXSpendService();