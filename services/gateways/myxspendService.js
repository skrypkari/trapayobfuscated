'use strict';const a70_0x25da6a=a70_0x11a6;(function(_0x81212e,_0x29cad6){const _0x40aff3=a70_0x11a6,_0x441abe=_0x81212e();while(!![]){try{const _0x37b2ce=-parseInt(_0x40aff3(0x78))/0x1+-parseInt(_0x40aff3(0x81))/0x2+-parseInt(_0x40aff3(0x86))/0x3+-parseInt(_0x40aff3(0x88))/0x4*(-parseInt(_0x40aff3(0x68))/0x5)+parseInt(_0x40aff3(0x73))/0x6*(parseInt(_0x40aff3(0x82))/0x7)+-parseInt(_0x40aff3(0x7d))/0x8*(-parseInt(_0x40aff3(0x97))/0x9)+parseInt(_0x40aff3(0x6f))/0xa*(parseInt(_0x40aff3(0x76))/0xb);if(_0x37b2ce===_0x29cad6)break;else _0x441abe['push'](_0x441abe['shift']());}catch(_0x5b167b){_0x441abe['push'](_0x441abe['shift']());}}}(a70_0xfd2f,0x31520));Object[a70_0x25da6a(0x93)](exports,a70_0x25da6a(0x80),{'value':!![]}),exports[a70_0x25da6a(0x8c)]=exports[a70_0x25da6a(0x70)]=void 0x0;function a70_0xfd2f(){const _0x21751e=['MyXSpend\x20API\x20error:\x20HTTP\x20','health.php','payment_url','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','260048rTdJzU','Response\x20Code:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','__esModule','431432telPWF','63ucBSvF','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','parse','MyXSpend\x20payment\x20creation\x20failed:\x20','338568QODvaN','responseMessage','30164NOvbbU','gateway_payment_id','createPaymentLink','Payment\x20Link:','myxspendService','Payment\x20Code:','TrapayAPI/1.0','log','https://traffer.uk/gateway/myxspend/','not\x20provided','PaymentLinkCode','defineProperty','status','apiUrl','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','9uLEXWS','API_KEY','Order\x20ID:','COMPANY_ID','text','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','115WFrAyG','myxspend.php','Customer:','application/json','authToken','GET','stringify','10NExgfD','MyXSpendService','PaymentLink','üì•\x20MyXSpend\x20unified\x20raw\x20response:','36228HcOMIM','Amount:','üì§\x20MyXSpend\x20unified\x20request\x20body:','3852827cLOQHM','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','79960KWDwsI'];a70_0xfd2f=function(){return _0x21751e;};return a70_0xfd2f();}function a70_0x11a6(_0x377267,_0x52f763){_0x377267=_0x377267-0x67;const _0xfd2fe5=a70_0xfd2f();let _0x11a664=_0xfd2fe5[_0x377267];return _0x11a664;}class MyXSpendService{constructor(){const _0x4128eb=a70_0x25da6a;this[_0x4128eb(0x6c)]=null,this[_0x4128eb(0x98)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x4128eb(0x9a)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x4128eb(0x95)]=_0x4128eb(0x90),console[_0x4128eb(0x8f)](_0x4128eb(0x83));}async[a70_0x25da6a(0x8a)](_0x188d71){const _0x37ddfb=a70_0x25da6a;try{const {orderId:_0x27ef51,amount:_0x3a81e7,currency:_0x27da1c,firstName:_0x3c31fb,lastName:_0x14b7ef,email:_0x4a848b,phone:_0xf9ec78,successUrl:_0x4cfa8d,failureUrl:_0x5df5d3}=_0x188d71;console[_0x37ddfb(0x8f)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x37ddfb(0x8f)](_0x37ddfb(0x99),_0x27ef51),console[_0x37ddfb(0x8f)](_0x37ddfb(0x74),_0x3a81e7,_0x27da1c),console['log'](_0x37ddfb(0x6a),_0x3c31fb+'\x20'+_0x14b7ef),console[_0x37ddfb(0x8f)]('Email:',_0x4a848b),console[_0x37ddfb(0x8f)]('Phone:',_0xf9ec78||_0x37ddfb(0x91));const _0x33bb20={'firstName':_0x3c31fb,'lastName':_0x14b7ef,'customerOrderId':_0x27ef51,'email':_0x4a848b,'phone':_0xf9ec78||'','amount':_0x3a81e7,'currency':_0x27da1c['toUpperCase'](),'success_url':_0x4cfa8d,'failure_url':_0x5df5d3};console[_0x37ddfb(0x8f)](_0x37ddfb(0x75),JSON[_0x37ddfb(0x6e)](_0x33bb20,null,0x2));const _0x367c5e=await fetch(this['apiUrl']+_0x37ddfb(0x69),{'method':'POST','headers':{'Content-Type':_0x37ddfb(0x6b),'User-Agent':_0x37ddfb(0x8e)},'body':JSON[_0x37ddfb(0x6e)](_0x33bb20)}),_0x157491=await _0x367c5e[_0x37ddfb(0x9b)]();console[_0x37ddfb(0x8f)](_0x37ddfb(0x72),_0x157491);if(!_0x367c5e['ok'])throw new Error(_0x37ddfb(0x79)+_0x367c5e[_0x37ddfb(0x94)]+'\x20-\x20'+_0x157491);let _0x311d25;try{_0x311d25=JSON[_0x37ddfb(0x84)](_0x157491);}catch(_0x4bece8){throw new Error(_0x37ddfb(0x67)+_0x157491);}console['log']('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x37ddfb(0x6e)](_0x311d25,null,0x2));if(!_0x311d25[_0x37ddfb(0x71)]&&!_0x311d25[_0x37ddfb(0x7b)])throw new Error(_0x37ddfb(0x85)+(_0x311d25[_0x37ddfb(0x87)]||'Unknown\x20error'));const _0xbab6b1=_0x311d25[_0x37ddfb(0x71)]||_0x311d25[_0x37ddfb(0x7b)],_0x33dcf0=_0x311d25[_0x37ddfb(0x92)]||_0x311d25[_0x37ddfb(0x89)];return console[_0x37ddfb(0x8f)](_0x37ddfb(0x7c)),console[_0x37ddfb(0x8f)](_0x37ddfb(0x8b),_0xbab6b1),console[_0x37ddfb(0x8f)](_0x37ddfb(0x8d),_0x33dcf0),console[_0x37ddfb(0x8f)](_0x37ddfb(0x7e),_0x311d25['responseCode']),console[_0x37ddfb(0x8f)](_0x37ddfb(0x7f)),{'gateway_payment_id':_0x33dcf0||_0x27ef51,'payment_url':_0xbab6b1||'','paymentLinkCode':_0x33dcf0};}catch(_0xce8604){console['error']('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0xce8604),console[_0x37ddfb(0x8f)](_0x37ddfb(0x77));throw _0xce8604;}}['invalidateAuth'](){const _0x3dfcfb=a70_0x25da6a;this[_0x3dfcfb(0x6c)]=null,console[_0x3dfcfb(0x8f)](_0x3dfcfb(0x96));}async['healthCheck'](){const _0x255e1e=a70_0x25da6a;try{const _0x234c9c=await fetch(this[_0x255e1e(0x95)]+_0x255e1e(0x7a),{'method':_0x255e1e(0x6d),'headers':{'Content-Type':_0x255e1e(0x6b),'User-Agent':_0x255e1e(0x8e)}});return _0x234c9c&&_0x234c9c[_0x255e1e(0x94)]===0xc8?!![]:![];}catch(_0x50c929){return console['error']('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x50c929),![];}}}exports[a70_0x25da6a(0x70)]=MyXSpendService,exports[a70_0x25da6a(0x8c)]=new MyXSpendService();