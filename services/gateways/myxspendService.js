'use strict';const a52_0x1380c0=a52_0x2bcf;(function(_0x5f1915,_0x274454){const _0x1797b3=a52_0x2bcf,_0x14f11c=_0x5f1915();while(!![]){try{const _0x56d1af=-parseInt(_0x1797b3(0x16a))/0x1+parseInt(_0x1797b3(0x163))/0x2*(-parseInt(_0x1797b3(0x15f))/0x3)+-parseInt(_0x1797b3(0x14f))/0x4*(parseInt(_0x1797b3(0x177))/0x5)+-parseInt(_0x1797b3(0x175))/0x6*(-parseInt(_0x1797b3(0x168))/0x7)+-parseInt(_0x1797b3(0x167))/0x8*(parseInt(_0x1797b3(0x149))/0x9)+-parseInt(_0x1797b3(0x15a))/0xa*(parseInt(_0x1797b3(0x172))/0xb)+parseInt(_0x1797b3(0x161))/0xc*(parseInt(_0x1797b3(0x15d))/0xd);if(_0x56d1af===_0x274454)break;else _0x14f11c['push'](_0x14f11c['shift']());}catch(_0x447361){_0x14f11c['push'](_0x14f11c['shift']());}}}(a52_0x2301,0x33fe4));function a52_0x2bcf(_0x541bc0,_0x562a1a){const _0x23017a=a52_0x2301();return a52_0x2bcf=function(_0x2bcf65,_0x4ccd21){_0x2bcf65=_0x2bcf65-0x13f;let _0x430932=_0x23017a[_0x2bcf65];return _0x430932;},a52_0x2bcf(_0x541bc0,_0x562a1a);}Object[a52_0x1380c0(0x176)](exports,a52_0x1380c0(0x158),{'value':!![]}),exports['myxspendService']=exports[a52_0x1380c0(0x169)]=void 0x0;class MyXSpendService{constructor(){const _0x224669=a52_0x1380c0;this[_0x224669(0x146)]=null,this[_0x224669(0x160)]=_0x224669(0x144),this['COMPANY_ID']=_0x224669(0x16f),this['apiUrl']=_0x224669(0x14e),console[_0x224669(0x140)](_0x224669(0x142));}async[a52_0x1380c0(0x145)](_0x38b99b){const _0x2c9e3e=a52_0x1380c0;try{const {orderId:_0x255de9,amount:_0x59feea,currency:_0x6e8112,firstName:_0x5e7f56,lastName:_0x3d5064,email:_0x32c7f6,phone:_0xdad3b7,successUrl:_0x11130d,failureUrl:_0x3e713b}=_0x38b99b;console[_0x2c9e3e(0x140)](_0x2c9e3e(0x15e)),console[_0x2c9e3e(0x140)]('Order\x20ID:',_0x255de9),console[_0x2c9e3e(0x140)](_0x2c9e3e(0x152),_0x59feea,_0x6e8112),console['log'](_0x2c9e3e(0x14a),_0x5e7f56+'\x20'+_0x3d5064),console[_0x2c9e3e(0x140)]('Email:',_0x32c7f6),console[_0x2c9e3e(0x140)](_0x2c9e3e(0x171),_0xdad3b7||_0x2c9e3e(0x170));const _0x4beadb={'firstName':_0x5e7f56,'lastName':_0x3d5064,'customerOrderId':_0x255de9,'email':_0x32c7f6,'phone':_0xdad3b7||'','amount':_0x59feea,'currency':_0x6e8112['toUpperCase'](),'success_url':_0x11130d,'failure_url':_0x3e713b};console[_0x2c9e3e(0x140)](_0x2c9e3e(0x159),JSON[_0x2c9e3e(0x164)](_0x4beadb,null,0x2));const _0xd2e69b=await fetch(this[_0x2c9e3e(0x151)]+_0x2c9e3e(0x15c),{'method':_0x2c9e3e(0x16c),'headers':{'Content-Type':_0x2c9e3e(0x155),'User-Agent':_0x2c9e3e(0x173)},'body':JSON[_0x2c9e3e(0x164)](_0x4beadb)}),_0x53aecb=await _0xd2e69b[_0x2c9e3e(0x15b)]();console[_0x2c9e3e(0x140)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0x53aecb);if(!_0xd2e69b['ok'])throw new Error(_0x2c9e3e(0x141)+_0xd2e69b[_0x2c9e3e(0x14c)]+_0x2c9e3e(0x174)+_0x53aecb);let _0x5b4ae0;try{_0x5b4ae0=JSON[_0x2c9e3e(0x153)](_0x53aecb);}catch(_0x343207){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x53aecb);}console['log'](_0x2c9e3e(0x16b),JSON[_0x2c9e3e(0x164)](_0x5b4ae0,null,0x2));if(!_0x5b4ae0[_0x2c9e3e(0x143)]&&!_0x5b4ae0[_0x2c9e3e(0x162)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x5b4ae0['responseMessage']||_0x2c9e3e(0x16e)));const _0x1c2f68=_0x5b4ae0['PaymentLink']||_0x5b4ae0['payment_url'],_0x36cc5e=_0x5b4ae0[_0x2c9e3e(0x14b)]||_0x5b4ae0['gateway_payment_id'];return console[_0x2c9e3e(0x140)](_0x2c9e3e(0x165)),console['log'](_0x2c9e3e(0x16d),_0x1c2f68),console[_0x2c9e3e(0x140)]('Payment\x20Code:',_0x36cc5e),console[_0x2c9e3e(0x140)](_0x2c9e3e(0x154),_0x5b4ae0['responseCode']),console[_0x2c9e3e(0x140)](_0x2c9e3e(0x148)),{'gateway_payment_id':_0x36cc5e||_0x255de9,'payment_url':_0x1c2f68||'','paymentLinkCode':_0x36cc5e};}catch(_0x47188e){console[_0x2c9e3e(0x150)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x47188e),console['log'](_0x2c9e3e(0x166));throw _0x47188e;}}[a52_0x1380c0(0x157)](){const _0x29c713=a52_0x1380c0;this[_0x29c713(0x146)]=null,console[_0x29c713(0x140)](_0x29c713(0x156));}async[a52_0x1380c0(0x13f)](){const _0x1ee1bf=a52_0x1380c0;try{const _0x1d9542=await fetch(this[_0x1ee1bf(0x151)]+_0x1ee1bf(0x147),{'method':'GET','headers':{'Content-Type':_0x1ee1bf(0x155),'User-Agent':_0x1ee1bf(0x173)}});return _0x1d9542&&_0x1d9542[_0x1ee1bf(0x14c)]===0xc8?!![]:![];}catch(_0x1ac0e3){return console[_0x1ee1bf(0x150)](_0x1ee1bf(0x14d),_0x1ac0e3),![];}}}function a52_0x2301(){const _0x5b7908=['stringify','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','8orqRzk','3192JyHZPG','MyXSpendService','94309mOngUg','üìä\x20MyXSpend\x20unified\x20response\x20data:','POST','Payment\x20Link:','Unknown\x20error','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','not\x20provided','Phone:','827453nVLMsd','TrapayAPI/1.0','\x20-\x20','4362mYpzTZ','defineProperty','10QKSDdj','healthCheck','log','MyXSpend\x20API\x20error:\x20HTTP\x20','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','PaymentLink','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','createPaymentLink','authToken','health.php','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','2480265BNpaxv','Customer:','PaymentLinkCode','status','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','https://traffer.uk/gateway/myxspend/','730936prGetE','error','apiUrl','Amount:','parse','Response\x20Code:','application/json','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','invalidateAuth','__esModule','üì§\x20MyXSpend\x20unified\x20request\x20body:','10bleAcZ','text','myxspend.php','12296557svSARQ','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','380778jHfyHt','API_KEY','12sPOHjU','payment_url','4BHDjnw'];a52_0x2301=function(){return _0x5b7908;};return a52_0x2301();}exports[a52_0x1380c0(0x169)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();