'use strict';function a50_0xb26b(){const _0x5c8594=['\x20-\x20','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','1383484bJYuJD','192259CcRYlX','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','Amount:','Phone:','10ZNBMjT','5421664QqdvtD','invalidateAuth','Unknown\x20error','payment_url','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Response\x20Code:','1910622UwFJjw','üìä\x20MyXSpend\x20unified\x20response\x20data:','apiUrl','Customer:','GET','5430501HcdmVp','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','https://traffer.uk/gateway/myxspend/','responseMessage','text','üì§\x20MyXSpend\x20unified\x20request\x20body:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','status','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','log','health.php','TrapayAPI/1.0','healthCheck','error','myxspend.php','gateway_payment_id','createPaymentLink','1044096CWcWuF','MyXSpendService','stringify','API_KEY','responseCode','not\x20provided','parse','POST','5LqNglz','application/json','myxspendService','6HxOGuE','2209921XKgBDA','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','PaymentLinkCode','defineProperty','__esModule','üì•\x20MyXSpend\x20unified\x20raw\x20response:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','PaymentLink','authToken','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','Payment\x20Code:'];a50_0xb26b=function(){return _0x5c8594;};return a50_0xb26b();}const a50_0x23c978=a50_0x4c42;(function(_0x462b23,_0x29ec09){const _0x580415=a50_0x4c42,_0x4ce762=_0x462b23();while(!![]){try{const _0x547d95=parseInt(_0x580415(0x196))/0x1+-parseInt(_0x580415(0x195))/0x2+parseInt(_0x580415(0x1a1))/0x3+parseInt(_0x580415(0x19b))/0x4*(parseInt(_0x580415(0x184))/0x5)+parseInt(_0x580415(0x187))/0x6*(-parseInt(_0x580415(0x188))/0x7)+parseInt(_0x580415(0x17c))/0x8+-parseInt(_0x580415(0x16b))/0x9*(parseInt(_0x580415(0x19a))/0xa);if(_0x547d95===_0x29ec09)break;else _0x4ce762['push'](_0x4ce762['shift']());}catch(_0x54542d){_0x4ce762['push'](_0x4ce762['shift']());}}}(a50_0xb26b,0xabee3));function a50_0x4c42(_0x3b3754,_0x366243){const _0xb26b34=a50_0xb26b();return a50_0x4c42=function(_0x4c428c,_0x2087c5){_0x4c428c=_0x4c428c-0x16b;let _0x135385=_0xb26b34[_0x4c428c];return _0x135385;},a50_0x4c42(_0x3b3754,_0x366243);}Object[a50_0x23c978(0x18b)](exports,a50_0x23c978(0x18c),{'value':!![]}),exports[a50_0x23c978(0x186)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x1b2225=a50_0x23c978;this[_0x1b2225(0x190)]=null,this[_0x1b2225(0x17f)]=_0x1b2225(0x173),this['COMPANY_ID']=_0x1b2225(0x19f),this[_0x1b2225(0x1a3)]=_0x1b2225(0x16d),console[_0x1b2225(0x174)](_0x1b2225(0x194));}async[a50_0x23c978(0x17b)](_0x5ebe94){const _0x58753a=a50_0x23c978;try{const {orderId:_0x432f75,amount:_0x17eab9,currency:_0x3866a6,firstName:_0x6b0a20,lastName:_0x5c35b3,email:_0x55d147,phone:_0x116d4d,successUrl:_0x344030,failureUrl:_0x32975b}=_0x5ebe94;console['log'](_0x58753a(0x191)),console[_0x58753a(0x174)]('Order\x20ID:',_0x432f75),console[_0x58753a(0x174)](_0x58753a(0x198),_0x17eab9,_0x3866a6),console[_0x58753a(0x174)](_0x58753a(0x1a4),_0x6b0a20+'\x20'+_0x5c35b3),console['log']('Email:',_0x55d147),console['log'](_0x58753a(0x199),_0x116d4d||_0x58753a(0x181));const _0x5ae9df={'firstName':_0x6b0a20,'lastName':_0x5c35b3,'customerOrderId':_0x432f75,'email':_0x55d147,'phone':_0x116d4d||'','amount':_0x17eab9,'currency':_0x3866a6['toUpperCase'](),'success_url':_0x344030,'failure_url':_0x32975b};console['log'](_0x58753a(0x170),JSON['stringify'](_0x5ae9df,null,0x2));const _0x163630=await fetch(this[_0x58753a(0x1a3)]+_0x58753a(0x179),{'method':_0x58753a(0x183),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x58753a(0x17e)](_0x5ae9df)}),_0x146212=await _0x163630[_0x58753a(0x16f)]();console[_0x58753a(0x174)](_0x58753a(0x18d),_0x146212);if(!_0x163630['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x163630[_0x58753a(0x172)]+_0x58753a(0x193)+_0x146212);let _0x5990f4;try{_0x5990f4=JSON[_0x58753a(0x182)](_0x146212);}catch(_0x59d998){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x146212);}console[_0x58753a(0x174)](_0x58753a(0x1a2),JSON['stringify'](_0x5990f4,null,0x2));if(!_0x5990f4[_0x58753a(0x18f)]&&!_0x5990f4['payment_url'])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x5990f4[_0x58753a(0x16e)]||_0x58753a(0x19d)));const _0x173cbd=_0x5990f4[_0x58753a(0x18f)]||_0x5990f4[_0x58753a(0x19e)],_0x54f5a4=_0x5990f4[_0x58753a(0x18a)]||_0x5990f4[_0x58753a(0x17a)];return console[_0x58753a(0x174)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x58753a(0x174)]('Payment\x20Link:',_0x173cbd),console[_0x58753a(0x174)](_0x58753a(0x192),_0x54f5a4),console[_0x58753a(0x174)](_0x58753a(0x1a0),_0x5990f4[_0x58753a(0x180)]),console[_0x58753a(0x174)](_0x58753a(0x171)),{'gateway_payment_id':_0x54f5a4||_0x432f75,'payment_url':_0x173cbd||'','paymentLinkCode':_0x54f5a4};}catch(_0xc334f0){console[_0x58753a(0x178)](_0x58753a(0x16c),_0xc334f0),console[_0x58753a(0x174)](_0x58753a(0x18e));throw _0xc334f0;}}[a50_0x23c978(0x19c)](){const _0x5b353d=a50_0x23c978;this[_0x5b353d(0x190)]=null,console[_0x5b353d(0x174)](_0x5b353d(0x197));}async[a50_0x23c978(0x177)](){const _0x5bd73f=a50_0x23c978;try{const _0x329ff5=await fetch(this[_0x5bd73f(0x1a3)]+_0x5bd73f(0x175),{'method':_0x5bd73f(0x1a5),'headers':{'Content-Type':_0x5bd73f(0x185),'User-Agent':_0x5bd73f(0x176)}});return _0x329ff5&&_0x329ff5[_0x5bd73f(0x172)]===0xc8?!![]:![];}catch(_0x4dad7f){return console[_0x5bd73f(0x178)](_0x5bd73f(0x189),_0x4dad7f),![];}}}exports[a50_0x23c978(0x17d)]=MyXSpendService,exports[a50_0x23c978(0x186)]=new MyXSpendService();