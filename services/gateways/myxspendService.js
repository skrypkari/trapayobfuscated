'use strict';const a47_0x123272=a47_0x19f7;(function(_0x3fc44b,_0x5a93b2){const _0x46ec28=a47_0x19f7,_0x47fb05=_0x3fc44b();while(!![]){try{const _0x37ab64=-parseInt(_0x46ec28(0xdf))/0x1+-parseInt(_0x46ec28(0xc0))/0x2+-parseInt(_0x46ec28(0xc4))/0x3*(parseInt(_0x46ec28(0xc1))/0x4)+-parseInt(_0x46ec28(0xe0))/0x5*(parseInt(_0x46ec28(0xd6))/0x6)+-parseInt(_0x46ec28(0xf2))/0x7+parseInt(_0x46ec28(0xd4))/0x8+parseInt(_0x46ec28(0xd1))/0x9;if(_0x37ab64===_0x5a93b2)break;else _0x47fb05['push'](_0x47fb05['shift']());}catch(_0x4361e8){_0x47fb05['push'](_0x47fb05['shift']());}}}(a47_0x29ff,0x9ddba));function a47_0x29ff(){const _0x4074d0=['PaymentLinkCode','text','application/json','https://traffer.uk/gateway/myxspend/','36453042bAJROy','parse','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','8359784GmYhvL','Email:','18kbonov','GET','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','stringify','üìä\x20MyXSpend\x20unified\x20response\x20data:','myxspendService','healthCheck','status','not\x20provided','1243159mtleqC','1639615BQDWZW','health.php','API_KEY','POST','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','Customer:','apiUrl','Order\x20ID:','error','defineProperty','log','MyXSpendService','toUpperCase','üì§\x20MyXSpend\x20unified\x20request\x20body:','authToken','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','Response\x20Code:','6314693ICULEk','Unknown\x20error','createPaymentLink','494158UlVQeh','3308cUjsep','invalidateAuth','Phone:','3891ghfEhj','COMPANY_ID','Payment\x20Code:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','TrapayAPI/1.0','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','MyXSpend\x20payment\x20creation\x20failed:\x20','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','payment_url'];a47_0x29ff=function(){return _0x4074d0;};return a47_0x29ff();}Object[a47_0x123272(0xea)](exports,'__esModule',{'value':!![]}),exports['myxspendService']=exports[a47_0x123272(0xec)]=void 0x0;function a47_0x19f7(_0x5cd71d,_0x3a4aeb){const _0x29ff77=a47_0x29ff();return a47_0x19f7=function(_0x19f75b,_0x55617a){_0x19f75b=_0x19f75b-0xbe;let _0x3b8d2c=_0x29ff77[_0x19f75b];return _0x3b8d2c;},a47_0x19f7(_0x5cd71d,_0x3a4aeb);}class MyXSpendService{constructor(){const _0x5c7105=a47_0x123272;this[_0x5c7105(0xef)]=null,this[_0x5c7105(0xe2)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x5c7105(0xc5)]=_0x5c7105(0xcb),this[_0x5c7105(0xe7)]=_0x5c7105(0xd0),console['log'](_0x5c7105(0xd3));}async[a47_0x123272(0xbf)](_0x5c36e9){const _0x36e5d2=a47_0x123272;try{const {orderId:_0x1332b0,amount:_0x3d8f87,currency:_0x2104a6,firstName:_0x4e8d8f,lastName:_0x290a42,email:_0x51084d,phone:_0x6d3cc4,successUrl:_0xfc2733,failureUrl:_0x1d56c2}=_0x5c36e9;console[_0x36e5d2(0xeb)](_0x36e5d2(0xd8)),console[_0x36e5d2(0xeb)](_0x36e5d2(0xe8),_0x1332b0),console[_0x36e5d2(0xeb)]('Amount:',_0x3d8f87,_0x2104a6),console[_0x36e5d2(0xeb)](_0x36e5d2(0xe6),_0x4e8d8f+'\x20'+_0x290a42),console[_0x36e5d2(0xeb)](_0x36e5d2(0xd5),_0x51084d),console[_0x36e5d2(0xeb)](_0x36e5d2(0xc3),_0x6d3cc4||_0x36e5d2(0xde));const _0x3cc2ab={'firstName':_0x4e8d8f,'lastName':_0x290a42,'customerOrderId':_0x1332b0,'email':_0x51084d,'phone':_0x6d3cc4||'','amount':_0x3d8f87,'currency':_0x2104a6[_0x36e5d2(0xed)](),'success_url':_0xfc2733,'failure_url':_0x1d56c2};console[_0x36e5d2(0xeb)](_0x36e5d2(0xee),JSON[_0x36e5d2(0xd9)](_0x3cc2ab,null,0x2));const _0x34d958=await fetch(this[_0x36e5d2(0xe7)]+'myxspend.php',{'method':_0x36e5d2(0xe3),'headers':{'Content-Type':_0x36e5d2(0xcf),'User-Agent':'TrapayAPI/1.0'},'body':JSON['stringify'](_0x3cc2ab)}),_0x4d4ea6=await _0x34d958[_0x36e5d2(0xce)]();console[_0x36e5d2(0xeb)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0x4d4ea6);if(!_0x34d958['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x34d958[_0x36e5d2(0xdd)]+'\x20-\x20'+_0x4d4ea6);let _0x575485;try{_0x575485=JSON[_0x36e5d2(0xd2)](_0x4d4ea6);}catch(_0x1090d0){throw new Error(_0x36e5d2(0xe5)+_0x4d4ea6);}console[_0x36e5d2(0xeb)](_0x36e5d2(0xda),JSON[_0x36e5d2(0xd9)](_0x575485,null,0x2));if(!_0x575485['PaymentLink']&&!_0x575485[_0x36e5d2(0xcc)])throw new Error(_0x36e5d2(0xca)+(_0x575485['responseMessage']||_0x36e5d2(0xbe)));const _0x5836fa=_0x575485['PaymentLink']||_0x575485['payment_url'],_0x5a577c=_0x575485[_0x36e5d2(0xcd)]||_0x575485['gateway_payment_id'];return console[_0x36e5d2(0xeb)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x36e5d2(0xeb)]('Payment\x20Link:',_0x5836fa),console['log'](_0x36e5d2(0xc6),_0x5a577c),console[_0x36e5d2(0xeb)](_0x36e5d2(0xf1),_0x575485['responseCode']),console[_0x36e5d2(0xeb)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x5a577c||_0x1332b0,'payment_url':_0x5836fa||'','paymentLinkCode':_0x5a577c};}catch(_0x5a819d){console[_0x36e5d2(0xe9)](_0x36e5d2(0xc9),_0x5a819d),console['log'](_0x36e5d2(0xe4));throw _0x5a819d;}}[a47_0x123272(0xc2)](){const _0x2cdc95=a47_0x123272;this[_0x2cdc95(0xef)]=null,console[_0x2cdc95(0xeb)](_0x2cdc95(0xf0));}async[a47_0x123272(0xdc)](){const _0x411595=a47_0x123272;try{const _0x27462f=await fetch(this['apiUrl']+_0x411595(0xe1),{'method':_0x411595(0xd7),'headers':{'Content-Type':_0x411595(0xcf),'User-Agent':_0x411595(0xc8)}});return _0x27462f&&_0x27462f[_0x411595(0xdd)]===0xc8?!![]:![];}catch(_0x4d8a45){return console[_0x411595(0xe9)](_0x411595(0xc7),_0x4d8a45),![];}}}exports[a47_0x123272(0xec)]=MyXSpendService,exports[a47_0x123272(0xdb)]=new MyXSpendService();