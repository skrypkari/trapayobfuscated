'use strict';const a47_0x510022=a47_0x3595;(function(_0x10ca41,_0xcb5afe){const _0x5ec223=a47_0x3595,_0x1736c3=_0x10ca41();while(!![]){try{const _0x525637=-parseInt(_0x5ec223(0x1b0))/0x1+-parseInt(_0x5ec223(0x1db))/0x2*(-parseInt(_0x5ec223(0x1dc))/0x3)+parseInt(_0x5ec223(0x1d1))/0x4*(-parseInt(_0x5ec223(0x1be))/0x5)+-parseInt(_0x5ec223(0x1e4))/0x6*(-parseInt(_0x5ec223(0x1ee))/0x7)+-parseInt(_0x5ec223(0x1c6))/0x8*(-parseInt(_0x5ec223(0x1ca))/0x9)+parseInt(_0x5ec223(0x1df))/0xa*(parseInt(_0x5ec223(0x1d5))/0xb)+parseInt(_0x5ec223(0x1dd))/0xc;if(_0x525637===_0xcb5afe)break;else _0x1736c3['push'](_0x1736c3['shift']());}catch(_0xa6b44f){_0x1736c3['push'](_0x1736c3['shift']());}}}(a47_0x3438,0xae9d7));function a47_0x3438(){const _0x46ba47=['MyXSpend\x20payment\x20creation\x20failed:\x20','30TPRVjh','PaymentLinkCode','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','parse','toUpperCase','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Amount:','11624CrfXJN','POST','API_KEY','Payment\x20Link:','4815ashtgS','GET','\x20-\x20','responseCode','myxspendService','invalidateAuth','application/json','501868ZhiuuJ','TrapayAPI/1.0','myxspend.php','payment_url','187XJWanm','apiUrl','PaymentLink','__esModule','Email:','not\x20provided','558482JAoVSF','3crUWJn','5120004SWsgKw','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','159030vMFpXd','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','status','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','error','62346LgzwSj','MyXSpendService','stringify','responseMessage','authToken','https://traffer.uk/gateway/myxspend/','Order\x20ID:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','healthCheck','Customer:','623tXrmNw','Response\x20Code:','1210388dBYbqt','MyXSpend\x20API\x20error:\x20HTTP\x20','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üìä\x20MyXSpend\x20unified\x20response\x20data:','Unknown\x20error','createPaymentLink','health.php','log','üì§\x20MyXSpend\x20unified\x20request\x20body:','Phone:','Payment\x20Code:'];a47_0x3438=function(){return _0x46ba47;};return a47_0x3438();}function a47_0x3595(_0x23afd4,_0xaf9599){const _0x3438e1=a47_0x3438();return a47_0x3595=function(_0x359546,_0x5c63e1){_0x359546=_0x359546-0x1b0;let _0x464b94=_0x3438e1[_0x359546];return _0x464b94;},a47_0x3595(_0x23afd4,_0xaf9599);}Object['defineProperty'](exports,a47_0x510022(0x1d8),{'value':!![]}),exports[a47_0x510022(0x1ce)]=exports[a47_0x510022(0x1e5)]=void 0x0;class MyXSpendService{constructor(){const _0x298bd1=a47_0x510022;this[_0x298bd1(0x1e8)]=null,this[_0x298bd1(0x1c8)]=_0x298bd1(0x1de),this['COMPANY_ID']='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x298bd1(0x1d6)]=_0x298bd1(0x1e9),console['log'](_0x298bd1(0x1b3));}async[a47_0x510022(0x1b7)](_0x739ae){const _0x528bfd=a47_0x510022;try{const {orderId:_0x16dadf,amount:_0x2d7323,currency:_0x514df8,firstName:_0x34cc0b,lastName:_0x44c46a,email:_0x357f1f,phone:_0x2a098c,successUrl:_0x2cce72,failureUrl:_0x1b5df3}=_0x739ae;console[_0x528bfd(0x1b9)](_0x528bfd(0x1c0)),console[_0x528bfd(0x1b9)](_0x528bfd(0x1ea),_0x16dadf),console[_0x528bfd(0x1b9)](_0x528bfd(0x1c5),_0x2d7323,_0x514df8),console[_0x528bfd(0x1b9)](_0x528bfd(0x1ed),_0x34cc0b+'\x20'+_0x44c46a),console[_0x528bfd(0x1b9)](_0x528bfd(0x1d9),_0x357f1f),console[_0x528bfd(0x1b9)](_0x528bfd(0x1bb),_0x2a098c||_0x528bfd(0x1da));const _0x5291d3={'firstName':_0x34cc0b,'lastName':_0x44c46a,'customerOrderId':_0x16dadf,'email':_0x357f1f,'phone':_0x2a098c||'','amount':_0x2d7323,'currency':_0x514df8[_0x528bfd(0x1c2)](),'success_url':_0x2cce72,'failure_url':_0x1b5df3};console[_0x528bfd(0x1b9)](_0x528bfd(0x1ba),JSON[_0x528bfd(0x1e6)](_0x5291d3,null,0x2));const _0x39ca55=await fetch(this[_0x528bfd(0x1d6)]+_0x528bfd(0x1d3),{'method':_0x528bfd(0x1c7),'headers':{'Content-Type':_0x528bfd(0x1d0),'User-Agent':'TrapayAPI/1.0'},'body':JSON['stringify'](_0x5291d3)}),_0x5ea003=await _0x39ca55['text']();console['log'](_0x528bfd(0x1c4),_0x5ea003);if(!_0x39ca55['ok'])throw new Error(_0x528bfd(0x1b1)+_0x39ca55[_0x528bfd(0x1e1)]+_0x528bfd(0x1cc)+_0x5ea003);let _0x50934e;try{_0x50934e=JSON[_0x528bfd(0x1c1)](_0x5ea003);}catch(_0x442f58){throw new Error(_0x528bfd(0x1b2)+_0x5ea003);}console[_0x528bfd(0x1b9)](_0x528bfd(0x1b5),JSON['stringify'](_0x50934e,null,0x2));if(!_0x50934e[_0x528bfd(0x1d7)]&&!_0x50934e[_0x528bfd(0x1d4)])throw new Error(_0x528bfd(0x1bd)+(_0x50934e[_0x528bfd(0x1e7)]||_0x528bfd(0x1b6)));const _0x488c7c=_0x50934e[_0x528bfd(0x1d7)]||_0x50934e[_0x528bfd(0x1d4)],_0x1446f2=_0x50934e[_0x528bfd(0x1bf)]||_0x50934e['gateway_payment_id'];return console[_0x528bfd(0x1b9)](_0x528bfd(0x1c3)),console[_0x528bfd(0x1b9)](_0x528bfd(0x1c9),_0x488c7c),console[_0x528bfd(0x1b9)](_0x528bfd(0x1bc),_0x1446f2),console[_0x528bfd(0x1b9)](_0x528bfd(0x1ef),_0x50934e[_0x528bfd(0x1cd)]),console['log'](_0x528bfd(0x1e0)),{'gateway_payment_id':_0x1446f2||_0x16dadf,'payment_url':_0x488c7c||'','paymentLinkCode':_0x1446f2};}catch(_0x5cfc0e){console[_0x528bfd(0x1e3)](_0x528bfd(0x1e2),_0x5cfc0e),console[_0x528bfd(0x1b9)](_0x528bfd(0x1eb));throw _0x5cfc0e;}}[a47_0x510022(0x1cf)](){const _0x2c0cdc=a47_0x510022;this[_0x2c0cdc(0x1e8)]=null,console['log'](_0x2c0cdc(0x1b4));}async[a47_0x510022(0x1ec)](){const _0x392467=a47_0x510022;try{const _0x17e706=await fetch(this[_0x392467(0x1d6)]+_0x392467(0x1b8),{'method':_0x392467(0x1cb),'headers':{'Content-Type':_0x392467(0x1d0),'User-Agent':_0x392467(0x1d2)}});return _0x17e706&&_0x17e706[_0x392467(0x1e1)]===0xc8?!![]:![];}catch(_0x56dd01){return console[_0x392467(0x1e3)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x56dd01),![];}}}exports[a47_0x510022(0x1e5)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();