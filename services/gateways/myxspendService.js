'use strict';const a59_0x307b76=a59_0x28e0;(function(_0x4130c4,_0x2e4b78){const _0x38b9e6=a59_0x28e0,_0x685a2a=_0x4130c4();while(!![]){try{const _0x5bdc36=parseInt(_0x38b9e6(0x19c))/0x1*(-parseInt(_0x38b9e6(0x18a))/0x2)+-parseInt(_0x38b9e6(0x1b8))/0x3+parseInt(_0x38b9e6(0x18b))/0x4+-parseInt(_0x38b9e6(0x1a1))/0x5+parseInt(_0x38b9e6(0x1a4))/0x6+-parseInt(_0x38b9e6(0x192))/0x7*(parseInt(_0x38b9e6(0x19a))/0x8)+-parseInt(_0x38b9e6(0x194))/0x9*(parseInt(_0x38b9e6(0x1ac))/0xa);if(_0x5bdc36===_0x2e4b78)break;else _0x685a2a['push'](_0x685a2a['shift']());}catch(_0x364306){_0x685a2a['push'](_0x685a2a['shift']());}}}(a59_0x3509,0xe87e6));Object['defineProperty'](exports,a59_0x307b76(0x198),{'value':!![]}),exports['myxspendService']=exports[a59_0x307b76(0x1b4)]=void 0x0;function a59_0x28e0(_0xbcd9fc,_0xd20b6c){_0xbcd9fc=_0xbcd9fc-0x189;const _0x3509e1=a59_0x3509();let _0x28e062=_0x3509e1[_0xbcd9fc];return _0x28e062;}function a59_0x3509(){const _0x3bcd26=['TrapayAPI/1.0','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','121345tgcDuL','\x20-\x20','üì§\x20MyXSpend\x20unified\x20request\x20body:','5700054CuKjRu','COMPANY_ID','myxspendService','https://traffer.uk/gateway/myxspend/','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','PaymentLinkCode','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Response\x20Code:','3438690VIMssM','error','healthCheck','üì•\x20MyXSpend\x20unified\x20raw\x20response:','parse','apiUrl','Unknown\x20error','Payment\x20Link:','MyXSpendService','responseCode','health.php','myxspend.php','882630AwqDDR','log','2zqcSnq','4629136Ytpbcg','payment_url','stringify','authToken','GET','Amount:','MyXSpend\x20payment\x20creation\x20failed:\x20','777xikjJi','POST','9UBprWz','application/json','status','not\x20provided','__esModule','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','19120usQtIB','Customer:','227361DySodw','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'];a59_0x3509=function(){return _0x3bcd26;};return a59_0x3509();}class MyXSpendService{constructor(){const _0x43e968=a59_0x307b76;this[_0x43e968(0x18e)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x43e968(0x1a5)]=_0x43e968(0x1aa),this[_0x43e968(0x1b1)]=_0x43e968(0x1a7),console['log']('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async['createPaymentLink'](_0x1c7780){const _0x5c531d=a59_0x307b76;try{const {orderId:_0x5597e4,amount:_0x42719d,currency:_0x35dedf,firstName:_0x82c8a0,lastName:_0x40ec59,email:_0x20411d,phone:_0x41b97c,successUrl:_0x2c1554,failureUrl:_0x44b311}=_0x1c7780;console[_0x5c531d(0x189)](_0x5c531d(0x1a8)),console[_0x5c531d(0x189)]('Order\x20ID:',_0x5597e4),console[_0x5c531d(0x189)](_0x5c531d(0x190),_0x42719d,_0x35dedf),console[_0x5c531d(0x189)](_0x5c531d(0x19b),_0x82c8a0+'\x20'+_0x40ec59),console['log']('Email:',_0x20411d),console[_0x5c531d(0x189)]('Phone:',_0x41b97c||_0x5c531d(0x197));const _0x19e787={'firstName':_0x82c8a0,'lastName':_0x40ec59,'customerOrderId':_0x5597e4,'email':_0x20411d,'phone':_0x41b97c||'','amount':_0x42719d,'currency':_0x35dedf['toUpperCase'](),'success_url':_0x2c1554,'failure_url':_0x44b311};console[_0x5c531d(0x189)](_0x5c531d(0x1a3),JSON['stringify'](_0x19e787,null,0x2));const _0x5f0383=await fetch(this[_0x5c531d(0x1b1)]+_0x5c531d(0x1b7),{'method':_0x5c531d(0x193),'headers':{'Content-Type':_0x5c531d(0x195),'User-Agent':_0x5c531d(0x19f)},'body':JSON[_0x5c531d(0x18d)](_0x19e787)}),_0xd46de8=await _0x5f0383['text']();console['log'](_0x5c531d(0x1af),_0xd46de8);if(!_0x5f0383['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x5f0383[_0x5c531d(0x196)]+_0x5c531d(0x1a2)+_0xd46de8);let _0x12c64f;try{_0x12c64f=JSON[_0x5c531d(0x1b0)](_0xd46de8);}catch(_0x579e0d){throw new Error(_0x5c531d(0x19d)+_0xd46de8);}console[_0x5c531d(0x189)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x5c531d(0x18d)](_0x12c64f,null,0x2));if(!_0x12c64f['PaymentLink']&&!_0x12c64f['payment_url'])throw new Error(_0x5c531d(0x191)+(_0x12c64f['responseMessage']||_0x5c531d(0x1b2)));const _0x1a0c89=_0x12c64f['PaymentLink']||_0x12c64f[_0x5c531d(0x18c)],_0x154d6e=_0x12c64f[_0x5c531d(0x1a9)]||_0x12c64f['gateway_payment_id'];return console[_0x5c531d(0x189)](_0x5c531d(0x19e)),console[_0x5c531d(0x189)](_0x5c531d(0x1b3),_0x1a0c89),console[_0x5c531d(0x189)]('Payment\x20Code:',_0x154d6e),console[_0x5c531d(0x189)](_0x5c531d(0x1ab),_0x12c64f[_0x5c531d(0x1b5)]),console[_0x5c531d(0x189)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x154d6e||_0x5597e4,'payment_url':_0x1a0c89||'','paymentLinkCode':_0x154d6e};}catch(_0x18a6d0){console['error'](_0x5c531d(0x1a0),_0x18a6d0),console['log']('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x18a6d0;}}['invalidateAuth'](){this['authToken']=null,console['log']('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a59_0x307b76(0x1ae)](){const _0x4c3ed0=a59_0x307b76;try{const _0x525c6e=await fetch(this[_0x4c3ed0(0x1b1)]+_0x4c3ed0(0x1b6),{'method':_0x4c3ed0(0x18f),'headers':{'Content-Type':_0x4c3ed0(0x195),'User-Agent':_0x4c3ed0(0x19f)}});return _0x525c6e&&_0x525c6e[_0x4c3ed0(0x196)]===0xc8?!![]:![];}catch(_0x237bed){return console[_0x4c3ed0(0x1ad)](_0x4c3ed0(0x199),_0x237bed),![];}}}exports[a59_0x307b76(0x1b4)]=MyXSpendService,exports[a59_0x307b76(0x1a6)]=new MyXSpendService();