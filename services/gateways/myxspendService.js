'use strict';function a62_0x6023(_0x32d90f,_0x9885c0){_0x32d90f=_0x32d90f-0xee;const _0x4212de=a62_0x4212();let _0x602389=_0x4212de[_0x32d90f];return _0x602389;}const a62_0x5631ce=a62_0x6023;(function(_0x5ab783,_0x3e0b06){const _0x2b17da=a62_0x6023,_0x496dd0=_0x5ab783();while(!![]){try{const _0x646ee2=parseInt(_0x2b17da(0xf7))/0x1*(-parseInt(_0x2b17da(0x108))/0x2)+-parseInt(_0x2b17da(0x102))/0x3*(parseInt(_0x2b17da(0xfb))/0x4)+-parseInt(_0x2b17da(0x115))/0x5*(-parseInt(_0x2b17da(0x103))/0x6)+parseInt(_0x2b17da(0x105))/0x7+-parseInt(_0x2b17da(0x113))/0x8+parseInt(_0x2b17da(0xf2))/0x9+-parseInt(_0x2b17da(0x106))/0xa*(parseInt(_0x2b17da(0x11c))/0xb);if(_0x646ee2===_0x3e0b06)break;else _0x496dd0['push'](_0x496dd0['shift']());}catch(_0x15914c){_0x496dd0['push'](_0x496dd0['shift']());}}}(a62_0x4212,0xbc482));function a62_0x4212(){const _0x3f7095=['6553930jZfcNZ','Email:','responseCode','error','status','API_KEY','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','349437gABJke','__esModule','Payment\x20Link:','POST','üì§\x20MyXSpend\x20unified\x20request\x20body:','invalidateAuth','Response\x20Code:','üìä\x20MyXSpend\x20unified\x20response\x20data:','stringify','PaymentLink','https://traffer.uk/gateway/myxspend/','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','defineProperty','11861739pJMsCm','application/json','health.php','authToken','not\x20provided','123XNvcmJ','Payment\x20Code:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','myxspendService','4084KilzGA','apiUrl','healthCheck','Order\x20ID:','Phone:','myxspend.php','gateway_payment_id','39mnPNTv','6cmYBKo','PaymentLinkCode','7099057CQKYSO','10YqGllu','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','23306XtHDUu','MyXSpend\x20payment\x20creation\x20failed:\x20','Amount:','responseMessage','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','parse','\x20-\x20','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','toUpperCase','createPaymentLink','11146776WimBTM','log'];a62_0x4212=function(){return _0x3f7095;};return a62_0x4212();}Object[a62_0x5631ce(0xf1)](exports,a62_0x5631ce(0x11d),{'value':!![]}),exports[a62_0x5631ce(0xfa)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x3fa742=a62_0x5631ce;this['authToken']=null,this[_0x3fa742(0x11a)]=_0x3fa742(0x10c),this['COMPANY_ID']=_0x3fa742(0x10f),this['apiUrl']=_0x3fa742(0xef),console['log']('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a62_0x5631ce(0x112)](_0x3663ed){const _0x485bbf=a62_0x5631ce;try{const {orderId:_0x60fad0,amount:_0x2d2b62,currency:_0x26babd,firstName:_0x537030,lastName:_0x4cb7d3,email:_0x554f49,phone:_0x1ef0c6,successUrl:_0x3e274b,failureUrl:_0x35c83f}=_0x3663ed;console['log'](_0x485bbf(0x11b)),console[_0x485bbf(0x114)](_0x485bbf(0xfe),_0x60fad0),console[_0x485bbf(0x114)](_0x485bbf(0x10a),_0x2d2b62,_0x26babd),console[_0x485bbf(0x114)]('Customer:',_0x537030+'\x20'+_0x4cb7d3),console[_0x485bbf(0x114)](_0x485bbf(0x116),_0x554f49),console[_0x485bbf(0x114)](_0x485bbf(0xff),_0x1ef0c6||_0x485bbf(0xf6));const _0x5ccbf4={'firstName':_0x537030,'lastName':_0x4cb7d3,'customerOrderId':_0x60fad0,'email':_0x554f49,'phone':_0x1ef0c6||'','amount':_0x2d2b62,'currency':_0x26babd[_0x485bbf(0x111)](),'success_url':_0x3e274b,'failure_url':_0x35c83f};console[_0x485bbf(0x114)](_0x485bbf(0x120),JSON[_0x485bbf(0x124)](_0x5ccbf4,null,0x2));const _0x230e6d=await fetch(this[_0x485bbf(0xfc)]+_0x485bbf(0x100),{'method':_0x485bbf(0x11f),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON['stringify'](_0x5ccbf4)}),_0xc426fa=await _0x230e6d['text']();console[_0x485bbf(0x114)](_0x485bbf(0xf9),_0xc426fa);if(!_0x230e6d['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x230e6d[_0x485bbf(0x119)]+_0x485bbf(0x10e)+_0xc426fa);let _0x31db6d;try{_0x31db6d=JSON[_0x485bbf(0x10d)](_0xc426fa);}catch(_0x3afe1c){throw new Error(_0x485bbf(0x110)+_0xc426fa);}console[_0x485bbf(0x114)](_0x485bbf(0x123),JSON[_0x485bbf(0x124)](_0x31db6d,null,0x2));if(!_0x31db6d['PaymentLink']&&!_0x31db6d['payment_url'])throw new Error(_0x485bbf(0x109)+(_0x31db6d[_0x485bbf(0x10b)]||'Unknown\x20error'));const _0x365826=_0x31db6d[_0x485bbf(0xee)]||_0x31db6d['payment_url'],_0x396f19=_0x31db6d[_0x485bbf(0x104)]||_0x31db6d[_0x485bbf(0x101)];return console[_0x485bbf(0x114)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x485bbf(0x114)](_0x485bbf(0x11e),_0x365826),console[_0x485bbf(0x114)](_0x485bbf(0xf8),_0x396f19),console[_0x485bbf(0x114)](_0x485bbf(0x122),_0x31db6d[_0x485bbf(0x117)]),console[_0x485bbf(0x114)](_0x485bbf(0x107)),{'gateway_payment_id':_0x396f19||_0x60fad0,'payment_url':_0x365826||'','paymentLinkCode':_0x396f19};}catch(_0x2cf434){console['error']('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x2cf434),console['log'](_0x485bbf(0xf0));throw _0x2cf434;}}[a62_0x5631ce(0x121)](){const _0x2f07a2=a62_0x5631ce;this[_0x2f07a2(0xf5)]=null,console['log']('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a62_0x5631ce(0xfd)](){const _0x3d6e6d=a62_0x5631ce;try{const _0x1dae97=await fetch(this[_0x3d6e6d(0xfc)]+_0x3d6e6d(0xf4),{'method':'GET','headers':{'Content-Type':_0x3d6e6d(0xf3),'User-Agent':'TrapayAPI/1.0'}});return _0x1dae97&&_0x1dae97[_0x3d6e6d(0x119)]===0xc8?!![]:![];}catch(_0x3f24ea){return console[_0x3d6e6d(0x118)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x3f24ea),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a62_0x5631ce(0xfa)]=new MyXSpendService();