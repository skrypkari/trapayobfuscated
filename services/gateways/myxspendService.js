'use strict';const a59_0x10c90f=a59_0x396e;(function(_0x3bec8c,_0x20bb3e){const _0x109d93=a59_0x396e,_0xcf98b0=_0x3bec8c();while(!![]){try{const _0x39d62c=-parseInt(_0x109d93(0x11d))/0x1+-parseInt(_0x109d93(0x148))/0x2*(parseInt(_0x109d93(0x13b))/0x3)+-parseInt(_0x109d93(0x144))/0x4+parseInt(_0x109d93(0x13d))/0x5+parseInt(_0x109d93(0x11e))/0x6+parseInt(_0x109d93(0x13a))/0x7*(-parseInt(_0x109d93(0x13e))/0x8)+parseInt(_0x109d93(0x14e))/0x9*(parseInt(_0x109d93(0x146))/0xa);if(_0x39d62c===_0x20bb3e)break;else _0xcf98b0['push'](_0xcf98b0['shift']());}catch(_0x171447){_0xcf98b0['push'](_0xcf98b0['shift']());}}}(a59_0x128f,0xecbe1));Object[a59_0x10c90f(0x137)](exports,a59_0x10c90f(0x128),{'value':!![]}),exports['myxspendService']=exports[a59_0x10c90f(0x13c)]=void 0x0;class MyXSpendService{constructor(){const _0x37efae=a59_0x10c90f;this[_0x37efae(0x121)]=null,this[_0x37efae(0x12b)]=_0x37efae(0x134),this['COMPANY_ID']='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x37efae(0x12a)]=_0x37efae(0x14c),console['log'](_0x37efae(0x14b));}async['createPaymentLink'](_0xd70bf5){const _0x5ee478=a59_0x10c90f;try{const {orderId:_0x504cf4,amount:_0x1d7ede,currency:_0x52da0a,firstName:_0x4e16a7,lastName:_0x16117a,email:_0x37c9ea,phone:_0x55f41d,successUrl:_0x5d53b1,failureUrl:_0x344a27}=_0xd70bf5;console[_0x5ee478(0x123)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x5ee478(0x123)]('Order\x20ID:',_0x504cf4),console[_0x5ee478(0x123)](_0x5ee478(0x11b),_0x1d7ede,_0x52da0a),console[_0x5ee478(0x123)](_0x5ee478(0x122),_0x4e16a7+'\x20'+_0x16117a),console[_0x5ee478(0x123)](_0x5ee478(0x12f),_0x37c9ea),console[_0x5ee478(0x123)](_0x5ee478(0x139),_0x55f41d||_0x5ee478(0x14d));const _0x3a0c12={'firstName':_0x4e16a7,'lastName':_0x16117a,'customerOrderId':_0x504cf4,'email':_0x37c9ea,'phone':_0x55f41d||'','amount':_0x1d7ede,'currency':_0x52da0a[_0x5ee478(0x145)](),'success_url':_0x5d53b1,'failure_url':_0x344a27};console[_0x5ee478(0x123)](_0x5ee478(0x133),JSON[_0x5ee478(0x124)](_0x3a0c12,null,0x2));const _0x2135f8=await fetch(this[_0x5ee478(0x12a)]+_0x5ee478(0x125),{'method':'POST','headers':{'Content-Type':_0x5ee478(0x150),'User-Agent':_0x5ee478(0x12e)},'body':JSON['stringify'](_0x3a0c12)}),_0x19659b=await _0x2135f8[_0x5ee478(0x143)]();console['log'](_0x5ee478(0x130),_0x19659b);if(!_0x2135f8['ok'])throw new Error(_0x5ee478(0x127)+_0x2135f8[_0x5ee478(0x12c)]+_0x5ee478(0x151)+_0x19659b);let _0x44d2b4;try{_0x44d2b4=JSON[_0x5ee478(0x149)](_0x19659b);}catch(_0xfc689f){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x19659b);}console['log']('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x5ee478(0x124)](_0x44d2b4,null,0x2));if(!_0x44d2b4[_0x5ee478(0x132)]&&!_0x44d2b4[_0x5ee478(0x131)])throw new Error(_0x5ee478(0x126)+(_0x44d2b4['responseMessage']||_0x5ee478(0x13f)));const _0x20f419=_0x44d2b4[_0x5ee478(0x132)]||_0x44d2b4['payment_url'],_0x8b54d6=_0x44d2b4[_0x5ee478(0x120)]||_0x44d2b4[_0x5ee478(0x138)];return console['log'](_0x5ee478(0x11f)),console['log'](_0x5ee478(0x135),_0x20f419),console[_0x5ee478(0x123)](_0x5ee478(0x14f),_0x8b54d6),console[_0x5ee478(0x123)](_0x5ee478(0x140),_0x44d2b4[_0x5ee478(0x147)]),console[_0x5ee478(0x123)](_0x5ee478(0x14a)),{'gateway_payment_id':_0x8b54d6||_0x504cf4,'payment_url':_0x20f419||'','paymentLinkCode':_0x8b54d6};}catch(_0x5ecc2e){console[_0x5ee478(0x11a)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x5ecc2e),console[_0x5ee478(0x123)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x5ecc2e;}}[a59_0x10c90f(0x142)](){const _0x432e40=a59_0x10c90f;this[_0x432e40(0x121)]=null,console[_0x432e40(0x123)](_0x432e40(0x141));}async[a59_0x10c90f(0x136)](){const _0x5804b4=a59_0x10c90f;try{const _0xdba6d0=await fetch(this['apiUrl']+_0x5804b4(0x12d),{'method':_0x5804b4(0x129),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'}});return _0xdba6d0&&_0xdba6d0['status']===0xc8?!![]:![];}catch(_0xbb0ac5){return console[_0x5804b4(0x11a)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0xbb0ac5),![];}}}function a59_0x396e(_0xcb88de,_0x26278c){_0xcb88de=_0xcb88de-0x11a;const _0x128f14=a59_0x128f();let _0x396ee7=_0x128f14[_0xcb88de];return _0x396ee7;}function a59_0x128f(){const _0x57aab6=['Amount:','myxspendService','1232425cRiCav','7436652LBvNUa','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','PaymentLinkCode','authToken','Customer:','log','stringify','myxspend.php','MyXSpend\x20payment\x20creation\x20failed:\x20','MyXSpend\x20API\x20error:\x20HTTP\x20','__esModule','GET','apiUrl','API_KEY','status','health.php','TrapayAPI/1.0','Email:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','payment_url','PaymentLink','üì§\x20MyXSpend\x20unified\x20request\x20body:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','Payment\x20Link:','healthCheck','defineProperty','gateway_payment_id','Phone:','11309333KQmBBk','186JrKqRN','MyXSpendService','7361095xOKfQo','8ziefKI','Unknown\x20error','Response\x20Code:','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','invalidateAuth','text','3851648icUoQC','toUpperCase','13755890ENXceg','responseCode','22006FbfcUH','parse','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','https://traffer.uk/gateway/myxspend/','not\x20provided','18ClEbxo','Payment\x20Code:','application/json','\x20-\x20','error'];a59_0x128f=function(){return _0x57aab6;};return a59_0x128f();}exports[a59_0x10c90f(0x13c)]=MyXSpendService,exports[a59_0x10c90f(0x11c)]=new MyXSpendService();