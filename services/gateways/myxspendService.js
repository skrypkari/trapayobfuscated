'use strict';const a52_0x502650=a52_0x5147;(function(_0x164d04,_0x13edac){const _0x2b435b=a52_0x5147,_0x478c51=_0x164d04();while(!![]){try{const _0x1171b0=parseInt(_0x2b435b(0x1e1))/0x1+-parseInt(_0x2b435b(0x1f9))/0x2+parseInt(_0x2b435b(0x1f2))/0x3+parseInt(_0x2b435b(0x204))/0x4+-parseInt(_0x2b435b(0x1e0))/0x5+-parseInt(_0x2b435b(0x214))/0x6*(parseInt(_0x2b435b(0x1df))/0x7)+parseInt(_0x2b435b(0x1fa))/0x8;if(_0x1171b0===_0x13edac)break;else _0x478c51['push'](_0x478c51['shift']());}catch(_0x2cc39e){_0x478c51['push'](_0x478c51['shift']());}}}(a52_0x23ce,0x6d041));function a52_0x23ce(){const _0xcb13c1=['2430000ePajVi','application/json','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','üìä\x20MyXSpend\x20unified\x20response\x20data:','POST','Amount:','MyXSpendService','invalidateAuth','healthCheck','Order\x20ID:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','log','status','COMPANY_ID','Email:','Phone:','636gMFzBR','responseMessage','not\x20provided','createPaymentLink','5726COnvIx','3955840qGbyBD','202503YhkWUE','Customer:','apiUrl','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','payment_url','PaymentLink','Unknown\x20error','myxspendService','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','responseCode','MyXSpend\x20API\x20error:\x20HTTP\x20','TrapayAPI/1.0','toUpperCase','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','\x20-\x20','https://traffer.uk/gateway/myxspend/','defineProperty','1008300OzYURg','Payment\x20Code:','üì§\x20MyXSpend\x20unified\x20request\x20body:','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','error','myxspend.php','1049510FWSqsJ','5624456iuusZa','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','Response\x20Code:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','__esModule','authToken','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','text','stringify','GET'];a52_0x23ce=function(){return _0xcb13c1;};return a52_0x23ce();}Object[a52_0x502650(0x1f1)](exports,a52_0x502650(0x1fe),{'value':!![]}),exports[a52_0x502650(0x1e8)]=exports['MyXSpendService']=void 0x0;function a52_0x5147(_0x32d981,_0x1c195f){const _0x23ce40=a52_0x23ce();return a52_0x5147=function(_0x5147ec,_0x9e910c){_0x5147ec=_0x5147ec-0x1de;let _0x4f75f0=_0x23ce40[_0x5147ec];return _0x4f75f0;},a52_0x5147(_0x32d981,_0x1c195f);}class MyXSpendService{constructor(){const _0x4eceab=a52_0x502650;this[_0x4eceab(0x1ff)]=null,this['API_KEY']=_0x4eceab(0x20e),this[_0x4eceab(0x211)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x4eceab(0x1e3)]=_0x4eceab(0x1f0),console[_0x4eceab(0x20f)](_0x4eceab(0x1f5));}async[a52_0x502650(0x1de)](_0x20613c){const _0x4b7a3c=a52_0x502650;try{const {orderId:_0x3cf651,amount:_0x271528,currency:_0x498eb0,firstName:_0x176976,lastName:_0x38c57c,email:_0x1acd7b,phone:_0x871a2,successUrl:_0x2914b8,failureUrl:_0x1fe45c}=_0x20613c;console['log'](_0x4b7a3c(0x206)),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x20d),_0x3cf651),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x209),_0x271528,_0x498eb0),console['log'](_0x4b7a3c(0x1e2),_0x176976+'\x20'+_0x38c57c),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x212),_0x1acd7b),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x213),_0x871a2||_0x4b7a3c(0x216));const _0x50b685={'firstName':_0x176976,'lastName':_0x38c57c,'customerOrderId':_0x3cf651,'email':_0x1acd7b,'phone':_0x871a2||'','amount':_0x271528,'currency':_0x498eb0[_0x4b7a3c(0x1ed)](),'success_url':_0x2914b8,'failure_url':_0x1fe45c};console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x1f4),JSON['stringify'](_0x50b685,null,0x2));const _0x219aaf=await fetch(this[_0x4b7a3c(0x1e3)]+_0x4b7a3c(0x1f8),{'method':_0x4b7a3c(0x208),'headers':{'Content-Type':'application/json','User-Agent':_0x4b7a3c(0x1ec)},'body':JSON[_0x4b7a3c(0x202)](_0x50b685)}),_0x42bfc1=await _0x219aaf[_0x4b7a3c(0x201)]();console['log'](_0x4b7a3c(0x1fd),_0x42bfc1);if(!_0x219aaf['ok'])throw new Error(_0x4b7a3c(0x1eb)+_0x219aaf[_0x4b7a3c(0x210)]+_0x4b7a3c(0x1ef)+_0x42bfc1);let _0x5704b7;try{_0x5704b7=JSON['parse'](_0x42bfc1);}catch(_0x239af2){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x42bfc1);}console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x207),JSON[_0x4b7a3c(0x202)](_0x5704b7,null,0x2));if(!_0x5704b7[_0x4b7a3c(0x1e6)]&&!_0x5704b7[_0x4b7a3c(0x1e5)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x5704b7[_0x4b7a3c(0x215)]||_0x4b7a3c(0x1e7)));const _0x5a5ea4=_0x5704b7[_0x4b7a3c(0x1e6)]||_0x5704b7[_0x4b7a3c(0x1e5)],_0x15a639=_0x5704b7['PaymentLinkCode']||_0x5704b7['gateway_payment_id'];return console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x200)),console[_0x4b7a3c(0x20f)]('Payment\x20Link:',_0x5a5ea4),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x1f3),_0x15a639),console['log'](_0x4b7a3c(0x1fc),_0x5704b7[_0x4b7a3c(0x1ea)]),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x1f6)),{'gateway_payment_id':_0x15a639||_0x3cf651,'payment_url':_0x5a5ea4||'','paymentLinkCode':_0x15a639};}catch(_0x524e40){console[_0x4b7a3c(0x1f7)](_0x4b7a3c(0x1e9),_0x524e40),console[_0x4b7a3c(0x20f)](_0x4b7a3c(0x1ee));throw _0x524e40;}}[a52_0x502650(0x20b)](){const _0x306018=a52_0x502650;this[_0x306018(0x1ff)]=null,console['log'](_0x306018(0x1e4));}async[a52_0x502650(0x20c)](){const _0x3cdf0b=a52_0x502650;try{const _0x4ce56a=await fetch(this['apiUrl']+'health.php',{'method':_0x3cdf0b(0x203),'headers':{'Content-Type':_0x3cdf0b(0x205),'User-Agent':_0x3cdf0b(0x1ec)}});return _0x4ce56a&&_0x4ce56a[_0x3cdf0b(0x210)]===0xc8?!![]:![];}catch(_0x311e60){return console[_0x3cdf0b(0x1f7)](_0x3cdf0b(0x1fb),_0x311e60),![];}}}exports[a52_0x502650(0x20a)]=MyXSpendService,exports[a52_0x502650(0x1e8)]=new MyXSpendService();