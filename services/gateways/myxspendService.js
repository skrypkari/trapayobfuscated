'use strict';function a59_0x330d(_0x3c080f,_0x531ce){_0x3c080f=_0x3c080f-0x1c3;const _0x5e3807=a59_0x5e38();let _0x330d7a=_0x5e3807[_0x3c080f];return _0x330d7a;}const a59_0x5acf65=a59_0x330d;(function(_0x13cbc8,_0x2e820e){const _0xcca76c=a59_0x330d,_0x1e8082=_0x13cbc8();while(!![]){try{const _0x5e296f=parseInt(_0xcca76c(0x1c4))/0x1*(-parseInt(_0xcca76c(0x1f2))/0x2)+parseInt(_0xcca76c(0x1c6))/0x3*(parseInt(_0xcca76c(0x1f7))/0x4)+parseInt(_0xcca76c(0x1f0))/0x5+parseInt(_0xcca76c(0x1f3))/0x6+parseInt(_0xcca76c(0x1ed))/0x7+parseInt(_0xcca76c(0x1ea))/0x8*(-parseInt(_0xcca76c(0x1c5))/0x9)+parseInt(_0xcca76c(0x1f4))/0xa*(-parseInt(_0xcca76c(0x1d8))/0xb);if(_0x5e296f===_0x2e820e)break;else _0x1e8082['push'](_0x1e8082['shift']());}catch(_0x5b9500){_0x1e8082['push'](_0x1e8082['shift']());}}}(a59_0x5e38,0xf31bc));Object[a59_0x5acf65(0x1eb)](exports,a59_0x5acf65(0x1c9),{'value':!![]}),exports[a59_0x5acf65(0x1ca)]=exports['MyXSpendService']=void 0x0;function a59_0x5e38(){const _0x4696fb=['üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','Phone:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','Order\x20ID:','PaymentLinkCode','myxspend.php','üìä\x20MyXSpend\x20unified\x20response\x20data:','\x20-\x20','application/json','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','createPaymentLink','MyXSpend\x20payment\x20creation\x20failed:\x20','üì•\x20MyXSpend\x20unified\x20raw\x20response:','payment_url','error','Unknown\x20error','8ZvuOzx','defineProperty','TrapayAPI/1.0','1776278CjAvzv','https://traffer.uk/gateway/myxspend/','Payment\x20Link:','3245955hSaykO','authToken','16SfsTdX','5172150nRqYir','8370tFOlBJ','responseMessage','POST','15308EEsvVW','stringify','text','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','GET','PaymentLink','üì§\x20MyXSpend\x20unified\x20request\x20body:','gateway_payment_id','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','32005jYPHGJ','5780178rkUzuQ','279sPZSyw','apiUrl','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','__esModule','myxspendService','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','health.php','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','log','healthCheck','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','status','Email:','toUpperCase','not\x20provided','API_KEY','MyXSpend\x20API\x20error:\x20HTTP\x20','Customer:','2981uwlVVI','invalidateAuth'];a59_0x5e38=function(){return _0x4696fb;};return a59_0x5e38();}class MyXSpendService{constructor(){const _0x38d68a=a59_0x5acf65;this['authToken']=null,this[_0x38d68a(0x1d5)]=_0x38d68a(0x1d0),this['COMPANY_ID']='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x38d68a(0x1c7)]=_0x38d68a(0x1ee),console[_0x38d68a(0x1ce)](_0x38d68a(0x1cd));}async[a59_0x5acf65(0x1e4)](_0x3b19c8){const _0x5f1aca=a59_0x5acf65;try{const {orderId:_0x36026b,amount:_0x28323c,currency:_0x4fbfee,firstName:_0x28424b,lastName:_0x41df3f,email:_0x4f08f5,phone:_0x23724c,successUrl:_0xa33397,failureUrl:_0xf65c02}=_0x3b19c8;console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1da)),console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1dd),_0x36026b),console[_0x5f1aca(0x1ce)]('Amount:',_0x28323c,_0x4fbfee),console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1d7),_0x28424b+'\x20'+_0x41df3f),console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1d2),_0x4f08f5),console['log'](_0x5f1aca(0x1db),_0x23724c||_0x5f1aca(0x1d4));const _0x1aeb73={'firstName':_0x28424b,'lastName':_0x41df3f,'customerOrderId':_0x36026b,'email':_0x4f08f5,'phone':_0x23724c||'','amount':_0x28323c,'currency':_0x4fbfee[_0x5f1aca(0x1d3)](),'success_url':_0xa33397,'failure_url':_0xf65c02};console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1fd),JSON[_0x5f1aca(0x1f8)](_0x1aeb73,null,0x2));const _0x44a1fd=await fetch(this[_0x5f1aca(0x1c7)]+_0x5f1aca(0x1df),{'method':_0x5f1aca(0x1f6),'headers':{'Content-Type':_0x5f1aca(0x1e2),'User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x5f1aca(0x1f8)](_0x1aeb73)}),_0x5716d9=await _0x44a1fd[_0x5f1aca(0x1f9)]();console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1e6),_0x5716d9);if(!_0x44a1fd['ok'])throw new Error(_0x5f1aca(0x1d6)+_0x44a1fd[_0x5f1aca(0x1d1)]+_0x5f1aca(0x1e1)+_0x5716d9);let _0x49b123;try{_0x49b123=JSON['parse'](_0x5716d9);}catch(_0x283b2f){throw new Error(_0x5f1aca(0x1dc)+_0x5716d9);}console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1e0),JSON['stringify'](_0x49b123,null,0x2));if(!_0x49b123[_0x5f1aca(0x1fc)]&&!_0x49b123[_0x5f1aca(0x1e7)])throw new Error(_0x5f1aca(0x1e5)+(_0x49b123[_0x5f1aca(0x1f5)]||_0x5f1aca(0x1e9)));const _0x384dc2=_0x49b123['PaymentLink']||_0x49b123[_0x5f1aca(0x1e7)],_0x500d50=_0x49b123[_0x5f1aca(0x1de)]||_0x49b123[_0x5f1aca(0x1fe)];return console[_0x5f1aca(0x1ce)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1ef),_0x384dc2),console['log']('Payment\x20Code:',_0x500d50),console[_0x5f1aca(0x1ce)]('Response\x20Code:',_0x49b123['responseCode']),console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1cb)),{'gateway_payment_id':_0x500d50||_0x36026b,'payment_url':_0x384dc2||'','paymentLinkCode':_0x500d50};}catch(_0x47b7c2){console[_0x5f1aca(0x1e8)](_0x5f1aca(0x1fa),_0x47b7c2),console[_0x5f1aca(0x1ce)](_0x5f1aca(0x1c3));throw _0x47b7c2;}}[a59_0x5acf65(0x1d9)](){const _0x52d592=a59_0x5acf65;this[_0x52d592(0x1f1)]=null,console[_0x52d592(0x1ce)](_0x52d592(0x1e3));}async[a59_0x5acf65(0x1cf)](){const _0x1b3bae=a59_0x5acf65;try{const _0x49cf0e=await fetch(this[_0x1b3bae(0x1c7)]+_0x1b3bae(0x1cc),{'method':_0x1b3bae(0x1fb),'headers':{'Content-Type':'application/json','User-Agent':_0x1b3bae(0x1ec)}});return _0x49cf0e&&_0x49cf0e[_0x1b3bae(0x1d1)]===0xc8?!![]:![];}catch(_0x269cf7){return console['error'](_0x1b3bae(0x1c8),_0x269cf7),![];}}}exports['MyXSpendService']=MyXSpendService,exports['myxspendService']=new MyXSpendService();