'use strict';function a52_0x2aa2(){const _0x306116=['application/json','üì•\x20MyXSpend\x20unified\x20raw\x20response:','71492NcPpYW','Unknown\x20error','üì§\x20MyXSpend\x20unified\x20request\x20body:','8kGvhyQ','Amount:','not\x20provided','Payment\x20Code:','health.php','error','apiUrl','parse','11Qrlvry','createPaymentLink','status','9986230iImSgO','responseCode','Phone:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','log','toUpperCase','defineProperty','payment_url','gateway_payment_id','1089486iWMlYj','1140044QLKpEX','Payment\x20Link:','COMPANY_ID','4837485altIbU','11865469TXLsRC','text','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','myxspendService','responseMessage','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','https://traffer.uk/gateway/myxspend/','MyXSpend\x20payment\x20creation\x20failed:\x20','6xmqGtq','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','44544480iRncaW','MyXSpendService','TrapayAPI/1.0','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','MyXSpend\x20API\x20error:\x20HTTP\x20','48ynHyVz','myxspend.php','stringify','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','invalidateAuth','authToken','üìä\x20MyXSpend\x20unified\x20response\x20data:','__esModule','30DePolf'];a52_0x2aa2=function(){return _0x306116;};return a52_0x2aa2();}function a52_0x2949(_0x286f03,_0x293cc9){const _0x2aa2ae=a52_0x2aa2();return a52_0x2949=function(_0x294988,_0x52c46d){_0x294988=_0x294988-0xc3;let _0x5b6a9f=_0x2aa2ae[_0x294988];return _0x5b6a9f;},a52_0x2949(_0x286f03,_0x293cc9);}const a52_0x1e0f5b=a52_0x2949;(function(_0x5636f3,_0x1e7acd){const _0x245d02=a52_0x2949,_0x21b2b2=_0x5636f3();while(!![]){try{const _0x35ac04=-parseInt(_0x245d02(0xdd))/0x1*(-parseInt(_0x245d02(0xd1))/0x2)+-parseInt(_0x245d02(0xf8))/0x3+parseInt(_0x245d02(0xf5))/0x4*(parseInt(_0x245d02(0xda))/0x5)+-parseInt(_0x245d02(0xca))/0x6*(-parseInt(_0x245d02(0xf9))/0x7)+-parseInt(_0x245d02(0xe0))/0x8*(-parseInt(_0x245d02(0xf4))/0x9)+parseInt(_0x245d02(0xeb))/0xa+-parseInt(_0x245d02(0xe8))/0xb*(parseInt(_0x245d02(0xcc))/0xc);if(_0x35ac04===_0x1e7acd)break;else _0x21b2b2['push'](_0x21b2b2['shift']());}catch(_0x4b9481){_0x21b2b2['push'](_0x21b2b2['shift']());}}}(a52_0x2aa2,0xdfa73));Object[a52_0x1e0f5b(0xf1)](exports,a52_0x1e0f5b(0xd9),{'value':!![]}),exports[a52_0x1e0f5b(0xc5)]=exports[a52_0x1e0f5b(0xcd)]=void 0x0;class MyXSpendService{constructor(){const _0x5a0cb1=a52_0x1e0f5b;this[_0x5a0cb1(0xd7)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x5a0cb1(0xf7)]=_0x5a0cb1(0xc4),this[_0x5a0cb1(0xe6)]=_0x5a0cb1(0xc8),console[_0x5a0cb1(0xef)](_0x5a0cb1(0xcb));}async[a52_0x1e0f5b(0xe9)](_0xd14f96){const _0x14d29b=a52_0x1e0f5b;try{const {orderId:_0x5f5b31,amount:_0x54a39c,currency:_0x2d8f1a,firstName:_0x496ad3,lastName:_0x221e2b,email:_0x274cdb,phone:_0x38ddec,successUrl:_0xed85cb,failureUrl:_0x10e7bd}=_0xd14f96;console[_0x14d29b(0xef)](_0x14d29b(0xc7)),console[_0x14d29b(0xef)]('Order\x20ID:',_0x5f5b31),console['log'](_0x14d29b(0xe1),_0x54a39c,_0x2d8f1a),console[_0x14d29b(0xef)]('Customer:',_0x496ad3+'\x20'+_0x221e2b),console[_0x14d29b(0xef)]('Email:',_0x274cdb),console[_0x14d29b(0xef)](_0x14d29b(0xed),_0x38ddec||_0x14d29b(0xe2));const _0x230dad={'firstName':_0x496ad3,'lastName':_0x221e2b,'customerOrderId':_0x5f5b31,'email':_0x274cdb,'phone':_0x38ddec||'','amount':_0x54a39c,'currency':_0x2d8f1a[_0x14d29b(0xf0)](),'success_url':_0xed85cb,'failure_url':_0x10e7bd};console[_0x14d29b(0xef)](_0x14d29b(0xdf),JSON[_0x14d29b(0xd3)](_0x230dad,null,0x2));const _0x3a644a=await fetch(this['apiUrl']+_0x14d29b(0xd2),{'method':'POST','headers':{'Content-Type':'application/json','User-Agent':_0x14d29b(0xce)},'body':JSON[_0x14d29b(0xd3)](_0x230dad)}),_0x55837d=await _0x3a644a[_0x14d29b(0xc3)]();console['log'](_0x14d29b(0xdc),_0x55837d);if(!_0x3a644a['ok'])throw new Error(_0x14d29b(0xd0)+_0x3a644a[_0x14d29b(0xea)]+'\x20-\x20'+_0x55837d);let _0x492988;try{_0x492988=JSON[_0x14d29b(0xe7)](_0x55837d);}catch(_0x5a7260){throw new Error(_0x14d29b(0xee)+_0x55837d);}console[_0x14d29b(0xef)](_0x14d29b(0xd8),JSON[_0x14d29b(0xd3)](_0x492988,null,0x2));if(!_0x492988['PaymentLink']&&!_0x492988[_0x14d29b(0xf2)])throw new Error(_0x14d29b(0xc9)+(_0x492988[_0x14d29b(0xc6)]||_0x14d29b(0xde)));const _0x243134=_0x492988['PaymentLink']||_0x492988['payment_url'],_0x33993f=_0x492988['PaymentLinkCode']||_0x492988[_0x14d29b(0xf3)];return console[_0x14d29b(0xef)](_0x14d29b(0xcf)),console['log'](_0x14d29b(0xf6),_0x243134),console[_0x14d29b(0xef)](_0x14d29b(0xe3),_0x33993f),console[_0x14d29b(0xef)]('Response\x20Code:',_0x492988[_0x14d29b(0xec)]),console['log']('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x33993f||_0x5f5b31,'payment_url':_0x243134||'','paymentLinkCode':_0x33993f};}catch(_0x5c4a34){console['error']('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x5c4a34),console[_0x14d29b(0xef)](_0x14d29b(0xd4));throw _0x5c4a34;}}[a52_0x1e0f5b(0xd6)](){const _0x2aae92=a52_0x1e0f5b;this[_0x2aae92(0xd7)]=null,console['log'](_0x2aae92(0xd5));}async['healthCheck'](){const _0x4cc285=a52_0x1e0f5b;try{const _0x5e3e36=await fetch(this[_0x4cc285(0xe6)]+_0x4cc285(0xe4),{'method':'GET','headers':{'Content-Type':_0x4cc285(0xdb),'User-Agent':_0x4cc285(0xce)}});return _0x5e3e36&&_0x5e3e36[_0x4cc285(0xea)]===0xc8?!![]:![];}catch(_0x23ef74){return console[_0x4cc285(0xe5)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x23ef74),![];}}}exports[a52_0x1e0f5b(0xcd)]=MyXSpendService,exports[a52_0x1e0f5b(0xc5)]=new MyXSpendService();