'use strict';function a52_0x57a3(_0x11fb4e,_0x2cc76d){const _0x5443f0=a52_0x5443();return a52_0x57a3=function(_0x57a371,_0x4bf866){_0x57a371=_0x57a371-0x113;let _0x33bae9=_0x5443f0[_0x57a371];return _0x33bae9;},a52_0x57a3(_0x11fb4e,_0x2cc76d);}const a52_0x48a136=a52_0x57a3;(function(_0x5e2fce,_0x2d4423){const _0x21ad13=a52_0x57a3,_0x118d34=_0x5e2fce();while(!![]){try{const _0x24b739=parseInt(_0x21ad13(0x13b))/0x1+parseInt(_0x21ad13(0x120))/0x2+parseInt(_0x21ad13(0x12b))/0x3*(-parseInt(_0x21ad13(0x11e))/0x4)+parseInt(_0x21ad13(0x123))/0x5*(parseInt(_0x21ad13(0x127))/0x6)+parseInt(_0x21ad13(0x11b))/0x7+-parseInt(_0x21ad13(0x129))/0x8*(parseInt(_0x21ad13(0x13e))/0x9)+-parseInt(_0x21ad13(0x11d))/0xa;if(_0x24b739===_0x2d4423)break;else _0x118d34['push'](_0x118d34['shift']());}catch(_0x53239b){_0x118d34['push'](_0x118d34['shift']());}}}(a52_0x5443,0xc413c));Object[a52_0x48a136(0x13d)](exports,'__esModule',{'value':!![]}),exports[a52_0x48a136(0x122)]=exports[a52_0x48a136(0x12e)]=void 0x0;class MyXSpendService{constructor(){const _0x23a1db=a52_0x48a136;this[_0x23a1db(0x12c)]=null,this[_0x23a1db(0x11c)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x23a1db(0x128)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this['apiUrl']=_0x23a1db(0x13c),console[_0x23a1db(0x11f)](_0x23a1db(0x11a));}async[a52_0x48a136(0x12a)](_0x45ceec){const _0x50fd24=a52_0x48a136;try{const {orderId:_0x275414,amount:_0x4e7032,currency:_0x3ee95d,firstName:_0x4967dc,lastName:_0x36ae79,email:_0x55f5ec,phone:_0x803c2a,successUrl:_0x1f8226,failureUrl:_0x56af08}=_0x45ceec;console[_0x50fd24(0x11f)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console['log'](_0x50fd24(0x134),_0x275414),console['log']('Amount:',_0x4e7032,_0x3ee95d),console['log']('Customer:',_0x4967dc+'\x20'+_0x36ae79),console[_0x50fd24(0x11f)](_0x50fd24(0x125),_0x55f5ec),console['log'](_0x50fd24(0x117),_0x803c2a||_0x50fd24(0x121));const _0x4248e0={'firstName':_0x4967dc,'lastName':_0x36ae79,'customerOrderId':_0x275414,'email':_0x55f5ec,'phone':_0x803c2a||'','amount':_0x4e7032,'currency':_0x3ee95d[_0x50fd24(0x138)](),'success_url':_0x1f8226,'failure_url':_0x56af08};console[_0x50fd24(0x11f)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x50fd24(0x145)](_0x4248e0,null,0x2));const _0x504637=await fetch(this[_0x50fd24(0x124)]+_0x50fd24(0x113),{'method':_0x50fd24(0x12d),'headers':{'Content-Type':_0x50fd24(0x13f),'User-Agent':_0x50fd24(0x12f)},'body':JSON[_0x50fd24(0x145)](_0x4248e0)}),_0x172c6d=await _0x504637[_0x50fd24(0x139)]();console[_0x50fd24(0x11f)](_0x50fd24(0x114),_0x172c6d);if(!_0x504637['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x504637['status']+_0x50fd24(0x136)+_0x172c6d);let _0x2710e5;try{_0x2710e5=JSON[_0x50fd24(0x141)](_0x172c6d);}catch(_0x10c12a){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x172c6d);}console[_0x50fd24(0x11f)](_0x50fd24(0x144),JSON[_0x50fd24(0x145)](_0x2710e5,null,0x2));if(!_0x2710e5[_0x50fd24(0x132)]&&!_0x2710e5['payment_url'])throw new Error(_0x50fd24(0x143)+(_0x2710e5['responseMessage']||_0x50fd24(0x126)));const _0x7b30c4=_0x2710e5['PaymentLink']||_0x2710e5['payment_url'],_0x251f01=_0x2710e5[_0x50fd24(0x116)]||_0x2710e5[_0x50fd24(0x115)];return console[_0x50fd24(0x11f)](_0x50fd24(0x133)),console[_0x50fd24(0x11f)](_0x50fd24(0x137),_0x7b30c4),console[_0x50fd24(0x11f)](_0x50fd24(0x140),_0x251f01),console[_0x50fd24(0x11f)](_0x50fd24(0x119),_0x2710e5['responseCode']),console[_0x50fd24(0x11f)](_0x50fd24(0x118)),{'gateway_payment_id':_0x251f01||_0x275414,'payment_url':_0x7b30c4||'','paymentLinkCode':_0x251f01};}catch(_0x2f660e){console[_0x50fd24(0x13a)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x2f660e),console[_0x50fd24(0x11f)](_0x50fd24(0x130));throw _0x2f660e;}}[a52_0x48a136(0x131)](){const _0x148452=a52_0x48a136;this[_0x148452(0x12c)]=null,console['log'](_0x148452(0x146));}async['healthCheck'](){const _0x5d3a22=a52_0x48a136;try{const _0x4ce92d=await fetch(this[_0x5d3a22(0x124)]+'health.php',{'method':_0x5d3a22(0x135),'headers':{'Content-Type':_0x5d3a22(0x13f),'User-Agent':_0x5d3a22(0x12f)}});return _0x4ce92d&&_0x4ce92d[_0x5d3a22(0x142)]===0xc8?!![]:![];}catch(_0x258119){return console[_0x5d3a22(0x13a)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x258119),![];}}}exports[a52_0x48a136(0x12e)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();function a52_0x5443(){const _0x4f5ef7=['not\x20provided','myxspendService','221615tDepUS','apiUrl','Email:','Unknown\x20error','138olBglv','COMPANY_ID','80wDIzSq','createPaymentLink','102ZTuGgD','authToken','POST','MyXSpendService','TrapayAPI/1.0','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','invalidateAuth','PaymentLink','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','Order\x20ID:','GET','\x20-\x20','Payment\x20Link:','toUpperCase','text','error','254114uiRfQy','https://traffer.uk/gateway/myxspend/','defineProperty','568449fNdwcO','application/json','Payment\x20Code:','parse','status','MyXSpend\x20payment\x20creation\x20failed:\x20','üìä\x20MyXSpend\x20unified\x20response\x20data:','stringify','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','myxspend.php','üì•\x20MyXSpend\x20unified\x20raw\x20response:','gateway_payment_id','PaymentLinkCode','Phone:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','Response\x20Code:','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','8437933bqcBHJ','API_KEY','7087990FlZmEc','84884SExNZu','log','772186qVhxFp'];a52_0x5443=function(){return _0x4f5ef7;};return a52_0x5443();}