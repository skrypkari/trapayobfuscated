'use strict';function a70_0x5914(){const _0x56fd12=['GET','Response\x20Code:','6QTRtyp','text','\x20-\x20','gateway_payment_id','application/json','invalidateAuth','PaymentLinkCode','POST','stringify','authToken','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','apiUrl','üì•\x20MyXSpend\x20unified\x20raw\x20response:','defineProperty','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','MyXSpendService','error','responseMessage','COMPANY_ID','4177269xhfcdC','1548918ImHyEi','TrapayAPI/1.0','93842KBlxnK','myxspend.php','status','myxspendService','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Email:','MyXSpend\x20payment\x20creation\x20failed:\x20','MyXSpend\x20API\x20error:\x20HTTP\x20','381230gcaFgP','üì§\x20MyXSpend\x20unified\x20request\x20body:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','log','Phone:','251043xDBiVl','214224ncYduy','Order\x20ID:','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','createPaymentLink','toUpperCase','Payment\x20Code:','payment_url','4HWPjkd','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','Unknown\x20error','1780026zJNJay','https://traffer.uk/gateway/myxspend/','Customer:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','PaymentLink'];a70_0x5914=function(){return _0x56fd12;};return a70_0x5914();}const a70_0x39bf52=a70_0x43f2;function a70_0x43f2(_0x30916b,_0x281241){_0x30916b=_0x30916b-0x1db;const _0x591417=a70_0x5914();let _0x43f254=_0x591417[_0x30916b];return _0x43f254;}(function(_0x108413,_0x3496bd){const _0x35bc28=a70_0x43f2,_0x76ea68=_0x108413();while(!![]){try{const _0x501700=parseInt(_0x35bc28(0x1fc))/0x1+-parseInt(_0x35bc28(0x1ef))/0x2*(parseInt(_0x35bc28(0x20e))/0x3)+-parseInt(_0x35bc28(0x204))/0x4*(parseInt(_0x35bc28(0x1f7))/0x5)+parseInt(_0x35bc28(0x207))/0x6+parseInt(_0x35bc28(0x1ed))/0x7+parseInt(_0x35bc28(0x1fd))/0x8+-parseInt(_0x35bc28(0x1ec))/0x9;if(_0x501700===_0x3496bd)break;else _0x76ea68['push'](_0x76ea68['shift']());}catch(_0x360c49){_0x76ea68['push'](_0x76ea68['shift']());}}}(a70_0x5914,0x27701));Object[a70_0x39bf52(0x1e5)](exports,'__esModule',{'value':!![]}),exports[a70_0x39bf52(0x1f2)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x729b4f=a70_0x39bf52;this['authToken']=null,this['API_KEY']=_0x729b4f(0x20a),this[_0x729b4f(0x1eb)]=_0x729b4f(0x1f3),this[_0x729b4f(0x1e3)]=_0x729b4f(0x208),console[_0x729b4f(0x1fa)](_0x729b4f(0x205));}async[a70_0x39bf52(0x200)](_0x559fcf){const _0x58b3c1=a70_0x39bf52;try{const {orderId:_0x3c9c94,amount:_0x4990a4,currency:_0x5a36e4,firstName:_0x52fae7,lastName:_0x404b95,email:_0x1c8959,phone:_0x139640,successUrl:_0x953808,failureUrl:_0x29f196}=_0x559fcf;console['log']('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x58b3c1(0x1fa)](_0x58b3c1(0x1fe),_0x3c9c94),console[_0x58b3c1(0x1fa)]('Amount:',_0x4990a4,_0x5a36e4),console[_0x58b3c1(0x1fa)](_0x58b3c1(0x209),_0x52fae7+'\x20'+_0x404b95),console['log'](_0x58b3c1(0x1f4),_0x1c8959),console[_0x58b3c1(0x1fa)](_0x58b3c1(0x1fb),_0x139640||'not\x20provided');const _0x3cb7a4={'firstName':_0x52fae7,'lastName':_0x404b95,'customerOrderId':_0x3c9c94,'email':_0x1c8959,'phone':_0x139640||'','amount':_0x4990a4,'currency':_0x5a36e4[_0x58b3c1(0x201)](),'success_url':_0x953808,'failure_url':_0x29f196};console[_0x58b3c1(0x1fa)](_0x58b3c1(0x1f8),JSON['stringify'](_0x3cb7a4,null,0x2));const _0x11ccdb=await fetch(this[_0x58b3c1(0x1e3)]+_0x58b3c1(0x1f0),{'method':_0x58b3c1(0x1df),'headers':{'Content-Type':_0x58b3c1(0x1dc),'User-Agent':_0x58b3c1(0x1ee)},'body':JSON[_0x58b3c1(0x1e0)](_0x3cb7a4)}),_0x3346c8=await _0x11ccdb[_0x58b3c1(0x20f)]();console[_0x58b3c1(0x1fa)](_0x58b3c1(0x1e4),_0x3346c8);if(!_0x11ccdb['ok'])throw new Error(_0x58b3c1(0x1f6)+_0x11ccdb['status']+_0x58b3c1(0x210)+_0x3346c8);let _0x2dd9a2;try{_0x2dd9a2=JSON['parse'](_0x3346c8);}catch(_0x23dcde){throw new Error(_0x58b3c1(0x1e6)+_0x3346c8);}console[_0x58b3c1(0x1fa)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x58b3c1(0x1e0)](_0x2dd9a2,null,0x2));if(!_0x2dd9a2[_0x58b3c1(0x20b)]&&!_0x2dd9a2['payment_url'])throw new Error(_0x58b3c1(0x1f5)+(_0x2dd9a2[_0x58b3c1(0x1ea)]||_0x58b3c1(0x206)));const _0x243422=_0x2dd9a2[_0x58b3c1(0x20b)]||_0x2dd9a2[_0x58b3c1(0x203)],_0x5a66b4=_0x2dd9a2[_0x58b3c1(0x1de)]||_0x2dd9a2[_0x58b3c1(0x1db)];return console[_0x58b3c1(0x1fa)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x58b3c1(0x1fa)]('Payment\x20Link:',_0x243422),console[_0x58b3c1(0x1fa)](_0x58b3c1(0x202),_0x5a66b4),console[_0x58b3c1(0x1fa)](_0x58b3c1(0x20d),_0x2dd9a2['responseCode']),console['log'](_0x58b3c1(0x1e2)),{'gateway_payment_id':_0x5a66b4||_0x3c9c94,'payment_url':_0x243422||'','paymentLinkCode':_0x5a66b4};}catch(_0x1d1462){console[_0x58b3c1(0x1e9)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x1d1462),console['log'](_0x58b3c1(0x1f9));throw _0x1d1462;}}[a70_0x39bf52(0x1dd)](){const _0x18222f=a70_0x39bf52;this[_0x18222f(0x1e1)]=null,console[_0x18222f(0x1fa)](_0x18222f(0x1ff));}async['healthCheck'](){const _0x44b086=a70_0x39bf52;try{const _0x47432f=await fetch(this['apiUrl']+'health.php',{'method':_0x44b086(0x20c),'headers':{'Content-Type':_0x44b086(0x1dc),'User-Agent':_0x44b086(0x1ee)}});return _0x47432f&&_0x47432f[_0x44b086(0x1f1)]===0xc8?!![]:![];}catch(_0x14e1c8){return console[_0x44b086(0x1e9)](_0x44b086(0x1e7),_0x14e1c8),![];}}}exports[a70_0x39bf52(0x1e8)]=MyXSpendService,exports[a70_0x39bf52(0x1f2)]=new MyXSpendService();