'use strict';const a70_0x2654cc=a70_0x1060;(function(_0xb35f3c,_0x12497d){const _0xea0b5b=a70_0x1060,_0x389eaf=_0xb35f3c();while(!![]){try{const _0x1f4928=parseInt(_0xea0b5b(0xe7))/0x1*(parseInt(_0xea0b5b(0xba))/0x2)+parseInt(_0xea0b5b(0xd9))/0x3+-parseInt(_0xea0b5b(0xc6))/0x4+parseInt(_0xea0b5b(0xc9))/0x5*(parseInt(_0xea0b5b(0xbb))/0x6)+-parseInt(_0xea0b5b(0xdb))/0x7+-parseInt(_0xea0b5b(0xe0))/0x8*(-parseInt(_0xea0b5b(0xb9))/0x9)+-parseInt(_0xea0b5b(0xbf))/0xa*(parseInt(_0xea0b5b(0xc5))/0xb);if(_0x1f4928===_0x12497d)break;else _0x389eaf['push'](_0x389eaf['shift']());}catch(_0xb0f040){_0x389eaf['push'](_0x389eaf['shift']());}}}(a70_0x3f8f,0x6d1d7));function a70_0x3f8f(){const _0x3993cc=['üì•\x20MyXSpend\x20unified\x20raw\x20response:','authToken','COMPANY_ID','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','apiUrl','Order\x20ID:','text','307767MkzONc','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','1761396YXwdJU','log','not\x20provided','üì§\x20MyXSpend\x20unified\x20request\x20body:','MyXSpendService','33456hUOPSv','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','health.php','__esModule','payment_url','TrapayAPI/1.0','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','6YIHiRQ','PaymentLinkCode','üìä\x20MyXSpend\x20unified\x20response\x20data:','Unknown\x20error','Payment\x20Code:','POST','API_KEY','GET','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','MyXSpend\x20payment\x20creation\x20failed:\x20','Amount:','myxspendService','error','1665FhPPfH','136154KKAhAj','452490DbFLHa','toUpperCase','Payment\x20Link:','application/json','470EnvgxW','healthCheck','parse','PaymentLink','defineProperty','responseCode','142087oTZJtJ','821216lEKCua','status','gateway_payment_id','15FEcOSJ','MyXSpend\x20API\x20error:\x20HTTP\x20','\x20-\x20','stringify','https://traffer.uk/gateway/myxspend/','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','createPaymentLink','Customer:'];a70_0x3f8f=function(){return _0x3993cc;};return a70_0x3f8f();}function a70_0x1060(_0x56dcc7,_0x5d17a2){_0x56dcc7=_0x56dcc7-0xaf;const _0x3f8f0b=a70_0x3f8f();let _0x1060e1=_0x3f8f0b[_0x56dcc7];return _0x1060e1;}Object[a70_0x2654cc(0xc3)](exports,a70_0x2654cc(0xe3),{'value':!![]}),exports[a70_0x2654cc(0xb7)]=exports[a70_0x2654cc(0xdf)]=void 0x0;class MyXSpendService{constructor(){const _0x165105=a70_0x2654cc;this[_0x165105(0xd2)]=null,this[_0x165105(0xb0)]=_0x165105(0xe1),this[_0x165105(0xd3)]=_0x165105(0xce),this[_0x165105(0xd6)]=_0x165105(0xcd),console[_0x165105(0xdc)](_0x165105(0xb4));}async[a70_0x2654cc(0xcf)](_0x2f02e4){const _0x19d09e=a70_0x2654cc;try{const {orderId:_0x1e1fc2,amount:_0x2b85d2,currency:_0x4ed3c2,firstName:_0x40d548,lastName:_0x86542e,email:_0x5a50d1,phone:_0x2ebfc0,successUrl:_0x58424c,failureUrl:_0x1132f2}=_0x2f02e4;console['log'](_0x19d09e(0xe6)),console[_0x19d09e(0xdc)](_0x19d09e(0xd7),_0x1e1fc2),console[_0x19d09e(0xdc)](_0x19d09e(0xb6),_0x2b85d2,_0x4ed3c2),console[_0x19d09e(0xdc)](_0x19d09e(0xd0),_0x40d548+'\x20'+_0x86542e),console[_0x19d09e(0xdc)]('Email:',_0x5a50d1),console[_0x19d09e(0xdc)]('Phone:',_0x2ebfc0||_0x19d09e(0xdd));const _0x2c68a9={'firstName':_0x40d548,'lastName':_0x86542e,'customerOrderId':_0x1e1fc2,'email':_0x5a50d1,'phone':_0x2ebfc0||'','amount':_0x2b85d2,'currency':_0x4ed3c2[_0x19d09e(0xbc)](),'success_url':_0x58424c,'failure_url':_0x1132f2};console[_0x19d09e(0xdc)](_0x19d09e(0xde),JSON[_0x19d09e(0xcc)](_0x2c68a9,null,0x2));const _0x231d76=await fetch(this['apiUrl']+'myxspend.php',{'method':_0x19d09e(0xaf),'headers':{'Content-Type':_0x19d09e(0xbe),'User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x19d09e(0xcc)](_0x2c68a9)}),_0x5e833e=await _0x231d76[_0x19d09e(0xd8)]();console[_0x19d09e(0xdc)](_0x19d09e(0xd1),_0x5e833e);if(!_0x231d76['ok'])throw new Error(_0x19d09e(0xca)+_0x231d76['status']+_0x19d09e(0xcb)+_0x5e833e);let _0x276fa0;try{_0x276fa0=JSON[_0x19d09e(0xc1)](_0x5e833e);}catch(_0x469b9d){throw new Error(_0x19d09e(0xb2)+_0x5e833e);}console['log'](_0x19d09e(0xe9),JSON[_0x19d09e(0xcc)](_0x276fa0,null,0x2));if(!_0x276fa0['PaymentLink']&&!_0x276fa0['payment_url'])throw new Error(_0x19d09e(0xb5)+(_0x276fa0['responseMessage']||_0x19d09e(0xea)));const _0x57b2ca=_0x276fa0[_0x19d09e(0xc2)]||_0x276fa0[_0x19d09e(0xe4)],_0x4c2fd5=_0x276fa0[_0x19d09e(0xe8)]||_0x276fa0[_0x19d09e(0xc8)];return console[_0x19d09e(0xdc)](_0x19d09e(0xda)),console[_0x19d09e(0xdc)](_0x19d09e(0xbd),_0x57b2ca),console[_0x19d09e(0xdc)](_0x19d09e(0xeb),_0x4c2fd5),console[_0x19d09e(0xdc)]('Response\x20Code:',_0x276fa0[_0x19d09e(0xc4)]),console[_0x19d09e(0xdc)](_0x19d09e(0xb3)),{'gateway_payment_id':_0x4c2fd5||_0x1e1fc2,'payment_url':_0x57b2ca||'','paymentLinkCode':_0x4c2fd5};}catch(_0xd985f2){console['error'](_0x19d09e(0xd5),_0xd985f2),console['log']('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0xd985f2;}}['invalidateAuth'](){const _0x397cc9=a70_0x2654cc;this[_0x397cc9(0xd2)]=null,console['log'](_0x397cc9(0xd4));}async[a70_0x2654cc(0xc0)](){const _0x8b3e60=a70_0x2654cc;try{const _0x33066=await fetch(this[_0x8b3e60(0xd6)]+_0x8b3e60(0xe2),{'method':_0x8b3e60(0xb1),'headers':{'Content-Type':_0x8b3e60(0xbe),'User-Agent':_0x8b3e60(0xe5)}});return _0x33066&&_0x33066[_0x8b3e60(0xc7)]===0xc8?!![]:![];}catch(_0x476c8c){return console[_0x8b3e60(0xb8)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x476c8c),![];}}}exports[a70_0x2654cc(0xdf)]=MyXSpendService,exports[a70_0x2654cc(0xb7)]=new MyXSpendService();