'use strict';const a49_0x350cd9=a49_0x18d8;(function(_0x3c9a2f,_0x35aaba){const _0xf6a16e=a49_0x18d8,_0x4f1bdd=_0x3c9a2f();while(!![]){try{const _0x1ed6c1=-parseInt(_0xf6a16e(0x210))/0x1+parseInt(_0xf6a16e(0x1ed))/0x2+-parseInt(_0xf6a16e(0x202))/0x3*(-parseInt(_0xf6a16e(0x1f0))/0x4)+-parseInt(_0xf6a16e(0x209))/0x5*(parseInt(_0xf6a16e(0x1d8))/0x6)+-parseInt(_0xf6a16e(0x1f3))/0x7*(-parseInt(_0xf6a16e(0x203))/0x8)+parseInt(_0xf6a16e(0x1e2))/0x9+-parseInt(_0xf6a16e(0x1e7))/0xa*(parseInt(_0xf6a16e(0x1f2))/0xb);if(_0x1ed6c1===_0x35aaba)break;else _0x4f1bdd['push'](_0x4f1bdd['shift']());}catch(_0x55b6f5){_0x4f1bdd['push'](_0x4f1bdd['shift']());}}}(a49_0x379c,0xed201));function a49_0x379c(){const _0x203ac7=['status','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','5002758FvRKAg','responseCode','authToken','Payment\x20Link:','Order\x20ID:','12080UcWTpE','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Payment\x20Code:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','TrapayAPI/1.0','toUpperCase','528126dYbSTd','invalidateAuth','COMPANY_ID','7226572gzSPsb','stringify','8382aLcSBZ','3151610gCDBtM','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','payment_url','error','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','Customer:','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','Email:','Amount:','healthCheck','myxspendService','üìä\x20MyXSpend\x20unified\x20response\x20data:','gateway_payment_id','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','text','3BLMdqD','16xEZiMR','log','__esModule','https://traffer.uk/gateway/myxspend/','POST','GET','25BmyZsk','application/json','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','responseMessage','apiUrl','Response\x20Code:','üì§\x20MyXSpend\x20unified\x20request\x20body:','1075472HDupRy','\x20-\x20','671754XwrPKX','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','PaymentLinkCode','MyXSpendService','Phone:','MyXSpend\x20payment\x20creation\x20failed:\x20','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','MyXSpend\x20API\x20error:\x20HTTP\x20'];a49_0x379c=function(){return _0x203ac7;};return a49_0x379c();}Object['defineProperty'](exports,a49_0x350cd9(0x205),{'value':!![]}),exports[a49_0x350cd9(0x1fd)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x1f15fe=a49_0x350cd9;this[_0x1f15fe(0x1e4)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x1f15fe(0x1ef)]=_0x1f15fe(0x1e8),this[_0x1f15fe(0x20d)]=_0x1f15fe(0x206),console[_0x1f15fe(0x204)](_0x1f15fe(0x200));}async['createPaymentLink'](_0x31643d){const _0x10fa71=a49_0x350cd9;try{const {orderId:_0x5a2a46,amount:_0x1b28ee,currency:_0x2d641,firstName:_0x389ecc,lastName:_0x39c3b4,email:_0x487cbf,phone:_0x53c1f6,successUrl:_0x158fd6,failureUrl:_0x56fc7b}=_0x31643d;console[_0x10fa71(0x204)](_0x10fa71(0x1f9)),console['log'](_0x10fa71(0x1e6),_0x5a2a46),console[_0x10fa71(0x204)](_0x10fa71(0x1fb),_0x1b28ee,_0x2d641),console[_0x10fa71(0x204)](_0x10fa71(0x1f8),_0x389ecc+'\x20'+_0x39c3b4),console['log'](_0x10fa71(0x1fa),_0x487cbf),console[_0x10fa71(0x204)](_0x10fa71(0x1dc),_0x53c1f6||'not\x20provided');const _0x23f0b8={'firstName':_0x389ecc,'lastName':_0x39c3b4,'customerOrderId':_0x5a2a46,'email':_0x487cbf,'phone':_0x53c1f6||'','amount':_0x1b28ee,'currency':_0x2d641[_0x10fa71(0x1ec)](),'success_url':_0x158fd6,'failure_url':_0x56fc7b};console[_0x10fa71(0x204)](_0x10fa71(0x20f),JSON['stringify'](_0x23f0b8,null,0x2));const _0x7542f9=await fetch(this[_0x10fa71(0x20d)]+'myxspend.php',{'method':_0x10fa71(0x207),'headers':{'Content-Type':_0x10fa71(0x20a),'User-Agent':_0x10fa71(0x1eb)},'body':JSON['stringify'](_0x23f0b8)}),_0x2386be=await _0x7542f9[_0x10fa71(0x201)]();console[_0x10fa71(0x204)](_0x10fa71(0x1ea),_0x2386be);if(!_0x7542f9['ok'])throw new Error(_0x10fa71(0x1df)+_0x7542f9[_0x10fa71(0x1e0)]+_0x10fa71(0x1d7)+_0x2386be);let _0x163eff;try{_0x163eff=JSON['parse'](_0x2386be);}catch(_0x2574bf){throw new Error(_0x10fa71(0x20b)+_0x2386be);}console[_0x10fa71(0x204)](_0x10fa71(0x1fe),JSON[_0x10fa71(0x1f1)](_0x163eff,null,0x2));if(!_0x163eff['PaymentLink']&&!_0x163eff['payment_url'])throw new Error(_0x10fa71(0x1dd)+(_0x163eff[_0x10fa71(0x20c)]||'Unknown\x20error'));const _0x3a0f57=_0x163eff['PaymentLink']||_0x163eff[_0x10fa71(0x1f5)],_0x320cc4=_0x163eff[_0x10fa71(0x1da)]||_0x163eff[_0x10fa71(0x1ff)];return console[_0x10fa71(0x204)](_0x10fa71(0x1f4)),console[_0x10fa71(0x204)](_0x10fa71(0x1e5),_0x3a0f57),console[_0x10fa71(0x204)](_0x10fa71(0x1e9),_0x320cc4),console[_0x10fa71(0x204)](_0x10fa71(0x20e),_0x163eff[_0x10fa71(0x1e3)]),console[_0x10fa71(0x204)](_0x10fa71(0x1d9)),{'gateway_payment_id':_0x320cc4||_0x5a2a46,'payment_url':_0x3a0f57||'','paymentLinkCode':_0x320cc4};}catch(_0x5e961d){console[_0x10fa71(0x1f6)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x5e961d),console[_0x10fa71(0x204)](_0x10fa71(0x1e1));throw _0x5e961d;}}[a49_0x350cd9(0x1ee)](){const _0x3e0d62=a49_0x350cd9;this['authToken']=null,console[_0x3e0d62(0x204)](_0x3e0d62(0x1f7));}async[a49_0x350cd9(0x1fc)](){const _0x155a5f=a49_0x350cd9;try{const _0xb46769=await fetch(this['apiUrl']+'health.php',{'method':_0x155a5f(0x208),'headers':{'Content-Type':_0x155a5f(0x20a),'User-Agent':_0x155a5f(0x1eb)}});return _0xb46769&&_0xb46769[_0x155a5f(0x1e0)]===0xc8?!![]:![];}catch(_0x3dc0ff){return console[_0x155a5f(0x1f6)](_0x155a5f(0x1de),_0x3dc0ff),![];}}}function a49_0x18d8(_0x5de5b5,_0xebd708){const _0x379cc4=a49_0x379c();return a49_0x18d8=function(_0x18d8fb,_0x48dc7b){_0x18d8fb=_0x18d8fb-0x1d7;let _0x26ef86=_0x379cc4[_0x18d8fb];return _0x26ef86;},a49_0x18d8(_0x5de5b5,_0xebd708);}exports[a49_0x350cd9(0x1db)]=MyXSpendService,exports[a49_0x350cd9(0x1fd)]=new MyXSpendService();