'use strict';function a52_0x90eb(_0x5d2399,_0x838cd9){const _0x5d5faa=a52_0x5d5f();return a52_0x90eb=function(_0x90eb1e,_0x3deaae){_0x90eb1e=_0x90eb1e-0xb7;let _0x4abbd3=_0x5d5faa[_0x90eb1e];return _0x4abbd3;},a52_0x90eb(_0x5d2399,_0x838cd9);}const a52_0x38240c=a52_0x90eb;(function(_0x196624,_0x3511ca){const _0x276798=a52_0x90eb,_0x2d858d=_0x196624();while(!![]){try{const _0x509960=parseInt(_0x276798(0xd3))/0x1+-parseInt(_0x276798(0xb8))/0x2+parseInt(_0x276798(0xdc))/0x3+parseInt(_0x276798(0xc3))/0x4+-parseInt(_0x276798(0xba))/0x5+parseInt(_0x276798(0xd1))/0x6*(parseInt(_0x276798(0xc1))/0x7)+-parseInt(_0x276798(0xc2))/0x8;if(_0x509960===_0x3511ca)break;else _0x2d858d['push'](_0x2d858d['shift']());}catch(_0x47fca5){_0x2d858d['push'](_0x2d858d['shift']());}}}(a52_0x5d5f,0x6b8c4));Object[a52_0x38240c(0xd5)](exports,a52_0x38240c(0xc7),{'value':!![]}),exports[a52_0x38240c(0xd9)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x25443d=a52_0x38240c;this[_0x25443d(0xde)]=null,this[_0x25443d(0xea)]=_0x25443d(0xdf),this[_0x25443d(0xbe)]=_0x25443d(0xc4),this[_0x25443d(0xe2)]=_0x25443d(0xc6),console[_0x25443d(0xd0)](_0x25443d(0xe3));}async['createPaymentLink'](_0x205374){const _0xb3e169=a52_0x38240c;try{const {orderId:_0x559e8a,amount:_0x26cbee,currency:_0x4ae163,firstName:_0x119182,lastName:_0x5cc95e,email:_0x31ad54,phone:_0x513eb3,successUrl:_0x536d6f,failureUrl:_0x41a011}=_0x205374;console[_0xb3e169(0xd0)](_0xb3e169(0xcd)),console[_0xb3e169(0xd0)](_0xb3e169(0xb9),_0x559e8a),console[_0xb3e169(0xd0)](_0xb3e169(0xd6),_0x26cbee,_0x4ae163),console[_0xb3e169(0xd0)](_0xb3e169(0xe9),_0x119182+'\x20'+_0x5cc95e),console[_0xb3e169(0xd0)](_0xb3e169(0xcf),_0x31ad54),console[_0xb3e169(0xd0)](_0xb3e169(0xc8),_0x513eb3||'not\x20provided');const _0x2c2857={'firstName':_0x119182,'lastName':_0x5cc95e,'customerOrderId':_0x559e8a,'email':_0x31ad54,'phone':_0x513eb3||'','amount':_0x26cbee,'currency':_0x4ae163[_0xb3e169(0xd4)](),'success_url':_0x536d6f,'failure_url':_0x41a011};console[_0xb3e169(0xd0)](_0xb3e169(0xe7),JSON[_0xb3e169(0xe4)](_0x2c2857,null,0x2));const _0x2cd417=await fetch(this['apiUrl']+_0xb3e169(0xc0),{'method':_0xb3e169(0xc5),'headers':{'Content-Type':_0xb3e169(0xbf),'User-Agent':_0xb3e169(0xc9)},'body':JSON['stringify'](_0x2c2857)}),_0x1ecfb4=await _0x2cd417[_0xb3e169(0xe5)]();console[_0xb3e169(0xd0)](_0xb3e169(0xbb),_0x1ecfb4);if(!_0x2cd417['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x2cd417[_0xb3e169(0xda)]+_0xb3e169(0xcb)+_0x1ecfb4);let _0x1993a2;try{_0x1993a2=JSON[_0xb3e169(0xdb)](_0x1ecfb4);}catch(_0x415430){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x1ecfb4);}console['log'](_0xb3e169(0xce),JSON[_0xb3e169(0xe4)](_0x1993a2,null,0x2));if(!_0x1993a2[_0xb3e169(0xe6)]&&!_0x1993a2['payment_url'])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x1993a2['responseMessage']||'Unknown\x20error'));const _0x5e765b=_0x1993a2[_0xb3e169(0xe6)]||_0x1993a2[_0xb3e169(0xdd)],_0x337ff0=_0x1993a2['PaymentLinkCode']||_0x1993a2[_0xb3e169(0xbc)];return console['log']('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0xb3e169(0xd0)]('Payment\x20Link:',_0x5e765b),console['log'](_0xb3e169(0xbd),_0x337ff0),console[_0xb3e169(0xd0)](_0xb3e169(0xe0),_0x1993a2['responseCode']),console[_0xb3e169(0xd0)](_0xb3e169(0xd8)),{'gateway_payment_id':_0x337ff0||_0x559e8a,'payment_url':_0x5e765b||'','paymentLinkCode':_0x337ff0};}catch(_0x253edb){console[_0xb3e169(0xd7)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x253edb),console[_0xb3e169(0xd0)](_0xb3e169(0xe8));throw _0x253edb;}}[a52_0x38240c(0xca)](){const _0x543366=a52_0x38240c;this[_0x543366(0xde)]=null,console[_0x543366(0xd0)]('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a52_0x38240c(0xb7)](){const _0x204197=a52_0x38240c;try{const _0x6c8645=await fetch(this[_0x204197(0xe2)]+_0x204197(0xe1),{'method':_0x204197(0xd2),'headers':{'Content-Type':_0x204197(0xbf),'User-Agent':_0x204197(0xc9)}});return _0x6c8645&&_0x6c8645[_0x204197(0xda)]===0xc8?!![]:![];}catch(_0x314719){return console[_0x204197(0xd7)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x314719),![];}}}exports[a52_0x38240c(0xcc)]=MyXSpendService,exports[a52_0x38240c(0xd9)]=new MyXSpendService();function a52_0x5d5f(){const _0x308ce8=['API_KEY','healthCheck','669356TqojFI','Order\x20ID:','2789405yEuTSe','üì•\x20MyXSpend\x20unified\x20raw\x20response:','gateway_payment_id','Payment\x20Code:','COMPANY_ID','application/json','myxspend.php','101899dHRxWG','3520888OVOsfB','2287744GZusGk','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','POST','https://traffer.uk/gateway/myxspend/','__esModule','Phone:','TrapayAPI/1.0','invalidateAuth','\x20-\x20','MyXSpendService','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','üìä\x20MyXSpend\x20unified\x20response\x20data:','Email:','log','6qDXPLV','GET','534299iHgcpe','toUpperCase','defineProperty','Amount:','error','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','myxspendService','status','parse','1957182XAawnK','payment_url','authToken','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','Response\x20Code:','health.php','apiUrl','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','stringify','text','PaymentLink','üì§\x20MyXSpend\x20unified\x20request\x20body:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Customer:'];a52_0x5d5f=function(){return _0x308ce8;};return a52_0x5d5f();}