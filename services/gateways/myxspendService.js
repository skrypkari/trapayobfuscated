'use strict';const a62_0x502f54=a62_0xa336;(function(_0x2f340f,_0x2b877f){const _0x3c1389=a62_0xa336,_0x1d11cd=_0x2f340f();while(!![]){try{const _0x5c7198=-parseInt(_0x3c1389(0x1cf))/0x1+-parseInt(_0x3c1389(0x1cc))/0x2*(-parseInt(_0x3c1389(0x1d8))/0x3)+parseInt(_0x3c1389(0x1be))/0x4*(parseInt(_0x3c1389(0x1d5))/0x5)+parseInt(_0x3c1389(0x1de))/0x6*(-parseInt(_0x3c1389(0x1d7))/0x7)+parseInt(_0x3c1389(0x1dd))/0x8*(-parseInt(_0x3c1389(0x1aa))/0x9)+-parseInt(_0x3c1389(0x1d6))/0xa*(parseInt(_0x3c1389(0x1e2))/0xb)+parseInt(_0x3c1389(0x1ca))/0xc*(parseInt(_0x3c1389(0x1c3))/0xd);if(_0x5c7198===_0x2b877f)break;else _0x1d11cd['push'](_0x1d11cd['shift']());}catch(_0x435172){_0x1d11cd['push'](_0x1d11cd['shift']());}}}(a62_0x4c27,0xe53c4));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a62_0x502f54(0x1b8)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x474b52=a62_0x502f54;this[_0x474b52(0x1c7)]=null,this[_0x474b52(0x1c2)]=_0x474b52(0x1a6),this[_0x474b52(0x1bd)]=_0x474b52(0x1b3),this[_0x474b52(0x1d2)]='https://traffer.uk/gateway/myxspend/',console[_0x474b52(0x1b7)](_0x474b52(0x1a8));}async[a62_0x502f54(0x1d4)](_0x5375bc){const _0x27b739=a62_0x502f54;try{const {orderId:_0x2553a3,amount:_0x30bf4e,currency:_0x2876b2,firstName:_0x4eca11,lastName:_0x2220c2,email:_0xbed2de,phone:_0x1d9226,successUrl:_0x4e6850,failureUrl:_0x12541f}=_0x5375bc;console[_0x27b739(0x1b7)](_0x27b739(0x1a7)),console['log'](_0x27b739(0x1e1),_0x2553a3),console[_0x27b739(0x1b7)](_0x27b739(0x1e0),_0x30bf4e,_0x2876b2),console[_0x27b739(0x1b7)](_0x27b739(0x1bb),_0x4eca11+'\x20'+_0x2220c2),console[_0x27b739(0x1b7)]('Email:',_0xbed2de),console[_0x27b739(0x1b7)](_0x27b739(0x1ae),_0x1d9226||_0x27b739(0x1b6));const _0x4296ac={'firstName':_0x4eca11,'lastName':_0x2220c2,'customerOrderId':_0x2553a3,'email':_0xbed2de,'phone':_0x1d9226||'','amount':_0x30bf4e,'currency':_0x2876b2[_0x27b739(0x1d0)](),'success_url':_0x4e6850,'failure_url':_0x12541f};console[_0x27b739(0x1b7)](_0x27b739(0x1b4),JSON[_0x27b739(0x1c4)](_0x4296ac,null,0x2));const _0x7d3ef9=await fetch(this[_0x27b739(0x1d2)]+_0x27b739(0x1ad),{'method':'POST','headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x27b739(0x1c4)](_0x4296ac)}),_0x5436cc=await _0x7d3ef9[_0x27b739(0x1cb)]();console[_0x27b739(0x1b7)](_0x27b739(0x1df),_0x5436cc);if(!_0x7d3ef9['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x7d3ef9[_0x27b739(0x1ba)]+_0x27b739(0x1c6)+_0x5436cc);let _0x510d89;try{_0x510d89=JSON[_0x27b739(0x1c5)](_0x5436cc);}catch(_0x59ba38){throw new Error(_0x27b739(0x1c0)+_0x5436cc);}console[_0x27b739(0x1b7)](_0x27b739(0x1bc),JSON[_0x27b739(0x1c4)](_0x510d89,null,0x2));if(!_0x510d89[_0x27b739(0x1cd)]&&!_0x510d89[_0x27b739(0x1da)])throw new Error(_0x27b739(0x1b1)+(_0x510d89[_0x27b739(0x1b5)]||_0x27b739(0x1b9)));const _0x373cfd=_0x510d89[_0x27b739(0x1cd)]||_0x510d89[_0x27b739(0x1da)],_0x5b4388=_0x510d89[_0x27b739(0x1ac)]||_0x510d89[_0x27b739(0x1dc)];return console['log'](_0x27b739(0x1c8)),console[_0x27b739(0x1b7)](_0x27b739(0x1e4),_0x373cfd),console[_0x27b739(0x1b7)](_0x27b739(0x1d9),_0x5b4388),console[_0x27b739(0x1b7)](_0x27b739(0x1e3),_0x510d89[_0x27b739(0x1af)]),console['log'](_0x27b739(0x1a9)),{'gateway_payment_id':_0x5b4388||_0x2553a3,'payment_url':_0x373cfd||'','paymentLinkCode':_0x5b4388};}catch(_0x1968be){console['error'](_0x27b739(0x1b2),_0x1968be),console['log'](_0x27b739(0x1c9));throw _0x1968be;}}[a62_0x502f54(0x1db)](){const _0x20ea30=a62_0x502f54;this[_0x20ea30(0x1c7)]=null,console['log'](_0x20ea30(0x1d1));}async['healthCheck'](){const _0x399825=a62_0x502f54;try{const _0x4f2c66=await fetch(this[_0x399825(0x1d2)]+'health.php',{'method':_0x399825(0x1d3),'headers':{'Content-Type':_0x399825(0x1bf),'User-Agent':_0x399825(0x1ce)}});return _0x4f2c66&&_0x4f2c66['status']===0xc8?!![]:![];}catch(_0x31e653){return console[_0x399825(0x1c1)](_0x399825(0x1ab),_0x31e653),![];}}}exports[a62_0x502f54(0x1b0)]=MyXSpendService,exports[a62_0x502f54(0x1b8)]=new MyXSpendService();function a62_0xa336(_0x5c1cce,_0x42aac4){_0x5c1cce=_0x5c1cce-0x1a6;const _0x4c2745=a62_0x4c27();let _0xa33691=_0x4c2745[_0x5c1cce];return _0xa33691;}function a62_0x4c27(){const _0x1113eb=['Unknown\x20error','status','Customer:','üìä\x20MyXSpend\x20unified\x20response\x20data:','COMPANY_ID','4jsJzdR','application/json','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','error','API_KEY','1586AZHJQg','stringify','parse','\x20-\x20','authToken','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','326016ywyNXz','text','445558QwLdYj','PaymentLink','TrapayAPI/1.0','291033nkupKM','toUpperCase','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','apiUrl','GET','createPaymentLink','5844460ljmktg','680FgwUmV','2922584pMGhDg','6wjmCwM','Payment\x20Code:','payment_url','invalidateAuth','gateway_payment_id','13208200vjstek','12nUwsSS','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Amount:','Order\x20ID:','196207KvCQYc','Response\x20Code:','Payment\x20Link:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','9oIRXcw','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','PaymentLinkCode','myxspend.php','Phone:','responseCode','MyXSpendService','MyXSpend\x20payment\x20creation\x20failed:\x20','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','üì§\x20MyXSpend\x20unified\x20request\x20body:','responseMessage','not\x20provided','log','myxspendService'];a62_0x4c27=function(){return _0x1113eb;};return a62_0x4c27();}