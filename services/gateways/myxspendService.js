'use strict';const a47_0x6edc4e=a47_0x1547;function a47_0x1547(_0xee6683,_0x4893c7){const _0x3d1ba8=a47_0x3d1b();return a47_0x1547=function(_0x154706,_0x3feb82){_0x154706=_0x154706-0x14c;let _0x3288d0=_0x3d1ba8[_0x154706];return _0x3288d0;},a47_0x1547(_0xee6683,_0x4893c7);}(function(_0x34447d,_0xfd9a57){const _0x5f5ddb=a47_0x1547,_0x3243fc=_0x34447d();while(!![]){try{const _0x4d0eec=-parseInt(_0x5f5ddb(0x171))/0x1*(parseInt(_0x5f5ddb(0x155))/0x2)+parseInt(_0x5f5ddb(0x157))/0x3+parseInt(_0x5f5ddb(0x164))/0x4*(parseInt(_0x5f5ddb(0x160))/0x5)+-parseInt(_0x5f5ddb(0x181))/0x6+parseInt(_0x5f5ddb(0x174))/0x7+parseInt(_0x5f5ddb(0x162))/0x8*(parseInt(_0x5f5ddb(0x166))/0x9)+-parseInt(_0x5f5ddb(0x16c))/0xa*(parseInt(_0x5f5ddb(0x154))/0xb);if(_0x4d0eec===_0xfd9a57)break;else _0x3243fc['push'](_0x3243fc['shift']());}catch(_0xfb75a2){_0x3243fc['push'](_0x3243fc['shift']());}}}(a47_0x3d1b,0x49986));Object[a47_0x6edc4e(0x179)](exports,a47_0x6edc4e(0x185),{'value':!![]}),exports[a47_0x6edc4e(0x176)]=exports[a47_0x6edc4e(0x175)]=void 0x0;class MyXSpendService{constructor(){const _0x17c77c=a47_0x6edc4e;this[_0x17c77c(0x168)]=null,this[_0x17c77c(0x16a)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this['COMPANY_ID']=_0x17c77c(0x14c),this[_0x17c77c(0x15e)]=_0x17c77c(0x172),console[_0x17c77c(0x17f)](_0x17c77c(0x153));}async['createPaymentLink'](_0x1b49ad){const _0x2a4497=a47_0x6edc4e;try{const {orderId:_0x5594c9,amount:_0x1b67eb,currency:_0xe10fc2,firstName:_0x54632e,lastName:_0x2a1315,email:_0x1a0459,phone:_0x4b8ad2,successUrl:_0x542405,failureUrl:_0x53ce2a}=_0x1b49ad;console['log'](_0x2a4497(0x169)),console[_0x2a4497(0x17f)](_0x2a4497(0x163),_0x5594c9),console['log'](_0x2a4497(0x17a),_0x1b67eb,_0xe10fc2),console['log'](_0x2a4497(0x170),_0x54632e+'\x20'+_0x2a1315),console[_0x2a4497(0x17f)](_0x2a4497(0x14d),_0x1a0459),console[_0x2a4497(0x17f)](_0x2a4497(0x17d),_0x4b8ad2||'not\x20provided');const _0x42d1fd={'firstName':_0x54632e,'lastName':_0x2a1315,'customerOrderId':_0x5594c9,'email':_0x1a0459,'phone':_0x4b8ad2||'','amount':_0x1b67eb,'currency':_0xe10fc2[_0x2a4497(0x151)](),'success_url':_0x542405,'failure_url':_0x53ce2a};console['log'](_0x2a4497(0x14e),JSON[_0x2a4497(0x173)](_0x42d1fd,null,0x2));const _0x5be565=await fetch(this[_0x2a4497(0x15e)]+_0x2a4497(0x161),{'method':_0x2a4497(0x158),'headers':{'Content-Type':'application/json','User-Agent':_0x2a4497(0x17b)},'body':JSON[_0x2a4497(0x173)](_0x42d1fd)}),_0x125212=await _0x5be565[_0x2a4497(0x177)]();console[_0x2a4497(0x17f)](_0x2a4497(0x16d),_0x125212);if(!_0x5be565['ok'])throw new Error(_0x2a4497(0x184)+_0x5be565[_0x2a4497(0x16b)]+_0x2a4497(0x15b)+_0x125212);let _0x4241b1;try{_0x4241b1=JSON[_0x2a4497(0x180)](_0x125212);}catch(_0x529dc8){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x125212);}console[_0x2a4497(0x17f)](_0x2a4497(0x156),JSON[_0x2a4497(0x173)](_0x4241b1,null,0x2));if(!_0x4241b1[_0x2a4497(0x15d)]&&!_0x4241b1[_0x2a4497(0x15a)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x4241b1[_0x2a4497(0x150)]||_0x2a4497(0x16e)));const _0x3a922d=_0x4241b1['PaymentLink']||_0x4241b1[_0x2a4497(0x15a)],_0x264fe9=_0x4241b1[_0x2a4497(0x167)]||_0x4241b1['gateway_payment_id'];return console[_0x2a4497(0x17f)](_0x2a4497(0x14f)),console[_0x2a4497(0x17f)](_0x2a4497(0x182),_0x3a922d),console[_0x2a4497(0x17f)]('Payment\x20Code:',_0x264fe9),console[_0x2a4497(0x17f)]('Response\x20Code:',_0x4241b1[_0x2a4497(0x17e)]),console['log'](_0x2a4497(0x159)),{'gateway_payment_id':_0x264fe9||_0x5594c9,'payment_url':_0x3a922d||'','paymentLinkCode':_0x264fe9};}catch(_0x5d7492){console[_0x2a4497(0x183)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x5d7492),console[_0x2a4497(0x17f)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x5d7492;}}[a47_0x6edc4e(0x16f)](){const _0x32fc1f=a47_0x6edc4e;this[_0x32fc1f(0x168)]=null,console[_0x32fc1f(0x17f)](_0x32fc1f(0x15f));}async[a47_0x6edc4e(0x152)](){const _0x37d73e=a47_0x6edc4e;try{const _0x325224=await fetch(this[_0x37d73e(0x15e)]+_0x37d73e(0x165),{'method':_0x37d73e(0x17c),'headers':{'Content-Type':_0x37d73e(0x178),'User-Agent':'TrapayAPI/1.0'}});return _0x325224&&_0x325224[_0x37d73e(0x16b)]===0xc8?!![]:![];}catch(_0x7c79bf){return console[_0x37d73e(0x183)](_0x37d73e(0x15c),_0x7c79bf),![];}}}function a47_0x3d1b(){const _0x5824db=['üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','payment_url','\x20-\x20','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','PaymentLink','apiUrl','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','74170AanPSk','myxspend.php','3936216WChqnF','Order\x20ID:','88sDAaAY','health.php','9BiEHkh','PaymentLinkCode','authToken','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','API_KEY','status','50060kdazSC','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Unknown\x20error','invalidateAuth','Customer:','1HjqFhc','https://traffer.uk/gateway/myxspend/','stringify','1963066XEVVBc','MyXSpendService','myxspendService','text','application/json','defineProperty','Amount:','TrapayAPI/1.0','GET','Phone:','responseCode','log','parse','2278404dprKoR','Payment\x20Link:','error','MyXSpend\x20API\x20error:\x20HTTP\x20','__esModule','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Email:','üì§\x20MyXSpend\x20unified\x20request\x20body:','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','responseMessage','toUpperCase','healthCheck','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','869OtAEWQ','1040482mBSJrw','üìä\x20MyXSpend\x20unified\x20response\x20data:','1494246RYTAHv','POST'];a47_0x3d1b=function(){return _0x5824db;};return a47_0x3d1b();}exports[a47_0x6edc4e(0x175)]=MyXSpendService,exports[a47_0x6edc4e(0x176)]=new MyXSpendService();