'use strict';const a64_0x10bc0e=a64_0x3870;(function(_0x477a26,_0x59677d){const _0x3d81fa=a64_0x3870,_0x52efd9=_0x477a26();while(!![]){try{const _0x41f175=-parseInt(_0x3d81fa(0x1b8))/0x1+parseInt(_0x3d81fa(0x1c5))/0x2*(-parseInt(_0x3d81fa(0x1a0))/0x3)+-parseInt(_0x3d81fa(0x1c1))/0x4+parseInt(_0x3d81fa(0x1be))/0x5*(-parseInt(_0x3d81fa(0x1a1))/0x6)+-parseInt(_0x3d81fa(0x1a9))/0x7*(-parseInt(_0x3d81fa(0x1cb))/0x8)+-parseInt(_0x3d81fa(0x1b2))/0x9*(-parseInt(_0x3d81fa(0x1c3))/0xa)+parseInt(_0x3d81fa(0x1a4))/0xb;if(_0x41f175===_0x59677d)break;else _0x52efd9['push'](_0x52efd9['shift']());}catch(_0x343df7){_0x52efd9['push'](_0x52efd9['shift']());}}}(a64_0x5a93,0x6e35b));function a64_0x3870(_0x52de16,_0x4d9237){_0x52de16=_0x52de16-0x1a0;const _0x5a9373=a64_0x5a93();let _0x3870c4=_0x5a9373[_0x52de16];return _0x3870c4;}Object[a64_0x10bc0e(0x1c4)](exports,'__esModule',{'value':!![]}),exports[a64_0x10bc0e(0x1ab)]=exports[a64_0x10bc0e(0x1b6)]=void 0x0;class MyXSpendService{constructor(){const _0x5f38d7=a64_0x10bc0e;this[_0x5f38d7(0x1cf)]=null,this['API_KEY']=_0x5f38d7(0x1c2),this['COMPANY_ID']=_0x5f38d7(0x1cd),this[_0x5f38d7(0x1bc)]=_0x5f38d7(0x1a2),console[_0x5f38d7(0x1ac)](_0x5f38d7(0x1cc));}async[a64_0x10bc0e(0x1b1)](_0x4c0672){const _0x128da4=a64_0x10bc0e;try{const {orderId:_0x450301,amount:_0x3e48c1,currency:_0x175982,firstName:_0x8d0de9,lastName:_0x52df2e,email:_0x7feffd,phone:_0x38e249,successUrl:_0x221f6c,failureUrl:_0x5f547a}=_0x4c0672;console[_0x128da4(0x1ac)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x128da4(0x1ac)](_0x128da4(0x1a8),_0x450301),console[_0x128da4(0x1ac)]('Amount:',_0x3e48c1,_0x175982),console[_0x128da4(0x1ac)]('Customer:',_0x8d0de9+'\x20'+_0x52df2e),console[_0x128da4(0x1ac)](_0x128da4(0x1c0),_0x7feffd),console['log']('Phone:',_0x38e249||_0x128da4(0x1c8));const _0xc4f62a={'firstName':_0x8d0de9,'lastName':_0x52df2e,'customerOrderId':_0x450301,'email':_0x7feffd,'phone':_0x38e249||'','amount':_0x3e48c1,'currency':_0x175982[_0x128da4(0x1ba)](),'success_url':_0x221f6c,'failure_url':_0x5f547a};console['log'](_0x128da4(0x1b4),JSON[_0x128da4(0x1c6)](_0xc4f62a,null,0x2));const _0x1cdf28=await fetch(this[_0x128da4(0x1bc)]+_0x128da4(0x1d3),{'method':_0x128da4(0x1bd),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x128da4(0x1c6)](_0xc4f62a)}),_0x1671cb=await _0x1cdf28['text']();console[_0x128da4(0x1ac)](_0x128da4(0x1a7),_0x1671cb);if(!_0x1cdf28['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x1cdf28[_0x128da4(0x1d1)]+_0x128da4(0x1c7)+_0x1671cb);let _0x41e29a;try{_0x41e29a=JSON[_0x128da4(0x1aa)](_0x1671cb);}catch(_0x6b9082){throw new Error(_0x128da4(0x1ca)+_0x1671cb);}console[_0x128da4(0x1ac)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x128da4(0x1c6)](_0x41e29a,null,0x2));if(!_0x41e29a[_0x128da4(0x1b7)]&&!_0x41e29a[_0x128da4(0x1a5)])throw new Error(_0x128da4(0x1ae)+(_0x41e29a[_0x128da4(0x1b5)]||'Unknown\x20error'));const _0x134ed9=_0x41e29a[_0x128da4(0x1b7)]||_0x41e29a[_0x128da4(0x1a5)],_0x509396=_0x41e29a[_0x128da4(0x1d4)]||_0x41e29a[_0x128da4(0x1af)];return console[_0x128da4(0x1ac)](_0x128da4(0x1a6)),console[_0x128da4(0x1ac)](_0x128da4(0x1d5),_0x134ed9),console[_0x128da4(0x1ac)](_0x128da4(0x1c9),_0x509396),console[_0x128da4(0x1ac)]('Response\x20Code:',_0x41e29a[_0x128da4(0x1bf)]),console[_0x128da4(0x1ac)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x509396||_0x450301,'payment_url':_0x134ed9||'','paymentLinkCode':_0x509396};}catch(_0x3b9107){console['error']('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x3b9107),console[_0x128da4(0x1ac)](_0x128da4(0x1b9));throw _0x3b9107;}}[a64_0x10bc0e(0x1ad)](){const _0x1b6bf8=a64_0x10bc0e;this['authToken']=null,console[_0x1b6bf8(0x1ac)](_0x1b6bf8(0x1bb));}async[a64_0x10bc0e(0x1b3)](){const _0x36ed9c=a64_0x10bc0e;try{const _0xd585b3=await fetch(this[_0x36ed9c(0x1bc)]+_0x36ed9c(0x1d2),{'method':_0x36ed9c(0x1b0),'headers':{'Content-Type':_0x36ed9c(0x1a3),'User-Agent':_0x36ed9c(0x1d0)}});return _0xd585b3&&_0xd585b3[_0x36ed9c(0x1d1)]===0xc8?!![]:![];}catch(_0x2d6f50){return console['error'](_0x36ed9c(0x1ce),_0x2d6f50),![];}}}exports[a64_0x10bc0e(0x1b6)]=MyXSpendService,exports[a64_0x10bc0e(0x1ab)]=new MyXSpendService();function a64_0x5a93(){const _0x23ea96=['2151256JcxfxG','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','authToken','TrapayAPI/1.0','status','health.php','myxspend.php','PaymentLinkCode','Payment\x20Link:','18XGwqwa','1188RfcEDu','https://traffer.uk/gateway/myxspend/','application/json','24305842VqVNog','payment_url','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Order\x20ID:','7GAfsGj','parse','myxspendService','log','invalidateAuth','MyXSpend\x20payment\x20creation\x20failed:\x20','gateway_payment_id','GET','createPaymentLink','2767131uYdjKU','healthCheck','üì§\x20MyXSpend\x20unified\x20request\x20body:','responseMessage','MyXSpendService','PaymentLink','787499DMJMfD','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','toUpperCase','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','apiUrl','POST','21295xIFdqM','responseCode','Email:','2055504HkrvHU','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','10ZIGQyX','defineProperty','63304qHuekb','stringify','\x20-\x20','not\x20provided','Payment\x20Code:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'];a64_0x5a93=function(){return _0x23ea96;};return a64_0x5a93();}