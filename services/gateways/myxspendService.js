'use strict';function a52_0x2478(_0x5e54c9,_0x5a7045){const _0xfee8cb=a52_0xfee8();return a52_0x2478=function(_0x24782a,_0x593310){_0x24782a=_0x24782a-0x78;let _0x3254a0=_0xfee8cb[_0x24782a];return _0x3254a0;},a52_0x2478(_0x5e54c9,_0x5a7045);}const a52_0x33d397=a52_0x2478;(function(_0x434695,_0x4f7de1){const _0xf8ed52=a52_0x2478,_0x4c69fa=_0x434695();while(!![]){try{const _0x479255=parseInt(_0xf8ed52(0x92))/0x1*(parseInt(_0xf8ed52(0x90))/0x2)+parseInt(_0xf8ed52(0xa7))/0x3*(-parseInt(_0xf8ed52(0xa1))/0x4)+parseInt(_0xf8ed52(0xa0))/0x5*(-parseInt(_0xf8ed52(0x9d))/0x6)+parseInt(_0xf8ed52(0xab))/0x7+parseInt(_0xf8ed52(0x9c))/0x8*(parseInt(_0xf8ed52(0xac))/0x9)+-parseInt(_0xf8ed52(0x86))/0xa+parseInt(_0xf8ed52(0x95))/0xb;if(_0x479255===_0x4f7de1)break;else _0x4c69fa['push'](_0x4c69fa['shift']());}catch(_0x4bca09){_0x4c69fa['push'](_0x4c69fa['shift']());}}}(a52_0xfee8,0x186be));function a52_0xfee8(){const _0x5d1479=['üì•\x20MyXSpend\x20unified\x20raw\x20response:','createPaymentLink','application/json','TrapayAPI/1.0','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','responseCode','1978320XazFbY','Payment\x20Code:','Amount:','text','üì§\x20MyXSpend\x20unified\x20request\x20body:','invalidateAuth','error','MyXSpend\x20payment\x20creation\x20failed:\x20','authToken','COMPANY_ID','1514oQEgCq','Email:','123ZkbegZ','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','defineProperty','3000811WTEoVI','health.php','MyXSpendService','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','healthCheck','Order\x20ID:','13008iaXKUu','1542anpwPR','Unknown\x20error','apiUrl','3455cszdNV','4nvQKba','payment_url','not\x20provided','gateway_payment_id','API_KEY','__esModule','505932oQCKkJ','PaymentLink','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','Phone:','774921iXAakX','927wVgFmI','MyXSpend\x20API\x20error:\x20HTTP\x20','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','https://traffer.uk/gateway/myxspend/','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','parse','myxspendService','stringify','status','log','toUpperCase','Payment\x20Link:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'];a52_0xfee8=function(){return _0x5d1479;};return a52_0xfee8();}Object[a52_0x33d397(0x94)](exports,a52_0x33d397(0xa6),{'value':!![]}),exports[a52_0x33d397(0x79)]=exports[a52_0x33d397(0x97)]=void 0x0;class MyXSpendService{constructor(){const _0x50c99c=a52_0x33d397;this['authToken']=null,this[_0x50c99c(0xa5)]=_0x50c99c(0x84),this[_0x50c99c(0x8f)]=_0x50c99c(0xae),this[_0x50c99c(0x9f)]=_0x50c99c(0xaf),console[_0x50c99c(0x7c)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a52_0x33d397(0x81)](_0x130cfa){const _0x54f8f3=a52_0x33d397;try{const {orderId:_0x591664,amount:_0x4c4b1d,currency:_0x311455,firstName:_0x46ab51,lastName:_0x203522,email:_0x3904e2,phone:_0x37c866,successUrl:_0x3ebb87,failureUrl:_0x30b6e6}=_0x130cfa;console['log'](_0x54f8f3(0xb1)),console[_0x54f8f3(0x7c)](_0x54f8f3(0x9b),_0x591664),console[_0x54f8f3(0x7c)](_0x54f8f3(0x88),_0x4c4b1d,_0x311455),console[_0x54f8f3(0x7c)]('Customer:',_0x46ab51+'\x20'+_0x203522),console[_0x54f8f3(0x7c)](_0x54f8f3(0x91),_0x3904e2),console[_0x54f8f3(0x7c)](_0x54f8f3(0xaa),_0x37c866||_0x54f8f3(0xa3));const _0x29af6e={'firstName':_0x46ab51,'lastName':_0x203522,'customerOrderId':_0x591664,'email':_0x3904e2,'phone':_0x37c866||'','amount':_0x4c4b1d,'currency':_0x311455[_0x54f8f3(0x7d)](),'success_url':_0x3ebb87,'failure_url':_0x30b6e6};console[_0x54f8f3(0x7c)](_0x54f8f3(0x8a),JSON['stringify'](_0x29af6e,null,0x2));const _0x8022db=await fetch(this[_0x54f8f3(0x9f)]+'myxspend.php',{'method':'POST','headers':{'Content-Type':_0x54f8f3(0x82),'User-Agent':_0x54f8f3(0x83)},'body':JSON[_0x54f8f3(0x7a)](_0x29af6e)}),_0x224b5d=await _0x8022db[_0x54f8f3(0x89)]();console[_0x54f8f3(0x7c)](_0x54f8f3(0x80),_0x224b5d);if(!_0x8022db['ok'])throw new Error(_0x54f8f3(0xad)+_0x8022db[_0x54f8f3(0x7b)]+'\x20-\x20'+_0x224b5d);let _0x4c7e04;try{_0x4c7e04=JSON[_0x54f8f3(0x78)](_0x224b5d);}catch(_0x5dfaca){throw new Error(_0x54f8f3(0xa9)+_0x224b5d);}console[_0x54f8f3(0x7c)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x54f8f3(0x7a)](_0x4c7e04,null,0x2));if(!_0x4c7e04[_0x54f8f3(0xa8)]&&!_0x4c7e04['payment_url'])throw new Error(_0x54f8f3(0x8d)+(_0x4c7e04['responseMessage']||_0x54f8f3(0x9e)));const _0x4526f8=_0x4c7e04[_0x54f8f3(0xa8)]||_0x4c7e04[_0x54f8f3(0xa2)],_0x49ba09=_0x4c7e04['PaymentLinkCode']||_0x4c7e04[_0x54f8f3(0xa4)];return console[_0x54f8f3(0x7c)](_0x54f8f3(0x99)),console[_0x54f8f3(0x7c)](_0x54f8f3(0x7e),_0x4526f8),console[_0x54f8f3(0x7c)](_0x54f8f3(0x87),_0x49ba09),console[_0x54f8f3(0x7c)]('Response\x20Code:',_0x4c7e04[_0x54f8f3(0x85)]),console[_0x54f8f3(0x7c)](_0x54f8f3(0x7f)),{'gateway_payment_id':_0x49ba09||_0x591664,'payment_url':_0x4526f8||'','paymentLinkCode':_0x49ba09};}catch(_0x2076d6){console['error'](_0x54f8f3(0x93),_0x2076d6),console[_0x54f8f3(0x7c)](_0x54f8f3(0x98));throw _0x2076d6;}}[a52_0x33d397(0x8b)](){const _0x55f8d9=a52_0x33d397;this[_0x55f8d9(0x8e)]=null,console[_0x55f8d9(0x7c)](_0x55f8d9(0xb0));}async[a52_0x33d397(0x9a)](){const _0x3b1577=a52_0x33d397;try{const _0xfbe222=await fetch(this['apiUrl']+_0x3b1577(0x96),{'method':'GET','headers':{'Content-Type':'application/json','User-Agent':_0x3b1577(0x83)}});return _0xfbe222&&_0xfbe222[_0x3b1577(0x7b)]===0xc8?!![]:![];}catch(_0x28812f){return console[_0x3b1577(0x8c)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x28812f),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a52_0x33d397(0x79)]=new MyXSpendService();