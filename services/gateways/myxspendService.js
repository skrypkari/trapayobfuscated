'use strict';const a52_0xd4fce9=a52_0x1758;(function(_0x4c82bf,_0x1ba06e){const _0x464089=a52_0x1758,_0x2bf932=_0x4c82bf();while(!![]){try{const _0x5490ce=-parseInt(_0x464089(0x1a9))/0x1+-parseInt(_0x464089(0x18b))/0x2+-parseInt(_0x464089(0x1a5))/0x3+parseInt(_0x464089(0x1b8))/0x4*(parseInt(_0x464089(0x1b4))/0x5)+-parseInt(_0x464089(0x1b3))/0x6+parseInt(_0x464089(0x1b6))/0x7+parseInt(_0x464089(0x1a2))/0x8*(parseInt(_0x464089(0x199))/0x9);if(_0x5490ce===_0x1ba06e)break;else _0x2bf932['push'](_0x2bf932['shift']());}catch(_0x1f382c){_0x2bf932['push'](_0x2bf932['shift']());}}}(a52_0x493e,0x43e51));function a52_0x1758(_0x45f25f,_0x111266){const _0x493e90=a52_0x493e();return a52_0x1758=function(_0x1758a5,_0x54353d){_0x1758a5=_0x1758a5-0x186;let _0x294715=_0x493e90[_0x1758a5];return _0x294715;},a52_0x1758(_0x45f25f,_0x111266);}Object[a52_0xd4fce9(0x197)](exports,'__esModule',{'value':!![]}),exports[a52_0xd4fce9(0x1ab)]=exports[a52_0xd4fce9(0x1a6)]=void 0x0;function a52_0x493e(){const _0x3c3047=['responseMessage','responseCode','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','createPaymentLink','PaymentLink','Phone:','log','üìä\x20MyXSpend\x20unified\x20response\x20data:','PaymentLinkCode','TrapayAPI/1.0','defineProperty','Email:','63Zzbjcj','apiUrl','parse','Order\x20ID:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','authToken','payment_url','Customer:','not\x20provided','708776XVQPUp','MyXSpend\x20API\x20error:\x20HTTP\x20','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','420897iREvpi','MyXSpendService','text','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','300147FyhwXz','status','myxspendService','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','POST','MyXSpend\x20payment\x20creation\x20failed:\x20','healthCheck','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','application/json','Amount:','1726020BolTpL','7045ntMsPN','\x20-\x20','3588375BtMzcI','COMPANY_ID','1172gDwpXV','GET','toUpperCase','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','error','https://traffer.uk/gateway/myxspend/','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','invalidateAuth','stringify','üì•\x20MyXSpend\x20unified\x20raw\x20response:','1078856dHebef','myxspend.php'];a52_0x493e=function(){return _0x3c3047;};return a52_0x493e();}class MyXSpendService{constructor(){const _0x8ba90e=a52_0xd4fce9;this[_0x8ba90e(0x19e)]=null,this['API_KEY']=_0x8ba90e(0x18f),this[_0x8ba90e(0x1b7)]=_0x8ba90e(0x1a8),this[_0x8ba90e(0x19a)]=_0x8ba90e(0x186),console[_0x8ba90e(0x193)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a52_0xd4fce9(0x190)](_0x2773e2){const _0x5ee0f3=a52_0xd4fce9;try{const {orderId:_0x26ac5d,amount:_0x3ab1d0,currency:_0x1b97c2,firstName:_0x3c781b,lastName:_0x246fdb,email:_0x3b9026,phone:_0x3c94f0,successUrl:_0x130129,failureUrl:_0x54b096}=_0x2773e2;console[_0x5ee0f3(0x193)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x19c),_0x26ac5d),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x1b2),_0x3ab1d0,_0x1b97c2),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x1a0),_0x3c781b+'\x20'+_0x246fdb),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x198),_0x3b9026),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x192),_0x3c94f0||_0x5ee0f3(0x1a1));const _0x24cb0d={'firstName':_0x3c781b,'lastName':_0x246fdb,'customerOrderId':_0x26ac5d,'email':_0x3b9026,'phone':_0x3c94f0||'','amount':_0x3ab1d0,'currency':_0x1b97c2[_0x5ee0f3(0x1ba)](),'success_url':_0x130129,'failure_url':_0x54b096};console[_0x5ee0f3(0x193)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x5ee0f3(0x189)](_0x24cb0d,null,0x2));const _0x43d39d=await fetch(this[_0x5ee0f3(0x19a)]+_0x5ee0f3(0x18c),{'method':_0x5ee0f3(0x1ad),'headers':{'Content-Type':_0x5ee0f3(0x1b1),'User-Agent':_0x5ee0f3(0x196)},'body':JSON[_0x5ee0f3(0x189)](_0x24cb0d)}),_0x84b219=await _0x43d39d[_0x5ee0f3(0x1a7)]();console['log'](_0x5ee0f3(0x18a),_0x84b219);if(!_0x43d39d['ok'])throw new Error(_0x5ee0f3(0x1a3)+_0x43d39d['status']+_0x5ee0f3(0x1b5)+_0x84b219);let _0x56a823;try{_0x56a823=JSON[_0x5ee0f3(0x19b)](_0x84b219);}catch(_0x4dc830){throw new Error(_0x5ee0f3(0x1b0)+_0x84b219);}console['log'](_0x5ee0f3(0x194),JSON[_0x5ee0f3(0x189)](_0x56a823,null,0x2));if(!_0x56a823[_0x5ee0f3(0x191)]&&!_0x56a823[_0x5ee0f3(0x19f)])throw new Error(_0x5ee0f3(0x1ae)+(_0x56a823[_0x5ee0f3(0x18d)]||'Unknown\x20error'));const _0x4ea074=_0x56a823['PaymentLink']||_0x56a823['payment_url'],_0x21aa5e=_0x56a823[_0x5ee0f3(0x195)]||_0x56a823['gateway_payment_id'];return console[_0x5ee0f3(0x193)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console['log']('Payment\x20Link:',_0x4ea074),console[_0x5ee0f3(0x193)]('Payment\x20Code:',_0x21aa5e),console[_0x5ee0f3(0x193)]('Response\x20Code:',_0x56a823[_0x5ee0f3(0x18e)]),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x1ac)),{'gateway_payment_id':_0x21aa5e||_0x26ac5d,'payment_url':_0x4ea074||'','paymentLinkCode':_0x21aa5e};}catch(_0x2a13bd){console[_0x5ee0f3(0x1bc)](_0x5ee0f3(0x1a4),_0x2a13bd),console[_0x5ee0f3(0x193)](_0x5ee0f3(0x1bb));throw _0x2a13bd;}}[a52_0xd4fce9(0x188)](){const _0xee75ab=a52_0xd4fce9;this[_0xee75ab(0x19e)]=null,console['log'](_0xee75ab(0x187));}async[a52_0xd4fce9(0x1af)](){const _0x5a802f=a52_0xd4fce9;try{const _0x477736=await fetch(this[_0x5a802f(0x19a)]+'health.php',{'method':_0x5a802f(0x1b9),'headers':{'Content-Type':_0x5a802f(0x1b1),'User-Agent':_0x5a802f(0x196)}});return _0x477736&&_0x477736[_0x5a802f(0x1aa)]===0xc8?!![]:![];}catch(_0x235567){return console[_0x5a802f(0x1bc)](_0x5a802f(0x19d),_0x235567),![];}}}exports[a52_0xd4fce9(0x1a6)]=MyXSpendService,exports[a52_0xd4fce9(0x1ab)]=new MyXSpendService();