'use strict';function a59_0x4b9d(_0xbae6a2,_0x490334){_0xbae6a2=_0xbae6a2-0x8b;const _0x3fd836=a59_0x3fd8();let _0x4b9da3=_0x3fd836[_0xbae6a2];return _0x4b9da3;}const a59_0x5e0c1a=a59_0x4b9d;(function(_0x221079,_0x4ac285){const _0x4c7b4d=a59_0x4b9d,_0x558419=_0x221079();while(!![]){try{const _0x32f1f8=-parseInt(_0x4c7b4d(0x9b))/0x1*(parseInt(_0x4c7b4d(0xb8))/0x2)+parseInt(_0x4c7b4d(0xb9))/0x3*(-parseInt(_0x4c7b4d(0xaf))/0x4)+-parseInt(_0x4c7b4d(0xa2))/0x5+-parseInt(_0x4c7b4d(0x99))/0x6+-parseInt(_0x4c7b4d(0xa3))/0x7*(-parseInt(_0x4c7b4d(0x8f))/0x8)+-parseInt(_0x4c7b4d(0xb7))/0x9*(-parseInt(_0x4c7b4d(0xae))/0xa)+-parseInt(_0x4c7b4d(0xad))/0xb*(-parseInt(_0x4c7b4d(0xc1))/0xc);if(_0x32f1f8===_0x4ac285)break;else _0x558419['push'](_0x558419['shift']());}catch(_0x596636){_0x558419['push'](_0x558419['shift']());}}}(a59_0x3fd8,0xb0889));function a59_0x3fd8(){const _0x1ebc5f=['üì•\x20MyXSpend\x20unified\x20raw\x20response:','12KzazVh','stringify','log','myxspend.php','Payment\x20Code:','Response\x20Code:','\x20-\x20','215576HmWnGp','responseCode','invalidateAuth','healthCheck','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','PaymentLink','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','toUpperCase','defineProperty','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','2372310rkWkkt','API_KEY','522961jPelER','error','responseMessage','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','authToken','status','Payment\x20Link:','2026405AIlrqL','217aZxTcb','Order\x20ID:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','MyXSpend\x20payment\x20creation\x20failed:\x20','application/json','https://traffer.uk/gateway/myxspend/','text','gateway_payment_id','createPaymentLink','Amount:','12907873MPgjJC','430QYTDGE','16lJPNHI','not\x20provided','payment_url','MyXSpend\x20API\x20error:\x20HTTP\x20','GET','myxspendService','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','MyXSpendService','130347KJgqSV','4EsYolj','46425fXCeyp','apiUrl','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','TrapayAPI/1.0','üì§\x20MyXSpend\x20unified\x20request\x20body:','__esModule','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'];a59_0x3fd8=function(){return _0x1ebc5f;};return a59_0x3fd8();}Object[a59_0x5e0c1a(0x97)](exports,a59_0x5e0c1a(0xbe),{'value':!![]}),exports[a59_0x5e0c1a(0xb4)]=exports[a59_0x5e0c1a(0xb6)]=void 0x0;class MyXSpendService{constructor(){const _0x4b9b07=a59_0x5e0c1a;this[_0x4b9b07(0x9f)]=null,this[_0x4b9b07(0x9a)]=_0x4b9b07(0xb5),this['COMPANY_ID']='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x4b9b07(0xba)]=_0x4b9b07(0xa8),console['log'](_0x4b9b07(0x9e));}async[a59_0x5e0c1a(0xab)](_0x43a741){const _0x3729df=a59_0x5e0c1a;try{const {orderId:_0x2c7a15,amount:_0x2ea8d4,currency:_0x5bd7ec,firstName:_0xbaf31a,lastName:_0x3b3940,email:_0x25a6d9,phone:_0x5d8a6d,successUrl:_0xa0a0c5,failureUrl:_0x34950c}=_0x43a741;console[_0x3729df(0xc3)](_0x3729df(0x98)),console[_0x3729df(0xc3)](_0x3729df(0xa4),_0x2c7a15),console[_0x3729df(0xc3)](_0x3729df(0xac),_0x2ea8d4,_0x5bd7ec),console[_0x3729df(0xc3)]('Customer:',_0xbaf31a+'\x20'+_0x3b3940),console[_0x3729df(0xc3)]('Email:',_0x25a6d9),console[_0x3729df(0xc3)]('Phone:',_0x5d8a6d||_0x3729df(0xb0));const _0x19e1da={'firstName':_0xbaf31a,'lastName':_0x3b3940,'customerOrderId':_0x2c7a15,'email':_0x25a6d9,'phone':_0x5d8a6d||'','amount':_0x2ea8d4,'currency':_0x5bd7ec[_0x3729df(0x96)](),'success_url':_0xa0a0c5,'failure_url':_0x34950c};console[_0x3729df(0xc3)](_0x3729df(0xbd),JSON['stringify'](_0x19e1da,null,0x2));const _0xc917fa=await fetch(this[_0x3729df(0xba)]+_0x3729df(0x8b),{'method':'POST','headers':{'Content-Type':_0x3729df(0xa7),'User-Agent':_0x3729df(0xbc)},'body':JSON[_0x3729df(0xc2)](_0x19e1da)}),_0x44757e=await _0xc917fa[_0x3729df(0xa9)]();console[_0x3729df(0xc3)](_0x3729df(0xc0),_0x44757e);if(!_0xc917fa['ok'])throw new Error(_0x3729df(0xb2)+_0xc917fa['status']+_0x3729df(0x8e)+_0x44757e);let _0xe2c739;try{_0xe2c739=JSON['parse'](_0x44757e);}catch(_0x6d2a0c){throw new Error(_0x3729df(0xbf)+_0x44757e);}console[_0x3729df(0xc3)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x3729df(0xc2)](_0xe2c739,null,0x2));if(!_0xe2c739[_0x3729df(0x94)]&&!_0xe2c739[_0x3729df(0xb1)])throw new Error(_0x3729df(0xa6)+(_0xe2c739[_0x3729df(0x9d)]||'Unknown\x20error'));const _0xe3963d=_0xe2c739[_0x3729df(0x94)]||_0xe2c739['payment_url'],_0x4c476b=_0xe2c739['PaymentLinkCode']||_0xe2c739[_0x3729df(0xaa)];return console[_0x3729df(0xc3)](_0x3729df(0x95)),console[_0x3729df(0xc3)](_0x3729df(0xa1),_0xe3963d),console[_0x3729df(0xc3)](_0x3729df(0x8c),_0x4c476b),console[_0x3729df(0xc3)](_0x3729df(0x8d),_0xe2c739[_0x3729df(0x90)]),console[_0x3729df(0xc3)](_0x3729df(0xa5)),{'gateway_payment_id':_0x4c476b||_0x2c7a15,'payment_url':_0xe3963d||'','paymentLinkCode':_0x4c476b};}catch(_0x37ba8a){console[_0x3729df(0x9c)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x37ba8a),console['log'](_0x3729df(0x93));throw _0x37ba8a;}}[a59_0x5e0c1a(0x91)](){const _0x4329c3=a59_0x5e0c1a;this[_0x4329c3(0x9f)]=null,console[_0x4329c3(0xc3)]('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a59_0x5e0c1a(0x92)](){const _0x3822a5=a59_0x5e0c1a;try{const _0x4dcaa1=await fetch(this[_0x3822a5(0xba)]+'health.php',{'method':_0x3822a5(0xb3),'headers':{'Content-Type':_0x3822a5(0xa7),'User-Agent':_0x3822a5(0xbc)}});return _0x4dcaa1&&_0x4dcaa1[_0x3822a5(0xa0)]===0xc8?!![]:![];}catch(_0x1613d1){return console[_0x3822a5(0x9c)](_0x3822a5(0xbb),_0x1613d1),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a59_0x5e0c1a(0xb4)]=new MyXSpendService();