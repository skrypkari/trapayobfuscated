'use strict';const a70_0x2652dd=a70_0x1935;function a70_0x1935(_0xfa33b2,_0x4b91e3){_0xfa33b2=_0xfa33b2-0x84;const _0x379d4b=a70_0x379d();let _0x1935f3=_0x379d4b[_0xfa33b2];return _0x1935f3;}(function(_0x66889b,_0x4cef50){const _0x531823=a70_0x1935,_0x16e82d=_0x66889b();while(!![]){try{const _0x1f781f=parseInt(_0x531823(0x87))/0x1+-parseInt(_0x531823(0x9f))/0x2+parseInt(_0x531823(0xa2))/0x3+parseInt(_0x531823(0xa7))/0x4*(-parseInt(_0x531823(0x8c))/0x5)+-parseInt(_0x531823(0x85))/0x6+parseInt(_0x531823(0xa3))/0x7+parseInt(_0x531823(0xaf))/0x8;if(_0x1f781f===_0x4cef50)break;else _0x16e82d['push'](_0x16e82d['shift']());}catch(_0x663ec4){_0x16e82d['push'](_0x16e82d['shift']());}}}(a70_0x379d,0x8a984));Object[a70_0x2652dd(0xb4)](exports,a70_0x2652dd(0x99),{'value':!![]}),exports['myxspendService']=exports[a70_0x2652dd(0x92)]=void 0x0;class MyXSpendService{constructor(){const _0x3a365d=a70_0x2652dd;this['authToken']=null,this[_0x3a365d(0xb3)]=_0x3a365d(0x97),this[_0x3a365d(0xab)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x3a365d(0x9d)]=_0x3a365d(0x89),console[_0x3a365d(0xa8)](_0x3a365d(0x8b));}async[a70_0x2652dd(0xa9)](_0x7148e9){const _0x51abdc=a70_0x2652dd;try{const {orderId:_0x3b5768,amount:_0x3b1ea0,currency:_0x4e2808,firstName:_0x451de3,lastName:_0x25de61,email:_0x5ac6ce,phone:_0x2714ae,successUrl:_0x45c5e1,failureUrl:_0x47ca51}=_0x7148e9;console['log'](_0x51abdc(0x91)),console[_0x51abdc(0xa8)]('Order\x20ID:',_0x3b5768),console['log'](_0x51abdc(0x84),_0x3b1ea0,_0x4e2808),console[_0x51abdc(0xa8)]('Customer:',_0x451de3+'\x20'+_0x25de61),console[_0x51abdc(0xa8)]('Email:',_0x5ac6ce),console['log'](_0x51abdc(0x9b),_0x2714ae||_0x51abdc(0x9c));const _0x1bfabe={'firstName':_0x451de3,'lastName':_0x25de61,'customerOrderId':_0x3b5768,'email':_0x5ac6ce,'phone':_0x2714ae||'','amount':_0x3b1ea0,'currency':_0x4e2808['toUpperCase'](),'success_url':_0x45c5e1,'failure_url':_0x47ca51};console[_0x51abdc(0xa8)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON['stringify'](_0x1bfabe,null,0x2));const _0x56890f=await fetch(this[_0x51abdc(0x9d)]+'myxspend.php',{'method':_0x51abdc(0x88),'headers':{'Content-Type':_0x51abdc(0x9a),'User-Agent':_0x51abdc(0xa4)},'body':JSON[_0x51abdc(0x8f)](_0x1bfabe)}),_0x5b94d7=await _0x56890f['text']();console['log'](_0x51abdc(0xa5),_0x5b94d7);if(!_0x56890f['ok'])throw new Error(_0x51abdc(0xaa)+_0x56890f[_0x51abdc(0x90)]+_0x51abdc(0x8d)+_0x5b94d7);let _0x41a924;try{_0x41a924=JSON[_0x51abdc(0xa1)](_0x5b94d7);}catch(_0x4b286f){throw new Error(_0x51abdc(0xa0)+_0x5b94d7);}console['log'](_0x51abdc(0x96),JSON['stringify'](_0x41a924,null,0x2));if(!_0x41a924[_0x51abdc(0x86)]&&!_0x41a924[_0x51abdc(0x8e)])throw new Error(_0x51abdc(0xac)+(_0x41a924[_0x51abdc(0xb1)]||'Unknown\x20error'));const _0x108ac4=_0x41a924['PaymentLink']||_0x41a924[_0x51abdc(0x8e)],_0x54f6a1=_0x41a924[_0x51abdc(0xb2)]||_0x41a924['gateway_payment_id'];return console[_0x51abdc(0xa8)](_0x51abdc(0x93)),console[_0x51abdc(0xa8)]('Payment\x20Link:',_0x108ac4),console[_0x51abdc(0xa8)]('Payment\x20Code:',_0x54f6a1),console[_0x51abdc(0xa8)](_0x51abdc(0xb0),_0x41a924['responseCode']),console[_0x51abdc(0xa8)](_0x51abdc(0xb6)),{'gateway_payment_id':_0x54f6a1||_0x3b5768,'payment_url':_0x108ac4||'','paymentLinkCode':_0x54f6a1};}catch(_0x26ddc5){console[_0x51abdc(0x9e)](_0x51abdc(0x94),_0x26ddc5),console['log'](_0x51abdc(0xb7));throw _0x26ddc5;}}[a70_0x2652dd(0xae)](){const _0x26fbc4=a70_0x2652dd;this[_0x26fbc4(0x95)]=null,console[_0x26fbc4(0xa8)](_0x26fbc4(0x8a));}async[a70_0x2652dd(0xa6)](){const _0xe8769c=a70_0x2652dd;try{const _0x353ecd=await fetch(this[_0xe8769c(0x9d)]+_0xe8769c(0xad),{'method':_0xe8769c(0x98),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'}});return _0x353ecd&&_0x353ecd[_0xe8769c(0x90)]===0xc8?!![]:![];}catch(_0x2373df){return console[_0xe8769c(0x9e)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x2373df),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a70_0x2652dd(0xb5)]=new MyXSpendService();function a70_0x379d(){const _0x5389cb=['authToken','üìä\x20MyXSpend\x20unified\x20response\x20data:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','GET','__esModule','application/json','Phone:','not\x20provided','apiUrl','error','1359784qUEHQr','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','parse','2371719JqYppx','7207410waveTd','TrapayAPI/1.0','üì•\x20MyXSpend\x20unified\x20raw\x20response:','healthCheck','1177208XOZptF','log','createPaymentLink','MyXSpend\x20API\x20error:\x20HTTP\x20','COMPANY_ID','MyXSpend\x20payment\x20creation\x20failed:\x20','health.php','invalidateAuth','2032632ONuuEz','Response\x20Code:','responseMessage','PaymentLinkCode','API_KEY','defineProperty','myxspendService','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Amount:','2567220OJgtCl','PaymentLink','484070gNxYSo','POST','https://traffer.uk/gateway/myxspend/','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','15rPxWsQ','\x20-\x20','payment_url','stringify','status','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','MyXSpendService','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:'];a70_0x379d=function(){return _0x5389cb;};return a70_0x379d();}