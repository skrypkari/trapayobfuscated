'use strict';const a49_0x14a006=a49_0x56b3;(function(_0x1121f1,_0x2f3113){const _0x314e89=a49_0x56b3,_0x470878=_0x1121f1();while(!![]){try{const _0x1bf8a6=parseInt(_0x314e89(0x88))/0x1*(-parseInt(_0x314e89(0x73))/0x2)+parseInt(_0x314e89(0x97))/0x3*(parseInt(_0x314e89(0x74))/0x4)+parseInt(_0x314e89(0x86))/0x5+parseInt(_0x314e89(0x7c))/0x6*(parseInt(_0x314e89(0x7e))/0x7)+-parseInt(_0x314e89(0x7d))/0x8*(parseInt(_0x314e89(0xa4))/0x9)+-parseInt(_0x314e89(0xa3))/0xa*(-parseInt(_0x314e89(0x96))/0xb)+parseInt(_0x314e89(0x78))/0xc*(parseInt(_0x314e89(0x6c))/0xd);if(_0x1bf8a6===_0x2f3113)break;else _0x470878['push'](_0x470878['shift']());}catch(_0x1bfd12){_0x470878['push'](_0x470878['shift']());}}}(a49_0x434c,0x23a0a));function a49_0x56b3(_0x263ad3,_0xc834f){const _0x434c49=a49_0x434c();return a49_0x56b3=function(_0x56b35c,_0x45704f){_0x56b35c=_0x56b35c-0x66;let _0x333ee8=_0x434c49[_0x56b35c];return _0x333ee8;},a49_0x56b3(_0x263ad3,_0xc834f);}function a49_0x434c(){const _0x556d57=['gateway_payment_id','myxspendService','2945449YqcRFJ','https://traffer.uk/gateway/myxspend/','\x20-\x20','parse','__esModule','defineProperty','log','14106KovrBh','76KatqNL','Unknown\x20error','Email:','GET','12nkHXRf','MyXSpendService','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','stringify','114eShKDp','1784XvHMll','11851qNDhtl','Phone:','COMPANY_ID','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üìä\x20MyXSpend\x20unified\x20response\x20data:','not\x20provided','invalidateAuth','MyXSpend\x20payment\x20creation\x20failed:\x20','660870TzFMfe','application/json','34xENrZT','Amount:','PaymentLink','health.php','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','API_KEY','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','TrapayAPI/1.0','Payment\x20Code:','üì§\x20MyXSpend\x20unified\x20request\x20body:','POST','authToken','error','myxspend.php','11aJFDyZ','25266rEdeZC','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','status','Customer:','responseCode','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','payment_url','PaymentLinkCode','healthCheck','responseMessage','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','apiUrl','796540pAVlod','9882qYUCrN','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','toUpperCase','MyXSpend\x20API\x20error:\x20HTTP\x20'];a49_0x434c=function(){return _0x556d57;};return a49_0x434c();}Object[a49_0x14a006(0x71)](exports,a49_0x14a006(0x70),{'value':!![]}),exports[a49_0x14a006(0x6b)]=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x2939e9=a49_0x14a006;this[_0x2939e9(0x93)]=null,this[_0x2939e9(0x8d)]=_0x2939e9(0x98),this[_0x2939e9(0x80)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x2939e9(0xa2)]=_0x2939e9(0x6d),console['log'](_0x2939e9(0x7a));}async['createPaymentLink'](_0x494c74){const _0x27165e=a49_0x14a006;try{const {orderId:_0x490c61,amount:_0xdd2a2d,currency:_0x15531a,firstName:_0x2b8151,lastName:_0x45d5dc,email:_0x139ca0,phone:_0x51b9aa,successUrl:_0x569878,failureUrl:_0x5fd3a4}=_0x494c74;console[_0x27165e(0x72)](_0x27165e(0x9c)),console[_0x27165e(0x72)]('Order\x20ID:',_0x490c61),console[_0x27165e(0x72)](_0x27165e(0x89),_0xdd2a2d,_0x15531a),console[_0x27165e(0x72)](_0x27165e(0x9a),_0x2b8151+'\x20'+_0x45d5dc),console['log'](_0x27165e(0x76),_0x139ca0),console[_0x27165e(0x72)](_0x27165e(0x7f),_0x51b9aa||_0x27165e(0x83));const _0x1bf6bc={'firstName':_0x2b8151,'lastName':_0x45d5dc,'customerOrderId':_0x490c61,'email':_0x139ca0,'phone':_0x51b9aa||'','amount':_0xdd2a2d,'currency':_0x15531a[_0x27165e(0x68)](),'success_url':_0x569878,'failure_url':_0x5fd3a4};console[_0x27165e(0x72)](_0x27165e(0x91),JSON[_0x27165e(0x7b)](_0x1bf6bc,null,0x2));const _0x5e2546=await fetch(this[_0x27165e(0xa2)]+_0x27165e(0x95),{'method':_0x27165e(0x92),'headers':{'Content-Type':_0x27165e(0x87),'User-Agent':_0x27165e(0x8f)},'body':JSON['stringify'](_0x1bf6bc)}),_0x1446a5=await _0x5e2546['text']();console[_0x27165e(0x72)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0x1446a5);if(!_0x5e2546['ok'])throw new Error(_0x27165e(0x69)+_0x5e2546[_0x27165e(0x99)]+_0x27165e(0x6e)+_0x1446a5);let _0x5f56f0;try{_0x5f56f0=JSON[_0x27165e(0x6f)](_0x1446a5);}catch(_0x345bc4){throw new Error(_0x27165e(0xa1)+_0x1446a5);}console[_0x27165e(0x72)](_0x27165e(0x82),JSON[_0x27165e(0x7b)](_0x5f56f0,null,0x2));if(!_0x5f56f0[_0x27165e(0x8a)]&&!_0x5f56f0[_0x27165e(0x9d)])throw new Error(_0x27165e(0x85)+(_0x5f56f0[_0x27165e(0xa0)]||_0x27165e(0x75)));const _0x36fdf8=_0x5f56f0['PaymentLink']||_0x5f56f0[_0x27165e(0x9d)],_0x4819be=_0x5f56f0[_0x27165e(0x9e)]||_0x5f56f0[_0x27165e(0x6a)];return console[_0x27165e(0x72)](_0x27165e(0x8e)),console[_0x27165e(0x72)]('Payment\x20Link:',_0x36fdf8),console[_0x27165e(0x72)](_0x27165e(0x90),_0x4819be),console[_0x27165e(0x72)]('Response\x20Code:',_0x5f56f0[_0x27165e(0x9b)]),console[_0x27165e(0x72)](_0x27165e(0x67)),{'gateway_payment_id':_0x4819be||_0x490c61,'payment_url':_0x36fdf8||'','paymentLinkCode':_0x4819be};}catch(_0x842fab){console[_0x27165e(0x94)](_0x27165e(0x8c),_0x842fab),console[_0x27165e(0x72)](_0x27165e(0x66));throw _0x842fab;}}[a49_0x14a006(0x84)](){const _0x17a50d=a49_0x14a006;this[_0x17a50d(0x93)]=null,console[_0x17a50d(0x72)](_0x17a50d(0x81));}async[a49_0x14a006(0x9f)](){const _0x37cb8f=a49_0x14a006;try{const _0x4c00d6=await fetch(this[_0x37cb8f(0xa2)]+_0x37cb8f(0x8b),{'method':_0x37cb8f(0x77),'headers':{'Content-Type':_0x37cb8f(0x87),'User-Agent':'TrapayAPI/1.0'}});return _0x4c00d6&&_0x4c00d6['status']===0xc8?!![]:![];}catch(_0x334bf1){return console[_0x37cb8f(0x94)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x334bf1),![];}}}exports[a49_0x14a006(0x79)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();