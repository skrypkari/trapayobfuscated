'use strict';const a49_0x562fb1=a49_0x5b06;function a49_0x48f9(){const _0x134149=['‚ùå\x20MyXSpend\x20health\x20check\x20failed:','application/json','responseMessage','authToken','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','stringify','701VitwSp','https://traffer.uk/gateway/myxspend/','\x20-\x20','2882CpvWxe','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','createPaymentLink','üìä\x20MyXSpend\x20unified\x20response\x20data:','gateway_payment_id','Payment\x20Code:','defineProperty','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','2AjsQDt','üì§\x20MyXSpend\x20unified\x20request\x20body:','Amount:','COMPANY_ID','not\x20provided','log','3521288cjpEDx','payment_url','MyXSpend\x20payment\x20creation\x20failed:\x20','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','54772gFNEBh','1523545hwCclm','128676qKqwfq','18NdFNrE','health.php','error','Email:','MyXSpend\x20API\x20error:\x20HTTP\x20','PaymentLink','Response\x20Code:','myxspendService','2842128XqzOIz','POST','invalidateAuth','28ohZdNz','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','apiUrl','üì•\x20MyXSpend\x20unified\x20raw\x20response:','API_KEY','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','87QpKHRF','2595130DxeTlr','status','Phone:','myxspend.php','MyXSpendService','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','healthCheck','Unknown\x20error','PaymentLinkCode','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','TrapayAPI/1.0'];a49_0x48f9=function(){return _0x134149;};return a49_0x48f9();}(function(_0x7f2f0b,_0x56325c){const _0x13a24d=a49_0x5b06,_0x294cac=_0x7f2f0b();while(!![]){try{const _0x6a0820=parseInt(_0x13a24d(0xd5))/0x1*(parseInt(_0x13a24d(0xe0))/0x2)+parseInt(_0x13a24d(0xfe))/0x3*(-parseInt(_0x13a24d(0xea))/0x4)+parseInt(_0x13a24d(0xeb))/0x5+parseInt(_0x13a24d(0xf5))/0x6+-parseInt(_0x13a24d(0xf8))/0x7*(parseInt(_0x13a24d(0xe6))/0x8)+parseInt(_0x13a24d(0xed))/0x9*(-parseInt(_0x13a24d(0xff))/0xa)+parseInt(_0x13a24d(0xd8))/0xb*(parseInt(_0x13a24d(0xec))/0xc);if(_0x6a0820===_0x56325c)break;else _0x294cac['push'](_0x294cac['shift']());}catch(_0x4e278e){_0x294cac['push'](_0x294cac['shift']());}}}(a49_0x48f9,0xde98d));Object[a49_0x562fb1(0xde)](exports,'__esModule',{'value':!![]}),exports[a49_0x562fb1(0xf4)]=exports[a49_0x562fb1(0xc7)]=void 0x0;class MyXSpendService{constructor(){const _0x5899c3=a49_0x562fb1;this['authToken']=null,this[_0x5899c3(0xfc)]=_0x5899c3(0xcc),this[_0x5899c3(0xe3)]=_0x5899c3(0xdf),this[_0x5899c3(0xfa)]=_0x5899c3(0xd6),console['log'](_0x5899c3(0xc8));}async[a49_0x562fb1(0xda)](_0x58322c){const _0xa23b75=a49_0x562fb1;try{const {orderId:_0x439461,amount:_0x135619,currency:_0xf4850c,firstName:_0x23657f,lastName:_0x5d9e4f,email:_0x520263,phone:_0x17e129,successUrl:_0x3b1d2e,failureUrl:_0x2f10e6}=_0x58322c;console['log'](_0xa23b75(0xd9)),console[_0xa23b75(0xe5)]('Order\x20ID:',_0x439461),console[_0xa23b75(0xe5)](_0xa23b75(0xe2),_0x135619,_0xf4850c),console[_0xa23b75(0xe5)]('Customer:',_0x23657f+'\x20'+_0x5d9e4f),console[_0xa23b75(0xe5)](_0xa23b75(0xf0),_0x520263),console[_0xa23b75(0xe5)](_0xa23b75(0x101),_0x17e129||_0xa23b75(0xe4));const _0x1b9544={'firstName':_0x23657f,'lastName':_0x5d9e4f,'customerOrderId':_0x439461,'email':_0x520263,'phone':_0x17e129||'','amount':_0x135619,'currency':_0xf4850c['toUpperCase'](),'success_url':_0x3b1d2e,'failure_url':_0x2f10e6};console['log'](_0xa23b75(0xe1),JSON[_0xa23b75(0xd4)](_0x1b9544,null,0x2));const _0x2b953b=await fetch(this[_0xa23b75(0xfa)]+_0xa23b75(0xc6),{'method':_0xa23b75(0xf6),'headers':{'Content-Type':_0xa23b75(0xcf),'User-Agent':_0xa23b75(0xcd)},'body':JSON[_0xa23b75(0xd4)](_0x1b9544)}),_0x533e2d=await _0x2b953b['text']();console[_0xa23b75(0xe5)](_0xa23b75(0xfb),_0x533e2d);if(!_0x2b953b['ok'])throw new Error(_0xa23b75(0xf1)+_0x2b953b[_0xa23b75(0x100)]+_0xa23b75(0xd7)+_0x533e2d);let _0x5d4a40;try{_0x5d4a40=JSON['parse'](_0x533e2d);}catch(_0x56d1d2){throw new Error(_0xa23b75(0xd2)+_0x533e2d);}console['log'](_0xa23b75(0xdb),JSON['stringify'](_0x5d4a40,null,0x2));if(!_0x5d4a40[_0xa23b75(0xf2)]&&!_0x5d4a40[_0xa23b75(0xe7)])throw new Error(_0xa23b75(0xe8)+(_0x5d4a40[_0xa23b75(0xd0)]||_0xa23b75(0xca)));const _0x383d7f=_0x5d4a40[_0xa23b75(0xf2)]||_0x5d4a40[_0xa23b75(0xe7)],_0xd07f94=_0x5d4a40[_0xa23b75(0xcb)]||_0x5d4a40[_0xa23b75(0xdc)];return console[_0xa23b75(0xe5)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console['log']('Payment\x20Link:',_0x383d7f),console[_0xa23b75(0xe5)](_0xa23b75(0xdd),_0xd07f94),console[_0xa23b75(0xe5)](_0xa23b75(0xf3),_0x5d4a40['responseCode']),console['log'](_0xa23b75(0xe9)),{'gateway_payment_id':_0xd07f94||_0x439461,'payment_url':_0x383d7f||'','paymentLinkCode':_0xd07f94};}catch(_0xf584fe){console[_0xa23b75(0xef)](_0xa23b75(0xfd),_0xf584fe),console[_0xa23b75(0xe5)](_0xa23b75(0xf9));throw _0xf584fe;}}[a49_0x562fb1(0xf7)](){const _0x5192aa=a49_0x562fb1;this[_0x5192aa(0xd1)]=null,console[_0x5192aa(0xe5)](_0x5192aa(0xd3));}async[a49_0x562fb1(0xc9)](){const _0x1c9aef=a49_0x562fb1;try{const _0x2ec648=await fetch(this[_0x1c9aef(0xfa)]+_0x1c9aef(0xee),{'method':'GET','headers':{'Content-Type':_0x1c9aef(0xcf),'User-Agent':'TrapayAPI/1.0'}});return _0x2ec648&&_0x2ec648[_0x1c9aef(0x100)]===0xc8?!![]:![];}catch(_0x4c4b28){return console[_0x1c9aef(0xef)](_0x1c9aef(0xce),_0x4c4b28),![];}}}function a49_0x5b06(_0x322dfe,_0x259101){const _0x48f9e0=a49_0x48f9();return a49_0x5b06=function(_0x5b0656,_0x3f5005){_0x5b0656=_0x5b0656-0xc6;let _0x2086c5=_0x48f9e0[_0x5b0656];return _0x2086c5;},a49_0x5b06(_0x322dfe,_0x259101);}exports[a49_0x562fb1(0xc7)]=MyXSpendService,exports[a49_0x562fb1(0xf4)]=new MyXSpendService();