'use strict';const a62_0x215bb6=a62_0x4145;(function(_0x34cf9b,_0x1bcec5){const _0x17e274=a62_0x4145,_0x325e2c=_0x34cf9b();while(!![]){try{const _0x41910c=parseInt(_0x17e274(0xba))/0x1+parseInt(_0x17e274(0x9c))/0x2*(parseInt(_0x17e274(0xab))/0x3)+parseInt(_0x17e274(0xc2))/0x4+-parseInt(_0x17e274(0xbc))/0x5+parseInt(_0x17e274(0x96))/0x6*(-parseInt(_0x17e274(0xa1))/0x7)+-parseInt(_0x17e274(0x94))/0x8*(parseInt(_0x17e274(0xb5))/0x9)+parseInt(_0x17e274(0xa5))/0xa;if(_0x41910c===_0x1bcec5)break;else _0x325e2c['push'](_0x325e2c['shift']());}catch(_0x58d8ec){_0x325e2c['push'](_0x325e2c['shift']());}}}(a62_0x2df6,0x49e3d));function a62_0x2df6(){const _0x807558=['MyXSpend\x20payment\x20creation\x20failed:\x20','12XwLmeo','https://traffer.uk/gateway/myxspend/','Phone:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','authToken','PaymentLink','3890DDRaMf','healthCheck','defineProperty','status','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','1700146DxHajn','POST','üìä\x20MyXSpend\x20unified\x20response\x20data:','MyXSpend\x20API\x20error:\x20HTTP\x20','4252540RYVhfd','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','üì§\x20MyXSpend\x20unified\x20request\x20body:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','log','myxspendService','669unsjrk','toUpperCase','Customer:','MyXSpendService','API_KEY','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','parse','stringify','\x20-\x20','invalidateAuth','9mfRySe','TrapayAPI/1.0','üì•\x20MyXSpend\x20unified\x20raw\x20response:','text','error','346711REaDli','Amount:','2196175wzlTob','Response\x20Code:','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','apiUrl','health.php','not\x20provided','855140EQzmuu','Unknown\x20error','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','payment_url','__esModule','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','1534728IlNsIZ'];a62_0x2df6=function(){return _0x807558;};return a62_0x2df6();}Object[a62_0x215bb6(0x9e)](exports,a62_0x215bb6(0xc6),{'value':!![]}),exports[a62_0x215bb6(0xaa)]=exports[a62_0x215bb6(0xae)]=void 0x0;function a62_0x4145(_0x4bf3d3,_0x51b390){_0x4bf3d3=_0x4bf3d3-0x94;const _0x2df675=a62_0x2df6();let _0x4145d4=_0x2df675[_0x4bf3d3];return _0x4145d4;}class MyXSpendService{constructor(){const _0x4fbfe3=a62_0x215bb6;this[_0x4fbfe3(0x9a)]=null,this[_0x4fbfe3(0xaf)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this['COMPANY_ID']=_0x4fbfe3(0xbe),this['apiUrl']=_0x4fbfe3(0x97),console[_0x4fbfe3(0xa9)](_0x4fbfe3(0xa6));}async['createPaymentLink'](_0xa31d06){const _0x2292fe=a62_0x215bb6;try{const {orderId:_0x4cb1de,amount:_0x290e82,currency:_0x410491,firstName:_0x57f276,lastName:_0xde346e,email:_0xe7351f,phone:_0x4441ab,successUrl:_0x2953d8,failureUrl:_0x21a120}=_0xa31d06;console[_0x2292fe(0xa9)](_0x2292fe(0xc4)),console['log']('Order\x20ID:',_0x4cb1de),console['log'](_0x2292fe(0xbb),_0x290e82,_0x410491),console[_0x2292fe(0xa9)](_0x2292fe(0xad),_0x57f276+'\x20'+_0xde346e),console[_0x2292fe(0xa9)]('Email:',_0xe7351f),console[_0x2292fe(0xa9)](_0x2292fe(0x98),_0x4441ab||_0x2292fe(0xc1));const _0x2da0ff={'firstName':_0x57f276,'lastName':_0xde346e,'customerOrderId':_0x4cb1de,'email':_0xe7351f,'phone':_0x4441ab||'','amount':_0x290e82,'currency':_0x410491[_0x2292fe(0xac)](),'success_url':_0x2953d8,'failure_url':_0x21a120};console[_0x2292fe(0xa9)](_0x2292fe(0xa7),JSON[_0x2292fe(0xb2)](_0x2da0ff,null,0x2));const _0x197bb2=await fetch(this['apiUrl']+'myxspend.php',{'method':_0x2292fe(0xa2),'headers':{'Content-Type':'application/json','User-Agent':_0x2292fe(0xb6)},'body':JSON[_0x2292fe(0xb2)](_0x2da0ff)}),_0x2762dc=await _0x197bb2[_0x2292fe(0xb8)]();console[_0x2292fe(0xa9)](_0x2292fe(0xb7),_0x2762dc);if(!_0x197bb2['ok'])throw new Error(_0x2292fe(0xa4)+_0x197bb2[_0x2292fe(0x9f)]+_0x2292fe(0xb3)+_0x2762dc);let _0x3a579f;try{_0x3a579f=JSON[_0x2292fe(0xb1)](_0x2762dc);}catch(_0x1a2a14){throw new Error(_0x2292fe(0xa8)+_0x2762dc);}console[_0x2292fe(0xa9)](_0x2292fe(0xa3),JSON[_0x2292fe(0xb2)](_0x3a579f,null,0x2));if(!_0x3a579f[_0x2292fe(0x9b)]&&!_0x3a579f['payment_url'])throw new Error(_0x2292fe(0x95)+(_0x3a579f['responseMessage']||_0x2292fe(0xc3)));const _0x5ce237=_0x3a579f[_0x2292fe(0x9b)]||_0x3a579f[_0x2292fe(0xc5)],_0x424564=_0x3a579f['PaymentLinkCode']||_0x3a579f['gateway_payment_id'];return console[_0x2292fe(0xa9)](_0x2292fe(0xb0)),console['log']('Payment\x20Link:',_0x5ce237),console[_0x2292fe(0xa9)]('Payment\x20Code:',_0x424564),console[_0x2292fe(0xa9)](_0x2292fe(0xbd),_0x3a579f['responseCode']),console[_0x2292fe(0xa9)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x424564||_0x4cb1de,'payment_url':_0x5ce237||'','paymentLinkCode':_0x424564};}catch(_0x10b9cd){console[_0x2292fe(0xb9)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x10b9cd),console[_0x2292fe(0xa9)](_0x2292fe(0xc7));throw _0x10b9cd;}}[a62_0x215bb6(0xb4)](){const _0x5410b7=a62_0x215bb6;this[_0x5410b7(0x9a)]=null,console[_0x5410b7(0xa9)](_0x5410b7(0xa0));}async[a62_0x215bb6(0x9d)](){const _0x36f8aa=a62_0x215bb6;try{const _0x2b9d9c=await fetch(this[_0x36f8aa(0xbf)]+_0x36f8aa(0xc0),{'method':'GET','headers':{'Content-Type':'application/json','User-Agent':_0x36f8aa(0xb6)}});return _0x2b9d9c&&_0x2b9d9c['status']===0xc8?!![]:![];}catch(_0x14631c){return console[_0x36f8aa(0xb9)](_0x36f8aa(0x99),_0x14631c),![];}}}exports[a62_0x215bb6(0xae)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();