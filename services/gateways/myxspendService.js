'use strict';const a50_0x511096=a50_0x5741;function a50_0x5741(_0x5d7d01,_0x98eb7d){const _0x67a336=a50_0x67a3();return a50_0x5741=function(_0x574156,_0xdad2fb){_0x574156=_0x574156-0x1cb;let _0x4b08d9=_0x67a336[_0x574156];return _0x4b08d9;},a50_0x5741(_0x5d7d01,_0x98eb7d);}(function(_0x5693b6,_0x42e851){const _0x1ed64f=a50_0x5741,_0x440e94=_0x5693b6();while(!![]){try{const _0x144469=-parseInt(_0x1ed64f(0x1dc))/0x1*(-parseInt(_0x1ed64f(0x1fc))/0x2)+-parseInt(_0x1ed64f(0x1e1))/0x3*(-parseInt(_0x1ed64f(0x1cb))/0x4)+parseInt(_0x1ed64f(0x1f2))/0x5*(-parseInt(_0x1ed64f(0x1f4))/0x6)+-parseInt(_0x1ed64f(0x1fb))/0x7+-parseInt(_0x1ed64f(0x1e4))/0x8+parseInt(_0x1ed64f(0x1cd))/0x9+parseInt(_0x1ed64f(0x1f0))/0xa;if(_0x144469===_0x42e851)break;else _0x440e94['push'](_0x440e94['shift']());}catch(_0x5c3d83){_0x440e94['push'](_0x440e94['shift']());}}}(a50_0x67a3,0xcf927));function a50_0x67a3(){const _0x36ef51=['Payment\x20Code:','not\x20provided','üì•\x20MyXSpend\x20unified\x20raw\x20response:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','GET','POST','14036840PEeGbf','defineProperty','4273790CzgBJY','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','6CcJHXH','authToken','__esModule','gateway_payment_id','status','Email:','Response\x20Code:','8880389bfkHFK','21806iFnrpe','MyXSpend\x20payment\x20creation\x20failed:\x20','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','Order\x20ID:','PaymentLinkCode','MyXSpend\x20API\x20error:\x20HTTP\x20','apiUrl','error','TrapayAPI/1.0','4TmsHMm','COMPANY_ID','5709483EHOILl','responseCode','\x20-\x20','MyXSpendService','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','text','Phone:','log','API_KEY','myxspend.php','application/json','payment_url','invalidateAuth','PaymentLink','healthCheck','29GZWGAC','createPaymentLink','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','stringify','Payment\x20Link:','2367852PJEgVY','health.php','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','1359536YGytHO','üì§\x20MyXSpend\x20unified\x20request\x20body:','Unknown\x20error','myxspendService','Customer:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...'];a50_0x67a3=function(){return _0x36ef51;};return a50_0x67a3();}Object[a50_0x511096(0x1f1)](exports,a50_0x511096(0x1f6),{'value':!![]}),exports[a50_0x511096(0x1e7)]=exports[a50_0x511096(0x1d0)]=void 0x0;class MyXSpendService{constructor(){const _0x3b5053=a50_0x511096;this['authToken']=null,this[_0x3b5053(0x1d5)]=_0x3b5053(0x1f3),this[_0x3b5053(0x1cc)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x3b5053(0x202)]='https://traffer.uk/gateway/myxspend/',console['log'](_0x3b5053(0x1e3));}async[a50_0x511096(0x1dd)](_0x58e5bf){const _0x1367ba=a50_0x511096;try{const {orderId:_0x314f83,amount:_0x2a1d78,currency:_0x1e051f,firstName:_0x16c6ab,lastName:_0x5a9df6,email:_0x275679,phone:_0x18a333,successUrl:_0x536f4a,failureUrl:_0x3c4ab8}=_0x58e5bf;console[_0x1367ba(0x1d4)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x1367ba(0x1d4)](_0x1367ba(0x1ff),_0x314f83),console[_0x1367ba(0x1d4)]('Amount:',_0x2a1d78,_0x1e051f),console['log'](_0x1367ba(0x1e8),_0x16c6ab+'\x20'+_0x5a9df6),console['log'](_0x1367ba(0x1f9),_0x275679),console['log'](_0x1367ba(0x1d3),_0x18a333||_0x1367ba(0x1eb));const _0x229ed3={'firstName':_0x16c6ab,'lastName':_0x5a9df6,'customerOrderId':_0x314f83,'email':_0x275679,'phone':_0x18a333||'','amount':_0x2a1d78,'currency':_0x1e051f['toUpperCase'](),'success_url':_0x536f4a,'failure_url':_0x3c4ab8};console[_0x1367ba(0x1d4)](_0x1367ba(0x1e5),JSON[_0x1367ba(0x1df)](_0x229ed3,null,0x2));const _0xd4fff2=await fetch(this[_0x1367ba(0x202)]+_0x1367ba(0x1d6),{'method':_0x1367ba(0x1ef),'headers':{'Content-Type':_0x1367ba(0x1d7),'User-Agent':_0x1367ba(0x204)},'body':JSON['stringify'](_0x229ed3)}),_0x4ad580=await _0xd4fff2[_0x1367ba(0x1d2)]();console[_0x1367ba(0x1d4)](_0x1367ba(0x1ec),_0x4ad580);if(!_0xd4fff2['ok'])throw new Error(_0x1367ba(0x201)+_0xd4fff2[_0x1367ba(0x1f8)]+_0x1367ba(0x1cf)+_0x4ad580);let _0x55370f;try{_0x55370f=JSON['parse'](_0x4ad580);}catch(_0x414f9b){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x4ad580);}console[_0x1367ba(0x1d4)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x1367ba(0x1df)](_0x55370f,null,0x2));if(!_0x55370f[_0x1367ba(0x1da)]&&!_0x55370f[_0x1367ba(0x1d8)])throw new Error(_0x1367ba(0x1fd)+(_0x55370f['responseMessage']||_0x1367ba(0x1e6)));const _0x30d90e=_0x55370f[_0x1367ba(0x1da)]||_0x55370f['payment_url'],_0x16565f=_0x55370f[_0x1367ba(0x200)]||_0x55370f[_0x1367ba(0x1f7)];return console[_0x1367ba(0x1d4)](_0x1367ba(0x1fe)),console[_0x1367ba(0x1d4)](_0x1367ba(0x1e0),_0x30d90e),console[_0x1367ba(0x1d4)](_0x1367ba(0x1ea),_0x16565f),console['log'](_0x1367ba(0x1fa),_0x55370f[_0x1367ba(0x1ce)]),console['log'](_0x1367ba(0x1d1)),{'gateway_payment_id':_0x16565f||_0x314f83,'payment_url':_0x30d90e||'','paymentLinkCode':_0x16565f};}catch(_0x383412){console[_0x1367ba(0x203)](_0x1367ba(0x1ed),_0x383412),console[_0x1367ba(0x1d4)](_0x1367ba(0x1e9));throw _0x383412;}}[a50_0x511096(0x1d9)](){const _0x448f0b=a50_0x511096;this[_0x448f0b(0x1f5)]=null,console['log'](_0x448f0b(0x1de));}async[a50_0x511096(0x1db)](){const _0x39c92e=a50_0x511096;try{const _0x372ddb=await fetch(this[_0x39c92e(0x202)]+_0x39c92e(0x1e2),{'method':_0x39c92e(0x1ee),'headers':{'Content-Type':'application/json','User-Agent':_0x39c92e(0x204)}});return _0x372ddb&&_0x372ddb[_0x39c92e(0x1f8)]===0xc8?!![]:![];}catch(_0x417f83){return console['error']('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x417f83),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a50_0x511096(0x1e7)]=new MyXSpendService();