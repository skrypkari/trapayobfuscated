'use strict';function a50_0x1d5f(_0x3dfac2,_0x17f7f4){const _0x48e33d=a50_0x48e3();return a50_0x1d5f=function(_0x1d5f64,_0x591958){_0x1d5f64=_0x1d5f64-0x1a0;let _0x556baa=_0x48e33d[_0x1d5f64];return _0x556baa;},a50_0x1d5f(_0x3dfac2,_0x17f7f4);}function a50_0x48e3(){const _0x5be4e6=['557952KwZoZw','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','responseCode','1020609gPQiLj','MyXSpend\x20API\x20error:\x20HTTP\x20','log','157456hwSHMp','invalidateAuth','createPaymentLink','MyXSpendService','apiUrl','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','API_KEY','not\x20provided','myxspendService','COMPANY_ID','2740100QGdDrG','Order\x20ID:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','1384764MuoNVv','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','stringify','Email:','301jSKhba','POST','MyXSpend\x20payment\x20creation\x20failed:\x20','text','Phone:','status','2571810soQxzK','myxspend.php','PaymentLink','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','Amount:','application/json','GET','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','parse','toUpperCase','\x20-\x20','TrapayAPI/1.0','üìä\x20MyXSpend\x20unified\x20response\x20data:','error','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','payment_url','Customer:','2XvbHOC','1178667HjSuEj','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','gateway_payment_id','health.php','healthCheck','authToken','Payment\x20Link:','responseMessage'];a50_0x48e3=function(){return _0x5be4e6;};return a50_0x48e3();}const a50_0x37f7e0=a50_0x1d5f;(function(_0x517675,_0x3326a5){const _0x25f4dc=a50_0x1d5f,_0x5cac88=_0x517675();while(!![]){try{const _0x38ff1f=-parseInt(_0x25f4dc(0x1c9))/0x1+parseInt(_0x25f4dc(0x1c0))/0x2*(-parseInt(_0x25f4dc(0x1c1))/0x3)+parseInt(_0x25f4dc(0x1a4))/0x4+parseInt(_0x25f4dc(0x1a1))/0x5+-parseInt(_0x25f4dc(0x1ae))/0x6+parseInt(_0x25f4dc(0x1a8))/0x7*(parseInt(_0x25f4dc(0x1cf))/0x8)+parseInt(_0x25f4dc(0x1cc))/0x9;if(_0x38ff1f===_0x3326a5)break;else _0x5cac88['push'](_0x5cac88['shift']());}catch(_0x4633e0){_0x5cac88['push'](_0x5cac88['shift']());}}}(a50_0x48e3,0x73d5e));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a50_0x37f7e0(0x1d7)]=exports[a50_0x37f7e0(0x1d2)]=void 0x0;class MyXSpendService{constructor(){const _0x222e4b=a50_0x37f7e0;this[_0x222e4b(0x1c6)]=null,this[_0x222e4b(0x1d5)]=_0x222e4b(0x1b1),this[_0x222e4b(0x1a0)]=_0x222e4b(0x1c2),this['apiUrl']='https://traffer.uk/gateway/myxspend/',console[_0x222e4b(0x1ce)](_0x222e4b(0x1a5));}async[a50_0x37f7e0(0x1d1)](_0x2ec13c){const _0x2b8f2f=a50_0x37f7e0;try{const {orderId:_0x1a4cf7,amount:_0x5598ce,currency:_0xdb64c8,firstName:_0x2c7157,lastName:_0x30dceb,email:_0x39628e,phone:_0xc4b8cc,successUrl:_0x5f00a0,failureUrl:_0xd8e435}=_0x2ec13c;console[_0x2b8f2f(0x1ce)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x2b8f2f(0x1ce)](_0x2b8f2f(0x1a2),_0x1a4cf7),console[_0x2b8f2f(0x1ce)](_0x2b8f2f(0x1b2),_0x5598ce,_0xdb64c8),console['log'](_0x2b8f2f(0x1bf),_0x2c7157+'\x20'+_0x30dceb),console['log'](_0x2b8f2f(0x1a7),_0x39628e),console[_0x2b8f2f(0x1ce)](_0x2b8f2f(0x1ac),_0xc4b8cc||_0x2b8f2f(0x1d6));const _0x3e9dc4={'firstName':_0x2c7157,'lastName':_0x30dceb,'customerOrderId':_0x1a4cf7,'email':_0x39628e,'phone':_0xc4b8cc||'','amount':_0x5598ce,'currency':_0xdb64c8[_0x2b8f2f(0x1b7)](),'success_url':_0x5f00a0,'failure_url':_0xd8e435};console[_0x2b8f2f(0x1ce)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x2b8f2f(0x1a6)](_0x3e9dc4,null,0x2));const _0x2f6f11=await fetch(this[_0x2b8f2f(0x1d3)]+_0x2b8f2f(0x1af),{'method':_0x2b8f2f(0x1a9),'headers':{'Content-Type':'application/json','User-Agent':_0x2b8f2f(0x1b9)},'body':JSON[_0x2b8f2f(0x1a6)](_0x3e9dc4)}),_0x2013ec=await _0x2f6f11[_0x2b8f2f(0x1ab)]();console[_0x2b8f2f(0x1ce)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0x2013ec);if(!_0x2f6f11['ok'])throw new Error(_0x2b8f2f(0x1cd)+_0x2f6f11[_0x2b8f2f(0x1ad)]+_0x2b8f2f(0x1b8)+_0x2013ec);let _0x83a3ba;try{_0x83a3ba=JSON[_0x2b8f2f(0x1b6)](_0x2013ec);}catch(_0x4cda8f){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x2013ec);}console['log'](_0x2b8f2f(0x1ba),JSON[_0x2b8f2f(0x1a6)](_0x83a3ba,null,0x2));if(!_0x83a3ba[_0x2b8f2f(0x1b0)]&&!_0x83a3ba[_0x2b8f2f(0x1be)])throw new Error(_0x2b8f2f(0x1aa)+(_0x83a3ba[_0x2b8f2f(0x1c8)]||'Unknown\x20error'));const _0x25f0b6=_0x83a3ba[_0x2b8f2f(0x1b0)]||_0x83a3ba['payment_url'],_0x1cdd2a=_0x83a3ba['PaymentLinkCode']||_0x83a3ba[_0x2b8f2f(0x1c3)];return console[_0x2b8f2f(0x1ce)](_0x2b8f2f(0x1bc)),console[_0x2b8f2f(0x1ce)](_0x2b8f2f(0x1c7),_0x25f0b6),console[_0x2b8f2f(0x1ce)]('Payment\x20Code:',_0x1cdd2a),console[_0x2b8f2f(0x1ce)]('Response\x20Code:',_0x83a3ba[_0x2b8f2f(0x1cb)]),console[_0x2b8f2f(0x1ce)](_0x2b8f2f(0x1b5)),{'gateway_payment_id':_0x1cdd2a||_0x1a4cf7,'payment_url':_0x25f0b6||'','paymentLinkCode':_0x1cdd2a};}catch(_0x2343f4){console[_0x2b8f2f(0x1bb)](_0x2b8f2f(0x1d4),_0x2343f4),console['log'](_0x2b8f2f(0x1bd));throw _0x2343f4;}}[a50_0x37f7e0(0x1d0)](){const _0x4c0858=a50_0x37f7e0;this[_0x4c0858(0x1c6)]=null,console['log'](_0x4c0858(0x1ca));}async[a50_0x37f7e0(0x1c5)](){const _0x144244=a50_0x37f7e0;try{const _0x495ada=await fetch(this[_0x144244(0x1d3)]+_0x144244(0x1c4),{'method':_0x144244(0x1b4),'headers':{'Content-Type':_0x144244(0x1b3),'User-Agent':'TrapayAPI/1.0'}});return _0x495ada&&_0x495ada['status']===0xc8?!![]:![];}catch(_0x1d5e0f){return console[_0x144244(0x1bb)](_0x144244(0x1a3),_0x1d5e0f),![];}}}exports[a50_0x37f7e0(0x1d2)]=MyXSpendService,exports[a50_0x37f7e0(0x1d7)]=new MyXSpendService();