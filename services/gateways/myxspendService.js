'use strict';function a52_0x1ea7(_0x19e491,_0x2cc095){const _0xf0362f=a52_0xf036();return a52_0x1ea7=function(_0x1ea761,_0xc4987d){_0x1ea761=_0x1ea761-0x12a;let _0xd9bed=_0xf0362f[_0x1ea761];return _0xd9bed;},a52_0x1ea7(_0x19e491,_0x2cc095);}const a52_0x4daadc=a52_0x1ea7;(function(_0x18bef2,_0x1baa72){const _0x5c78b9=a52_0x1ea7,_0x1faf9d=_0x18bef2();while(!![]){try{const _0x52b926=-parseInt(_0x5c78b9(0x13a))/0x1*(parseInt(_0x5c78b9(0x13c))/0x2)+-parseInt(_0x5c78b9(0x157))/0x3*(parseInt(_0x5c78b9(0x154))/0x4)+parseInt(_0x5c78b9(0x143))/0x5+parseInt(_0x5c78b9(0x14f))/0x6+-parseInt(_0x5c78b9(0x153))/0x7*(parseInt(_0x5c78b9(0x146))/0x8)+-parseInt(_0x5c78b9(0x155))/0x9+parseInt(_0x5c78b9(0x13d))/0xa;if(_0x52b926===_0x1baa72)break;else _0x1faf9d['push'](_0x1faf9d['shift']());}catch(_0x9f0445){_0x1faf9d['push'](_0x1faf9d['shift']());}}}(a52_0xf036,0xf2b72));function a52_0xf036(){const _0x2ce937=['14559354lrMRyS','authToken','57vihqUe','\x20-\x20','invalidateAuth','parse','myxspend.php','üì•\x20MyXSpend\x20unified\x20raw\x20response:','API_KEY','COMPANY_ID','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','MyXSpend\x20payment\x20creation\x20failed:\x20','responseMessage','Payment\x20Code:','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','health.php','MyXSpendService','defineProperty','Customer:','application/json','GET','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','log','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','Unknown\x20error','26030LFazqj','toUpperCase','8fXXaad','32819340aWtzUx','PaymentLink','myxspendService','responseCode','error','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','6126055cRgnkM','üì§\x20MyXSpend\x20unified\x20request\x20body:','gateway_payment_id','37608FBxcMi','TrapayAPI/1.0','üìä\x20MyXSpend\x20unified\x20response\x20data:','https://traffer.uk/gateway/myxspend/','POST','__esModule','stringify','Response\x20Code:','apiUrl','4911486sZyukf','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','status','payment_url','2205AkMCHR','237668WwjrMb'];a52_0xf036=function(){return _0x2ce937;};return a52_0xf036();}Object[a52_0x4daadc(0x131)](exports,a52_0x4daadc(0x14b),{'value':!![]}),exports[a52_0x4daadc(0x13f)]=exports[a52_0x4daadc(0x130)]=void 0x0;class MyXSpendService{constructor(){const _0x3eab00=a52_0x4daadc;this[_0x3eab00(0x156)]=null,this[_0x3eab00(0x15d)]=_0x3eab00(0x135),this[_0x3eab00(0x15e)]=_0x3eab00(0x150),this[_0x3eab00(0x14e)]=_0x3eab00(0x149),console[_0x3eab00(0x136)](_0x3eab00(0x138));}async['createPaymentLink'](_0x30f1c1){const _0x306851=a52_0x4daadc;try{const {orderId:_0x5ef286,amount:_0xc4bf30,currency:_0x588a29,firstName:_0x59a5cf,lastName:_0x5c14ea,email:_0x2dea6c,phone:_0xd03979,successUrl:_0x4fd30a,failureUrl:_0x20f8ca}=_0x30f1c1;console[_0x306851(0x136)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x306851(0x136)]('Order\x20ID:',_0x5ef286),console[_0x306851(0x136)]('Amount:',_0xc4bf30,_0x588a29),console[_0x306851(0x136)](_0x306851(0x132),_0x59a5cf+'\x20'+_0x5c14ea),console['log']('Email:',_0x2dea6c),console[_0x306851(0x136)]('Phone:',_0xd03979||'not\x20provided');const _0x2e9a0b={'firstName':_0x59a5cf,'lastName':_0x5c14ea,'customerOrderId':_0x5ef286,'email':_0x2dea6c,'phone':_0xd03979||'','amount':_0xc4bf30,'currency':_0x588a29[_0x306851(0x13b)](),'success_url':_0x4fd30a,'failure_url':_0x20f8ca};console[_0x306851(0x136)](_0x306851(0x144),JSON['stringify'](_0x2e9a0b,null,0x2));const _0x30ee50=await fetch(this[_0x306851(0x14e)]+_0x306851(0x15b),{'method':_0x306851(0x14a),'headers':{'Content-Type':_0x306851(0x133),'User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x306851(0x14c)](_0x2e9a0b)}),_0x38aae9=await _0x30ee50['text']();console['log'](_0x306851(0x15c),_0x38aae9);if(!_0x30ee50['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x30ee50[_0x306851(0x151)]+_0x306851(0x158)+_0x38aae9);let _0x140766;try{_0x140766=JSON[_0x306851(0x15a)](_0x38aae9);}catch(_0x2d7136){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x38aae9);}console[_0x306851(0x136)](_0x306851(0x148),JSON[_0x306851(0x14c)](_0x140766,null,0x2));if(!_0x140766[_0x306851(0x13e)]&&!_0x140766[_0x306851(0x152)])throw new Error(_0x306851(0x12b)+(_0x140766[_0x306851(0x12c)]||_0x306851(0x139)));const _0x18dbae=_0x140766[_0x306851(0x13e)]||_0x140766[_0x306851(0x152)],_0x1f5008=_0x140766['PaymentLinkCode']||_0x140766[_0x306851(0x145)];return console[_0x306851(0x136)](_0x306851(0x137)),console[_0x306851(0x136)]('Payment\x20Link:',_0x18dbae),console[_0x306851(0x136)](_0x306851(0x12d),_0x1f5008),console['log'](_0x306851(0x14d),_0x140766[_0x306851(0x140)]),console['log'](_0x306851(0x12a)),{'gateway_payment_id':_0x1f5008||_0x5ef286,'payment_url':_0x18dbae||'','paymentLinkCode':_0x1f5008};}catch(_0xdef749){console[_0x306851(0x141)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0xdef749),console[_0x306851(0x136)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0xdef749;}}[a52_0x4daadc(0x159)](){const _0x1b44d3=a52_0x4daadc;this['authToken']=null,console[_0x1b44d3(0x136)](_0x1b44d3(0x12e));}async['healthCheck'](){const _0x1248ba=a52_0x4daadc;try{const _0x27de3e=await fetch(this[_0x1248ba(0x14e)]+_0x1248ba(0x12f),{'method':_0x1248ba(0x134),'headers':{'Content-Type':_0x1248ba(0x133),'User-Agent':_0x1248ba(0x147)}});return _0x27de3e&&_0x27de3e[_0x1248ba(0x151)]===0xc8?!![]:![];}catch(_0x1a17e5){return console['error'](_0x1248ba(0x142),_0x1a17e5),![];}}}exports[a52_0x4daadc(0x130)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();