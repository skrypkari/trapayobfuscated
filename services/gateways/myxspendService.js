'use strict';const a47_0x1cc06e=a47_0x280a;(function(_0x468769,_0x3b7b0b){const _0x4b500b=a47_0x280a,_0xab06bf=_0x468769();while(!![]){try{const _0x5e84aa=parseInt(_0x4b500b(0x119))/0x1+-parseInt(_0x4b500b(0x106))/0x2+parseInt(_0x4b500b(0x10c))/0x3*(-parseInt(_0x4b500b(0xf1))/0x4)+parseInt(_0x4b500b(0x11b))/0x5*(-parseInt(_0x4b500b(0xfe))/0x6)+-parseInt(_0x4b500b(0x110))/0x7*(-parseInt(_0x4b500b(0x100))/0x8)+-parseInt(_0x4b500b(0x112))/0x9+-parseInt(_0x4b500b(0x105))/0xa*(-parseInt(_0x4b500b(0x108))/0xb);if(_0x5e84aa===_0x3b7b0b)break;else _0xab06bf['push'](_0xab06bf['shift']());}catch(_0x40a8ca){_0xab06bf['push'](_0xab06bf['shift']());}}}(a47_0x54e0,0x7cadd));Object['defineProperty'](exports,a47_0x1cc06e(0xf9),{'value':!![]}),exports[a47_0x1cc06e(0x11c)]=exports[a47_0x1cc06e(0xf6)]=void 0x0;class MyXSpendService{constructor(){const _0x430e0c=a47_0x1cc06e;this[_0x430e0c(0xfd)]=null,this[_0x430e0c(0xf4)]=_0x430e0c(0x10e),this[_0x430e0c(0x107)]=_0x430e0c(0x101),this[_0x430e0c(0x104)]=_0x430e0c(0x11a),console[_0x430e0c(0x10a)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a47_0x1cc06e(0xee)](_0x5d99cc){const _0x4a762b=a47_0x1cc06e;try{const {orderId:_0x4e3653,amount:_0x22187a,currency:_0x51eb40,firstName:_0x1e0413,lastName:_0xe77301,email:_0x5bb86c,phone:_0x56e1a2,successUrl:_0x7ac40f,failureUrl:_0x9bdef6}=_0x5d99cc;console[_0x4a762b(0x10a)]('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x4a762b(0x10a)](_0x4a762b(0xf2),_0x4e3653),console[_0x4a762b(0x10a)]('Amount:',_0x22187a,_0x51eb40),console[_0x4a762b(0x10a)]('Customer:',_0x1e0413+'\x20'+_0xe77301),console['log'](_0x4a762b(0xfc),_0x5bb86c),console[_0x4a762b(0x10a)](_0x4a762b(0xed),_0x56e1a2||_0x4a762b(0xf0));const _0x13ba91={'firstName':_0x1e0413,'lastName':_0xe77301,'customerOrderId':_0x4e3653,'email':_0x5bb86c,'phone':_0x56e1a2||'','amount':_0x22187a,'currency':_0x51eb40['toUpperCase'](),'success_url':_0x7ac40f,'failure_url':_0x9bdef6};console[_0x4a762b(0x10a)](_0x4a762b(0x115),JSON[_0x4a762b(0xf5)](_0x13ba91,null,0x2));const _0x399e05=await fetch(this[_0x4a762b(0x104)]+_0x4a762b(0x118),{'method':_0x4a762b(0xfa),'headers':{'Content-Type':_0x4a762b(0x10b),'User-Agent':_0x4a762b(0xff)},'body':JSON[_0x4a762b(0xf5)](_0x13ba91)}),_0x208721=await _0x399e05[_0x4a762b(0x116)]();console[_0x4a762b(0x10a)](_0x4a762b(0x10f),_0x208721);if(!_0x399e05['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x399e05[_0x4a762b(0x103)]+_0x4a762b(0x111)+_0x208721);let _0x27eca8;try{_0x27eca8=JSON[_0x4a762b(0x117)](_0x208721);}catch(_0x1f4445){throw new Error(_0x4a762b(0xfb)+_0x208721);}console[_0x4a762b(0x10a)](_0x4a762b(0xef),JSON[_0x4a762b(0xf5)](_0x27eca8,null,0x2));if(!_0x27eca8['PaymentLink']&&!_0x27eca8[_0x4a762b(0x11e)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x27eca8[_0x4a762b(0xf7)]||'Unknown\x20error'));const _0x3f46a4=_0x27eca8[_0x4a762b(0xf8)]||_0x27eca8[_0x4a762b(0x11e)],_0x18c210=_0x27eca8['PaymentLinkCode']||_0x27eca8[_0x4a762b(0xf3)];return console[_0x4a762b(0x10a)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x4a762b(0x10a)]('Payment\x20Link:',_0x3f46a4),console[_0x4a762b(0x10a)](_0x4a762b(0x102),_0x18c210),console[_0x4a762b(0x10a)]('Response\x20Code:',_0x27eca8[_0x4a762b(0x113)]),console['log']('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x18c210||_0x4e3653,'payment_url':_0x3f46a4||'','paymentLinkCode':_0x18c210};}catch(_0x25e17c){console[_0x4a762b(0xec)](_0x4a762b(0x11d),_0x25e17c),console['log'](_0x4a762b(0x10d));throw _0x25e17c;}}[a47_0x1cc06e(0x114)](){this['authToken']=null,console['log']('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a47_0x1cc06e(0xeb)](){const _0x528382=a47_0x1cc06e;try{const _0x31d062=await fetch(this[_0x528382(0x104)]+'health.php',{'method':'GET','headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'}});return _0x31d062&&_0x31d062[_0x528382(0x103)]===0xc8?!![]:![];}catch(_0x36f3e4){return console[_0x528382(0xec)](_0x528382(0x109),_0x36f3e4),![];}}}function a47_0x54e0(){const _0x5952f7=['createPaymentLink','üìä\x20MyXSpend\x20unified\x20response\x20data:','not\x20provided','152XvFhTA','Order\x20ID:','gateway_payment_id','API_KEY','stringify','MyXSpendService','responseMessage','PaymentLink','__esModule','POST','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','Email:','authToken','21192mKIMIa','TrapayAPI/1.0','471728CVuuFY','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Payment\x20Code:','status','apiUrl','13461090AXqOhj','166152TTMoBp','COMPANY_ID','11VqYTaf','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','log','application/json','47913vDonUn','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','üì•\x20MyXSpend\x20unified\x20raw\x20response:','70xlsSbK','\x20-\x20','4511871qCFeLa','responseCode','invalidateAuth','üì§\x20MyXSpend\x20unified\x20request\x20body:','text','parse','myxspend.php','486737SaAxLq','https://traffer.uk/gateway/myxspend/','1020YbEjgy','myxspendService','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','payment_url','healthCheck','error','Phone:'];a47_0x54e0=function(){return _0x5952f7;};return a47_0x54e0();}function a47_0x280a(_0x3537c2,_0x3be95a){const _0x54e003=a47_0x54e0();return a47_0x280a=function(_0x280a10,_0x714076){_0x280a10=_0x280a10-0xeb;let _0x6bd3bd=_0x54e003[_0x280a10];return _0x6bd3bd;},a47_0x280a(_0x3537c2,_0x3be95a);}exports['MyXSpendService']=MyXSpendService,exports['myxspendService']=new MyXSpendService();