'use strict';function a49_0x530b(_0x2b36cd,_0x11b60c){const _0x474361=a49_0x4743();return a49_0x530b=function(_0x530b77,_0xc51bc1){_0x530b77=_0x530b77-0x9b;let _0x5bc835=_0x474361[_0x530b77];return _0x5bc835;},a49_0x530b(_0x2b36cd,_0x11b60c);}function a49_0x4743(){const _0x1deb47=['__esModule','Email:','GET','Unknown\x20error','payment_url','health.php','Customer:','https://traffer.uk/gateway/myxspend/','12552xlkphY','Order\x20ID:','MyXSpend\x20API\x20error:\x20HTTP\x20','PaymentLinkCode','PaymentLink','TrapayAPI/1.0','üì•\x20MyXSpend\x20unified\x20raw\x20response:','MyXSpendService','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','Payment\x20Link:','740rBibzw','Phone:','authToken','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','996IiJmpH','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','\x20-\x20','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','MyXSpend\x20payment\x20creation\x20failed:\x20','167986KMZbXM','COMPANY_ID','16211910nTwhxY','14zqDpGM','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','status','createPaymentLink','parse','error','log','myxspendService','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','apiUrl','4886bbIbrE','5874755eaKSCI','Payment\x20Code:','application/json','responseCode','5402478tpZOLi','defineProperty','stringify','text','üì§\x20MyXSpend\x20unified\x20request\x20body:','not\x20provided','8008632yyBLsi','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','Response\x20Code:','API_KEY','POST','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:'];a49_0x4743=function(){return _0x1deb47;};return a49_0x4743();}const a49_0x77b958=a49_0x530b;(function(_0x30f303,_0x4072b5){const _0x32ff54=a49_0x530b,_0x46d93e=_0x30f303();while(!![]){try{const _0x5097af=-parseInt(_0x32ff54(0xcf))/0x1*(parseInt(_0x32ff54(0xcc))/0x2)+-parseInt(_0x32ff54(0xc7))/0x3*(parseInt(_0x32ff54(0xc3))/0x4)+parseInt(_0x32ff54(0xa1))/0x5+-parseInt(_0x32ff54(0xa5))/0x6+-parseInt(_0x32ff54(0xa0))/0x7*(-parseInt(_0x32ff54(0xb9))/0x8)+-parseInt(_0x32ff54(0xab))/0x9+parseInt(_0x32ff54(0xce))/0xa;if(_0x5097af===_0x4072b5)break;else _0x46d93e['push'](_0x46d93e['shift']());}catch(_0x195a27){_0x46d93e['push'](_0x46d93e['shift']());}}}(a49_0x4743,0xd2de9));Object[a49_0x77b958(0xa6)](exports,a49_0x77b958(0xb1),{'value':!![]}),exports['myxspendService']=exports[a49_0x77b958(0xc0)]=void 0x0;class MyXSpendService{constructor(){const _0x1e721b=a49_0x77b958;this['authToken']=null,this[_0x1e721b(0xae)]=_0x1e721b(0xd1),this[_0x1e721b(0xcd)]=_0x1e721b(0xca),this[_0x1e721b(0x9f)]=_0x1e721b(0xb8),console[_0x1e721b(0x9c)](_0x1e721b(0xd0));}async[a49_0x77b958(0xd3)](_0x51f27b){const _0x28fac4=a49_0x77b958;try{const {orderId:_0x353cc7,amount:_0x31f19b,currency:_0x1aa9c2,firstName:_0x54f68d,lastName:_0x17e4f0,email:_0x1f4581,phone:_0x1ec242,successUrl:_0x3ea1c8,failureUrl:_0xcd18df}=_0x51f27b;console[_0x28fac4(0x9c)](_0x28fac4(0xc6)),console[_0x28fac4(0x9c)](_0x28fac4(0xba),_0x353cc7),console[_0x28fac4(0x9c)]('Amount:',_0x31f19b,_0x1aa9c2),console['log'](_0x28fac4(0xb7),_0x54f68d+'\x20'+_0x17e4f0),console[_0x28fac4(0x9c)](_0x28fac4(0xb2),_0x1f4581),console[_0x28fac4(0x9c)](_0x28fac4(0xc4),_0x1ec242||_0x28fac4(0xaa));const _0x297175={'firstName':_0x54f68d,'lastName':_0x17e4f0,'customerOrderId':_0x353cc7,'email':_0x1f4581,'phone':_0x1ec242||'','amount':_0x31f19b,'currency':_0x1aa9c2['toUpperCase'](),'success_url':_0x3ea1c8,'failure_url':_0xcd18df};console[_0x28fac4(0x9c)](_0x28fac4(0xa9),JSON[_0x28fac4(0xa7)](_0x297175,null,0x2));const _0x53f80a=await fetch(this[_0x28fac4(0x9f)]+'myxspend.php',{'method':_0x28fac4(0xaf),'headers':{'Content-Type':_0x28fac4(0xa3),'User-Agent':_0x28fac4(0xbe)},'body':JSON['stringify'](_0x297175)}),_0x76a3c0=await _0x53f80a[_0x28fac4(0xa8)]();console[_0x28fac4(0x9c)](_0x28fac4(0xbf),_0x76a3c0);if(!_0x53f80a['ok'])throw new Error(_0x28fac4(0xbb)+_0x53f80a[_0x28fac4(0xd2)]+_0x28fac4(0xc9)+_0x76a3c0);let _0x41c234;try{_0x41c234=JSON[_0x28fac4(0xd4)](_0x76a3c0);}catch(_0x2af721){throw new Error(_0x28fac4(0xc1)+_0x76a3c0);}console['log']('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON['stringify'](_0x41c234,null,0x2));if(!_0x41c234[_0x28fac4(0xbd)]&&!_0x41c234['payment_url'])throw new Error(_0x28fac4(0xcb)+(_0x41c234['responseMessage']||_0x28fac4(0xb4)));const _0x4ab55b=_0x41c234[_0x28fac4(0xbd)]||_0x41c234[_0x28fac4(0xb5)],_0x2c16cc=_0x41c234[_0x28fac4(0xbc)]||_0x41c234['gateway_payment_id'];return console['log']('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x28fac4(0x9c)](_0x28fac4(0xc2),_0x4ab55b),console[_0x28fac4(0x9c)](_0x28fac4(0xa2),_0x2c16cc),console[_0x28fac4(0x9c)](_0x28fac4(0xad),_0x41c234[_0x28fac4(0xa4)]),console[_0x28fac4(0x9c)](_0x28fac4(0xac)),{'gateway_payment_id':_0x2c16cc||_0x353cc7,'payment_url':_0x4ab55b||'','paymentLinkCode':_0x2c16cc};}catch(_0x44431b){console['error'](_0x28fac4(0xb0),_0x44431b),console[_0x28fac4(0x9c)](_0x28fac4(0xc8));throw _0x44431b;}}['invalidateAuth'](){const _0x19db17=a49_0x77b958;this[_0x19db17(0xc5)]=null,console[_0x19db17(0x9c)](_0x19db17(0x9e));}async['healthCheck'](){const _0x4a8197=a49_0x77b958;try{const _0x5a4564=await fetch(this['apiUrl']+_0x4a8197(0xb6),{'method':_0x4a8197(0xb3),'headers':{'Content-Type':_0x4a8197(0xa3),'User-Agent':_0x4a8197(0xbe)}});return _0x5a4564&&_0x5a4564[_0x4a8197(0xd2)]===0xc8?!![]:![];}catch(_0x1e4d73){return console[_0x4a8197(0x9b)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x1e4d73),![];}}}exports[a49_0x77b958(0xc0)]=MyXSpendService,exports[a49_0x77b958(0x9d)]=new MyXSpendService();