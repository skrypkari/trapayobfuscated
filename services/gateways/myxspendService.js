'use strict';const a49_0x14cfda=a49_0x3061;(function(_0x24795d,_0x131388){const _0x5eb278=a49_0x3061,_0x23073d=_0x24795d();while(!![]){try{const _0x5376e3=parseInt(_0x5eb278(0x165))/0x1*(parseInt(_0x5eb278(0x181))/0x2)+parseInt(_0x5eb278(0x18d))/0x3+-parseInt(_0x5eb278(0x163))/0x4*(-parseInt(_0x5eb278(0x15f))/0x5)+-parseInt(_0x5eb278(0x174))/0x6*(-parseInt(_0x5eb278(0x168))/0x7)+parseInt(_0x5eb278(0x175))/0x8+-parseInt(_0x5eb278(0x16c))/0x9+-parseInt(_0x5eb278(0x178))/0xa;if(_0x5376e3===_0x131388)break;else _0x23073d['push'](_0x23073d['shift']());}catch(_0x49f157){_0x23073d['push'](_0x23073d['shift']());}}}(a49_0x23dd,0x1ed74));function a49_0x3061(_0x35bed4,_0x133597){const _0x23ddfd=a49_0x23dd();return a49_0x3061=function(_0x3061e3,_0x34ac1c){_0x3061e3=_0x3061e3-0x157;let _0x15e82b=_0x23ddfd[_0x3061e3];return _0x15e82b;},a49_0x3061(_0x35bed4,_0x133597);}Object[a49_0x14cfda(0x17c)](exports,a49_0x14cfda(0x16e),{'value':!![]}),exports[a49_0x14cfda(0x15c)]=exports[a49_0x14cfda(0x16d)]=void 0x0;function a49_0x23dd(){const _0x43cfa2=['apiUrl','application/json','18qMakMI','888656KpsQun','PaymentLink','payment_url','5152710wbPOEE','MyXSpend\x20payment\x20creation\x20failed:\x20','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üì§\x20MyXSpend\x20unified\x20request\x20body:','defineProperty','API_KEY','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','üìä\x20MyXSpend\x20unified\x20response\x20data:','94634lieVKL','Payment\x20Link:','Order\x20ID:','stringify','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Payment\x20Code:','https://traffer.uk/gateway/myxspend/','myxspend.php','PaymentLinkCode','Amount:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','responseCode','60087LeCPtA','POST','healthCheck','Phone:','toUpperCase','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','log','myxspendService','TrapayAPI/1.0','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','156290dDSIUS','Unknown\x20error','üì•\x20MyXSpend\x20unified\x20raw\x20response:','status','28EyaBZe','not\x20provided','5rYvFzq','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','authToken','241213RdYbZg','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','parse','invalidateAuth','434556uoNiFR','MyXSpendService','__esModule','error','gateway_payment_id','\x20-\x20'];a49_0x23dd=function(){return _0x43cfa2;};return a49_0x23dd();}class MyXSpendService{constructor(){const _0x7adb7a=a49_0x14cfda;this['authToken']=null,this[_0x7adb7a(0x17d)]=_0x7adb7a(0x18b),this['COMPANY_ID']=_0x7adb7a(0x185),this[_0x7adb7a(0x172)]=_0x7adb7a(0x187),console[_0x7adb7a(0x15b)](_0x7adb7a(0x166));}async['createPaymentLink'](_0x4e39b2){const _0x3e0f90=a49_0x14cfda;try{const {orderId:_0x3e751a,amount:_0x229003,currency:_0x2b551d,firstName:_0x4d3837,lastName:_0x262d2b,email:_0x3f8991,phone:_0x5a0daf,successUrl:_0x181dbf,failureUrl:_0x35ae06}=_0x4e39b2;console[_0x3e0f90(0x15b)](_0x3e0f90(0x169)),console[_0x3e0f90(0x15b)](_0x3e0f90(0x183),_0x3e751a),console[_0x3e0f90(0x15b)](_0x3e0f90(0x18a),_0x229003,_0x2b551d),console['log']('Customer:',_0x4d3837+'\x20'+_0x262d2b),console[_0x3e0f90(0x15b)]('Email:',_0x3f8991),console[_0x3e0f90(0x15b)](_0x3e0f90(0x158),_0x5a0daf||_0x3e0f90(0x164));const _0x18bedf={'firstName':_0x4d3837,'lastName':_0x262d2b,'customerOrderId':_0x3e751a,'email':_0x3f8991,'phone':_0x5a0daf||'','amount':_0x229003,'currency':_0x2b551d[_0x3e0f90(0x159)](),'success_url':_0x181dbf,'failure_url':_0x35ae06};console[_0x3e0f90(0x15b)](_0x3e0f90(0x17b),JSON[_0x3e0f90(0x184)](_0x18bedf,null,0x2));const _0x190c56=await fetch(this[_0x3e0f90(0x172)]+_0x3e0f90(0x188),{'method':_0x3e0f90(0x18e),'headers':{'Content-Type':_0x3e0f90(0x173),'User-Agent':_0x3e0f90(0x15d)},'body':JSON[_0x3e0f90(0x184)](_0x18bedf)}),_0x482097=await _0x190c56['text']();console[_0x3e0f90(0x15b)](_0x3e0f90(0x161),_0x482097);if(!_0x190c56['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x190c56[_0x3e0f90(0x162)]+_0x3e0f90(0x171)+_0x482097);let _0x23c255;try{_0x23c255=JSON[_0x3e0f90(0x16a)](_0x482097);}catch(_0x54e754){throw new Error(_0x3e0f90(0x17f)+_0x482097);}console[_0x3e0f90(0x15b)](_0x3e0f90(0x180),JSON[_0x3e0f90(0x184)](_0x23c255,null,0x2));if(!_0x23c255[_0x3e0f90(0x176)]&&!_0x23c255[_0x3e0f90(0x177)])throw new Error(_0x3e0f90(0x179)+(_0x23c255['responseMessage']||_0x3e0f90(0x160)));const _0x29eec8=_0x23c255[_0x3e0f90(0x176)]||_0x23c255[_0x3e0f90(0x177)],_0x300cbb=_0x23c255[_0x3e0f90(0x189)]||_0x23c255[_0x3e0f90(0x170)];return console[_0x3e0f90(0x15b)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x3e0f90(0x15b)](_0x3e0f90(0x182),_0x29eec8),console[_0x3e0f90(0x15b)](_0x3e0f90(0x186),_0x300cbb),console[_0x3e0f90(0x15b)]('Response\x20Code:',_0x23c255[_0x3e0f90(0x18c)]),console['log'](_0x3e0f90(0x15e)),{'gateway_payment_id':_0x300cbb||_0x3e751a,'payment_url':_0x29eec8||'','paymentLinkCode':_0x300cbb};}catch(_0x95010f){console[_0x3e0f90(0x16f)](_0x3e0f90(0x17e),_0x95010f),console[_0x3e0f90(0x15b)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x95010f;}}[a49_0x14cfda(0x16b)](){const _0x292ae1=a49_0x14cfda;this[_0x292ae1(0x167)]=null,console[_0x292ae1(0x15b)](_0x292ae1(0x17a));}async[a49_0x14cfda(0x157)](){const _0x51182c=a49_0x14cfda;try{const _0x275310=await fetch(this[_0x51182c(0x172)]+'health.php',{'method':'GET','headers':{'Content-Type':_0x51182c(0x173),'User-Agent':_0x51182c(0x15d)}});return _0x275310&&_0x275310[_0x51182c(0x162)]===0xc8?!![]:![];}catch(_0x424fd9){return console[_0x51182c(0x16f)](_0x51182c(0x15a),_0x424fd9),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a49_0x14cfda(0x15c)]=new MyXSpendService();