'use strict';const a59_0x59d44f=a59_0x5c91;(function(_0x4cdc12,_0x42ab06){const _0x2f00b=a59_0x5c91,_0x4c4a84=_0x4cdc12();while(!![]){try{const _0x4afd66=-parseInt(_0x2f00b(0x10e))/0x1+parseInt(_0x2f00b(0x106))/0x2+-parseInt(_0x2f00b(0x100))/0x3*(-parseInt(_0x2f00b(0x10f))/0x4)+parseInt(_0x2f00b(0xe2))/0x5*(-parseInt(_0x2f00b(0x10a))/0x6)+-parseInt(_0x2f00b(0xec))/0x7*(parseInt(_0x2f00b(0x10d))/0x8)+-parseInt(_0x2f00b(0x115))/0x9+parseInt(_0x2f00b(0xf1))/0xa;if(_0x4afd66===_0x42ab06)break;else _0x4c4a84['push'](_0x4c4a84['shift']());}catch(_0x16afc6){_0x4c4a84['push'](_0x4c4a84['shift']());}}}(a59_0x3568,0x194e6));function a59_0x5c91(_0x92392a,_0x5b33eb){_0x92392a=_0x92392a-0xdf;const _0x3568cf=a59_0x3568();let _0x5c911a=_0x3568cf[_0x92392a];return _0x5c911a;}Object['defineProperty'](exports,a59_0x59d44f(0xe1),{'value':!![]}),exports[a59_0x59d44f(0x111)]=exports[a59_0x59d44f(0xe9)]=void 0x0;class MyXSpendService{constructor(){const _0x3bb40b=a59_0x59d44f;this['authToken']=null,this['API_KEY']=_0x3bb40b(0x107),this[_0x3bb40b(0xe7)]=_0x3bb40b(0x110),this['apiUrl']='https://traffer.uk/gateway/myxspend/',console[_0x3bb40b(0xdf)](_0x3bb40b(0xf3));}async[a59_0x59d44f(0xf2)](_0x3388c1){const _0x1f8615=a59_0x59d44f;try{const {orderId:_0x592ffc,amount:_0xe2168,currency:_0x5a3949,firstName:_0x45dfcb,lastName:_0x5712e9,email:_0x1d09b4,phone:_0x2a3505,successUrl:_0x1a9669,failureUrl:_0x577dd1}=_0x3388c1;console[_0x1f8615(0xdf)](_0x1f8615(0xee)),console['log'](_0x1f8615(0x109),_0x592ffc),console[_0x1f8615(0xdf)]('Amount:',_0xe2168,_0x5a3949),console['log']('Customer:',_0x45dfcb+'\x20'+_0x5712e9),console[_0x1f8615(0xdf)](_0x1f8615(0xf9),_0x1d09b4),console[_0x1f8615(0xdf)](_0x1f8615(0xf0),_0x2a3505||'not\x20provided');const _0xfe560d={'firstName':_0x45dfcb,'lastName':_0x5712e9,'customerOrderId':_0x592ffc,'email':_0x1d09b4,'phone':_0x2a3505||'','amount':_0xe2168,'currency':_0x5a3949['toUpperCase'](),'success_url':_0x1a9669,'failure_url':_0x577dd1};console[_0x1f8615(0xdf)](_0x1f8615(0xf7),JSON[_0x1f8615(0xef)](_0xfe560d,null,0x2));const _0x4e1f66=await fetch(this[_0x1f8615(0x10c)]+_0x1f8615(0xfc),{'method':_0x1f8615(0x108),'headers':{'Content-Type':'application/json','User-Agent':_0x1f8615(0xe6)},'body':JSON[_0x1f8615(0xef)](_0xfe560d)}),_0x58ce28=await _0x4e1f66[_0x1f8615(0xfe)]();console[_0x1f8615(0xdf)](_0x1f8615(0x102),_0x58ce28);if(!_0x4e1f66['ok'])throw new Error(_0x1f8615(0xf5)+_0x4e1f66[_0x1f8615(0xf4)]+_0x1f8615(0x101)+_0x58ce28);let _0x167776;try{_0x167776=JSON[_0x1f8615(0xe5)](_0x58ce28);}catch(_0x394f11){throw new Error(_0x1f8615(0xf6)+_0x58ce28);}console['log'](_0x1f8615(0xe4),JSON[_0x1f8615(0xef)](_0x167776,null,0x2));if(!_0x167776[_0x1f8615(0xfb)]&&!_0x167776[_0x1f8615(0xff)])throw new Error(_0x1f8615(0x112)+(_0x167776['responseMessage']||_0x1f8615(0xfd)));const _0x467b4f=_0x167776[_0x1f8615(0xfb)]||_0x167776['payment_url'],_0x32aaf2=_0x167776[_0x1f8615(0x113)]||_0x167776['gateway_payment_id'];return console[_0x1f8615(0xdf)](_0x1f8615(0xeb)),console[_0x1f8615(0xdf)]('Payment\x20Link:',_0x467b4f),console['log'](_0x1f8615(0xe3),_0x32aaf2),console[_0x1f8615(0xdf)]('Response\x20Code:',_0x167776[_0x1f8615(0x114)]),console[_0x1f8615(0xdf)](_0x1f8615(0x105)),{'gateway_payment_id':_0x32aaf2||_0x592ffc,'payment_url':_0x467b4f||'','paymentLinkCode':_0x32aaf2};}catch(_0x242679){console[_0x1f8615(0xed)](_0x1f8615(0xf8),_0x242679),console[_0x1f8615(0xdf)](_0x1f8615(0xfa));throw _0x242679;}}[a59_0x59d44f(0xe8)](){const _0x42cd7e=a59_0x59d44f;this[_0x42cd7e(0xe0)]=null,console['log'](_0x42cd7e(0x103));}async[a59_0x59d44f(0xea)](){const _0x1cff40=a59_0x59d44f;try{const _0x13a82c=await fetch(this[_0x1cff40(0x10c)]+'health.php',{'method':'GET','headers':{'Content-Type':_0x1cff40(0x104),'User-Agent':_0x1cff40(0xe6)}});return _0x13a82c&&_0x13a82c[_0x1cff40(0xf4)]===0xc8?!![]:![];}catch(_0x37dd30){return console[_0x1cff40(0xed)](_0x1cff40(0x10b),_0x37dd30),![];}}}exports[a59_0x59d44f(0xe9)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();function a59_0x3568(){const _0x35ef37=['myxspend.php','Unknown\x20error','text','payment_url','77211UJWbEH','\x20-\x20','üì•\x20MyXSpend\x20unified\x20raw\x20response:','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','application/json','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','213492xOWYdS','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','POST','Order\x20ID:','1824TfveMY','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','apiUrl','144872NcPYEi','139836NRGXTV','24ZaqZcD','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','myxspendService','MyXSpend\x20payment\x20creation\x20failed:\x20','PaymentLinkCode','responseCode','22689UkoCwa','log','authToken','__esModule','2110lfUHLo','Payment\x20Code:','üìä\x20MyXSpend\x20unified\x20response\x20data:','parse','TrapayAPI/1.0','COMPANY_ID','invalidateAuth','MyXSpendService','healthCheck','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','49cSOeFp','error','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','stringify','Phone:','2398940vHXVmR','createPaymentLink','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','status','MyXSpend\x20API\x20error:\x20HTTP\x20','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','üì§\x20MyXSpend\x20unified\x20request\x20body:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','Email:','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','PaymentLink'];a59_0x3568=function(){return _0x35ef37;};return a59_0x3568();}