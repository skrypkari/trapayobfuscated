'use strict';const a47_0x1cf33c=a47_0x2684;function a47_0x2684(_0x17dff8,_0x529a13){const _0x140b75=a47_0x140b();return a47_0x2684=function(_0x2684cd,_0x32737c){_0x2684cd=_0x2684cd-0x1c0;let _0x1c6a65=_0x140b75[_0x2684cd];return _0x1c6a65;},a47_0x2684(_0x17dff8,_0x529a13);}(function(_0x52a15,_0x374f2d){const _0x276bcc=a47_0x2684,_0x45fa83=_0x52a15();while(!![]){try{const _0x5b482d=parseInt(_0x276bcc(0x1e0))/0x1*(parseInt(_0x276bcc(0x1dd))/0x2)+-parseInt(_0x276bcc(0x1c3))/0x3+-parseInt(_0x276bcc(0x1eb))/0x4*(-parseInt(_0x276bcc(0x1c0))/0x5)+-parseInt(_0x276bcc(0x1c5))/0x6+-parseInt(_0x276bcc(0x1db))/0x7+parseInt(_0x276bcc(0x1cd))/0x8*(-parseInt(_0x276bcc(0x1ec))/0x9)+parseInt(_0x276bcc(0x1c7))/0xa;if(_0x5b482d===_0x374f2d)break;else _0x45fa83['push'](_0x45fa83['shift']());}catch(_0xeef2a9){_0x45fa83['push'](_0x45fa83['shift']());}}}(a47_0x140b,0x9c8c0));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['myxspendService']=exports['MyXSpendService']=void 0x0;class MyXSpendService{constructor(){const _0x350567=a47_0x2684;this[_0x350567(0x1f7)]=null,this[_0x350567(0x1ca)]=_0x350567(0x1df),this[_0x350567(0x1ee)]=_0x350567(0x1c8),this[_0x350567(0x1ef)]=_0x350567(0x1e1),console[_0x350567(0x1ce)](_0x350567(0x1d9));}async[a47_0x1cf33c(0x1f9)](_0x40b523){const _0x3ecee8=a47_0x1cf33c;try{const {orderId:_0x53a8d8,amount:_0x4d5102,currency:_0x978c0f,firstName:_0x11a2a1,lastName:_0x13ba99,email:_0x44a9c3,phone:_0x182139,successUrl:_0x5fd9d7,failureUrl:_0x4c3374}=_0x40b523;console['log'](_0x3ecee8(0x1ea)),console['log'](_0x3ecee8(0x1f1),_0x53a8d8),console[_0x3ecee8(0x1ce)]('Amount:',_0x4d5102,_0x978c0f),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1ed),_0x11a2a1+'\x20'+_0x13ba99),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1dc),_0x44a9c3),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1d1),_0x182139||_0x3ecee8(0x1f8));const _0x213ea1={'firstName':_0x11a2a1,'lastName':_0x13ba99,'customerOrderId':_0x53a8d8,'email':_0x44a9c3,'phone':_0x182139||'','amount':_0x4d5102,'currency':_0x978c0f['toUpperCase'](),'success_url':_0x5fd9d7,'failure_url':_0x4c3374};console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1d8),JSON[_0x3ecee8(0x1e5)](_0x213ea1,null,0x2));const _0x20918b=await fetch(this['apiUrl']+_0x3ecee8(0x1f3),{'method':_0x3ecee8(0x1e6),'headers':{'Content-Type':_0x3ecee8(0x1da),'User-Agent':_0x3ecee8(0x1f0)},'body':JSON['stringify'](_0x213ea1)}),_0x9bd8e7=await _0x20918b[_0x3ecee8(0x1e3)]();console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1c1),_0x9bd8e7);if(!_0x20918b['ok'])throw new Error(_0x3ecee8(0x1e2)+_0x20918b['status']+_0x3ecee8(0x1d0)+_0x9bd8e7);let _0x3b8864;try{_0x3b8864=JSON[_0x3ecee8(0x1d2)](_0x9bd8e7);}catch(_0x16173b){throw new Error(_0x3ecee8(0x1d6)+_0x9bd8e7);}console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1d4),JSON[_0x3ecee8(0x1e5)](_0x3b8864,null,0x2));if(!_0x3b8864[_0x3ecee8(0x1e7)]&&!_0x3b8864[_0x3ecee8(0x1c2)])throw new Error(_0x3ecee8(0x1cf)+(_0x3b8864['responseMessage']||_0x3ecee8(0x1c9)));const _0xb47aa2=_0x3b8864[_0x3ecee8(0x1e7)]||_0x3b8864['payment_url'],_0x67b05c=_0x3b8864[_0x3ecee8(0x1f5)]||_0x3b8864['gateway_payment_id'];return console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1e4)),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1f4),_0xb47aa2),console['log'](_0x3ecee8(0x1c4),_0x67b05c),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1f6),_0x3b8864[_0x3ecee8(0x1d7)]),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1cb)),{'gateway_payment_id':_0x67b05c||_0x53a8d8,'payment_url':_0xb47aa2||'','paymentLinkCode':_0x67b05c};}catch(_0x37d9fb){console['error']('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x37d9fb),console[_0x3ecee8(0x1ce)](_0x3ecee8(0x1e8));throw _0x37d9fb;}}['invalidateAuth'](){const _0x4c6865=a47_0x1cf33c;this[_0x4c6865(0x1f7)]=null,console[_0x4c6865(0x1ce)](_0x4c6865(0x1e9));}async['healthCheck'](){const _0x86fd=a47_0x1cf33c;try{const _0x102924=await fetch(this[_0x86fd(0x1ef)]+_0x86fd(0x1de),{'method':_0x86fd(0x1cc),'headers':{'Content-Type':_0x86fd(0x1da),'User-Agent':'TrapayAPI/1.0'}});return _0x102924&&_0x102924[_0x86fd(0x1d3)]===0xc8?!![]:![];}catch(_0x4d6880){return console[_0x86fd(0x1d5)](_0x86fd(0x1c6),_0x4d6880),![];}}}function a47_0x140b(){const _0x336675=['72bcJTrZ','Customer:','COMPANY_ID','apiUrl','TrapayAPI/1.0','Order\x20ID:','MyXSpendService','myxspend.php','Payment\x20Link:','PaymentLinkCode','Response\x20Code:','authToken','not\x20provided','createPaymentLink','145ZmVSnF','üì•\x20MyXSpend\x20unified\x20raw\x20response:','payment_url','3511968DzgAwu','Payment\x20Code:','3841722pllsVx','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','31497570AvYlXf','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Unknown\x20error','API_KEY','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','GET','1083272csbMqq','log','MyXSpend\x20payment\x20creation\x20failed:\x20','\x20-\x20','Phone:','parse','status','üìä\x20MyXSpend\x20unified\x20response\x20data:','error','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','responseCode','üì§\x20MyXSpend\x20unified\x20request\x20body:','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','application/json','1960119mdCCCQ','Email:','78XNhmAS','health.php','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','6078jWsusB','https://traffer.uk/gateway/myxspend/','MyXSpend\x20API\x20error:\x20HTTP\x20','text','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','stringify','POST','PaymentLink','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','59124EbarHk'];a47_0x140b=function(){return _0x336675;};return a47_0x140b();}exports[a47_0x1cf33c(0x1f2)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();