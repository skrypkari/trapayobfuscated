'use strict';const a62_0x5d2c28=a62_0x2fd9;(function(_0x11c8ec,_0x3cebf0){const _0x23c8bb=a62_0x2fd9,_0x4f19dd=_0x11c8ec();while(!![]){try{const _0x743ee9=-parseInt(_0x23c8bb(0xb9))/0x1+parseInt(_0x23c8bb(0xa6))/0x2+-parseInt(_0x23c8bb(0xb4))/0x3*(-parseInt(_0x23c8bb(0xc4))/0x4)+-parseInt(_0x23c8bb(0xc6))/0x5+parseInt(_0x23c8bb(0xb5))/0x6+parseInt(_0x23c8bb(0xcc))/0x7+parseInt(_0x23c8bb(0xb3))/0x8*(-parseInt(_0x23c8bb(0xa9))/0x9);if(_0x743ee9===_0x3cebf0)break;else _0x4f19dd['push'](_0x4f19dd['shift']());}catch(_0x5d37b4){_0x4f19dd['push'](_0x4f19dd['shift']());}}}(a62_0x2f47,0x42451));Object[a62_0x5d2c28(0xcf)](exports,'__esModule',{'value':!![]}),exports['myxspendService']=exports[a62_0x5d2c28(0xce)]=void 0x0;function a62_0x2fd9(_0x4f5637,_0x124a2a){_0x4f5637=_0x4f5637-0xa5;const _0x2f4745=a62_0x2f47();let _0x2fd9c9=_0x2f4745[_0x4f5637];return _0x2fd9c9;}function a62_0x2f47(){const _0x517ac9=['1840024UDWNzE','PaymentLink','595160tfsgFz','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','toUpperCase','myxspend.php','error','responseMessage','2500827PIUyCM','Customer:','MyXSpendService','defineProperty','text','apiUrl','stringify','https://traffer.uk/gateway/myxspend/','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','authToken','health.php','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Order\x20ID:','291252HgfReD','Phone:','üìä\x20MyXSpend\x20unified\x20response\x20data:','930519TikNvA','parse','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','Unknown\x20error','PaymentLinkCode','invalidateAuth','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','log','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','40LtCKgq','3cqfJiN','1701564dWaFdn','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','gateway_payment_id','responseCode','339059CWpJDV','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','API_KEY','createPaymentLink','myxspendService','POST','payment_url','status','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','GET','Payment\x20Code:'];a62_0x2f47=function(){return _0x517ac9;};return a62_0x2f47();}class MyXSpendService{constructor(){const _0x241549=a62_0x5d2c28;this['authToken']=null,this[_0x241549(0xbb)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this['COMPANY_ID']=_0x241549(0xb6),this[_0x241549(0xd1)]=_0x241549(0xd3),console[_0x241549(0xb1)](_0x241549(0xb0));}async[a62_0x5d2c28(0xbc)](_0xc1650){const _0x13f619=a62_0x5d2c28;try{const {orderId:_0x1f9972,amount:_0x39a0a3,currency:_0x4c2803,firstName:_0xc8b497,lastName:_0x376db2,email:_0xc5f0da,phone:_0x366303,successUrl:_0xe09d49,failureUrl:_0x15a194}=_0xc1650;console[_0x13f619(0xb1)](_0x13f619(0xc1)),console[_0x13f619(0xb1)](_0x13f619(0xa5),_0x1f9972),console[_0x13f619(0xb1)]('Amount:',_0x39a0a3,_0x4c2803),console[_0x13f619(0xb1)](_0x13f619(0xcd),_0xc8b497+'\x20'+_0x376db2),console['log']('Email:',_0xc5f0da),console['log'](_0x13f619(0xa7),_0x366303||'not\x20provided');const _0x175110={'firstName':_0xc8b497,'lastName':_0x376db2,'customerOrderId':_0x1f9972,'email':_0xc5f0da,'phone':_0x366303||'','amount':_0x39a0a3,'currency':_0x4c2803[_0x13f619(0xc8)](),'success_url':_0xe09d49,'failure_url':_0x15a194};console[_0x13f619(0xb1)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x13f619(0xd2)](_0x175110,null,0x2));const _0x4566d1=await fetch(this[_0x13f619(0xd1)]+_0x13f619(0xc9),{'method':_0x13f619(0xbe),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x13f619(0xd2)](_0x175110)}),_0x3e6c8c=await _0x4566d1[_0x13f619(0xd0)]();console[_0x13f619(0xb1)]('üì•\x20MyXSpend\x20unified\x20raw\x20response:',_0x3e6c8c);if(!_0x4566d1['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x4566d1[_0x13f619(0xc0)]+'\x20-\x20'+_0x3e6c8c);let _0x4efe1a;try{_0x4efe1a=JSON[_0x13f619(0xaa)](_0x3e6c8c);}catch(_0x575fab){throw new Error(_0x13f619(0xab)+_0x3e6c8c);}console[_0x13f619(0xb1)](_0x13f619(0xa8),JSON[_0x13f619(0xd2)](_0x4efe1a,null,0x2));if(!_0x4efe1a[_0x13f619(0xc5)]&&!_0x4efe1a[_0x13f619(0xbf)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x4efe1a[_0x13f619(0xcb)]||_0x13f619(0xad)));const _0x39d88e=_0x4efe1a[_0x13f619(0xc5)]||_0x4efe1a[_0x13f619(0xbf)],_0x2f5e62=_0x4efe1a[_0x13f619(0xae)]||_0x4efe1a[_0x13f619(0xb7)];return console[_0x13f619(0xb1)](_0x13f619(0xba)),console[_0x13f619(0xb1)]('Payment\x20Link:',_0x39d88e),console['log'](_0x13f619(0xc3),_0x2f5e62),console[_0x13f619(0xb1)]('Response\x20Code:',_0x4efe1a[_0x13f619(0xb8)]),console['log'](_0x13f619(0xd4)),{'gateway_payment_id':_0x2f5e62||_0x1f9972,'payment_url':_0x39d88e||'','paymentLinkCode':_0x2f5e62};}catch(_0x59c480){console[_0x13f619(0xca)](_0x13f619(0xac),_0x59c480),console[_0x13f619(0xb1)](_0x13f619(0xd7));throw _0x59c480;}}[a62_0x5d2c28(0xaf)](){const _0x490371=a62_0x5d2c28;this[_0x490371(0xd5)]=null,console['log'](_0x490371(0xc7));}async['healthCheck'](){const _0x7c64d9=a62_0x5d2c28;try{const _0x4c0b14=await fetch(this[_0x7c64d9(0xd1)]+_0x7c64d9(0xd6),{'method':_0x7c64d9(0xc2),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'}});return _0x4c0b14&&_0x4c0b14[_0x7c64d9(0xc0)]===0xc8?!![]:![];}catch(_0x569dcc){return console[_0x7c64d9(0xca)](_0x7c64d9(0xb2),_0x569dcc),![];}}}exports['MyXSpendService']=MyXSpendService,exports[a62_0x5d2c28(0xbd)]=new MyXSpendService();