'use strict';function a49_0x40d6(){const _0x2712d3=['661qZZAgX','Response\x20Code:','TrapayAPI/1.0','health.php','MyXSpend\x20payment\x20creation\x20failed:\x20','MyXSpendService','3359448YjvRUP','PaymentLinkCode','üì§\x20MyXSpend\x20unified\x20request\x20body:','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','Amount:','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','log','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','defineProperty','healthCheck','2322iGqdgi','\x20-\x20','50NkBfyM','invalidateAuth','POST','authToken','text','PaymentLink','__esModule','Unknown\x20error','API_KEY','Phone:','113010VVShYT','8rHkspo','8514002sEhCJQ','createPaymentLink','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','üìä\x20MyXSpend\x20unified\x20response\x20data:','toUpperCase','1282551DYWyie','error','2156NEMjBU','myxspendService','COMPANY_ID','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','apiUrl','GET','1792314YYtDye','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Order\x20ID:','responseCode','MyXSpend\x20API\x20error:\x20HTTP\x20','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','application/json','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','stringify','payment_url','1134906wdZFLt','responseMessage','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Customer:','Payment\x20Code:','status'];a49_0x40d6=function(){return _0x2712d3;};return a49_0x40d6();}const a49_0x2aa380=a49_0x1396;(function(_0x3ed7c3,_0x50bab0){const _0x383116=a49_0x1396,_0x416edf=_0x3ed7c3();while(!![]){try{const _0x3a0d9a=-parseInt(_0x383116(0x14d))/0x1*(-parseInt(_0x383116(0x15d))/0x2)+-parseInt(_0x383116(0x170))/0x3*(-parseInt(_0x383116(0x16a))/0x4)+parseInt(_0x383116(0x15f))/0x5*(-parseInt(_0x383116(0x146))/0x6)+-parseInt(_0x383116(0x16b))/0x7+parseInt(_0x383116(0x153))/0x8+-parseInt(_0x383116(0x178))/0x9+parseInt(_0x383116(0x169))/0xa*(parseInt(_0x383116(0x172))/0xb);if(_0x3a0d9a===_0x50bab0)break;else _0x416edf['push'](_0x416edf['shift']());}catch(_0x53c7ec){_0x416edf['push'](_0x416edf['shift']());}}}(a49_0x40d6,0xe80a8));Object[a49_0x2aa380(0x15b)](exports,a49_0x2aa380(0x165),{'value':!![]}),exports['myxspendService']=exports[a49_0x2aa380(0x152)]=void 0x0;class MyXSpendService{constructor(){const _0x597ed9=a49_0x2aa380;this[_0x597ed9(0x162)]=null,this[_0x597ed9(0x167)]=_0x597ed9(0x175),this[_0x597ed9(0x174)]='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x597ed9(0x176)]='https://traffer.uk/gateway/myxspend/',console[_0x597ed9(0x159)](_0x597ed9(0x17f));}async[a49_0x2aa380(0x16c)](_0x4a7edb){const _0x4098a5=a49_0x2aa380;try{const {orderId:_0x40cba,amount:_0x396c28,currency:_0x2bfd67,firstName:_0x4a9e7f,lastName:_0x57f66c,email:_0x5d3515,phone:_0x3e0db4,successUrl:_0x1f405e,failureUrl:_0x3764b0}=_0x4a7edb;console[_0x4098a5(0x159)](_0x4098a5(0x148)),console['log'](_0x4098a5(0x17a),_0x40cba),console[_0x4098a5(0x159)](_0x4098a5(0x157),_0x396c28,_0x2bfd67),console['log'](_0x4098a5(0x14a),_0x4a9e7f+'\x20'+_0x57f66c),console['log']('Email:',_0x5d3515),console[_0x4098a5(0x159)](_0x4098a5(0x168),_0x3e0db4||'not\x20provided');const _0xe63171={'firstName':_0x4a9e7f,'lastName':_0x57f66c,'customerOrderId':_0x40cba,'email':_0x5d3515,'phone':_0x3e0db4||'','amount':_0x396c28,'currency':_0x2bfd67[_0x4098a5(0x16f)](),'success_url':_0x1f405e,'failure_url':_0x3764b0};console[_0x4098a5(0x159)](_0x4098a5(0x155),JSON[_0x4098a5(0x180)](_0xe63171,null,0x2));const _0x3bf4ab=await fetch(this['apiUrl']+'myxspend.php',{'method':_0x4098a5(0x161),'headers':{'Content-Type':_0x4098a5(0x17e),'User-Agent':_0x4098a5(0x14f)},'body':JSON['stringify'](_0xe63171)}),_0x31fe60=await _0x3bf4ab[_0x4098a5(0x163)]();console[_0x4098a5(0x159)](_0x4098a5(0x179),_0x31fe60);if(!_0x3bf4ab['ok'])throw new Error(_0x4098a5(0x17c)+_0x3bf4ab[_0x4098a5(0x14c)]+_0x4098a5(0x15e)+_0x31fe60);let _0x5c574c;try{_0x5c574c=JSON['parse'](_0x31fe60);}catch(_0xce395){throw new Error(_0x4098a5(0x158)+_0x31fe60);}console['log'](_0x4098a5(0x16e),JSON[_0x4098a5(0x180)](_0x5c574c,null,0x2));if(!_0x5c574c[_0x4098a5(0x164)]&&!_0x5c574c[_0x4098a5(0x145)])throw new Error(_0x4098a5(0x151)+(_0x5c574c[_0x4098a5(0x147)]||_0x4098a5(0x166)));const _0x375483=_0x5c574c['PaymentLink']||_0x5c574c[_0x4098a5(0x145)],_0x53791e=_0x5c574c[_0x4098a5(0x154)]||_0x5c574c['gateway_payment_id'];return console[_0x4098a5(0x159)](_0x4098a5(0x17d)),console['log']('Payment\x20Link:',_0x375483),console[_0x4098a5(0x159)](_0x4098a5(0x14b),_0x53791e),console[_0x4098a5(0x159)](_0x4098a5(0x14e),_0x5c574c[_0x4098a5(0x17b)]),console[_0x4098a5(0x159)](_0x4098a5(0x15a)),{'gateway_payment_id':_0x53791e||_0x40cba,'payment_url':_0x375483||'','paymentLinkCode':_0x53791e};}catch(_0x323177){console[_0x4098a5(0x171)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x323177),console[_0x4098a5(0x159)](_0x4098a5(0x149));throw _0x323177;}}[a49_0x2aa380(0x160)](){const _0xa56b23=a49_0x2aa380;this[_0xa56b23(0x162)]=null,console[_0xa56b23(0x159)](_0xa56b23(0x156));}async[a49_0x2aa380(0x15c)](){const _0xe860b0=a49_0x2aa380;try{const _0x1d184a=await fetch(this[_0xe860b0(0x176)]+_0xe860b0(0x150),{'method':_0xe860b0(0x177),'headers':{'Content-Type':_0xe860b0(0x17e),'User-Agent':'TrapayAPI/1.0'}});return _0x1d184a&&_0x1d184a[_0xe860b0(0x14c)]===0xc8?!![]:![];}catch(_0x439dd6){return console[_0xe860b0(0x171)](_0xe860b0(0x16d),_0x439dd6),![];}}}function a49_0x1396(_0x22f29c,_0x1da1ef){const _0x40d687=a49_0x40d6();return a49_0x1396=function(_0x13963f,_0x1ac265){_0x13963f=_0x13963f-0x145;let _0x1c2394=_0x40d687[_0x13963f];return _0x1c2394;},a49_0x1396(_0x22f29c,_0x1da1ef);}exports['MyXSpendService']=MyXSpendService,exports[a49_0x2aa380(0x173)]=new MyXSpendService();