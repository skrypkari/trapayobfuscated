'use strict';const a59_0x44bb6a=a59_0x6ebc;(function(_0xd37a39,_0x41eca7){const _0x1a5c3e=a59_0x6ebc,_0x1e2449=_0xd37a39();while(!![]){try{const _0x269d6b=parseInt(_0x1a5c3e(0x17c))/0x1+-parseInt(_0x1a5c3e(0x165))/0x2+-parseInt(_0x1a5c3e(0x167))/0x3+-parseInt(_0x1a5c3e(0x177))/0x4*(parseInt(_0x1a5c3e(0x17e))/0x5)+parseInt(_0x1a5c3e(0x163))/0x6*(-parseInt(_0x1a5c3e(0x183))/0x7)+-parseInt(_0x1a5c3e(0x17d))/0x8+parseInt(_0x1a5c3e(0x18b))/0x9;if(_0x269d6b===_0x41eca7)break;else _0x1e2449['push'](_0x1e2449['shift']());}catch(_0x5345de){_0x1e2449['push'](_0x1e2449['shift']());}}}(a59_0x37df,0x1993a));function a59_0x37df(){const _0x178d57=['üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','log','357077iYxysv','Email:','not\x20provided','POST','apiUrl','application/json','MyXSpendService','MyXSpend\x20payment\x20creation\x20failed:\x20','4553514WMfczk','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','PaymentLink','PaymentLinkCode','healthCheck','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','error','COMPANY_ID','Payment\x20Link:','24SohEDT','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','130474JLojHa','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','184005fRWYKp','__esModule','authToken','Payment\x20Code:','myxspendService','Unknown\x20error','parse','status','üì•\x20MyXSpend\x20unified\x20raw\x20response:','üì§\x20MyXSpend\x20unified\x20request\x20body:','üìä\x20MyXSpend\x20unified\x20response\x20data:','myxspend.php','payment_url','https://traffer.uk/gateway/myxspend/','stringify','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','4jMCYOc','toUpperCase','GET','responseMessage','health.php','133801AXJZlw','215008vGVCbB','887465NEFsXw','TrapayAPI/1.0','\x20-\x20'];a59_0x37df=function(){return _0x178d57;};return a59_0x37df();}function a59_0x6ebc(_0x48beb3,_0x20a279){_0x48beb3=_0x48beb3-0x163;const _0x37df02=a59_0x37df();let _0x6ebcf5=_0x37df02[_0x48beb3];return _0x6ebcf5;}Object['defineProperty'](exports,a59_0x44bb6a(0x168),{'value':!![]}),exports['myxspendService']=exports[a59_0x44bb6a(0x189)]=void 0x0;class MyXSpendService{constructor(){const _0x4f36b8=a59_0x44bb6a;this[_0x4f36b8(0x169)]=null,this['API_KEY']=_0x4f36b8(0x18c),this[_0x4f36b8(0x192)]=_0x4f36b8(0x164),this[_0x4f36b8(0x187)]=_0x4f36b8(0x174),console[_0x4f36b8(0x182)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async['createPaymentLink'](_0x4f9916){const _0x85c308=a59_0x44bb6a;try{const {orderId:_0x3d5a2f,amount:_0x3d02e0,currency:_0x1dca60,firstName:_0x3abd27,lastName:_0x438e8d,email:_0x315bca,phone:_0x44ed18,successUrl:_0x55e50c,failureUrl:_0x409440}=_0x4f9916;console[_0x85c308(0x182)](_0x85c308(0x181)),console['log']('Order\x20ID:',_0x3d5a2f),console[_0x85c308(0x182)]('Amount:',_0x3d02e0,_0x1dca60),console['log']('Customer:',_0x3abd27+'\x20'+_0x438e8d),console[_0x85c308(0x182)](_0x85c308(0x184),_0x315bca),console[_0x85c308(0x182)]('Phone:',_0x44ed18||_0x85c308(0x185));const _0x1feb81={'firstName':_0x3abd27,'lastName':_0x438e8d,'customerOrderId':_0x3d5a2f,'email':_0x315bca,'phone':_0x44ed18||'','amount':_0x3d02e0,'currency':_0x1dca60[_0x85c308(0x178)](),'success_url':_0x55e50c,'failure_url':_0x409440};console['log'](_0x85c308(0x170),JSON['stringify'](_0x1feb81,null,0x2));const _0x3f56bd=await fetch(this[_0x85c308(0x187)]+_0x85c308(0x172),{'method':_0x85c308(0x186),'headers':{'Content-Type':_0x85c308(0x188),'User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x85c308(0x175)](_0x1feb81)}),_0x20b6f2=await _0x3f56bd['text']();console[_0x85c308(0x182)](_0x85c308(0x16f),_0x20b6f2);if(!_0x3f56bd['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x3f56bd[_0x85c308(0x16e)]+_0x85c308(0x180)+_0x20b6f2);let _0x42380e;try{_0x42380e=JSON[_0x85c308(0x16d)](_0x20b6f2);}catch(_0x448473){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x20b6f2);}console['log'](_0x85c308(0x171),JSON['stringify'](_0x42380e,null,0x2));if(!_0x42380e[_0x85c308(0x18d)]&&!_0x42380e['payment_url'])throw new Error(_0x85c308(0x18a)+(_0x42380e[_0x85c308(0x17a)]||_0x85c308(0x16c)));const _0x14118e=_0x42380e['PaymentLink']||_0x42380e[_0x85c308(0x173)],_0x8a0a9d=_0x42380e[_0x85c308(0x18e)]||_0x42380e['gateway_payment_id'];return console[_0x85c308(0x182)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x85c308(0x182)](_0x85c308(0x193),_0x14118e),console['log'](_0x85c308(0x16a),_0x8a0a9d),console[_0x85c308(0x182)]('Response\x20Code:',_0x42380e['responseCode']),console[_0x85c308(0x182)](_0x85c308(0x176)),{'gateway_payment_id':_0x8a0a9d||_0x3d5a2f,'payment_url':_0x14118e||'','paymentLinkCode':_0x8a0a9d};}catch(_0xb53c00){console[_0x85c308(0x191)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0xb53c00),console['log']('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0xb53c00;}}['invalidateAuth'](){const _0x509338=a59_0x44bb6a;this['authToken']=null,console[_0x509338(0x182)](_0x509338(0x190));}async[a59_0x44bb6a(0x18f)](){const _0x582f5c=a59_0x44bb6a;try{const _0x366e73=await fetch(this[_0x582f5c(0x187)]+_0x582f5c(0x17b),{'method':_0x582f5c(0x179),'headers':{'Content-Type':'application/json','User-Agent':_0x582f5c(0x17f)}});return _0x366e73&&_0x366e73[_0x582f5c(0x16e)]===0xc8?!![]:![];}catch(_0x2849de){return console[_0x582f5c(0x191)](_0x582f5c(0x166),_0x2849de),![];}}}exports[a59_0x44bb6a(0x189)]=MyXSpendService,exports[a59_0x44bb6a(0x16b)]=new MyXSpendService();