'use strict';const a50_0x29fa1e=a50_0x266d;(function(_0x266639,_0x8c2506){const _0x5f1a45=a50_0x266d,_0x58bc31=_0x266639();while(!![]){try{const _0x51b3e3=-parseInt(_0x5f1a45(0x67))/0x1+parseInt(_0x5f1a45(0x8f))/0x2*(-parseInt(_0x5f1a45(0x89))/0x3)+-parseInt(_0x5f1a45(0x85))/0x4*(-parseInt(_0x5f1a45(0x8d))/0x5)+-parseInt(_0x5f1a45(0x7d))/0x6+-parseInt(_0x5f1a45(0x9f))/0x7+-parseInt(_0x5f1a45(0x81))/0x8*(parseInt(_0x5f1a45(0x91))/0x9)+parseInt(_0x5f1a45(0x7e))/0xa*(parseInt(_0x5f1a45(0x65))/0xb);if(_0x51b3e3===_0x8c2506)break;else _0x58bc31['push'](_0x58bc31['shift']());}catch(_0x3ea715){_0x58bc31['push'](_0x58bc31['shift']());}}}(a50_0x22d5,0x9a17e));function a50_0x266d(_0x70c37d,_0x53fdfa){const _0x22d5d1=a50_0x22d5();return a50_0x266d=function(_0x266d36,_0x44b207){_0x266d36=_0x266d36-0x65;let _0x586a7a=_0x22d5d1[_0x266d36];return _0x586a7a;},a50_0x266d(_0x70c37d,_0x53fdfa);}Object['defineProperty'](exports,a50_0x29fa1e(0x6d),{'value':!![]}),exports[a50_0x29fa1e(0x8a)]=exports[a50_0x29fa1e(0x71)]=void 0x0;class MyXSpendService{constructor(){const _0x509a6f=a50_0x29fa1e;this[_0x509a6f(0x6b)]=null,this['API_KEY']='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this[_0x509a6f(0x88)]=_0x509a6f(0x9a),this[_0x509a6f(0x7f)]=_0x509a6f(0x74),console[_0x509a6f(0x9d)](_0x509a6f(0x96));}async[a50_0x29fa1e(0x7b)](_0x46109f){const _0x397352=a50_0x29fa1e;try{const {orderId:_0x4f2026,amount:_0x23d1e7,currency:_0x117632,firstName:_0x5e5256,lastName:_0x1e0bb3,email:_0x5b31ee,phone:_0x4c3849,successUrl:_0x387600,failureUrl:_0x165121}=_0x46109f;console[_0x397352(0x9d)](_0x397352(0x95)),console[_0x397352(0x9d)](_0x397352(0x6c),_0x4f2026),console[_0x397352(0x9d)]('Amount:',_0x23d1e7,_0x117632),console[_0x397352(0x9d)](_0x397352(0x86),_0x5e5256+'\x20'+_0x1e0bb3),console[_0x397352(0x9d)](_0x397352(0x92),_0x5b31ee),console['log'](_0x397352(0x7c),_0x4c3849||_0x397352(0x6f));const _0x1a923a={'firstName':_0x5e5256,'lastName':_0x1e0bb3,'customerOrderId':_0x4f2026,'email':_0x5b31ee,'phone':_0x4c3849||'','amount':_0x23d1e7,'currency':_0x117632[_0x397352(0x9c)](),'success_url':_0x387600,'failure_url':_0x165121};console[_0x397352(0x9d)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON[_0x397352(0x9b)](_0x1a923a,null,0x2));const _0x18929a=await fetch(this[_0x397352(0x7f)]+_0x397352(0x9e),{'method':_0x397352(0x77),'headers':{'Content-Type':'application/json','User-Agent':_0x397352(0x83)},'body':JSON[_0x397352(0x9b)](_0x1a923a)}),_0x2ce6f4=await _0x18929a[_0x397352(0x87)]();console[_0x397352(0x9d)](_0x397352(0x97),_0x2ce6f4);if(!_0x18929a['ok'])throw new Error(_0x397352(0x6a)+_0x18929a[_0x397352(0x8b)]+_0x397352(0x80)+_0x2ce6f4);let _0x51f356;try{_0x51f356=JSON[_0x397352(0x84)](_0x2ce6f4);}catch(_0x362a0b){throw new Error(_0x397352(0x90)+_0x2ce6f4);}console[_0x397352(0x9d)](_0x397352(0x7a),JSON[_0x397352(0x9b)](_0x51f356,null,0x2));if(!_0x51f356[_0x397352(0x76)]&&!_0x51f356[_0x397352(0x78)])throw new Error(_0x397352(0x93)+(_0x51f356[_0x397352(0x68)]||_0x397352(0x72)));const _0x29fba8=_0x51f356[_0x397352(0x76)]||_0x51f356[_0x397352(0x78)],_0x102ed6=_0x51f356['PaymentLinkCode']||_0x51f356[_0x397352(0x6e)];return console[_0x397352(0x9d)](_0x397352(0x82)),console[_0x397352(0x9d)](_0x397352(0x94),_0x29fba8),console['log'](_0x397352(0x75),_0x102ed6),console[_0x397352(0x9d)](_0x397352(0x98),_0x51f356['responseCode']),console[_0x397352(0x9d)](_0x397352(0x66)),{'gateway_payment_id':_0x102ed6||_0x4f2026,'payment_url':_0x29fba8||'','paymentLinkCode':_0x102ed6};}catch(_0x358cd5){console[_0x397352(0x70)](_0x397352(0x69),_0x358cd5),console[_0x397352(0x9d)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...');throw _0x358cd5;}}[a50_0x29fa1e(0x79)](){const _0x2f2de8=a50_0x29fa1e;this[_0x2f2de8(0x6b)]=null,console[_0x2f2de8(0x9d)](_0x2f2de8(0x8e));}async[a50_0x29fa1e(0x8c)](){const _0x2903a1=a50_0x29fa1e;try{const _0x35c15a=await fetch(this[_0x2903a1(0x7f)]+_0x2903a1(0x73),{'method':'GET','headers':{'Content-Type':'application/json','User-Agent':_0x2903a1(0x83)}});return _0x35c15a&&_0x35c15a[_0x2903a1(0x8b)]===0xc8?!![]:![];}catch(_0x1c7841){return console[_0x2903a1(0x70)](_0x2903a1(0x99),_0x1c7841),![];}}}exports[a50_0x29fa1e(0x71)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();function a50_0x22d5(){const _0x1eb531=['health.php','https://traffer.uk/gateway/myxspend/','Payment\x20Code:','PaymentLink','POST','payment_url','invalidateAuth','üìä\x20MyXSpend\x20unified\x20response\x20data:','createPaymentLink','Phone:','167622taeQPj','10qruTym','apiUrl','\x20-\x20','24YPxNQG','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','TrapayAPI/1.0','parse','11208LcUKIr','Customer:','text','COMPANY_ID','6ttpnKJ','myxspendService','status','healthCheck','25xUNIHL','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','983458YPrtXH','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','2125251cRWrnc','Email:','MyXSpend\x20payment\x20creation\x20failed:\x20','Payment\x20Link:','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','üì•\x20MyXSpend\x20unified\x20raw\x20response:','Response\x20Code:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','stringify','toUpperCase','log','myxspend.php','3253544ZVFIaa','39742131TvSZsx','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','811161jemJHu','responseMessage','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','MyXSpend\x20API\x20error:\x20HTTP\x20','authToken','Order\x20ID:','__esModule','gateway_payment_id','not\x20provided','error','MyXSpendService','Unknown\x20error'];a50_0x22d5=function(){return _0x1eb531;};return a50_0x22d5();}