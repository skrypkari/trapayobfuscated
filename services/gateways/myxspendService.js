'use strict';const a52_0x336fdb=a52_0x5222;(function(_0x24e377,_0xc0cc14){const _0x5270d3=a52_0x5222,_0x57748d=_0x24e377();while(!![]){try{const _0x2dfc13=-parseInt(_0x5270d3(0x15c))/0x1*(-parseInt(_0x5270d3(0x147))/0x2)+-parseInt(_0x5270d3(0x135))/0x3*(-parseInt(_0x5270d3(0x138))/0x4)+-parseInt(_0x5270d3(0x14f))/0x5+parseInt(_0x5270d3(0x163))/0x6*(parseInt(_0x5270d3(0x146))/0x7)+-parseInt(_0x5270d3(0x136))/0x8+parseInt(_0x5270d3(0x144))/0x9+-parseInt(_0x5270d3(0x131))/0xa*(parseInt(_0x5270d3(0x13d))/0xb);if(_0x2dfc13===_0xc0cc14)break;else _0x57748d['push'](_0x57748d['shift']());}catch(_0x147087){_0x57748d['push'](_0x57748d['shift']());}}}(a52_0x21b9,0xbd5c2));Object['defineProperty'](exports,a52_0x336fdb(0x141),{'value':!![]}),exports[a52_0x336fdb(0x151)]=exports[a52_0x336fdb(0x15d)]=void 0x0;function a52_0x5222(_0x5bfb7e,_0x4ff9fa){const _0x21b94f=a52_0x21b9();return a52_0x5222=function(_0x52222f,_0x247077){_0x52222f=_0x52222f-0x131;let _0x1dfc28=_0x21b94f[_0x52222f];return _0x1dfc28;},a52_0x5222(_0x5bfb7e,_0x4ff9fa);}class MyXSpendService{constructor(){const _0x28d8bb=a52_0x336fdb;this[_0x28d8bb(0x14a)]=null,this[_0x28d8bb(0x165)]=_0x28d8bb(0x160),this[_0x28d8bb(0x13f)]=_0x28d8bb(0x150),this['apiUrl']=_0x28d8bb(0x158),console[_0x28d8bb(0x13b)](_0x28d8bb(0x154));}async[a52_0x336fdb(0x133)](_0x5dc85c){const _0x4f6299=a52_0x336fdb;try{const {orderId:_0x1517b1,amount:_0x550d73,currency:_0x2a2518,firstName:_0x38f447,lastName:_0x54a075,email:_0x491702,phone:_0x1f97b9,successUrl:_0x46ea75,failureUrl:_0x3528eb}=_0x5dc85c;console[_0x4f6299(0x13b)](_0x4f6299(0x168)),console[_0x4f6299(0x13b)](_0x4f6299(0x169),_0x1517b1),console[_0x4f6299(0x13b)](_0x4f6299(0x167),_0x550d73,_0x2a2518),console[_0x4f6299(0x13b)](_0x4f6299(0x15f),_0x38f447+'\x20'+_0x54a075),console[_0x4f6299(0x13b)]('Email:',_0x491702),console[_0x4f6299(0x13b)](_0x4f6299(0x13c),_0x1f97b9||_0x4f6299(0x137));const _0x53ff74={'firstName':_0x38f447,'lastName':_0x54a075,'customerOrderId':_0x1517b1,'email':_0x491702,'phone':_0x1f97b9||'','amount':_0x550d73,'currency':_0x2a2518['toUpperCase'](),'success_url':_0x46ea75,'failure_url':_0x3528eb};console[_0x4f6299(0x13b)](_0x4f6299(0x145),JSON[_0x4f6299(0x132)](_0x53ff74,null,0x2));const _0x5f38ab=await fetch(this[_0x4f6299(0x16b)]+_0x4f6299(0x139),{'method':_0x4f6299(0x156),'headers':{'Content-Type':_0x4f6299(0x161),'User-Agent':'TrapayAPI/1.0'},'body':JSON['stringify'](_0x53ff74)}),_0x521032=await _0x5f38ab[_0x4f6299(0x15e)]();console[_0x4f6299(0x13b)](_0x4f6299(0x16a),_0x521032);if(!_0x5f38ab['ok'])throw new Error(_0x4f6299(0x142)+_0x5f38ab[_0x4f6299(0x149)]+_0x4f6299(0x148)+_0x521032);let _0x191831;try{_0x191831=JSON[_0x4f6299(0x157)](_0x521032);}catch(_0x5f3d80){throw new Error(_0x4f6299(0x13e)+_0x521032);}console[_0x4f6299(0x13b)](_0x4f6299(0x162),JSON[_0x4f6299(0x132)](_0x191831,null,0x2));if(!_0x191831[_0x4f6299(0x16c)]&&!_0x191831[_0x4f6299(0x14e)])throw new Error(_0x4f6299(0x159)+(_0x191831[_0x4f6299(0x155)]||_0x4f6299(0x15a)));const _0x37bbbe=_0x191831[_0x4f6299(0x16c)]||_0x191831[_0x4f6299(0x14e)],_0x4b16ed=_0x191831['PaymentLinkCode']||_0x191831['gateway_payment_id'];return console[_0x4f6299(0x13b)](_0x4f6299(0x140)),console['log'](_0x4f6299(0x14c),_0x37bbbe),console[_0x4f6299(0x13b)](_0x4f6299(0x13a),_0x4b16ed),console[_0x4f6299(0x13b)](_0x4f6299(0x143),_0x191831[_0x4f6299(0x166)]),console[_0x4f6299(0x13b)]('üìù\x20Logging\x20unified\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x4b16ed||_0x1517b1,'payment_url':_0x37bbbe||'','paymentLinkCode':_0x4b16ed};}catch(_0x358315){console[_0x4f6299(0x134)](_0x4f6299(0x14d),_0x358315),console[_0x4f6299(0x13b)](_0x4f6299(0x15b));throw _0x358315;}}[a52_0x336fdb(0x164)](){const _0x3bdc74=a52_0x336fdb;this['authToken']=null,console[_0x3bdc74(0x13b)](_0x3bdc74(0x152));}async['healthCheck'](){const _0x27a187=a52_0x336fdb;try{const _0x20b54c=await fetch(this['apiUrl']+_0x27a187(0x153),{'method':_0x27a187(0x14b),'headers':{'Content-Type':_0x27a187(0x161),'User-Agent':'TrapayAPI/1.0'}});return _0x20b54c&&_0x20b54c[_0x27a187(0x149)]===0xc8?!![]:![];}catch(_0x3a80f5){return console[_0x27a187(0x134)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0x3a80f5),![];}}}function a52_0x21b9(){const _0x9c3f32=['__esModule','MyXSpend\x20API\x20error:\x20HTTP\x20','Response\x20Code:','9381186GeIzCd','üì§\x20MyXSpend\x20unified\x20request\x20body:','140mzEOXp','19486fuLzZx','\x20-\x20','status','authToken','GET','Payment\x20Link:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','payment_url','6526140birVsc','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','myxspendService','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','health.php','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','responseMessage','POST','parse','https://traffer.uk/gateway/myxspend/','MyXSpend\x20payment\x20creation\x20failed:\x20','Unknown\x20error','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','152cvFvoN','MyXSpendService','text','Customer:','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','application/json','üìä\x20MyXSpend\x20unified\x20response\x20data:','380634uXOnPN','invalidateAuth','API_KEY','responseCode','Amount:','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','Order\x20ID:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','apiUrl','PaymentLink','442490SByAjc','stringify','createPaymentLink','error','903711XzrFRT','11075752WDjmHQ','not\x20provided','8JJBcko','myxspend.php','Payment\x20Code:','log','Phone:','231MrwYKe','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','COMPANY_ID','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'];a52_0x21b9=function(){return _0x9c3f32;};return a52_0x21b9();}exports[a52_0x336fdb(0x15d)]=MyXSpendService,exports[a52_0x336fdb(0x151)]=new MyXSpendService();