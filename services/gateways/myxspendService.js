'use strict';const a50_0x59987b=a50_0x1676;(function(_0xd9f70e,_0x2b9e3b){const _0x151605=a50_0x1676,_0x3ce8d0=_0xd9f70e();while(!![]){try{const _0x5d19dc=parseInt(_0x151605(0x153))/0x1*(parseInt(_0x151605(0x16a))/0x2)+parseInt(_0x151605(0x15f))/0x3+-parseInt(_0x151605(0x165))/0x4*(parseInt(_0x151605(0x14e))/0x5)+-parseInt(_0x151605(0x13d))/0x6+-parseInt(_0x151605(0x16d))/0x7*(-parseInt(_0x151605(0x14a))/0x8)+parseInt(_0x151605(0x167))/0x9+parseInt(_0x151605(0x159))/0xa*(-parseInt(_0x151605(0x139))/0xb);if(_0x5d19dc===_0x2b9e3b)break;else _0x3ce8d0['push'](_0x3ce8d0['shift']());}catch(_0x3fb1bf){_0x3ce8d0['push'](_0x3ce8d0['shift']());}}}(a50_0x3e06,0xd1c36));Object['defineProperty'](exports,a50_0x59987b(0x147),{'value':!![]}),exports['myxspendService']=exports[a50_0x59987b(0x169)]=void 0x0;function a50_0x3e06(){const _0x46811c=['Customer:','TrapayAPI/1.0','health.php','__esModule','MyXSpend\x20payment\x20creation\x20failed:\x20','stringify','8fYPqPu','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','toUpperCase','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','95345qydhwe','API_KEY','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','payment_url','Email:','48540GZsbHL','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','GET','responseMessage','7899770IDJnur','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','gateway_payment_id','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','PaymentLinkCode','log','698097djgmiH','üì§\x20MyXSpend\x20unified\x20request\x20body:','error','invalidateAuth','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','status','24bwnhJY','Payment\x20Code:','2283885mZpjFg','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','MyXSpendService','46jEYVzw','healthCheck','application/json','8576057RhEMkA','Order\x20ID:','Unknown\x20error','üìä\x20MyXSpend\x20unified\x20response\x20data:','authToken','parse','22RTxCGH','COMPANY_ID','responseCode','üì•\x20MyXSpend\x20unified\x20raw\x20response:','1646862essrQV','POST','PaymentLink','not\x20provided','Response\x20Code:','apiUrl','Payment\x20Link:'];a50_0x3e06=function(){return _0x46811c;};return a50_0x3e06();}function a50_0x1676(_0x14e459,_0x4077f9){const _0x3e06b5=a50_0x3e06();return a50_0x1676=function(_0x1676cc,_0x146dfe){_0x1676cc=_0x1676cc-0x136;let _0x3d8b1b=_0x3e06b5[_0x1676cc];return _0x3d8b1b;},a50_0x1676(_0x14e459,_0x4077f9);}class MyXSpendService{constructor(){const _0x2b4f98=a50_0x59987b;this[_0x2b4f98(0x137)]=null,this[_0x2b4f98(0x14f)]=_0x2b4f98(0x156),this[_0x2b4f98(0x13a)]=_0x2b4f98(0x150),this[_0x2b4f98(0x142)]='https://traffer.uk/gateway/myxspend/',console[_0x2b4f98(0x15e)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async['createPaymentLink'](_0x446e02){const _0x2fa0bc=a50_0x59987b;try{const {orderId:_0xa1522d,amount:_0x150dfc,currency:_0x3412a9,firstName:_0x3da1cf,lastName:_0x594a5d,email:_0x2ddccb,phone:_0x282804,successUrl:_0x3f3420,failureUrl:_0x5b53f5}=_0x446e02;console['log'](_0x2fa0bc(0x15a)),console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x16e),_0xa1522d),console['log']('Amount:',_0x150dfc,_0x3412a9),console['log'](_0x2fa0bc(0x144),_0x3da1cf+'\x20'+_0x594a5d),console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x152),_0x2ddccb),console[_0x2fa0bc(0x15e)]('Phone:',_0x282804||_0x2fa0bc(0x140));const _0x5e60a5={'firstName':_0x3da1cf,'lastName':_0x594a5d,'customerOrderId':_0xa1522d,'email':_0x2ddccb,'phone':_0x282804||'','amount':_0x150dfc,'currency':_0x3412a9[_0x2fa0bc(0x14c)](),'success_url':_0x3f3420,'failure_url':_0x5b53f5};console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x160),JSON['stringify'](_0x5e60a5,null,0x2));const _0x86693a=await fetch(this[_0x2fa0bc(0x142)]+'myxspend.php',{'method':_0x2fa0bc(0x13e),'headers':{'Content-Type':'application/json','User-Agent':'TrapayAPI/1.0'},'body':JSON[_0x2fa0bc(0x149)](_0x5e60a5)}),_0x56d28a=await _0x86693a['text']();console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x13c),_0x56d28a);if(!_0x86693a['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x86693a[_0x2fa0bc(0x164)]+'\x20-\x20'+_0x56d28a);let _0x50df61;try{_0x50df61=JSON[_0x2fa0bc(0x138)](_0x56d28a);}catch(_0x5edf22){throw new Error(_0x2fa0bc(0x155)+_0x56d28a);}console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x136),JSON['stringify'](_0x50df61,null,0x2));if(!_0x50df61[_0x2fa0bc(0x13f)]&&!_0x50df61[_0x2fa0bc(0x151)])throw new Error(_0x2fa0bc(0x148)+(_0x50df61[_0x2fa0bc(0x158)]||_0x2fa0bc(0x16f)));const _0x271224=_0x50df61['PaymentLink']||_0x50df61[_0x2fa0bc(0x151)],_0x2b3236=_0x50df61[_0x2fa0bc(0x15d)]||_0x50df61[_0x2fa0bc(0x15b)];return console['log'](_0x2fa0bc(0x14b)),console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x143),_0x271224),console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x166),_0x2b3236),console['log'](_0x2fa0bc(0x141),_0x50df61[_0x2fa0bc(0x13b)]),console['log'](_0x2fa0bc(0x14d)),{'gateway_payment_id':_0x2b3236||_0xa1522d,'payment_url':_0x271224||'','paymentLinkCode':_0x2b3236};}catch(_0x1b358d){console[_0x2fa0bc(0x161)](_0x2fa0bc(0x15c),_0x1b358d),console[_0x2fa0bc(0x15e)](_0x2fa0bc(0x168));throw _0x1b358d;}}[a50_0x59987b(0x162)](){const _0x54329d=a50_0x59987b;this[_0x54329d(0x137)]=null,console[_0x54329d(0x15e)](_0x54329d(0x154));}async[a50_0x59987b(0x16b)](){const _0xd63597=a50_0x59987b;try{const _0x3e66e7=await fetch(this[_0xd63597(0x142)]+_0xd63597(0x146),{'method':_0xd63597(0x157),'headers':{'Content-Type':_0xd63597(0x16c),'User-Agent':_0xd63597(0x145)}});return _0x3e66e7&&_0x3e66e7['status']===0xc8?!![]:![];}catch(_0x397a90){return console[_0xd63597(0x161)](_0xd63597(0x163),_0x397a90),![];}}}exports[a50_0x59987b(0x169)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();