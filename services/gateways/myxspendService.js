'use strict';const a52_0x463bcc=a52_0x19d3;(function(_0x5c0f16,_0xdc18cd){const _0x47d85c=a52_0x19d3,_0x5c3ab3=_0x5c0f16();while(!![]){try{const _0x5ca829=-parseInt(_0x47d85c(0xfa))/0x1*(-parseInt(_0x47d85c(0xf6))/0x2)+-parseInt(_0x47d85c(0x120))/0x3*(-parseInt(_0x47d85c(0xf7))/0x4)+-parseInt(_0x47d85c(0x112))/0x5+parseInt(_0x47d85c(0x12f))/0x6*(parseInt(_0x47d85c(0x124))/0x7)+-parseInt(_0x47d85c(0x11f))/0x8+-parseInt(_0x47d85c(0xf9))/0x9*(-parseInt(_0x47d85c(0xf8))/0xa)+-parseInt(_0x47d85c(0xfe))/0xb;if(_0x5ca829===_0xdc18cd)break;else _0x5c3ab3['push'](_0x5c3ab3['shift']());}catch(_0x5801f4){_0x5c3ab3['push'](_0x5c3ab3['shift']());}}}(a52_0x51aa,0x9f481));function a52_0x19d3(_0x1a5fa4,_0x319199){const _0x51aa28=a52_0x51aa();return a52_0x19d3=function(_0x19d3c5,_0x1ecdc6){_0x19d3c5=_0x19d3c5-0xf4;let _0x5463f9=_0x51aa28[_0x19d3c5];return _0x5463f9;},a52_0x19d3(_0x1a5fa4,_0x319199);}Object[a52_0x463bcc(0x100)](exports,a52_0x463bcc(0x106),{'value':!![]}),exports[a52_0x463bcc(0x115)]=exports['MyXSpendService']=void 0x0;function a52_0x51aa(){const _0x170768=['15254063awWaxZ','Order\x20ID:','defineProperty','createPaymentLink','application/json','TrapayAPI/1.0','Unknown\x20error','üìä\x20MyXSpend\x20unified\x20response\x20data:','__esModule','invalidateAuth','Payment\x20Code:','log','authToken','status','payment_url','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Amount:','Email:','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','gateway_payment_id','5961365YYMUiD','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','Payment\x20Link:','myxspendService','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','healthCheck','\x20-\x20','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','GET','toUpperCase','stringify','6288168dVAalr','81960ATNmzR','PaymentLinkCode','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','POST','62349cLfnMu','MyXSpendService','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','COMPANY_ID','myxspend.php','API_KEY','responseCode','https://traffer.uk/gateway/myxspend/','apiUrl','Phone:','Customer:','852pqZnHW','health.php','error','üì§\x20MyXSpend\x20unified\x20request\x20body:','2270eVjkVi','64Pjwfzg','17050eIwdGj','6597DvTkic','939mjDKeq','MyXSpend\x20API\x20error:\x20HTTP\x20','responseMessage','PaymentLink'];a52_0x51aa=function(){return _0x170768;};return a52_0x51aa();}class MyXSpendService{constructor(){const _0x2e0460=a52_0x463bcc;this[_0x2e0460(0x10a)]=null,this[_0x2e0460(0x129)]=_0x2e0460(0x11a),this[_0x2e0460(0x127)]=_0x2e0460(0x122),this[_0x2e0460(0x12c)]=_0x2e0460(0x12b),console[_0x2e0460(0x109)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async[a52_0x463bcc(0x101)](_0x11ae5f){const _0x44ed3a=a52_0x463bcc;try{const {orderId:_0x3e1118,amount:_0x2bef70,currency:_0x14a1cc,firstName:_0x38c778,lastName:_0x563e11,email:_0x27004a,phone:_0xabb7d2,successUrl:_0x4e5b47,failureUrl:_0x3b14ac}=_0x11ae5f;console[_0x44ed3a(0x109)](_0x44ed3a(0x113)),console[_0x44ed3a(0x109)](_0x44ed3a(0xff),_0x3e1118),console[_0x44ed3a(0x109)](_0x44ed3a(0x10e),_0x2bef70,_0x14a1cc),console[_0x44ed3a(0x109)](_0x44ed3a(0x12e),_0x38c778+'\x20'+_0x563e11),console[_0x44ed3a(0x109)](_0x44ed3a(0x10f),_0x27004a),console[_0x44ed3a(0x109)](_0x44ed3a(0x12d),_0xabb7d2||'not\x20provided');const _0x501015={'firstName':_0x38c778,'lastName':_0x563e11,'customerOrderId':_0x3e1118,'email':_0x27004a,'phone':_0xabb7d2||'','amount':_0x2bef70,'currency':_0x14a1cc[_0x44ed3a(0x11d)](),'success_url':_0x4e5b47,'failure_url':_0x3b14ac};console[_0x44ed3a(0x109)](_0x44ed3a(0xf5),JSON[_0x44ed3a(0x11e)](_0x501015,null,0x2));const _0x4918a2=await fetch(this[_0x44ed3a(0x12c)]+_0x44ed3a(0x128),{'method':_0x44ed3a(0x123),'headers':{'Content-Type':_0x44ed3a(0x102),'User-Agent':_0x44ed3a(0x103)},'body':JSON[_0x44ed3a(0x11e)](_0x501015)}),_0x1f463a=await _0x4918a2['text']();console[_0x44ed3a(0x109)](_0x44ed3a(0x117),_0x1f463a);if(!_0x4918a2['ok'])throw new Error(_0x44ed3a(0xfb)+_0x4918a2[_0x44ed3a(0x10b)]+_0x44ed3a(0x119)+_0x1f463a);let _0x34da9c;try{_0x34da9c=JSON['parse'](_0x1f463a);}catch(_0xbecbe2){throw new Error(_0x44ed3a(0x11b)+_0x1f463a);}console[_0x44ed3a(0x109)](_0x44ed3a(0x105),JSON[_0x44ed3a(0x11e)](_0x34da9c,null,0x2));if(!_0x34da9c['PaymentLink']&&!_0x34da9c[_0x44ed3a(0x10c)])throw new Error('MyXSpend\x20payment\x20creation\x20failed:\x20'+(_0x34da9c[_0x44ed3a(0xfc)]||_0x44ed3a(0x104)));const _0x5cb5ba=_0x34da9c[_0x44ed3a(0xfd)]||_0x34da9c['payment_url'],_0x53c9f4=_0x34da9c[_0x44ed3a(0x121)]||_0x34da9c[_0x44ed3a(0x111)];return console[_0x44ed3a(0x109)](_0x44ed3a(0x126)),console[_0x44ed3a(0x109)](_0x44ed3a(0x114),_0x5cb5ba),console[_0x44ed3a(0x109)](_0x44ed3a(0x108),_0x53c9f4),console[_0x44ed3a(0x109)]('Response\x20Code:',_0x34da9c[_0x44ed3a(0x12a)]),console[_0x44ed3a(0x109)](_0x44ed3a(0x110)),{'gateway_payment_id':_0x53c9f4||_0x3e1118,'payment_url':_0x5cb5ba||'','paymentLinkCode':_0x53c9f4};}catch(_0x4e6033){console[_0x44ed3a(0xf4)](_0x44ed3a(0x116),_0x4e6033),console[_0x44ed3a(0x109)](_0x44ed3a(0x10d));throw _0x4e6033;}}[a52_0x463bcc(0x107)](){const _0x4b6a06=a52_0x463bcc;this[_0x4b6a06(0x10a)]=null,console[_0x4b6a06(0x109)]('üîê\x20MyXSpend\x20auth\x20token\x20invalidated');}async[a52_0x463bcc(0x118)](){const _0x4144ee=a52_0x463bcc;try{const _0x19d4d2=await fetch(this['apiUrl']+_0x4144ee(0x130),{'method':_0x4144ee(0x11c),'headers':{'Content-Type':'application/json','User-Agent':_0x4144ee(0x103)}});return _0x19d4d2&&_0x19d4d2[_0x4144ee(0x10b)]===0xc8?!![]:![];}catch(_0xb58b8e){return console[_0x4144ee(0xf4)]('‚ùå\x20MyXSpend\x20health\x20check\x20failed:',_0xb58b8e),![];}}}exports[a52_0x463bcc(0x125)]=MyXSpendService,exports[a52_0x463bcc(0x115)]=new MyXSpendService();