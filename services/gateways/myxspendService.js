'use strict';const a62_0x2e2238=a62_0x4f53;function a62_0x4cdb(){const _0x3641bd=['payment_url','9lwnMev','8965376AJTlAk','myxspend.php','Response\x20Code:','5NWELCj','stringify','__esModule','error','Order\x20ID:','üì§\x20MyXSpend\x20unified\x20request\x20body:','üì•\x20MyXSpend\x20unified\x20raw\x20response:','‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:','text','log','GET','MyXSpend\x20payment\x20creation\x20failed:\x20','3zKxrrT','Unknown\x20error','6628470nQwkOd','Amount:','PaymentLinkCode','responseMessage','status','myxspendService','defineProperty','PaymentLink','Phone:','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','createPaymentLink','538116QgZzob','application/json','gateway_payment_id','986788VfCYja','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','authToken','healthCheck','üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...','759260ZOhJDQ','https://traffer.uk/gateway/myxspend/','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','TrapayAPI/1.0','17099890KhPJSK','MyXSpend\x20API\x20error:\x20HTTP\x20','MyXSpendService','apiUrl','9757258FmHcNC','API_KEY','üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing','Payment\x20Link:','Customer:','toUpperCase','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','Email:'];a62_0x4cdb=function(){return _0x3641bd;};return a62_0x4cdb();}(function(_0xf95fb,_0x5def6a){const _0x24583f=a62_0x4f53,_0x573605=_0xf95fb();while(!![]){try{const _0x6993ab=parseInt(_0x24583f(0x20f))/0x1+parseInt(_0x24583f(0x214))/0x2+-parseInt(_0x24583f(0x1ff))/0x3*(parseInt(_0x24583f(0x20c))/0x4)+parseInt(_0x24583f(0x1f3))/0x5*(-parseInt(_0x24583f(0x201))/0x6)+parseInt(_0x24583f(0x1e6))/0x7+parseInt(_0x24583f(0x1f0))/0x8+-parseInt(_0x24583f(0x1ef))/0x9*(parseInt(_0x24583f(0x1e2))/0xa);if(_0x6993ab===_0x5def6a)break;else _0x573605['push'](_0x573605['shift']());}catch(_0x5dc945){_0x573605['push'](_0x573605['shift']());}}}(a62_0x4cdb,0xe3789));function a62_0x4f53(_0x426699,_0x4467b5){_0x426699=_0x426699-0x1e0;const _0x4cdb81=a62_0x4cdb();let _0x4f5340=_0x4cdb81[_0x426699];return _0x4f5340;}Object[a62_0x2e2238(0x207)](exports,a62_0x2e2238(0x1f5),{'value':!![]}),exports['myxspendService']=exports[a62_0x2e2238(0x1e4)]=void 0x0;class MyXSpendService{constructor(){const _0x114c7c=a62_0x2e2238;this[_0x114c7c(0x211)]=null,this[_0x114c7c(0x1e7)]='EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT',this['COMPANY_ID']='82dcbd4a-a838-47f9-ae21-8dac9a8f1622',this[_0x114c7c(0x1e5)]=_0x114c7c(0x215),console[_0x114c7c(0x1fc)](_0x114c7c(0x1e8));}async[a62_0x2e2238(0x20b)](_0x2f1a9e){const _0x22a58a=a62_0x2e2238;try{const {orderId:_0x41d452,amount:_0x52a8fa,currency:_0x2233bb,firstName:_0x5a1894,lastName:_0x22f451,email:_0x4b6631,phone:_0x4b52d0,successUrl:_0x512fca,failureUrl:_0x5c3512}=_0x2f1a9e;console[_0x22a58a(0x1fc)](_0x22a58a(0x213)),console[_0x22a58a(0x1fc)](_0x22a58a(0x1f7),_0x41d452),console['log'](_0x22a58a(0x202),_0x52a8fa,_0x2233bb),console[_0x22a58a(0x1fc)](_0x22a58a(0x1ea),_0x5a1894+'\x20'+_0x22f451),console[_0x22a58a(0x1fc)](_0x22a58a(0x1ed),_0x4b6631),console[_0x22a58a(0x1fc)](_0x22a58a(0x209),_0x4b52d0||'not\x20provided');const _0x3ddc2={'firstName':_0x5a1894,'lastName':_0x22f451,'customerOrderId':_0x41d452,'email':_0x4b6631,'phone':_0x4b52d0||'','amount':_0x52a8fa,'currency':_0x2233bb[_0x22a58a(0x1eb)](),'success_url':_0x512fca,'failure_url':_0x5c3512};console[_0x22a58a(0x1fc)](_0x22a58a(0x1f8),JSON[_0x22a58a(0x1f4)](_0x3ddc2,null,0x2));const _0x550b25=await fetch(this[_0x22a58a(0x1e5)]+_0x22a58a(0x1f1),{'method':'POST','headers':{'Content-Type':_0x22a58a(0x20d),'User-Agent':_0x22a58a(0x1e1)},'body':JSON[_0x22a58a(0x1f4)](_0x3ddc2)}),_0x28c30f=await _0x550b25[_0x22a58a(0x1fb)]();console[_0x22a58a(0x1fc)](_0x22a58a(0x1f9),_0x28c30f);if(!_0x550b25['ok'])throw new Error(_0x22a58a(0x1e3)+_0x550b25[_0x22a58a(0x205)]+'\x20-\x20'+_0x28c30f);let _0x22f6a5;try{_0x22f6a5=JSON['parse'](_0x28c30f);}catch(_0x201203){throw new Error('Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20'+_0x28c30f);}console[_0x22a58a(0x1fc)]('üìä\x20MyXSpend\x20unified\x20response\x20data:',JSON[_0x22a58a(0x1f4)](_0x22f6a5,null,0x2));if(!_0x22f6a5[_0x22a58a(0x208)]&&!_0x22f6a5[_0x22a58a(0x1ee)])throw new Error(_0x22a58a(0x1fe)+(_0x22f6a5[_0x22a58a(0x204)]||_0x22a58a(0x200)));const _0x598072=_0x22f6a5['PaymentLink']||_0x22f6a5[_0x22a58a(0x1ee)],_0x42e7bb=_0x22f6a5[_0x22a58a(0x203)]||_0x22f6a5[_0x22a58a(0x20e)];return console[_0x22a58a(0x1fc)]('‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully'),console[_0x22a58a(0x1fc)](_0x22a58a(0x1e9),_0x598072),console[_0x22a58a(0x1fc)]('Payment\x20Code:',_0x42e7bb),console[_0x22a58a(0x1fc)](_0x22a58a(0x1f2),_0x22f6a5['responseCode']),console[_0x22a58a(0x1fc)](_0x22a58a(0x1e0)),{'gateway_payment_id':_0x42e7bb||_0x41d452,'payment_url':_0x598072||'','paymentLinkCode':_0x42e7bb};}catch(_0xcae5b8){console[_0x22a58a(0x1f6)](_0x22a58a(0x1fa),_0xcae5b8),console[_0x22a58a(0x1fc)](_0x22a58a(0x1ec));throw _0xcae5b8;}}['invalidateAuth'](){const _0x1ecc1c=a62_0x2e2238;this['authToken']=null,console[_0x1ecc1c(0x1fc)](_0x1ecc1c(0x20a));}async[a62_0x2e2238(0x212)](){const _0x4c0198=a62_0x2e2238;try{const _0x3852eb=await fetch(this[_0x4c0198(0x1e5)]+'health.php',{'method':_0x4c0198(0x1fd),'headers':{'Content-Type':_0x4c0198(0x20d),'User-Agent':_0x4c0198(0x1e1)}});return _0x3852eb&&_0x3852eb[_0x4c0198(0x205)]===0xc8?!![]:![];}catch(_0x4dcb75){return console[_0x4c0198(0x1f6)](_0x4c0198(0x210),_0x4dcb75),![];}}}exports[a62_0x2e2238(0x1e4)]=MyXSpendService,exports[a62_0x2e2238(0x206)]=new MyXSpendService();