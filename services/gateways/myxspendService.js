'use strict';const a52_0x157dc8=a52_0x5f0b;(function(_0x37637a,_0x4c18d6){const _0x5e7fe2=a52_0x5f0b,_0x17005e=_0x37637a();while(!![]){try{const _0x1d8c17=parseInt(_0x5e7fe2(0x77))/0x1+parseInt(_0x5e7fe2(0x75))/0x2+parseInt(_0x5e7fe2(0x96))/0x3*(parseInt(_0x5e7fe2(0x6e))/0x4)+parseInt(_0x5e7fe2(0x73))/0x5+-parseInt(_0x5e7fe2(0x8d))/0x6+parseInt(_0x5e7fe2(0xa6))/0x7*(parseInt(_0x5e7fe2(0x7e))/0x8)+-parseInt(_0x5e7fe2(0x84))/0x9*(parseInt(_0x5e7fe2(0x9c))/0xa);if(_0x1d8c17===_0x4c18d6)break;else _0x17005e['push'](_0x17005e['shift']());}catch(_0x50caca){_0x17005e['push'](_0x17005e['shift']());}}}(a52_0x5809,0x68fcf));Object[a52_0x157dc8(0x98)](exports,a52_0x157dc8(0x78),{'value':!![]}),exports[a52_0x157dc8(0x81)]=exports[a52_0x157dc8(0x8f)]=void 0x0;class MyXSpendService{constructor(){const _0x51fd1e=a52_0x157dc8;this['authToken']=null,this[_0x51fd1e(0x7f)]=_0x51fd1e(0x86),this[_0x51fd1e(0x6f)]=_0x51fd1e(0x90),this['apiUrl']=_0x51fd1e(0x83),console[_0x51fd1e(0x7c)]('üá≤üáΩ\x20MyXSpend\x20service\x20initialized\x20with\x20unified\x20payment\x20processing');}async['createPaymentLink'](_0x16cfc0){const _0x3769ea=a52_0x157dc8;try{const {orderId:_0x391489,amount:_0x3f4b27,currency:_0x2d9ad8,firstName:_0x4963c5,lastName:_0x28696b,email:_0x3fa7e9,phone:_0x3e7b3f,successUrl:_0x51c8c7,failureUrl:_0x271f81}=_0x16cfc0;console['log']('üá≤üáΩ\x20Creating\x20MyXSpend\x20payment\x20link\x20(unified)...'),console[_0x3769ea(0x7c)](_0x3769ea(0x91),_0x391489),console[_0x3769ea(0x7c)](_0x3769ea(0xa2),_0x3f4b27,_0x2d9ad8),console['log'](_0x3769ea(0x9b),_0x4963c5+'\x20'+_0x28696b),console[_0x3769ea(0x7c)](_0x3769ea(0x8c),_0x3fa7e9),console['log'](_0x3769ea(0x6d),_0x3e7b3f||_0x3769ea(0xa7));const _0x29c395={'firstName':_0x4963c5,'lastName':_0x28696b,'customerOrderId':_0x391489,'email':_0x3fa7e9,'phone':_0x3e7b3f||'','amount':_0x3f4b27,'currency':_0x2d9ad8[_0x3769ea(0x76)](),'success_url':_0x51c8c7,'failure_url':_0x271f81};console[_0x3769ea(0x7c)]('üì§\x20MyXSpend\x20unified\x20request\x20body:',JSON['stringify'](_0x29c395,null,0x2));const _0x144e52=await fetch(this[_0x3769ea(0x94)]+_0x3769ea(0x7b),{'method':_0x3769ea(0x82),'headers':{'Content-Type':_0x3769ea(0x7d),'User-Agent':_0x3769ea(0x9a)},'body':JSON['stringify'](_0x29c395)}),_0x2a7748=await _0x144e52[_0x3769ea(0x93)]();console[_0x3769ea(0x7c)](_0x3769ea(0x97),_0x2a7748);if(!_0x144e52['ok'])throw new Error('MyXSpend\x20API\x20error:\x20HTTP\x20'+_0x144e52[_0x3769ea(0xa1)]+_0x3769ea(0x80)+_0x2a7748);let _0x5d0230;try{_0x5d0230=JSON[_0x3769ea(0xa0)](_0x2a7748);}catch(_0x16ceb1){throw new Error(_0x3769ea(0x85)+_0x2a7748);}console[_0x3769ea(0x7c)](_0x3769ea(0x9e),JSON[_0x3769ea(0x7a)](_0x5d0230,null,0x2));if(!_0x5d0230[_0x3769ea(0xa4)]&&!_0x5d0230[_0x3769ea(0x89)])throw new Error(_0x3769ea(0x8b)+(_0x5d0230[_0x3769ea(0x9f)]||'Unknown\x20error'));const _0x51daac=_0x5d0230[_0x3769ea(0xa4)]||_0x5d0230[_0x3769ea(0x89)],_0x4a2280=_0x5d0230['PaymentLinkCode']||_0x5d0230[_0x3769ea(0x99)];return console[_0x3769ea(0x7c)](_0x3769ea(0x88)),console[_0x3769ea(0x7c)](_0x3769ea(0x8a),_0x51daac),console[_0x3769ea(0x7c)](_0x3769ea(0x8e),_0x4a2280),console['log'](_0x3769ea(0x72),_0x5d0230[_0x3769ea(0x9d)]),console[_0x3769ea(0x7c)](_0x3769ea(0x79)),{'gateway_payment_id':_0x4a2280||_0x391489,'payment_url':_0x51daac||'','paymentLinkCode':_0x4a2280};}catch(_0x2b2b2c){console[_0x3769ea(0x87)]('‚ùå\x20MyXSpend\x20unified\x20payment\x20creation\x20failed:',_0x2b2b2c),console['log'](_0x3769ea(0x70));throw _0x2b2b2c;}}[a52_0x157dc8(0x95)](){const _0x87cb53=a52_0x157dc8;this['authToken']=null,console['log'](_0x87cb53(0x74));}async[a52_0x157dc8(0xa3)](){const _0x1c683c=a52_0x157dc8;try{const _0x5085ce=await fetch(this['apiUrl']+_0x1c683c(0xa5),{'method':_0x1c683c(0x71),'headers':{'Content-Type':_0x1c683c(0x7d),'User-Agent':_0x1c683c(0x9a)}});return _0x5085ce&&_0x5085ce[_0x1c683c(0xa1)]===0xc8?!![]:![];}catch(_0x2fd870){return console[_0x1c683c(0x87)](_0x1c683c(0x92),_0x2fd870),![];}}}exports[a52_0x157dc8(0x8f)]=MyXSpendService,exports['myxspendService']=new MyXSpendService();function a52_0x5f0b(_0x40d4d3,_0x360f7a){const _0x5809f2=a52_0x5809();return a52_0x5f0b=function(_0x5f0b9e,_0x4f5c24){_0x5f0b9e=_0x5f0b9e-0x6d;let _0x90073a=_0x5809f2[_0x5f0b9e];return _0x90073a;},a52_0x5f0b(_0x40d4d3,_0x360f7a);}function a52_0x5809(){const _0x37ff66=['üìä\x20MyXSpend\x20unified\x20response\x20data:','responseMessage','parse','status','Amount:','healthCheck','PaymentLink','health.php','237531XpMfWL','not\x20provided','Phone:','2853152HnUwsZ','COMPANY_ID','üìù\x20Logging\x20unified\x20payment\x20creation\x20failure...','GET','Response\x20Code:','1181750yXieea','üîê\x20MyXSpend\x20auth\x20token\x20invalidated','1220216TMExEG','toUpperCase','281140itBhRP','__esModule','üìù\x20Logging\x20unified\x20payment\x20creation\x20event...','stringify','myxspend.php','log','application/json','104Ikrtjq','API_KEY','\x20-\x20','myxspendService','POST','https://traffer.uk/gateway/myxspend/','7605XPgRaw','Invalid\x20JSON\x20response\x20from\x20MyXSpend:\x20','EODO9BsIPsW4w3QTjkxN8uwCg9uDqb1pJ8XvxY1TjUhvQZYhCT','error','‚úÖ\x20MyXSpend\x20unified\x20payment\x20link\x20created\x20successfully','payment_url','Payment\x20Link:','MyXSpend\x20payment\x20creation\x20failed:\x20','Email:','4809894TORyHU','Payment\x20Code:','MyXSpendService','82dcbd4a-a838-47f9-ae21-8dac9a8f1622','Order\x20ID:','‚ùå\x20MyXSpend\x20health\x20check\x20failed:','text','apiUrl','invalidateAuth','3MaQzHG','üì•\x20MyXSpend\x20unified\x20raw\x20response:','defineProperty','gateway_payment_id','TrapayAPI/1.0','Customer:','12430bTSVId','responseCode'];a52_0x5809=function(){return _0x37ff66;};return a52_0x5809();}