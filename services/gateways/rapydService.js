'use strict';const a45_0x1a4d70=a45_0x1b77;(function(_0x5525ec,_0x51b6a7){const _0x3d3920=a45_0x1b77,_0x2028d3=_0x5525ec();while(!![]){try{const _0x23043b=-parseInt(_0x3d3920(0x225))/0x1*(-parseInt(_0x3d3920(0x1d5))/0x2)+parseInt(_0x3d3920(0x232))/0x3*(parseInt(_0x3d3920(0x216))/0x4)+-parseInt(_0x3d3920(0x24d))/0x5+parseInt(_0x3d3920(0x241))/0x6+parseInt(_0x3d3920(0x1cf))/0x7+-parseInt(_0x3d3920(0x238))/0x8*(parseInt(_0x3d3920(0x1c4))/0x9)+parseInt(_0x3d3920(0x1f1))/0xa*(parseInt(_0x3d3920(0x255))/0xb);if(_0x23043b===_0x51b6a7)break;else _0x2028d3['push'](_0x2028d3['shift']());}catch(_0x2beb99){_0x2028d3['push'](_0x2028d3['shift']());}}}(a45_0x3f49,0xede85));Object[a45_0x1a4d70(0x1f0)](exports,'__esModule',{'value':!![]}),exports[a45_0x1a4d70(0x25a)]=void 0x0;const loggerService_1=require(a45_0x1a4d70(0x233));function a45_0x1b77(_0x41ebcf,_0x49187d){const _0x3f49d5=a45_0x3f49();return a45_0x1b77=function(_0x1b773c,_0x438b1b){_0x1b773c=_0x1b773c-0x1c2;let _0x868cd6=_0x3f49d5[_0x1b773c];return _0x868cd6;},a45_0x1b77(_0x41ebcf,_0x49187d);}function a45_0x3f49(){const _0x2068f2=['headers','9392832domkMf','Failed\x20to\x20create\x20Rapyd\x20payment\x20link:\x20','gb_mastercard_card','SUCCESS','EXPIRED','HTTP\x20error!\x20status:\x20','üá¨üáß\x20Country:\x20','https://tesoft.uk/gateway/success.php?id=','failure_message','Rapyd\x20API\x20error:\x20','Response\x20Time:','stringify','9698285Hcvqxe','===\x20RAPYD\x20API\x20RESPONSE\x20(White\x20Domain)\x20===','verifyPayment','?payment=','üí•\x20Rapyd\x20failure\x20message:\x20','parse','application/json',',\x20failureMessage=','8599173HSAGQh','üåê\x20Rapyd\x20service\x20initialized\x20with\x20white\x20domain\x20proxy','loggerService','Payment\x20Status:','‚è∞\x20Payment\x20marked\x20as\x20EXPIRED\x20(status:\x20','RapydService','log','üìä\x20Status\x20check\x20URL:','error','https://tesoft.uk/gateway/rapyd/status.php','EXP','/v1/hosted/payment_links','7266141eVlnpW','PAYMENT_EXPIRED','payment_method_type','üá¨üáß\x20Using\x20GB\x20(Britain)\x20as\x20country\x20for\x20Rapyd\x20payment\x20link','checkPaymentStatus','stack','NEW','Rapyd\x20API\x20error\x20(','Error\x20stack:','error_code','https://tesoft.uk/gateway/rapyd/','5667256ZDXHaf','üîÑ\x20Rapyd\x20webhook\x20processed:\x20status=','gb_visa_card','toUpperCase','transaction_id','Created\x20At:','4qegRvY','Transaction\x20ID:','===\x20RAPYD\x20API\x20INCOMPLETE\x20RESPONSE\x20===','none','GET','last4','logWhiteDomainError','message','üìä\x20Checking\x20Rapyd\x20payment\x20status\x20for:\x20','Headers:','payment_method_data','errorCode','apiUrl','payment_method','PENDING','CLO','FAILED','TesSoft\x20Payment\x20System/1.0','ORDER:\x20','Payment\x20Link\x20ID:','rapyd','):\x20','üïê\x20Payment\x20remains\x20PENDING\x20(paid:\x20false,\x20status:\x20','===\x20RAPYD\x20STATUS\x20API\x20INCOMPLETE\x20RESPONSE\x20===','json','‚úÖ\x20Payment\x20marked\x20as\x20PAID\x20(paid\x20===\x20true)','logWhiteDomainResponse','defineProperty','10KweMJu','createPaymentLink','üá¨üáß\x20Country\x20used:\x20','Unknown\x20error','Response\x20Body:','POST','failureCode','currency_code','PAYMENT_COMPLETED','Currency:','paid_at','Final\x20Status:','Unknown\x20error\x20from\x20Rapyd\x20API','Result:','Full\x20Error\x20Data:','Invalid\x20response\x20from\x20Rapyd\x20status\x20API:\x20missing\x20data','Failed\x20to\x20parse\x20JSON\x20response:','fromEntries','text','Rapyd\x20payment\x20status\x20check\x20error:','Error\x20Message:','Incomplete\x20response:\x20missing\x20data','/status.php','Business\x20Error\x20(','currency','cardLast4','===\x20RAPYD\x20STATUS\x20SUCCESS\x20===','entries','status','statusUrl','ERR','merchant_reference_id','statusText','===\x20PARSED\x20RAPYD\x20STATUS\x20RESPONSE\x20===','Processing\x20Rapyd\x20webhook:','===\x20PARSED\x20RAPYD\x20RESPONSE\x20===','‚ùå\x20Payment\x20marked\x20as\x20FAILED\x20(status:\x20','4PXeJht','===\x20RAPYD\x20API\x20ERROR\x20===','paymentMethod','Failed\x20to\x20verify\x20Rapyd\x20payment:\x20','PAID','Missing\x20data\x20in\x20response','üí≥\x20Payment\x20Methods:\x20gb_visa_card,\x20gb_mastercard_card','===\x20RAPYD\x20STATUS\x20API\x20ERROR\x20===','HTTP\x20','Amount:','amount','Raw\x20Response\x20Body:','Invalid\x20response\x20from\x20Rapyd\x20API:\x20missing\x20id\x20or\x20redirect_url','Failed\x20to\x20create\x20Rapyd\x20payment\x20link:\x20Unknown\x20error','PAYMENT_CANCELED','9364ZBVXGj','Status:','UNKNOWN','paid','Unknown\x20error\x20from\x20Rapyd\x20status\x20API','Invalid\x20JSON\x20response\x20from\x20Rapyd\x20API:\x20','JSON\x20Parse\x20Error:\x20','logWhiteDomainRequest','Paid\x20At:','CAN','Error\x20message:','now','/v1/hosted/payment_links/','1637772WIpzhv','../loggerService','data','Parsed\x20Result:','Rapyd\x20status\x20API\x20error:\x20','HTTP\x20Status:','8LgCAfg','ACT','not\x20paid','Status\x20Text:','Invalid\x20JSON\x20response\x20from\x20Rapyd\x20status\x20API:\x20','===\x20RAPYD\x20SERVICE\x20ERROR\x20===','Response\x20data:','redirect_url'];a45_0x3f49=function(){return _0x2068f2;};return a45_0x3f49();}class RapydService{constructor(){const _0x55aba4=a45_0x1a4d70;this[_0x55aba4(0x1e1)]=_0x55aba4(0x1ce),this[_0x55aba4(0x20e)]=_0x55aba4(0x25e),console[_0x55aba4(0x25b)](_0x55aba4(0x256)),console[_0x55aba4(0x25b)](_0x55aba4(0x25c),this[_0x55aba4(0x20e)]);}async[a45_0x1a4d70(0x1f2)](_0x4587f6){const _0x9c508=a45_0x1a4d70,{orderId:_0x5c8045,orderName:_0x516f6e,amount:_0x3db765,currency:_0x3bc920,usage:_0x3437a9,maxPayments:_0x44582c,successUrl:_0x45943d,failUrl:_0x544e7e}=_0x4587f6,_0x46f116=_0x3bc920[_0x9c508(0x1d2)](),_0x48691f='GB';console[_0x9c508(0x25b)](_0x9c508(0x1c7));const _0x10e029=_0x9c508(0x248)+_0x5c8045,_0x3f23f5='https://tesoft.uk/gateway/fail.php?id='+_0x5c8045,_0x2ebe81={'amount':_0x3db765,'currency':_0x46f116,'cancel_checkout_url':_0x3f23f5,'complete_checkout_url':_0x10e029,'complete_payment_url':_0x10e029,'merchant_reference_id':_0x5c8045,'description':_0x9c508(0x1e7)+_0x5c8045,'country':'GB','payment_method_types_include':[_0x9c508(0x1d1),_0x9c508(0x243)],'custom_elements':{'display_description':!![]}},_0x1179bd=Date[_0x9c508(0x230)]();try{console[_0x9c508(0x25b)]('===\x20RAPYD\x20API\x20REQUEST\x20(White\x20Domain\x20-\x20Updated\x20Format)\x20==='),console['log']('URL:',this[_0x9c508(0x1e1)]),console[_0x9c508(0x25b)]('Request\x20Body\x20(Updated\x20Format):',JSON[_0x9c508(0x24c)](_0x2ebe81,null,0x2)),console[_0x9c508(0x25b)](_0x9c508(0x247)+_0x48691f+'\x20(always\x20GB\x20for\x20Rapyd)'),console[_0x9c508(0x25b)](_0x9c508(0x21c)),loggerService_1['loggerService']['logWhiteDomainRequest'](_0x9c508(0x1e9),_0x9c508(0x1c3),'POST',_0x2ebe81);const _0x54e61e=await fetch(this[_0x9c508(0x1e1)],{'method':_0x9c508(0x1f6),'headers':{'Content-Type':_0x9c508(0x253),'User-Agent':_0x9c508(0x1e6)},'body':JSON[_0x9c508(0x24c)](_0x2ebe81)}),_0x1c19cd=Date[_0x9c508(0x230)]()-_0x1179bd;console[_0x9c508(0x25b)](_0x9c508(0x24e)),console['log'](_0x9c508(0x226),_0x54e61e[_0x9c508(0x20d)]),console[_0x9c508(0x25b)](_0x9c508(0x23b),_0x54e61e[_0x9c508(0x211)]),console[_0x9c508(0x25b)](_0x9c508(0x1de),Object[_0x9c508(0x202)](_0x54e61e[_0x9c508(0x240)][_0x9c508(0x20c)]())),console[_0x9c508(0x25b)](_0x9c508(0x24b),_0x1c19cd+'ms');const _0x288668=await _0x54e61e[_0x9c508(0x203)]();console[_0x9c508(0x25b)](_0x9c508(0x221),_0x288668);if(!_0x54e61e['ok']){console['error'](_0x9c508(0x217)),console[_0x9c508(0x25d)](_0x9c508(0x237),_0x54e61e[_0x9c508(0x20d)]),console[_0x9c508(0x25d)](_0x9c508(0x1f5),_0x288668),loggerService_1[_0x9c508(0x257)][_0x9c508(0x1ef)]('rapyd',_0x9c508(0x1c3),_0x54e61e[_0x9c508(0x20d)],_0x288668,_0x1c19cd),loggerService_1['loggerService'][_0x9c508(0x1db)]('rapyd',_0x9c508(0x1c3),_0x9c508(0x21e)+_0x54e61e[_0x9c508(0x20d)]+':\x20'+_0x288668);throw new Error(_0x9c508(0x246)+_0x54e61e[_0x9c508(0x20d)]+',\x20body:\x20'+_0x288668);}let _0x2035fa;try{_0x2035fa=JSON[_0x9c508(0x252)](_0x288668);}catch(_0x31b925){console[_0x9c508(0x25d)](_0x9c508(0x201),_0x31b925),loggerService_1['loggerService'][_0x9c508(0x1db)](_0x9c508(0x1e9),_0x9c508(0x1c3),_0x9c508(0x22b)+_0x31b925);throw new Error(_0x9c508(0x22a)+_0x288668);}console['log'](_0x9c508(0x214)),console['log'](_0x9c508(0x235),JSON['stringify'](_0x2035fa,null,0x2)),loggerService_1[_0x9c508(0x257)][_0x9c508(0x1ef)](_0x9c508(0x1e9),_0x9c508(0x1c3),_0x54e61e[_0x9c508(0x20d)],_0x2035fa,_0x1c19cd);if(_0x2035fa[_0x9c508(0x20d)]?.['status']!==_0x9c508(0x244)){const _0x46f6e4=_0x2035fa[_0x9c508(0x20d)]?.[_0x9c508(0x1dc)]||_0x9c508(0x1fd),_0x50c6dc=_0x2035fa[_0x9c508(0x20d)]?.[_0x9c508(0x1cd)]||_0x9c508(0x227);console['error']('===\x20RAPYD\x20API\x20BUSINESS\x20ERROR\x20==='),console[_0x9c508(0x25d)]('Error\x20Code:',_0x50c6dc),console[_0x9c508(0x25d)](_0x9c508(0x205),_0x46f6e4),console[_0x9c508(0x25d)](_0x9c508(0x1ff),_0x2035fa[_0x9c508(0x20d)]),loggerService_1[_0x9c508(0x257)][_0x9c508(0x1db)]('rapyd','/v1/hosted/payment_links',_0x9c508(0x208)+_0x50c6dc+_0x9c508(0x1ea)+_0x46f6e4);throw new Error(_0x9c508(0x1cb)+_0x50c6dc+'):\x20'+_0x46f6e4);}if(!_0x2035fa[_0x9c508(0x234)]?.['id']||!_0x2035fa['data']?.[_0x9c508(0x23f)]){console[_0x9c508(0x25d)](_0x9c508(0x1d7)),console[_0x9c508(0x25d)]('Missing\x20id\x20or\x20redirect_url\x20in\x20response'),console[_0x9c508(0x25d)](_0x9c508(0x23e),_0x2035fa[_0x9c508(0x234)]),loggerService_1['loggerService'][_0x9c508(0x1db)](_0x9c508(0x1e9),_0x9c508(0x1c3),'Incomplete\x20response:\x20missing\x20id\x20or\x20redirect_url');throw new Error(_0x9c508(0x222));}return console[_0x9c508(0x25b)]('===\x20RAPYD\x20SUCCESS\x20==='),console[_0x9c508(0x25b)](_0x9c508(0x1e8),_0x2035fa[_0x9c508(0x234)]['id']),console[_0x9c508(0x25b)]('Redirect\x20URL:',_0x2035fa[_0x9c508(0x234)][_0x9c508(0x23f)]),console[_0x9c508(0x25b)](_0x9c508(0x1f3)+_0x48691f+'\x20(GB\x20-\x20Britain)'),console[_0x9c508(0x25b)](_0x9c508(0x21c)),{'gateway_payment_id':_0x2035fa[_0x9c508(0x234)]['id'],'payment_url':_0x2035fa['data']['redirect_url']};}catch(_0x4bf580){console[_0x9c508(0x25d)](_0x9c508(0x23d)),console[_0x9c508(0x25d)]('Error\x20details:',_0x4bf580),loggerService_1[_0x9c508(0x257)][_0x9c508(0x1db)](_0x9c508(0x1e9),_0x9c508(0x1c3),_0x4bf580);if(_0x4bf580 instanceof Error){console[_0x9c508(0x25d)](_0x9c508(0x22f),_0x4bf580[_0x9c508(0x1dc)]),console[_0x9c508(0x25d)](_0x9c508(0x1cc),_0x4bf580[_0x9c508(0x1c9)]);throw new Error(_0x9c508(0x242)+_0x4bf580[_0x9c508(0x1dc)]);}throw new Error(_0x9c508(0x223));}}async[a45_0x1a4d70(0x1c8)](_0x7c671d){const _0x237cff=a45_0x1a4d70,_0x2db268=Date['now']();try{console[_0x237cff(0x25b)](_0x237cff(0x1dd)+_0x7c671d),loggerService_1[_0x237cff(0x257)]['logWhiteDomainRequest'](_0x237cff(0x1e9),_0x237cff(0x207),_0x237cff(0x1d9),{'payment':_0x7c671d});const _0x47a24b=await fetch(this[_0x237cff(0x20e)]+_0x237cff(0x250)+_0x7c671d,{'method':_0x237cff(0x1d9),'headers':{'Content-Type':_0x237cff(0x253),'Accept':_0x237cff(0x253),'User-Agent':'TesSoft\x20Payment\x20System/1.0'}}),_0xf86c14=Date['now']()-_0x2db268;console[_0x237cff(0x25b)]('===\x20RAPYD\x20STATUS\x20CHECK\x20RESPONSE\x20==='),console[_0x237cff(0x25b)](_0x237cff(0x226),_0x47a24b[_0x237cff(0x20d)]),console['log'](_0x237cff(0x24b),_0xf86c14+'ms');if(!_0x47a24b['ok']){const _0x3cce5a=await _0x47a24b[_0x237cff(0x203)]();console[_0x237cff(0x25d)](_0x237cff(0x237),_0x47a24b[_0x237cff(0x20d)]),console[_0x237cff(0x25d)](_0x237cff(0x1f5),_0x3cce5a),loggerService_1[_0x237cff(0x257)][_0x237cff(0x1ef)](_0x237cff(0x1e9),'/status.php',_0x47a24b[_0x237cff(0x20d)],_0x3cce5a,_0xf86c14),loggerService_1['loggerService'][_0x237cff(0x1db)](_0x237cff(0x1e9),'/status.php',_0x237cff(0x21e)+_0x47a24b['status']+':\x20'+_0x3cce5a);throw new Error(_0x237cff(0x246)+_0x47a24b[_0x237cff(0x20d)]);}const _0x17699a=await _0x47a24b[_0x237cff(0x203)]();console[_0x237cff(0x25b)]('Raw\x20Response\x20Body:',_0x17699a);let _0x38f344;try{_0x38f344=JSON['parse'](_0x17699a);}catch(_0x4399be){console[_0x237cff(0x25d)](_0x237cff(0x201),_0x4399be),loggerService_1[_0x237cff(0x257)][_0x237cff(0x1db)](_0x237cff(0x1e9),_0x237cff(0x207),_0x237cff(0x22b)+_0x4399be);throw new Error(_0x237cff(0x23c)+_0x17699a);}loggerService_1[_0x237cff(0x257)][_0x237cff(0x1ef)](_0x237cff(0x1e9),_0x237cff(0x207),_0x47a24b[_0x237cff(0x20d)],_0x38f344,_0xf86c14),console['log'](_0x237cff(0x212)),console[_0x237cff(0x25b)](_0x237cff(0x1fe),_0x38f344[_0x237cff(0x20d)][_0x237cff(0x20d)]),console['log']('Status\x20Code:',_0x38f344[_0x237cff(0x20d)]['response_code']),console[_0x237cff(0x25b)](_0x237cff(0x258),_0x38f344[_0x237cff(0x234)]?.['status']),console[_0x237cff(0x25b)]('Paid:',_0x38f344[_0x237cff(0x234)]?.[_0x237cff(0x228)]),console[_0x237cff(0x25b)](_0x237cff(0x21f),_0x38f344['data']?.[_0x237cff(0x220)]),console[_0x237cff(0x25b)](_0x237cff(0x1fa),_0x38f344[_0x237cff(0x234)]?.['currency_code']);if(_0x38f344[_0x237cff(0x20d)][_0x237cff(0x20d)]!=='SUCCESS'){const _0x56c4f7=_0x38f344[_0x237cff(0x20d)][_0x237cff(0x1dc)]||_0x237cff(0x229);console[_0x237cff(0x25d)](_0x237cff(0x21d)),console['error']('Error\x20Message:',_0x56c4f7),loggerService_1[_0x237cff(0x257)][_0x237cff(0x1db)](_0x237cff(0x1e9),_0x237cff(0x207),'Status\x20API\x20Error:\x20'+_0x56c4f7);throw new Error(_0x237cff(0x236)+_0x56c4f7);}if(!_0x38f344['data']){console[_0x237cff(0x25d)](_0x237cff(0x1ec)),console[_0x237cff(0x25d)](_0x237cff(0x21b)),loggerService_1[_0x237cff(0x257)][_0x237cff(0x1db)]('rapyd','/status.php',_0x237cff(0x206));throw new Error(_0x237cff(0x200));}let _0x4a1eec=_0x237cff(0x1e3);if(_0x38f344['data'][_0x237cff(0x228)]===!![])_0x4a1eec='PAID',console['log'](_0x237cff(0x1ee));else switch(_0x38f344[_0x237cff(0x234)]['status']?.['toUpperCase']()){case _0x237cff(0x22e):case _0x237cff(0x20f):_0x4a1eec=_0x237cff(0x1e5),console[_0x237cff(0x25b)](_0x237cff(0x215)+_0x38f344[_0x237cff(0x234)]['status']+')');break;case'EXP':_0x4a1eec=_0x237cff(0x245),console[_0x237cff(0x25b)](_0x237cff(0x259)+_0x38f344['data'][_0x237cff(0x20d)]+')');break;default:_0x4a1eec=_0x237cff(0x1e3),console[_0x237cff(0x25b)](_0x237cff(0x1eb)+_0x38f344[_0x237cff(0x234)][_0x237cff(0x20d)]+')');break;}const _0x503cdf={'transactionId':_0x38f344['data']['transaction_id'],'paymentMethod':_0x38f344[_0x237cff(0x234)][_0x237cff(0x1e2)],'paymentMethodType':_0x38f344[_0x237cff(0x234)][_0x237cff(0x1c6)],'createdAt':_0x38f344[_0x237cff(0x234)]['created_at'],'paidAt':_0x38f344[_0x237cff(0x234)]['paid_at'],'failureCode':_0x38f344[_0x237cff(0x234)]['failure_code'],'failureMessage':_0x38f344[_0x237cff(0x234)][_0x237cff(0x249)]};return console[_0x237cff(0x25b)](_0x237cff(0x20b)),console[_0x237cff(0x25b)](_0x237cff(0x1fc),_0x4a1eec),console['log'](_0x237cff(0x21f),_0x38f344['data'][_0x237cff(0x220)],_0x38f344['data'][_0x237cff(0x1f8)]),console['log'](_0x237cff(0x1d6),_0x38f344[_0x237cff(0x234)][_0x237cff(0x1d3)]),console[_0x237cff(0x25b)](_0x237cff(0x22d),_0x38f344['data'][_0x237cff(0x1fb)]||_0x237cff(0x23a)),console[_0x237cff(0x25b)](_0x237cff(0x1d4),_0x38f344['data']['created_at']),{'status':_0x4a1eec,'amount':_0x38f344['data'][_0x237cff(0x220)]||undefined,'currency':_0x38f344[_0x237cff(0x234)][_0x237cff(0x1f8)]||undefined,'paymentDetails':_0x503cdf};}catch(_0x5a9745){console[_0x237cff(0x25d)](_0x237cff(0x204),_0x5a9745),loggerService_1['loggerService'][_0x237cff(0x1db)]('rapyd',_0x237cff(0x207),_0x5a9745);throw new Error('Failed\x20to\x20check\x20Rapyd\x20payment\x20status:\x20'+(_0x5a9745 instanceof Error?_0x5a9745[_0x237cff(0x1dc)]:_0x237cff(0x1f4)));}}async[a45_0x1a4d70(0x24f)](_0x4070b2){const _0x3ac607=a45_0x1a4d70,_0x5f5795=Date[_0x3ac607(0x230)]();try{loggerService_1[_0x3ac607(0x257)][_0x3ac607(0x22c)](_0x3ac607(0x1e9),'/v1/hosted/payment_links/'+_0x4070b2,'GET',{});const _0x582fc7=await fetch(this[_0x3ac607(0x1e1)]+'/'+_0x4070b2,{'method':_0x3ac607(0x1d9),'headers':{'Content-Type':_0x3ac607(0x253),'User-Agent':_0x3ac607(0x1e6)}}),_0x188796=Date[_0x3ac607(0x230)]()-_0x5f5795;if(!_0x582fc7['ok']){const _0x5d6eaf=await _0x582fc7[_0x3ac607(0x203)]();loggerService_1[_0x3ac607(0x257)][_0x3ac607(0x1ef)]('rapyd',_0x3ac607(0x231)+_0x4070b2,_0x582fc7[_0x3ac607(0x20d)],_0x5d6eaf,_0x188796);throw new Error(_0x3ac607(0x246)+_0x582fc7[_0x3ac607(0x20d)]);}const _0x30019c=await _0x582fc7[_0x3ac607(0x1ed)]();loggerService_1[_0x3ac607(0x257)]['logWhiteDomainResponse'](_0x3ac607(0x1e9),'/v1/hosted/payment_links/'+_0x4070b2,_0x582fc7[_0x3ac607(0x20d)],_0x30019c,_0x188796);if(_0x30019c[_0x3ac607(0x20d)]?.[_0x3ac607(0x20d)]!==_0x3ac607(0x244)){loggerService_1[_0x3ac607(0x257)]['logWhiteDomainError'](_0x3ac607(0x1e9),_0x3ac607(0x231)+_0x4070b2,_0x3ac607(0x24a)+(_0x30019c[_0x3ac607(0x20d)]?.[_0x3ac607(0x1dc)]||_0x3ac607(0x1f4)));throw new Error(_0x3ac607(0x24a)+(_0x30019c[_0x3ac607(0x20d)]?.['message']||'Unknown\x20error'));}let _0x392492=_0x3ac607(0x1e3);if(_0x30019c[_0x3ac607(0x234)]?.[_0x3ac607(0x20d)])switch(_0x30019c[_0x3ac607(0x234)][_0x3ac607(0x20d)][_0x3ac607(0x1d2)]()){case _0x3ac607(0x1e4):_0x392492=_0x3ac607(0x21a);break;case _0x3ac607(0x22e):_0x392492=_0x3ac607(0x1e5);break;case _0x3ac607(0x1c2):_0x392492=_0x3ac607(0x245);break;case _0x3ac607(0x20f):_0x392492='FAILED';break;case _0x3ac607(0x1ca):case'ACT':default:_0x392492=_0x3ac607(0x1e3);break;}return{'status':_0x392492,'amount':_0x30019c[_0x3ac607(0x234)]?.['amount'],'currency':_0x30019c[_0x3ac607(0x234)]?.[_0x3ac607(0x209)]};}catch(_0x53ef97){console[_0x3ac607(0x25d)]('Rapyd\x20payment\x20verification\x20error:',_0x53ef97),loggerService_1[_0x3ac607(0x257)]['logWhiteDomainError'](_0x3ac607(0x1e9),_0x3ac607(0x231)+_0x4070b2,_0x53ef97);throw new Error(_0x3ac607(0x219)+(_0x53ef97 instanceof Error?_0x53ef97[_0x3ac607(0x1dc)]:_0x3ac607(0x1f4)));}}async['processWebhook'](_0x26bb0e){const _0x3850f4=a45_0x1a4d70;console[_0x3850f4(0x25b)](_0x3850f4(0x213),_0x26bb0e);let _0x3664a8=_0x3850f4(0x1e3),_0x4f1d15;_0x26bb0e[_0x3850f4(0x234)]?.[_0x3850f4(0x249)]&&(_0x4f1d15=_0x26bb0e[_0x3850f4(0x234)][_0x3850f4(0x249)],console[_0x3850f4(0x25b)](_0x3850f4(0x251)+_0x4f1d15));switch(_0x26bb0e['type']?.[_0x3850f4(0x1d2)]()){case _0x3850f4(0x1f9):_0x26bb0e[_0x3850f4(0x234)]?.[_0x3850f4(0x228)]===!![]&&_0x26bb0e[_0x3850f4(0x234)]?.['status']===_0x3850f4(0x1e4)?_0x3664a8=_0x3850f4(0x21a):_0x3664a8=_0x3850f4(0x1e3);break;case _0x3850f4(0x224):_0x3664a8=_0x3850f4(0x1e5);break;case _0x3850f4(0x1c5):_0x3664a8='EXPIRED';break;case'PAYMENT_FAILED':_0x3664a8='FAILED';!_0x4f1d15&&_0x26bb0e[_0x3850f4(0x234)]?.[_0x3850f4(0x249)]&&(_0x4f1d15=_0x26bb0e['data']['failure_message']);break;default:switch(_0x26bb0e[_0x3850f4(0x234)]?.['status']?.[_0x3850f4(0x1d2)]()){case _0x3850f4(0x1e4):_0x26bb0e['data']?.[_0x3850f4(0x228)]===!![]?_0x3664a8=_0x3850f4(0x21a):_0x3664a8=_0x3850f4(0x1e5);break;case'CAN':_0x3664a8=_0x3850f4(0x1e5);break;case _0x3850f4(0x1c2):_0x3664a8=_0x3850f4(0x245);break;case _0x3850f4(0x20f):_0x3664a8=_0x3850f4(0x1e5);!_0x4f1d15&&_0x26bb0e[_0x3850f4(0x234)]?.['failure_message']&&(_0x4f1d15=_0x26bb0e['data'][_0x3850f4(0x249)]);break;case _0x3850f4(0x1ca):case _0x3850f4(0x239):default:_0x3664a8=_0x3850f4(0x1e3);break;}break;}const _0x42c664={};return _0x26bb0e['data']?.[_0x3850f4(0x1df)]?.[_0x3850f4(0x1da)]&&(_0x42c664[_0x3850f4(0x20a)]=_0x26bb0e[_0x3850f4(0x234)][_0x3850f4(0x1df)][_0x3850f4(0x1da)]),_0x26bb0e['data']?.[_0x3850f4(0x1c6)]&&(_0x42c664[_0x3850f4(0x218)]=_0x26bb0e[_0x3850f4(0x234)][_0x3850f4(0x1c6)]),_0x26bb0e[_0x3850f4(0x234)]?.[_0x3850f4(0x1cd)]&&(_0x42c664[_0x3850f4(0x1e0)]=_0x26bb0e[_0x3850f4(0x234)]['error_code']),_0x26bb0e[_0x3850f4(0x234)]?.['failure_code']&&(_0x42c664[_0x3850f4(0x1f7)]=_0x26bb0e[_0x3850f4(0x234)]['failure_code']),console[_0x3850f4(0x25b)](_0x3850f4(0x1d0)+_0x3664a8+_0x3850f4(0x254)+(_0x4f1d15||_0x3850f4(0x1d8))),{'paymentId':_0x26bb0e[_0x3850f4(0x234)]?.[_0x3850f4(0x210)]||'','status':_0x3664a8,'amount':_0x26bb0e[_0x3850f4(0x234)]?.['amount'],'currency':_0x26bb0e[_0x3850f4(0x234)]?.[_0x3850f4(0x209)],'failureMessage':_0x4f1d15,'additionalInfo':_0x42c664};}}exports[a45_0x1a4d70(0x25a)]=RapydService;