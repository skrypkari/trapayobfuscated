'use strict';const a45_0x512d13=a45_0x2c27;function a45_0x2c27(_0x2fa536,_0x5786aa){const _0x2e21b7=a45_0x2e21();return a45_0x2c27=function(_0x2c27b2,_0x14532f){_0x2c27b2=_0x2c27b2-0x138;let _0x4ea2d8=_0x2e21b7[_0x2c27b2];return _0x4ea2d8;},a45_0x2c27(_0x2fa536,_0x5786aa);}(function(_0x5ad11c,_0x544f75){const _0x185f9c=a45_0x2c27,_0x5eafef=_0x5ad11c();while(!![]){try{const _0x5efe7a=parseInt(_0x185f9c(0x142))/0x1+-parseInt(_0x185f9c(0x145))/0x2+parseInt(_0x185f9c(0x1b7))/0x3*(-parseInt(_0x185f9c(0x197))/0x4)+parseInt(_0x185f9c(0x1b0))/0x5+parseInt(_0x185f9c(0x195))/0x6+parseInt(_0x185f9c(0x194))/0x7+-parseInt(_0x185f9c(0x153))/0x8*(-parseInt(_0x185f9c(0x187))/0x9);if(_0x5efe7a===_0x544f75)break;else _0x5eafef['push'](_0x5eafef['shift']());}catch(_0x2754ad){_0x5eafef['push'](_0x5eafef['shift']());}}}(a45_0x2e21,0x4e3bb));function a45_0x2e21(){const _0x436631=['Result:','parse','Invalid\x20JSON\x20response\x20from\x20Rapyd\x20status\x20API:\x20','8dfHmNA','===\x20RAPYD\x20STATUS\x20SUCCESS\x20===','PAYMENT_CANCELED','error','üîÑ\x20Rapyd\x20webhook\x20processed:\x20status=','NEW','RapydService','toUpperCase','Transaction\x20ID:','Final\x20Status:','üá¨üáß\x20Using\x20GB\x20(Britain)\x20as\x20country\x20for\x20Rapyd\x20payment\x20link','EXP','merchant_reference_id','payment_method_type','HTTP\x20','errorCode','POST','Failed\x20to\x20create\x20Rapyd\x20payment\x20link:\x20','currency_code','Status\x20Text:','===\x20RAPYD\x20STATUS\x20CHECK\x20RESPONSE\x20===','Request\x20Body\x20(Updated\x20Format):','Response\x20Time:','amount','type','üåê\x20Rapyd\x20service\x20initialized\x20with\x20white\x20domain\x20proxy','URL:','Status\x20API\x20Error:\x20','json','payment_method_data','Business\x20Error\x20(','CLO','ERR','processWebhook','failure_code','https://tesoft.uk/gateway/success.php?id=','/v1/hosted/payment_links','Missing\x20id\x20or\x20redirect_url\x20in\x20response','apiUrl','paymentMethod','gb_visa_card','EXPIRED','redirect_url','https://tesoft.uk/gateway/fail.php?id=','Response\x20data:','ACT','Response\x20Body:','Raw\x20Response\x20Body:','Redirect\x20URL:','Unknown\x20error','data','CAN','339525xxUduF','Unknown\x20error\x20from\x20Rapyd\x20API','Incomplete\x20response:\x20missing\x20data','‚úÖ\x20Payment\x20marked\x20as\x20PAID\x20(paid\x20===\x20true)','HTTP\x20Status:','UNKNOWN','logWhiteDomainError','GET','FAILED','TesSoft\x20Payment\x20System/1.0','Error\x20details:','last4','PAYMENT_EXPIRED','2602236aAlAUr','2477748XiTaxg','üìä\x20Status\x20check\x20URL:','508fxNOgB','PENDING','JSON\x20Parse\x20Error:\x20','message','PAYMENT_COMPLETED','https://tesoft.uk/gateway/rapyd/','HTTP\x20error!\x20status:\x20','/status.php','Unknown\x20error\x20from\x20Rapyd\x20status\x20API','SUCCESS','üí•\x20Rapyd\x20failure\x20message:\x20','üí≥\x20Payment\x20Methods:\x20gb_visa_card,\x20gb_mastercard_card','Full\x20Error\x20Data:','application/json','response_code','Rapyd\x20payment\x20status\x20check\x20error:','statusText','not\x20paid','Rapyd\x20status\x20API\x20error:\x20','===\x20RAPYD\x20SERVICE\x20ERROR\x20===','Failed\x20to\x20verify\x20Rapyd\x20payment:\x20','rapyd','Invalid\x20JSON\x20response\x20from\x20Rapyd\x20API:\x20','Error\x20message:','none','160400EATnEC','now','cardLast4','PAID','Failed\x20to\x20check\x20Rapyd\x20payment\x20status:\x20','\x20(GB\x20-\x20Britain)','üá¨üáß\x20Country\x20used:\x20','11919KUEWHG','/v1/hosted/payment_links/','Paid\x20At:','text','===\x20RAPYD\x20API\x20REQUEST\x20(White\x20Domain\x20-\x20Updated\x20Format)\x20===','Parsed\x20Result:','failureCode','loggerService','===\x20RAPYD\x20API\x20BUSINESS\x20ERROR\x20===','paid','Payment\x20Status:','headers','Incomplete\x20response:\x20missing\x20id\x20or\x20redirect_url','defineProperty','Currency:','status','created_at','checkPaymentStatus','Error\x20Code:',',\x20body:\x20','Error\x20stack:','Processing\x20Rapyd\x20webhook:','currency','):\x20','===\x20RAPYD\x20API\x20ERROR\x20===','===\x20RAPYD\x20API\x20RESPONSE\x20(White\x20Domain)\x20===','../loggerService','stack','error_code','entries','log','21046yEHalW','__esModule','Status:','101086uDxIYC','Headers:','Rapyd\x20API\x20error:\x20','logWhiteDomainResponse','===\x20PARSED\x20RAPYD\x20STATUS\x20RESPONSE\x20===','failure_message','Status\x20Code:','Failed\x20to\x20create\x20Rapyd\x20payment\x20link:\x20Unknown\x20error','Amount:','statusUrl','transaction_id'];a45_0x2e21=function(){return _0x436631;};return a45_0x2e21();}Object[a45_0x512d13(0x1c4)](exports,a45_0x512d13(0x143),{'value':!![]}),exports[a45_0x512d13(0x159)]=void 0x0;const loggerService_1=require(a45_0x512d13(0x13d));class RapydService{constructor(){const _0x4198d8=a45_0x512d13;this[_0x4198d8(0x179)]=_0x4198d8(0x19c),this[_0x4198d8(0x14e)]='https://tesoft.uk/gateway/rapyd/status.php',console[_0x4198d8(0x141)](_0x4198d8(0x16c)),console[_0x4198d8(0x141)](_0x4198d8(0x196),this[_0x4198d8(0x14e)]);}async['createPaymentLink'](_0x59cd0f){const _0x2338b1=a45_0x512d13,{orderId:_0x130e03,orderName:_0x206ca4,amount:_0x23d68f,currency:_0x409a79,usage:_0x30f870,maxPayments:_0x171d44,successUrl:_0x59d12e,failUrl:_0x23b02c}=_0x59cd0f,_0x5a28db=_0x409a79[_0x2338b1(0x15a)](),_0xccedbf='GB';console[_0x2338b1(0x141)](_0x2338b1(0x15d));const _0x28b875=_0x2338b1(0x176)+_0x130e03,_0xfadd96=_0x2338b1(0x17e)+_0x130e03,_0x4121da={'amount':_0x23d68f,'currency':_0x5a28db,'cancel_checkout_url':_0xfadd96,'complete_checkout_url':_0x28b875,'complete_payment_url':_0x28b875,'merchant_reference_id':_0x130e03,'description':'ORDER:\x20'+_0x130e03,'country':'GB','payment_method_types_include':[_0x2338b1(0x17b),'gb_mastercard_card'],'custom_elements':{'display_description':!![]}},_0x4157dc=Date[_0x2338b1(0x1b1)]();try{console[_0x2338b1(0x141)](_0x2338b1(0x1bb)),console[_0x2338b1(0x141)](_0x2338b1(0x16d),this[_0x2338b1(0x179)]),console[_0x2338b1(0x141)](_0x2338b1(0x168),JSON['stringify'](_0x4121da,null,0x2)),console[_0x2338b1(0x141)]('üá¨üáß\x20Country:\x20'+_0xccedbf+'\x20(always\x20GB\x20for\x20Rapyd)'),console[_0x2338b1(0x141)](_0x2338b1(0x1a2)),loggerService_1['loggerService']['logWhiteDomainRequest'](_0x2338b1(0x1ac),_0x2338b1(0x177),_0x2338b1(0x163),_0x4121da);const _0x5c6139=await fetch(this[_0x2338b1(0x179)],{'method':_0x2338b1(0x163),'headers':{'Content-Type':_0x2338b1(0x1a4),'User-Agent':_0x2338b1(0x190)},'body':JSON['stringify'](_0x4121da)}),_0x1f9a93=Date[_0x2338b1(0x1b1)]()-_0x4157dc;console[_0x2338b1(0x141)](_0x2338b1(0x13c)),console['log'](_0x2338b1(0x144),_0x5c6139['status']),console[_0x2338b1(0x141)](_0x2338b1(0x166),_0x5c6139[_0x2338b1(0x1a7)]),console[_0x2338b1(0x141)](_0x2338b1(0x146),Object['fromEntries'](_0x5c6139[_0x2338b1(0x1c2)][_0x2338b1(0x140)]())),console[_0x2338b1(0x141)]('Response\x20Time:',_0x1f9a93+'ms');const _0x2bbb4f=await _0x5c6139['text']();console[_0x2338b1(0x141)]('Raw\x20Response\x20Body:',_0x2bbb4f);if(!_0x5c6139['ok']){console[_0x2338b1(0x156)](_0x2338b1(0x13b)),console[_0x2338b1(0x156)]('HTTP\x20Status:',_0x5c6139[_0x2338b1(0x1c6)]),console[_0x2338b1(0x156)]('Response\x20Body:',_0x2bbb4f),loggerService_1['loggerService'][_0x2338b1(0x148)](_0x2338b1(0x1ac),'/v1/hosted/payment_links',_0x5c6139[_0x2338b1(0x1c6)],_0x2bbb4f,_0x1f9a93),loggerService_1['loggerService'][_0x2338b1(0x18d)](_0x2338b1(0x1ac),_0x2338b1(0x177),_0x2338b1(0x161)+_0x5c6139[_0x2338b1(0x1c6)]+':\x20'+_0x2bbb4f);throw new Error(_0x2338b1(0x19d)+_0x5c6139[_0x2338b1(0x1c6)]+_0x2338b1(0x1ca)+_0x2bbb4f);}let _0x37376d;try{_0x37376d=JSON['parse'](_0x2bbb4f);}catch(_0xbe84e3){console['error']('Failed\x20to\x20parse\x20JSON\x20response:',_0xbe84e3),loggerService_1[_0x2338b1(0x1be)][_0x2338b1(0x18d)](_0x2338b1(0x1ac),_0x2338b1(0x177),_0x2338b1(0x199)+_0xbe84e3);throw new Error(_0x2338b1(0x1ad)+_0x2bbb4f);}console[_0x2338b1(0x141)]('===\x20PARSED\x20RAPYD\x20RESPONSE\x20==='),console[_0x2338b1(0x141)](_0x2338b1(0x1bc),JSON['stringify'](_0x37376d,null,0x2)),loggerService_1[_0x2338b1(0x1be)]['logWhiteDomainResponse'](_0x2338b1(0x1ac),_0x2338b1(0x177),_0x5c6139['status'],_0x37376d,_0x1f9a93);if(_0x37376d[_0x2338b1(0x1c6)]?.[_0x2338b1(0x1c6)]!==_0x2338b1(0x1a0)){const _0x57da2d=_0x37376d['status']?.[_0x2338b1(0x19a)]||_0x2338b1(0x188),_0x14fb5c=_0x37376d[_0x2338b1(0x1c6)]?.['error_code']||_0x2338b1(0x18c);console['error'](_0x2338b1(0x1bf)),console[_0x2338b1(0x156)](_0x2338b1(0x1c9),_0x14fb5c),console[_0x2338b1(0x156)]('Error\x20Message:',_0x57da2d),console[_0x2338b1(0x156)](_0x2338b1(0x1a3),_0x37376d[_0x2338b1(0x1c6)]),loggerService_1[_0x2338b1(0x1be)][_0x2338b1(0x18d)](_0x2338b1(0x1ac),_0x2338b1(0x177),_0x2338b1(0x171)+_0x14fb5c+'):\x20'+_0x57da2d);throw new Error('Rapyd\x20API\x20error\x20('+_0x14fb5c+_0x2338b1(0x13a)+_0x57da2d);}if(!_0x37376d[_0x2338b1(0x185)]?.['id']||!_0x37376d[_0x2338b1(0x185)]?.[_0x2338b1(0x17d)]){console[_0x2338b1(0x156)]('===\x20RAPYD\x20API\x20INCOMPLETE\x20RESPONSE\x20==='),console[_0x2338b1(0x156)](_0x2338b1(0x178)),console['error'](_0x2338b1(0x17f),_0x37376d[_0x2338b1(0x185)]),loggerService_1['loggerService'][_0x2338b1(0x18d)](_0x2338b1(0x1ac),'/v1/hosted/payment_links',_0x2338b1(0x1c3));throw new Error('Invalid\x20response\x20from\x20Rapyd\x20API:\x20missing\x20id\x20or\x20redirect_url');}return console['log']('===\x20RAPYD\x20SUCCESS\x20==='),console[_0x2338b1(0x141)]('Payment\x20Link\x20ID:',_0x37376d[_0x2338b1(0x185)]['id']),console[_0x2338b1(0x141)](_0x2338b1(0x183),_0x37376d[_0x2338b1(0x185)][_0x2338b1(0x17d)]),console[_0x2338b1(0x141)](_0x2338b1(0x1b6)+_0xccedbf+_0x2338b1(0x1b5)),console['log'](_0x2338b1(0x1a2)),{'gateway_payment_id':_0x37376d[_0x2338b1(0x185)]['id'],'payment_url':_0x37376d[_0x2338b1(0x185)][_0x2338b1(0x17d)]};}catch(_0x36a769){console[_0x2338b1(0x156)](_0x2338b1(0x1aa)),console[_0x2338b1(0x156)](_0x2338b1(0x191),_0x36a769),loggerService_1[_0x2338b1(0x1be)][_0x2338b1(0x18d)]('rapyd',_0x2338b1(0x177),_0x36a769);if(_0x36a769 instanceof Error){console[_0x2338b1(0x156)](_0x2338b1(0x1ae),_0x36a769[_0x2338b1(0x19a)]),console['error'](_0x2338b1(0x1cb),_0x36a769[_0x2338b1(0x13e)]);throw new Error(_0x2338b1(0x164)+_0x36a769[_0x2338b1(0x19a)]);}throw new Error(_0x2338b1(0x14c));}}async[a45_0x512d13(0x1c8)](_0x383759){const _0x429990=a45_0x512d13,_0x301b39=Date[_0x429990(0x1b1)]();try{console[_0x429990(0x141)]('üìä\x20Checking\x20Rapyd\x20payment\x20status\x20for:\x20'+_0x383759),loggerService_1[_0x429990(0x1be)]['logWhiteDomainRequest'](_0x429990(0x1ac),_0x429990(0x19e),'GET',{'payment':_0x383759});const _0x375f99=await fetch(this[_0x429990(0x14e)]+'?payment='+_0x383759,{'method':_0x429990(0x18e),'headers':{'Content-Type':_0x429990(0x1a4),'Accept':'application/json','User-Agent':_0x429990(0x190)}}),_0x5a1730=Date['now']()-_0x301b39;console[_0x429990(0x141)](_0x429990(0x167)),console[_0x429990(0x141)](_0x429990(0x144),_0x375f99['status']),console[_0x429990(0x141)](_0x429990(0x169),_0x5a1730+'ms');if(!_0x375f99['ok']){const _0x5dbd80=await _0x375f99[_0x429990(0x1ba)]();console['error'](_0x429990(0x18b),_0x375f99[_0x429990(0x1c6)]),console[_0x429990(0x156)](_0x429990(0x181),_0x5dbd80),loggerService_1[_0x429990(0x1be)]['logWhiteDomainResponse'](_0x429990(0x1ac),_0x429990(0x19e),_0x375f99['status'],_0x5dbd80,_0x5a1730),loggerService_1['loggerService'][_0x429990(0x18d)](_0x429990(0x1ac),_0x429990(0x19e),_0x429990(0x161)+_0x375f99['status']+':\x20'+_0x5dbd80);throw new Error(_0x429990(0x19d)+_0x375f99['status']);}const _0x4611b5=await _0x375f99[_0x429990(0x1ba)]();console[_0x429990(0x141)](_0x429990(0x182),_0x4611b5);let _0x3a4c00;try{_0x3a4c00=JSON[_0x429990(0x151)](_0x4611b5);}catch(_0x39cc9e){console[_0x429990(0x156)]('Failed\x20to\x20parse\x20JSON\x20response:',_0x39cc9e),loggerService_1[_0x429990(0x1be)]['logWhiteDomainError'](_0x429990(0x1ac),'/status.php','JSON\x20Parse\x20Error:\x20'+_0x39cc9e);throw new Error(_0x429990(0x152)+_0x4611b5);}loggerService_1[_0x429990(0x1be)][_0x429990(0x148)]('rapyd','/status.php',_0x375f99[_0x429990(0x1c6)],_0x3a4c00,_0x5a1730),console['log'](_0x429990(0x149)),console[_0x429990(0x141)](_0x429990(0x150),_0x3a4c00[_0x429990(0x1c6)]['status']),console[_0x429990(0x141)](_0x429990(0x14b),_0x3a4c00[_0x429990(0x1c6)][_0x429990(0x1a5)]),console[_0x429990(0x141)](_0x429990(0x1c1),_0x3a4c00['data']?.[_0x429990(0x1c6)]),console['log']('Paid:',_0x3a4c00[_0x429990(0x185)]?.[_0x429990(0x1c0)]),console[_0x429990(0x141)](_0x429990(0x14d),_0x3a4c00[_0x429990(0x185)]?.[_0x429990(0x16a)]),console['log'](_0x429990(0x1c5),_0x3a4c00[_0x429990(0x185)]?.[_0x429990(0x165)]);if(_0x3a4c00[_0x429990(0x1c6)]['status']!=='SUCCESS'){const _0x20450c=_0x3a4c00[_0x429990(0x1c6)][_0x429990(0x19a)]||_0x429990(0x19f);console[_0x429990(0x156)]('===\x20RAPYD\x20STATUS\x20API\x20ERROR\x20==='),console[_0x429990(0x156)]('Error\x20Message:',_0x20450c),loggerService_1[_0x429990(0x1be)]['logWhiteDomainError']('rapyd','/status.php',_0x429990(0x16e)+_0x20450c);throw new Error(_0x429990(0x1a9)+_0x20450c);}if(!_0x3a4c00[_0x429990(0x185)]){console[_0x429990(0x156)]('===\x20RAPYD\x20STATUS\x20API\x20INCOMPLETE\x20RESPONSE\x20==='),console[_0x429990(0x156)]('Missing\x20data\x20in\x20response'),loggerService_1[_0x429990(0x1be)]['logWhiteDomainError'](_0x429990(0x1ac),_0x429990(0x19e),_0x429990(0x189));throw new Error('Invalid\x20response\x20from\x20Rapyd\x20status\x20API:\x20missing\x20data');}let _0x3360ad=_0x429990(0x198);if(_0x3a4c00[_0x429990(0x185)][_0x429990(0x1c0)]===!![])_0x3360ad=_0x429990(0x1b3),console[_0x429990(0x141)](_0x429990(0x18a));else switch(_0x3a4c00['data'][_0x429990(0x1c6)]?.['toUpperCase']()){case _0x429990(0x186):case _0x429990(0x173):_0x3360ad=_0x429990(0x18f),console[_0x429990(0x141)]('‚ùå\x20Payment\x20marked\x20as\x20FAILED\x20(status:\x20'+_0x3a4c00[_0x429990(0x185)][_0x429990(0x1c6)]+')');break;case'EXP':_0x3360ad=_0x429990(0x17c),console[_0x429990(0x141)]('‚è∞\x20Payment\x20marked\x20as\x20EXPIRED\x20(status:\x20'+_0x3a4c00[_0x429990(0x185)][_0x429990(0x1c6)]+')');break;default:_0x3360ad=_0x429990(0x198),console[_0x429990(0x141)]('üïê\x20Payment\x20remains\x20PENDING\x20(paid:\x20false,\x20status:\x20'+_0x3a4c00[_0x429990(0x185)][_0x429990(0x1c6)]+')');break;}const _0x1ee538={'transactionId':_0x3a4c00['data'][_0x429990(0x14f)],'paymentMethod':_0x3a4c00['data']['payment_method'],'paymentMethodType':_0x3a4c00[_0x429990(0x185)]['payment_method_type'],'createdAt':_0x3a4c00[_0x429990(0x185)][_0x429990(0x1c7)],'paidAt':_0x3a4c00['data']['paid_at'],'failureCode':_0x3a4c00[_0x429990(0x185)][_0x429990(0x175)],'failureMessage':_0x3a4c00['data'][_0x429990(0x14a)]};return console[_0x429990(0x141)](_0x429990(0x154)),console[_0x429990(0x141)](_0x429990(0x15c),_0x3360ad),console[_0x429990(0x141)]('Amount:',_0x3a4c00[_0x429990(0x185)][_0x429990(0x16a)],_0x3a4c00[_0x429990(0x185)][_0x429990(0x165)]),console[_0x429990(0x141)](_0x429990(0x15b),_0x3a4c00[_0x429990(0x185)][_0x429990(0x14f)]),console['log'](_0x429990(0x1b9),_0x3a4c00[_0x429990(0x185)]['paid_at']||_0x429990(0x1a8)),console[_0x429990(0x141)]('Created\x20At:',_0x3a4c00['data'][_0x429990(0x1c7)]),{'status':_0x3360ad,'amount':_0x3a4c00[_0x429990(0x185)][_0x429990(0x16a)]||undefined,'currency':_0x3a4c00['data'][_0x429990(0x165)]||undefined,'paymentDetails':_0x1ee538};}catch(_0x41d5cc){console['error'](_0x429990(0x1a6),_0x41d5cc),loggerService_1[_0x429990(0x1be)][_0x429990(0x18d)](_0x429990(0x1ac),_0x429990(0x19e),_0x41d5cc);throw new Error(_0x429990(0x1b4)+(_0x41d5cc instanceof Error?_0x41d5cc['message']:_0x429990(0x184)));}}async['verifyPayment'](_0x48b2a4){const _0x662465=a45_0x512d13,_0x34d657=Date[_0x662465(0x1b1)]();try{loggerService_1[_0x662465(0x1be)]['logWhiteDomainRequest']('rapyd',_0x662465(0x1b8)+_0x48b2a4,_0x662465(0x18e),{});const _0x3c7a1a=await fetch(this[_0x662465(0x179)]+'/'+_0x48b2a4,{'method':_0x662465(0x18e),'headers':{'Content-Type':'application/json','User-Agent':'TesSoft\x20Payment\x20System/1.0'}}),_0x3c4016=Date[_0x662465(0x1b1)]()-_0x34d657;if(!_0x3c7a1a['ok']){const _0x314585=await _0x3c7a1a[_0x662465(0x1ba)]();loggerService_1[_0x662465(0x1be)][_0x662465(0x148)](_0x662465(0x1ac),'/v1/hosted/payment_links/'+_0x48b2a4,_0x3c7a1a[_0x662465(0x1c6)],_0x314585,_0x3c4016);throw new Error('HTTP\x20error!\x20status:\x20'+_0x3c7a1a['status']);}const _0x21a98b=await _0x3c7a1a[_0x662465(0x16f)]();loggerService_1[_0x662465(0x1be)][_0x662465(0x148)](_0x662465(0x1ac),'/v1/hosted/payment_links/'+_0x48b2a4,_0x3c7a1a['status'],_0x21a98b,_0x3c4016);if(_0x21a98b[_0x662465(0x1c6)]?.[_0x662465(0x1c6)]!=='SUCCESS'){loggerService_1[_0x662465(0x1be)][_0x662465(0x18d)](_0x662465(0x1ac),_0x662465(0x1b8)+_0x48b2a4,_0x662465(0x147)+(_0x21a98b[_0x662465(0x1c6)]?.[_0x662465(0x19a)]||_0x662465(0x184)));throw new Error(_0x662465(0x147)+(_0x21a98b[_0x662465(0x1c6)]?.[_0x662465(0x19a)]||'Unknown\x20error'));}let _0x209184=_0x662465(0x198);if(_0x21a98b[_0x662465(0x185)]?.[_0x662465(0x1c6)])switch(_0x21a98b[_0x662465(0x185)][_0x662465(0x1c6)]['toUpperCase']()){case _0x662465(0x172):_0x209184=_0x662465(0x1b3);break;case'CAN':_0x209184=_0x662465(0x18f);break;case'EXP':_0x209184=_0x662465(0x17c);break;case'ERR':_0x209184=_0x662465(0x18f);break;case _0x662465(0x158):case'ACT':default:_0x209184=_0x662465(0x198);break;}return{'status':_0x209184,'amount':_0x21a98b[_0x662465(0x185)]?.[_0x662465(0x16a)],'currency':_0x21a98b['data']?.[_0x662465(0x139)]};}catch(_0x410a4e){console[_0x662465(0x156)]('Rapyd\x20payment\x20verification\x20error:',_0x410a4e),loggerService_1[_0x662465(0x1be)][_0x662465(0x18d)]('rapyd','/v1/hosted/payment_links/'+_0x48b2a4,_0x410a4e);throw new Error(_0x662465(0x1ab)+(_0x410a4e instanceof Error?_0x410a4e[_0x662465(0x19a)]:_0x662465(0x184)));}}async[a45_0x512d13(0x174)](_0x5e8966){const _0x99a535=a45_0x512d13;console[_0x99a535(0x141)](_0x99a535(0x138),_0x5e8966);let _0x12dc50=_0x99a535(0x198),_0x2add5c;_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x14a)]&&(_0x2add5c=_0x5e8966[_0x99a535(0x185)][_0x99a535(0x14a)],console['log'](_0x99a535(0x1a1)+_0x2add5c));switch(_0x5e8966[_0x99a535(0x16b)]?.[_0x99a535(0x15a)]()){case _0x99a535(0x19b):_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x1c0)]===!![]&&_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x1c6)]===_0x99a535(0x172)?_0x12dc50=_0x99a535(0x1b3):_0x12dc50=_0x99a535(0x198);break;case _0x99a535(0x155):_0x12dc50=_0x99a535(0x18f);break;case _0x99a535(0x193):_0x12dc50=_0x99a535(0x17c);break;case'PAYMENT_FAILED':_0x12dc50='FAILED';!_0x2add5c&&_0x5e8966[_0x99a535(0x185)]?.['failure_message']&&(_0x2add5c=_0x5e8966[_0x99a535(0x185)][_0x99a535(0x14a)]);break;default:switch(_0x5e8966[_0x99a535(0x185)]?.['status']?.[_0x99a535(0x15a)]()){case'CLO':_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x1c0)]===!![]?_0x12dc50=_0x99a535(0x1b3):_0x12dc50=_0x99a535(0x18f);break;case _0x99a535(0x186):_0x12dc50=_0x99a535(0x18f);break;case _0x99a535(0x15e):_0x12dc50='EXPIRED';break;case'ERR':_0x12dc50=_0x99a535(0x18f);!_0x2add5c&&_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x14a)]&&(_0x2add5c=_0x5e8966[_0x99a535(0x185)][_0x99a535(0x14a)]);break;case _0x99a535(0x158):case _0x99a535(0x180):default:_0x12dc50=_0x99a535(0x198);break;}break;}const _0x123c9a={};return _0x5e8966['data']?.[_0x99a535(0x170)]?.['last4']&&(_0x123c9a[_0x99a535(0x1b2)]=_0x5e8966[_0x99a535(0x185)][_0x99a535(0x170)][_0x99a535(0x192)]),_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x160)]&&(_0x123c9a[_0x99a535(0x17a)]=_0x5e8966[_0x99a535(0x185)][_0x99a535(0x160)]),_0x5e8966['data']?.[_0x99a535(0x13f)]&&(_0x123c9a[_0x99a535(0x162)]=_0x5e8966['data']['error_code']),_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x175)]&&(_0x123c9a[_0x99a535(0x1bd)]=_0x5e8966['data']['failure_code']),console['log'](_0x99a535(0x157)+_0x12dc50+',\x20failureMessage='+(_0x2add5c||_0x99a535(0x1af))),{'paymentId':_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x15f)]||'','status':_0x12dc50,'amount':_0x5e8966[_0x99a535(0x185)]?.['amount'],'currency':_0x5e8966[_0x99a535(0x185)]?.[_0x99a535(0x139)],'failureMessage':_0x2add5c,'additionalInfo':_0x123c9a};}}exports[a45_0x512d13(0x159)]=RapydService;