'use strict';const a58_0x584c01=a58_0x5293;(function(_0x2694c6,_0x3d084b){const _0x4273cb=a58_0x5293,_0x2bac50=_0x2694c6();while(!![]){try{const _0x3eafaf=parseInt(_0x4273cb(0x107))/0x1*(parseInt(_0x4273cb(0x108))/0x2)+-parseInt(_0x4273cb(0x127))/0x3+-parseInt(_0x4273cb(0x103))/0x4*(parseInt(_0x4273cb(0x11b))/0x5)+parseInt(_0x4273cb(0x10b))/0x6*(-parseInt(_0x4273cb(0x128))/0x7)+parseInt(_0x4273cb(0x124))/0x8*(parseInt(_0x4273cb(0x114))/0x9)+parseInt(_0x4273cb(0xfa))/0xa+parseInt(_0x4273cb(0xf9))/0xb*(parseInt(_0x4273cb(0x10c))/0xc);if(_0x3eafaf===_0x3d084b)break;else _0x2bac50['push'](_0x2bac50['shift']());}catch(_0x371339){_0x2bac50['push'](_0x2bac50['shift']());}}}(a58_0xed38,0x63d8c));function a58_0x5293(_0x28b46e,_0x5ed9a4){_0x28b46e=_0x28b46e-0xf7;const _0xed3874=a58_0xed38();let _0x529364=_0xed3874[_0x28b46e];return _0x529364;}function a58_0xed38(){const _0x321485=['\x20\x20\x20Error\x20details:','from_amount','https://instaxchange.com/order/','text','2726236SyUePP','message','Invalid\x20response\x20from\x20InstaXChange\x20proxy','from_currency','5463fdcPXe','250uhijXt','\x20\x20\x20Customer:\x20','split','547362TPvBsF','12ceNsVR','‚ùå\x20Failed\x20to\x20parse\x20JSON\x20response:','\x20\x20\x20Session\x20ID:\x20','\x20\x20\x20Payment\x20ID:\x20','timeout','USDC','card','statusText','162Duairi','‚ùå\x20InstaXChange\x20proxy\x20request\x20failed:','trim','defineProperty','log','env','InstaXChange\x20payment\x20creation\x20failed:\x20','5NknzGV','POST','Invalid\x20JSON\x20response\x20from\x20proxy:\x20','https://tesoft.uk/gateway/instaxchange/webhook.php?paymentId=','application/json','‚úÖ\x20InstaXChange\x20payment\x20session\x20created:','Customer','INSTAXCHANGE_ACCOUNT_REF_ID','to_currency','7400xrjHRK','https://tesoft.uk/gateway/instaxchange/create.php','\x20\x20\x20To\x20Amount:\x20','1342407fzajuY','42wALRgu','createPayment','\x20\x20\x20Status:\x20','\x20\x20\x20Last\x20Name:\x20','status','parse','üì•\x20InstaXChange\x20proxy\x20raw\x20response:','HTTP\x20','InstaXChangeService','slice','error','\x20\x20\x20Amount:\x20','üì•\x20InstaXChange\x20proxy\x20response:','13982331PGgTxg','1147160cuHCqv','to_amount','N/A','\x20\x20\x20Order\x20ID:\x20','üì§\x20Sending\x20request\x20to\x20InstaXChange\x20proxy:'];a58_0xed38=function(){return _0x321485;};return a58_0xed38();}Object[a58_0x584c01(0x117)](exports,'__esModule',{'value':!![]}),exports[a58_0x584c01(0x130)]=void 0x0;class InstaXChangeService{constructor(){const _0x812cf3=a58_0x584c01;this['proxyUrl']=_0x812cf3(0x125);}async[a58_0x584c01(0x129)](_0x5741d4){const _0x2d4fbd=a58_0x584c01,{paymentId:_0x28ece7,orderId:_0x57a1c6,amount:_0x43ba28,currency:_0x2624e0,method:method=_0x2d4fbd(0x112),customerEmail:_0x535b61,customerName:_0x4e00cb,returnUrl:_0x1a90bf}=_0x5741d4;console[_0x2d4fbd(0x118)]('üê≥\x20Creating\x20InstaXChange\x20payment\x20session:'),console[_0x2d4fbd(0x118)](_0x2d4fbd(0x10f)+_0x28ece7),console[_0x2d4fbd(0x118)](_0x2d4fbd(0xfd)+_0x57a1c6),console[_0x2d4fbd(0x118)](_0x2d4fbd(0xf7)+_0x43ba28+'\x20'+_0x2624e0),console[_0x2d4fbd(0x118)]('\x20\x20\x20Method:\x20'+method),console[_0x2d4fbd(0x118)](_0x2d4fbd(0x109)+(_0x4e00cb||_0x2d4fbd(0xfc))+'\x20('+(_0x535b61||_0x2d4fbd(0xfc))+')');let _0x22c4f4=_0x2d4fbd(0x121),_0x1d9a54='';if(_0x4e00cb){const _0x4bc896=_0x4e00cb[_0x2d4fbd(0x116)]()[_0x2d4fbd(0x10a)]('\x20');_0x22c4f4=_0x4bc896[0x0]||_0x2d4fbd(0x121),_0x1d9a54=_0x4bc896[_0x2d4fbd(0x131)](0x1)['join']('\x20')||'';}console[_0x2d4fbd(0x118)]('\x20\x20\x20First\x20Name:\x20'+_0x22c4f4),console['log'](_0x2d4fbd(0x12b)+_0x1d9a54);const _0x2953ae={'accountRefId':process[_0x2d4fbd(0x119)][_0x2d4fbd(0x122)],'fromAmount':_0x43ba28,'toCurrency':_0x2d4fbd(0x111),'fromCurrency':_0x2624e0,'address':process[_0x2d4fbd(0x119)]['INSTAXCHANGE_WALLET_ADDRESS'],'amountDirection':'sending','webhookRef':_0x2d4fbd(0x11e)+_0x28ece7,'returnUrl':_0x1a90bf,'method':method,'email':_0x535b61||'','firstName':_0x22c4f4,'lastName':_0x1d9a54};console[_0x2d4fbd(0x118)](_0x2d4fbd(0xfe),_0x2953ae);try{const _0x256b56=await fetch(this['proxyUrl'],{'method':_0x2d4fbd(0x11c),'headers':{'Content-Type':_0x2d4fbd(0x11f)},'body':JSON['stringify'](_0x2953ae),'signal':AbortSignal[_0x2d4fbd(0x110)](0x7530)});console[_0x2d4fbd(0x118)]('üì•\x20InstaXChange\x20proxy\x20HTTP\x20status:\x20'+_0x256b56['status']+'\x20'+_0x256b56['statusText']);const _0x384627=await _0x256b56[_0x2d4fbd(0x102)]();console[_0x2d4fbd(0x118)](_0x2d4fbd(0x12e),_0x384627);let _0x1b4cd8;try{_0x1b4cd8=JSON[_0x2d4fbd(0x12d)](_0x384627);}catch(_0x42cfbc){console[_0x2d4fbd(0x132)](_0x2d4fbd(0x10d),_0x42cfbc);throw new Error(_0x2d4fbd(0x11d)+_0x384627['substring'](0x0,0xc8));}console[_0x2d4fbd(0x118)](_0x2d4fbd(0xf8),_0x1b4cd8);if(!_0x256b56['ok']){const _0x292f8c=_0x1b4cd8?.[_0x2d4fbd(0x132)]||_0x1b4cd8?.[_0x2d4fbd(0x104)]||_0x2d4fbd(0x12f)+_0x256b56['status']+':\x20'+_0x256b56[_0x2d4fbd(0x113)];console[_0x2d4fbd(0x132)](_0x2d4fbd(0xff),_0x1b4cd8);throw new Error(_0x2d4fbd(0x11a)+_0x292f8c);}if(!_0x1b4cd8||!_0x1b4cd8['id'])throw new Error(_0x2d4fbd(0x105));const _0x2cef82=_0x1b4cd8['id'],_0x23fc58=_0x2d4fbd(0x101)+_0x2cef82;return console[_0x2d4fbd(0x118)](_0x2d4fbd(0x120)),console[_0x2d4fbd(0x118)](_0x2d4fbd(0x10e)+_0x2cef82),console[_0x2d4fbd(0x118)]('\x20\x20\x20Payment\x20URL:\x20'+_0x23fc58),console[_0x2d4fbd(0x118)](_0x2d4fbd(0x12a)+_0x1b4cd8[_0x2d4fbd(0x12c)]),console[_0x2d4fbd(0x118)]('\x20\x20\x20From\x20Amount:\x20'+_0x1b4cd8[_0x2d4fbd(0x100)]+'\x20'+_0x1b4cd8[_0x2d4fbd(0x106)]),console[_0x2d4fbd(0x118)](_0x2d4fbd(0x126)+_0x1b4cd8[_0x2d4fbd(0xfb)]+'\x20'+_0x1b4cd8[_0x2d4fbd(0x123)]),{'gateway_payment_id':_0x2cef82,'payment_url':_0x23fc58,'session_id':_0x2cef82,'status':_0x1b4cd8[_0x2d4fbd(0x12c)],'from_amount':_0x1b4cd8[_0x2d4fbd(0x100)],'to_amount':_0x1b4cd8[_0x2d4fbd(0xfb)]};}catch(_0x2a5483){console['error'](_0x2d4fbd(0x115),_0x2a5483);if(_0x2a5483 instanceof Error)throw new Error('InstaXChange\x20payment\x20creation\x20failed:\x20'+_0x2a5483[_0x2d4fbd(0x104)]);throw new Error('InstaXChange\x20payment\x20creation\x20failed:\x20Unknown\x20error');}}}exports['InstaXChangeService']=InstaXChangeService;