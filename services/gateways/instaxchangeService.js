'use strict';function a66_0x14d5(_0x16563d,_0x527751){_0x16563d=_0x16563d-0x1d3;const _0x3f5557=a66_0x3f55();let _0x14d593=_0x3f5557[_0x16563d];return _0x14d593;}function a66_0x3f55(){const _0x33f85e=['\x20\x20\x20Status:\x20','\x20\x20\x20Error\x20details:','üì•\x20InstaXChange\x20proxy\x20response:','InstaXChange\x20payment\x20creation\x20failed:\x20','message','status','\x20\x20\x20To\x20Amount:\x20','USDC','\x20\x20\x20Payment\x20ID:\x20','üê≥\x20Creating\x20InstaXChange\x20payment\x20session:','to_amount','InstaXChangeService','from_currency','\x20\x20\x20Amount:\x20','POST','proxyUrl','substring','‚úÖ\x20InstaXChange\x20payment\x20session\x20created:','2711009tJLydW','slice','24393SLDDBB','1537200wcgjqF','from_amount','log','statusText','__esModule','https://instaxchange.com/order/','card','857555aEpOaL','üì•\x20InstaXChange\x20proxy\x20raw\x20response:','8GhqOGc','\x20\x20\x20Order\x20ID:\x20','to_currency','üì•\x20InstaXChange\x20proxy\x20HTTP\x20status:\x20','‚ùå\x20Failed\x20to\x20parse\x20JSON\x20response:','https://tesoft.uk/gateway/instaxchange/create.php','InstaXChange\x20payment\x20creation\x20failed:\x20Unknown\x20error','\x20\x20\x20Method:\x20','error','https://tesoft.uk/gateway/instaxchange/webhook.php?paymentId=','parse','timeout','N/A','trim','Invalid\x20JSON\x20response\x20from\x20proxy:\x20','\x20\x20\x20Payment\x20URL:\x20','Invalid\x20response\x20from\x20InstaXChange\x20proxy','\x20\x20\x20Session\x20ID:\x20','Customer','createPayment','stringify','sending','260586xxJdlu','8603757mCSNuB','20WKvZCd','1071966BGHuxA','üì§\x20Sending\x20request\x20to\x20InstaXChange\x20proxy:'];a66_0x3f55=function(){return _0x33f85e;};return a66_0x3f55();}const a66_0x1236c8=a66_0x14d5;(function(_0x2a6f56,_0x5b542c){const _0x6efbd7=a66_0x14d5,_0x42754d=_0x2a6f56();while(!![]){try{const _0x2ede8d=parseInt(_0x6efbd7(0x1f8))/0x1*(parseInt(_0x6efbd7(0x1e1))/0x2)+-parseInt(_0x6efbd7(0x1e2))/0x3+-parseInt(_0x6efbd7(0x1f9))/0x4+parseInt(_0x6efbd7(0x200))/0x5+-parseInt(_0x6efbd7(0x1df))/0x6+-parseInt(_0x6efbd7(0x1f6))/0x7+parseInt(_0x6efbd7(0x202))/0x8*(parseInt(_0x6efbd7(0x1e0))/0x9);if(_0x2ede8d===_0x5b542c)break;else _0x42754d['push'](_0x42754d['shift']());}catch(_0x34a53c){_0x42754d['push'](_0x42754d['shift']());}}}(a66_0x3f55,0x309a2));Object['defineProperty'](exports,a66_0x1236c8(0x1fd),{'value':!![]}),exports[a66_0x1236c8(0x1ef)]=void 0x0;class InstaXChangeService{constructor(){const _0x3b5460=a66_0x1236c8;this[_0x3b5460(0x1f3)]=_0x3b5460(0x207);}async[a66_0x1236c8(0x1dc)](_0x285c5d){const _0x38aa26=a66_0x1236c8,{paymentId:_0x159389,orderId:_0x432c6a,amount:_0x9466c0,currency:_0x3ea44b,method:method=_0x38aa26(0x1ff),customerEmail:_0x5756bd,customerName:_0x11eca1,returnUrl:_0x16feb8}=_0x285c5d;console[_0x38aa26(0x1fb)](_0x38aa26(0x1ed)),console['log'](_0x38aa26(0x1ec)+_0x159389),console[_0x38aa26(0x1fb)](_0x38aa26(0x203)+_0x432c6a),console[_0x38aa26(0x1fb)](_0x38aa26(0x1f1)+_0x9466c0+'\x20'+_0x3ea44b),console[_0x38aa26(0x1fb)](_0x38aa26(0x209)+method),console[_0x38aa26(0x1fb)]('\x20\x20\x20Customer:\x20'+(_0x11eca1||_0x38aa26(0x1d5))+'\x20('+(_0x5756bd||'N/A')+')');let _0x160614=_0x38aa26(0x1db),_0x38d934='';if(_0x11eca1){const _0xf3f069=_0x11eca1[_0x38aa26(0x1d6)]()['split']('\x20');_0x160614=_0xf3f069[0x0]||_0x38aa26(0x1db),_0x38d934=_0xf3f069[_0x38aa26(0x1f7)](0x1)['join']('\x20')||'';}console[_0x38aa26(0x1fb)]('\x20\x20\x20First\x20Name:\x20'+_0x160614),console[_0x38aa26(0x1fb)]('\x20\x20\x20Last\x20Name:\x20'+_0x38d934);const _0x10e3a7={'accountRefId':process.env.INSTAXCHANGE_ACCOUNT_REF_ID,'fromAmount':_0x9466c0,'toCurrency':_0x38aa26(0x1eb),'fromCurrency':_0x3ea44b,'address':process.env.INSTAXCHANGE_WALLET_ADDRESS,'amountDirection':_0x38aa26(0x1de),'webhookRef':_0x38aa26(0x20b)+_0x159389,'returnUrl':_0x16feb8,'method':method,'email':_0x5756bd||'','firstName':_0x160614,'lastName':_0x38d934};console[_0x38aa26(0x1fb)](_0x38aa26(0x1e3),_0x10e3a7);try{const _0x447e9f=await fetch(this[_0x38aa26(0x1f3)],{'method':_0x38aa26(0x1f2),'headers':{'Content-Type':'application/json'},'body':JSON[_0x38aa26(0x1dd)](_0x10e3a7),'signal':AbortSignal[_0x38aa26(0x1d4)](0x7530)});console['log'](_0x38aa26(0x205)+_0x447e9f[_0x38aa26(0x1e9)]+'\x20'+_0x447e9f[_0x38aa26(0x1fc)]);const _0xc75edd=await _0x447e9f['text']();console[_0x38aa26(0x1fb)](_0x38aa26(0x201),_0xc75edd);let _0x3b672c;try{_0x3b672c=JSON[_0x38aa26(0x1d3)](_0xc75edd);}catch(_0x30e812){console['error'](_0x38aa26(0x206),_0x30e812);throw new Error(_0x38aa26(0x1d7)+_0xc75edd[_0x38aa26(0x1f4)](0x0,0xc8));}console[_0x38aa26(0x1fb)](_0x38aa26(0x1e6),_0x3b672c);if(!_0x447e9f['ok']){const _0x3c9377=_0x3b672c?.['error']||_0x3b672c?.[_0x38aa26(0x1e8)]||'HTTP\x20'+_0x447e9f[_0x38aa26(0x1e9)]+':\x20'+_0x447e9f[_0x38aa26(0x1fc)];console[_0x38aa26(0x20a)](_0x38aa26(0x1e5),_0x3b672c);throw new Error(_0x38aa26(0x1e7)+_0x3c9377);}if(!_0x3b672c||!_0x3b672c['id'])throw new Error(_0x38aa26(0x1d9));const _0x388ccc=_0x3b672c['id'],_0x1feec4=_0x38aa26(0x1fe)+_0x388ccc;return console[_0x38aa26(0x1fb)](_0x38aa26(0x1f5)),console[_0x38aa26(0x1fb)](_0x38aa26(0x1da)+_0x388ccc),console[_0x38aa26(0x1fb)](_0x38aa26(0x1d8)+_0x1feec4),console['log'](_0x38aa26(0x1e4)+_0x3b672c['status']),console[_0x38aa26(0x1fb)]('\x20\x20\x20From\x20Amount:\x20'+_0x3b672c[_0x38aa26(0x1fa)]+'\x20'+_0x3b672c[_0x38aa26(0x1f0)]),console['log'](_0x38aa26(0x1ea)+_0x3b672c[_0x38aa26(0x1ee)]+'\x20'+_0x3b672c[_0x38aa26(0x204)]),{'gateway_payment_id':_0x388ccc,'payment_url':_0x1feec4,'session_id':_0x388ccc,'status':_0x3b672c[_0x38aa26(0x1e9)],'from_amount':_0x3b672c[_0x38aa26(0x1fa)],'to_amount':_0x3b672c['to_amount']};}catch(_0x40829c){console['error']('‚ùå\x20InstaXChange\x20proxy\x20request\x20failed:',_0x40829c);if(_0x40829c instanceof Error)throw new Error(_0x38aa26(0x1e7)+_0x40829c['message']);throw new Error(_0x38aa26(0x208));}}}exports['InstaXChangeService']=InstaXChangeService;