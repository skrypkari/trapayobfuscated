'use strict';function a60_0x2b9c(){const _0x26d767=['\x20\x20\x20Customer:\x20','from_amount','split','trim','https://tesoft.uk/gateway/instaxchange/webhook.php?paymentId=','from_currency','1510984BaVzPn','parse','\x20\x20\x20Status:\x20','Invalid\x20response\x20from\x20InstaXChange\x20proxy','999845ohUXCp','https://tesoft.uk/gateway/instaxchange/create.php','substring','\x20\x20\x20First\x20Name:\x20','HTTP\x20','status','\x20\x20\x20Order\x20ID:\x20','Customer','InstaXChange\x20payment\x20creation\x20failed:\x20Unknown\x20error','24JiWNhZ','message','N/A','\x20\x20\x20Amount:\x20','createPayment','\x20\x20\x20Session\x20ID:\x20','‚úÖ\x20InstaXChange\x20payment\x20session\x20created:','üê≥\x20Creating\x20InstaXChange\x20payment\x20session:','üì•\x20InstaXChange\x20proxy\x20raw\x20response:','application/json','848007YpBQKE','POST','USDC','‚ùå\x20InstaXChange\x20proxy\x20request\x20failed:','\x20\x20\x20To\x20Amount:\x20','statusText','üì•\x20InstaXChange\x20proxy\x20response:','to_amount','defineProperty','error','üì•\x20InstaXChange\x20proxy\x20HTTP\x20status:\x20','slice','log','üì§\x20Sending\x20request\x20to\x20InstaXChange\x20proxy:','‚ùå\x20Failed\x20to\x20parse\x20JSON\x20response:','\x20\x20\x20Payment\x20URL:\x20','InstaXChangeService','5926VcsRML','card','1820376VAJuUn','6255136uMSHsp','55980FkdWmb','stringify','InstaXChange\x20payment\x20creation\x20failed:\x20'];a60_0x2b9c=function(){return _0x26d767;};return a60_0x2b9c();}const a60_0x4c6b1b=a60_0xf64c;(function(_0x2723af,_0x2489e6){const _0x512909=a60_0xf64c,_0x59b333=_0x2723af();while(!![]){try{const _0x20c258=-parseInt(_0x512909(0x19b))/0x1*(parseInt(_0x512909(0x181))/0x2)+-parseInt(_0x512909(0x170))/0x3+-parseInt(_0x512909(0x18e))/0x4+-parseInt(_0x512909(0x185))/0x5+parseInt(_0x512909(0x183))/0x6+-parseInt(_0x512909(0x192))/0x7+parseInt(_0x512909(0x184))/0x8;if(_0x20c258===_0x2489e6)break;else _0x59b333['push'](_0x59b333['shift']());}catch(_0x5e6eb8){_0x59b333['push'](_0x59b333['shift']());}}}(a60_0x2b9c,0x30c32));function a60_0xf64c(_0x582eab,_0x495dad){_0x582eab=_0x582eab-0x16a;const _0x2b9ca5=a60_0x2b9c();let _0xf64cfe=_0x2b9ca5[_0x582eab];return _0xf64cfe;}Object[a60_0x4c6b1b(0x178)](exports,'__esModule',{'value':!![]}),exports['InstaXChangeService']=void 0x0;class InstaXChangeService{constructor(){const _0xd1e35a=a60_0x4c6b1b;this['proxyUrl']=_0xd1e35a(0x193);}async[a60_0x4c6b1b(0x16a)](_0x180d4f){const _0x1377b3=a60_0x4c6b1b,{paymentId:_0x15fff6,orderId:_0x3799be,amount:_0x12326a,currency:_0x3cbe56,method:method=_0x1377b3(0x182),customerEmail:_0x319c67,customerName:_0x3003fe,returnUrl:_0x3e5555}=_0x180d4f;console['log'](_0x1377b3(0x16d)),console[_0x1377b3(0x17c)]('\x20\x20\x20Payment\x20ID:\x20'+_0x15fff6),console[_0x1377b3(0x17c)](_0x1377b3(0x198)+_0x3799be),console[_0x1377b3(0x17c)](_0x1377b3(0x19e)+_0x12326a+'\x20'+_0x3cbe56),console['log']('\x20\x20\x20Method:\x20'+method),console['log'](_0x1377b3(0x188)+(_0x3003fe||'N/A')+'\x20('+(_0x319c67||_0x1377b3(0x19d))+')');let _0xc7fd5f=_0x1377b3(0x199),_0x4cf9a6='';if(_0x3003fe){const _0x1edbf8=_0x3003fe[_0x1377b3(0x18b)]()[_0x1377b3(0x18a)]('\x20');_0xc7fd5f=_0x1edbf8[0x0]||_0x1377b3(0x199),_0x4cf9a6=_0x1edbf8[_0x1377b3(0x17b)](0x1)['join']('\x20')||'';}console[_0x1377b3(0x17c)](_0x1377b3(0x195)+_0xc7fd5f),console[_0x1377b3(0x17c)]('\x20\x20\x20Last\x20Name:\x20'+_0x4cf9a6);const _0x39522f={'accountRefId':process.env.INSTAXCHANGE_ACCOUNT_REF_ID,'fromAmount':_0x12326a,'toCurrency':_0x1377b3(0x172),'fromCurrency':_0x3cbe56,'address':process.env.INSTAXCHANGE_WALLET_ADDRESS,'amountDirection':'sending','webhookRef':_0x1377b3(0x18c)+_0x15fff6,'returnUrl':_0x3e5555,'method':method,'email':_0x319c67||'','firstName':_0xc7fd5f,'lastName':_0x4cf9a6};console[_0x1377b3(0x17c)](_0x1377b3(0x17d),_0x39522f);try{const _0x54d21c=await fetch(this['proxyUrl'],{'method':_0x1377b3(0x171),'headers':{'Content-Type':_0x1377b3(0x16f)},'body':JSON[_0x1377b3(0x186)](_0x39522f),'signal':AbortSignal['timeout'](0x7530)});console[_0x1377b3(0x17c)](_0x1377b3(0x17a)+_0x54d21c[_0x1377b3(0x197)]+'\x20'+_0x54d21c[_0x1377b3(0x175)]);const _0xaf9b96=await _0x54d21c['text']();console['log'](_0x1377b3(0x16e),_0xaf9b96);let _0x31002a;try{_0x31002a=JSON[_0x1377b3(0x18f)](_0xaf9b96);}catch(_0xe99241){console[_0x1377b3(0x179)](_0x1377b3(0x17e),_0xe99241);throw new Error('Invalid\x20JSON\x20response\x20from\x20proxy:\x20'+_0xaf9b96[_0x1377b3(0x194)](0x0,0xc8));}console[_0x1377b3(0x17c)](_0x1377b3(0x176),_0x31002a);if(!_0x54d21c['ok']){const _0x337776=_0x31002a?.[_0x1377b3(0x179)]||_0x31002a?.[_0x1377b3(0x19c)]||_0x1377b3(0x196)+_0x54d21c[_0x1377b3(0x197)]+':\x20'+_0x54d21c[_0x1377b3(0x175)];console['error']('\x20\x20\x20Error\x20details:',_0x31002a);throw new Error(_0x1377b3(0x187)+_0x337776);}if(!_0x31002a||!_0x31002a['id'])throw new Error(_0x1377b3(0x191));const _0x1921d1=_0x31002a['id'],_0x5a1ef4='https://instaxchange.com/order/'+_0x1921d1;return console[_0x1377b3(0x17c)](_0x1377b3(0x16c)),console[_0x1377b3(0x17c)](_0x1377b3(0x16b)+_0x1921d1),console[_0x1377b3(0x17c)](_0x1377b3(0x17f)+_0x5a1ef4),console['log'](_0x1377b3(0x190)+_0x31002a[_0x1377b3(0x197)]),console[_0x1377b3(0x17c)]('\x20\x20\x20From\x20Amount:\x20'+_0x31002a[_0x1377b3(0x189)]+'\x20'+_0x31002a[_0x1377b3(0x18d)]),console['log'](_0x1377b3(0x174)+_0x31002a['to_amount']+'\x20'+_0x31002a['to_currency']),{'gateway_payment_id':_0x1921d1,'payment_url':_0x5a1ef4,'session_id':_0x1921d1,'status':_0x31002a['status'],'from_amount':_0x31002a['from_amount'],'to_amount':_0x31002a[_0x1377b3(0x177)]};}catch(_0x1fcddc){console[_0x1377b3(0x179)](_0x1377b3(0x173),_0x1fcddc);if(_0x1fcddc instanceof Error)throw new Error(_0x1377b3(0x187)+_0x1fcddc['message']);throw new Error(_0x1377b3(0x19a));}}}exports[a60_0x4c6b1b(0x180)]=InstaXChangeService;