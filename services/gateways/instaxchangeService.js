'use strict';const a58_0x1fae9d=a58_0x117f;(function(_0x3d902e,_0x475ea1){const _0x2ab17c=a58_0x117f,_0x5f4d71=_0x3d902e();while(!![]){try{const _0x1c56b9=-parseInt(_0x2ab17c(0x129))/0x1+parseInt(_0x2ab17c(0x114))/0x2+-parseInt(_0x2ab17c(0xf7))/0x3*(parseInt(_0x2ab17c(0x105))/0x4)+parseInt(_0x2ab17c(0x127))/0x5*(parseInt(_0x2ab17c(0xf4))/0x6)+-parseInt(_0x2ab17c(0xf2))/0x7*(parseInt(_0x2ab17c(0x10e))/0x8)+-parseInt(_0x2ab17c(0xf3))/0x9*(-parseInt(_0x2ab17c(0x122))/0xa)+parseInt(_0x2ab17c(0x103))/0xb;if(_0x1c56b9===_0x475ea1)break;else _0x5f4d71['push'](_0x5f4d71['shift']());}catch(_0xe7319){_0x5f4d71['push'](_0x5f4d71['shift']());}}}(a58_0x27d0,0x26792));Object[a58_0x1fae9d(0x110)](exports,'__esModule',{'value':!![]}),exports[a58_0x1fae9d(0x111)]=void 0x0;function a58_0x117f(_0x402969,_0x776f5c){_0x402969=_0x402969-0xef;const _0x27d0cc=a58_0x27d0();let _0x117fe0=_0x27d0cc[_0x402969];return _0x117fe0;}class InstaXChangeService{constructor(){this['proxyUrl']='https://tesoft.uk/gateway/instaxchange/create.php';}async[a58_0x1fae9d(0x10b)](_0x363d9c){const _0x22aab7=a58_0x1fae9d,{paymentId:_0x72df48,orderId:_0x47eadb,amount:_0x2259b5,currency:_0x497294,method:method='card',customerEmail:_0x3aea0f,customerName:_0x33507f,returnUrl:_0x224e1f}=_0x363d9c;console[_0x22aab7(0x119)](_0x22aab7(0x108)),console['log'](_0x22aab7(0x121)+_0x72df48),console[_0x22aab7(0x119)](_0x22aab7(0xfb)+_0x47eadb),console[_0x22aab7(0x119)]('\x20\x20\x20Amount:\x20'+_0x2259b5+'\x20'+_0x497294),console[_0x22aab7(0x119)](_0x22aab7(0xfa)+method),console[_0x22aab7(0x119)](_0x22aab7(0x125)+(_0x33507f||_0x22aab7(0x124))+'\x20('+(_0x3aea0f||'N/A')+')');let _0x1d38a5=_0x22aab7(0x126),_0x5c2668='';if(_0x33507f){const _0x494943=_0x33507f[_0x22aab7(0x109)]()[_0x22aab7(0x11c)]('\x20');_0x1d38a5=_0x494943[0x0]||_0x22aab7(0x126),_0x5c2668=_0x494943[_0x22aab7(0x120)](0x1)[_0x22aab7(0x118)]('\x20')||'';}console[_0x22aab7(0x119)]('\x20\x20\x20First\x20Name:\x20'+_0x1d38a5),console[_0x22aab7(0x119)](_0x22aab7(0xf1)+_0x5c2668);const _0xcc77a3={'accountRefId':process[_0x22aab7(0x106)][_0x22aab7(0x113)],'fromAmount':_0x2259b5,'toCurrency':'USDC','fromCurrency':_0x497294,'address':process[_0x22aab7(0x106)]['INSTAXCHANGE_WALLET_ADDRESS'],'amountDirection':_0x22aab7(0x100),'webhookRef':'https://tesoft.uk/gateway/instaxchange/webhook.php?paymentId='+_0x72df48,'returnUrl':_0x224e1f,'method':method,'email':_0x3aea0f||'','firstName':_0x1d38a5,'lastName':_0x5c2668};console[_0x22aab7(0x119)]('üì§\x20Sending\x20request\x20to\x20InstaXChange\x20proxy:',_0xcc77a3);try{const _0x2aecc1=await fetch(this[_0x22aab7(0x128)],{'method':_0x22aab7(0xfd),'headers':{'Content-Type':_0x22aab7(0xef)},'body':JSON[_0x22aab7(0xf6)](_0xcc77a3),'signal':AbortSignal[_0x22aab7(0xf9)](0x7530)});console[_0x22aab7(0x119)](_0x22aab7(0x11b)+_0x2aecc1['status']+'\x20'+_0x2aecc1[_0x22aab7(0x10d)]);const _0x531630=await _0x2aecc1[_0x22aab7(0x115)]();console['log'](_0x22aab7(0x112),_0x531630);let _0xda6918;try{_0xda6918=JSON[_0x22aab7(0x102)](_0x531630);}catch(_0x30a789){console[_0x22aab7(0x116)]('‚ùå\x20Failed\x20to\x20parse\x20JSON\x20response:',_0x30a789);throw new Error(_0x22aab7(0x11a)+_0x531630[_0x22aab7(0x117)](0x0,0xc8));}console[_0x22aab7(0x119)](_0x22aab7(0x11e),_0xda6918);if(!_0x2aecc1['ok']){const _0x8f580=_0xda6918?.[_0x22aab7(0x116)]||_0xda6918?.[_0x22aab7(0xf0)]||_0x22aab7(0x11f)+_0x2aecc1['status']+':\x20'+_0x2aecc1[_0x22aab7(0x10d)];console['error']('\x20\x20\x20Error\x20details:',_0xda6918);throw new Error(_0x22aab7(0x104)+_0x8f580);}if(!_0xda6918||!_0xda6918['id'])throw new Error(_0x22aab7(0xf5));const _0x1461e4=_0xda6918['id'],_0x1b4353='https://instaxchange.com/order/'+_0x1461e4;return console[_0x22aab7(0x119)](_0x22aab7(0x123)),console[_0x22aab7(0x119)](_0x22aab7(0x10c)+_0x1461e4),console[_0x22aab7(0x119)](_0x22aab7(0xff)+_0x1b4353),console[_0x22aab7(0x119)](_0x22aab7(0x101)+_0xda6918[_0x22aab7(0xf8)]),console[_0x22aab7(0x119)]('\x20\x20\x20From\x20Amount:\x20'+_0xda6918[_0x22aab7(0x107)]+'\x20'+_0xda6918[_0x22aab7(0x10f)]),console[_0x22aab7(0x119)](_0x22aab7(0xfc)+_0xda6918[_0x22aab7(0x11d)]+'\x20'+_0xda6918[_0x22aab7(0xfe)]),{'gateway_payment_id':_0x1461e4,'payment_url':_0x1b4353,'session_id':_0x1461e4,'status':_0xda6918[_0x22aab7(0xf8)],'from_amount':_0xda6918['from_amount'],'to_amount':_0xda6918['to_amount']};}catch(_0x56d900){console[_0x22aab7(0x116)](_0x22aab7(0x10a),_0x56d900);if(_0x56d900 instanceof Error)throw new Error(_0x22aab7(0x104)+_0x56d900[_0x22aab7(0xf0)]);throw new Error('InstaXChange\x20payment\x20creation\x20failed:\x20Unknown\x20error');}}}function a58_0x27d0(){const _0x23d1bd=['\x20\x20\x20Session\x20ID:\x20','statusText','8zcFqSR','from_currency','defineProperty','InstaXChangeService','üì•\x20InstaXChange\x20proxy\x20raw\x20response:','INSTAXCHANGE_ACCOUNT_REF_ID','44762jFTmTs','text','error','substring','join','log','Invalid\x20JSON\x20response\x20from\x20proxy:\x20','üì•\x20InstaXChange\x20proxy\x20HTTP\x20status:\x20','split','to_amount','üì•\x20InstaXChange\x20proxy\x20response:','HTTP\x20','slice','\x20\x20\x20Payment\x20ID:\x20','5660fOBEsG','‚úÖ\x20InstaXChange\x20payment\x20session\x20created:','N/A','\x20\x20\x20Customer:\x20','Customer','5PKQzwU','proxyUrl','219627yhVTDw','application/json','message','\x20\x20\x20Last\x20Name:\x20','1218959aGFiXY','468gJzVLr','425718xqMYNz','Invalid\x20response\x20from\x20InstaXChange\x20proxy','stringify','404157buonCD','status','timeout','\x20\x20\x20Method:\x20','\x20\x20\x20Order\x20ID:\x20','\x20\x20\x20To\x20Amount:\x20','POST','to_currency','\x20\x20\x20Payment\x20URL:\x20','sending','\x20\x20\x20Status:\x20','parse','7678242qpyDUF','InstaXChange\x20payment\x20creation\x20failed:\x20','8WsvuOO','env','from_amount','üê≥\x20Creating\x20InstaXChange\x20payment\x20session:','trim','‚ùå\x20InstaXChange\x20proxy\x20request\x20failed:','createPayment'];a58_0x27d0=function(){return _0x23d1bd;};return a58_0x27d0();}exports[a58_0x1fae9d(0x111)]=InstaXChangeService;