'use strict';const a60_0x5e2c5e=a60_0x2c89;(function(_0x3f4d69,_0x15a3b3){const _0x44f793=a60_0x2c89,_0x2a6a10=_0x3f4d69();while(!![]){try{const _0x366de4=-parseInt(_0x44f793(0x1e5))/0x1*(parseInt(_0x44f793(0x1e7))/0x2)+parseInt(_0x44f793(0x1b4))/0x3*(-parseInt(_0x44f793(0x1e2))/0x4)+parseInt(_0x44f793(0x1b3))/0x5*(parseInt(_0x44f793(0x1b2))/0x6)+-parseInt(_0x44f793(0x1e6))/0x7+-parseInt(_0x44f793(0x1c3))/0x8*(-parseInt(_0x44f793(0x1e8))/0x9)+parseInt(_0x44f793(0x1e9))/0xa+parseInt(_0x44f793(0x1df))/0xb*(parseInt(_0x44f793(0x1d6))/0xc);if(_0x366de4===_0x15a3b3)break;else _0x2a6a10['push'](_0x2a6a10['shift']());}catch(_0x5b1264){_0x2a6a10['push'](_0x2a6a10['shift']());}}}(a60_0x38c8,0xec7ad));function a60_0x2c89(_0xacabdb,_0x1969c7){_0xacabdb=_0xacabdb-0x1b2;const _0x38c8f8=a60_0x38c8();let _0x2c896c=_0x38c8f8[_0xacabdb];return _0x2c896c;}Object['defineProperty'](exports,a60_0x5e2c5e(0x1ea),{'value':!![]}),exports[a60_0x5e2c5e(0x1c9)]=void 0x0;class InstaXChangeService{constructor(){const _0x19687f=a60_0x5e2c5e;this[_0x19687f(0x1e0)]='https://tesoft.uk/gateway/instaxchange/create.php';}async[a60_0x5e2c5e(0x1de)](_0x370098){const _0x555000=a60_0x5e2c5e,{paymentId:_0x23253f,orderId:_0x5965b7,amount:_0x4f5475,currency:_0x5780c7,method:method=_0x555000(0x1e4),customerEmail:_0x17c164,customerName:_0x379687,returnUrl:_0x37bec8}=_0x370098;console['log'](_0x555000(0x1bd)),console[_0x555000(0x1d4)](_0x555000(0x1d3)+_0x23253f),console[_0x555000(0x1d4)](_0x555000(0x1cc)+_0x5965b7),console['log'](_0x555000(0x1cd)+_0x4f5475+'\x20'+_0x5780c7),console[_0x555000(0x1d4)](_0x555000(0x1c7)+method),console[_0x555000(0x1d4)](_0x555000(0x1c5)+(_0x379687||_0x555000(0x1eb))+'\x20('+(_0x17c164||_0x555000(0x1eb))+')');let _0x566405=_0x555000(0x1c1),_0xf09fc4='';if(_0x379687){const _0x45f714=_0x379687['trim']()['split']('\x20');_0x566405=_0x45f714[0x0]||'Customer',_0xf09fc4=_0x45f714[_0x555000(0x1bf)](0x1)[_0x555000(0x1b7)]('\x20')||'';}console[_0x555000(0x1d4)](_0x555000(0x1e1)+_0x566405),console[_0x555000(0x1d4)](_0x555000(0x1d8)+_0xf09fc4);const _0x23ac68={'accountRefId':process.env.INSTAXCHANGE_ACCOUNT_REF_ID,'fromAmount':_0x4f5475,'toCurrency':'USDC','fromCurrency':_0x5780c7,'address':process.env.INSTAXCHANGE_WALLET_ADDRESS,'amountDirection':_0x555000(0x1d9),'webhookRef':_0x555000(0x1cf)+_0x23253f,'returnUrl':_0x37bec8,'method':method,'email':_0x17c164||'','firstName':_0x566405,'lastName':_0xf09fc4};console[_0x555000(0x1d4)](_0x555000(0x1ba),_0x23ac68);try{const _0x3874ab=await fetch(this[_0x555000(0x1e0)],{'method':_0x555000(0x1c0),'headers':{'Content-Type':_0x555000(0x1bb)},'body':JSON[_0x555000(0x1bc)](_0x23ac68),'signal':AbortSignal['timeout'](0x7530)});console['log'](_0x555000(0x1cb)+_0x3874ab['status']+'\x20'+_0x3874ab[_0x555000(0x1be)]);const _0x20b7aa=await _0x3874ab[_0x555000(0x1c6)]();console[_0x555000(0x1d4)](_0x555000(0x1b5),_0x20b7aa);let _0x1098f9;try{_0x1098f9=JSON['parse'](_0x20b7aa);}catch(_0x13c43d){console[_0x555000(0x1e3)](_0x555000(0x1ce),_0x13c43d);throw new Error(_0x555000(0x1d5)+_0x20b7aa[_0x555000(0x1d1)](0x0,0xc8));}console[_0x555000(0x1d4)]('üì•\x20InstaXChange\x20proxy\x20response:',_0x1098f9);if(!_0x3874ab['ok']){const _0xc86805=_0x1098f9?.[_0x555000(0x1e3)]||_0x1098f9?.[_0x555000(0x1d2)]||'HTTP\x20'+_0x3874ab[_0x555000(0x1d7)]+':\x20'+_0x3874ab[_0x555000(0x1be)];console['error'](_0x555000(0x1d0),_0x1098f9);throw new Error(_0x555000(0x1b9)+_0xc86805);}if(!_0x1098f9||!_0x1098f9['id'])throw new Error(_0x555000(0x1dd));const _0x35501e=_0x1098f9['id'],_0x29ab92=_0x555000(0x1dc)+_0x35501e;return console['log'](_0x555000(0x1c8)),console[_0x555000(0x1d4)](_0x555000(0x1ca)+_0x35501e),console[_0x555000(0x1d4)]('\x20\x20\x20Payment\x20URL:\x20'+_0x29ab92),console[_0x555000(0x1d4)]('\x20\x20\x20Status:\x20'+_0x1098f9['status']),console[_0x555000(0x1d4)](_0x555000(0x1db)+_0x1098f9['from_amount']+'\x20'+_0x1098f9['from_currency']),console[_0x555000(0x1d4)](_0x555000(0x1c4)+_0x1098f9[_0x555000(0x1c2)]+'\x20'+_0x1098f9[_0x555000(0x1da)]),{'gateway_payment_id':_0x35501e,'payment_url':_0x29ab92,'session_id':_0x35501e,'status':_0x1098f9[_0x555000(0x1d7)],'from_amount':_0x1098f9['from_amount'],'to_amount':_0x1098f9[_0x555000(0x1c2)]};}catch(_0x1301d7){console['error'](_0x555000(0x1b6),_0x1301d7);if(_0x1301d7 instanceof Error)throw new Error(_0x555000(0x1b9)+_0x1301d7[_0x555000(0x1d2)]);throw new Error(_0x555000(0x1b8));}}}function a60_0x38c8(){const _0x5b9a57=['\x20\x20\x20Method:\x20','‚úÖ\x20InstaXChange\x20payment\x20session\x20created:','InstaXChangeService','\x20\x20\x20Session\x20ID:\x20','üì•\x20InstaXChange\x20proxy\x20HTTP\x20status:\x20','\x20\x20\x20Order\x20ID:\x20','\x20\x20\x20Amount:\x20','‚ùå\x20Failed\x20to\x20parse\x20JSON\x20response:','https://tesoft.uk/gateway/instaxchange/webhook.php?paymentId=','\x20\x20\x20Error\x20details:','substring','message','\x20\x20\x20Payment\x20ID:\x20','log','Invalid\x20JSON\x20response\x20from\x20proxy:\x20','36rosHvI','status','\x20\x20\x20Last\x20Name:\x20','sending','to_currency','\x20\x20\x20From\x20Amount:\x20','https://instaxchange.com/order/','Invalid\x20response\x20from\x20InstaXChange\x20proxy','createPayment','7541897qmkhxe','proxyUrl','\x20\x20\x20First\x20Name:\x20','780nkGuia','error','card','3DBrFeE','11437062AlGWIT','194046chVuXC','15695487yvpokZ','2283940iZCmPK','__esModule','N/A','767946dHrslE','15bjAuJO','23379omgPYS','üì•\x20InstaXChange\x20proxy\x20raw\x20response:','‚ùå\x20InstaXChange\x20proxy\x20request\x20failed:','join','InstaXChange\x20payment\x20creation\x20failed:\x20Unknown\x20error','InstaXChange\x20payment\x20creation\x20failed:\x20','üì§\x20Sending\x20request\x20to\x20InstaXChange\x20proxy:','application/json','stringify','üê≥\x20Creating\x20InstaXChange\x20payment\x20session:','statusText','slice','POST','Customer','to_amount','8RCvnPk','\x20\x20\x20To\x20Amount:\x20','\x20\x20\x20Customer:\x20','text'];a60_0x38c8=function(){return _0x5b9a57;};return a60_0x38c8();}exports[a60_0x5e2c5e(0x1c9)]=InstaXChangeService;