'use strict';const a44_0x44b23b=a44_0x555f;(function(_0x3598ce,_0x44b477){const _0x192a9e=a44_0x555f,_0x48e897=_0x3598ce();while(!![]){try{const _0x4f629d=-parseInt(_0x192a9e(0x246))/0x1*(parseInt(_0x192a9e(0x221))/0x2)+-parseInt(_0x192a9e(0x1fc))/0x3+parseInt(_0x192a9e(0x1f3))/0x4*(-parseInt(_0x192a9e(0x228))/0x5)+parseInt(_0x192a9e(0x218))/0x6*(parseInt(_0x192a9e(0x253))/0x7)+parseInt(_0x192a9e(0x1e2))/0x8+-parseInt(_0x192a9e(0x1d7))/0x9*(-parseInt(_0x192a9e(0x1e3))/0xa)+-parseInt(_0x192a9e(0x236))/0xb*(-parseInt(_0x192a9e(0x201))/0xc);if(_0x4f629d===_0x44b477)break;else _0x48e897['push'](_0x48e897['shift']());}catch(_0x981d66){_0x48e897['push'](_0x48e897['shift']());}}}(a44_0x5578,0x370f3));Object[a44_0x44b23b(0x232)](exports,a44_0x44b23b(0x24d),{'value':!![]}),exports[a44_0x44b23b(0x260)]=exports[a44_0x44b23b(0x24e)]=void 0x0;class AmPayService{constructor(){const _0x2b2ac9=a44_0x44b23b;this[_0x2b2ac9(0x273)]=_0x2b2ac9(0x227),this[_0x2b2ac9(0x24c)]='58b59ccbc03dcdcfc20d830edfba765dbf9f3531c692533d84b17938e9c40bda',this[_0x2b2ac9(0x272)]=_0x2b2ac9(0x229),this[_0x2b2ac9(0x1eb)]=_0x2b2ac9(0x212),console[_0x2b2ac9(0x1e1)](_0x2b2ac9(0x1f5));}[a44_0x44b23b(0x211)](_0x689f07){const _0x7af8ec=a44_0x44b23b,_0x8935da={'AD':_0x7af8ec(0x219),'AL':_0x7af8ec(0x248),'AT':_0x7af8ec(0x1de),'BA':_0x7af8ec(0x1da),'BE':_0x7af8ec(0x26f),'BG':_0x7af8ec(0x25b),'BY':_0x7af8ec(0x243),'CH':_0x7af8ec(0x22a),'CY':_0x7af8ec(0x1f1),'CZ':_0x7af8ec(0x216),'DE':_0x7af8ec(0x223),'DK':'DNK','EE':'EST','ES':_0x7af8ec(0x203),'FI':'FIN','FR':_0x7af8ec(0x24a),'GB':'GBR','GE':_0x7af8ec(0x20f),'GR':_0x7af8ec(0x20b),'HR':'HRV','HU':_0x7af8ec(0x25d),'IE':'IRL','IS':'ISL','IT':_0x7af8ec(0x23e),'LI':_0x7af8ec(0x215),'LT':_0x7af8ec(0x262),'LU':_0x7af8ec(0x263),'LV':_0x7af8ec(0x275),'MC':'MCO','MD':_0x7af8ec(0x225),'ME':_0x7af8ec(0x1ea),'MK':'MKD','MT':_0x7af8ec(0x1f8),'NL':'NLD','NO':_0x7af8ec(0x23d),'PL':_0x7af8ec(0x1e0),'PT':'PRT','RO':_0x7af8ec(0x1db),'RS':_0x7af8ec(0x265),'RU':'RUS','SE':_0x7af8ec(0x266),'SI':_0x7af8ec(0x1dc),'SK':_0x7af8ec(0x277),'SM':_0x7af8ec(0x21a),'UA':'UKR','VA':_0x7af8ec(0x21d),'XK':_0x7af8ec(0x1d8),'AM':_0x7af8ec(0x21f),'AZ':_0x7af8ec(0x267),'KZ':'KAZ','KG':_0x7af8ec(0x23a),'TJ':_0x7af8ec(0x21e),'TM':_0x7af8ec(0x25a),'UZ':_0x7af8ec(0x209),'US':_0x7af8ec(0x200),'CA':'CAN','AU':_0x7af8ec(0x1e4),'JP':_0x7af8ec(0x20c),'CN':_0x7af8ec(0x1d9),'IN':_0x7af8ec(0x235),'BR':_0x7af8ec(0x1ee),'MX':_0x7af8ec(0x226),'AR':_0x7af8ec(0x254),'CL':_0x7af8ec(0x245),'PE':_0x7af8ec(0x244),'CO':_0x7af8ec(0x207),'VE':_0x7af8ec(0x261),'EC':_0x7af8ec(0x278),'BO':'BOL','PY':'PRY','UY':_0x7af8ec(0x1dd),'SR':'SUR','GY':'GUY','FK':_0x7af8ec(0x22b),'ZA':_0x7af8ec(0x1f0),'EG':_0x7af8ec(0x22f),'NG':'NGA','KE':'KEN','GH':_0x7af8ec(0x1e5),'TZ':_0x7af8ec(0x206),'UG':_0x7af8ec(0x255),'ZW':_0x7af8ec(0x249),'ZM':_0x7af8ec(0x1df),'MW':_0x7af8ec(0x25e),'MZ':_0x7af8ec(0x1ec),'MG':'MDG','MU':_0x7af8ec(0x21c),'SC':'SYC','RE':'REU','TR':_0x7af8ec(0x1f4),'IR':'IRN','IQ':_0x7af8ec(0x210),'SA':_0x7af8ec(0x279),'AE':'ARE','KW':'KWT','QA':_0x7af8ec(0x1f2),'BH':'BHR','OM':_0x7af8ec(0x264),'YE':'YEM','JO':'JOR','LB':'LBN','SY':_0x7af8ec(0x271),'IL':'ISR','PS':_0x7af8ec(0x23c),'KR':'KOR','KP':_0x7af8ec(0x25c),'TH':_0x7af8ec(0x27a),'VN':_0x7af8ec(0x234),'MY':_0x7af8ec(0x270),'SG':_0x7af8ec(0x1fa),'ID':_0x7af8ec(0x26d),'PH':_0x7af8ec(0x1ed),'LA':_0x7af8ec(0x1ef),'KH':_0x7af8ec(0x24b),'MM':_0x7af8ec(0x20a),'BD':'BGD','LK':_0x7af8ec(0x247),'NP':_0x7af8ec(0x1f9),'BT':'BTN','MV':_0x7af8ec(0x214),'AF':_0x7af8ec(0x204),'PK':_0x7af8ec(0x23b),'MN':'MNG'},_0x58d4c2=_0x8935da[_0x689f07[_0x7af8ec(0x224)]()];if(!_0x58d4c2)return console[_0x7af8ec(0x1ff)](_0x7af8ec(0x1e6)+_0x689f07+_0x7af8ec(0x22d)),'RUS';return _0x58d4c2;}async[a44_0x44b23b(0x1e8)](_0x1f8f83){const _0x1e1f1c=a44_0x44b23b;try{const {orderId:_0x3158d5,amount:_0x55c230,currency:_0x197b36,firstName:_0x5b5a82,lastName:_0x44bf1e,email:_0xcd8968,customerIp:_0xceee71,customerCountry:_0x557f10,successUrl:_0x54507d,failureUrl:_0x29819f}=_0x1f8f83;console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x238)),console['log'](_0x1e1f1c(0x268),_0x3158d5),console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x242),_0x55c230,_0x197b36),console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x22e),_0x5b5a82+'\x20'+_0x44bf1e),console['log'](_0x1e1f1c(0x27c),_0xcd8968),console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x250),_0xceee71),console['log'](_0x1e1f1c(0x230),_0x557f10);const _0x2944e1=this[_0x1e1f1c(0x211)](_0x557f10);console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x231),_0x2944e1);const _0x431f6c={'sub_method':_0x1e1f1c(0x274),'currency':_0x197b36['toUpperCase'](),'amount':_0x55c230,'callback_url':_0x1e1f1c(0x27b),'client_merchant_id':this[_0x1e1f1c(0x273)],'client_transaction_id':_0x3158d5,'transaction_description':_0x3158d5,'customer':{'ip':_0xceee71,'email':_0xcd8968,'full_name':_0x5b5a82+'\x20'+_0x44bf1e,'country':_0x2944e1},'success_redirect_url':_0x54507d,'error_redirect_url':_0x29819f};console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x1e7),JSON[_0x1e1f1c(0x213)](_0x431f6c,null,0x2));const _0x4a1374=await fetch(this[_0x1e1f1c(0x1eb)]+'ampay.php',{'method':_0x1e1f1c(0x25f),'headers':{'Content-Type':_0x1e1f1c(0x256),'User-Agent':'TrapayAPI/1.0'},'body':JSON['stringify'](_0x431f6c)}),_0x64ae39=await _0x4a1374[_0x1e1f1c(0x208)]();console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x1fd),_0x64ae39);if(!_0x4a1374['ok'])throw new Error(_0x1e1f1c(0x240)+_0x4a1374[_0x1e1f1c(0x257)]+_0x1e1f1c(0x220)+_0x64ae39);let _0x29669b;try{_0x29669b=JSON[_0x1e1f1c(0x237)](_0x64ae39);}catch(_0x5c7785){throw new Error(_0x1e1f1c(0x24f)+_0x64ae39);}console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x26b),JSON[_0x1e1f1c(0x213)](_0x29669b,null,0x2));if(!_0x29669b[_0x1e1f1c(0x259)])throw new Error(_0x1e1f1c(0x239)+(_0x29669b[_0x1e1f1c(0x202)]||_0x29669b[_0x1e1f1c(0x27d)]||_0x1e1f1c(0x20e)));const _0x3972ac=_0x29669b['redirect_url'],_0x5b3c2a=_0x29669b[_0x1e1f1c(0x217)],_0x471a96=_0x29669b['tracker_id'];return console[_0x1e1f1c(0x1e1)]('‚úÖ\x20AmPay\x20payment\x20link\x20created\x20successfully'),console['log'](_0x1e1f1c(0x26c),_0x3972ac),console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x222),_0x5b3c2a),console[_0x1e1f1c(0x1e1)]('Tracker\x20ID:',_0x471a96),console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x1fb),_0x29669b[_0x1e1f1c(0x257)]),console[_0x1e1f1c(0x1e1)]('üìù\x20Logging\x20AmPay\x20payment\x20creation\x20event...'),{'gateway_payment_id':_0x5b3c2a||_0x471a96||_0x3158d5,'payment_url':_0x3972ac||'','transaction_id':_0x5b3c2a};}catch(_0x1fd229){console[_0x1e1f1c(0x252)](_0x1e1f1c(0x258),_0x1fd229),console[_0x1e1f1c(0x1e1)](_0x1e1f1c(0x241));throw _0x1fd229;}}async[a44_0x44b23b(0x27e)](){const _0x3e268e=a44_0x44b23b;try{const _0xce49e8=await fetch(this['apiUrl']+_0x3e268e(0x205),{'method':'GET','headers':{'Content-Type':_0x3e268e(0x256),'User-Agent':_0x3e268e(0x21b)}});return _0xce49e8&&_0xce49e8[_0x3e268e(0x257)]===0xc8?!![]:![];}catch(_0x3e2791){return console[_0x3e268e(0x252)](_0x3e268e(0x1f7),_0x3e2791),![];}}async[a44_0x44b23b(0x23f)](_0x5eaa79){const _0x4f17d5=a44_0x44b23b;console[_0x4f17d5(0x1e1)](_0x4f17d5(0x269)),console['log'](_0x4f17d5(0x251)),console[_0x4f17d5(0x1e1)]('Webhook\x20data:',_0x5eaa79),console['log']('Webhook\x20data\x20type:',typeof _0x5eaa79),console[_0x4f17d5(0x1e1)](_0x4f17d5(0x276));_0x5eaa79&&typeof _0x5eaa79===_0x4f17d5(0x26a)&&Object[_0x4f17d5(0x1e9)](_0x5eaa79)['forEach'](_0x30aa08=>{const _0x250eb1=_0x4f17d5;console[_0x250eb1(0x1e1)]('\x20\x20'+_0x30aa08+':\x20'+_0x5eaa79[_0x30aa08]+'\x20('+typeof _0x5eaa79[_0x30aa08]+')');});let _0x40afd4=_0x4f17d5(0x22c);const _0x2022e2=_0x5eaa79[_0x4f17d5(0x1d6)]||_0x5eaa79['system_id']||_0x5eaa79[_0x4f17d5(0x20d)]||'';return console[_0x4f17d5(0x1e1)](_0x4f17d5(0x233)+_0x2022e2),console[_0x4f17d5(0x1e1)](_0x4f17d5(0x1d5)+_0x40afd4),!_0x2022e2&&(console[_0x4f17d5(0x252)](_0x4f17d5(0x1fe)),console[_0x4f17d5(0x252)](_0x4f17d5(0x26e))),{'paymentId':_0x2022e2,'status':_0x40afd4,'amount':_0x5eaa79[_0x4f17d5(0x1f6)],'currency':_0x5eaa79['currency']};}}exports[a44_0x44b23b(0x24e)]=AmPayService,exports[a44_0x44b23b(0x260)]=new AmPayService();function a44_0x555f(_0x3dd83f,_0x2eb5f5){const _0x557800=a44_0x5578();return a44_0x555f=function(_0x555fe7,_0x359655){_0x555fe7=_0x555fe7-0x1d5;let _0x312558=_0x557800[_0x555fe7];return _0x312558;},a44_0x555f(_0x3dd83f,_0x2eb5f5);}function a44_0x5578(){const _0x22dba8=['CLIENT_MERCHANT_ID','GAM','LVA','Available\x20fields:','SVK','ECU','SAU','THA','https://traffer.uk/gateway/ampay/webhook.php','Email:','message','healthCheck','Forced\x20status\x20(webhook\x20disabled):\x20','client_transaction_id','169434hLYwWy','XKX','CHN','BIH','ROU','SVN','URY','AUT','ZMB','POL','log','1340944XdZMWq','130pqDsKe','AUS','GHA','‚ö†Ô∏è\x20Unknown\x20country\x20code:\x20','üì§\x20AmPay\x20request\x20body:','createPaymentLink','keys','MNE','apiUrl','MOZ','PHL','BRA','LAO','ZAF','CYP','QAT','14676YQxlJT','TUR','üá¶üá≤\x20AmPay\x20service\x20initialized\x20with\x20Open\x20Banking\x20AM\x20processing','amount','‚ùå\x20AmPay\x20health\x20check\x20failed:','MLT','NPL','SGP','Status:','787323otWhBH','üì•\x20AmPay\x20raw\x20response:','No\x20payment\x20ID\x20found\x20in\x20webhook\x20data','warn','USA','48MSIqGw','error_message','ESP','AFG','health.php','TZA','COL','text','UZB','MMR','GRC','JPN','tracker_id','Unknown\x20error','GEO','IRQ','convert2LetterTo3LetterCountryCode','https://traffer.uk/gateway/ampay/','stringify','MDV','LIE','CZE','system_id','270498xWKYvc','AND','SMR','TrapayAPI/1.0','MUS','VAT','TJK','ARM','\x20-\x20','868522jFoLqi','System\x20ID:','DEU','toUpperCase','MDA','MEX','TRAFFER','10tdzoeG','a5a059aa63392e571341bddc5148a5db66643722e9a6bf16a9395fb690a80288931d5a1180a85a28eb9f6516cf61dfc1bf4e37898f3a35261cd2db88888d3815','CHE','FLK','PENDING',',\x20using\x20RUS\x20as\x20fallback','Customer:','EGY','Customer\x20Country\x20(2-letter):','Customer\x20Country\x20(3-letter):','defineProperty','Extracted\x20payment\x20ID:\x20','VNM','IND','306515BJllBP','parse','üá¶üá≤\x20Creating\x20AmPay\x20payment\x20link...','AmPay\x20payment\x20creation\x20failed:\x20','KGZ','PAK','PSE','NOR','ITA','processWebhook','AmPay\x20API\x20error:\x20HTTP\x20','üìù\x20Logging\x20AmPay\x20payment\x20creation\x20failure...','Amount:','BLR','PER','CHL','1NaovoF','LKA','ALB','ZWE','FRA','KHM','API_PUBLIC_KEY','__esModule','AmPayService','Invalid\x20JSON\x20response\x20from\x20AmPay:\x20','Customer\x20IP:','‚ö†Ô∏è\x20WEBHOOKS\x20TEMPORARILY\x20DISABLED\x20-\x20Always\x20returning\x20PROCESSING\x20status','error','63HwvTTU','ARG','UGA','application/json','status','‚ùå\x20AmPay\x20payment\x20creation\x20failed:','redirect_url','TKM','BGR','PRK','HUN','MWI','POST','ampayService','VEN','LTU','LUX','OMN','SRB','SWE','AZE','Order\x20ID:','===\x20Processing\x20AmPay\x20webhook\x20===','object','üìä\x20AmPay\x20response\x20data:','Payment\x20URL:','IDN','Checked\x20fields:\x20client_transaction_id,\x20system_id,\x20tracker_id','BEL','MYS','SYR','API_PRIVATE_KEY'];a44_0x5578=function(){return _0x22dba8;};return a44_0x5578();}