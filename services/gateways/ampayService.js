'use strict';function a44_0x2bf4(_0x55189b,_0x467521){const _0x3e15a9=a44_0x3e15();return a44_0x2bf4=function(_0x2bf46c,_0x224f40){_0x2bf46c=_0x2bf46c-0x1b6;let _0x4b971d=_0x3e15a9[_0x2bf46c];return _0x4b971d;},a44_0x2bf4(_0x55189b,_0x467521);}const a44_0x29d878=a44_0x2bf4;(function(_0x379cda,_0x46d44b){const _0x34e6f6=a44_0x2bf4,_0x38d8d9=_0x379cda();while(!![]){try{const _0x43385f=parseInt(_0x34e6f6(0x1f4))/0x1+-parseInt(_0x34e6f6(0x248))/0x2*(parseInt(_0x34e6f6(0x23e))/0x3)+parseInt(_0x34e6f6(0x20f))/0x4+parseInt(_0x34e6f6(0x210))/0x5+parseInt(_0x34e6f6(0x22c))/0x6+parseInt(_0x34e6f6(0x1b8))/0x7+-parseInt(_0x34e6f6(0x1f9))/0x8;if(_0x43385f===_0x46d44b)break;else _0x38d8d9['push'](_0x38d8d9['shift']());}catch(_0x546431){_0x38d8d9['push'](_0x38d8d9['shift']());}}}(a44_0x3e15,0xb0201));Object[a44_0x29d878(0x216)](exports,a44_0x29d878(0x256),{'value':!![]}),exports['ampayService']=exports['AmPayService']=void 0x0;class AmPayService{constructor(){const _0x1835fe=a44_0x29d878;this['CLIENT_MERCHANT_ID']=_0x1835fe(0x1cc),this[_0x1835fe(0x23a)]='58b59ccbc03dcdcfc20d830edfba765dbf9f3531c692533d84b17938e9c40bda',this[_0x1835fe(0x21a)]='a5a059aa63392e571341bddc5148a5db66643722e9a6bf16a9395fb690a80288931d5a1180a85a28eb9f6516cf61dfc1bf4e37898f3a35261cd2db88888d3815',this[_0x1835fe(0x236)]=_0x1835fe(0x224),console['log'](_0x1835fe(0x1fb));}[a44_0x29d878(0x1ec)](_0xecad72){const _0xa9307d=a44_0x29d878,_0x27bcd0={'AD':_0xa9307d(0x1bf),'AL':_0xa9307d(0x24b),'AT':_0xa9307d(0x1e6),'BA':_0xa9307d(0x1fc),'BE':_0xa9307d(0x24e),'BG':_0xa9307d(0x223),'BY':'BLR','CH':_0xa9307d(0x1c3),'CY':_0xa9307d(0x1da),'CZ':_0xa9307d(0x204),'DE':_0xa9307d(0x241),'DK':_0xa9307d(0x218),'EE':_0xa9307d(0x1d3),'ES':_0xa9307d(0x1cb),'FI':'FIN','FR':_0xa9307d(0x226),'GB':'GBR','GE':'GEO','GR':'GRC','HR':'HRV','HU':_0xa9307d(0x227),'IE':_0xa9307d(0x249),'IS':_0xa9307d(0x1e4),'IT':'ITA','LI':_0xa9307d(0x1cd),'LT':_0xa9307d(0x220),'LU':_0xa9307d(0x1ed),'LV':_0xa9307d(0x1c6),'MC':_0xa9307d(0x233),'MD':_0xa9307d(0x1e9),'ME':_0xa9307d(0x243),'MK':'MKD','MT':_0xa9307d(0x1dd),'NL':_0xa9307d(0x1bd),'NO':_0xa9307d(0x230),'PL':_0xa9307d(0x1f0),'PT':'PRT','RO':_0xa9307d(0x24c),'RS':_0xa9307d(0x1d1),'RU':_0xa9307d(0x20c),'SE':'SWE','SI':_0xa9307d(0x229),'SK':_0xa9307d(0x219),'SM':_0xa9307d(0x257),'UA':_0xa9307d(0x205),'VA':_0xa9307d(0x209),'XK':_0xa9307d(0x1be),'AM':'ARM','AZ':'AZE','KZ':_0xa9307d(0x231),'KG':_0xa9307d(0x1b6),'TJ':_0xa9307d(0x22f),'TM':_0xa9307d(0x242),'UZ':_0xa9307d(0x217),'US':_0xa9307d(0x1fe),'CA':_0xa9307d(0x254),'AU':'AUS','JP':'JPN','CN':_0xa9307d(0x20d),'IN':_0xa9307d(0x1d0),'BR':'BRA','MX':_0xa9307d(0x234),'AR':_0xa9307d(0x235),'CL':'CHL','PE':'PER','CO':_0xa9307d(0x1cf),'VE':_0xa9307d(0x21b),'EC':_0xa9307d(0x1e8),'BO':_0xa9307d(0x1d7),'PY':'PRY','UY':_0xa9307d(0x24a),'SR':_0xa9307d(0x1c7),'GY':_0xa9307d(0x1c9),'FK':'FLK','ZA':_0xa9307d(0x1ba),'EG':'EGY','NG':_0xa9307d(0x21e),'KE':'KEN','GH':_0xa9307d(0x1e0),'TZ':_0xa9307d(0x221),'UG':_0xa9307d(0x208),'ZW':_0xa9307d(0x211),'ZM':_0xa9307d(0x1d6),'MW':_0xa9307d(0x1ff),'MZ':_0xa9307d(0x1fa),'MG':_0xa9307d(0x1f7),'MU':_0xa9307d(0x1ea),'SC':_0xa9307d(0x1bc),'RE':'REU','TR':_0xa9307d(0x225),'IR':_0xa9307d(0x1fd),'IQ':'IRQ','SA':'SAU','AE':_0xa9307d(0x240),'KW':_0xa9307d(0x22b),'QA':_0xa9307d(0x1ce),'BH':_0xa9307d(0x252),'OM':'OMN','YE':'YEM','JO':_0xa9307d(0x1d2),'LB':_0xa9307d(0x1f6),'SY':_0xa9307d(0x244),'IL':'ISR','PS':_0xa9307d(0x251),'KR':_0xa9307d(0x21d),'KP':_0xa9307d(0x1de),'TH':_0xa9307d(0x1b7),'VN':'VNM','MY':_0xa9307d(0x1c4),'SG':'SGP','ID':_0xa9307d(0x1b9),'PH':_0xa9307d(0x21c),'LA':'LAO','KH':_0xa9307d(0x213),'MM':'MMR','BD':_0xa9307d(0x1f8),'LK':_0xa9307d(0x239),'NP':'NPL','BT':_0xa9307d(0x22a),'MV':_0xa9307d(0x1e7),'AF':_0xa9307d(0x1df),'PK':_0xa9307d(0x207),'MN':_0xa9307d(0x238)},_0x3207fd=_0x27bcd0[_0xecad72[_0xa9307d(0x1c0)]()];if(!_0x3207fd)return console['warn']('‚ö†Ô∏è\x20Unknown\x20country\x20code:\x20'+_0xecad72+_0xa9307d(0x1e3)),_0xa9307d(0x20c);return _0x3207fd;}async[a44_0x29d878(0x1e5)](_0x4e628d){const _0x3c792c=a44_0x29d878;try{const {orderId:_0x407c76,amount:_0x43f0a5,currency:_0x3db786,firstName:_0x23d29a,lastName:_0x27f188,email:_0x219ea5,customerIp:_0x1d84fd,customerCountry:_0x598aa1,successUrl:_0x4c9fa8,failureUrl:_0x2433e9}=_0x4e628d;console[_0x3c792c(0x214)](_0x3c792c(0x1f2)),console[_0x3c792c(0x214)](_0x3c792c(0x1d5),_0x407c76),console[_0x3c792c(0x214)]('Amount:',_0x43f0a5,_0x3db786),console[_0x3c792c(0x214)](_0x3c792c(0x206),_0x23d29a+'\x20'+_0x27f188),console[_0x3c792c(0x214)](_0x3c792c(0x237),_0x219ea5),console[_0x3c792c(0x214)](_0x3c792c(0x1e2),_0x1d84fd),console['log']('Customer\x20Country\x20(2-letter):',_0x598aa1);const _0x201e6c=this[_0x3c792c(0x1ec)](_0x598aa1);console['log']('Customer\x20Country\x20(3-letter):',_0x201e6c);const _0x264130={'sub_method':_0x3c792c(0x247),'currency':_0x3db786[_0x3c792c(0x1c0)](),'amount':_0x43f0a5,'callback_url':_0x3c792c(0x215),'client_merchant_id':this['CLIENT_MERCHANT_ID'],'client_transaction_id':_0x407c76,'transaction_description':_0x407c76,'customer':{'ip':_0x1d84fd,'email':_0x219ea5,'full_name':_0x23d29a+'\x20'+_0x27f188,'country':_0x201e6c},'success_redirect_url':_0x4c9fa8,'error_redirect_url':_0x2433e9};console['log'](_0x3c792c(0x25a),JSON[_0x3c792c(0x1bb)](_0x264130,null,0x2));const _0x1fe4e5=await fetch(this[_0x3c792c(0x236)]+_0x3c792c(0x1c5),{'method':_0x3c792c(0x1f1),'headers':{'Content-Type':'application/json','User-Agent':_0x3c792c(0x253)},'body':JSON['stringify'](_0x264130)}),_0x2fc659=await _0x1fe4e5[_0x3c792c(0x22d)]();console[_0x3c792c(0x214)](_0x3c792c(0x228),_0x2fc659);if(!_0x1fe4e5['ok'])throw new Error(_0x3c792c(0x1f5)+_0x1fe4e5[_0x3c792c(0x1c8)]+_0x3c792c(0x1e1)+_0x2fc659);let _0x4461f7;try{_0x4461f7=JSON[_0x3c792c(0x202)](_0x2fc659);}catch(_0xdc347){throw new Error('Invalid\x20JSON\x20response\x20from\x20AmPay:\x20'+_0x2fc659);}console[_0x3c792c(0x214)](_0x3c792c(0x232),JSON[_0x3c792c(0x1bb)](_0x4461f7,null,0x2));if(!_0x4461f7[_0x3c792c(0x1d4)])throw new Error('AmPay\x20payment\x20creation\x20failed:\x20'+(_0x4461f7[_0x3c792c(0x1eb)]||_0x4461f7['message']||_0x3c792c(0x1ee)));const _0x33d819=_0x4461f7[_0x3c792c(0x1d4)],_0x2e1b6f=_0x4461f7['system_id'],_0x54d69c=_0x4461f7['tracker_id'];return console[_0x3c792c(0x214)](_0x3c792c(0x245)),console['log'](_0x3c792c(0x20a),_0x33d819),console[_0x3c792c(0x214)](_0x3c792c(0x23c),_0x2e1b6f),console[_0x3c792c(0x214)](_0x3c792c(0x212),_0x54d69c),console['log'](_0x3c792c(0x21f),_0x4461f7['status']),console[_0x3c792c(0x214)](_0x3c792c(0x1dc)),{'gateway_payment_id':_0x2e1b6f||_0x54d69c||_0x407c76,'payment_url':_0x33d819||'','transaction_id':_0x2e1b6f};}catch(_0x533f82){console[_0x3c792c(0x23f)](_0x3c792c(0x222),_0x533f82),console[_0x3c792c(0x214)](_0x3c792c(0x203));throw _0x533f82;}}async[a44_0x29d878(0x259)](){const _0x84b5f8=a44_0x29d878;try{const _0x34c44c=await fetch(this['apiUrl']+'health.php',{'method':_0x84b5f8(0x23d),'headers':{'Content-Type':_0x84b5f8(0x250),'User-Agent':_0x84b5f8(0x253)}});return _0x34c44c&&_0x34c44c[_0x84b5f8(0x1c8)]===0xc8?!![]:![];}catch(_0x5a19cd){return console[_0x84b5f8(0x23f)](_0x84b5f8(0x24d),_0x5a19cd),![];}}async[a44_0x29d878(0x1ef)](_0x2412c9){const _0x667ad2=a44_0x29d878;console[_0x667ad2(0x214)](_0x667ad2(0x24f)),console[_0x667ad2(0x214)](_0x667ad2(0x23b)),console[_0x667ad2(0x214)](_0x667ad2(0x255),_0x2412c9),console[_0x667ad2(0x214)](_0x667ad2(0x20e),typeof _0x2412c9),console['log'](_0x667ad2(0x1db));_0x2412c9&&typeof _0x2412c9===_0x667ad2(0x258)&&Object[_0x667ad2(0x1d8)](_0x2412c9)[_0x667ad2(0x1c1)](_0x472968=>{console['log']('\x20\x20'+_0x472968+':\x20'+_0x2412c9[_0x472968]+'\x20('+typeof _0x2412c9[_0x472968]+')');});let _0x2e7423=_0x667ad2(0x1d9);const _0x4bf80d=_0x2412c9['client_transaction_id']||_0x2412c9['system_id']||_0x2412c9[_0x667ad2(0x1ca)]||'';return console[_0x667ad2(0x214)](_0x667ad2(0x1f3)+_0x4bf80d),console['log'](_0x667ad2(0x20b)+_0x2e7423),!_0x4bf80d&&(console[_0x667ad2(0x23f)]('No\x20payment\x20ID\x20found\x20in\x20webhook\x20data'),console[_0x667ad2(0x23f)](_0x667ad2(0x1c2))),{'paymentId':_0x4bf80d,'status':_0x2e7423,'amount':_0x2412c9[_0x667ad2(0x22e)],'currency':_0x2412c9[_0x667ad2(0x200)]};}}exports[a44_0x29d878(0x201)]=AmPayService,exports[a44_0x29d878(0x246)]=new AmPayService();function a44_0x3e15(){const _0x46597=['QAT','COL','IND','SRB','JOR','EST','redirect_url','Order\x20ID:','ZMB','BOL','keys','PENDING','CYP','Available\x20fields:','üìù\x20Logging\x20AmPay\x20payment\x20creation\x20event...','MLT','PRK','AFG','GHA','\x20-\x20','Customer\x20IP:',',\x20using\x20RUS\x20as\x20fallback','ISL','createPaymentLink','AUT','MDV','ECU','MDA','MUS','error_message','convert2LetterTo3LetterCountryCode','LUX','Unknown\x20error','processWebhook','POL','POST','üá¶üá≤\x20Creating\x20AmPay\x20payment\x20link...','Extracted\x20payment\x20ID:\x20','93894ageRbe','AmPay\x20API\x20error:\x20HTTP\x20','LBN','MDG','BGD','7952192AVpQrq','MOZ','üá¶üá≤\x20AmPay\x20service\x20initialized\x20with\x20Open\x20Banking\x20AM\x20processing','BIH','IRN','USA','MWI','currency','AmPayService','parse','üìù\x20Logging\x20AmPay\x20payment\x20creation\x20failure...','CZE','UKR','Customer:','PAK','UGA','VAT','Payment\x20URL:','Forced\x20status\x20(webhook\x20disabled):\x20','RUS','CHN','Webhook\x20data\x20type:','157468ECzUkn','5882045nzJYtn','ZWE','Tracker\x20ID:','KHM','log','https://traffer.uk/gateway/ampay/webhook.php','defineProperty','UZB','DNK','SVK','API_PRIVATE_KEY','VEN','PHL','KOR','NGA','Status:','LTU','TZA','‚ùå\x20AmPay\x20payment\x20creation\x20failed:','BGR','https://traffer.uk/gateway/ampay/','TUR','FRA','HUN','üì•\x20AmPay\x20raw\x20response:','SVN','BTN','KWT','3337848aJdIjL','text','amount','TJK','NOR','KAZ','üìä\x20AmPay\x20response\x20data:','MCO','MEX','ARG','apiUrl','Email:','MNG','LKA','API_PUBLIC_KEY','‚ö†Ô∏è\x20WEBHOOKS\x20TEMPORARILY\x20DISABLED\x20-\x20Always\x20returning\x20PROCESSING\x20status','System\x20ID:','GET','501IitWXG','error','ARE','DEU','TKM','MNE','SYR','‚úÖ\x20AmPay\x20payment\x20link\x20created\x20successfully','ampayService','GAM','5758YGvYaL','IRL','URY','ALB','ROU','‚ùå\x20AmPay\x20health\x20check\x20failed:','BEL','===\x20Processing\x20AmPay\x20webhook\x20===','application/json','PSE','BHR','TrapayAPI/1.0','CAN','Webhook\x20data:','__esModule','SMR','object','healthCheck','üì§\x20AmPay\x20request\x20body:','KGZ','THA','2311736ZkVvve','IDN','ZAF','stringify','SYC','NLD','XKX','AND','toUpperCase','forEach','Checked\x20fields:\x20client_transaction_id,\x20system_id,\x20tracker_id','CHE','MYS','ampay.php','LVA','SUR','status','GUY','tracker_id','ESP','TRAFFER','LIE'];a44_0x3e15=function(){return _0x46597;};return a44_0x3e15();}