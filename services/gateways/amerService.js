'use strict';const a55_0x2b3e50=a55_0x124e;(function(_0x3e4346,_0x215d47){const _0x5f0f21=a55_0x124e,_0x2c0f45=_0x3e4346();while(!![]){try{const _0x178dcb=parseInt(_0x5f0f21(0x10c))/0x1+-parseInt(_0x5f0f21(0x11b))/0x2*(parseInt(_0x5f0f21(0x114))/0x3)+-parseInt(_0x5f0f21(0x12b))/0x4*(-parseInt(_0x5f0f21(0x137))/0x5)+-parseInt(_0x5f0f21(0x130))/0x6+parseInt(_0x5f0f21(0x10e))/0x7+-parseInt(_0x5f0f21(0x141))/0x8*(parseInt(_0x5f0f21(0x131))/0x9)+parseInt(_0x5f0f21(0x125))/0xa*(-parseInt(_0x5f0f21(0x13b))/0xb);if(_0x178dcb===_0x215d47)break;else _0x2c0f45['push'](_0x2c0f45['shift']());}catch(_0x497b5f){_0x2c0f45['push'](_0x2c0f45['shift']());}}}(a55_0x48e3,0x8e32c));function a55_0x124e(_0x5481e7,_0x14ec06){_0x5481e7=_0x5481e7-0x109;const _0x48e3aa=a55_0x48e3();let _0x124e54=_0x48e3aa[_0x5481e7];return _0x124e54;}function a55_0x48e3(){const _0x8f4b1a=['5697730IHEleX','Failed\x20to\x20verify\x20Amer\x20payment:\x20','Error\x20message:','success','43285aRGlNo','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','amer','paymentId','log','40wDuXfk','üí∞\x20Amount:\x20','orderId','Error\x20stack:','/payment/verify/','verifyPayment','__esModule','687231OZWEfQ','===\x20AMER\x20SERVICE\x20ERROR\x20===','6119456etbTWA','Payment\x20ID:','gatewayPaymentId','logWhiteDomainError','Processing\x20Amer\x20webhook:','Amer\x20payment\x20verification\x20error:','30DKjRiA','paymentMethod','PAID','transactionId','/payment.php?payment_id=','defineProperty','&order=','36326iroHSy','GET','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','currency','logWhiteDomainRequest','stack','message','toUpperCase','PENDING','../loggerService','2170PZyYvZ','Unknown\x20error','processWebhook','https://api2.trapay.uk','createPaymentLink','apiUrl','4NNEUHk','AmerService','cardLast4','error','loggerService','1865646NwItBj','1389735hcdIti','amount','FAILED','/payment','&currency=','&amount='];a55_0x48e3=function(){return _0x8f4b1a;};return a55_0x48e3();}Object[a55_0x2b3e50(0x119)](exports,a55_0x2b3e50(0x10b),{'value':!![]}),exports[a55_0x2b3e50(0x12c)]=void 0x0;const loggerService_1=require(a55_0x2b3e50(0x124));class AmerService{constructor(){const _0x16cfdf=a55_0x2b3e50;this['apiUrl']=_0x16cfdf(0x128),console[_0x16cfdf(0x140)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a55_0x2b3e50(0x129)](_0x6938bd){const _0xbead67=a55_0x2b3e50,{paymentId:_0x3be1a7,orderId:_0x258dc8,orderName:_0x1570fd,amount:_0x99583b,currency:_0x3f42b8,usage:_0x27dc6a,maxPayments:_0x1d9c3f,successUrl:_0x2fed1a,failUrl:_0xe44795}=_0x6938bd,_0xc31fba=_0x3f42b8[_0xbead67(0x122)]();console[_0xbead67(0x140)](_0xbead67(0x11d)+_0x258dc8),console[_0xbead67(0x140)](_0xbead67(0x142)+_0x99583b+'\x20'+_0xc31fba);try{const _0x11f8dc=this[_0xbead67(0x12a)]+_0xbead67(0x118)+_0x3be1a7+_0xbead67(0x136)+_0x99583b+_0xbead67(0x135)+_0xc31fba+_0xbead67(0x11a)+_0x258dc8;return console['log']('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0xbead67(0x140)](_0xbead67(0x10f),_0x3be1a7),console['log']('Payment\x20URL:',_0x11f8dc),console[_0xbead67(0x140)]('Amount:',_0x99583b,_0xc31fba),loggerService_1[_0xbead67(0x12f)][_0xbead67(0x11f)](_0xbead67(0x13e),'/payment',_0xbead67(0x11c),{'paymentId':_0x3be1a7,'amount':_0x99583b,'currency':_0xc31fba,'orderId':_0x258dc8}),{'gateway_payment_id':_0x3be1a7,'payment_url':_0x11f8dc};}catch(_0x4206c4){console[_0xbead67(0x12e)](_0xbead67(0x10d)),console[_0xbead67(0x12e)]('Error\x20details:',_0x4206c4),loggerService_1[_0xbead67(0x12f)][_0xbead67(0x111)](_0xbead67(0x13e),_0xbead67(0x134),_0x4206c4);if(_0x4206c4 instanceof Error){console[_0xbead67(0x12e)](_0xbead67(0x139),_0x4206c4[_0xbead67(0x121)]),console[_0xbead67(0x12e)](_0xbead67(0x144),_0x4206c4[_0xbead67(0x120)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x4206c4[_0xbead67(0x121)]);}throw new Error(_0xbead67(0x13d));}}async[a55_0x2b3e50(0x10a)](_0x261483){const _0x5e9510=a55_0x2b3e50;console[_0x5e9510(0x140)]('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x261483);try{return loggerService_1[_0x5e9510(0x12f)][_0x5e9510(0x11f)](_0x5e9510(0x13e),'/payment/verify/'+_0x261483,'GET',{}),{'status':_0x5e9510(0x123)};}catch(_0x4ca135){console['error'](_0x5e9510(0x113),_0x4ca135),loggerService_1[_0x5e9510(0x12f)]['logWhiteDomainError'](_0x5e9510(0x13e),_0x5e9510(0x109)+_0x261483,_0x4ca135);throw new Error(_0x5e9510(0x138)+(_0x4ca135 instanceof Error?_0x4ca135['message']:_0x5e9510(0x126)));}}async[a55_0x2b3e50(0x127)](_0x50783a){const _0x29fecd=a55_0x2b3e50;console['log'](_0x29fecd(0x112),_0x50783a);let _0x521db7='PENDING';if(_0x50783a['success']===!![])_0x521db7=_0x29fecd(0x116);else _0x50783a[_0x29fecd(0x13a)]===![]&&(_0x521db7=_0x29fecd(0x133));const _0x20de9a={};return _0x50783a[_0x29fecd(0x12d)]&&(_0x20de9a[_0x29fecd(0x12d)]=_0x50783a[_0x29fecd(0x12d)]),_0x50783a['paymentMethod']&&(_0x20de9a[_0x29fecd(0x115)]=_0x50783a[_0x29fecd(0x115)]),_0x50783a[_0x29fecd(0x117)]&&(_0x20de9a[_0x29fecd(0x117)]=_0x50783a[_0x29fecd(0x117)],_0x20de9a[_0x29fecd(0x110)]=_0x50783a[_0x29fecd(0x117)]),console[_0x29fecd(0x140)](_0x29fecd(0x13c)+_0x521db7),{'paymentId':_0x50783a[_0x29fecd(0x13f)]||_0x50783a[_0x29fecd(0x143)]||'','status':_0x521db7,'amount':_0x50783a[_0x29fecd(0x132)],'currency':_0x50783a[_0x29fecd(0x11e)],'additionalInfo':_0x20de9a};}}exports['AmerService']=AmerService;