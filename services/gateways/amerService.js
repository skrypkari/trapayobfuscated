'use strict';const a51_0x4c6ff7=a51_0x52ea;(function(_0x22aa06,_0x2bed54){const _0x8046c6=a51_0x52ea,_0xa9c63c=_0x22aa06();while(!![]){try{const _0x279ac4=-parseInt(_0x8046c6(0x1b6))/0x1*(-parseInt(_0x8046c6(0x1d7))/0x2)+parseInt(_0x8046c6(0x1e1))/0x3+parseInt(_0x8046c6(0x1d5))/0x4+parseInt(_0x8046c6(0x1bf))/0x5*(-parseInt(_0x8046c6(0x1c7))/0x6)+parseInt(_0x8046c6(0x1d4))/0x7*(-parseInt(_0x8046c6(0x1bd))/0x8)+-parseInt(_0x8046c6(0x1ae))/0x9+-parseInt(_0x8046c6(0x1b8))/0xa*(-parseInt(_0x8046c6(0x1ad))/0xb);if(_0x279ac4===_0x2bed54)break;else _0xa9c63c['push'](_0xa9c63c['shift']());}catch(_0x1351eb){_0xa9c63c['push'](_0xa9c63c['shift']());}}}(a51_0x4920,0xb4791));function a51_0x4920(){const _0x4123dd=['Payment\x20ID:','logWhiteDomainRequest','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','Amount:','verifyPayment','4189032stlncA','Error\x20stack:','PAID','transactionId','currency','Payment\x20URL:','cardLast4','473aSuUlM','10318464QHpNSP','toUpperCase','Error\x20message:','loggerService','processWebhook','PENDING','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','orderId','183QzbCel','&order=','33420supWVC','apiUrl','Error\x20details:','https://api2.trapay.uk','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','88qgzVnV','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','15WRAFir','&currency=','Unknown\x20error','/payment','stack','Amer\x20payment\x20verification\x20error:','logWhiteDomainError','Failed\x20to\x20verify\x20Amer\x20payment:\x20','1534074KiXZDN','GET','Processing\x20Amer\x20webhook:','error','createPaymentLink','paymentMethod','gatewayPaymentId','/payment.php?payment_id=','log','FAILED','üîç\x20Verifying\x20Amer\x20payment:\x20','amount','amer','376866hVnrGs','2050692EKOuXa','paymentId','13030SyLWmF','&amount=','success','message','AmerService'];a51_0x4920=function(){return _0x4123dd;};return a51_0x4920();}function a51_0x52ea(_0x34be12,_0x3309fc){_0x34be12=_0x34be12-0x1aa;const _0x4920db=a51_0x4920();let _0x52ea1b=_0x4920db[_0x34be12];return _0x52ea1b;}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a51_0x4c6ff7(0x1db)]=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0xb9b1b8=a51_0x4c6ff7;this[_0xb9b1b8(0x1b9)]=_0xb9b1b8(0x1bb),console['log']('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a51_0x4c6ff7(0x1cb)](_0x38aebd){const _0x57a87d=a51_0x4c6ff7,{paymentId:_0x3cc953,orderId:_0x3ad2ba,orderName:_0x527ce0,amount:_0x2edef7,currency:_0x29cdf9,usage:_0x5ba24f,maxPayments:_0x1643a9,successUrl:_0x3322e5,failUrl:_0x5b6641}=_0x38aebd,_0x52cbc6=_0x29cdf9[_0x57a87d(0x1af)]();console[_0x57a87d(0x1cf)](_0x57a87d(0x1bc)+_0x3ad2ba),console[_0x57a87d(0x1cf)]('üí∞\x20Amount:\x20'+_0x2edef7+'\x20'+_0x52cbc6);try{const _0x475548=this['apiUrl']+_0x57a87d(0x1ce)+_0x3cc953+_0x57a87d(0x1d8)+_0x2edef7+_0x57a87d(0x1c0)+_0x52cbc6+_0x57a87d(0x1b7)+_0x3ad2ba;return console[_0x57a87d(0x1cf)](_0x57a87d(0x1de)),console[_0x57a87d(0x1cf)](_0x57a87d(0x1dc),_0x3cc953),console['log'](_0x57a87d(0x1ab),_0x475548),console[_0x57a87d(0x1cf)](_0x57a87d(0x1df),_0x2edef7,_0x52cbc6),loggerService_1['loggerService'][_0x57a87d(0x1dd)](_0x57a87d(0x1d3),_0x57a87d(0x1c2),_0x57a87d(0x1c8),{'paymentId':_0x3cc953,'amount':_0x2edef7,'currency':_0x52cbc6,'orderId':_0x3ad2ba}),{'gateway_payment_id':_0x3cc953,'payment_url':_0x475548};}catch(_0xe5adc4){console[_0x57a87d(0x1ca)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x57a87d(0x1ca)](_0x57a87d(0x1ba),_0xe5adc4),loggerService_1[_0x57a87d(0x1b1)][_0x57a87d(0x1c5)](_0x57a87d(0x1d3),_0x57a87d(0x1c2),_0xe5adc4);if(_0xe5adc4 instanceof Error){console['error'](_0x57a87d(0x1b0),_0xe5adc4[_0x57a87d(0x1da)]),console['error'](_0x57a87d(0x1e2),_0xe5adc4[_0x57a87d(0x1c3)]);throw new Error(_0x57a87d(0x1b4)+_0xe5adc4['message']);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async[a51_0x4c6ff7(0x1e0)](_0xe1652f){const _0x468b2f=a51_0x4c6ff7;console[_0x468b2f(0x1cf)](_0x468b2f(0x1d1)+_0xe1652f);try{return loggerService_1[_0x468b2f(0x1b1)][_0x468b2f(0x1dd)](_0x468b2f(0x1d3),'/payment/verify/'+_0xe1652f,_0x468b2f(0x1c8),{}),{'status':'PENDING'};}catch(_0x42b957){console[_0x468b2f(0x1ca)](_0x468b2f(0x1c4),_0x42b957),loggerService_1[_0x468b2f(0x1b1)][_0x468b2f(0x1c5)](_0x468b2f(0x1d3),'/payment/verify/'+_0xe1652f,_0x42b957);throw new Error(_0x468b2f(0x1c6)+(_0x42b957 instanceof Error?_0x42b957[_0x468b2f(0x1da)]:_0x468b2f(0x1c1)));}}async[a51_0x4c6ff7(0x1b2)](_0x1afe5b){const _0x51c864=a51_0x4c6ff7;console['log'](_0x51c864(0x1c9),_0x1afe5b);let _0x10f937=_0x51c864(0x1b3);if(_0x1afe5b['success']===!![])_0x10f937=_0x51c864(0x1e3);else _0x1afe5b[_0x51c864(0x1d9)]===![]&&(_0x10f937=_0x51c864(0x1d0));const _0x2d1b80={};return _0x1afe5b[_0x51c864(0x1ac)]&&(_0x2d1b80[_0x51c864(0x1ac)]=_0x1afe5b[_0x51c864(0x1ac)]),_0x1afe5b[_0x51c864(0x1cc)]&&(_0x2d1b80[_0x51c864(0x1cc)]=_0x1afe5b[_0x51c864(0x1cc)]),_0x1afe5b[_0x51c864(0x1e4)]&&(_0x2d1b80[_0x51c864(0x1e4)]=_0x1afe5b[_0x51c864(0x1e4)],_0x2d1b80[_0x51c864(0x1cd)]=_0x1afe5b[_0x51c864(0x1e4)]),console['log'](_0x51c864(0x1be)+_0x10f937),{'paymentId':_0x1afe5b[_0x51c864(0x1d6)]||_0x1afe5b[_0x51c864(0x1b5)]||'','status':_0x10f937,'amount':_0x1afe5b[_0x51c864(0x1d2)],'currency':_0x1afe5b[_0x51c864(0x1aa)],'additionalInfo':_0x2d1b80};}}exports['AmerService']=AmerService;