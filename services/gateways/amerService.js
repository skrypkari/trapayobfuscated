'use strict';function a41_0x3738(){const _0x369bf3=['Failed\x20to\x20verify\x20Amer\x20payment:\x20','Amer\x20payment\x20verification\x20error:','message','226aHpXrO','===\x20AMER\x20SERVICE\x20ERROR\x20===','/payment/verify/','orderId','3366868pBwDFV','__esModule','GET','logWhiteDomainRequest','Unknown\x20error','1157256HEHwTy','currency','transactionId','8fKihmP','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','PAID','amount','https://api2.trapay.uk','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Error\x20message:','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','30uyDhNy','4582915kfOxTy','amer','processWebhook','Processing\x20Amer\x20webhook:','üí∞\x20Amount:\x20','verifyPayment','gatewayPaymentId','log','Error\x20details:','818167iqHMXJ','Amount:','üîç\x20Verifying\x20Amer\x20payment:\x20','apiUrl','toUpperCase','1417959ETiphP','/payment','loggerService','&order=','/payment.php?payment_id=','cardLast4','Error\x20stack:','FAILED','&amount=','Payment\x20URL:','2369920gGJnPc','paymentMethod','Payment\x20ID:','../loggerService','error','PENDING','33645TQafME','createPaymentLink','paymentId','success','defineProperty'];a41_0x3738=function(){return _0x369bf3;};return a41_0x3738();}function a41_0x1812(_0x2bc5e5,_0x19ba41){const _0x373867=a41_0x3738();return a41_0x1812=function(_0x181276,_0xbd47c9){_0x181276=_0x181276-0x11a;let _0x28487d=_0x373867[_0x181276];return _0x28487d;},a41_0x1812(_0x2bc5e5,_0x19ba41);}const a41_0x56861b=a41_0x1812;(function(_0x5623e7,_0x2aaef9){const _0x2dfcad=a41_0x1812,_0x22dcd5=_0x5623e7();while(!![]){try{const _0xe3eea5=-parseInt(_0x2dfcad(0x12e))/0x1+parseInt(_0x2dfcad(0x125))/0x2*(parseInt(_0x2dfcad(0x11d))/0x3)+parseInt(_0x2dfcad(0x129))/0x4+parseInt(_0x2dfcad(0x13a))/0x5+parseInt(_0x2dfcad(0x139))/0x6*(-parseInt(_0x2dfcad(0x143))/0x7)+-parseInt(_0x2dfcad(0x131))/0x8*(parseInt(_0x2dfcad(0x148))/0x9)+-parseInt(_0x2dfcad(0x152))/0xa;if(_0xe3eea5===_0x2aaef9)break;else _0x22dcd5['push'](_0x22dcd5['shift']());}catch(_0x333291){_0x22dcd5['push'](_0x22dcd5['shift']());}}}(a41_0x3738,0xd922f));Object[a41_0x56861b(0x121)](exports,a41_0x56861b(0x12a),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a41_0x56861b(0x11a));class AmerService{constructor(){const _0x40a6e2=a41_0x56861b;this[_0x40a6e2(0x146)]=_0x40a6e2(0x135),console[_0x40a6e2(0x141)](_0x40a6e2(0x132));}async[a41_0x56861b(0x11e)](_0x148077){const _0x341eb3=a41_0x56861b,{paymentId:_0x880db1,orderId:_0x33c67b,orderName:_0x1e8487,amount:_0x84d2ba,currency:_0x1ed15a,usage:_0x56977d,maxPayments:_0x40f284,successUrl:_0x15478f,failUrl:_0x5c1c06}=_0x148077,_0x1565ce=_0x1ed15a[_0x341eb3(0x147)]();console['log'](_0x341eb3(0x138)+_0x33c67b),console['log'](_0x341eb3(0x13e)+_0x84d2ba+'\x20'+_0x1565ce);try{const _0x35e7ab=this[_0x341eb3(0x146)]+_0x341eb3(0x14c)+_0x880db1+_0x341eb3(0x150)+_0x84d2ba+'&currency='+_0x1565ce+_0x341eb3(0x14b)+_0x33c67b;return console[_0x341eb3(0x141)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x341eb3(0x141)](_0x341eb3(0x154),_0x880db1),console[_0x341eb3(0x141)](_0x341eb3(0x151),_0x35e7ab),console[_0x341eb3(0x141)](_0x341eb3(0x144),_0x84d2ba,_0x1565ce),loggerService_1[_0x341eb3(0x14a)][_0x341eb3(0x12c)](_0x341eb3(0x13b),_0x341eb3(0x149),'GET',{'paymentId':_0x880db1,'amount':_0x84d2ba,'currency':_0x1565ce,'orderId':_0x33c67b}),{'gateway_payment_id':_0x880db1,'payment_url':_0x35e7ab};}catch(_0x57ed21){console['error'](_0x341eb3(0x126)),console[_0x341eb3(0x11b)](_0x341eb3(0x142),_0x57ed21),loggerService_1[_0x341eb3(0x14a)]['logWhiteDomainError'](_0x341eb3(0x13b),_0x341eb3(0x149),_0x57ed21);if(_0x57ed21 instanceof Error){console['error'](_0x341eb3(0x137),_0x57ed21[_0x341eb3(0x124)]),console[_0x341eb3(0x11b)](_0x341eb3(0x14e),_0x57ed21['stack']);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x57ed21[_0x341eb3(0x124)]);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async[a41_0x56861b(0x13f)](_0x36d967){const _0x41d68a=a41_0x56861b;console[_0x41d68a(0x141)](_0x41d68a(0x145)+_0x36d967);try{return loggerService_1[_0x41d68a(0x14a)]['logWhiteDomainRequest'](_0x41d68a(0x13b),_0x41d68a(0x127)+_0x36d967,_0x41d68a(0x12b),{}),{'status':_0x41d68a(0x11c)};}catch(_0xa3389b){console[_0x41d68a(0x11b)](_0x41d68a(0x123),_0xa3389b),loggerService_1['loggerService']['logWhiteDomainError']('amer',_0x41d68a(0x127)+_0x36d967,_0xa3389b);throw new Error(_0x41d68a(0x122)+(_0xa3389b instanceof Error?_0xa3389b[_0x41d68a(0x124)]:_0x41d68a(0x12d)));}}async[a41_0x56861b(0x13c)](_0x26a0e2){const _0x306e84=a41_0x56861b;console[_0x306e84(0x141)](_0x306e84(0x13d),_0x26a0e2);let _0x236d45='PENDING';if(_0x26a0e2[_0x306e84(0x120)]===!![])_0x236d45=_0x306e84(0x133);else _0x26a0e2[_0x306e84(0x120)]===![]&&(_0x236d45=_0x306e84(0x14f));const _0x757633={};return _0x26a0e2[_0x306e84(0x14d)]&&(_0x757633[_0x306e84(0x14d)]=_0x26a0e2[_0x306e84(0x14d)]),_0x26a0e2['paymentMethod']&&(_0x757633[_0x306e84(0x153)]=_0x26a0e2[_0x306e84(0x153)]),_0x26a0e2['transactionId']&&(_0x757633['transactionId']=_0x26a0e2[_0x306e84(0x130)],_0x757633[_0x306e84(0x140)]=_0x26a0e2[_0x306e84(0x130)]),console[_0x306e84(0x141)](_0x306e84(0x136)+_0x236d45),{'paymentId':_0x26a0e2[_0x306e84(0x11f)]||_0x26a0e2[_0x306e84(0x128)]||'','status':_0x236d45,'amount':_0x26a0e2[_0x306e84(0x134)],'currency':_0x26a0e2[_0x306e84(0x12f)],'additionalInfo':_0x757633};}}exports['AmerService']=AmerService;