'use strict';const a45_0x317cad=a45_0x3c76;(function(_0x1f522b,_0x10f0f4){const _0x5b3125=a45_0x3c76,_0x2813ea=_0x1f522b();while(!![]){try{const _0x92e912=-parseInt(_0x5b3125(0x86))/0x1+parseInt(_0x5b3125(0x9f))/0x2+-parseInt(_0x5b3125(0x6c))/0x3+-parseInt(_0x5b3125(0x78))/0x4*(parseInt(_0x5b3125(0x9c))/0x5)+parseInt(_0x5b3125(0x8b))/0x6*(-parseInt(_0x5b3125(0x8d))/0x7)+parseInt(_0x5b3125(0x87))/0x8+-parseInt(_0x5b3125(0x70))/0x9*(-parseInt(_0x5b3125(0xa0))/0xa);if(_0x92e912===_0x10f0f4)break;else _0x2813ea['push'](_0x2813ea['shift']());}catch(_0x301514){_0x2813ea['push'](_0x2813ea['shift']());}}}(a45_0x3163,0x639c1));function a45_0x3163(){const _0x201f70=['Error\x20message:','stack','verifyPayment','createPaymentLink','Unknown\x20error','PENDING','transactionId','paymentId','log','1568230NmKUsp','Error\x20details:','Payment\x20URL:','947116qMvwXI','2449150cKajRK','/payment/verify/','üí∞\x20Amount:\x20','cardLast4','logWhiteDomainRequest','578055KaxwCp','error','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','logWhiteDomainError','36zuCEph','FAILED','üîç\x20Verifying\x20Amer\x20payment:\x20','/payment','Payment\x20ID:','paymentMethod','&amount=','message','4TRNqYB','defineProperty','/payment.php?payment_id=','__esModule','loggerService','https://api2.trapay.uk','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','&currency=','../loggerService','amount','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','AmerService','Amer\x20payment\x20verification\x20error:','614690yhyIvr','3665712AVQvvF','currency','Amount:','apiUrl','252ErkPKa','orderId','63735ZyTojT','PAID','Processing\x20Amer\x20webhook:','gatewayPaymentId','processWebhook','amer'];a45_0x3163=function(){return _0x201f70;};return a45_0x3163();}function a45_0x3c76(_0x175179,_0x5ca455){const _0x3163ea=a45_0x3163();return a45_0x3c76=function(_0x3c7677,_0x7d54b9){_0x3c7677=_0x3c7677-0x68;let _0x161e2c=_0x3163ea[_0x3c7677];return _0x161e2c;},a45_0x3c76(_0x175179,_0x5ca455);}Object[a45_0x317cad(0x79)](exports,a45_0x317cad(0x7b),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a45_0x317cad(0x81));class AmerService{constructor(){const _0x3d1b5b=a45_0x317cad;this[_0x3d1b5b(0x8a)]=_0x3d1b5b(0x7d),console[_0x3d1b5b(0x9b)](_0x3d1b5b(0x83));}async[a45_0x317cad(0x96)](_0x359fbc){const _0x153430=a45_0x317cad,{paymentId:_0x2eb418,orderId:_0x3bb529,orderName:_0x2aea46,amount:_0x29513d,currency:_0x304daf,usage:_0x3b0eb7,maxPayments:_0x3b75a7,successUrl:_0xf9f360,failUrl:_0x4de6b2}=_0x359fbc,_0xd000be=_0x304daf['toUpperCase']();console[_0x153430(0x9b)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x3bb529),console['log'](_0x153430(0x69)+_0x29513d+'\x20'+_0xd000be);try{const _0xb7b6db=this[_0x153430(0x8a)]+_0x153430(0x7a)+_0x2eb418+_0x153430(0x76)+_0x29513d+_0x153430(0x80)+_0xd000be+'&order='+_0x3bb529;return console['log'](_0x153430(0x6e)),console[_0x153430(0x9b)](_0x153430(0x74),_0x2eb418),console[_0x153430(0x9b)](_0x153430(0x9e),_0xb7b6db),console[_0x153430(0x9b)](_0x153430(0x89),_0x29513d,_0xd000be),loggerService_1[_0x153430(0x7c)]['logWhiteDomainRequest'](_0x153430(0x92),_0x153430(0x73),'GET',{'paymentId':_0x2eb418,'amount':_0x29513d,'currency':_0xd000be,'orderId':_0x3bb529}),{'gateway_payment_id':_0x2eb418,'payment_url':_0xb7b6db};}catch(_0x39629b){console[_0x153430(0x6d)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x153430(0x6d)](_0x153430(0x9d),_0x39629b),loggerService_1[_0x153430(0x7c)]['logWhiteDomainError'](_0x153430(0x92),_0x153430(0x73),_0x39629b);if(_0x39629b instanceof Error){console[_0x153430(0x6d)](_0x153430(0x93),_0x39629b[_0x153430(0x77)]),console[_0x153430(0x6d)]('Error\x20stack:',_0x39629b[_0x153430(0x94)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x39629b[_0x153430(0x77)]);}throw new Error(_0x153430(0x7f));}}async[a45_0x317cad(0x95)](_0xf4223){const _0x907a5=a45_0x317cad;console[_0x907a5(0x9b)](_0x907a5(0x72)+_0xf4223);try{return loggerService_1[_0x907a5(0x7c)][_0x907a5(0x6b)]('amer',_0x907a5(0x68)+_0xf4223,'GET',{}),{'status':_0x907a5(0x98)};}catch(_0x4c8b6c){console[_0x907a5(0x6d)](_0x907a5(0x85),_0x4c8b6c),loggerService_1[_0x907a5(0x7c)][_0x907a5(0x6f)](_0x907a5(0x92),_0x907a5(0x68)+_0xf4223,_0x4c8b6c);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x4c8b6c instanceof Error?_0x4c8b6c[_0x907a5(0x77)]:_0x907a5(0x97)));}}async[a45_0x317cad(0x91)](_0x371ac1){const _0x2ea672=a45_0x317cad;console[_0x2ea672(0x9b)](_0x2ea672(0x8f),_0x371ac1);let _0x286e6e=_0x2ea672(0x98);if(_0x371ac1['success']===!![])_0x286e6e=_0x2ea672(0x8e);else _0x371ac1['success']===![]&&(_0x286e6e=_0x2ea672(0x71));const _0xc15b9a={};return _0x371ac1[_0x2ea672(0x6a)]&&(_0xc15b9a[_0x2ea672(0x6a)]=_0x371ac1[_0x2ea672(0x6a)]),_0x371ac1[_0x2ea672(0x75)]&&(_0xc15b9a[_0x2ea672(0x75)]=_0x371ac1[_0x2ea672(0x75)]),_0x371ac1[_0x2ea672(0x99)]&&(_0xc15b9a[_0x2ea672(0x99)]=_0x371ac1[_0x2ea672(0x99)],_0xc15b9a[_0x2ea672(0x90)]=_0x371ac1['transactionId']),console['log'](_0x2ea672(0x7e)+_0x286e6e),{'paymentId':_0x371ac1[_0x2ea672(0x9a)]||_0x371ac1[_0x2ea672(0x8c)]||'','status':_0x286e6e,'amount':_0x371ac1[_0x2ea672(0x82)],'currency':_0x371ac1[_0x2ea672(0x88)],'additionalInfo':_0xc15b9a};}}exports[a45_0x317cad(0x84)]=AmerService;