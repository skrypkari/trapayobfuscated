'use strict';const a61_0x18ca9e=a61_0x8358;(function(_0x2277cd,_0x2a8856){const _0x100b01=a61_0x8358,_0x1f58f2=_0x2277cd();while(!![]){try{const _0x16f166=parseInt(_0x100b01(0x155))/0x1+-parseInt(_0x100b01(0x158))/0x2*(-parseInt(_0x100b01(0x174))/0x3)+parseInt(_0x100b01(0x156))/0x4+parseInt(_0x100b01(0x171))/0x5+parseInt(_0x100b01(0x163))/0x6+-parseInt(_0x100b01(0x170))/0x7*(parseInt(_0x100b01(0x15d))/0x8)+-parseInt(_0x100b01(0x15b))/0x9;if(_0x16f166===_0x2a8856)break;else _0x1f58f2['push'](_0x1f58f2['shift']());}catch(_0xa9cac6){_0x1f58f2['push'](_0x1f58f2['shift']());}}}(a61_0x5e66,0x7db43));function a61_0x5e66(){const _0x4be326=['638090JXKdzO','1965756SFqelA','Error\x20details:','139982UzDILZ','&order=','toUpperCase','10152684wYzwRW','processWebhook','6019032Hdolvv','FAILED','gatewayPaymentId','verifyPayment','/payment','loggerService','5964216uBDpug','Unknown\x20error','/payment/verify/','üîç\x20Verifying\x20Amer\x20payment:\x20','AmerService','PENDING','message','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Payment\x20ID:','log','Error\x20stack:','GET','__esModule','7cEJEEq','1008910WpKlJL','apiUrl','createPaymentLink','3xzvPOK','success','&amount=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','PAID','transactionId','üí∞\x20Amount:\x20','amount','orderId','Amount:','===\x20AMER\x20SERVICE\x20ERROR\x20===','Payment\x20URL:','stack','amer','&currency=','cardLast4','logWhiteDomainRequest','error','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Failed\x20to\x20verify\x20Amer\x20payment:\x20','currency','logWhiteDomainError','paymentMethod'];a61_0x5e66=function(){return _0x4be326;};return a61_0x5e66();}function a61_0x8358(_0x58148d,_0x768036){_0x58148d=_0x58148d-0x151;const _0x5e6608=a61_0x5e66();let _0x83582a=_0x5e6608[_0x58148d];return _0x83582a;}Object['defineProperty'](exports,a61_0x18ca9e(0x16f),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0x50a55c=a61_0x18ca9e;this[_0x50a55c(0x172)]='https://api2.trapay.uk',console[_0x50a55c(0x16c)](_0x50a55c(0x16a));}async[a61_0x18ca9e(0x173)](_0x289fba){const _0x5693d6=a61_0x18ca9e,{paymentId:_0x42ba49,orderId:_0xfba7fe,orderName:_0x3dc6aa,amount:_0x4867a9,currency:_0x58ce04,usage:_0xbc5f82,maxPayments:_0x4525f7,successUrl:_0x10475f,failUrl:_0x4b2743}=_0x289fba,_0x28bbc4=_0x58ce04[_0x5693d6(0x15a)]();console[_0x5693d6(0x16c)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0xfba7fe),console['log'](_0x5693d6(0x17a)+_0x4867a9+'\x20'+_0x28bbc4);try{const _0x428f57=this['apiUrl']+'/payment.php?payment_id='+_0x42ba49+_0x5693d6(0x176)+_0x4867a9+_0x5693d6(0x182)+_0x28bbc4+_0x5693d6(0x159)+_0xfba7fe;return console[_0x5693d6(0x16c)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x5693d6(0x16c)](_0x5693d6(0x16b),_0x42ba49),console['log'](_0x5693d6(0x17f),_0x428f57),console[_0x5693d6(0x16c)](_0x5693d6(0x17d),_0x4867a9,_0x28bbc4),loggerService_1[_0x5693d6(0x162)][_0x5693d6(0x184)](_0x5693d6(0x181),_0x5693d6(0x161),_0x5693d6(0x16e),{'paymentId':_0x42ba49,'amount':_0x4867a9,'currency':_0x28bbc4,'orderId':_0xfba7fe}),{'gateway_payment_id':_0x42ba49,'payment_url':_0x428f57};}catch(_0x3fc035){console[_0x5693d6(0x185)](_0x5693d6(0x17e)),console[_0x5693d6(0x185)](_0x5693d6(0x157),_0x3fc035),loggerService_1[_0x5693d6(0x162)][_0x5693d6(0x153)](_0x5693d6(0x181),_0x5693d6(0x161),_0x3fc035);if(_0x3fc035 instanceof Error){console['error']('Error\x20message:',_0x3fc035[_0x5693d6(0x169)]),console[_0x5693d6(0x185)](_0x5693d6(0x16d),_0x3fc035[_0x5693d6(0x180)]);throw new Error(_0x5693d6(0x186)+_0x3fc035[_0x5693d6(0x169)]);}throw new Error(_0x5693d6(0x177));}}async[a61_0x18ca9e(0x160)](_0x3b8644){const _0x253ce7=a61_0x18ca9e;console[_0x253ce7(0x16c)](_0x253ce7(0x166)+_0x3b8644);try{return loggerService_1[_0x253ce7(0x162)]['logWhiteDomainRequest'](_0x253ce7(0x181),_0x253ce7(0x165)+_0x3b8644,_0x253ce7(0x16e),{}),{'status':_0x253ce7(0x168)};}catch(_0x2ee827){console[_0x253ce7(0x185)]('Amer\x20payment\x20verification\x20error:',_0x2ee827),loggerService_1[_0x253ce7(0x162)][_0x253ce7(0x153)](_0x253ce7(0x181),_0x253ce7(0x165)+_0x3b8644,_0x2ee827);throw new Error(_0x253ce7(0x151)+(_0x2ee827 instanceof Error?_0x2ee827[_0x253ce7(0x169)]:_0x253ce7(0x164)));}}async[a61_0x18ca9e(0x15c)](_0x26a3a1){const _0x8b4450=a61_0x18ca9e;console[_0x8b4450(0x16c)]('Processing\x20Amer\x20webhook:',_0x26a3a1);let _0x136844=_0x8b4450(0x168);if(_0x26a3a1['success']===!![])_0x136844=_0x8b4450(0x178);else _0x26a3a1[_0x8b4450(0x175)]===![]&&(_0x136844=_0x8b4450(0x15e));const _0x5a6f3a={};return _0x26a3a1[_0x8b4450(0x183)]&&(_0x5a6f3a[_0x8b4450(0x183)]=_0x26a3a1[_0x8b4450(0x183)]),_0x26a3a1[_0x8b4450(0x154)]&&(_0x5a6f3a[_0x8b4450(0x154)]=_0x26a3a1[_0x8b4450(0x154)]),_0x26a3a1[_0x8b4450(0x179)]&&(_0x5a6f3a[_0x8b4450(0x179)]=_0x26a3a1[_0x8b4450(0x179)],_0x5a6f3a[_0x8b4450(0x15f)]=_0x26a3a1[_0x8b4450(0x179)]),console[_0x8b4450(0x16c)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x136844),{'paymentId':_0x26a3a1['paymentId']||_0x26a3a1[_0x8b4450(0x17c)]||'','status':_0x136844,'amount':_0x26a3a1[_0x8b4450(0x17b)],'currency':_0x26a3a1[_0x8b4450(0x152)],'additionalInfo':_0x5a6f3a};}}exports[a61_0x18ca9e(0x167)]=AmerService;