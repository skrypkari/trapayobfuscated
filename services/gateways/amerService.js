'use strict';const a43_0x455a5a=a43_0xa4fe;(function(_0x1937f2,_0x2205b7){const _0x4daa33=a43_0xa4fe,_0x1d2630=_0x1937f2();while(!![]){try{const _0x33c753=-parseInt(_0x4daa33(0xc4))/0x1+-parseInt(_0x4daa33(0xa5))/0x2+-parseInt(_0x4daa33(0xca))/0x3*(-parseInt(_0x4daa33(0xaa))/0x4)+-parseInt(_0x4daa33(0xba))/0x5+-parseInt(_0x4daa33(0xb0))/0x6*(-parseInt(_0x4daa33(0xcb))/0x7)+parseInt(_0x4daa33(0x99))/0x8+parseInt(_0x4daa33(0xc8))/0x9;if(_0x33c753===_0x2205b7)break;else _0x1d2630['push'](_0x1d2630['shift']());}catch(_0x4d7113){_0x1d2630['push'](_0x1d2630['shift']());}}}(a43_0x43fa,0x68e16));Object[a43_0x455a5a(0xbf)](exports,a43_0x455a5a(0xb7),{'value':!![]}),exports[a43_0x455a5a(0x96)]=void 0x0;function a43_0x43fa(){const _0x15b7a1=['7821TYEqcE','amer','Error\x20details:','===\x20AMER\x20SERVICE\x20ERROR\x20===','3354408nsgzVq','Amer\x20payment\x20verification\x20error:','3RXGEng','77gBtkiq','üîç\x20Verifying\x20Amer\x20payment:\x20','success','Error\x20stack:','AmerService','/payment/verify/','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','3242576otFUTL','Payment\x20URL:','logWhiteDomainError','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','stack','Failed\x20to\x20verify\x20Amer\x20payment:\x20','PENDING','toUpperCase','cardLast4','log','üí∞\x20Amount:\x20','FAILED','1386412SOnWke','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','../loggerService','message','Amount:','2757772wWptIk','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','GET','apiUrl','createPaymentLink','processWebhook','90486lgkrdK','/payment','paymentMethod','error','loggerService','orderId','/payment.php?payment_id=','__esModule','logWhiteDomainRequest','&amount=','2513755ykGkgD','currency','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','paymentId','Payment\x20ID:','defineProperty','verifyPayment','Processing\x20Amer\x20webhook:','transactionId','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'];a43_0x43fa=function(){return _0x15b7a1;};return a43_0x43fa();}const loggerService_1=require(a43_0x455a5a(0xa7));class AmerService{constructor(){const _0x214b95=a43_0x455a5a;this[_0x214b95(0xad)]='https://api2.trapay.uk',console[_0x214b95(0xa2)](_0x214b95(0xab));}async[a43_0x455a5a(0xae)](_0x14bf69){const _0x12ea46=a43_0x455a5a,{paymentId:_0x134700,orderId:_0x5e1379,orderName:_0x3c0c97,amount:_0x2ef18b,currency:_0x11a3cc,usage:_0x403ecb,maxPayments:_0x57ecf2,successUrl:_0x57542b,failUrl:_0x1bcbbf}=_0x14bf69,_0x106194=_0x11a3cc[_0x12ea46(0xa0)]();console[_0x12ea46(0xa2)](_0x12ea46(0xc3)+_0x5e1379),console[_0x12ea46(0xa2)](_0x12ea46(0xa3)+_0x2ef18b+'\x20'+_0x106194);try{const _0x392362=this[_0x12ea46(0xad)]+_0x12ea46(0xb6)+_0x134700+_0x12ea46(0xb9)+_0x2ef18b+'&currency='+_0x106194+'&order='+_0x5e1379;return console['log'](_0x12ea46(0x98)),console[_0x12ea46(0xa2)](_0x12ea46(0xbe),_0x134700),console[_0x12ea46(0xa2)](_0x12ea46(0x9a),_0x392362),console['log'](_0x12ea46(0xa9),_0x2ef18b,_0x106194),loggerService_1[_0x12ea46(0xb4)][_0x12ea46(0xb8)]('amer',_0x12ea46(0xb1),_0x12ea46(0xac),{'paymentId':_0x134700,'amount':_0x2ef18b,'currency':_0x106194,'orderId':_0x5e1379}),{'gateway_payment_id':_0x134700,'payment_url':_0x392362};}catch(_0x133310){console[_0x12ea46(0xb3)](_0x12ea46(0xc7)),console[_0x12ea46(0xb3)](_0x12ea46(0xc6),_0x133310),loggerService_1[_0x12ea46(0xb4)]['logWhiteDomainError'](_0x12ea46(0xc5),_0x12ea46(0xb1),_0x133310);if(_0x133310 instanceof Error){console[_0x12ea46(0xb3)]('Error\x20message:',_0x133310[_0x12ea46(0xa8)]),console[_0x12ea46(0xb3)](_0x12ea46(0xce),_0x133310[_0x12ea46(0x9d)]);throw new Error(_0x12ea46(0x9c)+_0x133310[_0x12ea46(0xa8)]);}throw new Error(_0x12ea46(0xa6));}}async[a43_0x455a5a(0xc0)](_0x5bca2e){const _0x48f149=a43_0x455a5a;console[_0x48f149(0xa2)](_0x48f149(0xcc)+_0x5bca2e);try{return loggerService_1[_0x48f149(0xb4)][_0x48f149(0xb8)](_0x48f149(0xc5),_0x48f149(0x97)+_0x5bca2e,'GET',{}),{'status':_0x48f149(0x9f)};}catch(_0x9013e9){console[_0x48f149(0xb3)](_0x48f149(0xc9),_0x9013e9),loggerService_1[_0x48f149(0xb4)][_0x48f149(0x9b)]('amer',_0x48f149(0x97)+_0x5bca2e,_0x9013e9);throw new Error(_0x48f149(0x9e)+(_0x9013e9 instanceof Error?_0x9013e9['message']:'Unknown\x20error'));}}async[a43_0x455a5a(0xaf)](_0x4c323e){const _0x2f31b9=a43_0x455a5a;console[_0x2f31b9(0xa2)](_0x2f31b9(0xc1),_0x4c323e);let _0x5e8e25=_0x2f31b9(0x9f);if(_0x4c323e[_0x2f31b9(0xcd)]===!![])_0x5e8e25='PAID';else _0x4c323e['success']===![]&&(_0x5e8e25=_0x2f31b9(0xa4));const _0x5ddd17={};return _0x4c323e[_0x2f31b9(0xa1)]&&(_0x5ddd17['cardLast4']=_0x4c323e[_0x2f31b9(0xa1)]),_0x4c323e[_0x2f31b9(0xb2)]&&(_0x5ddd17[_0x2f31b9(0xb2)]=_0x4c323e[_0x2f31b9(0xb2)]),_0x4c323e[_0x2f31b9(0xc2)]&&(_0x5ddd17[_0x2f31b9(0xc2)]=_0x4c323e[_0x2f31b9(0xc2)],_0x5ddd17['gatewayPaymentId']=_0x4c323e[_0x2f31b9(0xc2)]),console[_0x2f31b9(0xa2)](_0x2f31b9(0xbc)+_0x5e8e25),{'paymentId':_0x4c323e[_0x2f31b9(0xbd)]||_0x4c323e[_0x2f31b9(0xb5)]||'','status':_0x5e8e25,'amount':_0x4c323e['amount'],'currency':_0x4c323e[_0x2f31b9(0xbb)],'additionalInfo':_0x5ddd17};}}function a43_0xa4fe(_0x4544db,_0x25805b){const _0x43fa60=a43_0x43fa();return a43_0xa4fe=function(_0xa4fe3a,_0x33e43b){_0xa4fe3a=_0xa4fe3a-0x96;let _0x3b4630=_0x43fa60[_0xa4fe3a];return _0x3b4630;},a43_0xa4fe(_0x4544db,_0x25805b);}exports[a43_0x455a5a(0x96)]=AmerService;