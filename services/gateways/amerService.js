'use strict';const a41_0x3b7567=a41_0xe0d7;(function(_0x1e3394,_0x412714){const _0x20bc9f=a41_0xe0d7,_0x47cc17=_0x1e3394();while(!![]){try{const _0x9911cd=parseInt(_0x20bc9f(0x1f5))/0x1+parseInt(_0x20bc9f(0x1c6))/0x2*(parseInt(_0x20bc9f(0x1d9))/0x3)+parseInt(_0x20bc9f(0x1d5))/0x4+parseInt(_0x20bc9f(0x1f7))/0x5*(parseInt(_0x20bc9f(0x1d6))/0x6)+parseInt(_0x20bc9f(0x1d0))/0x7+-parseInt(_0x20bc9f(0x1db))/0x8*(parseInt(_0x20bc9f(0x1e6))/0x9)+parseInt(_0x20bc9f(0x1d8))/0xa*(-parseInt(_0x20bc9f(0x1f4))/0xb);if(_0x9911cd===_0x412714)break;else _0x47cc17['push'](_0x47cc17['shift']());}catch(_0x5b7f28){_0x47cc17['push'](_0x47cc17['shift']());}}}(a41_0x5920,0x8bc0a));function a41_0xe0d7(_0x63f7f7,_0x346a6b){const _0x592037=a41_0x5920();return a41_0xe0d7=function(_0xe0d7ab,_0x4fcc33){_0xe0d7ab=_0xe0d7ab-0x1c4;let _0x4b381a=_0x592037[_0xe0d7ab];return _0x4b381a;},a41_0xe0d7(_0x63f7f7,_0x346a6b);}Object['defineProperty'](exports,a41_0x3b7567(0x1fe),{'value':!![]}),exports[a41_0x3b7567(0x1c8)]=void 0x0;const loggerService_1=require(a41_0x3b7567(0x1f6));class AmerService{constructor(){const _0x13e52b=a41_0x3b7567;this[_0x13e52b(0x1e5)]=_0x13e52b(0x1da),console[_0x13e52b(0x1ec)](_0x13e52b(0x1f0));}async[a41_0x3b7567(0x1e7)](_0x1a2d70){const _0x259ee2=a41_0x3b7567,{paymentId:_0x272a8d,orderId:_0x1a213c,orderName:_0x434519,amount:_0xb01d4,currency:_0x1c6d94,usage:_0x5185f4,maxPayments:_0x38060d,successUrl:_0x5778b1,failUrl:_0x3012c2}=_0x1a2d70,_0xc66301=_0x1c6d94[_0x259ee2(0x1d3)]();console[_0x259ee2(0x1ec)](_0x259ee2(0x1cf)+_0x1a213c),console[_0x259ee2(0x1ec)]('üí∞\x20Amount:\x20'+_0xb01d4+'\x20'+_0xc66301);try{const _0x4e3456=this['apiUrl']+_0x259ee2(0x1eb)+_0x272a8d+'&amount='+_0xb01d4+_0x259ee2(0x1c4)+_0xc66301+_0x259ee2(0x1d1)+_0x1a213c;return console[_0x259ee2(0x1ec)](_0x259ee2(0x1cc)),console['log'](_0x259ee2(0x1fb),_0x272a8d),console['log'](_0x259ee2(0x1f1),_0x4e3456),console[_0x259ee2(0x1ec)](_0x259ee2(0x1de),_0xb01d4,_0xc66301),loggerService_1[_0x259ee2(0x1d4)][_0x259ee2(0x1ca)]('amer',_0x259ee2(0x1cd),_0x259ee2(0x1ce),{'paymentId':_0x272a8d,'amount':_0xb01d4,'currency':_0xc66301,'orderId':_0x1a213c}),{'gateway_payment_id':_0x272a8d,'payment_url':_0x4e3456};}catch(_0x67069a){console['error'](_0x259ee2(0x1f9)),console['error']('Error\x20details:',_0x67069a),loggerService_1[_0x259ee2(0x1d4)][_0x259ee2(0x1e9)](_0x259ee2(0x1e4),_0x259ee2(0x1cd),_0x67069a);if(_0x67069a instanceof Error){console[_0x259ee2(0x1cb)](_0x259ee2(0x1ed),_0x67069a[_0x259ee2(0x1f8)]),console[_0x259ee2(0x1cb)](_0x259ee2(0x1e8),_0x67069a[_0x259ee2(0x1df)]);throw new Error(_0x259ee2(0x1ef)+_0x67069a[_0x259ee2(0x1f8)]);}throw new Error(_0x259ee2(0x1e2));}}async[a41_0x3b7567(0x1fd)](_0x473a7b){const _0x206cf0=a41_0x3b7567;console[_0x206cf0(0x1ec)](_0x206cf0(0x1dc)+_0x473a7b);try{return loggerService_1[_0x206cf0(0x1d4)]['logWhiteDomainRequest'](_0x206cf0(0x1e4),'/payment/verify/'+_0x473a7b,'GET',{}),{'status':'PENDING'};}catch(_0x18e502){console['error']('Amer\x20payment\x20verification\x20error:',_0x18e502),loggerService_1['loggerService']['logWhiteDomainError'](_0x206cf0(0x1e4),_0x206cf0(0x1c9)+_0x473a7b,_0x18e502);throw new Error(_0x206cf0(0x1c7)+(_0x18e502 instanceof Error?_0x18e502[_0x206cf0(0x1f8)]:'Unknown\x20error'));}}async['processWebhook'](_0x231f6e){const _0x35e495=a41_0x3b7567;console[_0x35e495(0x1ec)](_0x35e495(0x1dd),_0x231f6e);let _0x35b754=_0x35e495(0x1e3);if(_0x231f6e[_0x35e495(0x1c5)]===!![])_0x35b754=_0x35e495(0x1fc);else _0x231f6e['success']===![]&&(_0x35b754=_0x35e495(0x1e1));const _0x3aacfa={};return _0x231f6e[_0x35e495(0x1d7)]&&(_0x3aacfa['cardLast4']=_0x231f6e[_0x35e495(0x1d7)]),_0x231f6e[_0x35e495(0x1f2)]&&(_0x3aacfa[_0x35e495(0x1f2)]=_0x231f6e['paymentMethod']),_0x231f6e[_0x35e495(0x1d2)]&&(_0x3aacfa[_0x35e495(0x1d2)]=_0x231f6e['transactionId'],_0x3aacfa[_0x35e495(0x1f3)]=_0x231f6e[_0x35e495(0x1d2)]),console['log'](_0x35e495(0x1ea)+_0x35b754),{'paymentId':_0x231f6e[_0x35e495(0x1fa)]||_0x231f6e[_0x35e495(0x1ee)]||'','status':_0x35b754,'amount':_0x231f6e['amount'],'currency':_0x231f6e[_0x35e495(0x1e0)],'additionalInfo':_0x3aacfa};}}function a41_0x5920(){const _0x16f6ad=['Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Payment\x20URL:','paymentMethod','gatewayPaymentId','106601GFcphC','532116yWGNro','../loggerService','675LbXpVR','message','===\x20AMER\x20SERVICE\x20ERROR\x20===','paymentId','Payment\x20ID:','PAID','verifyPayment','__esModule','&currency=','success','1452314LsHYrE','Failed\x20to\x20verify\x20Amer\x20payment:\x20','AmerService','/payment/verify/','logWhiteDomainRequest','error','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','/payment','GET','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','5416964hohFQJ','&order=','transactionId','toUpperCase','loggerService','2317596HuZCSt','45726ampFKT','cardLast4','2150acUDwP','3IiDOAI','https://api2.trapay.uk','44744OhBOHK','üîç\x20Verifying\x20Amer\x20payment:\x20','Processing\x20Amer\x20webhook:','Amount:','stack','currency','FAILED','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','PENDING','amer','apiUrl','1584obzqjy','createPaymentLink','Error\x20stack:','logWhiteDomainError','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','/payment.php?payment_id=','log','Error\x20message:','orderId'];a41_0x5920=function(){return _0x16f6ad;};return a41_0x5920();}exports[a41_0x3b7567(0x1c8)]=AmerService;