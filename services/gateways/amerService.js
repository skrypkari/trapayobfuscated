'use strict';function a45_0x1229(_0x3397b5,_0x843b96){const _0x530f1f=a45_0x530f();return a45_0x1229=function(_0x122978,_0x241cec){_0x122978=_0x122978-0x1c8;let _0x3bf711=_0x530f1f[_0x122978];return _0x3bf711;},a45_0x1229(_0x3397b5,_0x843b96);}const a45_0x6ca111=a45_0x1229;(function(_0x28f96a,_0x16c4f5){const _0x4864bf=a45_0x1229,_0x36ba0c=_0x28f96a();while(!![]){try{const _0x331d1e=parseInt(_0x4864bf(0x1e3))/0x1+parseInt(_0x4864bf(0x1d4))/0x2*(parseInt(_0x4864bf(0x1cb))/0x3)+-parseInt(_0x4864bf(0x1fc))/0x4*(-parseInt(_0x4864bf(0x1ec))/0x5)+parseInt(_0x4864bf(0x1f1))/0x6*(-parseInt(_0x4864bf(0x1d2))/0x7)+-parseInt(_0x4864bf(0x1f5))/0x8+parseInt(_0x4864bf(0x1ee))/0x9+parseInt(_0x4864bf(0x1fe))/0xa;if(_0x331d1e===_0x16c4f5)break;else _0x36ba0c['push'](_0x36ba0c['shift']());}catch(_0x19e55c){_0x36ba0c['push'](_0x36ba0c['shift']());}}}(a45_0x530f,0xb7b30));function a45_0x530f(){const _0x1e022f=['stack','__esModule','===\x20AMER\x20SERVICE\x20ERROR\x20===','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','üí∞\x20Amount:\x20','&amount=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','createPaymentLink','26545zcalBQ','orderId','1318095hjnYun','apiUrl','amount','6tuCXXE','logWhiteDomainError','/payment','&currency=','933256ciTTte','GET','Payment\x20ID:','error','AmerService','FAILED','processWebhook','40gfRMuO','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','8689590POjClL','currency','cardLast4','Failed\x20to\x20verify\x20Amer\x20payment:\x20','PENDING','2751621quVzHS','Processing\x20Amer\x20webhook:','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','success','Amer\x20payment\x20verification\x20error:','/payment/verify/','../loggerService','8052632vALxDl','loggerService','2mJJRnJ','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Error\x20details:','toUpperCase','log','&order=','amer','https://api2.trapay.uk','transactionId','üîç\x20Verifying\x20Amer\x20payment:\x20','Payment\x20URL:','paymentMethod','message','verifyPayment','gatewayPaymentId','33754xfuRSq'];a45_0x530f=function(){return _0x1e022f;};return a45_0x530f();}Object['defineProperty'](exports,a45_0x6ca111(0x1e5),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a45_0x6ca111(0x1d1));class AmerService{constructor(){const _0x37ca05=a45_0x6ca111;this[_0x37ca05(0x1ef)]=_0x37ca05(0x1db),console[_0x37ca05(0x1d8)](_0x37ca05(0x1e7));}async[a45_0x6ca111(0x1eb)](_0x4c3432){const _0xf023f3=a45_0x6ca111,{paymentId:_0xf01457,orderId:_0x1ce708,orderName:_0x47ecdc,amount:_0x10f230,currency:_0x186685,usage:_0xa4b73f,maxPayments:_0x474578,successUrl:_0x32c4dd,failUrl:_0x27aec4}=_0x4c3432,_0x5ee947=_0x186685[_0xf023f3(0x1d7)]();console['log'](_0xf023f3(0x1cd)+_0x1ce708),console['log'](_0xf023f3(0x1e8)+_0x10f230+'\x20'+_0x5ee947);try{const _0x26a000=this[_0xf023f3(0x1ef)]+'/payment.php?payment_id='+_0xf01457+_0xf023f3(0x1e9)+_0x10f230+_0xf023f3(0x1f4)+_0x5ee947+_0xf023f3(0x1d9)+_0x1ce708;return console[_0xf023f3(0x1d8)](_0xf023f3(0x1fd)),console[_0xf023f3(0x1d8)](_0xf023f3(0x1f7),_0xf01457),console[_0xf023f3(0x1d8)](_0xf023f3(0x1de),_0x26a000),console[_0xf023f3(0x1d8)]('Amount:',_0x10f230,_0x5ee947),loggerService_1[_0xf023f3(0x1d3)]['logWhiteDomainRequest'](_0xf023f3(0x1da),_0xf023f3(0x1f3),_0xf023f3(0x1f6),{'paymentId':_0xf01457,'amount':_0x10f230,'currency':_0x5ee947,'orderId':_0x1ce708}),{'gateway_payment_id':_0xf01457,'payment_url':_0x26a000};}catch(_0x2c26eb){console[_0xf023f3(0x1f8)](_0xf023f3(0x1e6)),console[_0xf023f3(0x1f8)](_0xf023f3(0x1d6),_0x2c26eb),loggerService_1[_0xf023f3(0x1d3)][_0xf023f3(0x1f2)](_0xf023f3(0x1da),'/payment',_0x2c26eb);if(_0x2c26eb instanceof Error){console[_0xf023f3(0x1f8)]('Error\x20message:',_0x2c26eb[_0xf023f3(0x1e0)]),console[_0xf023f3(0x1f8)]('Error\x20stack:',_0x2c26eb[_0xf023f3(0x1e4)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x2c26eb['message']);}throw new Error(_0xf023f3(0x1ea));}}async[a45_0x6ca111(0x1e1)](_0x485f49){const _0x2d2228=a45_0x6ca111;console[_0x2d2228(0x1d8)](_0x2d2228(0x1dd)+_0x485f49);try{return loggerService_1[_0x2d2228(0x1d3)]['logWhiteDomainRequest'](_0x2d2228(0x1da),_0x2d2228(0x1d0)+_0x485f49,_0x2d2228(0x1f6),{}),{'status':_0x2d2228(0x1ca)};}catch(_0x174dd5){console[_0x2d2228(0x1f8)](_0x2d2228(0x1cf),_0x174dd5),loggerService_1[_0x2d2228(0x1d3)][_0x2d2228(0x1f2)](_0x2d2228(0x1da),_0x2d2228(0x1d0)+_0x485f49,_0x174dd5);throw new Error(_0x2d2228(0x1c9)+(_0x174dd5 instanceof Error?_0x174dd5[_0x2d2228(0x1e0)]:'Unknown\x20error'));}}async[a45_0x6ca111(0x1fb)](_0x2a3694){const _0x37877a=a45_0x6ca111;console[_0x37877a(0x1d8)](_0x37877a(0x1cc),_0x2a3694);let _0x18c986='PENDING';if(_0x2a3694[_0x37877a(0x1ce)]===!![])_0x18c986='PAID';else _0x2a3694[_0x37877a(0x1ce)]===![]&&(_0x18c986=_0x37877a(0x1fa));const _0x40460d={};return _0x2a3694['cardLast4']&&(_0x40460d[_0x37877a(0x1c8)]=_0x2a3694[_0x37877a(0x1c8)]),_0x2a3694[_0x37877a(0x1df)]&&(_0x40460d[_0x37877a(0x1df)]=_0x2a3694['paymentMethod']),_0x2a3694[_0x37877a(0x1dc)]&&(_0x40460d[_0x37877a(0x1dc)]=_0x2a3694[_0x37877a(0x1dc)],_0x40460d[_0x37877a(0x1e2)]=_0x2a3694[_0x37877a(0x1dc)]),console['log'](_0x37877a(0x1d5)+_0x18c986),{'paymentId':_0x2a3694['paymentId']||_0x2a3694[_0x37877a(0x1ed)]||'','status':_0x18c986,'amount':_0x2a3694[_0x37877a(0x1f0)],'currency':_0x2a3694[_0x37877a(0x1ff)],'additionalInfo':_0x40460d};}}exports[a45_0x6ca111(0x1f9)]=AmerService;