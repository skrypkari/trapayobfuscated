'use strict';function a45_0x30f4(){const _0x15bbb7=['&currency=','transactionId','369BMhKYG','29HMzNyM','FAILED','verifyPayment','44HSuJfN','cardLast4','logWhiteDomainError','apiUrl','log','paymentMethod','1373424AZCEZp','Amount:','PAID','message','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','orderId','/payment.php?payment_id=','Failed\x20to\x20verify\x20Amer\x20payment:\x20','createPaymentLink','stack','success','Error\x20message:','logWhiteDomainRequest','/payment','üí∞\x20Amount:\x20','gatewayPaymentId','8288BCSzCD','error','1733963EFPZDR','4214435OrXKBP','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','GET','/payment/verify/','657JLaIIT','defineProperty','Payment\x20URL:','üîç\x20Verifying\x20Amer\x20payment:\x20','Error\x20details:','128540KmfjmK','amount','Payment\x20ID:','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','https://api2.trapay.uk','Error\x20stack:','&order=','PENDING','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','6fnCLYs','AmerService','__esModule','loggerService','Processing\x20Amer\x20webhook:','amer','5170596cFqUyx','processWebhook','15724XwRkua'];a45_0x30f4=function(){return _0x15bbb7;};return a45_0x30f4();}const a45_0x33def3=a45_0x514c;(function(_0x4028a8,_0x4e9971){const _0x94b6e=a45_0x514c,_0x4f5b63=_0x4028a8();while(!![]){try{const _0x812c50=parseInt(_0x94b6e(0x1e3))/0x1*(parseInt(_0x94b6e(0x1fc))/0x2)+-parseInt(_0x94b6e(0x1e2))/0x3*(-parseInt(_0x94b6e(0x1df))/0x4)+-parseInt(_0x94b6e(0x1ff))/0x5+-parseInt(_0x94b6e(0x1d7))/0x6*(parseInt(_0x94b6e(0x1fe))/0x7)+parseInt(_0x94b6e(0x1ec))/0x8+parseInt(_0x94b6e(0x204))/0x9*(-parseInt(_0x94b6e(0x1ce))/0xa)+-parseInt(_0x94b6e(0x1e6))/0xb*(-parseInt(_0x94b6e(0x1dd))/0xc);if(_0x812c50===_0x4e9971)break;else _0x4f5b63['push'](_0x4f5b63['shift']());}catch(_0x10bea8){_0x4f5b63['push'](_0x4f5b63['shift']());}}}(a45_0x30f4,0x72bc9));function a45_0x514c(_0x4d294f,_0x95d60f){const _0x30f493=a45_0x30f4();return a45_0x514c=function(_0x514c34,_0x1df71f){_0x514c34=_0x514c34-0x1ce;let _0x2fd243=_0x30f493[_0x514c34];return _0x2fd243;},a45_0x514c(_0x4d294f,_0x95d60f);}Object[a45_0x33def3(0x205)](exports,a45_0x33def3(0x1d9),{'value':!![]}),exports[a45_0x33def3(0x1d8)]=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0x465df2=a45_0x33def3;this[_0x465df2(0x1e9)]=_0x465df2(0x1d2),console[_0x465df2(0x1ea)](_0x465df2(0x200));}async[a45_0x33def3(0x1f4)](_0x29996c){const _0x18ca99=a45_0x33def3,{paymentId:_0x1a997b,orderId:_0x5eeba9,orderName:_0x1be258,amount:_0x3ee5b6,currency:_0x4ece2d,usage:_0x4abe07,maxPayments:_0x5e449e,successUrl:_0x5215fd,failUrl:_0x4f38c3}=_0x29996c,_0x2b7fea=_0x4ece2d['toUpperCase']();console[_0x18ca99(0x1ea)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x5eeba9),console[_0x18ca99(0x1ea)](_0x18ca99(0x1fa)+_0x3ee5b6+'\x20'+_0x2b7fea);try{const _0x2e729b=this[_0x18ca99(0x1e9)]+_0x18ca99(0x1f2)+_0x1a997b+'&amount='+_0x3ee5b6+_0x18ca99(0x1e0)+_0x2b7fea+_0x18ca99(0x1d4)+_0x5eeba9;return console['log'](_0x18ca99(0x201)),console['log'](_0x18ca99(0x1d0),_0x1a997b),console['log'](_0x18ca99(0x206),_0x2e729b),console['log'](_0x18ca99(0x1ed),_0x3ee5b6,_0x2b7fea),loggerService_1[_0x18ca99(0x1da)][_0x18ca99(0x1f8)](_0x18ca99(0x1dc),_0x18ca99(0x1f9),_0x18ca99(0x202),{'paymentId':_0x1a997b,'amount':_0x3ee5b6,'currency':_0x2b7fea,'orderId':_0x5eeba9}),{'gateway_payment_id':_0x1a997b,'payment_url':_0x2e729b};}catch(_0x1f7d9a){console[_0x18ca99(0x1fd)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x18ca99(0x1fd)](_0x18ca99(0x208),_0x1f7d9a),loggerService_1[_0x18ca99(0x1da)]['logWhiteDomainError'](_0x18ca99(0x1dc),'/payment',_0x1f7d9a);if(_0x1f7d9a instanceof Error){console[_0x18ca99(0x1fd)](_0x18ca99(0x1f7),_0x1f7d9a[_0x18ca99(0x1ef)]),console[_0x18ca99(0x1fd)](_0x18ca99(0x1d3),_0x1f7d9a[_0x18ca99(0x1f5)]);throw new Error(_0x18ca99(0x1f0)+_0x1f7d9a[_0x18ca99(0x1ef)]);}throw new Error(_0x18ca99(0x1d6));}}async[a45_0x33def3(0x1e5)](_0x59c12f){const _0x1a300e=a45_0x33def3;console[_0x1a300e(0x1ea)](_0x1a300e(0x207)+_0x59c12f);try{return loggerService_1[_0x1a300e(0x1da)][_0x1a300e(0x1f8)](_0x1a300e(0x1dc),_0x1a300e(0x203)+_0x59c12f,'GET',{}),{'status':'PENDING'};}catch(_0x4bbb69){console['error']('Amer\x20payment\x20verification\x20error:',_0x4bbb69),loggerService_1[_0x1a300e(0x1da)][_0x1a300e(0x1e8)](_0x1a300e(0x1dc),_0x1a300e(0x203)+_0x59c12f,_0x4bbb69);throw new Error(_0x1a300e(0x1f3)+(_0x4bbb69 instanceof Error?_0x4bbb69['message']:'Unknown\x20error'));}}async[a45_0x33def3(0x1de)](_0x3f763b){const _0x2796a3=a45_0x33def3;console[_0x2796a3(0x1ea)](_0x2796a3(0x1db),_0x3f763b);let _0x2212f9=_0x2796a3(0x1d5);if(_0x3f763b['success']===!![])_0x2212f9=_0x2796a3(0x1ee);else _0x3f763b[_0x2796a3(0x1f6)]===![]&&(_0x2212f9=_0x2796a3(0x1e4));const _0x19fbc9={};return _0x3f763b[_0x2796a3(0x1e7)]&&(_0x19fbc9['cardLast4']=_0x3f763b[_0x2796a3(0x1e7)]),_0x3f763b[_0x2796a3(0x1eb)]&&(_0x19fbc9[_0x2796a3(0x1eb)]=_0x3f763b['paymentMethod']),_0x3f763b[_0x2796a3(0x1e1)]&&(_0x19fbc9[_0x2796a3(0x1e1)]=_0x3f763b['transactionId'],_0x19fbc9[_0x2796a3(0x1fb)]=_0x3f763b[_0x2796a3(0x1e1)]),console[_0x2796a3(0x1ea)](_0x2796a3(0x1d1)+_0x2212f9),{'paymentId':_0x3f763b['paymentId']||_0x3f763b[_0x2796a3(0x1f1)]||'','status':_0x2212f9,'amount':_0x3f763b[_0x2796a3(0x1cf)],'currency':_0x3f763b['currency'],'additionalInfo':_0x19fbc9};}}exports['AmerService']=AmerService;