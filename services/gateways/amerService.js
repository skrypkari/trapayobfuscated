'use strict';const a43_0x453b10=a43_0x5546;(function(_0x29b538,_0x2644c6){const _0x560305=a43_0x5546,_0x239048=_0x29b538();while(!![]){try{const _0x29f3e8=parseInt(_0x560305(0x1ea))/0x1*(-parseInt(_0x560305(0x1f5))/0x2)+parseInt(_0x560305(0x20a))/0x3+-parseInt(_0x560305(0x212))/0x4*(parseInt(_0x560305(0x1f6))/0x5)+-parseInt(_0x560305(0x1ff))/0x6+parseInt(_0x560305(0x213))/0x7*(-parseInt(_0x560305(0x218))/0x8)+parseInt(_0x560305(0x1fc))/0x9+-parseInt(_0x560305(0x1f0))/0xa*(-parseInt(_0x560305(0x1f8))/0xb);if(_0x29f3e8===_0x2644c6)break;else _0x239048['push'](_0x239048['shift']());}catch(_0x25c86f){_0x239048['push'](_0x239048['shift']());}}}(a43_0x26a2,0xac61a));function a43_0x26a2(){const _0xeb57e9=['885214TnGpzw','processWebhook','Amount:','log','12177513pPSZVM','Error\x20stack:','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','2597412OQTOpp','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','success','&currency=','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','GET','Error\x20details:','/payment','FAILED','error','createPaymentLink','2212638pgsTyb','message','paymentId','loggerService','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','__esModule','cardLast4','verifyPayment','11776PZxCFC','318745DLXlNS','&order=','apiUrl','logWhiteDomainError','paymentMethod','136vetjZu','amer','Error\x20message:','currency','üîç\x20Verifying\x20Amer\x20payment:\x20','Unknown\x20error','PENDING','amount','PAID','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','/payment/verify/','107498MSjXzR','Processing\x20Amer\x20webhook:','Amer\x20payment\x20verification\x20error:','transactionId','Payment\x20URL:','/payment.php?payment_id=','310yTxFEA','===\x20AMER\x20SERVICE\x20ERROR\x20===','logWhiteDomainRequest','toUpperCase','defineProperty','26cmYlHw','2165MyPZBO','AmerService'];a43_0x26a2=function(){return _0xeb57e9;};return a43_0x26a2();}Object[a43_0x453b10(0x1f4)](exports,a43_0x453b10(0x20f),{'value':!![]}),exports[a43_0x453b10(0x1f7)]=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0x21bb39=a43_0x453b10;this[_0x21bb39(0x215)]='https://api2.trapay.uk',console[_0x21bb39(0x1fb)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a43_0x453b10(0x209)](_0x2c259e){const _0x58acf6=a43_0x453b10,{paymentId:_0x26ae60,orderId:_0x43c02b,orderName:_0xa16db0,amount:_0x77e48e,currency:_0x5585ee,usage:_0x4de749,maxPayments:_0x26215c,successUrl:_0x29fc60,failUrl:_0x5c6c31}=_0x2c259e,_0xa3d76d=_0x5585ee[_0x58acf6(0x1f3)]();console['log'](_0x58acf6(0x1fe)+_0x43c02b),console[_0x58acf6(0x1fb)]('üí∞\x20Amount:\x20'+_0x77e48e+'\x20'+_0xa3d76d);try{const _0x14361e=this[_0x58acf6(0x215)]+_0x58acf6(0x1ef)+_0x26ae60+'&amount='+_0x77e48e+_0x58acf6(0x202)+_0xa3d76d+_0x58acf6(0x214)+_0x43c02b;return console[_0x58acf6(0x1fb)](_0x58acf6(0x1e8)),console[_0x58acf6(0x1fb)]('Payment\x20ID:',_0x26ae60),console[_0x58acf6(0x1fb)](_0x58acf6(0x1ee),_0x14361e),console[_0x58acf6(0x1fb)](_0x58acf6(0x1fa),_0x77e48e,_0xa3d76d),loggerService_1[_0x58acf6(0x20d)]['logWhiteDomainRequest']('amer',_0x58acf6(0x206),_0x58acf6(0x204),{'paymentId':_0x26ae60,'amount':_0x77e48e,'currency':_0xa3d76d,'orderId':_0x43c02b}),{'gateway_payment_id':_0x26ae60,'payment_url':_0x14361e};}catch(_0x38c03d){console[_0x58acf6(0x208)](_0x58acf6(0x1f1)),console[_0x58acf6(0x208)](_0x58acf6(0x205),_0x38c03d),loggerService_1['loggerService'][_0x58acf6(0x216)](_0x58acf6(0x219),_0x58acf6(0x206),_0x38c03d);if(_0x38c03d instanceof Error){console[_0x58acf6(0x208)](_0x58acf6(0x21a),_0x38c03d[_0x58acf6(0x20b)]),console['error'](_0x58acf6(0x1fd),_0x38c03d['stack']);throw new Error(_0x58acf6(0x200)+_0x38c03d[_0x58acf6(0x20b)]);}throw new Error(_0x58acf6(0x20e));}}async[a43_0x453b10(0x211)](_0x1a7679){const _0x4157c3=a43_0x453b10;console[_0x4157c3(0x1fb)](_0x4157c3(0x21c)+_0x1a7679);try{return loggerService_1['loggerService'][_0x4157c3(0x1f2)](_0x4157c3(0x219),_0x4157c3(0x1e9)+_0x1a7679,_0x4157c3(0x204),{}),{'status':_0x4157c3(0x1e5)};}catch(_0x35aea1){console[_0x4157c3(0x208)](_0x4157c3(0x1ec),_0x35aea1),loggerService_1['loggerService']['logWhiteDomainError'](_0x4157c3(0x219),_0x4157c3(0x1e9)+_0x1a7679,_0x35aea1);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x35aea1 instanceof Error?_0x35aea1['message']:_0x4157c3(0x1e4)));}}async[a43_0x453b10(0x1f9)](_0x5d948a){const _0x393d3a=a43_0x453b10;console['log'](_0x393d3a(0x1eb),_0x5d948a);let _0x379edc='PENDING';if(_0x5d948a[_0x393d3a(0x201)]===!![])_0x379edc=_0x393d3a(0x1e7);else _0x5d948a[_0x393d3a(0x201)]===![]&&(_0x379edc=_0x393d3a(0x207));const _0xc900cd={};return _0x5d948a['cardLast4']&&(_0xc900cd[_0x393d3a(0x210)]=_0x5d948a[_0x393d3a(0x210)]),_0x5d948a[_0x393d3a(0x217)]&&(_0xc900cd[_0x393d3a(0x217)]=_0x5d948a[_0x393d3a(0x217)]),_0x5d948a[_0x393d3a(0x1ed)]&&(_0xc900cd[_0x393d3a(0x1ed)]=_0x5d948a['transactionId'],_0xc900cd['gatewayPaymentId']=_0x5d948a[_0x393d3a(0x1ed)]),console[_0x393d3a(0x1fb)](_0x393d3a(0x203)+_0x379edc),{'paymentId':_0x5d948a[_0x393d3a(0x20c)]||_0x5d948a['orderId']||'','status':_0x379edc,'amount':_0x5d948a[_0x393d3a(0x1e6)],'currency':_0x5d948a[_0x393d3a(0x21b)],'additionalInfo':_0xc900cd};}}function a43_0x5546(_0xe418b4,_0x529ad4){const _0x26a266=a43_0x26a2();return a43_0x5546=function(_0x55463c,_0x255aad){_0x55463c=_0x55463c-0x1e4;let _0x4c9f72=_0x26a266[_0x55463c];return _0x4c9f72;},a43_0x5546(_0xe418b4,_0x529ad4);}exports[a43_0x453b10(0x1f7)]=AmerService;