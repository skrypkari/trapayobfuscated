'use strict';function a61_0x465f(){const _0x3a7c30=['amer','&currency=','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','Processing\x20Amer\x20webhook:','loggerService','Amount:','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','gatewayPaymentId','success','48485sIQAhu','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Failed\x20to\x20verify\x20Amer\x20payment:\x20','message','error','10256985YznasU','Error\x20message:','üí∞\x20Amount:\x20','Error\x20details:','Unknown\x20error','217124JacbsQ','paymentMethod','30HSYzqX','7385063oLScFW','63nFYNsP','defineProperty','33005604MjluoV','&amount=','&order=','logWhiteDomainError','/payment.php?payment_id=','PENDING','log','transactionId','FAILED','===\x20AMER\x20SERVICE\x20ERROR\x20===','GET','apiUrl','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','createPaymentLink','1128178qWKmZz','üîç\x20Verifying\x20Amer\x20payment:\x20','Payment\x20ID:','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','/payment','orderId','1twHeag','AmerService','Error\x20stack:','cardLast4','8RpyYTQ','paymentId','processWebhook','2461327GegWCJ','630pTBTsw','__esModule','../loggerService'];a61_0x465f=function(){return _0x3a7c30;};return a61_0x465f();}const a61_0x7caa32=a61_0x1c90;(function(_0x5de030,_0x1eb71c){const _0x49979d=a61_0x1c90,_0x26fd8b=_0x5de030();while(!![]){try{const _0x5255d6=-parseInt(_0x49979d(0x7f))/0x1*(-parseInt(_0x49979d(0x79))/0x2)+-parseInt(_0x49979d(0x69))/0x3*(-parseInt(_0x49979d(0x9d))/0x4)+parseInt(_0x49979d(0x93))/0x5*(-parseInt(_0x49979d(0x87))/0x6)+-parseInt(_0x49979d(0x68))/0x7+parseInt(_0x49979d(0x83))/0x8*(-parseInt(_0x49979d(0x98))/0x9)+parseInt(_0x49979d(0x67))/0xa*(-parseInt(_0x49979d(0x86))/0xb)+parseInt(_0x49979d(0x6b))/0xc;if(_0x5255d6===_0x1eb71c)break;else _0x26fd8b['push'](_0x26fd8b['shift']());}catch(_0x1f26ea){_0x26fd8b['push'](_0x26fd8b['shift']());}}}(a61_0x465f,0x8b3d7));Object[a61_0x7caa32(0x6a)](exports,a61_0x7caa32(0x88),{'value':!![]}),exports[a61_0x7caa32(0x80)]=void 0x0;const loggerService_1=require(a61_0x7caa32(0x89));class AmerService{constructor(){const _0x1828b1=a61_0x7caa32;this[_0x1828b1(0x76)]='https://api2.trapay.uk',console[_0x1828b1(0x71)](_0x1828b1(0x94));}async[a61_0x7caa32(0x78)](_0x1591ad){const _0x502441=a61_0x7caa32,{paymentId:_0x549287,orderId:_0x17a1c9,orderName:_0x2629a0,amount:_0x59296b,currency:_0x5077e7,usage:_0x1689da,maxPayments:_0x4456ee,successUrl:_0x2dddbf,failUrl:_0x27798e}=_0x1591ad,_0x14c461=_0x5077e7['toUpperCase']();console['log'](_0x502441(0x8c)+_0x17a1c9),console[_0x502441(0x71)](_0x502441(0x9a)+_0x59296b+'\x20'+_0x14c461);try{const _0x41bf02=this[_0x502441(0x76)]+_0x502441(0x6f)+_0x549287+_0x502441(0x6c)+_0x59296b+_0x502441(0x8b)+_0x14c461+_0x502441(0x6d)+_0x17a1c9;return console[_0x502441(0x71)](_0x502441(0x77)),console[_0x502441(0x71)](_0x502441(0x7b),_0x549287),console[_0x502441(0x71)]('Payment\x20URL:',_0x41bf02),console[_0x502441(0x71)](_0x502441(0x8f),_0x59296b,_0x14c461),loggerService_1[_0x502441(0x8e)]['logWhiteDomainRequest'](_0x502441(0x8a),_0x502441(0x7d),_0x502441(0x75),{'paymentId':_0x549287,'amount':_0x59296b,'currency':_0x14c461,'orderId':_0x17a1c9}),{'gateway_payment_id':_0x549287,'payment_url':_0x41bf02};}catch(_0x44f345){console['error'](_0x502441(0x74)),console['error'](_0x502441(0x9b),_0x44f345),loggerService_1[_0x502441(0x8e)][_0x502441(0x6e)](_0x502441(0x8a),_0x502441(0x7d),_0x44f345);if(_0x44f345 instanceof Error){console[_0x502441(0x97)](_0x502441(0x99),_0x44f345[_0x502441(0x96)]),console[_0x502441(0x97)](_0x502441(0x81),_0x44f345['stack']);throw new Error(_0x502441(0x90)+_0x44f345[_0x502441(0x96)]);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async['verifyPayment'](_0x23788e){const _0x35a9df=a61_0x7caa32;console[_0x35a9df(0x71)](_0x35a9df(0x7a)+_0x23788e);try{return loggerService_1['loggerService']['logWhiteDomainRequest'](_0x35a9df(0x8a),'/payment/verify/'+_0x23788e,_0x35a9df(0x75),{}),{'status':_0x35a9df(0x70)};}catch(_0x19a259){console[_0x35a9df(0x97)]('Amer\x20payment\x20verification\x20error:',_0x19a259),loggerService_1[_0x35a9df(0x8e)][_0x35a9df(0x6e)](_0x35a9df(0x8a),'/payment/verify/'+_0x23788e,_0x19a259);throw new Error(_0x35a9df(0x95)+(_0x19a259 instanceof Error?_0x19a259[_0x35a9df(0x96)]:_0x35a9df(0x9c)));}}async[a61_0x7caa32(0x85)](_0x4f73eb){const _0x157d92=a61_0x7caa32;console[_0x157d92(0x71)](_0x157d92(0x8d),_0x4f73eb);let _0x4640ed='PENDING';if(_0x4f73eb[_0x157d92(0x92)]===!![])_0x4640ed='PAID';else _0x4f73eb[_0x157d92(0x92)]===![]&&(_0x4640ed=_0x157d92(0x73));const _0x52511e={};return _0x4f73eb[_0x157d92(0x82)]&&(_0x52511e[_0x157d92(0x82)]=_0x4f73eb[_0x157d92(0x82)]),_0x4f73eb[_0x157d92(0x66)]&&(_0x52511e['paymentMethod']=_0x4f73eb[_0x157d92(0x66)]),_0x4f73eb[_0x157d92(0x72)]&&(_0x52511e['transactionId']=_0x4f73eb[_0x157d92(0x72)],_0x52511e[_0x157d92(0x91)]=_0x4f73eb[_0x157d92(0x72)]),console[_0x157d92(0x71)](_0x157d92(0x7c)+_0x4640ed),{'paymentId':_0x4f73eb[_0x157d92(0x84)]||_0x4f73eb[_0x157d92(0x7e)]||'','status':_0x4640ed,'amount':_0x4f73eb['amount'],'currency':_0x4f73eb['currency'],'additionalInfo':_0x52511e};}}function a61_0x1c90(_0x34d686,_0x11a532){_0x34d686=_0x34d686-0x66;const _0x465fd7=a61_0x465f();let _0x1c90ae=_0x465fd7[_0x34d686];return _0x1c90ae;}exports[a61_0x7caa32(0x80)]=AmerService;