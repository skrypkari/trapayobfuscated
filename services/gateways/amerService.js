'use strict';function a43_0x56c4(_0x455d22,_0x3c9434){const _0x5677f9=a43_0x5677();return a43_0x56c4=function(_0x56c4ad,_0x2540c8){_0x56c4ad=_0x56c4ad-0x122;let _0x43848f=_0x5677f9[_0x56c4ad];return _0x43848f;},a43_0x56c4(_0x455d22,_0x3c9434);}const a43_0x4b7b62=a43_0x56c4;function a43_0x5677(){const _0x51d580=['amount','2944715MeWSxN','&amount=','/payment','===\x20AMER\x20SERVICE\x20ERROR\x20===','logWhiteDomainRequest','loggerService','createPaymentLink','/payment/verify/','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','logWhiteDomainError','error','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','success','2JVyOfl','processWebhook','/payment.php?payment_id=','paymentMethod','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','PENDING','amer','../loggerService','log','Payment\x20ID:','FAILED','&currency=','currency','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','Processing\x20Amer\x20webhook:','19901CDlBrr','1225766YpCLet','PAID','cardLast4','2437341OFpVht','message','4478736GFQGDT','paymentId','&order=','__esModule','Error\x20stack:','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','1891228SmzGUI','12856320pZIvXC','Error\x20message:','Payment\x20URL:','gatewayPaymentId','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','https://api2.trapay.uk','Unknown\x20error','transactionId','apiUrl','2028WOMipR','GET','toUpperCase','üîç\x20Verifying\x20Amer\x20payment:\x20'];a43_0x5677=function(){return _0x51d580;};return a43_0x5677();}(function(_0x40e4d7,_0x20ae7d){const _0x19dd05=a43_0x56c4,_0x376221=_0x40e4d7();while(!![]){try{const _0x28b73f=parseInt(_0x19dd05(0x134))/0x1*(parseInt(_0x19dd05(0x144))/0x2)+-parseInt(_0x19dd05(0x147))/0x3+-parseInt(_0x19dd05(0x14f))/0x4+parseInt(_0x19dd05(0x127))/0x5+-parseInt(_0x19dd05(0x122))/0x6*(-parseInt(_0x19dd05(0x143))/0x7)+parseInt(_0x19dd05(0x149))/0x8+-parseInt(_0x19dd05(0x150))/0x9;if(_0x28b73f===_0x20ae7d)break;else _0x376221['push'](_0x376221['shift']());}catch(_0x28298f){_0x376221['push'](_0x376221['shift']());}}}(a43_0x5677,0x97cb7));Object['defineProperty'](exports,a43_0x4b7b62(0x14c),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a43_0x4b7b62(0x13b));class AmerService{constructor(){const _0x1b2118=a43_0x4b7b62;this['apiUrl']=_0x1b2118(0x155),console[_0x1b2118(0x13c)](_0x1b2118(0x132));}async[a43_0x4b7b62(0x12d)](_0x22aeb7){const _0x4ae9e3=a43_0x4b7b62,{paymentId:_0xc3fbb4,orderId:_0x17847b,orderName:_0x1b44ac,amount:_0x2f7f34,currency:_0x10a289,usage:_0x3e67db,maxPayments:_0x5a5921,successUrl:_0x2b9690,failUrl:_0x47736e}=_0x22aeb7,_0x34a039=_0x10a289[_0x4ae9e3(0x124)]();console[_0x4ae9e3(0x13c)](_0x4ae9e3(0x14e)+_0x17847b),console[_0x4ae9e3(0x13c)]('üí∞\x20Amount:\x20'+_0x2f7f34+'\x20'+_0x34a039);try{const _0x57d2d8=this[_0x4ae9e3(0x158)]+_0x4ae9e3(0x136)+_0xc3fbb4+_0x4ae9e3(0x128)+_0x2f7f34+_0x4ae9e3(0x13f)+_0x34a039+_0x4ae9e3(0x14b)+_0x17847b;return console['log'](_0x4ae9e3(0x141)),console['log'](_0x4ae9e3(0x13d),_0xc3fbb4),console[_0x4ae9e3(0x13c)](_0x4ae9e3(0x152),_0x57d2d8),console['log']('Amount:',_0x2f7f34,_0x34a039),loggerService_1[_0x4ae9e3(0x12c)][_0x4ae9e3(0x12b)](_0x4ae9e3(0x13a),_0x4ae9e3(0x129),_0x4ae9e3(0x123),{'paymentId':_0xc3fbb4,'amount':_0x2f7f34,'currency':_0x34a039,'orderId':_0x17847b}),{'gateway_payment_id':_0xc3fbb4,'payment_url':_0x57d2d8};}catch(_0x3a24e6){console[_0x4ae9e3(0x131)](_0x4ae9e3(0x12a)),console[_0x4ae9e3(0x131)]('Error\x20details:',_0x3a24e6),loggerService_1[_0x4ae9e3(0x12c)]['logWhiteDomainError'](_0x4ae9e3(0x13a),_0x4ae9e3(0x129),_0x3a24e6);if(_0x3a24e6 instanceof Error){console['error'](_0x4ae9e3(0x151),_0x3a24e6[_0x4ae9e3(0x148)]),console[_0x4ae9e3(0x131)](_0x4ae9e3(0x14d),_0x3a24e6['stack']);throw new Error(_0x4ae9e3(0x154)+_0x3a24e6['message']);}throw new Error(_0x4ae9e3(0x12f));}}async['verifyPayment'](_0x4e2adb){const _0x1a7fa4=a43_0x4b7b62;console['log'](_0x1a7fa4(0x125)+_0x4e2adb);try{return loggerService_1['loggerService']['logWhiteDomainRequest'](_0x1a7fa4(0x13a),_0x1a7fa4(0x12e)+_0x4e2adb,'GET',{}),{'status':_0x1a7fa4(0x139)};}catch(_0x32ae7d){console[_0x1a7fa4(0x131)]('Amer\x20payment\x20verification\x20error:',_0x32ae7d),loggerService_1[_0x1a7fa4(0x12c)][_0x1a7fa4(0x130)](_0x1a7fa4(0x13a),_0x1a7fa4(0x12e)+_0x4e2adb,_0x32ae7d);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x32ae7d instanceof Error?_0x32ae7d[_0x1a7fa4(0x148)]:_0x1a7fa4(0x156)));}}async[a43_0x4b7b62(0x135)](_0x9bd389){const _0x4d39aa=a43_0x4b7b62;console[_0x4d39aa(0x13c)](_0x4d39aa(0x142),_0x9bd389);let _0x3219f2=_0x4d39aa(0x139);if(_0x9bd389[_0x4d39aa(0x133)]===!![])_0x3219f2=_0x4d39aa(0x145);else _0x9bd389[_0x4d39aa(0x133)]===![]&&(_0x3219f2=_0x4d39aa(0x13e));const _0x29197b={};return _0x9bd389[_0x4d39aa(0x146)]&&(_0x29197b[_0x4d39aa(0x146)]=_0x9bd389['cardLast4']),_0x9bd389['paymentMethod']&&(_0x29197b[_0x4d39aa(0x137)]=_0x9bd389[_0x4d39aa(0x137)]),_0x9bd389[_0x4d39aa(0x157)]&&(_0x29197b[_0x4d39aa(0x157)]=_0x9bd389[_0x4d39aa(0x157)],_0x29197b[_0x4d39aa(0x153)]=_0x9bd389[_0x4d39aa(0x157)]),console[_0x4d39aa(0x13c)](_0x4d39aa(0x138)+_0x3219f2),{'paymentId':_0x9bd389[_0x4d39aa(0x14a)]||_0x9bd389['orderId']||'','status':_0x3219f2,'amount':_0x9bd389[_0x4d39aa(0x126)],'currency':_0x9bd389[_0x4d39aa(0x140)],'additionalInfo':_0x29197b};}}exports['AmerService']=AmerService;