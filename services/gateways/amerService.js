'use strict';const a53_0x575f3f=a53_0x1943;(function(_0x3305cf,_0x8e4f0e){const _0x3c5816=a53_0x1943,_0xf82530=_0x3305cf();while(!![]){try{const _0x3deeb2=-parseInt(_0x3c5816(0xfc))/0x1*(parseInt(_0x3c5816(0xf4))/0x2)+-parseInt(_0x3c5816(0xfe))/0x3+-parseInt(_0x3c5816(0xf5))/0x4+-parseInt(_0x3c5816(0xe2))/0x5+parseInt(_0x3c5816(0x102))/0x6*(-parseInt(_0x3c5816(0xe5))/0x7)+-parseInt(_0x3c5816(0xfa))/0x8+parseInt(_0x3c5816(0xf7))/0x9*(parseInt(_0x3c5816(0xf3))/0xa);if(_0x3deeb2===_0x8e4f0e)break;else _0xf82530['push'](_0xf82530['shift']());}catch(_0x518381){_0xf82530['push'](_0xf82530['shift']());}}}(a53_0x11ef,0x515be));Object['defineProperty'](exports,a53_0x575f3f(0xd9),{'value':!![]}),exports[a53_0x575f3f(0xd8)]=void 0x0;const loggerService_1=require('../loggerService');function a53_0x11ef(){const _0x5c3399=['Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','13011QxOgtH','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','498399pZTFKS','amer','loggerService','Processing\x20Amer\x20webhook:','1182imulbN','Error\x20stack:','log','PENDING','paymentId','AmerService','__esModule','PAID','Payment\x20ID:','message','stack','logWhiteDomainError','toUpperCase','GET','logWhiteDomainRequest','3039985WesOZH','üîç\x20Verifying\x20Amer\x20payment:\x20','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','21427QaMiCk','transactionId','&currency=','===\x20AMER\x20SERVICE\x20ERROR\x20===','/payment','orderId','paymentMethod','success','apiUrl','/payment/verify/','Unknown\x20error','error','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Payment\x20URL:','29420770afBimg','72dRGARz','1608612cVOqMs','processWebhook','9mcsEuf','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','cardLast4','2889080tbmsge'];a53_0x11ef=function(){return _0x5c3399;};return a53_0x11ef();}class AmerService{constructor(){const _0x43eeed=a53_0x575f3f;this[_0x43eeed(0xed)]='https://api2.trapay.uk',console[_0x43eeed(0x104)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async['createPaymentLink'](_0x43603b){const _0x18cbc0=a53_0x575f3f,{paymentId:_0x33d7d5,orderId:_0x78ca0d,orderName:_0x1fdd1e,amount:_0x27d22d,currency:_0x46f015,usage:_0x10a224,maxPayments:_0x50eb4c,successUrl:_0x10fdf4,failUrl:_0x3014d5}=_0x43603b,_0x2ba559=_0x46f015[_0x18cbc0(0xdf)]();console[_0x18cbc0(0x104)](_0x18cbc0(0xfd)+_0x78ca0d),console[_0x18cbc0(0x104)]('üí∞\x20Amount:\x20'+_0x27d22d+'\x20'+_0x2ba559);try{const _0x3c9350=this[_0x18cbc0(0xed)]+'/payment.php?payment_id='+_0x33d7d5+'&amount='+_0x27d22d+_0x18cbc0(0xe7)+_0x2ba559+'&order='+_0x78ca0d;return console['log'](_0x18cbc0(0xe4)),console[_0x18cbc0(0x104)](_0x18cbc0(0xdb),_0x33d7d5),console[_0x18cbc0(0x104)](_0x18cbc0(0xf2),_0x3c9350),console[_0x18cbc0(0x104)]('Amount:',_0x27d22d,_0x2ba559),loggerService_1[_0x18cbc0(0x100)]['logWhiteDomainRequest'](_0x18cbc0(0xff),_0x18cbc0(0xe9),_0x18cbc0(0xe0),{'paymentId':_0x33d7d5,'amount':_0x27d22d,'currency':_0x2ba559,'orderId':_0x78ca0d}),{'gateway_payment_id':_0x33d7d5,'payment_url':_0x3c9350};}catch(_0x10ff1f){console[_0x18cbc0(0xf0)](_0x18cbc0(0xe8)),console[_0x18cbc0(0xf0)]('Error\x20details:',_0x10ff1f),loggerService_1[_0x18cbc0(0x100)][_0x18cbc0(0xde)](_0x18cbc0(0xff),'/payment',_0x10ff1f);if(_0x10ff1f instanceof Error){console[_0x18cbc0(0xf0)]('Error\x20message:',_0x10ff1f[_0x18cbc0(0xdc)]),console[_0x18cbc0(0xf0)](_0x18cbc0(0x103),_0x10ff1f[_0x18cbc0(0xdd)]);throw new Error(_0x18cbc0(0xf8)+_0x10ff1f[_0x18cbc0(0xdc)]);}throw new Error(_0x18cbc0(0xfb));}}async['verifyPayment'](_0x4fa5ed){const _0x4f47ca=a53_0x575f3f;console[_0x4f47ca(0x104)](_0x4f47ca(0xe3)+_0x4fa5ed);try{return loggerService_1[_0x4f47ca(0x100)][_0x4f47ca(0xe1)](_0x4f47ca(0xff),_0x4f47ca(0xee)+_0x4fa5ed,_0x4f47ca(0xe0),{}),{'status':_0x4f47ca(0x105)};}catch(_0x4cefee){console[_0x4f47ca(0xf0)]('Amer\x20payment\x20verification\x20error:',_0x4cefee),loggerService_1[_0x4f47ca(0x100)]['logWhiteDomainError'](_0x4f47ca(0xff),_0x4f47ca(0xee)+_0x4fa5ed,_0x4cefee);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x4cefee instanceof Error?_0x4cefee[_0x4f47ca(0xdc)]:_0x4f47ca(0xef)));}}async[a53_0x575f3f(0xf6)](_0x6f7dd0){const _0xaa16ec=a53_0x575f3f;console[_0xaa16ec(0x104)](_0xaa16ec(0x101),_0x6f7dd0);let _0x5f0804=_0xaa16ec(0x105);if(_0x6f7dd0[_0xaa16ec(0xec)]===!![])_0x5f0804=_0xaa16ec(0xda);else _0x6f7dd0[_0xaa16ec(0xec)]===![]&&(_0x5f0804='FAILED');const _0x37e6f8={};return _0x6f7dd0['cardLast4']&&(_0x37e6f8[_0xaa16ec(0xf9)]=_0x6f7dd0[_0xaa16ec(0xf9)]),_0x6f7dd0[_0xaa16ec(0xeb)]&&(_0x37e6f8[_0xaa16ec(0xeb)]=_0x6f7dd0[_0xaa16ec(0xeb)]),_0x6f7dd0[_0xaa16ec(0xe6)]&&(_0x37e6f8[_0xaa16ec(0xe6)]=_0x6f7dd0[_0xaa16ec(0xe6)],_0x37e6f8['gatewayPaymentId']=_0x6f7dd0[_0xaa16ec(0xe6)]),console[_0xaa16ec(0x104)](_0xaa16ec(0xf1)+_0x5f0804),{'paymentId':_0x6f7dd0[_0xaa16ec(0xd7)]||_0x6f7dd0[_0xaa16ec(0xea)]||'','status':_0x5f0804,'amount':_0x6f7dd0['amount'],'currency':_0x6f7dd0['currency'],'additionalInfo':_0x37e6f8};}}function a53_0x1943(_0x56f558,_0x372c90){_0x56f558=_0x56f558-0xd7;const _0x11ef52=a53_0x11ef();let _0x19432d=_0x11ef52[_0x56f558];return _0x19432d;}exports[a53_0x575f3f(0xd8)]=AmerService;