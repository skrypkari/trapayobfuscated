'use strict';function a51_0x51c0(_0x3a8fe1,_0x4f9e47){_0x3a8fe1=_0x3a8fe1-0x1be;const _0x460e91=a51_0x460e();let _0x51c03b=_0x460e91[_0x3a8fe1];return _0x51c03b;}const a51_0x39f4bb=a51_0x51c0;(function(_0x2592f7,_0x592fb8){const _0x203ff0=a51_0x51c0,_0x3db163=_0x2592f7();while(!![]){try{const _0x445b6b=-parseInt(_0x203ff0(0x1c5))/0x1*(-parseInt(_0x203ff0(0x1f2))/0x2)+parseInt(_0x203ff0(0x1e7))/0x3*(-parseInt(_0x203ff0(0x1ee))/0x4)+parseInt(_0x203ff0(0x1d0))/0x5+-parseInt(_0x203ff0(0x1d4))/0x6+parseInt(_0x203ff0(0x1ce))/0x7*(parseInt(_0x203ff0(0x1c0))/0x8)+parseInt(_0x203ff0(0x1d5))/0x9+-parseInt(_0x203ff0(0x1bf))/0xa*(parseInt(_0x203ff0(0x1ed))/0xb);if(_0x445b6b===_0x592fb8)break;else _0x3db163['push'](_0x3db163['shift']());}catch(_0x103b1a){_0x3db163['push'](_0x3db163['shift']());}}}(a51_0x460e,0x542b5));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a51_0x39f4bb(0x1d7)]=void 0x0;function a51_0x460e(){const _0x57770c=['Unknown\x20error','/payment/verify/','90VBJFJU','8OHkXTN','../loggerService','&currency=','FAILED','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','59TTERKp','amer','apiUrl','currency','üí∞\x20Amount:\x20','createPaymentLink','amount','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','toUpperCase','3483081oJJPWB','&amount=','2372680TCgrbu','Failed\x20to\x20verify\x20Amer\x20payment:\x20','success','logWhiteDomainRequest','1257654NqpLrr','3808953ycDIcs','Processing\x20Amer\x20webhook:','AmerService','paymentMethod','/payment.php?payment_id=','Error\x20details:','Payment\x20ID:','error','PAID','processWebhook','transactionId','log','logWhiteDomainError','PENDING','message','===\x20AMER\x20SERVICE\x20ERROR\x20===','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','&order=','6oClokz','Amer\x20payment\x20verification\x20error:','gatewayPaymentId','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','GET','loggerService','1496319bnAeKB','58356kozpEk','Error\x20message:','/payment','https://api2.trapay.uk','13982HkcvGN','cardLast4','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'];a51_0x460e=function(){return _0x57770c;};return a51_0x460e();}const loggerService_1=require(a51_0x39f4bb(0x1c1));class AmerService{constructor(){const _0x15fe6a=a51_0x39f4bb;this[_0x15fe6a(0x1c7)]=_0x15fe6a(0x1f1),console[_0x15fe6a(0x1e0)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a51_0x39f4bb(0x1ca)](_0xb53ee8){const _0x3fc831=a51_0x39f4bb,{paymentId:_0x51d56d,orderId:_0xc22d47,orderName:_0x25e9e3,amount:_0x472004,currency:_0x564d86,usage:_0x86b67b,maxPayments:_0x2f4f99,successUrl:_0xee37b8,failUrl:_0x1550f5}=_0xb53ee8,_0x1e5107=_0x564d86[_0x3fc831(0x1cd)]();console[_0x3fc831(0x1e0)](_0x3fc831(0x1f4)+_0xc22d47),console['log'](_0x3fc831(0x1c9)+_0x472004+'\x20'+_0x1e5107);try{const _0xb01702=this[_0x3fc831(0x1c7)]+_0x3fc831(0x1d9)+_0x51d56d+_0x3fc831(0x1cf)+_0x472004+_0x3fc831(0x1c2)+_0x1e5107+_0x3fc831(0x1e6)+_0xc22d47;return console[_0x3fc831(0x1e0)](_0x3fc831(0x1ea)),console[_0x3fc831(0x1e0)](_0x3fc831(0x1db),_0x51d56d),console[_0x3fc831(0x1e0)]('Payment\x20URL:',_0xb01702),console[_0x3fc831(0x1e0)]('Amount:',_0x472004,_0x1e5107),loggerService_1[_0x3fc831(0x1ec)][_0x3fc831(0x1d3)](_0x3fc831(0x1c6),_0x3fc831(0x1f0),'GET',{'paymentId':_0x51d56d,'amount':_0x472004,'currency':_0x1e5107,'orderId':_0xc22d47}),{'gateway_payment_id':_0x51d56d,'payment_url':_0xb01702};}catch(_0x4368fe){console[_0x3fc831(0x1dc)](_0x3fc831(0x1e4)),console[_0x3fc831(0x1dc)](_0x3fc831(0x1da),_0x4368fe),loggerService_1['loggerService'][_0x3fc831(0x1e1)](_0x3fc831(0x1c6),_0x3fc831(0x1f0),_0x4368fe);if(_0x4368fe instanceof Error){console['error'](_0x3fc831(0x1ef),_0x4368fe[_0x3fc831(0x1e3)]),console[_0x3fc831(0x1dc)]('Error\x20stack:',_0x4368fe['stack']);throw new Error(_0x3fc831(0x1cc)+_0x4368fe['message']);}throw new Error(_0x3fc831(0x1c4));}}async['verifyPayment'](_0x15c135){const _0xf73526=a51_0x39f4bb;console[_0xf73526(0x1e0)]('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x15c135);try{return loggerService_1[_0xf73526(0x1ec)][_0xf73526(0x1d3)](_0xf73526(0x1c6),_0xf73526(0x1be)+_0x15c135,_0xf73526(0x1eb),{}),{'status':_0xf73526(0x1e2)};}catch(_0x2a1393){console[_0xf73526(0x1dc)](_0xf73526(0x1e8),_0x2a1393),loggerService_1[_0xf73526(0x1ec)]['logWhiteDomainError'](_0xf73526(0x1c6),_0xf73526(0x1be)+_0x15c135,_0x2a1393);throw new Error(_0xf73526(0x1d1)+(_0x2a1393 instanceof Error?_0x2a1393[_0xf73526(0x1e3)]:_0xf73526(0x1f5)));}}async[a51_0x39f4bb(0x1de)](_0x2affb2){const _0x5d0b41=a51_0x39f4bb;console['log'](_0x5d0b41(0x1d6),_0x2affb2);let _0x2eebf8=_0x5d0b41(0x1e2);if(_0x2affb2[_0x5d0b41(0x1d2)]===!![])_0x2eebf8=_0x5d0b41(0x1dd);else _0x2affb2['success']===![]&&(_0x2eebf8=_0x5d0b41(0x1c3));const _0x2f1af0={};return _0x2affb2[_0x5d0b41(0x1f3)]&&(_0x2f1af0[_0x5d0b41(0x1f3)]=_0x2affb2['cardLast4']),_0x2affb2['paymentMethod']&&(_0x2f1af0[_0x5d0b41(0x1d8)]=_0x2affb2[_0x5d0b41(0x1d8)]),_0x2affb2[_0x5d0b41(0x1df)]&&(_0x2f1af0[_0x5d0b41(0x1df)]=_0x2affb2[_0x5d0b41(0x1df)],_0x2f1af0[_0x5d0b41(0x1e9)]=_0x2affb2[_0x5d0b41(0x1df)]),console['log'](_0x5d0b41(0x1e5)+_0x2eebf8),{'paymentId':_0x2affb2['paymentId']||_0x2affb2['orderId']||'','status':_0x2eebf8,'amount':_0x2affb2[_0x5d0b41(0x1cb)],'currency':_0x2affb2[_0x5d0b41(0x1c8)],'additionalInfo':_0x2f1af0};}}exports[a51_0x39f4bb(0x1d7)]=AmerService;