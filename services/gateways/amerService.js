'use strict';const a51_0x317799=a51_0x80e0;(function(_0x17849e,_0x2d00c9){const _0x365f22=a51_0x80e0,_0x493126=_0x17849e();while(!![]){try{const _0x43949e=-parseInt(_0x365f22(0xdc))/0x1*(parseInt(_0x365f22(0xb7))/0x2)+parseInt(_0x365f22(0xd8))/0x3*(-parseInt(_0x365f22(0xcd))/0x4)+-parseInt(_0x365f22(0xd4))/0x5+-parseInt(_0x365f22(0xb5))/0x6+parseInt(_0x365f22(0xd0))/0x7*(-parseInt(_0x365f22(0xd9))/0x8)+parseInt(_0x365f22(0xe2))/0x9*(-parseInt(_0x365f22(0xb9))/0xa)+parseInt(_0x365f22(0xe5))/0xb*(parseInt(_0x365f22(0xb3))/0xc);if(_0x43949e===_0x2d00c9)break;else _0x493126['push'](_0x493126['shift']());}catch(_0x172230){_0x493126['push'](_0x493126['shift']());}}}(a51_0x5219,0xd200b));function a51_0x80e0(_0x26b59a,_0x370dd1){_0x26b59a=_0x26b59a-0xb3;const _0x52195b=a51_0x5219();let _0x80e034=_0x52195b[_0x26b59a];return _0x80e034;}function a51_0x5219(){const _0x454099=['apiUrl','500xSndgo','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','1484110pXKXxO','paymentMethod','stack','defineProperty','Amer\x20payment\x20verification\x20error:','verifyPayment','Amount:','message','Processing\x20Amer\x20webhook:','createPaymentLink','/payment','transactionId','error','logWhiteDomainRequest','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','GET','PENDING','Failed\x20to\x20verify\x20Amer\x20payment:\x20','log','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','4YYTfTI','===\x20AMER\x20SERVICE\x20ERROR\x20===','AmerService','10730167dJLWaV','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','cardLast4','loggerService','4587710oXMzif','../loggerService','/payment/verify/','Payment\x20ID:','2816421pfrads','8oeufTx','Error\x20stack:','https://api2.trapay.uk','6469QWiVfM','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','Unknown\x20error','logWhiteDomainError','Payment\x20URL:','9YFogMV','amer','Error\x20details:','26231689HhAvoX','success','amount','FAILED','Error\x20message:','gatewayPaymentId','36taiQEZ','__esModule','6834210tlCiEH'];a51_0x5219=function(){return _0x454099;};return a51_0x5219();}Object[a51_0x317799(0xbc)](exports,a51_0x317799(0xb4),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a51_0x317799(0xd5));class AmerService{constructor(){const _0x368804=a51_0x317799;this['apiUrl']=_0x368804(0xdb),console['log'](_0x368804(0xcc));}async[a51_0x317799(0xc2)](_0xc7db19){const _0x1d6ccc=a51_0x317799,{paymentId:_0x37fa8f,orderId:_0x34d3c3,orderName:_0x212f91,amount:_0xb0596,currency:_0x2861dd,usage:_0x170da8,maxPayments:_0x50e14a,successUrl:_0x3784f1,failUrl:_0x308981}=_0xc7db19,_0x5e8283=_0x2861dd['toUpperCase']();console[_0x1d6ccc(0xcb)](_0x1d6ccc(0xd1)+_0x34d3c3),console['log']('üí∞\x20Amount:\x20'+_0xb0596+'\x20'+_0x5e8283);try{const _0x9d1743=this[_0x1d6ccc(0xb6)]+'/payment.php?payment_id='+_0x37fa8f+'&amount='+_0xb0596+'&currency='+_0x5e8283+'&order='+_0x34d3c3;return console[_0x1d6ccc(0xcb)](_0x1d6ccc(0xde)),console[_0x1d6ccc(0xcb)](_0x1d6ccc(0xd7),_0x37fa8f),console['log'](_0x1d6ccc(0xe1),_0x9d1743),console[_0x1d6ccc(0xcb)](_0x1d6ccc(0xbf),_0xb0596,_0x5e8283),loggerService_1[_0x1d6ccc(0xd3)][_0x1d6ccc(0xc6)](_0x1d6ccc(0xe3),_0x1d6ccc(0xc3),_0x1d6ccc(0xc8),{'paymentId':_0x37fa8f,'amount':_0xb0596,'currency':_0x5e8283,'orderId':_0x34d3c3}),{'gateway_payment_id':_0x37fa8f,'payment_url':_0x9d1743};}catch(_0x5669dc){console[_0x1d6ccc(0xc5)](_0x1d6ccc(0xce)),console[_0x1d6ccc(0xc5)](_0x1d6ccc(0xe4),_0x5669dc),loggerService_1[_0x1d6ccc(0xd3)][_0x1d6ccc(0xe0)](_0x1d6ccc(0xe3),_0x1d6ccc(0xc3),_0x5669dc);if(_0x5669dc instanceof Error){console['error'](_0x1d6ccc(0xe9),_0x5669dc[_0x1d6ccc(0xc0)]),console[_0x1d6ccc(0xc5)](_0x1d6ccc(0xda),_0x5669dc[_0x1d6ccc(0xbb)]);throw new Error(_0x1d6ccc(0xb8)+_0x5669dc['message']);}throw new Error(_0x1d6ccc(0xdd));}}async[a51_0x317799(0xbe)](_0x521ee7){const _0x42a558=a51_0x317799;console[_0x42a558(0xcb)]('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x521ee7);try{return loggerService_1['loggerService'][_0x42a558(0xc6)](_0x42a558(0xe3),_0x42a558(0xd6)+_0x521ee7,_0x42a558(0xc8),{}),{'status':_0x42a558(0xc9)};}catch(_0x887ee4){console[_0x42a558(0xc5)](_0x42a558(0xbd),_0x887ee4),loggerService_1[_0x42a558(0xd3)][_0x42a558(0xe0)](_0x42a558(0xe3),_0x42a558(0xd6)+_0x521ee7,_0x887ee4);throw new Error(_0x42a558(0xca)+(_0x887ee4 instanceof Error?_0x887ee4[_0x42a558(0xc0)]:_0x42a558(0xdf)));}}async['processWebhook'](_0x8b8277){const _0x75f493=a51_0x317799;console[_0x75f493(0xcb)](_0x75f493(0xc1),_0x8b8277);let _0x398ace=_0x75f493(0xc9);if(_0x8b8277[_0x75f493(0xe6)]===!![])_0x398ace='PAID';else _0x8b8277['success']===![]&&(_0x398ace=_0x75f493(0xe8));const _0x7c0664={};return _0x8b8277[_0x75f493(0xd2)]&&(_0x7c0664[_0x75f493(0xd2)]=_0x8b8277['cardLast4']),_0x8b8277['paymentMethod']&&(_0x7c0664[_0x75f493(0xba)]=_0x8b8277[_0x75f493(0xba)]),_0x8b8277[_0x75f493(0xc4)]&&(_0x7c0664[_0x75f493(0xc4)]=_0x8b8277[_0x75f493(0xc4)],_0x7c0664[_0x75f493(0xea)]=_0x8b8277[_0x75f493(0xc4)]),console[_0x75f493(0xcb)](_0x75f493(0xc7)+_0x398ace),{'paymentId':_0x8b8277['paymentId']||_0x8b8277['orderId']||'','status':_0x398ace,'amount':_0x8b8277[_0x75f493(0xe7)],'currency':_0x8b8277['currency'],'additionalInfo':_0x7c0664};}}exports[a51_0x317799(0xcf)]=AmerService;