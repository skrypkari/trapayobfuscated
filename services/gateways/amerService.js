'use strict';const a53_0x233145=a53_0x217a;(function(_0x29ae4e,_0x5a1100){const _0x8e6993=a53_0x217a,_0x584533=_0x29ae4e();while(!![]){try{const _0x1449cb=-parseInt(_0x8e6993(0x11e))/0x1*(parseInt(_0x8e6993(0x136))/0x2)+parseInt(_0x8e6993(0x13a))/0x3*(parseInt(_0x8e6993(0x134))/0x4)+-parseInt(_0x8e6993(0x13d))/0x5+-parseInt(_0x8e6993(0x113))/0x6+parseInt(_0x8e6993(0x130))/0x7+parseInt(_0x8e6993(0x119))/0x8+parseInt(_0x8e6993(0x11d))/0x9;if(_0x1449cb===_0x5a1100)break;else _0x584533['push'](_0x584533['shift']());}catch(_0x59fbcd){_0x584533['push'](_0x584533['shift']());}}}(a53_0x3c5b,0xe01f4));function a53_0x3c5b(){const _0xd3f7f9=['Amount:','success','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Failed\x20to\x20verify\x20Amer\x20payment:\x20','stack','Amer\x20payment\x20verification\x20error:','&amount=','log','6879360DjKKyG','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','logWhiteDomainError','PAID','../loggerService','https://api2.trapay.uk','3746080yvclhQ','paymentMethod','createPaymentLink','toUpperCase','11687994TOejmz','9bNkrZp','error','&order=','/payment','&currency=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','/payment.php?payment_id=','üîç\x20Verifying\x20Amer\x20payment:\x20','loggerService','paymentId','AmerService','processWebhook','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','orderId','/payment/verify/','Payment\x20URL:','Error\x20message:','__esModule','9076900OawFct','apiUrl','message','transactionId','73932thPScM','cardLast4','200588hvHVKR','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','amer','verifyPayment','18UCzHgc','Error\x20stack:','logWhiteDomainRequest','1036570JPRRHT','FAILED','GET','defineProperty'];a53_0x3c5b=function(){return _0xd3f7f9;};return a53_0x3c5b();}Object[a53_0x233145(0x140)](exports,a53_0x233145(0x12f),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a53_0x233145(0x117));function a53_0x217a(_0x403763,_0x196d35){_0x403763=_0x403763-0x10b;const _0x3c5bbf=a53_0x3c5b();let _0x217a9e=_0x3c5bbf[_0x403763];return _0x217a9e;}class AmerService{constructor(){const _0x506e3e=a53_0x233145;this[_0x506e3e(0x131)]=_0x506e3e(0x118),console['log']('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a53_0x233145(0x11b)](_0xd9f4c9){const _0x446812=a53_0x233145,{paymentId:_0x51a93b,orderId:_0x56963a,orderName:_0x4b23a3,amount:_0x447a5c,currency:_0x531ea1,usage:_0x303afb,maxPayments:_0x7609a7,successUrl:_0x29735a,failUrl:_0x55e645}=_0xd9f4c9,_0x330c68=_0x531ea1[_0x446812(0x11c)]();console['log'](_0x446812(0x114)+_0x56963a),console[_0x446812(0x112)]('üí∞\x20Amount:\x20'+_0x447a5c+'\x20'+_0x330c68);try{const _0x3f1508=this[_0x446812(0x131)]+_0x446812(0x124)+_0x51a93b+_0x446812(0x111)+_0x447a5c+_0x446812(0x122)+_0x330c68+_0x446812(0x120)+_0x56963a;return console['log'](_0x446812(0x137)),console['log']('Payment\x20ID:',_0x51a93b),console[_0x446812(0x112)](_0x446812(0x12d),_0x3f1508),console[_0x446812(0x112)](_0x446812(0x10b),_0x447a5c,_0x330c68),loggerService_1[_0x446812(0x126)][_0x446812(0x13c)](_0x446812(0x138),'/payment',_0x446812(0x13f),{'paymentId':_0x51a93b,'amount':_0x447a5c,'currency':_0x330c68,'orderId':_0x56963a}),{'gateway_payment_id':_0x51a93b,'payment_url':_0x3f1508};}catch(_0x1e17da){console[_0x446812(0x11f)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x446812(0x11f)]('Error\x20details:',_0x1e17da),loggerService_1[_0x446812(0x126)][_0x446812(0x115)]('amer',_0x446812(0x121),_0x1e17da);if(_0x1e17da instanceof Error){console['error'](_0x446812(0x12e),_0x1e17da[_0x446812(0x132)]),console[_0x446812(0x11f)](_0x446812(0x13b),_0x1e17da[_0x446812(0x10f)]);throw new Error(_0x446812(0x12a)+_0x1e17da[_0x446812(0x132)]);}throw new Error(_0x446812(0x123));}}async[a53_0x233145(0x139)](_0x3f7c7a){const _0x3f64a8=a53_0x233145;console[_0x3f64a8(0x112)](_0x3f64a8(0x125)+_0x3f7c7a);try{return loggerService_1[_0x3f64a8(0x126)][_0x3f64a8(0x13c)](_0x3f64a8(0x138),_0x3f64a8(0x12c)+_0x3f7c7a,'GET',{}),{'status':'PENDING'};}catch(_0x2b9a4){console[_0x3f64a8(0x11f)](_0x3f64a8(0x110),_0x2b9a4),loggerService_1[_0x3f64a8(0x126)][_0x3f64a8(0x115)](_0x3f64a8(0x138),_0x3f64a8(0x12c)+_0x3f7c7a,_0x2b9a4);throw new Error(_0x3f64a8(0x10e)+(_0x2b9a4 instanceof Error?_0x2b9a4[_0x3f64a8(0x132)]:'Unknown\x20error'));}}async[a53_0x233145(0x129)](_0x4470e1){const _0x1da7f5=a53_0x233145;console[_0x1da7f5(0x112)]('Processing\x20Amer\x20webhook:',_0x4470e1);let _0x387ea1='PENDING';if(_0x4470e1[_0x1da7f5(0x10c)]===!![])_0x387ea1=_0x1da7f5(0x116);else _0x4470e1[_0x1da7f5(0x10c)]===![]&&(_0x387ea1=_0x1da7f5(0x13e));const _0x1b0f0d={};return _0x4470e1[_0x1da7f5(0x135)]&&(_0x1b0f0d[_0x1da7f5(0x135)]=_0x4470e1[_0x1da7f5(0x135)]),_0x4470e1[_0x1da7f5(0x11a)]&&(_0x1b0f0d['paymentMethod']=_0x4470e1[_0x1da7f5(0x11a)]),_0x4470e1[_0x1da7f5(0x133)]&&(_0x1b0f0d[_0x1da7f5(0x133)]=_0x4470e1[_0x1da7f5(0x133)],_0x1b0f0d['gatewayPaymentId']=_0x4470e1[_0x1da7f5(0x133)]),console[_0x1da7f5(0x112)](_0x1da7f5(0x10d)+_0x387ea1),{'paymentId':_0x4470e1[_0x1da7f5(0x127)]||_0x4470e1[_0x1da7f5(0x12b)]||'','status':_0x387ea1,'amount':_0x4470e1['amount'],'currency':_0x4470e1['currency'],'additionalInfo':_0x1b0f0d};}}exports[a53_0x233145(0x128)]=AmerService;