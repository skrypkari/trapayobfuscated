'use strict';const a41_0x302680=a41_0x30c5;(function(_0x393a29,_0x19d6b6){const _0x4602e2=a41_0x30c5,_0x172805=_0x393a29();while(!![]){try{const _0x42804c=parseInt(_0x4602e2(0x1cd))/0x1*(parseInt(_0x4602e2(0x1c5))/0x2)+parseInt(_0x4602e2(0x1b3))/0x3+-parseInt(_0x4602e2(0x1c9))/0x4+parseInt(_0x4602e2(0x1b5))/0x5*(-parseInt(_0x4602e2(0x1bd))/0x6)+parseInt(_0x4602e2(0x1b4))/0x7*(-parseInt(_0x4602e2(0x1d9))/0x8)+-parseInt(_0x4602e2(0x1d3))/0x9*(-parseInt(_0x4602e2(0x1a7))/0xa)+parseInt(_0x4602e2(0x1a6))/0xb;if(_0x42804c===_0x19d6b6)break;else _0x172805['push'](_0x172805['shift']());}catch(_0x3bc0f9){_0x172805['push'](_0x172805['shift']());}}}(a41_0x2449,0xc2302));function a41_0x30c5(_0x51142,_0x41cbbf){const _0x244925=a41_0x2449();return a41_0x30c5=function(_0x30c5f1,_0x10e809){_0x30c5f1=_0x30c5f1-0x1a4;let _0x1f2ad9=_0x244925[_0x30c5f1];return _0x1f2ad9;},a41_0x30c5(_0x51142,_0x41cbbf);}Object[a41_0x302680(0x1a5)](exports,a41_0x302680(0x1d5),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a41_0x302680(0x1d7));class AmerService{constructor(){const _0x4f3091=a41_0x302680;this['apiUrl']='https://api2.trapay.uk',console['log'](_0x4f3091(0x1d0));}async[a41_0x302680(0x1bb)](_0x192bb7){const _0x474b7f=a41_0x302680,{paymentId:_0x3666f7,orderId:_0x2e0743,orderName:_0x4c3dfd,amount:_0x3b5a40,currency:_0x126960,usage:_0x1f74ea,maxPayments:_0x49a226,successUrl:_0x1ea41b,failUrl:_0x325740}=_0x192bb7,_0x1e71bd=_0x126960[_0x474b7f(0x1ba)]();console['log'](_0x474b7f(0x1b9)+_0x2e0743),console[_0x474b7f(0x1d6)](_0x474b7f(0x1c0)+_0x3b5a40+'\x20'+_0x1e71bd);try{const _0x27a9fc=this['apiUrl']+_0x474b7f(0x1bf)+_0x3666f7+_0x474b7f(0x1da)+_0x3b5a40+_0x474b7f(0x1c4)+_0x1e71bd+_0x474b7f(0x1b6)+_0x2e0743;return console[_0x474b7f(0x1d6)](_0x474b7f(0x1dc)),console['log'](_0x474b7f(0x1df),_0x3666f7),console[_0x474b7f(0x1d6)](_0x474b7f(0x1c7),_0x27a9fc),console[_0x474b7f(0x1d6)](_0x474b7f(0x1ce),_0x3b5a40,_0x1e71bd),loggerService_1[_0x474b7f(0x1af)][_0x474b7f(0x1c3)](_0x474b7f(0x1d4),_0x474b7f(0x1d2),'GET',{'paymentId':_0x3666f7,'amount':_0x3b5a40,'currency':_0x1e71bd,'orderId':_0x2e0743}),{'gateway_payment_id':_0x3666f7,'payment_url':_0x27a9fc};}catch(_0x5ba6f2){console[_0x474b7f(0x1b0)](_0x474b7f(0x1cc)),console['error'](_0x474b7f(0x1c8),_0x5ba6f2),loggerService_1[_0x474b7f(0x1af)][_0x474b7f(0x1dd)](_0x474b7f(0x1d4),_0x474b7f(0x1d2),_0x5ba6f2);if(_0x5ba6f2 instanceof Error){console[_0x474b7f(0x1b0)](_0x474b7f(0x1b1),_0x5ba6f2[_0x474b7f(0x1a8)]),console[_0x474b7f(0x1b0)](_0x474b7f(0x1b7),_0x5ba6f2[_0x474b7f(0x1a9)]);throw new Error(_0x474b7f(0x1db)+_0x5ba6f2[_0x474b7f(0x1a8)]);}throw new Error(_0x474b7f(0x1a4));}}async['verifyPayment'](_0x1543df){const _0x153a09=a41_0x302680;console[_0x153a09(0x1d6)](_0x153a09(0x1ca)+_0x1543df);try{return loggerService_1['loggerService']['logWhiteDomainRequest'](_0x153a09(0x1d4),'/payment/verify/'+_0x1543df,_0x153a09(0x1b8),{}),{'status':_0x153a09(0x1cb)};}catch(_0x24bc99){console[_0x153a09(0x1b0)](_0x153a09(0x1d1),_0x24bc99),loggerService_1['loggerService'][_0x153a09(0x1dd)](_0x153a09(0x1d4),'/payment/verify/'+_0x1543df,_0x24bc99);throw new Error(_0x153a09(0x1c6)+(_0x24bc99 instanceof Error?_0x24bc99[_0x153a09(0x1a8)]:_0x153a09(0x1ae)));}}async[a41_0x302680(0x1cf)](_0x375b8d){const _0x17ff5b=a41_0x302680;console['log']('Processing\x20Amer\x20webhook:',_0x375b8d);let _0x2b127b=_0x17ff5b(0x1cb);if(_0x375b8d[_0x17ff5b(0x1de)]===!![])_0x2b127b=_0x17ff5b(0x1c1);else _0x375b8d[_0x17ff5b(0x1de)]===![]&&(_0x2b127b='FAILED');const _0x16e885={};return _0x375b8d[_0x17ff5b(0x1b2)]&&(_0x16e885[_0x17ff5b(0x1b2)]=_0x375b8d[_0x17ff5b(0x1b2)]),_0x375b8d['paymentMethod']&&(_0x16e885[_0x17ff5b(0x1aa)]=_0x375b8d[_0x17ff5b(0x1aa)]),_0x375b8d[_0x17ff5b(0x1bc)]&&(_0x16e885['transactionId']=_0x375b8d[_0x17ff5b(0x1bc)],_0x16e885[_0x17ff5b(0x1ad)]=_0x375b8d[_0x17ff5b(0x1bc)]),console[_0x17ff5b(0x1d6)](_0x17ff5b(0x1ab)+_0x2b127b),{'paymentId':_0x375b8d[_0x17ff5b(0x1c2)]||_0x375b8d['orderId']||'','status':_0x2b127b,'amount':_0x375b8d[_0x17ff5b(0x1d8)],'currency':_0x375b8d[_0x17ff5b(0x1ac)],'additionalInfo':_0x16e885};}}exports[a41_0x302680(0x1be)]=AmerService;function a41_0x2449(){const _0x4bedf9=['üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','toUpperCase','createPaymentLink','transactionId','655518lQbrhi','AmerService','/payment.php?payment_id=','üí∞\x20Amount:\x20','PAID','paymentId','logWhiteDomainRequest','&currency=','4hljmJw','Failed\x20to\x20verify\x20Amer\x20payment:\x20','Payment\x20URL:','Error\x20details:','5710876lFrfug','üîç\x20Verifying\x20Amer\x20payment:\x20','PENDING','===\x20AMER\x20SERVICE\x20ERROR\x20===','52930MyEevg','Amount:','processWebhook','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Amer\x20payment\x20verification\x20error:','/payment','63VxwFUy','amer','__esModule','log','../loggerService','amount','72wluKqx','&amount=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','logWhiteDomainError','success','Payment\x20ID:','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','defineProperty','27865750auUnfR','721220PXekRh','message','stack','paymentMethod','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','currency','gatewayPaymentId','Unknown\x20error','loggerService','error','Error\x20message:','cardLast4','1008120bHklJY','382760xFpeXo','35EkqFvu','&order=','Error\x20stack:','GET'];a41_0x2449=function(){return _0x4bedf9;};return a41_0x2449();}