'use strict';function a41_0x2caf(){const _0xbbd131=['Error\x20stack:','83745WiKllR','Error\x20message:','gatewayPaymentId','üîç\x20Verifying\x20Amer\x20payment:\x20','FAILED','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','loggerService','Processing\x20Amer\x20webhook:','defineProperty','amer','Error\x20details:','apiUrl','/payment','AmerService','126370XqvsaO','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','552qhQJfz','logWhiteDomainError','/payment/verify/','currency','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','Failed\x20to\x20verify\x20Amer\x20payment:\x20','message','amount','99UTAWBc','&order=','error','transactionId','Amer\x20payment\x20verification\x20error:','&currency=','/payment.php?payment_id=','PENDING','paymentMethod','cardLast4','success','processWebhook','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','1wxgOXt','paymentId','orderId','__esModule','https://api2.trapay.uk','verifyPayment','GET','445280VcWZBq','log','===\x20AMER\x20SERVICE\x20ERROR\x20===','Payment\x20ID:','39027VCBcNQ','7924160RxOoIL','50533PknPgj','logWhiteDomainRequest','üí∞\x20Amount:\x20','808346TzMNYI'];a41_0x2caf=function(){return _0xbbd131;};return a41_0x2caf();}const a41_0x4da3a7=a41_0x3ccb;(function(_0x44db8f,_0x30a356){const _0x479b69=a41_0x3ccb,_0x2c436b=_0x44db8f();while(!![]){try{const _0x239837=-parseInt(_0x479b69(0x16a))/0x1*(-parseInt(_0x479b69(0x17a))/0x2)+parseInt(_0x479b69(0x175))/0x3+-parseInt(_0x479b69(0x171))/0x4+parseInt(_0x479b69(0x17c))/0x5+-parseInt(_0x479b69(0x154))/0x6*(parseInt(_0x479b69(0x177))/0x7)+parseInt(_0x479b69(0x176))/0x8+-parseInt(_0x479b69(0x15d))/0x9*(parseInt(_0x479b69(0x152))/0xa);if(_0x239837===_0x30a356)break;else _0x2c436b['push'](_0x2c436b['shift']());}catch(_0x457beb){_0x2c436b['push'](_0x2c436b['shift']());}}}(a41_0x2caf,0x7c818));Object[a41_0x4da3a7(0x184)](exports,a41_0x4da3a7(0x16d),{'value':!![]}),exports[a41_0x4da3a7(0x151)]=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0x31c602=a41_0x4da3a7;this[_0x31c602(0x187)]=_0x31c602(0x16e),console['log'](_0x31c602(0x181));}async['createPaymentLink'](_0x13d1e8){const _0x4dd12b=a41_0x4da3a7,{paymentId:_0x42208b,orderId:_0x51f44c,orderName:_0x415484,amount:_0x3d9f64,currency:_0x54805d,usage:_0x19b019,maxPayments:_0x206daf,successUrl:_0x29aa47,failUrl:_0x47cc94}=_0x13d1e8,_0x3c4f6a=_0x54805d['toUpperCase']();console['log']('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x51f44c),console[_0x4dd12b(0x172)](_0x4dd12b(0x179)+_0x3d9f64+'\x20'+_0x3c4f6a);try{const _0x34a333=this[_0x4dd12b(0x187)]+_0x4dd12b(0x163)+_0x42208b+'&amount='+_0x3d9f64+_0x4dd12b(0x162)+_0x3c4f6a+_0x4dd12b(0x15e)+_0x51f44c;return console[_0x4dd12b(0x172)](_0x4dd12b(0x153)),console['log'](_0x4dd12b(0x174),_0x42208b),console[_0x4dd12b(0x172)]('Payment\x20URL:',_0x34a333),console[_0x4dd12b(0x172)]('Amount:',_0x3d9f64,_0x3c4f6a),loggerService_1[_0x4dd12b(0x182)][_0x4dd12b(0x178)](_0x4dd12b(0x185),'/payment',_0x4dd12b(0x170),{'paymentId':_0x42208b,'amount':_0x3d9f64,'currency':_0x3c4f6a,'orderId':_0x51f44c}),{'gateway_payment_id':_0x42208b,'payment_url':_0x34a333};}catch(_0xd3480e){console[_0x4dd12b(0x15f)](_0x4dd12b(0x173)),console[_0x4dd12b(0x15f)](_0x4dd12b(0x186),_0xd3480e),loggerService_1['loggerService']['logWhiteDomainError'](_0x4dd12b(0x185),_0x4dd12b(0x150),_0xd3480e);if(_0xd3480e instanceof Error){console[_0x4dd12b(0x15f)](_0x4dd12b(0x17d),_0xd3480e[_0x4dd12b(0x15b)]),console[_0x4dd12b(0x15f)](_0x4dd12b(0x17b),_0xd3480e['stack']);throw new Error(_0x4dd12b(0x158)+_0xd3480e[_0x4dd12b(0x15b)]);}throw new Error(_0x4dd12b(0x159));}}async[a41_0x4da3a7(0x16f)](_0x345834){const _0x3c7371=a41_0x4da3a7;console[_0x3c7371(0x172)](_0x3c7371(0x17f)+_0x345834);try{return loggerService_1[_0x3c7371(0x182)][_0x3c7371(0x178)](_0x3c7371(0x185),_0x3c7371(0x156)+_0x345834,_0x3c7371(0x170),{}),{'status':_0x3c7371(0x164)};}catch(_0x361582){console[_0x3c7371(0x15f)](_0x3c7371(0x161),_0x361582),loggerService_1[_0x3c7371(0x182)][_0x3c7371(0x155)](_0x3c7371(0x185),_0x3c7371(0x156)+_0x345834,_0x361582);throw new Error(_0x3c7371(0x15a)+(_0x361582 instanceof Error?_0x361582[_0x3c7371(0x15b)]:'Unknown\x20error'));}}async[a41_0x4da3a7(0x168)](_0x4d772b){const _0xa7220a=a41_0x4da3a7;console[_0xa7220a(0x172)](_0xa7220a(0x183),_0x4d772b);let _0x7d244c=_0xa7220a(0x164);if(_0x4d772b[_0xa7220a(0x167)]===!![])_0x7d244c='PAID';else _0x4d772b[_0xa7220a(0x167)]===![]&&(_0x7d244c=_0xa7220a(0x180));const _0xe8eb64={};return _0x4d772b[_0xa7220a(0x166)]&&(_0xe8eb64[_0xa7220a(0x166)]=_0x4d772b[_0xa7220a(0x166)]),_0x4d772b[_0xa7220a(0x165)]&&(_0xe8eb64[_0xa7220a(0x165)]=_0x4d772b[_0xa7220a(0x165)]),_0x4d772b[_0xa7220a(0x160)]&&(_0xe8eb64[_0xa7220a(0x160)]=_0x4d772b[_0xa7220a(0x160)],_0xe8eb64[_0xa7220a(0x17e)]=_0x4d772b['transactionId']),console['log'](_0xa7220a(0x169)+_0x7d244c),{'paymentId':_0x4d772b[_0xa7220a(0x16b)]||_0x4d772b[_0xa7220a(0x16c)]||'','status':_0x7d244c,'amount':_0x4d772b[_0xa7220a(0x15c)],'currency':_0x4d772b[_0xa7220a(0x157)],'additionalInfo':_0xe8eb64};}}function a41_0x3ccb(_0xbebb49,_0x5dae45){const _0x2cafb7=a41_0x2caf();return a41_0x3ccb=function(_0x3ccbac,_0x29c57e){_0x3ccbac=_0x3ccbac-0x150;let _0x401ce8=_0x2cafb7[_0x3ccbac];return _0x401ce8;},a41_0x3ccb(_0xbebb49,_0x5dae45);}exports[a41_0x4da3a7(0x151)]=AmerService;