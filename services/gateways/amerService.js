'use strict';const a41_0x56c6d4=a41_0x337b;(function(_0x42ce41,_0x3855c4){const _0x55998b=a41_0x337b,_0x3c9814=_0x42ce41();while(!![]){try{const _0x24dcf4=parseInt(_0x55998b(0xe0))/0x1+parseInt(_0x55998b(0xae))/0x2+-parseInt(_0x55998b(0xb1))/0x3+parseInt(_0x55998b(0xd8))/0x4*(-parseInt(_0x55998b(0xb2))/0x5)+parseInt(_0x55998b(0xd1))/0x6*(parseInt(_0x55998b(0xc2))/0x7)+-parseInt(_0x55998b(0xd0))/0x8*(parseInt(_0x55998b(0xb8))/0x9)+parseInt(_0x55998b(0xbd))/0xa;if(_0x24dcf4===_0x3855c4)break;else _0x3c9814['push'](_0x3c9814['shift']());}catch(_0x546a63){_0x3c9814['push'](_0x3c9814['shift']());}}}(a41_0x30c2,0x4ad37));Object[a41_0x56c6d4(0xb9)](exports,'__esModule',{'value':!![]}),exports[a41_0x56c6d4(0xc0)]=void 0x0;function a41_0x337b(_0x31d117,_0x466a38){const _0x30c20d=a41_0x30c2();return a41_0x337b=function(_0x337bd2,_0x107b0f){_0x337bd2=_0x337bd2-0xa6;let _0x43c1e7=_0x30c20d[_0x337bd2];return _0x43c1e7;},a41_0x337b(_0x31d117,_0x466a38);}const loggerService_1=require(a41_0x56c6d4(0xc8));class AmerService{constructor(){const _0x1a385c=a41_0x56c6d4;this[_0x1a385c(0xb4)]=_0x1a385c(0xcb),console[_0x1a385c(0xa6)](_0x1a385c(0xbc));}async[a41_0x56c6d4(0xc6)](_0x2d1159){const _0x584dff=a41_0x56c6d4,{paymentId:_0x5e9b28,orderId:_0x510bd2,orderName:_0xea19e0,amount:_0x23d48d,currency:_0x18230d,usage:_0x1d0c4a,maxPayments:_0x1f2632,successUrl:_0x2ed4ac,failUrl:_0x5f551e}=_0x2d1159,_0x215de1=_0x18230d['toUpperCase']();console['log'](_0x584dff(0xc5)+_0x510bd2),console[_0x584dff(0xa6)](_0x584dff(0xc7)+_0x23d48d+'\x20'+_0x215de1);try{const _0x17e893=this[_0x584dff(0xb4)]+_0x584dff(0xb6)+_0x5e9b28+_0x584dff(0xd2)+_0x23d48d+_0x584dff(0xdd)+_0x215de1+'&order='+_0x510bd2;return console[_0x584dff(0xa6)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console['log'](_0x584dff(0xd4),_0x5e9b28),console[_0x584dff(0xa6)](_0x584dff(0xbb),_0x17e893),console['log'](_0x584dff(0xc9),_0x23d48d,_0x215de1),loggerService_1[_0x584dff(0xd5)]['logWhiteDomainRequest']('amer',_0x584dff(0xaa),'GET',{'paymentId':_0x5e9b28,'amount':_0x23d48d,'currency':_0x215de1,'orderId':_0x510bd2}),{'gateway_payment_id':_0x5e9b28,'payment_url':_0x17e893};}catch(_0x270b15){console['error'](_0x584dff(0xb3)),console[_0x584dff(0xd7)]('Error\x20details:',_0x270b15),loggerService_1[_0x584dff(0xd5)][_0x584dff(0xc1)](_0x584dff(0xd6),_0x584dff(0xaa),_0x270b15);if(_0x270b15 instanceof Error){console['error']('Error\x20message:',_0x270b15[_0x584dff(0xa9)]),console[_0x584dff(0xd7)](_0x584dff(0xba),_0x270b15[_0x584dff(0xca)]);throw new Error(_0x584dff(0xd3)+_0x270b15[_0x584dff(0xa9)]);}throw new Error(_0x584dff(0xcf));}}async[a41_0x56c6d4(0xc4)](_0x14c4bf){const _0x28a2f9=a41_0x56c6d4;console[_0x28a2f9(0xa6)](_0x28a2f9(0xaf)+_0x14c4bf);try{return loggerService_1[_0x28a2f9(0xd5)][_0x28a2f9(0xdb)]('amer',_0x28a2f9(0xd9)+_0x14c4bf,_0x28a2f9(0xc3),{}),{'status':'PENDING'};}catch(_0x351884){console[_0x28a2f9(0xd7)](_0x28a2f9(0xab),_0x351884),loggerService_1[_0x28a2f9(0xd5)][_0x28a2f9(0xc1)](_0x28a2f9(0xd6),'/payment/verify/'+_0x14c4bf,_0x351884);throw new Error(_0x28a2f9(0xda)+(_0x351884 instanceof Error?_0x351884[_0x28a2f9(0xa9)]:_0x28a2f9(0xac)));}}async['processWebhook'](_0xb649aa){const _0x3ce157=a41_0x56c6d4;console[_0x3ce157(0xa6)](_0x3ce157(0xdc),_0xb649aa);let _0x5c1e78=_0x3ce157(0xde);if(_0xb649aa[_0x3ce157(0xcc)]===!![])_0x5c1e78=_0x3ce157(0xa7);else _0xb649aa[_0x3ce157(0xcc)]===![]&&(_0x5c1e78=_0x3ce157(0xbf));const _0x333080={};return _0xb649aa[_0x3ce157(0xdf)]&&(_0x333080[_0x3ce157(0xdf)]=_0xb649aa[_0x3ce157(0xdf)]),_0xb649aa[_0x3ce157(0xb7)]&&(_0x333080[_0x3ce157(0xb7)]=_0xb649aa[_0x3ce157(0xb7)]),_0xb649aa['transactionId']&&(_0x333080[_0x3ce157(0xb5)]=_0xb649aa['transactionId'],_0x333080[_0x3ce157(0xad)]=_0xb649aa['transactionId']),console[_0x3ce157(0xa6)](_0x3ce157(0xcd)+_0x5c1e78),{'paymentId':_0xb649aa[_0x3ce157(0xa8)]||_0xb649aa[_0x3ce157(0xce)]||'','status':_0x5c1e78,'amount':_0xb649aa[_0x3ce157(0xb0)],'currency':_0xb649aa[_0x3ce157(0xbe)],'additionalInfo':_0x333080};}}function a41_0x30c2(){const _0x1267b6=['Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','1282376hcnESZ','84654jqQnhz','&amount=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Payment\x20ID:','loggerService','amer','error','36YdOJsb','/payment/verify/','Failed\x20to\x20verify\x20Amer\x20payment:\x20','logWhiteDomainRequest','Processing\x20Amer\x20webhook:','&currency=','PENDING','cardLast4','117597JqAfkT','log','PAID','paymentId','message','/payment','Amer\x20payment\x20verification\x20error:','Unknown\x20error','gatewayPaymentId','269380ldkKjV','üîç\x20Verifying\x20Amer\x20payment:\x20','amount','1167468Iojrjb','288505hbIVfr','===\x20AMER\x20SERVICE\x20ERROR\x20===','apiUrl','transactionId','/payment.php?payment_id=','paymentMethod','27pXqpeH','defineProperty','Error\x20stack:','Payment\x20URL:','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','10908310grYoZF','currency','FAILED','AmerService','logWhiteDomainError','175ZrhmFc','GET','verifyPayment','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','createPaymentLink','üí∞\x20Amount:\x20','../loggerService','Amount:','stack','https://api2.trapay.uk','success','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','orderId'];a41_0x30c2=function(){return _0x1267b6;};return a41_0x30c2();}exports[a41_0x56c6d4(0xc0)]=AmerService;