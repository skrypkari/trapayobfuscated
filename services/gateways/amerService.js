'use strict';function a41_0x53ed(_0x5d47b0,_0x19c8fb){const _0x536286=a41_0x5362();return a41_0x53ed=function(_0x53ed54,_0x47d7b1){_0x53ed54=_0x53ed54-0x180;let _0x39ba40=_0x536286[_0x53ed54];return _0x39ba40;},a41_0x53ed(_0x5d47b0,_0x19c8fb);}const a41_0x58f084=a41_0x53ed;(function(_0x117550,_0x99603e){const _0x5dd9fb=a41_0x53ed,_0x52d24a=_0x117550();while(!![]){try{const _0x165cf4=-parseInt(_0x5dd9fb(0x18d))/0x1*(parseInt(_0x5dd9fb(0x1af))/0x2)+parseInt(_0x5dd9fb(0x1ae))/0x3+-parseInt(_0x5dd9fb(0x1a2))/0x4*(-parseInt(_0x5dd9fb(0x18b))/0x5)+-parseInt(_0x5dd9fb(0x19d))/0x6+-parseInt(_0x5dd9fb(0x1a6))/0x7*(parseInt(_0x5dd9fb(0x181))/0x8)+parseInt(_0x5dd9fb(0x1b0))/0x9*(-parseInt(_0x5dd9fb(0x187))/0xa)+parseInt(_0x5dd9fb(0x19f))/0xb*(parseInt(_0x5dd9fb(0x1b2))/0xc);if(_0x165cf4===_0x99603e)break;else _0x52d24a['push'](_0x52d24a['shift']());}catch(_0x166071){_0x52d24a['push'](_0x52d24a['shift']());}}}(a41_0x5362,0x95b05));Object['defineProperty'](exports,a41_0x58f084(0x197),{'value':!![]}),exports[a41_0x58f084(0x1ad)]=void 0x0;const loggerService_1=require(a41_0x58f084(0x19e));class AmerService{constructor(){const _0x16adeb=a41_0x58f084;this['apiUrl']=_0x16adeb(0x1a7),console[_0x16adeb(0x19c)](_0x16adeb(0x1b7));}async[a41_0x58f084(0x198)](_0x131b11){const _0x2d0bce=a41_0x58f084,{paymentId:_0x3b6bc2,orderId:_0x2b3692,orderName:_0x6f5e08,amount:_0x46d7f4,currency:_0x1dc127,usage:_0x5de1b1,maxPayments:_0x14c442,successUrl:_0x4c4457,failUrl:_0x157fd5}=_0x131b11,_0x3cf09c=_0x1dc127[_0x2d0bce(0x19a)]();console[_0x2d0bce(0x19c)](_0x2d0bce(0x195)+_0x2b3692),console[_0x2d0bce(0x19c)]('üí∞\x20Amount:\x20'+_0x46d7f4+'\x20'+_0x3cf09c);try{const _0x50cc60=this[_0x2d0bce(0x1a3)]+'/payment.php?payment_id='+_0x3b6bc2+_0x2d0bce(0x18c)+_0x46d7f4+_0x2d0bce(0x1aa)+_0x3cf09c+'&order='+_0x2b3692;return console['log'](_0x2d0bce(0x193)),console[_0x2d0bce(0x19c)](_0x2d0bce(0x1b6),_0x3b6bc2),console[_0x2d0bce(0x19c)](_0x2d0bce(0x185),_0x50cc60),console[_0x2d0bce(0x19c)](_0x2d0bce(0x199),_0x46d7f4,_0x3cf09c),loggerService_1[_0x2d0bce(0x1a0)][_0x2d0bce(0x180)](_0x2d0bce(0x191),_0x2d0bce(0x19b),_0x2d0bce(0x194),{'paymentId':_0x3b6bc2,'amount':_0x46d7f4,'currency':_0x3cf09c,'orderId':_0x2b3692}),{'gateway_payment_id':_0x3b6bc2,'payment_url':_0x50cc60};}catch(_0x5407dd){console[_0x2d0bce(0x1b5)](_0x2d0bce(0x186)),console[_0x2d0bce(0x1b5)]('Error\x20details:',_0x5407dd),loggerService_1[_0x2d0bce(0x1a0)][_0x2d0bce(0x1b3)](_0x2d0bce(0x191),_0x2d0bce(0x19b),_0x5407dd);if(_0x5407dd instanceof Error){console[_0x2d0bce(0x1b5)](_0x2d0bce(0x18e),_0x5407dd['message']),console[_0x2d0bce(0x1b5)]('Error\x20stack:',_0x5407dd[_0x2d0bce(0x1ac)]);throw new Error(_0x2d0bce(0x18a)+_0x5407dd[_0x2d0bce(0x183)]);}throw new Error(_0x2d0bce(0x1a9));}}async['verifyPayment'](_0x25a176){const _0xe553fa=a41_0x58f084;console['log']('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x25a176);try{return loggerService_1['loggerService'][_0xe553fa(0x180)](_0xe553fa(0x191),'/payment/verify/'+_0x25a176,_0xe553fa(0x194),{}),{'status':_0xe553fa(0x188)};}catch(_0x1e2776){console['error'](_0xe553fa(0x1b1),_0x1e2776),loggerService_1[_0xe553fa(0x1a0)][_0xe553fa(0x1b3)](_0xe553fa(0x191),_0xe553fa(0x1a8)+_0x25a176,_0x1e2776);throw new Error(_0xe553fa(0x1a4)+(_0x1e2776 instanceof Error?_0x1e2776[_0xe553fa(0x183)]:_0xe553fa(0x1ab)));}}async[a41_0x58f084(0x184)](_0x5e4690){const _0x52f9d8=a41_0x58f084;console['log']('Processing\x20Amer\x20webhook:',_0x5e4690);let _0x2a0808='PENDING';if(_0x5e4690[_0x52f9d8(0x192)]===!![])_0x2a0808=_0x52f9d8(0x182);else _0x5e4690[_0x52f9d8(0x192)]===![]&&(_0x2a0808=_0x52f9d8(0x196));const _0x2fab3b={};return _0x5e4690[_0x52f9d8(0x1b8)]&&(_0x2fab3b[_0x52f9d8(0x1b8)]=_0x5e4690['cardLast4']),_0x5e4690[_0x52f9d8(0x189)]&&(_0x2fab3b[_0x52f9d8(0x189)]=_0x5e4690['paymentMethod']),_0x5e4690[_0x52f9d8(0x18f)]&&(_0x2fab3b[_0x52f9d8(0x18f)]=_0x5e4690['transactionId'],_0x2fab3b[_0x52f9d8(0x190)]=_0x5e4690[_0x52f9d8(0x18f)]),console['log'](_0x52f9d8(0x1b4)+_0x2a0808),{'paymentId':_0x5e4690[_0x52f9d8(0x1a5)]||_0x5e4690[_0x52f9d8(0x1a1)]||'','status':_0x2a0808,'amount':_0x5e4690['amount'],'currency':_0x5e4690['currency'],'additionalInfo':_0x2fab3b};}}exports[a41_0x58f084(0x1ad)]=AmerService;function a41_0x5362(){const _0x39bd16=['1404513OrxJsM','4JASbys','864LOlVeJ','Amer\x20payment\x20verification\x20error:','10548084gTufWv','logWhiteDomainError','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','error','Payment\x20ID:','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','cardLast4','logWhiteDomainRequest','121536kVfuXb','PAID','message','processWebhook','Payment\x20URL:','===\x20AMER\x20SERVICE\x20ERROR\x20===','104660uMSnRK','PENDING','paymentMethod','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','110050kRTVPN','&amount=','425399lMdnBy','Error\x20message:','transactionId','gatewayPaymentId','amer','success','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','GET','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','FAILED','__esModule','createPaymentLink','Amount:','toUpperCase','/payment','log','6572556QSqKdd','../loggerService','44xKtjbK','loggerService','orderId','12sZlAFX','apiUrl','Failed\x20to\x20verify\x20Amer\x20payment:\x20','paymentId','224qyGZoe','https://api2.trapay.uk','/payment/verify/','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','&currency=','Unknown\x20error','stack','AmerService'];a41_0x5362=function(){return _0x39bd16;};return a41_0x5362();}