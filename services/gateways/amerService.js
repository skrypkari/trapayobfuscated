'use strict';const a61_0xfb80d8=a61_0xd4e7;(function(_0x41709c,_0x222249){const _0x4a3e92=a61_0xd4e7,_0x137d8a=_0x41709c();while(!![]){try{const _0x5dcd5e=parseInt(_0x4a3e92(0x96))/0x1+-parseInt(_0x4a3e92(0x98))/0x2+-parseInt(_0x4a3e92(0x6e))/0x3+parseInt(_0x4a3e92(0x7f))/0x4*(parseInt(_0x4a3e92(0x9f))/0x5)+-parseInt(_0x4a3e92(0x89))/0x6*(parseInt(_0x4a3e92(0x9c))/0x7)+-parseInt(_0x4a3e92(0x8b))/0x8+parseInt(_0x4a3e92(0x7d))/0x9*(parseInt(_0x4a3e92(0x8a))/0xa);if(_0x5dcd5e===_0x222249)break;else _0x137d8a['push'](_0x137d8a['shift']());}catch(_0x44c7cf){_0x137d8a['push'](_0x137d8a['shift']());}}}(a61_0x5ba9,0x2626a));Object['defineProperty'](exports,a61_0xfb80d8(0x87),{'value':!![]}),exports[a61_0xfb80d8(0x8e)]=void 0x0;function a61_0xd4e7(_0x499682,_0x2e200d){_0x499682=_0x499682-0x6b;const _0x5ba958=a61_0x5ba9();let _0xd4e783=_0x5ba958[_0x499682];return _0xd4e783;}const loggerService_1=require(a61_0xfb80d8(0x97));class AmerService{constructor(){const _0x559ead=a61_0xfb80d8;this[_0x559ead(0x9a)]=_0x559ead(0x80),console[_0x559ead(0x73)](_0x559ead(0x6c));}async[a61_0xfb80d8(0x93)](_0x46df85){const _0x4163fd=a61_0xfb80d8,{paymentId:_0x8d675d,orderId:_0x48c358,orderName:_0x43cdbe,amount:_0x170763,currency:_0x5e8cfe,usage:_0x18b9d9,maxPayments:_0x16b454,successUrl:_0x5496e2,failUrl:_0x1d020f}=_0x46df85,_0x4298bf=_0x5e8cfe[_0x4163fd(0x79)]();console[_0x4163fd(0x73)](_0x4163fd(0x82)+_0x48c358),console[_0x4163fd(0x73)]('üí∞\x20Amount:\x20'+_0x170763+'\x20'+_0x4298bf);try{const _0x37569c=this[_0x4163fd(0x9a)]+_0x4163fd(0x7e)+_0x8d675d+_0x4163fd(0x70)+_0x170763+'&currency='+_0x4298bf+'&order='+_0x48c358;return console[_0x4163fd(0x73)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x4163fd(0x73)](_0x4163fd(0x6b),_0x8d675d),console[_0x4163fd(0x73)](_0x4163fd(0x71),_0x37569c),console[_0x4163fd(0x73)]('Amount:',_0x170763,_0x4298bf),loggerService_1['loggerService']['logWhiteDomainRequest']('amer',_0x4163fd(0x7c),_0x4163fd(0x95),{'paymentId':_0x8d675d,'amount':_0x170763,'currency':_0x4298bf,'orderId':_0x48c358}),{'gateway_payment_id':_0x8d675d,'payment_url':_0x37569c};}catch(_0x1eab55){console['error'](_0x4163fd(0x86)),console[_0x4163fd(0x78)](_0x4163fd(0x90),_0x1eab55),loggerService_1['loggerService'][_0x4163fd(0x92)](_0x4163fd(0x83),_0x4163fd(0x7c),_0x1eab55);if(_0x1eab55 instanceof Error){console['error'](_0x4163fd(0x8c),_0x1eab55['message']),console[_0x4163fd(0x78)](_0x4163fd(0x74),_0x1eab55[_0x4163fd(0x81)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x1eab55[_0x4163fd(0x84)]);}throw new Error(_0x4163fd(0x7a));}}async[a61_0xfb80d8(0x9d)](_0x7b13c9){const _0x53098c=a61_0xfb80d8;console[_0x53098c(0x73)](_0x53098c(0x77)+_0x7b13c9);try{return loggerService_1[_0x53098c(0x94)][_0x53098c(0x88)](_0x53098c(0x83),_0x53098c(0x76)+_0x7b13c9,'GET',{}),{'status':'PENDING'};}catch(_0xee4ee3){console[_0x53098c(0x78)](_0x53098c(0x6f),_0xee4ee3),loggerService_1[_0x53098c(0x94)]['logWhiteDomainError']('amer',_0x53098c(0x76)+_0x7b13c9,_0xee4ee3);throw new Error(_0x53098c(0x8d)+(_0xee4ee3 instanceof Error?_0xee4ee3['message']:_0x53098c(0x85)));}}async['processWebhook'](_0x5aed13){const _0x4aace5=a61_0xfb80d8;console[_0x4aace5(0x73)](_0x4aace5(0x7b),_0x5aed13);let _0x25c57f='PENDING';if(_0x5aed13[_0x4aace5(0x72)]===!![])_0x25c57f='PAID';else _0x5aed13['success']===![]&&(_0x25c57f='FAILED');const _0x3a4d51={};return _0x5aed13[_0x4aace5(0x9e)]&&(_0x3a4d51[_0x4aace5(0x9e)]=_0x5aed13[_0x4aace5(0x9e)]),_0x5aed13[_0x4aace5(0x9b)]&&(_0x3a4d51['paymentMethod']=_0x5aed13[_0x4aace5(0x9b)]),_0x5aed13[_0x4aace5(0x6d)]&&(_0x3a4d51[_0x4aace5(0x6d)]=_0x5aed13[_0x4aace5(0x6d)],_0x3a4d51['gatewayPaymentId']=_0x5aed13[_0x4aace5(0x6d)]),console[_0x4aace5(0x73)](_0x4aace5(0x99)+_0x25c57f),{'paymentId':_0x5aed13['paymentId']||_0x5aed13[_0x4aace5(0x75)]||'','status':_0x25c57f,'amount':_0x5aed13[_0x4aace5(0x91)],'currency':_0x5aed13[_0x4aace5(0x8f)],'additionalInfo':_0x3a4d51};}}exports[a61_0xfb80d8(0x8e)]=AmerService;function a61_0x5ba9(){const _0x39330f=['transactionId','548550SRxxBF','Amer\x20payment\x20verification\x20error:','&amount=','Payment\x20URL:','success','log','Error\x20stack:','orderId','/payment/verify/','üîç\x20Verifying\x20Amer\x20payment:\x20','error','toUpperCase','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','Processing\x20Amer\x20webhook:','/payment','9RnEOSf','/payment.php?payment_id=','10076NLdwAP','https://api2.trapay.uk','stack','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','amer','message','Unknown\x20error','===\x20AMER\x20SERVICE\x20ERROR\x20===','__esModule','logWhiteDomainRequest','30ixNbjX','2059510yoVjgF','327008CIphTy','Error\x20message:','Failed\x20to\x20verify\x20Amer\x20payment:\x20','AmerService','currency','Error\x20details:','amount','logWhiteDomainError','createPaymentLink','loggerService','GET','107709XbhfEZ','../loggerService','90688dbTeGo','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','apiUrl','paymentMethod','228053xIUBAp','verifyPayment','cardLast4','545djwrJH','Payment\x20ID:','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain'];a61_0x5ba9=function(){return _0x39330f;};return a61_0x5ba9();}