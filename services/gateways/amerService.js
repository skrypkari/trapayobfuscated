'use strict';function a43_0x2fae(_0xb5d927,_0xde3c7c){const _0x191a3b=a43_0x191a();return a43_0x2fae=function(_0x2fae3c,_0x2d838d){_0x2fae3c=_0x2fae3c-0xc0;let _0x4cddb2=_0x191a3b[_0x2fae3c];return _0x4cddb2;},a43_0x2fae(_0xb5d927,_0xde3c7c);}const a43_0x14be7f=a43_0x2fae;(function(_0x5ac589,_0x540bfa){const _0x41a666=a43_0x2fae,_0x499438=_0x5ac589();while(!![]){try{const _0x5eb9ed=parseInt(_0x41a666(0xf1))/0x1*(-parseInt(_0x41a666(0xe5))/0x2)+-parseInt(_0x41a666(0xeb))/0x3*(-parseInt(_0x41a666(0xd2))/0x4)+-parseInt(_0x41a666(0xd7))/0x5+-parseInt(_0x41a666(0xe3))/0x6*(parseInt(_0x41a666(0xd1))/0x7)+parseInt(_0x41a666(0xf7))/0x8*(-parseInt(_0x41a666(0xf6))/0x9)+parseInt(_0x41a666(0xdc))/0xa*(parseInt(_0x41a666(0xe0))/0xb)+parseInt(_0x41a666(0xe2))/0xc*(parseInt(_0x41a666(0xfc))/0xd);if(_0x5eb9ed===_0x540bfa)break;else _0x499438['push'](_0x499438['shift']());}catch(_0x28d121){_0x499438['push'](_0x499438['shift']());}}}(a43_0x191a,0x46b1c));Object[a43_0x14be7f(0xcb)](exports,a43_0x14be7f(0xdb),{'value':!![]}),exports['AmerService']=void 0x0;function a43_0x191a(){const _0x2b4d37=['Processing\x20Amer\x20webhook:','2084863egJKEc','Error\x20stack:','14736UDijKy','11796lETgFz','===\x20AMER\x20SERVICE\x20ERROR\x20===','4pBpboq','../loggerService','paymentId','GET','loggerService','PENDING','10158ZaTkuf','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','orderId','/payment.php?payment_id=','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Error\x20message:','225408MUygJO','log','&currency=','message','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','1265247ffGnmE','8lJUGaS','success','amer','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','createPaymentLink','11531pJeMQn','https://api2.trapay.uk','apiUrl','stack','cardLast4','/payment/verify/','toUpperCase','currency','Error\x20details:','transactionId','error','processWebhook','defineProperty','Unknown\x20error','&amount=','üîç\x20Verifying\x20Amer\x20payment:\x20','Payment\x20URL:','verifyPayment','1589Hfgvbs','92ZRVQHK','paymentMethod','logWhiteDomainRequest','Failed\x20to\x20verify\x20Amer\x20payment:\x20','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','147010WKmqgF','üí∞\x20Amount:\x20','&order=','AmerService','__esModule','10UjNWxu','FAILED','/payment'];a43_0x191a=function(){return _0x2b4d37;};return a43_0x191a();}const loggerService_1=require(a43_0x14be7f(0xe6));class AmerService{constructor(){const _0x210d39=a43_0x14be7f;this[_0x210d39(0xc1)]=_0x210d39(0xc0),console[_0x210d39(0xf2)](_0x210d39(0xef));}async[a43_0x14be7f(0xfb)](_0x5ef6e7){const _0x4b51db=a43_0x14be7f,{paymentId:_0xf10d57,orderId:_0x3e0728,orderName:_0x46c571,amount:_0x31b2a4,currency:_0x3f095b,usage:_0x28f512,maxPayments:_0xae1ff5,successUrl:_0x47494b,failUrl:_0x150953}=_0x5ef6e7,_0x5242b0=_0x3f095b[_0x4b51db(0xc5)]();console[_0x4b51db(0xf2)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x3e0728),console['log'](_0x4b51db(0xd8)+_0x31b2a4+'\x20'+_0x5242b0);try{const _0x5df356=this[_0x4b51db(0xc1)]+_0x4b51db(0xee)+_0xf10d57+_0x4b51db(0xcd)+_0x31b2a4+_0x4b51db(0xf3)+_0x5242b0+_0x4b51db(0xd9)+_0x3e0728;return console[_0x4b51db(0xf2)](_0x4b51db(0xf5)),console[_0x4b51db(0xf2)]('Payment\x20ID:',_0xf10d57),console['log'](_0x4b51db(0xcf),_0x5df356),console[_0x4b51db(0xf2)]('Amount:',_0x31b2a4,_0x5242b0),loggerService_1[_0x4b51db(0xe9)][_0x4b51db(0xd4)](_0x4b51db(0xf9),'/payment','GET',{'paymentId':_0xf10d57,'amount':_0x31b2a4,'currency':_0x5242b0,'orderId':_0x3e0728}),{'gateway_payment_id':_0xf10d57,'payment_url':_0x5df356};}catch(_0x24c21e){console[_0x4b51db(0xc9)](_0x4b51db(0xe4)),console[_0x4b51db(0xc9)](_0x4b51db(0xc7),_0x24c21e),loggerService_1[_0x4b51db(0xe9)]['logWhiteDomainError']('amer',_0x4b51db(0xde),_0x24c21e);if(_0x24c21e instanceof Error){console['error'](_0x4b51db(0xf0),_0x24c21e['message']),console['error'](_0x4b51db(0xe1),_0x24c21e[_0x4b51db(0xc2)]);throw new Error(_0x4b51db(0xfa)+_0x24c21e['message']);}throw new Error(_0x4b51db(0xec));}}async[a43_0x14be7f(0xd0)](_0x3018ea){const _0x1b75e3=a43_0x14be7f;console[_0x1b75e3(0xf2)](_0x1b75e3(0xce)+_0x3018ea);try{return loggerService_1['loggerService'][_0x1b75e3(0xd4)](_0x1b75e3(0xf9),'/payment/verify/'+_0x3018ea,_0x1b75e3(0xe8),{}),{'status':_0x1b75e3(0xea)};}catch(_0x3a5efe){console[_0x1b75e3(0xc9)]('Amer\x20payment\x20verification\x20error:',_0x3a5efe),loggerService_1[_0x1b75e3(0xe9)]['logWhiteDomainError'](_0x1b75e3(0xf9),_0x1b75e3(0xc4)+_0x3018ea,_0x3a5efe);throw new Error(_0x1b75e3(0xd5)+(_0x3a5efe instanceof Error?_0x3a5efe[_0x1b75e3(0xf4)]:_0x1b75e3(0xcc)));}}async[a43_0x14be7f(0xca)](_0x438c58){const _0x5be83a=a43_0x14be7f;console['log'](_0x5be83a(0xdf),_0x438c58);let _0x251020=_0x5be83a(0xea);if(_0x438c58[_0x5be83a(0xf8)]===!![])_0x251020='PAID';else _0x438c58[_0x5be83a(0xf8)]===![]&&(_0x251020=_0x5be83a(0xdd));const _0x17e9d3={};return _0x438c58['cardLast4']&&(_0x17e9d3[_0x5be83a(0xc3)]=_0x438c58[_0x5be83a(0xc3)]),_0x438c58[_0x5be83a(0xd3)]&&(_0x17e9d3['paymentMethod']=_0x438c58[_0x5be83a(0xd3)]),_0x438c58[_0x5be83a(0xc8)]&&(_0x17e9d3['transactionId']=_0x438c58[_0x5be83a(0xc8)],_0x17e9d3['gatewayPaymentId']=_0x438c58[_0x5be83a(0xc8)]),console[_0x5be83a(0xf2)](_0x5be83a(0xd6)+_0x251020),{'paymentId':_0x438c58[_0x5be83a(0xe7)]||_0x438c58[_0x5be83a(0xed)]||'','status':_0x251020,'amount':_0x438c58['amount'],'currency':_0x438c58[_0x5be83a(0xc6)],'additionalInfo':_0x17e9d3};}}exports[a43_0x14be7f(0xda)]=AmerService;