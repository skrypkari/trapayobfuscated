'use strict';const a57_0x28e605=a57_0x4f49;function a57_0x1194(){const _0x50170c=['/payment/verify/','GET','Error\x20stack:','PENDING','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','üí∞\x20Amount:\x20','log','PAID','transactionId','apiUrl','toUpperCase','logWhiteDomainError','verifyPayment','error','logWhiteDomainRequest','Amer\x20payment\x20verification\x20error:','üîç\x20Verifying\x20Amer\x20payment:\x20','paymentId','currency','amount','18583296YLOvXJ','9272060dUMOBr','2382304KgBSDR','Error\x20message:','3212124VqcWNP','Failed\x20to\x20verify\x20Amer\x20payment:\x20','2618042mmwGsX','&amount=','processWebhook','paymentMethod','FAILED','__esModule','Processing\x20Amer\x20webhook:','message','cardLast4','AmerService','3174578ejtcPl','188027xTNWkw','Payment\x20ID:','../loggerService','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','loggerService','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','defineProperty','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','https://api2.trapay.uk','===\x20AMER\x20SERVICE\x20ERROR\x20===','6VHMZpj','amer'];a57_0x1194=function(){return _0x50170c;};return a57_0x1194();}(function(_0x2bb85f,_0x79adea){const _0x5ca828=a57_0x4f49,_0xa009e7=_0x2bb85f();while(!![]){try{const _0x1278e3=parseInt(_0x5ca828(0x104))/0x1+parseInt(_0x5ca828(0x103))/0x2+-parseInt(_0x5ca828(0xf7))/0x3+-parseInt(_0x5ca828(0xf5))/0x4+-parseInt(_0x5ca828(0xf4))/0x5+-parseInt(_0x5ca828(0x10f))/0x6*(-parseInt(_0x5ca828(0xf9))/0x7)+parseInt(_0x5ca828(0xf3))/0x8;if(_0x1278e3===_0x79adea)break;else _0xa009e7['push'](_0xa009e7['shift']());}catch(_0x5063fb){_0xa009e7['push'](_0xa009e7['shift']());}}}(a57_0x1194,0xe84f2));Object[a57_0x28e605(0x10a)](exports,a57_0x28e605(0xfe),{'value':!![]}),exports[a57_0x28e605(0x102)]=void 0x0;const loggerService_1=require(a57_0x28e605(0x106));function a57_0x4f49(_0xbf0a90,_0x4a5635){_0xbf0a90=_0xbf0a90-0xdf;const _0x11945f=a57_0x1194();let _0x4f493f=_0x11945f[_0xbf0a90];return _0x4f493f;}class AmerService{constructor(){const _0x263ee8=a57_0x28e605;this['apiUrl']=_0x263ee8(0x10d),console['log'](_0x263ee8(0x107));}async['createPaymentLink'](_0x256474){const _0x3eed3a=a57_0x28e605,{paymentId:_0x19b18a,orderId:_0x2a5d92,orderName:_0x929641,amount:_0x3554d2,currency:_0x4f1a72,usage:_0x3951d9,maxPayments:_0x165223,successUrl:_0x4a7201,failUrl:_0x1aed02}=_0x256474,_0x4b63be=_0x4f1a72[_0x3eed3a(0xe9)]();console['log'](_0x3eed3a(0xe3)+_0x2a5d92),console[_0x3eed3a(0xe5)](_0x3eed3a(0xe4)+_0x3554d2+'\x20'+_0x4b63be);try{const _0xc4eda3=this[_0x3eed3a(0xe8)]+'/payment.php?payment_id='+_0x19b18a+_0x3eed3a(0xfa)+_0x3554d2+'&currency='+_0x4b63be+'&order='+_0x2a5d92;return console[_0x3eed3a(0xe5)](_0x3eed3a(0x10b)),console[_0x3eed3a(0xe5)](_0x3eed3a(0x105),_0x19b18a),console[_0x3eed3a(0xe5)]('Payment\x20URL:',_0xc4eda3),console[_0x3eed3a(0xe5)]('Amount:',_0x3554d2,_0x4b63be),loggerService_1['loggerService'][_0x3eed3a(0xed)](_0x3eed3a(0x110),'/payment',_0x3eed3a(0xe0),{'paymentId':_0x19b18a,'amount':_0x3554d2,'currency':_0x4b63be,'orderId':_0x2a5d92}),{'gateway_payment_id':_0x19b18a,'payment_url':_0xc4eda3};}catch(_0x56af04){console['error'](_0x3eed3a(0x10e)),console[_0x3eed3a(0xec)]('Error\x20details:',_0x56af04),loggerService_1[_0x3eed3a(0x108)][_0x3eed3a(0xea)]('amer','/payment',_0x56af04);if(_0x56af04 instanceof Error){console[_0x3eed3a(0xec)](_0x3eed3a(0xf6),_0x56af04[_0x3eed3a(0x100)]),console['error'](_0x3eed3a(0xe1),_0x56af04['stack']);throw new Error(_0x3eed3a(0x10c)+_0x56af04[_0x3eed3a(0x100)]);}throw new Error(_0x3eed3a(0x109));}}async[a57_0x28e605(0xeb)](_0x44663a){const _0x243ca6=a57_0x28e605;console[_0x243ca6(0xe5)](_0x243ca6(0xef)+_0x44663a);try{return loggerService_1['loggerService'][_0x243ca6(0xed)](_0x243ca6(0x110),_0x243ca6(0xdf)+_0x44663a,_0x243ca6(0xe0),{}),{'status':_0x243ca6(0xe2)};}catch(_0x9343e9){console[_0x243ca6(0xec)](_0x243ca6(0xee),_0x9343e9),loggerService_1['loggerService'][_0x243ca6(0xea)](_0x243ca6(0x110),_0x243ca6(0xdf)+_0x44663a,_0x9343e9);throw new Error(_0x243ca6(0xf8)+(_0x9343e9 instanceof Error?_0x9343e9[_0x243ca6(0x100)]:'Unknown\x20error'));}}async[a57_0x28e605(0xfb)](_0x227c93){const _0x595de0=a57_0x28e605;console[_0x595de0(0xe5)](_0x595de0(0xff),_0x227c93);let _0x11a3e4=_0x595de0(0xe2);if(_0x227c93['success']===!![])_0x11a3e4=_0x595de0(0xe6);else _0x227c93['success']===![]&&(_0x11a3e4=_0x595de0(0xfd));const _0x5a723b={};return _0x227c93[_0x595de0(0x101)]&&(_0x5a723b['cardLast4']=_0x227c93[_0x595de0(0x101)]),_0x227c93[_0x595de0(0xfc)]&&(_0x5a723b[_0x595de0(0xfc)]=_0x227c93['paymentMethod']),_0x227c93['transactionId']&&(_0x5a723b[_0x595de0(0xe7)]=_0x227c93['transactionId'],_0x5a723b['gatewayPaymentId']=_0x227c93[_0x595de0(0xe7)]),console[_0x595de0(0xe5)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x11a3e4),{'paymentId':_0x227c93[_0x595de0(0xf0)]||_0x227c93['orderId']||'','status':_0x11a3e4,'amount':_0x227c93[_0x595de0(0xf2)],'currency':_0x227c93[_0x595de0(0xf1)],'additionalInfo':_0x5a723b};}}exports['AmerService']=AmerService;