'use strict';const a43_0x10fa9e=a43_0x36a9;(function(_0x4d5a23,_0x1d5013){const _0x188c86=a43_0x36a9,_0x1bbc59=_0x4d5a23();while(!![]){try{const _0x497f2c=-parseInt(_0x188c86(0x196))/0x1+parseInt(_0x188c86(0x185))/0x2*(-parseInt(_0x188c86(0x170))/0x3)+parseInt(_0x188c86(0x177))/0x4+-parseInt(_0x188c86(0x18f))/0x5*(parseInt(_0x188c86(0x182))/0x6)+-parseInt(_0x188c86(0x173))/0x7+parseInt(_0x188c86(0x181))/0x8*(parseInt(_0x188c86(0x184))/0x9)+parseInt(_0x188c86(0x194))/0xa;if(_0x497f2c===_0x1d5013)break;else _0x1bbc59['push'](_0x1bbc59['shift']());}catch(_0x44bad3){_0x1bbc59['push'](_0x1bbc59['shift']());}}}(a43_0x179a,0x98399));Object[a43_0x10fa9e(0x198)](exports,a43_0x10fa9e(0x183),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a43_0x10fa9e(0x178));class AmerService{constructor(){const _0x2eee69=a43_0x10fa9e;this[_0x2eee69(0x189)]=_0x2eee69(0x186),console[_0x2eee69(0x19a)](_0x2eee69(0x169));}async['createPaymentLink'](_0x2e9456){const _0x53ab10=a43_0x10fa9e,{paymentId:_0x3ad1d8,orderId:_0xeede70,orderName:_0x56052e,amount:_0xef6e9e,currency:_0x46e329,usage:_0x3c87af,maxPayments:_0x2b7ad1,successUrl:_0x5d8e20,failUrl:_0x5870b4}=_0x2e9456,_0x8aab1a=_0x46e329[_0x53ab10(0x18c)]();console['log']('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0xeede70),console[_0x53ab10(0x19a)](_0x53ab10(0x191)+_0xef6e9e+'\x20'+_0x8aab1a);try{const _0x111b8d=this[_0x53ab10(0x189)]+_0x53ab10(0x187)+_0x3ad1d8+_0x53ab10(0x17e)+_0xef6e9e+'&currency='+_0x8aab1a+_0x53ab10(0x199)+_0xeede70;return console['log'](_0x53ab10(0x18a)),console['log']('Payment\x20ID:',_0x3ad1d8),console[_0x53ab10(0x19a)]('Payment\x20URL:',_0x111b8d),console[_0x53ab10(0x19a)]('Amount:',_0xef6e9e,_0x8aab1a),loggerService_1[_0x53ab10(0x176)][_0x53ab10(0x188)]('amer','/payment',_0x53ab10(0x179),{'paymentId':_0x3ad1d8,'amount':_0xef6e9e,'currency':_0x8aab1a,'orderId':_0xeede70}),{'gateway_payment_id':_0x3ad1d8,'payment_url':_0x111b8d};}catch(_0x2234cd){console[_0x53ab10(0x172)](_0x53ab10(0x192)),console[_0x53ab10(0x172)](_0x53ab10(0x19b),_0x2234cd),loggerService_1[_0x53ab10(0x176)][_0x53ab10(0x180)]('amer',_0x53ab10(0x171),_0x2234cd);if(_0x2234cd instanceof Error){console[_0x53ab10(0x172)]('Error\x20message:',_0x2234cd[_0x53ab10(0x195)]),console[_0x53ab10(0x172)]('Error\x20stack:',_0x2234cd[_0x53ab10(0x17f)]);throw new Error(_0x53ab10(0x18b)+_0x2234cd[_0x53ab10(0x195)]);}throw new Error(_0x53ab10(0x17d));}}async['verifyPayment'](_0x286e77){const _0x2828e7=a43_0x10fa9e;console['log']('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x286e77);try{return loggerService_1['loggerService'][_0x2828e7(0x188)](_0x2828e7(0x18e),_0x2828e7(0x16c)+_0x286e77,'GET',{}),{'status':_0x2828e7(0x175)};}catch(_0x1ac512){console[_0x2828e7(0x172)]('Amer\x20payment\x20verification\x20error:',_0x1ac512),loggerService_1[_0x2828e7(0x176)][_0x2828e7(0x180)](_0x2828e7(0x18e),_0x2828e7(0x16c)+_0x286e77,_0x1ac512);throw new Error(_0x2828e7(0x16b)+(_0x1ac512 instanceof Error?_0x1ac512[_0x2828e7(0x195)]:'Unknown\x20error'));}}async[a43_0x10fa9e(0x16f)](_0x1445f8){const _0x28618f=a43_0x10fa9e;console[_0x28618f(0x19a)](_0x28618f(0x174),_0x1445f8);let _0x19718c=_0x28618f(0x175);if(_0x1445f8[_0x28618f(0x17a)]===!![])_0x19718c=_0x28618f(0x197);else _0x1445f8[_0x28618f(0x17a)]===![]&&(_0x19718c=_0x28618f(0x17c));const _0x12c173={};return _0x1445f8[_0x28618f(0x16d)]&&(_0x12c173['cardLast4']=_0x1445f8['cardLast4']),_0x1445f8[_0x28618f(0x193)]&&(_0x12c173[_0x28618f(0x193)]=_0x1445f8[_0x28618f(0x193)]),_0x1445f8[_0x28618f(0x16a)]&&(_0x12c173[_0x28618f(0x16a)]=_0x1445f8['transactionId'],_0x12c173[_0x28618f(0x16e)]=_0x1445f8['transactionId']),console['log'](_0x28618f(0x168)+_0x19718c),{'paymentId':_0x1445f8[_0x28618f(0x190)]||_0x1445f8['orderId']||'','status':_0x19718c,'amount':_0x1445f8[_0x28618f(0x18d)],'currency':_0x1445f8[_0x28618f(0x17b)],'additionalInfo':_0x12c173};}}function a43_0x36a9(_0x1941e7,_0x1a75e9){const _0x179a8e=a43_0x179a();return a43_0x36a9=function(_0x36a9f2,_0x2f0a5d){_0x36a9f2=_0x36a9f2-0x168;let _0x415b5a=_0x179a8e[_0x36a9f2];return _0x415b5a;},a43_0x36a9(_0x1941e7,_0x1a75e9);}exports['AmerService']=AmerService;function a43_0x179a(){const _0xf0169d=['10fHoaaL','paymentId','üí∞\x20Amount:\x20','===\x20AMER\x20SERVICE\x20ERROR\x20===','paymentMethod','10966130VICcPd','message','5529ZngBsg','PAID','defineProperty','&order=','log','Error\x20details:','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','transactionId','Failed\x20to\x20verify\x20Amer\x20payment:\x20','/payment/verify/','cardLast4','gatewayPaymentId','processWebhook','400581SZfwMP','/payment','error','3352048wirdgb','Processing\x20Amer\x20webhook:','PENDING','loggerService','3180780iUwBFo','../loggerService','GET','success','currency','FAILED','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','&amount=','stack','logWhiteDomainError','7635016DQorZn','1609608LVJgOk','__esModule','9ugiGBN','18dwwjRb','https://api2.trapay.uk','/payment.php?payment_id=','logWhiteDomainRequest','apiUrl','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','toUpperCase','amount','amer'];a43_0x179a=function(){return _0xf0169d;};return a43_0x179a();}