'use strict';const a61_0x1ccc6b=a61_0x5d47;function a61_0x5d47(_0x5cce58,_0x4ceb9d){_0x5cce58=_0x5cce58-0x15a;const _0x2f57c7=a61_0x2f57();let _0x5d47f=_0x2f57c7[_0x5cce58];return _0x5d47f;}(function(_0xc08ced,_0x192ef1){const _0x44d5a7=a61_0x5d47,_0x37d28f=_0xc08ced();while(!![]){try{const _0x2893b5=-parseInt(_0x44d5a7(0x162))/0x1+parseInt(_0x44d5a7(0x167))/0x2+-parseInt(_0x44d5a7(0x175))/0x3*(-parseInt(_0x44d5a7(0x15a))/0x4)+parseInt(_0x44d5a7(0x169))/0x5*(-parseInt(_0x44d5a7(0x173))/0x6)+parseInt(_0x44d5a7(0x160))/0x7*(-parseInt(_0x44d5a7(0x18c))/0x8)+parseInt(_0x44d5a7(0x182))/0x9*(-parseInt(_0x44d5a7(0x178))/0xa)+parseInt(_0x44d5a7(0x15b))/0xb;if(_0x2893b5===_0x192ef1)break;else _0x37d28f['push'](_0x37d28f['shift']());}catch(_0x4e824c){_0x37d28f['push'](_0x37d28f['shift']());}}}(a61_0x2f57,0x4a934));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a61_0x1ccc6b(0x16c)]=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0x4301dc=a61_0x1ccc6b;this[_0x4301dc(0x181)]=_0x4301dc(0x170),console[_0x4301dc(0x16a)](_0x4301dc(0x187));}async[a61_0x1ccc6b(0x15c)](_0x28971e){const _0x428371=a61_0x1ccc6b,{paymentId:_0x5a09a3,orderId:_0x110d61,orderName:_0x516c76,amount:_0x465f0c,currency:_0x552f72,usage:_0x387829,maxPayments:_0x1741d1,successUrl:_0x1cd513,failUrl:_0x588713}=_0x28971e,_0x5314f7=_0x552f72['toUpperCase']();console[_0x428371(0x16a)](_0x428371(0x174)+_0x110d61),console[_0x428371(0x16a)](_0x428371(0x176)+_0x465f0c+'\x20'+_0x5314f7);try{const _0x593e90=this[_0x428371(0x181)]+_0x428371(0x17c)+_0x5a09a3+_0x428371(0x177)+_0x465f0c+_0x428371(0x180)+_0x5314f7+_0x428371(0x15d)+_0x110d61;return console[_0x428371(0x16a)](_0x428371(0x190)),console[_0x428371(0x16a)](_0x428371(0x185),_0x5a09a3),console[_0x428371(0x16a)]('Payment\x20URL:',_0x593e90),console[_0x428371(0x16a)]('Amount:',_0x465f0c,_0x5314f7),loggerService_1['loggerService'][_0x428371(0x165)](_0x428371(0x179),'/payment',_0x428371(0x16b),{'paymentId':_0x5a09a3,'amount':_0x465f0c,'currency':_0x5314f7,'orderId':_0x110d61}),{'gateway_payment_id':_0x5a09a3,'payment_url':_0x593e90};}catch(_0x3cfcb0){console[_0x428371(0x171)](_0x428371(0x17e)),console[_0x428371(0x171)]('Error\x20details:',_0x3cfcb0),loggerService_1[_0x428371(0x172)][_0x428371(0x164)](_0x428371(0x179),_0x428371(0x17d),_0x3cfcb0);if(_0x3cfcb0 instanceof Error){console[_0x428371(0x171)](_0x428371(0x168),_0x3cfcb0[_0x428371(0x18b)]),console['error']('Error\x20stack:',_0x3cfcb0[_0x428371(0x16d)]);throw new Error(_0x428371(0x17f)+_0x3cfcb0[_0x428371(0x18b)]);}throw new Error(_0x428371(0x16e));}}async[a61_0x1ccc6b(0x18e)](_0x59eabf){const _0x27250f=a61_0x1ccc6b;console[_0x27250f(0x16a)](_0x27250f(0x18f)+_0x59eabf);try{return loggerService_1[_0x27250f(0x172)][_0x27250f(0x165)](_0x27250f(0x179),_0x27250f(0x186)+_0x59eabf,'GET',{}),{'status':_0x27250f(0x163)};}catch(_0x3f6658){console['error'](_0x27250f(0x17a),_0x3f6658),loggerService_1[_0x27250f(0x172)][_0x27250f(0x164)](_0x27250f(0x179),'/payment/verify/'+_0x59eabf,_0x3f6658);throw new Error(_0x27250f(0x189)+(_0x3f6658 instanceof Error?_0x3f6658[_0x27250f(0x18b)]:'Unknown\x20error'));}}async[a61_0x1ccc6b(0x183)](_0x129cc8){const _0x2e518a=a61_0x1ccc6b;console['log'](_0x2e518a(0x161),_0x129cc8);let _0xd1c8cb='PENDING';if(_0x129cc8[_0x2e518a(0x15f)]===!![])_0xd1c8cb=_0x2e518a(0x188);else _0x129cc8[_0x2e518a(0x15f)]===![]&&(_0xd1c8cb='FAILED');const _0x463c64={};return _0x129cc8['cardLast4']&&(_0x463c64['cardLast4']=_0x129cc8[_0x2e518a(0x16f)]),_0x129cc8[_0x2e518a(0x18d)]&&(_0x463c64[_0x2e518a(0x18d)]=_0x129cc8[_0x2e518a(0x18d)]),_0x129cc8[_0x2e518a(0x17b)]&&(_0x463c64[_0x2e518a(0x17b)]=_0x129cc8[_0x2e518a(0x17b)],_0x463c64['gatewayPaymentId']=_0x129cc8[_0x2e518a(0x17b)]),console[_0x2e518a(0x16a)](_0x2e518a(0x166)+_0xd1c8cb),{'paymentId':_0x129cc8['paymentId']||_0x129cc8[_0x2e518a(0x184)]||'','status':_0xd1c8cb,'amount':_0x129cc8[_0x2e518a(0x15e)],'currency':_0x129cc8[_0x2e518a(0x18a)],'additionalInfo':_0x463c64};}}function a61_0x2f57(){const _0x2ba570=['üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','2721aoeaNy','üí∞\x20Amount:\x20','&amount=','1710xdItao','amer','Amer\x20payment\x20verification\x20error:','transactionId','/payment.php?payment_id=','/payment','===\x20AMER\x20SERVICE\x20ERROR\x20===','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','&currency=','apiUrl','20421HeRsRu','processWebhook','orderId','Payment\x20ID:','/payment/verify/','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','PAID','Failed\x20to\x20verify\x20Amer\x20payment:\x20','currency','message','1832920lHKWNy','paymentMethod','verifyPayment','üîç\x20Verifying\x20Amer\x20payment:\x20','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','656EzrxOC','13442484jDlrZD','createPaymentLink','&order=','amount','success','14OxcUfI','Processing\x20Amer\x20webhook:','552222NGSGer','PENDING','logWhiteDomainError','logWhiteDomainRequest','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','934328XYTnje','Error\x20message:','5giZIum','log','GET','AmerService','stack','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','cardLast4','https://api2.trapay.uk','error','loggerService','804270gsdagp'];a61_0x2f57=function(){return _0x2ba570;};return a61_0x2f57();}exports[a61_0x1ccc6b(0x16c)]=AmerService;