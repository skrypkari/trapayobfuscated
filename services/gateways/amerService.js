'use strict';const a41_0x1d78c1=a41_0x2778;function a41_0x430b(){const _0x59c4c5=['&amount=','704068loigLs','processWebhook','Payment\x20ID:','createPaymentLink','verifyPayment','Payment\x20URL:','/payment/verify/','Failed\x20to\x20verify\x20Amer\x20payment:\x20','success','Amer\x20payment\x20verification\x20error:','Error\x20stack:','logWhiteDomainRequest','../loggerService','8569DtksjV','logWhiteDomainError','https://api2.trapay.uk','loggerService','43006jUgbcy','üí∞\x20Amount:\x20','log','/payment.php?payment_id=','Error\x20details:','&order=','906485AjKZzz','278562Pgjecv','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','PENDING','39573wYGTiH','gatewayPaymentId','paymentMethod','Error\x20message:','toUpperCase','amer','cardLast4','===\x20AMER\x20SERVICE\x20ERROR\x20===','Processing\x20Amer\x20webhook:','1000wvUruw','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Unknown\x20error','orderId','üîç\x20Verifying\x20Amer\x20payment:\x20','message','Amount:','__esModule','defineProperty','6EBikDf','PAID','amount','428806EjdNjm','apiUrl','transactionId','error','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','410KmMpwZ','13gOkOim'];a41_0x430b=function(){return _0x59c4c5;};return a41_0x430b();}(function(_0x4eab7f,_0x1d8af9){const _0x32cbc6=a41_0x2778,_0x3a2ff3=_0x4eab7f();while(!![]){try{const _0x46c9df=-parseInt(_0x32cbc6(0x10f))/0x1*(parseInt(_0x32cbc6(0xea))/0x2)+-parseInt(_0x32cbc6(0xf1))/0x3+-parseInt(_0x32cbc6(0x111))/0x4+-parseInt(_0x32cbc6(0xf0))/0x5*(-parseInt(_0x32cbc6(0x106))/0x6)+parseInt(_0x32cbc6(0x109))/0x7+parseInt(_0x32cbc6(0xfd))/0x8*(parseInt(_0x32cbc6(0xf4))/0x9)+-parseInt(_0x32cbc6(0x10e))/0xa*(-parseInt(_0x32cbc6(0x11e))/0xb);if(_0x46c9df===_0x1d8af9)break;else _0x3a2ff3['push'](_0x3a2ff3['shift']());}catch(_0x1fe3f7){_0x3a2ff3['push'](_0x3a2ff3['shift']());}}}(a41_0x430b,0x434fd));Object[a41_0x1d78c1(0x105)](exports,a41_0x1d78c1(0x104),{'value':!![]}),exports['AmerService']=void 0x0;function a41_0x2778(_0x43a6c1,_0x20b45b){const _0x430b33=a41_0x430b();return a41_0x2778=function(_0x27784d,_0x35aa3b){_0x27784d=_0x27784d-0xea;let _0x402ca5=_0x430b33[_0x27784d];return _0x402ca5;},a41_0x2778(_0x43a6c1,_0x20b45b);}const loggerService_1=require(a41_0x1d78c1(0x11d));class AmerService{constructor(){const _0x45c956=a41_0x1d78c1;this[_0x45c956(0x10a)]=_0x45c956(0x120),console[_0x45c956(0xec)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a41_0x1d78c1(0x114)](_0x5752ed){const _0x3b0ffb=a41_0x1d78c1,{paymentId:_0x41904d,orderId:_0x395f99,orderName:_0x49d1f1,amount:_0x11aa84,currency:_0x24a9c7,usage:_0x39e5c7,maxPayments:_0xa6e2a9,successUrl:_0x22ebd4,failUrl:_0x54ba8a}=_0x5752ed,_0x482290=_0x24a9c7[_0x3b0ffb(0xf8)]();console[_0x3b0ffb(0xec)](_0x3b0ffb(0x10d)+_0x395f99),console[_0x3b0ffb(0xec)](_0x3b0ffb(0xeb)+_0x11aa84+'\x20'+_0x482290);try{const _0x41e161=this[_0x3b0ffb(0x10a)]+_0x3b0ffb(0xed)+_0x41904d+_0x3b0ffb(0x110)+_0x11aa84+'&currency='+_0x482290+_0x3b0ffb(0xef)+_0x395f99;return console[_0x3b0ffb(0xec)](_0x3b0ffb(0xf2)),console[_0x3b0ffb(0xec)](_0x3b0ffb(0x113),_0x41904d),console[_0x3b0ffb(0xec)](_0x3b0ffb(0x116),_0x41e161),console[_0x3b0ffb(0xec)](_0x3b0ffb(0x103),_0x11aa84,_0x482290),loggerService_1['loggerService'][_0x3b0ffb(0x11c)](_0x3b0ffb(0xf9),'/payment','GET',{'paymentId':_0x41904d,'amount':_0x11aa84,'currency':_0x482290,'orderId':_0x395f99}),{'gateway_payment_id':_0x41904d,'payment_url':_0x41e161};}catch(_0x30a6a9){console[_0x3b0ffb(0x10c)](_0x3b0ffb(0xfb)),console[_0x3b0ffb(0x10c)](_0x3b0ffb(0xee),_0x30a6a9),loggerService_1[_0x3b0ffb(0x121)][_0x3b0ffb(0x11f)](_0x3b0ffb(0xf9),'/payment',_0x30a6a9);if(_0x30a6a9 instanceof Error){console[_0x3b0ffb(0x10c)](_0x3b0ffb(0xf7),_0x30a6a9[_0x3b0ffb(0x102)]),console[_0x3b0ffb(0x10c)](_0x3b0ffb(0x11b),_0x30a6a9['stack']);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x30a6a9[_0x3b0ffb(0x102)]);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async[a41_0x1d78c1(0x115)](_0x139d38){const _0x3798eb=a41_0x1d78c1;console[_0x3798eb(0xec)](_0x3798eb(0x101)+_0x139d38);try{return loggerService_1[_0x3798eb(0x121)][_0x3798eb(0x11c)](_0x3798eb(0xf9),_0x3798eb(0x117)+_0x139d38,'GET',{}),{'status':_0x3798eb(0xf3)};}catch(_0xc10455){console[_0x3798eb(0x10c)](_0x3798eb(0x11a),_0xc10455),loggerService_1[_0x3798eb(0x121)]['logWhiteDomainError'](_0x3798eb(0xf9),_0x3798eb(0x117)+_0x139d38,_0xc10455);throw new Error(_0x3798eb(0x118)+(_0xc10455 instanceof Error?_0xc10455['message']:_0x3798eb(0xff)));}}async[a41_0x1d78c1(0x112)](_0x5c0dbb){const _0x34315d=a41_0x1d78c1;console['log'](_0x34315d(0xfc),_0x5c0dbb);let _0x3f54fe=_0x34315d(0xf3);if(_0x5c0dbb[_0x34315d(0x119)]===!![])_0x3f54fe=_0x34315d(0x107);else _0x5c0dbb[_0x34315d(0x119)]===![]&&(_0x3f54fe='FAILED');const _0x5a6150={};return _0x5c0dbb[_0x34315d(0xfa)]&&(_0x5a6150[_0x34315d(0xfa)]=_0x5c0dbb[_0x34315d(0xfa)]),_0x5c0dbb['paymentMethod']&&(_0x5a6150[_0x34315d(0xf6)]=_0x5c0dbb[_0x34315d(0xf6)]),_0x5c0dbb[_0x34315d(0x10b)]&&(_0x5a6150['transactionId']=_0x5c0dbb[_0x34315d(0x10b)],_0x5a6150[_0x34315d(0xf5)]=_0x5c0dbb[_0x34315d(0x10b)]),console[_0x34315d(0xec)](_0x34315d(0xfe)+_0x3f54fe),{'paymentId':_0x5c0dbb['paymentId']||_0x5c0dbb[_0x34315d(0x100)]||'','status':_0x3f54fe,'amount':_0x5c0dbb[_0x34315d(0x108)],'currency':_0x5c0dbb['currency'],'additionalInfo':_0x5a6150};}}exports['AmerService']=AmerService;