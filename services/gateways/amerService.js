'use strict';const a41_0x1735ef=a41_0x5500;function a41_0x9fa1(){const _0x263185=['185838oFtXaH','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Error\x20details:','currency','Error\x20message:','&amount=','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','Amer\x20payment\x20verification\x20error:','cardLast4','defineProperty','Amount:','Processing\x20Amer\x20webhook:','error','apiUrl','/payment','8acduHU','success','AmerService','4937254zlhdrM','amer','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','verifyPayment','message','logWhiteDomainError','gatewayPaymentId','60wdoBOc','===\x20AMER\x20SERVICE\x20ERROR\x20===','PAID','FAILED','Payment\x20ID:','908682FiDihZ','createPaymentLink','449692hradLo','__esModule','orderId','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','log','GET','/payment/verify/','paymentMethod','Unknown\x20error','/payment.php?payment_id=','PENDING','https://api2.trapay.uk','../loggerService','Payment\x20URL:','27341560WGoiTe','Error\x20stack:','logWhiteDomainRequest','9870489CZnbBd','loggerService','transactionId','processWebhook','1xfLTEt','üí∞\x20Amount:\x20','toUpperCase','849506ZnlXBL','Failed\x20to\x20verify\x20Amer\x20payment:\x20'];a41_0x9fa1=function(){return _0x263185;};return a41_0x9fa1();}(function(_0x3342be,_0x234c91){const _0x346940=a41_0x5500,_0x35c3a0=_0x3342be();while(!![]){try{const _0x530826=-parseInt(_0x346940(0x131))/0x1*(-parseInt(_0x346940(0x134))/0x2)+-parseInt(_0x346940(0x11a))/0x3+-parseInt(_0x346940(0x11c))/0x4+-parseInt(_0x346940(0x115))/0x5*(parseInt(_0x346940(0x136))/0x6)+parseInt(_0x346940(0x10e))/0x7*(-parseInt(_0x346940(0x10b))/0x8)+-parseInt(_0x346940(0x12d))/0x9+parseInt(_0x346940(0x12a))/0xa;if(_0x530826===_0x234c91)break;else _0x35c3a0['push'](_0x35c3a0['shift']());}catch(_0x36e701){_0x35c3a0['push'](_0x35c3a0['shift']());}}}(a41_0x9fa1,0x8b211));function a41_0x5500(_0x313c8a,_0x200940){const _0x9fa110=a41_0x9fa1();return a41_0x5500=function(_0x5500a9,_0x40c449){_0x5500a9=_0x5500a9-0xff;let _0x2cc5c3=_0x9fa110[_0x5500a9];return _0x2cc5c3;},a41_0x5500(_0x313c8a,_0x200940);}Object[a41_0x1735ef(0x105)](exports,a41_0x1735ef(0x11d),{'value':!![]}),exports[a41_0x1735ef(0x10d)]=void 0x0;const loggerService_1=require(a41_0x1735ef(0x128));class AmerService{constructor(){const _0xea7e73=a41_0x1735ef;this[_0xea7e73(0x109)]=_0xea7e73(0x127),console['log']('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a41_0x1735ef(0x11b)](_0x56666b){const _0x1d3dfd=a41_0x1735ef,{paymentId:_0x52c114,orderId:_0x863b3f,orderName:_0x524570,amount:_0x204b5a,currency:_0x1775b4,usage:_0x4d41d2,maxPayments:_0x4058ff,successUrl:_0x61837b,failUrl:_0x3e9291}=_0x56666b,_0x15ef9b=_0x1775b4[_0x1d3dfd(0x133)]();console['log'](_0x1d3dfd(0x102)+_0x863b3f),console['log'](_0x1d3dfd(0x132)+_0x204b5a+'\x20'+_0x15ef9b);try{const _0x516481=this['apiUrl']+_0x1d3dfd(0x125)+_0x52c114+_0x1d3dfd(0x101)+_0x204b5a+'&currency='+_0x15ef9b+'&order='+_0x863b3f;return console[_0x1d3dfd(0x120)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console['log'](_0x1d3dfd(0x119),_0x52c114),console[_0x1d3dfd(0x120)](_0x1d3dfd(0x129),_0x516481),console['log'](_0x1d3dfd(0x106),_0x204b5a,_0x15ef9b),loggerService_1['loggerService'][_0x1d3dfd(0x12c)](_0x1d3dfd(0x10f),_0x1d3dfd(0x10a),_0x1d3dfd(0x121),{'paymentId':_0x52c114,'amount':_0x204b5a,'currency':_0x15ef9b,'orderId':_0x863b3f}),{'gateway_payment_id':_0x52c114,'payment_url':_0x516481};}catch(_0x5e9a46){console[_0x1d3dfd(0x108)](_0x1d3dfd(0x116)),console[_0x1d3dfd(0x108)](_0x1d3dfd(0x138),_0x5e9a46),loggerService_1[_0x1d3dfd(0x12e)][_0x1d3dfd(0x113)](_0x1d3dfd(0x10f),_0x1d3dfd(0x10a),_0x5e9a46);if(_0x5e9a46 instanceof Error){console[_0x1d3dfd(0x108)](_0x1d3dfd(0x100),_0x5e9a46[_0x1d3dfd(0x112)]),console[_0x1d3dfd(0x108)](_0x1d3dfd(0x12b),_0x5e9a46['stack']);throw new Error(_0x1d3dfd(0x137)+_0x5e9a46[_0x1d3dfd(0x112)]);}throw new Error(_0x1d3dfd(0x110));}}async[a41_0x1735ef(0x111)](_0x5932b8){const _0x30bb73=a41_0x1735ef;console[_0x30bb73(0x120)]('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x5932b8);try{return loggerService_1[_0x30bb73(0x12e)]['logWhiteDomainRequest'](_0x30bb73(0x10f),_0x30bb73(0x122)+_0x5932b8,_0x30bb73(0x121),{}),{'status':_0x30bb73(0x126)};}catch(_0x61a9b0){console[_0x30bb73(0x108)](_0x30bb73(0x103),_0x61a9b0),loggerService_1['loggerService'][_0x30bb73(0x113)](_0x30bb73(0x10f),_0x30bb73(0x122)+_0x5932b8,_0x61a9b0);throw new Error(_0x30bb73(0x135)+(_0x61a9b0 instanceof Error?_0x61a9b0['message']:_0x30bb73(0x124)));}}async[a41_0x1735ef(0x130)](_0x2ab14d){const _0x1f2cc3=a41_0x1735ef;console[_0x1f2cc3(0x120)](_0x1f2cc3(0x107),_0x2ab14d);let _0x5bc02a=_0x1f2cc3(0x126);if(_0x2ab14d[_0x1f2cc3(0x10c)]===!![])_0x5bc02a=_0x1f2cc3(0x117);else _0x2ab14d[_0x1f2cc3(0x10c)]===![]&&(_0x5bc02a=_0x1f2cc3(0x118));const _0x3bbcd3={};return _0x2ab14d[_0x1f2cc3(0x104)]&&(_0x3bbcd3[_0x1f2cc3(0x104)]=_0x2ab14d[_0x1f2cc3(0x104)]),_0x2ab14d[_0x1f2cc3(0x123)]&&(_0x3bbcd3[_0x1f2cc3(0x123)]=_0x2ab14d[_0x1f2cc3(0x123)]),_0x2ab14d[_0x1f2cc3(0x12f)]&&(_0x3bbcd3[_0x1f2cc3(0x12f)]=_0x2ab14d[_0x1f2cc3(0x12f)],_0x3bbcd3[_0x1f2cc3(0x114)]=_0x2ab14d[_0x1f2cc3(0x12f)]),console[_0x1f2cc3(0x120)](_0x1f2cc3(0x11f)+_0x5bc02a),{'paymentId':_0x2ab14d['paymentId']||_0x2ab14d[_0x1f2cc3(0x11e)]||'','status':_0x5bc02a,'amount':_0x2ab14d['amount'],'currency':_0x2ab14d[_0x1f2cc3(0xff)],'additionalInfo':_0x3bbcd3};}}exports[a41_0x1735ef(0x10d)]=AmerService;