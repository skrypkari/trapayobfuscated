'use strict';const a53_0x35f1ef=a53_0x12e9;(function(_0x377266,_0x2ce1d7){const _0x1e4058=a53_0x12e9,_0x4a0d3b=_0x377266();while(!![]){try{const _0x2a8588=parseInt(_0x1e4058(0x229))/0x1+-parseInt(_0x1e4058(0x223))/0x2*(parseInt(_0x1e4058(0x221))/0x3)+-parseInt(_0x1e4058(0x1fb))/0x4+-parseInt(_0x1e4058(0x22e))/0x5*(-parseInt(_0x1e4058(0x215))/0x6)+parseInt(_0x1e4058(0x1f8))/0x7*(parseInt(_0x1e4058(0x204))/0x8)+parseInt(_0x1e4058(0x203))/0x9*(parseInt(_0x1e4058(0x216))/0xa)+-parseInt(_0x1e4058(0x210))/0xb*(-parseInt(_0x1e4058(0x21a))/0xc);if(_0x2a8588===_0x2ce1d7)break;else _0x4a0d3b['push'](_0x4a0d3b['shift']());}catch(_0x45789d){_0x4a0d3b['push'](_0x4a0d3b['shift']());}}}(a53_0x4f89,0xbc894));Object[a53_0x35f1ef(0x20d)](exports,a53_0x35f1ef(0x22b),{'value':!![]}),exports[a53_0x35f1ef(0x22d)]=void 0x0;const loggerService_1=require(a53_0x35f1ef(0x212));class AmerService{constructor(){const _0x998003=a53_0x35f1ef;this[_0x998003(0x211)]=_0x998003(0x213),console['log'](_0x998003(0x208));}async['createPaymentLink'](_0x3ab80f){const _0x235c7b=a53_0x35f1ef,{paymentId:_0x26e9d7,orderId:_0x5d6b52,orderName:_0x3f6fd5,amount:_0x4af791,currency:_0x442d0f,usage:_0xdc3bf8,maxPayments:_0x2d262c,successUrl:_0x2ba5d5,failUrl:_0x3aa923}=_0x3ab80f,_0x44183b=_0x442d0f[_0x235c7b(0x202)]();console['log']('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x5d6b52),console[_0x235c7b(0x21e)](_0x235c7b(0x228)+_0x4af791+'\x20'+_0x44183b);try{const _0x5fdba0=this['apiUrl']+_0x235c7b(0x201)+_0x26e9d7+_0x235c7b(0x20f)+_0x4af791+_0x235c7b(0x206)+_0x44183b+_0x235c7b(0x22f)+_0x5d6b52;return console[_0x235c7b(0x21e)](_0x235c7b(0x21d)),console[_0x235c7b(0x21e)]('Payment\x20ID:',_0x26e9d7),console['log'](_0x235c7b(0x220),_0x5fdba0),console[_0x235c7b(0x21e)](_0x235c7b(0x22a),_0x4af791,_0x44183b),loggerService_1[_0x235c7b(0x22c)][_0x235c7b(0x1fa)](_0x235c7b(0x218),'/payment',_0x235c7b(0x1ff),{'paymentId':_0x26e9d7,'amount':_0x4af791,'currency':_0x44183b,'orderId':_0x5d6b52}),{'gateway_payment_id':_0x26e9d7,'payment_url':_0x5fdba0};}catch(_0x4717aa){console[_0x235c7b(0x21c)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console['error'](_0x235c7b(0x205),_0x4717aa),loggerService_1[_0x235c7b(0x22c)]['logWhiteDomainError'](_0x235c7b(0x218),_0x235c7b(0x1f4),_0x4717aa);if(_0x4717aa instanceof Error){console[_0x235c7b(0x21c)](_0x235c7b(0x21b),_0x4717aa[_0x235c7b(0x219)]),console[_0x235c7b(0x21c)]('Error\x20stack:',_0x4717aa[_0x235c7b(0x224)]);throw new Error(_0x235c7b(0x227)+_0x4717aa[_0x235c7b(0x219)]);}throw new Error(_0x235c7b(0x20c));}}async[a53_0x35f1ef(0x20b)](_0x224398){const _0x2ea3a9=a53_0x35f1ef;console[_0x2ea3a9(0x21e)](_0x2ea3a9(0x1f9)+_0x224398);try{return loggerService_1[_0x2ea3a9(0x22c)][_0x2ea3a9(0x1fa)](_0x2ea3a9(0x218),'/payment/verify/'+_0x224398,_0x2ea3a9(0x1ff),{}),{'status':_0x2ea3a9(0x217)};}catch(_0x38483e){console[_0x2ea3a9(0x21c)](_0x2ea3a9(0x222),_0x38483e),loggerService_1['loggerService'][_0x2ea3a9(0x1f7)](_0x2ea3a9(0x218),_0x2ea3a9(0x1fc)+_0x224398,_0x38483e);throw new Error(_0x2ea3a9(0x225)+(_0x38483e instanceof Error?_0x38483e[_0x2ea3a9(0x219)]:_0x2ea3a9(0x20e)));}}async[a53_0x35f1ef(0x214)](_0x27d613){const _0x30d902=a53_0x35f1ef;console[_0x30d902(0x21e)](_0x30d902(0x1f6),_0x27d613);let _0x4dea79='PENDING';if(_0x27d613['success']===!![])_0x4dea79='PAID';else _0x27d613[_0x30d902(0x200)]===![]&&(_0x4dea79=_0x30d902(0x207));const _0x5e1b64={};return _0x27d613['cardLast4']&&(_0x5e1b64[_0x30d902(0x209)]=_0x27d613[_0x30d902(0x209)]),_0x27d613[_0x30d902(0x1fd)]&&(_0x5e1b64[_0x30d902(0x1fd)]=_0x27d613[_0x30d902(0x1fd)]),_0x27d613[_0x30d902(0x1f5)]&&(_0x5e1b64['transactionId']=_0x27d613[_0x30d902(0x1f5)],_0x5e1b64[_0x30d902(0x21f)]=_0x27d613['transactionId']),console[_0x30d902(0x21e)](_0x30d902(0x226)+_0x4dea79),{'paymentId':_0x27d613[_0x30d902(0x20a)]||_0x27d613['orderId']||'','status':_0x4dea79,'amount':_0x27d613[_0x30d902(0x1fe)],'currency':_0x27d613['currency'],'additionalInfo':_0x5e1b64};}}function a53_0x4f89(){const _0x544284=['message','12ceMxEq','Error\x20message:','error','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','log','gatewayPaymentId','Payment\x20URL:','1149JmxHWz','Amer\x20payment\x20verification\x20error:','6718COaWPQ','stack','Failed\x20to\x20verify\x20Amer\x20payment:\x20','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','üí∞\x20Amount:\x20','1044729QboBAh','Amount:','__esModule','loggerService','AmerService','85kVoufx','&order=','/payment','transactionId','Processing\x20Amer\x20webhook:','logWhiteDomainError','18074bXXlcf','üîç\x20Verifying\x20Amer\x20payment:\x20','logWhiteDomainRequest','4988672lKUpWA','/payment/verify/','paymentMethod','amount','GET','success','/payment.php?payment_id=','toUpperCase','475803yOVNEb','1088seyQZw','Error\x20details:','&currency=','FAILED','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','cardLast4','paymentId','verifyPayment','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','defineProperty','Unknown\x20error','&amount=','9663687vWSQwC','apiUrl','../loggerService','https://api2.trapay.uk','processWebhook','270768ELtNKB','50HhzDMN','PENDING','amer'];a53_0x4f89=function(){return _0x544284;};return a53_0x4f89();}function a53_0x12e9(_0x525ecc,_0x5afb76){_0x525ecc=_0x525ecc-0x1f4;const _0x4f8950=a53_0x4f89();let _0x12e9e0=_0x4f8950[_0x525ecc];return _0x12e9e0;}exports['AmerService']=AmerService;