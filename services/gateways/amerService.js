'use strict';function a41_0x3d6c(){const _0x410a4f=['apiUrl','&order=','Payment\x20ID:','currency','log','stack','GET','transactionId','paymentMethod','orderId','message','4952730sIDCyq','Unknown\x20error','2240lKhbBF','/payment','üí∞\x20Amount:\x20','3840JhwkOg','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','Payment\x20URL:','paymentId','üîç\x20Verifying\x20Amer\x20payment:\x20','303427tjCAtJ','defineProperty','PAID','cardLast4','3242122RsXDSY','logWhiteDomainError','Error\x20message:','5162816eXJCXB','AmerService','logWhiteDomainRequest','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Processing\x20Amer\x20webhook:','error','amer','433188eiasFJ','6982936BuBKFc','Amer\x20payment\x20verification\x20error:','processWebhook','gatewayPaymentId','loggerService','Error\x20stack:','toUpperCase','__esModule','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','/payment.php?payment_id=','PENDING','===\x20AMER\x20SERVICE\x20ERROR\x20===','Error\x20details:','../loggerService','/payment/verify/'];a41_0x3d6c=function(){return _0x410a4f;};return a41_0x3d6c();}const a41_0x36c228=a41_0x28c9;(function(_0xe13cdb,_0x120c1b){const _0x477b98=a41_0x28c9,_0x4e7e37=_0xe13cdb();while(!![]){try{const _0x18935d=parseInt(_0x477b98(0x103))/0x1+parseInt(_0x477b98(0x107))/0x2+-parseInt(_0x477b98(0x111))/0x3+-parseInt(_0x477b98(0x10a))/0x4+parseInt(_0x477b98(0xf9))/0x5+parseInt(_0x477b98(0xfe))/0x6*(parseInt(_0x477b98(0xfb))/0x7)+-parseInt(_0x477b98(0xdf))/0x8;if(_0x18935d===_0x120c1b)break;else _0x4e7e37['push'](_0x4e7e37['shift']());}catch(_0x2fac64){_0x4e7e37['push'](_0x4e7e37['shift']());}}}(a41_0x3d6c,0xc635b));function a41_0x28c9(_0x2ec8f5,_0x459e1b){const _0x3d6cec=a41_0x3d6c();return a41_0x28c9=function(_0x28c9f8,_0x418388){_0x28c9f8=_0x28c9f8-0xdf;let _0x2f6e50=_0x3d6cec[_0x28c9f8];return _0x2f6e50;},a41_0x28c9(_0x2ec8f5,_0x459e1b);}Object[a41_0x36c228(0x104)](exports,a41_0x36c228(0xe6),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a41_0x36c228(0xec));class AmerService{constructor(){const _0x78021e=a41_0x36c228;this[_0x78021e(0xee)]='https://api2.trapay.uk',console[_0x78021e(0xf2)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async['createPaymentLink'](_0x12f8a5){const _0x52a282=a41_0x36c228,{paymentId:_0x2e8900,orderId:_0x2eb1d4,orderName:_0x249493,amount:_0x306b44,currency:_0x5d052e,usage:_0x433356,maxPayments:_0x5d41a0,successUrl:_0x461718,failUrl:_0x1245d0}=_0x12f8a5,_0x4c5795=_0x5d052e[_0x52a282(0xe5)]();console[_0x52a282(0xf2)](_0x52a282(0xff)+_0x2eb1d4),console[_0x52a282(0xf2)](_0x52a282(0xfd)+_0x306b44+'\x20'+_0x4c5795);try{const _0x17627b=this[_0x52a282(0xee)]+_0x52a282(0xe8)+_0x2e8900+'&amount='+_0x306b44+'&currency='+_0x4c5795+_0x52a282(0xef)+_0x2eb1d4;return console['log']('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x52a282(0xf2)](_0x52a282(0xf0),_0x2e8900),console[_0x52a282(0xf2)](_0x52a282(0x100),_0x17627b),console[_0x52a282(0xf2)]('Amount:',_0x306b44,_0x4c5795),loggerService_1['loggerService'][_0x52a282(0x10c)](_0x52a282(0x110),_0x52a282(0xfc),_0x52a282(0xf4),{'paymentId':_0x2e8900,'amount':_0x306b44,'currency':_0x4c5795,'orderId':_0x2eb1d4}),{'gateway_payment_id':_0x2e8900,'payment_url':_0x17627b};}catch(_0x439e62){console['error'](_0x52a282(0xea)),console['error'](_0x52a282(0xeb),_0x439e62),loggerService_1[_0x52a282(0xe3)][_0x52a282(0x108)](_0x52a282(0x110),_0x52a282(0xfc),_0x439e62);if(_0x439e62 instanceof Error){console[_0x52a282(0x10f)](_0x52a282(0x109),_0x439e62[_0x52a282(0xf8)]),console[_0x52a282(0x10f)](_0x52a282(0xe4),_0x439e62[_0x52a282(0xf3)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x439e62[_0x52a282(0xf8)]);}throw new Error(_0x52a282(0xe7));}}async['verifyPayment'](_0x498ee6){const _0x415fa5=a41_0x36c228;console['log'](_0x415fa5(0x102)+_0x498ee6);try{return loggerService_1[_0x415fa5(0xe3)][_0x415fa5(0x10c)](_0x415fa5(0x110),_0x415fa5(0xed)+_0x498ee6,_0x415fa5(0xf4),{}),{'status':_0x415fa5(0xe9)};}catch(_0x26f10b){console[_0x415fa5(0x10f)](_0x415fa5(0xe0),_0x26f10b),loggerService_1['loggerService'][_0x415fa5(0x108)](_0x415fa5(0x110),_0x415fa5(0xed)+_0x498ee6,_0x26f10b);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x26f10b instanceof Error?_0x26f10b[_0x415fa5(0xf8)]:_0x415fa5(0xfa)));}}async[a41_0x36c228(0xe1)](_0x93e30){const _0x1abc14=a41_0x36c228;console['log'](_0x1abc14(0x10e),_0x93e30);let _0x4510b4=_0x1abc14(0xe9);if(_0x93e30['success']===!![])_0x4510b4=_0x1abc14(0x105);else _0x93e30['success']===![]&&(_0x4510b4='FAILED');const _0x32f49f={};return _0x93e30[_0x1abc14(0x106)]&&(_0x32f49f[_0x1abc14(0x106)]=_0x93e30[_0x1abc14(0x106)]),_0x93e30[_0x1abc14(0xf6)]&&(_0x32f49f['paymentMethod']=_0x93e30[_0x1abc14(0xf6)]),_0x93e30['transactionId']&&(_0x32f49f['transactionId']=_0x93e30[_0x1abc14(0xf5)],_0x32f49f[_0x1abc14(0xe2)]=_0x93e30['transactionId']),console[_0x1abc14(0xf2)](_0x1abc14(0x10d)+_0x4510b4),{'paymentId':_0x93e30[_0x1abc14(0x101)]||_0x93e30[_0x1abc14(0xf7)]||'','status':_0x4510b4,'amount':_0x93e30['amount'],'currency':_0x93e30[_0x1abc14(0xf1)],'additionalInfo':_0x32f49f};}}exports[a41_0x36c228(0x10b)]=AmerService;