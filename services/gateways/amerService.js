'use strict';const a51_0x379119=a51_0x132e;(function(_0x49a45f,_0x3d71d1){const _0x3b6e85=a51_0x132e,_0x66ee7=_0x49a45f();while(!![]){try{const _0x20a335=-parseInt(_0x3b6e85(0x21e))/0x1+-parseInt(_0x3b6e85(0x21b))/0x2*(-parseInt(_0x3b6e85(0x202))/0x3)+-parseInt(_0x3b6e85(0x20e))/0x4*(parseInt(_0x3b6e85(0x20f))/0x5)+parseInt(_0x3b6e85(0x20a))/0x6+-parseInt(_0x3b6e85(0x21a))/0x7*(-parseInt(_0x3b6e85(0x210))/0x8)+-parseInt(_0x3b6e85(0x217))/0x9*(parseInt(_0x3b6e85(0x203))/0xa)+-parseInt(_0x3b6e85(0x1f1))/0xb;if(_0x20a335===_0x3d71d1)break;else _0x66ee7['push'](_0x66ee7['shift']());}catch(_0x3ea726){_0x66ee7['push'](_0x66ee7['shift']());}}}(a51_0x4501,0xab35b));function a51_0x132e(_0xd637fc,_0x5f3862){_0xd637fc=_0xd637fc-0x1e7;const _0x4501d6=a51_0x4501();let _0x132ea3=_0x4501d6[_0xd637fc];return _0x132ea3;}Object['defineProperty'](exports,a51_0x379119(0x21c),{'value':!![]}),exports[a51_0x379119(0x208)]=void 0x0;function a51_0x4501(){const _0x34243b=['13135XOjapU','16NYfHhS','üîç\x20Verifying\x20Amer\x20payment:\x20','PAID','/payment','/payment.php?payment_id=','Error\x20stack:','apiUrl','367029xECRxg','processWebhook','amount','4821719cldwDO','84LStHLG','__esModule','loggerService','89802sgWSQK','üí∞\x20Amount:\x20','logWhiteDomainRequest','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','&currency=','toUpperCase','===\x20AMER\x20SERVICE\x20ERROR\x20===','Amer\x20payment\x20verification\x20error:','Processing\x20Amer\x20webhook:','stack','Amount:','5647411XcuSLd','&order=','logWhiteDomainError','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','PENDING','cardLast4','success','log','&amount=','paymentMethod','verifyPayment','../loggerService','amer','message','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','error','67026zJHVxZ','290IdaVWl','FAILED','transactionId','GET','currency','AmerService','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','3800886DebILq','/payment/verify/','createPaymentLink','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','704mviPHR'];a51_0x4501=function(){return _0x34243b;};return a51_0x4501();}const loggerService_1=require(a51_0x379119(0x1fc));class AmerService{constructor(){const _0xde62c1=a51_0x379119;this[_0xde62c1(0x216)]='https://api2.trapay.uk',console[_0xde62c1(0x1f8)](_0xde62c1(0x209));}async[a51_0x379119(0x20c)](_0x189473){const _0x45c179=a51_0x379119,{paymentId:_0xb0f476,orderId:_0xb4c3f5,orderName:_0x5e2186,amount:_0x2f776e,currency:_0x4fd875,usage:_0x2c26aa,maxPayments:_0x4cf76b,successUrl:_0x8005de,failUrl:_0x25d6b9}=_0x189473,_0xcbcf0e=_0x4fd875[_0x45c179(0x1eb)]();console['log'](_0x45c179(0x20d)+_0xb4c3f5),console['log'](_0x45c179(0x1e7)+_0x2f776e+'\x20'+_0xcbcf0e);try{const _0x35127f=this[_0x45c179(0x216)]+_0x45c179(0x214)+_0xb0f476+_0x45c179(0x1f9)+_0x2f776e+_0x45c179(0x1ea)+_0xcbcf0e+_0x45c179(0x1f2)+_0xb4c3f5;return console[_0x45c179(0x1f8)](_0x45c179(0x1e9)),console[_0x45c179(0x1f8)]('Payment\x20ID:',_0xb0f476),console['log']('Payment\x20URL:',_0x35127f),console[_0x45c179(0x1f8)](_0x45c179(0x1f0),_0x2f776e,_0xcbcf0e),loggerService_1[_0x45c179(0x21d)][_0x45c179(0x1e8)](_0x45c179(0x1fd),'/payment',_0x45c179(0x206),{'paymentId':_0xb0f476,'amount':_0x2f776e,'currency':_0xcbcf0e,'orderId':_0xb4c3f5}),{'gateway_payment_id':_0xb0f476,'payment_url':_0x35127f};}catch(_0x54fc84){console[_0x45c179(0x201)](_0x45c179(0x1ec)),console[_0x45c179(0x201)]('Error\x20details:',_0x54fc84),loggerService_1[_0x45c179(0x21d)][_0x45c179(0x1f3)](_0x45c179(0x1fd),_0x45c179(0x213),_0x54fc84);if(_0x54fc84 instanceof Error){console[_0x45c179(0x201)]('Error\x20message:',_0x54fc84[_0x45c179(0x1fe)]),console[_0x45c179(0x201)](_0x45c179(0x215),_0x54fc84[_0x45c179(0x1ef)]);throw new Error(_0x45c179(0x1ff)+_0x54fc84[_0x45c179(0x1fe)]);}throw new Error(_0x45c179(0x200));}}async[a51_0x379119(0x1fb)](_0x427520){const _0x2bfd85=a51_0x379119;console[_0x2bfd85(0x1f8)](_0x2bfd85(0x211)+_0x427520);try{return loggerService_1['loggerService']['logWhiteDomainRequest'](_0x2bfd85(0x1fd),_0x2bfd85(0x20b)+_0x427520,_0x2bfd85(0x206),{}),{'status':_0x2bfd85(0x1f5)};}catch(_0x4d4df1){console[_0x2bfd85(0x201)](_0x2bfd85(0x1ed),_0x4d4df1),loggerService_1['loggerService'][_0x2bfd85(0x1f3)]('amer',_0x2bfd85(0x20b)+_0x427520,_0x4d4df1);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x4d4df1 instanceof Error?_0x4d4df1[_0x2bfd85(0x1fe)]:'Unknown\x20error'));}}async[a51_0x379119(0x218)](_0x26809f){const _0x2aa29d=a51_0x379119;console[_0x2aa29d(0x1f8)](_0x2aa29d(0x1ee),_0x26809f);let _0x1abdee=_0x2aa29d(0x1f5);if(_0x26809f['success']===!![])_0x1abdee=_0x2aa29d(0x212);else _0x26809f[_0x2aa29d(0x1f7)]===![]&&(_0x1abdee=_0x2aa29d(0x204));const _0x231b7b={};return _0x26809f[_0x2aa29d(0x1f6)]&&(_0x231b7b[_0x2aa29d(0x1f6)]=_0x26809f[_0x2aa29d(0x1f6)]),_0x26809f[_0x2aa29d(0x1fa)]&&(_0x231b7b[_0x2aa29d(0x1fa)]=_0x26809f['paymentMethod']),_0x26809f['transactionId']&&(_0x231b7b[_0x2aa29d(0x205)]=_0x26809f[_0x2aa29d(0x205)],_0x231b7b['gatewayPaymentId']=_0x26809f[_0x2aa29d(0x205)]),console['log'](_0x2aa29d(0x1f4)+_0x1abdee),{'paymentId':_0x26809f['paymentId']||_0x26809f['orderId']||'','status':_0x1abdee,'amount':_0x26809f[_0x2aa29d(0x219)],'currency':_0x26809f[_0x2aa29d(0x207)],'additionalInfo':_0x231b7b};}}exports[a51_0x379119(0x208)]=AmerService;