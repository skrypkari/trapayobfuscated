'use strict';const a41_0x28413d=a41_0x2180;(function(_0x3f68f8,_0x222e6a){const _0x535217=a41_0x2180,_0xab1096=_0x3f68f8();while(!![]){try{const _0x37ae1f=parseInt(_0x535217(0x1ac))/0x1*(-parseInt(_0x535217(0x193))/0x2)+-parseInt(_0x535217(0x1a7))/0x3+parseInt(_0x535217(0x1a6))/0x4*(parseInt(_0x535217(0x1a5))/0x5)+-parseInt(_0x535217(0x1a3))/0x6*(-parseInt(_0x535217(0x189))/0x7)+parseInt(_0x535217(0x194))/0x8*(-parseInt(_0x535217(0x19b))/0x9)+-parseInt(_0x535217(0x1af))/0xa*(-parseInt(_0x535217(0x181))/0xb)+parseInt(_0x535217(0x183))/0xc*(parseInt(_0x535217(0x1a4))/0xd);if(_0x37ae1f===_0x222e6a)break;else _0xab1096['push'](_0xab1096['shift']());}catch(_0x449fb6){_0xab1096['push'](_0xab1096['shift']());}}}(a41_0x2a8d,0xebd70));function a41_0x2180(_0x115895,_0x574bb0){const _0x2a8d5a=a41_0x2a8d();return a41_0x2180=function(_0x2180ca,_0x103f95){_0x2180ca=_0x2180ca-0x177;let _0x4ae97d=_0x2a8d5a[_0x2180ca];return _0x4ae97d;},a41_0x2180(_0x115895,_0x574bb0);}Object[a41_0x28413d(0x177)](exports,a41_0x28413d(0x17b),{'value':!![]}),exports[a41_0x28413d(0x18c)]=void 0x0;const loggerService_1=require(a41_0x28413d(0x19e));class AmerService{constructor(){const _0x389498=a41_0x28413d;this['apiUrl']='https://api2.trapay.uk',console[_0x389498(0x19a)](_0x389498(0x18f));}async[a41_0x28413d(0x182)](_0x1d0a5f){const _0x563ef3=a41_0x28413d,{paymentId:_0x46ecfa,orderId:_0x5defd7,orderName:_0x2b1b68,amount:_0x24f331,currency:_0x4e4654,usage:_0xa1dc2,maxPayments:_0x2af5dd,successUrl:_0x1297e8,failUrl:_0x2c2e99}=_0x1d0a5f,_0x1eeacd=_0x4e4654[_0x563ef3(0x192)]();console[_0x563ef3(0x19a)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x5defd7),console[_0x563ef3(0x19a)](_0x563ef3(0x195)+_0x24f331+'\x20'+_0x1eeacd);try{const _0x2cd3f7=this['apiUrl']+_0x563ef3(0x191)+_0x46ecfa+'&amount='+_0x24f331+_0x563ef3(0x178)+_0x1eeacd+_0x563ef3(0x18e)+_0x5defd7;return console['log']('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x563ef3(0x19a)](_0x563ef3(0x186),_0x46ecfa),console['log'](_0x563ef3(0x179),_0x2cd3f7),console['log'](_0x563ef3(0x197),_0x24f331,_0x1eeacd),loggerService_1[_0x563ef3(0x180)][_0x563ef3(0x1aa)]('amer',_0x563ef3(0x1b0),_0x563ef3(0x17e),{'paymentId':_0x46ecfa,'amount':_0x24f331,'currency':_0x1eeacd,'orderId':_0x5defd7}),{'gateway_payment_id':_0x46ecfa,'payment_url':_0x2cd3f7};}catch(_0x36dbd7){console[_0x563ef3(0x185)](_0x563ef3(0x19c)),console[_0x563ef3(0x185)](_0x563ef3(0x199),_0x36dbd7),loggerService_1['loggerService'][_0x563ef3(0x190)](_0x563ef3(0x1a9),_0x563ef3(0x1b0),_0x36dbd7);if(_0x36dbd7 instanceof Error){console[_0x563ef3(0x185)](_0x563ef3(0x17a),_0x36dbd7[_0x563ef3(0x1a1)]),console['error'](_0x563ef3(0x17f),_0x36dbd7[_0x563ef3(0x19f)]);throw new Error(_0x563ef3(0x1a0)+_0x36dbd7['message']);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async[a41_0x28413d(0x1ab)](_0x1ce1b8){const _0x3ef6fe=a41_0x28413d;console['log'](_0x3ef6fe(0x198)+_0x1ce1b8);try{return loggerService_1[_0x3ef6fe(0x180)]['logWhiteDomainRequest'](_0x3ef6fe(0x1a9),_0x3ef6fe(0x184)+_0x1ce1b8,_0x3ef6fe(0x17e),{}),{'status':'PENDING'};}catch(_0x521da3){console[_0x3ef6fe(0x185)](_0x3ef6fe(0x17d),_0x521da3),loggerService_1[_0x3ef6fe(0x180)][_0x3ef6fe(0x190)](_0x3ef6fe(0x1a9),_0x3ef6fe(0x184)+_0x1ce1b8,_0x521da3);throw new Error(_0x3ef6fe(0x188)+(_0x521da3 instanceof Error?_0x521da3[_0x3ef6fe(0x1a1)]:_0x3ef6fe(0x1ae)));}}async[a41_0x28413d(0x18a)](_0x23ae86){const _0x8e4ef6=a41_0x28413d;console['log']('Processing\x20Amer\x20webhook:',_0x23ae86);let _0x36fc0a=_0x8e4ef6(0x17c);if(_0x23ae86['success']===!![])_0x36fc0a=_0x8e4ef6(0x187);else _0x23ae86[_0x8e4ef6(0x18b)]===![]&&(_0x36fc0a=_0x8e4ef6(0x18d));const _0x119264={};return _0x23ae86[_0x8e4ef6(0x1a2)]&&(_0x119264[_0x8e4ef6(0x1a2)]=_0x23ae86[_0x8e4ef6(0x1a2)]),_0x23ae86[_0x8e4ef6(0x196)]&&(_0x119264[_0x8e4ef6(0x196)]=_0x23ae86['paymentMethod']),_0x23ae86[_0x8e4ef6(0x1a8)]&&(_0x119264[_0x8e4ef6(0x1a8)]=_0x23ae86[_0x8e4ef6(0x1a8)],_0x119264['gatewayPaymentId']=_0x23ae86[_0x8e4ef6(0x1a8)]),console[_0x8e4ef6(0x19a)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x36fc0a),{'paymentId':_0x23ae86[_0x8e4ef6(0x19d)]||_0x23ae86['orderId']||'','status':_0x36fc0a,'amount':_0x23ae86['amount'],'currency':_0x23ae86[_0x8e4ef6(0x1ad)],'additionalInfo':_0x119264};}}exports[a41_0x28413d(0x18c)]=AmerService;function a41_0x2a8d(){const _0x8babb7=['__esModule','PENDING','Amer\x20payment\x20verification\x20error:','GET','Error\x20stack:','loggerService','22iFTWKM','createPaymentLink','542556ZrjGmY','/payment/verify/','error','Payment\x20ID:','PAID','Failed\x20to\x20verify\x20Amer\x20payment:\x20','2072ksEzcI','processWebhook','success','AmerService','FAILED','&order=','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','logWhiteDomainError','/payment.php?payment_id=','toUpperCase','24nkbPyN','488brINcx','üí∞\x20Amount:\x20','paymentMethod','Amount:','üîç\x20Verifying\x20Amer\x20payment:\x20','Error\x20details:','log','22041bUQdOB','===\x20AMER\x20SERVICE\x20ERROR\x20===','paymentId','../loggerService','stack','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','message','cardLast4','12786prcVLU','299aXjqCJ','5rXlQnU','6346676sIIpba','4898883FrUZXI','transactionId','amer','logWhiteDomainRequest','verifyPayment','103468dZJOTb','currency','Unknown\x20error','3663110Mfnqnf','/payment','defineProperty','&currency=','Payment\x20URL:','Error\x20message:'];a41_0x2a8d=function(){return _0x8babb7;};return a41_0x2a8d();}