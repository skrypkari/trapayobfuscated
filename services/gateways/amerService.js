'use strict';function a45_0xca2c(_0x42cb37,_0x556c05){const _0x115424=a45_0x1154();return a45_0xca2c=function(_0xca2c98,_0x2c07ac){_0xca2c98=_0xca2c98-0xa4;let _0x565f44=_0x115424[_0xca2c98];return _0x565f44;},a45_0xca2c(_0x42cb37,_0x556c05);}const a45_0x213600=a45_0xca2c;(function(_0x10597e,_0x8f0e71){const _0x7a9d00=a45_0xca2c,_0x58b35e=_0x10597e();while(!![]){try{const _0x50e3d2=parseInt(_0x7a9d00(0xa4))/0x1+parseInt(_0x7a9d00(0xae))/0x2*(-parseInt(_0x7a9d00(0xd0))/0x3)+parseInt(_0x7a9d00(0xd1))/0x4*(-parseInt(_0x7a9d00(0xc1))/0x5)+-parseInt(_0x7a9d00(0xaa))/0x6*(-parseInt(_0x7a9d00(0xbd))/0x7)+parseInt(_0x7a9d00(0xda))/0x8+-parseInt(_0x7a9d00(0xb0))/0x9+parseInt(_0x7a9d00(0xcb))/0xa;if(_0x50e3d2===_0x8f0e71)break;else _0x58b35e['push'](_0x58b35e['shift']());}catch(_0x5dea5d){_0x58b35e['push'](_0x58b35e['shift']());}}}(a45_0x1154,0xe6bc3));Object[a45_0x213600(0xa5)](exports,a45_0x213600(0xa8),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a45_0x213600(0xd9));class AmerService{constructor(){const _0x3f1e82=a45_0x213600;this[_0x3f1e82(0xb3)]='https://api2.trapay.uk',console['log'](_0x3f1e82(0xbb));}async['createPaymentLink'](_0x592d63){const _0x1a6470=a45_0x213600,{paymentId:_0x16c3f0,orderId:_0xd537d1,orderName:_0x184927,amount:_0x259923,currency:_0x442d84,usage:_0xd8d683,maxPayments:_0x2ebcd0,successUrl:_0x2bd7e5,failUrl:_0x1491ed}=_0x592d63,_0x46a479=_0x442d84[_0x1a6470(0xb8)]();console[_0x1a6470(0xb1)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0xd537d1),console[_0x1a6470(0xb1)](_0x1a6470(0xcf)+_0x259923+'\x20'+_0x46a479);try{const _0x11134c=this['apiUrl']+_0x1a6470(0xab)+_0x16c3f0+_0x1a6470(0xb9)+_0x259923+_0x1a6470(0xad)+_0x46a479+'&order='+_0xd537d1;return console[_0x1a6470(0xb1)](_0x1a6470(0xce)),console['log'](_0x1a6470(0xaf),_0x16c3f0),console[_0x1a6470(0xb1)](_0x1a6470(0xca),_0x11134c),console['log']('Amount:',_0x259923,_0x46a479),loggerService_1['loggerService']['logWhiteDomainRequest'](_0x1a6470(0xb2),_0x1a6470(0xd4),_0x1a6470(0xb4),{'paymentId':_0x16c3f0,'amount':_0x259923,'currency':_0x46a479,'orderId':_0xd537d1}),{'gateway_payment_id':_0x16c3f0,'payment_url':_0x11134c};}catch(_0x366db5){console[_0x1a6470(0xc6)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console['error'](_0x1a6470(0xd8),_0x366db5),loggerService_1['loggerService'][_0x1a6470(0xd6)](_0x1a6470(0xb2),_0x1a6470(0xd4),_0x366db5);if(_0x366db5 instanceof Error){console['error'](_0x1a6470(0xac),_0x366db5[_0x1a6470(0xa9)]),console[_0x1a6470(0xc6)](_0x1a6470(0xbe),_0x366db5[_0x1a6470(0xb5)]);throw new Error(_0x1a6470(0xd3)+_0x366db5[_0x1a6470(0xa9)]);}throw new Error(_0x1a6470(0xc2));}}async[a45_0x213600(0xc4)](_0x27fbdb){const _0x5db972=a45_0x213600;console[_0x5db972(0xb1)]('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x27fbdb);try{return loggerService_1[_0x5db972(0xd5)][_0x5db972(0xa7)](_0x5db972(0xb2),_0x5db972(0xb6)+_0x27fbdb,'GET',{}),{'status':_0x5db972(0xba)};}catch(_0x12f248){console['error']('Amer\x20payment\x20verification\x20error:',_0x12f248),loggerService_1[_0x5db972(0xd5)][_0x5db972(0xd6)](_0x5db972(0xb2),_0x5db972(0xb6)+_0x27fbdb,_0x12f248);throw new Error(_0x5db972(0xc5)+(_0x12f248 instanceof Error?_0x12f248[_0x5db972(0xa9)]:_0x5db972(0xc7)));}}async[a45_0x213600(0xbf)](_0x2f52e0){const _0x9cf164=a45_0x213600;console[_0x9cf164(0xb1)](_0x9cf164(0xbc),_0x2f52e0);let _0x2c7a54='PENDING';if(_0x2f52e0[_0x9cf164(0xc8)]===!![])_0x2c7a54=_0x9cf164(0xd2);else _0x2f52e0[_0x9cf164(0xc8)]===![]&&(_0x2c7a54=_0x9cf164(0xdb));const _0x355510={};return _0x2f52e0['cardLast4']&&(_0x355510['cardLast4']=_0x2f52e0['cardLast4']),_0x2f52e0[_0x9cf164(0xcd)]&&(_0x355510[_0x9cf164(0xcd)]=_0x2f52e0['paymentMethod']),_0x2f52e0['transactionId']&&(_0x355510[_0x9cf164(0xd7)]=_0x2f52e0[_0x9cf164(0xd7)],_0x355510[_0x9cf164(0xc3)]=_0x2f52e0[_0x9cf164(0xd7)]),console[_0x9cf164(0xb1)](_0x9cf164(0xc0)+_0x2c7a54),{'paymentId':_0x2f52e0[_0x9cf164(0xa6)]||_0x2f52e0[_0x9cf164(0xb7)]||'','status':_0x2c7a54,'amount':_0x2f52e0['amount'],'currency':_0x2f52e0[_0x9cf164(0xcc)],'additionalInfo':_0x355510};}}function a45_0x1154(){const _0xb59005=['15988640DfDlRc','currency','paymentMethod','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','üí∞\x20Amount:\x20','478026ZjAHjZ','664ngoHTT','PAID','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','/payment','loggerService','logWhiteDomainError','transactionId','Error\x20details:','../loggerService','3196424TocNUM','FAILED','916446BCBoTH','defineProperty','paymentId','logWhiteDomainRequest','__esModule','message','5898lfoIQL','/payment.php?payment_id=','Error\x20message:','&currency=','6jxciKZ','Payment\x20ID:','7823097JKsync','log','amer','apiUrl','GET','stack','/payment/verify/','orderId','toUpperCase','&amount=','PENDING','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Processing\x20Amer\x20webhook:','4655CsalGv','Error\x20stack:','processWebhook','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','38440YbMnWY','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','gatewayPaymentId','verifyPayment','Failed\x20to\x20verify\x20Amer\x20payment:\x20','error','Unknown\x20error','success','AmerService','Payment\x20URL:'];a45_0x1154=function(){return _0xb59005;};return a45_0x1154();}exports[a45_0x213600(0xc9)]=AmerService;