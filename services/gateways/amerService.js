'use strict';const a45_0x227387=a45_0x4a32;(function(_0x2a5da4,_0x52a3c8){const _0x27b44c=a45_0x4a32,_0x3fea4e=_0x2a5da4();while(!![]){try{const _0x3d87c3=-parseInt(_0x27b44c(0x1cd))/0x1+-parseInt(_0x27b44c(0x1c9))/0x2*(parseInt(_0x27b44c(0x1d7))/0x3)+parseInt(_0x27b44c(0x1a7))/0x4*(parseInt(_0x27b44c(0x1ab))/0x5)+parseInt(_0x27b44c(0x1a4))/0x6+parseInt(_0x27b44c(0x1c6))/0x7*(parseInt(_0x27b44c(0x1d6))/0x8)+parseInt(_0x27b44c(0x1b2))/0x9+-parseInt(_0x27b44c(0x1d4))/0xa;if(_0x3d87c3===_0x52a3c8)break;else _0x3fea4e['push'](_0x3fea4e['shift']());}catch(_0x49675d){_0x3fea4e['push'](_0x3fea4e['shift']());}}}(a45_0x3287,0x63b4d));Object[a45_0x227387(0x1c5)](exports,a45_0x227387(0x1b0),{'value':!![]}),exports[a45_0x227387(0x1c7)]=void 0x0;const loggerService_1=require(a45_0x227387(0x1af));function a45_0x4a32(_0x350063,_0x189245){const _0x328701=a45_0x3287();return a45_0x4a32=function(_0x4a328d,_0x47018f){_0x4a328d=_0x4a328d-0x1a4;let _0x1e2f1b=_0x328701[_0x4a328d];return _0x1e2f1b;},a45_0x4a32(_0x350063,_0x189245);}class AmerService{constructor(){const _0x43c5c4=a45_0x227387;this['apiUrl']=_0x43c5c4(0x1ca),console[_0x43c5c4(0x1bf)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a45_0x227387(0x1cb)](_0x50dc33){const _0xc6c008=a45_0x227387,{paymentId:_0x59a84d,orderId:_0x11a5b0,orderName:_0x2ec1c2,amount:_0x133a39,currency:_0x5db3a9,usage:_0x4812e3,maxPayments:_0x3cc16b,successUrl:_0x5b6456,failUrl:_0x5c4d8c}=_0x50dc33,_0x22b3c3=_0x5db3a9['toUpperCase']();console[_0xc6c008(0x1bf)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x11a5b0),console[_0xc6c008(0x1bf)](_0xc6c008(0x1d5)+_0x133a39+'\x20'+_0x22b3c3);try{const _0xe984d4=this['apiUrl']+_0xc6c008(0x1b1)+_0x59a84d+_0xc6c008(0x1ac)+_0x133a39+_0xc6c008(0x1bb)+_0x22b3c3+_0xc6c008(0x1d8)+_0x11a5b0;return console['log'](_0xc6c008(0x1db)),console[_0xc6c008(0x1bf)]('Payment\x20ID:',_0x59a84d),console[_0xc6c008(0x1bf)]('Payment\x20URL:',_0xe984d4),console[_0xc6c008(0x1bf)](_0xc6c008(0x1a8),_0x133a39,_0x22b3c3),loggerService_1[_0xc6c008(0x1d0)][_0xc6c008(0x1ba)]('amer','/payment',_0xc6c008(0x1bd),{'paymentId':_0x59a84d,'amount':_0x133a39,'currency':_0x22b3c3,'orderId':_0x11a5b0}),{'gateway_payment_id':_0x59a84d,'payment_url':_0xe984d4};}catch(_0x377c86){console[_0xc6c008(0x1dc)](_0xc6c008(0x1b5)),console[_0xc6c008(0x1dc)](_0xc6c008(0x1c1),_0x377c86),loggerService_1[_0xc6c008(0x1d0)][_0xc6c008(0x1cf)](_0xc6c008(0x1b8),_0xc6c008(0x1b6),_0x377c86);if(_0x377c86 instanceof Error){console[_0xc6c008(0x1dc)](_0xc6c008(0x1ce),_0x377c86[_0xc6c008(0x1c4)]),console[_0xc6c008(0x1dc)](_0xc6c008(0x1ae),_0x377c86[_0xc6c008(0x1b3)]);throw new Error(_0xc6c008(0x1d3)+_0x377c86['message']);}throw new Error(_0xc6c008(0x1c8));}}async['verifyPayment'](_0x12996d){const _0x323827=a45_0x227387;console[_0x323827(0x1bf)](_0x323827(0x1aa)+_0x12996d);try{return loggerService_1[_0x323827(0x1d0)][_0x323827(0x1ba)](_0x323827(0x1b8),_0x323827(0x1d2)+_0x12996d,_0x323827(0x1bd),{}),{'status':_0x323827(0x1da)};}catch(_0x4e956a){console[_0x323827(0x1dc)](_0x323827(0x1ad),_0x4e956a),loggerService_1[_0x323827(0x1d0)][_0x323827(0x1cf)](_0x323827(0x1b8),_0x323827(0x1d2)+_0x12996d,_0x4e956a);throw new Error(_0x323827(0x1a9)+(_0x4e956a instanceof Error?_0x4e956a[_0x323827(0x1c4)]:_0x323827(0x1c2)));}}async[a45_0x227387(0x1b7)](_0x3198f9){const _0x2593ab=a45_0x227387;console[_0x2593ab(0x1bf)](_0x2593ab(0x1c0),_0x3198f9);let _0x7767e4=_0x2593ab(0x1da);if(_0x3198f9['success']===!![])_0x7767e4=_0x2593ab(0x1b4);else _0x3198f9['success']===![]&&(_0x7767e4=_0x2593ab(0x1b9));const _0x42faaa={};return _0x3198f9[_0x2593ab(0x1bc)]&&(_0x42faaa[_0x2593ab(0x1bc)]=_0x3198f9['cardLast4']),_0x3198f9['paymentMethod']&&(_0x42faaa[_0x2593ab(0x1d1)]=_0x3198f9['paymentMethod']),_0x3198f9['transactionId']&&(_0x42faaa[_0x2593ab(0x1a6)]=_0x3198f9['transactionId'],_0x42faaa['gatewayPaymentId']=_0x3198f9[_0x2593ab(0x1a6)]),console[_0x2593ab(0x1bf)](_0x2593ab(0x1cc)+_0x7767e4),{'paymentId':_0x3198f9[_0x2593ab(0x1a5)]||_0x3198f9[_0x2593ab(0x1be)]||'','status':_0x7767e4,'amount':_0x3198f9[_0x2593ab(0x1d9)],'currency':_0x3198f9[_0x2593ab(0x1c3)],'additionalInfo':_0x42faaa};}}exports[a45_0x227387(0x1c7)]=AmerService;function a45_0x3287(){const _0x39800f=['amer','FAILED','logWhiteDomainRequest','&currency=','cardLast4','GET','orderId','log','Processing\x20Amer\x20webhook:','Error\x20details:','Unknown\x20error','currency','message','defineProperty','7gCqMLk','AmerService','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','143502zmnLrF','https://api2.trapay.uk','createPaymentLink','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','717072sIbGal','Error\x20message:','logWhiteDomainError','loggerService','paymentMethod','/payment/verify/','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','6286910qrXXda','üí∞\x20Amount:\x20','2476064YneBYI','6YUiKdT','&order=','amount','PENDING','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','error','4145388RvWylQ','paymentId','transactionId','33980olUDGb','Amount:','Failed\x20to\x20verify\x20Amer\x20payment:\x20','üîç\x20Verifying\x20Amer\x20payment:\x20','50aXJBjx','&amount=','Amer\x20payment\x20verification\x20error:','Error\x20stack:','../loggerService','__esModule','/payment.php?payment_id=','7310754WXbGEl','stack','PAID','===\x20AMER\x20SERVICE\x20ERROR\x20===','/payment','processWebhook'];a45_0x3287=function(){return _0x39800f;};return a45_0x3287();}