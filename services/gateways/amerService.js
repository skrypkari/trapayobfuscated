'use strict';function a53_0x9d06(){const _0x9f7131=['cardLast4','error','GET','amount','Error\x20message:','logWhiteDomainError','15hJpwrY','Processing\x20Amer\x20webhook:','paymentId','Payment\x20ID:','&order=','115203hqHebB','8091ebGzEK','paymentMethod','286446KwZrIn','Amount:','Failed\x20to\x20verify\x20Amer\x20payment:\x20','AmerService','Unknown\x20error','3VAHCpi','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','PENDING','log','15315289MfFWoO','&amount=','createPaymentLink','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','stack','FAILED','success','__esModule','gatewayPaymentId','1121926yvJKyO','&currency=','/payment','/payment/verify/','loggerService','processWebhook','apiUrl','üí∞\x20Amount:\x20','2458248XTlsDU','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','üîç\x20Verifying\x20Amer\x20payment:\x20','defineProperty','amer','Error\x20stack:','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','Error\x20details:','1688DWyqih','logWhiteDomainRequest','currency','orderId','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','message','PAID','verifyPayment','3260wZOYbd','3521MOAYOJ','transactionId'];a53_0x9d06=function(){return _0x9f7131;};return a53_0x9d06();}const a53_0x2bbdbc=a53_0x5463;(function(_0x468e19,_0x458ce4){const _0x15d5bd=a53_0x5463,_0x518698=_0x468e19();while(!![]){try{const _0x58b177=-parseInt(_0x15d5bd(0x96))/0x1+-parseInt(_0x15d5bd(0xac))/0x2*(parseInt(_0x15d5bd(0x9e))/0x3)+-parseInt(_0x15d5bd(0xb4))/0x4+parseInt(_0x15d5bd(0x91))/0x5*(-parseInt(_0x15d5bd(0x99))/0x6)+-parseInt(_0x15d5bd(0x89))/0x7*(-parseInt(_0x15d5bd(0x80))/0x8)+-parseInt(_0x15d5bd(0x97))/0x9*(-parseInt(_0x15d5bd(0x88))/0xa)+parseInt(_0x15d5bd(0xa2))/0xb;if(_0x58b177===_0x458ce4)break;else _0x518698['push'](_0x518698['shift']());}catch(_0x244901){_0x518698['push'](_0x518698['shift']());}}}(a53_0x9d06,0x574b3));function a53_0x5463(_0x1fad92,_0x1228f0){_0x1fad92=_0x1fad92-0x79;const _0x9d0614=a53_0x9d06();let _0x54632e=_0x9d0614[_0x1fad92];return _0x54632e;}Object[a53_0x2bbdbc(0x7b)](exports,a53_0x2bbdbc(0xaa),{'value':!![]}),exports[a53_0x2bbdbc(0x9c)]=void 0x0;const loggerService_1=require('../loggerService');class AmerService{constructor(){const _0x4018f5=a53_0x2bbdbc;this['apiUrl']='https://api2.trapay.uk',console['log'](_0x4018f5(0xa6));}async[a53_0x2bbdbc(0xa4)](_0x2babbe){const _0x1b9984=a53_0x2bbdbc,{paymentId:_0x4a4cb5,orderId:_0x57a729,orderName:_0xdffa6,amount:_0x569452,currency:_0x30e0a4,usage:_0x2b97f1,maxPayments:_0x47e5e5,successUrl:_0x3b991e,failUrl:_0x5cb05b}=_0x2babbe,_0x56415f=_0x30e0a4['toUpperCase']();console['log'](_0x1b9984(0xa5)+_0x57a729),console[_0x1b9984(0xa1)](_0x1b9984(0xb3)+_0x569452+'\x20'+_0x56415f);try{const _0x2e2961=this[_0x1b9984(0xb2)]+'/payment.php?payment_id='+_0x4a4cb5+_0x1b9984(0xa3)+_0x569452+_0x1b9984(0xad)+_0x56415f+_0x1b9984(0x95)+_0x57a729;return console[_0x1b9984(0xa1)](_0x1b9984(0x79)),console[_0x1b9984(0xa1)](_0x1b9984(0x94),_0x4a4cb5),console[_0x1b9984(0xa1)]('Payment\x20URL:',_0x2e2961),console['log'](_0x1b9984(0x9a),_0x569452,_0x56415f),loggerService_1[_0x1b9984(0xb0)][_0x1b9984(0x81)](_0x1b9984(0x7c),'/payment',_0x1b9984(0x8d),{'paymentId':_0x4a4cb5,'amount':_0x569452,'currency':_0x56415f,'orderId':_0x57a729}),{'gateway_payment_id':_0x4a4cb5,'payment_url':_0x2e2961};}catch(_0x542ce7){console['error']('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x1b9984(0x8c)](_0x1b9984(0x7f),_0x542ce7),loggerService_1['loggerService'][_0x1b9984(0x90)](_0x1b9984(0x7c),_0x1b9984(0xae),_0x542ce7);if(_0x542ce7 instanceof Error){console[_0x1b9984(0x8c)](_0x1b9984(0x8f),_0x542ce7[_0x1b9984(0x85)]),console['error'](_0x1b9984(0x7d),_0x542ce7[_0x1b9984(0xa7)]);throw new Error(_0x1b9984(0x84)+_0x542ce7['message']);}throw new Error(_0x1b9984(0x7e));}}async[a53_0x2bbdbc(0x87)](_0x18e95a){const _0x1c0110=a53_0x2bbdbc;console[_0x1c0110(0xa1)](_0x1c0110(0x7a)+_0x18e95a);try{return loggerService_1[_0x1c0110(0xb0)][_0x1c0110(0x81)](_0x1c0110(0x7c),_0x1c0110(0xaf)+_0x18e95a,_0x1c0110(0x8d),{}),{'status':_0x1c0110(0xa0)};}catch(_0x1c6515){console[_0x1c0110(0x8c)]('Amer\x20payment\x20verification\x20error:',_0x1c6515),loggerService_1[_0x1c0110(0xb0)][_0x1c0110(0x90)]('amer',_0x1c0110(0xaf)+_0x18e95a,_0x1c6515);throw new Error(_0x1c0110(0x9b)+(_0x1c6515 instanceof Error?_0x1c6515[_0x1c0110(0x85)]:_0x1c0110(0x9d)));}}async[a53_0x2bbdbc(0xb1)](_0x2b2402){const _0x13016f=a53_0x2bbdbc;console[_0x13016f(0xa1)](_0x13016f(0x92),_0x2b2402);let _0x465f99='PENDING';if(_0x2b2402[_0x13016f(0xa9)]===!![])_0x465f99=_0x13016f(0x86);else _0x2b2402['success']===![]&&(_0x465f99=_0x13016f(0xa8));const _0x474f50={};return _0x2b2402[_0x13016f(0x8b)]&&(_0x474f50[_0x13016f(0x8b)]=_0x2b2402[_0x13016f(0x8b)]),_0x2b2402[_0x13016f(0x98)]&&(_0x474f50[_0x13016f(0x98)]=_0x2b2402['paymentMethod']),_0x2b2402[_0x13016f(0x8a)]&&(_0x474f50['transactionId']=_0x2b2402[_0x13016f(0x8a)],_0x474f50[_0x13016f(0xab)]=_0x2b2402[_0x13016f(0x8a)]),console[_0x13016f(0xa1)](_0x13016f(0x9f)+_0x465f99),{'paymentId':_0x2b2402[_0x13016f(0x93)]||_0x2b2402[_0x13016f(0x83)]||'','status':_0x465f99,'amount':_0x2b2402[_0x13016f(0x8e)],'currency':_0x2b2402[_0x13016f(0x82)],'additionalInfo':_0x474f50};}}exports[a53_0x2bbdbc(0x9c)]=AmerService;