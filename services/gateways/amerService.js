'use strict';const a41_0x35ef83=a41_0x3992;function a41_0x3992(_0x4270db,_0x2fd00e){const _0x56027b=a41_0x5602();return a41_0x3992=function(_0x399205,_0x92125){_0x399205=_0x399205-0x1a6;let _0x2f0a44=_0x56027b[_0x399205];return _0x2f0a44;},a41_0x3992(_0x4270db,_0x2fd00e);}function a41_0x5602(){const _0x56ed94=['10613272ZtQosJ','Amer\x20payment\x20verification\x20error:','../loggerService','&order=','55690uhYOTk','5bQyEPW','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','7gYvhDp','success','&amount=','createPaymentLink','&currency=','gatewayPaymentId','===\x20AMER\x20SERVICE\x20ERROR\x20===','logWhiteDomainError','processWebhook','Error\x20details:','paymentId','amount','986322SAiHmO','logWhiteDomainRequest','verifyPayment','transactionId','log','apiUrl','/payment.php?payment_id=','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','defineProperty','Payment\x20ID:','paymentMethod','amer','cardLast4','AmerService','Failed\x20to\x20verify\x20Amer\x20payment:\x20','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','üí∞\x20Amount:\x20','Error\x20message:','currency','112416QgeAXg','loggerService','PENDING','408iEWoUi','Payment\x20URL:','stack','45Txgvoe','GET','6167308rSVhWH','üîç\x20Verifying\x20Amer\x20payment:\x20','error','152250rBqNwN','PAID','/payment','231440UXHNDL','FAILED','45nKtmNS','message','/payment/verify/','Amount:'];a41_0x5602=function(){return _0x56ed94;};return a41_0x5602();}(function(_0x32db10,_0x385244){const _0x1c73df=a41_0x3992,_0x3cfde0=_0x32db10();while(!![]){try{const _0x456043=parseInt(_0x1c73df(0x1ab))/0x1*(parseInt(_0x1c73df(0x1cc))/0x2)+parseInt(_0x1c73df(0x1d7))/0x3+parseInt(_0x1c73df(0x1d4))/0x4+parseInt(_0x1c73df(0x1d2))/0x5*(-parseInt(_0x1c73df(0x1b9))/0x6)+parseInt(_0x1c73df(0x1ad))/0x7*(parseInt(_0x1c73df(0x1a6))/0x8)+-parseInt(_0x1c73df(0x1dc))/0x9*(parseInt(_0x1c73df(0x1aa))/0xa)+parseInt(_0x1c73df(0x1da))/0xb*(-parseInt(_0x1c73df(0x1cf))/0xc);if(_0x456043===_0x385244)break;else _0x3cfde0['push'](_0x3cfde0['shift']());}catch(_0x387ea4){_0x3cfde0['push'](_0x3cfde0['shift']());}}}(a41_0x5602,0xeeab4));Object[a41_0x35ef83(0x1c1)](exports,'__esModule',{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a41_0x35ef83(0x1a8));class AmerService{constructor(){const _0x3d269a=a41_0x35ef83;this[_0x3d269a(0x1be)]='https://api2.trapay.uk',console[_0x3d269a(0x1bd)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a41_0x35ef83(0x1b0)](_0x5d5ee8){const _0x2d3b53=a41_0x35ef83,{paymentId:_0x287530,orderId:_0x4a8da1,orderName:_0x2694b2,amount:_0x6f4fa0,currency:_0x2b0afa,usage:_0x2f0230,maxPayments:_0x31ed74,successUrl:_0x10557b,failUrl:_0x43b895}=_0x5d5ee8,_0x1f3d64=_0x2b0afa['toUpperCase']();console['log']('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x4a8da1),console[_0x2d3b53(0x1bd)](_0x2d3b53(0x1c9)+_0x6f4fa0+'\x20'+_0x1f3d64);try{const _0x13713a=this[_0x2d3b53(0x1be)]+_0x2d3b53(0x1bf)+_0x287530+_0x2d3b53(0x1af)+_0x6f4fa0+_0x2d3b53(0x1b1)+_0x1f3d64+_0x2d3b53(0x1a9)+_0x4a8da1;return console['log'](_0x2d3b53(0x1c0)),console[_0x2d3b53(0x1bd)](_0x2d3b53(0x1c2),_0x287530),console[_0x2d3b53(0x1bd)](_0x2d3b53(0x1d0),_0x13713a),console[_0x2d3b53(0x1bd)](_0x2d3b53(0x1df),_0x6f4fa0,_0x1f3d64),loggerService_1[_0x2d3b53(0x1cd)][_0x2d3b53(0x1ba)](_0x2d3b53(0x1c4),_0x2d3b53(0x1d9),_0x2d3b53(0x1d3),{'paymentId':_0x287530,'amount':_0x6f4fa0,'currency':_0x1f3d64,'orderId':_0x4a8da1}),{'gateway_payment_id':_0x287530,'payment_url':_0x13713a};}catch(_0x68bdae){console['error'](_0x2d3b53(0x1b3)),console[_0x2d3b53(0x1d6)](_0x2d3b53(0x1b6),_0x68bdae),loggerService_1['loggerService']['logWhiteDomainError']('amer',_0x2d3b53(0x1d9),_0x68bdae);if(_0x68bdae instanceof Error){console[_0x2d3b53(0x1d6)](_0x2d3b53(0x1ca),_0x68bdae[_0x2d3b53(0x1dd)]),console[_0x2d3b53(0x1d6)]('Error\x20stack:',_0x68bdae[_0x2d3b53(0x1d1)]);throw new Error(_0x2d3b53(0x1c8)+_0x68bdae[_0x2d3b53(0x1dd)]);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async[a41_0x35ef83(0x1bb)](_0x4bbb7e){const _0x4ea129=a41_0x35ef83;console[_0x4ea129(0x1bd)](_0x4ea129(0x1d5)+_0x4bbb7e);try{return loggerService_1[_0x4ea129(0x1cd)][_0x4ea129(0x1ba)]('amer',_0x4ea129(0x1de)+_0x4bbb7e,_0x4ea129(0x1d3),{}),{'status':_0x4ea129(0x1ce)};}catch(_0x323d63){console[_0x4ea129(0x1d6)](_0x4ea129(0x1a7),_0x323d63),loggerService_1['loggerService'][_0x4ea129(0x1b4)]('amer',_0x4ea129(0x1de)+_0x4bbb7e,_0x323d63);throw new Error(_0x4ea129(0x1c7)+(_0x323d63 instanceof Error?_0x323d63['message']:'Unknown\x20error'));}}async[a41_0x35ef83(0x1b5)](_0x274dd2){const _0xc5bbff=a41_0x35ef83;console['log']('Processing\x20Amer\x20webhook:',_0x274dd2);let _0x25bc53='PENDING';if(_0x274dd2['success']===!![])_0x25bc53=_0xc5bbff(0x1d8);else _0x274dd2[_0xc5bbff(0x1ae)]===![]&&(_0x25bc53=_0xc5bbff(0x1db));const _0x2fbf64={};return _0x274dd2[_0xc5bbff(0x1c5)]&&(_0x2fbf64[_0xc5bbff(0x1c5)]=_0x274dd2[_0xc5bbff(0x1c5)]),_0x274dd2['paymentMethod']&&(_0x2fbf64[_0xc5bbff(0x1c3)]=_0x274dd2[_0xc5bbff(0x1c3)]),_0x274dd2[_0xc5bbff(0x1bc)]&&(_0x2fbf64[_0xc5bbff(0x1bc)]=_0x274dd2['transactionId'],_0x2fbf64[_0xc5bbff(0x1b2)]=_0x274dd2[_0xc5bbff(0x1bc)]),console[_0xc5bbff(0x1bd)](_0xc5bbff(0x1ac)+_0x25bc53),{'paymentId':_0x274dd2[_0xc5bbff(0x1b7)]||_0x274dd2['orderId']||'','status':_0x25bc53,'amount':_0x274dd2[_0xc5bbff(0x1b8)],'currency':_0x274dd2[_0xc5bbff(0x1cb)],'additionalInfo':_0x2fbf64};}}exports[a41_0x35ef83(0x1c6)]=AmerService;