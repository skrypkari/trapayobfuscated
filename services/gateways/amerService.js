'use strict';const a53_0x16f3da=a53_0x1ca1;(function(_0x38af41,_0x292044){const _0x1f5b04=a53_0x1ca1,_0x3aa861=_0x38af41();while(!![]){try{const _0x23025a=parseInt(_0x1f5b04(0x1c5))/0x1*(parseInt(_0x1f5b04(0x1e4))/0x2)+-parseInt(_0x1f5b04(0x1e5))/0x3+-parseInt(_0x1f5b04(0x1c7))/0x4+-parseInt(_0x1f5b04(0x1c8))/0x5+parseInt(_0x1f5b04(0x1d6))/0x6*(parseInt(_0x1f5b04(0x1cf))/0x7)+parseInt(_0x1f5b04(0x1bb))/0x8*(-parseInt(_0x1f5b04(0x1cc))/0x9)+parseInt(_0x1f5b04(0x1c3))/0xa;if(_0x23025a===_0x292044)break;else _0x3aa861['push'](_0x3aa861['shift']());}catch(_0x2a2ce0){_0x3aa861['push'](_0x3aa861['shift']());}}}(a53_0x46fd,0xbd9c8));Object[a53_0x16f3da(0x1df)](exports,a53_0x16f3da(0x1ea),{'value':!![]}),exports[a53_0x16f3da(0x1ce)]=void 0x0;const loggerService_1=require(a53_0x16f3da(0x1e3));function a53_0x1ca1(_0x7c32b5,_0x54d4c8){_0x7c32b5=_0x7c32b5-0x1b7;const _0x46fd2e=a53_0x46fd();let _0x1ca10d=_0x46fd2e[_0x7c32b5];return _0x1ca10d;}function a53_0x46fd(){const _0xf3714f=['Payment\x20URL:','apiUrl','Error\x20details:','Unknown\x20error','Failed\x20to\x20verify\x20Amer\x20payment:\x20','&order=','üí∞\x20Amount:\x20','Processing\x20Amer\x20webhook:','defineProperty','üîç\x20Verifying\x20Amer\x20payment:\x20','gatewayPaymentId','toUpperCase','../loggerService','63786SyDUUm','3191388eigTKM','cardLast4','error','/payment/verify/','/payment','__esModule','PENDING','currency','stack','success','FAILED','paymentMethod','Error\x20stack:','transactionId','PAID','1120456TxbXYw','/payment.php?payment_id=','&currency=','amount','https://api2.trapay.uk','logWhiteDomainError','paymentId','logWhiteDomainRequest','37261430uCVzDo','orderId','47TRXjbv','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','6058116dCrzPT','2496755PTpyqc','createPaymentLink','loggerService','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','99rAWOnO','verifyPayment','AmerService','7POiBEH','log','processWebhook','message','amer','Payment\x20ID:','GET','1019022YtELep'];a53_0x46fd=function(){return _0xf3714f;};return a53_0x46fd();}class AmerService{constructor(){const _0xd1909d=a53_0x16f3da;this['apiUrl']=_0xd1909d(0x1bf),console[_0xd1909d(0x1d0)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a53_0x16f3da(0x1c9)](_0x48d2c7){const _0xb396d1=a53_0x16f3da,{paymentId:_0x404783,orderId:_0x242226,orderName:_0xd70bfc,amount:_0x1b69bf,currency:_0x3dd24f,usage:_0x3a5bc5,maxPayments:_0x751fc4,successUrl:_0x1c3841,failUrl:_0x5a3db0}=_0x48d2c7,_0x3254db=_0x3dd24f[_0xb396d1(0x1e2)]();console[_0xb396d1(0x1d0)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x242226),console[_0xb396d1(0x1d0)](_0xb396d1(0x1dd)+_0x1b69bf+'\x20'+_0x3254db);try{const _0xd85f51=this[_0xb396d1(0x1d8)]+_0xb396d1(0x1bc)+_0x404783+'&amount='+_0x1b69bf+_0xb396d1(0x1bd)+_0x3254db+_0xb396d1(0x1dc)+_0x242226;return console[_0xb396d1(0x1d0)](_0xb396d1(0x1c6)),console['log'](_0xb396d1(0x1d4),_0x404783),console['log'](_0xb396d1(0x1d7),_0xd85f51),console[_0xb396d1(0x1d0)]('Amount:',_0x1b69bf,_0x3254db),loggerService_1['loggerService'][_0xb396d1(0x1c2)](_0xb396d1(0x1d3),_0xb396d1(0x1e9),_0xb396d1(0x1d5),{'paymentId':_0x404783,'amount':_0x1b69bf,'currency':_0x3254db,'orderId':_0x242226}),{'gateway_payment_id':_0x404783,'payment_url':_0xd85f51};}catch(_0x336544){console[_0xb396d1(0x1e7)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0xb396d1(0x1e7)](_0xb396d1(0x1d9),_0x336544),loggerService_1[_0xb396d1(0x1ca)][_0xb396d1(0x1c0)](_0xb396d1(0x1d3),_0xb396d1(0x1e9),_0x336544);if(_0x336544 instanceof Error){console[_0xb396d1(0x1e7)]('Error\x20message:',_0x336544['message']),console[_0xb396d1(0x1e7)](_0xb396d1(0x1b8),_0x336544[_0xb396d1(0x1ed)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x336544[_0xb396d1(0x1d2)]);}throw new Error(_0xb396d1(0x1cb));}}async[a53_0x16f3da(0x1cd)](_0x3254da){const _0xe06892=a53_0x16f3da;console['log'](_0xe06892(0x1e0)+_0x3254da);try{return loggerService_1[_0xe06892(0x1ca)][_0xe06892(0x1c2)](_0xe06892(0x1d3),_0xe06892(0x1e8)+_0x3254da,_0xe06892(0x1d5),{}),{'status':_0xe06892(0x1eb)};}catch(_0x1fd24a){console[_0xe06892(0x1e7)]('Amer\x20payment\x20verification\x20error:',_0x1fd24a),loggerService_1['loggerService'][_0xe06892(0x1c0)](_0xe06892(0x1d3),_0xe06892(0x1e8)+_0x3254da,_0x1fd24a);throw new Error(_0xe06892(0x1db)+(_0x1fd24a instanceof Error?_0x1fd24a['message']:_0xe06892(0x1da)));}}async[a53_0x16f3da(0x1d1)](_0x446580){const _0x157471=a53_0x16f3da;console[_0x157471(0x1d0)](_0x157471(0x1de),_0x446580);let _0x3c318a=_0x157471(0x1eb);if(_0x446580[_0x157471(0x1ee)]===!![])_0x3c318a=_0x157471(0x1ba);else _0x446580[_0x157471(0x1ee)]===![]&&(_0x3c318a=_0x157471(0x1ef));const _0x2f4fa7={};return _0x446580[_0x157471(0x1e6)]&&(_0x2f4fa7[_0x157471(0x1e6)]=_0x446580['cardLast4']),_0x446580[_0x157471(0x1b7)]&&(_0x2f4fa7[_0x157471(0x1b7)]=_0x446580[_0x157471(0x1b7)]),_0x446580['transactionId']&&(_0x2f4fa7[_0x157471(0x1b9)]=_0x446580[_0x157471(0x1b9)],_0x2f4fa7[_0x157471(0x1e1)]=_0x446580['transactionId']),console[_0x157471(0x1d0)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x3c318a),{'paymentId':_0x446580[_0x157471(0x1c1)]||_0x446580[_0x157471(0x1c4)]||'','status':_0x3c318a,'amount':_0x446580[_0x157471(0x1be)],'currency':_0x446580[_0x157471(0x1ec)],'additionalInfo':_0x2f4fa7};}}exports[a53_0x16f3da(0x1ce)]=AmerService;