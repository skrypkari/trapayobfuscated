'use strict';const a61_0x29ba3a=a61_0x1bce;(function(_0x143c52,_0x52ae1f){const _0x2c8e0b=a61_0x1bce,_0x14029e=_0x143c52();while(!![]){try{const _0x58908e=parseInt(_0x2c8e0b(0xd5))/0x1+-parseInt(_0x2c8e0b(0xae))/0x2+-parseInt(_0x2c8e0b(0xd7))/0x3*(parseInt(_0x2c8e0b(0xd4))/0x4)+parseInt(_0x2c8e0b(0xc7))/0x5+-parseInt(_0x2c8e0b(0xad))/0x6+parseInt(_0x2c8e0b(0xd3))/0x7+-parseInt(_0x2c8e0b(0xb6))/0x8*(parseInt(_0x2c8e0b(0xc1))/0x9);if(_0x58908e===_0x52ae1f)break;else _0x14029e['push'](_0x14029e['shift']());}catch(_0x3fb20e){_0x14029e['push'](_0x14029e['shift']());}}}(a61_0x4cc3,0xa18bf));Object['defineProperty'](exports,a61_0x29ba3a(0xd6),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a61_0x29ba3a(0xd8));class AmerService{constructor(){const _0x1cd013=a61_0x29ba3a;this[_0x1cd013(0xc8)]=_0x1cd013(0xce),console['log'](_0x1cd013(0xcf));}async[a61_0x29ba3a(0xcd)](_0x5781a6){const _0x2c5080=a61_0x29ba3a,{paymentId:_0xe65147,orderId:_0x5820eb,orderName:_0x16cb35,amount:_0x2c2d36,currency:_0x2c109c,usage:_0x57c19c,maxPayments:_0x846b0f,successUrl:_0x26d6ea,failUrl:_0x219089}=_0x5781a6,_0x2ea37a=_0x2c109c['toUpperCase']();console[_0x2c5080(0xcb)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x5820eb),console[_0x2c5080(0xcb)](_0x2c5080(0xc3)+_0x2c2d36+'\x20'+_0x2ea37a);try{const _0xbd0a39=this[_0x2c5080(0xc8)]+_0x2c5080(0xb0)+_0xe65147+_0x2c5080(0xbe)+_0x2c2d36+_0x2c5080(0xaf)+_0x2ea37a+_0x2c5080(0xb5)+_0x5820eb;return console['log'](_0x2c5080(0xbd)),console['log'](_0x2c5080(0xc2),_0xe65147),console['log'](_0x2c5080(0xc0),_0xbd0a39),console[_0x2c5080(0xcb)](_0x2c5080(0xc6),_0x2c2d36,_0x2ea37a),loggerService_1[_0x2c5080(0xb1)][_0x2c5080(0xc9)](_0x2c5080(0xc4),_0x2c5080(0xcc),_0x2c5080(0xd0),{'paymentId':_0xe65147,'amount':_0x2c2d36,'currency':_0x2ea37a,'orderId':_0x5820eb}),{'gateway_payment_id':_0xe65147,'payment_url':_0xbd0a39};}catch(_0x21b71e){console['error']('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x2c5080(0xca)](_0x2c5080(0xb8),_0x21b71e),loggerService_1['loggerService'][_0x2c5080(0xa9)](_0x2c5080(0xc4),_0x2c5080(0xcc),_0x21b71e);if(_0x21b71e instanceof Error){console['error']('Error\x20message:',_0x21b71e['message']),console[_0x2c5080(0xca)]('Error\x20stack:',_0x21b71e[_0x2c5080(0xda)]);throw new Error(_0x2c5080(0xd9)+_0x21b71e[_0x2c5080(0xb7)]);}throw new Error(_0x2c5080(0xd2));}}async[a61_0x29ba3a(0xbc)](_0x3c8663){const _0xf449b6=a61_0x29ba3a;console[_0xf449b6(0xcb)](_0xf449b6(0xab)+_0x3c8663);try{return loggerService_1['loggerService']['logWhiteDomainRequest'](_0xf449b6(0xc4),_0xf449b6(0xd1)+_0x3c8663,'GET',{}),{'status':_0xf449b6(0xa8)};}catch(_0x1c727d){console[_0xf449b6(0xca)]('Amer\x20payment\x20verification\x20error:',_0x1c727d),loggerService_1[_0xf449b6(0xb1)][_0xf449b6(0xa9)](_0xf449b6(0xc4),_0xf449b6(0xd1)+_0x3c8663,_0x1c727d);throw new Error(_0xf449b6(0xb4)+(_0x1c727d instanceof Error?_0x1c727d[_0xf449b6(0xb7)]:_0xf449b6(0xbb)));}}async['processWebhook'](_0x1d6963){const _0x3b6bb9=a61_0x29ba3a;console[_0x3b6bb9(0xcb)](_0x3b6bb9(0xb3),_0x1d6963);let _0x1b0f57=_0x3b6bb9(0xa8);if(_0x1d6963['success']===!![])_0x1b0f57='PAID';else _0x1d6963[_0x3b6bb9(0xaa)]===![]&&(_0x1b0f57=_0x3b6bb9(0xba));const _0x58991b={};return _0x1d6963['cardLast4']&&(_0x58991b['cardLast4']=_0x1d6963[_0x3b6bb9(0xb9)]),_0x1d6963['paymentMethod']&&(_0x58991b[_0x3b6bb9(0xb2)]=_0x1d6963[_0x3b6bb9(0xb2)]),_0x1d6963[_0x3b6bb9(0xa7)]&&(_0x58991b[_0x3b6bb9(0xa7)]=_0x1d6963[_0x3b6bb9(0xa7)],_0x58991b['gatewayPaymentId']=_0x1d6963[_0x3b6bb9(0xa7)]),console[_0x3b6bb9(0xcb)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x1b0f57),{'paymentId':_0x1d6963[_0x3b6bb9(0xc5)]||_0x1d6963[_0x3b6bb9(0xac)]||'','status':_0x1b0f57,'amount':_0x1d6963['amount'],'currency':_0x1d6963['currency'],'additionalInfo':_0x58991b};}}function a61_0x4cc3(){const _0x5f06f6=['/payment','createPaymentLink','https://api2.trapay.uk','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','GET','/payment/verify/','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','7245854mWbaIY','3686476leMoGI','751837zYSYAW','__esModule','3vFDTSr','../loggerService','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','stack','transactionId','PENDING','logWhiteDomainError','success','üîç\x20Verifying\x20Amer\x20payment:\x20','orderId','3102252ZXETTN','368820zeEqNA','&currency=','/payment.php?payment_id=','loggerService','paymentMethod','Processing\x20Amer\x20webhook:','Failed\x20to\x20verify\x20Amer\x20payment:\x20','&order=','16BeoonI','message','Error\x20details:','cardLast4','FAILED','Unknown\x20error','verifyPayment','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','&amount=','AmerService','Payment\x20URL:','3535965DHBMgD','Payment\x20ID:','üí∞\x20Amount:\x20','amer','paymentId','Amount:','6417885RhAsSK','apiUrl','logWhiteDomainRequest','error','log'];a61_0x4cc3=function(){return _0x5f06f6;};return a61_0x4cc3();}function a61_0x1bce(_0x6684df,_0x383abe){_0x6684df=_0x6684df-0xa7;const _0x4cc32f=a61_0x4cc3();let _0x1bcee8=_0x4cc32f[_0x6684df];return _0x1bcee8;}exports[a61_0x29ba3a(0xbf)]=AmerService;