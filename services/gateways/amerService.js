'use strict';const a45_0xd2de1e=a45_0x23d4;(function(_0x2d3b0f,_0x23744d){const _0x124e75=a45_0x23d4,_0x30be8b=_0x2d3b0f();while(!![]){try{const _0x4e7569=parseInt(_0x124e75(0x1a9))/0x1*(parseInt(_0x124e75(0x18c))/0x2)+parseInt(_0x124e75(0x1a0))/0x3+parseInt(_0x124e75(0x192))/0x4*(-parseInt(_0x124e75(0x185))/0x5)+parseInt(_0x124e75(0x19a))/0x6+parseInt(_0x124e75(0x198))/0x7+-parseInt(_0x124e75(0x182))/0x8*(-parseInt(_0x124e75(0x189))/0x9)+-parseInt(_0x124e75(0x19d))/0xa;if(_0x4e7569===_0x23744d)break;else _0x30be8b['push'](_0x30be8b['shift']());}catch(_0x7ecce1){_0x30be8b['push'](_0x30be8b['shift']());}}}(a45_0x1060,0x53a91));Object[a45_0xd2de1e(0x1ab)](exports,a45_0xd2de1e(0x179),{'value':!![]}),exports[a45_0xd2de1e(0x190)]=void 0x0;function a45_0x23d4(_0xe7963a,_0x97373b){const _0x106002=a45_0x1060();return a45_0x23d4=function(_0x23d48b,_0x28a2fc){_0x23d48b=_0x23d48b-0x176;let _0x1e0f26=_0x106002[_0x23d48b];return _0x1e0f26;},a45_0x23d4(_0xe7963a,_0x97373b);}const loggerService_1=require(a45_0xd2de1e(0x18f));class AmerService{constructor(){const _0xfffb20=a45_0xd2de1e;this[_0xfffb20(0x18e)]=_0xfffb20(0x18b),console[_0xfffb20(0x17c)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a45_0xd2de1e(0x181)](_0x16f116){const _0x4609a9=a45_0xd2de1e,{paymentId:_0x1d6d3a,orderId:_0x56ee27,orderName:_0x2feba8,amount:_0x316ef4,currency:_0x2d7911,usage:_0x108180,maxPayments:_0x1938bf,successUrl:_0x59c9b9,failUrl:_0x150c8c}=_0x16f116,_0x251032=_0x2d7911[_0x4609a9(0x186)]();console[_0x4609a9(0x17c)](_0x4609a9(0x1aa)+_0x56ee27),console['log']('üí∞\x20Amount:\x20'+_0x316ef4+'\x20'+_0x251032);try{const _0x477e14=this[_0x4609a9(0x18e)]+'/payment.php?payment_id='+_0x1d6d3a+_0x4609a9(0x199)+_0x316ef4+_0x4609a9(0x188)+_0x251032+_0x4609a9(0x1ad)+_0x56ee27;return console['log']('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x4609a9(0x17c)](_0x4609a9(0x18d),_0x1d6d3a),console[_0x4609a9(0x17c)](_0x4609a9(0x17e),_0x477e14),console[_0x4609a9(0x17c)](_0x4609a9(0x197),_0x316ef4,_0x251032),loggerService_1[_0x4609a9(0x193)]['logWhiteDomainRequest'](_0x4609a9(0x19c),'/payment',_0x4609a9(0x17a),{'paymentId':_0x1d6d3a,'amount':_0x316ef4,'currency':_0x251032,'orderId':_0x56ee27}),{'gateway_payment_id':_0x1d6d3a,'payment_url':_0x477e14};}catch(_0xb9bca6){console[_0x4609a9(0x17f)](_0x4609a9(0x17b)),console['error']('Error\x20details:',_0xb9bca6),loggerService_1[_0x4609a9(0x193)]['logWhiteDomainError'](_0x4609a9(0x19c),'/payment',_0xb9bca6);if(_0xb9bca6 instanceof Error){console[_0x4609a9(0x17f)](_0x4609a9(0x1a1),_0xb9bca6[_0x4609a9(0x194)]),console['error'](_0x4609a9(0x187),_0xb9bca6['stack']);throw new Error(_0x4609a9(0x17d)+_0xb9bca6[_0x4609a9(0x194)]);}throw new Error(_0x4609a9(0x183));}}async[a45_0xd2de1e(0x184)](_0x2665d1){const _0x44ce04=a45_0xd2de1e;console[_0x44ce04(0x17c)](_0x44ce04(0x1a3)+_0x2665d1);try{return loggerService_1[_0x44ce04(0x193)]['logWhiteDomainRequest'](_0x44ce04(0x19c),'/payment/verify/'+_0x2665d1,_0x44ce04(0x17a),{}),{'status':_0x44ce04(0x19f)};}catch(_0x2af669){console[_0x44ce04(0x17f)](_0x44ce04(0x176),_0x2af669),loggerService_1['loggerService'][_0x44ce04(0x195)]('amer',_0x44ce04(0x178)+_0x2665d1,_0x2af669);throw new Error(_0x44ce04(0x1a8)+(_0x2af669 instanceof Error?_0x2af669[_0x44ce04(0x194)]:_0x44ce04(0x196)));}}async[a45_0xd2de1e(0x1a4)](_0x602d8b){const _0x2554de=a45_0xd2de1e;console[_0x2554de(0x17c)](_0x2554de(0x177),_0x602d8b);let _0x5ad274='PENDING';if(_0x602d8b[_0x2554de(0x1a2)]===!![])_0x5ad274=_0x2554de(0x18a);else _0x602d8b['success']===![]&&(_0x5ad274='FAILED');const _0x1480b9={};return _0x602d8b[_0x2554de(0x1a7)]&&(_0x1480b9[_0x2554de(0x1a7)]=_0x602d8b[_0x2554de(0x1a7)]),_0x602d8b[_0x2554de(0x1a6)]&&(_0x1480b9[_0x2554de(0x1a6)]=_0x602d8b[_0x2554de(0x1a6)]),_0x602d8b[_0x2554de(0x1ac)]&&(_0x1480b9[_0x2554de(0x1ac)]=_0x602d8b[_0x2554de(0x1ac)],_0x1480b9[_0x2554de(0x191)]=_0x602d8b[_0x2554de(0x1ac)]),console[_0x2554de(0x17c)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x5ad274),{'paymentId':_0x602d8b[_0x2554de(0x1a5)]||_0x602d8b[_0x2554de(0x19e)]||'','status':_0x5ad274,'amount':_0x602d8b[_0x2554de(0x19b)],'currency':_0x602d8b[_0x2554de(0x180)],'additionalInfo':_0x1480b9};}}exports[a45_0xd2de1e(0x190)]=AmerService;function a45_0x1060(){const _0x28e1d3=['5912750JbsaBO','orderId','PENDING','1057530oykYEm','Error\x20message:','success','üîç\x20Verifying\x20Amer\x20payment:\x20','processWebhook','paymentId','paymentMethod','cardLast4','Failed\x20to\x20verify\x20Amer\x20payment:\x20','1AtTTOu','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','defineProperty','transactionId','&order=','Amer\x20payment\x20verification\x20error:','Processing\x20Amer\x20webhook:','/payment/verify/','__esModule','GET','===\x20AMER\x20SERVICE\x20ERROR\x20===','log','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Payment\x20URL:','error','currency','createPaymentLink','19752EhTEhI','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','verifyPayment','26185VEKNpy','toUpperCase','Error\x20stack:','&currency=','2061nxrxii','PAID','https://api2.trapay.uk','151726ZrhiOq','Payment\x20ID:','apiUrl','../loggerService','AmerService','gatewayPaymentId','424pwZcXV','loggerService','message','logWhiteDomainError','Unknown\x20error','Amount:','1632302HAcEYt','&amount=','1572660HspCAn','amount','amer'];a45_0x1060=function(){return _0x28e1d3;};return a45_0x1060();}