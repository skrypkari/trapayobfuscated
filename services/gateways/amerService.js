'use strict';const a41_0x114b27=a41_0x17ab;(function(_0x33f608,_0x27ca32){const _0x2e8806=a41_0x17ab,_0x5f34df=_0x33f608();while(!![]){try{const _0x528cb7=parseInt(_0x2e8806(0xe1))/0x1+parseInt(_0x2e8806(0xe3))/0x2*(-parseInt(_0x2e8806(0xbc))/0x3)+-parseInt(_0x2e8806(0xdc))/0x4*(-parseInt(_0x2e8806(0xaf))/0x5)+parseInt(_0x2e8806(0xdf))/0x6*(parseInt(_0x2e8806(0xae))/0x7)+-parseInt(_0x2e8806(0xcf))/0x8+-parseInt(_0x2e8806(0xc3))/0x9+parseInt(_0x2e8806(0xc6))/0xa*(parseInt(_0x2e8806(0xe6))/0xb);if(_0x528cb7===_0x27ca32)break;else _0x5f34df['push'](_0x5f34df['shift']());}catch(_0x4f44df){_0x5f34df['push'](_0x5f34df['shift']());}}}(a41_0x3e76,0x55452));function a41_0x3e76(){const _0x58c064=['108554xqnjZO','PENDING','4oVDFbZ','__esModule','Error\x20stack:','4271113ojCjNB','Payment\x20ID:','/payment.php?payment_id=','GET','84252WLCbwu','122110JSlYKl','success','&order=','logWhiteDomainError','message','&currency=','/payment/verify/','Payment\x20URL:','Processing\x20Amer\x20webhook:','defineProperty','cardLast4','processWebhook','orderId','443202zoRTpZ','/payment','PAID','gatewayPaymentId','Error\x20details:','&amount=','transactionId','3459033wcfKdG','apiUrl','createPaymentLink','30MwQSrr','üîç\x20Verifying\x20Amer\x20payment:\x20','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','üí∞\x20Amount:\x20','loggerService','https://api2.trapay.uk','log','Error\x20message:','logWhiteDomainRequest','4670320HGvuEw','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','amer','paymentId','verifyPayment','../loggerService','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','paymentMethod','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','AmerService','toUpperCase','amount','28qvCXbT','Amer\x20payment\x20verification\x20error:','error','84vtAQJW','stack'];a41_0x3e76=function(){return _0x58c064;};return a41_0x3e76();}function a41_0x17ab(_0x11c45e,_0x4a54eb){const _0x3e769a=a41_0x3e76();return a41_0x17ab=function(_0x17abfc,_0x1750ae){_0x17abfc=_0x17abfc-0xad;let _0x436b20=_0x3e769a[_0x17abfc];return _0x436b20;},a41_0x17ab(_0x11c45e,_0x4a54eb);}Object[a41_0x114b27(0xb8)](exports,a41_0x114b27(0xe4),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a41_0x114b27(0xd5));class AmerService{constructor(){const _0x4a7dad=a41_0x114b27;this['apiUrl']=_0x4a7dad(0xcb),console[_0x4a7dad(0xcc)]('üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain');}async[a41_0x114b27(0xc5)](_0x32159b){const _0x3f0f1b=a41_0x114b27,{paymentId:_0x51954d,orderId:_0x1c1398,orderName:_0x15129b,amount:_0x54de98,currency:_0x205b1c,usage:_0xb1cb42,maxPayments:_0x54a108,successUrl:_0x2ee306,failUrl:_0x40e0c7}=_0x32159b,_0x340800=_0x205b1c[_0x3f0f1b(0xda)]();console[_0x3f0f1b(0xcc)](_0x3f0f1b(0xd8)+_0x1c1398),console[_0x3f0f1b(0xcc)](_0x3f0f1b(0xc9)+_0x54de98+'\x20'+_0x340800);try{const _0x52bf99=this[_0x3f0f1b(0xc4)]+_0x3f0f1b(0xe8)+_0x51954d+_0x3f0f1b(0xc1)+_0x54de98+_0x3f0f1b(0xb4)+_0x340800+_0x3f0f1b(0xb1)+_0x1c1398;return console['log'](_0x3f0f1b(0xd6)),console[_0x3f0f1b(0xcc)](_0x3f0f1b(0xe7),_0x51954d),console['log'](_0x3f0f1b(0xb6),_0x52bf99),console[_0x3f0f1b(0xcc)]('Amount:',_0x54de98,_0x340800),loggerService_1[_0x3f0f1b(0xca)][_0x3f0f1b(0xce)](_0x3f0f1b(0xd2),_0x3f0f1b(0xbd),_0x3f0f1b(0xad),{'paymentId':_0x51954d,'amount':_0x54de98,'currency':_0x340800,'orderId':_0x1c1398}),{'gateway_payment_id':_0x51954d,'payment_url':_0x52bf99};}catch(_0x49c51d){console[_0x3f0f1b(0xde)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console[_0x3f0f1b(0xde)](_0x3f0f1b(0xc0),_0x49c51d),loggerService_1['loggerService'][_0x3f0f1b(0xb2)](_0x3f0f1b(0xd2),_0x3f0f1b(0xbd),_0x49c51d);if(_0x49c51d instanceof Error){console[_0x3f0f1b(0xde)](_0x3f0f1b(0xcd),_0x49c51d[_0x3f0f1b(0xb3)]),console[_0x3f0f1b(0xde)](_0x3f0f1b(0xe5),_0x49c51d[_0x3f0f1b(0xe0)]);throw new Error(_0x3f0f1b(0xc8)+_0x49c51d[_0x3f0f1b(0xb3)]);}throw new Error(_0x3f0f1b(0xd1));}}async[a41_0x114b27(0xd4)](_0x200197){const _0x36eb00=a41_0x114b27;console[_0x36eb00(0xcc)](_0x36eb00(0xc7)+_0x200197);try{return loggerService_1[_0x36eb00(0xca)][_0x36eb00(0xce)](_0x36eb00(0xd2),_0x36eb00(0xb5)+_0x200197,_0x36eb00(0xad),{}),{'status':_0x36eb00(0xe2)};}catch(_0x741b23){console[_0x36eb00(0xde)](_0x36eb00(0xdd),_0x741b23),loggerService_1[_0x36eb00(0xca)]['logWhiteDomainError'](_0x36eb00(0xd2),_0x36eb00(0xb5)+_0x200197,_0x741b23);throw new Error('Failed\x20to\x20verify\x20Amer\x20payment:\x20'+(_0x741b23 instanceof Error?_0x741b23[_0x36eb00(0xb3)]:'Unknown\x20error'));}}async[a41_0x114b27(0xba)](_0x5187a3){const _0x72534f=a41_0x114b27;console[_0x72534f(0xcc)](_0x72534f(0xb7),_0x5187a3);let _0x36c758=_0x72534f(0xe2);if(_0x5187a3[_0x72534f(0xb0)]===!![])_0x36c758=_0x72534f(0xbe);else _0x5187a3[_0x72534f(0xb0)]===![]&&(_0x36c758='FAILED');const _0x133db6={};return _0x5187a3['cardLast4']&&(_0x133db6[_0x72534f(0xb9)]=_0x5187a3[_0x72534f(0xb9)]),_0x5187a3['paymentMethod']&&(_0x133db6[_0x72534f(0xd7)]=_0x5187a3['paymentMethod']),_0x5187a3[_0x72534f(0xc2)]&&(_0x133db6[_0x72534f(0xc2)]=_0x5187a3[_0x72534f(0xc2)],_0x133db6[_0x72534f(0xbf)]=_0x5187a3[_0x72534f(0xc2)]),console[_0x72534f(0xcc)](_0x72534f(0xd0)+_0x36c758),{'paymentId':_0x5187a3[_0x72534f(0xd3)]||_0x5187a3[_0x72534f(0xbb)]||'','status':_0x36c758,'amount':_0x5187a3[_0x72534f(0xdb)],'currency':_0x5187a3['currency'],'additionalInfo':_0x133db6};}}exports[a41_0x114b27(0xd9)]=AmerService;