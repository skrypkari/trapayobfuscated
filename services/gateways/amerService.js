'use strict';const a51_0x5ac4d7=a51_0x16e4;(function(_0x225904,_0x5b6f33){const _0x4003f8=a51_0x16e4,_0x3e1275=_0x225904();while(!![]){try{const _0x3da909=-parseInt(_0x4003f8(0xd6))/0x1*(parseInt(_0x4003f8(0xeb))/0x2)+parseInt(_0x4003f8(0xd3))/0x3*(parseInt(_0x4003f8(0x103))/0x4)+-parseInt(_0x4003f8(0xe2))/0x5+-parseInt(_0x4003f8(0x106))/0x6+-parseInt(_0x4003f8(0xdb))/0x7*(-parseInt(_0x4003f8(0xd4))/0x8)+parseInt(_0x4003f8(0xd2))/0x9*(-parseInt(_0x4003f8(0xe4))/0xa)+parseInt(_0x4003f8(0xf9))/0xb*(parseInt(_0x4003f8(0xee))/0xc);if(_0x3da909===_0x5b6f33)break;else _0x3e1275['push'](_0x3e1275['shift']());}catch(_0xef374){_0x3e1275['push'](_0x3e1275['shift']());}}}(a51_0x45eb,0x80143));function a51_0x45eb(){const _0x18eeed=['Amount:','üîç\x20Verifying\x20Amer\x20payment:\x20','11iwELrM','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','FAILED','error','Error\x20stack:','cardLast4','defineProperty','processWebhook','&order=','amount','14052hCpfgO','transactionId','stack','3731016tGPTIM','Payment\x20ID:','Payment\x20URL:','AmerService','https://api2.trapay.uk','toUpperCase','42894eiYPHT','255tJGIvw','83208OcZUbU','amer','1jVrkty','logWhiteDomainRequest','createPaymentLink','PENDING','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','77kwnCkM','orderId','apiUrl','===\x20AMER\x20SERVICE\x20ERROR\x20===','verifyPayment','success','loggerService','3771625cOSXDa','Processing\x20Amer\x20webhook:','210ykSKLA','Unknown\x20error','../loggerService','GET','message','paymentMethod','Failed\x20to\x20verify\x20Amer\x20payment:\x20','1660292HCabAx','currency','__esModule','29015856oAINEl','üí∞\x20Amount:\x20','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','&currency=','log','gatewayPaymentId','&amount=','/payment'];a51_0x45eb=function(){return _0x18eeed;};return a51_0x45eb();}Object[a51_0x5ac4d7(0xff)](exports,a51_0x5ac4d7(0xed),{'value':!![]}),exports[a51_0x5ac4d7(0xcf)]=void 0x0;const loggerService_1=require(a51_0x5ac4d7(0xe6));function a51_0x16e4(_0x44e559,_0x3276ff){_0x44e559=_0x44e559-0xcf;const _0x45ebd3=a51_0x45eb();let _0x16e412=_0x45ebd3[_0x44e559];return _0x16e412;}class AmerService{constructor(){const _0x5ddc39=a51_0x5ac4d7;this[_0x5ddc39(0xdd)]=_0x5ddc39(0xd0),console[_0x5ddc39(0xf3)](_0x5ddc39(0xda));}async[a51_0x5ac4d7(0xd8)](_0x2313c6){const _0x1d1b82=a51_0x5ac4d7,{paymentId:_0x34d50a,orderId:_0x3cfe70,orderName:_0x57bf1f,amount:_0x4d6d06,currency:_0x1f96af,usage:_0x180180,maxPayments:_0x175a37,successUrl:_0x100d68,failUrl:_0x19df9c}=_0x2313c6,_0x21cd19=_0x1f96af[_0x1d1b82(0xd1)]();console[_0x1d1b82(0xf3)](_0x1d1b82(0xfa)+_0x3cfe70),console[_0x1d1b82(0xf3)](_0x1d1b82(0xef)+_0x4d6d06+'\x20'+_0x21cd19);try{const _0x4ac96f=this[_0x1d1b82(0xdd)]+'/payment.php?payment_id='+_0x34d50a+_0x1d1b82(0xf5)+_0x4d6d06+_0x1d1b82(0xf2)+_0x21cd19+_0x1d1b82(0x101)+_0x3cfe70;return console[_0x1d1b82(0xf3)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console['log'](_0x1d1b82(0x107),_0x34d50a),console[_0x1d1b82(0xf3)](_0x1d1b82(0x108),_0x4ac96f),console['log'](_0x1d1b82(0xf7),_0x4d6d06,_0x21cd19),loggerService_1[_0x1d1b82(0xe1)][_0x1d1b82(0xd7)](_0x1d1b82(0xd5),'/payment','GET',{'paymentId':_0x34d50a,'amount':_0x4d6d06,'currency':_0x21cd19,'orderId':_0x3cfe70}),{'gateway_payment_id':_0x34d50a,'payment_url':_0x4ac96f};}catch(_0x3b1ed2){console[_0x1d1b82(0xfc)](_0x1d1b82(0xde)),console[_0x1d1b82(0xfc)]('Error\x20details:',_0x3b1ed2),loggerService_1[_0x1d1b82(0xe1)]['logWhiteDomainError'](_0x1d1b82(0xd5),_0x1d1b82(0xf6),_0x3b1ed2);if(_0x3b1ed2 instanceof Error){console[_0x1d1b82(0xfc)]('Error\x20message:',_0x3b1ed2[_0x1d1b82(0xe8)]),console[_0x1d1b82(0xfc)](_0x1d1b82(0xfd),_0x3b1ed2[_0x1d1b82(0x105)]);throw new Error(_0x1d1b82(0xf0)+_0x3b1ed2[_0x1d1b82(0xe8)]);}throw new Error(_0x1d1b82(0xf1));}}async[a51_0x5ac4d7(0xdf)](_0x1e0504){const _0x38060f=a51_0x5ac4d7;console[_0x38060f(0xf3)](_0x38060f(0xf8)+_0x1e0504);try{return loggerService_1['loggerService'][_0x38060f(0xd7)](_0x38060f(0xd5),'/payment/verify/'+_0x1e0504,_0x38060f(0xe7),{}),{'status':_0x38060f(0xd9)};}catch(_0x33de6d){console[_0x38060f(0xfc)]('Amer\x20payment\x20verification\x20error:',_0x33de6d),loggerService_1['loggerService']['logWhiteDomainError'](_0x38060f(0xd5),'/payment/verify/'+_0x1e0504,_0x33de6d);throw new Error(_0x38060f(0xea)+(_0x33de6d instanceof Error?_0x33de6d[_0x38060f(0xe8)]:_0x38060f(0xe5)));}}async[a51_0x5ac4d7(0x100)](_0x25bbb7){const _0x366022=a51_0x5ac4d7;console[_0x366022(0xf3)](_0x366022(0xe3),_0x25bbb7);let _0x42cf1e=_0x366022(0xd9);if(_0x25bbb7[_0x366022(0xe0)]===!![])_0x42cf1e='PAID';else _0x25bbb7[_0x366022(0xe0)]===![]&&(_0x42cf1e=_0x366022(0xfb));const _0x37791a={};return _0x25bbb7['cardLast4']&&(_0x37791a[_0x366022(0xfe)]=_0x25bbb7[_0x366022(0xfe)]),_0x25bbb7[_0x366022(0xe9)]&&(_0x37791a[_0x366022(0xe9)]=_0x25bbb7['paymentMethod']),_0x25bbb7[_0x366022(0x104)]&&(_0x37791a[_0x366022(0x104)]=_0x25bbb7[_0x366022(0x104)],_0x37791a[_0x366022(0xf4)]=_0x25bbb7[_0x366022(0x104)]),console[_0x366022(0xf3)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0x42cf1e),{'paymentId':_0x25bbb7['paymentId']||_0x25bbb7[_0x366022(0xdc)]||'','status':_0x42cf1e,'amount':_0x25bbb7[_0x366022(0x102)],'currency':_0x25bbb7[_0x366022(0xec)],'additionalInfo':_0x37791a};}}exports[a51_0x5ac4d7(0xcf)]=AmerService;