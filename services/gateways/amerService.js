'use strict';const a41_0x57b04f=a41_0x2704;(function(_0x932b0c,_0x3f189f){const _0x3a073e=a41_0x2704,_0x34231b=_0x932b0c();while(!![]){try{const _0x182a07=-parseInt(_0x3a073e(0xcf))/0x1*(parseInt(_0x3a073e(0xdd))/0x2)+parseInt(_0x3a073e(0xe7))/0x3*(-parseInt(_0x3a073e(0xc3))/0x4)+parseInt(_0x3a073e(0xe4))/0x5+parseInt(_0x3a073e(0xc5))/0x6+parseInt(_0x3a073e(0xdc))/0x7+parseInt(_0x3a073e(0xdf))/0x8*(-parseInt(_0x3a073e(0xc8))/0x9)+-parseInt(_0x3a073e(0xcc))/0xa;if(_0x182a07===_0x3f189f)break;else _0x34231b['push'](_0x34231b['shift']());}catch(_0x425b4a){_0x34231b['push'](_0x34231b['shift']());}}}(a41_0x4220,0x3df1f));Object[a41_0x57b04f(0xd2)](exports,a41_0x57b04f(0xde),{'value':!![]}),exports[a41_0x57b04f(0xbc)]=void 0x0;function a41_0x2704(_0x1be045,_0x171928){const _0x422091=a41_0x4220();return a41_0x2704=function(_0x270418,_0x12ee56){_0x270418=_0x270418-0xb8;let _0x5ea516=_0x422091[_0x270418];return _0x5ea516;},a41_0x2704(_0x1be045,_0x171928);}const loggerService_1=require(a41_0x57b04f(0xc0));class AmerService{constructor(){const _0x48d0a4=a41_0x57b04f;this[_0x48d0a4(0xd3)]='https://api2.trapay.uk',console[_0x48d0a4(0xd9)](_0x48d0a4(0xca));}async[a41_0x57b04f(0xe2)](_0xc196bd){const _0x90e221=a41_0x57b04f,{paymentId:_0x2e8149,orderId:_0x98b79f,orderName:_0x46f353,amount:_0x541d44,currency:_0x32904d,usage:_0x843a87,maxPayments:_0x201275,successUrl:_0x55908b,failUrl:_0x1cdc35}=_0xc196bd,_0x3fb4ad=_0x32904d[_0x90e221(0xd1)]();console[_0x90e221(0xd9)](_0x90e221(0xd5)+_0x98b79f),console[_0x90e221(0xd9)](_0x90e221(0xbd)+_0x541d44+'\x20'+_0x3fb4ad);try{const _0x2ac290=this['apiUrl']+_0x90e221(0xdb)+_0x2e8149+'&amount='+_0x541d44+_0x90e221(0xba)+_0x3fb4ad+_0x90e221(0xc6)+_0x98b79f;return console[_0x90e221(0xd9)](_0x90e221(0xeb)),console['log'](_0x90e221(0xcb),_0x2e8149),console['log'](_0x90e221(0xb8),_0x2ac290),console['log']('Amount:',_0x541d44,_0x3fb4ad),loggerService_1[_0x90e221(0xc2)]['logWhiteDomainRequest'](_0x90e221(0xc4),_0x90e221(0xe3),_0x90e221(0xed),{'paymentId':_0x2e8149,'amount':_0x541d44,'currency':_0x3fb4ad,'orderId':_0x98b79f}),{'gateway_payment_id':_0x2e8149,'payment_url':_0x2ac290};}catch(_0x470473){console[_0x90e221(0xe1)](_0x90e221(0xe6)),console[_0x90e221(0xe1)](_0x90e221(0xec),_0x470473),loggerService_1[_0x90e221(0xc2)][_0x90e221(0xc1)](_0x90e221(0xc4),_0x90e221(0xe3),_0x470473);if(_0x470473 instanceof Error){console['error'](_0x90e221(0xe5),_0x470473[_0x90e221(0xc9)]),console[_0x90e221(0xe1)]('Error\x20stack:',_0x470473[_0x90e221(0xb9)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x470473[_0x90e221(0xc9)]);}throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error');}}async['verifyPayment'](_0x31dab9){const _0x4f21de=a41_0x57b04f;console[_0x4f21de(0xd9)](_0x4f21de(0xc7)+_0x31dab9);try{return loggerService_1[_0x4f21de(0xc2)]['logWhiteDomainRequest'](_0x4f21de(0xc4),_0x4f21de(0xea)+_0x31dab9,_0x4f21de(0xed),{}),{'status':_0x4f21de(0xd0)};}catch(_0x4b90eb){console['error'](_0x4f21de(0xcd),_0x4b90eb),loggerService_1[_0x4f21de(0xc2)][_0x4f21de(0xc1)](_0x4f21de(0xc4),_0x4f21de(0xea)+_0x31dab9,_0x4b90eb);throw new Error(_0x4f21de(0xbb)+(_0x4b90eb instanceof Error?_0x4b90eb['message']:_0x4f21de(0xd4)));}}async[a41_0x57b04f(0xd8)](_0x3e32fc){const _0x9b8b99=a41_0x57b04f;console[_0x9b8b99(0xd9)](_0x9b8b99(0xce),_0x3e32fc);let _0x325244='PENDING';if(_0x3e32fc[_0x9b8b99(0xe8)]===!![])_0x325244='PAID';else _0x3e32fc[_0x9b8b99(0xe8)]===![]&&(_0x325244='FAILED');const _0x35f6c6={};return _0x3e32fc[_0x9b8b99(0xbe)]&&(_0x35f6c6[_0x9b8b99(0xbe)]=_0x3e32fc[_0x9b8b99(0xbe)]),_0x3e32fc['paymentMethod']&&(_0x35f6c6[_0x9b8b99(0xbf)]=_0x3e32fc[_0x9b8b99(0xbf)]),_0x3e32fc[_0x9b8b99(0xd6)]&&(_0x35f6c6[_0x9b8b99(0xd6)]=_0x3e32fc[_0x9b8b99(0xd6)],_0x35f6c6['gatewayPaymentId']=_0x3e32fc[_0x9b8b99(0xd6)]),console['log'](_0x9b8b99(0xda)+_0x325244),{'paymentId':_0x3e32fc[_0x9b8b99(0xd7)]||_0x3e32fc['orderId']||'','status':_0x325244,'amount':_0x3e32fc[_0x9b8b99(0xe0)],'currency':_0x3e32fc[_0x9b8b99(0xe9)],'additionalInfo':_0x35f6c6};}}exports[a41_0x57b04f(0xbc)]=AmerService;function a41_0x4220(){const _0x391d14=['üîç\x20Verifying\x20Amer\x20payment:\x20','4473RmzIKZ','message','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Payment\x20ID:','204700WjamYL','Amer\x20payment\x20verification\x20error:','Processing\x20Amer\x20webhook:','1oNMMTf','PENDING','toUpperCase','defineProperty','apiUrl','Unknown\x20error','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','transactionId','paymentId','processWebhook','log','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','/payment.php?payment_id=','1839222LvnQlS','142354wGzBwr','__esModule','4872PPiFvU','amount','error','createPaymentLink','/payment','724015zclGvE','Error\x20message:','===\x20AMER\x20SERVICE\x20ERROR\x20===','8259XLmHxl','success','currency','/payment/verify/','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','Error\x20details:','GET','Payment\x20URL:','stack','&currency=','Failed\x20to\x20verify\x20Amer\x20payment:\x20','AmerService','üí∞\x20Amount:\x20','cardLast4','paymentMethod','../loggerService','logWhiteDomainError','loggerService','196bvGwfl','amer','2252370YXQgrl','&order='];a41_0x4220=function(){return _0x391d14;};return a41_0x4220();}