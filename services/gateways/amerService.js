'use strict';const a61_0x51f6d3=a61_0x574e;(function(_0x6e7ad6,_0x1c86ae){const _0x5f1242=a61_0x574e,_0x5455dc=_0x6e7ad6();while(!![]){try{const _0x3562fb=parseInt(_0x5f1242(0x124))/0x1+-parseInt(_0x5f1242(0x116))/0x2*(parseInt(_0x5f1242(0x114))/0x3)+-parseInt(_0x5f1242(0x144))/0x4+-parseInt(_0x5f1242(0x111))/0x5*(-parseInt(_0x5f1242(0x112))/0x6)+-parseInt(_0x5f1242(0x12c))/0x7+parseInt(_0x5f1242(0x137))/0x8+-parseInt(_0x5f1242(0x12b))/0x9*(-parseInt(_0x5f1242(0x123))/0xa);if(_0x3562fb===_0x1c86ae)break;else _0x5455dc['push'](_0x5455dc['shift']());}catch(_0x446e6a){_0x5455dc['push'](_0x5455dc['shift']());}}}(a61_0x48c0,0x65c84));function a61_0x48c0(){const _0x27227e=['üîç\x20Verifying\x20Amer\x20payment:\x20','Failed\x20to\x20verify\x20Amer\x20payment:\x20','processWebhook','3836480bMIkil','gatewayPaymentId','logWhiteDomainRequest','orderId','toUpperCase','paymentMethod','FAILED','loggerService','error','&amount=','message','AmerService','/payment','361696QJmWLy','log','amer','115tEtLdk','58434LvXgDp','&currency=','184560WwpKpv','paymentId','8TtyhCN','currency','===\x20AMER\x20SERVICE\x20ERROR\x20===','logWhiteDomainError','Error\x20message:','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Unknown\x20error','/payment.php?payment_id=','cardLast4','Payment\x20ID:','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','__esModule','Amount:','1181150LyeLZX','677876zuoHkx','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','https://api2.trapay.uk','apiUrl','transactionId','Processing\x20Amer\x20webhook:','üí∞\x20Amount:\x20','9jPHQuX','5223008XKlfvj','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','success','PENDING','/payment/verify/','Error\x20details:','../loggerService','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'];a61_0x48c0=function(){return _0x27227e;};return a61_0x48c0();}Object['defineProperty'](exports,a61_0x51f6d3(0x121),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a61_0x51f6d3(0x132));function a61_0x574e(_0x2f0a85,_0xde8717){_0x2f0a85=_0x2f0a85-0x10f;const _0x48c0bb=a61_0x48c0();let _0x574e63=_0x48c0bb[_0x2f0a85];return _0x574e63;}class AmerService{constructor(){const _0x5472d6=a61_0x51f6d3;this[_0x5472d6(0x127)]=_0x5472d6(0x126),console[_0x5472d6(0x10f)](_0x5472d6(0x11b));}async['createPaymentLink'](_0x9fb088){const _0xeb0985=a61_0x51f6d3,{paymentId:_0x532884,orderId:_0x504a3b,orderName:_0x14b8e3,amount:_0x58341a,currency:_0xc65429,usage:_0x1af2e4,maxPayments:_0x1bece5,successUrl:_0x4e40ad,failUrl:_0x5f47c7}=_0x9fb088,_0x216eae=_0xc65429[_0xeb0985(0x13b)]();console[_0xeb0985(0x10f)](_0xeb0985(0x133)+_0x504a3b),console[_0xeb0985(0x10f)](_0xeb0985(0x12a)+_0x58341a+'\x20'+_0x216eae);try{const _0x5042b7=this[_0xeb0985(0x127)]+_0xeb0985(0x11d)+_0x532884+_0xeb0985(0x140)+_0x58341a+_0xeb0985(0x113)+_0x216eae+'&order='+_0x504a3b;return console[_0xeb0985(0x10f)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0xeb0985(0x10f)](_0xeb0985(0x11f),_0x532884),console[_0xeb0985(0x10f)]('Payment\x20URL:',_0x5042b7),console[_0xeb0985(0x10f)](_0xeb0985(0x122),_0x58341a,_0x216eae),loggerService_1[_0xeb0985(0x13e)][_0xeb0985(0x139)](_0xeb0985(0x110),_0xeb0985(0x143),'GET',{'paymentId':_0x532884,'amount':_0x58341a,'currency':_0x216eae,'orderId':_0x504a3b}),{'gateway_payment_id':_0x532884,'payment_url':_0x5042b7};}catch(_0x593ea9){console[_0xeb0985(0x13f)](_0xeb0985(0x118)),console[_0xeb0985(0x13f)](_0xeb0985(0x131),_0x593ea9),loggerService_1[_0xeb0985(0x13e)][_0xeb0985(0x119)](_0xeb0985(0x110),'/payment',_0x593ea9);if(_0x593ea9 instanceof Error){console[_0xeb0985(0x13f)](_0xeb0985(0x11a),_0x593ea9[_0xeb0985(0x141)]),console['error']('Error\x20stack:',_0x593ea9['stack']);throw new Error(_0xeb0985(0x120)+_0x593ea9[_0xeb0985(0x141)]);}throw new Error(_0xeb0985(0x12d));}}async['verifyPayment'](_0x10d220){const _0x1cb546=a61_0x51f6d3;console[_0x1cb546(0x10f)](_0x1cb546(0x134)+_0x10d220);try{return loggerService_1[_0x1cb546(0x13e)][_0x1cb546(0x139)](_0x1cb546(0x110),_0x1cb546(0x130)+_0x10d220,'GET',{}),{'status':_0x1cb546(0x12f)};}catch(_0xd7419b){console[_0x1cb546(0x13f)]('Amer\x20payment\x20verification\x20error:',_0xd7419b),loggerService_1[_0x1cb546(0x13e)]['logWhiteDomainError'](_0x1cb546(0x110),_0x1cb546(0x130)+_0x10d220,_0xd7419b);throw new Error(_0x1cb546(0x135)+(_0xd7419b instanceof Error?_0xd7419b[_0x1cb546(0x141)]:_0x1cb546(0x11c)));}}async[a61_0x51f6d3(0x136)](_0x2125cf){const _0x1fa062=a61_0x51f6d3;console[_0x1fa062(0x10f)](_0x1fa062(0x129),_0x2125cf);let _0x4c0549='PENDING';if(_0x2125cf[_0x1fa062(0x12e)]===!![])_0x4c0549='PAID';else _0x2125cf[_0x1fa062(0x12e)]===![]&&(_0x4c0549=_0x1fa062(0x13d));const _0x18b32c={};return _0x2125cf[_0x1fa062(0x11e)]&&(_0x18b32c[_0x1fa062(0x11e)]=_0x2125cf[_0x1fa062(0x11e)]),_0x2125cf[_0x1fa062(0x13c)]&&(_0x18b32c[_0x1fa062(0x13c)]=_0x2125cf[_0x1fa062(0x13c)]),_0x2125cf['transactionId']&&(_0x18b32c['transactionId']=_0x2125cf[_0x1fa062(0x128)],_0x18b32c[_0x1fa062(0x138)]=_0x2125cf['transactionId']),console[_0x1fa062(0x10f)](_0x1fa062(0x125)+_0x4c0549),{'paymentId':_0x2125cf[_0x1fa062(0x115)]||_0x2125cf[_0x1fa062(0x13a)]||'','status':_0x4c0549,'amount':_0x2125cf['amount'],'currency':_0x2125cf[_0x1fa062(0x117)],'additionalInfo':_0x18b32c};}}exports[a61_0x51f6d3(0x142)]=AmerService;