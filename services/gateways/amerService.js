'use strict';const a41_0x1dd2cd=a41_0x5f00;(function(_0x1d33d5,_0x2eb827){const _0x6ce00=a41_0x5f00,_0x33f827=_0x1d33d5();while(!![]){try{const _0x28a629=-parseInt(_0x6ce00(0xb2))/0x1*(parseInt(_0x6ce00(0xa2))/0x2)+-parseInt(_0x6ce00(0x98))/0x3+parseInt(_0x6ce00(0xa9))/0x4+-parseInt(_0x6ce00(0x91))/0x5*(parseInt(_0x6ce00(0x9c))/0x6)+parseInt(_0x6ce00(0x95))/0x7+-parseInt(_0x6ce00(0x8e))/0x8+parseInt(_0x6ce00(0xab))/0x9*(parseInt(_0x6ce00(0xae))/0xa);if(_0x28a629===_0x2eb827)break;else _0x33f827['push'](_0x33f827['shift']());}catch(_0x36b7e7){_0x33f827['push'](_0x33f827['shift']());}}}(a41_0x322b,0xc2796));Object[a41_0x1dd2cd(0x81)](exports,a41_0x1dd2cd(0xb6),{'value':!![]}),exports[a41_0x1dd2cd(0xa0)]=void 0x0;const loggerService_1=require(a41_0x1dd2cd(0x83));class AmerService{constructor(){const _0x29944c=a41_0x1dd2cd;this[_0x29944c(0xb8)]=_0x29944c(0xb3),console[_0x29944c(0xaf)](_0x29944c(0xa4));}async[a41_0x1dd2cd(0xb1)](_0x56da39){const _0x59d3b8=a41_0x1dd2cd,{paymentId:_0x80ef5e,orderId:_0x4eb37d,orderName:_0x2faa01,amount:_0x161414,currency:_0x407e1d,usage:_0x4f48f6,maxPayments:_0x526a02,successUrl:_0x4c6fe5,failUrl:_0x1b0201}=_0x56da39,_0x57a93c=_0x407e1d[_0x59d3b8(0x84)]();console[_0x59d3b8(0xaf)](_0x59d3b8(0x80)+_0x4eb37d),console[_0x59d3b8(0xaf)]('üí∞\x20Amount:\x20'+_0x161414+'\x20'+_0x57a93c);try{const _0xba73d2=this['apiUrl']+'/payment.php?payment_id='+_0x80ef5e+_0x59d3b8(0x94)+_0x161414+_0x59d3b8(0x8b)+_0x57a93c+_0x59d3b8(0xac)+_0x4eb37d;return console[_0x59d3b8(0xaf)](_0x59d3b8(0x93)),console[_0x59d3b8(0xaf)](_0x59d3b8(0x82),_0x80ef5e),console[_0x59d3b8(0xaf)](_0x59d3b8(0x8d),_0xba73d2),console[_0x59d3b8(0xaf)]('Amount:',_0x161414,_0x57a93c),loggerService_1['loggerService'][_0x59d3b8(0xb7)](_0x59d3b8(0x8c),'/payment',_0x59d3b8(0x97),{'paymentId':_0x80ef5e,'amount':_0x161414,'currency':_0x57a93c,'orderId':_0x4eb37d}),{'gateway_payment_id':_0x80ef5e,'payment_url':_0xba73d2};}catch(_0x4ae6b4){console['error'](_0x59d3b8(0x9d)),console[_0x59d3b8(0xa7)](_0x59d3b8(0xa8),_0x4ae6b4),loggerService_1[_0x59d3b8(0x9f)][_0x59d3b8(0x88)](_0x59d3b8(0x8c),_0x59d3b8(0xa6),_0x4ae6b4);if(_0x4ae6b4 instanceof Error){console[_0x59d3b8(0xa7)](_0x59d3b8(0xb0),_0x4ae6b4[_0x59d3b8(0x9b)]),console[_0x59d3b8(0xa7)](_0x59d3b8(0xa5),_0x4ae6b4[_0x59d3b8(0xb4)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x4ae6b4[_0x59d3b8(0x9b)]);}throw new Error(_0x59d3b8(0xaa));}}async['verifyPayment'](_0x27532b){const _0x38e986=a41_0x1dd2cd;console[_0x38e986(0xaf)]('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0x27532b);try{return loggerService_1[_0x38e986(0x9f)][_0x38e986(0xb7)](_0x38e986(0x8c),_0x38e986(0x9a)+_0x27532b,_0x38e986(0x97),{}),{'status':'PENDING'};}catch(_0xaea96){console[_0x38e986(0xa7)]('Amer\x20payment\x20verification\x20error:',_0xaea96),loggerService_1['loggerService']['logWhiteDomainError'](_0x38e986(0x8c),_0x38e986(0x9a)+_0x27532b,_0xaea96);throw new Error(_0x38e986(0x85)+(_0xaea96 instanceof Error?_0xaea96[_0x38e986(0x9b)]:_0x38e986(0x92)));}}async[a41_0x1dd2cd(0x8a)](_0x2369bf){const _0x1ca219=a41_0x1dd2cd;console[_0x1ca219(0xaf)]('Processing\x20Amer\x20webhook:',_0x2369bf);let _0x2c0b53=_0x1ca219(0xb5);if(_0x2369bf[_0x1ca219(0x89)]===!![])_0x2c0b53='PAID';else _0x2369bf[_0x1ca219(0x89)]===![]&&(_0x2c0b53=_0x1ca219(0xa3));const _0x575622={};return _0x2369bf[_0x1ca219(0x87)]&&(_0x575622[_0x1ca219(0x87)]=_0x2369bf[_0x1ca219(0x87)]),_0x2369bf[_0x1ca219(0xad)]&&(_0x575622[_0x1ca219(0xad)]=_0x2369bf[_0x1ca219(0xad)]),_0x2369bf['transactionId']&&(_0x575622[_0x1ca219(0x86)]=_0x2369bf[_0x1ca219(0x86)],_0x575622[_0x1ca219(0x96)]=_0x2369bf[_0x1ca219(0x86)]),console['log'](_0x1ca219(0xa1)+_0x2c0b53),{'paymentId':_0x2369bf[_0x1ca219(0x99)]||_0x2369bf[_0x1ca219(0x8f)]||'','status':_0x2c0b53,'amount':_0x2369bf[_0x1ca219(0x9e)],'currency':_0x2369bf[_0x1ca219(0x90)],'additionalInfo':_0x575622};}}function a41_0x5f00(_0x5f0158,_0x227449){const _0x322bc3=a41_0x322b();return a41_0x5f00=function(_0x5f0019,_0x208ebd){_0x5f0019=_0x5f0019-0x80;let _0x1a9b0a=_0x322bc3[_0x5f0019];return _0x1a9b0a;},a41_0x5f00(_0x5f0158,_0x227449);}function a41_0x322b(){const _0x5e5f36=['Error\x20details:','3507196DEvLEt','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','27lQtHTs','&order=','paymentMethod','9784570uNcmtC','log','Error\x20message:','createPaymentLink','265wQETgP','https://api2.trapay.uk','stack','PENDING','__esModule','logWhiteDomainRequest','apiUrl','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','defineProperty','Payment\x20ID:','../loggerService','toUpperCase','Failed\x20to\x20verify\x20Amer\x20payment:\x20','transactionId','cardLast4','logWhiteDomainError','success','processWebhook','&currency=','amer','Payment\x20URL:','10347408ywcxZB','orderId','currency','23475VbyOWl','Unknown\x20error','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','&amount=','5883745TNnoGz','gatewayPaymentId','GET','76689ByScLj','paymentId','/payment/verify/','message','1926TUCUGY','===\x20AMER\x20SERVICE\x20ERROR\x20===','amount','loggerService','AmerService','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','7774ZBtCaD','FAILED','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Error\x20stack:','/payment','error'];a41_0x322b=function(){return _0x5e5f36;};return a41_0x322b();}exports[a41_0x1dd2cd(0xa0)]=AmerService;