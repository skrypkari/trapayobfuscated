'use strict';const a43_0x222c97=a43_0x430e;(function(_0x4f3a7a,_0xde4923){const _0x325f1b=a43_0x430e,_0x329a47=_0x4f3a7a();while(!![]){try{const _0x279962=parseInt(_0x325f1b(0xd8))/0x1*(-parseInt(_0x325f1b(0xe9))/0x2)+-parseInt(_0x325f1b(0xcc))/0x3*(-parseInt(_0x325f1b(0xd7))/0x4)+-parseInt(_0x325f1b(0xd2))/0x5+parseInt(_0x325f1b(0xd1))/0x6+-parseInt(_0x325f1b(0xe4))/0x7+parseInt(_0x325f1b(0xef))/0x8+parseInt(_0x325f1b(0xda))/0x9;if(_0x279962===_0xde4923)break;else _0x329a47['push'](_0x329a47['shift']());}catch(_0x150be4){_0x329a47['push'](_0x329a47['shift']());}}}(a43_0x321a,0x5c71e));function a43_0x430e(_0x2b1603,_0x22013a){const _0x321aa5=a43_0x321a();return a43_0x430e=function(_0x430ea6,_0x48023b){_0x430ea6=_0x430ea6-0xc5;let _0x6f01eb=_0x321aa5[_0x430ea6];return _0x6f01eb;},a43_0x430e(_0x2b1603,_0x22013a);}Object[a43_0x222c97(0xf8)](exports,a43_0x222c97(0xed),{'value':!![]}),exports[a43_0x222c97(0xea)]=void 0x0;const loggerService_1=require(a43_0x222c97(0xce));class AmerService{constructor(){const _0x228f34=a43_0x222c97;this['apiUrl']=_0x228f34(0xd6),console[_0x228f34(0xec)](_0x228f34(0xe2));}async[a43_0x222c97(0xee)](_0x207167){const _0x167bb0=a43_0x222c97,{paymentId:_0x69d89b,orderId:_0x2aae33,orderName:_0x3f20ba,amount:_0x9f9f27,currency:_0x4a4e71,usage:_0x4e53c9,maxPayments:_0x2e2f4b,successUrl:_0x56eed2,failUrl:_0xe4f669}=_0x207167,_0x5ec53e=_0x4a4e71[_0x167bb0(0xc9)]();console[_0x167bb0(0xec)]('üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20'+_0x2aae33),console[_0x167bb0(0xec)]('üí∞\x20Amount:\x20'+_0x9f9f27+'\x20'+_0x5ec53e);try{const _0xc55152=this[_0x167bb0(0xe6)]+_0x167bb0(0xf0)+_0x69d89b+_0x167bb0(0xc5)+_0x9f9f27+_0x167bb0(0xfb)+_0x5ec53e+_0x167bb0(0xf5)+_0x2aae33;return console[_0x167bb0(0xec)](_0x167bb0(0xf9)),console[_0x167bb0(0xec)](_0x167bb0(0xe1),_0x69d89b),console['log'](_0x167bb0(0xcb),_0xc55152),console[_0x167bb0(0xec)](_0x167bb0(0xdb),_0x9f9f27,_0x5ec53e),loggerService_1['loggerService']['logWhiteDomainRequest'](_0x167bb0(0xd3),_0x167bb0(0xdc),'GET',{'paymentId':_0x69d89b,'amount':_0x9f9f27,'currency':_0x5ec53e,'orderId':_0x2aae33}),{'gateway_payment_id':_0x69d89b,'payment_url':_0xc55152};}catch(_0x1ea4d6){console[_0x167bb0(0xe7)](_0x167bb0(0xc7)),console[_0x167bb0(0xe7)]('Error\x20details:',_0x1ea4d6),loggerService_1['loggerService'][_0x167bb0(0xfa)](_0x167bb0(0xd3),_0x167bb0(0xdc),_0x1ea4d6);if(_0x1ea4d6 instanceof Error){console[_0x167bb0(0xe7)](_0x167bb0(0xd4),_0x1ea4d6['message']),console[_0x167bb0(0xe7)](_0x167bb0(0xd9),_0x1ea4d6[_0x167bb0(0xf4)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x1ea4d6[_0x167bb0(0xf7)]);}throw new Error(_0x167bb0(0xfc));}}async[a43_0x222c97(0xf1)](_0x51ff2b){const _0xb3e7b1=a43_0x222c97;console[_0xb3e7b1(0xec)](_0xb3e7b1(0xcf)+_0x51ff2b);try{return loggerService_1[_0xb3e7b1(0xe5)][_0xb3e7b1(0xde)]('amer',_0xb3e7b1(0xca)+_0x51ff2b,_0xb3e7b1(0xcd),{}),{'status':_0xb3e7b1(0xc8)};}catch(_0x3f76f4){console[_0xb3e7b1(0xe7)](_0xb3e7b1(0xd0),_0x3f76f4),loggerService_1['loggerService']['logWhiteDomainError'](_0xb3e7b1(0xd3),'/payment/verify/'+_0x51ff2b,_0x3f76f4);throw new Error(_0xb3e7b1(0xc6)+(_0x3f76f4 instanceof Error?_0x3f76f4[_0xb3e7b1(0xf7)]:'Unknown\x20error'));}}async[a43_0x222c97(0xd5)](_0x11e680){const _0x901ea0=a43_0x222c97;console[_0x901ea0(0xec)]('Processing\x20Amer\x20webhook:',_0x11e680);let _0xf7cc7a='PENDING';if(_0x11e680[_0x901ea0(0xe8)]===!![])_0xf7cc7a=_0x901ea0(0xf3);else _0x11e680[_0x901ea0(0xe8)]===![]&&(_0xf7cc7a=_0x901ea0(0xeb));const _0x222227={};return _0x11e680[_0x901ea0(0xdd)]&&(_0x222227[_0x901ea0(0xdd)]=_0x11e680[_0x901ea0(0xdd)]),_0x11e680[_0x901ea0(0xf2)]&&(_0x222227[_0x901ea0(0xf2)]=_0x11e680[_0x901ea0(0xf2)]),_0x11e680[_0x901ea0(0xe0)]&&(_0x222227['transactionId']=_0x11e680[_0x901ea0(0xe0)],_0x222227['gatewayPaymentId']=_0x11e680[_0x901ea0(0xe0)]),console[_0x901ea0(0xec)]('üîÑ\x20Amer\x20webhook\x20processed:\x20status='+_0xf7cc7a),{'paymentId':_0x11e680['paymentId']||_0x11e680[_0x901ea0(0xe3)]||'','status':_0xf7cc7a,'amount':_0x11e680[_0x901ea0(0xdf)],'currency':_0x11e680[_0x901ea0(0xf6)],'additionalInfo':_0x222227};}}exports[a43_0x222c97(0xea)]=AmerService;function a43_0x321a(){const _0x5e4273=['../loggerService','üîç\x20Verifying\x20Amer\x20payment:\x20','Amer\x20payment\x20verification\x20error:','576966fajkmd','2971315UcIJxH','amer','Error\x20message:','processWebhook','https://api2.trapay.uk','8QblyXC','981MLYUvj','Error\x20stack:','8172099TnJdbK','Amount:','/payment','cardLast4','logWhiteDomainRequest','amount','transactionId','Payment\x20ID:','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','orderId','1221465SdSIBT','loggerService','apiUrl','error','success','1300mESytF','AmerService','FAILED','log','__esModule','createPaymentLink','740480GHHoSF','/payment.php?payment_id=','verifyPayment','paymentMethod','PAID','stack','&order=','currency','message','defineProperty','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','logWhiteDomainError','&currency=','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','&amount=','Failed\x20to\x20verify\x20Amer\x20payment:\x20','===\x20AMER\x20SERVICE\x20ERROR\x20===','PENDING','toUpperCase','/payment/verify/','Payment\x20URL:','1032495sTDMxH','GET'];a43_0x321a=function(){return _0x5e4273;};return a43_0x321a();}