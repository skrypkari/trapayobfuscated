'use strict';const a51_0x19eff8=a51_0x3afc;function a51_0x3215(){const _0x192fe4=['Error\x20message:','transactionId','22016lkEfAP','verifyPayment','/payment.php?payment_id=','Amer\x20payment\x20verification\x20error:','logWhiteDomainError','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','currency','Error\x20stack:','amer','GET','1328274Ldbxle','AmerService','amount','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','../loggerService','1068095YjDYrW','4CzoRTj','Error\x20details:','599216JpGwzl','PENDING','1824777ovGmop','cardLast4','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','===\x20AMER\x20SERVICE\x20ERROR\x20===','message','https://api2.trapay.uk','PAID','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','toUpperCase','paymentMethod','log','Payment\x20URL:','140EhEtmZ','FAILED','Failed\x20to\x20verify\x20Amer\x20payment:\x20','logWhiteDomainRequest','defineProperty','processWebhook','&currency=','paymentId','583713SkevBV','__esModule','Processing\x20Amer\x20webhook:','error','&order=','stack','Unknown\x20error','loggerService','14688QLGsYv','gatewayPaymentId','/payment/verify/','success'];a51_0x3215=function(){return _0x192fe4;};return a51_0x3215();}function a51_0x3afc(_0x3ac150,_0x4a7981){_0x3ac150=_0x3ac150-0x1ab;const _0x3215b4=a51_0x3215();let _0x3afc90=_0x3215b4[_0x3ac150];return _0x3afc90;}(function(_0x26228c,_0x2294ac){const _0x59eec6=a51_0x3afc,_0x4eab0b=_0x26228c();while(!![]){try{const _0x45c65d=parseInt(_0x59eec6(0x1ba))/0x1*(-parseInt(_0x59eec6(0x1da))/0x2)+-parseInt(_0x59eec6(0x1d2))/0x3+parseInt(_0x59eec6(0x1e0))/0x4*(parseInt(_0x59eec6(0x1ca))/0x5)+parseInt(_0x59eec6(0x1b4))/0x6+-parseInt(_0x59eec6(0x1b9))/0x7+-parseInt(_0x59eec6(0x1bc))/0x8+parseInt(_0x59eec6(0x1be))/0x9;if(_0x45c65d===_0x2294ac)break;else _0x4eab0b['push'](_0x4eab0b['shift']());}catch(_0x3b35d2){_0x4eab0b['push'](_0x4eab0b['shift']());}}}(a51_0x3215,0x1ef5a));Object[a51_0x19eff8(0x1ce)](exports,a51_0x19eff8(0x1d3),{'value':!![]}),exports['AmerService']=void 0x0;const loggerService_1=require(a51_0x19eff8(0x1b8));class AmerService{constructor(){const _0x430b65=a51_0x19eff8;this['apiUrl']=_0x430b65(0x1c3),console[_0x430b65(0x1c8)](_0x430b65(0x1ae));}async['createPaymentLink'](_0x447713){const _0x525d07=a51_0x19eff8,{paymentId:_0xbd414c,orderId:_0x1038f1,orderName:_0x2a4f0c,amount:_0x58cb35,currency:_0x46a578,usage:_0x8091e6,maxPayments:_0x273c18,successUrl:_0x2752dd,failUrl:_0x4bca98}=_0x447713,_0x4c2d92=_0x46a578[_0x525d07(0x1c6)]();console[_0x525d07(0x1c8)](_0x525d07(0x1b7)+_0x1038f1),console['log']('üí∞\x20Amount:\x20'+_0x58cb35+'\x20'+_0x4c2d92);try{const _0xb84f5c=this['apiUrl']+_0x525d07(0x1ab)+_0xbd414c+'&amount='+_0x58cb35+_0x525d07(0x1d0)+_0x4c2d92+_0x525d07(0x1d6)+_0x1038f1;return console[_0x525d07(0x1c8)]('===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20==='),console[_0x525d07(0x1c8)]('Payment\x20ID:',_0xbd414c),console[_0x525d07(0x1c8)](_0x525d07(0x1c9),_0xb84f5c),console['log']('Amount:',_0x58cb35,_0x4c2d92),loggerService_1[_0x525d07(0x1d9)][_0x525d07(0x1cd)]('amer','/payment',_0x525d07(0x1b3),{'paymentId':_0xbd414c,'amount':_0x58cb35,'currency':_0x4c2d92,'orderId':_0x1038f1}),{'gateway_payment_id':_0xbd414c,'payment_url':_0xb84f5c};}catch(_0x11407c){console[_0x525d07(0x1d5)](_0x525d07(0x1c1)),console[_0x525d07(0x1d5)](_0x525d07(0x1bb),_0x11407c),loggerService_1['loggerService']['logWhiteDomainError'](_0x525d07(0x1b2),'/payment',_0x11407c);if(_0x11407c instanceof Error){console[_0x525d07(0x1d5)](_0x525d07(0x1de),_0x11407c[_0x525d07(0x1c2)]),console['error'](_0x525d07(0x1b1),_0x11407c[_0x525d07(0x1d7)]);throw new Error(_0x525d07(0x1af)+_0x11407c['message']);}throw new Error(_0x525d07(0x1c0));}}async[a51_0x19eff8(0x1e1)](_0xaf666){const _0x3df179=a51_0x19eff8;console['log']('üîç\x20Verifying\x20Amer\x20payment:\x20'+_0xaf666);try{return loggerService_1[_0x3df179(0x1d9)]['logWhiteDomainRequest'](_0x3df179(0x1b2),_0x3df179(0x1dc)+_0xaf666,_0x3df179(0x1b3),{}),{'status':_0x3df179(0x1bd)};}catch(_0x2449d8){console[_0x3df179(0x1d5)](_0x3df179(0x1ac),_0x2449d8),loggerService_1['loggerService'][_0x3df179(0x1ad)](_0x3df179(0x1b2),'/payment/verify/'+_0xaf666,_0x2449d8);throw new Error(_0x3df179(0x1cc)+(_0x2449d8 instanceof Error?_0x2449d8[_0x3df179(0x1c2)]:_0x3df179(0x1d8)));}}async[a51_0x19eff8(0x1cf)](_0x4e8287){const _0x36912a=a51_0x19eff8;console[_0x36912a(0x1c8)](_0x36912a(0x1d4),_0x4e8287);let _0x328970=_0x36912a(0x1bd);if(_0x4e8287[_0x36912a(0x1dd)]===!![])_0x328970=_0x36912a(0x1c4);else _0x4e8287[_0x36912a(0x1dd)]===![]&&(_0x328970=_0x36912a(0x1cb));const _0x483caf={};return _0x4e8287[_0x36912a(0x1bf)]&&(_0x483caf[_0x36912a(0x1bf)]=_0x4e8287[_0x36912a(0x1bf)]),_0x4e8287[_0x36912a(0x1c7)]&&(_0x483caf['paymentMethod']=_0x4e8287[_0x36912a(0x1c7)]),_0x4e8287[_0x36912a(0x1df)]&&(_0x483caf[_0x36912a(0x1df)]=_0x4e8287[_0x36912a(0x1df)],_0x483caf[_0x36912a(0x1db)]=_0x4e8287[_0x36912a(0x1df)]),console[_0x36912a(0x1c8)](_0x36912a(0x1c5)+_0x328970),{'paymentId':_0x4e8287[_0x36912a(0x1d1)]||_0x4e8287['orderId']||'','status':_0x328970,'amount':_0x4e8287[_0x36912a(0x1b6)],'currency':_0x4e8287[_0x36912a(0x1b0)],'additionalInfo':_0x483caf};}}exports[a51_0x19eff8(0x1b5)]=AmerService;