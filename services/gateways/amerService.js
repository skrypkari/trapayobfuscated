'use strict';const a41_0x555cce=a41_0x238a;(function(_0x3c029d,_0x33dfdc){const _0x47f476=a41_0x238a,_0x118318=_0x3c029d();while(!![]){try{const _0x383c1c=-parseInt(_0x47f476(0x1de))/0x1*(parseInt(_0x47f476(0x1e7))/0x2)+parseInt(_0x47f476(0x1db))/0x3*(parseInt(_0x47f476(0x1be))/0x4)+-parseInt(_0x47f476(0x1e1))/0x5+-parseInt(_0x47f476(0x1cb))/0x6*(-parseInt(_0x47f476(0x1bf))/0x7)+parseInt(_0x47f476(0x1f3))/0x8+parseInt(_0x47f476(0x1ef))/0x9*(-parseInt(_0x47f476(0x1c8))/0xa)+parseInt(_0x47f476(0x1ca))/0xb;if(_0x383c1c===_0x33dfdc)break;else _0x118318['push'](_0x118318['shift']());}catch(_0xf9052d){_0x118318['push'](_0x118318['shift']());}}}(a41_0x38a4,0x610ba));Object[a41_0x555cce(0x1ed)](exports,'__esModule',{'value':!![]}),exports[a41_0x555cce(0x1c2)]=void 0x0;function a41_0x38a4(){const _0x14e985=['verifyPayment','Error\x20message:','FAILED','defineProperty','===\x20AMER\x20SERVICE\x20ERROR\x20===','200313JFgdNu','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','log','869680pobPAS','amer','toUpperCase','/payment/verify/','gatewayPaymentId','paymentId','üîç\x20Verifying\x20Amer\x20payment:\x20','Amer\x20payment\x20verification\x20error:','524cBxPva','7qnudNh','transactionId','success','AmerService','cardLast4','logWhiteDomainRequest','Error\x20details:','https://api2.trapay.uk/payment/','../loggerService','220GZZJwt','Amount:','12670449GCDfQl','3082650xmUXJz','Error\x20stack:','orderId','paymentMethod','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','error','currency','createPaymentLink','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','message','stack','?id=','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','Payment\x20URL:','Payment\x20ID:','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','11019YryrBy','&currency=','Failed\x20to\x20verify\x20Amer\x20payment:\x20','719161gNFgLc','/payment','processWebhook','3245970MNlYxA','logWhiteDomainError','&amount=','&order=','loggerService','GET','2qYHttY','apiUrl','PENDING'];a41_0x38a4=function(){return _0x14e985;};return a41_0x38a4();}const loggerService_1=require(a41_0x555cce(0x1c7));class AmerService{constructor(){const _0x1919bb=a41_0x555cce;this[_0x1919bb(0x1e8)]=_0x1919bb(0x1c6),console[_0x1919bb(0x1f2)](_0x1919bb(0x1d7));}async[a41_0x555cce(0x1d2)](_0x1865fa){const _0xca7c3a=a41_0x555cce,{paymentId:_0x25b6be,orderId:_0x14f2fc,orderName:_0x4af7d4,amount:_0x2adb20,currency:_0x523865,usage:_0x4ce1ae,maxPayments:_0x1d68e7,successUrl:_0x18d6a2,failUrl:_0x3fd0f8}=_0x1865fa,_0x3a1ee5=_0x523865[_0xca7c3a(0x1f5)]();console[_0xca7c3a(0x1f2)](_0xca7c3a(0x1d3)+_0x14f2fc),console[_0xca7c3a(0x1f2)]('üí∞\x20Amount:\x20'+_0x2adb20+'\x20'+_0x3a1ee5);try{const _0x273f6e=this[_0xca7c3a(0x1e8)]+_0xca7c3a(0x1d6)+_0x25b6be+_0xca7c3a(0x1e3)+_0x2adb20+_0xca7c3a(0x1dc)+_0x3a1ee5+_0xca7c3a(0x1e4)+_0x14f2fc;return console['log'](_0xca7c3a(0x1f1)),console[_0xca7c3a(0x1f2)](_0xca7c3a(0x1d9),_0x25b6be),console[_0xca7c3a(0x1f2)](_0xca7c3a(0x1d8),_0x273f6e),console[_0xca7c3a(0x1f2)](_0xca7c3a(0x1c9),_0x2adb20,_0x3a1ee5),loggerService_1[_0xca7c3a(0x1e5)]['logWhiteDomainRequest'](_0xca7c3a(0x1f4),_0xca7c3a(0x1df),'GET',{'paymentId':_0x25b6be,'amount':_0x2adb20,'currency':_0x3a1ee5,'orderId':_0x14f2fc}),{'gateway_payment_id':_0x25b6be,'payment_url':_0x273f6e};}catch(_0x20b3f4){console['error'](_0xca7c3a(0x1ee)),console['error'](_0xca7c3a(0x1c5),_0x20b3f4),loggerService_1[_0xca7c3a(0x1e5)][_0xca7c3a(0x1e2)](_0xca7c3a(0x1f4),_0xca7c3a(0x1df),_0x20b3f4);if(_0x20b3f4 instanceof Error){console[_0xca7c3a(0x1d0)](_0xca7c3a(0x1eb),_0x20b3f4[_0xca7c3a(0x1d4)]),console[_0xca7c3a(0x1d0)](_0xca7c3a(0x1cc),_0x20b3f4[_0xca7c3a(0x1d5)]);throw new Error(_0xca7c3a(0x1f0)+_0x20b3f4[_0xca7c3a(0x1d4)]);}throw new Error(_0xca7c3a(0x1cf));}}async[a41_0x555cce(0x1ea)](_0x57d7a9){const _0x54d965=a41_0x555cce;console[_0x54d965(0x1f2)](_0x54d965(0x1f9)+_0x57d7a9);try{return loggerService_1['loggerService'][_0x54d965(0x1c4)](_0x54d965(0x1f4),_0x54d965(0x1f6)+_0x57d7a9,_0x54d965(0x1e6),{}),{'status':_0x54d965(0x1e9)};}catch(_0x52c0fb){console[_0x54d965(0x1d0)](_0x54d965(0x1bd),_0x52c0fb),loggerService_1[_0x54d965(0x1e5)][_0x54d965(0x1e2)](_0x54d965(0x1f4),_0x54d965(0x1f6)+_0x57d7a9,_0x52c0fb);throw new Error(_0x54d965(0x1dd)+(_0x52c0fb instanceof Error?_0x52c0fb[_0x54d965(0x1d4)]:'Unknown\x20error'));}}async[a41_0x555cce(0x1e0)](_0x41d538){const _0x2c3666=a41_0x555cce;console[_0x2c3666(0x1f2)]('Processing\x20Amer\x20webhook:',_0x41d538);let _0x27e799=_0x2c3666(0x1e9);if(_0x41d538[_0x2c3666(0x1c1)]===!![])_0x27e799='PAID';else _0x41d538[_0x2c3666(0x1c1)]===![]&&(_0x27e799=_0x2c3666(0x1ec));const _0x4ad7bf={};return _0x41d538['cardLast4']&&(_0x4ad7bf[_0x2c3666(0x1c3)]=_0x41d538[_0x2c3666(0x1c3)]),_0x41d538[_0x2c3666(0x1ce)]&&(_0x4ad7bf[_0x2c3666(0x1ce)]=_0x41d538['paymentMethod']),_0x41d538[_0x2c3666(0x1c0)]&&(_0x4ad7bf[_0x2c3666(0x1c0)]=_0x41d538['transactionId'],_0x4ad7bf[_0x2c3666(0x1f7)]=_0x41d538[_0x2c3666(0x1c0)]),console[_0x2c3666(0x1f2)](_0x2c3666(0x1da)+_0x27e799),{'paymentId':_0x41d538[_0x2c3666(0x1f8)]||_0x41d538[_0x2c3666(0x1cd)]||'','status':_0x27e799,'amount':_0x41d538['amount'],'currency':_0x41d538[_0x2c3666(0x1d1)],'additionalInfo':_0x4ad7bf};}}function a41_0x238a(_0x28c61f,_0x3d22d8){const _0x38a48e=a41_0x38a4();return a41_0x238a=function(_0x238a53,_0x4c7a74){_0x238a53=_0x238a53-0x1bd;let _0x30b027=_0x38a48e[_0x238a53];return _0x30b027;},a41_0x238a(_0x28c61f,_0x3d22d8);}exports[a41_0x555cce(0x1c2)]=AmerService;