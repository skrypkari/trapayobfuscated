'use strict';const a41_0x500d24=a41_0x5daa;(function(_0x337730,_0x4afd77){const _0x225814=a41_0x5daa,_0x10af6c=_0x337730();while(!![]){try{const _0x94890c=-parseInt(_0x225814(0x12d))/0x1+parseInt(_0x225814(0x13b))/0x2+parseInt(_0x225814(0x118))/0x3+-parseInt(_0x225814(0x122))/0x4*(-parseInt(_0x225814(0x13d))/0x5)+parseInt(_0x225814(0x126))/0x6+parseInt(_0x225814(0x12b))/0x7+parseInt(_0x225814(0x112))/0x8*(-parseInt(_0x225814(0x128))/0x9);if(_0x94890c===_0x4afd77)break;else _0x10af6c['push'](_0x10af6c['shift']());}catch(_0x51be00){_0x10af6c['push'](_0x10af6c['shift']());}}}(a41_0x25ed,0xe018f));function a41_0x5daa(_0x5a068c,_0x24f056){const _0x25ed81=a41_0x25ed();return a41_0x5daa=function(_0x5daa1c,_0x47b86d){_0x5daa1c=_0x5daa1c-0x105;let _0x21f05f=_0x25ed81[_0x5daa1c];return _0x21f05f;},a41_0x5daa(_0x5a068c,_0x24f056);}function a41_0x25ed(){const _0x22aeaf=['892337vUCShI','amer','logWhiteDomainError','/payment/verify/','Failed\x20to\x20verify\x20Amer\x20payment:\x20','paymentMethod','transactionId','Error\x20details:','GET','PENDING','Error\x20message:','üîç\x20Verifying\x20Amer\x20payment:\x20','FAILED','log','2906296OwSpcJ','Processing\x20Amer\x20webhook:','5LMvREL','üåê\x20Amer\x20service\x20initialized\x20with\x20api2.trapay.uk\x20domain','processWebhook','&amount=','Payment\x20ID:','stack','__esModule','Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20Unknown\x20error','apiUrl','toUpperCase','orderId','defineProperty','/payment.php?payment_id=','Amount:','13392088DYCYyH','üîÑ\x20Amer\x20webhook\x20processed:\x20status=','currency','===\x20AMER\x20PAYMENT\x20LINK\x20CREATED\x20===','error','/payment','541905JdyyfB','AmerService','createPaymentLink','gatewayPaymentId','PAID','amount','logWhiteDomainRequest','../loggerService','success','message','2947948YbvTUt','Amer\x20payment\x20verification\x20error:','cardLast4','&currency=','6448848dGpRuz','verifyPayment','18WPcmZK','üí≥\x20Creating\x20Amer\x20payment\x20link\x20for\x20order\x20','loggerService','11988788NWBwWz','Unknown\x20error'];a41_0x25ed=function(){return _0x22aeaf;};return a41_0x25ed();}Object[a41_0x500d24(0x10f)](exports,a41_0x500d24(0x10a),{'value':!![]}),exports[a41_0x500d24(0x119)]=void 0x0;const loggerService_1=require(a41_0x500d24(0x11f));class AmerService{constructor(){const _0x41ba32=a41_0x500d24;this[_0x41ba32(0x10c)]='https://api2.trapay.uk',console[_0x41ba32(0x13a)](_0x41ba32(0x105));}async[a41_0x500d24(0x11a)](_0x3fc2bd){const _0x5c0579=a41_0x500d24,{paymentId:_0x344f7a,orderId:_0x41d3d4,orderName:_0x309898,amount:_0x303881,currency:_0x554c14,usage:_0x2c9e8,maxPayments:_0x7ed09b,successUrl:_0x182c67,failUrl:_0x47ffa4}=_0x3fc2bd,_0x347389=_0x554c14[_0x5c0579(0x10d)]();console['log'](_0x5c0579(0x129)+_0x41d3d4),console[_0x5c0579(0x13a)]('üí∞\x20Amount:\x20'+_0x303881+'\x20'+_0x347389);try{const _0x46cd6e=this['apiUrl']+_0x5c0579(0x110)+_0x344f7a+_0x5c0579(0x107)+_0x303881+_0x5c0579(0x125)+_0x347389+'&order='+_0x41d3d4;return console['log'](_0x5c0579(0x115)),console[_0x5c0579(0x13a)](_0x5c0579(0x108),_0x344f7a),console['log']('Payment\x20URL:',_0x46cd6e),console[_0x5c0579(0x13a)](_0x5c0579(0x111),_0x303881,_0x347389),loggerService_1['loggerService'][_0x5c0579(0x11e)]('amer',_0x5c0579(0x117),_0x5c0579(0x135),{'paymentId':_0x344f7a,'amount':_0x303881,'currency':_0x347389,'orderId':_0x41d3d4}),{'gateway_payment_id':_0x344f7a,'payment_url':_0x46cd6e};}catch(_0x4df522){console[_0x5c0579(0x116)]('===\x20AMER\x20SERVICE\x20ERROR\x20==='),console['error'](_0x5c0579(0x134),_0x4df522),loggerService_1[_0x5c0579(0x12a)][_0x5c0579(0x12f)]('amer',_0x5c0579(0x117),_0x4df522);if(_0x4df522 instanceof Error){console[_0x5c0579(0x116)](_0x5c0579(0x137),_0x4df522['message']),console[_0x5c0579(0x116)]('Error\x20stack:',_0x4df522[_0x5c0579(0x109)]);throw new Error('Failed\x20to\x20create\x20Amer\x20payment\x20link:\x20'+_0x4df522['message']);}throw new Error(_0x5c0579(0x10b));}}async[a41_0x500d24(0x127)](_0x2629ba){const _0x8be5b4=a41_0x500d24;console[_0x8be5b4(0x13a)](_0x8be5b4(0x138)+_0x2629ba);try{return loggerService_1[_0x8be5b4(0x12a)][_0x8be5b4(0x11e)](_0x8be5b4(0x12e),_0x8be5b4(0x130)+_0x2629ba,_0x8be5b4(0x135),{}),{'status':_0x8be5b4(0x136)};}catch(_0x2bb034){console['error'](_0x8be5b4(0x123),_0x2bb034),loggerService_1[_0x8be5b4(0x12a)][_0x8be5b4(0x12f)]('amer',_0x8be5b4(0x130)+_0x2629ba,_0x2bb034);throw new Error(_0x8be5b4(0x131)+(_0x2bb034 instanceof Error?_0x2bb034[_0x8be5b4(0x121)]:_0x8be5b4(0x12c)));}}async[a41_0x500d24(0x106)](_0x474812){const _0x2b0002=a41_0x500d24;console[_0x2b0002(0x13a)](_0x2b0002(0x13c),_0x474812);let _0x5bb5b1=_0x2b0002(0x136);if(_0x474812[_0x2b0002(0x120)]===!![])_0x5bb5b1=_0x2b0002(0x11c);else _0x474812[_0x2b0002(0x120)]===![]&&(_0x5bb5b1=_0x2b0002(0x139));const _0x5dbb0f={};return _0x474812['cardLast4']&&(_0x5dbb0f[_0x2b0002(0x124)]=_0x474812[_0x2b0002(0x124)]),_0x474812[_0x2b0002(0x132)]&&(_0x5dbb0f[_0x2b0002(0x132)]=_0x474812[_0x2b0002(0x132)]),_0x474812[_0x2b0002(0x133)]&&(_0x5dbb0f[_0x2b0002(0x133)]=_0x474812[_0x2b0002(0x133)],_0x5dbb0f[_0x2b0002(0x11b)]=_0x474812[_0x2b0002(0x133)]),console['log'](_0x2b0002(0x113)+_0x5bb5b1),{'paymentId':_0x474812['paymentId']||_0x474812[_0x2b0002(0x10e)]||'','status':_0x5bb5b1,'amount':_0x474812[_0x2b0002(0x11d)],'currency':_0x474812[_0x2b0002(0x114)],'additionalInfo':_0x5dbb0f};}}exports[a41_0x500d24(0x119)]=AmerService;