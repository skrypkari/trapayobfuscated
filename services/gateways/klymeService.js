'use strict';const a42_0x1bfc5a=a42_0x8b3e;(function(_0x1091cd,_0x4e4b79){const _0x2b28a6=a42_0x8b3e,_0x1192c4=_0x1091cd();while(!![]){try{const _0x4c1581=-parseInt(_0x2b28a6(0x1f9))/0x1*(-parseInt(_0x2b28a6(0x21e))/0x2)+parseInt(_0x2b28a6(0x1d8))/0x3+parseInt(_0x2b28a6(0x1c7))/0x4*(parseInt(_0x2b28a6(0x23e))/0x5)+-parseInt(_0x2b28a6(0x20e))/0x6+parseInt(_0x2b28a6(0x22d))/0x7*(parseInt(_0x2b28a6(0x1dd))/0x8)+-parseInt(_0x2b28a6(0x1c4))/0x9+parseInt(_0x2b28a6(0x20a))/0xa;if(_0x4c1581===_0x4e4b79)break;else _0x1192c4['push'](_0x1192c4['shift']());}catch(_0x313d42){_0x1192c4['push'](_0x1192c4['shift']());}}}(a42_0x25ef,0x20629));function a42_0x25ef(){const _0x360177=['Error\x20stack:','GBP','\x20SERVICE\x20ERROR\x20===','prototype','\x20API\x20error:\x20','\x20already\x20exists,\x20generating\x20new\x20one\x20(attempt\x20','log','EXPIRED','Currency:','verifyPayment','Headers:','klyme_','call','\x20payment\x20verification\x20error:','canceled','confirmed','/create','URL:','apiUrl','Redirect\x20URL:','logWhiteDomainError','stack','1946934VKwVED','reference','now','210624UVhkxo','Incomplete\x20response:\x20missing\x20uuid/redirect_url\x20or\x20authUrl','Failed\x20to\x20verify\x20KLYME\x20','Business\x20Error:\x20',',\x20body:\x20','floor','logWhiteDomainResponse','Unknown\x20error','validateCurrencyForRegion','\x20API\x20INCOMPLETE\x20RESPONSE\x20===','\x20validated)','padStart','toString','stringify','findFirst','Failed\x20to\x20parse\x20JSON\x20response:','transaction_id','36873iPZbJI','Raw\x20Response\x20Body:','message','hasOwnProperty','KLYME\x20EU\x20accepts\x20only\x20EUR\x20currency,\x20got:\x20','214376PwJNUD','fromEntries','uuid','\x20API\x20RESPONSE\x20(Unified\x20Route)\x20===','===\x20PARSED\x20KLYME\x20','KLYME\x20','status','EUR','FAILED','region','Missing\x20uuid/redirect_url\x20or\x20authUrl\x20in\x20response','expired','\x20SUCCESS\x20(Legacy\x20Format)\x20===','then','HTTP\x20','(validated\x20for\x20','authUrl','amount','Auth\x20URL:','Failed\x20to\x20generate\x20unique\x20KLYME\x20reference\x20after\x20maximum\x20attempts','statusCode','Error\x20Message:','KlymeService','processWebhook','Processing\x20KLYME\x20webhook:','redirect_url','https://tesoft.uk/gateway/pending.php?id=','\x20API\x20ERROR\x20===','5LBHBJp','logWhiteDomainRequest','Status\x20Text:','__esModule','‚ö†Ô∏è\x20KLYME\x20reference\x20','createPaymentLink','üí≥\x20KLYME\x20service\x20initialized\x20with\x20unified\x20white\x20domain\x20proxy\x20for\x20all\x20regions','/verify/','Status\x20Code:','Status:','loggerService','__createBinding','PENDING','completed','(8digits-8digits\x20format)','failed','application/json','3337090YAUqjy','Response\x20Body:','Currency\x20Used:','payment','807918OXwVPi','Reference\x20Used:','entries','payment_method','UUID:','\x20API\x20BUSINESS\x20ERROR\x20===','../loggerService','create','üí≥\x20KLYME\x20','success','\x20payment\x20link:\x20','\x20API\x20REQUEST\x20(Unified\x20Route\x20with\x20Geo)\x20===','random','toLowerCase','Unknown\x20error\x20from\x20KLYME\x20','defineProperty','23270yyrqmI','üéØ\x20Generated\x20unique\x20KLYME\x20reference:\x20','length','rejected','created','POST','\x20payment:\x20','===\x20KLYME\x20','Unsupported\x20KLYME\x20region:\x20','resolve','json','text','\x20RESPONSE\x20===','JSON\x20Parse\x20Error:\x20','Request\x20Body:','7NPZwdU','parse','Invalid\x20JSON\x20response\x20from\x20KLYME\x20','__setModuleDefault','\x20API','\x20currency\x20validation\x20passed:\x20','Error\x20details:','pending','KLYME\x20GB\x20accepts\x20only\x20GBP\x20currency,\x20got:\x20','Failed\x20to\x20create\x20KLYME\x20','in_progress','get','HTTP\x20error!\x20status:\x20','toUpperCase','error','default','KLYME\x20DE\x20accepts\x20only\x20EUR\x20currency,\x20got:\x20','5AfPTss','\x20API:\x20','getOwnPropertyNames','configurable','TesSoft\x20Payment\x20System/1.0'];a42_0x25ef=function(){return _0x360177;};return a42_0x25ef();}var __createBinding=this&&this[a42_0x1bfc5a(0x204)]||(Object[a42_0x1bfc5a(0x215)]?function(_0x33a041,_0x1a754c,_0x58e89b,_0x7fc5e7){const _0x4e374b=a42_0x1bfc5a;if(_0x7fc5e7===undefined)_0x7fc5e7=_0x58e89b;var _0x58f2ca=Object['getOwnPropertyDescriptor'](_0x1a754c,_0x58e89b);(!_0x58f2ca||(_0x4e374b(0x238)in _0x58f2ca?!_0x1a754c[_0x4e374b(0x1fc)]:_0x58f2ca['writable']||_0x58f2ca[_0x4e374b(0x241)]))&&(_0x58f2ca={'enumerable':!![],'get':function(){return _0x1a754c[_0x58e89b];}}),Object[_0x4e374b(0x21d)](_0x33a041,_0x7fc5e7,_0x58f2ca);}:function(_0x399804,_0x40893c,_0x37a6fa,_0x249c7b){if(_0x249c7b===undefined)_0x249c7b=_0x37a6fa;_0x399804[_0x249c7b]=_0x40893c[_0x37a6fa];}),__setModuleDefault=this&&this[a42_0x1bfc5a(0x230)]||(Object[a42_0x1bfc5a(0x215)]?function(_0x3f2f76,_0x59b7f2){const _0x4fcf17=a42_0x1bfc5a;Object[_0x4fcf17(0x21d)](_0x3f2f76,_0x4fcf17(0x23c),{'enumerable':!![],'value':_0x59b7f2});}:function(_0x36815d,_0x264b80){const _0x5e5249=a42_0x1bfc5a;_0x36815d[_0x5e5249(0x23c)]=_0x264b80;}),__importStar=this&&this['__importStar']||(function(){var _0x359844=function(_0x1c043b){const _0x3785a2=a42_0x8b3e;return _0x359844=Object[_0x3785a2(0x240)]||function(_0x1dc8ef){const _0x7b3496=_0x3785a2;var _0x367be2=[];for(var _0x2f1c54 in _0x1dc8ef)if(Object[_0x7b3496(0x246)][_0x7b3496(0x1db)][_0x7b3496(0x1ba)](_0x1dc8ef,_0x2f1c54))_0x367be2[_0x367be2[_0x7b3496(0x220)]]=_0x2f1c54;return _0x367be2;},_0x359844(_0x1c043b);};return function(_0x3ea1d3){const _0x4df14e=a42_0x8b3e;if(_0x3ea1d3&&_0x3ea1d3['__esModule'])return _0x3ea1d3;var _0xe3f05={};if(_0x3ea1d3!=null){for(var _0x39f4b2=_0x359844(_0x3ea1d3),_0x773fcb=0x0;_0x773fcb<_0x39f4b2[_0x4df14e(0x220)];_0x773fcb++)if(_0x39f4b2[_0x773fcb]!=='default')__createBinding(_0xe3f05,_0x3ea1d3,_0x39f4b2[_0x773fcb]);}return __setModuleDefault(_0xe3f05,_0x3ea1d3),_0xe3f05;};}());Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a42_0x1bfc5a(0x1f3)]=void 0x0;const loggerService_1=require(a42_0x1bfc5a(0x214));function a42_0x8b3e(_0x4406fe,_0x20d5ce){const _0x25efe9=a42_0x25ef();return a42_0x8b3e=function(_0x8b3efa,_0x1d1296){_0x8b3efa=_0x8b3efa-0x1b6;let _0x3bb11b=_0x25efe9[_0x8b3efa];return _0x3bb11b;},a42_0x8b3e(_0x4406fe,_0x20d5ce);}class KlymeService{constructor(){const _0x3a5e0e=a42_0x1bfc5a;this[_0x3a5e0e(0x1c0)]='https://tesoft.uk/gateway/klyme/',console[_0x3a5e0e(0x249)](_0x3a5e0e(0x1ff));}['validateCurrencyForRegion'](_0x1a1a60,_0x1e7767){const _0x599f89=a42_0x1bfc5a,_0x53cb8a=_0x1a1a60[_0x599f89(0x23a)]();switch(_0x1e7767){case'EU':if(_0x53cb8a!==_0x599f89(0x1e4))throw new Error(_0x599f89(0x1dc)+_0x53cb8a);break;case'GB':if(_0x53cb8a!==_0x599f89(0x244))throw new Error(_0x599f89(0x235)+_0x53cb8a);break;case'DE':if(_0x53cb8a!=='EUR')throw new Error(_0x599f89(0x23d)+_0x53cb8a);break;default:throw new Error(_0x599f89(0x226)+_0x1e7767);}}async['generateUniqueReference'](){const _0x37df20=a42_0x1bfc5a,_0x2d7d45=(await Promise[_0x37df20(0x227)]()[_0x37df20(0x1ea)](()=>__importStar(require('../../config/database'))))['default'];let _0xf2eb4,_0x5014df=0x0;const _0x14d3fc=0xa;do{const _0x2f1434=()=>{const _0x5ec051=_0x37df20;return Math[_0x5ec051(0x1cc)](Math[_0x5ec051(0x21a)]()*0x5f5e100)[_0x5ec051(0x1d3)]()[_0x5ec051(0x1d2)](0x8,'0');};_0xf2eb4=_0x2f1434()+'-'+_0x2f1434();const _0x270bef=await _0x2d7d45[_0x37df20(0x20d)][_0x37df20(0x1d5)]({'where':{'gatewayOrderId':_0xf2eb4}});if(!_0x270bef)break;_0x5014df++,console[_0x37df20(0x249)](_0x37df20(0x1fd)+_0xf2eb4+_0x37df20(0x248)+_0x5014df+')');}while(_0x5014df<_0x14d3fc);if(_0x5014df>=_0x14d3fc)throw new Error(_0x37df20(0x1f0));return _0xf2eb4;}async[a42_0x1bfc5a(0x1fe)](_0x432dfa){const _0x4aa629=a42_0x1bfc5a,{orderId:_0x52165a,amount:_0xe74a1d,currency:_0xc868df,region:_0x5e8cfb}=_0x432dfa;if(_0x5e8cfb!=='EU'&&_0x5e8cfb!=='GB'&&_0x5e8cfb!=='DE')throw new Error('KLYME\x20payment\x20creation\x20is\x20supported\x20for\x20EU,\x20GB\x20and\x20DE\x20regions,\x20got:\x20'+_0x5e8cfb);this[_0x4aa629(0x1cf)](_0xc868df,_0x5e8cfb);const _0x35748d=_0xc868df['toUpperCase']();console[_0x4aa629(0x249)](_0x4aa629(0x216)+_0x5e8cfb+_0x4aa629(0x232)+_0x35748d);const _0x2e11df=await this['generateUniqueReference']();console[_0x4aa629(0x249)](_0x4aa629(0x21f)+_0x2e11df+'\x20(8digits-8digits\x20format\x20for\x20'+_0x5e8cfb+')');const _0x2f0342=_0x4aa629(0x1f7)+_0x52165a,_0x1f685f={'amount':_0xe74a1d,'currency':_0x35748d,'redirectUrl':_0x2f0342,'reference':_0x2e11df,'geo':_0x5e8cfb},_0x1626ae=Date[_0x4aa629(0x1c6)]();try{console[_0x4aa629(0x249)](_0x4aa629(0x225)+_0x5e8cfb+_0x4aa629(0x219)),console[_0x4aa629(0x249)](_0x4aa629(0x1bf),this[_0x4aa629(0x1c0)]),console[_0x4aa629(0x249)](_0x4aa629(0x22c),JSON[_0x4aa629(0x1d4)](_0x1f685f,null,0x2)),console['log']('Region\x20(geo):',_0x5e8cfb),console[_0x4aa629(0x249)](_0x4aa629(0x1b6),_0x35748d,_0x4aa629(0x1ec)+_0x5e8cfb+')'),console['log']('Reference:',_0x2e11df,'(8digits-8digits\x20format)'),console[_0x4aa629(0x249)]('Redirect\x20URL:',_0x2f0342),loggerService_1[_0x4aa629(0x203)]['logWhiteDomainRequest'](_0x4aa629(0x1b9)+_0x5e8cfb[_0x4aa629(0x21b)](),_0x4aa629(0x1be),'POST',_0x1f685f);const _0x3af034=await fetch(this[_0x4aa629(0x1c0)],{'method':_0x4aa629(0x223),'headers':{'Content-Type':'application/json','Accept':_0x4aa629(0x209),'User-Agent':'TesSoft\x20Payment\x20System/1.0'},'body':JSON[_0x4aa629(0x1d4)](_0x1f685f)}),_0x504783=Date[_0x4aa629(0x1c6)]()-_0x1626ae;console[_0x4aa629(0x249)](_0x4aa629(0x225)+_0x5e8cfb+_0x4aa629(0x1e0)),console['log'](_0x4aa629(0x202),_0x3af034['status']),console[_0x4aa629(0x249)](_0x4aa629(0x1fb),_0x3af034['statusText']),console[_0x4aa629(0x249)](_0x4aa629(0x1b8),Object[_0x4aa629(0x1de)](_0x3af034['headers'][_0x4aa629(0x210)]())),console[_0x4aa629(0x249)]('Response\x20Time:',_0x504783+'ms');const _0x3182d0=await _0x3af034[_0x4aa629(0x229)]();console[_0x4aa629(0x249)](_0x4aa629(0x1d9),_0x3182d0);if(!_0x3af034['ok']){console[_0x4aa629(0x23b)](_0x4aa629(0x225)+_0x5e8cfb+_0x4aa629(0x1f8)),console[_0x4aa629(0x23b)]('HTTP\x20Status:',_0x3af034['status']),console[_0x4aa629(0x23b)](_0x4aa629(0x20b),_0x3182d0),loggerService_1[_0x4aa629(0x203)][_0x4aa629(0x1cd)](_0x4aa629(0x1b9)+_0x5e8cfb[_0x4aa629(0x21b)](),'/create',_0x3af034[_0x4aa629(0x1e3)],_0x3182d0,_0x504783),loggerService_1[_0x4aa629(0x203)][_0x4aa629(0x1c2)](_0x4aa629(0x1b9)+_0x5e8cfb['toLowerCase'](),'/create',_0x4aa629(0x1eb)+_0x3af034['status']+':\x20'+_0x3182d0);throw new Error('HTTP\x20error!\x20status:\x20'+_0x3af034[_0x4aa629(0x1e3)]+_0x4aa629(0x1cb)+_0x3182d0);}let _0x485b88;try{_0x485b88=JSON[_0x4aa629(0x22e)](_0x3182d0);}catch(_0x2dc954){console[_0x4aa629(0x23b)](_0x4aa629(0x1d6),_0x2dc954),loggerService_1[_0x4aa629(0x203)][_0x4aa629(0x1c2)](_0x4aa629(0x1b9)+_0x5e8cfb[_0x4aa629(0x21b)](),_0x4aa629(0x1be),_0x4aa629(0x22b)+_0x2dc954);throw new Error(_0x4aa629(0x22f)+_0x5e8cfb+_0x4aa629(0x23f)+_0x3182d0);}console[_0x4aa629(0x249)](_0x4aa629(0x1e1)+_0x5e8cfb+_0x4aa629(0x22a)),console[_0x4aa629(0x249)]('Parsed\x20Result:',JSON[_0x4aa629(0x1d4)](_0x485b88,null,0x2)),loggerService_1[_0x4aa629(0x203)][_0x4aa629(0x1cd)]('klyme_'+_0x5e8cfb[_0x4aa629(0x21b)](),_0x4aa629(0x1be),_0x3af034[_0x4aa629(0x1e3)],_0x485b88,_0x504783);if(_0x485b88[_0x4aa629(0x23b)]||_0x485b88['statusCode']){const _0x8c2cf3=_0x485b88[_0x4aa629(0x1da)]||_0x485b88[_0x4aa629(0x23b)]||_0x4aa629(0x21c)+_0x5e8cfb+_0x4aa629(0x231);console[_0x4aa629(0x23b)](_0x4aa629(0x225)+_0x5e8cfb+_0x4aa629(0x213)),console['error'](_0x4aa629(0x1f2),_0x8c2cf3),console[_0x4aa629(0x23b)](_0x4aa629(0x201),_0x485b88['statusCode']),loggerService_1[_0x4aa629(0x203)][_0x4aa629(0x1c2)](_0x4aa629(0x1b9)+_0x5e8cfb[_0x4aa629(0x21b)](),_0x4aa629(0x1be),_0x4aa629(0x1ca)+_0x8c2cf3);throw new Error(_0x4aa629(0x1e2)+_0x5e8cfb+'\x20API\x20error:\x20'+_0x8c2cf3);}let _0xbf06e2,_0x4cfcc6;if(_0x485b88['uuid']&&_0x485b88['redirect_url'])_0xbf06e2=_0x485b88[_0x4aa629(0x1df)],_0x4cfcc6=_0x485b88[_0x4aa629(0x1f6)],console[_0x4aa629(0x249)](_0x4aa629(0x225)+_0x5e8cfb+'\x20SUCCESS\x20(New\x20Format)\x20==='),console[_0x4aa629(0x249)](_0x4aa629(0x212),_0x485b88[_0x4aa629(0x1df)]),console[_0x4aa629(0x249)](_0x4aa629(0x1c1),_0x485b88['redirect_url']);else{if(_0x485b88[_0x4aa629(0x1ed)])_0xbf06e2=_0x2e11df,_0x4cfcc6=_0x485b88[_0x4aa629(0x1ed)],console[_0x4aa629(0x249)](_0x4aa629(0x225)+_0x5e8cfb+_0x4aa629(0x1e9)),console['log'](_0x4aa629(0x1ef),_0x485b88['authUrl']),console[_0x4aa629(0x249)]('Reference\x20Used\x20as\x20ID:',_0x2e11df);else{console[_0x4aa629(0x23b)](_0x4aa629(0x225)+_0x5e8cfb+_0x4aa629(0x1d0)),console['error'](_0x4aa629(0x1e7)),console[_0x4aa629(0x23b)]('Response\x20data:',_0x485b88),loggerService_1['loggerService'][_0x4aa629(0x1c2)]('klyme_'+_0x5e8cfb[_0x4aa629(0x21b)](),_0x4aa629(0x1be),_0x4aa629(0x1c8));throw new Error('Invalid\x20response\x20from\x20KLYME\x20'+_0x5e8cfb+'\x20API:\x20missing\x20payment\x20data');}}return console[_0x4aa629(0x249)](_0x4aa629(0x20c),_0x35748d,'('+_0x5e8cfb+_0x4aa629(0x1d1)),console[_0x4aa629(0x249)](_0x4aa629(0x20f),_0x2e11df,_0x4aa629(0x207)),console['log']('Geo\x20Parameter:',_0x5e8cfb),{'gateway_payment_id':_0xbf06e2,'payment_url':_0x4cfcc6};}catch(_0x1c2bfc){console['error']('===\x20KLYME\x20'+_0x5e8cfb+_0x4aa629(0x245)),console[_0x4aa629(0x23b)](_0x4aa629(0x233),_0x1c2bfc),loggerService_1[_0x4aa629(0x203)]['logWhiteDomainError'](_0x4aa629(0x1b9)+_0x5e8cfb[_0x4aa629(0x21b)](),_0x4aa629(0x1be),_0x1c2bfc);if(_0x1c2bfc instanceof Error){console[_0x4aa629(0x23b)]('Error\x20message:',_0x1c2bfc[_0x4aa629(0x1da)]),console[_0x4aa629(0x23b)](_0x4aa629(0x243),_0x1c2bfc[_0x4aa629(0x1c3)]);throw new Error(_0x4aa629(0x236)+_0x5e8cfb+_0x4aa629(0x218)+_0x1c2bfc[_0x4aa629(0x1da)]);}throw new Error('Failed\x20to\x20create\x20KLYME\x20'+_0x5e8cfb+'\x20payment\x20link:\x20Unknown\x20error');}}async[a42_0x1bfc5a(0x1b7)](_0x14a52b,_0x532f78){const _0x2c1ef8=a42_0x1bfc5a,_0x299449=Date['now']();try{const _0x3a68e4={'gatewayPaymentId':_0x14a52b,'geo':_0x532f78};loggerService_1['loggerService'][_0x2c1ef8(0x1fa)](_0x2c1ef8(0x1b9)+_0x532f78[_0x2c1ef8(0x21b)](),_0x2c1ef8(0x200)+_0x14a52b,_0x2c1ef8(0x223),_0x3a68e4);const _0x45f5c7=await fetch(this['apiUrl'],{'method':_0x2c1ef8(0x223),'headers':{'Content-Type':_0x2c1ef8(0x209),'User-Agent':_0x2c1ef8(0x242)},'body':JSON[_0x2c1ef8(0x1d4)](_0x3a68e4)}),_0x191db8=Date[_0x2c1ef8(0x1c6)]()-_0x299449;if(!_0x45f5c7['ok']){const _0x42e498=await _0x45f5c7[_0x2c1ef8(0x229)]();loggerService_1[_0x2c1ef8(0x203)][_0x2c1ef8(0x1cd)]('klyme_'+_0x532f78['toLowerCase'](),'/verify/'+_0x14a52b,_0x45f5c7['status'],_0x42e498,_0x191db8);throw new Error(_0x2c1ef8(0x239)+_0x45f5c7[_0x2c1ef8(0x1e3)]);}const _0x14668d=await _0x45f5c7[_0x2c1ef8(0x228)]();loggerService_1[_0x2c1ef8(0x203)][_0x2c1ef8(0x1cd)](_0x2c1ef8(0x1b9)+_0x532f78[_0x2c1ef8(0x21b)](),'/verify/'+_0x14a52b,_0x45f5c7[_0x2c1ef8(0x1e3)],_0x14668d,_0x191db8);if(_0x14668d['error']||_0x14668d[_0x2c1ef8(0x1f1)]){loggerService_1[_0x2c1ef8(0x203)][_0x2c1ef8(0x1c2)]('klyme_'+_0x532f78['toLowerCase'](),_0x2c1ef8(0x200)+_0x14a52b,'KLYME\x20'+_0x532f78+_0x2c1ef8(0x247)+(_0x14668d['message']||_0x14668d[_0x2c1ef8(0x23b)]||_0x2c1ef8(0x1ce)));throw new Error(_0x2c1ef8(0x1e2)+_0x532f78+_0x2c1ef8(0x247)+(_0x14668d[_0x2c1ef8(0x1da)]||_0x14668d['error']||'Unknown\x20error'));}let _0x3b981f=_0x2c1ef8(0x205);return{'status':_0x3b981f};}catch(_0x138f1f){console[_0x2c1ef8(0x23b)]('KLYME\x20'+_0x532f78+_0x2c1ef8(0x1bb),_0x138f1f),loggerService_1['loggerService'][_0x2c1ef8(0x1c2)](_0x2c1ef8(0x1b9)+_0x532f78[_0x2c1ef8(0x21b)](),_0x2c1ef8(0x200)+_0x14a52b,_0x138f1f);throw new Error(_0x2c1ef8(0x1c9)+_0x532f78+_0x2c1ef8(0x224)+(_0x138f1f instanceof Error?_0x138f1f['message']:'Unknown\x20error'));}}async[a42_0x1bfc5a(0x1f4)](_0x989113){const _0x3be0c7=a42_0x1bfc5a;console[_0x3be0c7(0x249)](_0x3be0c7(0x1f5),_0x989113);let _0xfc48d4=_0x3be0c7(0x205);switch(_0x989113[_0x3be0c7(0x1e3)]?.['toLowerCase']()){case'paid':case _0x3be0c7(0x206):case _0x3be0c7(0x1bd):case _0x3be0c7(0x217):case'successful':_0xfc48d4='PAID';break;case'cancelled':case _0x3be0c7(0x1bc):case _0x3be0c7(0x208):case'error':case _0x3be0c7(0x221):_0xfc48d4=_0x3be0c7(0x1e5);break;case _0x3be0c7(0x1e8):case'timeout':_0xfc48d4=_0x3be0c7(0x24a);break;case _0x3be0c7(0x234):case _0x3be0c7(0x222):case'active':case'processing':case _0x3be0c7(0x237):default:_0xfc48d4='PENDING';break;}return{'paymentId':_0x989113[_0x3be0c7(0x1c5)]||_0x989113['order_id']||_0x989113['payment_id'],'status':_0xfc48d4,'amount':_0x989113[_0x3be0c7(0x1ee)],'currency':_0x989113['currency'],'region':_0x989113[_0x3be0c7(0x1e6)],'additionalInfo':{'payment_method':_0x989113[_0x3be0c7(0x211)],'transaction_id':_0x989113[_0x3be0c7(0x1d7)]}};}}exports[a42_0x1bfc5a(0x1f3)]=KlymeService;