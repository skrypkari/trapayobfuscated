'use strict';const a69_0x559611=a69_0x3f1a;(function(_0x507bf4,_0x17322e){const _0x1f5fe3=a69_0x3f1a,_0xc8b7e2=_0x507bf4();while(!![]){try{const _0x478492=parseInt(_0x1f5fe3(0x1ba))/0x1+parseInt(_0x1f5fe3(0x1bc))/0x2+-parseInt(_0x1f5fe3(0x1d6))/0x3+-parseInt(_0x1f5fe3(0x1bf))/0x4+-parseInt(_0x1f5fe3(0x1a2))/0x5*(-parseInt(_0x1f5fe3(0x1d0))/0x6)+parseInt(_0x1f5fe3(0x1ab))/0x7+parseInt(_0x1f5fe3(0x1a9))/0x8*(parseInt(_0x1f5fe3(0x1d5))/0x9);if(_0x478492===_0x17322e)break;else _0xc8b7e2['push'](_0xc8b7e2['shift']());}catch(_0x59e502){_0xc8b7e2['push'](_0xc8b7e2['shift']());}}}(a69_0x3443,0x6ca09));function a69_0x3f1a(_0x5f1840,_0x5660f6){_0x5f1840=_0x5f1840-0x19e;const _0x3443bb=a69_0x3443();let _0x3f1a87=_0x3443bb[_0x5f1840];return _0x3f1a87;}Object[a69_0x559611(0x19f)](exports,a69_0x559611(0x1b8),{'value':!![]}),exports[a69_0x559611(0x1b0)]=void 0x0;function a69_0x3443(){const _0x2b2859=['success','expiryYear','***','amount','cardNumber','üß™\x20Test\x20Gateway\x20service\x20initialized','length','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','log','Card\x20Holder:','status','cardHolderName','36CRaJok','CVC:','****\x20****\x20****\x20','PAID','SUCCESS_CARD','1485FJIymY','2420370gkHSzu','trim','Amount:','defineProperty','cvc','now','3800TXUVWS','test_','maskCardNumber','‚úÖ\x20Test\x20payment\x20successful','getFullYear','4242424242424242','Order\x20ID:','49328uGXdXO','isValid','2063901STXQkI','CVC\x20must\x20be\x203\x20or\x204\x20digits','Invalid\x20expiry\x20month','validateCardData','Card\x20Number:','TestGatewayService','toString','order_id','Payment\x20failed','test','padStart','replace','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','__esModule','Payment\x20processed\x20successfully','136956AUKIsj','error','900522mOnsXK','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','‚ùå\x20Card\x20validation\x20failed:','2609132zmnYRL','slice','generateTransactionId','processCardPayment','Transaction\x20ID:'];a69_0x3443=function(){return _0x2b2859;};return a69_0x3443();}class TestGatewayService{constructor(){const _0x1a4a59=a69_0x559611;this[_0x1a4a59(0x1d4)]=_0x1a4a59(0x1a7),console[_0x1a4a59(0x1cc)](_0x1a4a59(0x1c9));}async[a69_0x559611(0x1c2)](_0x4f6635){const _0x24997e=a69_0x559611,{paymentId:_0x3a4e0d,orderId:_0x445edc,amount:_0x4347df,currency:_0x91a509,cardData:_0xa4b9f3}=_0x4f6635;console[_0x24997e(0x1cc)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x24997e(0x1cc)]('Payment\x20ID:',_0x3a4e0d),console[_0x24997e(0x1cc)](_0x24997e(0x1a8),_0x445edc),console[_0x24997e(0x1cc)](_0x24997e(0x19e),_0x4347df,_0x91a509),console['log'](_0x24997e(0x1af),this[_0x24997e(0x1a4)](_0xa4b9f3['cardNumber'])),console[_0x24997e(0x1cc)](_0x24997e(0x1cd),_0xa4b9f3[_0x24997e(0x1cf)]),console[_0x24997e(0x1cc)]('Expiry:',_0xa4b9f3['expiryMonth']+'/'+_0xa4b9f3[_0x24997e(0x1c5)]),console[_0x24997e(0x1cc)](_0x24997e(0x1d1),_0x24997e(0x1c6));const _0x2b5c52=this[_0x24997e(0x1ae)](_0xa4b9f3);if(!_0x2b5c52[_0x24997e(0x1aa)])return console['log'](_0x24997e(0x1be),_0x2b5c52[_0x24997e(0x1bb)]),{'success':![],'status':'FAILED','message':'Card\x20validation\x20failed','failureReason':_0x2b5c52[_0x24997e(0x1bb)]};const _0x493c0c=_0xa4b9f3[_0x24997e(0x1c8)]['replace'](/[\s-]/g,'');if(_0x493c0c===this[_0x24997e(0x1d4)]){const _0x579b8a=this[_0x24997e(0x1c1)]();return console[_0x24997e(0x1cc)](_0x24997e(0x1a5)),console['log'](_0x24997e(0x1c3),_0x579b8a),{'success':!![],'status':_0x24997e(0x1d3),'message':_0x24997e(0x1b9),'transactionId':_0x579b8a};}else return console['log'](_0x24997e(0x1bd)),{'success':![],'status':'FAILED','message':_0x24997e(0x1b3),'failureReason':_0x24997e(0x1cb)};}['validateCardData'](_0x43010c){const _0x1d70bb=a69_0x559611,_0xff914b=_0x43010c[_0x1d70bb(0x1c8)][_0x1d70bb(0x1b6)](/[\s-]/g,'');if(!/^\d{16}$/[_0x1d70bb(0x1b4)](_0xff914b))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x43010c[_0x1d70bb(0x1cf)]||_0x43010c[_0x1d70bb(0x1cf)][_0x1d70bb(0x1d7)]()[_0x1d70bb(0x1ca)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x185dce=parseInt(_0x43010c['expiryMonth']);if(isNaN(_0x185dce)||_0x185dce<0x1||_0x185dce>0xc)return{'isValid':![],'error':_0x1d70bb(0x1ad)};const _0x4e9288=parseInt(_0x43010c[_0x1d70bb(0x1c5)]),_0x2b80eb=new Date()[_0x1d70bb(0x1a6)](),_0x5dc305=_0x4e9288<0x32?0x7d0+_0x4e9288:0x76c+_0x4e9288;if(isNaN(_0x4e9288)||_0x5dc305<_0x2b80eb||_0x5dc305>_0x2b80eb+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x43010c[_0x1d70bb(0x1a0)]))return{'isValid':![],'error':_0x1d70bb(0x1ac)};return{'isValid':!![]};}[a69_0x559611(0x1a4)](_0x39fc0d){const _0x481153=a69_0x559611,_0x316d81=_0x39fc0d[_0x481153(0x1b6)](/[\s-]/g,'');if(_0x316d81['length']<0x4)return'****';return _0x481153(0x1d2)+_0x316d81[_0x481153(0x1c0)](-0x4);}[a69_0x559611(0x1c1)](){const _0x6d690a=a69_0x559611,_0x44c1ed=Date[_0x6d690a(0x1a1)]()[_0x6d690a(0x1b1)](),_0x464239=Math['floor'](Math['random']()*0x2710)[_0x6d690a(0x1b1)]()[_0x6d690a(0x1b5)](0x4,'0');return _0x6d690a(0x1a3)+_0x44c1ed+'_'+_0x464239;}async['processWebhook'](_0x4d8bdc){const _0x313d1a=a69_0x559611;return console[_0x313d1a(0x1cc)](_0x313d1a(0x1b7),_0x4d8bdc),{'paymentId':_0x4d8bdc[_0x313d1a(0x1b2)]||'','status':_0x4d8bdc[_0x313d1a(0x1ce)]===_0x313d1a(0x1c4)?_0x313d1a(0x1d3):'FAILED','amount':_0x4d8bdc[_0x313d1a(0x1c7)],'currency':_0x4d8bdc['currency']};}}exports['TestGatewayService']=TestGatewayService;