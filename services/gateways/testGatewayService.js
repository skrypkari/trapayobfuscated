'use strict';const a46_0x2a10f5=a46_0x1681;(function(_0x23017b,_0x37f87c){const _0x51e501=a46_0x1681,_0x2644e0=_0x23017b();while(!![]){try{const _0x2ec0c6=parseInt(_0x51e501(0x124))/0x1*(parseInt(_0x51e501(0xff))/0x2)+parseInt(_0x51e501(0x115))/0x3+parseInt(_0x51e501(0xfe))/0x4*(parseInt(_0x51e501(0x11c))/0x5)+-parseInt(_0x51e501(0x116))/0x6+parseInt(_0x51e501(0xf9))/0x7+parseInt(_0x51e501(0x123))/0x8+-parseInt(_0x51e501(0x10f))/0x9*(parseInt(_0x51e501(0x10d))/0xa);if(_0x2ec0c6===_0x37f87c)break;else _0x2644e0['push'](_0x2644e0['shift']());}catch(_0x5e8551){_0x2644e0['push'](_0x2644e0['shift']());}}}(a46_0x21b0,0xe0580));Object[a46_0x2a10f5(0x113)](exports,a46_0x2a10f5(0x128),{'value':!![]}),exports[a46_0x2a10f5(0x12e)]=void 0x0;function a46_0x21b0(){const _0x4f175a=['defineProperty','Invalid\x20expiry\x20month','1780800gCyJgh','1672080umsPbY','test_','‚úÖ\x20Test\x20payment\x20successful','Payment\x20failed','success','currency','7665sYQRpW','4242424242424242','status','slice','Amount:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','****','6651544PUSVqk','9ObvrHp','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','log','__esModule','PAID','Expiry:','random','order_id','Payment\x20ID:','TestGatewayService','SUCCESS_CARD','cardHolderName','trim','Card\x20holder\x20name\x20is\x20required','expiryMonth','expiryYear','validateCardData','4877418RxLgoC','floor','length','padStart','processCardPayment','2504deMXCN','228622JiUIgV','toString','generateTransactionId','‚ùå\x20Card\x20validation\x20failed:','replace','Card\x20Holder:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','****\x20****\x20****\x20','error','FAILED','Card\x20number\x20must\x20be\x2016\x20digits','test','cardNumber','Transaction\x20ID:','20RDPtNj','Order\x20ID:','13107069OYDwFT','CVC\x20must\x20be\x203\x20or\x204\x20digits','***','cvc'];a46_0x21b0=function(){return _0x4f175a;};return a46_0x21b0();}class TestGatewayService{constructor(){const _0xdad138=a46_0x2a10f5;this[_0xdad138(0x12f)]=_0xdad138(0x11d),console[_0xdad138(0x127)](_0xdad138(0x125));}async[a46_0x2a10f5(0xfd)](_0x422a08){const _0x2e242b=a46_0x2a10f5,{paymentId:_0x18862b,orderId:_0x5abe8d,amount:_0x5261b0,currency:_0x4224fe,cardData:_0x3d1f0f}=_0x422a08;console[_0x2e242b(0x127)](_0x2e242b(0x105)),console[_0x2e242b(0x127)](_0x2e242b(0x12d),_0x18862b),console[_0x2e242b(0x127)](_0x2e242b(0x10e),_0x5abe8d),console[_0x2e242b(0x127)](_0x2e242b(0x120),_0x5261b0,_0x4224fe),console[_0x2e242b(0x127)]('Card\x20Number:',this['maskCardNumber'](_0x3d1f0f[_0x2e242b(0x10b)])),console['log'](_0x2e242b(0x104),_0x3d1f0f[_0x2e242b(0xf3)]),console[_0x2e242b(0x127)](_0x2e242b(0x12a),_0x3d1f0f[_0x2e242b(0xf6)]+'/'+_0x3d1f0f[_0x2e242b(0xf7)]),console[_0x2e242b(0x127)]('CVC:',_0x2e242b(0x111));const _0x38ccd0=this[_0x2e242b(0xf8)](_0x3d1f0f);if(!_0x38ccd0['isValid'])return console[_0x2e242b(0x127)](_0x2e242b(0x102),_0x38ccd0['error']),{'success':![],'status':_0x2e242b(0x108),'message':'Card\x20validation\x20failed','failureReason':_0x38ccd0[_0x2e242b(0x107)]};const _0x5a2347=_0x3d1f0f[_0x2e242b(0x10b)][_0x2e242b(0x103)](/[\s-]/g,'');if(_0x5a2347===this['SUCCESS_CARD']){const _0x16b2a6=this[_0x2e242b(0x101)]();return console[_0x2e242b(0x127)](_0x2e242b(0x118)),console[_0x2e242b(0x127)](_0x2e242b(0x10c),_0x16b2a6),{'success':!![],'status':_0x2e242b(0x129),'message':'Payment\x20processed\x20successfully','transactionId':_0x16b2a6};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':_0x2e242b(0x119),'failureReason':_0x2e242b(0x126)};}[a46_0x2a10f5(0xf8)](_0x1d7dfe){const _0x5492bb=a46_0x2a10f5,_0x5aa037=_0x1d7dfe[_0x5492bb(0x10b)][_0x5492bb(0x103)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5492bb(0x10a)](_0x5aa037))return{'isValid':![],'error':_0x5492bb(0x109)};if(!_0x1d7dfe[_0x5492bb(0xf3)]||_0x1d7dfe[_0x5492bb(0xf3)][_0x5492bb(0xf4)]()[_0x5492bb(0xfb)]<0x2)return{'isValid':![],'error':_0x5492bb(0xf5)};const _0x269c91=parseInt(_0x1d7dfe[_0x5492bb(0xf6)]);if(isNaN(_0x269c91)||_0x269c91<0x1||_0x269c91>0xc)return{'isValid':![],'error':_0x5492bb(0x114)};const _0x5e9d13=parseInt(_0x1d7dfe[_0x5492bb(0xf7)]),_0x1bd382=new Date()['getFullYear'](),_0xfd3b38=_0x5e9d13<0x32?0x7d0+_0x5e9d13:0x76c+_0x5e9d13;if(isNaN(_0x5e9d13)||_0xfd3b38<_0x1bd382||_0xfd3b38>_0x1bd382+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x5492bb(0x10a)](_0x1d7dfe[_0x5492bb(0x112)]))return{'isValid':![],'error':_0x5492bb(0x110)};return{'isValid':!![]};}['maskCardNumber'](_0x48c0ab){const _0x5cd2d0=a46_0x2a10f5,_0x3a8f66=_0x48c0ab[_0x5cd2d0(0x103)](/[\s-]/g,'');if(_0x3a8f66[_0x5cd2d0(0xfb)]<0x4)return _0x5cd2d0(0x122);return _0x5cd2d0(0x106)+_0x3a8f66[_0x5cd2d0(0x11f)](-0x4);}[a46_0x2a10f5(0x101)](){const _0x107d17=a46_0x2a10f5,_0x53a181=Date['now']()[_0x107d17(0x100)](),_0x411827=Math[_0x107d17(0xfa)](Math[_0x107d17(0x12b)]()*0x2710)[_0x107d17(0x100)]()[_0x107d17(0xfc)](0x4,'0');return _0x107d17(0x117)+_0x53a181+'_'+_0x411827;}async['processWebhook'](_0x5e25d8){const _0x3e8bb7=a46_0x2a10f5;return console[_0x3e8bb7(0x127)](_0x3e8bb7(0x121),_0x5e25d8),{'paymentId':_0x5e25d8[_0x3e8bb7(0x12c)]||'','status':_0x5e25d8[_0x3e8bb7(0x11e)]===_0x3e8bb7(0x11a)?_0x3e8bb7(0x129):_0x3e8bb7(0x108),'amount':_0x5e25d8['amount'],'currency':_0x5e25d8[_0x3e8bb7(0x11b)]};}}function a46_0x1681(_0x1db994,_0x34e841){const _0x21b04c=a46_0x21b0();return a46_0x1681=function(_0x1681a8,_0x482900){_0x1681a8=_0x1681a8-0xf3;let _0x20a1c8=_0x21b04c[_0x1681a8];return _0x20a1c8;},a46_0x1681(_0x1db994,_0x34e841);}exports[a46_0x2a10f5(0x12e)]=TestGatewayService;