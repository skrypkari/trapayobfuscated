'use strict';const a46_0x2e1480=a46_0x10c9;function a46_0x10c9(_0x3a50b9,_0x199b29){const _0x897598=a46_0x8975();return a46_0x10c9=function(_0x10c989,_0xcff1ef){_0x10c989=_0x10c989-0x154;let _0x2af006=_0x897598[_0x10c989];return _0x2af006;},a46_0x10c9(_0x3a50b9,_0x199b29);}(function(_0x46b3f0,_0x505c1d){const _0x40e1ef=a46_0x10c9,_0x2b2700=_0x46b3f0();while(!![]){try{const _0x5aad6a=parseInt(_0x40e1ef(0x174))/0x1*(-parseInt(_0x40e1ef(0x16d))/0x2)+-parseInt(_0x40e1ef(0x170))/0x3*(-parseInt(_0x40e1ef(0x185))/0x4)+-parseInt(_0x40e1ef(0x17f))/0x5*(parseInt(_0x40e1ef(0x176))/0x6)+-parseInt(_0x40e1ef(0x167))/0x7+parseInt(_0x40e1ef(0x160))/0x8+-parseInt(_0x40e1ef(0x193))/0x9*(parseInt(_0x40e1ef(0x18f))/0xa)+parseInt(_0x40e1ef(0x173))/0xb*(parseInt(_0x40e1ef(0x18c))/0xc);if(_0x5aad6a===_0x505c1d)break;else _0x2b2700['push'](_0x2b2700['shift']());}catch(_0xa90c88){_0x2b2700['push'](_0x2b2700['shift']());}}}(a46_0x8975,0xa77a1));function a46_0x8975(){const _0x17f348=['getFullYear','cardNumber','Order\x20ID:','Card\x20validation\x20failed','****\x20****\x20****\x20','SUCCESS_CARD','toString','CVC:','5dyZwkD','maskCardNumber','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','log','cvc','‚ùå\x20Card\x20validation\x20failed:','6856HBUMdh','currency','‚úÖ\x20Test\x20payment\x20successful','processWebhook','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','PAID','test_','324516dpcUGt','Card\x20holder\x20name\x20is\x20required','validateCardData','5890lwJUXI','Payment\x20processed\x20successfully','Invalid\x20expiry\x20month','length','16299vpLbYX','slice','replace','error','***','Amount:','defineProperty','Expiry:','Invalid\x20expiry\x20year','cardHolderName','****','TestGatewayService','Card\x20Number:','7720056xwZAyk','test','expiryMonth','order_id','generateTransactionId','now','Card\x20Holder:','4148655iUaMAT','expiryYear','Payment\x20failed','üß™\x20Test\x20Gateway\x20service\x20initialized','padStart','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','124wExSYB','floor','FAILED','1173JbDCsa','4242424242424242','success','891QuGuas','16087CxXlbh','CVC\x20must\x20be\x203\x20or\x204\x20digits','2897646zecYbG'];a46_0x8975=function(){return _0x17f348;};return a46_0x8975();}Object[a46_0x2e1480(0x159)](exports,'__esModule',{'value':!![]}),exports[a46_0x2e1480(0x15e)]=void 0x0;class TestGatewayService{constructor(){const _0x578060=a46_0x2e1480;this[_0x578060(0x17c)]=_0x578060(0x171),console[_0x578060(0x182)](_0x578060(0x16a));}async['processCardPayment'](_0x422921){const _0x2a9649=a46_0x2e1480,{paymentId:_0x2d4321,orderId:_0x4f81a1,amount:_0x5a095e,currency:_0x187403,cardData:_0x34349f}=_0x422921;console['log'](_0x2a9649(0x181)),console[_0x2a9649(0x182)]('Payment\x20ID:',_0x2d4321),console[_0x2a9649(0x182)](_0x2a9649(0x179),_0x4f81a1),console[_0x2a9649(0x182)](_0x2a9649(0x158),_0x5a095e,_0x187403),console[_0x2a9649(0x182)](_0x2a9649(0x15f),this[_0x2a9649(0x180)](_0x34349f[_0x2a9649(0x178)])),console[_0x2a9649(0x182)](_0x2a9649(0x166),_0x34349f['cardHolderName']),console[_0x2a9649(0x182)](_0x2a9649(0x15a),_0x34349f[_0x2a9649(0x162)]+'/'+_0x34349f[_0x2a9649(0x168)]),console[_0x2a9649(0x182)](_0x2a9649(0x17e),_0x2a9649(0x157));const _0x5c5672=this[_0x2a9649(0x18e)](_0x34349f);if(!_0x5c5672['isValid'])return console[_0x2a9649(0x182)](_0x2a9649(0x184),_0x5c5672['error']),{'success':![],'status':_0x2a9649(0x16f),'message':_0x2a9649(0x17a),'failureReason':_0x5c5672[_0x2a9649(0x156)]};const _0x1a0f17=_0x34349f[_0x2a9649(0x178)][_0x2a9649(0x155)](/[\s-]/g,'');if(_0x1a0f17===this['SUCCESS_CARD']){const _0x384838=this[_0x2a9649(0x164)]();return console[_0x2a9649(0x182)](_0x2a9649(0x187)),console[_0x2a9649(0x182)]('Transaction\x20ID:',_0x384838),{'success':!![],'status':_0x2a9649(0x18a),'message':_0x2a9649(0x190),'transactionId':_0x384838};}else return console[_0x2a9649(0x182)](_0x2a9649(0x16c)),{'success':![],'status':'FAILED','message':_0x2a9649(0x169),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a46_0x2e1480(0x18e)](_0x347412){const _0x1960e0=a46_0x2e1480,_0x1a3a9e=_0x347412['cardNumber'][_0x1960e0(0x155)](/[\s-]/g,'');if(!/^\d{16}$/[_0x1960e0(0x161)](_0x1a3a9e))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x347412['cardHolderName']||_0x347412[_0x1960e0(0x15c)]['trim']()[_0x1960e0(0x192)]<0x2)return{'isValid':![],'error':_0x1960e0(0x18d)};const _0x3bd189=parseInt(_0x347412[_0x1960e0(0x162)]);if(isNaN(_0x3bd189)||_0x3bd189<0x1||_0x3bd189>0xc)return{'isValid':![],'error':_0x1960e0(0x191)};const _0x32d950=parseInt(_0x347412[_0x1960e0(0x168)]),_0x2b93d6=new Date()[_0x1960e0(0x177)](),_0x4362e2=_0x32d950<0x32?0x7d0+_0x32d950:0x76c+_0x32d950;if(isNaN(_0x32d950)||_0x4362e2<_0x2b93d6||_0x4362e2>_0x2b93d6+0x14)return{'isValid':![],'error':_0x1960e0(0x15b)};if(!/^\d{3,4}$/['test'](_0x347412[_0x1960e0(0x183)]))return{'isValid':![],'error':_0x1960e0(0x175)};return{'isValid':!![]};}['maskCardNumber'](_0x44767a){const _0x23c06c=a46_0x2e1480,_0x2cb294=_0x44767a[_0x23c06c(0x155)](/[\s-]/g,'');if(_0x2cb294['length']<0x4)return _0x23c06c(0x15d);return _0x23c06c(0x17b)+_0x2cb294[_0x23c06c(0x154)](-0x4);}[a46_0x2e1480(0x164)](){const _0x5a3128=a46_0x2e1480,_0x56dd31=Date[_0x5a3128(0x165)]()[_0x5a3128(0x17d)](),_0x36973a=Math[_0x5a3128(0x16e)](Math['random']()*0x2710)[_0x5a3128(0x17d)]()[_0x5a3128(0x16b)](0x4,'0');return _0x5a3128(0x18b)+_0x56dd31+'_'+_0x36973a;}async[a46_0x2e1480(0x188)](_0x2c5e4c){const _0x39b6f1=a46_0x2e1480;return console[_0x39b6f1(0x182)](_0x39b6f1(0x189),_0x2c5e4c),{'paymentId':_0x2c5e4c[_0x39b6f1(0x163)]||'','status':_0x2c5e4c['status']===_0x39b6f1(0x172)?_0x39b6f1(0x18a):'FAILED','amount':_0x2c5e4c['amount'],'currency':_0x2c5e4c[_0x39b6f1(0x186)]};}}exports[a46_0x2e1480(0x15e)]=TestGatewayService;