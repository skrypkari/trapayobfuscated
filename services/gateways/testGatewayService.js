'use strict';const a65_0x2d10c9=a65_0x2621;(function(_0x1e9ecf,_0x4c6e48){const _0x27499c=a65_0x2621,_0x114b1d=_0x1e9ecf();while(!![]){try{const _0x919f2d=parseInt(_0x27499c(0x1d9))/0x1+parseInt(_0x27499c(0x1d4))/0x2+parseInt(_0x27499c(0x1da))/0x3*(parseInt(_0x27499c(0x1ce))/0x4)+-parseInt(_0x27499c(0x1d2))/0x5+parseInt(_0x27499c(0x1db))/0x6+parseInt(_0x27499c(0x1c2))/0x7*(parseInt(_0x27499c(0x1e7))/0x8)+-parseInt(_0x27499c(0x1b8))/0x9;if(_0x919f2d===_0x4c6e48)break;else _0x114b1d['push'](_0x114b1d['shift']());}catch(_0x2e96d4){_0x114b1d['push'](_0x114b1d['shift']());}}}(a65_0x4c2a,0x6013d));function a65_0x2621(_0x20d13d,_0x406a08){_0x20d13d=_0x20d13d-0x1b2;const _0x4c2a62=a65_0x4c2a();let _0x2621ba=_0x4c2a62[_0x20d13d];return _0x2621ba;}Object[a65_0x2d10c9(0x1d5)](exports,'__esModule',{'value':!![]}),exports[a65_0x2d10c9(0x1c7)]=void 0x0;function a65_0x4c2a(){const _0x1fef02=['Card\x20Holder:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','getFullYear','10066cUPLjz','3dalanS','869382VVicYJ','currency','Payment\x20ID:','length','Amount:','üß™\x20Test\x20Gateway\x20service\x20initialized','***','Transaction\x20ID:','expiryYear','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','status','Payment\x20failed','936ONwbed','order_id','cardHolderName','trim','****','isValid','generateTransactionId','CVC:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Payment\x20processed\x20successfully','491481zjkdii','CVC\x20must\x20be\x203\x20or\x204\x20digits','test','amount','now','Invalid\x20expiry\x20month','****\x20****\x20****\x20','success','FAILED','cardNumber','854lZAslU','SUCCESS_CARD','cvc','toString','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','TestGatewayService','log','replace','test_','Card\x20number\x20must\x20be\x2016\x20digits','Expiry:','expiryMonth','605840kVMKYW','maskCardNumber','4242424242424242','Card\x20holder\x20name\x20is\x20required','5145SsAtZd','error','256948LVrbZo','defineProperty'];a65_0x4c2a=function(){return _0x1fef02;};return a65_0x4c2a();}class TestGatewayService{constructor(){const _0x275537=a65_0x2d10c9;this[_0x275537(0x1c3)]=_0x275537(0x1d0),console[_0x275537(0x1c8)](_0x275537(0x1e0));}async['processCardPayment'](_0x4c9846){const _0x426193=a65_0x2d10c9,{paymentId:_0xcc52f4,orderId:_0x2b87e0,amount:_0x4ff5a8,currency:_0xb19743,cardData:_0x236dfc}=_0x4c9846;console['log'](_0x426193(0x1d7)),console[_0x426193(0x1c8)](_0x426193(0x1dd),_0xcc52f4),console['log']('Order\x20ID:',_0x2b87e0),console[_0x426193(0x1c8)](_0x426193(0x1df),_0x4ff5a8,_0xb19743),console['log']('Card\x20Number:',this[_0x426193(0x1cf)](_0x236dfc[_0x426193(0x1c1)])),console[_0x426193(0x1c8)](_0x426193(0x1d6),_0x236dfc[_0x426193(0x1e9)]),console[_0x426193(0x1c8)](_0x426193(0x1cc),_0x236dfc[_0x426193(0x1cd)]+'/'+_0x236dfc[_0x426193(0x1e3)]),console['log'](_0x426193(0x1b5),_0x426193(0x1e1));const _0x3ad5dd=this['validateCardData'](_0x236dfc);if(!_0x3ad5dd[_0x426193(0x1b3)])return console['log']('‚ùå\x20Card\x20validation\x20failed:',_0x3ad5dd[_0x426193(0x1d3)]),{'success':![],'status':_0x426193(0x1c0),'message':'Card\x20validation\x20failed','failureReason':_0x3ad5dd[_0x426193(0x1d3)]};const _0x2377cb=_0x236dfc[_0x426193(0x1c1)][_0x426193(0x1c9)](/[\s-]/g,'');if(_0x2377cb===this[_0x426193(0x1c3)]){const _0x3c3f02=this[_0x426193(0x1b4)]();return console[_0x426193(0x1c8)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x426193(0x1c8)](_0x426193(0x1e2),_0x3c3f02),{'success':!![],'status':'PAID','message':_0x426193(0x1b7),'transactionId':_0x3c3f02};}else return console[_0x426193(0x1c8)](_0x426193(0x1e4)),{'success':![],'status':_0x426193(0x1c0),'message':_0x426193(0x1e6),'failureReason':_0x426193(0x1b6)};}['validateCardData'](_0x4a14b0){const _0x2a2246=a65_0x2d10c9,_0x28305a=_0x4a14b0[_0x2a2246(0x1c1)][_0x2a2246(0x1c9)](/[\s-]/g,'');if(!/^\d{16}$/[_0x2a2246(0x1ba)](_0x28305a))return{'isValid':![],'error':_0x2a2246(0x1cb)};if(!_0x4a14b0[_0x2a2246(0x1e9)]||_0x4a14b0[_0x2a2246(0x1e9)][_0x2a2246(0x1ea)]()[_0x2a2246(0x1de)]<0x2)return{'isValid':![],'error':_0x2a2246(0x1d1)};const _0x462719=parseInt(_0x4a14b0['expiryMonth']);if(isNaN(_0x462719)||_0x462719<0x1||_0x462719>0xc)return{'isValid':![],'error':_0x2a2246(0x1bd)};const _0x438e3b=parseInt(_0x4a14b0[_0x2a2246(0x1e3)]),_0x162fb7=new Date()[_0x2a2246(0x1d8)](),_0xbffc47=_0x438e3b<0x32?0x7d0+_0x438e3b:0x76c+_0x438e3b;if(isNaN(_0x438e3b)||_0xbffc47<_0x162fb7||_0xbffc47>_0x162fb7+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x4a14b0[_0x2a2246(0x1c4)]))return{'isValid':![],'error':_0x2a2246(0x1b9)};return{'isValid':!![]};}[a65_0x2d10c9(0x1cf)](_0x47d4c5){const _0x3452fc=a65_0x2d10c9,_0x18e6e2=_0x47d4c5[_0x3452fc(0x1c9)](/[\s-]/g,'');if(_0x18e6e2['length']<0x4)return _0x3452fc(0x1b2);return _0x3452fc(0x1be)+_0x18e6e2['slice'](-0x4);}['generateTransactionId'](){const _0x289039=a65_0x2d10c9,_0x52dca8=Date[_0x289039(0x1bc)]()[_0x289039(0x1c5)](),_0x733498=Math['floor'](Math['random']()*0x2710)['toString']()['padStart'](0x4,'0');return _0x289039(0x1ca)+_0x52dca8+'_'+_0x733498;}async['processWebhook'](_0x304a8e){const _0x4e1e92=a65_0x2d10c9;return console[_0x4e1e92(0x1c8)](_0x4e1e92(0x1c6),_0x304a8e),{'paymentId':_0x304a8e[_0x4e1e92(0x1e8)]||'','status':_0x304a8e[_0x4e1e92(0x1e5)]===_0x4e1e92(0x1bf)?'PAID':_0x4e1e92(0x1c0),'amount':_0x304a8e[_0x4e1e92(0x1bb)],'currency':_0x304a8e[_0x4e1e92(0x1dc)]};}}exports['TestGatewayService']=TestGatewayService;