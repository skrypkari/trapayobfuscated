'use strict';function a46_0x51e1(_0x9de010,_0x5b5206){const _0x288aba=a46_0x288a();return a46_0x51e1=function(_0x51e1e2,_0x38a4a8){_0x51e1e2=_0x51e1e2-0x7b;let _0x259cdf=_0x288aba[_0x51e1e2];return _0x259cdf;},a46_0x51e1(_0x9de010,_0x5b5206);}const a46_0x1c3098=a46_0x51e1;(function(_0x41ed26,_0x3e5806){const _0x4cb1c8=a46_0x51e1,_0x2b717f=_0x41ed26();while(!![]){try{const _0x2c2589=-parseInt(_0x4cb1c8(0xac))/0x1+parseInt(_0x4cb1c8(0x7d))/0x2*(-parseInt(_0x4cb1c8(0x7b))/0x3)+-parseInt(_0x4cb1c8(0x9e))/0x4+-parseInt(_0x4cb1c8(0xb2))/0x5*(-parseInt(_0x4cb1c8(0xa4))/0x6)+-parseInt(_0x4cb1c8(0x81))/0x7*(parseInt(_0x4cb1c8(0x9b))/0x8)+-parseInt(_0x4cb1c8(0xa6))/0x9*(parseInt(_0x4cb1c8(0xaa))/0xa)+parseInt(_0x4cb1c8(0xab))/0xb*(parseInt(_0x4cb1c8(0x96))/0xc);if(_0x2c2589===_0x3e5806)break;else _0x2b717f['push'](_0x2b717f['shift']());}catch(_0xbf7d23){_0x2b717f['push'](_0x2b717f['shift']());}}}(a46_0x288a,0x2493d));Object[a46_0x1c3098(0x92)](exports,a46_0x1c3098(0x7c),{'value':!![]}),exports[a46_0x1c3098(0x93)]=void 0x0;function a46_0x288a(){const _0x3bc2bd=['5nIswiS','processCardPayment','CVC\x20must\x20be\x203\x20or\x204\x20digits','padStart','floor','log','6xvCtrY','__esModule','54082vpkGfv','Card\x20Holder:','amount','test_','249893WgTmYc','FAILED','Card\x20holder\x20name\x20is\x20required','validateCardData','replace','maskCardNumber','Invalid\x20expiry\x20month','toString','now','Card\x20number\x20must\x20be\x2016\x20digits','trim','error','Invalid\x20expiry\x20year','Payment\x20ID:','expiryMonth','status','expiryYear','defineProperty','TestGatewayService','cvc','cardNumber','2624508UpKPkg','processWebhook','test','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','generateTransactionId','32beKZYg','Card\x20Number:','slice','250132MoccMC','Transaction\x20ID:','****\x20****\x20****\x20','PAID','cardHolderName','Payment\x20failed','713616xLcyju','Amount:','81CAfYrh','random','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','***','181910mZqIBu','33DRKYOd','202112KOfqxU','CVC:','order_id','length','getFullYear','success'];a46_0x288a=function(){return _0x3bc2bd;};return a46_0x288a();}class TestGatewayService{constructor(){const _0x476d58=a46_0x1c3098;this['SUCCESS_CARD']='4242424242424242',console[_0x476d58(0xb7)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a46_0x1c3098(0xb3)](_0x4d63a0){const _0x541cfd=a46_0x1c3098,{paymentId:_0x2a8fff,orderId:_0x2e2eda,amount:_0x13d331,currency:_0x5ac08d,cardData:_0x5ec1f5}=_0x4d63a0;console[_0x541cfd(0xb7)](_0x541cfd(0x99)),console[_0x541cfd(0xb7)](_0x541cfd(0x8e),_0x2a8fff),console[_0x541cfd(0xb7)]('Order\x20ID:',_0x2e2eda),console[_0x541cfd(0xb7)](_0x541cfd(0xa5),_0x13d331,_0x5ac08d),console['log'](_0x541cfd(0x9c),this[_0x541cfd(0x86)](_0x5ec1f5[_0x541cfd(0x95)])),console[_0x541cfd(0xb7)](_0x541cfd(0x7e),_0x5ec1f5[_0x541cfd(0xa2)]),console[_0x541cfd(0xb7)]('Expiry:',_0x5ec1f5[_0x541cfd(0x8f)]+'/'+_0x5ec1f5[_0x541cfd(0x91)]),console[_0x541cfd(0xb7)](_0x541cfd(0xad),_0x541cfd(0xa9));const _0x1c12e4=this[_0x541cfd(0x84)](_0x5ec1f5);if(!_0x1c12e4['isValid'])return console[_0x541cfd(0xb7)]('‚ùå\x20Card\x20validation\x20failed:',_0x1c12e4[_0x541cfd(0x8c)]),{'success':![],'status':_0x541cfd(0x82),'message':'Card\x20validation\x20failed','failureReason':_0x1c12e4[_0x541cfd(0x8c)]};const _0x388445=_0x5ec1f5[_0x541cfd(0x95)][_0x541cfd(0x85)](/[\s-]/g,'');if(_0x388445===this['SUCCESS_CARD']){const _0x1bfae1=this[_0x541cfd(0x9a)]();return console[_0x541cfd(0xb7)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x541cfd(0xb7)](_0x541cfd(0x9f),_0x1bfae1),{'success':!![],'status':_0x541cfd(0xa1),'message':'Payment\x20processed\x20successfully','transactionId':_0x1bfae1};}else return console[_0x541cfd(0xb7)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x541cfd(0x82),'message':_0x541cfd(0xa3),'failureReason':_0x541cfd(0xa8)};}['validateCardData'](_0x47c68c){const _0x404ddd=a46_0x1c3098,_0x5488f5=_0x47c68c[_0x404ddd(0x95)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x404ddd(0x98)](_0x5488f5))return{'isValid':![],'error':_0x404ddd(0x8a)};if(!_0x47c68c[_0x404ddd(0xa2)]||_0x47c68c[_0x404ddd(0xa2)][_0x404ddd(0x8b)]()['length']<0x2)return{'isValid':![],'error':_0x404ddd(0x83)};const _0x50eaa0=parseInt(_0x47c68c['expiryMonth']);if(isNaN(_0x50eaa0)||_0x50eaa0<0x1||_0x50eaa0>0xc)return{'isValid':![],'error':_0x404ddd(0x87)};const _0x1730b2=parseInt(_0x47c68c[_0x404ddd(0x91)]),_0xcddd14=new Date()[_0x404ddd(0xb0)](),_0x7f6d14=_0x1730b2<0x32?0x7d0+_0x1730b2:0x76c+_0x1730b2;if(isNaN(_0x1730b2)||_0x7f6d14<_0xcddd14||_0x7f6d14>_0xcddd14+0x14)return{'isValid':![],'error':_0x404ddd(0x8d)};if(!/^\d{3,4}$/[_0x404ddd(0x98)](_0x47c68c[_0x404ddd(0x94)]))return{'isValid':![],'error':_0x404ddd(0xb4)};return{'isValid':!![]};}['maskCardNumber'](_0x20a51f){const _0x1a4fad=a46_0x1c3098,_0x51a5cf=_0x20a51f[_0x1a4fad(0x85)](/[\s-]/g,'');if(_0x51a5cf[_0x1a4fad(0xaf)]<0x4)return'****';return _0x1a4fad(0xa0)+_0x51a5cf[_0x1a4fad(0x9d)](-0x4);}[a46_0x1c3098(0x9a)](){const _0x481786=a46_0x1c3098,_0x26de1c=Date[_0x481786(0x89)]()[_0x481786(0x88)](),_0x32ebba=Math[_0x481786(0xb6)](Math[_0x481786(0xa7)]()*0x2710)['toString']()[_0x481786(0xb5)](0x4,'0');return _0x481786(0x80)+_0x26de1c+'_'+_0x32ebba;}async[a46_0x1c3098(0x97)](_0x4f5e8e){const _0x38d81d=a46_0x1c3098;return console[_0x38d81d(0xb7)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x4f5e8e),{'paymentId':_0x4f5e8e[_0x38d81d(0xae)]||'','status':_0x4f5e8e[_0x38d81d(0x90)]===_0x38d81d(0xb1)?_0x38d81d(0xa1):'FAILED','amount':_0x4f5e8e[_0x38d81d(0x7f)],'currency':_0x4f5e8e['currency']};}}exports['TestGatewayService']=TestGatewayService;