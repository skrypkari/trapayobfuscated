'use strict';function a77_0xaaee(_0x218c4e,_0x49ee1b){_0x218c4e=_0x218c4e-0x1d5;const _0x1f8e70=a77_0x1f8e();let _0xaaee03=_0x1f8e70[_0x218c4e];return _0xaaee03;}const a77_0x53ecfd=a77_0xaaee;(function(_0x188295,_0x5a1ef9){const _0x317003=a77_0xaaee,_0x1cd8d3=_0x188295();while(!![]){try{const _0x593493=parseInt(_0x317003(0x20f))/0x1+-parseInt(_0x317003(0x1f9))/0x2*(-parseInt(_0x317003(0x1ef))/0x3)+-parseInt(_0x317003(0x1d6))/0x4+-parseInt(_0x317003(0x1eb))/0x5+parseInt(_0x317003(0x214))/0x6*(parseInt(_0x317003(0x211))/0x7)+parseInt(_0x317003(0x1d7))/0x8+-parseInt(_0x317003(0x1e1))/0x9*(-parseInt(_0x317003(0x1fc))/0xa);if(_0x593493===_0x5a1ef9)break;else _0x1cd8d3['push'](_0x1cd8d3['shift']());}catch(_0x17a016){_0x1cd8d3['push'](_0x1cd8d3['shift']());}}}(a77_0x1f8e,0xb0c0d));function a77_0x1f8e(){const _0x57b9d0=['status','floor','FAILED','generateTransactionId','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Amount:','order_id','22575qnakcr','****','42287RHiexE','4242424242424242','Payment\x20ID:','414QiqDUH','currency','slice','5542512EoXNMM','11113960kTlkWM','PAID','processCardPayment','length','Card\x20holder\x20name\x20is\x20required','defineProperty','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','getFullYear','isValid','cardNumber','334278KKnvVT','CVC:','****\x20****\x20****\x20','Card\x20validation\x20failed','expiryYear','expiryMonth','error','cvc','test','‚úÖ\x20Test\x20payment\x20successful','1393875GNaDsb','cardHolderName','SUCCESS_CARD','toString','485451xftJkd','replace','Expiry:','random','__esModule','success','trim','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20number\x20must\x20be\x2016\x20digits','validateCardData','6qOmxUp','Card\x20Holder:','Invalid\x20expiry\x20month','20OOogSQ','maskCardNumber','amount','Card\x20Number:','log','TestGatewayService','Order\x20ID:','Transaction\x20ID:','processWebhook','test_','Invalid\x20expiry\x20year','Payment\x20processed\x20successfully'];a77_0x1f8e=function(){return _0x57b9d0;};return a77_0x1f8e();}Object[a77_0x53ecfd(0x1dc)](exports,a77_0x53ecfd(0x1f3),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x3b606b=a77_0x53ecfd;this['SUCCESS_CARD']=_0x3b606b(0x212),console['log'](_0x3b606b(0x1f6));}async[a77_0x53ecfd(0x1d9)](_0x4a82af){const _0x1c3323=a77_0x53ecfd,{paymentId:_0x1673e5,orderId:_0x3a5757,amount:_0x13e233,currency:_0x3cc684,cardData:_0x141756}=_0x4a82af;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console['log'](_0x1c3323(0x213),_0x1673e5),console['log'](_0x1c3323(0x202),_0x3a5757),console[_0x1c3323(0x200)](_0x1c3323(0x20d),_0x13e233,_0x3cc684),console['log'](_0x1c3323(0x1ff),this[_0x1c3323(0x1fd)](_0x141756['cardNumber'])),console[_0x1c3323(0x200)](_0x1c3323(0x1fa),_0x141756[_0x1c3323(0x1ec)]),console[_0x1c3323(0x200)](_0x1c3323(0x1f1),_0x141756[_0x1c3323(0x1e6)]+'/'+_0x141756[_0x1c3323(0x1e5)]),console['log'](_0x1c3323(0x1e2),'***');const _0xe650e3=this['validateCardData'](_0x141756);if(!_0xe650e3[_0x1c3323(0x1df)])return console[_0x1c3323(0x200)]('‚ùå\x20Card\x20validation\x20failed:',_0xe650e3[_0x1c3323(0x1e7)]),{'success':![],'status':_0x1c3323(0x20a),'message':_0x1c3323(0x1e4),'failureReason':_0xe650e3[_0x1c3323(0x1e7)]};const _0x442c2a=_0x141756[_0x1c3323(0x1e0)][_0x1c3323(0x1f0)](/[\s-]/g,'');if(_0x442c2a===this[_0x1c3323(0x1ed)]){const _0x723890=this[_0x1c3323(0x20b)]();return console['log'](_0x1c3323(0x1ea)),console['log'](_0x1c3323(0x203),_0x723890),{'success':!![],'status':_0x1c3323(0x1d8),'message':_0x1c3323(0x207),'transactionId':_0x723890};}else return console['log'](_0x1c3323(0x20c)),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':_0x1c3323(0x1dd)};}[a77_0x53ecfd(0x1f8)](_0x56ccc5){const _0x7fa94c=a77_0x53ecfd,_0x5ec88e=_0x56ccc5[_0x7fa94c(0x1e0)][_0x7fa94c(0x1f0)](/[\s-]/g,'');if(!/^\d{16}$/[_0x7fa94c(0x1e9)](_0x5ec88e))return{'isValid':![],'error':_0x7fa94c(0x1f7)};if(!_0x56ccc5[_0x7fa94c(0x1ec)]||_0x56ccc5[_0x7fa94c(0x1ec)][_0x7fa94c(0x1f5)]()[_0x7fa94c(0x1da)]<0x2)return{'isValid':![],'error':_0x7fa94c(0x1db)};const _0x1cb276=parseInt(_0x56ccc5[_0x7fa94c(0x1e6)]);if(isNaN(_0x1cb276)||_0x1cb276<0x1||_0x1cb276>0xc)return{'isValid':![],'error':_0x7fa94c(0x1fb)};const _0x4dbf1a=parseInt(_0x56ccc5['expiryYear']),_0x3bd1ab=new Date()[_0x7fa94c(0x1de)](),_0x245b10=_0x4dbf1a<0x32?0x7d0+_0x4dbf1a:0x76c+_0x4dbf1a;if(isNaN(_0x4dbf1a)||_0x245b10<_0x3bd1ab||_0x245b10>_0x3bd1ab+0x14)return{'isValid':![],'error':_0x7fa94c(0x206)};if(!/^\d{3,4}$/['test'](_0x56ccc5[_0x7fa94c(0x1e8)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a77_0x53ecfd(0x1fd)](_0x33d2e0){const _0x2ea726=a77_0x53ecfd,_0x3156d7=_0x33d2e0[_0x2ea726(0x1f0)](/[\s-]/g,'');if(_0x3156d7[_0x2ea726(0x1da)]<0x4)return _0x2ea726(0x210);return _0x2ea726(0x1e3)+_0x3156d7[_0x2ea726(0x1d5)](-0x4);}[a77_0x53ecfd(0x20b)](){const _0x20255f=a77_0x53ecfd,_0x53e643=Date['now']()['toString'](),_0x57419a=Math[_0x20255f(0x209)](Math[_0x20255f(0x1f2)]()*0x2710)[_0x20255f(0x1ee)]()['padStart'](0x4,'0');return _0x20255f(0x205)+_0x53e643+'_'+_0x57419a;}async[a77_0x53ecfd(0x204)](_0x5be7fd){const _0x28ab03=a77_0x53ecfd;return console[_0x28ab03(0x200)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x5be7fd),{'paymentId':_0x5be7fd[_0x28ab03(0x20e)]||'','status':_0x5be7fd[_0x28ab03(0x208)]===_0x28ab03(0x1f4)?_0x28ab03(0x1d8):_0x28ab03(0x20a),'amount':_0x5be7fd[_0x28ab03(0x1fe)],'currency':_0x5be7fd[_0x28ab03(0x215)]};}}exports[a77_0x53ecfd(0x201)]=TestGatewayService;