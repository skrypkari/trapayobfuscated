'use strict';const a46_0x3337fe=a46_0x4deb;(function(_0x2b4940,_0x2cbe01){const _0xe775b5=a46_0x4deb,_0x449500=_0x2b4940();while(!![]){try{const _0x23ab54=parseInt(_0xe775b5(0x193))/0x1+-parseInt(_0xe775b5(0x179))/0x2*(parseInt(_0xe775b5(0x190))/0x3)+parseInt(_0xe775b5(0x1a5))/0x4+-parseInt(_0xe775b5(0x18c))/0x5*(parseInt(_0xe775b5(0x1a1))/0x6)+-parseInt(_0xe775b5(0x17c))/0x7*(parseInt(_0xe775b5(0x171))/0x8)+-parseInt(_0xe775b5(0x188))/0x9+-parseInt(_0xe775b5(0x16d))/0xa*(-parseInt(_0xe775b5(0x19b))/0xb);if(_0x23ab54===_0x2cbe01)break;else _0x449500['push'](_0x449500['shift']());}catch(_0x2f42d1){_0x449500['push'](_0x449500['shift']());}}}(a46_0xb8bf,0x1985f));function a46_0xb8bf(){const _0x3bb11d=['random','TestGatewayService','18uoFFUd','Order\x20ID:','amount','Invalid\x20expiry\x20month','793492TzXIoM','Invalid\x20expiry\x20year','status','10lpmaDW','‚ùå\x20Card\x20validation\x20failed:','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','log','8ZlwBcf','success','****\x20****\x20****\x20','****','Card\x20Number:','replace','cvc','‚úÖ\x20Test\x20payment\x20successful','11156NGIPMB','SUCCESS_CARD','error','69461rETOKa','test','generateTransactionId','cardHolderName','Card\x20validation\x20failed','CVC:','padStart','trim','FAILED','expiryMonth','length','Payment\x20failed','875214SZnIjj','CVC\x20must\x20be\x203\x20or\x204\x20digits','validateCardData','currency','90385SuTIjW','floor','***','Card\x20number\x20must\x20be\x2016\x20digits','69DuGELM','slice','Payment\x20processed\x20successfully','12704AJzbAf','cardNumber','order_id','processCardPayment','toString','Transaction\x20ID:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','isValid','2014760WMPYgv','expiryYear','üß™\x20Test\x20Gateway\x20service\x20initialized','test_'];a46_0xb8bf=function(){return _0x3bb11d;};return a46_0xb8bf();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a46_0x3337fe(0x1a0)]=void 0x0;class TestGatewayService{constructor(){const _0x2ca6ee=a46_0x3337fe;this[_0x2ca6ee(0x17a)]='4242424242424242',console['log'](_0x2ca6ee(0x19d));}async[a46_0x3337fe(0x196)](_0x5f1fec){const _0x406c82=a46_0x3337fe,{paymentId:_0x365c61,orderId:_0x503a68,amount:_0x26cbf0,currency:_0x54df08,cardData:_0x3bab7a}=_0x5f1fec;console[_0x406c82(0x170)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x406c82(0x170)]('Payment\x20ID:',_0x365c61),console[_0x406c82(0x170)](_0x406c82(0x1a2),_0x503a68),console[_0x406c82(0x170)]('Amount:',_0x26cbf0,_0x54df08),console['log'](_0x406c82(0x175),this['maskCardNumber'](_0x3bab7a[_0x406c82(0x194)])),console[_0x406c82(0x170)]('Card\x20Holder:',_0x3bab7a[_0x406c82(0x17f)]),console[_0x406c82(0x170)]('Expiry:',_0x3bab7a[_0x406c82(0x185)]+'/'+_0x3bab7a[_0x406c82(0x19c)]),console[_0x406c82(0x170)](_0x406c82(0x181),_0x406c82(0x18e));const _0x382ef8=this['validateCardData'](_0x3bab7a);if(!_0x382ef8[_0x406c82(0x19a)])return console[_0x406c82(0x170)](_0x406c82(0x16e),_0x382ef8[_0x406c82(0x17b)]),{'success':![],'status':'FAILED','message':_0x406c82(0x180),'failureReason':_0x382ef8[_0x406c82(0x17b)]};const _0x489610=_0x3bab7a['cardNumber'][_0x406c82(0x176)](/[\s-]/g,'');if(_0x489610===this[_0x406c82(0x17a)]){const _0x187bca=this[_0x406c82(0x17e)]();return console[_0x406c82(0x170)](_0x406c82(0x178)),console['log'](_0x406c82(0x198),_0x187bca),{'success':!![],'status':'PAID','message':_0x406c82(0x192),'transactionId':_0x187bca};}else return console[_0x406c82(0x170)](_0x406c82(0x16f)),{'success':![],'status':_0x406c82(0x184),'message':_0x406c82(0x187),'failureReason':_0x406c82(0x199)};}[a46_0x3337fe(0x18a)](_0x5f54fd){const _0x36f556=a46_0x3337fe,_0x42cf42=_0x5f54fd[_0x36f556(0x194)][_0x36f556(0x176)](/[\s-]/g,'');if(!/^\d{16}$/[_0x36f556(0x17d)](_0x42cf42))return{'isValid':![],'error':_0x36f556(0x18f)};if(!_0x5f54fd[_0x36f556(0x17f)]||_0x5f54fd[_0x36f556(0x17f)][_0x36f556(0x183)]()[_0x36f556(0x186)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x2dddd2=parseInt(_0x5f54fd[_0x36f556(0x185)]);if(isNaN(_0x2dddd2)||_0x2dddd2<0x1||_0x2dddd2>0xc)return{'isValid':![],'error':_0x36f556(0x1a4)};const _0x30ce68=parseInt(_0x5f54fd['expiryYear']),_0x3fd39c=new Date()['getFullYear'](),_0x51531d=_0x30ce68<0x32?0x7d0+_0x30ce68:0x76c+_0x30ce68;if(isNaN(_0x30ce68)||_0x51531d<_0x3fd39c||_0x51531d>_0x3fd39c+0x14)return{'isValid':![],'error':_0x36f556(0x1a6)};if(!/^\d{3,4}$/[_0x36f556(0x17d)](_0x5f54fd[_0x36f556(0x177)]))return{'isValid':![],'error':_0x36f556(0x189)};return{'isValid':!![]};}['maskCardNumber'](_0x5a4572){const _0x443fa4=a46_0x3337fe,_0x37fc13=_0x5a4572[_0x443fa4(0x176)](/[\s-]/g,'');if(_0x37fc13[_0x443fa4(0x186)]<0x4)return _0x443fa4(0x174);return _0x443fa4(0x173)+_0x37fc13[_0x443fa4(0x191)](-0x4);}[a46_0x3337fe(0x17e)](){const _0x100a16=a46_0x3337fe,_0x567cb3=Date['now']()[_0x100a16(0x197)](),_0x369d2b=Math[_0x100a16(0x18d)](Math[_0x100a16(0x19f)]()*0x2710)[_0x100a16(0x197)]()[_0x100a16(0x182)](0x4,'0');return _0x100a16(0x19e)+_0x567cb3+'_'+_0x369d2b;}async['processWebhook'](_0x72f6ec){const _0x5a61ec=a46_0x3337fe;return console[_0x5a61ec(0x170)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x72f6ec),{'paymentId':_0x72f6ec[_0x5a61ec(0x195)]||'','status':_0x72f6ec[_0x5a61ec(0x1a7)]===_0x5a61ec(0x172)?'PAID':_0x5a61ec(0x184),'amount':_0x72f6ec[_0x5a61ec(0x1a3)],'currency':_0x72f6ec[_0x5a61ec(0x18b)]};}}function a46_0x4deb(_0x47a9ef,_0x43fba9){const _0xb8bff1=a46_0xb8bf();return a46_0x4deb=function(_0x4debbf,_0x128023){_0x4debbf=_0x4debbf-0x16d;let _0x5d9235=_0xb8bff1[_0x4debbf];return _0x5d9235;},a46_0x4deb(_0x47a9ef,_0x43fba9);}exports[a46_0x3337fe(0x1a0)]=TestGatewayService;