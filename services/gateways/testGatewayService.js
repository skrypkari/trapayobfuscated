'use strict';const a53_0x40930e=a53_0x3f78;(function(_0x576ea7,_0x8159b1){const _0x380a1a=a53_0x3f78,_0x33afb8=_0x576ea7();while(!![]){try{const _0x3bf8da=parseInt(_0x380a1a(0x1a6))/0x1*(-parseInt(_0x380a1a(0x194))/0x2)+parseInt(_0x380a1a(0x16e))/0x3*(-parseInt(_0x380a1a(0x18c))/0x4)+parseInt(_0x380a1a(0x184))/0x5+-parseInt(_0x380a1a(0x190))/0x6+-parseInt(_0x380a1a(0x17a))/0x7*(parseInt(_0x380a1a(0x1a7))/0x8)+parseInt(_0x380a1a(0x18b))/0x9+parseInt(_0x380a1a(0x170))/0xa*(parseInt(_0x380a1a(0x188))/0xb);if(_0x3bf8da===_0x8159b1)break;else _0x33afb8['push'](_0x33afb8['shift']());}catch(_0x47c3cc){_0x33afb8['push'](_0x33afb8['shift']());}}}(a53_0x592c,0xd0ebc));function a53_0x3f78(_0x6348a3,_0x27217b){const _0x592ccb=a53_0x592c();return a53_0x3f78=function(_0x3f782c,_0x37ba0e){_0x3f782c=_0x3f782c-0x16c;let _0xd4c6c1=_0x592ccb[_0x3f782c];return _0xd4c6c1;},a53_0x3f78(_0x6348a3,_0x27217b);}function a53_0x592c(){const _0x3fc51c=['PAID','now','error','5214222HuxmIj','expiryMonth','Amount:','Card\x20holder\x20name\x20is\x20required','4wHqJGi','toString','__esModule','cardHolderName','maskCardNumber','TestGatewayService','Card\x20validation\x20failed','expiryYear','processWebhook','getFullYear','cardNumber','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','order_id','Transaction\x20ID:','test','CVC:','generateTransactionId','Payment\x20processed\x20successfully','750242HPSSKd','32EXIKPE','test_','Expiry:','CVC\x20must\x20be\x203\x20or\x204\x20digits','‚úÖ\x20Test\x20payment\x20successful','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','4242424242424242','1365396IWfaWy','Card\x20Number:','23390cVkLrR','defineProperty','Invalid\x20expiry\x20year','replace','Card\x20Holder:','padStart','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','random','processCardPayment','‚ùå\x20Card\x20validation\x20failed:','61033MqnXsE','***','FAILED','log','trim','üß™\x20Test\x20Gateway\x20service\x20initialized','status','amount','success','Payment\x20ID:','5495495HLKbrj','Payment\x20failed','****','floor','7678bcFIYN','Card\x20number\x20must\x20be\x2016\x20digits','currency','8851932OXfGnj','4ZZnutA'];a53_0x592c=function(){return _0x3fc51c;};return a53_0x592c();}Object[a53_0x40930e(0x171)](exports,a53_0x40930e(0x196),{'value':!![]}),exports[a53_0x40930e(0x199)]=void 0x0;class TestGatewayService{constructor(){const _0x52c37f=a53_0x40930e;this['SUCCESS_CARD']=_0x52c37f(0x16d),console[_0x52c37f(0x17d)](_0x52c37f(0x17f));}async[a53_0x40930e(0x178)](_0x152fe4){const _0x470c60=a53_0x40930e,{paymentId:_0x40e98e,orderId:_0x564d8f,amount:_0x18b650,currency:_0x5c9b96,cardData:_0xa7ca2b}=_0x152fe4;console[_0x470c60(0x17d)](_0x470c60(0x176)),console['log'](_0x470c60(0x183),_0x40e98e),console[_0x470c60(0x17d)]('Order\x20ID:',_0x564d8f),console['log'](_0x470c60(0x192),_0x18b650,_0x5c9b96),console[_0x470c60(0x17d)](_0x470c60(0x16f),this[_0x470c60(0x198)](_0xa7ca2b[_0x470c60(0x19e)])),console['log'](_0x470c60(0x174),_0xa7ca2b[_0x470c60(0x197)]),console['log'](_0x470c60(0x1a9),_0xa7ca2b['expiryMonth']+'/'+_0xa7ca2b[_0x470c60(0x19b)]),console['log'](_0x470c60(0x1a3),_0x470c60(0x17b));const _0x14e569=this['validateCardData'](_0xa7ca2b);if(!_0x14e569['isValid'])return console[_0x470c60(0x17d)](_0x470c60(0x179),_0x14e569['error']),{'success':![],'status':_0x470c60(0x17c),'message':_0x470c60(0x19a),'failureReason':_0x14e569[_0x470c60(0x18f)]};const _0x4f449e=_0xa7ca2b[_0x470c60(0x19e)][_0x470c60(0x173)](/[\s-]/g,'');if(_0x4f449e===this['SUCCESS_CARD']){const _0x2a36f8=this[_0x470c60(0x1a4)]();return console['log'](_0x470c60(0x1ab)),console['log'](_0x470c60(0x1a1),_0x2a36f8),{'success':!![],'status':'PAID','message':_0x470c60(0x1a5),'transactionId':_0x2a36f8};}else return console[_0x470c60(0x17d)](_0x470c60(0x16c)),{'success':![],'status':_0x470c60(0x17c),'message':_0x470c60(0x185),'failureReason':_0x470c60(0x19f)};}['validateCardData'](_0x4fd75a){const _0x125440=a53_0x40930e,_0x2db9b0=_0x4fd75a[_0x125440(0x19e)][_0x125440(0x173)](/[\s-]/g,'');if(!/^\d{16}$/[_0x125440(0x1a2)](_0x2db9b0))return{'isValid':![],'error':_0x125440(0x189)};if(!_0x4fd75a[_0x125440(0x197)]||_0x4fd75a[_0x125440(0x197)][_0x125440(0x17e)]()['length']<0x2)return{'isValid':![],'error':_0x125440(0x193)};const _0xe7ab9a=parseInt(_0x4fd75a[_0x125440(0x191)]);if(isNaN(_0xe7ab9a)||_0xe7ab9a<0x1||_0xe7ab9a>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x414541=parseInt(_0x4fd75a[_0x125440(0x19b)]),_0x2f91ed=new Date()[_0x125440(0x19d)](),_0x377507=_0x414541<0x32?0x7d0+_0x414541:0x76c+_0x414541;if(isNaN(_0x414541)||_0x377507<_0x2f91ed||_0x377507>_0x2f91ed+0x14)return{'isValid':![],'error':_0x125440(0x172)};if(!/^\d{3,4}$/[_0x125440(0x1a2)](_0x4fd75a['cvc']))return{'isValid':![],'error':_0x125440(0x1aa)};return{'isValid':!![]};}['maskCardNumber'](_0x5c2136){const _0x474826=a53_0x40930e,_0x5b3cfd=_0x5c2136[_0x474826(0x173)](/[\s-]/g,'');if(_0x5b3cfd['length']<0x4)return _0x474826(0x186);return'****\x20****\x20****\x20'+_0x5b3cfd['slice'](-0x4);}[a53_0x40930e(0x1a4)](){const _0x154264=a53_0x40930e,_0x50a8d1=Date[_0x154264(0x18e)]()[_0x154264(0x195)](),_0x30005c=Math[_0x154264(0x187)](Math[_0x154264(0x177)]()*0x2710)[_0x154264(0x195)]()[_0x154264(0x175)](0x4,'0');return _0x154264(0x1a8)+_0x50a8d1+'_'+_0x30005c;}async[a53_0x40930e(0x19c)](_0x276a8c){const _0x248549=a53_0x40930e;return console[_0x248549(0x17d)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x276a8c),{'paymentId':_0x276a8c[_0x248549(0x1a0)]||'','status':_0x276a8c[_0x248549(0x180)]===_0x248549(0x182)?_0x248549(0x18d):_0x248549(0x17c),'amount':_0x276a8c[_0x248549(0x181)],'currency':_0x276a8c[_0x248549(0x18a)]};}}exports[a53_0x40930e(0x199)]=TestGatewayService;