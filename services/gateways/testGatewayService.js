'use strict';const a47_0x252144=a47_0x38c6;(function(_0x54af00,_0x4140fb){const _0x44b1c1=a47_0x38c6,_0x424cf9=_0x54af00();while(!![]){try{const _0x582a37=parseInt(_0x44b1c1(0x1ea))/0x1+parseInt(_0x44b1c1(0x1f8))/0x2*(-parseInt(_0x44b1c1(0x1f4))/0x3)+parseInt(_0x44b1c1(0x206))/0x4+parseInt(_0x44b1c1(0x1dc))/0x5+parseInt(_0x44b1c1(0x20c))/0x6+parseInt(_0x44b1c1(0x1da))/0x7+-parseInt(_0x44b1c1(0x1f6))/0x8;if(_0x582a37===_0x4140fb)break;else _0x424cf9['push'](_0x424cf9['shift']());}catch(_0x2a1df5){_0x424cf9['push'](_0x424cf9['shift']());}}}(a47_0x46c7,0x74c6e));function a47_0x46c7(){const _0x213e5a=['‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','‚ùå\x20Card\x20validation\x20failed:','Order\x20ID:','898173McuJwx','currency','Payment\x20failed','cvc','TestGatewayService','status','random','üß™\x20Test\x20Gateway\x20service\x20initialized','getFullYear','test','3lHZIGG','FAILED','6248936qKslVc','Invalid\x20expiry\x20year','1753498GrTDcF','floor','SUCCESS_CARD','slice','Card\x20Holder:','Card\x20holder\x20name\x20is\x20required','maskCardNumber','cardHolderName','amount','PAID','Card\x20validation\x20failed','expiryYear','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','cardNumber','1011292ZVONnj','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','****\x20****\x20****\x20','***','order_id','expiryMonth','2253222xxORNa','__esModule','toString','generateTransactionId','log','Amount:','CVC\x20must\x20be\x203\x20or\x204\x20digits','Payment\x20ID:','Payment\x20processed\x20successfully','test_','trim','validateCardData','651315UxDKIb','padStart','2583030EUQRlu','4242424242424242','replace','Card\x20Number:','isValid','length','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','error','processCardPayment','Transaction\x20ID:','CVC:'];a47_0x46c7=function(){return _0x213e5a;};return a47_0x46c7();}Object['defineProperty'](exports,a47_0x252144(0x20d),{'value':!![]}),exports[a47_0x252144(0x1ee)]=void 0x0;function a47_0x38c6(_0xb18738,_0x146ac0){const _0x46c777=a47_0x46c7();return a47_0x38c6=function(_0x38c6f8,_0x3a092d){_0x38c6f8=_0x38c6f8-0x1d1;let _0x164008=_0x46c777[_0x38c6f8];return _0x164008;},a47_0x38c6(_0xb18738,_0x146ac0);}class TestGatewayService{constructor(){const _0x4dac11=a47_0x252144;this['SUCCESS_CARD']=_0x4dac11(0x1dd),console[_0x4dac11(0x1d2)](_0x4dac11(0x1f1));}async[a47_0x252144(0x1e4)](_0x2605dd){const _0x364db1=a47_0x252144,{paymentId:_0x3e8b5f,orderId:_0x3a4eb7,amount:_0x9db114,currency:_0x49afc6,cardData:_0x3f1716}=_0x2605dd;console[_0x364db1(0x1d2)](_0x364db1(0x207)),console['log'](_0x364db1(0x1d5),_0x3e8b5f),console[_0x364db1(0x1d2)](_0x364db1(0x1e9),_0x3a4eb7),console[_0x364db1(0x1d2)](_0x364db1(0x1d3),_0x9db114,_0x49afc6),console[_0x364db1(0x1d2)](_0x364db1(0x1df),this[_0x364db1(0x1fe)](_0x3f1716['cardNumber'])),console[_0x364db1(0x1d2)](_0x364db1(0x1fc),_0x3f1716[_0x364db1(0x1ff)]),console[_0x364db1(0x1d2)]('Expiry:',_0x3f1716[_0x364db1(0x20b)]+'/'+_0x3f1716[_0x364db1(0x203)]),console[_0x364db1(0x1d2)](_0x364db1(0x1e6),_0x364db1(0x209));const _0x1b964a=this['validateCardData'](_0x3f1716);if(!_0x1b964a[_0x364db1(0x1e0)])return console[_0x364db1(0x1d2)](_0x364db1(0x1e8),_0x1b964a[_0x364db1(0x1e3)]),{'success':![],'status':_0x364db1(0x1f5),'message':_0x364db1(0x202),'failureReason':_0x1b964a['error']};const _0x1b629a=_0x3f1716[_0x364db1(0x205)]['replace'](/[\s-]/g,'');if(_0x1b629a===this[_0x364db1(0x1fa)]){const _0x2d252f=this[_0x364db1(0x1d1)]();return console[_0x364db1(0x1d2)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x364db1(0x1d2)](_0x364db1(0x1e5),_0x2d252f),{'success':!![],'status':'PAID','message':_0x364db1(0x1d6),'transactionId':_0x2d252f};}else return console[_0x364db1(0x1d2)](_0x364db1(0x1e7)),{'success':![],'status':_0x364db1(0x1f5),'message':_0x364db1(0x1ec),'failureReason':_0x364db1(0x204)};}[a47_0x252144(0x1d9)](_0x98bb){const _0x37c6a1=a47_0x252144,_0x6aa6fe=_0x98bb[_0x37c6a1(0x205)][_0x37c6a1(0x1de)](/[\s-]/g,'');if(!/^\d{16}$/[_0x37c6a1(0x1f3)](_0x6aa6fe))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x98bb[_0x37c6a1(0x1ff)]||_0x98bb[_0x37c6a1(0x1ff)][_0x37c6a1(0x1d8)]()[_0x37c6a1(0x1e1)]<0x2)return{'isValid':![],'error':_0x37c6a1(0x1fd)};const _0x2ca94c=parseInt(_0x98bb[_0x37c6a1(0x20b)]);if(isNaN(_0x2ca94c)||_0x2ca94c<0x1||_0x2ca94c>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x4b89d8=parseInt(_0x98bb[_0x37c6a1(0x203)]),_0x58a9b4=new Date()[_0x37c6a1(0x1f2)](),_0x4c4a21=_0x4b89d8<0x32?0x7d0+_0x4b89d8:0x76c+_0x4b89d8;if(isNaN(_0x4b89d8)||_0x4c4a21<_0x58a9b4||_0x4c4a21>_0x58a9b4+0x14)return{'isValid':![],'error':_0x37c6a1(0x1f7)};if(!/^\d{3,4}$/['test'](_0x98bb[_0x37c6a1(0x1ed)]))return{'isValid':![],'error':_0x37c6a1(0x1d4)};return{'isValid':!![]};}[a47_0x252144(0x1fe)](_0x179a0d){const _0x1df321=a47_0x252144,_0x1b5cac=_0x179a0d[_0x1df321(0x1de)](/[\s-]/g,'');if(_0x1b5cac['length']<0x4)return'****';return _0x1df321(0x208)+_0x1b5cac[_0x1df321(0x1fb)](-0x4);}[a47_0x252144(0x1d1)](){const _0x51e533=a47_0x252144,_0x596779=Date['now']()[_0x51e533(0x20e)](),_0x56cd08=Math[_0x51e533(0x1f9)](Math[_0x51e533(0x1f0)]()*0x2710)['toString']()[_0x51e533(0x1db)](0x4,'0');return _0x51e533(0x1d7)+_0x596779+'_'+_0x56cd08;}async['processWebhook'](_0x592e79){const _0x24a4c2=a47_0x252144;return console[_0x24a4c2(0x1d2)](_0x24a4c2(0x1e2),_0x592e79),{'paymentId':_0x592e79[_0x24a4c2(0x20a)]||'','status':_0x592e79[_0x24a4c2(0x1ef)]==='success'?_0x24a4c2(0x201):_0x24a4c2(0x1f5),'amount':_0x592e79[_0x24a4c2(0x200)],'currency':_0x592e79[_0x24a4c2(0x1eb)]};}}exports[a47_0x252144(0x1ee)]=TestGatewayService;