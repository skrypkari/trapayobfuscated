'use strict';const a77_0x280341=a77_0xb261;function a77_0x12e1(){const _0x33a590=['isValid','error','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','üß™\x20Test\x20Gateway\x20service\x20initialized','526376LTgyjJ','36668aMIAIN','1393ucVWtF','TestGatewayService','14244nmDXsB','****\x20****\x20****\x20','848ZYUwvV','expiryYear','processCardPayment','getFullYear','replace','floor','Card\x20holder\x20name\x20is\x20required','Expiry:','PAID','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','defineProperty','now','expiryMonth','length','generateTransactionId','4213ICCUFK','663078OAuhtT','Order\x20ID:','Card\x20Number:','currency','5860020sXGbOd','6291642wBeFgC','__esModule','Invalid\x20expiry\x20year','processWebhook','Card\x20validation\x20failed','cardNumber','4242424242424242','slice','Payment\x20ID:','random','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','‚ùå\x20Card\x20validation\x20failed:','Amount:','Card\x20Holder:','amount','cvc','18SmTBak','225XfujbZ','Payment\x20failed','maskCardNumber','Payment\x20processed\x20successfully','log','FAILED','validateCardData','cardHolderName','test_','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','21VnlxRp','status'];a77_0x12e1=function(){return _0x33a590;};return a77_0x12e1();}(function(_0x8e2d85,_0x16aa4d){const _0x5075ef=a77_0xb261,_0x73ae0d=_0x8e2d85();while(!![]){try{const _0x1bd01a=-parseInt(_0x5075ef(0x84))/0x1*(-parseInt(_0x5075ef(0x88))/0x2)+-parseInt(_0x5075ef(0x98))/0x3+parseInt(_0x5075ef(0x83))/0x4*(parseInt(_0x5075ef(0xae))/0x5)+-parseInt(_0x5075ef(0x9d))/0x6+-parseInt(_0x5075ef(0xb8))/0x7*(-parseInt(_0x5075ef(0x82))/0x8)+parseInt(_0x5075ef(0xad))/0x9*(parseInt(_0x5075ef(0x9c))/0xa)+parseInt(_0x5075ef(0x97))/0xb*(-parseInt(_0x5075ef(0x86))/0xc);if(_0x1bd01a===_0x16aa4d)break;else _0x73ae0d['push'](_0x73ae0d['shift']());}catch(_0x4869f4){_0x73ae0d['push'](_0x73ae0d['shift']());}}}(a77_0x12e1,0x9e460));function a77_0xb261(_0x3fddb0,_0x589172){_0x3fddb0=_0x3fddb0-0x7f;const _0x12e1cf=a77_0x12e1();let _0xb261c2=_0x12e1cf[_0x3fddb0];return _0xb261c2;}Object[a77_0x280341(0x92)](exports,a77_0x280341(0x9e),{'value':!![]}),exports[a77_0x280341(0x85)]=void 0x0;class TestGatewayService{constructor(){const _0x4a5d8f=a77_0x280341;this['SUCCESS_CARD']=_0x4a5d8f(0xa3),console[_0x4a5d8f(0xb2)](_0x4a5d8f(0x81));}async[a77_0x280341(0x8a)](_0x5eebf5){const _0x4101a1=a77_0x280341,{paymentId:_0x2ee112,orderId:_0x5aa204,amount:_0x28f9e3,currency:_0x3afaf2,cardData:_0x1ceb52}=_0x5eebf5;console[_0x4101a1(0xb2)](_0x4101a1(0xb7)),console[_0x4101a1(0xb2)](_0x4101a1(0xa5),_0x2ee112),console[_0x4101a1(0xb2)](_0x4101a1(0x99),_0x5aa204),console['log'](_0x4101a1(0xa9),_0x28f9e3,_0x3afaf2),console['log'](_0x4101a1(0x9a),this[_0x4101a1(0xb0)](_0x1ceb52[_0x4101a1(0xa2)])),console[_0x4101a1(0xb2)](_0x4101a1(0xaa),_0x1ceb52['cardHolderName']),console['log'](_0x4101a1(0x8f),_0x1ceb52[_0x4101a1(0x94)]+'/'+_0x1ceb52[_0x4101a1(0x89)]),console[_0x4101a1(0xb2)]('CVC:','***');const _0x526165=this['validateCardData'](_0x1ceb52);if(!_0x526165[_0x4101a1(0xba)])return console[_0x4101a1(0xb2)](_0x4101a1(0xa8),_0x526165[_0x4101a1(0x7f)]),{'success':![],'status':_0x4101a1(0xb3),'message':_0x4101a1(0xa1),'failureReason':_0x526165[_0x4101a1(0x7f)]};const _0xc25fa9=_0x1ceb52[_0x4101a1(0xa2)][_0x4101a1(0x8c)](/[\s-]/g,'');if(_0xc25fa9===this['SUCCESS_CARD']){const _0x18e739=this[_0x4101a1(0x96)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console['log']('Transaction\x20ID:',_0x18e739),{'success':!![],'status':_0x4101a1(0x90),'message':_0x4101a1(0xb1),'transactionId':_0x18e739};}else return console['log'](_0x4101a1(0xa7)),{'success':![],'status':'FAILED','message':_0x4101a1(0xaf),'failureReason':_0x4101a1(0x91)};}[a77_0x280341(0xb4)](_0x691b87){const _0x193228=a77_0x280341,_0x2ea500=_0x691b87[_0x193228(0xa2)][_0x193228(0x8c)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x2ea500))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x691b87[_0x193228(0xb5)]||_0x691b87[_0x193228(0xb5)]['trim']()[_0x193228(0x95)]<0x2)return{'isValid':![],'error':_0x193228(0x8e)};const _0x33df9d=parseInt(_0x691b87[_0x193228(0x94)]);if(isNaN(_0x33df9d)||_0x33df9d<0x1||_0x33df9d>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x33dc51=parseInt(_0x691b87[_0x193228(0x89)]),_0x593ad0=new Date()[_0x193228(0x8b)](),_0x5269a1=_0x33dc51<0x32?0x7d0+_0x33dc51:0x76c+_0x33dc51;if(isNaN(_0x33dc51)||_0x5269a1<_0x593ad0||_0x5269a1>_0x593ad0+0x14)return{'isValid':![],'error':_0x193228(0x9f)};if(!/^\d{3,4}$/['test'](_0x691b87[_0x193228(0xac)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a77_0x280341(0xb0)](_0x3736ce){const _0x46c969=a77_0x280341,_0x2f3e09=_0x3736ce[_0x46c969(0x8c)](/[\s-]/g,'');if(_0x2f3e09[_0x46c969(0x95)]<0x4)return'****';return _0x46c969(0x87)+_0x2f3e09[_0x46c969(0xa4)](-0x4);}[a77_0x280341(0x96)](){const _0x15fc35=a77_0x280341,_0x54ce2c=Date[_0x15fc35(0x93)]()['toString'](),_0x50264b=Math[_0x15fc35(0x8d)](Math[_0x15fc35(0xa6)]()*0x2710)['toString']()['padStart'](0x4,'0');return _0x15fc35(0xb6)+_0x54ce2c+'_'+_0x50264b;}async[a77_0x280341(0xa0)](_0x1c3349){const _0x52a1f1=a77_0x280341;return console['log'](_0x52a1f1(0x80),_0x1c3349),{'paymentId':_0x1c3349['order_id']||'','status':_0x1c3349[_0x52a1f1(0xb9)]==='success'?'PAID':_0x52a1f1(0xb3),'amount':_0x1c3349[_0x52a1f1(0xab)],'currency':_0x1c3349[_0x52a1f1(0x9b)]};}}exports[a77_0x280341(0x85)]=TestGatewayService;