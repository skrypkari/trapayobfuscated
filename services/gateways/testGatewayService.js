'use strict';const a53_0x3f2d9b=a53_0x257f;(function(_0xaae80c,_0x3afd87){const _0x26eecd=a53_0x257f,_0x534ab6=_0xaae80c();while(!![]){try{const _0x5cee76=parseInt(_0x26eecd(0xd0))/0x1+-parseInt(_0x26eecd(0xe8))/0x2+-parseInt(_0x26eecd(0xcd))/0x3+parseInt(_0x26eecd(0xe9))/0x4+parseInt(_0x26eecd(0xbe))/0x5*(parseInt(_0x26eecd(0xcf))/0x6)+parseInt(_0x26eecd(0xc4))/0x7+parseInt(_0x26eecd(0xee))/0x8;if(_0x5cee76===_0x3afd87)break;else _0x534ab6['push'](_0x534ab6['shift']());}catch(_0x2ff609){_0x534ab6['push'](_0x534ab6['shift']());}}}(a53_0x47fd,0x34f5c));function a53_0x257f(_0xa4b0b2,_0x2f71d9){const _0x47fdc8=a53_0x47fd();return a53_0x257f=function(_0x257fa9,_0x48a895){_0x257fa9=_0x257fa9-0xbc;let _0x4614ca=_0x47fdc8[_0x257fa9];return _0x4614ca;},a53_0x257f(_0xa4b0b2,_0x2f71d9);}function a53_0x47fd(){const _0x2892ca=['success','expiryMonth','SUCCESS_CARD','***','order_id','random','998154Mpgrxm','FAILED','1602gKntSL','337388LtkWhc','cvc','defineProperty','TestGatewayService','amount','PAID','CVC\x20must\x20be\x203\x20or\x204\x20digits','__esModule','processCardPayment','Invalid\x20expiry\x20year','getFullYear','maskCardNumber','validateCardData','trim','expiryYear','error','replace','Amount:','generateTransactionId','****\x20****\x20****\x20','Transaction\x20ID:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','cardHolderName','Card\x20number\x20must\x20be\x2016\x20digits','842434qEyvgj','261864KHVdma','log','Invalid\x20expiry\x20month','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Order\x20ID:','1610664AHOkku','Card\x20Number:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20holder\x20name\x20is\x20required','‚úÖ\x20Test\x20payment\x20successful','üß™\x20Test\x20Gateway\x20service\x20initialized','toString','test_','4242424242424242','Payment\x20processed\x20successfully','1375hcteCV','isValid','floor','test','Card\x20Holder:','currency','2052729gtWYSC','length','processWebhook'];a53_0x47fd=function(){return _0x2892ca;};return a53_0x47fd();}Object[a53_0x3f2d9b(0xd2)](exports,a53_0x3f2d9b(0xd7),{'value':!![]}),exports[a53_0x3f2d9b(0xd3)]=void 0x0;class TestGatewayService{constructor(){const _0x26eb19=a53_0x3f2d9b;this[_0x26eb19(0xc9)]=_0x26eb19(0xbc),console[_0x26eb19(0xea)](_0x26eb19(0xf3));}async[a53_0x3f2d9b(0xd8)](_0x30659d){const _0x16c6ed=a53_0x3f2d9b,{paymentId:_0x3c94e1,orderId:_0x4124ce,amount:_0x405833,currency:_0x4afe41,cardData:_0x2f4306}=_0x30659d;console['log'](_0x16c6ed(0xe5)),console[_0x16c6ed(0xea)]('Payment\x20ID:',_0x3c94e1),console[_0x16c6ed(0xea)](_0x16c6ed(0xed),_0x4124ce),console['log'](_0x16c6ed(0xe1),_0x405833,_0x4afe41),console[_0x16c6ed(0xea)](_0x16c6ed(0xef),this[_0x16c6ed(0xdb)](_0x2f4306['cardNumber'])),console[_0x16c6ed(0xea)](_0x16c6ed(0xc2),_0x2f4306[_0x16c6ed(0xe6)]),console[_0x16c6ed(0xea)]('Expiry:',_0x2f4306[_0x16c6ed(0xc8)]+'/'+_0x2f4306[_0x16c6ed(0xde)]),console[_0x16c6ed(0xea)]('CVC:',_0x16c6ed(0xca));const _0x441eb3=this['validateCardData'](_0x2f4306);if(!_0x441eb3[_0x16c6ed(0xbf)])return console[_0x16c6ed(0xea)]('‚ùå\x20Card\x20validation\x20failed:',_0x441eb3[_0x16c6ed(0xdf)]),{'success':![],'status':'FAILED','message':'Card\x20validation\x20failed','failureReason':_0x441eb3[_0x16c6ed(0xdf)]};const _0x473eed=_0x2f4306['cardNumber'][_0x16c6ed(0xe0)](/[\s-]/g,'');if(_0x473eed===this[_0x16c6ed(0xc9)]){const _0x392fd9=this['generateTransactionId']();return console[_0x16c6ed(0xea)](_0x16c6ed(0xf2)),console[_0x16c6ed(0xea)](_0x16c6ed(0xe4),_0x392fd9),{'success':!![],'status':'PAID','message':_0x16c6ed(0xbd),'transactionId':_0x392fd9};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x16c6ed(0xce),'message':'Payment\x20failed','failureReason':_0x16c6ed(0xec)};}[a53_0x3f2d9b(0xdc)](_0x5a8b12){const _0x477e33=a53_0x3f2d9b,_0x542fe1=_0x5a8b12['cardNumber'][_0x477e33(0xe0)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x542fe1))return{'isValid':![],'error':_0x477e33(0xe7)};if(!_0x5a8b12[_0x477e33(0xe6)]||_0x5a8b12[_0x477e33(0xe6)][_0x477e33(0xdd)]()[_0x477e33(0xc5)]<0x2)return{'isValid':![],'error':_0x477e33(0xf1)};const _0x3c60f4=parseInt(_0x5a8b12[_0x477e33(0xc8)]);if(isNaN(_0x3c60f4)||_0x3c60f4<0x1||_0x3c60f4>0xc)return{'isValid':![],'error':_0x477e33(0xeb)};const _0x538f1c=parseInt(_0x5a8b12[_0x477e33(0xde)]),_0x5bff3b=new Date()[_0x477e33(0xda)](),_0x23ae5d=_0x538f1c<0x32?0x7d0+_0x538f1c:0x76c+_0x538f1c;if(isNaN(_0x538f1c)||_0x23ae5d<_0x5bff3b||_0x23ae5d>_0x5bff3b+0x14)return{'isValid':![],'error':_0x477e33(0xd9)};if(!/^\d{3,4}$/[_0x477e33(0xc1)](_0x5a8b12[_0x477e33(0xd1)]))return{'isValid':![],'error':_0x477e33(0xd6)};return{'isValid':!![]};}['maskCardNumber'](_0x94fd95){const _0x561360=a53_0x3f2d9b,_0x5d21bb=_0x94fd95[_0x561360(0xe0)](/[\s-]/g,'');if(_0x5d21bb[_0x561360(0xc5)]<0x4)return'****';return _0x561360(0xe3)+_0x5d21bb['slice'](-0x4);}[a53_0x3f2d9b(0xe2)](){const _0x329f6a=a53_0x3f2d9b,_0x3f1923=Date['now']()[_0x329f6a(0xf4)](),_0x3c93ca=Math[_0x329f6a(0xc0)](Math[_0x329f6a(0xcc)]()*0x2710)[_0x329f6a(0xf4)]()['padStart'](0x4,'0');return _0x329f6a(0xf5)+_0x3f1923+'_'+_0x3c93ca;}async[a53_0x3f2d9b(0xc6)](_0x56befb){const _0x2d3e59=a53_0x3f2d9b;return console['log'](_0x2d3e59(0xf0),_0x56befb),{'paymentId':_0x56befb[_0x2d3e59(0xcb)]||'','status':_0x56befb['status']===_0x2d3e59(0xc7)?_0x2d3e59(0xd5):'FAILED','amount':_0x56befb[_0x2d3e59(0xd4)],'currency':_0x56befb[_0x2d3e59(0xc3)]};}}exports[a53_0x3f2d9b(0xd3)]=TestGatewayService;