'use strict';const a50_0x15091f=a50_0x32a3;function a50_0x32a3(_0x287bde,_0x2668e9){const _0x4ed57e=a50_0x4ed5();return a50_0x32a3=function(_0x32a3d9,_0x28ee49){_0x32a3d9=_0x32a3d9-0x1a3;let _0x464f3c=_0x4ed57e[_0x32a3d9];return _0x464f3c;},a50_0x32a3(_0x287bde,_0x2668e9);}function a50_0x4ed5(){const _0x3922a8=['Transaction\x20ID:','1887258Hvomel','TestGatewayService','now','cvc','9624uMkfZp','replace','toString','log','7235qyTpoD','üß™\x20Test\x20Gateway\x20service\x20initialized','processCardPayment','‚ùå\x20Card\x20validation\x20failed:','8058952yjsTUz','Card\x20Number:','Payment\x20processed\x20successfully','cardHolderName','10XLEbNW','amount','generateTransactionId','1118069dVCyWr','****\x20****\x20****\x20','expiryMonth','Payment\x20ID:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','test','FAILED','CVC:','‚úÖ\x20Test\x20payment\x20successful','slice','trim','Order\x20ID:','22825YzKPqG','__esModule','validateCardData','success','order_id','4SFFdfH','padStart','floor','cardNumber','test_','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','status','4240lTxZJW','3299706xNCzyc','Invalid\x20expiry\x20month','getFullYear','SUCCESS_CARD','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Payment\x20failed','isValid','expiryYear','Expiry:','3666Vyouze','Card\x20holder\x20name\x20is\x20required','Card\x20validation\x20failed','3024QeHsJE','4242424242424242','currency','****','error','Card\x20Holder:','length'];a50_0x4ed5=function(){return _0x3922a8;};return a50_0x4ed5();}(function(_0xa3a785,_0x12e4c2){const _0x1087f8=a50_0x32a3,_0x4fdeb6=_0xa3a785();while(!![]){try{const _0x382fc5=-parseInt(_0x1087f8(0x1cc))/0x1+-parseInt(_0x1087f8(0x1dd))/0x2*(-parseInt(_0x1087f8(0x1b9))/0x3)+parseInt(_0x1087f8(0x1a3))/0x4*(parseInt(_0x1087f8(0x1c1))/0x5)+parseInt(_0x1087f8(0x1ae))/0x6*(parseInt(_0x1087f8(0x1b1))/0x7)+parseInt(_0x1087f8(0x1c5))/0x8+-parseInt(_0x1087f8(0x1a4))/0x9*(parseInt(_0x1087f8(0x1c9))/0xa)+-parseInt(_0x1087f8(0x1d8))/0xb*(parseInt(_0x1087f8(0x1bd))/0xc);if(_0x382fc5===_0x12e4c2)break;else _0x4fdeb6['push'](_0x4fdeb6['shift']());}catch(_0x1a669){_0x4fdeb6['push'](_0x4fdeb6['shift']());}}}(a50_0x4ed5,0xdf41c));Object['defineProperty'](exports,a50_0x15091f(0x1d9),{'value':!![]}),exports[a50_0x15091f(0x1ba)]=void 0x0;class TestGatewayService{constructor(){const _0x39c845=a50_0x15091f;this[_0x39c845(0x1a7)]=_0x39c845(0x1b2),console[_0x39c845(0x1c0)](_0x39c845(0x1c2));}async[a50_0x15091f(0x1c3)](_0x5b82ff){const _0x221379=a50_0x15091f,{paymentId:_0x451539,orderId:_0x5763f0,amount:_0x4d44a6,currency:_0x1d80cb,cardData:_0x13d5da}=_0x5b82ff;console[_0x221379(0x1c0)](_0x221379(0x1d0)),console[_0x221379(0x1c0)](_0x221379(0x1cf),_0x451539),console[_0x221379(0x1c0)](_0x221379(0x1d7),_0x5763f0),console['log']('Amount:',_0x4d44a6,_0x1d80cb),console[_0x221379(0x1c0)](_0x221379(0x1c6),this['maskCardNumber'](_0x13d5da[_0x221379(0x1e0)])),console['log'](_0x221379(0x1b6),_0x13d5da[_0x221379(0x1c8)]),console[_0x221379(0x1c0)](_0x221379(0x1ad),_0x13d5da[_0x221379(0x1ce)]+'/'+_0x13d5da[_0x221379(0x1ac)]),console['log'](_0x221379(0x1d3),'***');const _0x11614f=this[_0x221379(0x1da)](_0x13d5da);if(!_0x11614f[_0x221379(0x1ab)])return console[_0x221379(0x1c0)](_0x221379(0x1c4),_0x11614f[_0x221379(0x1b5)]),{'success':![],'status':_0x221379(0x1d2),'message':_0x221379(0x1b0),'failureReason':_0x11614f[_0x221379(0x1b5)]};const _0x8701d1=_0x13d5da['cardNumber']['replace'](/[\s-]/g,'');if(_0x8701d1===this[_0x221379(0x1a7)]){const _0x5ba61f=this['generateTransactionId']();return console[_0x221379(0x1c0)](_0x221379(0x1d4)),console[_0x221379(0x1c0)](_0x221379(0x1b8),_0x5ba61f),{'success':!![],'status':'PAID','message':_0x221379(0x1c7),'transactionId':_0x5ba61f};}else return console[_0x221379(0x1c0)](_0x221379(0x1e2)),{'success':![],'status':'FAILED','message':_0x221379(0x1aa),'failureReason':_0x221379(0x1a9)};}[a50_0x15091f(0x1da)](_0x43a107){const _0x558ec2=a50_0x15091f,_0x9adf06=_0x43a107[_0x558ec2(0x1e0)][_0x558ec2(0x1be)](/[\s-]/g,'');if(!/^\d{16}$/[_0x558ec2(0x1d1)](_0x9adf06))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x43a107[_0x558ec2(0x1c8)]||_0x43a107[_0x558ec2(0x1c8)][_0x558ec2(0x1d6)]()[_0x558ec2(0x1b7)]<0x2)return{'isValid':![],'error':_0x558ec2(0x1af)};const _0x11a3e3=parseInt(_0x43a107[_0x558ec2(0x1ce)]);if(isNaN(_0x11a3e3)||_0x11a3e3<0x1||_0x11a3e3>0xc)return{'isValid':![],'error':_0x558ec2(0x1a5)};const _0x134fcb=parseInt(_0x43a107[_0x558ec2(0x1ac)]),_0x529d80=new Date()[_0x558ec2(0x1a6)](),_0x9a4119=_0x134fcb<0x32?0x7d0+_0x134fcb:0x76c+_0x134fcb;if(isNaN(_0x134fcb)||_0x9a4119<_0x529d80||_0x9a4119>_0x529d80+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x558ec2(0x1d1)](_0x43a107[_0x558ec2(0x1bc)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x27dc55){const _0x32227a=a50_0x15091f,_0x40e36b=_0x27dc55[_0x32227a(0x1be)](/[\s-]/g,'');if(_0x40e36b[_0x32227a(0x1b7)]<0x4)return _0x32227a(0x1b4);return _0x32227a(0x1cd)+_0x40e36b[_0x32227a(0x1d5)](-0x4);}[a50_0x15091f(0x1cb)](){const _0x32db47=a50_0x15091f,_0x8f8245=Date[_0x32db47(0x1bb)]()[_0x32db47(0x1bf)](),_0x5261c5=Math[_0x32db47(0x1df)](Math['random']()*0x2710)['toString']()[_0x32db47(0x1de)](0x4,'0');return _0x32db47(0x1e1)+_0x8f8245+'_'+_0x5261c5;}async['processWebhook'](_0x1bf8cf){const _0x568400=a50_0x15091f;return console[_0x568400(0x1c0)](_0x568400(0x1a8),_0x1bf8cf),{'paymentId':_0x1bf8cf[_0x568400(0x1dc)]||'','status':_0x1bf8cf[_0x568400(0x1e3)]===_0x568400(0x1db)?'PAID':_0x568400(0x1d2),'amount':_0x1bf8cf[_0x568400(0x1ca)],'currency':_0x1bf8cf[_0x568400(0x1b3)]};}}exports[a50_0x15091f(0x1ba)]=TestGatewayService;