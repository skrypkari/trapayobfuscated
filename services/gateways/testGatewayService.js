'use strict';const a46_0x150a3a=a46_0x5c4d;function a46_0x5c4d(_0xea60c5,_0x359c38){const _0x17589a=a46_0x1758();return a46_0x5c4d=function(_0x5c4d70,_0x32cf1e){_0x5c4d70=_0x5c4d70-0xb8;let _0x35b640=_0x17589a[_0x5c4d70];return _0x35b640;},a46_0x5c4d(_0xea60c5,_0x359c38);}(function(_0x44428c,_0x2f5565){const _0x2b0dd0=a46_0x5c4d,_0xd1909d=_0x44428c();while(!![]){try{const _0x4c47cd=parseInt(_0x2b0dd0(0xe8))/0x1*(parseInt(_0x2b0dd0(0xb8))/0x2)+parseInt(_0x2b0dd0(0xcb))/0x3*(parseInt(_0x2b0dd0(0xe0))/0x4)+-parseInt(_0x2b0dd0(0xef))/0x5+parseInt(_0x2b0dd0(0xe4))/0x6+-parseInt(_0x2b0dd0(0xd1))/0x7*(-parseInt(_0x2b0dd0(0xc6))/0x8)+-parseInt(_0x2b0dd0(0xd0))/0x9*(parseInt(_0x2b0dd0(0xed))/0xa)+-parseInt(_0x2b0dd0(0xda))/0xb;if(_0x4c47cd===_0x2f5565)break;else _0xd1909d['push'](_0xd1909d['shift']());}catch(_0x2b2af1){_0xd1909d['push'](_0xd1909d['shift']());}}}(a46_0x1758,0x2cdad));function a46_0x1758(){const _0x1986ad=['length','1077453oFKAFm','21xBfaYB','log','****\x20****\x20****\x20','Card\x20Holder:','currency','slice','cvc','now','test_','1370193LhcFYF','‚úÖ\x20Test\x20payment\x20successful','amount','Card\x20number\x20must\x20be\x2016\x20digits','FAILED','Payment\x20processed\x20successfully','116WHtrCv','random','‚ùå\x20Card\x20validation\x20failed:','toString','143070WYsZXA','Card\x20validation\x20failed','TestGatewayService','replace','63329saCcGK','cardNumber','cardHolderName','PAID','Card\x20Number:','20LWxYlM','generateTransactionId','700280VoYGkg','status','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','floor','****','Card\x20holder\x20name\x20is\x20required','10tRUYGm','success','SUCCESS_CARD','expiryMonth','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','expiryYear','CVC\x20must\x20be\x203\x20or\x204\x20digits','Invalid\x20expiry\x20year','order_id','validateCardData','processCardPayment','maskCardNumber','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','__esModule','571992BOuBxB','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','isValid','Payment\x20failed','padStart','13737aCaFjz','Expiry:','Invalid\x20expiry\x20month','***'];a46_0x1758=function(){return _0x1986ad;};return a46_0x1758();}Object['defineProperty'](exports,a46_0x150a3a(0xc5),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x375449=a46_0x150a3a;this[_0x375449(0xba)]='4242424242424242',console[_0x375449(0xd2)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a46_0x150a3a(0xc2)](_0x234d07){const _0x238cdb=a46_0x150a3a,{paymentId:_0x30a9ff,orderId:_0x434f8b,amount:_0x4360f7,currency:_0x282beb,cardData:_0x2083a7}=_0x234d07;console[_0x238cdb(0xd2)](_0x238cdb(0xf1)),console[_0x238cdb(0xd2)]('Payment\x20ID:',_0x30a9ff),console[_0x238cdb(0xd2)]('Order\x20ID:',_0x434f8b),console[_0x238cdb(0xd2)]('Amount:',_0x4360f7,_0x282beb),console[_0x238cdb(0xd2)](_0x238cdb(0xec),this[_0x238cdb(0xc3)](_0x2083a7[_0x238cdb(0xe9)])),console['log'](_0x238cdb(0xd4),_0x2083a7[_0x238cdb(0xea)]),console['log'](_0x238cdb(0xcc),_0x2083a7['expiryMonth']+'/'+_0x2083a7[_0x238cdb(0xbd)]),console[_0x238cdb(0xd2)]('CVC:',_0x238cdb(0xce));const _0x421795=this['validateCardData'](_0x2083a7);if(!_0x421795[_0x238cdb(0xc8)])return console['log'](_0x238cdb(0xe2),_0x421795['error']),{'success':![],'status':_0x238cdb(0xde),'message':_0x238cdb(0xe5),'failureReason':_0x421795['error']};const _0xd0519e=_0x2083a7[_0x238cdb(0xe9)][_0x238cdb(0xe7)](/[\s-]/g,'');if(_0xd0519e===this[_0x238cdb(0xba)]){const _0x1b3faa=this['generateTransactionId']();return console[_0x238cdb(0xd2)](_0x238cdb(0xdb)),console[_0x238cdb(0xd2)]('Transaction\x20ID:',_0x1b3faa),{'success':!![],'status':_0x238cdb(0xeb),'message':_0x238cdb(0xdf),'transactionId':_0x1b3faa};}else return console[_0x238cdb(0xd2)](_0x238cdb(0xbc)),{'success':![],'status':_0x238cdb(0xde),'message':_0x238cdb(0xc9),'failureReason':_0x238cdb(0xc7)};}[a46_0x150a3a(0xc1)](_0x286016){const _0x45b0ff=a46_0x150a3a,_0x12e639=_0x286016['cardNumber'][_0x45b0ff(0xe7)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x12e639))return{'isValid':![],'error':_0x45b0ff(0xdd)};if(!_0x286016[_0x45b0ff(0xea)]||_0x286016[_0x45b0ff(0xea)]['trim']()[_0x45b0ff(0xcf)]<0x2)return{'isValid':![],'error':_0x45b0ff(0xf4)};const _0x2c09ed=parseInt(_0x286016[_0x45b0ff(0xbb)]);if(isNaN(_0x2c09ed)||_0x2c09ed<0x1||_0x2c09ed>0xc)return{'isValid':![],'error':_0x45b0ff(0xcd)};const _0x4ef4e5=parseInt(_0x286016['expiryYear']),_0x2f086a=new Date()['getFullYear'](),_0x20f125=_0x4ef4e5<0x32?0x7d0+_0x4ef4e5:0x76c+_0x4ef4e5;if(isNaN(_0x4ef4e5)||_0x20f125<_0x2f086a||_0x20f125>_0x2f086a+0x14)return{'isValid':![],'error':_0x45b0ff(0xbf)};if(!/^\d{3,4}$/['test'](_0x286016[_0x45b0ff(0xd7)]))return{'isValid':![],'error':_0x45b0ff(0xbe)};return{'isValid':!![]};}['maskCardNumber'](_0x550499){const _0x57c254=a46_0x150a3a,_0x48b0ff=_0x550499[_0x57c254(0xe7)](/[\s-]/g,'');if(_0x48b0ff[_0x57c254(0xcf)]<0x4)return _0x57c254(0xf3);return _0x57c254(0xd3)+_0x48b0ff[_0x57c254(0xd6)](-0x4);}[a46_0x150a3a(0xee)](){const _0x1c1a99=a46_0x150a3a,_0x476553=Date[_0x1c1a99(0xd8)]()[_0x1c1a99(0xe3)](),_0x494d15=Math[_0x1c1a99(0xf2)](Math[_0x1c1a99(0xe1)]()*0x2710)['toString']()[_0x1c1a99(0xca)](0x4,'0');return _0x1c1a99(0xd9)+_0x476553+'_'+_0x494d15;}async['processWebhook'](_0x191053){const _0x391aa0=a46_0x150a3a;return console[_0x391aa0(0xd2)](_0x391aa0(0xc4),_0x191053),{'paymentId':_0x191053[_0x391aa0(0xc0)]||'','status':_0x191053[_0x391aa0(0xf0)]===_0x391aa0(0xb9)?_0x391aa0(0xeb):_0x391aa0(0xde),'amount':_0x191053[_0x391aa0(0xdc)],'currency':_0x191053[_0x391aa0(0xd5)]};}}exports[a46_0x150a3a(0xe6)]=TestGatewayService;