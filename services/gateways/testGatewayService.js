'use strict';function a57_0x7dbc(){const _0x4af009=['Card\x20number\x20must\x20be\x2016\x20digits','2898sCeuXT','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','test','floor','520YKvZJc','Transaction\x20ID:','generateTransactionId','231305dkgSaa','now','length','log','‚ùå\x20Card\x20validation\x20failed:','***','trim','Invalid\x20expiry\x20month','cvc','SUCCESS_CARD','PAID','getFullYear','Card\x20validation\x20failed','Payment\x20ID:','cardNumber','random','****\x20****\x20****\x20','maskCardNumber','Payment\x20processed\x20successfully','slice','defineProperty','cardHolderName','üß™\x20Test\x20Gateway\x20service\x20initialized','14810MXZqQm','161958YVReDA','Payment\x20failed','426217JhvEQd','15sNYlgs','FAILED','Amount:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','test_','status','processCardPayment','isValid','8637356giIlxr','372vjWVbs','expiryMonth','toString','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','78420ZpHlld','validateCardData','Card\x20holder\x20name\x20is\x20required','78iPKcRk','Card\x20Holder:','error','success','replace','75qWwgDO','Expiry:','58513uFmVMu'];a57_0x7dbc=function(){return _0x4af009;};return a57_0x7dbc();}const a57_0x40adc3=a57_0x4560;(function(_0x1072f0,_0x324158){const _0x544ebf=a57_0x4560,_0x1c996b=_0x1072f0();while(!![]){try{const _0x28c048=parseInt(_0x544ebf(0x148))/0x1*(-parseInt(_0x544ebf(0x145))/0x2)+parseInt(_0x544ebf(0x122))/0x3*(parseInt(_0x544ebf(0x11a))/0x4)+-parseInt(_0x544ebf(0x12d))/0x5*(-parseInt(_0x544ebf(0x11d))/0x6)+parseInt(_0x544ebf(0x124))/0x7*(-parseInt(_0x544ebf(0x12a))/0x8)+parseInt(_0x544ebf(0x126))/0x9*(-parseInt(_0x544ebf(0x144))/0xa)+-parseInt(_0x544ebf(0x147))/0xb*(-parseInt(_0x544ebf(0x151))/0xc)+parseInt(_0x544ebf(0x150))/0xd;if(_0x28c048===_0x324158)break;else _0x1c996b['push'](_0x1c996b['shift']());}catch(_0x5dae24){_0x1c996b['push'](_0x1c996b['shift']());}}}(a57_0x7dbc,0xb0509));Object[a57_0x40adc3(0x141)](exports,'__esModule',{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x5c9d43=a57_0x40adc3;this[_0x5c9d43(0x136)]='4242424242424242',console[_0x5c9d43(0x130)](_0x5c9d43(0x143));}async[a57_0x40adc3(0x14e)](_0x31c6de){const _0x6e0b7a=a57_0x40adc3,{paymentId:_0x4c856a,orderId:_0x2a56df,amount:_0x5b1728,currency:_0x2c19d3,cardData:_0x142523}=_0x31c6de;console[_0x6e0b7a(0x130)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x6e0b7a(0x130)](_0x6e0b7a(0x13a),_0x4c856a),console[_0x6e0b7a(0x130)]('Order\x20ID:',_0x2a56df),console['log'](_0x6e0b7a(0x14a),_0x5b1728,_0x2c19d3),console[_0x6e0b7a(0x130)]('Card\x20Number:',this[_0x6e0b7a(0x13e)](_0x142523['cardNumber'])),console[_0x6e0b7a(0x130)](_0x6e0b7a(0x11e),_0x142523['cardHolderName']),console[_0x6e0b7a(0x130)](_0x6e0b7a(0x123),_0x142523[_0x6e0b7a(0x117)]+'/'+_0x142523['expiryYear']),console[_0x6e0b7a(0x130)]('CVC:',_0x6e0b7a(0x132));const _0x537a42=this[_0x6e0b7a(0x11b)](_0x142523);if(!_0x537a42[_0x6e0b7a(0x14f)])return console[_0x6e0b7a(0x130)](_0x6e0b7a(0x131),_0x537a42[_0x6e0b7a(0x11f)]),{'success':![],'status':'FAILED','message':_0x6e0b7a(0x139),'failureReason':_0x537a42['error']};const _0x691ae6=_0x142523[_0x6e0b7a(0x13b)][_0x6e0b7a(0x121)](/[\s-]/g,'');if(_0x691ae6===this['SUCCESS_CARD']){const _0x35ef55=this[_0x6e0b7a(0x12c)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x6e0b7a(0x130)](_0x6e0b7a(0x12b),_0x35ef55),{'success':!![],'status':_0x6e0b7a(0x137),'message':_0x6e0b7a(0x13f),'transactionId':_0x35ef55};}else return console[_0x6e0b7a(0x130)](_0x6e0b7a(0x127)),{'success':![],'status':_0x6e0b7a(0x149),'message':_0x6e0b7a(0x146),'failureReason':_0x6e0b7a(0x119)};}[a57_0x40adc3(0x11b)](_0x4a7efa){const _0x217dfc=a57_0x40adc3,_0x428d7d=_0x4a7efa[_0x217dfc(0x13b)][_0x217dfc(0x121)](/[\s-]/g,'');if(!/^\d{16}$/[_0x217dfc(0x128)](_0x428d7d))return{'isValid':![],'error':_0x217dfc(0x125)};if(!_0x4a7efa['cardHolderName']||_0x4a7efa[_0x217dfc(0x142)][_0x217dfc(0x133)]()[_0x217dfc(0x12f)]<0x2)return{'isValid':![],'error':_0x217dfc(0x11c)};const _0x2b900d=parseInt(_0x4a7efa[_0x217dfc(0x117)]);if(isNaN(_0x2b900d)||_0x2b900d<0x1||_0x2b900d>0xc)return{'isValid':![],'error':_0x217dfc(0x134)};const _0x5086e7=parseInt(_0x4a7efa['expiryYear']),_0x1d18fe=new Date()[_0x217dfc(0x138)](),_0x1d0859=_0x5086e7<0x32?0x7d0+_0x5086e7:0x76c+_0x5086e7;if(isNaN(_0x5086e7)||_0x1d0859<_0x1d18fe||_0x1d0859>_0x1d18fe+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x217dfc(0x128)](_0x4a7efa[_0x217dfc(0x135)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a57_0x40adc3(0x13e)](_0x3dfd57){const _0x2d69b8=a57_0x40adc3,_0xe832fc=_0x3dfd57[_0x2d69b8(0x121)](/[\s-]/g,'');if(_0xe832fc[_0x2d69b8(0x12f)]<0x4)return'****';return _0x2d69b8(0x13d)+_0xe832fc[_0x2d69b8(0x140)](-0x4);}[a57_0x40adc3(0x12c)](){const _0x4d3566=a57_0x40adc3,_0x3a050c=Date[_0x4d3566(0x12e)]()['toString'](),_0x5228fd=Math[_0x4d3566(0x129)](Math[_0x4d3566(0x13c)]()*0x2710)[_0x4d3566(0x118)]()['padStart'](0x4,'0');return _0x4d3566(0x14c)+_0x3a050c+'_'+_0x5228fd;}async['processWebhook'](_0x524d98){const _0x1ae62f=a57_0x40adc3;return console[_0x1ae62f(0x130)](_0x1ae62f(0x14b),_0x524d98),{'paymentId':_0x524d98['order_id']||'','status':_0x524d98[_0x1ae62f(0x14d)]===_0x1ae62f(0x120)?'PAID':_0x1ae62f(0x149),'amount':_0x524d98['amount'],'currency':_0x524d98['currency']};}}function a57_0x4560(_0x31ef07,_0x4e11ce){const _0x7dbc3e=a57_0x7dbc();return a57_0x4560=function(_0x45607e,_0x40628d){_0x45607e=_0x45607e-0x117;let _0x114d29=_0x7dbc3e[_0x45607e];return _0x114d29;},a57_0x4560(_0x31ef07,_0x4e11ce);}exports['TestGatewayService']=TestGatewayService;