'use strict';function a47_0x531f(_0x5abcca,_0x4fc749){const _0x3aaf8a=a47_0x3aaf();return a47_0x531f=function(_0x531f63,_0x3a91ee){_0x531f63=_0x531f63-0x9b;let _0x12937c=_0x3aaf8a[_0x531f63];return _0x12937c;},a47_0x531f(_0x5abcca,_0x4fc749);}function a47_0x3aaf(){const _0x42abc7=['Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','random','‚úÖ\x20Test\x20payment\x20successful','validateCardData','cvc','Transaction\x20ID:','Card\x20holder\x20name\x20is\x20required','cardHolderName','***','getFullYear','replace','1185816DtNAxT','isValid','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','processCardPayment','trim','slice','Card\x20number\x20must\x20be\x2016\x20digits','defineProperty','expiryYear','maskCardNumber','üß™\x20Test\x20Gateway\x20service\x20initialized','error','test_','__esModule','4dHTOpg','generateTransactionId','****\x20****\x20****\x20','554565DKKYUU','Amount:','4432952WqWPof','Invalid\x20expiry\x20year','‚ùå\x20Card\x20validation\x20failed:','PAID','amount','CVC:','test','285171tLTjlN','9fdCqpS','1131291fIRqLP','log','status','CVC\x20must\x20be\x203\x20or\x204\x20digits','length','1235442qMZHOh','cardNumber','Payment\x20failed','toString','currency','expiryMonth','Card\x20Holder:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Payment\x20processed\x20successfully','4242424242424242','FAILED','SUCCESS_CARD','Invalid\x20expiry\x20month','processWebhook','426316cBBIhx','Card\x20Number:'];a47_0x3aaf=function(){return _0x42abc7;};return a47_0x3aaf();}const a47_0x167237=a47_0x531f;(function(_0x1d5c1b,_0x5b690e){const _0x141a8b=a47_0x531f,_0x597d9e=_0x1d5c1b();while(!![]){try{const _0x31c37f=parseInt(_0x141a8b(0xb4))/0x1+-parseInt(_0x141a8b(0xc1))/0x2+parseInt(_0x141a8b(0x9f))/0x3+-parseInt(_0x141a8b(0xcf))/0x4*(parseInt(_0x141a8b(0xd2))/0x5)+-parseInt(_0x141a8b(0xa6))/0x6+parseInt(_0x141a8b(0xa1))/0x7+parseInt(_0x141a8b(0xd4))/0x8*(parseInt(_0x141a8b(0xa0))/0x9);if(_0x31c37f===_0x5b690e)break;else _0x597d9e['push'](_0x597d9e['shift']());}catch(_0x3d07da){_0x597d9e['push'](_0x597d9e['shift']());}}}(a47_0x3aaf,0x4fed1));Object[a47_0x167237(0xc8)](exports,a47_0x167237(0xce),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x4bd5d1=a47_0x167237;this[_0x4bd5d1(0xb1)]=_0x4bd5d1(0xaf),console[_0x4bd5d1(0xa2)](_0x4bd5d1(0xcb));}async[a47_0x167237(0xc4)](_0x10bf31){const _0x587685=a47_0x167237,{paymentId:_0x188ff2,orderId:_0x1e2e73,amount:_0x20ac31,currency:_0x13a031,cardData:_0x210799}=_0x10bf31;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console['log']('Payment\x20ID:',_0x188ff2),console[_0x587685(0xa2)]('Order\x20ID:',_0x1e2e73),console['log'](_0x587685(0xd3),_0x20ac31,_0x13a031),console['log'](_0x587685(0xb5),this[_0x587685(0xca)](_0x210799[_0x587685(0xa7)])),console[_0x587685(0xa2)](_0x587685(0xac),_0x210799[_0x587685(0xbd)]),console[_0x587685(0xa2)]('Expiry:',_0x210799[_0x587685(0xab)]+'/'+_0x210799[_0x587685(0xc9)]),console[_0x587685(0xa2)](_0x587685(0x9d),_0x587685(0xbe));const _0x18e95d=this[_0x587685(0xb9)](_0x210799);if(!_0x18e95d[_0x587685(0xc2)])return console['log'](_0x587685(0xd6),_0x18e95d[_0x587685(0xcc)]),{'success':![],'status':_0x587685(0xb0),'message':'Card\x20validation\x20failed','failureReason':_0x18e95d[_0x587685(0xcc)]};const _0x2f7fd8=_0x210799[_0x587685(0xa7)]['replace'](/[\s-]/g,'');if(_0x2f7fd8===this[_0x587685(0xb1)]){const _0x3e22f5=this[_0x587685(0xd0)]();return console[_0x587685(0xa2)](_0x587685(0xb8)),console[_0x587685(0xa2)](_0x587685(0xbb),_0x3e22f5),{'success':!![],'status':_0x587685(0x9b),'message':_0x587685(0xae),'transactionId':_0x3e22f5};}else return console[_0x587685(0xa2)](_0x587685(0xc3)),{'success':![],'status':'FAILED','message':_0x587685(0xa8),'failureReason':_0x587685(0xb6)};}[a47_0x167237(0xb9)](_0x4aff37){const _0x4c7938=a47_0x167237,_0x4b6f9d=_0x4aff37['cardNumber'][_0x4c7938(0xc0)](/[\s-]/g,'');if(!/^\d{16}$/[_0x4c7938(0x9e)](_0x4b6f9d))return{'isValid':![],'error':_0x4c7938(0xc7)};if(!_0x4aff37[_0x4c7938(0xbd)]||_0x4aff37[_0x4c7938(0xbd)][_0x4c7938(0xc5)]()[_0x4c7938(0xa5)]<0x2)return{'isValid':![],'error':_0x4c7938(0xbc)};const _0x373c92=parseInt(_0x4aff37[_0x4c7938(0xab)]);if(isNaN(_0x373c92)||_0x373c92<0x1||_0x373c92>0xc)return{'isValid':![],'error':_0x4c7938(0xb2)};const _0xfb5870=parseInt(_0x4aff37[_0x4c7938(0xc9)]),_0x19f132=new Date()[_0x4c7938(0xbf)](),_0x32a340=_0xfb5870<0x32?0x7d0+_0xfb5870:0x76c+_0xfb5870;if(isNaN(_0xfb5870)||_0x32a340<_0x19f132||_0x32a340>_0x19f132+0x14)return{'isValid':![],'error':_0x4c7938(0xd5)};if(!/^\d{3,4}$/[_0x4c7938(0x9e)](_0x4aff37[_0x4c7938(0xba)]))return{'isValid':![],'error':_0x4c7938(0xa4)};return{'isValid':!![]};}['maskCardNumber'](_0x1cb4e1){const _0xcd2d45=a47_0x167237,_0x66c9ae=_0x1cb4e1[_0xcd2d45(0xc0)](/[\s-]/g,'');if(_0x66c9ae[_0xcd2d45(0xa5)]<0x4)return'****';return _0xcd2d45(0xd1)+_0x66c9ae[_0xcd2d45(0xc6)](-0x4);}[a47_0x167237(0xd0)](){const _0x23f7c3=a47_0x167237,_0x156261=Date['now']()[_0x23f7c3(0xa9)](),_0xbe8e52=Math['floor'](Math[_0x23f7c3(0xb7)]()*0x2710)[_0x23f7c3(0xa9)]()['padStart'](0x4,'0');return _0x23f7c3(0xcd)+_0x156261+'_'+_0xbe8e52;}async[a47_0x167237(0xb3)](_0x4ff0c2){const _0x12d25a=a47_0x167237;return console['log'](_0x12d25a(0xad),_0x4ff0c2),{'paymentId':_0x4ff0c2['order_id']||'','status':_0x4ff0c2[_0x12d25a(0xa3)]==='success'?_0x12d25a(0x9b):_0x12d25a(0xb0),'amount':_0x4ff0c2[_0x12d25a(0x9c)],'currency':_0x4ff0c2[_0x12d25a(0xaa)]};}}exports['TestGatewayService']=TestGatewayService;