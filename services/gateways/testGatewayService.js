'use strict';const a57_0x14014e=a57_0xf246;function a57_0x33e3(){const _0x2fcfcb=['‚úÖ\x20Test\x20payment\x20successful','padStart','Card\x20Number:','cardHolderName','maskCardNumber','1065028deWJBr','470038HMHKpr','defineProperty','FAILED','Payment\x20failed','error','SUCCESS_CARD','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','76RfWbFv','status','log','test_','Payment\x20processed\x20successfully','üß™\x20Test\x20Gateway\x20service\x20initialized','5501680TJVabJ','success','random','105rLjrcV','PAID','Card\x20validation\x20failed','test','Expiry:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','now','order_id','replace','TestGatewayService','processWebhook','expiryYear','319350GcojnS','Card\x20holder\x20name\x20is\x20required','Card\x20Holder:','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','4242424242424242','1098WpwzJH','toString','amount','cvc','Payment\x20ID:','length','__esModule','currency','generateTransactionId','4877765SVuWRC','trim','Invalid\x20expiry\x20month','Amount:','‚ùå\x20Card\x20validation\x20failed:','cardNumber','****','224570OZTcbK','CVC:','Card\x20number\x20must\x20be\x2016\x20digits','13443UxyMIP','expiryMonth'];a57_0x33e3=function(){return _0x2fcfcb;};return a57_0x33e3();}(function(_0x369e3a,_0x2a1118){const _0x510e0a=a57_0xf246,_0x58612e=_0x369e3a();while(!![]){try{const _0x25caa2=parseInt(_0x510e0a(0xa3))/0x1+-parseInt(_0x510e0a(0x68))/0x2+parseInt(_0x510e0a(0x9c))/0x3*(parseInt(_0x510e0a(0x6f))/0x4)+parseInt(_0x510e0a(0x92))/0x5+-parseInt(_0x510e0a(0x84))/0x6*(-parseInt(_0x510e0a(0x78))/0x7)+parseInt(_0x510e0a(0x75))/0x8+parseInt(_0x510e0a(0x89))/0x9*(-parseInt(_0x510e0a(0x99))/0xa);if(_0x25caa2===_0x2a1118)break;else _0x58612e['push'](_0x58612e['shift']());}catch(_0x5b0742){_0x58612e['push'](_0x58612e['shift']());}}}(a57_0x33e3,0x9b868));Object[a57_0x14014e(0x69)](exports,a57_0x14014e(0x8f),{'value':!![]}),exports[a57_0x14014e(0x81)]=void 0x0;function a57_0xf246(_0x17e222,_0x45d21c){const _0x33e35d=a57_0x33e3();return a57_0xf246=function(_0xf24670,_0x301a67){_0xf24670=_0xf24670-0x68;let _0x3fa04b=_0x33e35d[_0xf24670];return _0x3fa04b;},a57_0xf246(_0x17e222,_0x45d21c);}class TestGatewayService{constructor(){const _0x4d853d=a57_0x14014e;this[_0x4d853d(0x6d)]=_0x4d853d(0x88),console[_0x4d853d(0x71)](_0x4d853d(0x74));}async['processCardPayment'](_0x15f669){const _0xbf05ae=a57_0x14014e,{paymentId:_0x1a85de,orderId:_0x25ed69,amount:_0x47b400,currency:_0x30a978,cardData:_0x339f16}=_0x15f669;console[_0xbf05ae(0x71)](_0xbf05ae(0x7d)),console['log'](_0xbf05ae(0x8d),_0x1a85de),console[_0xbf05ae(0x71)]('Order\x20ID:',_0x25ed69),console[_0xbf05ae(0x71)](_0xbf05ae(0x95),_0x47b400,_0x30a978),console[_0xbf05ae(0x71)](_0xbf05ae(0xa0),this['maskCardNumber'](_0x339f16[_0xbf05ae(0x97)])),console[_0xbf05ae(0x71)](_0xbf05ae(0x86),_0x339f16[_0xbf05ae(0xa1)]),console[_0xbf05ae(0x71)](_0xbf05ae(0x7c),_0x339f16[_0xbf05ae(0x9d)]+'/'+_0x339f16[_0xbf05ae(0x83)]),console[_0xbf05ae(0x71)](_0xbf05ae(0x9a),'***');const _0x330ef8=this['validateCardData'](_0x339f16);if(!_0x330ef8['isValid'])return console['log'](_0xbf05ae(0x96),_0x330ef8['error']),{'success':![],'status':_0xbf05ae(0x6a),'message':_0xbf05ae(0x7a),'failureReason':_0x330ef8[_0xbf05ae(0x6c)]};const _0x300fbd=_0x339f16[_0xbf05ae(0x97)][_0xbf05ae(0x80)](/[\s-]/g,'');if(_0x300fbd===this[_0xbf05ae(0x6d)]){const _0x54bfed=this[_0xbf05ae(0x91)]();return console[_0xbf05ae(0x71)](_0xbf05ae(0x9e)),console[_0xbf05ae(0x71)]('Transaction\x20ID:',_0x54bfed),{'success':!![],'status':_0xbf05ae(0x79),'message':_0xbf05ae(0x73),'transactionId':_0x54bfed};}else return console[_0xbf05ae(0x71)](_0xbf05ae(0x87)),{'success':![],'status':'FAILED','message':_0xbf05ae(0x6b),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}['validateCardData'](_0x34b1ba){const _0x48c357=a57_0x14014e,_0x3f14e0=_0x34b1ba['cardNumber'][_0x48c357(0x80)](/[\s-]/g,'');if(!/^\d{16}$/[_0x48c357(0x7b)](_0x3f14e0))return{'isValid':![],'error':_0x48c357(0x9b)};if(!_0x34b1ba[_0x48c357(0xa1)]||_0x34b1ba[_0x48c357(0xa1)][_0x48c357(0x93)]()[_0x48c357(0x8e)]<0x2)return{'isValid':![],'error':_0x48c357(0x85)};const _0x34f9d0=parseInt(_0x34b1ba[_0x48c357(0x9d)]);if(isNaN(_0x34f9d0)||_0x34f9d0<0x1||_0x34f9d0>0xc)return{'isValid':![],'error':_0x48c357(0x94)};const _0x18b60d=parseInt(_0x34b1ba[_0x48c357(0x83)]),_0x4c996a=new Date()['getFullYear'](),_0x308b05=_0x18b60d<0x32?0x7d0+_0x18b60d:0x76c+_0x18b60d;if(isNaN(_0x18b60d)||_0x308b05<_0x4c996a||_0x308b05>_0x4c996a+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x48c357(0x7b)](_0x34b1ba[_0x48c357(0x8c)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a57_0x14014e(0xa2)](_0x3a9d43){const _0x2cf461=a57_0x14014e,_0xc4bf91=_0x3a9d43['replace'](/[\s-]/g,'');if(_0xc4bf91['length']<0x4)return _0x2cf461(0x98);return'****\x20****\x20****\x20'+_0xc4bf91['slice'](-0x4);}[a57_0x14014e(0x91)](){const _0x566108=a57_0x14014e,_0x5360dc=Date[_0x566108(0x7e)]()[_0x566108(0x8a)](),_0x2790de=Math['floor'](Math[_0x566108(0x77)]()*0x2710)['toString']()[_0x566108(0x9f)](0x4,'0');return _0x566108(0x72)+_0x5360dc+'_'+_0x2790de;}async[a57_0x14014e(0x82)](_0x54ed57){const _0x237f92=a57_0x14014e;return console[_0x237f92(0x71)](_0x237f92(0x6e),_0x54ed57),{'paymentId':_0x54ed57[_0x237f92(0x7f)]||'','status':_0x54ed57[_0x237f92(0x70)]===_0x237f92(0x76)?_0x237f92(0x79):_0x237f92(0x6a),'amount':_0x54ed57[_0x237f92(0x8b)],'currency':_0x54ed57[_0x237f92(0x90)]};}}exports[a57_0x14014e(0x81)]=TestGatewayService;