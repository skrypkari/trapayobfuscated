'use strict';const a46_0xb609bb=a46_0x20c5;(function(_0x3ba9c6,_0x5a13c4){const _0x4e2119=a46_0x20c5,_0x921704=_0x3ba9c6();while(!![]){try{const _0x57d4a4=-parseInt(_0x4e2119(0x112))/0x1*(parseInt(_0x4e2119(0x11c))/0x2)+parseInt(_0x4e2119(0x100))/0x3*(parseInt(_0x4e2119(0x11a))/0x4)+parseInt(_0x4e2119(0x10e))/0x5+-parseInt(_0x4e2119(0x11b))/0x6+parseInt(_0x4e2119(0x113))/0x7*(-parseInt(_0x4e2119(0x12d))/0x8)+-parseInt(_0x4e2119(0x130))/0x9+parseInt(_0x4e2119(0x110))/0xa;if(_0x57d4a4===_0x5a13c4)break;else _0x921704['push'](_0x921704['shift']());}catch(_0x3c5341){_0x921704['push'](_0x921704['shift']());}}}(a46_0x2cdf,0x931a4));function a46_0x2cdf(){const _0x36bf2f=['Invalid\x20expiry\x20year','now','12392XUPBzU','PAID','Order\x20ID:','9929448lmNowi','processCardPayment','expiryMonth','Transaction\x20ID:','defineProperty','log','expiryYear','order_id','length','maskCardNumber','random','3kGdWCN','test','currency','‚ùå\x20Card\x20validation\x20failed:','toString','Card\x20validation\x20failed','üß™\x20Test\x20Gateway\x20service\x20initialized','processWebhook','getFullYear','CVC:','cvc','error','****\x20****\x20****\x20','padStart','744745BNUOwY','replace','30541580ArhSgF','test_','1hvqNIb','5257jDHyap','Amount:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Payment\x20ID:','cardHolderName','slice','SUCCESS_CARD','2137628LdUhMM','1283946SacaaM','1308840gRafGL','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','***','cardNumber','Invalid\x20expiry\x20month','Card\x20Number:','Payment\x20processed\x20successfully','Card\x20number\x20must\x20be\x2016\x20digits','success','TestGatewayService','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','status','isValid','FAILED','generateTransactionId'];a46_0x2cdf=function(){return _0x36bf2f;};return a46_0x2cdf();}function a46_0x20c5(_0x18cebd,_0x4a4dc5){const _0x2cdfb3=a46_0x2cdf();return a46_0x20c5=function(_0x20c5f2,_0x5bc646){_0x20c5f2=_0x20c5f2-0xf9;let _0x389d58=_0x2cdfb3[_0x20c5f2];return _0x389d58;},a46_0x20c5(_0x18cebd,_0x4a4dc5);}Object[a46_0xb609bb(0xf9)](exports,'__esModule',{'value':!![]}),exports[a46_0xb609bb(0x125)]=void 0x0;class TestGatewayService{constructor(){const _0x424380=a46_0xb609bb;this[_0x424380(0x119)]='4242424242424242',console['log'](_0x424380(0x106));}async[a46_0xb609bb(0x131)](_0x27ef78){const _0x454bec=a46_0xb609bb,{paymentId:_0x315c87,orderId:_0x346a30,amount:_0x585ca1,currency:_0x2096d5,cardData:_0x35e5d3}=_0x27ef78;console['log'](_0x454bec(0x115)),console['log'](_0x454bec(0x116),_0x315c87),console[_0x454bec(0xfa)](_0x454bec(0x12f),_0x346a30),console['log'](_0x454bec(0x114),_0x585ca1,_0x2096d5),console[_0x454bec(0xfa)](_0x454bec(0x121),this[_0x454bec(0xfe)](_0x35e5d3[_0x454bec(0x11f)])),console[_0x454bec(0xfa)]('Card\x20Holder:',_0x35e5d3[_0x454bec(0x117)]),console[_0x454bec(0xfa)]('Expiry:',_0x35e5d3[_0x454bec(0x132)]+'/'+_0x35e5d3[_0x454bec(0xfb)]),console[_0x454bec(0xfa)](_0x454bec(0x109),_0x454bec(0x11e));const _0x35eefc=this['validateCardData'](_0x35e5d3);if(!_0x35eefc[_0x454bec(0x128)])return console[_0x454bec(0xfa)](_0x454bec(0x103),_0x35eefc[_0x454bec(0x10b)]),{'success':![],'status':_0x454bec(0x129),'message':_0x454bec(0x105),'failureReason':_0x35eefc[_0x454bec(0x10b)]};const _0x57495d=_0x35e5d3[_0x454bec(0x11f)][_0x454bec(0x10f)](/[\s-]/g,'');if(_0x57495d===this[_0x454bec(0x119)]){const _0x35257f=this[_0x454bec(0x12a)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x454bec(0xfa)](_0x454bec(0x133),_0x35257f),{'success':!![],'status':_0x454bec(0x12e),'message':_0x454bec(0x122),'transactionId':_0x35257f};}else return console[_0x454bec(0xfa)](_0x454bec(0x126)),{'success':![],'status':_0x454bec(0x129),'message':'Payment\x20failed','failureReason':_0x454bec(0x11d)};}['validateCardData'](_0x283240){const _0x164e51=a46_0xb609bb,_0x551f19=_0x283240[_0x164e51(0x11f)][_0x164e51(0x10f)](/[\s-]/g,'');if(!/^\d{16}$/[_0x164e51(0x101)](_0x551f19))return{'isValid':![],'error':_0x164e51(0x123)};if(!_0x283240[_0x164e51(0x117)]||_0x283240[_0x164e51(0x117)]['trim']()[_0x164e51(0xfd)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x2942ce=parseInt(_0x283240[_0x164e51(0x132)]);if(isNaN(_0x2942ce)||_0x2942ce<0x1||_0x2942ce>0xc)return{'isValid':![],'error':_0x164e51(0x120)};const _0x265fc2=parseInt(_0x283240[_0x164e51(0xfb)]),_0x509f9f=new Date()[_0x164e51(0x108)](),_0x33c4c0=_0x265fc2<0x32?0x7d0+_0x265fc2:0x76c+_0x265fc2;if(isNaN(_0x265fc2)||_0x33c4c0<_0x509f9f||_0x33c4c0>_0x509f9f+0x14)return{'isValid':![],'error':_0x164e51(0x12b)};if(!/^\d{3,4}$/[_0x164e51(0x101)](_0x283240[_0x164e51(0x10a)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a46_0xb609bb(0xfe)](_0x367d72){const _0x13c2e7=a46_0xb609bb,_0x2473c8=_0x367d72[_0x13c2e7(0x10f)](/[\s-]/g,'');if(_0x2473c8[_0x13c2e7(0xfd)]<0x4)return'****';return _0x13c2e7(0x10c)+_0x2473c8[_0x13c2e7(0x118)](-0x4);}['generateTransactionId'](){const _0x574ac0=a46_0xb609bb,_0x2b5f86=Date[_0x574ac0(0x12c)]()[_0x574ac0(0x104)](),_0x5501f1=Math['floor'](Math[_0x574ac0(0xff)]()*0x2710)[_0x574ac0(0x104)]()[_0x574ac0(0x10d)](0x4,'0');return _0x574ac0(0x111)+_0x2b5f86+'_'+_0x5501f1;}async[a46_0xb609bb(0x107)](_0x520738){const _0x51d252=a46_0xb609bb;return console[_0x51d252(0xfa)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x520738),{'paymentId':_0x520738[_0x51d252(0xfc)]||'','status':_0x520738[_0x51d252(0x127)]===_0x51d252(0x124)?_0x51d252(0x12e):_0x51d252(0x129),'amount':_0x520738['amount'],'currency':_0x520738[_0x51d252(0x102)]};}}exports[a46_0xb609bb(0x125)]=TestGatewayService;