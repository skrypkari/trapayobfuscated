'use strict';const a46_0xe575f9=a46_0x323a;(function(_0x5f55e0,_0x1a3368){const _0x15c4e1=a46_0x323a,_0x5cdafe=_0x5f55e0();while(!![]){try{const _0x3fcca9=-parseInt(_0x15c4e1(0xe2))/0x1*(parseInt(_0x15c4e1(0xf4))/0x2)+-parseInt(_0x15c4e1(0xcd))/0x3+-parseInt(_0x15c4e1(0xfe))/0x4+parseInt(_0x15c4e1(0xd7))/0x5+parseInt(_0x15c4e1(0xc6))/0x6+-parseInt(_0x15c4e1(0xd1))/0x7*(-parseInt(_0x15c4e1(0xd8))/0x8)+-parseInt(_0x15c4e1(0xf9))/0x9*(-parseInt(_0x15c4e1(0xe1))/0xa);if(_0x3fcca9===_0x1a3368)break;else _0x5cdafe['push'](_0x5cdafe['shift']());}catch(_0x18f1b4){_0x5cdafe['push'](_0x5cdafe['shift']());}}}(a46_0x2793,0x48312));function a46_0x323a(_0x33550b,_0x1d2191){const _0x2793ca=a46_0x2793();return a46_0x323a=function(_0x323a52,_0x7da094){_0x323a52=_0x323a52-0xc2;let _0x3844ce=_0x2793ca[_0x323a52];return _0x3844ce;},a46_0x323a(_0x33550b,_0x1d2191);}function a46_0x2793(){const _0x1bd7e8=['***','946548rAEgbR','‚úÖ\x20Test\x20payment\x20successful','Invalid\x20expiry\x20year','expiryYear','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','786232zjPvet','length','CVC\x20must\x20be\x203\x20or\x204\x20digits','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','floor','2125074PyItoG','Payment\x20processed\x20successfully','status','Payment\x20ID:','getFullYear','Invalid\x20expiry\x20month','test','1550148yPPPsp','log','Card\x20Number:','generateTransactionId','76580pwybNY','TestGatewayService','error','success','maskCardNumber','FAILED','2050800jaMuCU','272CeAkwC','Card\x20number\x20must\x20be\x2016\x20digits','cardNumber','isValid','currency','cardHolderName','cvc','****','expiryMonth','20sBguxE','17YdJZki','order_id','PAID','defineProperty','__esModule','4242424242424242','replace','Expiry:','padStart','Order\x20ID:','trim','Amount:','‚ùå\x20Card\x20validation\x20failed:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','****\x20****\x20****\x20','SUCCESS_CARD','random','39726BAPoMI','toString','Card\x20Holder:','validateCardData'];a46_0x2793=function(){return _0x1bd7e8;};return a46_0x2793();}Object[a46_0xe575f9(0xe5)](exports,a46_0xe575f9(0xe6),{'value':!![]}),exports[a46_0xe575f9(0xd2)]=void 0x0;class TestGatewayService{constructor(){const _0x25990e=a46_0xe575f9;this[_0x25990e(0xf2)]=_0x25990e(0xe7),console['log']('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x56c7de){const _0x4345b3=a46_0xe575f9,{paymentId:_0xf2bdac,orderId:_0x1689f9,amount:_0x2d69a6,currency:_0x4f1493,cardData:_0xcd40b6}=_0x56c7de;console[_0x4345b3(0xce)](_0x4345b3(0xc4)),console[_0x4345b3(0xce)](_0x4345b3(0xc9),_0xf2bdac),console['log'](_0x4345b3(0xeb),_0x1689f9),console[_0x4345b3(0xce)](_0x4345b3(0xed),_0x2d69a6,_0x4f1493),console[_0x4345b3(0xce)](_0x4345b3(0xcf),this[_0x4345b3(0xd5)](_0xcd40b6['cardNumber'])),console[_0x4345b3(0xce)](_0x4345b3(0xf6),_0xcd40b6[_0x4345b3(0xdd)]),console[_0x4345b3(0xce)](_0x4345b3(0xe9),_0xcd40b6[_0x4345b3(0xe0)]+'/'+_0xcd40b6[_0x4345b3(0xfc)]),console[_0x4345b3(0xce)]('CVC:',_0x4345b3(0xf8));const _0x3644ea=this['validateCardData'](_0xcd40b6);if(!_0x3644ea[_0x4345b3(0xdb)])return console[_0x4345b3(0xce)](_0x4345b3(0xee),_0x3644ea[_0x4345b3(0xd3)]),{'success':![],'status':_0x4345b3(0xd6),'message':'Card\x20validation\x20failed','failureReason':_0x3644ea['error']};const _0x1bd60d=_0xcd40b6['cardNumber'][_0x4345b3(0xe8)](/[\s-]/g,'');if(_0x1bd60d===this[_0x4345b3(0xf2)]){const _0xbddaa6=this[_0x4345b3(0xd0)]();return console[_0x4345b3(0xce)](_0x4345b3(0xfa)),console[_0x4345b3(0xce)]('Transaction\x20ID:',_0xbddaa6),{'success':!![],'status':_0x4345b3(0xe4),'message':_0x4345b3(0xc7),'transactionId':_0xbddaa6};}else return console[_0x4345b3(0xce)](_0x4345b3(0xf0)),{'success':![],'status':_0x4345b3(0xd6),'message':'Payment\x20failed','failureReason':_0x4345b3(0xfd)};}[a46_0xe575f9(0xf7)](_0x433e0b){const _0x12e114=a46_0xe575f9,_0x1c88f3=_0x433e0b[_0x12e114(0xda)][_0x12e114(0xe8)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x1c88f3))return{'isValid':![],'error':_0x12e114(0xd9)};if(!_0x433e0b[_0x12e114(0xdd)]||_0x433e0b['cardHolderName'][_0x12e114(0xec)]()[_0x12e114(0xc2)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x479f4=parseInt(_0x433e0b['expiryMonth']);if(isNaN(_0x479f4)||_0x479f4<0x1||_0x479f4>0xc)return{'isValid':![],'error':_0x12e114(0xcb)};const _0xf93721=parseInt(_0x433e0b[_0x12e114(0xfc)]),_0x22cbd6=new Date()[_0x12e114(0xca)](),_0x275dca=_0xf93721<0x32?0x7d0+_0xf93721:0x76c+_0xf93721;if(isNaN(_0xf93721)||_0x275dca<_0x22cbd6||_0x275dca>_0x22cbd6+0x14)return{'isValid':![],'error':_0x12e114(0xfb)};if(!/^\d{3,4}$/[_0x12e114(0xcc)](_0x433e0b[_0x12e114(0xde)]))return{'isValid':![],'error':_0x12e114(0xc3)};return{'isValid':!![]};}['maskCardNumber'](_0x5313d2){const _0x123e98=a46_0xe575f9,_0x4212ba=_0x5313d2['replace'](/[\s-]/g,'');if(_0x4212ba['length']<0x4)return _0x123e98(0xdf);return _0x123e98(0xf1)+_0x4212ba['slice'](-0x4);}[a46_0xe575f9(0xd0)](){const _0x1bc605=a46_0xe575f9,_0x5a64a2=Date['now']()[_0x1bc605(0xf5)](),_0x49a28d=Math[_0x1bc605(0xc5)](Math[_0x1bc605(0xf3)]()*0x2710)[_0x1bc605(0xf5)]()[_0x1bc605(0xea)](0x4,'0');return'test_'+_0x5a64a2+'_'+_0x49a28d;}async['processWebhook'](_0x3dcb88){const _0x22e6e6=a46_0xe575f9;return console[_0x22e6e6(0xce)](_0x22e6e6(0xef),_0x3dcb88),{'paymentId':_0x3dcb88[_0x22e6e6(0xe3)]||'','status':_0x3dcb88[_0x22e6e6(0xc8)]===_0x22e6e6(0xd4)?_0x22e6e6(0xe4):_0x22e6e6(0xd6),'amount':_0x3dcb88['amount'],'currency':_0x3dcb88[_0x22e6e6(0xdc)]};}}exports[a46_0xe575f9(0xd2)]=TestGatewayService;