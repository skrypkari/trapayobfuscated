'use strict';function a53_0x2ae1(){const _0x487b67=['generateTransactionId','status','‚úÖ\x20Test\x20payment\x20successful','30720qHMQZH','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','success','floor','getFullYear','cardNumber','TestGatewayService','33930zXfjNk','4272814abfHHK','4242424242424242','cvc','trim','43766052YiSxKL','***','81965hfbgAF','Transaction\x20ID:','****\x20****\x20****\x20','Amount:','toString','order_id','test_','FAILED','SUCCESS_CARD','test','error','10924940gEJnba','replace','2JDzRHI','cardHolderName','Invalid\x20expiry\x20year','Card\x20Number:','CVC:','Card\x20Holder:','3224xVwsvf','random','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Payment\x20ID:','PAID','823553uLJexO','padStart','CVC\x20must\x20be\x203\x20or\x204\x20digits','processWebhook','defineProperty','282sqaHVM','Invalid\x20expiry\x20month','Order\x20ID:','Payment\x20failed','length','now','amount','expiryYear','489BGjAUk','isValid','maskCardNumber','processCardPayment','log','expiryMonth','validateCardData','slice','üß™\x20Test\x20Gateway\x20service\x20initialized'];a53_0x2ae1=function(){return _0x487b67;};return a53_0x2ae1();}const a53_0xe3e388=a53_0x5daf;(function(_0x1bfdb2,_0x627d84){const _0x3e157d=a53_0x5daf,_0x22392e=_0x1bfdb2();while(!![]){try{const _0x436899=-parseInt(_0x3e157d(0xfa))/0x1*(-parseInt(_0x3e157d(0xef))/0x2)+parseInt(_0x3e157d(0x107))/0x3*(-parseInt(_0x3e157d(0x113))/0x4)+parseInt(_0x3e157d(0xe2))/0x5*(-parseInt(_0x3e157d(0xff))/0x6)+parseInt(_0x3e157d(0xdc))/0x7+-parseInt(_0x3e157d(0xf5))/0x8*(parseInt(_0x3e157d(0xdb))/0x9)+-parseInt(_0x3e157d(0xed))/0xa+parseInt(_0x3e157d(0xe0))/0xb;if(_0x436899===_0x627d84)break;else _0x22392e['push'](_0x22392e['shift']());}catch(_0x1bfccd){_0x22392e['push'](_0x22392e['shift']());}}}(a53_0x2ae1,0xbe14c));Object[a53_0xe3e388(0xfe)](exports,'__esModule',{'value':!![]}),exports[a53_0xe3e388(0xda)]=void 0x0;function a53_0x5daf(_0x540293,_0x452873){const _0x2ae1db=a53_0x2ae1();return a53_0x5daf=function(_0x5daf02,_0xef30df){_0x5daf02=_0x5daf02-0xd9;let _0x5395ed=_0x2ae1db[_0x5daf02];return _0x5395ed;},a53_0x5daf(_0x540293,_0x452873);}class TestGatewayService{constructor(){const _0x1bd512=a53_0xe3e388;this['SUCCESS_CARD']=_0x1bd512(0xdd),console[_0x1bd512(0x10b)](_0x1bd512(0x10f));}async[a53_0xe3e388(0x10a)](_0x257d21){const _0x350ff1=a53_0xe3e388,{paymentId:_0x2ca0d9,orderId:_0x15d383,amount:_0x2bab5d,currency:_0x4978e0,cardData:_0x1c4567}=_0x257d21;console['log'](_0x350ff1(0x114)),console['log'](_0x350ff1(0xf8),_0x2ca0d9),console[_0x350ff1(0x10b)](_0x350ff1(0x101),_0x15d383),console[_0x350ff1(0x10b)](_0x350ff1(0xe5),_0x2bab5d,_0x4978e0),console[_0x350ff1(0x10b)](_0x350ff1(0xf2),this[_0x350ff1(0x109)](_0x1c4567['cardNumber'])),console[_0x350ff1(0x10b)](_0x350ff1(0xf4),_0x1c4567[_0x350ff1(0xf0)]),console['log']('Expiry:',_0x1c4567[_0x350ff1(0x10c)]+'/'+_0x1c4567[_0x350ff1(0x106)]),console[_0x350ff1(0x10b)](_0x350ff1(0xf3),_0x350ff1(0xe1));const _0x1e0fec=this['validateCardData'](_0x1c4567);if(!_0x1e0fec[_0x350ff1(0x108)])return console[_0x350ff1(0x10b)]('‚ùå\x20Card\x20validation\x20failed:',_0x1e0fec['error']),{'success':![],'status':_0x350ff1(0xe9),'message':'Card\x20validation\x20failed','failureReason':_0x1e0fec[_0x350ff1(0xec)]};const _0x502483=_0x1c4567[_0x350ff1(0xd9)]['replace'](/[\s-]/g,'');if(_0x502483===this[_0x350ff1(0xea)]){const _0x52d55b=this['generateTransactionId']();return console[_0x350ff1(0x10b)](_0x350ff1(0x112)),console[_0x350ff1(0x10b)](_0x350ff1(0xe3),_0x52d55b),{'success':!![],'status':_0x350ff1(0xf9),'message':'Payment\x20processed\x20successfully','transactionId':_0x52d55b};}else return console[_0x350ff1(0x10b)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x350ff1(0xe9),'message':_0x350ff1(0x102),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a53_0xe3e388(0x10d)](_0x2c8245){const _0x44f605=a53_0xe3e388,_0x3852b8=_0x2c8245[_0x44f605(0xd9)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x44f605(0xeb)](_0x3852b8))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x2c8245[_0x44f605(0xf0)]||_0x2c8245[_0x44f605(0xf0)][_0x44f605(0xdf)]()[_0x44f605(0x103)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x286d63=parseInt(_0x2c8245[_0x44f605(0x10c)]);if(isNaN(_0x286d63)||_0x286d63<0x1||_0x286d63>0xc)return{'isValid':![],'error':_0x44f605(0x100)};const _0x2e8b5b=parseInt(_0x2c8245[_0x44f605(0x106)]),_0x4245fe=new Date()[_0x44f605(0x117)](),_0x19a92a=_0x2e8b5b<0x32?0x7d0+_0x2e8b5b:0x76c+_0x2e8b5b;if(isNaN(_0x2e8b5b)||_0x19a92a<_0x4245fe||_0x19a92a>_0x4245fe+0x14)return{'isValid':![],'error':_0x44f605(0xf1)};if(!/^\d{3,4}$/[_0x44f605(0xeb)](_0x2c8245[_0x44f605(0xde)]))return{'isValid':![],'error':_0x44f605(0xfc)};return{'isValid':!![]};}[a53_0xe3e388(0x109)](_0x3bccc9){const _0x6487d9=a53_0xe3e388,_0x5e607e=_0x3bccc9[_0x6487d9(0xee)](/[\s-]/g,'');if(_0x5e607e[_0x6487d9(0x103)]<0x4)return'****';return _0x6487d9(0xe4)+_0x5e607e[_0x6487d9(0x10e)](-0x4);}[a53_0xe3e388(0x110)](){const _0x88f773=a53_0xe3e388,_0x27178e=Date[_0x88f773(0x104)]()['toString'](),_0x1d90ff=Math[_0x88f773(0x116)](Math[_0x88f773(0xf6)]()*0x2710)[_0x88f773(0xe6)]()[_0x88f773(0xfb)](0x4,'0');return _0x88f773(0xe8)+_0x27178e+'_'+_0x1d90ff;}async[a53_0xe3e388(0xfd)](_0x5ce793){const _0x1fa8fe=a53_0xe3e388;return console[_0x1fa8fe(0x10b)](_0x1fa8fe(0xf7),_0x5ce793),{'paymentId':_0x5ce793[_0x1fa8fe(0xe7)]||'','status':_0x5ce793[_0x1fa8fe(0x111)]===_0x1fa8fe(0x115)?_0x1fa8fe(0xf9):_0x1fa8fe(0xe9),'amount':_0x5ce793[_0x1fa8fe(0x105)],'currency':_0x5ce793['currency']};}}exports[a53_0xe3e388(0xda)]=TestGatewayService;