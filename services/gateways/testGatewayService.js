'use strict';function a77_0x2d48(_0x18953a,_0x2fd187){_0x18953a=_0x18953a-0x66;const _0x41db37=a77_0x41db();let _0x2d48a3=_0x41db37[_0x18953a];return _0x2d48a3;}const a77_0x562bde=a77_0x2d48;(function(_0x4b303f,_0x579af3){const _0x1f74e2=a77_0x2d48,_0x29193b=_0x4b303f();while(!![]){try{const _0x52a17c=-parseInt(_0x1f74e2(0x90))/0x1+parseInt(_0x1f74e2(0x6b))/0x2+-parseInt(_0x1f74e2(0x9a))/0x3+-parseInt(_0x1f74e2(0x7c))/0x4+parseInt(_0x1f74e2(0x96))/0x5+-parseInt(_0x1f74e2(0x68))/0x6+parseInt(_0x1f74e2(0x8b))/0x7;if(_0x52a17c===_0x579af3)break;else _0x29193b['push'](_0x29193b['shift']());}catch(_0xd73e35){_0x29193b['push'](_0x29193b['shift']());}}}(a77_0x41db,0xd9858));function a77_0x41db(){const _0x5a1c20=['TestGatewayService','Payment\x20processed\x20successfully','PAID','defineProperty','Invalid\x20expiry\x20year','Card\x20validation\x20failed','test','processWebhook','toString','floor','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','error','CVC:','trim','Amount:','isValid','7008012XwOEbk','order_id','FAILED','expiryMonth','Transaction\x20ID:','now','replace','cvc','validateCardData','generateTransactionId','****\x20****\x20****\x20','Payment\x20ID:','****','Card\x20holder\x20name\x20is\x20required','test_','31166051PRmCZE','‚úÖ\x20Test\x20payment\x20successful','cardHolderName','expiryYear','slice','1194880LvPTAp','amount','‚ùå\x20Card\x20validation\x20failed:','***','length','success','2346840sbopvb','maskCardNumber','Card\x20number\x20must\x20be\x2016\x20digits','cardNumber','655290TLbhVp','log','SUCCESS_CARD','CVC\x20must\x20be\x203\x20or\x204\x20digits','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Expiry:','6153954maBzzR','getFullYear','Payment\x20failed','320558SYiflG'];a77_0x41db=function(){return _0x5a1c20;};return a77_0x41db();}Object[a77_0x562bde(0x6f)](exports,'__esModule',{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x1c658a=a77_0x562bde;this[_0x1c658a(0x9c)]='4242424242424242',console['log']('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x179a24){const _0x56ffbd=a77_0x562bde,{paymentId:_0x39842e,orderId:_0x595f03,amount:_0x37a77b,currency:_0x198d3a,cardData:_0x3043ce}=_0x179a24;console[_0x56ffbd(0x9b)](_0x56ffbd(0x66)),console['log'](_0x56ffbd(0x87),_0x39842e),console[_0x56ffbd(0x9b)]('Order\x20ID:',_0x595f03),console['log'](_0x56ffbd(0x7a),_0x37a77b,_0x198d3a),console[_0x56ffbd(0x9b)]('Card\x20Number:',this[_0x56ffbd(0x97)](_0x3043ce[_0x56ffbd(0x99)])),console[_0x56ffbd(0x9b)]('Card\x20Holder:',_0x3043ce[_0x56ffbd(0x8d)]),console[_0x56ffbd(0x9b)](_0x56ffbd(0x67),_0x3043ce[_0x56ffbd(0x7f)]+'/'+_0x3043ce[_0x56ffbd(0x8e)]),console[_0x56ffbd(0x9b)](_0x56ffbd(0x78),_0x56ffbd(0x93));const _0x3237e4=this[_0x56ffbd(0x84)](_0x3043ce);if(!_0x3237e4[_0x56ffbd(0x7b)])return console[_0x56ffbd(0x9b)](_0x56ffbd(0x92),_0x3237e4[_0x56ffbd(0x77)]),{'success':![],'status':'FAILED','message':_0x56ffbd(0x71),'failureReason':_0x3237e4[_0x56ffbd(0x77)]};const _0x3f0b15=_0x3043ce[_0x56ffbd(0x99)][_0x56ffbd(0x82)](/[\s-]/g,'');if(_0x3f0b15===this[_0x56ffbd(0x9c)]){const _0x5f54da=this[_0x56ffbd(0x85)]();return console[_0x56ffbd(0x9b)](_0x56ffbd(0x8c)),console[_0x56ffbd(0x9b)](_0x56ffbd(0x80),_0x5f54da),{'success':!![],'status':_0x56ffbd(0x6e),'message':_0x56ffbd(0x6d),'transactionId':_0x5f54da};}else return console[_0x56ffbd(0x9b)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':_0x56ffbd(0x6a),'failureReason':_0x56ffbd(0x76)};}['validateCardData'](_0x2bb4d6){const _0x6d533f=a77_0x562bde,_0x318390=_0x2bb4d6[_0x6d533f(0x99)][_0x6d533f(0x82)](/[\s-]/g,'');if(!/^\d{16}$/[_0x6d533f(0x72)](_0x318390))return{'isValid':![],'error':_0x6d533f(0x98)};if(!_0x2bb4d6[_0x6d533f(0x8d)]||_0x2bb4d6[_0x6d533f(0x8d)][_0x6d533f(0x79)]()[_0x6d533f(0x94)]<0x2)return{'isValid':![],'error':_0x6d533f(0x89)};const _0x327edd=parseInt(_0x2bb4d6['expiryMonth']);if(isNaN(_0x327edd)||_0x327edd<0x1||_0x327edd>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x2d3937=parseInt(_0x2bb4d6[_0x6d533f(0x8e)]),_0x2fc5af=new Date()[_0x6d533f(0x69)](),_0xc24e8e=_0x2d3937<0x32?0x7d0+_0x2d3937:0x76c+_0x2d3937;if(isNaN(_0x2d3937)||_0xc24e8e<_0x2fc5af||_0xc24e8e>_0x2fc5af+0x14)return{'isValid':![],'error':_0x6d533f(0x70)};if(!/^\d{3,4}$/['test'](_0x2bb4d6[_0x6d533f(0x83)]))return{'isValid':![],'error':_0x6d533f(0x9d)};return{'isValid':!![]};}[a77_0x562bde(0x97)](_0x35c10e){const _0x8e4db1=a77_0x562bde,_0x25201c=_0x35c10e[_0x8e4db1(0x82)](/[\s-]/g,'');if(_0x25201c[_0x8e4db1(0x94)]<0x4)return _0x8e4db1(0x88);return _0x8e4db1(0x86)+_0x25201c[_0x8e4db1(0x8f)](-0x4);}[a77_0x562bde(0x85)](){const _0x36f1b8=a77_0x562bde,_0x15af7b=Date[_0x36f1b8(0x81)]()[_0x36f1b8(0x74)](),_0x42d50f=Math[_0x36f1b8(0x75)](Math['random']()*0x2710)[_0x36f1b8(0x74)]()['padStart'](0x4,'0');return _0x36f1b8(0x8a)+_0x15af7b+'_'+_0x42d50f;}async[a77_0x562bde(0x73)](_0x43ac91){const _0x44804f=a77_0x562bde;return console[_0x44804f(0x9b)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x43ac91),{'paymentId':_0x43ac91[_0x44804f(0x7d)]||'','status':_0x43ac91['status']===_0x44804f(0x95)?_0x44804f(0x6e):_0x44804f(0x7e),'amount':_0x43ac91[_0x44804f(0x91)],'currency':_0x43ac91['currency']};}}exports[a77_0x562bde(0x6c)]=TestGatewayService;