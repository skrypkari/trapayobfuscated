'use strict';const a51_0x13c675=a51_0x330a;function a51_0x3de6(){const _0x1700bd=['19921bAIDbd','PAID','1180FFfBYi','slice','replace','amount','670rScGEn','error','‚ùå\x20Card\x20validation\x20failed:','Card\x20Number:','toString','Amount:','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','trim','112vEGEot','expiryMonth','TestGatewayService','SUCCESS_CARD','generateTransactionId','now','success','10200YUmYlW','maskCardNumber','‚úÖ\x20Test\x20payment\x20successful','Invalid\x20expiry\x20year','188824QTGPTh','__esModule','938035psqdRc','4djFsHp','81333aZsLCw','Order\x20ID:','Card\x20holder\x20name\x20is\x20required','isValid','floor','Transaction\x20ID:','validateCardData','****\x20****\x20****\x20','cvc','length','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','4242424242424242','Expiry:','currency','Card\x20number\x20must\x20be\x2016\x20digits','cardHolderName','CVC\x20must\x20be\x203\x20or\x204\x20digits','cardNumber','processCardPayment','Payment\x20processed\x20successfully','expiryYear','üß™\x20Test\x20Gateway\x20service\x20initialized','test','log','processWebhook','6wVVlPL','status','order_id','2314qqHqtc','****','Card\x20validation\x20failed','550796xVpkYM','9870UndDIM','***'];a51_0x3de6=function(){return _0x1700bd;};return a51_0x3de6();}function a51_0x330a(_0x35bf76,_0x344bd2){const _0x3de651=a51_0x3de6();return a51_0x330a=function(_0x330a1d,_0x28baed){_0x330a1d=_0x330a1d-0x1ea;let _0xb28a55=_0x3de651[_0x330a1d];return _0xb28a55;},a51_0x330a(_0x35bf76,_0x344bd2);}(function(_0x4684d4,_0x4e18cf){const _0x202aa3=a51_0x330a,_0x716f58=_0x4684d4();while(!![]){try{const _0x91a4af=parseInt(_0x202aa3(0x1ef))/0x1*(-parseInt(_0x202aa3(0x1ec))/0x2)+-parseInt(_0x202aa3(0x209))/0x3*(-parseInt(_0x202aa3(0x20f))/0x4)+-parseInt(_0x202aa3(0x218))/0x5*(parseInt(_0x202aa3(0x210))/0x6)+parseInt(_0x202aa3(0x1ee))/0x7+-parseInt(_0x202aa3(0x220))/0x8*(-parseInt(_0x202aa3(0x1f0))/0x9)+parseInt(_0x202aa3(0x214))/0xa*(parseInt(_0x202aa3(0x212))/0xb)+-parseInt(_0x202aa3(0x227))/0xc*(-parseInt(_0x202aa3(0x20c))/0xd);if(_0x91a4af===_0x4e18cf)break;else _0x716f58['push'](_0x716f58['shift']());}catch(_0x3addef){_0x716f58['push'](_0x716f58['shift']());}}}(a51_0x3de6,0x49ef9));Object['defineProperty'](exports,a51_0x13c675(0x1ed),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x3859ae=a51_0x13c675;this['SUCCESS_CARD']=_0x3859ae(0x1fb),console[_0x3859ae(0x207)](_0x3859ae(0x205));}async[a51_0x13c675(0x202)](_0x5642f1){const _0x3704c1=a51_0x13c675,{paymentId:_0x1f6245,orderId:_0x3cb0a4,amount:_0x5939de,currency:_0x2bb7dd,cardData:_0x38d2ae}=_0x5642f1;console[_0x3704c1(0x207)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x3704c1(0x207)]('Payment\x20ID:',_0x1f6245),console[_0x3704c1(0x207)](_0x3704c1(0x1f1),_0x3cb0a4),console[_0x3704c1(0x207)](_0x3704c1(0x21d),_0x5939de,_0x2bb7dd),console['log'](_0x3704c1(0x21b),this['maskCardNumber'](_0x38d2ae['cardNumber'])),console['log']('Card\x20Holder:',_0x38d2ae[_0x3704c1(0x1ff)]),console['log'](_0x3704c1(0x1fc),_0x38d2ae[_0x3704c1(0x221)]+'/'+_0x38d2ae[_0x3704c1(0x204)]),console[_0x3704c1(0x207)]('CVC:',_0x3704c1(0x211));const _0x7b2e7c=this['validateCardData'](_0x38d2ae);if(!_0x7b2e7c[_0x3704c1(0x1f3)])return console[_0x3704c1(0x207)](_0x3704c1(0x21a),_0x7b2e7c[_0x3704c1(0x219)]),{'success':![],'status':'FAILED','message':_0x3704c1(0x20e),'failureReason':_0x7b2e7c['error']};const _0x57b786=_0x38d2ae['cardNumber'][_0x3704c1(0x216)](/[\s-]/g,'');if(_0x57b786===this[_0x3704c1(0x223)]){const _0x177778=this[_0x3704c1(0x224)]();return console[_0x3704c1(0x207)](_0x3704c1(0x1ea)),console['log'](_0x3704c1(0x1f5),_0x177778),{'success':!![],'status':_0x3704c1(0x213),'message':_0x3704c1(0x203),'transactionId':_0x177778};}else return console[_0x3704c1(0x207)](_0x3704c1(0x21e)),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a51_0x13c675(0x1f6)](_0xed18e6){const _0x4684e0=a51_0x13c675,_0x2e6a9e=_0xed18e6[_0x4684e0(0x201)][_0x4684e0(0x216)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x2e6a9e))return{'isValid':![],'error':_0x4684e0(0x1fe)};if(!_0xed18e6[_0x4684e0(0x1ff)]||_0xed18e6[_0x4684e0(0x1ff)][_0x4684e0(0x21f)]()[_0x4684e0(0x1f9)]<0x2)return{'isValid':![],'error':_0x4684e0(0x1f2)};const _0x3d7a30=parseInt(_0xed18e6[_0x4684e0(0x221)]);if(isNaN(_0x3d7a30)||_0x3d7a30<0x1||_0x3d7a30>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x5517ba=parseInt(_0xed18e6['expiryYear']),_0x237b69=new Date()['getFullYear'](),_0x25062f=_0x5517ba<0x32?0x7d0+_0x5517ba:0x76c+_0x5517ba;if(isNaN(_0x5517ba)||_0x25062f<_0x237b69||_0x25062f>_0x237b69+0x14)return{'isValid':![],'error':_0x4684e0(0x1eb)};if(!/^\d{3,4}$/[_0x4684e0(0x206)](_0xed18e6[_0x4684e0(0x1f8)]))return{'isValid':![],'error':_0x4684e0(0x200)};return{'isValid':!![]};}[a51_0x13c675(0x228)](_0x43009d){const _0x28d6db=a51_0x13c675,_0x52152c=_0x43009d['replace'](/[\s-]/g,'');if(_0x52152c[_0x28d6db(0x1f9)]<0x4)return _0x28d6db(0x20d);return _0x28d6db(0x1f7)+_0x52152c[_0x28d6db(0x215)](-0x4);}['generateTransactionId'](){const _0x54aebc=a51_0x13c675,_0x3827b8=Date[_0x54aebc(0x225)]()[_0x54aebc(0x21c)](),_0x38d412=Math[_0x54aebc(0x1f4)](Math['random']()*0x2710)[_0x54aebc(0x21c)]()['padStart'](0x4,'0');return'test_'+_0x3827b8+'_'+_0x38d412;}async[a51_0x13c675(0x208)](_0x244cde){const _0x26847e=a51_0x13c675;return console['log'](_0x26847e(0x1fa),_0x244cde),{'paymentId':_0x244cde[_0x26847e(0x20b)]||'','status':_0x244cde[_0x26847e(0x20a)]===_0x26847e(0x226)?_0x26847e(0x213):'FAILED','amount':_0x244cde[_0x26847e(0x217)],'currency':_0x244cde[_0x26847e(0x1fd)]};}}exports[a51_0x13c675(0x222)]=TestGatewayService;