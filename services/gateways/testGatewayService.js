'use strict';function a46_0x2726(_0x2ae5d5,_0x26bc9e){const _0x4f1b79=a46_0x4f1b();return a46_0x2726=function(_0x272698,_0x31c95c){_0x272698=_0x272698-0xd6;let _0x79004=_0x4f1b79[_0x272698];return _0x79004;},a46_0x2726(_0x2ae5d5,_0x26bc9e);}const a46_0x4b7fd0=a46_0x2726;(function(_0x520fe8,_0xa71626){const _0x527997=a46_0x2726,_0x9cebd=_0x520fe8();while(!![]){try{const _0x30bb25=-parseInt(_0x527997(0xe7))/0x1*(-parseInt(_0x527997(0xee))/0x2)+parseInt(_0x527997(0x10a))/0x3+-parseInt(_0x527997(0xfc))/0x4+parseInt(_0x527997(0x110))/0x5+-parseInt(_0x527997(0xdc))/0x6*(-parseInt(_0x527997(0xdb))/0x7)+-parseInt(_0x527997(0x102))/0x8*(-parseInt(_0x527997(0xec))/0x9)+-parseInt(_0x527997(0x104))/0xa*(parseInt(_0x527997(0xf4))/0xb);if(_0x30bb25===_0xa71626)break;else _0x9cebd['push'](_0x9cebd['shift']());}catch(_0x3632ef){_0x9cebd['push'](_0x9cebd['shift']());}}}(a46_0x4f1b,0xbc0f8));Object[a46_0x4b7fd0(0x108)](exports,'__esModule',{'value':!![]}),exports[a46_0x4b7fd0(0x111)]=void 0x0;function a46_0x4f1b(){const _0x1224d3=['===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','now','Card\x20validation\x20failed','Card\x20Number:','Order\x20ID:','FAILED','cvc','Expiry:','Payment\x20failed','status','1qRsCZp','generateTransactionId','****','4242424242424242','Transaction\x20ID:','369fhtrgg','toString','1220904FJYkIB','log','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','validateCardData','isValid','length','3155086AityPw','random','test','Amount:','expiryYear','SUCCESS_CARD','expiryMonth','slice','6140464zVDVcM','CVC\x20must\x20be\x203\x20or\x204\x20digits','‚úÖ\x20Test\x20payment\x20successful','maskCardNumber','order_id','Payment\x20processed\x20successfully','266648YIEEDP','padStart','50UKDsxp','‚ùå\x20Card\x20validation\x20failed:','replace','Invalid\x20expiry\x20year','defineProperty','PAID','2741646rBUTZS','floor','cardHolderName','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','processWebhook','getFullYear','849830pwCeMA','TestGatewayService','Card\x20holder\x20name\x20is\x20required','success','cardNumber','Card\x20number\x20must\x20be\x2016\x20digits','Card\x20Holder:','4750697FXVyQy','6qSthEG'];a46_0x4f1b=function(){return _0x1224d3;};return a46_0x4f1b();}class TestGatewayService{constructor(){const _0x2252d5=a46_0x4b7fd0;this[_0x2252d5(0xf9)]=_0x2252d5(0xea),console['log']('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x4c6686){const _0xc45400=a46_0x4b7fd0,{paymentId:_0x26a2f8,orderId:_0x16b539,amount:_0x58f4f2,currency:_0x2bcb13,cardData:_0x20fa25}=_0x4c6686;console[_0xc45400(0xef)](_0xc45400(0xdd)),console['log']('Payment\x20ID:',_0x26a2f8),console[_0xc45400(0xef)](_0xc45400(0xe1),_0x16b539),console['log'](_0xc45400(0xf7),_0x58f4f2,_0x2bcb13),console[_0xc45400(0xef)](_0xc45400(0xe0),this['maskCardNumber'](_0x20fa25[_0xc45400(0xd8)])),console[_0xc45400(0xef)](_0xc45400(0xda),_0x20fa25[_0xc45400(0x10c)]),console[_0xc45400(0xef)](_0xc45400(0xe4),_0x20fa25['expiryMonth']+'/'+_0x20fa25[_0xc45400(0xf8)]),console[_0xc45400(0xef)]('CVC:','***');const _0x5940e8=this['validateCardData'](_0x20fa25);if(!_0x5940e8[_0xc45400(0xf2)])return console['log'](_0xc45400(0x105),_0x5940e8['error']),{'success':![],'status':_0xc45400(0xe2),'message':_0xc45400(0xdf),'failureReason':_0x5940e8['error']};const _0xeb05f5=_0x20fa25[_0xc45400(0xd8)][_0xc45400(0x106)](/[\s-]/g,'');if(_0xeb05f5===this[_0xc45400(0xf9)]){const _0x421c74=this[_0xc45400(0xe8)]();return console[_0xc45400(0xef)](_0xc45400(0xfe)),console['log'](_0xc45400(0xeb),_0x421c74),{'success':!![],'status':_0xc45400(0x109),'message':_0xc45400(0x101),'transactionId':_0x421c74};}else return console[_0xc45400(0xef)](_0xc45400(0x10d)),{'success':![],'status':_0xc45400(0xe2),'message':_0xc45400(0xe5),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a46_0x4b7fd0(0xf1)](_0x3b0056){const _0xb53fe2=a46_0x4b7fd0,_0xf36f10=_0x3b0056['cardNumber']['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0xb53fe2(0xf6)](_0xf36f10))return{'isValid':![],'error':_0xb53fe2(0xd9)};if(!_0x3b0056[_0xb53fe2(0x10c)]||_0x3b0056[_0xb53fe2(0x10c)]['trim']()[_0xb53fe2(0xf3)]<0x2)return{'isValid':![],'error':_0xb53fe2(0xd6)};const _0x21026d=parseInt(_0x3b0056[_0xb53fe2(0xfa)]);if(isNaN(_0x21026d)||_0x21026d<0x1||_0x21026d>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x30018a=parseInt(_0x3b0056['expiryYear']),_0xcbc0f0=new Date()[_0xb53fe2(0x10f)](),_0x5c116e=_0x30018a<0x32?0x7d0+_0x30018a:0x76c+_0x30018a;if(isNaN(_0x30018a)||_0x5c116e<_0xcbc0f0||_0x5c116e>_0xcbc0f0+0x14)return{'isValid':![],'error':_0xb53fe2(0x107)};if(!/^\d{3,4}$/['test'](_0x3b0056[_0xb53fe2(0xe3)]))return{'isValid':![],'error':_0xb53fe2(0xfd)};return{'isValid':!![]};}[a46_0x4b7fd0(0xff)](_0x4dc7f3){const _0x3c5fb6=a46_0x4b7fd0,_0x2cf262=_0x4dc7f3[_0x3c5fb6(0x106)](/[\s-]/g,'');if(_0x2cf262[_0x3c5fb6(0xf3)]<0x4)return _0x3c5fb6(0xe9);return'****\x20****\x20****\x20'+_0x2cf262[_0x3c5fb6(0xfb)](-0x4);}[a46_0x4b7fd0(0xe8)](){const _0x4f26c0=a46_0x4b7fd0,_0x476817=Date[_0x4f26c0(0xde)]()[_0x4f26c0(0xed)](),_0x127377=Math[_0x4f26c0(0x10b)](Math[_0x4f26c0(0xf5)]()*0x2710)['toString']()[_0x4f26c0(0x103)](0x4,'0');return'test_'+_0x476817+'_'+_0x127377;}async[a46_0x4b7fd0(0x10e)](_0x4edbc0){const _0x1f334e=a46_0x4b7fd0;return console[_0x1f334e(0xef)](_0x1f334e(0xf0),_0x4edbc0),{'paymentId':_0x4edbc0[_0x1f334e(0x100)]||'','status':_0x4edbc0[_0x1f334e(0xe6)]===_0x1f334e(0xd7)?_0x1f334e(0x109):_0x1f334e(0xe2),'amount':_0x4edbc0['amount'],'currency':_0x4edbc0['currency']};}}exports['TestGatewayService']=TestGatewayService;