'use strict';const a51_0x2f6db6=a51_0x5ed3;function a51_0x348d(){const _0x37ac57=['TestGatewayService','maskCardNumber','padStart','toString','Payment\x20processed\x20successfully','CVC\x20must\x20be\x203\x20or\x204\x20digits','FAILED','305328iKwSjY','9924YbVSlr','1507eJSmxz','SUCCESS_CARD','generateTransactionId','Payment\x20ID:','4242424242424242','16322zueaRe','log','success','Order\x20ID:','validateCardData','Card\x20validation\x20failed','Amount:','Card\x20holder\x20name\x20is\x20required','‚ùå\x20Card\x20validation\x20failed:','17SUHJbY','trim','order_id','PAID','60kKBLtc','__esModule','slice','Card\x20number\x20must\x20be\x2016\x20digits','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','****','286470spUaLQ','Card\x20Holder:','replace','9fFAhcd','defineProperty','expiryMonth','Card\x20Number:','test_','Payment\x20failed','Transaction\x20ID:','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','now','28146vyluay','üß™\x20Test\x20Gateway\x20service\x20initialized','getFullYear','cardHolderName','***','1585605bthXtO','status','cardNumber','8HxTNiF','Invalid\x20expiry\x20month','expiryYear','isValid','amount','‚úÖ\x20Test\x20payment\x20successful','****\x20****\x20****\x20','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Expiry:','random','test','434628enGnIz','length'];a51_0x348d=function(){return _0x37ac57;};return a51_0x348d();}(function(_0x2d3771,_0x2c976c){const _0x1200b5=a51_0x5ed3,_0x132959=_0x2d3771();while(!![]){try{const _0x530d59=parseInt(_0x1200b5(0x16e))/0x1*(parseInt(_0x1200b5(0x165))/0x2)+-parseInt(_0x1200b5(0x198))/0x3+-parseInt(_0x1200b5(0x15e))/0x4+parseInt(_0x1200b5(0x172))/0x5*(parseInt(_0x1200b5(0x185))/0x6)+parseInt(_0x1200b5(0x18a))/0x7*(parseInt(_0x1200b5(0x18d))/0x8)+parseInt(_0x1200b5(0x17b))/0x9*(parseInt(_0x1200b5(0x178))/0xa)+parseInt(_0x1200b5(0x160))/0xb*(-parseInt(_0x1200b5(0x15f))/0xc);if(_0x530d59===_0x2c976c)break;else _0x132959['push'](_0x132959['shift']());}catch(_0x56b308){_0x132959['push'](_0x132959['shift']());}}}(a51_0x348d,0x1c3e4));function a51_0x5ed3(_0x349b45,_0x2734c1){const _0x348ddc=a51_0x348d();return a51_0x5ed3=function(_0x5ed365,_0x537e16){_0x5ed365=_0x5ed365-0x15b;let _0x373c69=_0x348ddc[_0x5ed365];return _0x373c69;},a51_0x5ed3(_0x349b45,_0x2734c1);}Object[a51_0x2f6db6(0x17c)](exports,a51_0x2f6db6(0x173),{'value':!![]}),exports[a51_0x2f6db6(0x19a)]=void 0x0;class TestGatewayService{constructor(){const _0x177097=a51_0x2f6db6;this[_0x177097(0x161)]=_0x177097(0x164),console[_0x177097(0x166)](_0x177097(0x186));}async['processCardPayment'](_0x1e2557){const _0x482d7b=a51_0x2f6db6,{paymentId:_0x48a4a4,orderId:_0x4dc53d,amount:_0x4d00a1,currency:_0x333561,cardData:_0x4a5d75}=_0x1e2557;console[_0x482d7b(0x166)](_0x482d7b(0x183)),console[_0x482d7b(0x166)](_0x482d7b(0x163),_0x48a4a4),console[_0x482d7b(0x166)](_0x482d7b(0x168),_0x4dc53d),console[_0x482d7b(0x166)](_0x482d7b(0x16b),_0x4d00a1,_0x333561),console[_0x482d7b(0x166)](_0x482d7b(0x17e),this[_0x482d7b(0x19b)](_0x4a5d75[_0x482d7b(0x18c)])),console[_0x482d7b(0x166)](_0x482d7b(0x179),_0x4a5d75[_0x482d7b(0x188)]),console[_0x482d7b(0x166)](_0x482d7b(0x195),_0x4a5d75[_0x482d7b(0x17d)]+'/'+_0x4a5d75[_0x482d7b(0x18f)]),console['log']('CVC:',_0x482d7b(0x189));const _0x252c3a=this[_0x482d7b(0x169)](_0x4a5d75);if(!_0x252c3a[_0x482d7b(0x190)])return console['log'](_0x482d7b(0x16d),_0x252c3a['error']),{'success':![],'status':_0x482d7b(0x15d),'message':_0x482d7b(0x16a),'failureReason':_0x252c3a['error']};const _0x118715=_0x4a5d75[_0x482d7b(0x18c)][_0x482d7b(0x17a)](/[\s-]/g,'');if(_0x118715===this[_0x482d7b(0x161)]){const _0xc35d9a=this[_0x482d7b(0x162)]();return console[_0x482d7b(0x166)](_0x482d7b(0x192)),console[_0x482d7b(0x166)](_0x482d7b(0x181),_0xc35d9a),{'success':!![],'status':_0x482d7b(0x171),'message':_0x482d7b(0x15b),'transactionId':_0xc35d9a};}else return console[_0x482d7b(0x166)](_0x482d7b(0x182)),{'success':![],'status':'FAILED','message':_0x482d7b(0x180),'failureReason':_0x482d7b(0x176)};}['validateCardData'](_0x40f3de){const _0x23683=a51_0x2f6db6,_0x1651e5=_0x40f3de[_0x23683(0x18c)][_0x23683(0x17a)](/[\s-]/g,'');if(!/^\d{16}$/[_0x23683(0x197)](_0x1651e5))return{'isValid':![],'error':_0x23683(0x175)};if(!_0x40f3de[_0x23683(0x188)]||_0x40f3de[_0x23683(0x188)][_0x23683(0x16f)]()[_0x23683(0x199)]<0x2)return{'isValid':![],'error':_0x23683(0x16c)};const _0x255c6f=parseInt(_0x40f3de[_0x23683(0x17d)]);if(isNaN(_0x255c6f)||_0x255c6f<0x1||_0x255c6f>0xc)return{'isValid':![],'error':_0x23683(0x18e)};const _0x568935=parseInt(_0x40f3de[_0x23683(0x18f)]),_0x494a48=new Date()[_0x23683(0x187)](),_0x1cb886=_0x568935<0x32?0x7d0+_0x568935:0x76c+_0x568935;if(isNaN(_0x568935)||_0x1cb886<_0x494a48||_0x1cb886>_0x494a48+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x23683(0x197)](_0x40f3de['cvc']))return{'isValid':![],'error':_0x23683(0x15c)};return{'isValid':!![]};}[a51_0x2f6db6(0x19b)](_0x2322c1){const _0x2466cd=a51_0x2f6db6,_0x30ed65=_0x2322c1[_0x2466cd(0x17a)](/[\s-]/g,'');if(_0x30ed65['length']<0x4)return _0x2466cd(0x177);return _0x2466cd(0x193)+_0x30ed65[_0x2466cd(0x174)](-0x4);}[a51_0x2f6db6(0x162)](){const _0x408393=a51_0x2f6db6,_0x7f2041=Date[_0x408393(0x184)]()[_0x408393(0x19d)](),_0x3c84f5=Math['floor'](Math[_0x408393(0x196)]()*0x2710)[_0x408393(0x19d)]()[_0x408393(0x19c)](0x4,'0');return _0x408393(0x17f)+_0x7f2041+'_'+_0x3c84f5;}async['processWebhook'](_0x477d8e){const _0x3e2ae8=a51_0x2f6db6;return console[_0x3e2ae8(0x166)](_0x3e2ae8(0x194),_0x477d8e),{'paymentId':_0x477d8e[_0x3e2ae8(0x170)]||'','status':_0x477d8e[_0x3e2ae8(0x18b)]===_0x3e2ae8(0x167)?'PAID':_0x3e2ae8(0x15d),'amount':_0x477d8e[_0x3e2ae8(0x191)],'currency':_0x477d8e['currency']};}}exports[a51_0x2f6db6(0x19a)]=TestGatewayService;