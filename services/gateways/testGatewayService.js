'use strict';function a57_0x20f0(){const _0x5c07f9=['processCardPayment','üß™\x20Test\x20Gateway\x20service\x20initialized','cvc','now','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','processWebhook','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','979948ptIfMl','Card\x20Holder:','Card\x20validation\x20failed','‚ùå\x20Card\x20validation\x20failed:','replace','defineProperty','****','error','327917VLYeuX','30xYUAro','FAILED','819594wjygAH','test','PAID','3hHAqTY','Payment\x20failed','3124496RNPeGW','Card\x20Number:','generateTransactionId','2777590DrBPqe','getFullYear','cardNumber','log','padStart','amount','expiryYear','Card\x20number\x20must\x20be\x2016\x20digits','SUCCESS_CARD','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','****\x20****\x20****\x20','Amount:','681324wrgCuS','Order\x20ID:','currency','34458NderXT','Payment\x20processed\x20successfully','4242424242424242','length','floor','TestGatewayService','CVC:','cardHolderName','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','expiryMonth','Payment\x20ID:','2feVZKj','slice','test_','Transaction\x20ID:','Invalid\x20expiry\x20year','__esModule','validateCardData','***','random','toString'];a57_0x20f0=function(){return _0x5c07f9;};return a57_0x20f0();}const a57_0x130fd8=a57_0x53a6;(function(_0xca24e6,_0x184fba){const _0x4067a2=a57_0x53a6,_0x5a05cf=_0xca24e6();while(!![]){try{const _0x9e661d=-parseInt(_0x4067a2(0x1e9))/0x1*(-parseInt(_0x4067a2(0x20e))/0x2)+parseInt(_0x4067a2(0x1ef))/0x3*(-parseInt(_0x4067a2(0x1e1))/0x4)+-parseInt(_0x4067a2(0x1ea))/0x5*(-parseInt(_0x4067a2(0x203))/0x6)+-parseInt(_0x4067a2(0x200))/0x7+parseInt(_0x4067a2(0x1f1))/0x8+parseInt(_0x4067a2(0x1ec))/0x9+-parseInt(_0x4067a2(0x1f4))/0xa;if(_0x9e661d===_0x184fba)break;else _0x5a05cf['push'](_0x5a05cf['shift']());}catch(_0x4860bf){_0x5a05cf['push'](_0x5a05cf['shift']());}}}(a57_0x20f0,0x36ab5));function a57_0x53a6(_0x25a354,_0x220b19){const _0x20f0f7=a57_0x20f0();return a57_0x53a6=function(_0x53a61c,_0x8cfa6a){_0x53a61c=_0x53a61c-0x1e0;let _0x2561e1=_0x20f0f7[_0x53a61c];return _0x2561e1;},a57_0x53a6(_0x25a354,_0x220b19);}Object[a57_0x130fd8(0x1e6)](exports,a57_0x130fd8(0x213),{'value':!![]}),exports[a57_0x130fd8(0x208)]=void 0x0;class TestGatewayService{constructor(){const _0x2eed43=a57_0x130fd8;this[_0x2eed43(0x1fc)]=_0x2eed43(0x205),console['log'](_0x2eed43(0x219));}async[a57_0x130fd8(0x218)](_0x1c27b9){const _0x2e8d78=a57_0x130fd8,{paymentId:_0x405f63,orderId:_0x34fc94,amount:_0x3b274c,currency:_0x328a1c,cardData:_0x8ea8e6}=_0x1c27b9;console[_0x2e8d78(0x1f7)](_0x2e8d78(0x1fd)),console[_0x2e8d78(0x1f7)](_0x2e8d78(0x20d),_0x405f63),console[_0x2e8d78(0x1f7)](_0x2e8d78(0x201),_0x34fc94),console[_0x2e8d78(0x1f7)](_0x2e8d78(0x1ff),_0x3b274c,_0x328a1c),console['log'](_0x2e8d78(0x1f2),this['maskCardNumber'](_0x8ea8e6['cardNumber'])),console[_0x2e8d78(0x1f7)](_0x2e8d78(0x1e2),_0x8ea8e6[_0x2e8d78(0x20a)]),console[_0x2e8d78(0x1f7)]('Expiry:',_0x8ea8e6[_0x2e8d78(0x20c)]+'/'+_0x8ea8e6['expiryYear']),console[_0x2e8d78(0x1f7)](_0x2e8d78(0x209),_0x2e8d78(0x215));const _0x497050=this[_0x2e8d78(0x214)](_0x8ea8e6);if(!_0x497050['isValid'])return console[_0x2e8d78(0x1f7)](_0x2e8d78(0x1e4),_0x497050[_0x2e8d78(0x1e8)]),{'success':![],'status':_0x2e8d78(0x1eb),'message':_0x2e8d78(0x1e3),'failureReason':_0x497050[_0x2e8d78(0x1e8)]};const _0xa7abf3=_0x8ea8e6['cardNumber'][_0x2e8d78(0x1e5)](/[\s-]/g,'');if(_0xa7abf3===this['SUCCESS_CARD']){const _0x3c7fcf=this[_0x2e8d78(0x1f3)]();return console[_0x2e8d78(0x1f7)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x2e8d78(0x1f7)](_0x2e8d78(0x211),_0x3c7fcf),{'success':!![],'status':_0x2e8d78(0x1ee),'message':_0x2e8d78(0x204),'transactionId':_0x3c7fcf};}else return console['log'](_0x2e8d78(0x20b)),{'success':![],'status':_0x2e8d78(0x1eb),'message':_0x2e8d78(0x1f0),'failureReason':_0x2e8d78(0x1e0)};}['validateCardData'](_0x4d44d1){const _0xc35d48=a57_0x130fd8,_0x3e31f5=_0x4d44d1[_0xc35d48(0x1f6)][_0xc35d48(0x1e5)](/[\s-]/g,'');if(!/^\d{16}$/[_0xc35d48(0x1ed)](_0x3e31f5))return{'isValid':![],'error':_0xc35d48(0x1fb)};if(!_0x4d44d1[_0xc35d48(0x20a)]||_0x4d44d1[_0xc35d48(0x20a)]['trim']()[_0xc35d48(0x206)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x1710ca=parseInt(_0x4d44d1['expiryMonth']);if(isNaN(_0x1710ca)||_0x1710ca<0x1||_0x1710ca>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x4c9761=parseInt(_0x4d44d1[_0xc35d48(0x1fa)]),_0x4f0e0a=new Date()[_0xc35d48(0x1f5)](),_0x1789ad=_0x4c9761<0x32?0x7d0+_0x4c9761:0x76c+_0x4c9761;if(isNaN(_0x4c9761)||_0x1789ad<_0x4f0e0a||_0x1789ad>_0x4f0e0a+0x14)return{'isValid':![],'error':_0xc35d48(0x212)};if(!/^\d{3,4}$/[_0xc35d48(0x1ed)](_0x4d44d1[_0xc35d48(0x21a)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x4c6cd5){const _0x504487=a57_0x130fd8,_0x37877a=_0x4c6cd5[_0x504487(0x1e5)](/[\s-]/g,'');if(_0x37877a[_0x504487(0x206)]<0x4)return _0x504487(0x1e7);return _0x504487(0x1fe)+_0x37877a[_0x504487(0x20f)](-0x4);}[a57_0x130fd8(0x1f3)](){const _0x2555e0=a57_0x130fd8,_0x45d0e9=Date[_0x2555e0(0x21b)]()[_0x2555e0(0x217)](),_0x4793b7=Math[_0x2555e0(0x207)](Math[_0x2555e0(0x216)]()*0x2710)[_0x2555e0(0x217)]()[_0x2555e0(0x1f8)](0x4,'0');return _0x2555e0(0x210)+_0x45d0e9+'_'+_0x4793b7;}async[a57_0x130fd8(0x21d)](_0x219ea9){const _0x440f34=a57_0x130fd8;return console[_0x440f34(0x1f7)](_0x440f34(0x21c),_0x219ea9),{'paymentId':_0x219ea9['order_id']||'','status':_0x219ea9['status']==='success'?_0x440f34(0x1ee):_0x440f34(0x1eb),'amount':_0x219ea9[_0x440f34(0x1f9)],'currency':_0x219ea9[_0x440f34(0x202)]};}}exports[a57_0x130fd8(0x208)]=TestGatewayService;