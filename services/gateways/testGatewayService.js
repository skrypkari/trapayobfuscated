'use strict';const a77_0x4fd7b5=a77_0x28fc;function a77_0x51e9(){const _0x5642c7=['***','Card\x20Number:','length','status','random','error','Card\x20validation\x20failed','padStart','8840792GHuMBu','597538pbEsyi','CVC\x20must\x20be\x203\x20or\x204\x20digits','trim','****\x20****\x20****\x20','Amount:','SUCCESS_CARD','Card\x20Holder:','now','Invalid\x20expiry\x20year','4242424242424242','1898141gvnkJC','48068GEPUVO','replace','425999ubhLvw','cardHolderName','__esModule','floor','log','Card\x20number\x20must\x20be\x2016\x20digits','generateTransactionId','expiryMonth','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','176043CVTHEd','FAILED','üß™\x20Test\x20Gateway\x20service\x20initialized','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Card\x20holder\x20name\x20is\x20required','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','expiryYear','Payment\x20processed\x20successfully','slice','Expiry:','maskCardNumber','test','success','isValid','Transaction\x20ID:','defineProperty','747678VSRmYJ','TestGatewayService','****','cardNumber','cvc','PAID','toString','Payment\x20ID:','25bWlubV','validateCardData','currency','Invalid\x20expiry\x20month'];a77_0x51e9=function(){return _0x5642c7;};return a77_0x51e9();}(function(_0x17baf1,_0x347fc4){const _0x42d60c=a77_0x28fc,_0x333873=_0x17baf1();while(!![]){try{const _0x4d5bf0=-parseInt(_0x42d60c(0xb1))/0x1+-parseInt(_0x42d60c(0xa4))/0x2+parseInt(_0x42d60c(0xba))/0x3+-parseInt(_0x42d60c(0xaf))/0x4*(parseInt(_0x42d60c(0x97))/0x5)+parseInt(_0x42d60c(0x8f))/0x6+-parseInt(_0x42d60c(0xae))/0x7+parseInt(_0x42d60c(0xa3))/0x8;if(_0x4d5bf0===_0x347fc4)break;else _0x333873['push'](_0x333873['shift']());}catch(_0x5010db){_0x333873['push'](_0x333873['shift']());}}}(a77_0x51e9,0x38bb9));Object[a77_0x4fd7b5(0x8e)](exports,a77_0x4fd7b5(0xb3),{'value':!![]}),exports[a77_0x4fd7b5(0x90)]=void 0x0;function a77_0x28fc(_0x4a93ab,_0x2316fe){_0x4a93ab=_0x4a93ab-0x87;const _0x51e9f0=a77_0x51e9();let _0x28fc3d=_0x51e9f0[_0x4a93ab];return _0x28fc3d;}class TestGatewayService{constructor(){const _0x32330d=a77_0x4fd7b5;this[_0x32330d(0xa9)]=_0x32330d(0xad),console['log'](_0x32330d(0xbc));}async['processCardPayment'](_0x7748ac){const _0x48a5b2=a77_0x4fd7b5,{paymentId:_0x5716ae,orderId:_0x3ff16d,amount:_0xe35f3c,currency:_0xea409e,cardData:_0x1ca093}=_0x7748ac;console[_0x48a5b2(0xb5)](_0x48a5b2(0xbe)),console[_0x48a5b2(0xb5)](_0x48a5b2(0x96),_0x5716ae),console['log']('Order\x20ID:',_0x3ff16d),console[_0x48a5b2(0xb5)](_0x48a5b2(0xa8),_0xe35f3c,_0xea409e),console['log'](_0x48a5b2(0x9c),this[_0x48a5b2(0x89)](_0x1ca093[_0x48a5b2(0x92)])),console[_0x48a5b2(0xb5)](_0x48a5b2(0xaa),_0x1ca093[_0x48a5b2(0xb2)]),console['log'](_0x48a5b2(0x88),_0x1ca093[_0x48a5b2(0xb8)]+'/'+_0x1ca093[_0x48a5b2(0xc1)]),console[_0x48a5b2(0xb5)]('CVC:',_0x48a5b2(0x9b));const _0x5944ce=this[_0x48a5b2(0x98)](_0x1ca093);if(!_0x5944ce[_0x48a5b2(0x8c)])return console[_0x48a5b2(0xb5)]('‚ùå\x20Card\x20validation\x20failed:',_0x5944ce[_0x48a5b2(0xa0)]),{'success':![],'status':_0x48a5b2(0xbb),'message':_0x48a5b2(0xa1),'failureReason':_0x5944ce[_0x48a5b2(0xa0)]};const _0x983b46=_0x1ca093[_0x48a5b2(0x92)][_0x48a5b2(0xb0)](/[\s-]/g,'');if(_0x983b46===this[_0x48a5b2(0xa9)]){const _0x1dfa66=this[_0x48a5b2(0xb7)]();return console[_0x48a5b2(0xb5)]('‚úÖ\x20Test\x20payment\x20successful'),console['log'](_0x48a5b2(0x8d),_0x1dfa66),{'success':!![],'status':_0x48a5b2(0x94),'message':_0x48a5b2(0xc2),'transactionId':_0x1dfa66};}else return console[_0x48a5b2(0xb5)](_0x48a5b2(0xb9)),{'success':![],'status':_0x48a5b2(0xbb),'message':'Payment\x20failed','failureReason':_0x48a5b2(0xc0)};}['validateCardData'](_0x4a08d1){const _0x5243b7=a77_0x4fd7b5,_0x1e4123=_0x4a08d1[_0x5243b7(0x92)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x5243b7(0x8a)](_0x1e4123))return{'isValid':![],'error':_0x5243b7(0xb6)};if(!_0x4a08d1[_0x5243b7(0xb2)]||_0x4a08d1[_0x5243b7(0xb2)][_0x5243b7(0xa6)]()['length']<0x2)return{'isValid':![],'error':_0x5243b7(0xbf)};const _0x3bfe0a=parseInt(_0x4a08d1[_0x5243b7(0xb8)]);if(isNaN(_0x3bfe0a)||_0x3bfe0a<0x1||_0x3bfe0a>0xc)return{'isValid':![],'error':_0x5243b7(0x9a)};const _0x5c321e=parseInt(_0x4a08d1['expiryYear']),_0x59b7bb=new Date()['getFullYear'](),_0xfad148=_0x5c321e<0x32?0x7d0+_0x5c321e:0x76c+_0x5c321e;if(isNaN(_0x5c321e)||_0xfad148<_0x59b7bb||_0xfad148>_0x59b7bb+0x14)return{'isValid':![],'error':_0x5243b7(0xac)};if(!/^\d{3,4}$/['test'](_0x4a08d1[_0x5243b7(0x93)]))return{'isValid':![],'error':_0x5243b7(0xa5)};return{'isValid':!![]};}[a77_0x4fd7b5(0x89)](_0x2fc61b){const _0x5ea602=a77_0x4fd7b5,_0x2323aa=_0x2fc61b[_0x5ea602(0xb0)](/[\s-]/g,'');if(_0x2323aa[_0x5ea602(0x9d)]<0x4)return _0x5ea602(0x91);return _0x5ea602(0xa7)+_0x2323aa[_0x5ea602(0x87)](-0x4);}[a77_0x4fd7b5(0xb7)](){const _0x1a74c2=a77_0x4fd7b5,_0xeacf02=Date[_0x1a74c2(0xab)]()[_0x1a74c2(0x95)](),_0x270e45=Math[_0x1a74c2(0xb4)](Math[_0x1a74c2(0x9f)]()*0x2710)[_0x1a74c2(0x95)]()[_0x1a74c2(0xa2)](0x4,'0');return'test_'+_0xeacf02+'_'+_0x270e45;}async['processWebhook'](_0x19109b){const _0x34c157=a77_0x4fd7b5;return console['log'](_0x34c157(0xbd),_0x19109b),{'paymentId':_0x19109b['order_id']||'','status':_0x19109b[_0x34c157(0x9e)]===_0x34c157(0x8b)?_0x34c157(0x94):_0x34c157(0xbb),'amount':_0x19109b['amount'],'currency':_0x19109b[_0x34c157(0x99)]};}}exports[a77_0x4fd7b5(0x90)]=TestGatewayService;