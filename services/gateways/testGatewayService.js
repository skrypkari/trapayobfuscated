'use strict';const a46_0x2a8e2f=a46_0xf62b;(function(_0x8a6bd9,_0x483468){const _0x355f73=a46_0xf62b,_0x224d1b=_0x8a6bd9();while(!![]){try{const _0x5c8a08=-parseInt(_0x355f73(0x129))/0x1+parseInt(_0x355f73(0x11d))/0x2+parseInt(_0x355f73(0x114))/0x3*(parseInt(_0x355f73(0x130))/0x4)+parseInt(_0x355f73(0x111))/0x5+-parseInt(_0x355f73(0x11c))/0x6+parseInt(_0x355f73(0x135))/0x7+parseInt(_0x355f73(0x122))/0x8*(parseInt(_0x355f73(0x10b))/0x9);if(_0x5c8a08===_0x483468)break;else _0x224d1b['push'](_0x224d1b['shift']());}catch(_0x28b83c){_0x224d1b['push'](_0x224d1b['shift']());}}}(a46_0x81c5,0xa793b));Object[a46_0x2a8e2f(0x118)](exports,a46_0x2a8e2f(0x124),{'value':!![]}),exports[a46_0x2a8e2f(0x127)]=void 0x0;function a46_0xf62b(_0xe09da2,_0x163006){const _0x81c506=a46_0x81c5();return a46_0xf62b=function(_0xf62bcd,_0x179f6e){_0xf62bcd=_0xf62bcd-0x103;let _0x5d8623=_0x81c506[_0xf62bcd];return _0x5d8623;},a46_0xf62b(_0xe09da2,_0x163006);}function a46_0x81c5(){const _0x15c680=['validateCardData','amount','1340230mdgvZY','replace','FAILED','3iSNGXw','Payment\x20processed\x20successfully','Invalid\x20expiry\x20year','***','defineProperty','Transaction\x20ID:','expiryMonth','SUCCESS_CARD','5173404ZAPZdE','584720qdXKuS','expiryYear','trim','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','test','1136oqhdAd','processWebhook','__esModule','toString','Card\x20Holder:','TestGatewayService','Card\x20Number:','1244023uZFHdI','PAID','generateTransactionId','success','****\x20****\x20****\x20','getFullYear','floor','2334484KCznWf','CVC\x20must\x20be\x203\x20or\x204\x20digits','****','cardNumber','log','219709rAwIxq','Expiry:','error','Card\x20validation\x20failed','cardHolderName','Payment\x20ID:','‚ùå\x20Card\x20validation\x20failed:','test_','maskCardNumber','4242424242424242','now','Order\x20ID:','cvc','102501sQMvjs','currency','CVC:','order_id'];a46_0x81c5=function(){return _0x15c680;};return a46_0x81c5();}class TestGatewayService{constructor(){const _0x21339c=a46_0x2a8e2f;this[_0x21339c(0x11b)]=_0x21339c(0x107),console[_0x21339c(0x134)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x47c41a){const _0x3f6722=a46_0x2a8e2f,{paymentId:_0x1d63a6,orderId:_0x570123,amount:_0x2d527f,currency:_0x18bfdd,cardData:_0x11f932}=_0x47c41a;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x3f6722(0x134)](_0x3f6722(0x103),_0x1d63a6),console[_0x3f6722(0x134)](_0x3f6722(0x109),_0x570123),console[_0x3f6722(0x134)]('Amount:',_0x2d527f,_0x18bfdd),console[_0x3f6722(0x134)](_0x3f6722(0x128),this['maskCardNumber'](_0x11f932[_0x3f6722(0x133)])),console[_0x3f6722(0x134)](_0x3f6722(0x126),_0x11f932[_0x3f6722(0x139)]),console[_0x3f6722(0x134)](_0x3f6722(0x136),_0x11f932[_0x3f6722(0x11a)]+'/'+_0x11f932[_0x3f6722(0x11e)]),console[_0x3f6722(0x134)](_0x3f6722(0x10d),_0x3f6722(0x117));const _0x39c0cf=this[_0x3f6722(0x10f)](_0x11f932);if(!_0x39c0cf['isValid'])return console['log'](_0x3f6722(0x104),_0x39c0cf[_0x3f6722(0x137)]),{'success':![],'status':'FAILED','message':_0x3f6722(0x138),'failureReason':_0x39c0cf[_0x3f6722(0x137)]};const _0x1a2d0d=_0x11f932[_0x3f6722(0x133)][_0x3f6722(0x112)](/[\s-]/g,'');if(_0x1a2d0d===this[_0x3f6722(0x11b)]){const _0x26fa9c=this[_0x3f6722(0x12b)]();return console[_0x3f6722(0x134)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x3f6722(0x134)](_0x3f6722(0x119),_0x26fa9c),{'success':!![],'status':_0x3f6722(0x12a),'message':_0x3f6722(0x115),'transactionId':_0x26fa9c};}else return console[_0x3f6722(0x134)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x3f6722(0x113),'message':'Payment\x20failed','failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a46_0x2a8e2f(0x10f)](_0x583dda){const _0x247b28=a46_0x2a8e2f,_0x1981cd=_0x583dda[_0x247b28(0x133)][_0x247b28(0x112)](/[\s-]/g,'');if(!/^\d{16}$/[_0x247b28(0x121)](_0x1981cd))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x583dda[_0x247b28(0x139)]||_0x583dda[_0x247b28(0x139)][_0x247b28(0x11f)]()['length']<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x143af7=parseInt(_0x583dda[_0x247b28(0x11a)]);if(isNaN(_0x143af7)||_0x143af7<0x1||_0x143af7>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x10d81d=parseInt(_0x583dda[_0x247b28(0x11e)]),_0x45433b=new Date()[_0x247b28(0x12e)](),_0x1e0b51=_0x10d81d<0x32?0x7d0+_0x10d81d:0x76c+_0x10d81d;if(isNaN(_0x10d81d)||_0x1e0b51<_0x45433b||_0x1e0b51>_0x45433b+0x14)return{'isValid':![],'error':_0x247b28(0x116)};if(!/^\d{3,4}$/[_0x247b28(0x121)](_0x583dda[_0x247b28(0x10a)]))return{'isValid':![],'error':_0x247b28(0x131)};return{'isValid':!![]};}[a46_0x2a8e2f(0x106)](_0x49e307){const _0x5b079e=a46_0x2a8e2f,_0x591429=_0x49e307['replace'](/[\s-]/g,'');if(_0x591429['length']<0x4)return _0x5b079e(0x132);return _0x5b079e(0x12d)+_0x591429['slice'](-0x4);}[a46_0x2a8e2f(0x12b)](){const _0x214435=a46_0x2a8e2f,_0x4ff338=Date[_0x214435(0x108)]()['toString'](),_0x8de14=Math[_0x214435(0x12f)](Math['random']()*0x2710)[_0x214435(0x125)]()['padStart'](0x4,'0');return _0x214435(0x105)+_0x4ff338+'_'+_0x8de14;}async[a46_0x2a8e2f(0x123)](_0x5ad0e8){const _0x2ef433=a46_0x2a8e2f;return console['log'](_0x2ef433(0x120),_0x5ad0e8),{'paymentId':_0x5ad0e8[_0x2ef433(0x10e)]||'','status':_0x5ad0e8['status']===_0x2ef433(0x12c)?_0x2ef433(0x12a):_0x2ef433(0x113),'amount':_0x5ad0e8[_0x2ef433(0x110)],'currency':_0x5ad0e8[_0x2ef433(0x10c)]};}}exports[a46_0x2a8e2f(0x127)]=TestGatewayService;