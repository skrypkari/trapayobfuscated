'use strict';const a46_0x145030=a46_0x27b2;(function(_0x1059cc,_0x1dcf9d){const _0x2b4e90=a46_0x27b2,_0x3bf0f8=_0x1059cc();while(!![]){try{const _0x32cc7b=-parseInt(_0x2b4e90(0xfb))/0x1+-parseInt(_0x2b4e90(0x101))/0x2+-parseInt(_0x2b4e90(0xd4))/0x3+parseInt(_0x2b4e90(0xec))/0x4+parseInt(_0x2b4e90(0xf0))/0x5+parseInt(_0x2b4e90(0x103))/0x6*(parseInt(_0x2b4e90(0xd2))/0x7)+-parseInt(_0x2b4e90(0xf3))/0x8*(-parseInt(_0x2b4e90(0xdb))/0x9);if(_0x32cc7b===_0x1dcf9d)break;else _0x3bf0f8['push'](_0x3bf0f8['shift']());}catch(_0x4b68fb){_0x3bf0f8['push'](_0x3bf0f8['shift']());}}}(a46_0x23ff,0x53ac7));function a46_0x23ff(){const _0x55230d=['Order\x20ID:','status','defineProperty','1801821wNEHKl','PAID','1371501Myhkxb','toString','‚ùå\x20Card\x20validation\x20failed:','Card\x20Number:','Payment\x20failed','FAILED','processWebhook','9fKxDGu','****\x20****\x20****\x20','expiryMonth','Card\x20validation\x20failed','__esModule','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','test_','now','error','order_id','Payment\x20processed\x20successfully','floor','Transaction\x20ID:','cardNumber','getFullYear','log','4242424242424242','602860eZzTCR','isValid','Card\x20Holder:','success','1712380tTNeqO','validateCardData','maskCardNumber','2439152EmeemS','Invalid\x20expiry\x20month','cvc','SUCCESS_CARD','***','cardHolderName','processCardPayment','test','370045HulwrF','TestGatewayService','Expiry:','length','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','CVC\x20must\x20be\x203\x20or\x204\x20digits','285904zDeNNr','replace','12ObciUt','üß™\x20Test\x20Gateway\x20service\x20initialized','Payment\x20ID:','generateTransactionId','Invalid\x20expiry\x20year'];a46_0x23ff=function(){return _0x55230d;};return a46_0x23ff();}Object[a46_0x145030(0xd1)](exports,a46_0x145030(0xdf),{'value':!![]}),exports[a46_0x145030(0xfc)]=void 0x0;function a46_0x27b2(_0x402eed,_0x34432a){const _0x23ff9c=a46_0x23ff();return a46_0x27b2=function(_0x27b208,_0x198894){_0x27b208=_0x27b208-0xce;let _0x136f42=_0x23ff9c[_0x27b208];return _0x136f42;},a46_0x27b2(_0x402eed,_0x34432a);}class TestGatewayService{constructor(){const _0x18d137=a46_0x145030;this[_0x18d137(0xf6)]=_0x18d137(0xeb),console[_0x18d137(0xea)](_0x18d137(0x104));}async[a46_0x145030(0xf9)](_0x41b366){const _0x236a07=a46_0x145030,{paymentId:_0x5e16c7,orderId:_0x547423,amount:_0x18a934,currency:_0x3065ae,cardData:_0x106482}=_0x41b366;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x236a07(0xea)](_0x236a07(0x105),_0x5e16c7),console[_0x236a07(0xea)](_0x236a07(0xcf),_0x547423),console[_0x236a07(0xea)]('Amount:',_0x18a934,_0x3065ae),console[_0x236a07(0xea)](_0x236a07(0xd7),this[_0x236a07(0xf2)](_0x106482[_0x236a07(0xe8)])),console[_0x236a07(0xea)](_0x236a07(0xee),_0x106482[_0x236a07(0xf8)]),console[_0x236a07(0xea)](_0x236a07(0xfd),_0x106482[_0x236a07(0xdd)]+'/'+_0x106482['expiryYear']),console[_0x236a07(0xea)]('CVC:',_0x236a07(0xf7));const _0x16c87d=this['validateCardData'](_0x106482);if(!_0x16c87d[_0x236a07(0xed)])return console[_0x236a07(0xea)](_0x236a07(0xd6),_0x16c87d[_0x236a07(0xe3)]),{'success':![],'status':'FAILED','message':_0x236a07(0xde),'failureReason':_0x16c87d[_0x236a07(0xe3)]};const _0x42e804=_0x106482[_0x236a07(0xe8)][_0x236a07(0x102)](/[\s-]/g,'');if(_0x42e804===this[_0x236a07(0xf6)]){const _0x427f0b=this[_0x236a07(0x106)]();return console[_0x236a07(0xea)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x236a07(0xea)](_0x236a07(0xe7),_0x427f0b),{'success':!![],'status':_0x236a07(0xd3),'message':_0x236a07(0xe5),'transactionId':_0x427f0b};}else return console[_0x236a07(0xea)](_0x236a07(0xff)),{'success':![],'status':'FAILED','message':_0x236a07(0xd8),'failureReason':_0x236a07(0xe0)};}[a46_0x145030(0xf1)](_0x3ac045){const _0x5de255=a46_0x145030,_0x155552=_0x3ac045[_0x5de255(0xe8)][_0x5de255(0x102)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5de255(0xfa)](_0x155552))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x3ac045[_0x5de255(0xf8)]||_0x3ac045[_0x5de255(0xf8)]['trim']()[_0x5de255(0xfe)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x22b67c=parseInt(_0x3ac045['expiryMonth']);if(isNaN(_0x22b67c)||_0x22b67c<0x1||_0x22b67c>0xc)return{'isValid':![],'error':_0x5de255(0xf4)};const _0x3e4716=parseInt(_0x3ac045['expiryYear']),_0x1e5bcb=new Date()[_0x5de255(0xe9)](),_0x100582=_0x3e4716<0x32?0x7d0+_0x3e4716:0x76c+_0x3e4716;if(isNaN(_0x3e4716)||_0x100582<_0x1e5bcb||_0x100582>_0x1e5bcb+0x14)return{'isValid':![],'error':_0x5de255(0xce)};if(!/^\d{3,4}$/[_0x5de255(0xfa)](_0x3ac045[_0x5de255(0xf5)]))return{'isValid':![],'error':_0x5de255(0x100)};return{'isValid':!![]};}[a46_0x145030(0xf2)](_0x2c9855){const _0x281ab3=a46_0x145030,_0x5d4bdc=_0x2c9855[_0x281ab3(0x102)](/[\s-]/g,'');if(_0x5d4bdc[_0x281ab3(0xfe)]<0x4)return'****';return _0x281ab3(0xdc)+_0x5d4bdc['slice'](-0x4);}[a46_0x145030(0x106)](){const _0x15a6ed=a46_0x145030,_0x465562=Date[_0x15a6ed(0xe2)]()[_0x15a6ed(0xd5)](),_0xc194a6=Math[_0x15a6ed(0xe6)](Math['random']()*0x2710)[_0x15a6ed(0xd5)]()['padStart'](0x4,'0');return _0x15a6ed(0xe1)+_0x465562+'_'+_0xc194a6;}async[a46_0x145030(0xda)](_0x11d397){const _0x298f15=a46_0x145030;return console[_0x298f15(0xea)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x11d397),{'paymentId':_0x11d397[_0x298f15(0xe4)]||'','status':_0x11d397[_0x298f15(0xd0)]===_0x298f15(0xef)?'PAID':_0x298f15(0xd9),'amount':_0x11d397['amount'],'currency':_0x11d397['currency']};}}exports['TestGatewayService']=TestGatewayService;