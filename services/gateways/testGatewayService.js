'use strict';const a46_0x51755f=a46_0x3b04;function a46_0x5e78(){const _0x599f61=['Card\x20Holder:','length','__esModule','Invalid\x20expiry\x20year','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','TestGatewayService','expiryMonth','Payment\x20ID:','isValid','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','‚úÖ\x20Test\x20payment\x20successful','expiryYear','cvc','Card\x20Number:','Payment\x20processed\x20successfully','test','toString','cardNumber','41725hQGBoY','12hKKKUj','padStart','268aBpijW','processCardPayment','Card\x20number\x20must\x20be\x2016\x20digits','Order\x20ID:','****\x20****\x20****\x20','processWebhook','Payment\x20failed','CVC\x20must\x20be\x203\x20or\x204\x20digits','PAID','amount','replace','60LLWhax','951727lMulqc','test_','random','310dRDwGM','maskCardNumber','FAILED','4242424242424242','cardHolderName','5024967YJQxdi','***','generateTransactionId','Expiry:','error','676CKoBRY','9yaqSMf','getFullYear','Amount:','log','297429YVPmhd','CVC:','SUCCESS_CARD','1573816laVUnx','****','Invalid\x20expiry\x20month','üß™\x20Test\x20Gateway\x20service\x20initialized','‚ùå\x20Card\x20validation\x20failed:','status','floor','1677fTiOnm','Card\x20validation\x20failed','validateCardData','Transaction\x20ID:','1008878viuVae','success'];a46_0x5e78=function(){return _0x599f61;};return a46_0x5e78();}function a46_0x3b04(_0x11117e,_0x5f4056){const _0x5e7889=a46_0x5e78();return a46_0x3b04=function(_0x3b04d4,_0x5b50d2){_0x3b04d4=_0x3b04d4-0xbb;let _0xa75049=_0x5e7889[_0x3b04d4];return _0xa75049;},a46_0x3b04(_0x11117e,_0x5f4056);}(function(_0x1c71d3,_0x399f9c){const _0x5400a7=a46_0x3b04,_0x2ea9c6=_0x1c71d3();while(!![]){try{const _0x5d5ab0=-parseInt(_0x5400a7(0xc4))/0x1*(-parseInt(_0x5400a7(0xdf))/0x2)+parseInt(_0x5400a7(0xf3))/0x3+-parseInt(_0x5400a7(0xf8))/0x4*(parseInt(_0x5400a7(0xdc))/0x5)+-parseInt(_0x5400a7(0xea))/0x6*(-parseInt(_0x5400a7(0xeb))/0x7)+parseInt(_0x5400a7(0xbd))/0x8*(-parseInt(_0x5400a7(0xf9))/0x9)+-parseInt(_0x5400a7(0xee))/0xa*(parseInt(_0x5400a7(0xfd))/0xb)+parseInt(_0x5400a7(0xdd))/0xc*(parseInt(_0x5400a7(0xc8))/0xd);if(_0x5d5ab0===_0x399f9c)break;else _0x2ea9c6['push'](_0x2ea9c6['shift']());}catch(_0x1e87e6){_0x2ea9c6['push'](_0x2ea9c6['shift']());}}}(a46_0x5e78,0xd9b22));Object['defineProperty'](exports,a46_0x51755f(0xcc),{'value':!![]}),exports[a46_0x51755f(0xcf)]=void 0x0;class TestGatewayService{constructor(){const _0x3a174c=a46_0x51755f;this['SUCCESS_CARD']=_0x3a174c(0xf1),console[_0x3a174c(0xfc)](_0x3a174c(0xc0));}async[a46_0x51755f(0xe0)](_0x3d84c7){const _0x29fa09=a46_0x51755f,{paymentId:_0x3b3afb,orderId:_0x21866e,amount:_0x514cba,currency:_0xc0d385,cardData:_0x4daebc}=_0x3d84c7;console['log'](_0x29fa09(0xd3)),console[_0x29fa09(0xfc)](_0x29fa09(0xd1),_0x3b3afb),console['log'](_0x29fa09(0xe2),_0x21866e),console['log'](_0x29fa09(0xfb),_0x514cba,_0xc0d385),console[_0x29fa09(0xfc)](_0x29fa09(0xd7),this[_0x29fa09(0xef)](_0x4daebc[_0x29fa09(0xdb)])),console[_0x29fa09(0xfc)](_0x29fa09(0xca),_0x4daebc[_0x29fa09(0xf2)]),console['log'](_0x29fa09(0xf6),_0x4daebc[_0x29fa09(0xd0)]+'/'+_0x4daebc[_0x29fa09(0xd5)]),console[_0x29fa09(0xfc)](_0x29fa09(0xbb),_0x29fa09(0xf4));const _0x53c98b=this['validateCardData'](_0x4daebc);if(!_0x53c98b[_0x29fa09(0xd2)])return console[_0x29fa09(0xfc)](_0x29fa09(0xc1),_0x53c98b[_0x29fa09(0xf7)]),{'success':![],'status':_0x29fa09(0xf0),'message':_0x29fa09(0xc5),'failureReason':_0x53c98b[_0x29fa09(0xf7)]};const _0x14d021=_0x4daebc[_0x29fa09(0xdb)][_0x29fa09(0xe9)](/[\s-]/g,'');if(_0x14d021===this[_0x29fa09(0xbc)]){const _0x5b6ce4=this['generateTransactionId']();return console['log'](_0x29fa09(0xd4)),console[_0x29fa09(0xfc)](_0x29fa09(0xc7),_0x5b6ce4),{'success':!![],'status':'PAID','message':_0x29fa09(0xd8),'transactionId':_0x5b6ce4};}else return console[_0x29fa09(0xfc)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x29fa09(0xf0),'message':_0x29fa09(0xe5),'failureReason':_0x29fa09(0xce)};}[a46_0x51755f(0xc6)](_0x1180b2){const _0xf7b812=a46_0x51755f,_0x2bb326=_0x1180b2[_0xf7b812(0xdb)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0xf7b812(0xd9)](_0x2bb326))return{'isValid':![],'error':_0xf7b812(0xe1)};if(!_0x1180b2[_0xf7b812(0xf2)]||_0x1180b2['cardHolderName']['trim']()[_0xf7b812(0xcb)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x2c0ee8=parseInt(_0x1180b2[_0xf7b812(0xd0)]);if(isNaN(_0x2c0ee8)||_0x2c0ee8<0x1||_0x2c0ee8>0xc)return{'isValid':![],'error':_0xf7b812(0xbf)};const _0x3557c5=parseInt(_0x1180b2[_0xf7b812(0xd5)]),_0x31b73b=new Date()[_0xf7b812(0xfa)](),_0x1c8776=_0x3557c5<0x32?0x7d0+_0x3557c5:0x76c+_0x3557c5;if(isNaN(_0x3557c5)||_0x1c8776<_0x31b73b||_0x1c8776>_0x31b73b+0x14)return{'isValid':![],'error':_0xf7b812(0xcd)};if(!/^\d{3,4}$/[_0xf7b812(0xd9)](_0x1180b2[_0xf7b812(0xd6)]))return{'isValid':![],'error':_0xf7b812(0xe6)};return{'isValid':!![]};}[a46_0x51755f(0xef)](_0x5076c9){const _0x2d6744=a46_0x51755f,_0x55f9c5=_0x5076c9[_0x2d6744(0xe9)](/[\s-]/g,'');if(_0x55f9c5[_0x2d6744(0xcb)]<0x4)return _0x2d6744(0xbe);return _0x2d6744(0xe3)+_0x55f9c5['slice'](-0x4);}[a46_0x51755f(0xf5)](){const _0x38ba30=a46_0x51755f,_0x37854d=Date['now']()['toString'](),_0x1c8922=Math[_0x38ba30(0xc3)](Math[_0x38ba30(0xed)]()*0x2710)[_0x38ba30(0xda)]()[_0x38ba30(0xde)](0x4,'0');return _0x38ba30(0xec)+_0x37854d+'_'+_0x1c8922;}async[a46_0x51755f(0xe4)](_0x1b69c5){const _0xc392be=a46_0x51755f;return console[_0xc392be(0xfc)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x1b69c5),{'paymentId':_0x1b69c5['order_id']||'','status':_0x1b69c5[_0xc392be(0xc2)]===_0xc392be(0xc9)?_0xc392be(0xe7):'FAILED','amount':_0x1b69c5[_0xc392be(0xe8)],'currency':_0x1b69c5['currency']};}}exports[a46_0x51755f(0xcf)]=TestGatewayService;