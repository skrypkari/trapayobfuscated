'use strict';const a77_0x2fe845=a77_0x471f;(function(_0x2039fd,_0xa574f8){const _0x2d1c4d=a77_0x471f,_0x5957e1=_0x2039fd();while(!![]){try{const _0x588a0a=parseInt(_0x2d1c4d(0x153))/0x1+parseInt(_0x2d1c4d(0x154))/0x2+parseInt(_0x2d1c4d(0x152))/0x3*(-parseInt(_0x2d1c4d(0x13a))/0x4)+parseInt(_0x2d1c4d(0x13f))/0x5+-parseInt(_0x2d1c4d(0x15e))/0x6*(-parseInt(_0x2d1c4d(0x158))/0x7)+-parseInt(_0x2d1c4d(0x136))/0x8+-parseInt(_0x2d1c4d(0x132))/0x9;if(_0x588a0a===_0xa574f8)break;else _0x5957e1['push'](_0x5957e1['shift']());}catch(_0x4706ca){_0x5957e1['push'](_0x5957e1['shift']());}}}(a77_0x2f9c,0x7f720));function a77_0x2f9c(){const _0x4f5f4f=['generateTransactionId','2132645kJHUTB','status','log','CVC:','order_id','expiryYear','Payment\x20ID:','****\x20****\x20****\x20','FAILED','padStart','slice','maskCardNumber','‚úÖ\x20Test\x20payment\x20successful','Card\x20number\x20must\x20be\x2016\x20digits','SUCCESS_CARD','currency','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','üß™\x20Test\x20Gateway\x20service\x20initialized','validateCardData','66XXkwyQ','701592yUUwYh','709714SYKBwn','CVC\x20must\x20be\x203\x20or\x204\x20digits','processWebhook','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','4600771QUxDbq','Card\x20holder\x20name\x20is\x20required','trim','Order\x20ID:','Amount:','Invalid\x20expiry\x20month','6dIGPXi','***','length','Expiry:','getFullYear','processCardPayment','error','isValid','replace','__esModule','expiryMonth','floor','Transaction\x20ID:','cvc','Card\x20Number:','success','cardHolderName','4593537gDoDcA','toString','****','TestGatewayService','6753744rPjeuC','cardNumber','test','PAID','47928AOJVIP','Card\x20validation\x20failed','4242424242424242','amount'];a77_0x2f9c=function(){return _0x4f5f4f;};return a77_0x2f9c();}Object['defineProperty'](exports,a77_0x2fe845(0x12a),{'value':!![]}),exports[a77_0x2fe845(0x135)]=void 0x0;class TestGatewayService{constructor(){const _0x4e31f6=a77_0x2fe845;this['SUCCESS_CARD']=_0x4e31f6(0x13c),console[_0x4e31f6(0x141)](_0x4e31f6(0x150));}async[a77_0x2fe845(0x126)](_0x247b14){const _0x1a8178=a77_0x2fe845,{paymentId:_0x25e598,orderId:_0x4a32ef,amount:_0x476adc,currency:_0x74dd8c,cardData:_0xf87d28}=_0x247b14;console[_0x1a8178(0x141)](_0x1a8178(0x157)),console[_0x1a8178(0x141)](_0x1a8178(0x145),_0x25e598),console['log'](_0x1a8178(0x15b),_0x4a32ef),console['log'](_0x1a8178(0x15c),_0x476adc,_0x74dd8c),console[_0x1a8178(0x141)](_0x1a8178(0x12f),this[_0x1a8178(0x14a)](_0xf87d28[_0x1a8178(0x137)])),console['log']('Card\x20Holder:',_0xf87d28[_0x1a8178(0x131)]),console[_0x1a8178(0x141)](_0x1a8178(0x124),_0xf87d28[_0x1a8178(0x12b)]+'/'+_0xf87d28[_0x1a8178(0x144)]),console['log'](_0x1a8178(0x142),_0x1a8178(0x122));const _0x185e25=this[_0x1a8178(0x151)](_0xf87d28);if(!_0x185e25[_0x1a8178(0x128)])return console[_0x1a8178(0x141)]('‚ùå\x20Card\x20validation\x20failed:',_0x185e25[_0x1a8178(0x127)]),{'success':![],'status':'FAILED','message':_0x1a8178(0x13b),'failureReason':_0x185e25[_0x1a8178(0x127)]};const _0x85562d=_0xf87d28[_0x1a8178(0x137)][_0x1a8178(0x129)](/[\s-]/g,'');if(_0x85562d===this[_0x1a8178(0x14d)]){const _0x316688=this['generateTransactionId']();return console[_0x1a8178(0x141)](_0x1a8178(0x14b)),console[_0x1a8178(0x141)](_0x1a8178(0x12d),_0x316688),{'success':!![],'status':_0x1a8178(0x139),'message':'Payment\x20processed\x20successfully','transactionId':_0x316688};}else return console[_0x1a8178(0x141)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':_0x1a8178(0x14f)};}[a77_0x2fe845(0x151)](_0x43b1d7){const _0x216399=a77_0x2fe845,_0xd75cdf=_0x43b1d7[_0x216399(0x137)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0xd75cdf))return{'isValid':![],'error':_0x216399(0x14c)};if(!_0x43b1d7['cardHolderName']||_0x43b1d7['cardHolderName'][_0x216399(0x15a)]()[_0x216399(0x123)]<0x2)return{'isValid':![],'error':_0x216399(0x159)};const _0x4cc1aa=parseInt(_0x43b1d7[_0x216399(0x12b)]);if(isNaN(_0x4cc1aa)||_0x4cc1aa<0x1||_0x4cc1aa>0xc)return{'isValid':![],'error':_0x216399(0x15d)};const _0x418e24=parseInt(_0x43b1d7[_0x216399(0x144)]),_0xe26278=new Date()[_0x216399(0x125)](),_0x1fbaaa=_0x418e24<0x32?0x7d0+_0x418e24:0x76c+_0x418e24;if(isNaN(_0x418e24)||_0x1fbaaa<_0xe26278||_0x1fbaaa>_0xe26278+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x216399(0x138)](_0x43b1d7[_0x216399(0x12e)]))return{'isValid':![],'error':_0x216399(0x155)};return{'isValid':!![]};}[a77_0x2fe845(0x14a)](_0x5696b9){const _0x301a58=a77_0x2fe845,_0x5a978b=_0x5696b9[_0x301a58(0x129)](/[\s-]/g,'');if(_0x5a978b['length']<0x4)return _0x301a58(0x134);return _0x301a58(0x146)+_0x5a978b[_0x301a58(0x149)](-0x4);}[a77_0x2fe845(0x13e)](){const _0x10343c=a77_0x2fe845,_0x1007ed=Date['now']()[_0x10343c(0x133)](),_0x5c992e=Math[_0x10343c(0x12c)](Math['random']()*0x2710)['toString']()[_0x10343c(0x148)](0x4,'0');return'test_'+_0x1007ed+'_'+_0x5c992e;}async[a77_0x2fe845(0x156)](_0x4952c8){const _0x82b5ab=a77_0x2fe845;return console[_0x82b5ab(0x141)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x4952c8),{'paymentId':_0x4952c8[_0x82b5ab(0x143)]||'','status':_0x4952c8[_0x82b5ab(0x140)]===_0x82b5ab(0x130)?_0x82b5ab(0x139):_0x82b5ab(0x147),'amount':_0x4952c8[_0x82b5ab(0x13d)],'currency':_0x4952c8[_0x82b5ab(0x14e)]};}}function a77_0x471f(_0x17b93c,_0x55b341){_0x17b93c=_0x17b93c-0x122;const _0x2f9c86=a77_0x2f9c();let _0x471f85=_0x2f9c86[_0x17b93c];return _0x471f85;}exports[a77_0x2fe845(0x135)]=TestGatewayService;