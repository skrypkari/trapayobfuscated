'use strict';const a51_0x463160=a51_0x2984;(function(_0x5ea0e0,_0x536e91){const _0xce49c3=a51_0x2984,_0xa24207=_0x5ea0e0();while(!![]){try{const _0x52c26c=-parseInt(_0xce49c3(0x1fb))/0x1*(-parseInt(_0xce49c3(0x1fd))/0x2)+-parseInt(_0xce49c3(0x1f4))/0x3+-parseInt(_0xce49c3(0x21c))/0x4*(parseInt(_0xce49c3(0x20a))/0x5)+parseInt(_0xce49c3(0x206))/0x6+parseInt(_0xce49c3(0x201))/0x7+-parseInt(_0xce49c3(0x213))/0x8+parseInt(_0xce49c3(0x1ee))/0x9;if(_0x52c26c===_0x536e91)break;else _0xa24207['push'](_0xa24207['shift']());}catch(_0x53d622){_0xa24207['push'](_0xa24207['shift']());}}}(a51_0x3aae,0xb3dbe));function a51_0x2984(_0x32d9ef,_0x2121bf){const _0x3aaefa=a51_0x3aae();return a51_0x2984=function(_0x2984c3,_0x10520e){_0x2984c3=_0x2984c3-0x1e3;let _0xa0a90f=_0x3aaefa[_0x2984c3];return _0xa0a90f;},a51_0x2984(_0x32d9ef,_0x2121bf);}function a51_0x3aae(){const _0x4de72f=['test_','amount','cardNumber','processCardPayment','4136diggxu','‚ùå\x20Card\x20validation\x20failed:','replace','currency','trim','Invalid\x20expiry\x20month','CVC:','Card\x20holder\x20name\x20is\x20required','validateCardData','Expiry:','test','length','random','20342052THcTxX','Card\x20Number:','Transaction\x20ID:','PAID','Amount:','log','2459028PFuYKz','getFullYear','defineProperty','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20number\x20must\x20be\x2016\x20digits','FAILED','Order\x20ID:','1nMzuJa','order_id','2632354cIiRXy','expiryYear','****\x20****\x20****\x20','__esModule','48734ddABhp','expiryMonth','cardHolderName','4242424242424242','CVC\x20must\x20be\x203\x20or\x204\x20digits','145632GomIRA','generateTransactionId','Payment\x20ID:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','4135WdYoqK','Payment\x20failed','üß™\x20Test\x20Gateway\x20service\x20initialized','***','toString','Card\x20Holder:','TestGatewayService','floor','SUCCESS_CARD','9569144NTcnTs','status','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','padStart','isValid'];a51_0x3aae=function(){return _0x4de72f;};return a51_0x3aae();}Object[a51_0x463160(0x1f6)](exports,a51_0x463160(0x200),{'value':!![]}),exports[a51_0x463160(0x210)]=void 0x0;class TestGatewayService{constructor(){const _0xa875f=a51_0x463160;this[_0xa875f(0x212)]=_0xa875f(0x204),console['log'](_0xa875f(0x20c));}async[a51_0x463160(0x21b)](_0x16a8de){const _0x4ca795=a51_0x463160,{paymentId:_0x2ad5d0,orderId:_0x5a2a9e,amount:_0x2ae556,currency:_0x194973,cardData:_0x555a86}=_0x16a8de;console[_0x4ca795(0x1f3)](_0x4ca795(0x215)),console[_0x4ca795(0x1f3)](_0x4ca795(0x208),_0x2ad5d0),console[_0x4ca795(0x1f3)](_0x4ca795(0x1fa),_0x5a2a9e),console[_0x4ca795(0x1f3)](_0x4ca795(0x1f2),_0x2ae556,_0x194973),console[_0x4ca795(0x1f3)](_0x4ca795(0x1ef),this['maskCardNumber'](_0x555a86[_0x4ca795(0x21a)])),console[_0x4ca795(0x1f3)](_0x4ca795(0x20f),_0x555a86[_0x4ca795(0x203)]),console[_0x4ca795(0x1f3)](_0x4ca795(0x1ea),_0x555a86['expiryMonth']+'/'+_0x555a86['expiryYear']),console[_0x4ca795(0x1f3)](_0x4ca795(0x1e7),_0x4ca795(0x20d));const _0x5b7441=this[_0x4ca795(0x1e9)](_0x555a86);if(!_0x5b7441[_0x4ca795(0x217)])return console[_0x4ca795(0x1f3)](_0x4ca795(0x21d),_0x5b7441['error']),{'success':![],'status':_0x4ca795(0x1f9),'message':'Card\x20validation\x20failed','failureReason':_0x5b7441['error']};const _0x532b67=_0x555a86[_0x4ca795(0x21a)][_0x4ca795(0x1e3)](/[\s-]/g,'');if(_0x532b67===this[_0x4ca795(0x212)]){const _0x39e0b4=this[_0x4ca795(0x207)]();return console[_0x4ca795(0x1f3)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x4ca795(0x1f3)](_0x4ca795(0x1f0),_0x39e0b4),{'success':!![],'status':_0x4ca795(0x1f1),'message':'Payment\x20processed\x20successfully','transactionId':_0x39e0b4};}else return console[_0x4ca795(0x1f3)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x4ca795(0x1f9),'message':_0x4ca795(0x20b),'failureReason':_0x4ca795(0x209)};}[a51_0x463160(0x1e9)](_0x41d3ba){const _0x146ee6=a51_0x463160,_0xeedf6d=_0x41d3ba[_0x146ee6(0x21a)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x146ee6(0x1eb)](_0xeedf6d))return{'isValid':![],'error':_0x146ee6(0x1f8)};if(!_0x41d3ba['cardHolderName']||_0x41d3ba[_0x146ee6(0x203)][_0x146ee6(0x1e5)]()[_0x146ee6(0x1ec)]<0x2)return{'isValid':![],'error':_0x146ee6(0x1e8)};const _0x493d6e=parseInt(_0x41d3ba[_0x146ee6(0x202)]);if(isNaN(_0x493d6e)||_0x493d6e<0x1||_0x493d6e>0xc)return{'isValid':![],'error':_0x146ee6(0x1e6)};const _0x59d8e8=parseInt(_0x41d3ba[_0x146ee6(0x1fe)]),_0x35c2a9=new Date()[_0x146ee6(0x1f5)](),_0x30df37=_0x59d8e8<0x32?0x7d0+_0x59d8e8:0x76c+_0x59d8e8;if(isNaN(_0x59d8e8)||_0x30df37<_0x35c2a9||_0x30df37>_0x35c2a9+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x146ee6(0x1eb)](_0x41d3ba['cvc']))return{'isValid':![],'error':_0x146ee6(0x205)};return{'isValid':!![]};}['maskCardNumber'](_0x13c88e){const _0x475442=a51_0x463160,_0x30535d=_0x13c88e[_0x475442(0x1e3)](/[\s-]/g,'');if(_0x30535d[_0x475442(0x1ec)]<0x4)return'****';return _0x475442(0x1ff)+_0x30535d['slice'](-0x4);}[a51_0x463160(0x207)](){const _0x93b1c5=a51_0x463160,_0x47eb51=Date['now']()[_0x93b1c5(0x20e)](),_0x15e025=Math[_0x93b1c5(0x211)](Math[_0x93b1c5(0x1ed)]()*0x2710)[_0x93b1c5(0x20e)]()[_0x93b1c5(0x216)](0x4,'0');return _0x93b1c5(0x218)+_0x47eb51+'_'+_0x15e025;}async['processWebhook'](_0xf3a44d){const _0x4fec54=a51_0x463160;return console[_0x4fec54(0x1f3)](_0x4fec54(0x1f7),_0xf3a44d),{'paymentId':_0xf3a44d[_0x4fec54(0x1fc)]||'','status':_0xf3a44d[_0x4fec54(0x214)]==='success'?_0x4fec54(0x1f1):_0x4fec54(0x1f9),'amount':_0xf3a44d[_0x4fec54(0x219)],'currency':_0xf3a44d[_0x4fec54(0x1e4)]};}}exports[a51_0x463160(0x210)]=TestGatewayService;