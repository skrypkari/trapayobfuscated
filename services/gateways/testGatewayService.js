'use strict';const a69_0x5a3687=a69_0x5411;(function(_0x494509,_0x915025){const _0x36d51a=a69_0x5411,_0x61e4d3=_0x494509();while(!![]){try{const _0x246d4c=parseInt(_0x36d51a(0xce))/0x1*(-parseInt(_0x36d51a(0xd0))/0x2)+parseInt(_0x36d51a(0xe8))/0x3+parseInt(_0x36d51a(0xf3))/0x4*(-parseInt(_0x36d51a(0xeb))/0x5)+parseInt(_0x36d51a(0xf4))/0x6*(-parseInt(_0x36d51a(0xc9))/0x7)+parseInt(_0x36d51a(0xe5))/0x8+-parseInt(_0x36d51a(0xc5))/0x9*(-parseInt(_0x36d51a(0xf0))/0xa)+-parseInt(_0x36d51a(0xc7))/0xb;if(_0x246d4c===_0x915025)break;else _0x61e4d3['push'](_0x61e4d3['shift']());}catch(_0x1dd010){_0x61e4d3['push'](_0x61e4d3['shift']());}}}(a69_0x5a14,0xac949));function a69_0x5a14(){const _0x3b1f84=['cardHolderName','2740581GPFsvD','success','defineProperty','415aQKeGq','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','length','currency','4242424242424242','3819170bSEhpF','FAILED','expiryMonth','22024fSafbO','6oOwFrG','trim','****\x20****\x20****\x20','__esModule','random','Transaction\x20ID:','‚ùå\x20Card\x20validation\x20failed:','PAID','Card\x20validation\x20failed','Payment\x20processed\x20successfully','isValid','amount','‚úÖ\x20Test\x20payment\x20successful','validateCardData','error','replace','18fvypve','SUCCESS_CARD','387959XJyJtr','status','1329601IlRobQ','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','CVC:','Payment\x20ID:','Payment\x20failed','7031vPScHp','generateTransactionId','134FTzBHI','test','CVC\x20must\x20be\x203\x20or\x204\x20digits','expiryYear','Card\x20Number:','Card\x20number\x20must\x20be\x2016\x20digits','Order\x20ID:','cardNumber','Card\x20holder\x20name\x20is\x20required','processCardPayment','Card\x20Holder:','****','floor','maskCardNumber','TestGatewayService','üß™\x20Test\x20Gateway\x20service\x20initialized','padStart','log','Amount:','slice','test_','1462520CDGAWO','Expiry:'];a69_0x5a14=function(){return _0x3b1f84;};return a69_0x5a14();}Object[a69_0x5a3687(0xea)](exports,a69_0x5a3687(0xf7),{'value':!![]}),exports[a69_0x5a3687(0xde)]=void 0x0;function a69_0x5411(_0x527983,_0x31d2de){_0x527983=_0x527983-0xc5;const _0x5a1430=a69_0x5a14();let _0x541180=_0x5a1430[_0x527983];return _0x541180;}class TestGatewayService{constructor(){const _0xd891ff=a69_0x5a3687;this['SUCCESS_CARD']=_0xd891ff(0xef),console[_0xd891ff(0xe1)](_0xd891ff(0xdf));}async[a69_0x5a3687(0xd9)](_0x47c28c){const _0x573192=a69_0x5a3687,{paymentId:_0x273148,orderId:_0x9b44e9,amount:_0x1ccd40,currency:_0xcd33ae,cardData:_0xcd5076}=_0x47c28c;console[_0x573192(0xe1)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x573192(0xe1)](_0x573192(0xcc),_0x273148),console['log'](_0x573192(0xd6),_0x9b44e9),console[_0x573192(0xe1)](_0x573192(0xe2),_0x1ccd40,_0xcd33ae),console[_0x573192(0xe1)](_0x573192(0xd4),this[_0x573192(0xdd)](_0xcd5076[_0x573192(0xd7)])),console[_0x573192(0xe1)](_0x573192(0xda),_0xcd5076[_0x573192(0xe7)]),console[_0x573192(0xe1)](_0x573192(0xe6),_0xcd5076[_0x573192(0xf2)]+'/'+_0xcd5076[_0x573192(0xd3)]),console[_0x573192(0xe1)](_0x573192(0xcb),'***');const _0x3d75bd=this[_0x573192(0x101)](_0xcd5076);if(!_0x3d75bd[_0x573192(0xfe)])return console[_0x573192(0xe1)](_0x573192(0xfa),_0x3d75bd[_0x573192(0x102)]),{'success':![],'status':_0x573192(0xf1),'message':_0x573192(0xfc),'failureReason':_0x3d75bd['error']};const _0x59c5dd=_0xcd5076[_0x573192(0xd7)]['replace'](/[\s-]/g,'');if(_0x59c5dd===this[_0x573192(0xc6)]){const _0x4ef7be=this[_0x573192(0xcf)]();return console[_0x573192(0xe1)](_0x573192(0x100)),console[_0x573192(0xe1)](_0x573192(0xf9),_0x4ef7be),{'success':!![],'status':_0x573192(0xfb),'message':_0x573192(0xfd),'transactionId':_0x4ef7be};}else return console['log'](_0x573192(0xec)),{'success':![],'status':_0x573192(0xf1),'message':_0x573192(0xcd),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a69_0x5a3687(0x101)](_0x1e79f4){const _0xdbff58=a69_0x5a3687,_0x52d045=_0x1e79f4[_0xdbff58(0xd7)][_0xdbff58(0x103)](/[\s-]/g,'');if(!/^\d{16}$/[_0xdbff58(0xd1)](_0x52d045))return{'isValid':![],'error':_0xdbff58(0xd5)};if(!_0x1e79f4['cardHolderName']||_0x1e79f4[_0xdbff58(0xe7)][_0xdbff58(0xf5)]()[_0xdbff58(0xed)]<0x2)return{'isValid':![],'error':_0xdbff58(0xd8)};const _0x6d1d2b=parseInt(_0x1e79f4[_0xdbff58(0xf2)]);if(isNaN(_0x6d1d2b)||_0x6d1d2b<0x1||_0x6d1d2b>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x5d8c93=parseInt(_0x1e79f4['expiryYear']),_0x3b96b1=new Date()['getFullYear'](),_0x54ad9b=_0x5d8c93<0x32?0x7d0+_0x5d8c93:0x76c+_0x5d8c93;if(isNaN(_0x5d8c93)||_0x54ad9b<_0x3b96b1||_0x54ad9b>_0x3b96b1+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0xdbff58(0xd1)](_0x1e79f4['cvc']))return{'isValid':![],'error':_0xdbff58(0xd2)};return{'isValid':!![]};}[a69_0x5a3687(0xdd)](_0x3385c8){const _0x2aa664=a69_0x5a3687,_0x1ea970=_0x3385c8[_0x2aa664(0x103)](/[\s-]/g,'');if(_0x1ea970[_0x2aa664(0xed)]<0x4)return _0x2aa664(0xdb);return _0x2aa664(0xf6)+_0x1ea970[_0x2aa664(0xe3)](-0x4);}[a69_0x5a3687(0xcf)](){const _0x482334=a69_0x5a3687,_0x279c6b=Date['now']()['toString'](),_0x5d6638=Math[_0x482334(0xdc)](Math[_0x482334(0xf8)]()*0x2710)['toString']()[_0x482334(0xe0)](0x4,'0');return _0x482334(0xe4)+_0x279c6b+'_'+_0x5d6638;}async['processWebhook'](_0xbd5300){const _0x56cf2a=a69_0x5a3687;return console[_0x56cf2a(0xe1)](_0x56cf2a(0xca),_0xbd5300),{'paymentId':_0xbd5300['order_id']||'','status':_0xbd5300[_0x56cf2a(0xc8)]===_0x56cf2a(0xe9)?_0x56cf2a(0xfb):_0x56cf2a(0xf1),'amount':_0xbd5300[_0x56cf2a(0xff)],'currency':_0xbd5300[_0x56cf2a(0xee)]};}}exports[a69_0x5a3687(0xde)]=TestGatewayService;