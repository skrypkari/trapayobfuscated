'use strict';const a51_0x1bce30=a51_0x5902;function a51_0x5902(_0x5669ee,_0x48c133){const _0x44a02a=a51_0x44a0();return a51_0x5902=function(_0x5902b9,_0x848fb7){_0x5902b9=_0x5902b9-0x187;let _0x3beec8=_0x44a02a[_0x5902b9];return _0x3beec8;},a51_0x5902(_0x5669ee,_0x48c133);}(function(_0x293158,_0x58eeac){const _0x1df44c=a51_0x5902,_0x245b40=_0x293158();while(!![]){try{const _0x136ace=-parseInt(_0x1df44c(0x1b8))/0x1*(-parseInt(_0x1df44c(0x1a2))/0x2)+parseInt(_0x1df44c(0x18a))/0x3*(-parseInt(_0x1df44c(0x19d))/0x4)+-parseInt(_0x1df44c(0x1b4))/0x5*(parseInt(_0x1df44c(0x193))/0x6)+-parseInt(_0x1df44c(0x1bd))/0x7+-parseInt(_0x1df44c(0x19f))/0x8+parseInt(_0x1df44c(0x1bf))/0x9*(parseInt(_0x1df44c(0x1be))/0xa)+-parseInt(_0x1df44c(0x1a1))/0xb*(-parseInt(_0x1df44c(0x191))/0xc);if(_0x136ace===_0x58eeac)break;else _0x245b40['push'](_0x245b40['shift']());}catch(_0x469c47){_0x245b40['push'](_0x245b40['shift']());}}}(a51_0x44a0,0x23a33));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a51_0x1bce30(0x1a5)]=void 0x0;function a51_0x44a0(){const _0x15b779=['‚ùå\x20Card\x20validation\x20failed:','cardHolderName','Card\x20holder\x20name\x20is\x20required','33505jmNNgi','now','FAILED','Payment\x20failed','373RConrp','Card\x20number\x20must\x20be\x2016\x20digits','processWebhook','generateTransactionId','expiryYear','1545229KJEYDW','520830MqtTCp','27jQitiY','success','‚úÖ\x20Test\x20payment\x20successful','toString','306GUsvPq','processCardPayment','validateCardData','****\x20****\x20****\x20','Expiry:','PAID','Card\x20Number:','25176mcXPnk','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','42FAOGiy','SUCCESS_CARD','currency','slice','log','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','expiryMonth','error','Amount:','****','568JnGbdh','Card\x20validation\x20failed','1383800bzLTcz','order_id','1243JOzkUf','1114bgIpal','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','maskCardNumber','TestGatewayService','length','Payment\x20processed\x20successfully','padStart','getFullYear','trim','replace','Transaction\x20ID:','cardNumber','4242424242424242','status','random'];a51_0x44a0=function(){return _0x15b779;};return a51_0x44a0();}class TestGatewayService{constructor(){const _0x13309f=a51_0x1bce30;this['SUCCESS_CARD']=_0x13309f(0x1ae),console[_0x13309f(0x197)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a51_0x1bce30(0x18b)](_0x11a7cb){const _0x325246=a51_0x1bce30,{paymentId:_0x36f33a,orderId:_0x407fea,amount:_0x156ed8,currency:_0x2cfcaa,cardData:_0x553b55}=_0x11a7cb;console['log'](_0x325246(0x192)),console[_0x325246(0x197)]('Payment\x20ID:',_0x36f33a),console['log']('Order\x20ID:',_0x407fea),console[_0x325246(0x197)](_0x325246(0x19b),_0x156ed8,_0x2cfcaa),console[_0x325246(0x197)](_0x325246(0x190),this['maskCardNumber'](_0x553b55[_0x325246(0x1ad)])),console[_0x325246(0x197)]('Card\x20Holder:',_0x553b55['cardHolderName']),console[_0x325246(0x197)](_0x325246(0x18e),_0x553b55[_0x325246(0x199)]+'/'+_0x553b55[_0x325246(0x1bc)]),console[_0x325246(0x197)]('CVC:','***');const _0x49e36b=this[_0x325246(0x18c)](_0x553b55);if(!_0x49e36b['isValid'])return console[_0x325246(0x197)](_0x325246(0x1b1),_0x49e36b[_0x325246(0x19a)]),{'success':![],'status':_0x325246(0x1b6),'message':_0x325246(0x19e),'failureReason':_0x49e36b[_0x325246(0x19a)]};const _0xc757e3=_0x553b55[_0x325246(0x1ad)][_0x325246(0x1ab)](/[\s-]/g,'');if(_0xc757e3===this[_0x325246(0x194)]){const _0x2a35d7=this[_0x325246(0x1bb)]();return console['log'](_0x325246(0x188)),console['log'](_0x325246(0x1ac),_0x2a35d7),{'success':!![],'status':'PAID','message':_0x325246(0x1a7),'transactionId':_0x2a35d7};}else return console['log'](_0x325246(0x198)),{'success':![],'status':_0x325246(0x1b6),'message':_0x325246(0x1b7),'failureReason':_0x325246(0x1a3)};}['validateCardData'](_0x5ac9cd){const _0x39871=a51_0x1bce30,_0x956f90=_0x5ac9cd[_0x39871(0x1ad)][_0x39871(0x1ab)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x956f90))return{'isValid':![],'error':_0x39871(0x1b9)};if(!_0x5ac9cd[_0x39871(0x1b2)]||_0x5ac9cd[_0x39871(0x1b2)][_0x39871(0x1aa)]()[_0x39871(0x1a6)]<0x2)return{'isValid':![],'error':_0x39871(0x1b3)};const _0x7ded77=parseInt(_0x5ac9cd[_0x39871(0x199)]);if(isNaN(_0x7ded77)||_0x7ded77<0x1||_0x7ded77>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x5aee4a=parseInt(_0x5ac9cd[_0x39871(0x1bc)]),_0x2ef91b=new Date()[_0x39871(0x1a9)](),_0x3d32b8=_0x5aee4a<0x32?0x7d0+_0x5aee4a:0x76c+_0x5aee4a;if(isNaN(_0x5aee4a)||_0x3d32b8<_0x2ef91b||_0x3d32b8>_0x2ef91b+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x5ac9cd['cvc']))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a51_0x1bce30(0x1a4)](_0x4bfa18){const _0x5dd754=a51_0x1bce30,_0x54aa20=_0x4bfa18[_0x5dd754(0x1ab)](/[\s-]/g,'');if(_0x54aa20[_0x5dd754(0x1a6)]<0x4)return _0x5dd754(0x19c);return _0x5dd754(0x18d)+_0x54aa20[_0x5dd754(0x196)](-0x4);}[a51_0x1bce30(0x1bb)](){const _0x5394e1=a51_0x1bce30,_0xecc005=Date[_0x5394e1(0x1b5)]()[_0x5394e1(0x189)](),_0x55de81=Math['floor'](Math[_0x5394e1(0x1b0)]()*0x2710)['toString']()[_0x5394e1(0x1a8)](0x4,'0');return'test_'+_0xecc005+'_'+_0x55de81;}async[a51_0x1bce30(0x1ba)](_0x359a0a){const _0x419e6f=a51_0x1bce30;return console['log']('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x359a0a),{'paymentId':_0x359a0a[_0x419e6f(0x1a0)]||'','status':_0x359a0a[_0x419e6f(0x1af)]===_0x419e6f(0x187)?_0x419e6f(0x18f):_0x419e6f(0x1b6),'amount':_0x359a0a['amount'],'currency':_0x359a0a[_0x419e6f(0x195)]};}}exports['TestGatewayService']=TestGatewayService;