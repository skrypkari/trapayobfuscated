'use strict';const a46_0x27aac0=a46_0x4fac;(function(_0x51eabc,_0x44a05d){const _0x5c3ab2=a46_0x4fac,_0x3970df=_0x51eabc();while(!![]){try{const _0x1f3261=parseInt(_0x5c3ab2(0x109))/0x1+parseInt(_0x5c3ab2(0x10f))/0x2+-parseInt(_0x5c3ab2(0x125))/0x3*(-parseInt(_0x5c3ab2(0x10d))/0x4)+parseInt(_0x5c3ab2(0x11f))/0x5*(-parseInt(_0x5c3ab2(0x11a))/0x6)+parseInt(_0x5c3ab2(0x13c))/0x7+-parseInt(_0x5c3ab2(0x120))/0x8+parseInt(_0x5c3ab2(0x126))/0x9;if(_0x1f3261===_0x44a05d)break;else _0x3970df['push'](_0x3970df['shift']());}catch(_0x1380e6){_0x3970df['push'](_0x3970df['shift']());}}}(a46_0x255b,0xc4760));function a46_0x4fac(_0x3b625d,_0xdfefdc){const _0x255be4=a46_0x255b();return a46_0x4fac=function(_0x4fac8e,_0x450947){_0x4fac8e=_0x4fac8e-0x108;let _0x51d2e3=_0x255be4[_0x4fac8e];return _0x51d2e3;},a46_0x4fac(_0x3b625d,_0xdfefdc);}function a46_0x255b(){const _0x1607fc=['__esModule','generateTransactionId','processWebhook','SUCCESS_CARD','isValid','test','Card\x20holder\x20name\x20is\x20required','replace','‚úÖ\x20Test\x20payment\x20successful','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','6UsudsJ','Amount:','maskCardNumber','padStart','error','669265XSXXzg','6322384ELjaly','Card\x20Holder:','TestGatewayService','test_','‚ùå\x20Card\x20validation\x20failed:','70032OksEyQ','1097892ljdDYw','Invalid\x20expiry\x20month','status','üß™\x20Test\x20Gateway\x20service\x20initialized','length','***','Card\x20validation\x20failed','cvc','expiryYear','Payment\x20ID:','Expiry:','4242424242424242','floor','Payment\x20failed','Payment\x20processed\x20successfully','Order\x20ID:','Card\x20Number:','CVC\x20must\x20be\x203\x20or\x204\x20digits','FAILED','expiryMonth','cardNumber','success','1874950LoBqsP','currency','log','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','PAID','cardHolderName','192140ZqpXdJ','getFullYear','toString','validateCardData','104vwmotF','slice','1079866jqBqwg'];a46_0x255b=function(){return _0x1607fc;};return a46_0x255b();}Object['defineProperty'](exports,a46_0x27aac0(0x110),{'value':!![]}),exports[a46_0x27aac0(0x122)]=void 0x0;class TestGatewayService{constructor(){const _0xa0b94c=a46_0x27aac0;this['SUCCESS_CARD']=_0xa0b94c(0x131),console[_0xa0b94c(0x13e)](_0xa0b94c(0x129));}async['processCardPayment'](_0x1ed58b){const _0x33fbbf=a46_0x27aac0,{paymentId:_0x1ae540,orderId:_0x5bfda0,amount:_0x49c5ef,currency:_0x3e3f43,cardData:_0x34ac37}=_0x1ed58b;console[_0x33fbbf(0x13e)](_0x33fbbf(0x13f)),console[_0x33fbbf(0x13e)](_0x33fbbf(0x12f),_0x1ae540),console[_0x33fbbf(0x13e)](_0x33fbbf(0x135),_0x5bfda0),console[_0x33fbbf(0x13e)](_0x33fbbf(0x11b),_0x49c5ef,_0x3e3f43),console['log'](_0x33fbbf(0x136),this['maskCardNumber'](_0x34ac37['cardNumber'])),console[_0x33fbbf(0x13e)](_0x33fbbf(0x121),_0x34ac37[_0x33fbbf(0x108)]),console[_0x33fbbf(0x13e)](_0x33fbbf(0x130),_0x34ac37[_0x33fbbf(0x139)]+'/'+_0x34ac37[_0x33fbbf(0x12e)]),console[_0x33fbbf(0x13e)]('CVC:',_0x33fbbf(0x12b));const _0x3e4d77=this[_0x33fbbf(0x10c)](_0x34ac37);if(!_0x3e4d77[_0x33fbbf(0x114)])return console[_0x33fbbf(0x13e)](_0x33fbbf(0x124),_0x3e4d77[_0x33fbbf(0x11e)]),{'success':![],'status':'FAILED','message':_0x33fbbf(0x12c),'failureReason':_0x3e4d77[_0x33fbbf(0x11e)]};const _0x4e74cd=_0x34ac37[_0x33fbbf(0x13a)][_0x33fbbf(0x117)](/[\s-]/g,'');if(_0x4e74cd===this[_0x33fbbf(0x113)]){const _0x3b8d7b=this[_0x33fbbf(0x111)]();return console[_0x33fbbf(0x13e)](_0x33fbbf(0x118)),console['log']('Transaction\x20ID:',_0x3b8d7b),{'success':!![],'status':'PAID','message':_0x33fbbf(0x134),'transactionId':_0x3b8d7b};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x33fbbf(0x138),'message':_0x33fbbf(0x133),'failureReason':_0x33fbbf(0x119)};}[a46_0x27aac0(0x10c)](_0x2c0e05){const _0x4d541f=a46_0x27aac0,_0x532862=_0x2c0e05['cardNumber']['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x4d541f(0x115)](_0x532862))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x2c0e05['cardHolderName']||_0x2c0e05['cardHolderName']['trim']()[_0x4d541f(0x12a)]<0x2)return{'isValid':![],'error':_0x4d541f(0x116)};const _0x429558=parseInt(_0x2c0e05[_0x4d541f(0x139)]);if(isNaN(_0x429558)||_0x429558<0x1||_0x429558>0xc)return{'isValid':![],'error':_0x4d541f(0x127)};const _0x350f46=parseInt(_0x2c0e05[_0x4d541f(0x12e)]),_0x34871c=new Date()[_0x4d541f(0x10a)](),_0x202923=_0x350f46<0x32?0x7d0+_0x350f46:0x76c+_0x350f46;if(isNaN(_0x350f46)||_0x202923<_0x34871c||_0x202923>_0x34871c+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x4d541f(0x115)](_0x2c0e05[_0x4d541f(0x12d)]))return{'isValid':![],'error':_0x4d541f(0x137)};return{'isValid':!![]};}[a46_0x27aac0(0x11c)](_0x58ee68){const _0xbe5da0=a46_0x27aac0,_0x5a6a23=_0x58ee68[_0xbe5da0(0x117)](/[\s-]/g,'');if(_0x5a6a23[_0xbe5da0(0x12a)]<0x4)return'****';return'****\x20****\x20****\x20'+_0x5a6a23[_0xbe5da0(0x10e)](-0x4);}['generateTransactionId'](){const _0x36fccc=a46_0x27aac0,_0x173c81=Date['now']()[_0x36fccc(0x10b)](),_0x1b92a7=Math[_0x36fccc(0x132)](Math['random']()*0x2710)[_0x36fccc(0x10b)]()[_0x36fccc(0x11d)](0x4,'0');return _0x36fccc(0x123)+_0x173c81+'_'+_0x1b92a7;}async[a46_0x27aac0(0x112)](_0x5a6e61){const _0x283928=a46_0x27aac0;return console['log']('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x5a6e61),{'paymentId':_0x5a6e61['order_id']||'','status':_0x5a6e61[_0x283928(0x128)]===_0x283928(0x13b)?_0x283928(0x140):_0x283928(0x138),'amount':_0x5a6e61['amount'],'currency':_0x5a6e61[_0x283928(0x13d)]};}}exports[a46_0x27aac0(0x122)]=TestGatewayService;