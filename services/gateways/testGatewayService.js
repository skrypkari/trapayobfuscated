'use strict';function a71_0x3b15(){const _0x4f1fc0=['3498762uOtXSh','Card\x20number\x20must\x20be\x2016\x20digits','test','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','__esModule','15wrFCMy','expiryYear','length','üß™\x20Test\x20Gateway\x20service\x20initialized','FAILED','Card\x20Holder:','amount','1246304UeapUl','Card\x20holder\x20name\x20is\x20required','172269eEcIXW','cardHolderName','1754DLCPRu','Payment\x20processed\x20successfully','1488033tNXhcd','processWebhook','Payment\x20failed','Card\x20Number:','7475524HgjXRc','generateTransactionId','90XAtaVw','SUCCESS_CARD','isValid','PAID','error','Amount:','log','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','toString','‚úÖ\x20Test\x20payment\x20successful','cvc','cardNumber','floor','Transaction\x20ID:','CVC:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','CVC\x20must\x20be\x203\x20or\x204\x20digits','replace','Invalid\x20expiry\x20month','***','slice','4282736uXtExm','maskCardNumber','Expiry:','****\x20****\x20****\x20','2103CGWGhk','Card\x20validation\x20failed'];a71_0x3b15=function(){return _0x4f1fc0;};return a71_0x3b15();}function a71_0x3c29(_0x441d22,_0x3c20f0){_0x441d22=_0x441d22-0xb6;const _0x3b15f1=a71_0x3b15();let _0x3c29df=_0x3b15f1[_0x441d22];return _0x3c29df;}const a71_0x51b678=a71_0x3c29;(function(_0x135ced,_0x1a4e4c){const _0x1f9e09=a71_0x3c29,_0x1ad244=_0x135ced();while(!![]){try{const _0x2b8103=parseInt(_0x1f9e09(0xd8))/0x1*(parseInt(_0x1f9e09(0xb7))/0x2)+-parseInt(_0x1f9e09(0xb9))/0x3+-parseInt(_0x1f9e09(0xd4))/0x4+parseInt(_0x1f9e09(0xdf))/0x5*(parseInt(_0x1f9e09(0xda))/0x6)+-parseInt(_0x1f9e09(0xbd))/0x7+-parseInt(_0x1f9e09(0xe6))/0x8+parseInt(_0x1f9e09(0xe8))/0x9*(parseInt(_0x1f9e09(0xbf))/0xa);if(_0x2b8103===_0x1a4e4c)break;else _0x1ad244['push'](_0x1ad244['shift']());}catch(_0x581c08){_0x1ad244['push'](_0x1ad244['shift']());}}}(a71_0x3b15,0xee2ce));Object['defineProperty'](exports,a71_0x51b678(0xde),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x27d647=a71_0x51b678;this[_0x27d647(0xc0)]='4242424242424242',console['log'](_0x27d647(0xe2));}async['processCardPayment'](_0x56d648){const _0x46ef77=a71_0x51b678,{paymentId:_0x3e9bc9,orderId:_0x348297,amount:_0x22ace9,currency:_0x538180,cardData:_0x2b84b9}=_0x56d648;console[_0x46ef77(0xc5)](_0x46ef77(0xce)),console[_0x46ef77(0xc5)]('Payment\x20ID:',_0x3e9bc9),console[_0x46ef77(0xc5)]('Order\x20ID:',_0x348297),console[_0x46ef77(0xc5)](_0x46ef77(0xc4),_0x22ace9,_0x538180),console['log'](_0x46ef77(0xbc),this['maskCardNumber'](_0x2b84b9['cardNumber'])),console[_0x46ef77(0xc5)](_0x46ef77(0xe4),_0x2b84b9[_0x46ef77(0xb6)]),console[_0x46ef77(0xc5)](_0x46ef77(0xd6),_0x2b84b9['expiryMonth']+'/'+_0x2b84b9['expiryYear']),console['log'](_0x46ef77(0xcd),_0x46ef77(0xd2));const _0x2389ff=this['validateCardData'](_0x2b84b9);if(!_0x2389ff[_0x46ef77(0xc1)])return console['log']('‚ùå\x20Card\x20validation\x20failed:',_0x2389ff[_0x46ef77(0xc3)]),{'success':![],'status':_0x46ef77(0xe3),'message':_0x46ef77(0xd9),'failureReason':_0x2389ff['error']};const _0x13282e=_0x2b84b9[_0x46ef77(0xca)][_0x46ef77(0xd0)](/[\s-]/g,'');if(_0x13282e===this[_0x46ef77(0xc0)]){const _0x580ec7=this[_0x46ef77(0xbe)]();return console[_0x46ef77(0xc5)](_0x46ef77(0xc8)),console[_0x46ef77(0xc5)](_0x46ef77(0xcc),_0x580ec7),{'success':!![],'status':'PAID','message':_0x46ef77(0xb8),'transactionId':_0x580ec7};}else return console[_0x46ef77(0xc5)](_0x46ef77(0xc6)),{'success':![],'status':_0x46ef77(0xe3),'message':_0x46ef77(0xbb),'failureReason':_0x46ef77(0xdd)};}['validateCardData'](_0x5ae1ab){const _0x538291=a71_0x51b678,_0x39b0a8=_0x5ae1ab[_0x538291(0xca)][_0x538291(0xd0)](/[\s-]/g,'');if(!/^\d{16}$/[_0x538291(0xdc)](_0x39b0a8))return{'isValid':![],'error':_0x538291(0xdb)};if(!_0x5ae1ab[_0x538291(0xb6)]||_0x5ae1ab[_0x538291(0xb6)]['trim']()[_0x538291(0xe1)]<0x2)return{'isValid':![],'error':_0x538291(0xe7)};const _0x317d5d=parseInt(_0x5ae1ab['expiryMonth']);if(isNaN(_0x317d5d)||_0x317d5d<0x1||_0x317d5d>0xc)return{'isValid':![],'error':_0x538291(0xd1)};const _0x5bf084=parseInt(_0x5ae1ab[_0x538291(0xe0)]),_0x5e43fe=new Date()['getFullYear'](),_0x596241=_0x5bf084<0x32?0x7d0+_0x5bf084:0x76c+_0x5bf084;if(isNaN(_0x5bf084)||_0x596241<_0x5e43fe||_0x596241>_0x5e43fe+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x538291(0xdc)](_0x5ae1ab[_0x538291(0xc9)]))return{'isValid':![],'error':_0x538291(0xcf)};return{'isValid':!![]};}[a71_0x51b678(0xd5)](_0xc741ff){const _0x386c9b=a71_0x51b678,_0x50b154=_0xc741ff[_0x386c9b(0xd0)](/[\s-]/g,'');if(_0x50b154['length']<0x4)return'****';return _0x386c9b(0xd7)+_0x50b154[_0x386c9b(0xd3)](-0x4);}[a71_0x51b678(0xbe)](){const _0x29cb41=a71_0x51b678,_0x1c4c5a=Date['now']()['toString'](),_0x50c660=Math[_0x29cb41(0xcb)](Math['random']()*0x2710)[_0x29cb41(0xc7)]()['padStart'](0x4,'0');return'test_'+_0x1c4c5a+'_'+_0x50c660;}async[a71_0x51b678(0xba)](_0x8c232d){const _0x1eb86b=a71_0x51b678;return console['log']('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x8c232d),{'paymentId':_0x8c232d['order_id']||'','status':_0x8c232d['status']==='success'?_0x1eb86b(0xc2):_0x1eb86b(0xe3),'amount':_0x8c232d[_0x1eb86b(0xe5)],'currency':_0x8c232d['currency']};}}exports['TestGatewayService']=TestGatewayService;