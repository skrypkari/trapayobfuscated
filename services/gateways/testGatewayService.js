'use strict';function a65_0x10a2(){const _0x2db3fb=['***','now','slice','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','currency','Card\x20Holder:','5874GoRvgt','expiryMonth','Payment\x20processed\x20successfully','Card\x20Number:','generateTransactionId','16870KnABka','3324222iaoEbz','toString','FAILED','2574761BZKyRe','status','SUCCESS_CARD','4242424242424242','‚ùå\x20Card\x20validation\x20failed:','test','floor','Card\x20validation\x20failed','order_id','cardHolderName','Expiry:','üß™\x20Test\x20Gateway\x20service\x20initialized','replace','random','224ukzeWB','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','validateCardData','defineProperty','5815oHbxAf','Amount:','processCardPayment','cardNumber','1406770cQpBxV','Invalid\x20expiry\x20month','processWebhook','test_','TestGatewayService','error','Order\x20ID:','__esModule','Transaction\x20ID:','PAID','maskCardNumber','cvc','3762528mWJwGr','Payment\x20ID:','CVC:','1188IxGcUb','****','log','length','‚úÖ\x20Test\x20payment\x20successful','expiryYear','Card\x20holder\x20name\x20is\x20required','31OQwHXo','****\x20****\x20****\x20'];a65_0x10a2=function(){return _0x2db3fb;};return a65_0x10a2();}const a65_0x2aae0e=a65_0x929c;(function(_0x1541c5,_0x368842){const _0x3783fc=a65_0x929c,_0x277fb6=_0x1541c5();while(!![]){try{const _0x20f3a8=-parseInt(_0x3783fc(0x1d7))/0x1*(-parseInt(_0x3783fc(0x1e5))/0x2)+-parseInt(_0x3783fc(0x1e0))/0x3*(parseInt(_0x3783fc(0x1b9))/0x4)+-parseInt(_0x3783fc(0x1bd))/0x5*(parseInt(_0x3783fc(0x1d0))/0x6)+parseInt(_0x3783fc(0x1e9))/0x7+parseInt(_0x3783fc(0x1cd))/0x8+-parseInt(_0x3783fc(0x1e6))/0x9+-parseInt(_0x3783fc(0x1c1))/0xa;if(_0x20f3a8===_0x368842)break;else _0x277fb6['push'](_0x277fb6['shift']());}catch(_0x1657f6){_0x277fb6['push'](_0x277fb6['shift']());}}}(a65_0x10a2,0x3cf43));function a65_0x929c(_0x302e6f,_0x169214){_0x302e6f=_0x302e6f-0x1b3;const _0x10a206=a65_0x10a2();let _0x929cb8=_0x10a206[_0x302e6f];return _0x929cb8;}Object[a65_0x2aae0e(0x1bc)](exports,a65_0x2aae0e(0x1c8),{'value':!![]}),exports[a65_0x2aae0e(0x1c5)]=void 0x0;class TestGatewayService{constructor(){const _0x5f020c=a65_0x2aae0e;this[_0x5f020c(0x1eb)]=_0x5f020c(0x1ec),console['log'](_0x5f020c(0x1b6));}async[a65_0x2aae0e(0x1bf)](_0x2b8b52){const _0x26b050=a65_0x2aae0e,{paymentId:_0x1faeaf,orderId:_0x641669,amount:_0x11962a,currency:_0x2dc966,cardData:_0x3f9808}=_0x2b8b52;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x26b050(0x1d2)](_0x26b050(0x1ce),_0x1faeaf),console[_0x26b050(0x1d2)](_0x26b050(0x1c7),_0x641669),console[_0x26b050(0x1d2)](_0x26b050(0x1be),_0x11962a,_0x2dc966),console[_0x26b050(0x1d2)](_0x26b050(0x1e3),this[_0x26b050(0x1cb)](_0x3f9808[_0x26b050(0x1c0)])),console[_0x26b050(0x1d2)](_0x26b050(0x1df),_0x3f9808[_0x26b050(0x1b4)]),console[_0x26b050(0x1d2)](_0x26b050(0x1b5),_0x3f9808[_0x26b050(0x1e1)]+'/'+_0x3f9808['expiryYear']),console[_0x26b050(0x1d2)](_0x26b050(0x1cf),_0x26b050(0x1d9));const _0x348f70=this[_0x26b050(0x1bb)](_0x3f9808);if(!_0x348f70['isValid'])return console[_0x26b050(0x1d2)](_0x26b050(0x1ed),_0x348f70[_0x26b050(0x1c6)]),{'success':![],'status':_0x26b050(0x1e8),'message':_0x26b050(0x1f0),'failureReason':_0x348f70[_0x26b050(0x1c6)]};const _0xca4a2b=_0x3f9808[_0x26b050(0x1c0)][_0x26b050(0x1b7)](/[\s-]/g,'');if(_0xca4a2b===this[_0x26b050(0x1eb)]){const _0x25a534=this[_0x26b050(0x1e4)]();return console['log'](_0x26b050(0x1d4)),console['log'](_0x26b050(0x1c9),_0x25a534),{'success':!![],'status':'PAID','message':_0x26b050(0x1e2),'transactionId':_0x25a534};}else return console[_0x26b050(0x1d2)](_0x26b050(0x1ba)),{'success':![],'status':_0x26b050(0x1e8),'message':'Payment\x20failed','failureReason':_0x26b050(0x1dc)};}[a65_0x2aae0e(0x1bb)](_0x5828c6){const _0x5c652e=a65_0x2aae0e,_0x587020=_0x5828c6[_0x5c652e(0x1c0)][_0x5c652e(0x1b7)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5c652e(0x1ee)](_0x587020))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x5828c6[_0x5c652e(0x1b4)]||_0x5828c6[_0x5c652e(0x1b4)]['trim']()[_0x5c652e(0x1d3)]<0x2)return{'isValid':![],'error':_0x5c652e(0x1d6)};const _0x153e31=parseInt(_0x5828c6[_0x5c652e(0x1e1)]);if(isNaN(_0x153e31)||_0x153e31<0x1||_0x153e31>0xc)return{'isValid':![],'error':_0x5c652e(0x1c2)};const _0x52c0ab=parseInt(_0x5828c6[_0x5c652e(0x1d5)]),_0x260646=new Date()['getFullYear'](),_0x3400e9=_0x52c0ab<0x32?0x7d0+_0x52c0ab:0x76c+_0x52c0ab;if(isNaN(_0x52c0ab)||_0x3400e9<_0x260646||_0x3400e9>_0x260646+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x5c652e(0x1ee)](_0x5828c6[_0x5c652e(0x1cc)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a65_0x2aae0e(0x1cb)](_0x2fa4c1){const _0x2e1223=a65_0x2aae0e,_0x6a990d=_0x2fa4c1[_0x2e1223(0x1b7)](/[\s-]/g,'');if(_0x6a990d[_0x2e1223(0x1d3)]<0x4)return _0x2e1223(0x1d1);return _0x2e1223(0x1d8)+_0x6a990d[_0x2e1223(0x1db)](-0x4);}[a65_0x2aae0e(0x1e4)](){const _0x57c1f1=a65_0x2aae0e,_0x3be9ac=Date[_0x57c1f1(0x1da)]()[_0x57c1f1(0x1e7)](),_0x49ffb8=Math[_0x57c1f1(0x1ef)](Math[_0x57c1f1(0x1b8)]()*0x2710)[_0x57c1f1(0x1e7)]()['padStart'](0x4,'0');return _0x57c1f1(0x1c4)+_0x3be9ac+'_'+_0x49ffb8;}async[a65_0x2aae0e(0x1c3)](_0x39e328){const _0x4695c4=a65_0x2aae0e;return console[_0x4695c4(0x1d2)](_0x4695c4(0x1dd),_0x39e328),{'paymentId':_0x39e328[_0x4695c4(0x1b3)]||'','status':_0x39e328[_0x4695c4(0x1ea)]==='success'?_0x4695c4(0x1ca):_0x4695c4(0x1e8),'amount':_0x39e328['amount'],'currency':_0x39e328[_0x4695c4(0x1de)]};}}exports['TestGatewayService']=TestGatewayService;