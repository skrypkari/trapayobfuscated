'use strict';function a46_0x2869(_0x4977e4,_0x4cd81d){const _0x4a59d5=a46_0x4a59();return a46_0x2869=function(_0x286905,_0x183faf){_0x286905=_0x286905-0x196;let _0x28c837=_0x4a59d5[_0x286905];return _0x28c837;},a46_0x2869(_0x4977e4,_0x4cd81d);}const a46_0x218052=a46_0x2869;(function(_0x45936b,_0x57f94b){const _0x27bf2f=a46_0x2869,_0x232417=_0x45936b();while(!![]){try{const _0x8b46ea=-parseInt(_0x27bf2f(0x1ae))/0x1+parseInt(_0x27bf2f(0x19b))/0x2*(parseInt(_0x27bf2f(0x19c))/0x3)+parseInt(_0x27bf2f(0x1c8))/0x4+-parseInt(_0x27bf2f(0x1b9))/0x5*(parseInt(_0x27bf2f(0x1c6))/0x6)+parseInt(_0x27bf2f(0x1d0))/0x7*(-parseInt(_0x27bf2f(0x19e))/0x8)+-parseInt(_0x27bf2f(0x1a7))/0x9*(-parseInt(_0x27bf2f(0x1ba))/0xa)+parseInt(_0x27bf2f(0x1a0))/0xb;if(_0x8b46ea===_0x57f94b)break;else _0x232417['push'](_0x232417['shift']());}catch(_0x3e7d36){_0x232417['push'](_0x232417['shift']());}}}(a46_0x4a59,0xd375b));Object[a46_0x218052(0x1b8)](exports,'__esModule',{'value':!![]}),exports['TestGatewayService']=void 0x0;function a46_0x4a59(){const _0x506e4e=['Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','isValid','order_id','defineProperty','10oGUXlz','890jeypxw','toString','Card\x20validation\x20failed','length','status','random','log','SUCCESS_CARD','cardNumber','4242424242424242','trim','test','1172538iXZuZU','Payment\x20processed\x20successfully','868624PSKWfP','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Order\x20ID:','amount','CVC\x20must\x20be\x203\x20or\x204\x20digits','padStart','TestGatewayService','2212889GnGdFK','FAILED','cvc','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20Number:','Card\x20holder\x20name\x20is\x20required','Invalid\x20expiry\x20month','50zCjrVe','36675lhKVib','currency','24RZMcFt','maskCardNumber','19159448sSUkJR','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','****','validateCardData','Card\x20Holder:','****\x20****\x20****\x20','CVC:','130311yBJMLO','error','Card\x20number\x20must\x20be\x2016\x20digits','cardHolderName','replace','slice','Transaction\x20ID:','1347814TZywCu','generateTransactionId','test_','expiryYear','now','Amount:','success'];a46_0x4a59=function(){return _0x506e4e;};return a46_0x4a59();}class TestGatewayService{constructor(){const _0x3f5c51=a46_0x218052;this[_0x3f5c51(0x1c1)]=_0x3f5c51(0x1c3),console[_0x3f5c51(0x1c0)](_0x3f5c51(0x197));}async['processCardPayment'](_0x138968){const _0x2240c0=a46_0x218052,{paymentId:_0x42db64,orderId:_0x3a30d1,amount:_0x4067fa,currency:_0x5a0410,cardData:_0x509f00}=_0x138968;console[_0x2240c0(0x1c0)](_0x2240c0(0x1c9)),console[_0x2240c0(0x1c0)]('Payment\x20ID:',_0x42db64),console[_0x2240c0(0x1c0)](_0x2240c0(0x1cb),_0x3a30d1),console['log'](_0x2240c0(0x1b3),_0x4067fa,_0x5a0410),console[_0x2240c0(0x1c0)](_0x2240c0(0x198),this[_0x2240c0(0x19f)](_0x509f00[_0x2240c0(0x1c2)])),console['log'](_0x2240c0(0x1a4),_0x509f00['cardHolderName']),console[_0x2240c0(0x1c0)]('Expiry:',_0x509f00['expiryMonth']+'/'+_0x509f00[_0x2240c0(0x1b1)]),console['log'](_0x2240c0(0x1a6),'***');const _0x3595c9=this[_0x2240c0(0x1a3)](_0x509f00);if(!_0x3595c9[_0x2240c0(0x1b6)])return console[_0x2240c0(0x1c0)]('‚ùå\x20Card\x20validation\x20failed:',_0x3595c9[_0x2240c0(0x1a8)]),{'success':![],'status':_0x2240c0(0x1d1),'message':_0x2240c0(0x1bc),'failureReason':_0x3595c9[_0x2240c0(0x1a8)]};const _0x314651=_0x509f00[_0x2240c0(0x1c2)][_0x2240c0(0x1ab)](/[\s-]/g,'');if(_0x314651===this[_0x2240c0(0x1c1)]){const _0x230b56=this[_0x2240c0(0x1af)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console['log'](_0x2240c0(0x1ad),_0x230b56),{'success':!![],'status':'PAID','message':_0x2240c0(0x1c7),'transactionId':_0x230b56};}else return console[_0x2240c0(0x1c0)](_0x2240c0(0x1ca)),{'success':![],'status':_0x2240c0(0x1d1),'message':'Payment\x20failed','failureReason':_0x2240c0(0x1b5)};}[a46_0x218052(0x1a3)](_0x443734){const _0x5a366c=a46_0x218052,_0x40d4ef=_0x443734['cardNumber'][_0x5a366c(0x1ab)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5a366c(0x1c5)](_0x40d4ef))return{'isValid':![],'error':_0x5a366c(0x1a9)};if(!_0x443734[_0x5a366c(0x1aa)]||_0x443734[_0x5a366c(0x1aa)][_0x5a366c(0x1c4)]()[_0x5a366c(0x1bd)]<0x2)return{'isValid':![],'error':_0x5a366c(0x199)};const _0x4f9dc5=parseInt(_0x443734['expiryMonth']);if(isNaN(_0x4f9dc5)||_0x4f9dc5<0x1||_0x4f9dc5>0xc)return{'isValid':![],'error':_0x5a366c(0x19a)};const _0x3544fd=parseInt(_0x443734[_0x5a366c(0x1b1)]),_0x416293=new Date()['getFullYear'](),_0x303b87=_0x3544fd<0x32?0x7d0+_0x3544fd:0x76c+_0x3544fd;if(isNaN(_0x3544fd)||_0x303b87<_0x416293||_0x303b87>_0x416293+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x5a366c(0x1c5)](_0x443734[_0x5a366c(0x196)]))return{'isValid':![],'error':_0x5a366c(0x1cd)};return{'isValid':!![]};}[a46_0x218052(0x19f)](_0x2204b6){const _0xa503bb=a46_0x218052,_0x231bc1=_0x2204b6[_0xa503bb(0x1ab)](/[\s-]/g,'');if(_0x231bc1[_0xa503bb(0x1bd)]<0x4)return _0xa503bb(0x1a2);return _0xa503bb(0x1a5)+_0x231bc1[_0xa503bb(0x1ac)](-0x4);}[a46_0x218052(0x1af)](){const _0x359bbd=a46_0x218052,_0x399585=Date[_0x359bbd(0x1b2)]()[_0x359bbd(0x1bb)](),_0xac74eb=Math['floor'](Math[_0x359bbd(0x1bf)]()*0x2710)[_0x359bbd(0x1bb)]()[_0x359bbd(0x1ce)](0x4,'0');return _0x359bbd(0x1b0)+_0x399585+'_'+_0xac74eb;}async['processWebhook'](_0x11fbb9){const _0x457267=a46_0x218052;return console[_0x457267(0x1c0)](_0x457267(0x1a1),_0x11fbb9),{'paymentId':_0x11fbb9[_0x457267(0x1b7)]||'','status':_0x11fbb9[_0x457267(0x1be)]===_0x457267(0x1b4)?'PAID':_0x457267(0x1d1),'amount':_0x11fbb9[_0x457267(0x1cc)],'currency':_0x11fbb9[_0x457267(0x19d)]};}}exports[a46_0x218052(0x1cf)]=TestGatewayService;