'use strict';const a47_0x4529ab=a47_0x38c2;function a47_0x2ba7(){const _0x1a67da=['processWebhook','cardNumber','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','197836pdnSvJ','expiryYear','validateCardData','TestGatewayService','Payment\x20failed','__esModule','CVC\x20must\x20be\x203\x20or\x204\x20digits','currency','success','****','5882328VGciQA','Amount:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','error','Card\x20validation\x20failed','generateTransactionId','trim','length','now','23448VamvFj','expiryMonth','***','Card\x20holder\x20name\x20is\x20required','Order\x20ID:','FAILED','5ViofdA','cardHolderName','Transaction\x20ID:','323496VEWBKb','CVC:','Invalid\x20expiry\x20year','4242424242424242','32249WLhUlv','‚ùå\x20Card\x20validation\x20failed:','600936WWEqZr','padStart','maskCardNumber','****\x20****\x20****\x20','amount','test','PAID','Payment\x20processed\x20successfully','1941618oWXfBR','defineProperty','Payment\x20ID:','toString','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','replace','log','slice','test_'];a47_0x2ba7=function(){return _0x1a67da;};return a47_0x2ba7();}(function(_0x1969b4,_0x48a6a6){const _0x2f218e=a47_0x38c2,_0x2058e8=_0x1969b4();while(!![]){try{const _0x22c4b3=-parseInt(_0x2f218e(0x12e))/0x1+parseInt(_0x2f218e(0x12a))/0x2+-parseInt(_0x2f218e(0x157))/0x3+-parseInt(_0x2f218e(0x144))/0x4*(-parseInt(_0x2f218e(0x127))/0x5)+-parseInt(_0x2f218e(0x130))/0x6+-parseInt(_0x2f218e(0x138))/0x7+parseInt(_0x2f218e(0x14e))/0x8;if(_0x22c4b3===_0x48a6a6)break;else _0x2058e8['push'](_0x2058e8['shift']());}catch(_0x4b2028){_0x2058e8['push'](_0x2058e8['shift']());}}}(a47_0x2ba7,0x81207));Object[a47_0x4529ab(0x139)](exports,a47_0x4529ab(0x149),{'value':!![]}),exports[a47_0x4529ab(0x147)]=void 0x0;function a47_0x38c2(_0x263574,_0x142aae){const _0x2ba71c=a47_0x2ba7();return a47_0x38c2=function(_0x38c2f3,_0x107c0b){_0x38c2f3=_0x38c2f3-0x122;let _0x3853d7=_0x2ba71c[_0x38c2f3];return _0x3853d7;},a47_0x38c2(_0x263574,_0x142aae);}class TestGatewayService{constructor(){const _0x316c74=a47_0x4529ab;this['SUCCESS_CARD']=_0x316c74(0x12d),console[_0x316c74(0x13e)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x4dcbe1){const _0x36eeeb=a47_0x4529ab,{paymentId:_0x450b32,orderId:_0x431a31,amount:_0x51ca02,currency:_0x5af366,cardData:_0x3392a0}=_0x4dcbe1;console[_0x36eeeb(0x13e)](_0x36eeeb(0x13c)),console['log'](_0x36eeeb(0x13a),_0x450b32),console[_0x36eeeb(0x13e)](_0x36eeeb(0x125),_0x431a31),console[_0x36eeeb(0x13e)](_0x36eeeb(0x14f),_0x51ca02,_0x5af366),console[_0x36eeeb(0x13e)]('Card\x20Number:',this[_0x36eeeb(0x132)](_0x3392a0[_0x36eeeb(0x142)])),console[_0x36eeeb(0x13e)]('Card\x20Holder:',_0x3392a0[_0x36eeeb(0x128)]),console[_0x36eeeb(0x13e)]('Expiry:',_0x3392a0[_0x36eeeb(0x122)]+'/'+_0x3392a0[_0x36eeeb(0x145)]),console['log'](_0x36eeeb(0x12b),_0x36eeeb(0x123));const _0xb5cfab=this[_0x36eeeb(0x146)](_0x3392a0);if(!_0xb5cfab['isValid'])return console[_0x36eeeb(0x13e)](_0x36eeeb(0x12f),_0xb5cfab[_0x36eeeb(0x151)]),{'success':![],'status':'FAILED','message':_0x36eeeb(0x152),'failureReason':_0xb5cfab[_0x36eeeb(0x151)]};const _0x18c37a=_0x3392a0[_0x36eeeb(0x142)][_0x36eeeb(0x13d)](/[\s-]/g,'');if(_0x18c37a===this['SUCCESS_CARD']){const _0x1d1b01=this[_0x36eeeb(0x153)]();return console[_0x36eeeb(0x13e)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x36eeeb(0x13e)](_0x36eeeb(0x129),_0x1d1b01),{'success':!![],'status':'PAID','message':_0x36eeeb(0x137),'transactionId':_0x1d1b01};}else return console[_0x36eeeb(0x13e)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x36eeeb(0x126),'message':_0x36eeeb(0x148),'failureReason':_0x36eeeb(0x143)};}['validateCardData'](_0x4d50a6){const _0x57ec1c=a47_0x4529ab,_0x4bf95e=_0x4d50a6[_0x57ec1c(0x142)][_0x57ec1c(0x13d)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x4bf95e))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x4d50a6[_0x57ec1c(0x128)]||_0x4d50a6['cardHolderName'][_0x57ec1c(0x154)]()[_0x57ec1c(0x155)]<0x2)return{'isValid':![],'error':_0x57ec1c(0x124)};const _0x367f5c=parseInt(_0x4d50a6[_0x57ec1c(0x122)]);if(isNaN(_0x367f5c)||_0x367f5c<0x1||_0x367f5c>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x5bc77e=parseInt(_0x4d50a6[_0x57ec1c(0x145)]),_0xa86b8c=new Date()['getFullYear'](),_0x418eaa=_0x5bc77e<0x32?0x7d0+_0x5bc77e:0x76c+_0x5bc77e;if(isNaN(_0x5bc77e)||_0x418eaa<_0xa86b8c||_0x418eaa>_0xa86b8c+0x14)return{'isValid':![],'error':_0x57ec1c(0x12c)};if(!/^\d{3,4}$/[_0x57ec1c(0x135)](_0x4d50a6['cvc']))return{'isValid':![],'error':_0x57ec1c(0x14a)};return{'isValid':!![]};}[a47_0x4529ab(0x132)](_0x48aa6e){const _0x465620=a47_0x4529ab,_0x48530e=_0x48aa6e[_0x465620(0x13d)](/[\s-]/g,'');if(_0x48530e[_0x465620(0x155)]<0x4)return _0x465620(0x14d);return _0x465620(0x133)+_0x48530e[_0x465620(0x13f)](-0x4);}[a47_0x4529ab(0x153)](){const _0x2bdd2b=a47_0x4529ab,_0x1fb5ab=Date[_0x2bdd2b(0x156)]()[_0x2bdd2b(0x13b)](),_0x156483=Math['floor'](Math['random']()*0x2710)['toString']()[_0x2bdd2b(0x131)](0x4,'0');return _0x2bdd2b(0x140)+_0x1fb5ab+'_'+_0x156483;}async[a47_0x4529ab(0x141)](_0x548fa0){const _0xa02807=a47_0x4529ab;return console[_0xa02807(0x13e)](_0xa02807(0x150),_0x548fa0),{'paymentId':_0x548fa0['order_id']||'','status':_0x548fa0['status']===_0xa02807(0x14c)?_0xa02807(0x136):'FAILED','amount':_0x548fa0[_0xa02807(0x134)],'currency':_0x548fa0[_0xa02807(0x14b)]};}}exports['TestGatewayService']=TestGatewayService;