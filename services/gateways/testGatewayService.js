'use strict';const a46_0x3072d0=a46_0x2df0;function a46_0x3e7c(){const _0x13e134=['1279935fOwibM','toString','Payment\x20processed\x20successfully','***','üß™\x20Test\x20Gateway\x20service\x20initialized','160536PJQqTa','TestGatewayService','isValid','Transaction\x20ID:','10ExhYim','cardHolderName','expiryMonth','4242424242424242','CVC\x20must\x20be\x203\x20or\x204\x20digits','‚úÖ\x20Test\x20payment\x20successful','Expiry:','FAILED','SUCCESS_CARD','currency','54472jRUaLu','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','random','length','success','error','****','PAID','Amount:','Invalid\x20expiry\x20month','log','5SpQIIB','floor','180BzmxnM','18qExkUY','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','generateTransactionId','CVC:','‚ùå\x20Card\x20validation\x20failed:','processCardPayment','555764Xqsvzr','now','test','expiryYear','Payment\x20failed','replace','trim','validateCardData','cardNumber','Order\x20ID:','defineProperty','1739318sUahPU','6647574AZyEsA','Card\x20validation\x20failed','Card\x20holder\x20name\x20is\x20required','91ymNLus','1638616wTgqqz','processWebhook'];a46_0x3e7c=function(){return _0x13e134;};return a46_0x3e7c();}(function(_0x25855b,_0x3f4dcf){const _0x307465=a46_0x2df0,_0x4c9f5c=_0x25855b();while(!![]){try{const _0x2d45fb=parseInt(_0x307465(0xcd))/0x1+-parseInt(_0x307465(0xd2))/0x2+-parseInt(_0x307465(0xbc))/0x3*(parseInt(_0x307465(0xe7))/0x4)+parseInt(_0x307465(0xb9))/0x5*(-parseInt(_0x307465(0xce))/0x6)+-parseInt(_0x307465(0xd1))/0x7*(-parseInt(_0x307465(0xd9))/0x8)+parseInt(_0x307465(0xd4))/0x9*(parseInt(_0x307465(0xdd))/0xa)+-parseInt(_0x307465(0xc2))/0xb*(-parseInt(_0x307465(0xbb))/0xc);if(_0x2d45fb===_0x3f4dcf)break;else _0x4c9f5c['push'](_0x4c9f5c['shift']());}catch(_0x5efc91){_0x4c9f5c['push'](_0x4c9f5c['shift']());}}}(a46_0x3e7c,0xd99b7));function a46_0x2df0(_0x3329ed,_0x4288e1){const _0x3e7cb5=a46_0x3e7c();return a46_0x2df0=function(_0x2df07f,_0x1ea6b3){_0x2df07f=_0x2df07f-0xb2;let _0x2f30e8=_0x3e7cb5[_0x2df07f];return _0x2f30e8;},a46_0x2df0(_0x3329ed,_0x4288e1);}Object[a46_0x3072d0(0xcc)](exports,'__esModule',{'value':!![]}),exports[a46_0x3072d0(0xda)]=void 0x0;class TestGatewayService{constructor(){const _0x55633f=a46_0x3072d0;this[_0x55633f(0xe5)]=_0x55633f(0xe0),console[_0x55633f(0xb8)](_0x55633f(0xd8));}async[a46_0x3072d0(0xc1)](_0x14cb8a){const _0xf19bfa=a46_0x3072d0,{paymentId:_0x383513,orderId:_0x2eddf3,amount:_0xc073e0,currency:_0x3d91cb,cardData:_0x548b89}=_0x14cb8a;console[_0xf19bfa(0xb8)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0xf19bfa(0xb8)]('Payment\x20ID:',_0x383513),console[_0xf19bfa(0xb8)](_0xf19bfa(0xcb),_0x2eddf3),console[_0xf19bfa(0xb8)](_0xf19bfa(0xb6),_0xc073e0,_0x3d91cb),console[_0xf19bfa(0xb8)]('Card\x20Number:',this['maskCardNumber'](_0x548b89['cardNumber'])),console[_0xf19bfa(0xb8)]('Card\x20Holder:',_0x548b89[_0xf19bfa(0xde)]),console[_0xf19bfa(0xb8)](_0xf19bfa(0xe3),_0x548b89[_0xf19bfa(0xdf)]+'/'+_0x548b89[_0xf19bfa(0xc5)]),console[_0xf19bfa(0xb8)](_0xf19bfa(0xbf),_0xf19bfa(0xd7));const _0x6581e9=this['validateCardData'](_0x548b89);if(!_0x6581e9[_0xf19bfa(0xdb)])return console[_0xf19bfa(0xb8)](_0xf19bfa(0xc0),_0x6581e9[_0xf19bfa(0xb3)]),{'success':![],'status':'FAILED','message':_0xf19bfa(0xcf),'failureReason':_0x6581e9[_0xf19bfa(0xb3)]};const _0x2461db=_0x548b89[_0xf19bfa(0xca)][_0xf19bfa(0xc7)](/[\s-]/g,'');if(_0x2461db===this[_0xf19bfa(0xe5)]){const _0x33f2e2=this[_0xf19bfa(0xbe)]();return console[_0xf19bfa(0xb8)](_0xf19bfa(0xe2)),console[_0xf19bfa(0xb8)](_0xf19bfa(0xdc),_0x33f2e2),{'success':!![],'status':'PAID','message':_0xf19bfa(0xd6),'transactionId':_0x33f2e2};}else return console[_0xf19bfa(0xb8)](_0xf19bfa(0xe8)),{'success':![],'status':'FAILED','message':_0xf19bfa(0xc6),'failureReason':_0xf19bfa(0xbd)};}[a46_0x3072d0(0xc9)](_0x47d9ec){const _0xad1e09=a46_0x3072d0,_0x47e4b9=_0x47d9ec[_0xad1e09(0xca)][_0xad1e09(0xc7)](/[\s-]/g,'');if(!/^\d{16}$/[_0xad1e09(0xc4)](_0x47e4b9))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x47d9ec[_0xad1e09(0xde)]||_0x47d9ec[_0xad1e09(0xde)][_0xad1e09(0xc8)]()[_0xad1e09(0xea)]<0x2)return{'isValid':![],'error':_0xad1e09(0xd0)};const _0x21fe7d=parseInt(_0x47d9ec[_0xad1e09(0xdf)]);if(isNaN(_0x21fe7d)||_0x21fe7d<0x1||_0x21fe7d>0xc)return{'isValid':![],'error':_0xad1e09(0xb7)};const _0x5d147c=parseInt(_0x47d9ec[_0xad1e09(0xc5)]),_0x1062cf=new Date()['getFullYear'](),_0x189e7d=_0x5d147c<0x32?0x7d0+_0x5d147c:0x76c+_0x5d147c;if(isNaN(_0x5d147c)||_0x189e7d<_0x1062cf||_0x189e7d>_0x1062cf+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0xad1e09(0xc4)](_0x47d9ec['cvc']))return{'isValid':![],'error':_0xad1e09(0xe1)};return{'isValid':!![]};}['maskCardNumber'](_0x5ada0d){const _0x2b3213=a46_0x3072d0,_0x487b0c=_0x5ada0d[_0x2b3213(0xc7)](/[\s-]/g,'');if(_0x487b0c['length']<0x4)return _0x2b3213(0xb4);return'****\x20****\x20****\x20'+_0x487b0c['slice'](-0x4);}[a46_0x3072d0(0xbe)](){const _0x1f8c22=a46_0x3072d0,_0x7edfd0=Date[_0x1f8c22(0xc3)]()[_0x1f8c22(0xd5)](),_0x10a88e=Math[_0x1f8c22(0xba)](Math[_0x1f8c22(0xe9)]()*0x2710)[_0x1f8c22(0xd5)]()['padStart'](0x4,'0');return'test_'+_0x7edfd0+'_'+_0x10a88e;}async[a46_0x3072d0(0xd3)](_0x56b6df){const _0x169cfc=a46_0x3072d0;return console[_0x169cfc(0xb8)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x56b6df),{'paymentId':_0x56b6df['order_id']||'','status':_0x56b6df['status']===_0x169cfc(0xb2)?_0x169cfc(0xb5):_0x169cfc(0xe4),'amount':_0x56b6df['amount'],'currency':_0x56b6df[_0x169cfc(0xe6)]};}}exports['TestGatewayService']=TestGatewayService;