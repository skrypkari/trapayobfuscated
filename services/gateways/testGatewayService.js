'use strict';function a65_0x4429(){const _0x442dc7=['floor','trim','2023864IVITOh','cardHolderName','4242424242424242','length','cvc','test','Invalid\x20expiry\x20month','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','507717CWTsDm','success','434832OVjkQv','Expiry:','SUCCESS_CARD','‚ùå\x20Card\x20validation\x20failed:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','TestGatewayService','order_id','toString','FAILED','****\x20****\x20****\x20','Payment\x20processed\x20successfully','üß™\x20Test\x20Gateway\x20service\x20initialized','***','7oRQGbY','Card\x20validation\x20failed','Payment\x20ID:','82456gXloTP','****','isValid','Card\x20Number:','cardNumber','now','slice','test_','2lLmkrG','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','expiryMonth','PAID','padStart','log','random','Card\x20number\x20must\x20be\x2016\x20digits','generateTransactionId','replace','processCardPayment','10975RkbuFg','validateCardData','status','942bPYLON','expiryYear','1295984xkdffo','730tnuXJR','maskCardNumber','651754ndlzXv','error'];a65_0x4429=function(){return _0x442dc7;};return a65_0x4429();}function a65_0x18aa(_0x5286dc,_0x70e8d4){_0x5286dc=_0x5286dc-0x127;const _0x4429dd=a65_0x4429();let _0x18aae7=_0x4429dd[_0x5286dc];return _0x18aae7;}const a65_0x1a5c4f=a65_0x18aa;(function(_0x4aeacf,_0x96d75a){const _0x5082d2=a65_0x18aa,_0x26e4b6=_0x4aeacf();while(!![]){try{const _0x4d2f31=parseInt(_0x5082d2(0x13c))/0x1*(parseInt(_0x5082d2(0x150))/0x2)+-parseInt(_0x5082d2(0x15e))/0x3+parseInt(_0x5082d2(0x154))/0x4+parseInt(_0x5082d2(0x148))/0x5*(-parseInt(_0x5082d2(0x14b))/0x6)+-parseInt(_0x5082d2(0x131))/0x7*(-parseInt(_0x5082d2(0x14d))/0x8)+parseInt(_0x5082d2(0x15c))/0x9+-parseInt(_0x5082d2(0x14e))/0xa*(parseInt(_0x5082d2(0x134))/0xb);if(_0x4d2f31===_0x96d75a)break;else _0x26e4b6['push'](_0x26e4b6['shift']());}catch(_0x4becff){_0x26e4b6['push'](_0x26e4b6['shift']());}}}(a65_0x4429,0x52da4));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a65_0x1a5c4f(0x129)]=void 0x0;class TestGatewayService{constructor(){const _0x7b8e85=a65_0x1a5c4f;this[_0x7b8e85(0x160)]=_0x7b8e85(0x156),console['log'](_0x7b8e85(0x12f));}async[a65_0x1a5c4f(0x147)](_0x2a7db7){const _0x2ef314=a65_0x1a5c4f,{paymentId:_0x5abddb,orderId:_0x53eece,amount:_0x1c3282,currency:_0x28eda6,cardData:_0x985439}=_0x2a7db7;console[_0x2ef314(0x142)](_0x2ef314(0x128)),console[_0x2ef314(0x142)](_0x2ef314(0x133),_0x5abddb),console[_0x2ef314(0x142)]('Order\x20ID:',_0x53eece),console[_0x2ef314(0x142)]('Amount:',_0x1c3282,_0x28eda6),console['log'](_0x2ef314(0x137),this[_0x2ef314(0x14f)](_0x985439[_0x2ef314(0x138)])),console[_0x2ef314(0x142)]('Card\x20Holder:',_0x985439[_0x2ef314(0x155)]),console['log'](_0x2ef314(0x15f),_0x985439[_0x2ef314(0x13f)]+'/'+_0x985439[_0x2ef314(0x14c)]),console[_0x2ef314(0x142)]('CVC:',_0x2ef314(0x130));const _0x5135e2=this[_0x2ef314(0x149)](_0x985439);if(!_0x5135e2[_0x2ef314(0x136)])return console['log'](_0x2ef314(0x127),_0x5135e2[_0x2ef314(0x151)]),{'success':![],'status':'FAILED','message':_0x2ef314(0x132),'failureReason':_0x5135e2[_0x2ef314(0x151)]};const _0x3dbd57=_0x985439[_0x2ef314(0x138)][_0x2ef314(0x146)](/[\s-]/g,'');if(_0x3dbd57===this[_0x2ef314(0x160)]){const _0x374b9a=this[_0x2ef314(0x145)]();return console[_0x2ef314(0x142)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x2ef314(0x142)]('Transaction\x20ID:',_0x374b9a),{'success':!![],'status':_0x2ef314(0x140),'message':_0x2ef314(0x12e),'transactionId':_0x374b9a};}else return console[_0x2ef314(0x142)](_0x2ef314(0x15b)),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':_0x2ef314(0x13d)};}[a65_0x1a5c4f(0x149)](_0xf6ad93){const _0x5b2a51=a65_0x1a5c4f,_0x1e12d4=_0xf6ad93[_0x5b2a51(0x138)][_0x5b2a51(0x146)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5b2a51(0x159)](_0x1e12d4))return{'isValid':![],'error':_0x5b2a51(0x144)};if(!_0xf6ad93['cardHolderName']||_0xf6ad93[_0x5b2a51(0x155)][_0x5b2a51(0x153)]()[_0x5b2a51(0x157)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x52ff4c=parseInt(_0xf6ad93[_0x5b2a51(0x13f)]);if(isNaN(_0x52ff4c)||_0x52ff4c<0x1||_0x52ff4c>0xc)return{'isValid':![],'error':_0x5b2a51(0x15a)};const _0x3aebe0=parseInt(_0xf6ad93[_0x5b2a51(0x14c)]),_0x3495c9=new Date()['getFullYear'](),_0x18bbe4=_0x3aebe0<0x32?0x7d0+_0x3aebe0:0x76c+_0x3aebe0;if(isNaN(_0x3aebe0)||_0x18bbe4<_0x3495c9||_0x18bbe4>_0x3495c9+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x5b2a51(0x159)](_0xf6ad93[_0x5b2a51(0x158)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x207549){const _0x4d7b41=a65_0x1a5c4f,_0x2e1f38=_0x207549[_0x4d7b41(0x146)](/[\s-]/g,'');if(_0x2e1f38[_0x4d7b41(0x157)]<0x4)return _0x4d7b41(0x135);return _0x4d7b41(0x12d)+_0x2e1f38[_0x4d7b41(0x13a)](-0x4);}[a65_0x1a5c4f(0x145)](){const _0x1cbfc6=a65_0x1a5c4f,_0x12bf79=Date[_0x1cbfc6(0x139)]()[_0x1cbfc6(0x12b)](),_0x153f00=Math[_0x1cbfc6(0x152)](Math[_0x1cbfc6(0x143)]()*0x2710)[_0x1cbfc6(0x12b)]()[_0x1cbfc6(0x141)](0x4,'0');return _0x1cbfc6(0x13b)+_0x12bf79+'_'+_0x153f00;}async['processWebhook'](_0x22b3ed){const _0x5dc6a0=a65_0x1a5c4f;return console['log'](_0x5dc6a0(0x13e),_0x22b3ed),{'paymentId':_0x22b3ed[_0x5dc6a0(0x12a)]||'','status':_0x22b3ed[_0x5dc6a0(0x14a)]===_0x5dc6a0(0x15d)?_0x5dc6a0(0x140):_0x5dc6a0(0x12c),'amount':_0x22b3ed['amount'],'currency':_0x22b3ed['currency']};}}exports[a65_0x1a5c4f(0x129)]=TestGatewayService;