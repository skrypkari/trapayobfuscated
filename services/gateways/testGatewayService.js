'use strict';const a47_0x1e27f1=a47_0x1dfa;function a47_0x1dfa(_0x3fe205,_0x34c7de){const _0x45d209=a47_0x45d2();return a47_0x1dfa=function(_0x1dfa43,_0x1fcc58){_0x1dfa43=_0x1dfa43-0xb5;let _0x1a46bf=_0x45d209[_0x1dfa43];return _0x1a46bf;},a47_0x1dfa(_0x3fe205,_0x34c7de);}function a47_0x45d2(){const _0xac9ee9=['Invalid\x20expiry\x20year','3mmSsFX','***','FAILED','13FGakWZ','cardHolderName','266672mJdlTv','12237972KZxGdy','success','replace','Invalid\x20expiry\x20month','1372576GJAcVJ','Card\x20Holder:','isValid','defineProperty','Card\x20holder\x20name\x20is\x20required','now','****\x20****\x20****\x20','maskCardNumber','Card\x20Number:','generateTransactionId','Amount:','8nhfPsn','Transaction\x20ID:','4310uQtJfj','CVC:','test_','‚ùå\x20Card\x20validation\x20failed:','toString','60EDWuby','slice','length','Card\x20number\x20must\x20be\x2016\x20digits','1355912gkQpId','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','25YTSuYP','log','Payment\x20processed\x20successfully','floor','processCardPayment','validateCardData','getFullYear','499604ZtTOCZ','cardNumber','cvc','SUCCESS_CARD','üß™\x20Test\x20Gateway\x20service\x20initialized','****','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','test','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','padStart','expiryYear','error','processWebhook','Payment\x20failed','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Expiry:','21890KucoEe','order_id','PAID','Card\x20validation\x20failed','6553566LarEgX','TestGatewayService'];a47_0x45d2=function(){return _0xac9ee9;};return a47_0x45d2();}(function(_0x4e23bf,_0x17e6c6){const _0x4b31d7=a47_0x1dfa,_0x3e1a54=_0x4e23bf();while(!![]){try{const _0x42e34d=parseInt(_0x4b31d7(0xdb))/0x1+-parseInt(_0x4b31d7(0xf1))/0x2*(parseInt(_0x4b31d7(0xd1))/0x3)+-parseInt(_0x4b31d7(0xba))/0x4*(-parseInt(_0x4b31d7(0xf3))/0x5)+-parseInt(_0x4b31d7(0xed))/0x6*(-parseInt(_0x4b31d7(0xd6))/0x7)+-parseInt(_0x4b31d7(0xe6))/0x8*(parseInt(_0x4b31d7(0xce))/0x9)+parseInt(_0x4b31d7(0xe8))/0xa*(parseInt(_0x4b31d7(0xca))/0xb)+parseInt(_0x4b31d7(0xd7))/0xc*(-parseInt(_0x4b31d7(0xd4))/0xd);if(_0x42e34d===_0x17e6c6)break;else _0x3e1a54['push'](_0x3e1a54['shift']());}catch(_0x30db90){_0x3e1a54['push'](_0x3e1a54['shift']());}}}(a47_0x45d2,0xc5b2a));Object[a47_0x1e27f1(0xde)](exports,'__esModule',{'value':!![]}),exports[a47_0x1e27f1(0xcf)]=void 0x0;class TestGatewayService{constructor(){const _0x211238=a47_0x1e27f1;this['SUCCESS_CARD']='4242424242424242',console[_0x211238(0xf4)](_0x211238(0xbe));}async[a47_0x1e27f1(0xb7)](_0x13842c){const _0x711fc8=a47_0x1e27f1,{paymentId:_0x76b9d8,orderId:_0x2f6da2,amount:_0x248fb7,currency:_0x5dc425,cardData:_0x2ac01a}=_0x13842c;console[_0x711fc8(0xf4)](_0x711fc8(0xf2)),console[_0x711fc8(0xf4)]('Payment\x20ID:',_0x76b9d8),console[_0x711fc8(0xf4)]('Order\x20ID:',_0x2f6da2),console[_0x711fc8(0xf4)](_0x711fc8(0xe5),_0x248fb7,_0x5dc425),console[_0x711fc8(0xf4)](_0x711fc8(0xe3),this['maskCardNumber'](_0x2ac01a['cardNumber'])),console[_0x711fc8(0xf4)](_0x711fc8(0xdc),_0x2ac01a[_0x711fc8(0xd5)]),console[_0x711fc8(0xf4)](_0x711fc8(0xc9),_0x2ac01a['expiryMonth']+'/'+_0x2ac01a[_0x711fc8(0xc4)]),console['log'](_0x711fc8(0xe9),_0x711fc8(0xd2));const _0x24ad75=this[_0x711fc8(0xb8)](_0x2ac01a);if(!_0x24ad75[_0x711fc8(0xdd)])return console[_0x711fc8(0xf4)](_0x711fc8(0xeb),_0x24ad75[_0x711fc8(0xc5)]),{'success':![],'status':_0x711fc8(0xd3),'message':_0x711fc8(0xcd),'failureReason':_0x24ad75['error']};const _0x11b2f6=_0x2ac01a[_0x711fc8(0xbb)][_0x711fc8(0xd9)](/[\s-]/g,'');if(_0x11b2f6===this[_0x711fc8(0xbd)]){const _0xfb4057=this[_0x711fc8(0xe4)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x711fc8(0xf4)](_0x711fc8(0xe7),_0xfb4057),{'success':!![],'status':_0x711fc8(0xcc),'message':_0x711fc8(0xb5),'transactionId':_0xfb4057};}else return console[_0x711fc8(0xf4)](_0x711fc8(0xc8)),{'success':![],'status':_0x711fc8(0xd3),'message':_0x711fc8(0xc7),'failureReason':_0x711fc8(0xc2)};}[a47_0x1e27f1(0xb8)](_0x892266){const _0x5812d3=a47_0x1e27f1,_0xd6e6b3=_0x892266['cardNumber'][_0x5812d3(0xd9)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5812d3(0xc1)](_0xd6e6b3))return{'isValid':![],'error':_0x5812d3(0xf0)};if(!_0x892266[_0x5812d3(0xd5)]||_0x892266[_0x5812d3(0xd5)]['trim']()[_0x5812d3(0xef)]<0x2)return{'isValid':![],'error':_0x5812d3(0xdf)};const _0x2a77c2=parseInt(_0x892266['expiryMonth']);if(isNaN(_0x2a77c2)||_0x2a77c2<0x1||_0x2a77c2>0xc)return{'isValid':![],'error':_0x5812d3(0xda)};const _0x388ff1=parseInt(_0x892266[_0x5812d3(0xc4)]),_0x38dd82=new Date()[_0x5812d3(0xb9)](),_0x46e7ca=_0x388ff1<0x32?0x7d0+_0x388ff1:0x76c+_0x388ff1;if(isNaN(_0x388ff1)||_0x46e7ca<_0x38dd82||_0x46e7ca>_0x38dd82+0x14)return{'isValid':![],'error':_0x5812d3(0xd0)};if(!/^\d{3,4}$/[_0x5812d3(0xc1)](_0x892266[_0x5812d3(0xbc)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a47_0x1e27f1(0xe2)](_0x4a1b1a){const _0x10dca1=a47_0x1e27f1,_0x3ea8a5=_0x4a1b1a[_0x10dca1(0xd9)](/[\s-]/g,'');if(_0x3ea8a5[_0x10dca1(0xef)]<0x4)return _0x10dca1(0xbf);return _0x10dca1(0xe1)+_0x3ea8a5[_0x10dca1(0xee)](-0x4);}[a47_0x1e27f1(0xe4)](){const _0x4c1bc5=a47_0x1e27f1,_0x429ec5=Date[_0x4c1bc5(0xe0)]()[_0x4c1bc5(0xec)](),_0x2c35c2=Math[_0x4c1bc5(0xb6)](Math['random']()*0x2710)[_0x4c1bc5(0xec)]()[_0x4c1bc5(0xc3)](0x4,'0');return _0x4c1bc5(0xea)+_0x429ec5+'_'+_0x2c35c2;}async[a47_0x1e27f1(0xc6)](_0x5a9e7f){const _0x2d2bae=a47_0x1e27f1;return console[_0x2d2bae(0xf4)](_0x2d2bae(0xc0),_0x5a9e7f),{'paymentId':_0x5a9e7f[_0x2d2bae(0xcb)]||'','status':_0x5a9e7f['status']===_0x2d2bae(0xd8)?_0x2d2bae(0xcc):_0x2d2bae(0xd3),'amount':_0x5a9e7f['amount'],'currency':_0x5a9e7f['currency']};}}exports['TestGatewayService']=TestGatewayService;