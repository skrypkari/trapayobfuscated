'use strict';const a45_0x4b5011=a45_0x4dc8;(function(_0xd2445b,_0x507e92){const _0x207ce5=a45_0x4dc8,_0x2ec450=_0xd2445b();while(!![]){try{const _0x6b7d87=parseInt(_0x207ce5(0x11a))/0x1+-parseInt(_0x207ce5(0x113))/0x2*(parseInt(_0x207ce5(0x13f))/0x3)+-parseInt(_0x207ce5(0x116))/0x4+parseInt(_0x207ce5(0x111))/0x5*(parseInt(_0x207ce5(0x131))/0x6)+-parseInt(_0x207ce5(0x11e))/0x7*(-parseInt(_0x207ce5(0x121))/0x8)+-parseInt(_0x207ce5(0x137))/0x9+parseInt(_0x207ce5(0x12d))/0xa*(parseInt(_0x207ce5(0x12c))/0xb);if(_0x6b7d87===_0x507e92)break;else _0x2ec450['push'](_0x2ec450['shift']());}catch(_0x4e6d7f){_0x2ec450['push'](_0x2ec450['shift']());}}}(a45_0x2078,0xa61b3));function a45_0x4dc8(_0x4bb615,_0x35fc86){const _0x207808=a45_0x2078();return a45_0x4dc8=function(_0x4dc821,_0x24d515){_0x4dc821=_0x4dc821-0x10b;let _0x59332b=_0x207808[_0x4dc821];return _0x59332b;},a45_0x4dc8(_0x4bb615,_0x35fc86);}Object[a45_0x4b5011(0x134)](exports,'__esModule',{'value':!![]}),exports[a45_0x4b5011(0x12e)]=void 0x0;function a45_0x2078(){const _0x39c8b3=['Expiry:','now','maskCardNumber','cvc','getFullYear','Payment\x20processed\x20successfully','toString','expiryMonth','441221aAJpnH','190siSSXI','TestGatewayService','status','error','6wiIzzw','****','Card\x20holder\x20name\x20is\x20required','defineProperty','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','isValid','4630023TawZBa','Card\x20number\x20must\x20be\x2016\x20digits','FAILED','‚úÖ\x20Test\x20payment\x20successful','Invalid\x20expiry\x20month','validateCardData','expiryYear','replace','869727ySvROd','cardHolderName','üß™\x20Test\x20Gateway\x20service\x20initialized','cardNumber','Card\x20Holder:','slice','CVC:','Payment\x20ID:','random','test_','SUCCESS_CARD','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','length','5807020uJwMUV','PAID','4LBDcbH','Transaction\x20ID:','Order\x20ID:','4044660YHbdPN','generateTransactionId','padStart','***','621611tDuElC','log','Amount:','Card\x20Number:','7dqzerj','processWebhook','success','1925416TsytqB','Card\x20validation\x20failed','Payment\x20failed'];a45_0x2078=function(){return _0x39c8b3;};return a45_0x2078();}class TestGatewayService{constructor(){const _0x21a72c=a45_0x4b5011;this[_0x21a72c(0x10e)]='4242424242424242',console[_0x21a72c(0x11b)](_0x21a72c(0x141));}async['processCardPayment'](_0x3ec551){const _0x46e44c=a45_0x4b5011,{paymentId:_0x1b1ae3,orderId:_0x40ebe3,amount:_0x2644be,currency:_0x22e2d9,cardData:_0xff634f}=_0x3ec551;console[_0x46e44c(0x11b)](_0x46e44c(0x135)),console['log'](_0x46e44c(0x10b),_0x1b1ae3),console[_0x46e44c(0x11b)](_0x46e44c(0x115),_0x40ebe3),console[_0x46e44c(0x11b)](_0x46e44c(0x11c),_0x2644be,_0x22e2d9),console['log'](_0x46e44c(0x11d),this['maskCardNumber'](_0xff634f[_0x46e44c(0x142)])),console[_0x46e44c(0x11b)](_0x46e44c(0x143),_0xff634f[_0x46e44c(0x140)]),console[_0x46e44c(0x11b)](_0x46e44c(0x124),_0xff634f[_0x46e44c(0x12b)]+'/'+_0xff634f[_0x46e44c(0x13d)]),console[_0x46e44c(0x11b)](_0x46e44c(0x145),_0x46e44c(0x119));const _0x3a9ebb=this[_0x46e44c(0x13c)](_0xff634f);if(!_0x3a9ebb[_0x46e44c(0x136)])return console[_0x46e44c(0x11b)]('‚ùå\x20Card\x20validation\x20failed:',_0x3a9ebb[_0x46e44c(0x130)]),{'success':![],'status':_0x46e44c(0x139),'message':_0x46e44c(0x122),'failureReason':_0x3a9ebb[_0x46e44c(0x130)]};const _0xbdd6f9=_0xff634f[_0x46e44c(0x142)][_0x46e44c(0x13e)](/[\s-]/g,'');if(_0xbdd6f9===this[_0x46e44c(0x10e)]){const _0x49f803=this[_0x46e44c(0x117)]();return console[_0x46e44c(0x11b)](_0x46e44c(0x13a)),console[_0x46e44c(0x11b)](_0x46e44c(0x114),_0x49f803),{'success':!![],'status':_0x46e44c(0x112),'message':_0x46e44c(0x129),'transactionId':_0x49f803};}else return console[_0x46e44c(0x11b)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x46e44c(0x139),'message':_0x46e44c(0x123),'failureReason':_0x46e44c(0x10f)};}[a45_0x4b5011(0x13c)](_0x476dbf){const _0x1524f3=a45_0x4b5011,_0x41c45b=_0x476dbf['cardNumber'][_0x1524f3(0x13e)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x41c45b))return{'isValid':![],'error':_0x1524f3(0x138)};if(!_0x476dbf[_0x1524f3(0x140)]||_0x476dbf['cardHolderName']['trim']()[_0x1524f3(0x110)]<0x2)return{'isValid':![],'error':_0x1524f3(0x133)};const _0x394965=parseInt(_0x476dbf[_0x1524f3(0x12b)]);if(isNaN(_0x394965)||_0x394965<0x1||_0x394965>0xc)return{'isValid':![],'error':_0x1524f3(0x13b)};const _0x4cbcc8=parseInt(_0x476dbf[_0x1524f3(0x13d)]),_0x371268=new Date()[_0x1524f3(0x128)](),_0x51853e=_0x4cbcc8<0x32?0x7d0+_0x4cbcc8:0x76c+_0x4cbcc8;if(isNaN(_0x4cbcc8)||_0x51853e<_0x371268||_0x51853e>_0x371268+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x476dbf[_0x1524f3(0x127)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a45_0x4b5011(0x126)](_0x19e52f){const _0x1bdbf5=a45_0x4b5011,_0x220b84=_0x19e52f[_0x1bdbf5(0x13e)](/[\s-]/g,'');if(_0x220b84[_0x1bdbf5(0x110)]<0x4)return _0x1bdbf5(0x132);return'****\x20****\x20****\x20'+_0x220b84[_0x1bdbf5(0x144)](-0x4);}[a45_0x4b5011(0x117)](){const _0x5f46bf=a45_0x4b5011,_0x5e3551=Date[_0x5f46bf(0x125)]()[_0x5f46bf(0x12a)](),_0x3fb328=Math['floor'](Math[_0x5f46bf(0x10c)]()*0x2710)[_0x5f46bf(0x12a)]()[_0x5f46bf(0x118)](0x4,'0');return _0x5f46bf(0x10d)+_0x5e3551+'_'+_0x3fb328;}async[a45_0x4b5011(0x11f)](_0xd0fa6c){const _0x5d3333=a45_0x4b5011;return console[_0x5d3333(0x11b)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0xd0fa6c),{'paymentId':_0xd0fa6c['order_id']||'','status':_0xd0fa6c[_0x5d3333(0x12f)]===_0x5d3333(0x120)?'PAID':_0x5d3333(0x139),'amount':_0xd0fa6c['amount'],'currency':_0xd0fa6c['currency']};}}exports[a45_0x4b5011(0x12e)]=TestGatewayService;