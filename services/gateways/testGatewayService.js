'use strict';const a73_0x56fead=a73_0x344f;(function(_0x419dba,_0x30f974){const _0x495afe=a73_0x344f,_0x1f45a0=_0x419dba();while(!![]){try{const _0x336891=-parseInt(_0x495afe(0x95))/0x1+parseInt(_0x495afe(0x83))/0x2*(parseInt(_0x495afe(0xa0))/0x3)+-parseInt(_0x495afe(0x92))/0x4+-parseInt(_0x495afe(0x90))/0x5*(-parseInt(_0x495afe(0x79))/0x6)+-parseInt(_0x495afe(0xa4))/0x7+parseInt(_0x495afe(0x7f))/0x8+parseInt(_0x495afe(0xa8))/0x9*(parseInt(_0x495afe(0x8d))/0xa);if(_0x336891===_0x30f974)break;else _0x1f45a0['push'](_0x1f45a0['shift']());}catch(_0x4fe433){_0x1f45a0['push'](_0x1f45a0['shift']());}}}(a73_0x2d25,0xeb093));function a73_0x344f(_0x49db4f,_0x473dd7){_0x49db4f=_0x49db4f-0x70;const _0x2d2531=a73_0x2d25();let _0x344f7a=_0x2d2531[_0x49db4f];return _0x344f7a;}Object[a73_0x56fead(0x7d)](exports,a73_0x56fead(0x9a),{'value':!![]}),exports['TestGatewayService']=void 0x0;function a73_0x2d25(){const _0x30dbd0=['now','length','914604SItMdV','amount','Transaction\x20ID:','status','defineProperty','Order\x20ID:','1180512CGzwng','Card\x20Number:','replace','CVC:','2888678lYJMmV','processCardPayment','expiryMonth','Invalid\x20expiry\x20year','isValid','Payment\x20processed\x20successfully','Invalid\x20expiry\x20month','padStart','SUCCESS_CARD','validateCardData','20MxWbWT','test','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','25FqVTNk','Amount:','2087004gWxfVL','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','cardHolderName','242468yFEgkI','****\x20****\x20****\x20','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','cardNumber','getFullYear','__esModule','expiryYear','generateTransactionId','Card\x20holder\x20name\x20is\x20required','processWebhook','Payment\x20failed','3XNncjT','cvc','currency','toString','9604945fqBqae','Card\x20validation\x20failed','error','log','3352446aJCzuL','4242424242424242','***','PAID','trim','FAILED','Card\x20Holder:','‚úÖ\x20Test\x20payment\x20successful'];a73_0x2d25=function(){return _0x30dbd0;};return a73_0x2d25();}class TestGatewayService{constructor(){const _0x14bd39=a73_0x56fead;this[_0x14bd39(0x8b)]=_0x14bd39(0x70),console[_0x14bd39(0xa7)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a73_0x56fead(0x84)](_0x51162d){const _0x3527d4=a73_0x56fead,{paymentId:_0x558e16,orderId:_0x1958f2,amount:_0x53c93c,currency:_0x4e7c31,cardData:_0x2c5a44}=_0x51162d;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x3527d4(0xa7)]('Payment\x20ID:',_0x558e16),console[_0x3527d4(0xa7)](_0x3527d4(0x7e),_0x1958f2),console[_0x3527d4(0xa7)](_0x3527d4(0x91),_0x53c93c,_0x4e7c31),console[_0x3527d4(0xa7)](_0x3527d4(0x80),this['maskCardNumber'](_0x2c5a44[_0x3527d4(0x98)])),console[_0x3527d4(0xa7)](_0x3527d4(0x75),_0x2c5a44[_0x3527d4(0x94)]),console[_0x3527d4(0xa7)]('Expiry:',_0x2c5a44['expiryMonth']+'/'+_0x2c5a44[_0x3527d4(0x9b)]),console[_0x3527d4(0xa7)](_0x3527d4(0x82),_0x3527d4(0x71));const _0x1d895a=this[_0x3527d4(0x8c)](_0x2c5a44);if(!_0x1d895a[_0x3527d4(0x87)])return console[_0x3527d4(0xa7)]('‚ùå\x20Card\x20validation\x20failed:',_0x1d895a[_0x3527d4(0xa6)]),{'success':![],'status':'FAILED','message':_0x3527d4(0xa5),'failureReason':_0x1d895a[_0x3527d4(0xa6)]};const _0x8b2928=_0x2c5a44[_0x3527d4(0x98)][_0x3527d4(0x81)](/[\s-]/g,'');if(_0x8b2928===this['SUCCESS_CARD']){const _0x2a8633=this[_0x3527d4(0x9c)]();return console[_0x3527d4(0xa7)](_0x3527d4(0x76)),console[_0x3527d4(0xa7)](_0x3527d4(0x7b),_0x2a8633),{'success':!![],'status':_0x3527d4(0x72),'message':_0x3527d4(0x88),'transactionId':_0x2a8633};}else return console['log'](_0x3527d4(0x8f)),{'success':![],'status':_0x3527d4(0x74),'message':_0x3527d4(0x9f),'failureReason':_0x3527d4(0x97)};}[a73_0x56fead(0x8c)](_0x3a38fa){const _0x199eb9=a73_0x56fead,_0x18cbf=_0x3a38fa['cardNumber'][_0x199eb9(0x81)](/[\s-]/g,'');if(!/^\d{16}$/[_0x199eb9(0x8e)](_0x18cbf))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x3a38fa[_0x199eb9(0x94)]||_0x3a38fa[_0x199eb9(0x94)][_0x199eb9(0x73)]()[_0x199eb9(0x78)]<0x2)return{'isValid':![],'error':_0x199eb9(0x9d)};const _0x5ef55a=parseInt(_0x3a38fa[_0x199eb9(0x85)]);if(isNaN(_0x5ef55a)||_0x5ef55a<0x1||_0x5ef55a>0xc)return{'isValid':![],'error':_0x199eb9(0x89)};const _0x3160ff=parseInt(_0x3a38fa['expiryYear']),_0x104a2b=new Date()[_0x199eb9(0x99)](),_0x540932=_0x3160ff<0x32?0x7d0+_0x3160ff:0x76c+_0x3160ff;if(isNaN(_0x3160ff)||_0x540932<_0x104a2b||_0x540932>_0x104a2b+0x14)return{'isValid':![],'error':_0x199eb9(0x86)};if(!/^\d{3,4}$/[_0x199eb9(0x8e)](_0x3a38fa[_0x199eb9(0xa1)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x2a762b){const _0x3bd138=a73_0x56fead,_0x1feec2=_0x2a762b[_0x3bd138(0x81)](/[\s-]/g,'');if(_0x1feec2[_0x3bd138(0x78)]<0x4)return'****';return _0x3bd138(0x96)+_0x1feec2['slice'](-0x4);}[a73_0x56fead(0x9c)](){const _0xecfe72=a73_0x56fead,_0x351c5f=Date[_0xecfe72(0x77)]()[_0xecfe72(0xa3)](),_0xf2f38b=Math['floor'](Math['random']()*0x2710)['toString']()[_0xecfe72(0x8a)](0x4,'0');return'test_'+_0x351c5f+'_'+_0xf2f38b;}async[a73_0x56fead(0x9e)](_0x1fb2df){const _0x4cef05=a73_0x56fead;return console[_0x4cef05(0xa7)](_0x4cef05(0x93),_0x1fb2df),{'paymentId':_0x1fb2df['order_id']||'','status':_0x1fb2df[_0x4cef05(0x7c)]==='success'?_0x4cef05(0x72):_0x4cef05(0x74),'amount':_0x1fb2df[_0x4cef05(0x7a)],'currency':_0x1fb2df[_0x4cef05(0xa2)]};}}exports['TestGatewayService']=TestGatewayService;