'use strict';const a49_0x4a9083=a49_0x3d84;(function(_0x413cb5,_0x56cc93){const _0x3cd3aa=a49_0x3d84,_0x2a15aa=_0x413cb5();while(!![]){try{const _0x4f1cd3=-parseInt(_0x3cd3aa(0xd8))/0x1+parseInt(_0x3cd3aa(0xf9))/0x2*(parseInt(_0x3cd3aa(0xf5))/0x3)+parseInt(_0x3cd3aa(0xfa))/0x4*(parseInt(_0x3cd3aa(0xeb))/0x5)+parseInt(_0x3cd3aa(0x101))/0x6+-parseInt(_0x3cd3aa(0x105))/0x7*(parseInt(_0x3cd3aa(0xfc))/0x8)+-parseInt(_0x3cd3aa(0x104))/0x9*(-parseInt(_0x3cd3aa(0x113))/0xa)+-parseInt(_0x3cd3aa(0xe4))/0xb*(parseInt(_0x3cd3aa(0xde))/0xc);if(_0x4f1cd3===_0x56cc93)break;else _0x2a15aa['push'](_0x2a15aa['shift']());}catch(_0x573281){_0x2a15aa['push'](_0x2a15aa['shift']());}}}(a49_0x3843,0x83ada));function a49_0x3d84(_0x52df57,_0x33790d){const _0x3843bf=a49_0x3843();return a49_0x3d84=function(_0x3d8430,_0x41c4f7){_0x3d8430=_0x3d8430-0xd8;let _0x27361e=_0x3843bf[_0x3d8430];return _0x27361e;},a49_0x3d84(_0x52df57,_0x33790d);}function a49_0x3843(){const _0x558341=['cvc','PAID','1521648pdVQyH','random','üß™\x20Test\x20Gateway\x20service\x20initialized','4457349NlLbVT','17213gOPfwK','Expiry:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Card\x20holder\x20name\x20is\x20required','error','length','TestGatewayService','****','Amount:','cardNumber','currency','replace','Card\x20number\x20must\x20be\x2016\x20digits','log','10LztxVc','160041nprhFT','SUCCESS_CARD','getFullYear','processCardPayment','Invalid\x20expiry\x20month','validateCardData','257388olOFej','FAILED','CVC:','success','isValid','floor','121MbIYeQ','Payment\x20ID:','__esModule','****\x20****\x20****\x20','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20Number:','toString','5045puWihm','Card\x20Holder:','maskCardNumber','trim','now','amount','slice','defineProperty','test','expiryMonth','717UvxDcj','expiryYear','padStart','test_','4798pqKcJK','1108FBrZWH','Payment\x20processed\x20successfully','2168UTxGdt','cardHolderName','Order\x20ID:'];a49_0x3843=function(){return _0x558341;};return a49_0x3843();}Object[a49_0x4a9083(0xf2)](exports,a49_0x4a9083(0xe6),{'value':!![]}),exports[a49_0x4a9083(0x10b)]=void 0x0;class TestGatewayService{constructor(){const _0x453f60=a49_0x4a9083;this[_0x453f60(0xd9)]='4242424242424242',console[_0x453f60(0x112)](_0x453f60(0x103));}async[a49_0x4a9083(0xdb)](_0x33e37d){const _0x32c74a=a49_0x4a9083,{paymentId:_0x34317e,orderId:_0x227d09,amount:_0x5297ca,currency:_0x11c587,cardData:_0x346db2}=_0x33e37d;console[_0x32c74a(0x112)](_0x32c74a(0x107)),console[_0x32c74a(0x112)](_0x32c74a(0xe5),_0x34317e),console[_0x32c74a(0x112)](_0x32c74a(0xfe),_0x227d09),console[_0x32c74a(0x112)](_0x32c74a(0x10d),_0x5297ca,_0x11c587),console[_0x32c74a(0x112)](_0x32c74a(0xe9),this['maskCardNumber'](_0x346db2['cardNumber'])),console[_0x32c74a(0x112)](_0x32c74a(0xec),_0x346db2[_0x32c74a(0xfd)]),console['log'](_0x32c74a(0x106),_0x346db2[_0x32c74a(0xf4)]+'/'+_0x346db2['expiryYear']),console['log'](_0x32c74a(0xe0),'***');const _0x4c68b6=this['validateCardData'](_0x346db2);if(!_0x4c68b6[_0x32c74a(0xe2)])return console[_0x32c74a(0x112)]('‚ùå\x20Card\x20validation\x20failed:',_0x4c68b6[_0x32c74a(0x109)]),{'success':![],'status':_0x32c74a(0xdf),'message':'Card\x20validation\x20failed','failureReason':_0x4c68b6['error']};const _0xf9423f=_0x346db2[_0x32c74a(0x10e)]['replace'](/[\s-]/g,'');if(_0xf9423f===this[_0x32c74a(0xd9)]){const _0x3e83f0=this['generateTransactionId']();return console[_0x32c74a(0x112)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x32c74a(0x112)]('Transaction\x20ID:',_0x3e83f0),{'success':!![],'status':'PAID','message':_0x32c74a(0xfb),'transactionId':_0x3e83f0};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x32c74a(0xdf),'message':'Payment\x20failed','failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a49_0x4a9083(0xdd)](_0x501d4f){const _0x4ddf0a=a49_0x4a9083,_0x5c9f3d=_0x501d4f[_0x4ddf0a(0x10e)][_0x4ddf0a(0x110)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x5c9f3d))return{'isValid':![],'error':_0x4ddf0a(0x111)};if(!_0x501d4f[_0x4ddf0a(0xfd)]||_0x501d4f['cardHolderName'][_0x4ddf0a(0xee)]()['length']<0x2)return{'isValid':![],'error':_0x4ddf0a(0x108)};const _0x1e57f9=parseInt(_0x501d4f[_0x4ddf0a(0xf4)]);if(isNaN(_0x1e57f9)||_0x1e57f9<0x1||_0x1e57f9>0xc)return{'isValid':![],'error':_0x4ddf0a(0xdc)};const _0x32d027=parseInt(_0x501d4f[_0x4ddf0a(0xf6)]),_0x3ceb53=new Date()[_0x4ddf0a(0xda)](),_0x598b9c=_0x32d027<0x32?0x7d0+_0x32d027:0x76c+_0x32d027;if(isNaN(_0x32d027)||_0x598b9c<_0x3ceb53||_0x598b9c>_0x3ceb53+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x4ddf0a(0xf3)](_0x501d4f[_0x4ddf0a(0xff)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a49_0x4a9083(0xed)](_0x37e693){const _0x2439d0=a49_0x4a9083,_0x4af279=_0x37e693[_0x2439d0(0x110)](/[\s-]/g,'');if(_0x4af279[_0x2439d0(0x10a)]<0x4)return _0x2439d0(0x10c);return _0x2439d0(0xe7)+_0x4af279[_0x2439d0(0xf1)](-0x4);}['generateTransactionId'](){const _0x1cb2cf=a49_0x4a9083,_0x433a4b=Date[_0x1cb2cf(0xef)]()[_0x1cb2cf(0xea)](),_0x4e2f62=Math[_0x1cb2cf(0xe3)](Math[_0x1cb2cf(0x102)]()*0x2710)[_0x1cb2cf(0xea)]()[_0x1cb2cf(0xf7)](0x4,'0');return _0x1cb2cf(0xf8)+_0x433a4b+'_'+_0x4e2f62;}async['processWebhook'](_0x5b0b11){const _0x1a045a=a49_0x4a9083;return console[_0x1a045a(0x112)](_0x1a045a(0xe8),_0x5b0b11),{'paymentId':_0x5b0b11['order_id']||'','status':_0x5b0b11['status']===_0x1a045a(0xe1)?_0x1a045a(0x100):_0x1a045a(0xdf),'amount':_0x5b0b11[_0x1a045a(0xf0)],'currency':_0x5b0b11[_0x1a045a(0x10f)]};}}exports[a49_0x4a9083(0x10b)]=TestGatewayService;