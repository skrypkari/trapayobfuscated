'use strict';const a47_0x164f0f=a47_0x1706;(function(_0x2f0db5,_0x5cc278){const _0x58e4f6=a47_0x1706,_0xc0fe6e=_0x2f0db5();while(!![]){try{const _0x5bcf4f=parseInt(_0x58e4f6(0x1bd))/0x1+-parseInt(_0x58e4f6(0x1e3))/0x2*(parseInt(_0x58e4f6(0x1e6))/0x3)+parseInt(_0x58e4f6(0x1b4))/0x4+-parseInt(_0x58e4f6(0x1c4))/0x5*(-parseInt(_0x58e4f6(0x1d0))/0x6)+-parseInt(_0x58e4f6(0x1db))/0x7*(-parseInt(_0x58e4f6(0x1c2))/0x8)+parseInt(_0x58e4f6(0x1cd))/0x9*(-parseInt(_0x58e4f6(0x1bb))/0xa)+parseInt(_0x58e4f6(0x1d7))/0xb;if(_0x5bcf4f===_0x5cc278)break;else _0xc0fe6e['push'](_0xc0fe6e['shift']());}catch(_0x316354){_0xc0fe6e['push'](_0xc0fe6e['shift']());}}}(a47_0x1b08,0x3da91));function a47_0x1b08(){const _0x4f8b68=['test_','Payment\x20failed','6RinsqC','amount','isValid','random','success','cardHolderName','Transaction\x20ID:','5323043QgPdUS','trim','generateTransactionId','expiryMonth','2247VLYABa','TestGatewayService','expiryYear','validateCardData','Card\x20Holder:','cvc','status','processCardPayment','2SfloPk','CVC:','maskCardNumber','1453791UAbaOB','replace','cardNumber','‚úÖ\x20Test\x20payment\x20successful','FAILED','Order\x20ID:','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','floor','toString','****','CVC\x20must\x20be\x203\x20or\x204\x20digits','error','currency','PAID','285124BdIlXG','log','Payment\x20processed\x20successfully','Card\x20validation\x20failed','Payment\x20ID:','getFullYear','slice','30HYejcd','üß™\x20Test\x20Gateway\x20service\x20initialized','147796VytPsg','now','‚ùå\x20Card\x20validation\x20failed:','Card\x20Number:','Amount:','968VKyCRz','Invalid\x20expiry\x20month','685625AtrovS','length','padStart','test','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','SUCCESS_CARD','defineProperty','Card\x20holder\x20name\x20is\x20required','425394AiIaxZ'];a47_0x1b08=function(){return _0x4f8b68;};return a47_0x1b08();}Object[a47_0x164f0f(0x1cb)](exports,'__esModule',{'value':!![]}),exports[a47_0x164f0f(0x1dc)]=void 0x0;class TestGatewayService{constructor(){const _0x521ee8=a47_0x164f0f;this[_0x521ee8(0x1ca)]='4242424242424242',console['log'](_0x521ee8(0x1bc));}async[a47_0x164f0f(0x1e2)](_0x69349d){const _0x38f893=a47_0x164f0f,{paymentId:_0x4bc568,orderId:_0x35fc99,amount:_0x1cf62b,currency:_0x1f4aac,cardData:_0x1cb80a}=_0x69349d;console[_0x38f893(0x1b5)](_0x38f893(0x1c8)),console[_0x38f893(0x1b5)](_0x38f893(0x1b8),_0x4bc568),console['log'](_0x38f893(0x1eb),_0x35fc99),console[_0x38f893(0x1b5)](_0x38f893(0x1c1),_0x1cf62b,_0x1f4aac),console[_0x38f893(0x1b5)](_0x38f893(0x1c0),this[_0x38f893(0x1e5)](_0x1cb80a['cardNumber'])),console[_0x38f893(0x1b5)](_0x38f893(0x1df),_0x1cb80a[_0x38f893(0x1d5)]),console['log']('Expiry:',_0x1cb80a[_0x38f893(0x1da)]+'/'+_0x1cb80a[_0x38f893(0x1dd)]),console[_0x38f893(0x1b5)](_0x38f893(0x1e4),'***');const _0x157170=this[_0x38f893(0x1de)](_0x1cb80a);if(!_0x157170[_0x38f893(0x1d2)])return console['log'](_0x38f893(0x1bf),_0x157170[_0x38f893(0x1b1)]),{'success':![],'status':'FAILED','message':_0x38f893(0x1b7),'failureReason':_0x157170['error']};const _0x314b86=_0x1cb80a['cardNumber']['replace'](/[\s-]/g,'');if(_0x314b86===this[_0x38f893(0x1ca)]){const _0x1fdee5=this[_0x38f893(0x1d9)]();return console[_0x38f893(0x1b5)](_0x38f893(0x1e9)),console[_0x38f893(0x1b5)](_0x38f893(0x1d6),_0x1fdee5),{'success':!![],'status':'PAID','message':_0x38f893(0x1b6),'transactionId':_0x1fdee5};}else return console['log'](_0x38f893(0x1ec)),{'success':![],'status':_0x38f893(0x1ea),'message':_0x38f893(0x1cf),'failureReason':_0x38f893(0x1c9)};}[a47_0x164f0f(0x1de)](_0x5e3c8e){const _0x1f85b1=a47_0x164f0f,_0x354cff=_0x5e3c8e[_0x1f85b1(0x1e8)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x1f85b1(0x1c7)](_0x354cff))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x5e3c8e[_0x1f85b1(0x1d5)]||_0x5e3c8e[_0x1f85b1(0x1d5)][_0x1f85b1(0x1d8)]()[_0x1f85b1(0x1c5)]<0x2)return{'isValid':![],'error':_0x1f85b1(0x1cc)};const _0x355d02=parseInt(_0x5e3c8e[_0x1f85b1(0x1da)]);if(isNaN(_0x355d02)||_0x355d02<0x1||_0x355d02>0xc)return{'isValid':![],'error':_0x1f85b1(0x1c3)};const _0x154cae=parseInt(_0x5e3c8e['expiryYear']),_0x483fc1=new Date()[_0x1f85b1(0x1b9)](),_0x2797f1=_0x154cae<0x32?0x7d0+_0x154cae:0x76c+_0x154cae;if(isNaN(_0x154cae)||_0x2797f1<_0x483fc1||_0x2797f1>_0x483fc1+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x1f85b1(0x1c7)](_0x5e3c8e[_0x1f85b1(0x1e0)]))return{'isValid':![],'error':_0x1f85b1(0x1b0)};return{'isValid':!![]};}[a47_0x164f0f(0x1e5)](_0x1e82ce){const _0x39c13d=a47_0x164f0f,_0x464a00=_0x1e82ce[_0x39c13d(0x1e7)](/[\s-]/g,'');if(_0x464a00[_0x39c13d(0x1c5)]<0x4)return _0x39c13d(0x1af);return'****\x20****\x20****\x20'+_0x464a00[_0x39c13d(0x1ba)](-0x4);}['generateTransactionId'](){const _0x18736f=a47_0x164f0f,_0x4d5fc2=Date[_0x18736f(0x1be)]()['toString'](),_0x3a7a42=Math[_0x18736f(0x1ed)](Math[_0x18736f(0x1d3)]()*0x2710)[_0x18736f(0x1ee)]()[_0x18736f(0x1c6)](0x4,'0');return _0x18736f(0x1ce)+_0x4d5fc2+'_'+_0x3a7a42;}async['processWebhook'](_0x181c9e){const _0x37bb92=a47_0x164f0f;return console[_0x37bb92(0x1b5)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x181c9e),{'paymentId':_0x181c9e['order_id']||'','status':_0x181c9e[_0x37bb92(0x1e1)]===_0x37bb92(0x1d4)?_0x37bb92(0x1b3):_0x37bb92(0x1ea),'amount':_0x181c9e[_0x37bb92(0x1d1)],'currency':_0x181c9e[_0x37bb92(0x1b2)]};}}function a47_0x1706(_0x37e355,_0x23c1f3){const _0x1b0888=a47_0x1b08();return a47_0x1706=function(_0x1706e7,_0x21f35e){_0x1706e7=_0x1706e7-0x1af;let _0x467152=_0x1b0888[_0x1706e7];return _0x467152;},a47_0x1706(_0x37e355,_0x23c1f3);}exports[a47_0x164f0f(0x1dc)]=TestGatewayService;