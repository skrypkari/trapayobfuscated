'use strict';const a47_0x2fca33=a47_0x1a90;function a47_0x4380(){const _0x4234e8=['amount','cardHolderName','Invalid\x20expiry\x20month','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','now','***','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','FAILED','replace','4bWFAmA','currency','PAID','Card\x20validation\x20failed','TestGatewayService','4242424242424242','64DNJUuz','Card\x20Number:','4598692XKSfku','test','705648zzuxdX','702252tIwGrq','Payment\x20processed\x20successfully','processWebhook','Card\x20Holder:','15bHxMcA','maskCardNumber','floor','expiryMonth','slice','Card\x20number\x20must\x20be\x2016\x20digits','‚úÖ\x20Test\x20payment\x20successful','Transaction\x20ID:','127411afmkTs','460228CXQtnR','Amount:','37125TLFxJu','****\x20****\x20****\x20','length','SUCCESS_CARD','2956800vkwvLm','log','****','Payment\x20failed','validateCardData','Card\x20holder\x20name\x20is\x20required','isValid','expiryYear','CVC:','error','Order\x20ID:'];a47_0x4380=function(){return _0x4234e8;};return a47_0x4380();}function a47_0x1a90(_0x4c6aee,_0x1c56bd){const _0x438013=a47_0x4380();return a47_0x1a90=function(_0x1a90b2,_0x3e232b){_0x1a90b2=_0x1a90b2-0xde;let _0x4d57c6=_0x438013[_0x1a90b2];return _0x4d57c6;},a47_0x1a90(_0x4c6aee,_0x1c56bd);}(function(_0x5925d7,_0x3b59c7){const _0xb0ea6e=a47_0x1a90,_0x3e6262=_0x5925d7();while(!![]){try{const _0x47f28a=parseInt(_0xb0ea6e(0x101))/0x1*(parseInt(_0xb0ea6e(0xea))/0x2)+parseInt(_0xb0ea6e(0x104))/0x3+parseInt(_0xb0ea6e(0x102))/0x4*(parseInt(_0xb0ea6e(0xf9))/0x5)+parseInt(_0xb0ea6e(0xf4))/0x6+-parseInt(_0xb0ea6e(0xf2))/0x7+parseInt(_0xb0ea6e(0xf0))/0x8*(parseInt(_0xb0ea6e(0xf5))/0x9)+-parseInt(_0xb0ea6e(0x108))/0xa;if(_0x47f28a===_0x3b59c7)break;else _0x3e6262['push'](_0x3e6262['shift']());}catch(_0xadef11){_0x3e6262['push'](_0x3e6262['shift']());}}}(a47_0x4380,0x6209c));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a47_0x2fca33(0xee)]=void 0x0;class TestGatewayService{constructor(){const _0x26322e=a47_0x2fca33;this['SUCCESS_CARD']=_0x26322e(0xef),console[_0x26322e(0x109)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x11c807){const _0x1928d1=a47_0x2fca33,{paymentId:_0x39ed9e,orderId:_0x3a1444,amount:_0x41abed,currency:_0x2722c5,cardData:_0x1e52fe}=_0x11c807;console[_0x1928d1(0x109)](_0x1928d1(0xe4)),console[_0x1928d1(0x109)]('Payment\x20ID:',_0x39ed9e),console[_0x1928d1(0x109)](_0x1928d1(0xe0),_0x3a1444),console[_0x1928d1(0x109)](_0x1928d1(0x103),_0x41abed,_0x2722c5),console[_0x1928d1(0x109)](_0x1928d1(0xf1),this[_0x1928d1(0xfa)](_0x1e52fe['cardNumber'])),console['log'](_0x1928d1(0xf8),_0x1e52fe[_0x1928d1(0xe2)]),console[_0x1928d1(0x109)]('Expiry:',_0x1e52fe['expiryMonth']+'/'+_0x1e52fe[_0x1928d1(0x10f)]),console[_0x1928d1(0x109)](_0x1928d1(0xde),_0x1928d1(0xe6));const _0x3ac520=this[_0x1928d1(0x10c)](_0x1e52fe);if(!_0x3ac520[_0x1928d1(0x10e)])return console['log']('‚ùå\x20Card\x20validation\x20failed:',_0x3ac520[_0x1928d1(0xdf)]),{'success':![],'status':_0x1928d1(0xe8),'message':_0x1928d1(0xed),'failureReason':_0x3ac520[_0x1928d1(0xdf)]};const _0x414886=_0x1e52fe['cardNumber'][_0x1928d1(0xe9)](/[\s-]/g,'');if(_0x414886===this[_0x1928d1(0x107)]){const _0x1eecaa=this['generateTransactionId']();return console[_0x1928d1(0x109)](_0x1928d1(0xff)),console[_0x1928d1(0x109)](_0x1928d1(0x100),_0x1eecaa),{'success':!![],'status':'PAID','message':_0x1928d1(0xf6),'transactionId':_0x1eecaa};}else return console[_0x1928d1(0x109)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x1928d1(0xe8),'message':_0x1928d1(0x10b),'failureReason':_0x1928d1(0xe7)};}[a47_0x2fca33(0x10c)](_0x40e2c9){const _0x17c3f4=a47_0x2fca33,_0x411c1d=_0x40e2c9['cardNumber']['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x17c3f4(0xf3)](_0x411c1d))return{'isValid':![],'error':_0x17c3f4(0xfe)};if(!_0x40e2c9[_0x17c3f4(0xe2)]||_0x40e2c9[_0x17c3f4(0xe2)]['trim']()[_0x17c3f4(0x106)]<0x2)return{'isValid':![],'error':_0x17c3f4(0x10d)};const _0x290a5c=parseInt(_0x40e2c9[_0x17c3f4(0xfc)]);if(isNaN(_0x290a5c)||_0x290a5c<0x1||_0x290a5c>0xc)return{'isValid':![],'error':_0x17c3f4(0xe3)};const _0x32c384=parseInt(_0x40e2c9[_0x17c3f4(0x10f)]),_0xaae8f9=new Date()['getFullYear'](),_0xb6af22=_0x32c384<0x32?0x7d0+_0x32c384:0x76c+_0x32c384;if(isNaN(_0x32c384)||_0xb6af22<_0xaae8f9||_0xb6af22>_0xaae8f9+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x17c3f4(0xf3)](_0x40e2c9['cvc']))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a47_0x2fca33(0xfa)](_0x268886){const _0x598b71=a47_0x2fca33,_0x206ce2=_0x268886[_0x598b71(0xe9)](/[\s-]/g,'');if(_0x206ce2[_0x598b71(0x106)]<0x4)return _0x598b71(0x10a);return _0x598b71(0x105)+_0x206ce2[_0x598b71(0xfd)](-0x4);}['generateTransactionId'](){const _0x2667b2=a47_0x2fca33,_0x1fb21b=Date[_0x2667b2(0xe5)]()['toString'](),_0xa6a5db=Math[_0x2667b2(0xfb)](Math['random']()*0x2710)['toString']()['padStart'](0x4,'0');return'test_'+_0x1fb21b+'_'+_0xa6a5db;}async[a47_0x2fca33(0xf7)](_0xacc380){const _0x5d291b=a47_0x2fca33;return console[_0x5d291b(0x109)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0xacc380),{'paymentId':_0xacc380['order_id']||'','status':_0xacc380['status']==='success'?_0x5d291b(0xec):_0x5d291b(0xe8),'amount':_0xacc380[_0x5d291b(0xe1)],'currency':_0xacc380[_0x5d291b(0xeb)]};}}exports['TestGatewayService']=TestGatewayService;