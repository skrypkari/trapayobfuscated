'use strict';const a47_0xb2b2cd=a47_0x347d;function a47_0x4a3c(){const _0x8e49a9=['Expiry:','1866249NIsTFT','Card\x20Holder:','8Rokgdg','1NOsbsQ','length','PAID','test','expiryMonth','SUCCESS_CARD','slice','Amount:','validateCardData','FAILED','log','2510kykUzu','generateTransactionId','Payment\x20processed\x20successfully','CVC\x20must\x20be\x203\x20or\x204\x20digits','1102074CkCvnC','defineProperty','error','currency','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','now','1483296UNVdFr','Payment\x20failed','getFullYear','‚úÖ\x20Test\x20payment\x20successful','cvc','replace','1448xFFSJN','Payment\x20ID:','__esModule','Order\x20ID:','cardNumber','***','üß™\x20Test\x20Gateway\x20service\x20initialized','****\x20****\x20****\x20','‚ùå\x20Card\x20validation\x20failed:','4290480IbYZSu','toString','633232RBUEQC','****','status','TestGatewayService','cardHolderName','1428630UbyLHV','Card\x20number\x20must\x20be\x2016\x20digits','Transaction\x20ID:','expiryYear','amount','maskCardNumber','random','success','Invalid\x20expiry\x20month','CVC:','order_id','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','processCardPayment','padStart'];a47_0x4a3c=function(){return _0x8e49a9;};return a47_0x4a3c();}(function(_0x1334a6,_0xe96df7){const _0x8a18da=a47_0x347d,_0x2072ee=_0x1334a6();while(!![]){try{const _0x3d6f12=-parseInt(_0x8a18da(0x183))/0x1*(-parseInt(_0x8a18da(0x1ab))/0x2)+parseInt(_0x8a18da(0x192))/0x3+parseInt(_0x8a18da(0x1a0))/0x4*(-parseInt(_0x8a18da(0x18e))/0x5)+-parseInt(_0x8a18da(0x19a))/0x6+-parseInt(_0x8a18da(0x1b0))/0x7+parseInt(_0x8a18da(0x182))/0x8*(-parseInt(_0x8a18da(0x180))/0x9)+parseInt(_0x8a18da(0x1a9))/0xa;if(_0x3d6f12===_0xe96df7)break;else _0x2072ee['push'](_0x2072ee['shift']());}catch(_0x5d9c99){_0x2072ee['push'](_0x2072ee['shift']());}}}(a47_0x4a3c,0x428f7));Object[a47_0xb2b2cd(0x193)](exports,a47_0xb2b2cd(0x1a2),{'value':!![]}),exports[a47_0xb2b2cd(0x1ae)]=void 0x0;function a47_0x347d(_0x462980,_0x1638cd){const _0x4a3ca0=a47_0x4a3c();return a47_0x347d=function(_0x347d02,_0x162602){_0x347d02=_0x347d02-0x180;let _0xfd86cb=_0x4a3ca0[_0x347d02];return _0xfd86cb;},a47_0x347d(_0x462980,_0x1638cd);}class TestGatewayService{constructor(){const _0x468e0f=a47_0xb2b2cd;this[_0x468e0f(0x188)]='4242424242424242',console[_0x468e0f(0x18d)](_0x468e0f(0x1a6));}async[a47_0xb2b2cd(0x1bc)](_0x593946){const _0x2b6439=a47_0xb2b2cd,{paymentId:_0x3249f7,orderId:_0x3707d6,amount:_0x51da1b,currency:_0x39d04f,cardData:_0x9c124a}=_0x593946;console['log'](_0x2b6439(0x1bb)),console['log'](_0x2b6439(0x1a1),_0x3249f7),console[_0x2b6439(0x18d)](_0x2b6439(0x1a3),_0x3707d6),console[_0x2b6439(0x18d)](_0x2b6439(0x18a),_0x51da1b,_0x39d04f),console[_0x2b6439(0x18d)]('Card\x20Number:',this[_0x2b6439(0x1b5)](_0x9c124a['cardNumber'])),console[_0x2b6439(0x18d)](_0x2b6439(0x181),_0x9c124a[_0x2b6439(0x1af)]),console[_0x2b6439(0x18d)](_0x2b6439(0x1be),_0x9c124a[_0x2b6439(0x187)]+'/'+_0x9c124a[_0x2b6439(0x1b3)]),console[_0x2b6439(0x18d)](_0x2b6439(0x1b9),_0x2b6439(0x1a5));const _0x40495a=this[_0x2b6439(0x18b)](_0x9c124a);if(!_0x40495a['isValid'])return console[_0x2b6439(0x18d)](_0x2b6439(0x1a8),_0x40495a[_0x2b6439(0x194)]),{'success':![],'status':_0x2b6439(0x18c),'message':'Card\x20validation\x20failed','failureReason':_0x40495a['error']};const _0x5eabcc=_0x9c124a['cardNumber'][_0x2b6439(0x19f)](/[\s-]/g,'');if(_0x5eabcc===this[_0x2b6439(0x188)]){const _0x53cad8=this[_0x2b6439(0x18f)]();return console[_0x2b6439(0x18d)](_0x2b6439(0x19d)),console[_0x2b6439(0x18d)](_0x2b6439(0x1b2),_0x53cad8),{'success':!![],'status':_0x2b6439(0x185),'message':_0x2b6439(0x190),'transactionId':_0x53cad8};}else return console[_0x2b6439(0x18d)](_0x2b6439(0x196)),{'success':![],'status':_0x2b6439(0x18c),'message':_0x2b6439(0x19b),'failureReason':_0x2b6439(0x197)};}[a47_0xb2b2cd(0x18b)](_0x29d0ca){const _0x5cd6a2=a47_0xb2b2cd,_0x10ce9c=_0x29d0ca[_0x5cd6a2(0x1a4)][_0x5cd6a2(0x19f)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5cd6a2(0x186)](_0x10ce9c))return{'isValid':![],'error':_0x5cd6a2(0x1b1)};if(!_0x29d0ca[_0x5cd6a2(0x1af)]||_0x29d0ca[_0x5cd6a2(0x1af)]['trim']()[_0x5cd6a2(0x184)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x1dd320=parseInt(_0x29d0ca['expiryMonth']);if(isNaN(_0x1dd320)||_0x1dd320<0x1||_0x1dd320>0xc)return{'isValid':![],'error':_0x5cd6a2(0x1b8)};const _0x20b2ca=parseInt(_0x29d0ca[_0x5cd6a2(0x1b3)]),_0x53f464=new Date()[_0x5cd6a2(0x19c)](),_0x23db4c=_0x20b2ca<0x32?0x7d0+_0x20b2ca:0x76c+_0x20b2ca;if(isNaN(_0x20b2ca)||_0x23db4c<_0x53f464||_0x23db4c>_0x53f464+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x29d0ca[_0x5cd6a2(0x19e)]))return{'isValid':![],'error':_0x5cd6a2(0x191)};return{'isValid':!![]};}[a47_0xb2b2cd(0x1b5)](_0xa8f449){const _0x5ee139=a47_0xb2b2cd,_0x1bf992=_0xa8f449[_0x5ee139(0x19f)](/[\s-]/g,'');if(_0x1bf992[_0x5ee139(0x184)]<0x4)return _0x5ee139(0x1ac);return _0x5ee139(0x1a7)+_0x1bf992[_0x5ee139(0x189)](-0x4);}['generateTransactionId'](){const _0x4c9037=a47_0xb2b2cd,_0x375ff9=Date[_0x4c9037(0x199)]()[_0x4c9037(0x1aa)](),_0x2282b5=Math['floor'](Math[_0x4c9037(0x1b6)]()*0x2710)['toString']()[_0x4c9037(0x1bd)](0x4,'0');return'test_'+_0x375ff9+'_'+_0x2282b5;}async['processWebhook'](_0x110808){const _0x34fe40=a47_0xb2b2cd;return console[_0x34fe40(0x18d)](_0x34fe40(0x198),_0x110808),{'paymentId':_0x110808[_0x34fe40(0x1ba)]||'','status':_0x110808[_0x34fe40(0x1ad)]===_0x34fe40(0x1b7)?'PAID':_0x34fe40(0x18c),'amount':_0x110808[_0x34fe40(0x1b4)],'currency':_0x110808[_0x34fe40(0x195)]};}}exports[a47_0xb2b2cd(0x1ae)]=TestGatewayService;