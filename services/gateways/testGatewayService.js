'use strict';const a50_0x34cde8=a50_0xcf3d;(function(_0x570524,_0x4eb4be){const _0x340328=a50_0xcf3d,_0x278469=_0x570524();while(!![]){try{const _0x4e30f5=-parseInt(_0x340328(0x1e0))/0x1*(parseInt(_0x340328(0x200))/0x2)+-parseInt(_0x340328(0x1f8))/0x3*(-parseInt(_0x340328(0x202))/0x4)+parseInt(_0x340328(0x1fd))/0x5+parseInt(_0x340328(0x20f))/0x6*(parseInt(_0x340328(0x1d5))/0x7)+parseInt(_0x340328(0x1dd))/0x8*(parseInt(_0x340328(0x1f3))/0x9)+parseInt(_0x340328(0x1ff))/0xa+-parseInt(_0x340328(0x1f0))/0xb;if(_0x4e30f5===_0x4eb4be)break;else _0x278469['push'](_0x278469['shift']());}catch(_0x4f8b1b){_0x278469['push'](_0x278469['shift']());}}}(a50_0x5edd,0x30879));function a50_0x5edd(){const _0x427c75=['üß™\x20Test\x20Gateway\x20service\x20initialized','7215351QkqkwA','cardHolderName','amount','531VtlxTj','replace','***','test_','****','3TpuFnZ','processWebhook','Order\x20ID:','TestGatewayService','log','1172890qaFkjp','__esModule','52520WJJYUQ','720544kofYgJ','‚ùå\x20Card\x20validation\x20failed:','1507496SUjQpi','length','generateTransactionId','success','random','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Card\x20number\x20must\x20be\x2016\x20digits','isValid','Card\x20validation\x20failed','PAID','order_id','defineProperty','Card\x20holder\x20name\x20is\x20required','1822194FxiIDd','Card\x20Number:','7hCzKUd','test','CVC\x20must\x20be\x203\x20or\x204\x20digits','****\x20****\x20****\x20','validateCardData','trim','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','expiryYear','39944mAeFTk','maskCardNumber','Card\x20Holder:','1irtBpA','FAILED','cardNumber','‚úÖ\x20Test\x20payment\x20successful','toString','floor','Transaction\x20ID:','Payment\x20processed\x20successfully','cvc','padStart','now','expiryMonth','Expiry:','error','status'];a50_0x5edd=function(){return _0x427c75;};return a50_0x5edd();}function a50_0xcf3d(_0x13ea88,_0x1860ef){const _0x5edd67=a50_0x5edd();return a50_0xcf3d=function(_0xcf3d60,_0x158f49){_0xcf3d60=_0xcf3d60-0x1d5;let _0x26e170=_0x5edd67[_0xcf3d60];return _0x26e170;},a50_0xcf3d(_0x13ea88,_0x1860ef);}Object[a50_0x34cde8(0x20d)](exports,a50_0x34cde8(0x1fe),{'value':!![]}),exports[a50_0x34cde8(0x1fb)]=void 0x0;class TestGatewayService{constructor(){const _0x33f4b6=a50_0x34cde8;this['SUCCESS_CARD']='4242424242424242',console['log'](_0x33f4b6(0x1ef));}async['processCardPayment'](_0x1c8f69){const _0x2ac52f=a50_0x34cde8,{paymentId:_0x1ede89,orderId:_0x3aceb8,amount:_0x2ab87d,currency:_0x2008ba,cardData:_0x429acc}=_0x1c8f69;console[_0x2ac52f(0x1fc)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x2ac52f(0x1fc)]('Payment\x20ID:',_0x1ede89),console[_0x2ac52f(0x1fc)](_0x2ac52f(0x1fa),_0x3aceb8),console['log']('Amount:',_0x2ab87d,_0x2008ba),console[_0x2ac52f(0x1fc)](_0x2ac52f(0x210),this[_0x2ac52f(0x1de)](_0x429acc[_0x2ac52f(0x1e2)])),console[_0x2ac52f(0x1fc)](_0x2ac52f(0x1df),_0x429acc[_0x2ac52f(0x1f1)]),console[_0x2ac52f(0x1fc)](_0x2ac52f(0x1ec),_0x429acc[_0x2ac52f(0x1eb)]+'/'+_0x429acc[_0x2ac52f(0x1dc)]),console[_0x2ac52f(0x1fc)]('CVC:',_0x2ac52f(0x1f5));const _0x9294f7=this[_0x2ac52f(0x1d9)](_0x429acc);if(!_0x9294f7[_0x2ac52f(0x209)])return console[_0x2ac52f(0x1fc)](_0x2ac52f(0x201),_0x9294f7[_0x2ac52f(0x1ed)]),{'success':![],'status':_0x2ac52f(0x1e1),'message':_0x2ac52f(0x20a),'failureReason':_0x9294f7[_0x2ac52f(0x1ed)]};const _0x3e617f=_0x429acc[_0x2ac52f(0x1e2)][_0x2ac52f(0x1f4)](/[\s-]/g,'');if(_0x3e617f===this['SUCCESS_CARD']){const _0x47b6fb=this[_0x2ac52f(0x204)]();return console[_0x2ac52f(0x1fc)](_0x2ac52f(0x1e3)),console[_0x2ac52f(0x1fc)](_0x2ac52f(0x1e6),_0x47b6fb),{'success':!![],'status':_0x2ac52f(0x20b),'message':_0x2ac52f(0x1e7),'transactionId':_0x47b6fb};}else return console[_0x2ac52f(0x1fc)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x2ac52f(0x1e1),'message':'Payment\x20failed','failureReason':_0x2ac52f(0x207)};}[a50_0x34cde8(0x1d9)](_0x105c85){const _0x1232e7=a50_0x34cde8,_0x4e0e6a=_0x105c85[_0x1232e7(0x1e2)][_0x1232e7(0x1f4)](/[\s-]/g,'');if(!/^\d{16}$/[_0x1232e7(0x1d6)](_0x4e0e6a))return{'isValid':![],'error':_0x1232e7(0x208)};if(!_0x105c85[_0x1232e7(0x1f1)]||_0x105c85[_0x1232e7(0x1f1)][_0x1232e7(0x1da)]()['length']<0x2)return{'isValid':![],'error':_0x1232e7(0x20e)};const _0x1f154a=parseInt(_0x105c85[_0x1232e7(0x1eb)]);if(isNaN(_0x1f154a)||_0x1f154a<0x1||_0x1f154a>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x82cc0e=parseInt(_0x105c85[_0x1232e7(0x1dc)]),_0x79c011=new Date()['getFullYear'](),_0x51c283=_0x82cc0e<0x32?0x7d0+_0x82cc0e:0x76c+_0x82cc0e;if(isNaN(_0x82cc0e)||_0x51c283<_0x79c011||_0x51c283>_0x79c011+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x1232e7(0x1d6)](_0x105c85[_0x1232e7(0x1e8)]))return{'isValid':![],'error':_0x1232e7(0x1d7)};return{'isValid':!![]};}[a50_0x34cde8(0x1de)](_0x5417bf){const _0xbf9d66=a50_0x34cde8,_0x525e70=_0x5417bf[_0xbf9d66(0x1f4)](/[\s-]/g,'');if(_0x525e70[_0xbf9d66(0x203)]<0x4)return _0xbf9d66(0x1f7);return _0xbf9d66(0x1d8)+_0x525e70['slice'](-0x4);}['generateTransactionId'](){const _0x5214cc=a50_0x34cde8,_0x4b0708=Date[_0x5214cc(0x1ea)]()[_0x5214cc(0x1e4)](),_0x4d7432=Math[_0x5214cc(0x1e5)](Math[_0x5214cc(0x206)]()*0x2710)[_0x5214cc(0x1e4)]()[_0x5214cc(0x1e9)](0x4,'0');return _0x5214cc(0x1f6)+_0x4b0708+'_'+_0x4d7432;}async[a50_0x34cde8(0x1f9)](_0x3af6bb){const _0x40970f=a50_0x34cde8;return console[_0x40970f(0x1fc)](_0x40970f(0x1db),_0x3af6bb),{'paymentId':_0x3af6bb[_0x40970f(0x20c)]||'','status':_0x3af6bb[_0x40970f(0x1ee)]===_0x40970f(0x205)?_0x40970f(0x20b):_0x40970f(0x1e1),'amount':_0x3af6bb[_0x40970f(0x1f2)],'currency':_0x3af6bb['currency']};}}exports[a50_0x34cde8(0x1fb)]=TestGatewayService;