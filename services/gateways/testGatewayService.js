'use strict';const a54_0x457f3f=a54_0x4eb8;function a54_0x4eb8(_0x36aba8,_0x18b448){const _0x373292=a54_0x3732();return a54_0x4eb8=function(_0x4eb8ac,_0x69f487){_0x4eb8ac=_0x4eb8ac-0x1d7;let _0x54f477=_0x373292[_0x4eb8ac];return _0x54f477;},a54_0x4eb8(_0x36aba8,_0x18b448);}function a54_0x3732(){const _0x53ca2d=['length','942LeiVpM','maskCardNumber','defineProperty','cardNumber','isValid','2263005ATVaFb','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Payment\x20ID:','2247FnvMnh','trim','expiryYear','getFullYear','test','Card\x20validation\x20failed','Card\x20number\x20must\x20be\x2016\x20digits','SUCCESS_CARD','currency','TestGatewayService','Invalid\x20expiry\x20year','***','cvc','replace','Transaction\x20ID:','expiryMonth','log','12538STAJiq','Amount:','****\x20****\x20****\x20','random','padStart','‚ùå\x20Card\x20validation\x20failed:','slice','4284CIjdJN','cardHolderName','toString','error','CVC\x20must\x20be\x203\x20or\x204\x20digits','FAILED','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','CVC:','Card\x20Holder:','3irDyHp','order_id','6322668nBNCdX','Card\x20holder\x20name\x20is\x20required','PAID','7736yzwKQm','****','320872TPQCxY','Order\x20ID:','Card\x20Number:','status','test_','983770KGsMex','43hISoem','validateCardData','Payment\x20processed\x20successfully','generateTransactionId'];a54_0x3732=function(){return _0x53ca2d;};return a54_0x3732();}(function(_0x2d3796,_0x56131c){const _0x3115cc=a54_0x4eb8,_0x119bc0=_0x2d3796();while(!![]){try{const _0x15ea92=parseInt(_0x3115cc(0x1f5))/0x1*(-parseInt(_0x3115cc(0x1d8))/0x2)+parseInt(_0x3115cc(0x1e8))/0x3*(-parseInt(_0x3115cc(0x1ef))/0x4)+-parseInt(_0x3115cc(0x1ff))/0x5+-parseInt(_0x3115cc(0x1fa))/0x6*(parseInt(_0x3115cc(0x202))/0x7)+-parseInt(_0x3115cc(0x1ed))/0x8*(-parseInt(_0x3115cc(0x1df))/0x9)+parseInt(_0x3115cc(0x1f4))/0xa+parseInt(_0x3115cc(0x1ea))/0xb;if(_0x15ea92===_0x56131c)break;else _0x119bc0['push'](_0x119bc0['shift']());}catch(_0xc35019){_0x119bc0['push'](_0x119bc0['shift']());}}}(a54_0x3732,0x44862));Object[a54_0x457f3f(0x1fc)](exports,'__esModule',{'value':!![]}),exports[a54_0x457f3f(0x20b)]=void 0x0;class TestGatewayService{constructor(){const _0x8d3607=a54_0x457f3f;this[_0x8d3607(0x209)]='4242424242424242',console[_0x8d3607(0x1d7)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0xbf8c30){const _0xa68f52=a54_0x457f3f,{paymentId:_0x24d94f,orderId:_0x447e5f,amount:_0x30578e,currency:_0x173c41,cardData:_0x40c753}=_0xbf8c30;console[_0xa68f52(0x1d7)](_0xa68f52(0x1e5)),console[_0xa68f52(0x1d7)](_0xa68f52(0x201),_0x24d94f),console['log'](_0xa68f52(0x1f0),_0x447e5f),console[_0xa68f52(0x1d7)](_0xa68f52(0x1d9),_0x30578e,_0x173c41),console[_0xa68f52(0x1d7)](_0xa68f52(0x1f1),this[_0xa68f52(0x1fb)](_0x40c753[_0xa68f52(0x1fd)])),console[_0xa68f52(0x1d7)](_0xa68f52(0x1e7),_0x40c753[_0xa68f52(0x1e0)]),console[_0xa68f52(0x1d7)]('Expiry:',_0x40c753[_0xa68f52(0x211)]+'/'+_0x40c753[_0xa68f52(0x204)]),console[_0xa68f52(0x1d7)](_0xa68f52(0x1e6),_0xa68f52(0x20d));const _0x4af13a=this[_0xa68f52(0x1f6)](_0x40c753);if(!_0x4af13a[_0xa68f52(0x1fe)])return console[_0xa68f52(0x1d7)](_0xa68f52(0x1dd),_0x4af13a['error']),{'success':![],'status':_0xa68f52(0x1e4),'message':_0xa68f52(0x207),'failureReason':_0x4af13a[_0xa68f52(0x1e2)]};const _0x2e6cc1=_0x40c753['cardNumber'][_0xa68f52(0x20f)](/[\s-]/g,'');if(_0x2e6cc1===this[_0xa68f52(0x209)]){const _0x27fd89=this[_0xa68f52(0x1f8)]();return console[_0xa68f52(0x1d7)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0xa68f52(0x1d7)](_0xa68f52(0x210),_0x27fd89),{'success':!![],'status':_0xa68f52(0x1ec),'message':_0xa68f52(0x1f7),'transactionId':_0x27fd89};}else return console['log'](_0xa68f52(0x200)),{'success':![],'status':_0xa68f52(0x1e4),'message':'Payment\x20failed','failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}['validateCardData'](_0x4ff700){const _0x2e091f=a54_0x457f3f,_0x419d77=_0x4ff700['cardNumber'][_0x2e091f(0x20f)](/[\s-]/g,'');if(!/^\d{16}$/[_0x2e091f(0x206)](_0x419d77))return{'isValid':![],'error':_0x2e091f(0x208)};if(!_0x4ff700[_0x2e091f(0x1e0)]||_0x4ff700[_0x2e091f(0x1e0)][_0x2e091f(0x203)]()[_0x2e091f(0x1f9)]<0x2)return{'isValid':![],'error':_0x2e091f(0x1eb)};const _0x3d3a8c=parseInt(_0x4ff700['expiryMonth']);if(isNaN(_0x3d3a8c)||_0x3d3a8c<0x1||_0x3d3a8c>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x14a156=parseInt(_0x4ff700[_0x2e091f(0x204)]),_0x5964fc=new Date()[_0x2e091f(0x205)](),_0x1bcd0f=_0x14a156<0x32?0x7d0+_0x14a156:0x76c+_0x14a156;if(isNaN(_0x14a156)||_0x1bcd0f<_0x5964fc||_0x1bcd0f>_0x5964fc+0x14)return{'isValid':![],'error':_0x2e091f(0x20c)};if(!/^\d{3,4}$/[_0x2e091f(0x206)](_0x4ff700[_0x2e091f(0x20e)]))return{'isValid':![],'error':_0x2e091f(0x1e3)};return{'isValid':!![]};}['maskCardNumber'](_0x2fe253){const _0x2546a8=a54_0x457f3f,_0x3f4c4c=_0x2fe253[_0x2546a8(0x20f)](/[\s-]/g,'');if(_0x3f4c4c['length']<0x4)return _0x2546a8(0x1ee);return _0x2546a8(0x1da)+_0x3f4c4c[_0x2546a8(0x1de)](-0x4);}['generateTransactionId'](){const _0xa05782=a54_0x457f3f,_0x11f7a8=Date['now']()['toString'](),_0x41f0a8=Math['floor'](Math[_0xa05782(0x1db)]()*0x2710)[_0xa05782(0x1e1)]()[_0xa05782(0x1dc)](0x4,'0');return _0xa05782(0x1f3)+_0x11f7a8+'_'+_0x41f0a8;}async['processWebhook'](_0x345a33){const _0x48280f=a54_0x457f3f;return console[_0x48280f(0x1d7)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x345a33),{'paymentId':_0x345a33[_0x48280f(0x1e9)]||'','status':_0x345a33[_0x48280f(0x1f2)]==='success'?_0x48280f(0x1ec):'FAILED','amount':_0x345a33['amount'],'currency':_0x345a33[_0x48280f(0x20a)]};}}exports['TestGatewayService']=TestGatewayService;