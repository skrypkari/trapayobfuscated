'use strict';const a46_0x44522c=a46_0x3d2d;(function(_0x4bacb7,_0x46bc61){const _0x1dd33e=a46_0x3d2d,_0x228b34=_0x4bacb7();while(!![]){try{const _0x3fdca0=parseInt(_0x1dd33e(0x1e8))/0x1*(parseInt(_0x1dd33e(0x1f9))/0x2)+parseInt(_0x1dd33e(0x1c4))/0x3*(-parseInt(_0x1dd33e(0x1ea))/0x4)+-parseInt(_0x1dd33e(0x1df))/0x5+parseInt(_0x1dd33e(0x1dc))/0x6*(parseInt(_0x1dd33e(0x1cb))/0x7)+-parseInt(_0x1dd33e(0x1e6))/0x8*(-parseInt(_0x1dd33e(0x1fb))/0x9)+parseInt(_0x1dd33e(0x1ca))/0xa+-parseInt(_0x1dd33e(0x1ec))/0xb;if(_0x3fdca0===_0x46bc61)break;else _0x228b34['push'](_0x228b34['shift']());}catch(_0x8d0061){_0x228b34['push'](_0x228b34['shift']());}}}(a46_0x465b,0x7964b));function a46_0x3d2d(_0x5d2d33,_0x512471){const _0x465b55=a46_0x465b();return a46_0x3d2d=function(_0x3d2df8,_0x2075bc){_0x3d2df8=_0x3d2df8-0x1c1;let _0x4b1aab=_0x465b55[_0x3d2df8];return _0x4b1aab;},a46_0x3d2d(_0x5d2d33,_0x512471);}Object[a46_0x44522c(0x1d9)](exports,a46_0x44522c(0x1f4),{'value':!![]}),exports[a46_0x44522c(0x1d8)]=void 0x0;function a46_0x465b(){const _0x1f65a2=['96PMZWNH','validateCardData','generateTransactionId','2564020CijlPP','Expiry:','cvc','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','log','expiryMonth','Payment\x20failed','304snokff','Invalid\x20expiry\x20month','1fkQpXQ','slice','20KuCwZX','padStart','13104113sksNWq','Card\x20Number:','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20holder\x20name\x20is\x20required','order_id','currency','Card\x20validation\x20failed','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','__esModule','‚úÖ\x20Test\x20payment\x20successful','length','cardNumber','processCardPayment','691834DbvXoz','success','223623QRcPXn','toString','Card\x20number\x20must\x20be\x2016\x20digits','getFullYear','status','Payment\x20processed\x20successfully','432717tZrMGR','FAILED','random','maskCardNumber','floor','expiryYear','6777500owNPeU','417662nxgbHV','****','cardHolderName','Card\x20Holder:','replace','error','4242424242424242','test','isValid','Order\x20ID:','SUCCESS_CARD','****\x20****\x20****\x20','PAID','TestGatewayService','defineProperty','CVC\x20must\x20be\x203\x20or\x204\x20digits','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):'];a46_0x465b=function(){return _0x1f65a2;};return a46_0x465b();}class TestGatewayService{constructor(){const _0x1e19c6=a46_0x44522c;this[_0x1e19c6(0x1d5)]=_0x1e19c6(0x1d1),console['log'](_0x1e19c6(0x1ee));}async[a46_0x44522c(0x1f8)](_0x56f9a5){const _0x5e8d4b=a46_0x44522c,{paymentId:_0xac6cbf,orderId:_0x10216f,amount:_0x13d173,currency:_0x3c9053,cardData:_0x2ab7e6}=_0x56f9a5;console[_0x5e8d4b(0x1e3)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x5e8d4b(0x1e3)]('Payment\x20ID:',_0xac6cbf),console[_0x5e8d4b(0x1e3)](_0x5e8d4b(0x1d4),_0x10216f),console['log']('Amount:',_0x13d173,_0x3c9053),console[_0x5e8d4b(0x1e3)](_0x5e8d4b(0x1ed),this[_0x5e8d4b(0x1c7)](_0x2ab7e6[_0x5e8d4b(0x1f7)])),console[_0x5e8d4b(0x1e3)](_0x5e8d4b(0x1ce),_0x2ab7e6[_0x5e8d4b(0x1cd)]),console[_0x5e8d4b(0x1e3)](_0x5e8d4b(0x1e0),_0x2ab7e6[_0x5e8d4b(0x1e4)]+'/'+_0x2ab7e6[_0x5e8d4b(0x1c9)]),console[_0x5e8d4b(0x1e3)]('CVC:','***');const _0x320af4=this[_0x5e8d4b(0x1dd)](_0x2ab7e6);if(!_0x320af4[_0x5e8d4b(0x1d3)])return console[_0x5e8d4b(0x1e3)]('‚ùå\x20Card\x20validation\x20failed:',_0x320af4[_0x5e8d4b(0x1d0)]),{'success':![],'status':'FAILED','message':_0x5e8d4b(0x1f2),'failureReason':_0x320af4[_0x5e8d4b(0x1d0)]};const _0x5f566b=_0x2ab7e6['cardNumber'][_0x5e8d4b(0x1cf)](/[\s-]/g,'');if(_0x5f566b===this[_0x5e8d4b(0x1d5)]){const _0x3eb7a5=this[_0x5e8d4b(0x1de)]();return console[_0x5e8d4b(0x1e3)](_0x5e8d4b(0x1f5)),console[_0x5e8d4b(0x1e3)]('Transaction\x20ID:',_0x3eb7a5),{'success':!![],'status':_0x5e8d4b(0x1d7),'message':_0x5e8d4b(0x1c3),'transactionId':_0x3eb7a5};}else return console[_0x5e8d4b(0x1e3)](_0x5e8d4b(0x1f3)),{'success':![],'status':_0x5e8d4b(0x1c5),'message':_0x5e8d4b(0x1e5),'failureReason':_0x5e8d4b(0x1e2)};}['validateCardData'](_0x27d6db){const _0x189e82=a46_0x44522c,_0x49dc93=_0x27d6db['cardNumber'][_0x189e82(0x1cf)](/[\s-]/g,'');if(!/^\d{16}$/[_0x189e82(0x1d2)](_0x49dc93))return{'isValid':![],'error':_0x189e82(0x1fd)};if(!_0x27d6db[_0x189e82(0x1cd)]||_0x27d6db[_0x189e82(0x1cd)]['trim']()[_0x189e82(0x1f6)]<0x2)return{'isValid':![],'error':_0x189e82(0x1ef)};const _0x14eccb=parseInt(_0x27d6db[_0x189e82(0x1e4)]);if(isNaN(_0x14eccb)||_0x14eccb<0x1||_0x14eccb>0xc)return{'isValid':![],'error':_0x189e82(0x1e7)};const _0x4d9408=parseInt(_0x27d6db[_0x189e82(0x1c9)]),_0xe01b82=new Date()[_0x189e82(0x1c1)](),_0x435edf=_0x4d9408<0x32?0x7d0+_0x4d9408:0x76c+_0x4d9408;if(isNaN(_0x4d9408)||_0x435edf<_0xe01b82||_0x435edf>_0xe01b82+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x189e82(0x1d2)](_0x27d6db[_0x189e82(0x1e1)]))return{'isValid':![],'error':_0x189e82(0x1da)};return{'isValid':!![]};}['maskCardNumber'](_0x26623a){const _0xcfe48d=a46_0x44522c,_0x107280=_0x26623a[_0xcfe48d(0x1cf)](/[\s-]/g,'');if(_0x107280[_0xcfe48d(0x1f6)]<0x4)return _0xcfe48d(0x1cc);return _0xcfe48d(0x1d6)+_0x107280[_0xcfe48d(0x1e9)](-0x4);}['generateTransactionId'](){const _0x137a9a=a46_0x44522c,_0x920f2=Date['now']()[_0x137a9a(0x1fc)](),_0x257f09=Math[_0x137a9a(0x1c8)](Math[_0x137a9a(0x1c6)]()*0x2710)[_0x137a9a(0x1fc)]()[_0x137a9a(0x1eb)](0x4,'0');return'test_'+_0x920f2+'_'+_0x257f09;}async['processWebhook'](_0x3702e6){const _0x3a6543=a46_0x44522c;return console[_0x3a6543(0x1e3)](_0x3a6543(0x1db),_0x3702e6),{'paymentId':_0x3702e6[_0x3a6543(0x1f0)]||'','status':_0x3702e6[_0x3a6543(0x1c2)]===_0x3a6543(0x1fa)?_0x3a6543(0x1d7):_0x3a6543(0x1c5),'amount':_0x3702e6['amount'],'currency':_0x3702e6[_0x3a6543(0x1f1)]};}}exports[a46_0x44522c(0x1d8)]=TestGatewayService;