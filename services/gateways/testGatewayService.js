'use strict';const a57_0x4df8b8=a57_0x53d3;function a57_0x53f6(){const _0x21940f=['Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','2hallqp','success','***','test_','isValid','1388616DZVHBK','Invalid\x20expiry\x20year','currency','FAILED','Transaction\x20ID:','180dXEzrF','length','‚úÖ\x20Test\x20payment\x20successful','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','4242424242424242','defineProperty','Card\x20Number:','145172zQVgzR','Amount:','****\x20****\x20****\x20','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','now','validateCardData','CVC:','Payment\x20processed\x20successfully','Order\x20ID:','cardNumber','4782816YHJIOO','order_id','toString','expiryYear','1142393OWJtSv','TestGatewayService','replace','Expiry:','cvc','expiryMonth','Payment\x20ID:','amount','üß™\x20Test\x20Gateway\x20service\x20initialized','PAID','3006eeLKEn','Card\x20number\x20must\x20be\x2016\x20digits','cardHolderName','slice','log','maskCardNumber','__esModule','2360274IKcUvz','16wxLLJz','1240505zZsISi','99RGwnRD','getFullYear','11860qESedB','random','processWebhook','SUCCESS_CARD','test','floor','processCardPayment','CVC\x20must\x20be\x203\x20or\x204\x20digits'];a57_0x53f6=function(){return _0x21940f;};return a57_0x53f6();}(function(_0x53e224,_0x2819eb){const _0x46a09e=a57_0x53d3,_0x2a9e0a=_0x53e224();while(!![]){try{const _0x380ce2=-parseInt(_0x46a09e(0x206))/0x1+-parseInt(_0x46a09e(0x1e7))/0x2*(-parseInt(_0x46a09e(0x1d9))/0x3)+parseInt(_0x46a09e(0x1f8))/0x4*(-parseInt(_0x46a09e(0x1f1))/0x5)+parseInt(_0x46a09e(0x202))/0x6+parseInt(_0x46a09e(0x1db))/0x7*(parseInt(_0x46a09e(0x1da))/0x8)+parseInt(_0x46a09e(0x1d2))/0x9*(parseInt(_0x46a09e(0x1de))/0xa)+parseInt(_0x46a09e(0x1dc))/0xb*(parseInt(_0x46a09e(0x1ec))/0xc);if(_0x380ce2===_0x2819eb)break;else _0x2a9e0a['push'](_0x2a9e0a['shift']());}catch(_0x18e7e7){_0x2a9e0a['push'](_0x2a9e0a['shift']());}}}(a57_0x53f6,0xe24f9));Object[a57_0x4df8b8(0x1f6)](exports,a57_0x4df8b8(0x1d8),{'value':!![]}),exports[a57_0x4df8b8(0x207)]=void 0x0;class TestGatewayService{constructor(){const _0x36203a=a57_0x4df8b8;this[_0x36203a(0x1e1)]=_0x36203a(0x1f5),console[_0x36203a(0x1d6)](_0x36203a(0x1d0));}async[a57_0x4df8b8(0x1e4)](_0x199a7b){const _0x24503b=a57_0x4df8b8,{paymentId:_0x562d11,orderId:_0x57af85,amount:_0x16764,currency:_0x2491e2,cardData:_0x1094d9}=_0x199a7b;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x24503b(0x1d6)](_0x24503b(0x1ce),_0x562d11),console['log'](_0x24503b(0x200),_0x57af85),console[_0x24503b(0x1d6)](_0x24503b(0x1f9),_0x16764,_0x2491e2),console['log'](_0x24503b(0x1f7),this[_0x24503b(0x1d7)](_0x1094d9[_0x24503b(0x201)])),console['log']('Card\x20Holder:',_0x1094d9[_0x24503b(0x1d4)]),console[_0x24503b(0x1d6)](_0x24503b(0x209),_0x1094d9[_0x24503b(0x1cd)]+'/'+_0x1094d9[_0x24503b(0x205)]),console['log'](_0x24503b(0x1fe),_0x24503b(0x1e9));const _0x1f6ccf=this[_0x24503b(0x1fd)](_0x1094d9);if(!_0x1f6ccf[_0x24503b(0x1eb)])return console[_0x24503b(0x1d6)]('‚ùå\x20Card\x20validation\x20failed:',_0x1f6ccf['error']),{'success':![],'status':_0x24503b(0x1ef),'message':'Card\x20validation\x20failed','failureReason':_0x1f6ccf['error']};const _0x300471=_0x1094d9[_0x24503b(0x201)][_0x24503b(0x208)](/[\s-]/g,'');if(_0x300471===this['SUCCESS_CARD']){const _0x4a9c25=this['generateTransactionId']();return console[_0x24503b(0x1d6)](_0x24503b(0x1f3)),console['log'](_0x24503b(0x1f0),_0x4a9c25),{'success':!![],'status':'PAID','message':_0x24503b(0x1ff),'transactionId':_0x4a9c25};}else return console[_0x24503b(0x1d6)](_0x24503b(0x1f4)),{'success':![],'status':_0x24503b(0x1ef),'message':'Payment\x20failed','failureReason':_0x24503b(0x1fb)};}[a57_0x4df8b8(0x1fd)](_0x47e634){const _0x1295c9=a57_0x4df8b8,_0x55c576=_0x47e634[_0x1295c9(0x201)][_0x1295c9(0x208)](/[\s-]/g,'');if(!/^\d{16}$/[_0x1295c9(0x1e2)](_0x55c576))return{'isValid':![],'error':_0x1295c9(0x1d3)};if(!_0x47e634[_0x1295c9(0x1d4)]||_0x47e634[_0x1295c9(0x1d4)]['trim']()[_0x1295c9(0x1f2)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x13b59c=parseInt(_0x47e634[_0x1295c9(0x1cd)]);if(isNaN(_0x13b59c)||_0x13b59c<0x1||_0x13b59c>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x393fdb=parseInt(_0x47e634['expiryYear']),_0x20d9a5=new Date()[_0x1295c9(0x1dd)](),_0x147c2e=_0x393fdb<0x32?0x7d0+_0x393fdb:0x76c+_0x393fdb;if(isNaN(_0x393fdb)||_0x147c2e<_0x20d9a5||_0x147c2e>_0x20d9a5+0x14)return{'isValid':![],'error':_0x1295c9(0x1ed)};if(!/^\d{3,4}$/[_0x1295c9(0x1e2)](_0x47e634[_0x1295c9(0x20a)]))return{'isValid':![],'error':_0x1295c9(0x1e5)};return{'isValid':!![]};}[a57_0x4df8b8(0x1d7)](_0xbd17e4){const _0x2b44c1=a57_0x4df8b8,_0xbe73ba=_0xbd17e4[_0x2b44c1(0x208)](/[\s-]/g,'');if(_0xbe73ba['length']<0x4)return'****';return _0x2b44c1(0x1fa)+_0xbe73ba[_0x2b44c1(0x1d5)](-0x4);}['generateTransactionId'](){const _0x1cc01c=a57_0x4df8b8,_0xac4e78=Date[_0x1cc01c(0x1fc)]()[_0x1cc01c(0x204)](),_0x23c812=Math[_0x1cc01c(0x1e3)](Math[_0x1cc01c(0x1df)]()*0x2710)[_0x1cc01c(0x204)]()['padStart'](0x4,'0');return _0x1cc01c(0x1ea)+_0xac4e78+'_'+_0x23c812;}async[a57_0x4df8b8(0x1e0)](_0x16e50f){const _0x1b2c78=a57_0x4df8b8;return console[_0x1b2c78(0x1d6)](_0x1b2c78(0x1e6),_0x16e50f),{'paymentId':_0x16e50f[_0x1b2c78(0x203)]||'','status':_0x16e50f['status']===_0x1b2c78(0x1e8)?_0x1b2c78(0x1d1):_0x1b2c78(0x1ef),'amount':_0x16e50f[_0x1b2c78(0x1cf)],'currency':_0x16e50f[_0x1b2c78(0x1ee)]};}}function a57_0x53d3(_0x61e42f,_0x35a870){const _0x53f6d8=a57_0x53f6();return a57_0x53d3=function(_0x53d37f,_0x3e2b77){_0x53d37f=_0x53d37f-0x1cd;let _0x45c392=_0x53f6d8[_0x53d37f];return _0x45c392;},a57_0x53d3(_0x61e42f,_0x35a870);}exports[a57_0x4df8b8(0x207)]=TestGatewayService;