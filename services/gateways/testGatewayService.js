'use strict';const a46_0x5e9af4=a46_0x24ed;(function(_0x5517db,_0x30dbcb){const _0x5d4e2a=a46_0x24ed,_0x187042=_0x5517db();while(!![]){try{const _0x2f76bb=-parseInt(_0x5d4e2a(0x12a))/0x1+parseInt(_0x5d4e2a(0x12e))/0x2+parseInt(_0x5d4e2a(0x14e))/0x3+-parseInt(_0x5d4e2a(0x137))/0x4*(-parseInt(_0x5d4e2a(0x133))/0x5)+parseInt(_0x5d4e2a(0x13f))/0x6*(parseInt(_0x5d4e2a(0x151))/0x7)+parseInt(_0x5d4e2a(0x140))/0x8+-parseInt(_0x5d4e2a(0x15c))/0x9;if(_0x2f76bb===_0x30dbcb)break;else _0x187042['push'](_0x187042['shift']());}catch(_0x308127){_0x187042['push'](_0x187042['shift']());}}}(a46_0x2f48,0xe6cbe));function a46_0x2f48(){const _0x336768=['14677272wNfcbW','Card\x20validation\x20failed','Card\x20Holder:','length','toString','floor','maskCardNumber','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','****','***','defineProperty','validateCardData','Amount:','cardHolderName','5228013fOhLfC','PAID','expiryMonth','977788QegyUR','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','currency','Transaction\x20ID:','isValid','now','getFullYear','FAILED','SUCCESS_CARD','generateTransactionId','log','27337806RNPfbd','Card\x20number\x20must\x20be\x2016\x20digits','Card\x20Number:','üß™\x20Test\x20Gateway\x20service\x20initialized','success','processWebhook','expiryYear','TestGatewayService','1669653goNNNx','CVC:','Invalid\x20expiry\x20month','****\x20****\x20****\x20','124834UbNEvX','Card\x20holder\x20name\x20is\x20required','replace','error','status','2105OUBlVv','Expiry:','Invalid\x20expiry\x20year','Payment\x20processed\x20successfully','12488JLWmMM','test','4242424242424242','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Order\x20ID:','cardNumber','random','CVC\x20must\x20be\x203\x20or\x204\x20digits','30wNJryz'];a46_0x2f48=function(){return _0x336768;};return a46_0x2f48();}function a46_0x24ed(_0x567aba,_0x2ad144){const _0x2f4812=a46_0x2f48();return a46_0x24ed=function(_0x24ed6c,_0x2f7e1e){_0x24ed6c=_0x24ed6c-0x123;let _0x4e8e4b=_0x2f4812[_0x24ed6c];return _0x4e8e4b;},a46_0x24ed(_0x567aba,_0x2ad144);}Object[a46_0x5e9af4(0x14a)](exports,'__esModule',{'value':!![]}),exports[a46_0x5e9af4(0x129)]=void 0x0;class TestGatewayService{constructor(){const _0x582bed=a46_0x5e9af4;this['SUCCESS_CARD']=_0x582bed(0x139),console['log'](_0x582bed(0x125));}async['processCardPayment'](_0x100c40){const _0x50e67e=a46_0x5e9af4,{paymentId:_0x564b22,orderId:_0x18b692,amount:_0x5c0060,currency:_0x19df20,cardData:_0x19cb0f}=_0x100c40;console['log'](_0x50e67e(0x152)),console['log']('Payment\x20ID:',_0x564b22),console[_0x50e67e(0x15b)](_0x50e67e(0x13b),_0x18b692),console[_0x50e67e(0x15b)](_0x50e67e(0x14c),_0x5c0060,_0x19df20),console[_0x50e67e(0x15b)](_0x50e67e(0x124),this['maskCardNumber'](_0x19cb0f['cardNumber'])),console['log'](_0x50e67e(0x142),_0x19cb0f[_0x50e67e(0x14d)]),console[_0x50e67e(0x15b)](_0x50e67e(0x134),_0x19cb0f[_0x50e67e(0x150)]+'/'+_0x19cb0f[_0x50e67e(0x128)]),console[_0x50e67e(0x15b)](_0x50e67e(0x12b),_0x50e67e(0x149));const _0x262bfb=this[_0x50e67e(0x14b)](_0x19cb0f);if(!_0x262bfb[_0x50e67e(0x155)])return console['log']('‚ùå\x20Card\x20validation\x20failed:',_0x262bfb['error']),{'success':![],'status':_0x50e67e(0x158),'message':_0x50e67e(0x141),'failureReason':_0x262bfb[_0x50e67e(0x131)]};const _0x5f5023=_0x19cb0f['cardNumber'][_0x50e67e(0x130)](/[\s-]/g,'');if(_0x5f5023===this[_0x50e67e(0x159)]){const _0x3b77e8=this['generateTransactionId']();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x50e67e(0x15b)](_0x50e67e(0x154),_0x3b77e8),{'success':!![],'status':'PAID','message':_0x50e67e(0x136),'transactionId':_0x3b77e8};}else return console[_0x50e67e(0x15b)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':_0x50e67e(0x13a)};}[a46_0x5e9af4(0x14b)](_0x33cd77){const _0x4b44b5=a46_0x5e9af4,_0x280d9b=_0x33cd77[_0x4b44b5(0x13c)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x4b44b5(0x138)](_0x280d9b))return{'isValid':![],'error':_0x4b44b5(0x123)};if(!_0x33cd77[_0x4b44b5(0x14d)]||_0x33cd77[_0x4b44b5(0x14d)]['trim']()[_0x4b44b5(0x143)]<0x2)return{'isValid':![],'error':_0x4b44b5(0x12f)};const _0x582d51=parseInt(_0x33cd77[_0x4b44b5(0x150)]);if(isNaN(_0x582d51)||_0x582d51<0x1||_0x582d51>0xc)return{'isValid':![],'error':_0x4b44b5(0x12c)};const _0x797fa6=parseInt(_0x33cd77[_0x4b44b5(0x128)]),_0x3484f0=new Date()[_0x4b44b5(0x157)](),_0xeec175=_0x797fa6<0x32?0x7d0+_0x797fa6:0x76c+_0x797fa6;if(isNaN(_0x797fa6)||_0xeec175<_0x3484f0||_0xeec175>_0x3484f0+0x14)return{'isValid':![],'error':_0x4b44b5(0x135)};if(!/^\d{3,4}$/[_0x4b44b5(0x138)](_0x33cd77['cvc']))return{'isValid':![],'error':_0x4b44b5(0x13e)};return{'isValid':!![]};}[a46_0x5e9af4(0x146)](_0x496c89){const _0x421188=a46_0x5e9af4,_0x364328=_0x496c89['replace'](/[\s-]/g,'');if(_0x364328['length']<0x4)return _0x421188(0x148);return _0x421188(0x12d)+_0x364328['slice'](-0x4);}[a46_0x5e9af4(0x15a)](){const _0xab634b=a46_0x5e9af4,_0x9388e=Date[_0xab634b(0x156)]()[_0xab634b(0x144)](),_0x1b60d5=Math[_0xab634b(0x145)](Math[_0xab634b(0x13d)]()*0x2710)['toString']()['padStart'](0x4,'0');return'test_'+_0x9388e+'_'+_0x1b60d5;}async[a46_0x5e9af4(0x127)](_0x24d360){const _0x11e316=a46_0x5e9af4;return console[_0x11e316(0x15b)](_0x11e316(0x147),_0x24d360),{'paymentId':_0x24d360['order_id']||'','status':_0x24d360[_0x11e316(0x132)]===_0x11e316(0x126)?_0x11e316(0x14f):_0x11e316(0x158),'amount':_0x24d360['amount'],'currency':_0x24d360[_0x11e316(0x153)]};}}exports[a46_0x5e9af4(0x129)]=TestGatewayService;