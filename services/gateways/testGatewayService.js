'use strict';function a46_0x2d08(){const _0x5eeb51=['length','927430MwQCzI','PAID','75EyLDXL','slice','maskCardNumber','error','processWebhook','success','Card\x20holder\x20name\x20is\x20required','cardHolderName','103457QQFTiD','****\x20****\x20****\x20','CVC:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','cvc','defineProperty','expiryMonth','1576431NzKbIN','trim','status','cardNumber','***','SUCCESS_CARD','Card\x20Number:','now','720415JdHVbL','35JraDDC','toString','order_id','182PIapmT','FAILED','validateCardData','üß™\x20Test\x20Gateway\x20service\x20initialized','198564OVdsVj','random','test','replace','Payment\x20failed','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Card\x20number\x20must\x20be\x2016\x20digits','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20Holder:','8TXjrjN','padStart','4RTqwDE','Payment\x20ID:','4242424242424242','Invalid\x20expiry\x20month','11pcDPXU','expiryYear','isValid','amount','log','processCardPayment','currency','generateTransactionId','183678wMranU','‚ùå\x20Card\x20validation\x20failed:','Payment\x20processed\x20successfully','190LgjJrT','‚úÖ\x20Test\x20payment\x20successful','TestGatewayService','****'];a46_0x2d08=function(){return _0x5eeb51;};return a46_0x2d08();}const a46_0x5d8937=a46_0x261d;(function(_0x239e05,_0x54672d){const _0x18b3ab=a46_0x261d,_0x1dc115=_0x239e05();while(!![]){try{const _0x2410ba=parseInt(_0x18b3ab(0x13e))/0x1+-parseInt(_0x18b3ab(0x12f))/0x2*(-parseInt(_0x18b3ab(0x136))/0x3)+-parseInt(_0x18b3ab(0x160))/0x4*(parseInt(_0x18b3ab(0x14d))/0x5)+parseInt(_0x18b3ab(0x12c))/0x6*(-parseInt(_0x18b3ab(0x14e))/0x7)+-parseInt(_0x18b3ab(0x15e))/0x8*(-parseInt(_0x18b3ab(0x145))/0x9)+parseInt(_0x18b3ab(0x134))/0xa*(-parseInt(_0x18b3ab(0x164))/0xb)+parseInt(_0x18b3ab(0x155))/0xc*(parseInt(_0x18b3ab(0x151))/0xd);if(_0x2410ba===_0x54672d)break;else _0x1dc115['push'](_0x1dc115['shift']());}catch(_0x1b2795){_0x1dc115['push'](_0x1dc115['shift']());}}}(a46_0x2d08,0x1df86));function a46_0x261d(_0x5b7351,_0x2a0cd6){const _0x2d0804=a46_0x2d08();return a46_0x261d=function(_0x261d2a,_0x2df856){_0x261d2a=_0x261d2a-0x125;let _0x473b4d=_0x2d0804[_0x261d2a];return _0x473b4d;},a46_0x261d(_0x5b7351,_0x2a0cd6);}Object[a46_0x5d8937(0x143)](exports,'__esModule',{'value':!![]}),exports[a46_0x5d8937(0x131)]=void 0x0;class TestGatewayService{constructor(){const _0x22517b=a46_0x5d8937;this[_0x22517b(0x14a)]=_0x22517b(0x162),console[_0x22517b(0x128)](_0x22517b(0x154));}async[a46_0x5d8937(0x129)](_0x2153f3){const _0x16c856=a46_0x5d8937,{paymentId:_0x2aa297,orderId:_0xb7db35,amount:_0x57ef70,currency:_0x1e8757,cardData:_0x405a8f}=_0x2153f3;console[_0x16c856(0x128)](_0x16c856(0x15a)),console[_0x16c856(0x128)](_0x16c856(0x161),_0x2aa297),console['log']('Order\x20ID:',_0xb7db35),console['log']('Amount:',_0x57ef70,_0x1e8757),console[_0x16c856(0x128)](_0x16c856(0x14b),this[_0x16c856(0x138)](_0x405a8f[_0x16c856(0x148)])),console[_0x16c856(0x128)](_0x16c856(0x15d),_0x405a8f['cardHolderName']),console[_0x16c856(0x128)]('Expiry:',_0x405a8f[_0x16c856(0x144)]+'/'+_0x405a8f['expiryYear']),console[_0x16c856(0x128)](_0x16c856(0x140),_0x16c856(0x149));const _0x1be0fe=this[_0x16c856(0x153)](_0x405a8f);if(!_0x1be0fe[_0x16c856(0x126)])return console['log'](_0x16c856(0x12d),_0x1be0fe[_0x16c856(0x139)]),{'success':![],'status':'FAILED','message':'Card\x20validation\x20failed','failureReason':_0x1be0fe[_0x16c856(0x139)]};const _0x57f2f3=_0x405a8f['cardNumber']['replace'](/[\s-]/g,'');if(_0x57f2f3===this[_0x16c856(0x14a)]){const _0x5e1c5b=this['generateTransactionId']();return console[_0x16c856(0x128)](_0x16c856(0x130)),console[_0x16c856(0x128)]('Transaction\x20ID:',_0x5e1c5b),{'success':!![],'status':_0x16c856(0x135),'message':_0x16c856(0x12e),'transactionId':_0x5e1c5b};}else return console[_0x16c856(0x128)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x16c856(0x152),'message':_0x16c856(0x159),'failureReason':_0x16c856(0x141)};}[a46_0x5d8937(0x153)](_0x15128a){const _0xb10bf=a46_0x5d8937,_0x21b745=_0x15128a[_0xb10bf(0x148)][_0xb10bf(0x158)](/[\s-]/g,'');if(!/^\d{16}$/[_0xb10bf(0x157)](_0x21b745))return{'isValid':![],'error':_0xb10bf(0x15b)};if(!_0x15128a['cardHolderName']||_0x15128a[_0xb10bf(0x13d)][_0xb10bf(0x146)]()['length']<0x2)return{'isValid':![],'error':_0xb10bf(0x13c)};const _0xee0395=parseInt(_0x15128a[_0xb10bf(0x144)]);if(isNaN(_0xee0395)||_0xee0395<0x1||_0xee0395>0xc)return{'isValid':![],'error':_0xb10bf(0x163)};const _0x49fc36=parseInt(_0x15128a[_0xb10bf(0x125)]),_0x15ab72=new Date()['getFullYear'](),_0x229cb7=_0x49fc36<0x32?0x7d0+_0x49fc36:0x76c+_0x49fc36;if(isNaN(_0x49fc36)||_0x229cb7<_0x15ab72||_0x229cb7>_0x15ab72+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x15128a[_0xb10bf(0x142)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a46_0x5d8937(0x138)](_0x238b31){const _0x1e03c5=a46_0x5d8937,_0x2eee1d=_0x238b31['replace'](/[\s-]/g,'');if(_0x2eee1d[_0x1e03c5(0x133)]<0x4)return _0x1e03c5(0x132);return _0x1e03c5(0x13f)+_0x2eee1d[_0x1e03c5(0x137)](-0x4);}[a46_0x5d8937(0x12b)](){const _0x182eae=a46_0x5d8937,_0x3a9e31=Date[_0x182eae(0x14c)]()[_0x182eae(0x14f)](),_0x16bf29=Math['floor'](Math[_0x182eae(0x156)]()*0x2710)[_0x182eae(0x14f)]()[_0x182eae(0x15f)](0x4,'0');return'test_'+_0x3a9e31+'_'+_0x16bf29;}async[a46_0x5d8937(0x13a)](_0x51dc8e){const _0x3fe193=a46_0x5d8937;return console[_0x3fe193(0x128)](_0x3fe193(0x15c),_0x51dc8e),{'paymentId':_0x51dc8e[_0x3fe193(0x150)]||'','status':_0x51dc8e[_0x3fe193(0x147)]===_0x3fe193(0x13b)?_0x3fe193(0x135):'FAILED','amount':_0x51dc8e[_0x3fe193(0x127)],'currency':_0x51dc8e[_0x3fe193(0x12a)]};}}exports['TestGatewayService']=TestGatewayService;