'use strict';const a46_0xbbf9ce=a46_0x25dc;(function(_0x13f8d4,_0xb3ee4a){const _0x2a19da=a46_0x25dc,_0x4304e5=_0x13f8d4();while(!![]){try{const _0x45759f=parseInt(_0x2a19da(0x121))/0x1+-parseInt(_0x2a19da(0x129))/0x2+parseInt(_0x2a19da(0xfb))/0x3*(-parseInt(_0x2a19da(0x135))/0x4)+parseInt(_0x2a19da(0x132))/0x5*(-parseInt(_0x2a19da(0x12b))/0x6)+-parseInt(_0x2a19da(0x119))/0x7*(parseInt(_0x2a19da(0x131))/0x8)+-parseInt(_0x2a19da(0x12d))/0x9+parseInt(_0x2a19da(0x122))/0xa;if(_0x45759f===_0xb3ee4a)break;else _0x4304e5['push'](_0x4304e5['shift']());}catch(_0x55d9d2){_0x4304e5['push'](_0x4304e5['shift']());}}}(a46_0x4414,0x57da3));function a46_0x25dc(_0x115663,_0x4c762a){const _0x44141d=a46_0x4414();return a46_0x25dc=function(_0x25dc9a,_0x59a0f4){_0x25dc9a=_0x25dc9a-0xf9;let _0x37d301=_0x44141d[_0x25dc9a];return _0x37d301;},a46_0x25dc(_0x115663,_0x4c762a);}function a46_0x4414(){const _0x39f7db=['test','FAILED','cardHolderName','Invalid\x20expiry\x20year','‚ùå\x20Card\x20validation\x20failed:','replace','generateTransactionId','validateCardData','maskCardNumber','length','random','Amount:','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Invalid\x20expiry\x20month','log','expiryYear','SUCCESS_CARD','error','****','floor','1852445dqoRrK','Payment\x20failed','processWebhook','trim','Payment\x20ID:','Expiry:','processCardPayment','Payment\x20processed\x20successfully','492922wlFcMO','10300690LzSQZi','Card\x20Number:','defineProperty','cardNumber','isValid','***','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','591112kyptMP','Card\x20validation\x20failed','69162VHaSFF','4242424242424242','1692585zyBUvC','expiryMonth','Order\x20ID:','order_id','16WiNmpf','50jYwToo','toString','Card\x20Holder:','4ESxSfJ','padStart','TestGatewayService','104961WWlNtQ','test_','üß™\x20Test\x20Gateway\x20service\x20initialized','currency','slice','success','Card\x20holder\x20name\x20is\x20required','PAID','cvc','CVC\x20must\x20be\x203\x20or\x204\x20digits'];a46_0x4414=function(){return _0x39f7db;};return a46_0x4414();}Object[a46_0xbbf9ce(0x124)](exports,'__esModule',{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x125d73=a46_0xbbf9ce;this[_0x125d73(0x115)]=_0x125d73(0x12c),console[_0x125d73(0x113)](_0x125d73(0xfd));}async[a46_0xbbf9ce(0x11f)](_0x538a59){const _0x2ba26a=a46_0xbbf9ce,{paymentId:_0x44420d,orderId:_0x43133e,amount:_0xcde017,currency:_0x21c85f,cardData:_0x37ead1}=_0x538a59;console[_0x2ba26a(0x113)](_0x2ba26a(0x111)),console[_0x2ba26a(0x113)](_0x2ba26a(0x11d),_0x44420d),console['log'](_0x2ba26a(0x12f),_0x43133e),console[_0x2ba26a(0x113)](_0x2ba26a(0x110),_0xcde017,_0x21c85f),console[_0x2ba26a(0x113)](_0x2ba26a(0x123),this[_0x2ba26a(0x10d)](_0x37ead1['cardNumber'])),console[_0x2ba26a(0x113)](_0x2ba26a(0x134),_0x37ead1[_0x2ba26a(0x107)]),console[_0x2ba26a(0x113)](_0x2ba26a(0x11e),_0x37ead1[_0x2ba26a(0x12e)]+'/'+_0x37ead1[_0x2ba26a(0x114)]),console['log']('CVC:',_0x2ba26a(0x127));const _0x1493b6=this[_0x2ba26a(0x10c)](_0x37ead1);if(!_0x1493b6[_0x2ba26a(0x126)])return console[_0x2ba26a(0x113)](_0x2ba26a(0x109),_0x1493b6[_0x2ba26a(0x116)]),{'success':![],'status':'FAILED','message':_0x2ba26a(0x12a),'failureReason':_0x1493b6[_0x2ba26a(0x116)]};const _0x4b83c3=_0x37ead1['cardNumber']['replace'](/[\s-]/g,'');if(_0x4b83c3===this[_0x2ba26a(0x115)]){const _0x38551a=this[_0x2ba26a(0x10b)]();return console[_0x2ba26a(0x113)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x2ba26a(0x113)]('Transaction\x20ID:',_0x38551a),{'success':!![],'status':_0x2ba26a(0x102),'message':_0x2ba26a(0x120),'transactionId':_0x38551a};}else return console['log'](_0x2ba26a(0x128)),{'success':![],'status':_0x2ba26a(0x106),'message':_0x2ba26a(0x11a),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a46_0xbbf9ce(0x10c)](_0x1bcaeb){const _0x3137a8=a46_0xbbf9ce,_0x3d63a0=_0x1bcaeb[_0x3137a8(0x125)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x3137a8(0x105)](_0x3d63a0))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x1bcaeb['cardHolderName']||_0x1bcaeb['cardHolderName'][_0x3137a8(0x11c)]()[_0x3137a8(0x10e)]<0x2)return{'isValid':![],'error':_0x3137a8(0x101)};const _0x532fca=parseInt(_0x1bcaeb[_0x3137a8(0x12e)]);if(isNaN(_0x532fca)||_0x532fca<0x1||_0x532fca>0xc)return{'isValid':![],'error':_0x3137a8(0x112)};const _0xef8572=parseInt(_0x1bcaeb['expiryYear']),_0x4190dc=new Date()['getFullYear'](),_0x904cc1=_0xef8572<0x32?0x7d0+_0xef8572:0x76c+_0xef8572;if(isNaN(_0xef8572)||_0x904cc1<_0x4190dc||_0x904cc1>_0x4190dc+0x14)return{'isValid':![],'error':_0x3137a8(0x108)};if(!/^\d{3,4}$/[_0x3137a8(0x105)](_0x1bcaeb[_0x3137a8(0x103)]))return{'isValid':![],'error':_0x3137a8(0x104)};return{'isValid':!![]};}[a46_0xbbf9ce(0x10d)](_0x36a317){const _0x230756=a46_0xbbf9ce,_0x5f5d98=_0x36a317[_0x230756(0x10a)](/[\s-]/g,'');if(_0x5f5d98['length']<0x4)return _0x230756(0x117);return'****\x20****\x20****\x20'+_0x5f5d98[_0x230756(0xff)](-0x4);}[a46_0xbbf9ce(0x10b)](){const _0x603ec7=a46_0xbbf9ce,_0x43e8c7=Date['now']()['toString'](),_0x3f7ed4=Math[_0x603ec7(0x118)](Math[_0x603ec7(0x10f)]()*0x2710)[_0x603ec7(0x133)]()[_0x603ec7(0xf9)](0x4,'0');return _0x603ec7(0xfc)+_0x43e8c7+'_'+_0x3f7ed4;}async[a46_0xbbf9ce(0x11b)](_0x1666ac){const _0x9b6a0b=a46_0xbbf9ce;return console[_0x9b6a0b(0x113)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x1666ac),{'paymentId':_0x1666ac[_0x9b6a0b(0x130)]||'','status':_0x1666ac['status']===_0x9b6a0b(0x100)?_0x9b6a0b(0x102):'FAILED','amount':_0x1666ac['amount'],'currency':_0x1666ac[_0x9b6a0b(0xfe)]};}}exports[a46_0xbbf9ce(0xfa)]=TestGatewayService;