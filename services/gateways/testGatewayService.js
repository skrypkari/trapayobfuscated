'use strict';function a46_0x5676(_0x1385eb,_0x337b75){const _0x28f503=a46_0x28f5();return a46_0x5676=function(_0x567655,_0x443d63){_0x567655=_0x567655-0x168;let _0x4565f3=_0x28f503[_0x567655];return _0x4565f3;},a46_0x5676(_0x1385eb,_0x337b75);}const a46_0x2370de=a46_0x5676;(function(_0x42de77,_0x3b6bae){const _0x9a75fc=a46_0x5676,_0x28aca4=_0x42de77();while(!![]){try{const _0x58ecc4=-parseInt(_0x9a75fc(0x178))/0x1*(parseInt(_0x9a75fc(0x1a3))/0x2)+-parseInt(_0x9a75fc(0x170))/0x3*(-parseInt(_0x9a75fc(0x197))/0x4)+-parseInt(_0x9a75fc(0x190))/0x5*(-parseInt(_0x9a75fc(0x19e))/0x6)+-parseInt(_0x9a75fc(0x183))/0x7+-parseInt(_0x9a75fc(0x16a))/0x8+-parseInt(_0x9a75fc(0x186))/0x9*(parseInt(_0x9a75fc(0x17b))/0xa)+parseInt(_0x9a75fc(0x192))/0xb;if(_0x58ecc4===_0x3b6bae)break;else _0x28aca4['push'](_0x28aca4['shift']());}catch(_0xf476d7){_0x28aca4['push'](_0x28aca4['shift']());}}}(a46_0x28f5,0x22b27));Object[a46_0x2370de(0x19a)](exports,a46_0x2370de(0x193),{'value':!![]}),exports[a46_0x2370de(0x176)]=void 0x0;function a46_0x28f5(){const _0x2ee71e=['659004qRRAZW','Payment\x20processed\x20successfully','****\x20****\x20****\x20','defineProperty','cardNumber','log','Card\x20validation\x20failed','18SPtglf','Card\x20Holder:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','‚úÖ\x20Test\x20payment\x20successful','Expiry:','43114bhHRNt','error','currency','Invalid\x20expiry\x20year','Card\x20Number:','amount','CVC\x20must\x20be\x203\x20or\x204\x20digits','853376JlTxnM','Card\x20holder\x20name\x20is\x20required','Amount:','Card\x20number\x20must\x20be\x2016\x20digits','cardHolderName','Transaction\x20ID:','3cSBOcD','success','expiryMonth','‚ùå\x20Card\x20validation\x20failed:','Invalid\x20expiry\x20month','processWebhook','TestGatewayService','order_id','1PjvAqp','PAID','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','280iIemcG','expiryYear','cvc','validateCardData','length','random','SUCCESS_CARD','****','837606rMwzqp','FAILED','Payment\x20failed','46350KkBxQv','toString','getFullYear','status','now','generateTransactionId','***','replace','test_','maskCardNumber','194605xxolYk','Order\x20ID:','2779612Qijlwn','__esModule','Payment\x20ID:','padStart','test'];a46_0x28f5=function(){return _0x2ee71e;};return a46_0x28f5();}class TestGatewayService{constructor(){const _0x34dd69=a46_0x2370de;this[_0x34dd69(0x181)]='4242424242424242',console[_0x34dd69(0x19c)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x10e0f8){const _0x35ccff=a46_0x2370de,{paymentId:_0x6d1162,orderId:_0x3696f9,amount:_0x470798,currency:_0x47b798,cardData:_0x3fbf82}=_0x10e0f8;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x35ccff(0x19c)](_0x35ccff(0x194),_0x6d1162),console['log'](_0x35ccff(0x191),_0x3696f9),console[_0x35ccff(0x19c)](_0x35ccff(0x16c),_0x470798,_0x47b798),console[_0x35ccff(0x19c)](_0x35ccff(0x1a7),this[_0x35ccff(0x18f)](_0x3fbf82[_0x35ccff(0x19b)])),console['log'](_0x35ccff(0x19f),_0x3fbf82['cardHolderName']),console[_0x35ccff(0x19c)](_0x35ccff(0x1a2),_0x3fbf82[_0x35ccff(0x172)]+'/'+_0x3fbf82[_0x35ccff(0x17c)]),console[_0x35ccff(0x19c)]('CVC:',_0x35ccff(0x18c));const _0x38c60e=this[_0x35ccff(0x17e)](_0x3fbf82);if(!_0x38c60e['isValid'])return console['log'](_0x35ccff(0x173),_0x38c60e[_0x35ccff(0x1a4)]),{'success':![],'status':_0x35ccff(0x184),'message':_0x35ccff(0x19d),'failureReason':_0x38c60e['error']};const _0x35e3db=_0x3fbf82['cardNumber'][_0x35ccff(0x18d)](/[\s-]/g,'');if(_0x35e3db===this['SUCCESS_CARD']){const _0x1a9b77=this[_0x35ccff(0x18b)]();return console[_0x35ccff(0x19c)](_0x35ccff(0x1a1)),console['log'](_0x35ccff(0x16f),_0x1a9b77),{'success':!![],'status':_0x35ccff(0x179),'message':_0x35ccff(0x198),'transactionId':_0x1a9b77};}else return console[_0x35ccff(0x19c)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':_0x35ccff(0x185),'failureReason':_0x35ccff(0x1a0)};}['validateCardData'](_0x408e95){const _0x582942=a46_0x2370de,_0x5e6bf1=_0x408e95['cardNumber'][_0x582942(0x18d)](/[\s-]/g,'');if(!/^\d{16}$/[_0x582942(0x196)](_0x5e6bf1))return{'isValid':![],'error':_0x582942(0x16d)};if(!_0x408e95['cardHolderName']||_0x408e95[_0x582942(0x16e)]['trim']()['length']<0x2)return{'isValid':![],'error':_0x582942(0x16b)};const _0x4645d2=parseInt(_0x408e95[_0x582942(0x172)]);if(isNaN(_0x4645d2)||_0x4645d2<0x1||_0x4645d2>0xc)return{'isValid':![],'error':_0x582942(0x174)};const _0x51d12e=parseInt(_0x408e95['expiryYear']),_0x2266ed=new Date()[_0x582942(0x188)](),_0x5097d7=_0x51d12e<0x32?0x7d0+_0x51d12e:0x76c+_0x51d12e;if(isNaN(_0x51d12e)||_0x5097d7<_0x2266ed||_0x5097d7>_0x2266ed+0x14)return{'isValid':![],'error':_0x582942(0x1a6)};if(!/^\d{3,4}$/[_0x582942(0x196)](_0x408e95[_0x582942(0x17d)]))return{'isValid':![],'error':_0x582942(0x169)};return{'isValid':!![]};}['maskCardNumber'](_0xbc59a8){const _0x271ca1=a46_0x2370de,_0x32cc6c=_0xbc59a8[_0x271ca1(0x18d)](/[\s-]/g,'');if(_0x32cc6c[_0x271ca1(0x17f)]<0x4)return _0x271ca1(0x182);return _0x271ca1(0x199)+_0x32cc6c['slice'](-0x4);}[a46_0x2370de(0x18b)](){const _0x10904c=a46_0x2370de,_0xb91ef3=Date[_0x10904c(0x18a)]()[_0x10904c(0x187)](),_0x1883f1=Math['floor'](Math[_0x10904c(0x180)]()*0x2710)[_0x10904c(0x187)]()[_0x10904c(0x195)](0x4,'0');return _0x10904c(0x18e)+_0xb91ef3+'_'+_0x1883f1;}async[a46_0x2370de(0x175)](_0x27abb1){const _0x5b9d2d=a46_0x2370de;return console[_0x5b9d2d(0x19c)](_0x5b9d2d(0x17a),_0x27abb1),{'paymentId':_0x27abb1[_0x5b9d2d(0x177)]||'','status':_0x27abb1[_0x5b9d2d(0x189)]===_0x5b9d2d(0x171)?_0x5b9d2d(0x179):_0x5b9d2d(0x184),'amount':_0x27abb1[_0x5b9d2d(0x168)],'currency':_0x27abb1[_0x5b9d2d(0x1a5)]};}}exports['TestGatewayService']=TestGatewayService;