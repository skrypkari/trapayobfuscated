'use strict';const a46_0x35116b=a46_0x3454;function a46_0x3454(_0x373c75,_0x3d64ce){const _0x2375ac=a46_0x2375();return a46_0x3454=function(_0x34545e,_0x3db515){_0x34545e=_0x34545e-0x180;let _0xb6b26e=_0x2375ac[_0x34545e];return _0xb6b26e;},a46_0x3454(_0x373c75,_0x3d64ce);}function a46_0x2375(){const _0x240f18=['SUCCESS_CARD','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','isValid','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','order_id','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','13445390cGJcpf','__esModule','PAID','maskCardNumber','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','3470859VaTQso','test','getFullYear','FAILED','CVC\x20must\x20be\x203\x20or\x204\x20digits','length','currency','Card\x20number\x20must\x20be\x2016\x20digits','62496eNRtwH','Invalid\x20expiry\x20year','Payment\x20failed','1819002RyvFOg','29138UUtAJm','‚úÖ\x20Test\x20payment\x20successful','cvc','success','31152bHJvfY','Expiry:','validateCardData','Amount:','slice','238Urtlka','cardNumber','now','expiryYear','cardHolderName','****','toString','Transaction\x20ID:','TestGatewayService','Payment\x20ID:','floor','test_','processCardPayment','26snTOLm','replace','4242424242424242','Order\x20ID:','265ojGpxc','generateTransactionId','11mgfyMZ','random','Card\x20Number:','‚ùå\x20Card\x20validation\x20failed:','expiryMonth','trim','14488HBvKHj','üß™\x20Test\x20Gateway\x20service\x20initialized','log'];a46_0x2375=function(){return _0x240f18;};return a46_0x2375();}(function(_0x2bee32,_0x397cba){const _0x1db6a8=a46_0x3454,_0x3b005c=_0x2bee32();while(!![]){try{const _0x30cb82=parseInt(_0x1db6a8(0x1a7))/0x1*(-parseInt(_0x1db6a8(0x181))/0x2)+-parseInt(_0x1db6a8(0x1ab))/0x3+-parseInt(_0x1db6a8(0x18d))/0x4*(-parseInt(_0x1db6a8(0x185))/0x5)+-parseInt(_0x1db6a8(0x1a6))/0x6+-parseInt(_0x1db6a8(0x1b0))/0x7*(parseInt(_0x1db6a8(0x1a3))/0x8)+-parseInt(_0x1db6a8(0x19b))/0x9+parseInt(_0x1db6a8(0x196))/0xa*(parseInt(_0x1db6a8(0x187))/0xb);if(_0x30cb82===_0x397cba)break;else _0x3b005c['push'](_0x3b005c['shift']());}catch(_0x2308f5){_0x3b005c['push'](_0x3b005c['shift']());}}}(a46_0x2375,0x2f185));Object['defineProperty'](exports,a46_0x35116b(0x197),{'value':!![]}),exports[a46_0x35116b(0x1b8)]=void 0x0;class TestGatewayService{constructor(){const _0x23f29e=a46_0x35116b;this[_0x23f29e(0x190)]=_0x23f29e(0x183),console[_0x23f29e(0x18f)](_0x23f29e(0x18e));}async[a46_0x35116b(0x180)](_0x167765){const _0x410e61=a46_0x35116b,{paymentId:_0x260f2d,orderId:_0x34a747,amount:_0x50f5dc,currency:_0x286bd1,cardData:_0x4b9595}=_0x167765;console[_0x410e61(0x18f)](_0x410e61(0x191)),console[_0x410e61(0x18f)](_0x410e61(0x1b9),_0x260f2d),console[_0x410e61(0x18f)](_0x410e61(0x184),_0x34a747),console[_0x410e61(0x18f)](_0x410e61(0x1ae),_0x50f5dc,_0x286bd1),console['log'](_0x410e61(0x189),this[_0x410e61(0x199)](_0x4b9595[_0x410e61(0x1b1)])),console['log']('Card\x20Holder:',_0x4b9595[_0x410e61(0x1b4)]),console[_0x410e61(0x18f)](_0x410e61(0x1ac),_0x4b9595['expiryMonth']+'/'+_0x4b9595[_0x410e61(0x1b3)]),console[_0x410e61(0x18f)]('CVC:','***');const _0x4dc1ce=this[_0x410e61(0x1ad)](_0x4b9595);if(!_0x4dc1ce[_0x410e61(0x192)])return console['log'](_0x410e61(0x18a),_0x4dc1ce['error']),{'success':![],'status':_0x410e61(0x19e),'message':'Card\x20validation\x20failed','failureReason':_0x4dc1ce['error']};const _0x38c9cc=_0x4b9595[_0x410e61(0x1b1)][_0x410e61(0x182)](/[\s-]/g,'');if(_0x38c9cc===this[_0x410e61(0x190)]){const _0x1064b8=this[_0x410e61(0x186)]();return console['log'](_0x410e61(0x1a8)),console['log'](_0x410e61(0x1b7),_0x1064b8),{'success':!![],'status':_0x410e61(0x198),'message':'Payment\x20processed\x20successfully','transactionId':_0x1064b8};}else return console['log'](_0x410e61(0x19a)),{'success':![],'status':_0x410e61(0x19e),'message':_0x410e61(0x1a5),'failureReason':_0x410e61(0x193)};}['validateCardData'](_0x38cb96){const _0x76c2e2=a46_0x35116b,_0x501f97=_0x38cb96[_0x76c2e2(0x1b1)][_0x76c2e2(0x182)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x501f97))return{'isValid':![],'error':_0x76c2e2(0x1a2)};if(!_0x38cb96['cardHolderName']||_0x38cb96[_0x76c2e2(0x1b4)][_0x76c2e2(0x18c)]()[_0x76c2e2(0x1a0)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x217786=parseInt(_0x38cb96[_0x76c2e2(0x18b)]);if(isNaN(_0x217786)||_0x217786<0x1||_0x217786>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x10ec8b=parseInt(_0x38cb96[_0x76c2e2(0x1b3)]),_0x33ce3d=new Date()[_0x76c2e2(0x19d)](),_0x1cb2d3=_0x10ec8b<0x32?0x7d0+_0x10ec8b:0x76c+_0x10ec8b;if(isNaN(_0x10ec8b)||_0x1cb2d3<_0x33ce3d||_0x1cb2d3>_0x33ce3d+0x14)return{'isValid':![],'error':_0x76c2e2(0x1a4)};if(!/^\d{3,4}$/[_0x76c2e2(0x19c)](_0x38cb96[_0x76c2e2(0x1a9)]))return{'isValid':![],'error':_0x76c2e2(0x19f)};return{'isValid':!![]};}[a46_0x35116b(0x199)](_0x1b1977){const _0xb10816=a46_0x35116b,_0x3bc1f7=_0x1b1977['replace'](/[\s-]/g,'');if(_0x3bc1f7[_0xb10816(0x1a0)]<0x4)return _0xb10816(0x1b5);return'****\x20****\x20****\x20'+_0x3bc1f7[_0xb10816(0x1af)](-0x4);}['generateTransactionId'](){const _0x1e3de1=a46_0x35116b,_0x2c2d05=Date[_0x1e3de1(0x1b2)]()[_0x1e3de1(0x1b6)](),_0x2eb2f6=Math[_0x1e3de1(0x1ba)](Math[_0x1e3de1(0x188)]()*0x2710)['toString']()['padStart'](0x4,'0');return _0x1e3de1(0x1bb)+_0x2c2d05+'_'+_0x2eb2f6;}async['processWebhook'](_0x54a779){const _0x2d95dd=a46_0x35116b;return console['log'](_0x2d95dd(0x195),_0x54a779),{'paymentId':_0x54a779[_0x2d95dd(0x194)]||'','status':_0x54a779['status']===_0x2d95dd(0x1aa)?_0x2d95dd(0x198):_0x2d95dd(0x19e),'amount':_0x54a779['amount'],'currency':_0x54a779[_0x2d95dd(0x1a1)]};}}exports['TestGatewayService']=TestGatewayService;