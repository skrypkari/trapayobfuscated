'use strict';const a47_0x4a26fa=a47_0x3e2e;(function(_0xe949e0,_0x5aa0f0){const _0x23b7ca=a47_0x3e2e,_0x4f65ef=_0xe949e0();while(!![]){try{const _0x26d00b=parseInt(_0x23b7ca(0xe1))/0x1*(-parseInt(_0x23b7ca(0xea))/0x2)+-parseInt(_0x23b7ca(0x107))/0x3*(-parseInt(_0x23b7ca(0xf1))/0x4)+-parseInt(_0x23b7ca(0xf7))/0x5*(parseInt(_0x23b7ca(0x110))/0x6)+-parseInt(_0x23b7ca(0xf8))/0x7*(parseInt(_0x23b7ca(0xd6))/0x8)+-parseInt(_0x23b7ca(0x106))/0x9*(-parseInt(_0x23b7ca(0xe3))/0xa)+-parseInt(_0x23b7ca(0x111))/0xb+parseInt(_0x23b7ca(0xe5))/0xc;if(_0x26d00b===_0x5aa0f0)break;else _0x4f65ef['push'](_0x4f65ef['shift']());}catch(_0x35c2a8){_0x4f65ef['push'](_0x4f65ef['shift']());}}}(a47_0x14eb,0xd4554));function a47_0x3e2e(_0x489eff,_0x40b561){const _0x14eb33=a47_0x14eb();return a47_0x3e2e=function(_0x3e2e93,_0x2cc21c){_0x3e2e93=_0x3e2e93-0xd3;let _0x12e425=_0x14eb33[_0x3e2e93];return _0x12e425;},a47_0x3e2e(_0x489eff,_0x40b561);}Object[a47_0x4a26fa(0x108)](exports,a47_0x4a26fa(0xd4),{'value':!![]}),exports[a47_0x4a26fa(0xd8)]=void 0x0;function a47_0x14eb(){const _0x50e4fc=['CVC:','cardHolderName','Payment\x20ID:','log','3519mvYdpL','2164539gsiuRb','defineProperty','toString','Transaction\x20ID:','Expiry:','***','Order\x20ID:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','floor','78ckdqbD','14417348hfWONz','getFullYear','Card\x20validation\x20failed','__esModule','length','395432cjOVjo','Invalid\x20expiry\x20year','TestGatewayService','trim','expiryMonth','slice','4242424242424242','processCardPayment','Invalid\x20expiry\x20month','****','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','89GMDYUg','Card\x20number\x20must\x20be\x2016\x20digits','20890usZYlX','‚úÖ\x20Test\x20payment\x20successful','35840556GannST','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','error','generateTransactionId','FAILED','10398LwqnTA','now','amount','expiryYear','isValid','cvc','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','8QoLegR','Card\x20Holder:','****\x20****\x20****\x20','random','processWebhook','PAID','354945MOdiKR','238tAAlNo','replace','Payment\x20failed','Card\x20holder\x20name\x20is\x20required','test','‚ùå\x20Card\x20validation\x20failed:','maskCardNumber','cardNumber','order_id','SUCCESS_CARD'];a47_0x14eb=function(){return _0x50e4fc;};return a47_0x14eb();}class TestGatewayService{constructor(){const _0x268f97=a47_0x4a26fa;this[_0x268f97(0x101)]=_0x268f97(0xdc),console[_0x268f97(0x105)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a47_0x4a26fa(0xdd)](_0x587725){const _0x7c9614=a47_0x4a26fa,{paymentId:_0x2cf9c8,orderId:_0x795867,amount:_0x73b866,currency:_0x3a810b,cardData:_0xf5f0a6}=_0x587725;console['log'](_0x7c9614(0xe6)),console[_0x7c9614(0x105)](_0x7c9614(0x104),_0x2cf9c8),console[_0x7c9614(0x105)](_0x7c9614(0x10d),_0x795867),console[_0x7c9614(0x105)]('Amount:',_0x73b866,_0x3a810b),console['log']('Card\x20Number:',this[_0x7c9614(0xfe)](_0xf5f0a6['cardNumber'])),console[_0x7c9614(0x105)](_0x7c9614(0xf2),_0xf5f0a6[_0x7c9614(0x103)]),console[_0x7c9614(0x105)](_0x7c9614(0x10b),_0xf5f0a6[_0x7c9614(0xda)]+'/'+_0xf5f0a6[_0x7c9614(0xed)]),console[_0x7c9614(0x105)](_0x7c9614(0x102),_0x7c9614(0x10c));const _0x55a431=this['validateCardData'](_0xf5f0a6);if(!_0x55a431[_0x7c9614(0xee)])return console['log'](_0x7c9614(0xfd),_0x55a431['error']),{'success':![],'status':_0x7c9614(0xe9),'message':_0x7c9614(0xd3),'failureReason':_0x55a431[_0x7c9614(0xe7)]};const _0x2fcf32=_0xf5f0a6[_0x7c9614(0xff)][_0x7c9614(0xf9)](/[\s-]/g,'');if(_0x2fcf32===this['SUCCESS_CARD']){const _0x14679b=this[_0x7c9614(0xe8)]();return console['log'](_0x7c9614(0xe4)),console[_0x7c9614(0x105)](_0x7c9614(0x10a),_0x14679b),{'success':!![],'status':_0x7c9614(0xf6),'message':'Payment\x20processed\x20successfully','transactionId':_0x14679b};}else return console[_0x7c9614(0x105)](_0x7c9614(0xe0)),{'success':![],'status':_0x7c9614(0xe9),'message':_0x7c9614(0xfa),'failureReason':_0x7c9614(0xf0)};}['validateCardData'](_0x10fd89){const _0xc87af4=a47_0x4a26fa,_0x2c5d79=_0x10fd89[_0xc87af4(0xff)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0xc87af4(0xfc)](_0x2c5d79))return{'isValid':![],'error':_0xc87af4(0xe2)};if(!_0x10fd89[_0xc87af4(0x103)]||_0x10fd89[_0xc87af4(0x103)][_0xc87af4(0xd9)]()['length']<0x2)return{'isValid':![],'error':_0xc87af4(0xfb)};const _0x384cfc=parseInt(_0x10fd89['expiryMonth']);if(isNaN(_0x384cfc)||_0x384cfc<0x1||_0x384cfc>0xc)return{'isValid':![],'error':_0xc87af4(0xde)};const _0x3f3159=parseInt(_0x10fd89[_0xc87af4(0xed)]),_0x2f7f0f=new Date()[_0xc87af4(0x112)](),_0x276e7a=_0x3f3159<0x32?0x7d0+_0x3f3159:0x76c+_0x3f3159;if(isNaN(_0x3f3159)||_0x276e7a<_0x2f7f0f||_0x276e7a>_0x2f7f0f+0x14)return{'isValid':![],'error':_0xc87af4(0xd7)};if(!/^\d{3,4}$/[_0xc87af4(0xfc)](_0x10fd89[_0xc87af4(0xef)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a47_0x4a26fa(0xfe)](_0x80bd9f){const _0x27ed5a=a47_0x4a26fa,_0x44c6f1=_0x80bd9f['replace'](/[\s-]/g,'');if(_0x44c6f1[_0x27ed5a(0xd5)]<0x4)return _0x27ed5a(0xdf);return _0x27ed5a(0xf3)+_0x44c6f1[_0x27ed5a(0xdb)](-0x4);}[a47_0x4a26fa(0xe8)](){const _0x557226=a47_0x4a26fa,_0xbae632=Date[_0x557226(0xeb)]()['toString'](),_0x2a7ede=Math[_0x557226(0x10f)](Math[_0x557226(0xf4)]()*0x2710)[_0x557226(0x109)]()['padStart'](0x4,'0');return'test_'+_0xbae632+'_'+_0x2a7ede;}async[a47_0x4a26fa(0xf5)](_0x283bb0){const _0x3f14ce=a47_0x4a26fa;return console['log'](_0x3f14ce(0x10e),_0x283bb0),{'paymentId':_0x283bb0[_0x3f14ce(0x100)]||'','status':_0x283bb0['status']==='success'?'PAID':'FAILED','amount':_0x283bb0[_0x3f14ce(0xec)],'currency':_0x283bb0['currency']};}}exports['TestGatewayService']=TestGatewayService;