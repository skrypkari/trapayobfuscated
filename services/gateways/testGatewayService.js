'use strict';const a57_0x256c71=a57_0xb659;function a57_0x33df(){const _0x498464=['Card\x20validation\x20failed','padStart','****\x20****\x20****\x20','SUCCESS_CARD','now','toString','Expiry:','364486hplRuS','918960TtkPeg','slice','Transaction\x20ID:','maskCardNumber','Payment\x20ID:','üß™\x20Test\x20Gateway\x20service\x20initialized','Payment\x20processed\x20successfully','processWebhook','***','defineProperty','Invalid\x20expiry\x20month','Invalid\x20expiry\x20year','validateCardData','getFullYear','‚úÖ\x20Test\x20payment\x20successful','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','PAID','4242424242424242','replace','CVC:','84zIutti','__esModule','expiryMonth','cardNumber','Card\x20Number:','229865VTZGgt','Amount:','isValid','4185174TzqmmF','CVC\x20must\x20be\x203\x20or\x204\x20digits','‚ùå\x20Card\x20validation\x20failed:','error','Payment\x20failed','currency','5675219TtxvmK','5ZUrZTP','length','amount','164704eJzVWk','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Order\x20ID:','expiryYear','225RTlyoH','generateTransactionId','2681190XfAIjz','Card\x20number\x20must\x20be\x2016\x20digits','success','status','cardHolderName','3UqxjIR','log','trim','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','60mLzASR','FAILED'];a57_0x33df=function(){return _0x498464;};return a57_0x33df();}(function(_0x17a1a7,_0xb88c63){const _0x4da087=a57_0xb659,_0x22368c=_0x17a1a7();while(!![]){try{const _0x1be9cf=parseInt(_0x4da087(0x12f))/0x1*(-parseInt(_0x4da087(0x14a))/0x2)+-parseInt(_0x4da087(0x13d))/0x3*(parseInt(_0x4da087(0x14b))/0x4)+-parseInt(_0x4da087(0x125))/0x5*(-parseInt(_0x4da087(0x120))/0x6)+-parseInt(_0x4da087(0x128))/0x7+parseInt(_0x4da087(0x132))/0x8*(-parseInt(_0x4da087(0x136))/0x9)+-parseInt(_0x4da087(0x138))/0xa+-parseInt(_0x4da087(0x12e))/0xb*(-parseInt(_0x4da087(0x141))/0xc);if(_0x1be9cf===_0xb88c63)break;else _0x22368c['push'](_0x22368c['shift']());}catch(_0x144fa5){_0x22368c['push'](_0x22368c['shift']());}}}(a57_0x33df,0xab4ab));function a57_0xb659(_0x225fdc,_0x339475){const _0x33dfe0=a57_0x33df();return a57_0xb659=function(_0xb65947,_0x1acf0d){_0xb65947=_0xb65947-0x11b;let _0x3a60b9=_0x33dfe0[_0xb65947];return _0x3a60b9;},a57_0xb659(_0x225fdc,_0x339475);}Object[a57_0x256c71(0x154)](exports,a57_0x256c71(0x121),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x543964=a57_0x256c71;this['SUCCESS_CARD']=_0x543964(0x11d),console[_0x543964(0x13e)](_0x543964(0x150));}async['processCardPayment'](_0x283198){const _0x1c8a81=a57_0x256c71,{paymentId:_0x4f4263,orderId:_0x15f3a3,amount:_0x38c145,currency:_0x483f44,cardData:_0x4f3b22}=_0x283198;console[_0x1c8a81(0x13e)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x1c8a81(0x13e)](_0x1c8a81(0x14f),_0x4f4263),console['log'](_0x1c8a81(0x134),_0x15f3a3),console['log'](_0x1c8a81(0x126),_0x38c145,_0x483f44),console[_0x1c8a81(0x13e)](_0x1c8a81(0x124),this['maskCardNumber'](_0x4f3b22['cardNumber'])),console['log']('Card\x20Holder:',_0x4f3b22[_0x1c8a81(0x13c)]),console[_0x1c8a81(0x13e)](_0x1c8a81(0x149),_0x4f3b22[_0x1c8a81(0x122)]+'/'+_0x4f3b22[_0x1c8a81(0x135)]),console[_0x1c8a81(0x13e)](_0x1c8a81(0x11f),_0x1c8a81(0x153));const _0x3b37de=this[_0x1c8a81(0x157)](_0x4f3b22);if(!_0x3b37de[_0x1c8a81(0x127)])return console[_0x1c8a81(0x13e)](_0x1c8a81(0x12a),_0x3b37de[_0x1c8a81(0x12b)]),{'success':![],'status':_0x1c8a81(0x142),'message':_0x1c8a81(0x143),'failureReason':_0x3b37de[_0x1c8a81(0x12b)]};const _0x97b2cf=_0x4f3b22[_0x1c8a81(0x123)]['replace'](/[\s-]/g,'');if(_0x97b2cf===this[_0x1c8a81(0x146)]){const _0x291c2b=this[_0x1c8a81(0x137)]();return console['log'](_0x1c8a81(0x159)),console[_0x1c8a81(0x13e)](_0x1c8a81(0x14d),_0x291c2b),{'success':!![],'status':_0x1c8a81(0x11c),'message':_0x1c8a81(0x151),'transactionId':_0x291c2b};}else return console[_0x1c8a81(0x13e)](_0x1c8a81(0x11b)),{'success':![],'status':_0x1c8a81(0x142),'message':_0x1c8a81(0x12c),'failureReason':_0x1c8a81(0x140)};}['validateCardData'](_0xce5456){const _0x46ca06=a57_0x256c71,_0x4f9df9=_0xce5456['cardNumber'][_0x46ca06(0x11e)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x4f9df9))return{'isValid':![],'error':_0x46ca06(0x139)};if(!_0xce5456[_0x46ca06(0x13c)]||_0xce5456[_0x46ca06(0x13c)][_0x46ca06(0x13f)]()[_0x46ca06(0x130)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x547b08=parseInt(_0xce5456[_0x46ca06(0x122)]);if(isNaN(_0x547b08)||_0x547b08<0x1||_0x547b08>0xc)return{'isValid':![],'error':_0x46ca06(0x155)};const _0x452366=parseInt(_0xce5456[_0x46ca06(0x135)]),_0x29fbf9=new Date()[_0x46ca06(0x158)](),_0x174317=_0x452366<0x32?0x7d0+_0x452366:0x76c+_0x452366;if(isNaN(_0x452366)||_0x174317<_0x29fbf9||_0x174317>_0x29fbf9+0x14)return{'isValid':![],'error':_0x46ca06(0x156)};if(!/^\d{3,4}$/['test'](_0xce5456['cvc']))return{'isValid':![],'error':_0x46ca06(0x129)};return{'isValid':!![]};}[a57_0x256c71(0x14e)](_0x11d0ee){const _0x120aad=a57_0x256c71,_0x10c37f=_0x11d0ee['replace'](/[\s-]/g,'');if(_0x10c37f[_0x120aad(0x130)]<0x4)return'****';return _0x120aad(0x145)+_0x10c37f[_0x120aad(0x14c)](-0x4);}[a57_0x256c71(0x137)](){const _0x14f242=a57_0x256c71,_0xcafc85=Date[_0x14f242(0x147)]()[_0x14f242(0x148)](),_0x4b18ac=Math['floor'](Math['random']()*0x2710)['toString']()[_0x14f242(0x144)](0x4,'0');return'test_'+_0xcafc85+'_'+_0x4b18ac;}async[a57_0x256c71(0x152)](_0x175c5e){const _0x2df039=a57_0x256c71;return console[_0x2df039(0x13e)](_0x2df039(0x133),_0x175c5e),{'paymentId':_0x175c5e['order_id']||'','status':_0x175c5e[_0x2df039(0x13b)]===_0x2df039(0x13a)?_0x2df039(0x11c):_0x2df039(0x142),'amount':_0x175c5e[_0x2df039(0x131)],'currency':_0x175c5e[_0x2df039(0x12d)]};}}exports['TestGatewayService']=TestGatewayService;