'use strict';const a65_0x24787b=a65_0x3463;function a65_0x183a(){const _0x1ea86b=['Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Order\x20ID:','3154774ZCrppC','error','Card\x20validation\x20failed','random','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','784800iqxQjj','****','log','CVC\x20must\x20be\x203\x20or\x204\x20digits','cardHolderName','now','status','maskCardNumber','Card\x20holder\x20name\x20is\x20required','Amount:','Payment\x20ID:','SUCCESS_CARD','padStart','45644PquBxZ','129OTdNwW','floor','expiryYear','CVC:','processCardPayment','generateTransactionId','TestGatewayService','4242424242424242','cardNumber','48725gWSlra','Invalid\x20expiry\x20year','expiryMonth','FAILED','Card\x20Holder:','‚ùå\x20Card\x20validation\x20failed:','cvc','toString','PAID','***','üß™\x20Test\x20Gateway\x20service\x20initialized','length','trim','currency','order_id','Expiry:','test_','****\x20****\x20****\x20','amount','__esModule','replace','validateCardData','Invalid\x20expiry\x20month','slice','216854OfSjkY','5228325ibZxjn','42sNCgss','success','isValid','Payment\x20failed','227864cAxHOy','‚úÖ\x20Test\x20payment\x20successful'];a65_0x183a=function(){return _0x1ea86b;};return a65_0x183a();}(function(_0x38931a,_0x343c0f){const _0x25a5a8=a65_0x3463,_0x24e3d9=_0x38931a();while(!![]){try{const _0x49be83=parseInt(_0x25a5a8(0x16c))/0x1+-parseInt(_0x25a5a8(0x172))/0x2+-parseInt(_0x25a5a8(0x189))/0x3*(-parseInt(_0x25a5a8(0x188))/0x4)+-parseInt(_0x25a5a8(0x192))/0x5*(parseInt(_0x25a5a8(0x16e))/0x6)+parseInt(_0x25a5a8(0x176))/0x7+-parseInt(_0x25a5a8(0x17b))/0x8+-parseInt(_0x25a5a8(0x16d))/0x9;if(_0x49be83===_0x343c0f)break;else _0x24e3d9['push'](_0x24e3d9['shift']());}catch(_0x33bccc){_0x24e3d9['push'](_0x24e3d9['shift']());}}}(a65_0x183a,0x4884d));Object['defineProperty'](exports,a65_0x24787b(0x167),{'value':!![]}),exports[a65_0x24787b(0x18f)]=void 0x0;class TestGatewayService{constructor(){const _0x311528=a65_0x24787b;this[_0x311528(0x186)]=_0x311528(0x190),console[_0x311528(0x17d)](_0x311528(0x15e));}async[a65_0x24787b(0x18d)](_0x407283){const _0x52a46c=a65_0x24787b,{paymentId:_0x46024c,orderId:_0x2ffb92,amount:_0x2cd746,currency:_0x38b979,cardData:_0x1630b9}=_0x407283;console[_0x52a46c(0x17d)](_0x52a46c(0x17a)),console[_0x52a46c(0x17d)](_0x52a46c(0x185),_0x46024c),console[_0x52a46c(0x17d)](_0x52a46c(0x175),_0x2ffb92),console['log'](_0x52a46c(0x184),_0x2cd746,_0x38b979),console[_0x52a46c(0x17d)]('Card\x20Number:',this[_0x52a46c(0x182)](_0x1630b9[_0x52a46c(0x191)])),console['log'](_0x52a46c(0x158),_0x1630b9[_0x52a46c(0x17f)]),console['log'](_0x52a46c(0x163),_0x1630b9[_0x52a46c(0x194)]+'/'+_0x1630b9[_0x52a46c(0x18b)]),console['log'](_0x52a46c(0x18c),_0x52a46c(0x15d));const _0x4109a7=this['validateCardData'](_0x1630b9);if(!_0x4109a7[_0x52a46c(0x170)])return console[_0x52a46c(0x17d)](_0x52a46c(0x159),_0x4109a7[_0x52a46c(0x177)]),{'success':![],'status':'FAILED','message':_0x52a46c(0x178),'failureReason':_0x4109a7[_0x52a46c(0x177)]};const _0x50c6be=_0x1630b9[_0x52a46c(0x191)][_0x52a46c(0x168)](/[\s-]/g,'');if(_0x50c6be===this[_0x52a46c(0x186)]){const _0x54896f=this[_0x52a46c(0x18e)]();return console['log'](_0x52a46c(0x173)),console['log']('Transaction\x20ID:',_0x54896f),{'success':!![],'status':_0x52a46c(0x15c),'message':'Payment\x20processed\x20successfully','transactionId':_0x54896f};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x52a46c(0x157),'message':_0x52a46c(0x171),'failureReason':_0x52a46c(0x174)};}[a65_0x24787b(0x169)](_0x4f0893){const _0x18e90d=a65_0x24787b,_0x204d70=_0x4f0893[_0x18e90d(0x191)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x204d70))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x4f0893[_0x18e90d(0x17f)]||_0x4f0893[_0x18e90d(0x17f)][_0x18e90d(0x160)]()[_0x18e90d(0x15f)]<0x2)return{'isValid':![],'error':_0x18e90d(0x183)};const _0x2fa502=parseInt(_0x4f0893[_0x18e90d(0x194)]);if(isNaN(_0x2fa502)||_0x2fa502<0x1||_0x2fa502>0xc)return{'isValid':![],'error':_0x18e90d(0x16a)};const _0x3c9de5=parseInt(_0x4f0893[_0x18e90d(0x18b)]),_0x25c68a=new Date()['getFullYear'](),_0x5ba8e4=_0x3c9de5<0x32?0x7d0+_0x3c9de5:0x76c+_0x3c9de5;if(isNaN(_0x3c9de5)||_0x5ba8e4<_0x25c68a||_0x5ba8e4>_0x25c68a+0x14)return{'isValid':![],'error':_0x18e90d(0x193)};if(!/^\d{3,4}$/['test'](_0x4f0893[_0x18e90d(0x15a)]))return{'isValid':![],'error':_0x18e90d(0x17e)};return{'isValid':!![]};}['maskCardNumber'](_0x3bcc84){const _0xe572a7=a65_0x24787b,_0x315b29=_0x3bcc84[_0xe572a7(0x168)](/[\s-]/g,'');if(_0x315b29[_0xe572a7(0x15f)]<0x4)return _0xe572a7(0x17c);return _0xe572a7(0x165)+_0x315b29[_0xe572a7(0x16b)](-0x4);}['generateTransactionId'](){const _0x57019f=a65_0x24787b,_0x5eca4c=Date[_0x57019f(0x180)]()['toString'](),_0xab056a=Math[_0x57019f(0x18a)](Math[_0x57019f(0x179)]()*0x2710)[_0x57019f(0x15b)]()[_0x57019f(0x187)](0x4,'0');return _0x57019f(0x164)+_0x5eca4c+'_'+_0xab056a;}async['processWebhook'](_0xa1f393){const _0x25f05a=a65_0x24787b;return console[_0x25f05a(0x17d)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0xa1f393),{'paymentId':_0xa1f393[_0x25f05a(0x162)]||'','status':_0xa1f393[_0x25f05a(0x181)]===_0x25f05a(0x16f)?_0x25f05a(0x15c):_0x25f05a(0x157),'amount':_0xa1f393[_0x25f05a(0x166)],'currency':_0xa1f393[_0x25f05a(0x161)]};}}function a65_0x3463(_0x572bf4,_0xccf584){_0x572bf4=_0x572bf4-0x157;const _0x183aab=a65_0x183a();let _0x3463e9=_0x183aab[_0x572bf4];return _0x3463e9;}exports[a65_0x24787b(0x18f)]=TestGatewayService;