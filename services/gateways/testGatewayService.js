'use strict';function a46_0x5534(_0x4ef791,_0x54c186){const _0x38a199=a46_0x38a1();return a46_0x5534=function(_0x55342b,_0x350f06){_0x55342b=_0x55342b-0x1b9;let _0x4f9102=_0x38a199[_0x55342b];return _0x4f9102;},a46_0x5534(_0x4ef791,_0x54c186);}const a46_0x25aa42=a46_0x5534;(function(_0x35ddd5,_0x11f4f1){const _0x2ab7f2=a46_0x5534,_0x5744ba=_0x35ddd5();while(!![]){try{const _0x5c55d9=parseInt(_0x2ab7f2(0x1e8))/0x1*(parseInt(_0x2ab7f2(0x1da))/0x2)+-parseInt(_0x2ab7f2(0x1c1))/0x3*(-parseInt(_0x2ab7f2(0x1dc))/0x4)+-parseInt(_0x2ab7f2(0x1ee))/0x5*(-parseInt(_0x2ab7f2(0x1bd))/0x6)+-parseInt(_0x2ab7f2(0x1ea))/0x7+-parseInt(_0x2ab7f2(0x1cc))/0x8+parseInt(_0x2ab7f2(0x1e2))/0x9*(parseInt(_0x2ab7f2(0x1c2))/0xa)+-parseInt(_0x2ab7f2(0x1bf))/0xb*(parseInt(_0x2ab7f2(0x1d6))/0xc);if(_0x5c55d9===_0x11f4f1)break;else _0x5744ba['push'](_0x5744ba['shift']());}catch(_0x47e5e8){_0x5744ba['push'](_0x5744ba['shift']());}}}(a46_0x38a1,0x1fbf6));function a46_0x38a1(){const _0x444472=['trim','maskCardNumber','üß™\x20Test\x20Gateway\x20service\x20initialized','toString','getFullYear','FAILED','floor','defineProperty','isValid','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','1353138BOYezW','padStart','118415WittQz','TestGatewayService','192uWPOLx','10EbDAex','processWebhook','status','Order\x20ID:','error','success','Invalid\x20expiry\x20month','Payment\x20processed\x20successfully','CVC\x20must\x20be\x203\x20or\x204\x20digits','‚ùå\x20Card\x20validation\x20failed:','908456uAWqeH','slice','cardHolderName','Card\x20Number:','generateTransactionId','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','test_','Amount:','****\x20****\x20****\x20','cvc','108gQOpVL','****','expiryMonth','4242424242424242','146524aHinBY','***','11056OQTBwp','log','expiryYear','Payment\x20failed','now','order_id','255456iWdLEP','Card\x20number\x20must\x20be\x2016\x20digits','Card\x20validation\x20failed','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','cardNumber','Card\x20holder\x20name\x20is\x20required','2ZzxOqS','PAID','1657929XyRTVF','‚úÖ\x20Test\x20payment\x20successful','test','replace','5yyJAXp','length','validateCardData','Expiry:'];a46_0x38a1=function(){return _0x444472;};return a46_0x38a1();}Object[a46_0x25aa42(0x1ba)](exports,'__esModule',{'value':!![]}),exports[a46_0x25aa42(0x1c0)]=void 0x0;class TestGatewayService{constructor(){const _0x217a9e=a46_0x25aa42;this['SUCCESS_CARD']=_0x217a9e(0x1d9),console['log'](_0x217a9e(0x1f4));}async['processCardPayment'](_0x3069d2){const _0x41d745=a46_0x25aa42,{paymentId:_0x1b489b,orderId:_0x4fc7b2,amount:_0x3635f5,currency:_0x2c2554,cardData:_0x43a8e1}=_0x3069d2;console[_0x41d745(0x1dd)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x41d745(0x1dd)]('Payment\x20ID:',_0x1b489b),console[_0x41d745(0x1dd)](_0x41d745(0x1c5),_0x4fc7b2),console[_0x41d745(0x1dd)](_0x41d745(0x1d3),_0x3635f5,_0x2c2554),console[_0x41d745(0x1dd)](_0x41d745(0x1cf),this[_0x41d745(0x1f3)](_0x43a8e1[_0x41d745(0x1e6)])),console[_0x41d745(0x1dd)]('Card\x20Holder:',_0x43a8e1[_0x41d745(0x1ce)]),console['log'](_0x41d745(0x1f1),_0x43a8e1[_0x41d745(0x1d8)]+'/'+_0x43a8e1[_0x41d745(0x1de)]),console[_0x41d745(0x1dd)]('CVC:',_0x41d745(0x1db));const _0x34eeba=this[_0x41d745(0x1f0)](_0x43a8e1);if(!_0x34eeba[_0x41d745(0x1bb)])return console[_0x41d745(0x1dd)](_0x41d745(0x1cb),_0x34eeba[_0x41d745(0x1c6)]),{'success':![],'status':_0x41d745(0x1f7),'message':_0x41d745(0x1e4),'failureReason':_0x34eeba['error']};const _0x36a145=_0x43a8e1[_0x41d745(0x1e6)][_0x41d745(0x1ed)](/[\s-]/g,'');if(_0x36a145===this['SUCCESS_CARD']){const _0x3d18c1=this[_0x41d745(0x1d0)]();return console['log'](_0x41d745(0x1eb)),console['log']('Transaction\x20ID:',_0x3d18c1),{'success':!![],'status':_0x41d745(0x1e9),'message':_0x41d745(0x1c9),'transactionId':_0x3d18c1};}else return console[_0x41d745(0x1dd)](_0x41d745(0x1bc)),{'success':![],'status':_0x41d745(0x1f7),'message':_0x41d745(0x1df),'failureReason':_0x41d745(0x1e5)};}['validateCardData'](_0x7095d0){const _0x3b3aa9=a46_0x25aa42,_0x5b38a8=_0x7095d0['cardNumber'][_0x3b3aa9(0x1ed)](/[\s-]/g,'');if(!/^\d{16}$/[_0x3b3aa9(0x1ec)](_0x5b38a8))return{'isValid':![],'error':_0x3b3aa9(0x1e3)};if(!_0x7095d0[_0x3b3aa9(0x1ce)]||_0x7095d0[_0x3b3aa9(0x1ce)][_0x3b3aa9(0x1f2)]()[_0x3b3aa9(0x1ef)]<0x2)return{'isValid':![],'error':_0x3b3aa9(0x1e7)};const _0x34dcd3=parseInt(_0x7095d0[_0x3b3aa9(0x1d8)]);if(isNaN(_0x34dcd3)||_0x34dcd3<0x1||_0x34dcd3>0xc)return{'isValid':![],'error':_0x3b3aa9(0x1c8)};const _0x40d0f8=parseInt(_0x7095d0[_0x3b3aa9(0x1de)]),_0x174c76=new Date()[_0x3b3aa9(0x1f6)](),_0x5c16cf=_0x40d0f8<0x32?0x7d0+_0x40d0f8:0x76c+_0x40d0f8;if(isNaN(_0x40d0f8)||_0x5c16cf<_0x174c76||_0x5c16cf>_0x174c76+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x3b3aa9(0x1ec)](_0x7095d0[_0x3b3aa9(0x1d5)]))return{'isValid':![],'error':_0x3b3aa9(0x1ca)};return{'isValid':!![]};}['maskCardNumber'](_0x4c3f47){const _0x5e15dd=a46_0x25aa42,_0x339e55=_0x4c3f47['replace'](/[\s-]/g,'');if(_0x339e55[_0x5e15dd(0x1ef)]<0x4)return _0x5e15dd(0x1d7);return _0x5e15dd(0x1d4)+_0x339e55[_0x5e15dd(0x1cd)](-0x4);}[a46_0x25aa42(0x1d0)](){const _0x274b6a=a46_0x25aa42,_0x51311e=Date[_0x274b6a(0x1e0)]()[_0x274b6a(0x1f5)](),_0x1cff1f=Math[_0x274b6a(0x1b9)](Math['random']()*0x2710)[_0x274b6a(0x1f5)]()[_0x274b6a(0x1be)](0x4,'0');return _0x274b6a(0x1d2)+_0x51311e+'_'+_0x1cff1f;}async[a46_0x25aa42(0x1c3)](_0x36d7f3){const _0x374081=a46_0x25aa42;return console['log'](_0x374081(0x1d1),_0x36d7f3),{'paymentId':_0x36d7f3[_0x374081(0x1e1)]||'','status':_0x36d7f3[_0x374081(0x1c4)]===_0x374081(0x1c7)?_0x374081(0x1e9):_0x374081(0x1f7),'amount':_0x36d7f3['amount'],'currency':_0x36d7f3['currency']};}}exports['TestGatewayService']=TestGatewayService;