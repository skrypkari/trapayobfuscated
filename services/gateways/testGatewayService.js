'use strict';function a47_0x4425(_0x2a43b3,_0x18a341){const _0x4043a9=a47_0x4043();return a47_0x4425=function(_0x442533,_0x2450d4){_0x442533=_0x442533-0x8a;let _0x2499df=_0x4043a9[_0x442533];return _0x2499df;},a47_0x4425(_0x2a43b3,_0x18a341);}const a47_0x1786b4=a47_0x4425;function a47_0x4043(){const _0x486de6=['replace','cvc','validateCardData','currency','slice','60CPPtgz','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','1fYMRSL','Invalid\x20expiry\x20month','getFullYear','success','874428EhMMWJ','3WfxldL','test_','toString','196356yMTWCi','835254lMBxhy','4242424242424242','generateTransactionId','length','TestGatewayService','amount','650zqlelD','üß™\x20Test\x20Gateway\x20service\x20initialized','status','Payment\x20failed','58670JpnzHs','Invalid\x20expiry\x20year','isValid','processCardPayment','FAILED','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','PAID','error','***','test','Card\x20validation\x20failed','Transaction\x20ID:','1667984hlgvbv','CVC:','Amount:','cardNumber','‚ùå\x20Card\x20validation\x20failed:','11OxNXwl','552878WpfORq','****\x20****\x20****\x20','expiryMonth','expiryYear','Card\x20Holder:','__esModule','padStart','log','SUCCESS_CARD','trim','25911ePblnK','now','order_id','maskCardNumber','cardHolderName'];a47_0x4043=function(){return _0x486de6;};return a47_0x4043();}(function(_0x3030ca,_0x179e16){const _0x5e6b4f=a47_0x4425,_0xc02e43=_0x3030ca();while(!![]){try{const _0x230b00=parseInt(_0x5e6b4f(0x8e))/0x1*(parseInt(_0x5e6b4f(0xb4))/0x2)+parseInt(_0x5e6b4f(0x93))/0x3*(parseInt(_0x5e6b4f(0x96))/0x4)+parseInt(_0x5e6b4f(0xa1))/0x5*(-parseInt(_0x5e6b4f(0x8b))/0x6)+parseInt(_0x5e6b4f(0x97))/0x7+-parseInt(_0x5e6b4f(0xae))/0x8+parseInt(_0x5e6b4f(0xbe))/0x9*(parseInt(_0x5e6b4f(0x9d))/0xa)+parseInt(_0x5e6b4f(0xb3))/0xb*(-parseInt(_0x5e6b4f(0x92))/0xc);if(_0x230b00===_0x179e16)break;else _0xc02e43['push'](_0xc02e43['shift']());}catch(_0x142716){_0xc02e43['push'](_0xc02e43['shift']());}}}(a47_0x4043,0x38f3e));Object['defineProperty'](exports,a47_0x1786b4(0xb9),{'value':!![]}),exports[a47_0x1786b4(0x9b)]=void 0x0;class TestGatewayService{constructor(){const _0x43fdd8=a47_0x1786b4;this[_0x43fdd8(0xbc)]=_0x43fdd8(0x98),console[_0x43fdd8(0xbb)](_0x43fdd8(0x9e));}async[a47_0x1786b4(0xa4)](_0x434a5b){const _0x22ce13=a47_0x1786b4,{paymentId:_0x5cf331,orderId:_0x2c7433,amount:_0x144413,currency:_0x11e8ec,cardData:_0x3a28e7}=_0x434a5b;console[_0x22ce13(0xbb)](_0x22ce13(0xa6)),console['log']('Payment\x20ID:',_0x5cf331),console[_0x22ce13(0xbb)]('Order\x20ID:',_0x2c7433),console[_0x22ce13(0xbb)](_0x22ce13(0xb0),_0x144413,_0x11e8ec),console[_0x22ce13(0xbb)]('Card\x20Number:',this[_0x22ce13(0xc1)](_0x3a28e7[_0x22ce13(0xb1)])),console[_0x22ce13(0xbb)](_0x22ce13(0xb8),_0x3a28e7['cardHolderName']),console[_0x22ce13(0xbb)]('Expiry:',_0x3a28e7[_0x22ce13(0xb6)]+'/'+_0x3a28e7[_0x22ce13(0xb7)]),console[_0x22ce13(0xbb)](_0x22ce13(0xaf),_0x22ce13(0xaa));const _0x489886=this[_0x22ce13(0xc5)](_0x3a28e7);if(!_0x489886[_0x22ce13(0xa3)])return console[_0x22ce13(0xbb)](_0x22ce13(0xb2),_0x489886[_0x22ce13(0xa9)]),{'success':![],'status':_0x22ce13(0xa5),'message':_0x22ce13(0xac),'failureReason':_0x489886[_0x22ce13(0xa9)]};const _0x257fb2=_0x3a28e7[_0x22ce13(0xb1)][_0x22ce13(0xc3)](/[\s-]/g,'');if(_0x257fb2===this['SUCCESS_CARD']){const _0x3b1207=this['generateTransactionId']();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x22ce13(0xbb)](_0x22ce13(0xad),_0x3b1207),{'success':!![],'status':_0x22ce13(0xa8),'message':'Payment\x20processed\x20successfully','transactionId':_0x3b1207};}else return console[_0x22ce13(0xbb)](_0x22ce13(0xa7)),{'success':![],'status':_0x22ce13(0xa5),'message':_0x22ce13(0xa0),'failureReason':_0x22ce13(0x8c)};}[a47_0x1786b4(0xc5)](_0x429482){const _0x5bb1ab=a47_0x1786b4,_0x379c5d=_0x429482[_0x5bb1ab(0xb1)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x5bb1ab(0xab)](_0x379c5d))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x429482[_0x5bb1ab(0xc2)]||_0x429482[_0x5bb1ab(0xc2)][_0x5bb1ab(0xbd)]()[_0x5bb1ab(0x9a)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x278875=parseInt(_0x429482[_0x5bb1ab(0xb6)]);if(isNaN(_0x278875)||_0x278875<0x1||_0x278875>0xc)return{'isValid':![],'error':_0x5bb1ab(0x8f)};const _0x2bd502=parseInt(_0x429482[_0x5bb1ab(0xb7)]),_0x4926de=new Date()[_0x5bb1ab(0x90)](),_0x294454=_0x2bd502<0x32?0x7d0+_0x2bd502:0x76c+_0x2bd502;if(isNaN(_0x2bd502)||_0x294454<_0x4926de||_0x294454>_0x4926de+0x14)return{'isValid':![],'error':_0x5bb1ab(0xa2)};if(!/^\d{3,4}$/['test'](_0x429482[_0x5bb1ab(0xc4)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a47_0x1786b4(0xc1)](_0x5626fb){const _0x47dbab=a47_0x1786b4,_0x43e7e5=_0x5626fb['replace'](/[\s-]/g,'');if(_0x43e7e5[_0x47dbab(0x9a)]<0x4)return'****';return _0x47dbab(0xb5)+_0x43e7e5[_0x47dbab(0x8a)](-0x4);}[a47_0x1786b4(0x99)](){const _0x5ae130=a47_0x1786b4,_0x21d52d=Date[_0x5ae130(0xbf)]()[_0x5ae130(0x95)](),_0x2c480d=Math['floor'](Math['random']()*0x2710)[_0x5ae130(0x95)]()[_0x5ae130(0xba)](0x4,'0');return _0x5ae130(0x94)+_0x21d52d+'_'+_0x2c480d;}async['processWebhook'](_0xe20b08){const _0x17bbfb=a47_0x1786b4;return console[_0x17bbfb(0xbb)](_0x17bbfb(0x8d),_0xe20b08),{'paymentId':_0xe20b08[_0x17bbfb(0xc0)]||'','status':_0xe20b08[_0x17bbfb(0x9f)]===_0x17bbfb(0x91)?_0x17bbfb(0xa8):_0x17bbfb(0xa5),'amount':_0xe20b08[_0x17bbfb(0x9c)],'currency':_0xe20b08[_0x17bbfb(0xc6)]};}}exports[a47_0x1786b4(0x9b)]=TestGatewayService;