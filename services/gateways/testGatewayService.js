'use strict';const a57_0x532e8a=a57_0x5597;(function(_0x1648b5,_0x1f5c13){const _0x2e078a=a57_0x5597,_0x280c64=_0x1648b5();while(!![]){try{const _0x3dcbcb=parseInt(_0x2e078a(0x1a8))/0x1+parseInt(_0x2e078a(0x196))/0x2*(-parseInt(_0x2e078a(0x1a2))/0x3)+parseInt(_0x2e078a(0x19d))/0x4+-parseInt(_0x2e078a(0x17d))/0x5+parseInt(_0x2e078a(0x1a7))/0x6*(parseInt(_0x2e078a(0x173))/0x7)+parseInt(_0x2e078a(0x191))/0x8+parseInt(_0x2e078a(0x1aa))/0x9*(-parseInt(_0x2e078a(0x1a5))/0xa);if(_0x3dcbcb===_0x1f5c13)break;else _0x280c64['push'](_0x280c64['shift']());}catch(_0x4338f6){_0x280c64['push'](_0x280c64['shift']());}}}(a57_0x1e6e,0x20066));function a57_0x1e6e(){const _0x2325ff=['****','Order\x20ID:','log','defineProperty','Card\x20number\x20must\x20be\x2016\x20digits','Amount:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','slice','currency','test_','Payment\x20processed\x20successfully','test','length','now','1801616iJrgsv','error','processCardPayment','***','expiryYear','7278ySXCjk','replace','Invalid\x20expiry\x20month','cardHolderName','****\x20****\x20****\x20','Invalid\x20expiry\x20year','Expiry:','920172zSjsyF','cardNumber','success','amount','validateCardData','129ahehGN','SUCCESS_CARD','Card\x20validation\x20failed','9290ZTtQlK','Card\x20Number:','335988ykOAyC','44318NXZcuh','processWebhook','99lgQJHU','PAID','isValid','generateTransactionId','7sEMzYF','toString','expiryMonth','maskCardNumber','random','CVC\x20must\x20be\x203\x20or\x204\x20digits','__esModule','Card\x20holder\x20name\x20is\x20required','CVC:','cvc','1288455KRvvrU','TestGatewayService','4242424242424242','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','getFullYear','Transaction\x20ID:'];a57_0x1e6e=function(){return _0x2325ff;};return a57_0x1e6e();}Object[a57_0x532e8a(0x186)](exports,a57_0x532e8a(0x179),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x52c900=a57_0x532e8a;this['SUCCESS_CARD']=_0x52c900(0x17f),console[_0x52c900(0x185)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a57_0x532e8a(0x193)](_0x2bbfb7){const _0x3ec7e6=a57_0x532e8a,{paymentId:_0x58e7fc,orderId:_0x23c35b,amount:_0x5142aa,currency:_0x4940df,cardData:_0x4ea1a2}=_0x2bbfb7;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x3ec7e6(0x185)]('Payment\x20ID:',_0x58e7fc),console['log'](_0x3ec7e6(0x184),_0x23c35b),console[_0x3ec7e6(0x185)](_0x3ec7e6(0x188),_0x5142aa,_0x4940df),console[_0x3ec7e6(0x185)](_0x3ec7e6(0x1a6),this[_0x3ec7e6(0x176)](_0x4ea1a2[_0x3ec7e6(0x19e)])),console[_0x3ec7e6(0x185)]('Card\x20Holder:',_0x4ea1a2['cardHolderName']),console[_0x3ec7e6(0x185)](_0x3ec7e6(0x19c),_0x4ea1a2[_0x3ec7e6(0x175)]+'/'+_0x4ea1a2['expiryYear']),console[_0x3ec7e6(0x185)](_0x3ec7e6(0x17b),_0x3ec7e6(0x194));const _0x33b977=this[_0x3ec7e6(0x1a1)](_0x4ea1a2);if(!_0x33b977[_0x3ec7e6(0x171)])return console[_0x3ec7e6(0x185)]('‚ùå\x20Card\x20validation\x20failed:',_0x33b977[_0x3ec7e6(0x192)]),{'success':![],'status':'FAILED','message':_0x3ec7e6(0x1a4),'failureReason':_0x33b977[_0x3ec7e6(0x192)]};const _0x19c19b=_0x4ea1a2[_0x3ec7e6(0x19e)][_0x3ec7e6(0x197)](/[\s-]/g,'');if(_0x19c19b===this[_0x3ec7e6(0x1a3)]){const _0xcc7e24=this['generateTransactionId']();return console[_0x3ec7e6(0x185)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x3ec7e6(0x185)](_0x3ec7e6(0x182),_0xcc7e24),{'success':!![],'status':_0x3ec7e6(0x170),'message':_0x3ec7e6(0x18d),'transactionId':_0xcc7e24};}else return console['log'](_0x3ec7e6(0x180)),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':_0x3ec7e6(0x189)};}[a57_0x532e8a(0x1a1)](_0x5f7ad4){const _0x4d5639=a57_0x532e8a,_0x313a0a=_0x5f7ad4[_0x4d5639(0x19e)][_0x4d5639(0x197)](/[\s-]/g,'');if(!/^\d{16}$/[_0x4d5639(0x18e)](_0x313a0a))return{'isValid':![],'error':_0x4d5639(0x187)};if(!_0x5f7ad4['cardHolderName']||_0x5f7ad4[_0x4d5639(0x199)]['trim']()[_0x4d5639(0x18f)]<0x2)return{'isValid':![],'error':_0x4d5639(0x17a)};const _0x31efad=parseInt(_0x5f7ad4[_0x4d5639(0x175)]);if(isNaN(_0x31efad)||_0x31efad<0x1||_0x31efad>0xc)return{'isValid':![],'error':_0x4d5639(0x198)};const _0x523a4c=parseInt(_0x5f7ad4[_0x4d5639(0x195)]),_0x4d3598=new Date()[_0x4d5639(0x181)](),_0x2a6f4b=_0x523a4c<0x32?0x7d0+_0x523a4c:0x76c+_0x523a4c;if(isNaN(_0x523a4c)||_0x2a6f4b<_0x4d3598||_0x2a6f4b>_0x4d3598+0x14)return{'isValid':![],'error':_0x4d5639(0x19b)};if(!/^\d{3,4}$/[_0x4d5639(0x18e)](_0x5f7ad4[_0x4d5639(0x17c)]))return{'isValid':![],'error':_0x4d5639(0x178)};return{'isValid':!![]};}[a57_0x532e8a(0x176)](_0x3c96cc){const _0x18371c=a57_0x532e8a,_0x57864f=_0x3c96cc[_0x18371c(0x197)](/[\s-]/g,'');if(_0x57864f[_0x18371c(0x18f)]<0x4)return _0x18371c(0x183);return _0x18371c(0x19a)+_0x57864f[_0x18371c(0x18a)](-0x4);}[a57_0x532e8a(0x172)](){const _0x1c9bab=a57_0x532e8a,_0x1e2491=Date[_0x1c9bab(0x190)]()[_0x1c9bab(0x174)](),_0x50a556=Math['floor'](Math[_0x1c9bab(0x177)]()*0x2710)[_0x1c9bab(0x174)]()['padStart'](0x4,'0');return _0x1c9bab(0x18c)+_0x1e2491+'_'+_0x50a556;}async[a57_0x532e8a(0x1a9)](_0xd9ab3e){const _0x2f24f5=a57_0x532e8a;return console[_0x2f24f5(0x185)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0xd9ab3e),{'paymentId':_0xd9ab3e['order_id']||'','status':_0xd9ab3e['status']===_0x2f24f5(0x19f)?_0x2f24f5(0x170):'FAILED','amount':_0xd9ab3e[_0x2f24f5(0x1a0)],'currency':_0xd9ab3e[_0x2f24f5(0x18b)]};}}function a57_0x5597(_0x386cce,_0x375eb3){const _0x1e6e6f=a57_0x1e6e();return a57_0x5597=function(_0x55976d,_0x230c1c){_0x55976d=_0x55976d-0x170;let _0x2ace54=_0x1e6e6f[_0x55976d];return _0x2ace54;},a57_0x5597(_0x386cce,_0x375eb3);}exports[a57_0x532e8a(0x17e)]=TestGatewayService;