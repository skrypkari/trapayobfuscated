'use strict';const a46_0x9634af=a46_0x4b3c;(function(_0x5a8636,_0x129aa6){const _0x4f891c=a46_0x4b3c,_0x15ba4b=_0x5a8636();while(!![]){try{const _0x13d528=-parseInt(_0x4f891c(0x197))/0x1+parseInt(_0x4f891c(0x178))/0x2*(-parseInt(_0x4f891c(0x18f))/0x3)+-parseInt(_0x4f891c(0x16f))/0x4+-parseInt(_0x4f891c(0x172))/0x5+-parseInt(_0x4f891c(0x17c))/0x6+parseInt(_0x4f891c(0x176))/0x7+parseInt(_0x4f891c(0x179))/0x8;if(_0x13d528===_0x129aa6)break;else _0x15ba4b['push'](_0x15ba4b['shift']());}catch(_0x49bd26){_0x15ba4b['push'](_0x15ba4b['shift']());}}}(a46_0x1c83,0xb28c0));function a46_0x4b3c(_0x25640a,_0x18294d){const _0x1c835a=a46_0x1c83();return a46_0x4b3c=function(_0x4b3ce1,_0x143c20){_0x4b3ce1=_0x4b3ce1-0x16c;let _0x54fd60=_0x1c835a[_0x4b3ce1];return _0x54fd60;},a46_0x4b3c(_0x25640a,_0x18294d);}Object[a46_0x9634af(0x186)](exports,a46_0x9634af(0x18d),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x3e1b32=a46_0x9634af;this[_0x3e1b32(0x182)]=_0x3e1b32(0x18e),console[_0x3e1b32(0x17d)](_0x3e1b32(0x181));}async[a46_0x9634af(0x192)](_0x95f25e){const _0x493a01=a46_0x9634af,{paymentId:_0x9badf7,orderId:_0x566a20,amount:_0x3562b2,currency:_0x43f7e2,cardData:_0xc445bf}=_0x95f25e;console[_0x493a01(0x17d)](_0x493a01(0x19a)),console['log']('Payment\x20ID:',_0x9badf7),console[_0x493a01(0x17d)](_0x493a01(0x19b),_0x566a20),console[_0x493a01(0x17d)]('Amount:',_0x3562b2,_0x43f7e2),console[_0x493a01(0x17d)]('Card\x20Number:',this[_0x493a01(0x17e)](_0xc445bf[_0x493a01(0x19c)])),console['log']('Card\x20Holder:',_0xc445bf[_0x493a01(0x187)]),console[_0x493a01(0x17d)]('Expiry:',_0xc445bf[_0x493a01(0x19e)]+'/'+_0xc445bf[_0x493a01(0x188)]),console[_0x493a01(0x17d)](_0x493a01(0x193),_0x493a01(0x171));const _0x1c1c95=this['validateCardData'](_0xc445bf);if(!_0x1c1c95[_0x493a01(0x185)])return console[_0x493a01(0x17d)](_0x493a01(0x191),_0x1c1c95[_0x493a01(0x19f)]),{'success':![],'status':'FAILED','message':_0x493a01(0x190),'failureReason':_0x1c1c95['error']};const _0x2032c7=_0xc445bf['cardNumber'][_0x493a01(0x196)](/[\s-]/g,'');if(_0x2032c7===this[_0x493a01(0x182)]){const _0x6bae2f=this[_0x493a01(0x175)]();return console['log']('✅\x20Test\x20payment\x20successful'),console[_0x493a01(0x17d)](_0x493a01(0x170),_0x6bae2f),{'success':!![],'status':_0x493a01(0x16d),'message':_0x493a01(0x1a0),'transactionId':_0x6bae2f};}else return console[_0x493a01(0x17d)](_0x493a01(0x16c)),{'success':![],'status':_0x493a01(0x183),'message':_0x493a01(0x17f),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a46_0x9634af(0x1a2)](_0x30b2ae){const _0x130b40=a46_0x9634af,_0x36aaee=_0x30b2ae[_0x130b40(0x19c)][_0x130b40(0x196)](/[\s-]/g,'');if(!/^\d{16}$/[_0x130b40(0x184)](_0x36aaee))return{'isValid':![],'error':_0x130b40(0x194)};if(!_0x30b2ae[_0x130b40(0x187)]||_0x30b2ae[_0x130b40(0x187)][_0x130b40(0x17b)]()[_0x130b40(0x1a4)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x3add4a=parseInt(_0x30b2ae['expiryMonth']);if(isNaN(_0x3add4a)||_0x3add4a<0x1||_0x3add4a>0xc)return{'isValid':![],'error':_0x130b40(0x18c)};const _0x49eef8=parseInt(_0x30b2ae[_0x130b40(0x188)]),_0x217cb8=new Date()[_0x130b40(0x18b)](),_0x4dba5b=_0x49eef8<0x32?0x7d0+_0x49eef8:0x76c+_0x49eef8;if(isNaN(_0x49eef8)||_0x4dba5b<_0x217cb8||_0x4dba5b>_0x217cb8+0x14)return{'isValid':![],'error':_0x130b40(0x199)};if(!/^\d{3,4}$/[_0x130b40(0x184)](_0x30b2ae[_0x130b40(0x16e)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x3d6e25){const _0x4ef7fd=a46_0x9634af,_0x555b1a=_0x3d6e25[_0x4ef7fd(0x196)](/[\s-]/g,'');if(_0x555b1a[_0x4ef7fd(0x1a4)]<0x4)return'****';return _0x4ef7fd(0x189)+_0x555b1a[_0x4ef7fd(0x173)](-0x4);}[a46_0x9634af(0x175)](){const _0x79421b=a46_0x9634af,_0x499a12=Date[_0x79421b(0x195)]()[_0x79421b(0x18a)](),_0xa7627a=Math[_0x79421b(0x180)](Math[_0x79421b(0x17a)]()*0x2710)[_0x79421b(0x18a)]()[_0x79421b(0x19d)](0x4,'0');return'test_'+_0x499a12+'_'+_0xa7627a;}async[a46_0x9634af(0x1a3)](_0x3e2a70){const _0x4ea71e=a46_0x9634af;return console[_0x4ea71e(0x17d)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x3e2a70),{'paymentId':_0x3e2a70[_0x4ea71e(0x1a1)]||'','status':_0x3e2a70[_0x4ea71e(0x174)]===_0x4ea71e(0x177)?_0x4ea71e(0x16d):'FAILED','amount':_0x3e2a70[_0x4ea71e(0x198)],'currency':_0x3e2a70['currency']};}}function a46_0x1c83(){const _0x192456=['slice','status','generateTransactionId','3889620QbViHj','success','2SyWNbc','26216216NmNNPg','random','trim','7908348BABTXH','log','maskCardNumber','Payment\x20failed','floor','🧪\x20Test\x20Gateway\x20service\x20initialized','SUCCESS_CARD','FAILED','test','isValid','defineProperty','cardHolderName','expiryYear','****\x20****\x20****\x20','toString','getFullYear','Invalid\x20expiry\x20month','__esModule','4242424242424242','553515cwMFbq','Card\x20validation\x20failed','❌\x20Card\x20validation\x20failed:','processCardPayment','CVC:','Card\x20number\x20must\x20be\x2016\x20digits','now','replace','762366hgMKEs','amount','Invalid\x20expiry\x20year','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Order\x20ID:','cardNumber','padStart','expiryMonth','error','Payment\x20processed\x20successfully','order_id','validateCardData','processWebhook','length','❌\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','PAID','cvc','911020jSquPy','Transaction\x20ID:','***','3043375fkDyhg'];a46_0x1c83=function(){return _0x192456;};return a46_0x1c83();}exports['TestGatewayService']=TestGatewayService;