'use strict';const a69_0x26dcd6=a69_0xda1d;(function(_0x15ed03,_0xc1bddf){const _0x2229ad=a69_0xda1d,_0x50c7ab=_0x15ed03();while(!![]){try{const _0x2a6e67=parseInt(_0x2229ad(0xf0))/0x1+parseInt(_0x2229ad(0x101))/0x2*(-parseInt(_0x2229ad(0xe1))/0x3)+-parseInt(_0x2229ad(0x10b))/0x4+-parseInt(_0x2229ad(0xe8))/0x5*(parseInt(_0x2229ad(0xe5))/0x6)+parseInt(_0x2229ad(0x106))/0x7*(parseInt(_0x2229ad(0xf3))/0x8)+parseInt(_0x2229ad(0xff))/0x9+parseInt(_0x2229ad(0xde))/0xa;if(_0x2a6e67===_0xc1bddf)break;else _0x50c7ab['push'](_0x50c7ab['shift']());}catch(_0xb07d1d){_0x50c7ab['push'](_0x50c7ab['shift']());}}}(a69_0x3d3d,0x55a55));function a69_0x3d3d(){const _0x28b1aa=['Card\x20number\x20must\x20be\x2016\x20digits','test_','slice','cardHolderName','floor','getFullYear','4554927qgHqgl','4242424242424242','425596MWurQi','Transaction\x20ID:','‚úÖ\x20Test\x20payment\x20successful','FAILED','****','3017tvWXIl','test','replace','Invalid\x20expiry\x20month','maskCardNumber','2201176DBekTk','SUCCESS_CARD','Card\x20holder\x20name\x20is\x20required','Expiry:','__esModule','Order\x20ID:','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','trim','cvc','Invalid\x20expiry\x20year','Card\x20validation\x20failed','toString','Payment\x20ID:','expiryMonth','length','2251020RHWHHL','TestGatewayService','error','3BKotdz','generateTransactionId','currency','padStart','138xpvlUV','CVC:','CVC\x20must\x20be\x203\x20or\x204\x20digits','25455XSkxJH','PAID','now','validateCardData','Card\x20Number:','defineProperty','Amount:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','383846Nxntku','processCardPayment','Payment\x20failed','2152iSkkeG','Payment\x20processed\x20successfully','log','cardNumber','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Card\x20Holder:'];a69_0x3d3d=function(){return _0x28b1aa;};return a69_0x3d3d();}function a69_0xda1d(_0x940556,_0x1d4d8b){_0x940556=_0x940556-0xdd;const _0x3d3db1=a69_0x3d3d();let _0xda1d6c=_0x3d3db1[_0x940556];return _0xda1d6c;}Object[a69_0x26dcd6(0xed)](exports,a69_0x26dcd6(0x10f),{'value':!![]}),exports[a69_0x26dcd6(0xdf)]=void 0x0;class TestGatewayService{constructor(){const _0x4ca6f8=a69_0x26dcd6;this[_0x4ca6f8(0x10c)]=_0x4ca6f8(0x100),console[_0x4ca6f8(0xf5)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a69_0x26dcd6(0xf1)](_0x4367a0){const _0x1d73c2=a69_0x26dcd6,{paymentId:_0x5dd380,orderId:_0x301468,amount:_0x1e101e,currency:_0x3a0dad,cardData:_0x368590}=_0x4367a0;console['log'](_0x1d73c2(0x112)),console['log'](_0x1d73c2(0x118),_0x5dd380),console['log'](_0x1d73c2(0x110),_0x301468),console[_0x1d73c2(0xf5)](_0x1d73c2(0xee),_0x1e101e,_0x3a0dad),console[_0x1d73c2(0xf5)](_0x1d73c2(0xec),this[_0x1d73c2(0x10a)](_0x368590[_0x1d73c2(0xf6)])),console[_0x1d73c2(0xf5)](_0x1d73c2(0xf8),_0x368590[_0x1d73c2(0xfc)]),console['log'](_0x1d73c2(0x10e),_0x368590[_0x1d73c2(0x119)]+'/'+_0x368590['expiryYear']),console['log'](_0x1d73c2(0xe6),'***');const _0x2b84cc=this[_0x1d73c2(0xeb)](_0x368590);if(!_0x2b84cc['isValid'])return console[_0x1d73c2(0xf5)]('‚ùå\x20Card\x20validation\x20failed:',_0x2b84cc[_0x1d73c2(0xe0)]),{'success':![],'status':_0x1d73c2(0x104),'message':_0x1d73c2(0x116),'failureReason':_0x2b84cc[_0x1d73c2(0xe0)]};const _0x407c37=_0x368590[_0x1d73c2(0xf6)][_0x1d73c2(0x108)](/[\s-]/g,'');if(_0x407c37===this[_0x1d73c2(0x10c)]){const _0x3d4530=this[_0x1d73c2(0xe2)]();return console[_0x1d73c2(0xf5)](_0x1d73c2(0x103)),console[_0x1d73c2(0xf5)](_0x1d73c2(0x102),_0x3d4530),{'success':!![],'status':_0x1d73c2(0xe9),'message':_0x1d73c2(0xf4),'transactionId':_0x3d4530};}else return console[_0x1d73c2(0xf5)](_0x1d73c2(0xf7)),{'success':![],'status':_0x1d73c2(0x104),'message':_0x1d73c2(0xf2),'failureReason':_0x1d73c2(0x111)};}[a69_0x26dcd6(0xeb)](_0x12868c){const _0x723934=a69_0x26dcd6,_0x23b34c=_0x12868c['cardNumber'][_0x723934(0x108)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x23b34c))return{'isValid':![],'error':_0x723934(0xf9)};if(!_0x12868c['cardHolderName']||_0x12868c[_0x723934(0xfc)][_0x723934(0x113)]()['length']<0x2)return{'isValid':![],'error':_0x723934(0x10d)};const _0x166440=parseInt(_0x12868c[_0x723934(0x119)]);if(isNaN(_0x166440)||_0x166440<0x1||_0x166440>0xc)return{'isValid':![],'error':_0x723934(0x109)};const _0x12e93a=parseInt(_0x12868c['expiryYear']),_0x34e593=new Date()[_0x723934(0xfe)](),_0x4e6c9d=_0x12e93a<0x32?0x7d0+_0x12e93a:0x76c+_0x12e93a;if(isNaN(_0x12e93a)||_0x4e6c9d<_0x34e593||_0x4e6c9d>_0x34e593+0x14)return{'isValid':![],'error':_0x723934(0x115)};if(!/^\d{3,4}$/[_0x723934(0x107)](_0x12868c[_0x723934(0x114)]))return{'isValid':![],'error':_0x723934(0xe7)};return{'isValid':!![]};}[a69_0x26dcd6(0x10a)](_0x37e896){const _0x4f9b28=a69_0x26dcd6,_0x4d7607=_0x37e896['replace'](/[\s-]/g,'');if(_0x4d7607[_0x4f9b28(0xdd)]<0x4)return _0x4f9b28(0x105);return'****\x20****\x20****\x20'+_0x4d7607[_0x4f9b28(0xfb)](-0x4);}['generateTransactionId'](){const _0x105b95=a69_0x26dcd6,_0x13430e=Date[_0x105b95(0xea)]()['toString'](),_0x1b7048=Math[_0x105b95(0xfd)](Math['random']()*0x2710)[_0x105b95(0x117)]()[_0x105b95(0xe4)](0x4,'0');return _0x105b95(0xfa)+_0x13430e+'_'+_0x1b7048;}async['processWebhook'](_0x42f1e5){const _0x6aa4ee=a69_0x26dcd6;return console[_0x6aa4ee(0xf5)](_0x6aa4ee(0xef),_0x42f1e5),{'paymentId':_0x42f1e5['order_id']||'','status':_0x42f1e5['status']==='success'?_0x6aa4ee(0xe9):_0x6aa4ee(0x104),'amount':_0x42f1e5['amount'],'currency':_0x42f1e5[_0x6aa4ee(0xe3)]};}}exports[a69_0x26dcd6(0xdf)]=TestGatewayService;