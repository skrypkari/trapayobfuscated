'use strict';const a51_0x3502d3=a51_0x2841;(function(_0x35015a,_0x2ffda8){const _0x25d462=a51_0x2841,_0x1493b9=_0x35015a();while(!![]){try{const _0x1832fe=parseInt(_0x25d462(0xd4))/0x1*(-parseInt(_0x25d462(0xbe))/0x2)+-parseInt(_0x25d462(0xc5))/0x3*(parseInt(_0x25d462(0xe3))/0x4)+parseInt(_0x25d462(0x100))/0x5*(parseInt(_0x25d462(0xe7))/0x6)+-parseInt(_0x25d462(0xbf))/0x7*(parseInt(_0x25d462(0xec))/0x8)+-parseInt(_0x25d462(0xe4))/0x9+-parseInt(_0x25d462(0xde))/0xa*(-parseInt(_0x25d462(0xc0))/0xb)+parseInt(_0x25d462(0xc4))/0xc;if(_0x1832fe===_0x2ffda8)break;else _0x1493b9['push'](_0x1493b9['shift']());}catch(_0x538e20){_0x1493b9['push'](_0x1493b9['shift']());}}}(a51_0x510a,0x2aea3));Object[a51_0x3502d3(0xf5)](exports,a51_0x3502d3(0xcf),{'value':!![]}),exports[a51_0x3502d3(0xd2)]=void 0x0;function a51_0x2841(_0x1fd58a,_0x582b00){const _0x510ab7=a51_0x510a();return a51_0x2841=function(_0x284141,_0x4ef6f9){_0x284141=_0x284141-0xbe;let _0x3fb5b2=_0x510ab7[_0x284141];return _0x3fb5b2;},a51_0x2841(_0x1fd58a,_0x582b00);}function a51_0x510a(){const _0x4592d2=['toString','52Qspffb','851067LQEBDn','isValid','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','246qynIPp','floor','processCardPayment','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','now','2099288hGXyqJ','Card\x20number\x20must\x20be\x2016\x20digits','PAID','currency','replace','test','Amount:','trim','length','defineProperty','generateTransactionId','Card\x20holder\x20name\x20is\x20required','Payment\x20processed\x20successfully','CVC\x20must\x20be\x203\x20or\x204\x20digits','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','expiryMonth','Expiry:','status','test_','4242424242424242','35030exyxHI','6062OZUGJx','7bJrRkF','542465vzOzGZ','order_id','slice','FAILED','7529220oDinkI','47247tfKYeC','cardNumber','Payment\x20failed','Order\x20ID:','cardHolderName','validateCardData','error','üß™\x20Test\x20Gateway\x20service\x20initialized','CVC:','Payment\x20ID:','__esModule','SUCCESS_CARD','log','TestGatewayService','padStart','91RbKFfZ','****','success','Card\x20validation\x20failed','****\x20****\x20****\x20','cvc','‚úÖ\x20Test\x20payment\x20successful','amount','expiryYear','Invalid\x20expiry\x20year','20UGVNdu','‚ùå\x20Card\x20validation\x20failed:','Invalid\x20expiry\x20month','maskCardNumber'];a51_0x510a=function(){return _0x4592d2;};return a51_0x510a();}class TestGatewayService{constructor(){const _0x2fca41=a51_0x3502d3;this[_0x2fca41(0xd0)]=_0x2fca41(0xff),console[_0x2fca41(0xd1)](_0x2fca41(0xcc));}async[a51_0x3502d3(0xe9)](_0x37341c){const _0x65d0a=a51_0x3502d3,{paymentId:_0x2425c1,orderId:_0x50cc21,amount:_0x3dc532,currency:_0x2bab61,cardData:_0x482b04}=_0x37341c;console[_0x65d0a(0xd1)](_0x65d0a(0xe6)),console[_0x65d0a(0xd1)](_0x65d0a(0xce),_0x2425c1),console['log'](_0x65d0a(0xc8),_0x50cc21),console[_0x65d0a(0xd1)](_0x65d0a(0xf2),_0x3dc532,_0x2bab61),console[_0x65d0a(0xd1)]('Card\x20Number:',this['maskCardNumber'](_0x482b04[_0x65d0a(0xc6)])),console[_0x65d0a(0xd1)]('Card\x20Holder:',_0x482b04[_0x65d0a(0xc9)]),console[_0x65d0a(0xd1)](_0x65d0a(0xfc),_0x482b04[_0x65d0a(0xfb)]+'/'+_0x482b04[_0x65d0a(0xdc)]),console[_0x65d0a(0xd1)](_0x65d0a(0xcd),'***');const _0x346050=this[_0x65d0a(0xca)](_0x482b04);if(!_0x346050[_0x65d0a(0xe5)])return console[_0x65d0a(0xd1)](_0x65d0a(0xdf),_0x346050[_0x65d0a(0xcb)]),{'success':![],'status':'FAILED','message':_0x65d0a(0xd7),'failureReason':_0x346050[_0x65d0a(0xcb)]};const _0x8ce647=_0x482b04[_0x65d0a(0xc6)][_0x65d0a(0xf0)](/[\s-]/g,'');if(_0x8ce647===this[_0x65d0a(0xd0)]){const _0x2bf082=this[_0x65d0a(0xf6)]();return console[_0x65d0a(0xd1)](_0x65d0a(0xda)),console[_0x65d0a(0xd1)]('Transaction\x20ID:',_0x2bf082),{'success':!![],'status':'PAID','message':_0x65d0a(0xf8),'transactionId':_0x2bf082};}else return console[_0x65d0a(0xd1)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x65d0a(0xc3),'message':_0x65d0a(0xc7),'failureReason':_0x65d0a(0xfa)};}[a51_0x3502d3(0xca)](_0x1b3390){const _0x30d238=a51_0x3502d3,_0x3bc266=_0x1b3390['cardNumber'][_0x30d238(0xf0)](/[\s-]/g,'');if(!/^\d{16}$/[_0x30d238(0xf1)](_0x3bc266))return{'isValid':![],'error':_0x30d238(0xed)};if(!_0x1b3390[_0x30d238(0xc9)]||_0x1b3390[_0x30d238(0xc9)][_0x30d238(0xf3)]()[_0x30d238(0xf4)]<0x2)return{'isValid':![],'error':_0x30d238(0xf7)};const _0x57083a=parseInt(_0x1b3390['expiryMonth']);if(isNaN(_0x57083a)||_0x57083a<0x1||_0x57083a>0xc)return{'isValid':![],'error':_0x30d238(0xe0)};const _0x52ab37=parseInt(_0x1b3390[_0x30d238(0xdc)]),_0x34cafe=new Date()['getFullYear'](),_0x582375=_0x52ab37<0x32?0x7d0+_0x52ab37:0x76c+_0x52ab37;if(isNaN(_0x52ab37)||_0x582375<_0x34cafe||_0x582375>_0x34cafe+0x14)return{'isValid':![],'error':_0x30d238(0xdd)};if(!/^\d{3,4}$/[_0x30d238(0xf1)](_0x1b3390[_0x30d238(0xd9)]))return{'isValid':![],'error':_0x30d238(0xf9)};return{'isValid':!![]};}[a51_0x3502d3(0xe1)](_0x49f7b4){const _0xf996fb=a51_0x3502d3,_0x3f8ea6=_0x49f7b4[_0xf996fb(0xf0)](/[\s-]/g,'');if(_0x3f8ea6[_0xf996fb(0xf4)]<0x4)return _0xf996fb(0xd5);return _0xf996fb(0xd8)+_0x3f8ea6[_0xf996fb(0xc2)](-0x4);}[a51_0x3502d3(0xf6)](){const _0x338c03=a51_0x3502d3,_0x7ac432=Date[_0x338c03(0xeb)]()[_0x338c03(0xe2)](),_0x4ae7df=Math[_0x338c03(0xe8)](Math['random']()*0x2710)['toString']()[_0x338c03(0xd3)](0x4,'0');return _0x338c03(0xfe)+_0x7ac432+'_'+_0x4ae7df;}async['processWebhook'](_0x3958ac){const _0xa83a10=a51_0x3502d3;return console['log'](_0xa83a10(0xea),_0x3958ac),{'paymentId':_0x3958ac[_0xa83a10(0xc1)]||'','status':_0x3958ac[_0xa83a10(0xfd)]===_0xa83a10(0xd6)?_0xa83a10(0xee):_0xa83a10(0xc3),'amount':_0x3958ac[_0xa83a10(0xdb)],'currency':_0x3958ac[_0xa83a10(0xef)]};}}exports[a51_0x3502d3(0xd2)]=TestGatewayService;