'use strict';const a47_0x50e544=a47_0x3941;function a47_0x3941(_0x5dd0a4,_0x3b0f99){const _0x3ce160=a47_0x3ce1();return a47_0x3941=function(_0x39414e,_0x3b1355){_0x39414e=_0x39414e-0x119;let _0x2faa29=_0x3ce160[_0x39414e];return _0x2faa29;},a47_0x3941(_0x5dd0a4,_0x3b0f99);}function a47_0x3ce1(){const _0xc70e41=['TestGatewayService','Payment\x20ID:','now','random','SUCCESS_CARD','10pMaHTw','PAID','16QGVtZZ','maskCardNumber','5391380AsYWjs','Card\x20Holder:','cardNumber','error','length','‚úÖ\x20Test\x20payment\x20successful','trim','549318ggPpYh','amount','replace','__esModule','expiryYear','678024WAIDsd','toString','278ZiVieI','‚ùå\x20Card\x20validation\x20failed:','****','log','4242424242424242','generateTransactionId','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','slice','Invalid\x20expiry\x20year','269580FaDFMZ','validateCardData','üß™\x20Test\x20Gateway\x20service\x20initialized','Payment\x20processed\x20successfully','632MmxkgY','Card\x20Number:','Card\x20holder\x20name\x20is\x20required','defineProperty','getFullYear','Card\x20number\x20must\x20be\x2016\x20digits','Amount:','cardHolderName','Order\x20ID:','***','344428iVwxdn','padStart','expiryMonth','processCardPayment','FAILED','isValid','905733gfnuAQ','CVC:','status','CVC\x20must\x20be\x203\x20or\x204\x20digits','test_','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','cvc','currency','test','floor','Invalid\x20expiry\x20month'];a47_0x3ce1=function(){return _0xc70e41;};return a47_0x3ce1();}(function(_0x5260f8,_0x18c2a4){const _0x3694b0=a47_0x3941,_0x38c2a0=_0x5260f8();while(!![]){try{const _0x54ac29=parseInt(_0x3694b0(0x12f))/0x1*(parseInt(_0x3694b0(0x122))/0x2)+parseInt(_0x3694b0(0x13f))/0x3+-parseInt(_0x3694b0(0x12b))/0x4*(-parseInt(_0x3694b0(0x14f))/0x5)+parseInt(_0x3694b0(0x11b))/0x6+parseInt(_0x3694b0(0x139))/0x7*(parseInt(_0x3694b0(0x151))/0x8)+parseInt(_0x3694b0(0x120))/0x9+-parseInt(_0x3694b0(0x153))/0xa;if(_0x54ac29===_0x18c2a4)break;else _0x38c2a0['push'](_0x38c2a0['shift']());}catch(_0xc4ae34){_0x38c2a0['push'](_0x38c2a0['shift']());}}}(a47_0x3ce1,0x3d354));Object[a47_0x50e544(0x132)](exports,a47_0x50e544(0x11e),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x64b693=a47_0x50e544;this[_0x64b693(0x14e)]=_0x64b693(0x126),console[_0x64b693(0x125)](_0x64b693(0x12d));}async[a47_0x50e544(0x13c)](_0x1e05c){const _0x265765=a47_0x50e544,{paymentId:_0x6bca29,orderId:_0x3bd4a3,amount:_0x31fb05,currency:_0x4bb564,cardData:_0x15ea7f}=_0x1e05c;console[_0x265765(0x125)](_0x265765(0x128)),console[_0x265765(0x125)](_0x265765(0x14b),_0x6bca29),console[_0x265765(0x125)](_0x265765(0x137),_0x3bd4a3),console[_0x265765(0x125)](_0x265765(0x135),_0x31fb05,_0x4bb564),console[_0x265765(0x125)](_0x265765(0x130),this[_0x265765(0x152)](_0x15ea7f[_0x265765(0x155)])),console['log'](_0x265765(0x154),_0x15ea7f[_0x265765(0x136)]),console[_0x265765(0x125)]('Expiry:',_0x15ea7f[_0x265765(0x13b)]+'/'+_0x15ea7f[_0x265765(0x11f)]),console[_0x265765(0x125)](_0x265765(0x140),_0x265765(0x138));const _0x11dff3=this[_0x265765(0x12c)](_0x15ea7f);if(!_0x11dff3[_0x265765(0x13e)])return console[_0x265765(0x125)](_0x265765(0x123),_0x11dff3[_0x265765(0x156)]),{'success':![],'status':_0x265765(0x13d),'message':'Card\x20validation\x20failed','failureReason':_0x11dff3[_0x265765(0x156)]};const _0x339329=_0x15ea7f[_0x265765(0x155)][_0x265765(0x11d)](/[\s-]/g,'');if(_0x339329===this['SUCCESS_CARD']){const _0x40bb54=this['generateTransactionId']();return console[_0x265765(0x125)](_0x265765(0x119)),console[_0x265765(0x125)]('Transaction\x20ID:',_0x40bb54),{'success':!![],'status':_0x265765(0x150),'message':_0x265765(0x12e),'transactionId':_0x40bb54};}else return console[_0x265765(0x125)](_0x265765(0x144)),{'success':![],'status':_0x265765(0x13d),'message':'Payment\x20failed','failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a47_0x50e544(0x12c)](_0x1a2e7f){const _0x5139c1=a47_0x50e544,_0x14044d=_0x1a2e7f[_0x5139c1(0x155)][_0x5139c1(0x11d)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5139c1(0x147)](_0x14044d))return{'isValid':![],'error':_0x5139c1(0x134)};if(!_0x1a2e7f[_0x5139c1(0x136)]||_0x1a2e7f['cardHolderName'][_0x5139c1(0x11a)]()[_0x5139c1(0x157)]<0x2)return{'isValid':![],'error':_0x5139c1(0x131)};const _0x40e5f8=parseInt(_0x1a2e7f[_0x5139c1(0x13b)]);if(isNaN(_0x40e5f8)||_0x40e5f8<0x1||_0x40e5f8>0xc)return{'isValid':![],'error':_0x5139c1(0x149)};const _0x58b78e=parseInt(_0x1a2e7f[_0x5139c1(0x11f)]),_0x2ed567=new Date()[_0x5139c1(0x133)](),_0x5cf655=_0x58b78e<0x32?0x7d0+_0x58b78e:0x76c+_0x58b78e;if(isNaN(_0x58b78e)||_0x5cf655<_0x2ed567||_0x5cf655>_0x2ed567+0x14)return{'isValid':![],'error':_0x5139c1(0x12a)};if(!/^\d{3,4}$/[_0x5139c1(0x147)](_0x1a2e7f[_0x5139c1(0x145)]))return{'isValid':![],'error':_0x5139c1(0x142)};return{'isValid':!![]};}['maskCardNumber'](_0x420dac){const _0x544d18=a47_0x50e544,_0x196756=_0x420dac[_0x544d18(0x11d)](/[\s-]/g,'');if(_0x196756[_0x544d18(0x157)]<0x4)return _0x544d18(0x124);return'****\x20****\x20****\x20'+_0x196756[_0x544d18(0x129)](-0x4);}[a47_0x50e544(0x127)](){const _0x4fe1dc=a47_0x50e544,_0x448ece=Date[_0x4fe1dc(0x14c)]()[_0x4fe1dc(0x121)](),_0x150ce2=Math[_0x4fe1dc(0x148)](Math[_0x4fe1dc(0x14d)]()*0x2710)[_0x4fe1dc(0x121)]()[_0x4fe1dc(0x13a)](0x4,'0');return _0x4fe1dc(0x143)+_0x448ece+'_'+_0x150ce2;}async['processWebhook'](_0x553c22){const _0x26085d=a47_0x50e544;return console[_0x26085d(0x125)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x553c22),{'paymentId':_0x553c22['order_id']||'','status':_0x553c22[_0x26085d(0x141)]==='success'?'PAID':_0x26085d(0x13d),'amount':_0x553c22[_0x26085d(0x11c)],'currency':_0x553c22[_0x26085d(0x146)]};}}exports[a47_0x50e544(0x14a)]=TestGatewayService;