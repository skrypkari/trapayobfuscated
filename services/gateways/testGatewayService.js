'use strict';const a57_0x2c39c5=a57_0x6325;(function(_0x58cae5,_0x5d6092){const _0x5096f6=a57_0x6325,_0x3da8a1=_0x58cae5();while(!![]){try{const _0x472070=-parseInt(_0x5096f6(0x1d1))/0x1+-parseInt(_0x5096f6(0x1ea))/0x2+-parseInt(_0x5096f6(0x1d3))/0x3+-parseInt(_0x5096f6(0x1f1))/0x4*(parseInt(_0x5096f6(0x1ee))/0x5)+parseInt(_0x5096f6(0x1d2))/0x6+-parseInt(_0x5096f6(0x1f6))/0x7+parseInt(_0x5096f6(0x1c6))/0x8*(parseInt(_0x5096f6(0x1dc))/0x9);if(_0x472070===_0x5d6092)break;else _0x3da8a1['push'](_0x3da8a1['shift']());}catch(_0x1dc7f2){_0x3da8a1['push'](_0x3da8a1['shift']());}}}(a57_0x1884,0xdcbd6));function a57_0x1884(){const _0x31a896=['Payment\x20ID:','4242424242424242','toString','316685IJWRDe','cardHolderName','Expiry:','20JMVEfM','log','Transaction\x20ID:','Amount:','TestGatewayService','9286179cqlumT','order_id','floor','FAILED','Card\x20Number:','padStart','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','SUCCESS_CARD','replace','defineProperty','****\x20****\x20****\x20','error','257624uApUwt','getFullYear','amount','currency','cardNumber','‚úÖ\x20Test\x20payment\x20successful','status','slice','‚ùå\x20Card\x20validation\x20failed:','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','generateTransactionId','55559RPHcuz','1549944PrcOJn','1304385hNYTOk','Invalid\x20expiry\x20year','Card\x20holder\x20name\x20is\x20required','__esModule','PAID','Card\x20number\x20must\x20be\x2016\x20digits','CVC:','cvc','processCardPayment','1062RLcpEs','length','now','Payment\x20failed','expiryYear','processWebhook','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','****','***','test','success','maskCardNumber','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','validateCardData','2040984sVeCCv'];a57_0x1884=function(){return _0x31a896;};return a57_0x1884();}function a57_0x6325(_0xc2ecf3,_0x499024){const _0x18840e=a57_0x1884();return a57_0x6325=function(_0x6325e7,_0x46e898){_0x6325e7=_0x6325e7-0x1bf;let _0x175d21=_0x18840e[_0x6325e7];return _0x175d21;},a57_0x6325(_0xc2ecf3,_0x499024);}Object[a57_0x2c39c5(0x1c3)](exports,a57_0x2c39c5(0x1d6),{'value':!![]}),exports[a57_0x2c39c5(0x1f5)]=void 0x0;class TestGatewayService{constructor(){const _0x39532d=a57_0x2c39c5;this[_0x39532d(0x1c1)]=_0x39532d(0x1ec),console['log']('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a57_0x2c39c5(0x1db)](_0x5496c6){const _0x58799e=a57_0x2c39c5,{paymentId:_0x18360c,orderId:_0x581e5e,amount:_0x5cf97f,currency:_0x2d7d90,cardData:_0x35dd25}=_0x5496c6;console[_0x58799e(0x1f2)](_0x58799e(0x1e8)),console[_0x58799e(0x1f2)](_0x58799e(0x1eb),_0x18360c),console[_0x58799e(0x1f2)]('Order\x20ID:',_0x581e5e),console[_0x58799e(0x1f2)](_0x58799e(0x1f4),_0x5cf97f,_0x2d7d90),console[_0x58799e(0x1f2)](_0x58799e(0x1fa),this[_0x58799e(0x1e7)](_0x35dd25[_0x58799e(0x1ca)])),console[_0x58799e(0x1f2)]('Card\x20Holder:',_0x35dd25[_0x58799e(0x1ef)]),console[_0x58799e(0x1f2)](_0x58799e(0x1f0),_0x35dd25['expiryMonth']+'/'+_0x35dd25[_0x58799e(0x1e0)]),console[_0x58799e(0x1f2)](_0x58799e(0x1d9),_0x58799e(0x1e4));const _0x34c9a0=this[_0x58799e(0x1e9)](_0x35dd25);if(!_0x34c9a0['isValid'])return console['log'](_0x58799e(0x1ce),_0x34c9a0['error']),{'success':![],'status':_0x58799e(0x1f9),'message':'Card\x20validation\x20failed','failureReason':_0x34c9a0[_0x58799e(0x1c5)]};const _0x3029c0=_0x35dd25[_0x58799e(0x1ca)][_0x58799e(0x1c2)](/[\s-]/g,'');if(_0x3029c0===this[_0x58799e(0x1c1)]){const _0x15822e=this[_0x58799e(0x1d0)]();return console[_0x58799e(0x1f2)](_0x58799e(0x1cb)),console[_0x58799e(0x1f2)](_0x58799e(0x1f3),_0x15822e),{'success':!![],'status':'PAID','message':'Payment\x20processed\x20successfully','transactionId':_0x15822e};}else return console[_0x58799e(0x1f2)](_0x58799e(0x1cf)),{'success':![],'status':_0x58799e(0x1f9),'message':_0x58799e(0x1df),'failureReason':_0x58799e(0x1c0)};}['validateCardData'](_0x4539e7){const _0x4fb8b1=a57_0x2c39c5,_0x38251f=_0x4539e7[_0x4fb8b1(0x1ca)][_0x4fb8b1(0x1c2)](/[\s-]/g,'');if(!/^\d{16}$/[_0x4fb8b1(0x1e5)](_0x38251f))return{'isValid':![],'error':_0x4fb8b1(0x1d8)};if(!_0x4539e7['cardHolderName']||_0x4539e7[_0x4fb8b1(0x1ef)]['trim']()[_0x4fb8b1(0x1dd)]<0x2)return{'isValid':![],'error':_0x4fb8b1(0x1d5)};const _0x4a0441=parseInt(_0x4539e7['expiryMonth']);if(isNaN(_0x4a0441)||_0x4a0441<0x1||_0x4a0441>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0xa8be59=parseInt(_0x4539e7[_0x4fb8b1(0x1e0)]),_0x2d5c12=new Date()[_0x4fb8b1(0x1c7)](),_0x548bfe=_0xa8be59<0x32?0x7d0+_0xa8be59:0x76c+_0xa8be59;if(isNaN(_0xa8be59)||_0x548bfe<_0x2d5c12||_0x548bfe>_0x2d5c12+0x14)return{'isValid':![],'error':_0x4fb8b1(0x1d4)};if(!/^\d{3,4}$/['test'](_0x4539e7[_0x4fb8b1(0x1da)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a57_0x2c39c5(0x1e7)](_0x28f014){const _0x1a5804=a57_0x2c39c5,_0x2713de=_0x28f014[_0x1a5804(0x1c2)](/[\s-]/g,'');if(_0x2713de[_0x1a5804(0x1dd)]<0x4)return _0x1a5804(0x1e3);return _0x1a5804(0x1c4)+_0x2713de[_0x1a5804(0x1cd)](-0x4);}['generateTransactionId'](){const _0x4742e5=a57_0x2c39c5,_0xe4b1a5=Date[_0x4742e5(0x1de)]()[_0x4742e5(0x1ed)](),_0x45b575=Math[_0x4742e5(0x1f8)](Math['random']()*0x2710)[_0x4742e5(0x1ed)]()[_0x4742e5(0x1bf)](0x4,'0');return'test_'+_0xe4b1a5+'_'+_0x45b575;}async[a57_0x2c39c5(0x1e1)](_0x4c178f){const _0x1a24ed=a57_0x2c39c5;return console[_0x1a24ed(0x1f2)](_0x1a24ed(0x1e2),_0x4c178f),{'paymentId':_0x4c178f[_0x1a24ed(0x1f7)]||'','status':_0x4c178f[_0x1a24ed(0x1cc)]===_0x1a24ed(0x1e6)?_0x1a24ed(0x1d7):_0x1a24ed(0x1f9),'amount':_0x4c178f[_0x1a24ed(0x1c8)],'currency':_0x4c178f[_0x1a24ed(0x1c9)]};}}exports[a57_0x2c39c5(0x1f5)]=TestGatewayService;