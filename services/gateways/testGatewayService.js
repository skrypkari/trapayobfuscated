'use strict';const a46_0x2f2f1e=a46_0x589a;(function(_0x513c31,_0x2e7ed8){const _0x5f171d=a46_0x589a,_0x5baa3b=_0x513c31();while(!![]){try{const _0x4d45a4=parseInt(_0x5f171d(0x140))/0x1*(-parseInt(_0x5f171d(0x134))/0x2)+-parseInt(_0x5f171d(0x151))/0x3+parseInt(_0x5f171d(0x142))/0x4*(parseInt(_0x5f171d(0x12e))/0x5)+-parseInt(_0x5f171d(0x152))/0x6+parseInt(_0x5f171d(0x14a))/0x7*(-parseInt(_0x5f171d(0x132))/0x8)+parseInt(_0x5f171d(0x144))/0x9+-parseInt(_0x5f171d(0x138))/0xa*(-parseInt(_0x5f171d(0x133))/0xb);if(_0x4d45a4===_0x2e7ed8)break;else _0x5baa3b['push'](_0x5baa3b['shift']());}catch(_0x20748e){_0x5baa3b['push'](_0x5baa3b['shift']());}}}(a46_0x4c5b,0x64685));function a46_0x589a(_0x1bb5d0,_0x1e70e4){const _0x4c5be3=a46_0x4c5b();return a46_0x589a=function(_0x589a1e,_0x53d7ec){_0x589a1e=_0x589a1e-0x128;let _0x3b8beb=_0x4c5be3[_0x589a1e];return _0x3b8beb;},a46_0x589a(_0x1bb5d0,_0x1e70e4);}function a46_0x4c5b(){const _0x1b99e9=['Card\x20validation\x20failed','cvc','54850xIZOku','validateCardData','expiryMonth','PAID','status','error','maskCardNumber','expiryYear','8454BnyMYZ','CVC\x20must\x20be\x203\x20or\x204\x20digits','16dTTbCU','‚úÖ\x20Test\x20payment\x20successful','3614166TOJsta','FAILED','test','processWebhook','Payment\x20failed','TestGatewayService','1155AQkSOp','cardNumber','üß™\x20Test\x20Gateway\x20service\x20initialized','slice','SUCCESS_CARD','test_','Invalid\x20expiry\x20year','2257623QoxBxt','2322204FXGLbI','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Card\x20Holder:','success','Card\x20holder\x20name\x20is\x20required','trim','Payment\x20ID:','Order\x20ID:','getFullYear','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','isValid','Invalid\x20expiry\x20month','Payment\x20processed\x20successfully','processCardPayment','****\x20****\x20****\x20','replace','floor','random','log','toString','‚ùå\x20Card\x20validation\x20failed:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','58375NhIjgX','Amount:','generateTransactionId','length','152AzxyFa','2387ykJlGj','20RemCVk','4242424242424242'];a46_0x4c5b=function(){return _0x1b99e9;};return a46_0x4c5b();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x523738=a46_0x589a;this[_0x523738(0x14e)]=_0x523738(0x135),console[_0x523738(0x12a)](_0x523738(0x14c));}async[a46_0x2f2f1e(0x160)](_0x4492e1){const _0x41ab64=a46_0x2f2f1e,{paymentId:_0x1be9e9,orderId:_0x2fe955,amount:_0x63b030,currency:_0x441aee,cardData:_0x199148}=_0x4492e1;console[_0x41ab64(0x12a)](_0x41ab64(0x153)),console['log'](_0x41ab64(0x159),_0x1be9e9),console[_0x41ab64(0x12a)](_0x41ab64(0x15a),_0x2fe955),console['log'](_0x41ab64(0x12f),_0x63b030,_0x441aee),console[_0x41ab64(0x12a)]('Card\x20Number:',this['maskCardNumber'](_0x199148['cardNumber'])),console[_0x41ab64(0x12a)](_0x41ab64(0x155),_0x199148['cardHolderName']),console[_0x41ab64(0x12a)]('Expiry:',_0x199148[_0x41ab64(0x13a)]+'/'+_0x199148[_0x41ab64(0x13f)]),console[_0x41ab64(0x12a)]('CVC:','***');const _0x370237=this[_0x41ab64(0x139)](_0x199148);if(!_0x370237[_0x41ab64(0x15d)])return console['log'](_0x41ab64(0x12c),_0x370237['error']),{'success':![],'status':'FAILED','message':_0x41ab64(0x136),'failureReason':_0x370237[_0x41ab64(0x13d)]};const _0x4984a6=_0x199148['cardNumber'][_0x41ab64(0x162)](/[\s-]/g,'');if(_0x4984a6===this['SUCCESS_CARD']){const _0x4f48c0=this[_0x41ab64(0x130)]();return console[_0x41ab64(0x12a)](_0x41ab64(0x143)),console[_0x41ab64(0x12a)]('Transaction\x20ID:',_0x4f48c0),{'success':!![],'status':'PAID','message':_0x41ab64(0x15f),'transactionId':_0x4f48c0};}else return console[_0x41ab64(0x12a)](_0x41ab64(0x154)),{'success':![],'status':'FAILED','message':_0x41ab64(0x148),'failureReason':_0x41ab64(0x15c)};}['validateCardData'](_0x590a4c){const _0x353b09=a46_0x2f2f1e,_0x15645f=_0x590a4c[_0x353b09(0x14b)][_0x353b09(0x162)](/[\s-]/g,'');if(!/^\d{16}$/[_0x353b09(0x146)](_0x15645f))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x590a4c['cardHolderName']||_0x590a4c['cardHolderName'][_0x353b09(0x158)]()[_0x353b09(0x131)]<0x2)return{'isValid':![],'error':_0x353b09(0x157)};const _0x44e92f=parseInt(_0x590a4c[_0x353b09(0x13a)]);if(isNaN(_0x44e92f)||_0x44e92f<0x1||_0x44e92f>0xc)return{'isValid':![],'error':_0x353b09(0x15e)};const _0x18ec2d=parseInt(_0x590a4c['expiryYear']),_0x3d4a38=new Date()[_0x353b09(0x15b)](),_0x53970f=_0x18ec2d<0x32?0x7d0+_0x18ec2d:0x76c+_0x18ec2d;if(isNaN(_0x18ec2d)||_0x53970f<_0x3d4a38||_0x53970f>_0x3d4a38+0x14)return{'isValid':![],'error':_0x353b09(0x150)};if(!/^\d{3,4}$/['test'](_0x590a4c[_0x353b09(0x137)]))return{'isValid':![],'error':_0x353b09(0x141)};return{'isValid':!![]};}[a46_0x2f2f1e(0x13e)](_0x280f96){const _0x448440=a46_0x2f2f1e,_0x2f46f9=_0x280f96[_0x448440(0x162)](/[\s-]/g,'');if(_0x2f46f9[_0x448440(0x131)]<0x4)return'****';return _0x448440(0x161)+_0x2f46f9[_0x448440(0x14d)](-0x4);}[a46_0x2f2f1e(0x130)](){const _0x5f5d28=a46_0x2f2f1e,_0x19f677=Date['now']()[_0x5f5d28(0x12b)](),_0xa15de1=Math[_0x5f5d28(0x128)](Math[_0x5f5d28(0x129)]()*0x2710)[_0x5f5d28(0x12b)]()['padStart'](0x4,'0');return _0x5f5d28(0x14f)+_0x19f677+'_'+_0xa15de1;}async[a46_0x2f2f1e(0x147)](_0x2b2cc7){const _0xcbd840=a46_0x2f2f1e;return console[_0xcbd840(0x12a)](_0xcbd840(0x12d),_0x2b2cc7),{'paymentId':_0x2b2cc7['order_id']||'','status':_0x2b2cc7[_0xcbd840(0x13c)]===_0xcbd840(0x156)?_0xcbd840(0x13b):_0xcbd840(0x145),'amount':_0x2b2cc7['amount'],'currency':_0x2b2cc7['currency']};}}exports[a46_0x2f2f1e(0x149)]=TestGatewayService;