'use strict';const a47_0x145f3d=a47_0x4260;function a47_0x2510(){const _0x37f348=['Payment\x20failed','cvc','üß™\x20Test\x20Gateway\x20service\x20initialized','floor','Card\x20number\x20must\x20be\x2016\x20digits','Invalid\x20expiry\x20month','validateCardData','CVC\x20must\x20be\x203\x20or\x204\x20digits','padStart','generateTransactionId','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','4242424242424242','Amount:','status','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','random','error','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','success','replace','length','expiryYear','12HAVqGj','defineProperty','‚úÖ\x20Test\x20payment\x20successful','cardHolderName','processCardPayment','toString','processWebhook','TestGatewayService','2196190DRFQbS','test','Invalid\x20expiry\x20year','test_','366317IWCIjd','currency','***','CVC:','Card\x20Holder:','‚ùå\x20Card\x20validation\x20failed:','4846204LbmuFs','330369aGeeZT','slice','Card\x20holder\x20name\x20is\x20required','log','cardNumber','Card\x20validation\x20failed','45IWlZbT','8CsrqSH','PAID','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','maskCardNumber','getFullYear','__esModule','151485rRgGJH','1888523FYsZVh','Card\x20Number:','Expiry:','8EsRbHF','1013396LmAHkr','FAILED','expiryMonth'];a47_0x2510=function(){return _0x37f348;};return a47_0x2510();}(function(_0x5079dc,_0xf851ef){const _0xd18b13=a47_0x4260,_0x130f76=_0x5079dc();while(!![]){try{const _0x4fc5e9=-parseInt(_0xd18b13(0x163))/0x1+parseInt(_0xd18b13(0x17c))/0x2+parseInt(_0xd18b13(0x16a))/0x3*(parseInt(_0xd18b13(0x17b))/0x4)+-parseInt(_0xd18b13(0x177))/0x5*(parseInt(_0xd18b13(0x157))/0x6)+-parseInt(_0xd18b13(0x178))/0x7*(parseInt(_0xd18b13(0x171))/0x8)+parseInt(_0xd18b13(0x170))/0x9*(parseInt(_0xd18b13(0x15f))/0xa)+-parseInt(_0xd18b13(0x169))/0xb;if(_0x4fc5e9===_0xf851ef)break;else _0x130f76['push'](_0x130f76['shift']());}catch(_0x19ce3b){_0x130f76['push'](_0x130f76['shift']());}}}(a47_0x2510,0xa7e9f));function a47_0x4260(_0x1c7f4c,_0x2c9593){const _0x2510bf=a47_0x2510();return a47_0x4260=function(_0x426006,_0x370450){_0x426006=_0x426006-0x144;let _0x5b9e6d=_0x2510bf[_0x426006];return _0x5b9e6d;},a47_0x4260(_0x1c7f4c,_0x2c9593);}Object[a47_0x145f3d(0x158)](exports,a47_0x145f3d(0x176),{'value':!![]}),exports[a47_0x145f3d(0x15e)]=void 0x0;class TestGatewayService{constructor(){const _0x194c2c=a47_0x145f3d;this['SUCCESS_CARD']=_0x194c2c(0x14c),console[_0x194c2c(0x16d)](_0x194c2c(0x181));}async[a47_0x145f3d(0x15b)](_0x3c0229){const _0x45ecca=a47_0x145f3d,{paymentId:_0x9509f3,orderId:_0x3b44b3,amount:_0x2e3138,currency:_0x46a0c5,cardData:_0x425b70}=_0x3c0229;console[_0x45ecca(0x16d)](_0x45ecca(0x152)),console[_0x45ecca(0x16d)]('Payment\x20ID:',_0x9509f3),console[_0x45ecca(0x16d)]('Order\x20ID:',_0x3b44b3),console[_0x45ecca(0x16d)](_0x45ecca(0x14d),_0x2e3138,_0x46a0c5),console[_0x45ecca(0x16d)](_0x45ecca(0x179),this['maskCardNumber'](_0x425b70[_0x45ecca(0x16e)])),console['log'](_0x45ecca(0x167),_0x425b70[_0x45ecca(0x15a)]),console[_0x45ecca(0x16d)](_0x45ecca(0x17a),_0x425b70['expiryMonth']+'/'+_0x425b70[_0x45ecca(0x156)]),console['log'](_0x45ecca(0x166),_0x45ecca(0x165));const _0x421c2d=this['validateCardData'](_0x425b70);if(!_0x421c2d['isValid'])return console['log'](_0x45ecca(0x168),_0x421c2d[_0x45ecca(0x151)]),{'success':![],'status':'FAILED','message':_0x45ecca(0x16f),'failureReason':_0x421c2d[_0x45ecca(0x151)]};const _0x366cd=_0x425b70['cardNumber'][_0x45ecca(0x154)](/[\s-]/g,'');if(_0x366cd===this['SUCCESS_CARD']){const _0x565bad=this['generateTransactionId']();return console[_0x45ecca(0x16d)](_0x45ecca(0x159)),console['log']('Transaction\x20ID:',_0x565bad),{'success':!![],'status':_0x45ecca(0x172),'message':'Payment\x20processed\x20successfully','transactionId':_0x565bad};}else return console[_0x45ecca(0x16d)](_0x45ecca(0x14f)),{'success':![],'status':_0x45ecca(0x17d),'message':_0x45ecca(0x17f),'failureReason':_0x45ecca(0x14b)};}[a47_0x145f3d(0x147)](_0x207520){const _0x40bf8b=a47_0x145f3d,_0x5cae18=_0x207520[_0x40bf8b(0x16e)][_0x40bf8b(0x154)](/[\s-]/g,'');if(!/^\d{16}$/[_0x40bf8b(0x160)](_0x5cae18))return{'isValid':![],'error':_0x40bf8b(0x145)};if(!_0x207520[_0x40bf8b(0x15a)]||_0x207520['cardHolderName']['trim']()[_0x40bf8b(0x155)]<0x2)return{'isValid':![],'error':_0x40bf8b(0x16c)};const _0x9c10bf=parseInt(_0x207520[_0x40bf8b(0x17e)]);if(isNaN(_0x9c10bf)||_0x9c10bf<0x1||_0x9c10bf>0xc)return{'isValid':![],'error':_0x40bf8b(0x146)};const _0x3197d4=parseInt(_0x207520['expiryYear']),_0x2e87b4=new Date()[_0x40bf8b(0x175)](),_0xb34448=_0x3197d4<0x32?0x7d0+_0x3197d4:0x76c+_0x3197d4;if(isNaN(_0x3197d4)||_0xb34448<_0x2e87b4||_0xb34448>_0x2e87b4+0x14)return{'isValid':![],'error':_0x40bf8b(0x161)};if(!/^\d{3,4}$/['test'](_0x207520[_0x40bf8b(0x180)]))return{'isValid':![],'error':_0x40bf8b(0x148)};return{'isValid':!![]};}[a47_0x145f3d(0x174)](_0x40a3e8){const _0x5476ee=a47_0x145f3d,_0x5212ff=_0x40a3e8[_0x5476ee(0x154)](/[\s-]/g,'');if(_0x5212ff[_0x5476ee(0x155)]<0x4)return'****';return'****\x20****\x20****\x20'+_0x5212ff[_0x5476ee(0x16b)](-0x4);}[a47_0x145f3d(0x14a)](){const _0x1bb2d1=a47_0x145f3d,_0x450469=Date['now']()[_0x1bb2d1(0x15c)](),_0x489380=Math[_0x1bb2d1(0x144)](Math[_0x1bb2d1(0x150)]()*0x2710)[_0x1bb2d1(0x15c)]()[_0x1bb2d1(0x149)](0x4,'0');return _0x1bb2d1(0x162)+_0x450469+'_'+_0x489380;}async[a47_0x145f3d(0x15d)](_0x3443e3){const _0x2f05b5=a47_0x145f3d;return console['log'](_0x2f05b5(0x173),_0x3443e3),{'paymentId':_0x3443e3['order_id']||'','status':_0x3443e3[_0x2f05b5(0x14e)]===_0x2f05b5(0x153)?_0x2f05b5(0x172):_0x2f05b5(0x17d),'amount':_0x3443e3['amount'],'currency':_0x3443e3[_0x2f05b5(0x164)]};}}exports['TestGatewayService']=TestGatewayService;