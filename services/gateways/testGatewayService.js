'use strict';const a51_0xbe4df2=a51_0x5c97;(function(_0x35e8b1,_0x5ac930){const _0x32ac3b=a51_0x5c97,_0x4b0126=_0x35e8b1();while(!![]){try{const _0x556f37=-parseInt(_0x32ac3b(0x9a))/0x1*(parseInt(_0x32ac3b(0xb8))/0x2)+-parseInt(_0x32ac3b(0x91))/0x3*(parseInt(_0x32ac3b(0xc0))/0x4)+-parseInt(_0x32ac3b(0xa0))/0x5+parseInt(_0x32ac3b(0x99))/0x6*(parseInt(_0x32ac3b(0x84))/0x7)+-parseInt(_0x32ac3b(0x85))/0x8*(-parseInt(_0x32ac3b(0x8b))/0x9)+parseInt(_0x32ac3b(0xae))/0xa+-parseInt(_0x32ac3b(0x92))/0xb*(-parseInt(_0x32ac3b(0xac))/0xc);if(_0x556f37===_0x5ac930)break;else _0x4b0126['push'](_0x4b0126['shift']());}catch(_0x4686fd){_0x4b0126['push'](_0x4b0126['shift']());}}}(a51_0x381e,0x9e44e));function a51_0x381e(){const _0x1fbec9=['11rhtmDT','currency','Card\x20Holder:','‚úÖ\x20Test\x20payment\x20successful','Payment\x20processed\x20successfully','getFullYear','PAID','6lgakiG','1tstoLk','Card\x20holder\x20name\x20is\x20required','test_','4242424242424242','Card\x20Number:','FAILED','5184850bUcrKz','status','generateTransactionId','cardNumber','toString','test','CVC:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20validation\x20failed','now','Order\x20ID:','length','6227556iukknq','Payment\x20ID:','3230430gapirt','replace','trim','maskCardNumber','cvc','***','cardHolderName','defineProperty','order_id','log','418802lgODCl','error','validateCardData','Invalid\x20expiry\x20year','processWebhook','CVC\x20must\x20be\x203\x20or\x204\x20digits','SUCCESS_CARD','‚ùå\x20Card\x20validation\x20failed:','4ziBtDF','amount','random','floor','Card\x20number\x20must\x20be\x2016\x20digits','8412831wxyDRQ','128zskrgS','__esModule','TestGatewayService','Expiry:','padStart','expiryYear','562131WPSxXn','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Payment\x20failed','expiryMonth','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','****\x20****\x20****\x20','3445626xzbaKL'];a51_0x381e=function(){return _0x1fbec9;};return a51_0x381e();}function a51_0x5c97(_0x3aaaab,_0x4d2205){const _0x381e02=a51_0x381e();return a51_0x5c97=function(_0x5c976e,_0x248b49){_0x5c976e=_0x5c976e-0x80;let _0x2ca57b=_0x381e02[_0x5c976e];return _0x2ca57b;},a51_0x5c97(_0x3aaaab,_0x4d2205);}Object[a51_0xbe4df2(0xb5)](exports,a51_0xbe4df2(0x86),{'value':!![]}),exports[a51_0xbe4df2(0x87)]=void 0x0;class TestGatewayService{constructor(){const _0x27ffe1=a51_0xbe4df2;this['SUCCESS_CARD']=_0x27ffe1(0x9d),console[_0x27ffe1(0xb7)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async['processCardPayment'](_0x405cda){const _0x392e15=a51_0xbe4df2,{paymentId:_0x1041ee,orderId:_0x37721c,amount:_0x37187c,currency:_0x3588ac,cardData:_0x40ad8b}=_0x405cda;console[_0x392e15(0xb7)](_0x392e15(0x8c)),console[_0x392e15(0xb7)](_0x392e15(0xad),_0x1041ee),console[_0x392e15(0xb7)](_0x392e15(0xaa),_0x37721c),console[_0x392e15(0xb7)]('Amount:',_0x37187c,_0x3588ac),console[_0x392e15(0xb7)](_0x392e15(0x9e),this[_0x392e15(0xb1)](_0x40ad8b[_0x392e15(0xa3)])),console[_0x392e15(0xb7)](_0x392e15(0x94),_0x40ad8b[_0x392e15(0xb4)]),console[_0x392e15(0xb7)](_0x392e15(0x88),_0x40ad8b[_0x392e15(0x8e)]+'/'+_0x40ad8b[_0x392e15(0x8a)]),console[_0x392e15(0xb7)](_0x392e15(0xa6),_0x392e15(0xb3));const _0x275a79=this['validateCardData'](_0x40ad8b);if(!_0x275a79['isValid'])return console[_0x392e15(0xb7)](_0x392e15(0xbf),_0x275a79[_0x392e15(0xb9)]),{'success':![],'status':_0x392e15(0x9f),'message':_0x392e15(0xa8),'failureReason':_0x275a79['error']};const _0x447b46=_0x40ad8b['cardNumber'][_0x392e15(0xaf)](/[\s-]/g,'');if(_0x447b46===this[_0x392e15(0xbe)]){const _0x136d61=this['generateTransactionId']();return console[_0x392e15(0xb7)](_0x392e15(0x95)),console[_0x392e15(0xb7)]('Transaction\x20ID:',_0x136d61),{'success':!![],'status':_0x392e15(0x98),'message':_0x392e15(0x96),'transactionId':_0x136d61};}else return console[_0x392e15(0xb7)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x392e15(0x9f),'message':_0x392e15(0x8d),'failureReason':_0x392e15(0x8f)};}[a51_0xbe4df2(0xba)](_0x2512ed){const _0x4ffc75=a51_0xbe4df2,_0x1e321e=_0x2512ed[_0x4ffc75(0xa3)][_0x4ffc75(0xaf)](/[\s-]/g,'');if(!/^\d{16}$/[_0x4ffc75(0xa5)](_0x1e321e))return{'isValid':![],'error':_0x4ffc75(0x83)};if(!_0x2512ed[_0x4ffc75(0xb4)]||_0x2512ed['cardHolderName'][_0x4ffc75(0xb0)]()[_0x4ffc75(0xab)]<0x2)return{'isValid':![],'error':_0x4ffc75(0x9b)};const _0x31ddda=parseInt(_0x2512ed['expiryMonth']);if(isNaN(_0x31ddda)||_0x31ddda<0x1||_0x31ddda>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x1b1ba7=parseInt(_0x2512ed[_0x4ffc75(0x8a)]),_0x43007a=new Date()[_0x4ffc75(0x97)](),_0x1d776a=_0x1b1ba7<0x32?0x7d0+_0x1b1ba7:0x76c+_0x1b1ba7;if(isNaN(_0x1b1ba7)||_0x1d776a<_0x43007a||_0x1d776a>_0x43007a+0x14)return{'isValid':![],'error':_0x4ffc75(0xbb)};if(!/^\d{3,4}$/[_0x4ffc75(0xa5)](_0x2512ed[_0x4ffc75(0xb2)]))return{'isValid':![],'error':_0x4ffc75(0xbd)};return{'isValid':!![]};}[a51_0xbe4df2(0xb1)](_0x114e14){const _0x523d31=a51_0xbe4df2,_0x1d8cb7=_0x114e14[_0x523d31(0xaf)](/[\s-]/g,'');if(_0x1d8cb7[_0x523d31(0xab)]<0x4)return'****';return _0x523d31(0x90)+_0x1d8cb7['slice'](-0x4);}[a51_0xbe4df2(0xa2)](){const _0x3ad83f=a51_0xbe4df2,_0x5adc55=Date[_0x3ad83f(0xa9)]()[_0x3ad83f(0xa4)](),_0xdecbc3=Math[_0x3ad83f(0x82)](Math[_0x3ad83f(0x81)]()*0x2710)['toString']()[_0x3ad83f(0x89)](0x4,'0');return _0x3ad83f(0x9c)+_0x5adc55+'_'+_0xdecbc3;}async[a51_0xbe4df2(0xbc)](_0x155789){const _0x501d85=a51_0xbe4df2;return console[_0x501d85(0xb7)](_0x501d85(0xa7),_0x155789),{'paymentId':_0x155789[_0x501d85(0xb6)]||'','status':_0x155789[_0x501d85(0xa1)]==='success'?_0x501d85(0x98):_0x501d85(0x9f),'amount':_0x155789[_0x501d85(0x80)],'currency':_0x155789[_0x501d85(0x93)]};}}exports[a51_0xbe4df2(0x87)]=TestGatewayService;