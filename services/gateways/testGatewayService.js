'use strict';const a49_0x1364f1=a49_0x24ac;(function(_0x5b039d,_0x3d9913){const _0x2e4ace=a49_0x24ac,_0x588551=_0x5b039d();while(!![]){try{const _0x555a11=-parseInt(_0x2e4ace(0x175))/0x1*(-parseInt(_0x2e4ace(0x145))/0x2)+-parseInt(_0x2e4ace(0x164))/0x3+-parseInt(_0x2e4ace(0x15c))/0x4+-parseInt(_0x2e4ace(0x177))/0x5+-parseInt(_0x2e4ace(0x150))/0x6*(-parseInt(_0x2e4ace(0x14f))/0x7)+parseInt(_0x2e4ace(0x142))/0x8*(-parseInt(_0x2e4ace(0x14c))/0x9)+-parseInt(_0x2e4ace(0x167))/0xa*(-parseInt(_0x2e4ace(0x161))/0xb);if(_0x555a11===_0x3d9913)break;else _0x588551['push'](_0x588551['shift']());}catch(_0x144b0d){_0x588551['push'](_0x588551['shift']());}}}(a49_0x33fd,0xe2329));function a49_0x33fd(){const _0x15b308=['generateTransactionId','1748248YtiAwh','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','processCardPayment','3705962iGgiBE','expiryYear','TestGatewayService','isValid','random','defineProperty','currency','54AfgJFn','replace','Invalid\x20expiry\x20year','1531327pmAmue','12TYYeWx','****\x20****\x20****\x20','getFullYear','cardHolderName','CVC\x20must\x20be\x203\x20or\x204\x20digits','toString','SUCCESS_CARD','4242424242424242','success','Order\x20ID:','‚úÖ\x20Test\x20payment\x20successful','log','5624664eRZATc','floor','Card\x20validation\x20failed','test_','padStart','4708YreOXK','CVC:','Expiry:','5546757TqMkYP','üß™\x20Test\x20Gateway\x20service\x20initialized','Transaction\x20ID:','113830CjQjfc','Card\x20Holder:','processWebhook','PAID','now','cardNumber','__esModule','FAILED','Amount:','expiryMonth','validateCardData','test','order_id','trim','1bZnWTw','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','8348255XGlKUi','Payment\x20ID:','error','****','maskCardNumber','length','Payment\x20failed','Card\x20number\x20must\x20be\x2016\x20digits','Card\x20holder\x20name\x20is\x20required'];a49_0x33fd=function(){return _0x15b308;};return a49_0x33fd();}function a49_0x24ac(_0x52798b,_0x28c65a){const _0x33fd1e=a49_0x33fd();return a49_0x24ac=function(_0x24ac71,_0x237440){_0x24ac71=_0x24ac71-0x13b;let _0x2ace15=_0x33fd1e[_0x24ac71];return _0x2ace15;},a49_0x24ac(_0x52798b,_0x28c65a);}Object[a49_0x1364f1(0x14a)](exports,a49_0x1364f1(0x16d),{'value':!![]}),exports[a49_0x1364f1(0x147)]=void 0x0;class TestGatewayService{constructor(){const _0x3bb619=a49_0x1364f1;this[_0x3bb619(0x156)]=_0x3bb619(0x157),console[_0x3bb619(0x15b)](_0x3bb619(0x165));}async[a49_0x1364f1(0x144)](_0x502e21){const _0x297b5f=a49_0x1364f1,{paymentId:_0x25565d,orderId:_0x29e20f,amount:_0x2c1b51,currency:_0x3b27e8,cardData:_0x535cd9}=_0x502e21;console[_0x297b5f(0x15b)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x297b5f(0x15b)](_0x297b5f(0x178),_0x25565d),console['log'](_0x297b5f(0x159),_0x29e20f),console[_0x297b5f(0x15b)](_0x297b5f(0x16f),_0x2c1b51,_0x3b27e8),console['log']('Card\x20Number:',this['maskCardNumber'](_0x535cd9[_0x297b5f(0x16c)])),console[_0x297b5f(0x15b)](_0x297b5f(0x168),_0x535cd9['cardHolderName']),console[_0x297b5f(0x15b)](_0x297b5f(0x163),_0x535cd9[_0x297b5f(0x170)]+'/'+_0x535cd9[_0x297b5f(0x146)]),console[_0x297b5f(0x15b)](_0x297b5f(0x162),'***');const _0x4be308=this['validateCardData'](_0x535cd9);if(!_0x4be308[_0x297b5f(0x148)])return console[_0x297b5f(0x15b)]('‚ùå\x20Card\x20validation\x20failed:',_0x4be308[_0x297b5f(0x179)]),{'success':![],'status':_0x297b5f(0x16e),'message':_0x297b5f(0x15e),'failureReason':_0x4be308['error']};const _0x569c0d=_0x535cd9[_0x297b5f(0x16c)]['replace'](/[\s-]/g,'');if(_0x569c0d===this[_0x297b5f(0x156)]){const _0x244a4a=this[_0x297b5f(0x141)]();return console['log'](_0x297b5f(0x15a)),console[_0x297b5f(0x15b)](_0x297b5f(0x166),_0x244a4a),{'success':!![],'status':_0x297b5f(0x16a),'message':'Payment\x20processed\x20successfully','transactionId':_0x244a4a};}else return console[_0x297b5f(0x15b)](_0x297b5f(0x143)),{'success':![],'status':'FAILED','message':_0x297b5f(0x13e),'failureReason':_0x297b5f(0x176)};}[a49_0x1364f1(0x171)](_0x1f691a){const _0xdda4e3=a49_0x1364f1,_0x287e2c=_0x1f691a[_0xdda4e3(0x16c)][_0xdda4e3(0x14d)](/[\s-]/g,'');if(!/^\d{16}$/[_0xdda4e3(0x172)](_0x287e2c))return{'isValid':![],'error':_0xdda4e3(0x13f)};if(!_0x1f691a[_0xdda4e3(0x153)]||_0x1f691a['cardHolderName'][_0xdda4e3(0x174)]()[_0xdda4e3(0x13d)]<0x2)return{'isValid':![],'error':_0xdda4e3(0x140)};const _0x38c8b0=parseInt(_0x1f691a[_0xdda4e3(0x170)]);if(isNaN(_0x38c8b0)||_0x38c8b0<0x1||_0x38c8b0>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x1e8e91=parseInt(_0x1f691a[_0xdda4e3(0x146)]),_0x1bda31=new Date()[_0xdda4e3(0x152)](),_0x29a932=_0x1e8e91<0x32?0x7d0+_0x1e8e91:0x76c+_0x1e8e91;if(isNaN(_0x1e8e91)||_0x29a932<_0x1bda31||_0x29a932>_0x1bda31+0x14)return{'isValid':![],'error':_0xdda4e3(0x14e)};if(!/^\d{3,4}$/[_0xdda4e3(0x172)](_0x1f691a['cvc']))return{'isValid':![],'error':_0xdda4e3(0x154)};return{'isValid':!![]};}[a49_0x1364f1(0x13c)](_0x7d8675){const _0x385c13=a49_0x1364f1,_0x13a6ed=_0x7d8675[_0x385c13(0x14d)](/[\s-]/g,'');if(_0x13a6ed[_0x385c13(0x13d)]<0x4)return _0x385c13(0x13b);return _0x385c13(0x151)+_0x13a6ed['slice'](-0x4);}[a49_0x1364f1(0x141)](){const _0x3a203e=a49_0x1364f1,_0xcc73b4=Date[_0x3a203e(0x16b)]()[_0x3a203e(0x155)](),_0x22ee8d=Math[_0x3a203e(0x15d)](Math[_0x3a203e(0x149)]()*0x2710)[_0x3a203e(0x155)]()[_0x3a203e(0x160)](0x4,'0');return _0x3a203e(0x15f)+_0xcc73b4+'_'+_0x22ee8d;}async[a49_0x1364f1(0x169)](_0x97d508){const _0x30b6c0=a49_0x1364f1;return console[_0x30b6c0(0x15b)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x97d508),{'paymentId':_0x97d508[_0x30b6c0(0x173)]||'','status':_0x97d508['status']===_0x30b6c0(0x158)?'PAID':_0x30b6c0(0x16e),'amount':_0x97d508['amount'],'currency':_0x97d508[_0x30b6c0(0x14b)]};}}exports[a49_0x1364f1(0x147)]=TestGatewayService;