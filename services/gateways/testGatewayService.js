'use strict';const a47_0x11af94=a47_0x3a25;(function(_0xf825fc,_0x1f7074){const _0x49acc8=a47_0x3a25,_0x3e5390=_0xf825fc();while(!![]){try{const _0x3a3e54=parseInt(_0x49acc8(0x180))/0x1*(-parseInt(_0x49acc8(0x162))/0x2)+-parseInt(_0x49acc8(0x172))/0x3*(-parseInt(_0x49acc8(0x179))/0x4)+parseInt(_0x49acc8(0x18c))/0x5+parseInt(_0x49acc8(0x174))/0x6+-parseInt(_0x49acc8(0x199))/0x7*(-parseInt(_0x49acc8(0x17b))/0x8)+parseInt(_0x49acc8(0x17e))/0x9*(-parseInt(_0x49acc8(0x187))/0xa)+-parseInt(_0x49acc8(0x184))/0xb*(-parseInt(_0x49acc8(0x18b))/0xc);if(_0x3a3e54===_0x1f7074)break;else _0x3e5390['push'](_0x3e5390['shift']());}catch(_0x5966d1){_0x3e5390['push'](_0x3e5390['shift']());}}}(a47_0x237c,0x4cf71));Object['defineProperty'](exports,a47_0x11af94(0x175),{'value':!![]}),exports[a47_0x11af94(0x15b)]=void 0x0;function a47_0x3a25(_0x5d7611,_0x33e707){const _0x237cd9=a47_0x237c();return a47_0x3a25=function(_0x3a2571,_0x44aaca){_0x3a2571=_0x3a2571-0x157;let _0x34bc10=_0x237cd9[_0x3a2571];return _0x34bc10;},a47_0x3a25(_0x5d7611,_0x33e707);}function a47_0x237c(){const _0x1a7463=['expiryMonth','Order\x20ID:','4xtBYyj','Card\x20validation\x20failed','8DPunsY','generateTransactionId','Payment\x20ID:','54NzrPPx','replace','32425LDtyrG','order_id','test','floor','836ukoQvx','toString','Card\x20number\x20must\x20be\x2016\x20digits','295870iYWazX','PAID','Card\x20holder\x20name\x20is\x20required','Card\x20Holder:','15240FkYtza','1048525QJzads','Invalid\x20expiry\x20year','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','CVC\x20must\x20be\x203\x20or\x204\x20digits','expiryYear','success','Amount:','random','4242424242424242','isValid','log','****\x20****\x20****\x20','cardHolderName','1084636uyCVbS','padStart','slice','length','Transaction\x20ID:','processWebhook','TestGatewayService','maskCardNumber','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','test_','cvc','SUCCESS_CARD','trim','20RMERhF','Expiry:','cardNumber','****','‚ùå\x20Card\x20validation\x20failed:','Payment\x20processed\x20successfully','processCardPayment','validateCardData','Card\x20Number:','error','Invalid\x20expiry\x20month','amount','now','getFullYear','Payment\x20failed','***','423111URUuhU','‚úÖ\x20Test\x20payment\x20successful','1288866rvQKVS','__esModule','FAILED'];a47_0x237c=function(){return _0x1a7463;};return a47_0x237c();}class TestGatewayService{constructor(){const _0x1ab3eb=a47_0x11af94;this[_0x1ab3eb(0x160)]=_0x1ab3eb(0x194),console[_0x1ab3eb(0x196)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a47_0x11af94(0x168)](_0x5b1497){const _0x528ae1=a47_0x11af94,{paymentId:_0x4b249c,orderId:_0x572386,amount:_0x458e26,currency:_0x31900c,cardData:_0x519509}=_0x5b1497;console[_0x528ae1(0x196)](_0x528ae1(0x18e)),console[_0x528ae1(0x196)](_0x528ae1(0x17d),_0x4b249c),console[_0x528ae1(0x196)](_0x528ae1(0x178),_0x572386),console[_0x528ae1(0x196)](_0x528ae1(0x192),_0x458e26,_0x31900c),console['log'](_0x528ae1(0x16a),this['maskCardNumber'](_0x519509[_0x528ae1(0x164)])),console[_0x528ae1(0x196)](_0x528ae1(0x18a),_0x519509['cardHolderName']),console['log'](_0x528ae1(0x163),_0x519509[_0x528ae1(0x177)]+'/'+_0x519509[_0x528ae1(0x190)]),console[_0x528ae1(0x196)]('CVC:',_0x528ae1(0x171));const _0x1584bf=this['validateCardData'](_0x519509);if(!_0x1584bf[_0x528ae1(0x195)])return console[_0x528ae1(0x196)](_0x528ae1(0x166),_0x1584bf[_0x528ae1(0x16b)]),{'success':![],'status':_0x528ae1(0x176),'message':_0x528ae1(0x17a),'failureReason':_0x1584bf['error']};const _0x5ae75a=_0x519509[_0x528ae1(0x164)][_0x528ae1(0x17f)](/[\s-]/g,'');if(_0x5ae75a===this[_0x528ae1(0x160)]){const _0x1ff365=this[_0x528ae1(0x17c)]();return console[_0x528ae1(0x196)](_0x528ae1(0x173)),console[_0x528ae1(0x196)](_0x528ae1(0x159),_0x1ff365),{'success':!![],'status':_0x528ae1(0x188),'message':_0x528ae1(0x167),'transactionId':_0x1ff365};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x528ae1(0x176),'message':_0x528ae1(0x170),'failureReason':_0x528ae1(0x15d)};}[a47_0x11af94(0x169)](_0x3b3854){const _0x338a1e=a47_0x11af94,_0x436bd3=_0x3b3854['cardNumber'][_0x338a1e(0x17f)](/[\s-]/g,'');if(!/^\d{16}$/[_0x338a1e(0x182)](_0x436bd3))return{'isValid':![],'error':_0x338a1e(0x186)};if(!_0x3b3854[_0x338a1e(0x198)]||_0x3b3854[_0x338a1e(0x198)][_0x338a1e(0x161)]()[_0x338a1e(0x158)]<0x2)return{'isValid':![],'error':_0x338a1e(0x189)};const _0x366614=parseInt(_0x3b3854[_0x338a1e(0x177)]);if(isNaN(_0x366614)||_0x366614<0x1||_0x366614>0xc)return{'isValid':![],'error':_0x338a1e(0x16c)};const _0xc77d6b=parseInt(_0x3b3854[_0x338a1e(0x190)]),_0x467b76=new Date()[_0x338a1e(0x16f)](),_0x45b948=_0xc77d6b<0x32?0x7d0+_0xc77d6b:0x76c+_0xc77d6b;if(isNaN(_0xc77d6b)||_0x45b948<_0x467b76||_0x45b948>_0x467b76+0x14)return{'isValid':![],'error':_0x338a1e(0x18d)};if(!/^\d{3,4}$/[_0x338a1e(0x182)](_0x3b3854[_0x338a1e(0x15f)]))return{'isValid':![],'error':_0x338a1e(0x18f)};return{'isValid':!![]};}[a47_0x11af94(0x15c)](_0x4fb7ad){const _0x1913d5=a47_0x11af94,_0x45ed69=_0x4fb7ad['replace'](/[\s-]/g,'');if(_0x45ed69[_0x1913d5(0x158)]<0x4)return _0x1913d5(0x165);return _0x1913d5(0x197)+_0x45ed69[_0x1913d5(0x157)](-0x4);}[a47_0x11af94(0x17c)](){const _0x4e9ecc=a47_0x11af94,_0x594dff=Date[_0x4e9ecc(0x16e)]()[_0x4e9ecc(0x185)](),_0x458f9c=Math[_0x4e9ecc(0x183)](Math[_0x4e9ecc(0x193)]()*0x2710)[_0x4e9ecc(0x185)]()[_0x4e9ecc(0x19a)](0x4,'0');return _0x4e9ecc(0x15e)+_0x594dff+'_'+_0x458f9c;}async[a47_0x11af94(0x15a)](_0x1720b8){const _0x532114=a47_0x11af94;return console[_0x532114(0x196)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x1720b8),{'paymentId':_0x1720b8[_0x532114(0x181)]||'','status':_0x1720b8['status']===_0x532114(0x191)?_0x532114(0x188):_0x532114(0x176),'amount':_0x1720b8[_0x532114(0x16d)],'currency':_0x1720b8['currency']};}}exports[a47_0x11af94(0x15b)]=TestGatewayService;