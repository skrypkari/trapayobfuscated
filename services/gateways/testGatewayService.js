'use strict';function a49_0x222f(_0x375a1d,_0x18e1a6){const _0x17c81a=a49_0x17c8();return a49_0x222f=function(_0x222f59,_0x3236a8){_0x222f59=_0x222f59-0x188;let _0x4bd8fb=_0x17c81a[_0x222f59];return _0x4bd8fb;},a49_0x222f(_0x375a1d,_0x18e1a6);}function a49_0x17c8(){const _0x587815=['getFullYear','TestGatewayService','SUCCESS_CARD','Card\x20Number:','CVC:','order_id','random','test','439176kHgVOG','6460430lTndJA','11435kXXNbt','log','1074nIGSlW','cardNumber','replace','processWebhook','expiryMonth','status','****\x20****\x20****\x20','PAID','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','validateCardData','Amount:','900573dIHBJc','4242424242424242','amount','33KYOnGo','FAILED','Invalid\x20expiry\x20year','Payment\x20processed\x20successfully','Order\x20ID:','__esModule','Card\x20validation\x20failed','maskCardNumber','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','1234562lgoDOM','error','cvc','success','Card\x20Holder:','expiryYear','defineProperty','466IiFHmm','currency','toString','test_','8jmobSG','isValid','cardHolderName','generateTransactionId','üß™\x20Test\x20Gateway\x20service\x20initialized','floor','Payment\x20failed','trim','2026XeWGeC','slice','length','‚ùå\x20Card\x20validation\x20failed:','processCardPayment','6307956SWxXnL'];a49_0x17c8=function(){return _0x587815;};return a49_0x17c8();}const a49_0x40179e=a49_0x222f;(function(_0x240d1b,_0x332991){const _0x11203b=a49_0x222f,_0x269abe=_0x240d1b();while(!![]){try{const _0x5b89ad=parseInt(_0x11203b(0x194))/0x1*(parseInt(_0x11203b(0x188))/0x2)+-parseInt(_0x11203b(0x1b1))/0x3*(-parseInt(_0x11203b(0x18c))/0x4)+-parseInt(_0x11203b(0x1a4))/0x5*(-parseInt(_0x11203b(0x1a6))/0x6)+parseInt(_0x11203b(0x1bd))/0x7+-parseInt(_0x11203b(0x1a2))/0x8+parseInt(_0x11203b(0x199))/0x9+parseInt(_0x11203b(0x1a3))/0xa*(-parseInt(_0x11203b(0x1b4))/0xb);if(_0x5b89ad===_0x332991)break;else _0x269abe['push'](_0x269abe['shift']());}catch(_0x16f302){_0x269abe['push'](_0x269abe['shift']());}}}(a49_0x17c8,0x595d5));Object[a49_0x40179e(0x1c3)](exports,a49_0x40179e(0x1b9),{'value':!![]}),exports[a49_0x40179e(0x19b)]=void 0x0;class TestGatewayService{constructor(){const _0x25efdb=a49_0x40179e;this[_0x25efdb(0x19c)]=_0x25efdb(0x1b2),console[_0x25efdb(0x1a5)](_0x25efdb(0x190));}async[a49_0x40179e(0x198)](_0x1cd2f0){const _0x41db3f=a49_0x40179e,{paymentId:_0x1845d6,orderId:_0x547a26,amount:_0x2ceb75,currency:_0x469dcf,cardData:_0x7170d5}=_0x1cd2f0;console['log'](_0x41db3f(0x1bc)),console[_0x41db3f(0x1a5)]('Payment\x20ID:',_0x1845d6),console['log'](_0x41db3f(0x1b8),_0x547a26),console[_0x41db3f(0x1a5)](_0x41db3f(0x1b0),_0x2ceb75,_0x469dcf),console[_0x41db3f(0x1a5)](_0x41db3f(0x19d),this['maskCardNumber'](_0x7170d5[_0x41db3f(0x1a7)])),console[_0x41db3f(0x1a5)](_0x41db3f(0x1c1),_0x7170d5[_0x41db3f(0x18e)]),console[_0x41db3f(0x1a5)]('Expiry:',_0x7170d5[_0x41db3f(0x1aa)]+'/'+_0x7170d5[_0x41db3f(0x1c2)]),console[_0x41db3f(0x1a5)](_0x41db3f(0x19e),'***');const _0x3f4623=this['validateCardData'](_0x7170d5);if(!_0x3f4623[_0x41db3f(0x18d)])return console[_0x41db3f(0x1a5)](_0x41db3f(0x197),_0x3f4623[_0x41db3f(0x1be)]),{'success':![],'status':_0x41db3f(0x1b5),'message':_0x41db3f(0x1ba),'failureReason':_0x3f4623[_0x41db3f(0x1be)]};const _0xfdbfe7=_0x7170d5[_0x41db3f(0x1a7)][_0x41db3f(0x1a8)](/[\s-]/g,'');if(_0xfdbfe7===this[_0x41db3f(0x19c)]){const _0x52add4=this[_0x41db3f(0x18f)]();return console[_0x41db3f(0x1a5)]('‚úÖ\x20Test\x20payment\x20successful'),console['log']('Transaction\x20ID:',_0x52add4),{'success':!![],'status':'PAID','message':_0x41db3f(0x1b7),'transactionId':_0x52add4};}else return console['log']('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':_0x41db3f(0x192),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a49_0x40179e(0x1af)](_0x566ae1){const _0x43aadc=a49_0x40179e,_0x5c9566=_0x566ae1['cardNumber']['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x43aadc(0x1a1)](_0x5c9566))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x566ae1[_0x43aadc(0x18e)]||_0x566ae1[_0x43aadc(0x18e)][_0x43aadc(0x193)]()[_0x43aadc(0x196)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x22e64e=parseInt(_0x566ae1[_0x43aadc(0x1aa)]);if(isNaN(_0x22e64e)||_0x22e64e<0x1||_0x22e64e>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x3ce2a6=parseInt(_0x566ae1[_0x43aadc(0x1c2)]),_0xea8a2f=new Date()[_0x43aadc(0x19a)](),_0x12d03f=_0x3ce2a6<0x32?0x7d0+_0x3ce2a6:0x76c+_0x3ce2a6;if(isNaN(_0x3ce2a6)||_0x12d03f<_0xea8a2f||_0x12d03f>_0xea8a2f+0x14)return{'isValid':![],'error':_0x43aadc(0x1b6)};if(!/^\d{3,4}$/[_0x43aadc(0x1a1)](_0x566ae1[_0x43aadc(0x1bf)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a49_0x40179e(0x1bb)](_0x31e722){const _0x387b12=a49_0x40179e,_0x1b4c08=_0x31e722[_0x387b12(0x1a8)](/[\s-]/g,'');if(_0x1b4c08[_0x387b12(0x196)]<0x4)return'****';return _0x387b12(0x1ac)+_0x1b4c08[_0x387b12(0x195)](-0x4);}['generateTransactionId'](){const _0x79cd32=a49_0x40179e,_0x351618=Date['now']()[_0x79cd32(0x18a)](),_0x2fde0d=Math[_0x79cd32(0x191)](Math[_0x79cd32(0x1a0)]()*0x2710)[_0x79cd32(0x18a)]()['padStart'](0x4,'0');return _0x79cd32(0x18b)+_0x351618+'_'+_0x2fde0d;}async[a49_0x40179e(0x1a9)](_0x49e264){const _0xcf65f2=a49_0x40179e;return console[_0xcf65f2(0x1a5)](_0xcf65f2(0x1ae),_0x49e264),{'paymentId':_0x49e264[_0xcf65f2(0x19f)]||'','status':_0x49e264[_0xcf65f2(0x1ab)]===_0xcf65f2(0x1c0)?_0xcf65f2(0x1ad):_0xcf65f2(0x1b5),'amount':_0x49e264[_0xcf65f2(0x1b3)],'currency':_0x49e264[_0xcf65f2(0x189)]};}}exports[a49_0x40179e(0x19b)]=TestGatewayService;