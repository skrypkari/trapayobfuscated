'use strict';const a51_0x48a9ca=a51_0x4d95;(function(_0x958950,_0x3aee2b){const _0x27387b=a51_0x4d95,_0x425e19=_0x958950();while(!![]){try{const _0x4fa2f1=parseInt(_0x27387b(0x1f4))/0x1+-parseInt(_0x27387b(0x1fb))/0x2+-parseInt(_0x27387b(0x1e8))/0x3*(-parseInt(_0x27387b(0x20a))/0x4)+-parseInt(_0x27387b(0x1e3))/0x5*(-parseInt(_0x27387b(0x204))/0x6)+parseInt(_0x27387b(0x1f1))/0x7+parseInt(_0x27387b(0x207))/0x8*(parseInt(_0x27387b(0x1fa))/0x9)+parseInt(_0x27387b(0x200))/0xa*(-parseInt(_0x27387b(0x1ff))/0xb);if(_0x4fa2f1===_0x3aee2b)break;else _0x425e19['push'](_0x425e19['shift']());}catch(_0x390df5){_0x425e19['push'](_0x425e19['shift']());}}}(a51_0x46bb,0x1a63f));Object[a51_0x48a9ca(0x1ed)](exports,a51_0x48a9ca(0x20c),{'value':!![]}),exports[a51_0x48a9ca(0x1fc)]=void 0x0;function a51_0x46bb(){const _0x54ce1a=['trim','error','generateTransactionId','processWebhook','Invalid\x20expiry\x20year','Card\x20holder\x20name\x20is\x20required','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Expiry:','Payment\x20failed','now','‚úÖ\x20Test\x20payment\x20successful','validateCardData','log','10RgZGgX','floor','replace','PAID','****','196239SNcown','SUCCESS_CARD','expiryMonth','toString','Invalid\x20expiry\x20month','defineProperty','Transaction\x20ID:','cvc','getFullYear','1087891YhsNhP','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','CVC\x20must\x20be\x203\x20or\x204\x20digits','140212FjekVe','padStart','FAILED','status','Card\x20validation\x20failed','success','2988XJTMOp','396906zmoFwb','TestGatewayService','length','test_','33EbcElZ','965730tZloCv','random','Payment\x20processed\x20successfully','test','263436yuNdBU','amount','Order\x20ID:','1976zPZXTM','isValid','üß™\x20Test\x20Gateway\x20service\x20initialized','8ptjkFS','currency','__esModule','Card\x20Number:','cardHolderName','cardNumber','Card\x20number\x20must\x20be\x2016\x20digits','expiryYear'];a51_0x46bb=function(){return _0x54ce1a;};return a51_0x46bb();}function a51_0x4d95(_0x412bac,_0x3969d4){const _0x46bb6f=a51_0x46bb();return a51_0x4d95=function(_0x4d9544,_0x930f89){_0x4d9544=_0x4d9544-0x1d5;let _0x180970=_0x46bb6f[_0x4d9544];return _0x180970;},a51_0x4d95(_0x412bac,_0x3969d4);}class TestGatewayService{constructor(){const _0x371b64=a51_0x48a9ca;this['SUCCESS_CARD']='4242424242424242',console[_0x371b64(0x1e2)](_0x371b64(0x209));}async['processCardPayment'](_0x518f3a){const _0x26043d=a51_0x48a9ca,{paymentId:_0x39f7c3,orderId:_0x37a7ae,amount:_0xfa04ac,currency:_0x151630,cardData:_0x2170a3}=_0x518f3a;console[_0x26043d(0x1e2)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console['log']('Payment\x20ID:',_0x39f7c3),console['log'](_0x26043d(0x206),_0x37a7ae),console[_0x26043d(0x1e2)]('Amount:',_0xfa04ac,_0x151630),console[_0x26043d(0x1e2)](_0x26043d(0x20d),this['maskCardNumber'](_0x2170a3[_0x26043d(0x20f)])),console[_0x26043d(0x1e2)]('Card\x20Holder:',_0x2170a3[_0x26043d(0x20e)]),console[_0x26043d(0x1e2)](_0x26043d(0x1dd),_0x2170a3['expiryMonth']+'/'+_0x2170a3[_0x26043d(0x1d5)]),console[_0x26043d(0x1e2)]('CVC:','***');const _0x582a50=this[_0x26043d(0x1e1)](_0x2170a3);if(!_0x582a50[_0x26043d(0x208)])return console[_0x26043d(0x1e2)]('‚ùå\x20Card\x20validation\x20failed:',_0x582a50[_0x26043d(0x1d7)]),{'success':![],'status':_0x26043d(0x1f6),'message':_0x26043d(0x1f8),'failureReason':_0x582a50[_0x26043d(0x1d7)]};const _0x419cc0=_0x2170a3[_0x26043d(0x20f)][_0x26043d(0x1e5)](/[\s-]/g,'');if(_0x419cc0===this[_0x26043d(0x1e9)]){const _0x363d40=this[_0x26043d(0x1d8)]();return console[_0x26043d(0x1e2)](_0x26043d(0x1e0)),console['log'](_0x26043d(0x1ee),_0x363d40),{'success':!![],'status':_0x26043d(0x1e6),'message':_0x26043d(0x202),'transactionId':_0x363d40};}else return console[_0x26043d(0x1e2)](_0x26043d(0x1f2)),{'success':![],'status':_0x26043d(0x1f6),'message':_0x26043d(0x1de),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a51_0x48a9ca(0x1e1)](_0x140ec7){const _0x5162cc=a51_0x48a9ca,_0x42b25f=_0x140ec7[_0x5162cc(0x20f)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x5162cc(0x203)](_0x42b25f))return{'isValid':![],'error':_0x5162cc(0x210)};if(!_0x140ec7[_0x5162cc(0x20e)]||_0x140ec7[_0x5162cc(0x20e)][_0x5162cc(0x1d6)]()[_0x5162cc(0x1fd)]<0x2)return{'isValid':![],'error':_0x5162cc(0x1db)};const _0x397d3c=parseInt(_0x140ec7[_0x5162cc(0x1ea)]);if(isNaN(_0x397d3c)||_0x397d3c<0x1||_0x397d3c>0xc)return{'isValid':![],'error':_0x5162cc(0x1ec)};const _0x383af2=parseInt(_0x140ec7[_0x5162cc(0x1d5)]),_0x2257f1=new Date()[_0x5162cc(0x1f0)](),_0x4d43bd=_0x383af2<0x32?0x7d0+_0x383af2:0x76c+_0x383af2;if(isNaN(_0x383af2)||_0x4d43bd<_0x2257f1||_0x4d43bd>_0x2257f1+0x14)return{'isValid':![],'error':_0x5162cc(0x1da)};if(!/^\d{3,4}$/[_0x5162cc(0x203)](_0x140ec7[_0x5162cc(0x1ef)]))return{'isValid':![],'error':_0x5162cc(0x1f3)};return{'isValid':!![]};}['maskCardNumber'](_0x4c6687){const _0x452364=a51_0x48a9ca,_0x5d5626=_0x4c6687[_0x452364(0x1e5)](/[\s-]/g,'');if(_0x5d5626[_0x452364(0x1fd)]<0x4)return _0x452364(0x1e7);return'****\x20****\x20****\x20'+_0x5d5626['slice'](-0x4);}[a51_0x48a9ca(0x1d8)](){const _0x25e00c=a51_0x48a9ca,_0x20b496=Date[_0x25e00c(0x1df)]()[_0x25e00c(0x1eb)](),_0x2bc1e6=Math[_0x25e00c(0x1e4)](Math[_0x25e00c(0x201)]()*0x2710)['toString']()[_0x25e00c(0x1f5)](0x4,'0');return _0x25e00c(0x1fe)+_0x20b496+'_'+_0x2bc1e6;}async[a51_0x48a9ca(0x1d9)](_0x23fa30){const _0x605d98=a51_0x48a9ca;return console['log'](_0x605d98(0x1dc),_0x23fa30),{'paymentId':_0x23fa30['order_id']||'','status':_0x23fa30[_0x605d98(0x1f7)]===_0x605d98(0x1f9)?_0x605d98(0x1e6):_0x605d98(0x1f6),'amount':_0x23fa30[_0x605d98(0x205)],'currency':_0x23fa30[_0x605d98(0x20b)]};}}exports['TestGatewayService']=TestGatewayService;