'use strict';const a47_0x28e3e8=a47_0x573c;(function(_0x4cf5bb,_0x6b277a){const _0x164926=a47_0x573c,_0x16086b=_0x4cf5bb();while(!![]){try{const _0x95ac3b=parseInt(_0x164926(0x1a5))/0x1+parseInt(_0x164926(0x199))/0x2+-parseInt(_0x164926(0x194))/0x3+parseInt(_0x164926(0x1b2))/0x4+parseInt(_0x164926(0x19f))/0x5*(parseInt(_0x164926(0x18f))/0x6)+-parseInt(_0x164926(0x18a))/0x7*(parseInt(_0x164926(0x1a0))/0x8)+parseInt(_0x164926(0x1b0))/0x9;if(_0x95ac3b===_0x6b277a)break;else _0x16086b['push'](_0x16086b['shift']());}catch(_0x56c36a){_0x16086b['push'](_0x16086b['shift']());}}}(a47_0x2813,0xafdba));function a47_0x573c(_0x29c719,_0x7f7674){const _0x2813d3=a47_0x2813();return a47_0x573c=function(_0x573cbd,_0x9a0298){_0x573cbd=_0x573cbd-0x17f;let _0x536a8e=_0x2813d3[_0x573cbd];return _0x536a8e;},a47_0x573c(_0x29c719,_0x7f7674);}function a47_0x2813(){const _0x57dcb4=['4242424242424242','CVC:','585090SlSBeM','test_','Payment\x20processed\x20successfully','trim','Invalid\x20expiry\x20month','PAID','2677770wATzMd','2097016gXiYhY','slice','order_id','‚úÖ\x20Test\x20payment\x20successful','Card\x20Holder:','244157AaRteg','****','length','log','Payment\x20failed','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','***','replace','amount','generateTransactionId','error','2218167AOwFPs','‚ùå\x20Card\x20validation\x20failed:','3893492aGuJKx','TestGatewayService','SUCCESS_CARD','maskCardNumber','status','validateCardData','Amount:','processWebhook','Card\x20holder\x20name\x20is\x20required','toString','processCardPayment','__esModule','success','currency','test','14gqTvus','cardHolderName','cardNumber','cvc','Order\x20ID:','6qcgzWQ','now','FAILED','expiryMonth','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','3142572SnMDny','Card\x20validation\x20failed','Transaction\x20ID:'];a47_0x2813=function(){return _0x57dcb4;};return a47_0x2813();}Object['defineProperty'](exports,a47_0x28e3e8(0x186),{'value':!![]}),exports[a47_0x28e3e8(0x1b3)]=void 0x0;class TestGatewayService{constructor(){const _0x15ef54=a47_0x28e3e8;this[_0x15ef54(0x1b4)]=_0x15ef54(0x197),console[_0x15ef54(0x1a8)]('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a47_0x28e3e8(0x185)](_0x5478a7){const _0x2d54de=a47_0x28e3e8,{paymentId:_0x2aa977,orderId:_0xd60aee,amount:_0x3170bf,currency:_0x50c69c,cardData:_0x23e741}=_0x5478a7;console[_0x2d54de(0x1a8)](_0x2d54de(0x193)),console[_0x2d54de(0x1a8)]('Payment\x20ID:',_0x2aa977),console['log'](_0x2d54de(0x18e),_0xd60aee),console[_0x2d54de(0x1a8)](_0x2d54de(0x181),_0x3170bf,_0x50c69c),console[_0x2d54de(0x1a8)]('Card\x20Number:',this['maskCardNumber'](_0x23e741[_0x2d54de(0x18c)])),console['log'](_0x2d54de(0x1a4),_0x23e741[_0x2d54de(0x18b)]),console[_0x2d54de(0x1a8)]('Expiry:',_0x23e741[_0x2d54de(0x192)]+'/'+_0x23e741['expiryYear']),console[_0x2d54de(0x1a8)](_0x2d54de(0x198),_0x2d54de(0x1ab));const _0x311249=this[_0x2d54de(0x180)](_0x23e741);if(!_0x311249['isValid'])return console[_0x2d54de(0x1a8)](_0x2d54de(0x1b1),_0x311249['error']),{'success':![],'status':'FAILED','message':_0x2d54de(0x195),'failureReason':_0x311249[_0x2d54de(0x1af)]};const _0x41fbd8=_0x23e741[_0x2d54de(0x18c)]['replace'](/[\s-]/g,'');if(_0x41fbd8===this[_0x2d54de(0x1b4)]){const _0x4793ac=this[_0x2d54de(0x1ae)]();return console[_0x2d54de(0x1a8)](_0x2d54de(0x1a3)),console[_0x2d54de(0x1a8)](_0x2d54de(0x196),_0x4793ac),{'success':!![],'status':_0x2d54de(0x19e),'message':_0x2d54de(0x19b),'transactionId':_0x4793ac};}else return console[_0x2d54de(0x1a8)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x2d54de(0x191),'message':_0x2d54de(0x1a9),'failureReason':_0x2d54de(0x1aa)};}[a47_0x28e3e8(0x180)](_0x14c26f){const _0x2190f7=a47_0x28e3e8,_0x4c33d1=_0x14c26f['cardNumber'][_0x2190f7(0x1ac)](/[\s-]/g,'');if(!/^\d{16}$/[_0x2190f7(0x189)](_0x4c33d1))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x14c26f[_0x2190f7(0x18b)]||_0x14c26f[_0x2190f7(0x18b)][_0x2190f7(0x19c)]()['length']<0x2)return{'isValid':![],'error':_0x2190f7(0x183)};const _0x4f7bdd=parseInt(_0x14c26f[_0x2190f7(0x192)]);if(isNaN(_0x4f7bdd)||_0x4f7bdd<0x1||_0x4f7bdd>0xc)return{'isValid':![],'error':_0x2190f7(0x19d)};const _0x5a73ce=parseInt(_0x14c26f['expiryYear']),_0x3290db=new Date()['getFullYear'](),_0x93bc26=_0x5a73ce<0x32?0x7d0+_0x5a73ce:0x76c+_0x5a73ce;if(isNaN(_0x5a73ce)||_0x93bc26<_0x3290db||_0x93bc26>_0x3290db+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x14c26f[_0x2190f7(0x18d)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a47_0x28e3e8(0x1b5)](_0x285988){const _0x910f94=a47_0x28e3e8,_0x22308f=_0x285988[_0x910f94(0x1ac)](/[\s-]/g,'');if(_0x22308f[_0x910f94(0x1a7)]<0x4)return _0x910f94(0x1a6);return'****\x20****\x20****\x20'+_0x22308f[_0x910f94(0x1a1)](-0x4);}[a47_0x28e3e8(0x1ae)](){const _0x2b2b8f=a47_0x28e3e8,_0x29ff8b=Date[_0x2b2b8f(0x190)]()[_0x2b2b8f(0x184)](),_0x1daf9c=Math['floor'](Math['random']()*0x2710)[_0x2b2b8f(0x184)]()['padStart'](0x4,'0');return _0x2b2b8f(0x19a)+_0x29ff8b+'_'+_0x1daf9c;}async[a47_0x28e3e8(0x182)](_0xcbdca7){const _0x3c70a3=a47_0x28e3e8;return console[_0x3c70a3(0x1a8)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0xcbdca7),{'paymentId':_0xcbdca7[_0x3c70a3(0x1a2)]||'','status':_0xcbdca7[_0x3c70a3(0x17f)]===_0x3c70a3(0x187)?_0x3c70a3(0x19e):_0x3c70a3(0x191),'amount':_0xcbdca7[_0x3c70a3(0x1ad)],'currency':_0xcbdca7[_0x3c70a3(0x188)]};}}exports[a47_0x28e3e8(0x1b3)]=TestGatewayService;