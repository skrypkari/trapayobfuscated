'use strict';const a49_0x1b3de6=a49_0x98d1;(function(_0x5dca23,_0x587076){const _0xd1de6f=a49_0x98d1,_0x298ada=_0x5dca23();while(!![]){try{const _0x231eb6=parseInt(_0xd1de6f(0x14a))/0x1+-parseInt(_0xd1de6f(0x157))/0x2+-parseInt(_0xd1de6f(0x15d))/0x3+parseInt(_0xd1de6f(0x13d))/0x4*(parseInt(_0xd1de6f(0x148))/0x5)+-parseInt(_0xd1de6f(0x15c))/0x6*(parseInt(_0xd1de6f(0x14f))/0x7)+parseInt(_0xd1de6f(0x16a))/0x8*(-parseInt(_0xd1de6f(0x16d))/0x9)+parseInt(_0xd1de6f(0x13f))/0xa*(parseInt(_0xd1de6f(0x162))/0xb);if(_0x231eb6===_0x587076)break;else _0x298ada['push'](_0x298ada['shift']());}catch(_0x5dcfa6){_0x298ada['push'](_0x298ada['shift']());}}}(a49_0x17d9,0xc48b4));function a49_0x98d1(_0xd14f3,_0xcc3d30){const _0x17d903=a49_0x17d9();return a49_0x98d1=function(_0x98d1b3,_0x40e289){_0x98d1b3=_0x98d1b3-0x13c;let _0x5fc79d=_0x17d903[_0x98d1b3];return _0x5fc79d;},a49_0x98d1(_0xd14f3,_0xcc3d30);}Object['defineProperty'](exports,a49_0x1b3de6(0x142),{'value':!![]}),exports[a49_0x1b3de6(0x167)]=void 0x0;class TestGatewayService{constructor(){const _0x2c21db=a49_0x1b3de6;this[_0x2c21db(0x165)]='4242424242424242',console['log']('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a49_0x1b3de6(0x14c)](_0x1ba59f){const _0x378a70=a49_0x1b3de6,{paymentId:_0x145ce0,orderId:_0x231d3b,amount:_0x5204dd,currency:_0x577e2e,cardData:_0x297167}=_0x1ba59f;console[_0x378a70(0x14b)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x378a70(0x14b)](_0x378a70(0x13e),_0x145ce0),console[_0x378a70(0x14b)]('Order\x20ID:',_0x231d3b),console[_0x378a70(0x14b)](_0x378a70(0x161),_0x5204dd,_0x577e2e),console[_0x378a70(0x14b)]('Card\x20Number:',this['maskCardNumber'](_0x297167[_0x378a70(0x150)])),console[_0x378a70(0x14b)](_0x378a70(0x168),_0x297167[_0x378a70(0x14e)]),console[_0x378a70(0x14b)](_0x378a70(0x145),_0x297167[_0x378a70(0x15a)]+'/'+_0x297167[_0x378a70(0x166)]),console[_0x378a70(0x14b)]('CVC:','***');const _0x616bb5=this['validateCardData'](_0x297167);if(!_0x616bb5[_0x378a70(0x147)])return console[_0x378a70(0x14b)]('‚ùå\x20Card\x20validation\x20failed:',_0x616bb5[_0x378a70(0x14d)]),{'success':![],'status':_0x378a70(0x13c),'message':_0x378a70(0x164),'failureReason':_0x616bb5[_0x378a70(0x14d)]};const _0x337533=_0x297167['cardNumber'][_0x378a70(0x149)](/[\s-]/g,'');if(_0x337533===this[_0x378a70(0x165)]){const _0x5e4511=this['generateTransactionId']();return console[_0x378a70(0x14b)](_0x378a70(0x144)),console[_0x378a70(0x14b)](_0x378a70(0x143),_0x5e4511),{'success':!![],'status':_0x378a70(0x151),'message':_0x378a70(0x156),'transactionId':_0x5e4511};}else return console[_0x378a70(0x14b)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x378a70(0x13c),'message':'Payment\x20failed','failureReason':_0x378a70(0x15f)};}['validateCardData'](_0x183c4d){const _0x59bb9f=a49_0x1b3de6,_0x261bb7=_0x183c4d[_0x59bb9f(0x150)][_0x59bb9f(0x149)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x261bb7))return{'isValid':![],'error':_0x59bb9f(0x146)};if(!_0x183c4d['cardHolderName']||_0x183c4d['cardHolderName']['trim']()[_0x59bb9f(0x15e)]<0x2)return{'isValid':![],'error':_0x59bb9f(0x15b)};const _0x154ef4=parseInt(_0x183c4d[_0x59bb9f(0x15a)]);if(isNaN(_0x154ef4)||_0x154ef4<0x1||_0x154ef4>0xc)return{'isValid':![],'error':_0x59bb9f(0x16c)};const _0x4b06a9=parseInt(_0x183c4d[_0x59bb9f(0x166)]),_0x26ffea=new Date()[_0x59bb9f(0x154)](),_0x39106d=_0x4b06a9<0x32?0x7d0+_0x4b06a9:0x76c+_0x4b06a9;if(isNaN(_0x4b06a9)||_0x39106d<_0x26ffea||_0x39106d>_0x26ffea+0x14)return{'isValid':![],'error':_0x59bb9f(0x141)};if(!/^\d{3,4}$/['test'](_0x183c4d[_0x59bb9f(0x152)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x20b7d9){const _0x39dd0=a49_0x1b3de6,_0xc0112=_0x20b7d9[_0x39dd0(0x149)](/[\s-]/g,'');if(_0xc0112[_0x39dd0(0x15e)]<0x4)return _0x39dd0(0x16f);return _0x39dd0(0x163)+_0xc0112[_0x39dd0(0x160)](-0x4);}[a49_0x1b3de6(0x159)](){const _0x17b8ab=a49_0x1b3de6,_0x33b55a=Date[_0x17b8ab(0x153)]()[_0x17b8ab(0x16b)](),_0x90850e=Math['floor'](Math['random']()*0x2710)[_0x17b8ab(0x16b)]()['padStart'](0x4,'0');return'test_'+_0x33b55a+'_'+_0x90850e;}async[a49_0x1b3de6(0x158)](_0x1fc346){const _0x59acb5=a49_0x1b3de6;return console[_0x59acb5(0x14b)](_0x59acb5(0x16e),_0x1fc346),{'paymentId':_0x1fc346[_0x59acb5(0x140)]||'','status':_0x1fc346['status']==='success'?_0x59acb5(0x151):_0x59acb5(0x13c),'amount':_0x1fc346[_0x59acb5(0x169)],'currency':_0x1fc346[_0x59acb5(0x155)]};}}function a49_0x17d9(){const _0x577efe=['7hIolSG','cardNumber','PAID','cvc','now','getFullYear','currency','Payment\x20processed\x20successfully','2601522tgweuD','processWebhook','generateTransactionId','expiryMonth','Card\x20holder\x20name\x20is\x20required','1845786aOTidn','1806459QTpGKj','length','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','slice','Amount:','19444766kmEarD','****\x20****\x20****\x20','Card\x20validation\x20failed','SUCCESS_CARD','expiryYear','TestGatewayService','Card\x20Holder:','amount','128rJTpZh','toString','Invalid\x20expiry\x20month','680229gJpgCh','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','****','FAILED','4KuceUD','Payment\x20ID:','10WuqHVx','order_id','Invalid\x20expiry\x20year','__esModule','Transaction\x20ID:','‚úÖ\x20Test\x20payment\x20successful','Expiry:','Card\x20number\x20must\x20be\x2016\x20digits','isValid','7028890Rocbwb','replace','1051401SnwOxY','log','processCardPayment','error','cardHolderName'];a49_0x17d9=function(){return _0x577efe;};return a49_0x17d9();}exports[a49_0x1b3de6(0x167)]=TestGatewayService;