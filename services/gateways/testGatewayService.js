'use strict';const a46_0x3f0dcd=a46_0x57a4;function a46_0x57a4(_0x33ff89,_0x42b62){const _0x13e1bf=a46_0x13e1();return a46_0x57a4=function(_0x57a4f2,_0x2a02e9){_0x57a4f2=_0x57a4f2-0x15b;let _0x174291=_0x13e1bf[_0x57a4f2];return _0x174291;},a46_0x57a4(_0x33ff89,_0x42b62);}(function(_0x3e7a0c,_0x8d5e09){const _0x156f15=a46_0x57a4,_0x1afab1=_0x3e7a0c();while(!![]){try{const _0xc35d6f=-parseInt(_0x156f15(0x184))/0x1+parseInt(_0x156f15(0x15f))/0x2*(-parseInt(_0x156f15(0x178))/0x3)+-parseInt(_0x156f15(0x18c))/0x4*(-parseInt(_0x156f15(0x185))/0x5)+-parseInt(_0x156f15(0x193))/0x6+parseInt(_0x156f15(0x17e))/0x7*(parseInt(_0x156f15(0x177))/0x8)+-parseInt(_0x156f15(0x197))/0x9+parseInt(_0x156f15(0x161))/0xa;if(_0xc35d6f===_0x8d5e09)break;else _0x1afab1['push'](_0x1afab1['shift']());}catch(_0xe54f7f){_0x1afab1['push'](_0x1afab1['shift']());}}}(a46_0x13e1,0x7ae6a));Object['defineProperty'](exports,a46_0x3f0dcd(0x182),{'value':!![]}),exports[a46_0x3f0dcd(0x17d)]=void 0x0;function a46_0x13e1(){const _0x191cbf=['log','slice','test_','****','getFullYear','Card\x20holder\x20name\x20is\x20required','‚úÖ\x20Test\x20payment\x20successful','Amount:','1797088iUfsRz','9guSOsv','***','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','order_id','Order\x20ID:','TestGatewayService','14RHmijU','Card\x20Number:','success','Card\x20number\x20must\x20be\x2016\x20digits','__esModule','generateTransactionId','876769MBWTIl','321400xxBmsh','Transaction\x20ID:','SUCCESS_CARD','length','amount','Expiry:','maskCardNumber','36ewtGNo','expiryMonth','Invalid\x20expiry\x20year','cardHolderName','CVC\x20must\x20be\x203\x20or\x204\x20digits','expiryYear','random','5989464ErlPnk','cardNumber','processWebhook','isValid','5396130JPjTCy','PAID','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','test','Card\x20Holder:','182906nzvkrR','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','22245520nvkqGJ','4242424242424242','toString','Invalid\x20expiry\x20month','‚ùå\x20Card\x20validation\x20failed:','****\x20****\x20****\x20','FAILED','error','Payment\x20ID:','Card\x20validation\x20failed','processCardPayment','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','status','Payment\x20processed\x20successfully'];a46_0x13e1=function(){return _0x191cbf;};return a46_0x13e1();}class TestGatewayService{constructor(){const _0x3996bf=a46_0x3f0dcd;this[_0x3996bf(0x187)]=_0x3996bf(0x162),console['log']('üß™\x20Test\x20Gateway\x20service\x20initialized');}async[a46_0x3f0dcd(0x16b)](_0x51afd1){const _0xf94930=a46_0x3f0dcd,{paymentId:_0x1cb1e7,orderId:_0x3f3a4d,amount:_0x2c985a,currency:_0x2695a7,cardData:_0x181f43}=_0x51afd1;console[_0xf94930(0x16f)](_0xf94930(0x15c)),console[_0xf94930(0x16f)](_0xf94930(0x169),_0x1cb1e7),console[_0xf94930(0x16f)](_0xf94930(0x17c),_0x3f3a4d),console[_0xf94930(0x16f)](_0xf94930(0x176),_0x2c985a,_0x2695a7),console[_0xf94930(0x16f)](_0xf94930(0x17f),this[_0xf94930(0x18b)](_0x181f43['cardNumber'])),console[_0xf94930(0x16f)](_0xf94930(0x15e),_0x181f43['cardHolderName']),console[_0xf94930(0x16f)](_0xf94930(0x18a),_0x181f43[_0xf94930(0x18d)]+'/'+_0x181f43[_0xf94930(0x191)]),console[_0xf94930(0x16f)]('CVC:',_0xf94930(0x179));const _0x31c103=this['validateCardData'](_0x181f43);if(!_0x31c103[_0xf94930(0x196)])return console['log'](_0xf94930(0x165),_0x31c103[_0xf94930(0x168)]),{'success':![],'status':_0xf94930(0x167),'message':_0xf94930(0x16a),'failureReason':_0x31c103[_0xf94930(0x168)]};const _0x154331=_0x181f43['cardNumber']['replace'](/[\s-]/g,'');if(_0x154331===this[_0xf94930(0x187)]){const _0x1f6a54=this[_0xf94930(0x183)]();return console[_0xf94930(0x16f)](_0xf94930(0x175)),console[_0xf94930(0x16f)](_0xf94930(0x186),_0x1f6a54),{'success':!![],'status':_0xf94930(0x15b),'message':_0xf94930(0x16e),'transactionId':_0x1f6a54};}else return console[_0xf94930(0x16f)](_0xf94930(0x160)),{'success':![],'status':_0xf94930(0x167),'message':'Payment\x20failed','failureReason':_0xf94930(0x16c)};}['validateCardData'](_0x40c7a8){const _0x436123=a46_0x3f0dcd,_0x6fb01f=_0x40c7a8[_0x436123(0x194)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x436123(0x15d)](_0x6fb01f))return{'isValid':![],'error':_0x436123(0x181)};if(!_0x40c7a8[_0x436123(0x18f)]||_0x40c7a8['cardHolderName']['trim']()['length']<0x2)return{'isValid':![],'error':_0x436123(0x174)};const _0x2b170e=parseInt(_0x40c7a8[_0x436123(0x18d)]);if(isNaN(_0x2b170e)||_0x2b170e<0x1||_0x2b170e>0xc)return{'isValid':![],'error':_0x436123(0x164)};const _0x2d866e=parseInt(_0x40c7a8[_0x436123(0x191)]),_0x355fc1=new Date()[_0x436123(0x173)](),_0x18356f=_0x2d866e<0x32?0x7d0+_0x2d866e:0x76c+_0x2d866e;if(isNaN(_0x2d866e)||_0x18356f<_0x355fc1||_0x18356f>_0x355fc1+0x14)return{'isValid':![],'error':_0x436123(0x18e)};if(!/^\d{3,4}$/['test'](_0x40c7a8['cvc']))return{'isValid':![],'error':_0x436123(0x190)};return{'isValid':!![]};}[a46_0x3f0dcd(0x18b)](_0x2e80d9){const _0x547e2f=a46_0x3f0dcd,_0x15e2cf=_0x2e80d9['replace'](/[\s-]/g,'');if(_0x15e2cf[_0x547e2f(0x188)]<0x4)return _0x547e2f(0x172);return _0x547e2f(0x166)+_0x15e2cf[_0x547e2f(0x170)](-0x4);}[a46_0x3f0dcd(0x183)](){const _0x565e35=a46_0x3f0dcd,_0x1a9db7=Date['now']()[_0x565e35(0x163)](),_0x2cde52=Math['floor'](Math[_0x565e35(0x192)]()*0x2710)[_0x565e35(0x163)]()['padStart'](0x4,'0');return _0x565e35(0x171)+_0x1a9db7+'_'+_0x2cde52;}async[a46_0x3f0dcd(0x195)](_0x32365c){const _0x88c7c2=a46_0x3f0dcd;return console[_0x88c7c2(0x16f)](_0x88c7c2(0x17a),_0x32365c),{'paymentId':_0x32365c[_0x88c7c2(0x17b)]||'','status':_0x32365c[_0x88c7c2(0x16d)]===_0x88c7c2(0x180)?_0x88c7c2(0x15b):_0x88c7c2(0x167),'amount':_0x32365c[_0x88c7c2(0x189)],'currency':_0x32365c['currency']};}}exports[a46_0x3f0dcd(0x17d)]=TestGatewayService;