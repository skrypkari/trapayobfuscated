'use strict';function a46_0x302b(){const _0x1a0f26=['7530935AnrbZJ','status','Transaction\x20ID:','Amount:','test_','Payment\x20processed\x20successfully','__esModule','SUCCESS_CARD','Card\x20holder\x20name\x20is\x20required','7130208dKmGQe','cardHolderName','error','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20Holder:','‚úÖ\x20Test\x20payment\x20successful','Order\x20ID:','padStart','1074aaqASu','9056376bkzmjX','success','maskCardNumber','cvc','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','expiryMonth','4242424242424242','FAILED','478lyioCk','CVC:','defineProperty','Invalid\x20expiry\x20month','Card\x20number\x20must\x20be\x2016\x20digits','length','****\x20****\x20****\x20','CVC\x20must\x20be\x203\x20or\x204\x20digits','expiryYear','slice','replace','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','4TZIIEf','***','üß™\x20Test\x20Gateway\x20service\x20initialized','1712722fZgYeY','10hphPKT','cardNumber','Payment\x20ID:','validateCardData','5034LcQdGI','133383WoxNsG','floor','currency','PAID','133hLVAZC','processWebhook','log','getFullYear','Expiry:','order_id','test','generateTransactionId','‚ùå\x20Card\x20validation\x20failed:','toString'];a46_0x302b=function(){return _0x1a0f26;};return a46_0x302b();}const a46_0x2e2664=a46_0x52bf;(function(_0x20150e,_0x3cae8f){const _0x27d26e=a46_0x52bf,_0x28257b=_0x20150e();while(!![]){try{const _0xabdda2=-parseInt(_0x27d26e(0xf7))/0x1*(-parseInt(_0x27d26e(0xc3))/0x2)+-parseInt(_0x27d26e(0xd8))/0x3*(parseInt(_0x27d26e(0xcf))/0x4)+-parseInt(_0x27d26e(0xe6))/0x5+parseInt(_0x27d26e(0xd7))/0x6*(parseInt(_0x27d26e(0xdc))/0x7)+parseInt(_0x27d26e(0xef))/0x8+parseInt(_0x27d26e(0xf8))/0x9+-parseInt(_0x27d26e(0xd3))/0xa*(-parseInt(_0x27d26e(0xd2))/0xb);if(_0xabdda2===_0x3cae8f)break;else _0x28257b['push'](_0x28257b['shift']());}catch(_0x3f5e4f){_0x28257b['push'](_0x28257b['shift']());}}}(a46_0x302b,0xbd435));function a46_0x52bf(_0x4bd304,_0x1e18cc){const _0x302b9f=a46_0x302b();return a46_0x52bf=function(_0x52bf65,_0x14bb4f){_0x52bf65=_0x52bf65-0xc3;let _0xc34023=_0x302b9f[_0x52bf65];return _0xc34023;},a46_0x52bf(_0x4bd304,_0x1e18cc);}Object[a46_0x2e2664(0xc5)](exports,a46_0x2e2664(0xec),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x23d30a=a46_0x2e2664;this[_0x23d30a(0xed)]=_0x23d30a(0xfe),console[_0x23d30a(0xde)](_0x23d30a(0xd1));}async['processCardPayment'](_0x557c37){const _0x2dd7df=a46_0x2e2664,{paymentId:_0x5ee4ae,orderId:_0xa972de,amount:_0x51a5f2,currency:_0x24ce6d,cardData:_0x4706c8}=_0x557c37;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x2dd7df(0xde)](_0x2dd7df(0xd5),_0x5ee4ae),console[_0x2dd7df(0xde)](_0x2dd7df(0xf5),_0xa972de),console['log'](_0x2dd7df(0xe9),_0x51a5f2,_0x24ce6d),console[_0x2dd7df(0xde)]('Card\x20Number:',this[_0x2dd7df(0xfa)](_0x4706c8[_0x2dd7df(0xd4)])),console['log'](_0x2dd7df(0xf3),_0x4706c8[_0x2dd7df(0xf0)]),console['log'](_0x2dd7df(0xe0),_0x4706c8[_0x2dd7df(0xfd)]+'/'+_0x4706c8[_0x2dd7df(0xcb)]),console['log'](_0x2dd7df(0xc4),_0x2dd7df(0xd0));const _0x44cc88=this[_0x2dd7df(0xd6)](_0x4706c8);if(!_0x44cc88['isValid'])return console[_0x2dd7df(0xde)](_0x2dd7df(0xe4),_0x44cc88[_0x2dd7df(0xf1)]),{'success':![],'status':_0x2dd7df(0xff),'message':'Card\x20validation\x20failed','failureReason':_0x44cc88[_0x2dd7df(0xf1)]};const _0x1cea63=_0x4706c8['cardNumber'][_0x2dd7df(0xcd)](/[\s-]/g,'');if(_0x1cea63===this[_0x2dd7df(0xed)]){const _0x3f8506=this['generateTransactionId']();return console[_0x2dd7df(0xde)](_0x2dd7df(0xf4)),console[_0x2dd7df(0xde)](_0x2dd7df(0xe8),_0x3f8506),{'success':!![],'status':_0x2dd7df(0xdb),'message':_0x2dd7df(0xeb),'transactionId':_0x3f8506};}else return console[_0x2dd7df(0xde)](_0x2dd7df(0xce)),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':_0x2dd7df(0xfc)};}['validateCardData'](_0x306aef){const _0x1556af=a46_0x2e2664,_0x7005ba=_0x306aef['cardNumber'][_0x1556af(0xcd)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x7005ba))return{'isValid':![],'error':_0x1556af(0xc7)};if(!_0x306aef[_0x1556af(0xf0)]||_0x306aef[_0x1556af(0xf0)]['trim']()[_0x1556af(0xc8)]<0x2)return{'isValid':![],'error':_0x1556af(0xee)};const _0x53782e=parseInt(_0x306aef[_0x1556af(0xfd)]);if(isNaN(_0x53782e)||_0x53782e<0x1||_0x53782e>0xc)return{'isValid':![],'error':_0x1556af(0xc6)};const _0x146359=parseInt(_0x306aef[_0x1556af(0xcb)]),_0x359912=new Date()[_0x1556af(0xdf)](),_0x3cd2e6=_0x146359<0x32?0x7d0+_0x146359:0x76c+_0x146359;if(isNaN(_0x146359)||_0x3cd2e6<_0x359912||_0x3cd2e6>_0x359912+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x1556af(0xe2)](_0x306aef[_0x1556af(0xfb)]))return{'isValid':![],'error':_0x1556af(0xca)};return{'isValid':!![]};}[a46_0x2e2664(0xfa)](_0x1a1140){const _0x33bad7=a46_0x2e2664,_0x5df1fc=_0x1a1140['replace'](/[\s-]/g,'');if(_0x5df1fc[_0x33bad7(0xc8)]<0x4)return'****';return _0x33bad7(0xc9)+_0x5df1fc[_0x33bad7(0xcc)](-0x4);}[a46_0x2e2664(0xe3)](){const _0x273958=a46_0x2e2664,_0x54da4e=Date['now']()[_0x273958(0xe5)](),_0x1dd386=Math[_0x273958(0xd9)](Math['random']()*0x2710)[_0x273958(0xe5)]()[_0x273958(0xf6)](0x4,'0');return _0x273958(0xea)+_0x54da4e+'_'+_0x1dd386;}async[a46_0x2e2664(0xdd)](_0x5b7f74){const _0x45a55e=a46_0x2e2664;return console[_0x45a55e(0xde)](_0x45a55e(0xf2),_0x5b7f74),{'paymentId':_0x5b7f74[_0x45a55e(0xe1)]||'','status':_0x5b7f74[_0x45a55e(0xe7)]===_0x45a55e(0xf9)?'PAID':_0x45a55e(0xff),'amount':_0x5b7f74['amount'],'currency':_0x5b7f74[_0x45a55e(0xda)]};}}exports['TestGatewayService']=TestGatewayService;