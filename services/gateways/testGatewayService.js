'use strict';const a77_0xe6009e=a77_0x41a5;(function(_0x1eda43,_0x380a83){const _0x123f49=a77_0x41a5,_0x3e3dbb=_0x1eda43();while(!![]){try{const _0x54f7bd=-parseInt(_0x123f49(0x184))/0x1*(parseInt(_0x123f49(0x166))/0x2)+parseInt(_0x123f49(0x172))/0x3+parseInt(_0x123f49(0x170))/0x4+-parseInt(_0x123f49(0x183))/0x5*(-parseInt(_0x123f49(0x157))/0x6)+-parseInt(_0x123f49(0x159))/0x7*(-parseInt(_0x123f49(0x15b))/0x8)+parseInt(_0x123f49(0x181))/0x9*(-parseInt(_0x123f49(0x161))/0xa)+-parseInt(_0x123f49(0x17e))/0xb;if(_0x54f7bd===_0x380a83)break;else _0x3e3dbb['push'](_0x3e3dbb['shift']());}catch(_0xd3bbde){_0x3e3dbb['push'](_0x3e3dbb['shift']());}}}(a77_0x111a,0x2b511));Object[a77_0xe6009e(0x168)](exports,a77_0xe6009e(0x175),{'value':!![]}),exports['TestGatewayService']=void 0x0;function a77_0x111a(){const _0x9583dc=['Card\x20validation\x20failed','Payment\x20processed\x20successfully','Card\x20number\x20must\x20be\x2016\x20digits','11386DXrYWO','Payment\x20failed','defineProperty','cardHolderName','expiryYear','expiryMonth','validateCardData','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Invalid\x20expiry\x20month','status','716720bxSwgR','test_','543015svcVPz','error','isValid','__esModule','replace','TestGatewayService','üß™\x20Test\x20Gateway\x20service\x20initialized','****\x20****\x20****\x20','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Invalid\x20expiry\x20year','Expiry:','FAILED','6045446bNGKrA','currency','test','9FTwECp','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','649345becAnt','3HMLwWq','length','toString','CVC:','padStart','log','4242424242424242','SUCCESS_CARD','PAID','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','trim','processWebhook','amount','success','Order\x20ID:','‚ùå\x20Card\x20validation\x20failed:','getFullYear','****','‚úÖ\x20Test\x20payment\x20successful','maskCardNumber','12VFrfkQ','floor','14sGUftI','Card\x20holder\x20name\x20is\x20required','1374928aBoeiB','generateTransactionId','cardNumber','Transaction\x20ID:','slice','random','2195650iMwOnR','CVC\x20must\x20be\x203\x20or\x204\x20digits'];a77_0x111a=function(){return _0x9583dc;};return a77_0x111a();}function a77_0x41a5(_0x13b5ac,_0x158bb1){_0x13b5ac=_0x13b5ac-0x150;const _0x111a1f=a77_0x111a();let _0x41a5e5=_0x111a1f[_0x13b5ac];return _0x41a5e5;}class TestGatewayService{constructor(){const _0x5106bb=a77_0xe6009e;this['SUCCESS_CARD']=_0x5106bb(0x18a),console[_0x5106bb(0x189)](_0x5106bb(0x178));}async['processCardPayment'](_0x2c7aa5){const _0x22e923=a77_0xe6009e,{paymentId:_0x1b3ea5,orderId:_0x345d1d,amount:_0x33d119,currency:_0x50d0ae,cardData:_0x958d38}=_0x2c7aa5;console['log'](_0x22e923(0x182)),console[_0x22e923(0x189)]('Payment\x20ID:',_0x1b3ea5),console[_0x22e923(0x189)](_0x22e923(0x151),_0x345d1d),console[_0x22e923(0x189)]('Amount:',_0x33d119,_0x50d0ae),console[_0x22e923(0x189)]('Card\x20Number:',this[_0x22e923(0x156)](_0x958d38[_0x22e923(0x15d)])),console[_0x22e923(0x189)]('Card\x20Holder:',_0x958d38[_0x22e923(0x169)]),console['log'](_0x22e923(0x17c),_0x958d38[_0x22e923(0x16b)]+'/'+_0x958d38['expiryYear']),console[_0x22e923(0x189)](_0x22e923(0x187),'***');const _0x10ae0a=this['validateCardData'](_0x958d38);if(!_0x10ae0a[_0x22e923(0x174)])return console[_0x22e923(0x189)](_0x22e923(0x152),_0x10ae0a['error']),{'success':![],'status':_0x22e923(0x17d),'message':_0x22e923(0x163),'failureReason':_0x10ae0a[_0x22e923(0x173)]};const _0x1d6e26=_0x958d38[_0x22e923(0x15d)][_0x22e923(0x176)](/[\s-]/g,'');if(_0x1d6e26===this[_0x22e923(0x18b)]){const _0x23ddfb=this[_0x22e923(0x15c)]();return console['log'](_0x22e923(0x155)),console[_0x22e923(0x189)](_0x22e923(0x15e),_0x23ddfb),{'success':!![],'status':_0x22e923(0x18c),'message':_0x22e923(0x164),'transactionId':_0x23ddfb};}else return console[_0x22e923(0x189)](_0x22e923(0x17a)),{'success':![],'status':_0x22e923(0x17d),'message':_0x22e923(0x167),'failureReason':_0x22e923(0x16d)};}[a77_0xe6009e(0x16c)](_0x2cf621){const _0x27a9ca=a77_0xe6009e,_0x165d1f=_0x2cf621[_0x27a9ca(0x15d)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x27a9ca(0x180)](_0x165d1f))return{'isValid':![],'error':_0x27a9ca(0x165)};if(!_0x2cf621[_0x27a9ca(0x169)]||_0x2cf621['cardHolderName'][_0x27a9ca(0x18e)]()[_0x27a9ca(0x185)]<0x2)return{'isValid':![],'error':_0x27a9ca(0x15a)};const _0x2ad7ac=parseInt(_0x2cf621[_0x27a9ca(0x16b)]);if(isNaN(_0x2ad7ac)||_0x2ad7ac<0x1||_0x2ad7ac>0xc)return{'isValid':![],'error':_0x27a9ca(0x16e)};const _0x378a6a=parseInt(_0x2cf621[_0x27a9ca(0x16a)]),_0x13c4ec=new Date()[_0x27a9ca(0x153)](),_0xd5fe73=_0x378a6a<0x32?0x7d0+_0x378a6a:0x76c+_0x378a6a;if(isNaN(_0x378a6a)||_0xd5fe73<_0x13c4ec||_0xd5fe73>_0x13c4ec+0x14)return{'isValid':![],'error':_0x27a9ca(0x17b)};if(!/^\d{3,4}$/[_0x27a9ca(0x180)](_0x2cf621['cvc']))return{'isValid':![],'error':_0x27a9ca(0x162)};return{'isValid':!![]};}['maskCardNumber'](_0x75d0ae){const _0x440c99=a77_0xe6009e,_0x1aac90=_0x75d0ae['replace'](/[\s-]/g,'');if(_0x1aac90[_0x440c99(0x185)]<0x4)return _0x440c99(0x154);return _0x440c99(0x179)+_0x1aac90[_0x440c99(0x15f)](-0x4);}[a77_0xe6009e(0x15c)](){const _0x40b348=a77_0xe6009e,_0x3e5f5f=Date['now']()[_0x40b348(0x186)](),_0x35428e=Math[_0x40b348(0x158)](Math[_0x40b348(0x160)]()*0x2710)[_0x40b348(0x186)]()[_0x40b348(0x188)](0x4,'0');return _0x40b348(0x171)+_0x3e5f5f+'_'+_0x35428e;}async[a77_0xe6009e(0x18f)](_0x20767c){const _0x561cfc=a77_0xe6009e;return console[_0x561cfc(0x189)](_0x561cfc(0x18d),_0x20767c),{'paymentId':_0x20767c['order_id']||'','status':_0x20767c[_0x561cfc(0x16f)]===_0x561cfc(0x150)?'PAID':_0x561cfc(0x17d),'amount':_0x20767c[_0x561cfc(0x190)],'currency':_0x20767c[_0x561cfc(0x17f)]};}}exports[a77_0xe6009e(0x177)]=TestGatewayService;