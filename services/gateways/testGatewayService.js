'use strict';function a47_0x3cb0(){const _0x32b195=['666966tvlFmG','FAILED','success','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','1335608MJXINZ','generateTransactionId','7301259uSOjCn','Order\x20ID:','validateCardData','padStart','toString','getFullYear','replace','random','Transaction\x20ID:','processCardPayment','Payment\x20ID:','cardNumber','Invalid\x20expiry\x20month','PAID','processWebhook','CVC\x20must\x20be\x203\x20or\x204\x20digits','error','cardHolderName','‚ùå\x20Card\x20validation\x20failed:','expiryMonth','log','Card\x20number\x20must\x20be\x2016\x20digits','defineProperty','***','trim','Card\x20Holder:','TestGatewayService','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','1288290hhIYcE','Card\x20validation\x20failed','status','amount','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20Number:','SUCCESS_CARD','258880qhsYNm','now','maskCardNumber','Amount:','****\x20****\x20****\x20','Payment\x20failed','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','Card\x20holder\x20name\x20is\x20required','‚úÖ\x20Test\x20payment\x20successful','slice','308640ayPZac','282956KBXoLQ','order_id','test','4242424242424242'];a47_0x3cb0=function(){return _0x32b195;};return a47_0x3cb0();}const a47_0x551508=a47_0x4b99;(function(_0x585876,_0x28fee5){const _0x44c1bf=a47_0x4b99,_0x53c3c3=_0x585876();while(!![]){try{const _0x33d1c1=parseInt(_0x44c1bf(0x1c4))/0x1+parseInt(_0x44c1bf(0x1b9))/0x2+parseInt(_0x44c1bf(0x1c3))/0x3+parseInt(_0x44c1bf(0x1cc))/0x4+parseInt(_0x44c1bf(0x1b2))/0x5+parseInt(_0x44c1bf(0x1c8))/0x6+-parseInt(_0x44c1bf(0x1ce))/0x7;if(_0x33d1c1===_0x28fee5)break;else _0x53c3c3['push'](_0x53c3c3['shift']());}catch(_0x2b7e99){_0x53c3c3['push'](_0x53c3c3['shift']());}}}(a47_0x3cb0,0x2ab70));function a47_0x4b99(_0x2fb667,_0x166aa1){const _0x3cb04f=a47_0x3cb0();return a47_0x4b99=function(_0x4b9912,_0x38fa95){_0x4b9912=_0x4b9912-0x1ae;let _0xa9955b=_0x3cb04f[_0x4b9912];return _0xa9955b;},a47_0x4b99(_0x2fb667,_0x166aa1);}Object[a47_0x551508(0x1e4)](exports,'__esModule',{'value':!![]}),exports[a47_0x551508(0x1b0)]=void 0x0;class TestGatewayService{constructor(){const _0x19d85a=a47_0x551508;this[_0x19d85a(0x1b8)]=_0x19d85a(0x1c7),console['log'](_0x19d85a(0x1b6));}async[a47_0x551508(0x1d7)](_0x5108d2){const _0x3def3c=a47_0x551508,{paymentId:_0x438538,orderId:_0xc02384,amount:_0x26a54e,currency:_0x372adf,cardData:_0x28b889}=_0x5108d2;console[_0x3def3c(0x1e2)](_0x3def3c(0x1b1)),console[_0x3def3c(0x1e2)](_0x3def3c(0x1d8),_0x438538),console[_0x3def3c(0x1e2)](_0x3def3c(0x1cf),_0xc02384),console[_0x3def3c(0x1e2)](_0x3def3c(0x1bc),_0x26a54e,_0x372adf),console['log'](_0x3def3c(0x1b7),this['maskCardNumber'](_0x28b889[_0x3def3c(0x1d9)])),console[_0x3def3c(0x1e2)](_0x3def3c(0x1af),_0x28b889[_0x3def3c(0x1df)]),console[_0x3def3c(0x1e2)]('Expiry:',_0x28b889[_0x3def3c(0x1e1)]+'/'+_0x28b889['expiryYear']),console['log']('CVC:',_0x3def3c(0x1e5));const _0x40ec89=this[_0x3def3c(0x1d0)](_0x28b889);if(!_0x40ec89['isValid'])return console[_0x3def3c(0x1e2)](_0x3def3c(0x1e0),_0x40ec89[_0x3def3c(0x1de)]),{'success':![],'status':_0x3def3c(0x1c9),'message':_0x3def3c(0x1b3),'failureReason':_0x40ec89[_0x3def3c(0x1de)]};const _0x4d4179=_0x28b889['cardNumber'][_0x3def3c(0x1d4)](/[\s-]/g,'');if(_0x4d4179===this['SUCCESS_CARD']){const _0x3a0aa7=this[_0x3def3c(0x1cd)]();return console[_0x3def3c(0x1e2)](_0x3def3c(0x1c1)),console[_0x3def3c(0x1e2)](_0x3def3c(0x1d6),_0x3a0aa7),{'success':!![],'status':'PAID','message':'Payment\x20processed\x20successfully','transactionId':_0x3a0aa7};}else return console['log'](_0x3def3c(0x1bf)),{'success':![],'status':_0x3def3c(0x1c9),'message':_0x3def3c(0x1be),'failureReason':_0x3def3c(0x1cb)};}['validateCardData'](_0x182a3e){const _0x26352a=a47_0x551508,_0x15d7f6=_0x182a3e[_0x26352a(0x1d9)][_0x26352a(0x1d4)](/[\s-]/g,'');if(!/^\d{16}$/[_0x26352a(0x1c6)](_0x15d7f6))return{'isValid':![],'error':_0x26352a(0x1e3)};if(!_0x182a3e['cardHolderName']||_0x182a3e[_0x26352a(0x1df)][_0x26352a(0x1ae)]()['length']<0x2)return{'isValid':![],'error':_0x26352a(0x1c0)};const _0x1dc198=parseInt(_0x182a3e['expiryMonth']);if(isNaN(_0x1dc198)||_0x1dc198<0x1||_0x1dc198>0xc)return{'isValid':![],'error':_0x26352a(0x1da)};const _0x3dd0bf=parseInt(_0x182a3e['expiryYear']),_0x44a307=new Date()[_0x26352a(0x1d3)](),_0x29faca=_0x3dd0bf<0x32?0x7d0+_0x3dd0bf:0x76c+_0x3dd0bf;if(isNaN(_0x3dd0bf)||_0x29faca<_0x44a307||_0x29faca>_0x44a307+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x182a3e['cvc']))return{'isValid':![],'error':_0x26352a(0x1dd)};return{'isValid':!![]};}[a47_0x551508(0x1bb)](_0x3640f5){const _0x24d4bf=a47_0x551508,_0x50182a=_0x3640f5[_0x24d4bf(0x1d4)](/[\s-]/g,'');if(_0x50182a['length']<0x4)return'****';return _0x24d4bf(0x1bd)+_0x50182a[_0x24d4bf(0x1c2)](-0x4);}[a47_0x551508(0x1cd)](){const _0x42c0e5=a47_0x551508,_0x255a2e=Date[_0x42c0e5(0x1ba)]()[_0x42c0e5(0x1d2)](),_0x4bfcf4=Math['floor'](Math[_0x42c0e5(0x1d5)]()*0x2710)[_0x42c0e5(0x1d2)]()[_0x42c0e5(0x1d1)](0x4,'0');return'test_'+_0x255a2e+'_'+_0x4bfcf4;}async[a47_0x551508(0x1dc)](_0x45944e){const _0x5564a4=a47_0x551508;return console[_0x5564a4(0x1e2)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x45944e),{'paymentId':_0x45944e[_0x5564a4(0x1c5)]||'','status':_0x45944e[_0x5564a4(0x1b4)]===_0x5564a4(0x1ca)?_0x5564a4(0x1db):'FAILED','amount':_0x45944e[_0x5564a4(0x1b5)],'currency':_0x45944e['currency']};}}exports[a47_0x551508(0x1b0)]=TestGatewayService;