'use strict';function a51_0x37e6(){const _0x22ebc6=['‚ùå\x20Card\x20validation\x20failed:','defineProperty','71966PGLWOV','12IRJeCC','generateTransactionId','Card\x20number\x20must\x20be\x2016\x20digits','now','expiryMonth','***','replace','121nyraya','validateCardData','8949060xbfyGj','TestGatewayService','SUCCESS_CARD','68520bMTQIB','****\x20****\x20****\x20','cardNumber','953853ZTsdwY','status','amount','maskCardNumber','Transaction\x20ID:','Payment\x20ID:','log','Order\x20ID:','PAID','processCardPayment','test','currency','cardHolderName','padStart','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','cvc','Card\x20validation\x20failed','8PwPbus','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','FAILED','expiryYear','floor','7999369DJZXBz','order_id','26857493mlfVZt','‚úÖ\x20Test\x20payment\x20successful','Card\x20Number:','Invalid\x20expiry\x20year','408kPKiVo','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','test_','üß™\x20Test\x20Gateway\x20service\x20initialized','821520falKzt','__esModule','Card\x20Holder:','19DFIbSY','isValid','success','toString','Expiry:','length','slice','error','Amount:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','24GVHwfJ','4242424242424242','getFullYear'];a51_0x37e6=function(){return _0x22ebc6;};return a51_0x37e6();}const a51_0x29fe24=a51_0x3993;function a51_0x3993(_0x5c884c,_0x193810){const _0x37e6b9=a51_0x37e6();return a51_0x3993=function(_0x3993f1,_0x477abf){_0x3993f1=_0x3993f1-0x1a1;let _0x16a4e9=_0x37e6b9[_0x3993f1];return _0x16a4e9;},a51_0x3993(_0x5c884c,_0x193810);}(function(_0x372063,_0x21cce7){const _0x36abca=a51_0x3993,_0x295585=_0x372063();while(!![]){try{const _0x3060b6=parseInt(_0x36abca(0x1b6))/0x1*(-parseInt(_0x36abca(0x1c5))/0x2)+-parseInt(_0x36abca(0x1d5))/0x3*(parseInt(_0x36abca(0x1c6))/0x4)+parseInt(_0x36abca(0x1d2))/0x5*(-parseInt(_0x36abca(0x1af))/0x6)+-parseInt(_0x36abca(0x1a9))/0x7*(-parseInt(_0x36abca(0x1a4))/0x8)+-parseInt(_0x36abca(0x1cf))/0x9+parseInt(_0x36abca(0x1b3))/0xa*(-parseInt(_0x36abca(0x1cd))/0xb)+-parseInt(_0x36abca(0x1c0))/0xc*(-parseInt(_0x36abca(0x1ab))/0xd);if(_0x3060b6===_0x21cce7)break;else _0x295585['push'](_0x295585['shift']());}catch(_0x276b5d){_0x295585['push'](_0x295585['shift']());}}}(a51_0x37e6,0xc516b));Object[a51_0x29fe24(0x1c4)](exports,a51_0x29fe24(0x1b4),{'value':!![]}),exports[a51_0x29fe24(0x1d0)]=void 0x0;class TestGatewayService{constructor(){const _0x53013e=a51_0x29fe24;this[_0x53013e(0x1d1)]=_0x53013e(0x1c1),console[_0x53013e(0x1db)](_0x53013e(0x1b2));}async[a51_0x29fe24(0x1de)](_0x51b781){const _0x57300b=a51_0x29fe24,{paymentId:_0x223532,orderId:_0x5c1875,amount:_0xfacf09,currency:_0x1bd279,cardData:_0x21134c}=_0x51b781;console[_0x57300b(0x1db)](_0x57300b(0x1a1)),console[_0x57300b(0x1db)](_0x57300b(0x1da),_0x223532),console[_0x57300b(0x1db)](_0x57300b(0x1dc),_0x5c1875),console[_0x57300b(0x1db)](_0x57300b(0x1be),_0xfacf09,_0x1bd279),console[_0x57300b(0x1db)](_0x57300b(0x1ad),this[_0x57300b(0x1d8)](_0x21134c[_0x57300b(0x1d4)])),console[_0x57300b(0x1db)](_0x57300b(0x1b5),_0x21134c[_0x57300b(0x1e1)]),console['log'](_0x57300b(0x1ba),_0x21134c[_0x57300b(0x1ca)]+'/'+_0x21134c['expiryYear']),console[_0x57300b(0x1db)]('CVC:',_0x57300b(0x1cb));const _0x4bc4f2=this[_0x57300b(0x1ce)](_0x21134c);if(!_0x4bc4f2[_0x57300b(0x1b7)])return console['log'](_0x57300b(0x1c3),_0x4bc4f2[_0x57300b(0x1bd)]),{'success':![],'status':_0x57300b(0x1a6),'message':_0x57300b(0x1a3),'failureReason':_0x4bc4f2[_0x57300b(0x1bd)]};const _0x194ced=_0x21134c['cardNumber'][_0x57300b(0x1cc)](/[\s-]/g,'');if(_0x194ced===this[_0x57300b(0x1d1)]){const _0x318903=this[_0x57300b(0x1c7)]();return console[_0x57300b(0x1db)](_0x57300b(0x1ac)),console['log'](_0x57300b(0x1d9),_0x318903),{'success':!![],'status':_0x57300b(0x1dd),'message':'Payment\x20processed\x20successfully','transactionId':_0x318903};}else return console[_0x57300b(0x1db)](_0x57300b(0x1b0)),{'success':![],'status':_0x57300b(0x1a6),'message':'Payment\x20failed','failureReason':_0x57300b(0x1a5)};}['validateCardData'](_0x56ef2b){const _0x2af0e4=a51_0x29fe24,_0x5178b8=_0x56ef2b['cardNumber']['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0x2af0e4(0x1df)](_0x5178b8))return{'isValid':![],'error':_0x2af0e4(0x1c8)};if(!_0x56ef2b['cardHolderName']||_0x56ef2b[_0x2af0e4(0x1e1)]['trim']()[_0x2af0e4(0x1bb)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x181159=parseInt(_0x56ef2b[_0x2af0e4(0x1ca)]);if(isNaN(_0x181159)||_0x181159<0x1||_0x181159>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x2c835f=parseInt(_0x56ef2b[_0x2af0e4(0x1a7)]),_0x2406bb=new Date()[_0x2af0e4(0x1c2)](),_0x2ca29b=_0x2c835f<0x32?0x7d0+_0x2c835f:0x76c+_0x2c835f;if(isNaN(_0x2c835f)||_0x2ca29b<_0x2406bb||_0x2ca29b>_0x2406bb+0x14)return{'isValid':![],'error':_0x2af0e4(0x1ae)};if(!/^\d{3,4}$/[_0x2af0e4(0x1df)](_0x56ef2b[_0x2af0e4(0x1a2)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x1de326){const _0x7f77ad=a51_0x29fe24,_0x59d480=_0x1de326[_0x7f77ad(0x1cc)](/[\s-]/g,'');if(_0x59d480[_0x7f77ad(0x1bb)]<0x4)return'****';return _0x7f77ad(0x1d3)+_0x59d480[_0x7f77ad(0x1bc)](-0x4);}[a51_0x29fe24(0x1c7)](){const _0x43dda9=a51_0x29fe24,_0x485980=Date[_0x43dda9(0x1c9)]()[_0x43dda9(0x1b9)](),_0x64e40e=Math[_0x43dda9(0x1a8)](Math['random']()*0x2710)[_0x43dda9(0x1b9)]()[_0x43dda9(0x1e2)](0x4,'0');return _0x43dda9(0x1b1)+_0x485980+'_'+_0x64e40e;}async['processWebhook'](_0x2fdb96){const _0x16082a=a51_0x29fe24;return console[_0x16082a(0x1db)](_0x16082a(0x1bf),_0x2fdb96),{'paymentId':_0x2fdb96[_0x16082a(0x1aa)]||'','status':_0x2fdb96[_0x16082a(0x1d6)]===_0x16082a(0x1b8)?_0x16082a(0x1dd):_0x16082a(0x1a6),'amount':_0x2fdb96[_0x16082a(0x1d7)],'currency':_0x2fdb96[_0x16082a(0x1e0)]};}}exports[a51_0x29fe24(0x1d0)]=TestGatewayService;