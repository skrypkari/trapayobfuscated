'use strict';const a49_0x529b59=a49_0x3559;(function(_0x3e58cb,_0x2543db){const _0x5ef3fc=a49_0x3559,_0x47e447=_0x3e58cb();while(!![]){try{const _0x4653fd=-parseInt(_0x5ef3fc(0xdb))/0x1+parseInt(_0x5ef3fc(0xd2))/0x2+-parseInt(_0x5ef3fc(0xe9))/0x3*(-parseInt(_0x5ef3fc(0xfc))/0x4)+parseInt(_0x5ef3fc(0x109))/0x5+-parseInt(_0x5ef3fc(0xd9))/0x6+parseInt(_0x5ef3fc(0xd5))/0x7+parseInt(_0x5ef3fc(0xf9))/0x8;if(_0x4653fd===_0x2543db)break;else _0x47e447['push'](_0x47e447['shift']());}catch(_0x591a93){_0x47e447['push'](_0x47e447['shift']());}}}(a49_0x4cfd,0x8d090));function a49_0x4cfd(){const _0x154cb1=['processWebhook','Payment\x20ID:','test_','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','random','TestGatewayService','floor','replace','Payment\x20failed','defineProperty','validateCardData','Order\x20ID:','generateTransactionId','Card\x20validation\x20failed','2169920VuYOMu','order_id','CVC\x20must\x20be\x203\x20or\x204\x20digits','4HBBdWz','isValid','üß™\x20Test\x20Gateway\x20service\x20initialized','error','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','****','slice','Invalid\x20expiry\x20year','Amount:','Payment\x20processed\x20successfully','length','padStart','‚úÖ\x20Test\x20payment\x20successful','4649415SiCxrf','CVC:','Transaction\x20ID:','toString','570296VpUUTz','Expiry:','Invalid\x20expiry\x20month','2256576gCtlAS','PAID','trim','cardNumber','5240724fartaB','log','782698wRiyeh','‚ùå\x20Card\x20validation\x20failed:','now','cvc','Card\x20Holder:','SUCCESS_CARD','FAILED','****\x20****\x20****\x20','4242424242424242','getFullYear','cardHolderName','expiryYear','maskCardNumber','processCardPayment','1275579NHTWSZ','__esModule'];a49_0x4cfd=function(){return _0x154cb1;};return a49_0x4cfd();}Object[a49_0x529b59(0xf4)](exports,a49_0x529b59(0xea),{'value':!![]}),exports[a49_0x529b59(0xf0)]=void 0x0;class TestGatewayService{constructor(){const _0x58342e=a49_0x529b59;this[_0x58342e(0xe0)]=_0x58342e(0xe3),console[_0x58342e(0xda)](_0x58342e(0xfe));}async[a49_0x529b59(0xe8)](_0x13aa67){const _0x5d0b66=a49_0x529b59,{paymentId:_0x54a214,orderId:_0x1453b9,amount:_0x49ee68,currency:_0x1171fb,cardData:_0x4f3271}=_0x13aa67;console[_0x5d0b66(0xda)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x5d0b66(0xda)](_0x5d0b66(0xec),_0x54a214),console[_0x5d0b66(0xda)](_0x5d0b66(0xf6),_0x1453b9),console[_0x5d0b66(0xda)](_0x5d0b66(0x104),_0x49ee68,_0x1171fb),console['log']('Card\x20Number:',this['maskCardNumber'](_0x4f3271[_0x5d0b66(0xd8)])),console[_0x5d0b66(0xda)](_0x5d0b66(0xdf),_0x4f3271[_0x5d0b66(0xe5)]),console['log'](_0x5d0b66(0xd3),_0x4f3271['expiryMonth']+'/'+_0x4f3271['expiryYear']),console[_0x5d0b66(0xda)](_0x5d0b66(0x10a),'***');const _0x32dcad=this[_0x5d0b66(0xf5)](_0x4f3271);if(!_0x32dcad[_0x5d0b66(0xfd)])return console['log'](_0x5d0b66(0xdc),_0x32dcad[_0x5d0b66(0xff)]),{'success':![],'status':_0x5d0b66(0xe1),'message':_0x5d0b66(0xf8),'failureReason':_0x32dcad[_0x5d0b66(0xff)]};const _0x24f7dd=_0x4f3271[_0x5d0b66(0xd8)][_0x5d0b66(0xf2)](/[\s-]/g,'');if(_0x24f7dd===this[_0x5d0b66(0xe0)]){const _0x730f3b=this[_0x5d0b66(0xf7)]();return console[_0x5d0b66(0xda)](_0x5d0b66(0x108)),console[_0x5d0b66(0xda)](_0x5d0b66(0xd0),_0x730f3b),{'success':!![],'status':_0x5d0b66(0xd6),'message':_0x5d0b66(0x105),'transactionId':_0x730f3b};}else return console['log'](_0x5d0b66(0xee)),{'success':![],'status':_0x5d0b66(0xe1),'message':_0x5d0b66(0xf3),'failureReason':_0x5d0b66(0x100)};}[a49_0x529b59(0xf5)](_0x5e6421){const _0x8eab0a=a49_0x529b59,_0x3e96da=_0x5e6421[_0x8eab0a(0xd8)][_0x8eab0a(0xf2)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x3e96da))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x5e6421[_0x8eab0a(0xe5)]||_0x5e6421[_0x8eab0a(0xe5)][_0x8eab0a(0xd7)]()['length']<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x387167=parseInt(_0x5e6421['expiryMonth']);if(isNaN(_0x387167)||_0x387167<0x1||_0x387167>0xc)return{'isValid':![],'error':_0x8eab0a(0xd4)};const _0xc794d3=parseInt(_0x5e6421[_0x8eab0a(0xe6)]),_0x2aa00f=new Date()[_0x8eab0a(0xe4)](),_0x442f9f=_0xc794d3<0x32?0x7d0+_0xc794d3:0x76c+_0xc794d3;if(isNaN(_0xc794d3)||_0x442f9f<_0x2aa00f||_0x442f9f>_0x2aa00f+0x14)return{'isValid':![],'error':_0x8eab0a(0x103)};if(!/^\d{3,4}$/['test'](_0x5e6421[_0x8eab0a(0xde)]))return{'isValid':![],'error':_0x8eab0a(0xfb)};return{'isValid':!![]};}[a49_0x529b59(0xe7)](_0x21dd79){const _0x27fd0a=a49_0x529b59,_0x597f4a=_0x21dd79[_0x27fd0a(0xf2)](/[\s-]/g,'');if(_0x597f4a[_0x27fd0a(0x106)]<0x4)return _0x27fd0a(0x101);return _0x27fd0a(0xe2)+_0x597f4a[_0x27fd0a(0x102)](-0x4);}['generateTransactionId'](){const _0x2d86d9=a49_0x529b59,_0x472e86=Date[_0x2d86d9(0xdd)]()[_0x2d86d9(0xd1)](),_0x3884b2=Math[_0x2d86d9(0xf1)](Math[_0x2d86d9(0xef)]()*0x2710)[_0x2d86d9(0xd1)]()[_0x2d86d9(0x107)](0x4,'0');return _0x2d86d9(0xed)+_0x472e86+'_'+_0x3884b2;}async[a49_0x529b59(0xeb)](_0x384332){const _0x3ef5f0=a49_0x529b59;return console[_0x3ef5f0(0xda)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x384332),{'paymentId':_0x384332[_0x3ef5f0(0xfa)]||'','status':_0x384332['status']==='success'?_0x3ef5f0(0xd6):_0x3ef5f0(0xe1),'amount':_0x384332['amount'],'currency':_0x384332['currency']};}}function a49_0x3559(_0x2cadc7,_0x27090d){const _0x4cfd7e=a49_0x4cfd();return a49_0x3559=function(_0x3559f8,_0x4c12fa){_0x3559f8=_0x3559f8-0xd0;let _0x17cae3=_0x4cfd7e[_0x3559f8];return _0x17cae3;},a49_0x3559(_0x2cadc7,_0x27090d);}exports[a49_0x529b59(0xf0)]=TestGatewayService;