'use strict';const a47_0x5c7031=a47_0x2035;(function(_0x2acf07,_0x4837cc){const _0x2f10da=a47_0x2035,_0x1af44d=_0x2acf07();while(!![]){try{const _0xbeae36=parseInt(_0x2f10da(0x179))/0x1*(parseInt(_0x2f10da(0x1a2))/0x2)+parseInt(_0x2f10da(0x19b))/0x3*(-parseInt(_0x2f10da(0x1a6))/0x4)+parseInt(_0x2f10da(0x191))/0x5+parseInt(_0x2f10da(0x186))/0x6*(parseInt(_0x2f10da(0x185))/0x7)+parseInt(_0x2f10da(0x1af))/0x8+-parseInt(_0x2f10da(0x1ac))/0x9+parseInt(_0x2f10da(0x183))/0xa*(parseInt(_0x2f10da(0x19d))/0xb);if(_0xbeae36===_0x4837cc)break;else _0x1af44d['push'](_0x1af44d['shift']());}catch(_0x19d497){_0x1af44d['push'](_0x1af44d['shift']());}}}(a47_0x4659,0xc8273));function a47_0x4659(){const _0x52dd39=['test_','isValid','SUCCESS_CARD','validateCardData','random','order_id','****\x20****\x20****\x20','5816915rkHlzx','processCardPayment','length','TestGatewayService','üß™\x20Test\x20Gateway\x20service\x20initialized','***','Card\x20validation\x20failed','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','toString','expiryMonth','2931zLDQYP','‚ùå\x20Card\x20validation\x20failed:','82434sTyMmY','floor','FAILED','amount','Order\x20ID:','2OdCAtI','generateTransactionId','test','cardNumber','5232TWspry','Card\x20Number:','Payment\x20processed\x20successfully','__esModule','Payment\x20ID:','Amount:','6376329BWdmij','Payment\x20failed','cvc','2180024zrQpsb','now','maskCardNumber','CVC:','PAID','error','padStart','cardHolderName','defineProperty','552009glJGjV','trim','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','getFullYear','Card\x20Holder:','replace','status','expiryYear','log','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','500oRbhNN','processWebhook','7KXEAOc','2661774ucQfmp','Transaction\x20ID:','Invalid\x20expiry\x20month','currency'];a47_0x4659=function(){return _0x52dd39;};return a47_0x4659();}Object[a47_0x5c7031(0x178)](exports,a47_0x5c7031(0x1a9),{'value':!![]}),exports[a47_0x5c7031(0x194)]=void 0x0;function a47_0x2035(_0x5f5ce3,_0x972b53){const _0x465924=a47_0x4659();return a47_0x2035=function(_0x2035d6,_0x3011bd){_0x2035d6=_0x2035d6-0x171;let _0x20f66d=_0x465924[_0x2035d6];return _0x20f66d;},a47_0x2035(_0x5f5ce3,_0x972b53);}class TestGatewayService{constructor(){const _0x3c42f7=a47_0x5c7031;this[_0x3c42f7(0x18c)]='4242424242424242',console[_0x3c42f7(0x181)](_0x3c42f7(0x195));}async[a47_0x5c7031(0x192)](_0x1d7e5e){const _0x34240f=a47_0x5c7031,{paymentId:_0x413c5b,orderId:_0x59cf4c,amount:_0x5151a9,currency:_0x5b1d53,cardData:_0x36909b}=_0x1d7e5e;console[_0x34240f(0x181)](_0x34240f(0x182)),console[_0x34240f(0x181)](_0x34240f(0x1aa),_0x413c5b),console[_0x34240f(0x181)](_0x34240f(0x1a1),_0x59cf4c),console[_0x34240f(0x181)](_0x34240f(0x1ab),_0x5151a9,_0x5b1d53),console[_0x34240f(0x181)](_0x34240f(0x1a7),this['maskCardNumber'](_0x36909b[_0x34240f(0x1a5)])),console[_0x34240f(0x181)](_0x34240f(0x17d),_0x36909b[_0x34240f(0x177)]),console[_0x34240f(0x181)]('Expiry:',_0x36909b[_0x34240f(0x19a)]+'/'+_0x36909b[_0x34240f(0x180)]),console[_0x34240f(0x181)](_0x34240f(0x173),_0x34240f(0x196));const _0x341702=this[_0x34240f(0x18d)](_0x36909b);if(!_0x341702[_0x34240f(0x18b)])return console[_0x34240f(0x181)](_0x34240f(0x19c),_0x341702[_0x34240f(0x175)]),{'success':![],'status':'FAILED','message':_0x34240f(0x197),'failureReason':_0x341702[_0x34240f(0x175)]};const _0x537158=_0x36909b['cardNumber']['replace'](/[\s-]/g,'');if(_0x537158===this[_0x34240f(0x18c)]){const _0x3e2482=this[_0x34240f(0x1a3)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x34240f(0x181)](_0x34240f(0x187),_0x3e2482),{'success':!![],'status':'PAID','message':_0x34240f(0x1a8),'transactionId':_0x3e2482};}else return console[_0x34240f(0x181)](_0x34240f(0x198)),{'success':![],'status':_0x34240f(0x19f),'message':_0x34240f(0x1ad),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a47_0x5c7031(0x18d)](_0x46348e){const _0x5a348a=a47_0x5c7031,_0x25c2ef=_0x46348e['cardNumber'][_0x5a348a(0x17e)](/[\s-]/g,'');if(!/^\d{16}$/[_0x5a348a(0x1a4)](_0x25c2ef))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0x46348e['cardHolderName']||_0x46348e[_0x5a348a(0x177)][_0x5a348a(0x17a)]()[_0x5a348a(0x193)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x57eaa2=parseInt(_0x46348e[_0x5a348a(0x19a)]);if(isNaN(_0x57eaa2)||_0x57eaa2<0x1||_0x57eaa2>0xc)return{'isValid':![],'error':_0x5a348a(0x188)};const _0x36bde8=parseInt(_0x46348e[_0x5a348a(0x180)]),_0x30a6b3=new Date()[_0x5a348a(0x17c)](),_0xc37ed4=_0x36bde8<0x32?0x7d0+_0x36bde8:0x76c+_0x36bde8;if(isNaN(_0x36bde8)||_0xc37ed4<_0x30a6b3||_0xc37ed4>_0x30a6b3+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x5a348a(0x1a4)](_0x46348e[_0x5a348a(0x1ae)]))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a47_0x5c7031(0x172)](_0x3030d7){const _0x31ba46=a47_0x5c7031,_0x95c879=_0x3030d7['replace'](/[\s-]/g,'');if(_0x95c879[_0x31ba46(0x193)]<0x4)return'****';return _0x31ba46(0x190)+_0x95c879['slice'](-0x4);}[a47_0x5c7031(0x1a3)](){const _0x3d25ab=a47_0x5c7031,_0x52e7cb=Date[_0x3d25ab(0x171)]()['toString'](),_0x4e004a=Math[_0x3d25ab(0x19e)](Math[_0x3d25ab(0x18e)]()*0x2710)[_0x3d25ab(0x199)]()[_0x3d25ab(0x176)](0x4,'0');return _0x3d25ab(0x18a)+_0x52e7cb+'_'+_0x4e004a;}async[a47_0x5c7031(0x184)](_0x10497f){const _0x393144=a47_0x5c7031;return console['log'](_0x393144(0x17b),_0x10497f),{'paymentId':_0x10497f[_0x393144(0x18f)]||'','status':_0x10497f[_0x393144(0x17f)]==='success'?_0x393144(0x174):_0x393144(0x19f),'amount':_0x10497f[_0x393144(0x1a0)],'currency':_0x10497f[_0x393144(0x189)]};}}exports[a47_0x5c7031(0x194)]=TestGatewayService;