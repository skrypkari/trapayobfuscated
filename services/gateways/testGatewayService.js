'use strict';const a65_0x1069a2=a65_0x3323;(function(_0x1b2694,_0x738cfa){const _0x235b2b=a65_0x3323,_0x2e3cc9=_0x1b2694();while(!![]){try{const _0x4f4241=-parseInt(_0x235b2b(0x1c0))/0x1+-parseInt(_0x235b2b(0x192))/0x2+-parseInt(_0x235b2b(0x1af))/0x3*(-parseInt(_0x235b2b(0x1ad))/0x4)+parseInt(_0x235b2b(0x1b7))/0x5+-parseInt(_0x235b2b(0x1b0))/0x6*(parseInt(_0x235b2b(0x190))/0x7)+parseInt(_0x235b2b(0x191))/0x8*(-parseInt(_0x235b2b(0x1b8))/0x9)+parseInt(_0x235b2b(0x1a8))/0xa;if(_0x4f4241===_0x738cfa)break;else _0x2e3cc9['push'](_0x2e3cc9['shift']());}catch(_0x2aef02){_0x2e3cc9['push'](_0x2e3cc9['shift']());}}}(a65_0x553b,0x7e9c0));function a65_0x3323(_0x431cc5,_0x84b7f8){_0x431cc5=_0x431cc5-0x18e;const _0x553b7c=a65_0x553b();let _0x33234e=_0x553b7c[_0x431cc5];return _0x33234e;}function a65_0x553b(){const _0x3bd813=['trim','‚ùå\x20Card\x20validation\x20failed:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','replace','240410NnYGSF','isValid','cardHolderName','random','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','currency','7ebXELe','13584JiYZhB','1745408itraZs','PAID','cardNumber','validateCardData','Card\x20holder\x20name\x20is\x20required','4242424242424242','generateTransactionId','Card\x20number\x20must\x20be\x2016\x20digits','***','__esModule','order_id','Order\x20ID:','status','Card\x20Holder:','SUCCESS_CARD','Transaction\x20ID:','log','error','toString','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','test','TestGatewayService','5227980NGsSXc','maskCardNumber','test_','üß™\x20Test\x20Gateway\x20service\x20initialized','amount','88948WdMpJZ','FAILED','78jRsTtK','252030TujOMJ','processCardPayment','expiryYear','Amount:','Payment\x20failed','length','Payment\x20processed\x20successfully','4307055hiHSXW','1530hglHEj','Expiry:','floor','processWebhook'];a65_0x553b=function(){return _0x3bd813;};return a65_0x553b();}Object['defineProperty'](exports,a65_0x1069a2(0x19b),{'value':!![]}),exports['TestGatewayService']=void 0x0;class TestGatewayService{constructor(){const _0x4efe1d=a65_0x1069a2;this[_0x4efe1d(0x1a0)]=_0x4efe1d(0x197),console[_0x4efe1d(0x1a2)](_0x4efe1d(0x1ab));}async[a65_0x1069a2(0x1b1)](_0xd84985){const _0x189367=a65_0x1069a2,{paymentId:_0x16a51a,orderId:_0x205e90,amount:_0x27cec3,currency:_0x11a927,cardData:_0x4ac650}=_0xd84985;console[_0x189367(0x1a2)](_0x189367(0x1a5)),console[_0x189367(0x1a2)]('Payment\x20ID:',_0x16a51a),console[_0x189367(0x1a2)](_0x189367(0x19d),_0x205e90),console[_0x189367(0x1a2)](_0x189367(0x1b3),_0x27cec3,_0x11a927),console[_0x189367(0x1a2)]('Card\x20Number:',this[_0x189367(0x1a9)](_0x4ac650[_0x189367(0x194)])),console[_0x189367(0x1a2)](_0x189367(0x19f),_0x4ac650['cardHolderName']),console[_0x189367(0x1a2)](_0x189367(0x1b9),_0x4ac650['expiryMonth']+'/'+_0x4ac650['expiryYear']),console[_0x189367(0x1a2)]('CVC:',_0x189367(0x19a));const _0x1d5cb1=this['validateCardData'](_0x4ac650);if(!_0x1d5cb1[_0x189367(0x1c1)])return console[_0x189367(0x1a2)](_0x189367(0x1bd),_0x1d5cb1[_0x189367(0x1a3)]),{'success':![],'status':_0x189367(0x1ae),'message':'Card\x20validation\x20failed','failureReason':_0x1d5cb1['error']};const _0x1cf641=_0x4ac650[_0x189367(0x194)][_0x189367(0x1bf)](/[\s-]/g,'');if(_0x1cf641===this[_0x189367(0x1a0)]){const _0x4d72c8=this['generateTransactionId']();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x189367(0x1a2)](_0x189367(0x1a1),_0x4d72c8),{'success':!![],'status':_0x189367(0x193),'message':_0x189367(0x1b6),'transactionId':_0x4d72c8};}else return console[_0x189367(0x1a2)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x189367(0x1ae),'message':_0x189367(0x1b4),'failureReason':_0x189367(0x18e)};}[a65_0x1069a2(0x195)](_0x52b86a){const _0xe4692e=a65_0x1069a2,_0x16f1c3=_0x52b86a['cardNumber']['replace'](/[\s-]/g,'');if(!/^\d{16}$/[_0xe4692e(0x1a6)](_0x16f1c3))return{'isValid':![],'error':_0xe4692e(0x199)};if(!_0x52b86a[_0xe4692e(0x1c2)]||_0x52b86a[_0xe4692e(0x1c2)][_0xe4692e(0x1bc)]()['length']<0x2)return{'isValid':![],'error':_0xe4692e(0x196)};const _0x469dbf=parseInt(_0x52b86a['expiryMonth']);if(isNaN(_0x469dbf)||_0x469dbf<0x1||_0x469dbf>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x226d83=parseInt(_0x52b86a[_0xe4692e(0x1b2)]),_0x27ddf7=new Date()['getFullYear'](),_0x1e5d37=_0x226d83<0x32?0x7d0+_0x226d83:0x76c+_0x226d83;if(isNaN(_0x226d83)||_0x1e5d37<_0x27ddf7||_0x1e5d37>_0x27ddf7+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0xe4692e(0x1a6)](_0x52b86a['cvc']))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}[a65_0x1069a2(0x1a9)](_0x4d8666){const _0x10d8c4=a65_0x1069a2,_0x8a9052=_0x4d8666[_0x10d8c4(0x1bf)](/[\s-]/g,'');if(_0x8a9052[_0x10d8c4(0x1b5)]<0x4)return'****';return'****\x20****\x20****\x20'+_0x8a9052['slice'](-0x4);}[a65_0x1069a2(0x198)](){const _0x1aadb8=a65_0x1069a2,_0x410724=Date['now']()[_0x1aadb8(0x1a4)](),_0x1fc6cb=Math[_0x1aadb8(0x1ba)](Math[_0x1aadb8(0x1c3)]()*0x2710)[_0x1aadb8(0x1a4)]()['padStart'](0x4,'0');return _0x1aadb8(0x1aa)+_0x410724+'_'+_0x1fc6cb;}async[a65_0x1069a2(0x1bb)](_0x17bed5){const _0x547ed1=a65_0x1069a2;return console[_0x547ed1(0x1a2)](_0x547ed1(0x1be),_0x17bed5),{'paymentId':_0x17bed5[_0x547ed1(0x19c)]||'','status':_0x17bed5[_0x547ed1(0x19e)]==='success'?_0x547ed1(0x193):_0x547ed1(0x1ae),'amount':_0x17bed5[_0x547ed1(0x1ac)],'currency':_0x17bed5[_0x547ed1(0x18f)]};}}exports[a65_0x1069a2(0x1a7)]=TestGatewayService;