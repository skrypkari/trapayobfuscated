'use strict';const a47_0x5e5731=a47_0x53d4;(function(_0x11c602,_0x583926){const _0x5cacad=a47_0x53d4,_0x2851d8=_0x11c602();while(!![]){try{const _0x5dec8d=-parseInt(_0x5cacad(0x11d))/0x1*(-parseInt(_0x5cacad(0x132))/0x2)+-parseInt(_0x5cacad(0x122))/0x3+-parseInt(_0x5cacad(0x111))/0x4*(-parseInt(_0x5cacad(0x131))/0x5)+-parseInt(_0x5cacad(0x11f))/0x6+-parseInt(_0x5cacad(0x107))/0x7+parseInt(_0x5cacad(0x125))/0x8*(-parseInt(_0x5cacad(0x113))/0x9)+-parseInt(_0x5cacad(0x114))/0xa*(-parseInt(_0x5cacad(0x124))/0xb);if(_0x5dec8d===_0x583926)break;else _0x2851d8['push'](_0x2851d8['shift']());}catch(_0x1f6f84){_0x2851d8['push'](_0x2851d8['shift']());}}}(a47_0x251e,0x3e4e3));Object[a47_0x5e5731(0x10c)](exports,a47_0x5e5731(0x13b),{'value':!![]}),exports[a47_0x5e5731(0x141)]=void 0x0;function a47_0x251e(){const _0x589cc8=['expiryYear','now','__esModule','order_id','4242424242424242','validateCardData','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','CVC:','TestGatewayService','Payment\x20processed\x20successfully','toString','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Invalid\x20expiry\x20year','165557ZUxEUY','Payment\x20ID:','Amount:','üß™\x20Test\x20Gateway\x20service\x20initialized','floor','defineProperty','generateTransactionId','currency','processCardPayment','****','306472qJjZVl','error','9uXWPJH','90vFiGRr','****\x20****\x20****\x20','status','isValid','‚ùå\x20Card\x20validation\x20failed:','padStart','Transaction\x20ID:','cardHolderName','maskCardNumber','3lIGwBh','‚úÖ\x20Test\x20payment\x20successful','2168064XkNEQX','Expiry:','Card\x20number\x20must\x20be\x2016\x20digits','1068609AckEwJ','PAID','815331Flziwb','674152jpXSsW','test','length','test_','amount','Card\x20validation\x20failed','Order\x20ID:','Card\x20holder\x20name\x20is\x20required','log','cvc','cardNumber','FAILED','5lhJyfH','224642kEZyeY','replace','Invalid\x20expiry\x20month','CVC\x20must\x20be\x203\x20or\x204\x20digits','SUCCESS_CARD','getFullYear','expiryMonth'];a47_0x251e=function(){return _0x589cc8;};return a47_0x251e();}class TestGatewayService{constructor(){const _0x157595=a47_0x5e5731;this[_0x157595(0x136)]=_0x157595(0x13d),console[_0x157595(0x12d)](_0x157595(0x10a));}async[a47_0x5e5731(0x10f)](_0x21e426){const _0x1075dc=a47_0x5e5731,{paymentId:_0x560869,orderId:_0x112cd0,amount:_0x128dfe,currency:_0x51fd01,cardData:_0x5cc711}=_0x21e426;console[_0x1075dc(0x12d)](_0x1075dc(0x105)),console[_0x1075dc(0x12d)](_0x1075dc(0x108),_0x560869),console['log'](_0x1075dc(0x12b),_0x112cd0),console['log'](_0x1075dc(0x109),_0x128dfe,_0x51fd01),console[_0x1075dc(0x12d)]('Card\x20Number:',this[_0x1075dc(0x11c)](_0x5cc711[_0x1075dc(0x12f)])),console['log']('Card\x20Holder:',_0x5cc711[_0x1075dc(0x11b)]),console[_0x1075dc(0x12d)](_0x1075dc(0x120),_0x5cc711[_0x1075dc(0x138)]+'/'+_0x5cc711[_0x1075dc(0x139)]),console['log'](_0x1075dc(0x140),'***');const _0x98178e=this['validateCardData'](_0x5cc711);if(!_0x98178e[_0x1075dc(0x117)])return console[_0x1075dc(0x12d)](_0x1075dc(0x118),_0x98178e[_0x1075dc(0x112)]),{'success':![],'status':_0x1075dc(0x130),'message':_0x1075dc(0x12a),'failureReason':_0x98178e[_0x1075dc(0x112)]};const _0x355118=_0x5cc711[_0x1075dc(0x12f)][_0x1075dc(0x133)](/[\s-]/g,'');if(_0x355118===this[_0x1075dc(0x136)]){const _0x4fafd6=this[_0x1075dc(0x10d)]();return console[_0x1075dc(0x12d)](_0x1075dc(0x11e)),console['log'](_0x1075dc(0x11a),_0x4fafd6),{'success':!![],'status':'PAID','message':_0x1075dc(0x103),'transactionId':_0x4fafd6};}else return console[_0x1075dc(0x12d)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':'FAILED','message':'Payment\x20failed','failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}[a47_0x5e5731(0x13e)](_0x31e7c1){const _0x3ffc86=a47_0x5e5731,_0x1bb733=_0x31e7c1[_0x3ffc86(0x12f)][_0x3ffc86(0x133)](/[\s-]/g,'');if(!/^\d{16}$/[_0x3ffc86(0x126)](_0x1bb733))return{'isValid':![],'error':_0x3ffc86(0x121)};if(!_0x31e7c1[_0x3ffc86(0x11b)]||_0x31e7c1['cardHolderName']['trim']()[_0x3ffc86(0x127)]<0x2)return{'isValid':![],'error':_0x3ffc86(0x12c)};const _0xad7a0f=parseInt(_0x31e7c1[_0x3ffc86(0x138)]);if(isNaN(_0xad7a0f)||_0xad7a0f<0x1||_0xad7a0f>0xc)return{'isValid':![],'error':_0x3ffc86(0x134)};const _0x301e9b=parseInt(_0x31e7c1[_0x3ffc86(0x139)]),_0x1290a9=new Date()[_0x3ffc86(0x137)](),_0x3853e6=_0x301e9b<0x32?0x7d0+_0x301e9b:0x76c+_0x301e9b;if(isNaN(_0x301e9b)||_0x3853e6<_0x1290a9||_0x3853e6>_0x1290a9+0x14)return{'isValid':![],'error':_0x3ffc86(0x106)};if(!/^\d{3,4}$/[_0x3ffc86(0x126)](_0x31e7c1[_0x3ffc86(0x12e)]))return{'isValid':![],'error':_0x3ffc86(0x135)};return{'isValid':!![]};}[a47_0x5e5731(0x11c)](_0x1022fe){const _0x5fa3ee=a47_0x5e5731,_0x357073=_0x1022fe[_0x5fa3ee(0x133)](/[\s-]/g,'');if(_0x357073[_0x5fa3ee(0x127)]<0x4)return _0x5fa3ee(0x110);return _0x5fa3ee(0x115)+_0x357073['slice'](-0x4);}[a47_0x5e5731(0x10d)](){const _0x48c8b2=a47_0x5e5731,_0x49c8d0=Date[_0x48c8b2(0x13a)]()[_0x48c8b2(0x104)](),_0x446639=Math[_0x48c8b2(0x10b)](Math['random']()*0x2710)['toString']()[_0x48c8b2(0x119)](0x4,'0');return _0x48c8b2(0x128)+_0x49c8d0+'_'+_0x446639;}async['processWebhook'](_0x3a976f){const _0x40ac8f=a47_0x5e5731;return console[_0x40ac8f(0x12d)](_0x40ac8f(0x13f),_0x3a976f),{'paymentId':_0x3a976f[_0x40ac8f(0x13c)]||'','status':_0x3a976f[_0x40ac8f(0x116)]==='success'?_0x40ac8f(0x123):_0x40ac8f(0x130),'amount':_0x3a976f[_0x40ac8f(0x129)],'currency':_0x3a976f[_0x40ac8f(0x10e)]};}}function a47_0x53d4(_0x1280cb,_0x3ded95){const _0x251e28=a47_0x251e();return a47_0x53d4=function(_0x53d4d9,_0x534827){_0x53d4d9=_0x53d4d9-0x103;let _0x1e2854=_0x251e28[_0x53d4d9];return _0x1e2854;},a47_0x53d4(_0x1280cb,_0x3ded95);}exports['TestGatewayService']=TestGatewayService;