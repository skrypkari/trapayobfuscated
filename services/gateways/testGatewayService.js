'use strict';function a46_0x2771(_0xa0aaec,_0x3b40c4){const _0x1484c2=a46_0x1484();return a46_0x2771=function(_0x27712a,_0x40d799){_0x27712a=_0x27712a-0x10f;let _0x3fb9b5=_0x1484c2[_0x27712a];return _0x3fb9b5;},a46_0x2771(_0xa0aaec,_0x3b40c4);}const a46_0x5b1571=a46_0x2771;(function(_0x1be8ca,_0x42bd64){const _0x4e057b=a46_0x2771,_0x2ff8c1=_0x1be8ca();while(!![]){try{const _0x245210=-parseInt(_0x4e057b(0x130))/0x1+-parseInt(_0x4e057b(0x110))/0x2*(parseInt(_0x4e057b(0x139))/0x3)+parseInt(_0x4e057b(0x122))/0x4+-parseInt(_0x4e057b(0x136))/0x5+parseInt(_0x4e057b(0x12b))/0x6+parseInt(_0x4e057b(0x11d))/0x7+parseInt(_0x4e057b(0x13c))/0x8*(-parseInt(_0x4e057b(0x12a))/0x9);if(_0x245210===_0x42bd64)break;else _0x2ff8c1['push'](_0x2ff8c1['shift']());}catch(_0x2ed2c8){_0x2ff8c1['push'](_0x2ff8c1['shift']());}}}(a46_0x1484,0x86ed0));Object['defineProperty'](exports,a46_0x5b1571(0x11f),{'value':!![]}),exports[a46_0x5b1571(0x129)]=void 0x0;class TestGatewayService{constructor(){const _0x1a7385=a46_0x5b1571;this[_0x1a7385(0x132)]=_0x1a7385(0x11a),console[_0x1a7385(0x128)](_0x1a7385(0x140));}async[a46_0x5b1571(0x116)](_0x373ecf){const _0x594800=a46_0x5b1571,{paymentId:_0x37ef68,orderId:_0x148569,amount:_0x936bd4,currency:_0x357dab,cardData:_0xae6497}=_0x373ecf;console[_0x594800(0x128)](_0x594800(0x11b)),console[_0x594800(0x128)](_0x594800(0x11c),_0x37ef68),console[_0x594800(0x128)]('Order\x20ID:',_0x148569),console[_0x594800(0x128)](_0x594800(0x133),_0x936bd4,_0x357dab),console[_0x594800(0x128)](_0x594800(0x12d),this['maskCardNumber'](_0xae6497['cardNumber'])),console['log']('Card\x20Holder:',_0xae6497[_0x594800(0x137)]),console[_0x594800(0x128)](_0x594800(0x138),_0xae6497[_0x594800(0x131)]+'/'+_0xae6497[_0x594800(0x127)]),console['log'](_0x594800(0x125),_0x594800(0x114));const _0x74dcbb=this[_0x594800(0x10f)](_0xae6497);if(!_0x74dcbb[_0x594800(0x123)])return console[_0x594800(0x128)]('‚ùå\x20Card\x20validation\x20failed:',_0x74dcbb[_0x594800(0x126)]),{'success':![],'status':_0x594800(0x12c),'message':_0x594800(0x115),'failureReason':_0x74dcbb[_0x594800(0x126)]};const _0x12e9b0=_0xae6497['cardNumber']['replace'](/[\s-]/g,'');if(_0x12e9b0===this[_0x594800(0x132)]){const _0x575a98=this[_0x594800(0x11e)]();return console[_0x594800(0x128)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x594800(0x128)]('Transaction\x20ID:',_0x575a98),{'success':!![],'status':_0x594800(0x135),'message':_0x594800(0x118),'transactionId':_0x575a98};}else return console[_0x594800(0x128)](_0x594800(0x13b)),{'success':![],'status':_0x594800(0x12c),'message':_0x594800(0x141),'failureReason':_0x594800(0x13f)};}[a46_0x5b1571(0x10f)](_0xad35cb){const _0x21e680=a46_0x5b1571,_0xdfece6=_0xad35cb['cardNumber'][_0x21e680(0x13d)](/[\s-]/g,'');if(!/^\d{16}$/[_0x21e680(0x120)](_0xdfece6))return{'isValid':![],'error':'Card\x20number\x20must\x20be\x2016\x20digits'};if(!_0xad35cb[_0x21e680(0x137)]||_0xad35cb[_0x21e680(0x137)]['trim']()[_0x21e680(0x13a)]<0x2)return{'isValid':![],'error':_0x21e680(0x117)};const _0x358fbb=parseInt(_0xad35cb[_0x21e680(0x131)]);if(isNaN(_0x358fbb)||_0x358fbb<0x1||_0x358fbb>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x41fd32=parseInt(_0xad35cb[_0x21e680(0x127)]),_0x6698c4=new Date()['getFullYear'](),_0xe41674=_0x41fd32<0x32?0x7d0+_0x41fd32:0x76c+_0x41fd32;if(isNaN(_0x41fd32)||_0xe41674<_0x6698c4||_0xe41674>_0x6698c4+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0xad35cb['cvc']))return{'isValid':![],'error':'CVC\x20must\x20be\x203\x20or\x204\x20digits'};return{'isValid':!![]};}['maskCardNumber'](_0x32a77a){const _0xcd60a8=a46_0x5b1571,_0x2067ce=_0x32a77a[_0xcd60a8(0x13d)](/[\s-]/g,'');if(_0x2067ce['length']<0x4)return'****';return _0xcd60a8(0x12f)+_0x2067ce[_0xcd60a8(0x121)](-0x4);}[a46_0x5b1571(0x11e)](){const _0x1ab737=a46_0x5b1571,_0x5d3d0d=Date['now']()[_0x1ab737(0x13e)](),_0x4f6fd0=Math['floor'](Math[_0x1ab737(0x111)]()*0x2710)[_0x1ab737(0x13e)]()[_0x1ab737(0x134)](0x4,'0');return'test_'+_0x5d3d0d+'_'+_0x4f6fd0;}async[a46_0x5b1571(0x124)](_0x7e5e85){const _0x5a7559=a46_0x5b1571;return console[_0x5a7559(0x128)](_0x5a7559(0x119),_0x7e5e85),{'paymentId':_0x7e5e85[_0x5a7559(0x12e)]||'','status':_0x7e5e85[_0x5a7559(0x142)]===_0x5a7559(0x112)?_0x5a7559(0x135):_0x5a7559(0x12c),'amount':_0x7e5e85[_0x5a7559(0x113)],'currency':_0x7e5e85['currency']};}}function a46_0x1484(){const _0x3107d6=['amount','***','Card\x20validation\x20failed','processCardPayment','Card\x20holder\x20name\x20is\x20required','Payment\x20processed\x20successfully','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','4242424242424242','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Payment\x20ID:','801136LIwYPZ','generateTransactionId','__esModule','test','slice','2189116qvTScn','isValid','processWebhook','CVC:','error','expiryYear','log','TestGatewayService','225XOEYSK','4582278UxZxzm','FAILED','Card\x20Number:','order_id','****\x20****\x20****\x20','13431XeqdQo','expiryMonth','SUCCESS_CARD','Amount:','padStart','PAID','929915xGmLsX','cardHolderName','Expiry:','309807HmSSOG','length','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','50248GwwygZ','replace','toString','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','üß™\x20Test\x20Gateway\x20service\x20initialized','Payment\x20failed','status','validateCardData','10qvmuNB','random','success'];a46_0x1484=function(){return _0x3107d6;};return a46_0x1484();}exports[a46_0x5b1571(0x129)]=TestGatewayService;