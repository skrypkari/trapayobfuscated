'use strict';const a46_0x4e89bc=a46_0x5e44;function a46_0x24c2(){const _0x2aaf63=['isValid','Payment\x20failed','expiryYear','Invalid\x20expiry\x20month','Card\x20number\x20must\x20be\x2016\x20digits','random','***','order_id','success','error','Card\x20validation\x20failed','4242424242424242','5795200iRmnvQ','length','‚ùå\x20Card\x20validation\x20failed:','11ibnICu','Expiry:','PAID','Transaction\x20ID:','12AfYCTQ','Card\x20Holder:','Order\x20ID:','padStart','444172VWLHQb','amount','toString','FAILED','594044ejqXfI','‚úÖ\x20Test\x20payment\x20successful','replace','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','20148612Lmhnzs','test_','expiryMonth','slice','cardNumber','77769dZAxJW','344OqpHmZ','log','üß™\x20Test\x20Gateway\x20service\x20initialized','__esModule','CVC:','processCardPayment','validateCardData','cvc','processWebhook','cardHolderName','3228738scqcZB','generateTransactionId','currency','SUCCESS_CARD','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Amount:','****\x20****\x20****\x20','****','defineProperty','trim','7ycbFVM','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','test','298488ISBsue','TestGatewayService','CVC\x20must\x20be\x203\x20or\x204\x20digits','maskCardNumber','10qBfsln'];a46_0x24c2=function(){return _0x2aaf63;};return a46_0x24c2();}function a46_0x5e44(_0x9db994,_0x3989f7){const _0x24c225=a46_0x24c2();return a46_0x5e44=function(_0x5e44e1,_0x2a7a50){_0x5e44e1=_0x5e44e1-0x129;let _0x2793a8=_0x24c225[_0x5e44e1];return _0x2793a8;},a46_0x5e44(_0x9db994,_0x3989f7);}(function(_0x58a98b,_0x520eaa){const _0x34434f=a46_0x5e44,_0x1ae0d7=_0x58a98b();while(!![]){try{const _0x2f5cac=parseInt(_0x34434f(0x142))/0x1+parseInt(_0x34434f(0x13e))/0x2*(parseInt(_0x34434f(0x167))/0x3)+parseInt(_0x34434f(0x146))/0x4*(-parseInt(_0x34434f(0x12a))/0x5)+-parseInt(_0x34434f(0x15a))/0x6*(-parseInt(_0x34434f(0x164))/0x7)+parseInt(_0x34434f(0x150))/0x8*(parseInt(_0x34434f(0x14f))/0x9)+parseInt(_0x34434f(0x137))/0xa+-parseInt(_0x34434f(0x13a))/0xb*(parseInt(_0x34434f(0x14a))/0xc);if(_0x2f5cac===_0x520eaa)break;else _0x1ae0d7['push'](_0x1ae0d7['shift']());}catch(_0x16f287){_0x1ae0d7['push'](_0x1ae0d7['shift']());}}}(a46_0x24c2,0x87529));Object[a46_0x4e89bc(0x162)](exports,a46_0x4e89bc(0x153),{'value':!![]}),exports[a46_0x4e89bc(0x168)]=void 0x0;class TestGatewayService{constructor(){const _0x50fc2d=a46_0x4e89bc;this[_0x50fc2d(0x15d)]=_0x50fc2d(0x136),console[_0x50fc2d(0x151)](_0x50fc2d(0x152));}async[a46_0x4e89bc(0x155)](_0x390bd8){const _0x55313b=a46_0x4e89bc,{paymentId:_0x5dfe1c,orderId:_0x2956dd,amount:_0x76e86b,currency:_0x12daed,cardData:_0x21a0b2}=_0x390bd8;console[_0x55313b(0x151)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x55313b(0x151)]('Payment\x20ID:',_0x5dfe1c),console[_0x55313b(0x151)](_0x55313b(0x140),_0x2956dd),console['log'](_0x55313b(0x15f),_0x76e86b,_0x12daed),console[_0x55313b(0x151)]('Card\x20Number:',this[_0x55313b(0x129)](_0x21a0b2[_0x55313b(0x14e)])),console['log'](_0x55313b(0x13f),_0x21a0b2[_0x55313b(0x159)]),console[_0x55313b(0x151)](_0x55313b(0x13b),_0x21a0b2[_0x55313b(0x14c)]+'/'+_0x21a0b2['expiryYear']),console['log'](_0x55313b(0x154),_0x55313b(0x131));const _0x480994=this[_0x55313b(0x156)](_0x21a0b2);if(!_0x480994[_0x55313b(0x12b)])return console[_0x55313b(0x151)](_0x55313b(0x139),_0x480994[_0x55313b(0x134)]),{'success':![],'status':'FAILED','message':_0x55313b(0x135),'failureReason':_0x480994[_0x55313b(0x134)]};const _0x364dce=_0x21a0b2['cardNumber'][_0x55313b(0x148)](/[\s-]/g,'');if(_0x364dce===this[_0x55313b(0x15d)]){const _0x49e724=this[_0x55313b(0x15b)]();return console[_0x55313b(0x151)](_0x55313b(0x147)),console[_0x55313b(0x151)](_0x55313b(0x13d),_0x49e724),{'success':!![],'status':_0x55313b(0x13c),'message':'Payment\x20processed\x20successfully','transactionId':_0x49e724};}else return console[_0x55313b(0x151)](_0x55313b(0x149)),{'success':![],'status':_0x55313b(0x145),'message':_0x55313b(0x12c),'failureReason':_0x55313b(0x15e)};}['validateCardData'](_0x22642e){const _0xe3cf1e=a46_0x4e89bc,_0x1fa00f=_0x22642e[_0xe3cf1e(0x14e)][_0xe3cf1e(0x148)](/[\s-]/g,'');if(!/^\d{16}$/[_0xe3cf1e(0x166)](_0x1fa00f))return{'isValid':![],'error':_0xe3cf1e(0x12f)};if(!_0x22642e[_0xe3cf1e(0x159)]||_0x22642e['cardHolderName'][_0xe3cf1e(0x163)]()[_0xe3cf1e(0x138)]<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x440c83=parseInt(_0x22642e['expiryMonth']);if(isNaN(_0x440c83)||_0x440c83<0x1||_0x440c83>0xc)return{'isValid':![],'error':_0xe3cf1e(0x12e)};const _0x2f54d7=parseInt(_0x22642e[_0xe3cf1e(0x12d)]),_0xe0839=new Date()['getFullYear'](),_0x5a0435=_0x2f54d7<0x32?0x7d0+_0x2f54d7:0x76c+_0x2f54d7;if(isNaN(_0x2f54d7)||_0x5a0435<_0xe0839||_0x5a0435>_0xe0839+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/['test'](_0x22642e[_0xe3cf1e(0x157)]))return{'isValid':![],'error':_0xe3cf1e(0x169)};return{'isValid':!![]};}[a46_0x4e89bc(0x129)](_0x31988b){const _0x95ebcb=a46_0x4e89bc,_0x1af2cc=_0x31988b[_0x95ebcb(0x148)](/[\s-]/g,'');if(_0x1af2cc[_0x95ebcb(0x138)]<0x4)return _0x95ebcb(0x161);return _0x95ebcb(0x160)+_0x1af2cc[_0x95ebcb(0x14d)](-0x4);}[a46_0x4e89bc(0x15b)](){const _0x212cf8=a46_0x4e89bc,_0xd66612=Date['now']()[_0x212cf8(0x144)](),_0x3c6e1c=Math['floor'](Math[_0x212cf8(0x130)]()*0x2710)[_0x212cf8(0x144)]()[_0x212cf8(0x141)](0x4,'0');return _0x212cf8(0x14b)+_0xd66612+'_'+_0x3c6e1c;}async[a46_0x4e89bc(0x158)](_0x5d902f){const _0x23148b=a46_0x4e89bc;return console[_0x23148b(0x151)](_0x23148b(0x165),_0x5d902f),{'paymentId':_0x5d902f[_0x23148b(0x132)]||'','status':_0x5d902f['status']===_0x23148b(0x133)?_0x23148b(0x13c):_0x23148b(0x145),'amount':_0x5d902f[_0x23148b(0x143)],'currency':_0x5d902f[_0x23148b(0x15c)]};}}exports[a46_0x4e89bc(0x168)]=TestGatewayService;