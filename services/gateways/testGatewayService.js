'use strict';const a45_0x11fbda=a45_0x24d0;(function(_0x3c75f3,_0x43377e){const _0x550565=a45_0x24d0,_0x429a99=_0x3c75f3();while(!![]){try{const _0x183c39=-parseInt(_0x550565(0x10b))/0x1+parseInt(_0x550565(0xf8))/0x2+-parseInt(_0x550565(0xe0))/0x3+parseInt(_0x550565(0xea))/0x4+-parseInt(_0x550565(0xd9))/0x5*(-parseInt(_0x550565(0xf0))/0x6)+parseInt(_0x550565(0xd5))/0x7*(-parseInt(_0x550565(0xf4))/0x8)+parseInt(_0x550565(0xf9))/0x9*(-parseInt(_0x550565(0xf3))/0xa);if(_0x183c39===_0x43377e)break;else _0x429a99['push'](_0x429a99['shift']());}catch(_0x1e53b5){_0x429a99['push'](_0x429a99['shift']());}}}(a45_0x5677,0xd283d));Object[a45_0x11fbda(0x108)](exports,a45_0x11fbda(0xcf),{'value':!![]}),exports[a45_0x11fbda(0x105)]=void 0x0;function a45_0x24d0(_0x333df1,_0x441104){const _0x5677c6=a45_0x5677();return a45_0x24d0=function(_0x24d0bf,_0x3fea3f){_0x24d0bf=_0x24d0bf-0xce;let _0x54a39c=_0x5677c6[_0x24d0bf];return _0x54a39c;},a45_0x24d0(_0x333df1,_0x441104);}function a45_0x5677(){const _0x3476cc=['amount','Payment\x20ID:','test','isValid','Invalid\x20expiry\x20month','2105816yyblHB','length','CVC\x20must\x20be\x203\x20or\x204\x20digits','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20Holder:','floor','102UAQHtk','expiryMonth','toString','1938910bwvwcW','648CuvllK','currency','cardNumber','slice','2550442aYAHfD','9aeHHkM','cardHolderName','***','Order\x20ID:','success','expiryYear','cvc','replace','padStart','generateTransactionId','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','random','TestGatewayService','getFullYear','Card\x20number\x20must\x20be\x2016\x20digits','defineProperty','error','‚ùå\x20Card\x20validation\x20failed:','101958YMzmtP','****','4242424242424242','__esModule','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Amount:','FAILED','Payment\x20processed\x20successfully','status','78540SqXMSh','processWebhook','Expiry:','log','382025dQAurO','SUCCESS_CARD','Card\x20Number:','Card\x20holder\x20name\x20is\x20required','Transaction\x20ID:','test_','PAID','3100866rRliaN','now','Payment\x20failed','maskCardNumber','trim'];a45_0x5677=function(){return _0x3476cc;};return a45_0x5677();}class TestGatewayService{constructor(){const _0x3e2981=a45_0x11fbda;this[_0x3e2981(0xda)]=_0x3e2981(0xce),console['log'](_0x3e2981(0xed));}async['processCardPayment'](_0x21d3d){const _0x4ce382=a45_0x11fbda,{paymentId:_0x2ebcf1,orderId:_0x38267d,amount:_0x4b4ef9,currency:_0x1488ac,cardData:_0x1d9372}=_0x21d3d;console[_0x4ce382(0xd8)]('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x4ce382(0xd8)](_0x4ce382(0xe6),_0x2ebcf1),console[_0x4ce382(0xd8)](_0x4ce382(0xfc),_0x38267d),console[_0x4ce382(0xd8)](_0x4ce382(0xd1),_0x4b4ef9,_0x1488ac),console[_0x4ce382(0xd8)](_0x4ce382(0xdb),this[_0x4ce382(0xe3)](_0x1d9372[_0x4ce382(0xf6)])),console[_0x4ce382(0xd8)](_0x4ce382(0xee),_0x1d9372['cardHolderName']),console[_0x4ce382(0xd8)](_0x4ce382(0xd7),_0x1d9372['expiryMonth']+'/'+_0x1d9372[_0x4ce382(0xfe)]),console[_0x4ce382(0xd8)]('CVC:',_0x4ce382(0xfb));const _0x32b907=this['validateCardData'](_0x1d9372);if(!_0x32b907[_0x4ce382(0xe8)])return console['log'](_0x4ce382(0x10a),_0x32b907[_0x4ce382(0x109)]),{'success':![],'status':'FAILED','message':'Card\x20validation\x20failed','failureReason':_0x32b907[_0x4ce382(0x109)]};const _0x44d54a=_0x1d9372[_0x4ce382(0xf6)][_0x4ce382(0x100)](/[\s-]/g,'');if(_0x44d54a===this[_0x4ce382(0xda)]){const _0x77254a=this[_0x4ce382(0x102)]();return console['log']('‚úÖ\x20Test\x20payment\x20successful'),console[_0x4ce382(0xd8)](_0x4ce382(0xdd),_0x77254a),{'success':!![],'status':_0x4ce382(0xdf),'message':_0x4ce382(0xd3),'transactionId':_0x77254a};}else return console[_0x4ce382(0xd8)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0x4ce382(0xd2),'message':_0x4ce382(0xe2),'failureReason':_0x4ce382(0x103)};}['validateCardData'](_0x3e85b9){const _0x719455=a45_0x11fbda,_0xbd2615=_0x3e85b9[_0x719455(0xf6)][_0x719455(0x100)](/[\s-]/g,'');if(!/^\d{16}$/[_0x719455(0xe7)](_0xbd2615))return{'isValid':![],'error':_0x719455(0x107)};if(!_0x3e85b9[_0x719455(0xfa)]||_0x3e85b9['cardHolderName'][_0x719455(0xe4)]()[_0x719455(0xeb)]<0x2)return{'isValid':![],'error':_0x719455(0xdc)};const _0x206b17=parseInt(_0x3e85b9[_0x719455(0xf1)]);if(isNaN(_0x206b17)||_0x206b17<0x1||_0x206b17>0xc)return{'isValid':![],'error':_0x719455(0xe9)};const _0x527d6c=parseInt(_0x3e85b9[_0x719455(0xfe)]),_0x589a27=new Date()[_0x719455(0x106)]();if(isNaN(_0x527d6c)||_0x527d6c<_0x589a27||_0x527d6c>_0x589a27+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x719455(0xe7)](_0x3e85b9[_0x719455(0xff)]))return{'isValid':![],'error':_0x719455(0xec)};return{'isValid':!![]};}['maskCardNumber'](_0x56433f){const _0x4752ff=a45_0x11fbda,_0x53f688=_0x56433f[_0x4752ff(0x100)](/[\s-]/g,'');if(_0x53f688[_0x4752ff(0xeb)]<0x4)return _0x4752ff(0x10c);return'****\x20****\x20****\x20'+_0x53f688[_0x4752ff(0xf7)](-0x4);}[a45_0x11fbda(0x102)](){const _0x2548a3=a45_0x11fbda,_0x1dfe53=Date[_0x2548a3(0xe1)]()['toString'](),_0x3c9111=Math[_0x2548a3(0xef)](Math[_0x2548a3(0x104)]()*0x2710)[_0x2548a3(0xf2)]()[_0x2548a3(0x101)](0x4,'0');return _0x2548a3(0xde)+_0x1dfe53+'_'+_0x3c9111;}async[a45_0x11fbda(0xd6)](_0x3afcce){const _0x456a7a=a45_0x11fbda;return console[_0x456a7a(0xd8)](_0x456a7a(0xd0),_0x3afcce),{'paymentId':_0x3afcce['order_id']||'','status':_0x3afcce[_0x456a7a(0xd4)]===_0x456a7a(0xfd)?'PAID':_0x456a7a(0xd2),'amount':_0x3afcce[_0x456a7a(0xe5)],'currency':_0x3afcce[_0x456a7a(0xf5)]};}}exports['TestGatewayService']=TestGatewayService;