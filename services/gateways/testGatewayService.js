'use strict';const a46_0x3d7346=a46_0x34da;(function(_0x349e3b,_0xb6d986){const _0x50b72d=a46_0x34da,_0x1662a8=_0x349e3b();while(!![]){try{const _0x3c712e=-parseInt(_0x50b72d(0x136))/0x1+parseInt(_0x50b72d(0x124))/0x2+parseInt(_0x50b72d(0x128))/0x3*(-parseInt(_0x50b72d(0x116))/0x4)+-parseInt(_0x50b72d(0x138))/0x5*(parseInt(_0x50b72d(0x135))/0x6)+-parseInt(_0x50b72d(0x11c))/0x7*(parseInt(_0x50b72d(0x12c))/0x8)+-parseInt(_0x50b72d(0x132))/0x9*(parseInt(_0x50b72d(0x126))/0xa)+parseInt(_0x50b72d(0x119))/0xb*(parseInt(_0x50b72d(0x113))/0xc);if(_0x3c712e===_0xb6d986)break;else _0x1662a8['push'](_0x1662a8['shift']());}catch(_0x4c04c6){_0x1662a8['push'](_0x1662a8['shift']());}}}(a46_0x3269,0x2a113));function a46_0x34da(_0x1a0f03,_0x10219c){const _0x326928=a46_0x3269();return a46_0x34da=function(_0x34dad7,_0x447ae9){_0x34dad7=_0x34dad7-0x10b;let _0x5ec212=_0x326928[_0x34dad7];return _0x5ec212;},a46_0x34da(_0x1a0f03,_0x10219c);}function a46_0x3269(){const _0x4d6931=['üß™\x20Test\x20Gateway\x20service\x20initialized','cardNumber','status','SUCCESS_CARD','cardHolderName','defineProperty','expiryYear','Card\x20number\x20must\x20be\x2016\x20digits','cvc','***','CVC:','2767476rJgsFl','floor','CVC\x20must\x20be\x203\x20or\x204\x20digits','24hUiWaX','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','test','55zjuOKI','Invalid\x20expiry\x20year','expiryMonth','1172836fXFxJa','TestGatewayService','error','Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card','Card\x20validation\x20failed','PAID','validateCardData','random','109718MEHOyF','Card\x20Holder:','10ekXSxg','padStart','62442idXQBF','Amount:','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20holder\x20name\x20is\x20required','16omlwqH','success','amount','Transaction\x20ID:','toString','Card\x20Number:','299097xuvylL','trim','maskCardNumber','126KzJNuw','335415VERMoR','currency','49295uQtbXT','generateTransactionId','processCardPayment','Payment\x20ID:','log','****\x20****\x20****\x20','replace','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','getFullYear','length','FAILED','Expiry:','order_id','****'];a46_0x3269=function(){return _0x4d6931;};return a46_0x3269();}Object[a46_0x3d7346(0x10d)](exports,'__esModule',{'value':!![]}),exports[a46_0x3d7346(0x11d)]=void 0x0;class TestGatewayService{constructor(){const _0x51cd28=a46_0x3d7346;this[_0x51cd28(0x10b)]='4242424242424242',console['log'](_0x51cd28(0x146));}async[a46_0x3d7346(0x13a)](_0x4c1a30){const _0x400075=a46_0x3d7346,{paymentId:_0x3f45de,orderId:_0x1c6cbe,amount:_0x50fb8,currency:_0x33bdde,cardData:_0x5b4b58}=_0x4c1a30;console[_0x400075(0x13c)](_0x400075(0x13f)),console[_0x400075(0x13c)](_0x400075(0x13b),_0x3f45de),console['log']('Order\x20ID:',_0x1c6cbe),console['log'](_0x400075(0x129),_0x50fb8,_0x33bdde),console[_0x400075(0x13c)](_0x400075(0x131),this[_0x400075(0x134)](_0x5b4b58['cardNumber'])),console[_0x400075(0x13c)](_0x400075(0x125),_0x5b4b58[_0x400075(0x10c)]),console[_0x400075(0x13c)](_0x400075(0x143),_0x5b4b58[_0x400075(0x11b)]+'/'+_0x5b4b58[_0x400075(0x10e)]),console['log'](_0x400075(0x112),_0x400075(0x111));const _0x33a537=this[_0x400075(0x122)](_0x5b4b58);if(!_0x33a537['isValid'])return console[_0x400075(0x13c)]('‚ùå\x20Card\x20validation\x20failed:',_0x33a537[_0x400075(0x11e)]),{'success':![],'status':_0x400075(0x142),'message':_0x400075(0x120),'failureReason':_0x33a537[_0x400075(0x11e)]};const _0x36a443=_0x5b4b58[_0x400075(0x147)][_0x400075(0x13e)](/[\s-]/g,'');if(_0x36a443===this[_0x400075(0x10b)]){const _0x575493=this[_0x400075(0x139)]();return console[_0x400075(0x13c)]('‚úÖ\x20Test\x20payment\x20successful'),console[_0x400075(0x13c)](_0x400075(0x12f),_0x575493),{'success':!![],'status':_0x400075(0x121),'message':'Payment\x20processed\x20successfully','transactionId':_0x575493};}else return console[_0x400075(0x13c)](_0x400075(0x117)),{'success':![],'status':_0x400075(0x142),'message':'Payment\x20failed','failureReason':_0x400075(0x11f)};}[a46_0x3d7346(0x122)](_0x375451){const _0x2b625c=a46_0x3d7346,_0x24f9ad=_0x375451[_0x2b625c(0x147)][_0x2b625c(0x13e)](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x24f9ad))return{'isValid':![],'error':_0x2b625c(0x10f)};if(!_0x375451[_0x2b625c(0x10c)]||_0x375451['cardHolderName'][_0x2b625c(0x133)]()[_0x2b625c(0x141)]<0x2)return{'isValid':![],'error':_0x2b625c(0x12b)};const _0x26f444=parseInt(_0x375451[_0x2b625c(0x11b)]);if(isNaN(_0x26f444)||_0x26f444<0x1||_0x26f444>0xc)return{'isValid':![],'error':'Invalid\x20expiry\x20month'};const _0x37478a=parseInt(_0x375451[_0x2b625c(0x10e)]),_0x55f10e=new Date()[_0x2b625c(0x140)](),_0x193c06=_0x37478a<0x32?0x7d0+_0x37478a:0x76c+_0x37478a;if(isNaN(_0x37478a)||_0x193c06<_0x55f10e||_0x193c06>_0x55f10e+0x14)return{'isValid':![],'error':_0x2b625c(0x11a)};if(!/^\d{3,4}$/[_0x2b625c(0x118)](_0x375451[_0x2b625c(0x110)]))return{'isValid':![],'error':_0x2b625c(0x115)};return{'isValid':!![]};}['maskCardNumber'](_0x1b18c0){const _0x4d1971=a46_0x3d7346,_0x162807=_0x1b18c0['replace'](/[\s-]/g,'');if(_0x162807[_0x4d1971(0x141)]<0x4)return _0x4d1971(0x145);return _0x4d1971(0x13d)+_0x162807['slice'](-0x4);}[a46_0x3d7346(0x139)](){const _0x330935=a46_0x3d7346,_0x197b05=Date['now']()['toString'](),_0x123704=Math[_0x330935(0x114)](Math[_0x330935(0x123)]()*0x2710)[_0x330935(0x130)]()[_0x330935(0x127)](0x4,'0');return'test_'+_0x197b05+'_'+_0x123704;}async['processWebhook'](_0x110454){const _0x54bf74=a46_0x3d7346;return console[_0x54bf74(0x13c)](_0x54bf74(0x12a),_0x110454),{'paymentId':_0x110454[_0x54bf74(0x144)]||'','status':_0x110454[_0x54bf74(0x148)]===_0x54bf74(0x12d)?_0x54bf74(0x121):'FAILED','amount':_0x110454[_0x54bf74(0x12e)],'currency':_0x110454[_0x54bf74(0x137)]};}}exports[a46_0x3d7346(0x11d)]=TestGatewayService;