'use strict';function a71_0x40b0(){const _0x2b16b7=['trim','677434FWrclM','10215504suaODK','****','SUCCESS_CARD','success','Card\x20Number:','‚ùå\x20Card\x20validation\x20failed:','replace','‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number','cvc','12zMlUKh','2681728fQvgNt','4242424242424242','defineProperty','1757LVDVxb','Invalid\x20expiry\x20month','cardNumber','üß™\x20Test\x20Gateway\x20service\x20initialized','Card\x20validation\x20failed','CVC\x20must\x20be\x203\x20or\x204\x20digits','maskCardNumber','Payment\x20processed\x20successfully','isValid','3870cnyKMj','FAILED','generateTransactionId','Invalid\x20expiry\x20year','TestGatewayService','expiryMonth','***','205360kovPpN','‚úÖ\x20Test\x20payment\x20successful','toString','expiryYear','floor','PAID','Transaction\x20ID:','878250GFPvJX','Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):','Card\x20Holder:','CVC:','log','Card\x20number\x20must\x20be\x2016\x20digits','processCardPayment','processWebhook','Payment\x20failed','1351898Zoibpe','Payment\x20ID:','now','status','test_','cardHolderName','__esModule'];a71_0x40b0=function(){return _0x2b16b7;};return a71_0x40b0();}const a71_0x449f1f=a71_0x453e;(function(_0xc8d5fd,_0x5b7d07){const _0x533c31=a71_0x453e,_0x403412=_0xc8d5fd();while(!![]){try{const _0x95844f=-parseInt(_0x533c31(0xfa))/0x1+parseInt(_0x533c31(0x128))/0x2+parseInt(_0x533c31(0x104))/0x3*(parseInt(_0x533c31(0x118))/0x4)+-parseInt(_0x533c31(0x11f))/0x5+-parseInt(_0x533c31(0x111))/0x6*(parseInt(_0x533c31(0x108))/0x7)+-parseInt(_0x533c31(0x105))/0x8+parseInt(_0x533c31(0xfb))/0x9;if(_0x95844f===_0x5b7d07)break;else _0x403412['push'](_0x403412['shift']());}catch(_0x378630){_0x403412['push'](_0x403412['shift']());}}}(a71_0x40b0,0xa2a3a));function a71_0x453e(_0x1b1e3e,_0x298bf6){_0x1b1e3e=_0x1b1e3e-0xf9;const _0x40b06d=a71_0x40b0();let _0x453ee7=_0x40b06d[_0x1b1e3e];return _0x453ee7;}Object[a71_0x449f1f(0x107)](exports,a71_0x449f1f(0x12e),{'value':!![]}),exports[a71_0x449f1f(0x115)]=void 0x0;class TestGatewayService{constructor(){const _0x283559=a71_0x449f1f;this[_0x283559(0xfd)]=_0x283559(0x106),console[_0x283559(0x123)](_0x283559(0x10b));}async[a71_0x449f1f(0x125)](_0x3c201b){const _0x1cbc6b=a71_0x449f1f,{paymentId:_0x292575,orderId:_0x3f526b,amount:_0x5e1704,currency:_0x2e4724,cardData:_0x4c6fab}=_0x3c201b;console['log']('===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20==='),console[_0x1cbc6b(0x123)](_0x1cbc6b(0x129),_0x292575),console[_0x1cbc6b(0x123)]('Order\x20ID:',_0x3f526b),console[_0x1cbc6b(0x123)]('Amount:',_0x5e1704,_0x2e4724),console[_0x1cbc6b(0x123)](_0x1cbc6b(0xff),this[_0x1cbc6b(0x10e)](_0x4c6fab['cardNumber'])),console[_0x1cbc6b(0x123)](_0x1cbc6b(0x121),_0x4c6fab['cardHolderName']),console[_0x1cbc6b(0x123)]('Expiry:',_0x4c6fab['expiryMonth']+'/'+_0x4c6fab[_0x1cbc6b(0x11b)]),console[_0x1cbc6b(0x123)](_0x1cbc6b(0x122),_0x1cbc6b(0x117));const _0x7dd38c=this['validateCardData'](_0x4c6fab);if(!_0x7dd38c[_0x1cbc6b(0x110)])return console[_0x1cbc6b(0x123)](_0x1cbc6b(0x100),_0x7dd38c['error']),{'success':![],'status':_0x1cbc6b(0x112),'message':_0x1cbc6b(0x10c),'failureReason':_0x7dd38c['error']};const _0x34f570=_0x4c6fab[_0x1cbc6b(0x10a)]['replace'](/[\s-]/g,'');if(_0x34f570===this['SUCCESS_CARD']){const _0x4b5478=this[_0x1cbc6b(0x113)]();return console[_0x1cbc6b(0x123)](_0x1cbc6b(0x119)),console[_0x1cbc6b(0x123)](_0x1cbc6b(0x11e),_0x4b5478),{'success':!![],'status':_0x1cbc6b(0x11d),'message':_0x1cbc6b(0x10f),'transactionId':_0x4b5478};}else return console['log'](_0x1cbc6b(0x102)),{'success':![],'status':_0x1cbc6b(0x112),'message':_0x1cbc6b(0x127),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}['validateCardData'](_0x13bb65){const _0x45ada9=a71_0x449f1f,_0x303c2a=_0x13bb65[_0x45ada9(0x10a)]['replace'](/[\s-]/g,'');if(!/^\d{16}$/['test'](_0x303c2a))return{'isValid':![],'error':_0x45ada9(0x124)};if(!_0x13bb65[_0x45ada9(0x12d)]||_0x13bb65[_0x45ada9(0x12d)][_0x45ada9(0xf9)]()['length']<0x2)return{'isValid':![],'error':'Card\x20holder\x20name\x20is\x20required'};const _0x10fe8e=parseInt(_0x13bb65[_0x45ada9(0x116)]);if(isNaN(_0x10fe8e)||_0x10fe8e<0x1||_0x10fe8e>0xc)return{'isValid':![],'error':_0x45ada9(0x109)};const _0x562ebb=parseInt(_0x13bb65[_0x45ada9(0x11b)]),_0x84c83e=new Date()['getFullYear'](),_0x53f0c8=_0x562ebb<0x32?0x7d0+_0x562ebb:0x76c+_0x562ebb;if(isNaN(_0x562ebb)||_0x53f0c8<_0x84c83e||_0x53f0c8>_0x84c83e+0x14)return{'isValid':![],'error':_0x45ada9(0x114)};if(!/^\d{3,4}$/['test'](_0x13bb65[_0x45ada9(0x103)]))return{'isValid':![],'error':_0x45ada9(0x10d)};return{'isValid':!![]};}['maskCardNumber'](_0x5142c1){const _0x7871a0=a71_0x449f1f,_0x44ae2f=_0x5142c1[_0x7871a0(0x101)](/[\s-]/g,'');if(_0x44ae2f['length']<0x4)return _0x7871a0(0xfc);return'****\x20****\x20****\x20'+_0x44ae2f['slice'](-0x4);}['generateTransactionId'](){const _0xbef4a4=a71_0x449f1f,_0x26bebf=Date[_0xbef4a4(0x12a)]()[_0xbef4a4(0x11a)](),_0x582d3e=Math[_0xbef4a4(0x11c)](Math['random']()*0x2710)['toString']()['padStart'](0x4,'0');return _0xbef4a4(0x12c)+_0x26bebf+'_'+_0x582d3e;}async[a71_0x449f1f(0x126)](_0x493387){const _0x57474b=a71_0x449f1f;return console[_0x57474b(0x123)](_0x57474b(0x120),_0x493387),{'paymentId':_0x493387['order_id']||'','status':_0x493387[_0x57474b(0x12b)]===_0x57474b(0xfe)?_0x57474b(0x11d):'FAILED','amount':_0x493387['amount'],'currency':_0x493387['currency']};}}exports[a71_0x449f1f(0x115)]=TestGatewayService;