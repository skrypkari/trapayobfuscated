'use strict';const a46_0x480d2c=a46_0x57d0;(function(_0x579a66,_0x107745){const _0x42f051=a46_0x57d0,_0x541c63=_0x579a66();while(!![]){try{const _0x50c0b4=-parseInt(_0x42f051(0x80))/0x1+parseInt(_0x42f051(0xa1))/0x2+parseInt(_0x42f051(0x7c))/0x3*(parseInt(_0x42f051(0x69))/0x4)+parseInt(_0x42f051(0x94))/0x5*(-parseInt(_0x42f051(0xa0))/0x6)+parseInt(_0x42f051(0x73))/0x7+parseInt(_0x42f051(0x6f))/0x8+-parseInt(_0x42f051(0x6a))/0x9*(-parseInt(_0x42f051(0x70))/0xa);if(_0x50c0b4===_0x107745)break;else _0x541c63['push'](_0x541c63['shift']());}catch(_0x4d503b){_0x541c63['push'](_0x541c63['shift']());}}}(a46_0x1890,0x214f6));Object[a46_0x480d2c(0x7b)](exports,a46_0x480d2c(0x90),{'value':!![]}),exports[a46_0x480d2c(0x71)]=void 0x0;function a46_0x57d0(_0x5b2cf9,_0x18bd0){const _0x1890c2=a46_0x1890();return a46_0x57d0=function(_0x57d03e,_0x1420a8){_0x57d03e=_0x57d03e-0x66;let _0x3d94a4=_0x1890c2[_0x57d03e];return _0x3d94a4;},a46_0x57d0(_0x5b2cf9,_0x18bd0);}class TestGatewayService{constructor(){const _0x2a9189=a46_0x480d2c;this['SUCCESS_CARD']=_0x2a9189(0x6d),console['log'](_0x2a9189(0x75));}async[a46_0x480d2c(0x98)](_0x4407a6){const _0xcc1d51=a46_0x480d2c,{paymentId:_0x3a3147,orderId:_0x34f1bf,amount:_0x2d6385,currency:_0x19f0dc,cardData:_0x19c6f3}=_0x4407a6;console[_0xcc1d51(0x82)](_0xcc1d51(0x8a)),console['log'](_0xcc1d51(0x9d),_0x3a3147),console['log'](_0xcc1d51(0x93),_0x34f1bf),console[_0xcc1d51(0x82)](_0xcc1d51(0x8b),_0x2d6385,_0x19f0dc),console[_0xcc1d51(0x82)]('Card\x20Number:',this[_0xcc1d51(0x96)](_0x19c6f3[_0xcc1d51(0x95)])),console[_0xcc1d51(0x82)]('Card\x20Holder:',_0x19c6f3[_0xcc1d51(0x97)]),console[_0xcc1d51(0x82)](_0xcc1d51(0x83),_0x19c6f3[_0xcc1d51(0x7a)]+'/'+_0x19c6f3[_0xcc1d51(0x7f)]),console['log'](_0xcc1d51(0x9a),_0xcc1d51(0x84));const _0x17be26=this[_0xcc1d51(0x8f)](_0x19c6f3);if(!_0x17be26[_0xcc1d51(0x76)])return console['log'](_0xcc1d51(0x8e),_0x17be26[_0xcc1d51(0x85)]),{'success':![],'status':_0xcc1d51(0x67),'message':'Card\x20validation\x20failed','failureReason':_0x17be26[_0xcc1d51(0x85)]};const _0x22e204=_0x19c6f3[_0xcc1d51(0x95)][_0xcc1d51(0x89)](/[\s-]/g,'');if(_0x22e204===this['SUCCESS_CARD']){const _0x615ba0=this[_0xcc1d51(0x9e)]();return console['log'](_0xcc1d51(0x8c)),console['log'](_0xcc1d51(0x78),_0x615ba0),{'success':!![],'status':'PAID','message':_0xcc1d51(0x7d),'transactionId':_0x615ba0};}else return console[_0xcc1d51(0x82)]('‚ùå\x20Test\x20payment\x20failed\x20-\x20invalid\x20card\x20number'),{'success':![],'status':_0xcc1d51(0x67),'message':_0xcc1d51(0x92),'failureReason':'Card\x20declined\x20-\x20insufficient\x20funds\x20or\x20invalid\x20card'};}['validateCardData'](_0x585419){const _0x41a1c3=a46_0x480d2c,_0x2f51a0=_0x585419[_0x41a1c3(0x95)][_0x41a1c3(0x89)](/[\s-]/g,'');if(!/^\d{16}$/[_0x41a1c3(0x81)](_0x2f51a0))return{'isValid':![],'error':_0x41a1c3(0x9b)};if(!_0x585419['cardHolderName']||_0x585419['cardHolderName'][_0x41a1c3(0x91)]()[_0x41a1c3(0x9f)]<0x2)return{'isValid':![],'error':_0x41a1c3(0x99)};const _0x3a7f2e=parseInt(_0x585419[_0x41a1c3(0x7a)]);if(isNaN(_0x3a7f2e)||_0x3a7f2e<0x1||_0x3a7f2e>0xc)return{'isValid':![],'error':_0x41a1c3(0x77)};const _0x6ccb2d=parseInt(_0x585419[_0x41a1c3(0x7f)]),_0x28ffeb=new Date()[_0x41a1c3(0x87)](),_0x1f4be4=_0x6ccb2d<0x32?0x7d0+_0x6ccb2d:0x76c+_0x6ccb2d;if(isNaN(_0x6ccb2d)||_0x1f4be4<_0x28ffeb||_0x1f4be4>_0x28ffeb+0x14)return{'isValid':![],'error':'Invalid\x20expiry\x20year'};if(!/^\d{3,4}$/[_0x41a1c3(0x81)](_0x585419[_0x41a1c3(0x68)]))return{'isValid':![],'error':_0x41a1c3(0x7e)};return{'isValid':!![]};}['maskCardNumber'](_0x2ba55f){const _0xf06c0c=a46_0x480d2c,_0x2655d2=_0x2ba55f[_0xf06c0c(0x89)](/[\s-]/g,'');if(_0x2655d2[_0xf06c0c(0x9f)]<0x4)return _0xf06c0c(0x8d);return _0xf06c0c(0x79)+_0x2655d2['slice'](-0x4);}['generateTransactionId'](){const _0x53d850=a46_0x480d2c,_0x584869=Date[_0x53d850(0x6c)]()['toString'](),_0x19ffa3=Math['floor'](Math[_0x53d850(0x6e)]()*0x2710)[_0x53d850(0x6b)]()['padStart'](0x4,'0');return _0x53d850(0x86)+_0x584869+'_'+_0x19ffa3;}async[a46_0x480d2c(0x72)](_0x1561e3){const _0x5c271a=a46_0x480d2c;return console[_0x5c271a(0x82)]('Processing\x20Test\x20Gateway\x20webhook\x20(not\x20typically\x20used):',_0x1561e3),{'paymentId':_0x1561e3[_0x5c271a(0x74)]||'','status':_0x1561e3['status']===_0x5c271a(0x88)?_0x5c271a(0x9c):_0x5c271a(0x67),'amount':_0x1561e3[_0x5c271a(0x66)],'currency':_0x1561e3['currency']};}}exports[a46_0x480d2c(0x71)]=TestGatewayService;function a46_0x1890(){const _0x36d230=['PAID','Payment\x20ID:','generateTransactionId','length','541332rNnOff','363996VZPHRg','amount','FAILED','cvc','12usRVhE','261EaOMtN','toString','now','4242424242424242','random','169000XzNldI','79210hhfHdV','TestGatewayService','processWebhook','211001OaNPyM','order_id','üß™\x20Test\x20Gateway\x20service\x20initialized','isValid','Invalid\x20expiry\x20month','Transaction\x20ID:','****\x20****\x20****\x20','expiryMonth','defineProperty','197991wRJSVS','Payment\x20processed\x20successfully','CVC\x20must\x20be\x203\x20or\x204\x20digits','expiryYear','253862bWXLus','test','log','Expiry:','***','error','test_','getFullYear','success','replace','===\x20TEST\x20GATEWAY\x20CARD\x20PROCESSING\x20===','Amount:','‚úÖ\x20Test\x20payment\x20successful','****','‚ùå\x20Card\x20validation\x20failed:','validateCardData','__esModule','trim','Payment\x20failed','Order\x20ID:','15HjtDEo','cardNumber','maskCardNumber','cardHolderName','processCardPayment','Card\x20holder\x20name\x20is\x20required','CVC:','Card\x20number\x20must\x20be\x2016\x20digits'];a46_0x1890=function(){return _0x36d230;};return a46_0x1890();}