'use strict';const a60_0x525a04=a60_0x286b;(function(_0x3ca232,_0x45a181){const _0x5997d3=a60_0x286b,_0x1eb97f=_0x3ca232();while(!![]){try{const _0xab6219=parseInt(_0x5997d3(0x9f))/0x1*(-parseInt(_0x5997d3(0xab))/0x2)+-parseInt(_0x5997d3(0xb9))/0x3+parseInt(_0x5997d3(0xb7))/0x4*(-parseInt(_0x5997d3(0xa4))/0x5)+-parseInt(_0x5997d3(0x99))/0x6*(parseInt(_0x5997d3(0xb1))/0x7)+parseInt(_0x5997d3(0x9a))/0x8+parseInt(_0x5997d3(0xb8))/0x9+-parseInt(_0x5997d3(0xa1))/0xa*(-parseInt(_0x5997d3(0xbf))/0xb);if(_0xab6219===_0x45a181)break;else _0x1eb97f['push'](_0x1eb97f['shift']());}catch(_0x168850){_0x1eb97f['push'](_0x1eb97f['shift']());}}}(a60_0x5262,0xdd350));function a60_0x286b(_0x1e250e,_0x279f43){_0x1e250e=_0x1e250e-0x98;const _0x526256=a60_0x5262();let _0x286b93=_0x526256[_0x1e250e];return _0x286b93;}var __importDefault=this&&this[a60_0x525a04(0x9c)]||function(_0x679818){const _0x2cc266=a60_0x525a04;return _0x679818&&_0x679818[_0x2cc266(0xba)]?_0x679818:{'default':_0x679818};};Object[a60_0x525a04(0xc1)](exports,a60_0x525a04(0xba),{'value':!![]}),exports[a60_0x525a04(0xaa)]=exports[a60_0x525a04(0xb0)]=void 0x0;const fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a60_0x525a04(0xb4))),gateway_1=require(a60_0x525a04(0xa9)),SETTINGS_FILE_PATH=path_1[a60_0x525a04(0xc3)][a60_0x525a04(0xa0)](__dirname,a60_0x525a04(0x9b)),getDefaultSettings=()=>{const _0x46d950=a60_0x525a04,_0x4c0a93={};return gateway_1[_0x46d950(0xc0)][_0x46d950(0xa8)](_0x20e524=>{_0x4c0a93[_0x20e524['id']]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0};}),_0x4c0a93;},ensureSettingsFileExists=()=>{const _0x1c2a7b=a60_0x525a04;if(!fs_1[_0x1c2a7b(0xc3)][_0x1c2a7b(0xae)](SETTINGS_FILE_PATH)){const _0x2b65dd=getDefaultSettings();fs_1[_0x1c2a7b(0xc3)][_0x1c2a7b(0xb6)](SETTINGS_FILE_PATH,JSON[_0x1c2a7b(0xaf)](_0x2b65dd,null,0x2),'utf8'),console[_0x1c2a7b(0xad)](_0x1c2a7b(0x98));}};function a60_0x5262(){const _0x5b0e6d=['112981YQGRTd','AVAILABLE_GATEWAYS','defineProperty','Error\x20updating\x20gateway\x20settings:','default','Error\x20reading\x20gateway\x20settings:','✅\x20Created\x20gateway-settings.json\x20with\x20default\x20values','6SNsSgh','11860816ydyVcH','../../gateway-settings.json','__importDefault','isArray','utf8','1TWaeVs','join','520bBoQhi','getAllGatewaysWithSettings','displayName','165adOsgv','Failed\x20to\x20update\x20gateway\x20settings','✅\x20Updated\x20gateway\x20settings\x20for\x20','error','forEach','../types/gateway','gatewaySettingsService','1528468pCWgNM','getSettings','log','existsSync','stringify','GatewaySettingsService','2984534wyLPNr','includes','filter','path','getSettingsByGatewayId','writeFileSync','76088hxEnNI','11422188MWduaQ','1684320qunpbb','__esModule','getGatewaysForShop','parse','name','map'];a60_0x5262=function(){return _0x5b0e6d;};return a60_0x5262();}class GatewaySettingsService{['getSettings'](){const _0x44d12a=a60_0x525a04;try{ensureSettingsFileExists();const _0x11eb88=fs_1['default']['readFileSync'](SETTINGS_FILE_PATH,_0x44d12a(0x9e)),_0x19a9ea=JSON[_0x44d12a(0xbc)](_0x11eb88);return _0x19a9ea;}catch(_0xe3f10f){return console[_0x44d12a(0xa7)](_0x44d12a(0xc4),_0xe3f10f),getDefaultSettings();}}[a60_0x525a04(0xb5)](_0x50125a){const _0x4c6d70=a60_0x525a04,_0x17defa=this[_0x4c6d70(0xac)]();return _0x17defa[_0x50125a]||null;}['updateSettings'](_0x487c00,_0x2ed0b3){const _0xf0e5c7=a60_0x525a04;try{ensureSettingsFileExists();const _0x1bccc1=this[_0xf0e5c7(0xac)]();return!_0x1bccc1[_0x487c00]&&(_0x1bccc1[_0x487c00]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}),_0x1bccc1[_0x487c00]={..._0x1bccc1[_0x487c00],..._0x2ed0b3},fs_1[_0xf0e5c7(0xc3)][_0xf0e5c7(0xb6)](SETTINGS_FILE_PATH,JSON[_0xf0e5c7(0xaf)](_0x1bccc1,null,0x2),'utf8'),console[_0xf0e5c7(0xad)](_0xf0e5c7(0xa6)+_0x487c00+':',_0x1bccc1[_0x487c00]),_0x1bccc1;}catch(_0x210ece){console[_0xf0e5c7(0xa7)](_0xf0e5c7(0xc2),_0x210ece);throw new Error(_0xf0e5c7(0xa5));}}[a60_0x525a04(0xa2)](){const _0xf521b0=a60_0x525a04,_0x5d79c9=this['getSettings']();return gateway_1[_0xf521b0(0xc0)]['map'](_0x2f154e=>({'id':_0x2f154e['id'],'name':_0x2f154e[_0xf521b0(0xbd)],'displayName':_0x2f154e[_0xf521b0(0xa3)],'settings':_0x5d79c9[_0x2f154e['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}[a60_0x525a04(0xbb)](_0x416cdc){const _0x17a0b9=a60_0x525a04,_0x707545=this[_0x17a0b9(0xac)]();if(!_0x416cdc||!Array[_0x17a0b9(0x9d)](_0x416cdc)||_0x416cdc['length']===0x0)return[];return gateway_1[_0x17a0b9(0xc0)][_0x17a0b9(0xb3)](_0x3eda3d=>_0x416cdc[_0x17a0b9(0xb2)](_0x3eda3d[_0x17a0b9(0xbd)]))[_0x17a0b9(0xbe)](_0x264eb5=>({'id':_0x264eb5['id'],'name':_0x264eb5[_0x17a0b9(0xbd)],'displayName':_0x264eb5[_0x17a0b9(0xa3)],'settings':_0x707545[_0x264eb5['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}}exports[a60_0x525a04(0xb0)]=GatewaySettingsService,exports['gatewaySettingsService']=new GatewaySettingsService();