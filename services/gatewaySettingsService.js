'use strict';function a60_0x3e6a(_0x299666,_0x5199c5){_0x299666=_0x299666-0x1dd;const _0x30951c=a60_0x3095();let _0x3e6ad6=_0x30951c[_0x299666];return _0x3e6ad6;}const a60_0x58be55=a60_0x3e6a;function a60_0x3095(){const _0x206e36=['log','gatewaySettingsService','writeFileSync','Error\x20updating\x20gateway\x20settings:','path','AVAILABLE_GATEWAYS','defineProperty','GatewaySettingsService','9pDpYjA','includes','../../gateway-settings.json','readFileSync','3653850MindYK','length','3338550eYkcUE','184930QZHBZG','137490SSSBuq','../types/gateway','displayName','join','__importDefault','Failed\x20to\x20update\x20gateway\x20settings','stringify','176tnabTF','✅\x20Created\x20gateway-settings.json\x20with\x20default\x20values','getGatewaysForShop','758564zpNQKp','5658156itgpFm','getAllGatewaysWithSettings','isArray','forEach','getSettings','name','error','utf8','getSettingsByGatewayId','76699GXpupr','6bIADCf','__esModule','parse','default','existsSync','filter','✅\x20Updated\x20gateway\x20settings\x20for\x20','220WcPDfa'];a60_0x3095=function(){return _0x206e36;};return a60_0x3095();}(function(_0x45ef1a,_0x3a0a78){const _0x203a36=a60_0x3e6a,_0x37aa12=_0x45ef1a();while(!![]){try{const _0x13adca=parseInt(_0x203a36(0x1f6))/0x1*(parseInt(_0x203a36(0x1e0))/0x2)+parseInt(_0x203a36(0x206))/0x3*(-parseInt(_0x203a36(0x1eb))/0x4)+-parseInt(_0x203a36(0x1dd))/0x5+parseInt(_0x203a36(0x1df))/0x6+-parseInt(_0x203a36(0x1f5))/0x7*(-parseInt(_0x203a36(0x1e8))/0x8)+parseInt(_0x203a36(0x1ec))/0x9+-parseInt(_0x203a36(0x1e1))/0xa*(parseInt(_0x203a36(0x1fd))/0xb);if(_0x13adca===_0x3a0a78)break;else _0x37aa12['push'](_0x37aa12['shift']());}catch(_0x3d416f){_0x37aa12['push'](_0x37aa12['shift']());}}}(a60_0x3095,0x63308));var __importDefault=this&&this[a60_0x58be55(0x1e5)]||function(_0x4ea4f3){const _0x3b6b60=a60_0x58be55;return _0x4ea4f3&&_0x4ea4f3[_0x3b6b60(0x1f7)]?_0x4ea4f3:{'default':_0x4ea4f3};};Object[a60_0x58be55(0x204)](exports,a60_0x58be55(0x1f7),{'value':!![]}),exports[a60_0x58be55(0x1ff)]=exports[a60_0x58be55(0x205)]=void 0x0;const fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a60_0x58be55(0x202))),gateway_1=require(a60_0x58be55(0x1e2)),SETTINGS_FILE_PATH=path_1[a60_0x58be55(0x1f9)][a60_0x58be55(0x1e4)](__dirname,a60_0x58be55(0x208)),getDefaultSettings=()=>{const _0x1b4082=a60_0x58be55,_0x30dbb9={};return gateway_1[_0x1b4082(0x203)][_0x1b4082(0x1ef)](_0x4fe780=>{_0x30dbb9[_0x4fe780['id']]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0};}),_0x30dbb9;},ensureSettingsFileExists=()=>{const _0x314950=a60_0x58be55;if(!fs_1[_0x314950(0x1f9)][_0x314950(0x1fa)](SETTINGS_FILE_PATH)){const _0x5d022e=getDefaultSettings();fs_1['default'][_0x314950(0x200)](SETTINGS_FILE_PATH,JSON[_0x314950(0x1e7)](_0x5d022e,null,0x2),_0x314950(0x1f3)),console['log'](_0x314950(0x1e9));}};class GatewaySettingsService{[a60_0x58be55(0x1f0)](){const _0x109819=a60_0x58be55;try{ensureSettingsFileExists();const _0x210465=fs_1[_0x109819(0x1f9)][_0x109819(0x209)](SETTINGS_FILE_PATH,'utf8'),_0x48577c=JSON[_0x109819(0x1f8)](_0x210465);return _0x48577c;}catch(_0x5f5291){return console['error']('Error\x20reading\x20gateway\x20settings:',_0x5f5291),getDefaultSettings();}}[a60_0x58be55(0x1f4)](_0x129c4d){const _0x327a64=a60_0x58be55,_0x52a0cc=this[_0x327a64(0x1f0)]();return _0x52a0cc[_0x129c4d]||null;}['updateSettings'](_0x3a82c1,_0x4fd12e){const _0x191fa0=a60_0x58be55;try{ensureSettingsFileExists();const _0x28a5bf=this[_0x191fa0(0x1f0)]();return!_0x28a5bf[_0x3a82c1]&&(_0x28a5bf[_0x3a82c1]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}),_0x28a5bf[_0x3a82c1]={..._0x28a5bf[_0x3a82c1],..._0x4fd12e},fs_1[_0x191fa0(0x1f9)][_0x191fa0(0x200)](SETTINGS_FILE_PATH,JSON[_0x191fa0(0x1e7)](_0x28a5bf,null,0x2),_0x191fa0(0x1f3)),console[_0x191fa0(0x1fe)](_0x191fa0(0x1fc)+_0x3a82c1+':',_0x28a5bf[_0x3a82c1]),_0x28a5bf;}catch(_0x2df693){console[_0x191fa0(0x1f2)](_0x191fa0(0x201),_0x2df693);throw new Error(_0x191fa0(0x1e6));}}[a60_0x58be55(0x1ed)](){const _0x1093f2=a60_0x58be55,_0xc0903d=this[_0x1093f2(0x1f0)]();return gateway_1['AVAILABLE_GATEWAYS']['map'](_0x162686=>({'id':_0x162686['id'],'name':_0x162686[_0x1093f2(0x1f1)],'displayName':_0x162686['displayName'],'settings':_0xc0903d[_0x162686['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}[a60_0x58be55(0x1ea)](_0x42b2fc){const _0x458328=a60_0x58be55,_0x594b5b=this[_0x458328(0x1f0)]();if(!_0x42b2fc||!Array[_0x458328(0x1ee)](_0x42b2fc)||_0x42b2fc[_0x458328(0x1de)]===0x0)return[];return gateway_1[_0x458328(0x203)][_0x458328(0x1fb)](_0x452d5b=>_0x42b2fc[_0x458328(0x207)](_0x452d5b[_0x458328(0x1f1)]))['map'](_0xfc0e9c=>({'id':_0xfc0e9c['id'],'name':_0xfc0e9c['name'],'displayName':_0xfc0e9c[_0x458328(0x1e3)],'settings':_0x594b5b[_0xfc0e9c['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}}exports['GatewaySettingsService']=GatewaySettingsService,exports[a60_0x58be55(0x1ff)]=new GatewaySettingsService();