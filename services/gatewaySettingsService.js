'use strict';const a60_0x3d6c0b=a60_0x4a93;(function(_0x517661,_0x446b49){const _0x289cac=a60_0x4a93,_0xc1b5ac=_0x517661();while(!![]){try{const _0x1ed021=-parseInt(_0x289cac(0x17e))/0x1*(-parseInt(_0x289cac(0x179))/0x2)+-parseInt(_0x289cac(0x178))/0x3*(parseInt(_0x289cac(0x180))/0x4)+-parseInt(_0x289cac(0x196))/0x5+parseInt(_0x289cac(0x183))/0x6+-parseInt(_0x289cac(0x173))/0x7*(parseInt(_0x289cac(0x182))/0x8)+parseInt(_0x289cac(0x18e))/0x9+-parseInt(_0x289cac(0x192))/0xa*(-parseInt(_0x289cac(0x184))/0xb);if(_0x1ed021===_0x446b49)break;else _0xc1b5ac['push'](_0xc1b5ac['shift']());}catch(_0x351199){_0xc1b5ac['push'](_0xc1b5ac['shift']());}}}(a60_0x56f8,0xae034));function a60_0x56f8(){const _0x17b2cb=['Failed\x20to\x20update\x20gateway\x20settings','parse','getGatewaysForShop','1427733VdlycY','2dJwAdY','map','✅\x20Updated\x20gateway\x20settings\x20for\x20','readFileSync','includes','443446mhWyGK','displayName','8joBzYt','__esModule','200IfGQkI','1879164WJzCgC','33WkcWmF','log','Error\x20updating\x20gateway\x20settings:','isArray','utf8','Error\x20reading\x20gateway\x20settings:','length','filter','writeFileSync','AVAILABLE_GATEWAYS','7301241qWxuTn','join','error','stringify','7338200CRttol','name','__importDefault','getSettings','5113105OSlRkY','default','forEach','getSettingsByGatewayId','getAllGatewaysWithSettings','defineProperty','updateSettings','GatewaySettingsService','✅\x20Created\x20gateway-settings.json\x20with\x20default\x20values','path','303002onjpKv','gatewaySettingsService'];a60_0x56f8=function(){return _0x17b2cb;};return a60_0x56f8();}function a60_0x4a93(_0x375bca,_0x365daa){_0x375bca=_0x375bca-0x170;const _0x56f866=a60_0x56f8();let _0x4a9344=_0x56f866[_0x375bca];return _0x4a9344;}var __importDefault=this&&this[a60_0x3d6c0b(0x194)]||function(_0x5c19cb){const _0x415531=a60_0x3d6c0b;return _0x5c19cb&&_0x5c19cb[_0x415531(0x181)]?_0x5c19cb:{'default':_0x5c19cb};};Object[a60_0x3d6c0b(0x19b)](exports,a60_0x3d6c0b(0x181),{'value':!![]}),exports[a60_0x3d6c0b(0x174)]=exports[a60_0x3d6c0b(0x170)]=void 0x0;const fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a60_0x3d6c0b(0x172))),gateway_1=require('../types/gateway'),SETTINGS_FILE_PATH=path_1[a60_0x3d6c0b(0x197)][a60_0x3d6c0b(0x18f)](__dirname,'../../gateway-settings.json'),getDefaultSettings=()=>{const _0x3b29e8=a60_0x3d6c0b,_0x13c3ad={};return gateway_1[_0x3b29e8(0x18d)][_0x3b29e8(0x198)](_0x236b39=>{_0x13c3ad[_0x236b39['id']]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0};}),_0x13c3ad;},ensureSettingsFileExists=()=>{const _0x3e8031=a60_0x3d6c0b;if(!fs_1['default']['existsSync'](SETTINGS_FILE_PATH)){const _0x5db2c4=getDefaultSettings();fs_1[_0x3e8031(0x197)][_0x3e8031(0x18c)](SETTINGS_FILE_PATH,JSON[_0x3e8031(0x191)](_0x5db2c4,null,0x2),_0x3e8031(0x188)),console[_0x3e8031(0x185)](_0x3e8031(0x171));}};class GatewaySettingsService{['getSettings'](){const _0xce5c14=a60_0x3d6c0b;try{ensureSettingsFileExists();const _0x17aeb9=fs_1[_0xce5c14(0x197)][_0xce5c14(0x17c)](SETTINGS_FILE_PATH,_0xce5c14(0x188)),_0x1f9cc1=JSON[_0xce5c14(0x176)](_0x17aeb9);return _0x1f9cc1;}catch(_0x215591){return console[_0xce5c14(0x190)](_0xce5c14(0x189),_0x215591),getDefaultSettings();}}[a60_0x3d6c0b(0x199)](_0x427800){const _0x27d5eb=a60_0x3d6c0b,_0x302707=this[_0x27d5eb(0x195)]();return _0x302707[_0x427800]||null;}[a60_0x3d6c0b(0x19c)](_0x526e5c,_0x2f3571){const _0x25f197=a60_0x3d6c0b;try{ensureSettingsFileExists();const _0x424df7=this['getSettings']();return!_0x424df7[_0x526e5c]&&(_0x424df7[_0x526e5c]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}),_0x424df7[_0x526e5c]={..._0x424df7[_0x526e5c],..._0x2f3571},fs_1[_0x25f197(0x197)][_0x25f197(0x18c)](SETTINGS_FILE_PATH,JSON[_0x25f197(0x191)](_0x424df7,null,0x2),'utf8'),console[_0x25f197(0x185)](_0x25f197(0x17b)+_0x526e5c+':',_0x424df7[_0x526e5c]),_0x424df7;}catch(_0x8bb819){console[_0x25f197(0x190)](_0x25f197(0x186),_0x8bb819);throw new Error(_0x25f197(0x175));}}[a60_0x3d6c0b(0x19a)](){const _0x3e10ba=a60_0x3d6c0b,_0x20c431=this['getSettings']();return gateway_1[_0x3e10ba(0x18d)][_0x3e10ba(0x17a)](_0x72bed=>({'id':_0x72bed['id'],'name':_0x72bed['name'],'displayName':_0x72bed[_0x3e10ba(0x17f)],'settings':_0x20c431[_0x72bed['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}[a60_0x3d6c0b(0x177)](_0x1e39f8){const _0x41bd57=a60_0x3d6c0b,_0x4a8eab=this[_0x41bd57(0x195)]();if(!_0x1e39f8||!Array[_0x41bd57(0x187)](_0x1e39f8)||_0x1e39f8[_0x41bd57(0x18a)]===0x0)return[];return gateway_1[_0x41bd57(0x18d)][_0x41bd57(0x18b)](_0x41dd2a=>_0x1e39f8[_0x41bd57(0x17d)](_0x41dd2a[_0x41bd57(0x193)]))['map'](_0x32e29a=>({'id':_0x32e29a['id'],'name':_0x32e29a[_0x41bd57(0x193)],'displayName':_0x32e29a['displayName'],'settings':_0x4a8eab[_0x32e29a['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}}exports['GatewaySettingsService']=GatewaySettingsService,exports[a60_0x3d6c0b(0x174)]=new GatewaySettingsService();