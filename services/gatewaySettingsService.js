'use strict';const a60_0xcda3ae=a60_0x2382;(function(_0xd1ecb9,_0x2f6417){const _0x4f0b7d=a60_0x2382,_0x273945=_0xd1ecb9();while(!![]){try{const _0x3893a0=-parseInt(_0x4f0b7d(0x19c))/0x1*(parseInt(_0x4f0b7d(0x18d))/0x2)+parseInt(_0x4f0b7d(0x195))/0x3*(-parseInt(_0x4f0b7d(0x191))/0x4)+-parseInt(_0x4f0b7d(0x18c))/0x5*(parseInt(_0x4f0b7d(0x19d))/0x6)+parseInt(_0x4f0b7d(0x1ac))/0x7*(parseInt(_0x4f0b7d(0x1ad))/0x8)+parseInt(_0x4f0b7d(0x186))/0x9*(-parseInt(_0x4f0b7d(0x188))/0xa)+parseInt(_0x4f0b7d(0x1aa))/0xb+-parseInt(_0x4f0b7d(0x19f))/0xc*(-parseInt(_0x4f0b7d(0x18b))/0xd);if(_0x3893a0===_0x2f6417)break;else _0x273945['push'](_0x273945['shift']());}catch(_0x53d3d0){_0x273945['push'](_0x273945['shift']());}}}(a60_0x139d,0x52a15));var __importDefault=this&&this[a60_0xcda3ae(0x198)]||function(_0xd320bd){const _0x432e3b=a60_0xcda3ae;return _0xd320bd&&_0xd320bd[_0x432e3b(0x190)]?_0xd320bd:{'default':_0xd320bd};};Object[a60_0xcda3ae(0x184)](exports,a60_0xcda3ae(0x190),{'value':!![]}),exports['gatewaySettingsService']=exports[a60_0xcda3ae(0x196)]=void 0x0;const fs_1=__importDefault(require('fs')),path_1=__importDefault(require('path')),gateway_1=require(a60_0xcda3ae(0x19e)),SETTINGS_FILE_PATH=path_1[a60_0xcda3ae(0x1a5)][a60_0xcda3ae(0x18f)](__dirname,a60_0xcda3ae(0x199)),getDefaultSettings=()=>{const _0xf76480={};return gateway_1['AVAILABLE_GATEWAYS']['forEach'](_0x22e898=>{_0xf76480[_0x22e898['id']]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0};}),_0xf76480;},ensureSettingsFileExists=()=>{const _0x19880e=a60_0xcda3ae;if(!fs_1[_0x19880e(0x1a5)][_0x19880e(0x193)](SETTINGS_FILE_PATH)){const _0x1fd1f9=getDefaultSettings();fs_1[_0x19880e(0x1a5)][_0x19880e(0x1a3)](SETTINGS_FILE_PATH,JSON[_0x19880e(0x189)](_0x1fd1f9,null,0x2),_0x19880e(0x187)),console[_0x19880e(0x1a2)]('✅\x20Created\x20gateway-settings.json\x20with\x20default\x20values');}};class GatewaySettingsService{[a60_0xcda3ae(0x1a0)](){const _0x29902e=a60_0xcda3ae;try{ensureSettingsFileExists();const _0x1353fa=fs_1[_0x29902e(0x1a5)][_0x29902e(0x1ab)](SETTINGS_FILE_PATH,_0x29902e(0x187)),_0x263ae5=JSON[_0x29902e(0x19b)](_0x1353fa);return _0x263ae5;}catch(_0x37b940){return console[_0x29902e(0x18e)](_0x29902e(0x1a9),_0x37b940),getDefaultSettings();}}[a60_0xcda3ae(0x1a6)](_0x3e7b67){const _0x4b4bf6=a60_0xcda3ae,_0x125f29=this[_0x4b4bf6(0x1a0)]();return _0x125f29[_0x3e7b67]||null;}['updateSettings'](_0x5cf1c2,_0x1b27c0){const _0x50e22f=a60_0xcda3ae;try{ensureSettingsFileExists();const _0x2c712f=this[_0x50e22f(0x1a0)]();return!_0x2c712f[_0x5cf1c2]&&(_0x2c712f[_0x5cf1c2]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}),_0x2c712f[_0x5cf1c2]={..._0x2c712f[_0x5cf1c2],..._0x1b27c0},fs_1[_0x50e22f(0x1a5)]['writeFileSync'](SETTINGS_FILE_PATH,JSON[_0x50e22f(0x189)](_0x2c712f,null,0x2),_0x50e22f(0x187)),console[_0x50e22f(0x1a2)]('✅\x20Updated\x20gateway\x20settings\x20for\x20'+_0x5cf1c2+':',_0x2c712f[_0x5cf1c2]),_0x2c712f;}catch(_0x1148dc){console['error'](_0x50e22f(0x1a4),_0x1148dc);throw new Error(_0x50e22f(0x1a1));}}[a60_0xcda3ae(0x192)](){const _0x2d6e07=a60_0xcda3ae,_0x5de60f=this['getSettings']();return gateway_1['AVAILABLE_GATEWAYS'][_0x2d6e07(0x18a)](_0x55d2ed=>({'id':_0x55d2ed['id'],'name':_0x55d2ed['name'],'displayName':_0x55d2ed[_0x2d6e07(0x19a)],'settings':_0x5de60f[_0x55d2ed['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}[a60_0xcda3ae(0x194)](_0x38f1a1){const _0xf1c561=a60_0xcda3ae,_0x5a2864=this[_0xf1c561(0x1a0)]();if(!_0x38f1a1||!Array[_0xf1c561(0x197)](_0x38f1a1)||_0x38f1a1['length']===0x0)return[];return gateway_1[_0xf1c561(0x185)]['filter'](_0x1c23c1=>_0x38f1a1[_0xf1c561(0x1a8)](_0x1c23c1[_0xf1c561(0x1a7)]))['map'](_0x34ac30=>({'id':_0x34ac30['id'],'name':_0x34ac30['name'],'displayName':_0x34ac30[_0xf1c561(0x19a)],'settings':_0x5a2864[_0x34ac30['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}}exports['GatewaySettingsService']=GatewaySettingsService,exports['gatewaySettingsService']=new GatewaySettingsService();function a60_0x2382(_0x5e6a80,_0x4ebc70){_0x5e6a80=_0x5e6a80-0x184;const _0x139d69=a60_0x139d();let _0x2382f2=_0x139d69[_0x5e6a80];return _0x2382f2;}function a60_0x139d(){const _0x1e47d7=['13jqoSJZ','892610ilcZAO','2pSeysX','error','join','__esModule','4wZLecn','getAllGatewaysWithSettings','existsSync','getGatewaysForShop','1401987WTCEJE','GatewaySettingsService','isArray','__importDefault','../../gateway-settings.json','displayName','parse','585642vBnWTo','12cAcihk','../types/gateway','23925204QLPUUt','getSettings','Failed\x20to\x20update\x20gateway\x20settings','log','writeFileSync','Error\x20updating\x20gateway\x20settings:','default','getSettingsByGatewayId','name','includes','Error\x20reading\x20gateway\x20settings:','945516FIftwP','readFileSync','14oszrgG','657256lyOYhi','defineProperty','AVAILABLE_GATEWAYS','4460121OENyvv','utf8','10FpLDwX','stringify','map'];a60_0x139d=function(){return _0x1e47d7;};return a60_0x139d();}