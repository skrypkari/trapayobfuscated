'use strict';const a60_0x1012a6=a60_0x4bb2;(function(_0x523b56,_0x5f3e1e){const _0x1d4842=a60_0x4bb2,_0x5b3168=_0x523b56();while(!![]){try{const _0x57c9bd=parseInt(_0x1d4842(0x91))/0x1+-parseInt(_0x1d4842(0xa4))/0x2*(-parseInt(_0x1d4842(0x9f))/0x3)+-parseInt(_0x1d4842(0x87))/0x4+-parseInt(_0x1d4842(0x88))/0x5*(parseInt(_0x1d4842(0x8a))/0x6)+-parseInt(_0x1d4842(0x9b))/0x7+parseInt(_0x1d4842(0xa7))/0x8+parseInt(_0x1d4842(0xa9))/0x9;if(_0x57c9bd===_0x5f3e1e)break;else _0x5b3168['push'](_0x5b3168['shift']());}catch(_0xadc2c4){_0x5b3168['push'](_0x5b3168['shift']());}}}(a60_0xbbd1,0xdb7a3));var __importDefault=this&&this['__importDefault']||function(_0x29cc2b){const _0x5d0fc8=a60_0x4bb2;return _0x29cc2b&&_0x29cc2b[_0x5d0fc8(0x90)]?_0x29cc2b:{'default':_0x29cc2b};};Object[a60_0x1012a6(0x8f)](exports,a60_0x1012a6(0x90),{'value':!![]}),exports[a60_0x1012a6(0x95)]=exports[a60_0x1012a6(0x92)]=void 0x0;const fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a60_0x1012a6(0xa0))),gateway_1=require(a60_0x1012a6(0xa5)),SETTINGS_FILE_PATH=path_1[a60_0x1012a6(0x9c)]['join'](__dirname,a60_0x1012a6(0xa8)),getDefaultSettings=()=>{const _0x3e5151=a60_0x1012a6,_0x1a353f={};return gateway_1[_0x3e5151(0x86)][_0x3e5151(0xac)](_0x58677f=>{_0x1a353f[_0x58677f['id']]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0};}),_0x1a353f;},ensureSettingsFileExists=()=>{const _0x4791db=a60_0x1012a6;if(!fs_1[_0x4791db(0x9c)][_0x4791db(0x96)](SETTINGS_FILE_PATH)){const _0x2efed8=getDefaultSettings();fs_1[_0x4791db(0x9c)][_0x4791db(0x94)](SETTINGS_FILE_PATH,JSON[_0x4791db(0x8e)](_0x2efed8,null,0x2),_0x4791db(0x9e)),console['log'](_0x4791db(0xa2));}};class GatewaySettingsService{[a60_0x1012a6(0x9a)](){const _0x29d40b=a60_0x1012a6;try{ensureSettingsFileExists();const _0x40f5a0=fs_1[_0x29d40b(0x9c)][_0x29d40b(0xa3)](SETTINGS_FILE_PATH,_0x29d40b(0x9e)),_0x35b84e=JSON[_0x29d40b(0x99)](_0x40f5a0);return _0x35b84e;}catch(_0x3ca26d){return console[_0x29d40b(0xa1)](_0x29d40b(0x98),_0x3ca26d),getDefaultSettings();}}['getSettingsByGatewayId'](_0x5cd66a){const _0x4853ff=a60_0x1012a6,_0x4e8c05=this[_0x4853ff(0x9a)]();return _0x4e8c05[_0x5cd66a]||null;}['updateSettings'](_0x26434e,_0x2e0b5c){const _0x43e139=a60_0x1012a6;try{ensureSettingsFileExists();const _0x1d937b=this[_0x43e139(0x9a)]();return!_0x1d937b[_0x26434e]&&(_0x1d937b[_0x26434e]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}),_0x1d937b[_0x26434e]={..._0x1d937b[_0x26434e],..._0x2e0b5c},fs_1[_0x43e139(0x9c)][_0x43e139(0x94)](SETTINGS_FILE_PATH,JSON[_0x43e139(0x8e)](_0x1d937b,null,0x2),_0x43e139(0x9e)),console[_0x43e139(0xad)](_0x43e139(0x97)+_0x26434e+':',_0x1d937b[_0x26434e]),_0x1d937b;}catch(_0x3b36e2){console[_0x43e139(0xa1)](_0x43e139(0x8d),_0x3b36e2);throw new Error(_0x43e139(0x89));}}['getAllGatewaysWithSettings'](){const _0x53ee88=a60_0x1012a6,_0x501019=this[_0x53ee88(0x9a)]();return gateway_1[_0x53ee88(0x86)][_0x53ee88(0x8c)](_0x4610ec=>({'id':_0x4610ec['id'],'name':_0x4610ec['name'],'displayName':_0x4610ec[_0x53ee88(0x9d)],'settings':_0x501019[_0x4610ec['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}[a60_0x1012a6(0x93)](_0x527302){const _0xe36651=a60_0x1012a6,_0x8b6801=this[_0xe36651(0x9a)]();if(!_0x527302||!Array['isArray'](_0x527302)||_0x527302[_0xe36651(0xaa)]===0x0)return[];return gateway_1['AVAILABLE_GATEWAYS'][_0xe36651(0xa6)](_0x494f3f=>_0x527302[_0xe36651(0x8b)](_0x494f3f[_0xe36651(0xab)]))[_0xe36651(0x8c)](_0x5e27f4=>({'id':_0x5e27f4['id'],'name':_0x5e27f4[_0xe36651(0xab)],'displayName':_0x5e27f4[_0xe36651(0x9d)],'settings':_0x8b6801[_0x5e27f4['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}}function a60_0x4bb2(_0x47da00,_0x49c59e){_0x47da00=_0x47da00-0x86;const _0xbbd148=a60_0xbbd1();let _0x4bb2c4=_0xbbd148[_0x47da00];return _0x4bb2c4;}exports[a60_0x1012a6(0x92)]=GatewaySettingsService,exports[a60_0x1012a6(0x95)]=new GatewaySettingsService();function a60_0xbbd1(){const _0x3a86b=['length','name','forEach','log','AVAILABLE_GATEWAYS','4387836Pnhruf','795170yYoPAU','Failed\x20to\x20update\x20gateway\x20settings','36AARTUr','includes','map','Error\x20updating\x20gateway\x20settings:','stringify','defineProperty','__esModule','102466oEPDGq','GatewaySettingsService','getGatewaysForShop','writeFileSync','gatewaySettingsService','existsSync','✅\x20Updated\x20gateway\x20settings\x20for\x20','Error\x20reading\x20gateway\x20settings:','parse','getSettings','4764025klgyPw','default','displayName','utf8','3XOygPP','path','error','✅\x20Created\x20gateway-settings.json\x20with\x20default\x20values','readFileSync','3417308HVsVyz','../types/gateway','filter','7065528WeOCPK','../../gateway-settings.json','8427654cpsgZO'];a60_0xbbd1=function(){return _0x3a86b;};return a60_0xbbd1();}