'use strict';function a60_0x2db5(_0xf3204c,_0x2af927){_0xf3204c=_0xf3204c-0xb1;const _0x5c1481=a60_0x5c14();let _0x2db5a4=_0x5c1481[_0xf3204c];return _0x2db5a4;}const a60_0x54759b=a60_0x2db5;(function(_0x56dbeb,_0x307e94){const _0x498058=a60_0x2db5,_0x55b2bc=_0x56dbeb();while(!![]){try{const _0x24a2c6=-parseInt(_0x498058(0xd8))/0x1*(parseInt(_0x498058(0xbb))/0x2)+parseInt(_0x498058(0xc3))/0x3*(parseInt(_0x498058(0xbf))/0x4)+-parseInt(_0x498058(0xb5))/0x5+-parseInt(_0x498058(0xd3))/0x6+-parseInt(_0x498058(0xc6))/0x7*(parseInt(_0x498058(0xc9))/0x8)+parseInt(_0x498058(0xcd))/0x9+-parseInt(_0x498058(0xd4))/0xa*(-parseInt(_0x498058(0xcf))/0xb);if(_0x24a2c6===_0x307e94)break;else _0x55b2bc['push'](_0x55b2bc['shift']());}catch(_0xb94d3c){_0x55b2bc['push'](_0x55b2bc['shift']());}}}(a60_0x5c14,0x1bad0));var __importDefault=this&&this[a60_0x54759b(0xdb)]||function(_0x5d4dd9){return _0x5d4dd9&&_0x5d4dd9['__esModule']?_0x5d4dd9:{'default':_0x5d4dd9};};Object[a60_0x54759b(0xc5)](exports,'__esModule',{'value':!![]}),exports[a60_0x54759b(0xc0)]=exports['GatewaySettingsService']=void 0x0;const fs_1=__importDefault(require('fs')),path_1=__importDefault(require(a60_0x54759b(0xc7))),gateway_1=require(a60_0x54759b(0xbc)),SETTINGS_FILE_PATH=path_1[a60_0x54759b(0xca)]['join'](__dirname,a60_0x54759b(0xda)),getDefaultSettings=()=>{const _0x20f0d4=a60_0x54759b,_0x575fdc={};return gateway_1[_0x20f0d4(0xc1)][_0x20f0d4(0xd0)](_0x2c5aed=>{_0x575fdc[_0x2c5aed['id']]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0};}),_0x575fdc;},ensureSettingsFileExists=()=>{const _0x459aff=a60_0x54759b;if(!fs_1[_0x459aff(0xca)][_0x459aff(0xd1)](SETTINGS_FILE_PATH)){const _0x4c8bed=getDefaultSettings();fs_1['default'][_0x459aff(0xb4)](SETTINGS_FILE_PATH,JSON['stringify'](_0x4c8bed,null,0x2),_0x459aff(0xcc)),console[_0x459aff(0xb3)](_0x459aff(0xdc));}};function a60_0x5c14(){const _0x21b244=['default','readFileSync','utf8','1027638aULQTH','parse','5212537qfhccU','forEach','existsSync','filter','447870igXKJk','10iwHdGl','displayName','✅\x20Updated\x20gateway\x20settings\x20for\x20','getGatewaysForShop','1CaKvdZ','getAllGatewaysWithSettings','../../gateway-settings.json','__importDefault','✅\x20Created\x20gateway-settings.json\x20with\x20default\x20values','getSettings','Error\x20reading\x20gateway\x20settings:','Error\x20updating\x20gateway\x20settings:','log','writeFileSync','915360QTpjaO','stringify','length','includes','GatewaySettingsService','getSettingsByGatewayId','399314SdNbRx','../types/gateway','Failed\x20to\x20update\x20gateway\x20settings','error','27932pusKzN','gatewaySettingsService','AVAILABLE_GATEWAYS','updateSettings','63VtgHZv','isArray','defineProperty','573853BzbkqL','path','map','16usJuSO'];a60_0x5c14=function(){return _0x21b244;};return a60_0x5c14();}class GatewaySettingsService{[a60_0x54759b(0xdd)](){const _0x1fad7b=a60_0x54759b;try{ensureSettingsFileExists();const _0x18418c=fs_1['default'][_0x1fad7b(0xcb)](SETTINGS_FILE_PATH,_0x1fad7b(0xcc)),_0x301e0d=JSON[_0x1fad7b(0xce)](_0x18418c);return _0x301e0d;}catch(_0x300efa){return console[_0x1fad7b(0xbe)](_0x1fad7b(0xb1),_0x300efa),getDefaultSettings();}}[a60_0x54759b(0xba)](_0x3f83d7){const _0x45b628=a60_0x54759b,_0x1a8547=this[_0x45b628(0xdd)]();return _0x1a8547[_0x3f83d7]||null;}[a60_0x54759b(0xc2)](_0x29bd84,_0x3a3855){const _0xe65dfa=a60_0x54759b;try{ensureSettingsFileExists();const _0x1ddef3=this[_0xe65dfa(0xdd)]();return!_0x1ddef3[_0x29bd84]&&(_0x1ddef3[_0x29bd84]={'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}),_0x1ddef3[_0x29bd84]={..._0x1ddef3[_0x29bd84],..._0x3a3855},fs_1[_0xe65dfa(0xca)]['writeFileSync'](SETTINGS_FILE_PATH,JSON[_0xe65dfa(0xb6)](_0x1ddef3,null,0x2),_0xe65dfa(0xcc)),console[_0xe65dfa(0xb3)](_0xe65dfa(0xd6)+_0x29bd84+':',_0x1ddef3[_0x29bd84]),_0x1ddef3;}catch(_0x1810f2){console[_0xe65dfa(0xbe)](_0xe65dfa(0xb2),_0x1810f2);throw new Error(_0xe65dfa(0xbd));}}[a60_0x54759b(0xd9)](){const _0x28be73=a60_0x54759b,_0x8a62e9=this['getSettings']();return gateway_1['AVAILABLE_GATEWAYS'][_0x28be73(0xc8)](_0x3ed3e1=>({'id':_0x3ed3e1['id'],'name':_0x3ed3e1['name'],'displayName':_0x3ed3e1[_0x28be73(0xd5)],'settings':_0x8a62e9[_0x3ed3e1['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}[a60_0x54759b(0xd7)](_0x4d4a65){const _0x5f5508=a60_0x54759b,_0x39af87=this['getSettings']();if(!_0x4d4a65||!Array[_0x5f5508(0xc4)](_0x4d4a65)||_0x4d4a65[_0x5f5508(0xb7)]===0x0)return[];return gateway_1['AVAILABLE_GATEWAYS'][_0x5f5508(0xd2)](_0x242323=>_0x4d4a65[_0x5f5508(0xb8)](_0x242323['name']))[_0x5f5508(0xc8)](_0x59c2e9=>({'id':_0x59c2e9['id'],'name':_0x59c2e9['name'],'displayName':_0x59c2e9[_0x5f5508(0xd5)],'settings':_0x39af87[_0x59c2e9['id']]||{'minAmount':0x0,'maxAmount':0x0,'payoutDelay':0x0,'gatewayCommission':0x0}}));}}exports[a60_0x54759b(0xb9)]=GatewaySettingsService,exports[a60_0x54759b(0xc0)]=new GatewaySettingsService();