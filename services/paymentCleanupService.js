'use strict';function a68_0x2a9e(){const _0x3bca64=['pending_payment_cleanup','toISOString','runCleanupWithReport','180WjBqFf','Failed\x20to\x20get\x20processing\x20payments\x20stats:\x20','logWebhookError','11542993SyJaEf','3483PJPsaV','246KPpAEE','failed','PENDING\x20cleanup\x20service\x20error:\x20','\x20days','setDate','EXPIRED','byAge','runPendingCleanupOnly','errors','username','ðŸ“Š\x20PENDING\x20payments\x20after\x20cleanup:\x20','PENDING_TIMEOUT_DAYS','Payment\x20timeout:\x20No\x20status\x20update\x20received\x20for\x20','defineProperty','forEach','\x0aðŸ”„\x20Running\x20PROCESSING\x20payments\x20cleanup...','fresh','7HsyWJx','auto_timeout','ðŸ“Š\x20PROCESSING\x20payments\x20before\x20cleanup:\x20','PaymentStatus','loggerService','PENDING\x20cleanup\x20completed:\x20','currency','log','createdAt','PaymentCleanupService','payment','auto_timeout_pending','ðŸ“Š\x20','âœ…\x20Updated\x20payment\x20','default','âœ…\x20PENDING\x20payments\x20processed:\x20','PROCESSING_TIMEOUT_DAYS','\x0aðŸ“Š\x20Stale\x20payments\x20(PROCESSING\x20+\x20PENDING)\x20after\x20cleanup:','getTime','byGateway','ðŸ\x20PENDING\x20cleanup\x20completed','gateway','Payment\x20timeout:\x20No\x20payment\x20action\x20received\x20for\x20','ðŸ“Š\x20Stale\x20payments\x20(PROCESSING\x20+\x20PENDING)\x20before\x20cleanup:','message','byStatus','logApiCall','cleanupStalePendingPayments','__esModule','admin','\x20payments\x20updated\x20to\x20EXPIRED,\x20','âœ…\x20PROCESSING\x20payments\x20processed:\x20','processed','2198223FgxLCF','../config/database','__importDefault','amount','ðŸš€\x20Starting\x20PROCESSING\x20payments\x20cleanup\x20only...','ðŸ“…\x20Looking\x20for\x20PENDING\x20payments\x20older\x20than:\x20','PROCESSING','â±ï¸\x20Processing\x20stale\x20payment:\x20','50DhTsDe','ðŸ’¥\x20','stale','length','push','\x20\x20\x20âŒ\x20Total\x20failed\x20to\x20process:\x20','\x20stale\x20PROCESSING\x20payments','48LmKQhl','Cleanup\x20completed:\x20','floor','\x0aðŸ”„\x20Running\x20PENDING\x20payments\x20cleanup...','getProcessingPaymentsStats','\x20\x20\x20âœ…\x20Total\x20successfully\x20processed:\x20','2009192zbiRFQ','\x20\x20\x20Created:\x20','\x20\x20\x20Stale\x20(3-5\x20days):\x20','logWebhookProcessed','\x20\x20\x20ðŸ”„\x20PROCESSING\x20â†’\x20FAILED:\x20','\x20\x20\x20Total:\x20','âœ…\x20No\x20stale\x20PROCESSING\x20payments\x20found','Unknown\x20error','now','error','FAILED','618984lCZERP','ðŸ\x20Payment\x20cleanup\x20service\x20completed','ðŸš€\x20Starting\x20payment\x20cleanup\x20service...','\x20payments\x20updated\x20to\x20FAILED,\x20','190725xkMELW','â°\x20Processing\x20stale\x20PENDING\x20payment:\x20','PENDING','shop','total','system','cleanupStaleProcessingPayments','update','âœ…\x20No\x20stale\x20PENDING\x20payments\x20found','payment_cleanup','paymentCleanupService','POST','\x20\x20\x20By\x20status:','ðŸ”\x20Found\x20','\x20\x20\x20Expired\x20(>\x205\x20days):\x20','\x20failed\x20to\x20update','recent','1357411wtUqot','getDate','Failed\x20to\x20update\x20payment\x20','name','ðŸ“…\x20Looking\x20for\x20PROCESSING\x20payments\x20older\x20than:\x20','ðŸ\x20PROCESSING\x20cleanup\x20completed','\x20\x20\x20Age:\x20','\x20\x20\x20Shop:\x20'];a68_0x2a9e=function(){return _0x3bca64;};return a68_0x2a9e();}function a68_0x4ed5(_0x198279,_0xe9e4e2){_0x198279=_0x198279-0x1a6;const _0x2a9e98=a68_0x2a9e();let _0x4ed575=_0x2a9e98[_0x198279];return _0x4ed575;}const a68_0x249a95=a68_0x4ed5;(function(_0x2e6d9f,_0x290b1a){const _0xba0ba1=a68_0x4ed5,_0x4b681c=_0x2e6d9f();while(!![]){try{const _0x10b3f6=-parseInt(_0xba0ba1(0x1d6))/0x1+-parseInt(_0xba0ba1(0x1e6))/0x2*(parseInt(_0xba0ba1(0x1e5))/0x3)+parseInt(_0xba0ba1(0x1c1))/0x4+-parseInt(_0xba0ba1(0x1c5))/0x5*(parseInt(_0xba0ba1(0x1e1))/0x6)+parseInt(_0xba0ba1(0x1f7))/0x7*(parseInt(_0xba0ba1(0x1b6))/0x8)+parseInt(_0xba0ba1(0x218))/0x9*(-parseInt(_0xba0ba1(0x1a9))/0xa)+parseInt(_0xba0ba1(0x1e4))/0xb*(parseInt(_0xba0ba1(0x1b0))/0xc);if(_0x10b3f6===_0x290b1a)break;else _0x4b681c['push'](_0x4b681c['shift']());}catch(_0x3d2790){_0x4b681c['push'](_0x4b681c['shift']());}}}(a68_0x2a9e,0xb410c));var __importDefault=this&&this[a68_0x249a95(0x21a)]||function(_0x4dea8e){const _0x295975=a68_0x249a95;return _0x4dea8e&&_0x4dea8e[_0x295975(0x213)]?_0x4dea8e:{'default':_0x4dea8e};};Object[a68_0x249a95(0x1f3)](exports,a68_0x249a95(0x213),{'value':!![]}),exports[a68_0x249a95(0x1cf)]=exports['PaymentCleanupService']=void 0x0;const database_1=__importDefault(require(a68_0x249a95(0x219))),client_1=require('@prisma/client'),loggerService_1=require('./loggerService');class PaymentCleanupService{constructor(){const _0x5265fd=a68_0x249a95;this[_0x5265fd(0x207)]=0x5,this[_0x5265fd(0x1f1)]=0x5;}async['cleanupStaleProcessingPayments'](){const _0x2d98f0=a68_0x249a95,_0x53fa11=[];let _0x3ea5ef=0x0,_0x2ac869=0x0;try{console[_0x2d98f0(0x1fe)]('ðŸ§¹\x20Starting\x20cleanup\x20of\x20stale\x20PROCESSING\x20payments...');const _0xfe6294=new Date();_0xfe6294['setDate'](_0xfe6294[_0x2d98f0(0x1d7)]()-this[_0x2d98f0(0x207)]),console[_0x2d98f0(0x1fe)](_0x2d98f0(0x1da)+_0xfe6294[_0x2d98f0(0x1df)]());const _0x5c893e=await database_1[_0x2d98f0(0x205)][_0x2d98f0(0x201)]['findMany']({'where':{'status':client_1[_0x2d98f0(0x1fa)]['PROCESSING'],'createdAt':{'lt':_0xfe6294}},'include':{'shop':{'select':{'id':!![],'name':!![],'username':!![]}}}});console['log'](_0x2d98f0(0x1d2)+_0x5c893e['length']+_0x2d98f0(0x1af));if(_0x5c893e[_0x2d98f0(0x1ac)]===0x0)return console['log'](_0x2d98f0(0x1bc)),{'processed':0x0,'failed':0x0,'errors':[]};for(const _0x43fa41 of _0x5c893e){try{console[_0x2d98f0(0x1fe)](_0x2d98f0(0x1a8)+_0x43fa41['id']+'\x20('+_0x43fa41[_0x2d98f0(0x20c)]+',\x20'+_0x43fa41[_0x2d98f0(0x21b)]+'\x20'+_0x43fa41[_0x2d98f0(0x1fd)]+')'),console['log'](_0x2d98f0(0x1dd)+_0x43fa41[_0x2d98f0(0x1c8)][_0x2d98f0(0x1d9)]+'\x20('+_0x43fa41[_0x2d98f0(0x1c8)]['username']+')'),console[_0x2d98f0(0x1fe)]('\x20\x20\x20Created:\x20'+_0x43fa41[_0x2d98f0(0x1ff)][_0x2d98f0(0x1df)]()),console[_0x2d98f0(0x1fe)](_0x2d98f0(0x1dc)+Math[_0x2d98f0(0x1b2)]((Date[_0x2d98f0(0x1be)]()-_0x43fa41[_0x2d98f0(0x1ff)][_0x2d98f0(0x209)]())/(0x3e8*0x3c*0x3c*0x18))+_0x2d98f0(0x1e9));const _0x459d66=await database_1['default'][_0x2d98f0(0x201)][_0x2d98f0(0x1cc)]({'where':{'id':_0x43fa41['id']},'data':{'status':client_1[_0x2d98f0(0x1fa)][_0x2d98f0(0x1c0)],'statusChangedBy':_0x2d98f0(0x1ca),'statusChangedAt':new Date(),'failureMessage':_0x2d98f0(0x1f2)+this[_0x2d98f0(0x207)]+_0x2d98f0(0x1e9)}});console['log'](_0x2d98f0(0x204)+_0x43fa41['id']+'\x20from\x20PROCESSING\x20to\x20FAILED'),loggerService_1['loggerService'][_0x2d98f0(0x1b9)](_0x43fa41['gateway'],_0x43fa41['id'],_0x2d98f0(0x1a7),_0x2d98f0(0x1c0),{'reason':_0x2d98f0(0x1f8),'timeoutDays':this[_0x2d98f0(0x207)]}),_0x3ea5ef++;}catch(_0x162bec){const _0x4cf16c=_0x2d98f0(0x1d8)+_0x43fa41['id']+':\x20'+(_0x162bec instanceof Error?_0x162bec['message']:_0x2d98f0(0x1bd));console[_0x2d98f0(0x1bf)]('âŒ\x20'+_0x4cf16c),_0x53fa11['push'](_0x4cf16c),_0x2ac869++;}}const _0x357f8c=_0x2d98f0(0x1b1)+_0x3ea5ef+_0x2d98f0(0x1c4)+_0x2ac869+_0x2d98f0(0x1d4);return console[_0x2d98f0(0x1fe)]('ðŸ“Š\x20'+_0x357f8c),loggerService_1[_0x2d98f0(0x1fb)][_0x2d98f0(0x211)](_0x2d98f0(0x1ce),_0x2d98f0(0x1d0),_0x2d98f0(0x1ca),_0x2d98f0(0x214),{'processed':_0x3ea5ef,'failed':_0x2ac869,'errors':_0x53fa11,'timeoutDays':this['PROCESSING_TIMEOUT_DAYS']}),{'processed':_0x3ea5ef,'failed':_0x2ac869,'errors':_0x53fa11};}catch(_0x3b9457){const _0x45f688='Cleanup\x20service\x20error:\x20'+(_0x3b9457 instanceof Error?_0x3b9457[_0x2d98f0(0x20f)]:_0x2d98f0(0x1bd));return console[_0x2d98f0(0x1bf)](_0x2d98f0(0x1aa)+_0x45f688),_0x53fa11[_0x2d98f0(0x1ad)](_0x45f688),loggerService_1[_0x2d98f0(0x1fb)][_0x2d98f0(0x1e3)](_0x2d98f0(0x1ce),_0x45f688,{'timeoutDays':this[_0x2d98f0(0x207)]}),{'processed':_0x3ea5ef,'failed':_0x2ac869,'errors':_0x53fa11};}}async[a68_0x249a95(0x212)](){const _0x7ed2c2=a68_0x249a95,_0xbe42db=[];let _0x1e51a9=0x0,_0x53f3f7=0x0;try{console['log']('ðŸ§¹\x20Starting\x20cleanup\x20of\x20stale\x20PENDING\x20payments...');const _0x25b716=new Date();_0x25b716[_0x7ed2c2(0x1ea)](_0x25b716[_0x7ed2c2(0x1d7)]()-this['PENDING_TIMEOUT_DAYS']),console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x1a6)+_0x25b716[_0x7ed2c2(0x1df)]());const _0x5377d3=await database_1['default'][_0x7ed2c2(0x201)]['findMany']({'where':{'status':client_1[_0x7ed2c2(0x1fa)][_0x7ed2c2(0x1c7)],'createdAt':{'lt':_0x25b716}},'include':{'shop':{'select':{'id':!![],'name':!![],'username':!![]}}}});console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x1d2)+_0x5377d3[_0x7ed2c2(0x1ac)]+'\x20stale\x20PENDING\x20payments');if(_0x5377d3[_0x7ed2c2(0x1ac)]===0x0)return console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x1cd)),{'processed':0x0,'failed':0x0,'errors':[]};for(const _0x59e502 of _0x5377d3){try{console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x1c6)+_0x59e502['id']+'\x20('+_0x59e502['gateway']+',\x20'+_0x59e502['amount']+'\x20'+_0x59e502['currency']+')'),console['log'](_0x7ed2c2(0x1dd)+_0x59e502[_0x7ed2c2(0x1c8)][_0x7ed2c2(0x1d9)]+'\x20('+_0x59e502['shop'][_0x7ed2c2(0x1ef)]+')'),console['log'](_0x7ed2c2(0x1b7)+_0x59e502[_0x7ed2c2(0x1ff)][_0x7ed2c2(0x1df)]()),console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x1dc)+Math['floor']((Date[_0x7ed2c2(0x1be)]()-_0x59e502[_0x7ed2c2(0x1ff)][_0x7ed2c2(0x209)]())/(0x3e8*0x3c*0x3c*0x18))+'\x20days');const _0x31f51c=await database_1[_0x7ed2c2(0x205)][_0x7ed2c2(0x201)][_0x7ed2c2(0x1cc)]({'where':{'id':_0x59e502['id']},'data':{'status':client_1[_0x7ed2c2(0x1fa)][_0x7ed2c2(0x1eb)],'statusChangedBy':_0x7ed2c2(0x1ca),'statusChangedAt':new Date(),'failureMessage':_0x7ed2c2(0x20d)+this['PENDING_TIMEOUT_DAYS']+_0x7ed2c2(0x1e9)}});console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x204)+_0x59e502['id']+'\x20from\x20PENDING\x20to\x20EXPIRED'),loggerService_1[_0x7ed2c2(0x1fb)][_0x7ed2c2(0x1b9)](_0x59e502[_0x7ed2c2(0x20c)],_0x59e502['id'],_0x7ed2c2(0x1c7),_0x7ed2c2(0x1eb),{'reason':_0x7ed2c2(0x202),'timeoutDays':this[_0x7ed2c2(0x1f1)]}),_0x1e51a9++;}catch(_0x9bbdb1){const _0x1003b5='Failed\x20to\x20update\x20PENDING\x20payment\x20'+_0x59e502['id']+':\x20'+(_0x9bbdb1 instanceof Error?_0x9bbdb1['message']:'Unknown\x20error');console[_0x7ed2c2(0x1bf)]('âŒ\x20'+_0x1003b5),_0xbe42db[_0x7ed2c2(0x1ad)](_0x1003b5),_0x53f3f7++;}}const _0x15400e=_0x7ed2c2(0x1fc)+_0x1e51a9+_0x7ed2c2(0x215)+_0x53f3f7+'\x20failed\x20to\x20update';return console[_0x7ed2c2(0x1fe)](_0x7ed2c2(0x203)+_0x15400e),loggerService_1['loggerService'][_0x7ed2c2(0x211)]('pending_payment_cleanup',_0x7ed2c2(0x1d0),'system',_0x7ed2c2(0x214),{'processed':_0x1e51a9,'failed':_0x53f3f7,'errors':_0xbe42db,'timeoutDays':this[_0x7ed2c2(0x1f1)]}),{'processed':_0x1e51a9,'failed':_0x53f3f7,'errors':_0xbe42db};}catch(_0x3e7d43){const _0x18b431=_0x7ed2c2(0x1e8)+(_0x3e7d43 instanceof Error?_0x3e7d43['message']:_0x7ed2c2(0x1bd));return console['error'](_0x7ed2c2(0x1aa)+_0x18b431),_0xbe42db[_0x7ed2c2(0x1ad)](_0x18b431),loggerService_1['loggerService'][_0x7ed2c2(0x1e3)](_0x7ed2c2(0x1de),_0x18b431,{'timeoutDays':this[_0x7ed2c2(0x1f1)]}),{'processed':_0x1e51a9,'failed':_0x53f3f7,'errors':_0xbe42db};}}async[a68_0x249a95(0x1b4)](){const _0x305d18=a68_0x249a95;try{const _0x1226f2=new Date(),_0x4451aa=new Date(_0x1226f2['getTime']()-0x1*0x18*0x3c*0x3c*0x3e8),_0x265571=new Date(_0x1226f2[_0x305d18(0x209)]()-0x3*0x18*0x3c*0x3c*0x3e8),_0x11e153=new Date(_0x1226f2[_0x305d18(0x209)]()-0x5*0x18*0x3c*0x3c*0x3e8),_0x3c9545=await database_1[_0x305d18(0x205)]['payment']['findMany']({'where':{'status':{'in':[client_1[_0x305d18(0x1fa)][_0x305d18(0x1a7)],client_1[_0x305d18(0x1fa)][_0x305d18(0x1c7)]]}},'select':{'id':!![],'gateway':!![],'status':!![],'createdAt':!![]}}),_0x19d926={'total':_0x3c9545['length'],'byAge':{'fresh':0x0,'recent':0x0,'stale':0x0,'expired':0x0},'byGateway':{},'byStatus':{}};for(const _0x5c711b of _0x3c9545){if(_0x5c711b[_0x305d18(0x1ff)]>_0x4451aa)_0x19d926[_0x305d18(0x1ec)][_0x305d18(0x1f6)]++;else{if(_0x5c711b[_0x305d18(0x1ff)]>_0x265571)_0x19d926[_0x305d18(0x1ec)][_0x305d18(0x1d5)]++;else _0x5c711b['createdAt']>_0x11e153?_0x19d926[_0x305d18(0x1ec)][_0x305d18(0x1ab)]++:_0x19d926[_0x305d18(0x1ec)]['expired']++;}!_0x19d926[_0x305d18(0x20a)][_0x5c711b[_0x305d18(0x20c)]]&&(_0x19d926[_0x305d18(0x20a)][_0x5c711b[_0x305d18(0x20c)]]=0x0);_0x19d926['byGateway'][_0x5c711b[_0x305d18(0x20c)]]++;const _0x4c3947=_0x5c711b['status'];!_0x19d926[_0x305d18(0x210)][_0x4c3947]&&(_0x19d926[_0x305d18(0x210)][_0x4c3947]=0x0),_0x19d926[_0x305d18(0x210)][_0x4c3947]++;}return _0x19d926;}catch(_0x56e33c){console['error']('Failed\x20to\x20get\x20processing\x20payments\x20stats:',_0x56e33c);throw new Error(_0x305d18(0x1e2)+(_0x56e33c instanceof Error?_0x56e33c[_0x305d18(0x20f)]:'Unknown\x20error'));}}async[a68_0x249a95(0x1e0)](){const _0xe4e8f=a68_0x249a95;console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1c3));const _0x25ed00=await this['getProcessingPaymentsStats']();console[_0xe4e8f(0x1fe)](_0xe4e8f(0x20e)),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1bb)+_0x25ed00[_0xe4e8f(0x1c9)]),console[_0xe4e8f(0x1fe)]('\x20\x20\x20Fresh\x20(<\x201\x20day):\x20'+_0x25ed00[_0xe4e8f(0x1ec)]['fresh']),console['log']('\x20\x20\x20Recent\x20(1-3\x20days):\x20'+_0x25ed00[_0xe4e8f(0x1ec)]['recent']),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1b8)+_0x25ed00[_0xe4e8f(0x1ec)][_0xe4e8f(0x1ab)]),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1d3)+_0x25ed00[_0xe4e8f(0x1ec)]['expired']),console[_0xe4e8f(0x1fe)]('\x20\x20\x20By\x20gateway:',_0x25ed00[_0xe4e8f(0x20a)]),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1d1),_0x25ed00[_0xe4e8f(0x210)]),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1f5));const _0x153cf3=await this[_0xe4e8f(0x1cb)]();console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1b3));const _0x74c42c=await this[_0xe4e8f(0x212)](),_0x2120eb=await this[_0xe4e8f(0x1b4)]();console[_0xe4e8f(0x1fe)](_0xe4e8f(0x208)),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1bb)+_0x2120eb[_0xe4e8f(0x1c9)]),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1d3)+_0x2120eb[_0xe4e8f(0x1ec)]['expired']),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1d1),_0x2120eb[_0xe4e8f(0x210)]);const _0xb90d1b=_0x153cf3[_0xe4e8f(0x217)]+_0x74c42c[_0xe4e8f(0x217)],_0x42543d=_0x153cf3['failed']+_0x74c42c[_0xe4e8f(0x1e7)],_0x14bc34=[..._0x153cf3[_0xe4e8f(0x1ee)],..._0x74c42c[_0xe4e8f(0x1ee)]];console[_0xe4e8f(0x1fe)]('\x0aðŸ“ˆ\x20Cleanup\x20Summary:'),console['log'](_0xe4e8f(0x1ba)+_0x153cf3[_0xe4e8f(0x217)]),console[_0xe4e8f(0x1fe)]('\x20\x20\x20â°\x20PENDING\x20â†’\x20EXPIRED:\x20'+_0x74c42c[_0xe4e8f(0x217)]),console['log'](_0xe4e8f(0x1b5)+_0xb90d1b),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1ae)+_0x42543d),console[_0xe4e8f(0x1fe)]('\x20\x20\x20ðŸ“‰\x20Total\x20stale\x20payments\x20reduced\x20by:\x20'+(_0x25ed00[_0xe4e8f(0x1c9)]-_0x2120eb['total'])),_0x14bc34[_0xe4e8f(0x1ac)]>0x0&&(console['log']('\x20\x20\x20âš ï¸\x20Errors\x20encountered:'),_0x14bc34[_0xe4e8f(0x1f4)]((_0x310045,_0x5ed463)=>{console['log']('\x20\x20\x20\x20\x20\x20'+(_0x5ed463+0x1)+'.\x20'+_0x310045);})),console[_0xe4e8f(0x1fe)](_0xe4e8f(0x1c2));}async['runProcessingCleanupOnly'](){const _0x1d0c8b=a68_0x249a95;console[_0x1d0c8b(0x1fe)](_0x1d0c8b(0x21c));const _0x432d3c=await this[_0x1d0c8b(0x1b4)](),_0x3bef1c=_0x432d3c[_0x1d0c8b(0x210)][_0x1d0c8b(0x1a7)]||0x0;console[_0x1d0c8b(0x1fe)](_0x1d0c8b(0x1f9)+_0x3bef1c);const _0x558054=await this['cleanupStaleProcessingPayments'](),_0x30aefe=await this['getProcessingPaymentsStats'](),_0x46fd6b=_0x30aefe[_0x1d0c8b(0x210)][_0x1d0c8b(0x1a7)]||0x0;console[_0x1d0c8b(0x1fe)]('ðŸ“Š\x20PROCESSING\x20payments\x20after\x20cleanup:\x20'+_0x46fd6b),console[_0x1d0c8b(0x1fe)](_0x1d0c8b(0x216)+_0x558054[_0x1d0c8b(0x217)]),console[_0x1d0c8b(0x1fe)](_0x1d0c8b(0x1db));}async[a68_0x249a95(0x1ed)](){const _0x2d006e=a68_0x249a95;console[_0x2d006e(0x1fe)]('ðŸš€\x20Starting\x20PENDING\x20payments\x20cleanup\x20only...');const _0xe068ca=await this[_0x2d006e(0x1b4)](),_0x3f77ca=_0xe068ca['byStatus'][_0x2d006e(0x1c7)]||0x0;console['log']('ðŸ“Š\x20PENDING\x20payments\x20before\x20cleanup:\x20'+_0x3f77ca);const _0x34ec87=await this['cleanupStalePendingPayments'](),_0x3de341=await this['getProcessingPaymentsStats'](),_0x4dbcf9=_0x3de341[_0x2d006e(0x210)][_0x2d006e(0x1c7)]||0x0;console[_0x2d006e(0x1fe)](_0x2d006e(0x1f0)+_0x4dbcf9),console['log'](_0x2d006e(0x206)+_0x34ec87[_0x2d006e(0x217)]),console['log'](_0x2d006e(0x20b));}}exports[a68_0x249a95(0x200)]=PaymentCleanupService,exports[a68_0x249a95(0x1cf)]=new PaymentCleanupService();