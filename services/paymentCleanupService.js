'use strict';const a60_0x59d41d=a60_0x41af;(function(_0x7b4bf5,_0x4338df){const _0x580b6d=a60_0x41af,_0x3792e2=_0x7b4bf5();while(!![]){try{const _0x45dc4a=parseInt(_0x580b6d(0xae))/0x1+parseInt(_0x580b6d(0xb3))/0x2+-parseInt(_0x580b6d(0xa1))/0x3+-parseInt(_0x580b6d(0xe6))/0x4*(parseInt(_0x580b6d(0xb5))/0x5)+-parseInt(_0x580b6d(0xd4))/0x6+parseInt(_0x580b6d(0x98))/0x7+parseInt(_0x580b6d(0xdd))/0x8;if(_0x45dc4a===_0x4338df)break;else _0x3792e2['push'](_0x3792e2['shift']());}catch(_0x1c8322){_0x3792e2['push'](_0x3792e2['shift']());}}}(a60_0x134f,0x42bf5));function a60_0x41af(_0x272506,_0x3c5ced){const _0x134fc4=a60_0x134f();return a60_0x41af=function(_0x41af02,_0x23a9c2){_0x41af02=_0x41af02-0x6f;let _0x38aaf6=_0x134fc4[_0x41af02];return _0x38aaf6;},a60_0x41af(_0x272506,_0x3c5ced);}var __importDefault=this&&this[a60_0x59d41d(0x8a)]||function(_0xc921ad){const _0x31375d=a60_0x59d41d;return _0xc921ad&&_0xc921ad[_0x31375d(0xca)]?_0xc921ad:{'default':_0xc921ad};};Object[a60_0x59d41d(0xba)](exports,a60_0x59d41d(0xca),{'value':!![]}),exports[a60_0x59d41d(0xcc)]=exports[a60_0x59d41d(0x91)]=void 0x0;function a60_0x134f(){const _0x40c5da=['\x20\x20\x20By\x20gateway:','\x0aüìà\x20Cleanup\x20Summary:','Failed\x20to\x20update\x20PENDING\x20payment\x20','length','error','now','log','üìä\x20PROCESSING\x20payments\x20before\x20cleanup:\x20','‚úÖ\x20No\x20stale\x20PROCESSING\x20payments\x20found','173111YcDXqk','Failed\x20to\x20update\x20payment\x20','\x20from\x20PENDING\x20to\x20EXPIRED','failed','default','1024340cECvej','push','5yeNYUa','createdAt','logApiCall','üìä\x20PENDING\x20payments\x20after\x20cleanup:\x20','PaymentStatus','defineProperty','fresh','username','üìä\x20PENDING\x20payments\x20before\x20cleanup:\x20','\x20stale\x20PENDING\x20payments','getDate','setDate','\x20\x20\x20Age:\x20','runProcessingCleanupOnly','\x0aüìä\x20Stale\x20payments\x20(PROCESSING\x20+\x20PENDING)\x20after\x20cleanup:','Payment\x20timeout:\x20No\x20status\x20update\x20received\x20for\x20','üîç\x20Found\x20','name','floor','\x20\x20\x20Total:\x20','\x20\x20\x20‚úÖ\x20Total\x20successfully\x20processed:\x20','__esModule','processed','paymentCleanupService','logWebhookError','payment','\x20\x20\x20Shop:\x20','\x20\x20\x20Created:\x20','runCleanupWithReport','byAge','\x20days','2565270GfDuDK','admin','üöÄ\x20Starting\x20PROCESSING\x20payments\x20cleanup\x20only...','\x20\x20\x20By\x20status:','system','üßπ\x20Starting\x20cleanup\x20of\x20stale\x20PENDING\x20payments...','PENDING_TIMEOUT_DAYS','EXPIRED','üí•\x20','1377264STXHUB','gateway','‚è±Ô∏è\x20Processing\x20stale\x20payment:\x20','\x20stale\x20PROCESSING\x20payments','\x20\x20\x20üîÑ\x20PROCESSING\x20‚Üí\x20FAILED:\x20','cleanupStalePendingPayments','update','status','Unknown\x20error','1361716YnbaSr','üèÅ\x20Payment\x20cleanup\x20service\x20completed','\x20\x20\x20üìâ\x20Total\x20stale\x20payments\x20reduced\x20by:\x20','amount','pending_payment_cleanup','Failed\x20to\x20get\x20processing\x20payments\x20stats:\x20','getTime','FAILED','findMany','\x20\x20\x20Recent\x20(1-3\x20days):\x20','üìÖ\x20Looking\x20for\x20PROCESSING\x20payments\x20older\x20than:\x20','byGateway','\x20\x20\x20Expired\x20(>\x205\x20days):\x20','Cleanup\x20completed:\x20','message','üèÅ\x20PENDING\x20cleanup\x20completed','../config/database','\x20\x20\x20‚ö†Ô∏è\x20Errors\x20encountered:','üöÄ\x20Starting\x20PENDING\x20payments\x20cleanup\x20only...','currency','byStatus','‚úÖ\x20PENDING\x20payments\x20processed:\x20','PENDING\x20cleanup\x20service\x20error:\x20','POST','PROCESSING','getProcessingPaymentsStats','üìä\x20','./loggerService','\x20payments\x20updated\x20to\x20FAILED,\x20','stale','total','__importDefault','toISOString','PROCESSING_TIMEOUT_DAYS','@prisma/client','cleanupStaleProcessingPayments','auto_timeout_pending','recent','PaymentCleanupService','PENDING\x20cleanup\x20completed:\x20','üìä\x20PROCESSING\x20payments\x20after\x20cleanup:\x20','\x0aüîÑ\x20Running\x20PROCESSING\x20payments\x20cleanup...','loggerService','shop','expired','3013367RaPkny','‚úÖ\x20Updated\x20payment\x20','\x20\x20\x20\x20\x20\x20','‚úÖ\x20No\x20stale\x20PENDING\x20payments\x20found','‚è∞\x20Processing\x20stale\x20PENDING\x20payment:\x20','\x20failed\x20to\x20update','errors','\x0aüîÑ\x20Running\x20PENDING\x20payments\x20cleanup...','üèÅ\x20PROCESSING\x20cleanup\x20completed','739647aBwhbF','PENDING','payment_cleanup','üöÄ\x20Starting\x20payment\x20cleanup\x20service...'];a60_0x134f=function(){return _0x40c5da;};return a60_0x134f();}const database_1=__importDefault(require(a60_0x59d41d(0x7b))),client_1=require(a60_0x59d41d(0x8d)),loggerService_1=require(a60_0x59d41d(0x86));class PaymentCleanupService{constructor(){const _0x2d1854=a60_0x59d41d;this[_0x2d1854(0x8c)]=0x5,this[_0x2d1854(0xda)]=0x5;}async['cleanupStaleProcessingPayments'](){const _0x2d12ca=a60_0x59d41d,_0x1f604d=[];let _0x45d5f7=0x0,_0x11ee62=0x0;try{console['log']('üßπ\x20Starting\x20cleanup\x20of\x20stale\x20PROCESSING\x20payments...');const _0x5b4209=new Date();_0x5b4209[_0x2d12ca(0xc0)](_0x5b4209['getDate']()-this[_0x2d12ca(0x8c)]),console['log'](_0x2d12ca(0x75)+_0x5b4209['toISOString']());const _0x1b2192=await database_1[_0x2d12ca(0xb2)][_0x2d12ca(0xce)][_0x2d12ca(0x73)]({'where':{'status':client_1[_0x2d12ca(0xb9)][_0x2d12ca(0x83)],'createdAt':{'lt':_0x5b4209}},'include':{'shop':{'select':{'id':!![],'name':!![],'username':!![]}}}});console[_0x2d12ca(0xab)](_0x2d12ca(0xc5)+_0x1b2192[_0x2d12ca(0xa8)]+_0x2d12ca(0xe0));if(_0x1b2192[_0x2d12ca(0xa8)]===0x0)return console[_0x2d12ca(0xab)](_0x2d12ca(0xad)),{'processed':0x0,'failed':0x0,'errors':[]};for(const _0x1cd4f2 of _0x1b2192){try{console['log'](_0x2d12ca(0xdf)+_0x1cd4f2['id']+'\x20('+_0x1cd4f2[_0x2d12ca(0xde)]+',\x20'+_0x1cd4f2[_0x2d12ca(0xe9)]+'\x20'+_0x1cd4f2[_0x2d12ca(0x7e)]+')'),console['log'](_0x2d12ca(0xcf)+_0x1cd4f2[_0x2d12ca(0x96)][_0x2d12ca(0xc6)]+'\x20('+_0x1cd4f2[_0x2d12ca(0x96)][_0x2d12ca(0xbc)]+')'),console['log'](_0x2d12ca(0xd0)+_0x1cd4f2[_0x2d12ca(0xb6)]['toISOString']()),console[_0x2d12ca(0xab)](_0x2d12ca(0xc1)+Math[_0x2d12ca(0xc7)]((Date['now']()-_0x1cd4f2[_0x2d12ca(0xb6)][_0x2d12ca(0x71)]())/(0x3e8*0x3c*0x3c*0x18))+_0x2d12ca(0xd3));const _0x301cd0=await database_1[_0x2d12ca(0xb2)]['payment']['update']({'where':{'id':_0x1cd4f2['id']},'data':{'status':client_1[_0x2d12ca(0xb9)]['FAILED'],'statusChangedBy':_0x2d12ca(0xd8),'statusChangedAt':new Date(),'failureMessage':_0x2d12ca(0xc4)+this[_0x2d12ca(0x8c)]+_0x2d12ca(0xd3)}});console[_0x2d12ca(0xab)](_0x2d12ca(0x99)+_0x1cd4f2['id']+'\x20from\x20PROCESSING\x20to\x20FAILED'),loggerService_1[_0x2d12ca(0x95)]['logWebhookProcessed'](_0x1cd4f2['gateway'],_0x1cd4f2['id'],_0x2d12ca(0x83),_0x2d12ca(0x72),{'reason':'auto_timeout','timeoutDays':this['PROCESSING_TIMEOUT_DAYS']}),_0x45d5f7++;}catch(_0x253257){const _0x4e0e5a=_0x2d12ca(0xaf)+_0x1cd4f2['id']+':\x20'+(_0x253257 instanceof Error?_0x253257[_0x2d12ca(0x79)]:_0x2d12ca(0xe5));console['error']('‚ùå\x20'+_0x4e0e5a),_0x1f604d[_0x2d12ca(0xb4)](_0x4e0e5a),_0x11ee62++;}}const _0x4fbdc9=_0x2d12ca(0x78)+_0x45d5f7+_0x2d12ca(0x87)+_0x11ee62+_0x2d12ca(0x9d);return console[_0x2d12ca(0xab)]('üìä\x20'+_0x4fbdc9),loggerService_1[_0x2d12ca(0x95)][_0x2d12ca(0xb7)](_0x2d12ca(0xa3),_0x2d12ca(0x82),_0x2d12ca(0xd8),_0x2d12ca(0xd5),{'processed':_0x45d5f7,'failed':_0x11ee62,'errors':_0x1f604d,'timeoutDays':this['PROCESSING_TIMEOUT_DAYS']}),{'processed':_0x45d5f7,'failed':_0x11ee62,'errors':_0x1f604d};}catch(_0x3f2def){const _0xe16d1c='Cleanup\x20service\x20error:\x20'+(_0x3f2def instanceof Error?_0x3f2def['message']:_0x2d12ca(0xe5));return console[_0x2d12ca(0xa9)](_0x2d12ca(0xdc)+_0xe16d1c),_0x1f604d[_0x2d12ca(0xb4)](_0xe16d1c),loggerService_1[_0x2d12ca(0x95)][_0x2d12ca(0xcd)](_0x2d12ca(0xa3),_0xe16d1c,{'timeoutDays':this[_0x2d12ca(0x8c)]}),{'processed':_0x45d5f7,'failed':_0x11ee62,'errors':_0x1f604d};}}async[a60_0x59d41d(0xe2)](){const _0x53b38b=a60_0x59d41d,_0x3beb29=[];let _0x36e7dd=0x0,_0x557c55=0x0;try{console[_0x53b38b(0xab)](_0x53b38b(0xd9));const _0x407270=new Date();_0x407270[_0x53b38b(0xc0)](_0x407270[_0x53b38b(0xbf)]()-this['PENDING_TIMEOUT_DAYS']),console['log']('üìÖ\x20Looking\x20for\x20PENDING\x20payments\x20older\x20than:\x20'+_0x407270['toISOString']());const _0x2f7721=await database_1['default'][_0x53b38b(0xce)][_0x53b38b(0x73)]({'where':{'status':client_1[_0x53b38b(0xb9)][_0x53b38b(0xa2)],'createdAt':{'lt':_0x407270}},'include':{'shop':{'select':{'id':!![],'name':!![],'username':!![]}}}});console[_0x53b38b(0xab)](_0x53b38b(0xc5)+_0x2f7721['length']+_0x53b38b(0xbe));if(_0x2f7721[_0x53b38b(0xa8)]===0x0)return console['log'](_0x53b38b(0x9b)),{'processed':0x0,'failed':0x0,'errors':[]};for(const _0x4231ea of _0x2f7721){try{console[_0x53b38b(0xab)](_0x53b38b(0x9c)+_0x4231ea['id']+'\x20('+_0x4231ea[_0x53b38b(0xde)]+',\x20'+_0x4231ea['amount']+'\x20'+_0x4231ea[_0x53b38b(0x7e)]+')'),console[_0x53b38b(0xab)]('\x20\x20\x20Shop:\x20'+_0x4231ea[_0x53b38b(0x96)][_0x53b38b(0xc6)]+'\x20('+_0x4231ea[_0x53b38b(0x96)][_0x53b38b(0xbc)]+')'),console[_0x53b38b(0xab)]('\x20\x20\x20Created:\x20'+_0x4231ea[_0x53b38b(0xb6)][_0x53b38b(0x8b)]()),console[_0x53b38b(0xab)](_0x53b38b(0xc1)+Math[_0x53b38b(0xc7)]((Date[_0x53b38b(0xaa)]()-_0x4231ea['createdAt'][_0x53b38b(0x71)]())/(0x3e8*0x3c*0x3c*0x18))+_0x53b38b(0xd3));const _0x2d0529=await database_1[_0x53b38b(0xb2)][_0x53b38b(0xce)][_0x53b38b(0xe3)]({'where':{'id':_0x4231ea['id']},'data':{'status':client_1['PaymentStatus'][_0x53b38b(0xdb)],'statusChangedBy':_0x53b38b(0xd8),'statusChangedAt':new Date(),'failureMessage':'Payment\x20timeout:\x20No\x20payment\x20action\x20received\x20for\x20'+this[_0x53b38b(0xda)]+'\x20days'}});console[_0x53b38b(0xab)](_0x53b38b(0x99)+_0x4231ea['id']+_0x53b38b(0xb0)),loggerService_1[_0x53b38b(0x95)]['logWebhookProcessed'](_0x4231ea[_0x53b38b(0xde)],_0x4231ea['id'],_0x53b38b(0xa2),_0x53b38b(0xdb),{'reason':_0x53b38b(0x8f),'timeoutDays':this[_0x53b38b(0xda)]}),_0x36e7dd++;}catch(_0x44541e){const _0xaf8b04=_0x53b38b(0xa7)+_0x4231ea['id']+':\x20'+(_0x44541e instanceof Error?_0x44541e['message']:_0x53b38b(0xe5));console[_0x53b38b(0xa9)]('‚ùå\x20'+_0xaf8b04),_0x3beb29['push'](_0xaf8b04),_0x557c55++;}}const _0x3c91aa=_0x53b38b(0x92)+_0x36e7dd+'\x20payments\x20updated\x20to\x20EXPIRED,\x20'+_0x557c55+_0x53b38b(0x9d);return console[_0x53b38b(0xab)](_0x53b38b(0x85)+_0x3c91aa),loggerService_1[_0x53b38b(0x95)][_0x53b38b(0xb7)]('pending_payment_cleanup',_0x53b38b(0x82),'system','admin',{'processed':_0x36e7dd,'failed':_0x557c55,'errors':_0x3beb29,'timeoutDays':this[_0x53b38b(0xda)]}),{'processed':_0x36e7dd,'failed':_0x557c55,'errors':_0x3beb29};}catch(_0x474466){const _0x257316=_0x53b38b(0x81)+(_0x474466 instanceof Error?_0x474466['message']:_0x53b38b(0xe5));return console[_0x53b38b(0xa9)](_0x53b38b(0xdc)+_0x257316),_0x3beb29['push'](_0x257316),loggerService_1[_0x53b38b(0x95)][_0x53b38b(0xcd)](_0x53b38b(0x6f),_0x257316,{'timeoutDays':this[_0x53b38b(0xda)]}),{'processed':_0x36e7dd,'failed':_0x557c55,'errors':_0x3beb29};}}async[a60_0x59d41d(0x84)](){const _0x319fa2=a60_0x59d41d;try{const _0x3a31a7=new Date(),_0x50d36a=new Date(_0x3a31a7[_0x319fa2(0x71)]()-0x1*0x18*0x3c*0x3c*0x3e8),_0x5091d2=new Date(_0x3a31a7['getTime']()-0x3*0x18*0x3c*0x3c*0x3e8),_0x6487a8=new Date(_0x3a31a7[_0x319fa2(0x71)]()-0x5*0x18*0x3c*0x3c*0x3e8),_0xa3bea5=await database_1['default'][_0x319fa2(0xce)][_0x319fa2(0x73)]({'where':{'status':{'in':[client_1['PaymentStatus'][_0x319fa2(0x83)],client_1[_0x319fa2(0xb9)][_0x319fa2(0xa2)]]}},'select':{'id':!![],'gateway':!![],'status':!![],'createdAt':!![]}}),_0x30a74f={'total':_0xa3bea5['length'],'byAge':{'fresh':0x0,'recent':0x0,'stale':0x0,'expired':0x0},'byGateway':{},'byStatus':{}};for(const _0x5d33ad of _0xa3bea5){if(_0x5d33ad[_0x319fa2(0xb6)]>_0x50d36a)_0x30a74f[_0x319fa2(0xd2)][_0x319fa2(0xbb)]++;else{if(_0x5d33ad[_0x319fa2(0xb6)]>_0x5091d2)_0x30a74f[_0x319fa2(0xd2)][_0x319fa2(0x90)]++;else _0x5d33ad[_0x319fa2(0xb6)]>_0x6487a8?_0x30a74f['byAge'][_0x319fa2(0x88)]++:_0x30a74f['byAge']['expired']++;}!_0x30a74f[_0x319fa2(0x76)][_0x5d33ad['gateway']]&&(_0x30a74f[_0x319fa2(0x76)][_0x5d33ad[_0x319fa2(0xde)]]=0x0);_0x30a74f[_0x319fa2(0x76)][_0x5d33ad[_0x319fa2(0xde)]]++;const _0x1e0147=_0x5d33ad[_0x319fa2(0xe4)];!_0x30a74f[_0x319fa2(0x7f)][_0x1e0147]&&(_0x30a74f[_0x319fa2(0x7f)][_0x1e0147]=0x0),_0x30a74f[_0x319fa2(0x7f)][_0x1e0147]++;}return _0x30a74f;}catch(_0x23ff15){console[_0x319fa2(0xa9)]('Failed\x20to\x20get\x20processing\x20payments\x20stats:',_0x23ff15);throw new Error(_0x319fa2(0x70)+(_0x23ff15 instanceof Error?_0x23ff15[_0x319fa2(0x79)]:_0x319fa2(0xe5)));}}async[a60_0x59d41d(0xd1)](){const _0x59f027=a60_0x59d41d;console[_0x59f027(0xab)](_0x59f027(0xa4));const _0x48d987=await this[_0x59f027(0x84)]();console[_0x59f027(0xab)]('üìä\x20Stale\x20payments\x20(PROCESSING\x20+\x20PENDING)\x20before\x20cleanup:'),console['log']('\x20\x20\x20Total:\x20'+_0x48d987[_0x59f027(0x89)]),console[_0x59f027(0xab)]('\x20\x20\x20Fresh\x20(<\x201\x20day):\x20'+_0x48d987['byAge'][_0x59f027(0xbb)]),console[_0x59f027(0xab)](_0x59f027(0x74)+_0x48d987['byAge'][_0x59f027(0x90)]),console['log']('\x20\x20\x20Stale\x20(3-5\x20days):\x20'+_0x48d987[_0x59f027(0xd2)][_0x59f027(0x88)]),console[_0x59f027(0xab)](_0x59f027(0x77)+_0x48d987[_0x59f027(0xd2)][_0x59f027(0x97)]),console['log'](_0x59f027(0xa5),_0x48d987[_0x59f027(0x76)]),console[_0x59f027(0xab)]('\x20\x20\x20By\x20status:',_0x48d987['byStatus']),console[_0x59f027(0xab)](_0x59f027(0x94));const _0x2f9c36=await this[_0x59f027(0x8e)]();console[_0x59f027(0xab)](_0x59f027(0x9f));const _0x2bccd9=await this[_0x59f027(0xe2)](),_0x41d75c=await this['getProcessingPaymentsStats']();console[_0x59f027(0xab)](_0x59f027(0xc3)),console['log'](_0x59f027(0xc8)+_0x41d75c[_0x59f027(0x89)]),console[_0x59f027(0xab)](_0x59f027(0x77)+_0x41d75c[_0x59f027(0xd2)][_0x59f027(0x97)]),console[_0x59f027(0xab)](_0x59f027(0xd7),_0x41d75c[_0x59f027(0x7f)]);const _0x1289a1=_0x2f9c36[_0x59f027(0xcb)]+_0x2bccd9['processed'],_0x5a0998=_0x2f9c36[_0x59f027(0xb1)]+_0x2bccd9[_0x59f027(0xb1)],_0x254247=[..._0x2f9c36[_0x59f027(0x9e)],..._0x2bccd9[_0x59f027(0x9e)]];console[_0x59f027(0xab)](_0x59f027(0xa6)),console[_0x59f027(0xab)](_0x59f027(0xe1)+_0x2f9c36[_0x59f027(0xcb)]),console[_0x59f027(0xab)]('\x20\x20\x20‚è∞\x20PENDING\x20‚Üí\x20EXPIRED:\x20'+_0x2bccd9[_0x59f027(0xcb)]),console['log'](_0x59f027(0xc9)+_0x1289a1),console['log']('\x20\x20\x20‚ùå\x20Total\x20failed\x20to\x20process:\x20'+_0x5a0998),console['log'](_0x59f027(0xe8)+(_0x48d987[_0x59f027(0x89)]-_0x41d75c[_0x59f027(0x89)])),_0x254247[_0x59f027(0xa8)]>0x0&&(console[_0x59f027(0xab)](_0x59f027(0x7c)),_0x254247['forEach']((_0x424ad2,_0x5fd48e)=>{const _0x4cf382=_0x59f027;console[_0x4cf382(0xab)](_0x4cf382(0x9a)+(_0x5fd48e+0x1)+'.\x20'+_0x424ad2);})),console[_0x59f027(0xab)](_0x59f027(0xe7));}async[a60_0x59d41d(0xc2)](){const _0x48882e=a60_0x59d41d;console['log'](_0x48882e(0xd6));const _0x5d13bf=await this[_0x48882e(0x84)](),_0x2164c2=_0x5d13bf[_0x48882e(0x7f)]['PROCESSING']||0x0;console[_0x48882e(0xab)](_0x48882e(0xac)+_0x2164c2);const _0x31fb5e=await this['cleanupStaleProcessingPayments'](),_0x1ea8d8=await this['getProcessingPaymentsStats'](),_0x57df5a=_0x1ea8d8[_0x48882e(0x7f)]['PROCESSING']||0x0;console['log'](_0x48882e(0x93)+_0x57df5a),console[_0x48882e(0xab)]('‚úÖ\x20PROCESSING\x20payments\x20processed:\x20'+_0x31fb5e[_0x48882e(0xcb)]),console[_0x48882e(0xab)](_0x48882e(0xa0));}async['runPendingCleanupOnly'](){const _0x340597=a60_0x59d41d;console[_0x340597(0xab)](_0x340597(0x7d));const _0x4b4a6c=await this[_0x340597(0x84)](),_0x4db3d2=_0x4b4a6c[_0x340597(0x7f)]['PENDING']||0x0;console[_0x340597(0xab)](_0x340597(0xbd)+_0x4db3d2);const _0x1e24d3=await this[_0x340597(0xe2)](),_0x4e8531=await this[_0x340597(0x84)](),_0x21c0e5=_0x4e8531['byStatus']['PENDING']||0x0;console[_0x340597(0xab)](_0x340597(0xb8)+_0x21c0e5),console[_0x340597(0xab)](_0x340597(0x80)+_0x1e24d3[_0x340597(0xcb)]),console[_0x340597(0xab)](_0x340597(0x7a));}}exports['PaymentCleanupService']=PaymentCleanupService,exports[a60_0x59d41d(0xcc)]=new PaymentCleanupService();