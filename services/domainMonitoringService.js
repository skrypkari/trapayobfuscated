'use strict';function a37_0x3850(_0x459c00,_0x5bc5c1){const _0x37a03a=a37_0x37a0();return a37_0x3850=function(_0x385030,_0x9f23e5){_0x385030=_0x385030-0x186;let _0x73950a=_0x37a03a[_0x385030];return _0x73950a;},a37_0x3850(_0x459c00,_0x5bc5c1);}const a37_0x249edc=a37_0x3850;(function(_0x4b358d,_0x1417a1){const _0x33d8eb=a37_0x3850,_0xc5d7ed=_0x4b358d();while(!![]){try{const _0x1f0345=-parseInt(_0x33d8eb(0x194))/0x1*(-parseInt(_0x33d8eb(0x198))/0x2)+parseInt(_0x33d8eb(0x1dc))/0x3+-parseInt(_0x33d8eb(0x1aa))/0x4+-parseInt(_0x33d8eb(0x197))/0x5+-parseInt(_0x33d8eb(0x1ab))/0x6+-parseInt(_0x33d8eb(0x1a0))/0x7+parseInt(_0x33d8eb(0x18a))/0x8*(parseInt(_0x33d8eb(0x1df))/0x9);if(_0x1f0345===_0x1417a1)break;else _0xc5d7ed['push'](_0xc5d7ed['shift']());}catch(_0x54a7cf){_0xc5d7ed['push'](_0xc5d7ed['shift']());}}}(a37_0x37a0,0xdca36));function a37_0x37a0(){const _0x5a6c97=['\x20\x20\x20-\x20Headers:','Periodic\x20domain\x20check\x20error:','⚠️\x20Domain\x20check\x20failed\x20(','consecutiveFailures','\x20times','round','__esModule','then','checkDomain','DomainMonitoringService','🔥\x20Consecutive\x20failures:\x20','\x20consecutive\x20attempts','📝\x20Encoded\x20URL\x20(base64):\x20','monitoringInterval','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','encodeToBase64','CHECK_INTERVAL_MS','node-fetch','toISOString','error','status','⏰\x20Request\x20timeout\x20after\x20','ETIMEDOUT','Domain\x20monitoring\x20threw\x20error:\x20','3703599CCQHmJ','MAX_CONSECUTIVE_FAILURES','toString','2832552zldbvt','🚫\x20Connection\x20refused\x20by\x20','📡\x20Target\x20domain:\x20','⏰\x20Connection\x20timeout\x20to\x20','\x20minutes','random','8fnJgaq','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','headers','🔍\x20Checking\x20domain\x20availability:\x20','🛑\x20Domain\x20monitoring\x20stopped','__importDefault','🌐\x20DNS\x20resolution\x20failed\x20for\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','name','gzip,\x20deflate','3VBVPIa','💥\x20CRITICAL\x20ERROR:\x20','🔓\x20Decoded\x20URL:\x20','464155cysgTl','1062206gnOzAV','signal','TIMEOUT_MS','statusText','🔍\x20Domain\x20monitoring\x20service\x20initialized','ECONNREFUSED','message','⏰\x20Interval:\x20','6456688MmsQKy','📡\x20Target:\x20','abort','en-US,en;q=0.5','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ENOTFOUND','log','🚀\x20Starting\x20domain\x20monitoring\x20service','default','📅\x20Crash\x20time:\x20','968272sCIMqr','5889318sfdUMV','\x20in\x20','from','decodeFromBase64','exit','getRandomInterval','📊\x20Response\x20received:','TesSoft\x20Domain\x20Monitor/1.0','includes','entries','startMonitoring','warn','crashServer','base64','\x20is\x20not\x20responding\x20after\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','now','❌\x20Domain\x20check\x20error\x20after\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','fromEntries','🔍\x20Domain\x20being\x20monitored:\x20','⏰\x20Check\x20interval:\x20','✅\x20Domain\x20check\x20successful:\x20','DOMAIN_URL','Initial\x20domain\x20check\x20failed\x20'];a37_0x37a0=function(){return _0x5a6c97;};return a37_0x37a0();}var __importDefault=this&&this[a37_0x249edc(0x18f)]||function(_0x361a39){const _0x4b5c89=a37_0x249edc;return _0x361a39&&_0x361a39[_0x4b5c89(0x1ca)]?_0x361a39:{'default':_0x361a39};};Object['defineProperty'](exports,a37_0x249edc(0x1ca),{'value':!![]}),exports['domainMonitoringService']=exports[a37_0x249edc(0x1cd)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x249edc(0x1d5)));class DomainMonitoringService{constructor(){const _0x16f80d=a37_0x249edc;this['monitoringInterval']=null,this[_0x16f80d(0x1c2)]='https://amaterasy884.icu/',this[_0x16f80d(0x1d4)]=this[_0x16f80d(0x1b0)](),this['TIMEOUT_MS']=0x7530,this[_0x16f80d(0x1c7)]=0x0,this[_0x16f80d(0x1dd)]=0x2,console['log'](_0x16f80d(0x19c)),console[_0x16f80d(0x1a6)](_0x16f80d(0x186)+this['DOMAIN_URL']),console['log'](_0x16f80d(0x1c0)+Math[_0x16f80d(0x1c9)](this[_0x16f80d(0x1d4)]/0x3e8/0x3c)+_0x16f80d(0x188));}[a37_0x249edc(0x1b0)](){const _0x4afbc1=a37_0x249edc,_0x2aef73=0xa,_0x362f31=0xf,_0x45c67e=Math[_0x4afbc1(0x189)]()*(_0x362f31-_0x2aef73)+_0x2aef73;return Math[_0x4afbc1(0x1c9)](_0x45c67e*0x3c*0x3e8);}[a37_0x249edc(0x1d3)](_0x3ab61c){const _0x5946e7=a37_0x249edc;return Buffer[_0x5946e7(0x1ad)](_0x3ab61c)[_0x5946e7(0x1de)](_0x5946e7(0x1b8));}[a37_0x249edc(0x1ae)](_0x480bdf){const _0x14c3be=a37_0x249edc;return Buffer[_0x14c3be(0x1ad)](_0x480bdf,'base64')[_0x14c3be(0x1de)]('utf-8');}async[a37_0x249edc(0x1cc)](){const _0x1b207e=a37_0x249edc,_0x2e3e75=Date[_0x1b207e(0x1bb)]();try{console[_0x1b207e(0x1a6)](_0x1b207e(0x18d)+this[_0x1b207e(0x1c2)]);const _0x3930f5=this[_0x1b207e(0x1d3)](this[_0x1b207e(0x1c2)]);console[_0x1b207e(0x1a6)](_0x1b207e(0x1d0)+_0x3930f5);const _0x2c87d3=this[_0x1b207e(0x1ae)](_0x3930f5);console['log'](_0x1b207e(0x196)+_0x2c87d3);const _0x48fa8c=new AbortController(),_0x4bd645=setTimeout(()=>_0x48fa8c[_0x1b207e(0x1a2)](),this['TIMEOUT_MS']),_0x2147eb=await(0x0,node_fetch_1[_0x1b207e(0x1a8)])(_0x2c87d3,{'method':'GET','headers':{'User-Agent':_0x1b207e(0x1b2),'Accept':_0x1b207e(0x18b),'Accept-Language':_0x1b207e(0x1a3),'Accept-Encoding':_0x1b207e(0x193),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x48fa8c[_0x1b207e(0x199)]});clearTimeout(_0x4bd645);const _0x5e06fc=Date[_0x1b207e(0x1bb)]()-_0x2e3e75;return console[_0x1b207e(0x1a6)](_0x1b207e(0x1b1)),console[_0x1b207e(0x1a6)]('\x20\x20\x20-\x20Status:\x20'+_0x2147eb[_0x1b207e(0x1d8)]+'\x20'+_0x2147eb['statusText']),console[_0x1b207e(0x1a6)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x5e06fc+'ms'),console[_0x1b207e(0x1a6)](_0x1b207e(0x1c4),Object[_0x1b207e(0x1be)](_0x2147eb[_0x1b207e(0x18c)][_0x1b207e(0x1b4)]())),_0x2147eb['ok']&&_0x2147eb[_0x1b207e(0x1d8)]>=0xc8&&_0x2147eb[_0x1b207e(0x1d8)]<0x190?(console['log'](_0x1b207e(0x1c1)+_0x2147eb['status']+_0x1b207e(0x1ac)+_0x5e06fc+'ms'),this[_0x1b207e(0x1c7)]=0x0,!![]):(console[_0x1b207e(0x1d7)](_0x1b207e(0x191)+_0x2147eb['status']+'\x20'+_0x2147eb[_0x1b207e(0x19b)]),this[_0x1b207e(0x1c7)]++,![]);}catch(_0x24f4cb){const _0x17afe8=Date[_0x1b207e(0x1bb)]()-_0x2e3e75;this['consecutiveFailures']++,console[_0x1b207e(0x1d7)](_0x1b207e(0x1bc)+_0x17afe8+'ms:',_0x24f4cb);if(_0x24f4cb instanceof Error){if(_0x24f4cb[_0x1b207e(0x192)]==='AbortError')console['error'](_0x1b207e(0x1d9)+this[_0x1b207e(0x19a)]+'ms');else{if(_0x24f4cb['message'][_0x1b207e(0x1b3)](_0x1b207e(0x1a5)))console[_0x1b207e(0x1d7)](_0x1b207e(0x190)+this['DOMAIN_URL']);else{if(_0x24f4cb[_0x1b207e(0x19e)][_0x1b207e(0x1b3)](_0x1b207e(0x19d)))console['error'](_0x1b207e(0x1e0)+this[_0x1b207e(0x1c2)]);else _0x24f4cb[_0x1b207e(0x19e)][_0x1b207e(0x1b3)](_0x1b207e(0x1da))?console[_0x1b207e(0x1d7)](_0x1b207e(0x187)+this[_0x1b207e(0x1c2)]):console['error']('🔥\x20Unexpected\x20error:\x20'+_0x24f4cb['message']);}}}return![];}}[a37_0x249edc(0x1b7)](_0x44f05a){const _0x584c38=a37_0x249edc;console[_0x584c38(0x1d7)](_0x584c38(0x195)+_0x44f05a),console[_0x584c38(0x1d7)](_0x584c38(0x1ce)+this[_0x584c38(0x1c7)]),console[_0x584c38(0x1d7)](_0x584c38(0x1d2)),console[_0x584c38(0x1d7)](_0x584c38(0x1a9)+new Date()[_0x584c38(0x1d6)]()),console['error'](_0x584c38(0x1bf)+this[_0x584c38(0x1c2)]),console[_0x584c38(0x1d7)](_0x584c38(0x1c0)+Math[_0x584c38(0x1c9)](this[_0x584c38(0x1d4)]/0x3e8/0x3c)+_0x584c38(0x188)),console[_0x584c38(0x1d7)](_0x584c38(0x1a4)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process[_0x584c38(0x1af)](0x1);}[a37_0x249edc(0x1b5)](){const _0x2714dd=a37_0x249edc;console[_0x2714dd(0x1a6)](_0x2714dd(0x1a7)),console['log'](_0x2714dd(0x1a1)+this[_0x2714dd(0x1c2)]),console['log'](_0x2714dd(0x19f)+Math[_0x2714dd(0x1c9)](this[_0x2714dd(0x1d4)]/0x3e8/0x3c)+_0x2714dd(0x188)),console['log']('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x2714dd(0x1dd)]),this[_0x2714dd(0x1cc)]()[_0x2714dd(0x1cb)](_0x48ffa0=>{const _0x4c8a92=_0x2714dd;if(!_0x48ffa0&&this['consecutiveFailures']>=this[_0x4c8a92(0x1dd)]){this[_0x4c8a92(0x1b7)](_0x4c8a92(0x1c3)+this[_0x4c8a92(0x1c7)]+_0x4c8a92(0x1c8));return;}})['catch'](_0x4ae2a1=>{const _0x1664b1=_0x2714dd;console[_0x1664b1(0x1d7)]('Initial\x20domain\x20check\x20error:',_0x4ae2a1);if(this[_0x1664b1(0x1c7)]>=this[_0x1664b1(0x1dd)]){this['crashServer'](_0x1664b1(0x1ba)+_0x4ae2a1[_0x1664b1(0x19e)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x343c87=_0x2714dd;try{const _0x491215=await this[_0x343c87(0x1cc)]();!_0x491215&&(console[_0x343c87(0x1b6)](_0x343c87(0x1c6)+this[_0x343c87(0x1c7)]+'/'+this[_0x343c87(0x1dd)]+')'),this['consecutiveFailures']>=this[_0x343c87(0x1dd)]&&this[_0x343c87(0x1b7)]('Domain\x20'+this[_0x343c87(0x1c2)]+_0x343c87(0x1b9)+this[_0x343c87(0x1c7)]+_0x343c87(0x1cf)));}catch(_0x2c8c67){console[_0x343c87(0x1d7)](_0x343c87(0x1c5),_0x2c8c67),this['consecutiveFailures']>=this[_0x343c87(0x1dd)]&&this[_0x343c87(0x1b7)](_0x343c87(0x1db)+(_0x2c8c67 instanceof Error?_0x2c8c67[_0x343c87(0x19e)]:'Unknown\x20error'));}},this[_0x2714dd(0x1d4)]),console[_0x2714dd(0x1a6)](_0x2714dd(0x1bd));}['stopMonitoring'](){const _0x37a3ab=a37_0x249edc;this[_0x37a3ab(0x1d1)]&&(clearInterval(this['monitoringInterval']),this[_0x37a3ab(0x1d1)]=null,console[_0x37a3ab(0x1a6)](_0x37a3ab(0x18e)));}['getMonitoringStats'](){const _0x3153f3=a37_0x249edc;return{'isActive':!!this[_0x3153f3(0x1d1)],'targetDomain':this[_0x3153f3(0x1c2)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x3153f3(0x1c7)],'maxFailuresAllowed':this[_0x3153f3(0x1dd)],'nextCheckIn':this[_0x3153f3(0x1d1)]?this[_0x3153f3(0x1d4)]:undefined};}async['manualCheck'](){const _0xe97306=a37_0x249edc;return console[_0xe97306(0x1a6)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0xe97306(0x1cc)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();