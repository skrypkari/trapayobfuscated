'use strict';const a39_0x15496e=a39_0xe822;(function(_0x850c30,_0x3f9933){const _0x30ffa1=a39_0xe822,_0x501488=_0x850c30();while(!![]){try{const _0x35a93c=-parseInt(_0x30ffa1(0xf9))/0x1+parseInt(_0x30ffa1(0x128))/0x2+parseInt(_0x30ffa1(0xfc))/0x3*(-parseInt(_0x30ffa1(0x108))/0x4)+-parseInt(_0x30ffa1(0x132))/0x5+-parseInt(_0x30ffa1(0x106))/0x6*(parseInt(_0x30ffa1(0x102))/0x7)+-parseInt(_0x30ffa1(0x125))/0x8*(parseInt(_0x30ffa1(0xea))/0x9)+parseInt(_0x30ffa1(0xdc))/0xa;if(_0x35a93c===_0x3f9933)break;else _0x501488['push'](_0x501488['shift']());}catch(_0x4cf023){_0x501488['push'](_0x501488['shift']());}}}(a39_0x4a58,0x735b9));var __importDefault=this&&this[a39_0x15496e(0x113)]||function(_0x48d60a){const _0x2dc92e=a39_0x15496e;return _0x48d60a&&_0x48d60a[_0x2dc92e(0xfa)]?_0x48d60a:{'default':_0x48d60a};};Object['defineProperty'](exports,a39_0x15496e(0xfa),{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x15496e(0x10f)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x15496e(0x11f)));class DomainMonitoringService{constructor(){const _0x2e6e73=a39_0x15496e;this[_0x2e6e73(0x12b)]=null,this[_0x2e6e73(0xe6)]=_0x2e6e73(0x122),this[_0x2e6e73(0x11e)]=this[_0x2e6e73(0xe8)](),this[_0x2e6e73(0xe1)]=0x7530,this[_0x2e6e73(0x105)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x2e6e73(0x123)](_0x2e6e73(0x10d)),console[_0x2e6e73(0x123)](_0x2e6e73(0x127)+this[_0x2e6e73(0xe6)]),console[_0x2e6e73(0x123)](_0x2e6e73(0xdd)+Math[_0x2e6e73(0xe9)](this[_0x2e6e73(0x11e)]/0x3e8/0x3c)+'\x20minutes');}[a39_0x15496e(0xe8)](){const _0x34b82d=a39_0x15496e,_0x320ae1=0xa,_0x202d7f=0xf,_0x3882b7=Math[_0x34b82d(0xec)]()*(_0x202d7f-_0x320ae1)+_0x320ae1;return Math[_0x34b82d(0xe9)](_0x3882b7*0x3c*0x3e8);}[a39_0x15496e(0xf4)](_0x55c242){const _0x38a4ee=a39_0x15496e;return Buffer['from'](_0x55c242)['toString'](_0x38a4ee(0xe0));}['decodeFromBase64'](_0x3801bc){const _0x214ce1=a39_0x15496e;return Buffer[_0x214ce1(0x107)](_0x3801bc,_0x214ce1(0xe0))[_0x214ce1(0xdb)](_0x214ce1(0x11c));}async[a39_0x15496e(0x11a)](){const _0x279327=a39_0x15496e,_0x573918=Date[_0x279327(0x12e)]();try{console[_0x279327(0x123)]('üîç\x20Checking\x20domain\x20availability:\x20'+this[_0x279327(0xe6)]);const _0x36146e=this[_0x279327(0xf4)](this[_0x279327(0xe6)]);console[_0x279327(0x123)](_0x279327(0x101)+_0x36146e);const _0x578db1=this['decodeFromBase64'](_0x36146e);console['log'](_0x279327(0x138)+_0x578db1);const _0x3a7ce9=new AbortController(),_0x1eed3f=setTimeout(()=>_0x3a7ce9[_0x279327(0x12a)](),this[_0x279327(0xe1)]),_0x501893=await(0x0,node_fetch_1[_0x279327(0xde)])(_0x578db1,{'method':'GET','headers':{'User-Agent':_0x279327(0xe4),'Accept':_0x279327(0x100),'Accept-Language':_0x279327(0xed),'Accept-Encoding':_0x279327(0xfe),'Connection':_0x279327(0x126),'Upgrade-Insecure-Requests':'1'},'signal':_0x3a7ce9[_0x279327(0x10b)]});clearTimeout(_0x1eed3f);const _0x54433e=Date['now']()-_0x573918;return console['log']('üìä\x20Response\x20received:'),console[_0x279327(0x123)](_0x279327(0xe5)+_0x501893[_0x279327(0x139)]+'\x20'+_0x501893['statusText']),console[_0x279327(0x123)](_0x279327(0xee)+_0x54433e+'ms'),console[_0x279327(0x123)](_0x279327(0x137),Object[_0x279327(0xe7)](_0x501893['headers'][_0x279327(0xf1)]())),_0x501893['ok']&&_0x501893[_0x279327(0x139)]>=0xc8&&_0x501893[_0x279327(0x139)]<0x190?(console[_0x279327(0x123)](_0x279327(0x116)+_0x501893['status']+_0x279327(0xf6)+_0x54433e+'ms'),this[_0x279327(0x105)]=0x0,!![]):(console[_0x279327(0xef)]('‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x501893[_0x279327(0x139)]+'\x20'+_0x501893[_0x279327(0x136)]),this['consecutiveFailures']++,![]);}catch(_0x2fd8b4){const _0x1b39f5=Date[_0x279327(0x12e)]()-_0x573918;this[_0x279327(0x105)]++,console['error'](_0x279327(0xff)+_0x1b39f5+_0x279327(0x115),_0x2fd8b4);if(_0x2fd8b4 instanceof Error){if(_0x2fd8b4[_0x279327(0x11d)]===_0x279327(0x112))console[_0x279327(0xef)](_0x279327(0x103)+this[_0x279327(0xe1)]+'ms');else{if(_0x2fd8b4[_0x279327(0xf0)][_0x279327(0xf5)](_0x279327(0x130)))console[_0x279327(0xef)](_0x279327(0x117)+this[_0x279327(0xe6)]);else{if(_0x2fd8b4[_0x279327(0xf0)][_0x279327(0xf5)]('ECONNREFUSED'))console[_0x279327(0xef)]('üö´\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x2fd8b4['message'][_0x279327(0xf5)](_0x279327(0x12f))?console[_0x279327(0xef)](_0x279327(0xf3)+this[_0x279327(0xe6)]):console[_0x279327(0xef)](_0x279327(0x121)+_0x2fd8b4['message']);}}}return![];}}[a39_0x15496e(0xe3)](_0x167aed){const _0x2d4d08=a39_0x15496e;console['error'](_0x2d4d08(0x11b)+_0x167aed),console['error'](_0x2d4d08(0x104)+this[_0x2d4d08(0x105)]),console[_0x2d4d08(0xef)](_0x2d4d08(0xfb)),console[_0x2d4d08(0xef)](_0x2d4d08(0x12d)+new Date()[_0x2d4d08(0x134)]()),console[_0x2d4d08(0xef)]('üîç\x20Domain\x20being\x20monitored:\x20'+this[_0x2d4d08(0xe6)]),console['error'](_0x2d4d08(0xdd)+Math[_0x2d4d08(0xe9)](this[_0x2d4d08(0x11e)]/0x3e8/0x3c)+'\x20minutes'),console['error'](_0x2d4d08(0x135)+this[_0x2d4d08(0x12c)]),this[_0x2d4d08(0x120)](),process['exit'](0x1);}[a39_0x15496e(0xf7)](){const _0x850547=a39_0x15496e;console[_0x850547(0x123)](_0x850547(0x119)),console[_0x850547(0x123)]('üì°\x20Target:\x20'+this[_0x850547(0xe6)]),console[_0x850547(0x123)]('‚è∞\x20Interval:\x20'+Math['round'](this[_0x850547(0x11e)]/0x3e8/0x3c)+_0x850547(0x129)),console[_0x850547(0x123)](_0x850547(0xeb)+this[_0x850547(0x12c)]),this[_0x850547(0x11a)]()[_0x850547(0x10a)](_0x32ec2e=>{const _0x70a54c=_0x850547;if(!_0x32ec2e&&this[_0x70a54c(0x105)]>=this[_0x70a54c(0x12c)]){this['crashServer'](_0x70a54c(0x10e)+this[_0x70a54c(0x105)]+_0x70a54c(0x111));return;}})['catch'](_0x52ced8=>{const _0x30f0f0=_0x850547;console[_0x30f0f0(0xef)](_0x30f0f0(0xfd),_0x52ced8);if(this['consecutiveFailures']>=this[_0x30f0f0(0x12c)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x52ced8[_0x30f0f0(0xf0)]);return;}}),this[_0x850547(0x12b)]=setInterval(async()=>{const _0x5b4b34=_0x850547;try{const _0x5d5d6f=await this['checkDomain']();!_0x5d5d6f&&(console[_0x5b4b34(0xe2)](_0x5b4b34(0xdf)+this['consecutiveFailures']+'/'+this[_0x5b4b34(0x12c)]+')'),this[_0x5b4b34(0x105)]>=this[_0x5b4b34(0x12c)]&&this['crashServer'](_0x5b4b34(0x10c)+this['DOMAIN_URL']+_0x5b4b34(0x110)+this[_0x5b4b34(0x105)]+_0x5b4b34(0x133)));}catch(_0xe85f23){console[_0x5b4b34(0xef)](_0x5b4b34(0xf2),_0xe85f23),this[_0x5b4b34(0x105)]>=this[_0x5b4b34(0x12c)]&&this[_0x5b4b34(0xe3)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0xe85f23 instanceof Error?_0xe85f23[_0x5b4b34(0xf0)]:_0x5b4b34(0x124)));}},this['CHECK_INTERVAL_MS']),console['log'](_0x850547(0x114));}[a39_0x15496e(0x120)](){const _0x47e9ff=a39_0x15496e;this[_0x47e9ff(0x12b)]&&(clearInterval(this['monitoringInterval']),this[_0x47e9ff(0x12b)]=null,console[_0x47e9ff(0x123)](_0x47e9ff(0xf8)));}[a39_0x15496e(0x131)](){const _0x97b6a7=a39_0x15496e;return{'isActive':!!this[_0x97b6a7(0x12b)],'targetDomain':this[_0x97b6a7(0xe6)],'checkIntervalMinutes':Math[_0x97b6a7(0xe9)](this[_0x97b6a7(0x11e)]/0x3e8/0x3c),'consecutiveFailures':this[_0x97b6a7(0x105)],'maxFailuresAllowed':this[_0x97b6a7(0x12c)],'nextCheckIn':this[_0x97b6a7(0x12b)]?this['CHECK_INTERVAL_MS']:undefined};}async['manualCheck'](){const _0x5be464=a39_0x15496e;return console[_0x5be464(0x123)](_0x5be464(0x118)),await this['checkDomain']();}}exports[a39_0x15496e(0x10f)]=DomainMonitoringService,exports[a39_0x15496e(0x109)]=new DomainMonitoringService();function a39_0xe822(_0x586685,_0x4304bc){const _0x4a58e9=a39_0x4a58();return a39_0xe822=function(_0xe82218,_0x3c2b1b){_0xe82218=_0xe82218-0xdb;let _0x12e4d3=_0x4a58e9[_0xe82218];return _0x12e4d3;},a39_0xe822(_0x586685,_0x4304bc);}function a39_0x4a58(){const _0x482d64=['default','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','base64','TIMEOUT_MS','warn','crashServer','TesSoft\x20Domain\x20Monitor/1.0','\x20\x20\x20-\x20Status:\x20','DOMAIN_URL','fromEntries','getRandomInterval','round','9SYRefV','üö®\x20Max\x20failures\x20before\x20crash:\x20','random','en-US,en;q=0.5','\x20\x20\x20-\x20Response\x20time:\x20','error','message','entries','Periodic\x20domain\x20check\x20error:','‚è∞\x20Connection\x20timeout\x20to\x20','encodeToBase64','includes','\x20in\x20','startMonitoring','üõë\x20Domain\x20monitoring\x20stopped','837316KOcsWm','__esModule','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','1697775iOBGyX','Initial\x20domain\x20check\x20error:','gzip,\x20deflate','‚ùå\x20Domain\x20check\x20error\x20after\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','üìù\x20Encoded\x20URL\x20(base64):\x20','959iaCvAy','‚è∞\x20Request\x20timeout\x20after\x20','üî•\x20Consecutive\x20failures:\x20','consecutiveFailures','906msfdwH','from','4ktvBOJ','domainMonitoringService','then','signal','Domain\x20','üîç\x20Domain\x20monitoring\x20service\x20initialized','Initial\x20domain\x20check\x20failed\x20','DomainMonitoringService','\x20is\x20not\x20responding\x20after\x20','\x20times','AbortError','__importDefault','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','ms:','‚úÖ\x20Domain\x20check\x20successful:\x20','üåê\x20DNS\x20resolution\x20failed\x20for\x20','üîß\x20Manual\x20domain\x20check\x20requested','üöÄ\x20Starting\x20domain\x20monitoring\x20service','checkDomain','üí•\x20CRITICAL\x20ERROR:\x20','utf-8','name','CHECK_INTERVAL_MS','node-fetch','stopMonitoring','üî•\x20Unexpected\x20error:\x20','https://google.com','log','Unknown\x20error','3161464KdcjrN','keep-alive','üì°\x20Target\x20domain:\x20','481022XoqkCR','\x20minutes','abort','monitoringInterval','MAX_CONSECUTIVE_FAILURES','üìÖ\x20Crash\x20time:\x20','now','ETIMEDOUT','ENOTFOUND','getMonitoringStats','3128060PdvTBo','\x20consecutive\x20attempts','toISOString','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','statusText','\x20\x20\x20-\x20Headers:','üîì\x20Decoded\x20URL:\x20','status','toString','26767170TvrloD','‚è∞\x20Check\x20interval:\x20'];a39_0x4a58=function(){return _0x482d64;};return a39_0x4a58();}