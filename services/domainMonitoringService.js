'use strict';function a40_0x43a1(_0x61920a,_0x18985d){const _0x452959=a40_0x4529();return a40_0x43a1=function(_0x43a109,_0x2b2990){_0x43a109=_0x43a109-0x131;let _0x18eae8=_0x452959[_0x43a109];return _0x18eae8;},a40_0x43a1(_0x61920a,_0x18985d);}const a40_0x20a0eb=a40_0x43a1;(function(_0x2254be,_0x5377fa){const _0xbf9df2=a40_0x43a1,_0x425d50=_0x2254be();while(!![]){try{const _0x48ec49=parseInt(_0xbf9df2(0x14e))/0x1+parseInt(_0xbf9df2(0x136))/0x2*(-parseInt(_0xbf9df2(0x167))/0x3)+parseInt(_0xbf9df2(0x176))/0x4+-parseInt(_0xbf9df2(0x168))/0x5*(parseInt(_0xbf9df2(0x189))/0x6)+parseInt(_0xbf9df2(0x13f))/0x7+parseInt(_0xbf9df2(0x17d))/0x8+-parseInt(_0xbf9df2(0x184))/0x9*(-parseInt(_0xbf9df2(0x15d))/0xa);if(_0x48ec49===_0x5377fa)break;else _0x425d50['push'](_0x425d50['shift']());}catch(_0x1fd815){_0x425d50['push'](_0x425d50['shift']());}}}(a40_0x4529,0x478a6));var __importDefault=this&&this['__importDefault']||function(_0x330c78){return _0x330c78&&_0x330c78['__esModule']?_0x330c78:{'default':_0x330c78};};function a40_0x4529(){const _0x37efb7=['⏰\x20Request\x20timeout\x20after\x20','DomainMonitoringService','🚫\x20Connection\x20refused\x20by\x20','\x20consecutive\x20attempts','AbortError','3365824wTIuBX','📊\x20Response\x20received:','ENOTFOUND','💥\x20CRITICAL\x20ERROR:\x20','catch','🔍\x20Checking\x20domain\x20availability:\x20','MAX_CONSECUTIVE_FAILURES','9GesPag','✅\x20Domain\x20monitoring\x20started\x20successfully','⏰\x20Interval:\x20','❌\x20Domain\x20check\x20error\x20after\x20','🔥\x20Unexpected\x20error:\x20','1216464JbxPSI','checkDomain','from','monitoringInterval','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','startMonitoring','TesSoft\x20Domain\x20Monitor/1.0','toString','2294BZejYY','Initial\x20domain\x20check\x20threw\x20error:\x20','Initial\x20domain\x20check\x20error:','domainMonitoringService','round','🚀\x20Starting\x20domain\x20monitoring\x20service','__esModule','exit','CHECK_INTERVAL_MS','181909WxvMVX','getRandomInterval','includes','defineProperty','📅\x20Crash\x20time:\x20','Initial\x20domain\x20check\x20failed\x20','\x20minutes','status','🔓\x20Decoded\x20URL:\x20','statusText','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','crashServer','consecutiveFailures','headers','toISOString','320221gyRxdo','\x20in\x20','https://google.com','📡\x20Target\x20domain:\x20','\x20\x20\x20-\x20Response\x20time:\x20','name','decodeFromBase64','base64','en-US,en;q=0.5','fromEntries','random','📝\x20Encoded\x20URL\x20(base64):\x20','📡\x20Target:\x20','\x20times','ETIMEDOUT','239410zpvVSD','🚨\x20Max\x20failures\x20before\x20crash:\x20','DOMAIN_URL','getMonitoringStats','🌐\x20DNS\x20resolution\x20failed\x20for\x20','GET','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','🔥\x20Consecutive\x20failures:\x20','\x20\x20\x20-\x20Status:\x20','Domain\x20monitoring\x20threw\x20error:\x20','1086OwbHTq','5DOsnQB','entries','🛑\x20Domain\x20monitoring\x20stopped','error','now','Unknown\x20error','log','Periodic\x20domain\x20check\x20error:','then','TIMEOUT_MS','stopMonitoring','encodeToBase64','message','utf-8','480444uPBvMt','⏰\x20Check\x20interval:\x20'];a40_0x4529=function(){return _0x37efb7;};return a40_0x4529();}Object[a40_0x20a0eb(0x142)](exports,a40_0x20a0eb(0x13c),{'value':!![]}),exports[a40_0x20a0eb(0x139)]=exports[a40_0x20a0eb(0x179)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x12a0c0=a40_0x20a0eb;this[_0x12a0c0(0x131)]=null,this[_0x12a0c0(0x15f)]=_0x12a0c0(0x150),this[_0x12a0c0(0x13e)]=this[_0x12a0c0(0x140)](),this[_0x12a0c0(0x171)]=0x7530,this[_0x12a0c0(0x14b)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x12a0c0(0x16e)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x12a0c0(0x16e)](_0x12a0c0(0x151)+this[_0x12a0c0(0x15f)]),console[_0x12a0c0(0x16e)]('⏰\x20Check\x20interval:\x20'+Math['round'](this[_0x12a0c0(0x13e)]/0x3e8/0x3c)+'\x20minutes');}[a40_0x20a0eb(0x140)](){const _0x13edbb=a40_0x20a0eb,_0xcbad02=0xa,_0x5a09ce=0xf,_0x481fba=Math[_0x13edbb(0x158)]()*(_0x5a09ce-_0xcbad02)+_0xcbad02;return Math[_0x13edbb(0x13a)](_0x481fba*0x3c*0x3e8);}[a40_0x20a0eb(0x173)](_0x397a69){const _0x3016aa=a40_0x20a0eb;return Buffer[_0x3016aa(0x18b)](_0x397a69)[_0x3016aa(0x135)](_0x3016aa(0x155));}['decodeFromBase64'](_0xdd140c){const _0x4da907=a40_0x20a0eb;return Buffer[_0x4da907(0x18b)](_0xdd140c,_0x4da907(0x155))[_0x4da907(0x135)](_0x4da907(0x175));}async['checkDomain'](){const _0xc26080=a40_0x20a0eb,_0x2f525f=Date[_0xc26080(0x16c)]();try{console[_0xc26080(0x16e)](_0xc26080(0x182)+this[_0xc26080(0x15f)]);const _0x5e5945=this['encodeToBase64'](this['DOMAIN_URL']);console[_0xc26080(0x16e)](_0xc26080(0x159)+_0x5e5945);const _0x4b6e6d=this[_0xc26080(0x154)](_0x5e5945);console['log'](_0xc26080(0x147)+_0x4b6e6d);const _0x4674c1=new AbortController(),_0x507b20=setTimeout(()=>_0x4674c1['abort'](),this[_0xc26080(0x171)]),_0x4b3555=await(0x0,node_fetch_1['default'])(_0x4b6e6d,{'method':_0xc26080(0x162),'headers':{'User-Agent':_0xc26080(0x134),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0xc26080(0x156),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x4674c1['signal']});clearTimeout(_0x507b20);const _0x13ca05=Date[_0xc26080(0x16c)]()-_0x2f525f;return console[_0xc26080(0x16e)](_0xc26080(0x17e)),console[_0xc26080(0x16e)](_0xc26080(0x165)+_0x4b3555[_0xc26080(0x146)]+'\x20'+_0x4b3555[_0xc26080(0x148)]),console[_0xc26080(0x16e)](_0xc26080(0x152)+_0x13ca05+'ms'),console[_0xc26080(0x16e)]('\x20\x20\x20-\x20Headers:',Object[_0xc26080(0x157)](_0x4b3555[_0xc26080(0x14c)][_0xc26080(0x169)]())),_0x4b3555['ok']&&_0x4b3555['status']>=0xc8&&_0x4b3555[_0xc26080(0x146)]<0x190?(console['log']('✅\x20Domain\x20check\x20successful:\x20'+_0x4b3555[_0xc26080(0x146)]+_0xc26080(0x14f)+_0x13ca05+'ms'),this[_0xc26080(0x14b)]=0x0,!![]):(console[_0xc26080(0x16b)](_0xc26080(0x163)+_0x4b3555[_0xc26080(0x146)]+'\x20'+_0x4b3555['statusText']),this[_0xc26080(0x14b)]++,![]);}catch(_0x33da22){const _0x49ac74=Date[_0xc26080(0x16c)]()-_0x2f525f;this[_0xc26080(0x14b)]++,console[_0xc26080(0x16b)](_0xc26080(0x187)+_0x49ac74+'ms:',_0x33da22);if(_0x33da22 instanceof Error){if(_0x33da22[_0xc26080(0x153)]===_0xc26080(0x17c))console[_0xc26080(0x16b)](_0xc26080(0x178)+this[_0xc26080(0x171)]+'ms');else{if(_0x33da22[_0xc26080(0x174)]['includes'](_0xc26080(0x17f)))console[_0xc26080(0x16b)](_0xc26080(0x161)+this[_0xc26080(0x15f)]);else{if(_0x33da22['message']['includes']('ECONNREFUSED'))console[_0xc26080(0x16b)](_0xc26080(0x17a)+this['DOMAIN_URL']);else _0x33da22[_0xc26080(0x174)][_0xc26080(0x141)](_0xc26080(0x15c))?console[_0xc26080(0x16b)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0xc26080(0x15f)]):console[_0xc26080(0x16b)](_0xc26080(0x188)+_0x33da22[_0xc26080(0x174)]);}}}return![];}}[a40_0x20a0eb(0x14a)](_0x33e66c){const _0x467fcf=a40_0x20a0eb;console[_0x467fcf(0x16b)](_0x467fcf(0x180)+_0x33e66c),console[_0x467fcf(0x16b)](_0x467fcf(0x164)+this['consecutiveFailures']),console[_0x467fcf(0x16b)](_0x467fcf(0x149)),console[_0x467fcf(0x16b)](_0x467fcf(0x143)+new Date()[_0x467fcf(0x14d)]()),console[_0x467fcf(0x16b)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x467fcf(0x15f)]),console['error'](_0x467fcf(0x177)+Math['round'](this[_0x467fcf(0x13e)]/0x3e8/0x3c)+_0x467fcf(0x145)),console[_0x467fcf(0x16b)](_0x467fcf(0x132)+this[_0x467fcf(0x183)]),this[_0x467fcf(0x172)](),process[_0x467fcf(0x13d)](0x1);}[a40_0x20a0eb(0x133)](){const _0x4dcfe9=a40_0x20a0eb;console['log'](_0x4dcfe9(0x13b)),console[_0x4dcfe9(0x16e)](_0x4dcfe9(0x15a)+this['DOMAIN_URL']),console['log'](_0x4dcfe9(0x186)+Math[_0x4dcfe9(0x13a)](this[_0x4dcfe9(0x13e)]/0x3e8/0x3c)+_0x4dcfe9(0x145)),console[_0x4dcfe9(0x16e)](_0x4dcfe9(0x15e)+this[_0x4dcfe9(0x183)]),this[_0x4dcfe9(0x18a)]()[_0x4dcfe9(0x170)](_0x45372b=>{const _0x331e57=_0x4dcfe9;if(!_0x45372b&&this[_0x331e57(0x14b)]>=this[_0x331e57(0x183)]){this['crashServer'](_0x331e57(0x144)+this[_0x331e57(0x14b)]+_0x331e57(0x15b));return;}})[_0x4dcfe9(0x181)](_0x247509=>{const _0x23388a=_0x4dcfe9;console[_0x23388a(0x16b)](_0x23388a(0x138),_0x247509);if(this[_0x23388a(0x14b)]>=this[_0x23388a(0x183)]){this[_0x23388a(0x14a)](_0x23388a(0x137)+_0x247509[_0x23388a(0x174)]);return;}}),this[_0x4dcfe9(0x131)]=setInterval(async()=>{const _0x4de26c=_0x4dcfe9;try{const _0x2503d8=await this[_0x4de26c(0x18a)]();!_0x2503d8&&(console['warn']('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x4de26c(0x14b)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x4de26c(0x183)]&&this[_0x4de26c(0x14a)]('Domain\x20'+this[_0x4de26c(0x15f)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x4de26c(0x14b)]+_0x4de26c(0x17b)));}catch(_0xfdde11){console[_0x4de26c(0x16b)](_0x4de26c(0x16f),_0xfdde11),this[_0x4de26c(0x14b)]>=this[_0x4de26c(0x183)]&&this[_0x4de26c(0x14a)](_0x4de26c(0x166)+(_0xfdde11 instanceof Error?_0xfdde11[_0x4de26c(0x174)]:_0x4de26c(0x16d)));}},this[_0x4dcfe9(0x13e)]),console[_0x4dcfe9(0x16e)](_0x4dcfe9(0x185));}[a40_0x20a0eb(0x172)](){const _0x320782=a40_0x20a0eb;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this[_0x320782(0x131)]=null,console[_0x320782(0x16e)](_0x320782(0x16a)));}[a40_0x20a0eb(0x160)](){const _0x33584c=a40_0x20a0eb;return{'isActive':!!this[_0x33584c(0x131)],'targetDomain':this[_0x33584c(0x15f)],'checkIntervalMinutes':Math[_0x33584c(0x13a)](this[_0x33584c(0x13e)]/0x3e8/0x3c),'consecutiveFailures':this[_0x33584c(0x14b)],'maxFailuresAllowed':this[_0x33584c(0x183)],'nextCheckIn':this['monitoringInterval']?this[_0x33584c(0x13e)]:undefined};}async['manualCheck'](){const _0x11cae9=a40_0x20a0eb;return console[_0x11cae9(0x16e)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0x11cae9(0x18a)]();}}exports[a40_0x20a0eb(0x179)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();