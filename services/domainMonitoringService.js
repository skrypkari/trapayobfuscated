'use strict';const a39_0x18ab46=a39_0x5813;(function(_0x502632,_0x676353){const _0x27a30b=a39_0x5813,_0x1d3a4f=_0x502632();while(!![]){try{const _0x588de4=parseInt(_0x27a30b(0xcb))/0x1*(-parseInt(_0x27a30b(0xeb))/0x2)+-parseInt(_0x27a30b(0xd6))/0x3*(-parseInt(_0x27a30b(0xc1))/0x4)+-parseInt(_0x27a30b(0xee))/0x5+parseInt(_0x27a30b(0xd2))/0x6*(-parseInt(_0x27a30b(0xea))/0x7)+parseInt(_0x27a30b(0xbd))/0x8+-parseInt(_0x27a30b(0xf6))/0x9+parseInt(_0x27a30b(0x115))/0xa;if(_0x588de4===_0x676353)break;else _0x1d3a4f['push'](_0x1d3a4f['shift']());}catch(_0x2e9520){_0x1d3a4f['push'](_0x1d3a4f['shift']());}}}(a39_0x2881,0x6c1e4));function a39_0x2881(){const _0x2f962d=['entries','🌐\x20DNS\x20resolution\x20failed\x20for\x20','getMonitoringStats','now','⏰\x20Check\x20interval:\x20','🔍\x20Checking\x20domain\x20availability:\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','8267cpYDnS','201602ZmvGFj','\x20times','🔍\x20Domain\x20being\x20monitored:\x20','1529130lSpCsn','__esModule','base64','Initial\x20domain\x20check\x20error:','signal','ms:','checkDomain','manualCheck','1935855xfUnPo','startMonitoring','statusText','\x20\x20\x20-\x20Response\x20time:\x20','default','AbortError','stopMonitoring','ENOTFOUND','❌\x20Domain\x20check\x20error\x20after\x20','domainMonitoringService','DOMAIN_URL','https://google.com','toString','Domain\x20','getRandomInterval','🔧\x20Manual\x20domain\x20check\x20requested','💥\x20CRITICAL\x20ERROR:\x20','\x20in\x20','en-US,en;q=0.5','🔥\x20Unexpected\x20error:\x20','⚠️\x20Domain\x20check\x20failed\x20(','keep-alive','node-fetch','random','DomainMonitoringService','encodeToBase64','CHECK_INTERVAL_MS','GET','🚀\x20Starting\x20domain\x20monitoring\x20service','Initial\x20domain\x20check\x20failed\x20','Domain\x20monitoring\x20threw\x20error:\x20','11782680GEqbii','🚫\x20Connection\x20refused\x20by\x20','message','\x20is\x20not\x20responding\x20after\x20','🛑\x20Domain\x20monitoring\x20stopped','⏰\x20Request\x20timeout\x20after\x20','utf-8','🔓\x20Decoded\x20URL:\x20','5058912AJNuOT','📡\x20Target\x20domain:\x20','\x20\x20\x20-\x20Status:\x20','monitoringInterval','2164ZkAucF','toISOString','⏰\x20Connection\x20timeout\x20to\x20','catch','from','MAX_CONSECUTIVE_FAILURES','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','then','status','\x20minutes','8OtHgCH','TIMEOUT_MS','log','TesSoft\x20Domain\x20Monitor/1.0','📝\x20Encoded\x20URL\x20(base64):\x20','includes','__importDefault','3468JEedaO','🔍\x20Domain\x20monitoring\x20service\x20initialized','decodeFromBase64','⏰\x20Interval:\x20','3561JmjzGD','crashServer','error','✅\x20Domain\x20monitoring\x20started\x20successfully','abort','Periodic\x20domain\x20check\x20error:','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','consecutiveFailures','Unknown\x20error','\x20\x20\x20-\x20Headers:','round','headers','ETIMEDOUT'];a39_0x2881=function(){return _0x2f962d;};return a39_0x2881();}var __importDefault=this&&this[a39_0x18ab46(0xd1)]||function(_0x13e7af){const _0xb58442=a39_0x18ab46;return _0x13e7af&&_0x13e7af[_0xb58442(0xef)]?_0x13e7af:{'default':_0x13e7af};};Object['defineProperty'](exports,a39_0x18ab46(0xef),{'value':!![]}),exports[a39_0x18ab46(0xff)]=exports['DomainMonitoringService']=void 0x0;function a39_0x5813(_0x10f9ea,_0x439572){const _0x2881c7=a39_0x2881();return a39_0x5813=function(_0x581330,_0xbffa05){_0x581330=_0x581330-0xb6;let _0xf35450=_0x2881c7[_0x581330];return _0xf35450;},a39_0x5813(_0x10f9ea,_0x439572);}const node_fetch_1=__importDefault(require(a39_0x18ab46(0x10c)));class DomainMonitoringService{constructor(){const _0x265202=a39_0x18ab46;this['monitoringInterval']=null,this[_0x265202(0x100)]=_0x265202(0x101),this[_0x265202(0x110)]=this[_0x265202(0x104)](),this['TIMEOUT_MS']=0x7530,this[_0x265202(0xdd)]=0x0,this[_0x265202(0xc6)]=0x2,console[_0x265202(0xcd)](_0x265202(0xd3)),console[_0x265202(0xcd)](_0x265202(0xbe)+this[_0x265202(0x100)]),console[_0x265202(0xcd)](_0x265202(0xe7)+Math[_0x265202(0xe0)](this[_0x265202(0x110)]/0x3e8/0x3c)+_0x265202(0xca));}[a39_0x18ab46(0x104)](){const _0x3a56c1=a39_0x18ab46,_0x4b8eb7=0xa,_0x58e6d4=0xf,_0x103b9a=Math[_0x3a56c1(0x10d)]()*(_0x58e6d4-_0x4b8eb7)+_0x4b8eb7;return Math['round'](_0x103b9a*0x3c*0x3e8);}[a39_0x18ab46(0x10f)](_0x4c3421){const _0x52df33=a39_0x18ab46;return Buffer[_0x52df33(0xc5)](_0x4c3421)[_0x52df33(0x102)]('base64');}[a39_0x18ab46(0xd4)](_0x57f7e4){const _0x293518=a39_0x18ab46;return Buffer['from'](_0x57f7e4,_0x293518(0xf0))['toString'](_0x293518(0xbb));}async[a39_0x18ab46(0xf4)](){const _0x37356c=a39_0x18ab46,_0x4fe8b8=Date[_0x37356c(0xe6)]();try{console['log'](_0x37356c(0xe8)+this[_0x37356c(0x100)]);const _0x5c11d5=this['encodeToBase64'](this['DOMAIN_URL']);console[_0x37356c(0xcd)](_0x37356c(0xcf)+_0x5c11d5);const _0x247655=this['decodeFromBase64'](_0x5c11d5);console[_0x37356c(0xcd)](_0x37356c(0xbc)+_0x247655);const _0x575217=new AbortController(),_0x386419=setTimeout(()=>_0x575217[_0x37356c(0xda)](),this[_0x37356c(0xcc)]),_0x689f1e=await(0x0,node_fetch_1[_0x37356c(0xfa)])(_0x247655,{'method':_0x37356c(0x111),'headers':{'User-Agent':_0x37356c(0xce),'Accept':_0x37356c(0xdc),'Accept-Language':_0x37356c(0x108),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x37356c(0x10b),'Upgrade-Insecure-Requests':'1'},'signal':_0x575217[_0x37356c(0xf2)]});clearTimeout(_0x386419);const _0x59250c=Date['now']()-_0x4fe8b8;return console[_0x37356c(0xcd)]('📊\x20Response\x20received:'),console['log'](_0x37356c(0xbf)+_0x689f1e['status']+'\x20'+_0x689f1e[_0x37356c(0xf8)]),console[_0x37356c(0xcd)](_0x37356c(0xf9)+_0x59250c+'ms'),console[_0x37356c(0xcd)](_0x37356c(0xdf),Object['fromEntries'](_0x689f1e[_0x37356c(0xe1)][_0x37356c(0xe3)]())),_0x689f1e['ok']&&_0x689f1e['status']>=0xc8&&_0x689f1e['status']<0x190?(console['log']('✅\x20Domain\x20check\x20successful:\x20'+_0x689f1e[_0x37356c(0xc9)]+_0x37356c(0x107)+_0x59250c+'ms'),this[_0x37356c(0xdd)]=0x0,!![]):(console[_0x37356c(0xd8)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x689f1e[_0x37356c(0xc9)]+'\x20'+_0x689f1e[_0x37356c(0xf8)]),this[_0x37356c(0xdd)]++,![]);}catch(_0x5adaf0){const _0x244862=Date[_0x37356c(0xe6)]()-_0x4fe8b8;this[_0x37356c(0xdd)]++,console['error'](_0x37356c(0xfe)+_0x244862+_0x37356c(0xf3),_0x5adaf0);if(_0x5adaf0 instanceof Error){if(_0x5adaf0['name']===_0x37356c(0xfb))console[_0x37356c(0xd8)](_0x37356c(0xba)+this[_0x37356c(0xcc)]+'ms');else{if(_0x5adaf0[_0x37356c(0xb7)][_0x37356c(0xd0)](_0x37356c(0xfd)))console[_0x37356c(0xd8)](_0x37356c(0xe4)+this[_0x37356c(0x100)]);else{if(_0x5adaf0[_0x37356c(0xb7)][_0x37356c(0xd0)]('ECONNREFUSED'))console['error'](_0x37356c(0xb6)+this[_0x37356c(0x100)]);else _0x5adaf0[_0x37356c(0xb7)][_0x37356c(0xd0)](_0x37356c(0xe2))?console[_0x37356c(0xd8)](_0x37356c(0xc3)+this[_0x37356c(0x100)]):console[_0x37356c(0xd8)](_0x37356c(0x109)+_0x5adaf0[_0x37356c(0xb7)]);}}}return![];}}[a39_0x18ab46(0xd7)](_0x43991c){const _0x2d69e9=a39_0x18ab46;console[_0x2d69e9(0xd8)](_0x2d69e9(0x106)+_0x43991c),console[_0x2d69e9(0xd8)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x2d69e9(0xdd)]),console[_0x2d69e9(0xd8)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error']('📅\x20Crash\x20time:\x20'+new Date()[_0x2d69e9(0xc2)]()),console[_0x2d69e9(0xd8)](_0x2d69e9(0xed)+this['DOMAIN_URL']),console[_0x2d69e9(0xd8)](_0x2d69e9(0xe7)+Math[_0x2d69e9(0xe0)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x2d69e9(0xd8)](_0x2d69e9(0xc7)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x2d69e9(0xfc)](),process['exit'](0x1);}[a39_0x18ab46(0xf7)](){const _0x3b9d3e=a39_0x18ab46;console[_0x3b9d3e(0xcd)](_0x3b9d3e(0x112)),console[_0x3b9d3e(0xcd)]('📡\x20Target:\x20'+this['DOMAIN_URL']),console[_0x3b9d3e(0xcd)](_0x3b9d3e(0xd5)+Math[_0x3b9d3e(0xe0)](this[_0x3b9d3e(0x110)]/0x3e8/0x3c)+'\x20minutes'),console['log'](_0x3b9d3e(0xe9)+this[_0x3b9d3e(0xc6)]),this[_0x3b9d3e(0xf4)]()[_0x3b9d3e(0xc8)](_0xb7509a=>{const _0x460d74=_0x3b9d3e;if(!_0xb7509a&&this[_0x460d74(0xdd)]>=this[_0x460d74(0xc6)]){this[_0x460d74(0xd7)](_0x460d74(0x113)+this[_0x460d74(0xdd)]+_0x460d74(0xec));return;}})[_0x3b9d3e(0xc4)](_0x270fb1=>{const _0x527895=_0x3b9d3e;console[_0x527895(0xd8)](_0x527895(0xf1),_0x270fb1);if(this['consecutiveFailures']>=this[_0x527895(0xc6)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x270fb1[_0x527895(0xb7)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x39614=_0x3b9d3e;try{const _0x53a6b5=await this[_0x39614(0xf4)]();!_0x53a6b5&&(console['warn'](_0x39614(0x10a)+this[_0x39614(0xdd)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer'](_0x39614(0x103)+this[_0x39614(0x100)]+_0x39614(0xb8)+this[_0x39614(0xdd)]+'\x20consecutive\x20attempts'));}catch(_0x3eeeea){console['error'](_0x39614(0xdb),_0x3eeeea),this[_0x39614(0xdd)]>=this[_0x39614(0xc6)]&&this[_0x39614(0xd7)](_0x39614(0x114)+(_0x3eeeea instanceof Error?_0x3eeeea[_0x39614(0xb7)]:_0x39614(0xde)));}},this['CHECK_INTERVAL_MS']),console[_0x3b9d3e(0xcd)](_0x3b9d3e(0xd9));}[a39_0x18ab46(0xfc)](){const _0x57a545=a39_0x18ab46;this[_0x57a545(0xc0)]&&(clearInterval(this[_0x57a545(0xc0)]),this[_0x57a545(0xc0)]=null,console[_0x57a545(0xcd)](_0x57a545(0xb9)));}[a39_0x18ab46(0xe5)](){const _0x48e66b=a39_0x18ab46;return{'isActive':!!this[_0x48e66b(0xc0)],'targetDomain':this[_0x48e66b(0x100)],'checkIntervalMinutes':Math[_0x48e66b(0xe0)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x48e66b(0xdd)],'maxFailuresAllowed':this[_0x48e66b(0xc6)],'nextCheckIn':this[_0x48e66b(0xc0)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x18ab46(0xf5)](){const _0x555283=a39_0x18ab46;return console['log'](_0x555283(0x105)),await this['checkDomain']();}}exports[a39_0x18ab46(0x10e)]=DomainMonitoringService,exports[a39_0x18ab46(0xff)]=new DomainMonitoringService();