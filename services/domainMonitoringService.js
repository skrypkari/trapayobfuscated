'use strict';const a39_0x46ebf2=a39_0x3708;function a39_0x3708(_0x64e888,_0x241c44){const _0x44cb86=a39_0x44cb();return a39_0x3708=function(_0x37081d,_0x1b1231){_0x37081d=_0x37081d-0x11b;let _0x59440d=_0x44cb86[_0x37081d];return _0x59440d;},a39_0x3708(_0x64e888,_0x241c44);}(function(_0x5c2cd5,_0x39acc1){const _0x153ef3=a39_0x3708,_0x47c68d=_0x5c2cd5();while(!![]){try{const _0x31c586=-parseInt(_0x153ef3(0x164))/0x1*(parseInt(_0x153ef3(0x170))/0x2)+parseInt(_0x153ef3(0x144))/0x3*(-parseInt(_0x153ef3(0x16c))/0x4)+parseInt(_0x153ef3(0x154))/0x5*(parseInt(_0x153ef3(0x13c))/0x6)+parseInt(_0x153ef3(0x130))/0x7+-parseInt(_0x153ef3(0x163))/0x8*(parseInt(_0x153ef3(0x124))/0x9)+-parseInt(_0x153ef3(0x152))/0xa+parseInt(_0x153ef3(0x139))/0xb;if(_0x31c586===_0x39acc1)break;else _0x47c68d['push'](_0x47c68d['shift']());}catch(_0x3ddc85){_0x47c68d['push'](_0x47c68d['shift']());}}}(a39_0x44cb,0x46185));function a39_0x44cb(){const _0xfee4d7=['📊\x20Response\x20received:','abort','now','ENOTFOUND','⏰\x20Check\x20interval:\x20','104mJvXyl','CHECK_INTERVAL_MS','default','🔥\x20Unexpected\x20error:\x20','34jBMXYv','❌\x20Domain\x20check\x20error\x20after\x20','__esModule','utf-8','Initial\x20domain\x20check\x20failed\x20','DomainMonitoringService','https://google.com','stopMonitoring','includes','signal','decodeFromBase64','🚨\x20Max\x20failures\x20before\x20crash:\x20','statusText','crashServer','__importDefault','🌐\x20DNS\x20resolution\x20failed\x20for\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','2498139kQPcPR','headers','round','en-US,en;q=0.5','getRandomInterval','MAX_CONSECUTIVE_FAILURES','⏰\x20Connection\x20timeout\x20to\x20','ETIMEDOUT','\x20minutes','fromEntries','Unknown\x20error','DOMAIN_URL','243593eCojjQ','✅\x20Domain\x20monitoring\x20started\x20successfully','gzip,\x20deflate','domainMonitoringService','🚀\x20Starting\x20domain\x20monitoring\x20service','🔍\x20Checking\x20domain\x20availability:\x20','base64','warn','checkDomain','7587690hRHpId','node-fetch','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','2598fjCElK','Domain\x20monitoring\x20threw\x20error:\x20','consecutiveFailures','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','entries','Initial\x20domain\x20check\x20error:','TIMEOUT_MS','\x20\x20\x20-\x20Headers:','5037iuyPEs','💥\x20CRITICAL\x20ERROR:\x20','\x20in\x20','\x20\x20\x20-\x20Status:\x20','message','⏰\x20Interval:\x20','monitoringInterval','📡\x20Target:\x20','encodeToBase64','getMonitoringStats','🔧\x20Manual\x20domain\x20check\x20requested','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','exit','error','270470FFDGad','catch','5105PlybVz','ms:','🔍\x20Domain\x20being\x20monitored:\x20','toString','🚫\x20Connection\x20refused\x20by\x20','manualCheck','log','⏰\x20Request\x20timeout\x20after\x20','✅\x20Domain\x20check\x20successful:\x20','\x20is\x20not\x20responding\x20after\x20','\x20consecutive\x20attempts','from','status','🔥\x20Consecutive\x20failures:\x20','🔓\x20Decoded\x20URL:\x20','8QzHQHU','31253ieLWeS','Domain\x20','defineProperty'];a39_0x44cb=function(){return _0xfee4d7;};return a39_0x44cb();}var __importDefault=this&&this[a39_0x46ebf2(0x121)]||function(_0x13aba6){const _0xbc07d5=a39_0x46ebf2;return _0x13aba6&&_0x13aba6[_0xbc07d5(0x172)]?_0x13aba6:{'default':_0x13aba6};};Object[a39_0x46ebf2(0x166)](exports,'__esModule',{'value':!![]}),exports[a39_0x46ebf2(0x133)]=exports[a39_0x46ebf2(0x175)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x46ebf2(0x13a)));class DomainMonitoringService{constructor(){const _0x50c7fd=a39_0x46ebf2;this[_0x50c7fd(0x14a)]=null,this[_0x50c7fd(0x12f)]=_0x50c7fd(0x176),this[_0x50c7fd(0x16d)]=this[_0x50c7fd(0x128)](),this[_0x50c7fd(0x142)]=0x7530,this[_0x50c7fd(0x13e)]=0x0,this[_0x50c7fd(0x129)]=0x2,console[_0x50c7fd(0x15a)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x50c7fd(0x15a)]('📡\x20Target\x20domain:\x20'+this[_0x50c7fd(0x12f)]),console['log'](_0x50c7fd(0x16b)+Math[_0x50c7fd(0x126)](this[_0x50c7fd(0x16d)]/0x3e8/0x3c)+_0x50c7fd(0x12c));}[a39_0x46ebf2(0x128)](){const _0x213bab=a39_0x46ebf2,_0x445e6c=0xa,_0x353dc1=0xf,_0x285bc=Math['random']()*(_0x353dc1-_0x445e6c)+_0x445e6c;return Math[_0x213bab(0x126)](_0x285bc*0x3c*0x3e8);}[a39_0x46ebf2(0x14c)](_0x229a48){const _0x4e831c=a39_0x46ebf2;return Buffer[_0x4e831c(0x15f)](_0x229a48)[_0x4e831c(0x157)](_0x4e831c(0x136));}[a39_0x46ebf2(0x11d)](_0x88c25f){const _0xfa3ec3=a39_0x46ebf2;return Buffer['from'](_0x88c25f,_0xfa3ec3(0x136))[_0xfa3ec3(0x157)](_0xfa3ec3(0x173));}async[a39_0x46ebf2(0x138)](){const _0x10520c=a39_0x46ebf2,_0x26b569=Date[_0x10520c(0x169)]();try{console[_0x10520c(0x15a)](_0x10520c(0x135)+this[_0x10520c(0x12f)]);const _0x423a8b=this['encodeToBase64'](this[_0x10520c(0x12f)]);console[_0x10520c(0x15a)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x423a8b);const _0x33b901=this[_0x10520c(0x11d)](_0x423a8b);console[_0x10520c(0x15a)](_0x10520c(0x162)+_0x33b901);const _0x379fd4=new AbortController(),_0x33e32f=setTimeout(()=>_0x379fd4[_0x10520c(0x168)](),this[_0x10520c(0x142)]),_0x4d5da6=await(0x0,node_fetch_1[_0x10520c(0x16e)])(_0x33b901,{'method':'GET','headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x10520c(0x13b),'Accept-Language':_0x10520c(0x127),'Accept-Encoding':_0x10520c(0x132),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x379fd4[_0x10520c(0x11c)]});clearTimeout(_0x33e32f);const _0x420c0f=Date['now']()-_0x26b569;return console[_0x10520c(0x15a)](_0x10520c(0x167)),console['log'](_0x10520c(0x147)+_0x4d5da6[_0x10520c(0x160)]+'\x20'+_0x4d5da6[_0x10520c(0x11f)]),console['log']('\x20\x20\x20-\x20Response\x20time:\x20'+_0x420c0f+'ms'),console[_0x10520c(0x15a)](_0x10520c(0x143),Object[_0x10520c(0x12d)](_0x4d5da6[_0x10520c(0x125)][_0x10520c(0x140)]())),_0x4d5da6['ok']&&_0x4d5da6['status']>=0xc8&&_0x4d5da6[_0x10520c(0x160)]<0x190?(console[_0x10520c(0x15a)](_0x10520c(0x15c)+_0x4d5da6[_0x10520c(0x160)]+_0x10520c(0x146)+_0x420c0f+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error'](_0x10520c(0x14f)+_0x4d5da6[_0x10520c(0x160)]+'\x20'+_0x4d5da6[_0x10520c(0x11f)]),this['consecutiveFailures']++,![]);}catch(_0x38dfc2){const _0x35056=Date[_0x10520c(0x169)]()-_0x26b569;this[_0x10520c(0x13e)]++,console['error'](_0x10520c(0x171)+_0x35056+_0x10520c(0x155),_0x38dfc2);if(_0x38dfc2 instanceof Error){if(_0x38dfc2['name']==='AbortError')console[_0x10520c(0x151)](_0x10520c(0x15b)+this['TIMEOUT_MS']+'ms');else{if(_0x38dfc2[_0x10520c(0x148)]['includes'](_0x10520c(0x16a)))console[_0x10520c(0x151)](_0x10520c(0x122)+this[_0x10520c(0x12f)]);else{if(_0x38dfc2[_0x10520c(0x148)][_0x10520c(0x11b)]('ECONNREFUSED'))console[_0x10520c(0x151)](_0x10520c(0x158)+this['DOMAIN_URL']);else _0x38dfc2[_0x10520c(0x148)][_0x10520c(0x11b)](_0x10520c(0x12b))?console[_0x10520c(0x151)](_0x10520c(0x12a)+this['DOMAIN_URL']):console['error'](_0x10520c(0x16f)+_0x38dfc2[_0x10520c(0x148)]);}}}return![];}}[a39_0x46ebf2(0x120)](_0x509d05){const _0x278a62=a39_0x46ebf2;console[_0x278a62(0x151)](_0x278a62(0x145)+_0x509d05),console[_0x278a62(0x151)](_0x278a62(0x161)+this['consecutiveFailures']),console[_0x278a62(0x151)](_0x278a62(0x13f)),console[_0x278a62(0x151)]('📅\x20Crash\x20time:\x20'+new Date()['toISOString']()),console[_0x278a62(0x151)](_0x278a62(0x156)+this[_0x278a62(0x12f)]),console[_0x278a62(0x151)]('⏰\x20Check\x20interval:\x20'+Math[_0x278a62(0x126)](this[_0x278a62(0x16d)]/0x3e8/0x3c)+_0x278a62(0x12c)),console[_0x278a62(0x151)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x278a62(0x129)]),this['stopMonitoring'](),process[_0x278a62(0x150)](0x1);}['startMonitoring'](){const _0x2e5766=a39_0x46ebf2;console[_0x2e5766(0x15a)](_0x2e5766(0x134)),console[_0x2e5766(0x15a)](_0x2e5766(0x14b)+this[_0x2e5766(0x12f)]),console[_0x2e5766(0x15a)](_0x2e5766(0x149)+Math['round'](this[_0x2e5766(0x16d)]/0x3e8/0x3c)+_0x2e5766(0x12c)),console['log'](_0x2e5766(0x11e)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x2e5766(0x138)]()['then'](_0x50ae4a=>{const _0x4442d7=_0x2e5766;if(!_0x50ae4a&&this['consecutiveFailures']>=this[_0x4442d7(0x129)]){this[_0x4442d7(0x120)](_0x4442d7(0x174)+this[_0x4442d7(0x13e)]+'\x20times');return;}})[_0x2e5766(0x153)](_0x779c40=>{const _0x4c3738=_0x2e5766;console[_0x4c3738(0x151)](_0x4c3738(0x141),_0x779c40);if(this[_0x4c3738(0x13e)]>=this[_0x4c3738(0x129)]){this[_0x4c3738(0x120)](_0x4c3738(0x123)+_0x779c40['message']);return;}}),this[_0x2e5766(0x14a)]=setInterval(async()=>{const _0x2b7d79=_0x2e5766;try{const _0x364b50=await this[_0x2b7d79(0x138)]();!_0x364b50&&(console[_0x2b7d79(0x137)]('⚠️\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x2b7d79(0x129)]+')'),this[_0x2b7d79(0x13e)]>=this[_0x2b7d79(0x129)]&&this['crashServer'](_0x2b7d79(0x165)+this['DOMAIN_URL']+_0x2b7d79(0x15d)+this[_0x2b7d79(0x13e)]+_0x2b7d79(0x15e)));}catch(_0x417e96){console['error']('Periodic\x20domain\x20check\x20error:',_0x417e96),this[_0x2b7d79(0x13e)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x2b7d79(0x120)](_0x2b7d79(0x13d)+(_0x417e96 instanceof Error?_0x417e96[_0x2b7d79(0x148)]:_0x2b7d79(0x12e)));}},this['CHECK_INTERVAL_MS']),console[_0x2e5766(0x15a)](_0x2e5766(0x131));}[a39_0x46ebf2(0x177)](){const _0x3e1bf7=a39_0x46ebf2;this['monitoringInterval']&&(clearInterval(this[_0x3e1bf7(0x14a)]),this[_0x3e1bf7(0x14a)]=null,console[_0x3e1bf7(0x15a)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0x46ebf2(0x14d)](){const _0x4fe345=a39_0x46ebf2;return{'isActive':!!this[_0x4fe345(0x14a)],'targetDomain':this[_0x4fe345(0x12f)],'checkIntervalMinutes':Math[_0x4fe345(0x126)](this[_0x4fe345(0x16d)]/0x3e8/0x3c),'consecutiveFailures':this[_0x4fe345(0x13e)],'maxFailuresAllowed':this[_0x4fe345(0x129)],'nextCheckIn':this['monitoringInterval']?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x46ebf2(0x159)](){const _0x53950f=a39_0x46ebf2;return console[_0x53950f(0x15a)](_0x53950f(0x14e)),await this[_0x53950f(0x138)]();}}exports[a39_0x46ebf2(0x175)]=DomainMonitoringService,exports[a39_0x46ebf2(0x133)]=new DomainMonitoringService();