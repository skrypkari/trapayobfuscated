'use strict';const a37_0xf14903=a37_0x5e1b;(function(_0x89f010,_0x5316c4){const _0x3c64c0=a37_0x5e1b,_0x59600=_0x89f010();while(!![]){try{const _0xadd2f1=parseInt(_0x3c64c0(0x10c))/0x1*(parseInt(_0x3c64c0(0x14e))/0x2)+-parseInt(_0x3c64c0(0x15b))/0x3*(parseInt(_0x3c64c0(0x129))/0x4)+-parseInt(_0x3c64c0(0x14f))/0x5*(-parseInt(_0x3c64c0(0x135))/0x6)+-parseInt(_0x3c64c0(0x15a))/0x7+parseInt(_0x3c64c0(0x12b))/0x8+-parseInt(_0x3c64c0(0x126))/0x9*(parseInt(_0x3c64c0(0x154))/0xa)+parseInt(_0x3c64c0(0x148))/0xb*(parseInt(_0x3c64c0(0xfd))/0xc);if(_0xadd2f1===_0x5316c4)break;else _0x59600['push'](_0x59600['shift']());}catch(_0x43f990){_0x59600['push'](_0x59600['shift']());}}}(a37_0x30ae,0x393ef));var __importDefault=this&&this['__importDefault']||function(_0x4d079b){return _0x4d079b&&_0x4d079b['__esModule']?_0x4d079b:{'default':_0x4d079b};};Object[a37_0xf14903(0x105)](exports,a37_0xf14903(0x150),{'value':!![]}),exports[a37_0xf14903(0x14b)]=exports[a37_0xf14903(0x11c)]=void 0x0;function a37_0x5e1b(_0x3a511d,_0x2ece32){const _0x30aed4=a37_0x30ae();return a37_0x5e1b=function(_0x5e1b92,_0x3368ee){_0x5e1b92=_0x5e1b92-0xfc;let _0x2203e9=_0x30aed4[_0x5e1b92];return _0x2203e9;},a37_0x5e1b(_0x3a511d,_0x2ece32);}const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x17b27e=a37_0xf14903;this[_0x17b27e(0x100)]=null,this[_0x17b27e(0x153)]=_0x17b27e(0x12e),this[_0x17b27e(0x130)]=this['getRandomInterval'](),this[_0x17b27e(0x147)]=0x7530,this[_0x17b27e(0x144)]=0x0,this[_0x17b27e(0x124)]=0x2,console[_0x17b27e(0x121)]('üîç\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x17b27e(0x121)](_0x17b27e(0x113)+this[_0x17b27e(0x153)]),console[_0x17b27e(0x121)]('‚è∞\x20Check\x20interval:\x20'+Math[_0x17b27e(0xfc)](this[_0x17b27e(0x130)]/0x3e8/0x3c)+'\x20minutes');}[a37_0xf14903(0x120)](){const _0x540677=a37_0xf14903,_0xf76da6=0xa,_0x4c4e22=0xf,_0x5994b2=Math[_0x540677(0x14c)]()*(_0x4c4e22-_0xf76da6)+_0xf76da6;return Math[_0x540677(0xfc)](_0x5994b2*0x3c*0x3e8);}['encodeToBase64'](_0x557b15){const _0x132808=a37_0xf14903;return Buffer['from'](_0x557b15)[_0x132808(0x119)]('base64');}[a37_0xf14903(0x11a)](_0x555299){const _0x4499b3=a37_0xf14903;return Buffer[_0x4499b3(0x127)](_0x555299,_0x4499b3(0x137))[_0x4499b3(0x119)]('utf-8');}async[a37_0xf14903(0x138)](){const _0xe854d=a37_0xf14903,_0x3f4f3a=Date[_0xe854d(0x155)]();try{console[_0xe854d(0x121)](_0xe854d(0x131)+this[_0xe854d(0x153)]);const _0x2e4cea=this[_0xe854d(0x123)](this[_0xe854d(0x153)]);console[_0xe854d(0x121)](_0xe854d(0x12a)+_0x2e4cea);const _0x14c96a=this['decodeFromBase64'](_0x2e4cea);console[_0xe854d(0x121)](_0xe854d(0x11d)+_0x14c96a);const _0x5d2681=new AbortController(),_0x5ef543=setTimeout(()=>_0x5d2681[_0xe854d(0x102)](),this[_0xe854d(0x147)]),_0x5bd9c9=await(0x0,node_fetch_1[_0xe854d(0x101)])(_0x14c96a,{'method':_0xe854d(0x125),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0xe854d(0x10f),'Accept-Language':_0xe854d(0x156),'Accept-Encoding':_0xe854d(0x103),'Connection':_0xe854d(0x157),'Upgrade-Insecure-Requests':'1'},'signal':_0x5d2681[_0xe854d(0x140)]});clearTimeout(_0x5ef543);const _0x1bef8a=Date[_0xe854d(0x155)]()-_0x3f4f3a;return console[_0xe854d(0x121)](_0xe854d(0x10a)),console[_0xe854d(0x121)](_0xe854d(0x110)+_0x5bd9c9['status']+'\x20'+_0x5bd9c9[_0xe854d(0x107)]),console['log'](_0xe854d(0x141)+_0x1bef8a+'ms'),console[_0xe854d(0x121)](_0xe854d(0x14d),Object[_0xe854d(0x14a)](_0x5bd9c9[_0xe854d(0x12c)][_0xe854d(0x13b)]())),_0x5bd9c9['ok']&&_0x5bd9c9[_0xe854d(0x149)]>=0xc8&&_0x5bd9c9['status']<0x190?(console[_0xe854d(0x121)]('‚úÖ\x20Domain\x20check\x20successful:\x20'+_0x5bd9c9[_0xe854d(0x149)]+'\x20in\x20'+_0x1bef8a+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0xe854d(0x128)](_0xe854d(0x122)+_0x5bd9c9[_0xe854d(0x149)]+'\x20'+_0x5bd9c9[_0xe854d(0x107)]),this[_0xe854d(0x144)]++,![]);}catch(_0x5d86d0){const _0x294327=Date[_0xe854d(0x155)]()-_0x3f4f3a;this[_0xe854d(0x144)]++,console[_0xe854d(0x128)](_0xe854d(0x142)+_0x294327+'ms:',_0x5d86d0);if(_0x5d86d0 instanceof Error){if(_0x5d86d0[_0xe854d(0x151)]==='AbortError')console[_0xe854d(0x128)](_0xe854d(0x158)+this[_0xe854d(0x147)]+'ms');else{if(_0x5d86d0[_0xe854d(0x10e)]['includes'](_0xe854d(0x117)))console['error'](_0xe854d(0x146)+this[_0xe854d(0x153)]);else{if(_0x5d86d0[_0xe854d(0x10e)][_0xe854d(0x143)](_0xe854d(0xfe)))console[_0xe854d(0x128)](_0xe854d(0x111)+this['DOMAIN_URL']);else _0x5d86d0['message'][_0xe854d(0x143)](_0xe854d(0x12d))?console[_0xe854d(0x128)](_0xe854d(0x114)+this[_0xe854d(0x153)]):console[_0xe854d(0x128)]('üî•\x20Unexpected\x20error:\x20'+_0x5d86d0['message']);}}}return![];}}[a37_0xf14903(0x139)](_0x2c9b02){const _0x36d657=a37_0xf14903;console['error'](_0x36d657(0x152)+_0x2c9b02),console['error'](_0x36d657(0x13e)+this[_0x36d657(0x144)]),console['error'](_0x36d657(0xff)),console['error']('üìÖ\x20Crash\x20time:\x20'+new Date()['toISOString']()),console[_0x36d657(0x128)](_0x36d657(0x104)+this['DOMAIN_URL']),console['error'](_0x36d657(0x159)+Math[_0x36d657(0xfc)](this[_0x36d657(0x130)]/0x3e8/0x3c)+'\x20minutes'),console['error'](_0x36d657(0x132)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x36d657(0x10b)](),process[_0x36d657(0x10d)](0x1);}[a37_0xf14903(0x13d)](){const _0xb0536c=a37_0xf14903;console[_0xb0536c(0x121)](_0xb0536c(0x106)),console[_0xb0536c(0x121)](_0xb0536c(0x109)+this['DOMAIN_URL']),console[_0xb0536c(0x121)](_0xb0536c(0x115)+Math[_0xb0536c(0xfc)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0xb0536c(0x121)]('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0xb0536c(0x124)]),this[_0xb0536c(0x138)]()[_0xb0536c(0x13a)](_0xf0f2e7=>{const _0x2e7f83=_0xb0536c;if(!_0xf0f2e7&&this[_0x2e7f83(0x144)]>=this[_0x2e7f83(0x124)]){this['crashServer'](_0x2e7f83(0x116)+this[_0x2e7f83(0x144)]+_0x2e7f83(0x112));return;}})[_0xb0536c(0x11e)](_0x3ca942=>{const _0x12cd69=_0xb0536c;console[_0x12cd69(0x128)](_0x12cd69(0x12f),_0x3ca942);if(this[_0x12cd69(0x144)]>=this[_0x12cd69(0x124)]){this[_0x12cd69(0x139)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x3ca942[_0x12cd69(0x10e)]);return;}}),this[_0xb0536c(0x100)]=setInterval(async()=>{const _0x3ad16f=_0xb0536c;try{const _0x36372c=await this[_0x3ad16f(0x138)]();!_0x36372c&&(console[_0x3ad16f(0x13f)](_0x3ad16f(0x118)+this['consecutiveFailures']+'/'+this[_0x3ad16f(0x124)]+')'),this['consecutiveFailures']>=this[_0x3ad16f(0x124)]&&this[_0x3ad16f(0x139)](_0x3ad16f(0x133)+this[_0x3ad16f(0x153)]+_0x3ad16f(0x136)+this[_0x3ad16f(0x144)]+_0x3ad16f(0x15c)));}catch(_0x38b64f){console[_0x3ad16f(0x128)](_0x3ad16f(0x145),_0x38b64f),this[_0x3ad16f(0x144)]>=this[_0x3ad16f(0x124)]&&this[_0x3ad16f(0x139)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x38b64f instanceof Error?_0x38b64f[_0x3ad16f(0x10e)]:_0x3ad16f(0x134)));}},this['CHECK_INTERVAL_MS']),console[_0xb0536c(0x121)](_0xb0536c(0x11f));}[a37_0xf14903(0x10b)](){const _0x33a0b8=a37_0xf14903;this[_0x33a0b8(0x100)]&&(clearInterval(this[_0x33a0b8(0x100)]),this[_0x33a0b8(0x100)]=null,console[_0x33a0b8(0x121)](_0x33a0b8(0x108)));}[a37_0xf14903(0x11b)](){const _0x24df80=a37_0xf14903;return{'isActive':!!this[_0x24df80(0x100)],'targetDomain':this[_0x24df80(0x153)],'checkIntervalMinutes':Math[_0x24df80(0xfc)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x24df80(0x144)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x24df80(0x100)]?this[_0x24df80(0x130)]:undefined};}async['manualCheck'](){const _0x47ed40=a37_0xf14903;return console['log'](_0x47ed40(0x13c)),await this[_0x47ed40(0x138)]();}}exports[a37_0xf14903(0x11c)]=DomainMonitoringService,exports[a37_0xf14903(0x14b)]=new DomainMonitoringService();function a37_0x30ae(){const _0x558cd6=['üîç\x20Domain\x20being\x20monitored:\x20','defineProperty','üöÄ\x20Starting\x20domain\x20monitoring\x20service','statusText','üõë\x20Domain\x20monitoring\x20stopped','üì°\x20Target:\x20','üìä\x20Response\x20received:','stopMonitoring','5411twhBjt','exit','message','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','\x20\x20\x20-\x20Status:\x20','üö´\x20Connection\x20refused\x20by\x20','\x20times','üì°\x20Target\x20domain:\x20','‚è∞\x20Connection\x20timeout\x20to\x20','‚è∞\x20Interval:\x20','Initial\x20domain\x20check\x20failed\x20','ENOTFOUND','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','toString','decodeFromBase64','getMonitoringStats','DomainMonitoringService','üîì\x20Decoded\x20URL:\x20','catch','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','getRandomInterval','log','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','encodeToBase64','MAX_CONSECUTIVE_FAILURES','GET','909luMIfx','from','error','284FuSUCi','üìù\x20Encoded\x20URL\x20(base64):\x20','1087568FtqUVx','headers','ETIMEDOUT','https://google.com','Initial\x20domain\x20check\x20error:','CHECK_INTERVAL_MS','üîç\x20Checking\x20domain\x20availability:\x20','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','Domain\x20','Unknown\x20error','221082dvRCDu','\x20is\x20not\x20responding\x20after\x20','base64','checkDomain','crashServer','then','entries','üîß\x20Manual\x20domain\x20check\x20requested','startMonitoring','üî•\x20Consecutive\x20failures:\x20','warn','signal','\x20\x20\x20-\x20Response\x20time:\x20','‚ùå\x20Domain\x20check\x20error\x20after\x20','includes','consecutiveFailures','Periodic\x20domain\x20check\x20error:','üåê\x20DNS\x20resolution\x20failed\x20for\x20','TIMEOUT_MS','82830xbbdlO','status','fromEntries','domainMonitoringService','random','\x20\x20\x20-\x20Headers:','166sFzTMw','25rzQpHV','__esModule','name','üí•\x20CRITICAL\x20ERROR:\x20','DOMAIN_URL','6990pYsjNG','now','en-US,en;q=0.5','keep-alive','‚è∞\x20Request\x20timeout\x20after\x20','‚è∞\x20Check\x20interval:\x20','708876WWURqM','15654wrsiNq','\x20consecutive\x20attempts','round','12yXWFxx','ECONNREFUSED','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','monitoringInterval','default','abort','gzip,\x20deflate'];a37_0x30ae=function(){return _0x558cd6;};return a37_0x30ae();}