'use strict';function a37_0x246b(_0x1e9790,_0x24885c){const _0x1e8d6d=a37_0x1e8d();return a37_0x246b=function(_0x246b56,_0x3ec17c){_0x246b56=_0x246b56-0x88;let _0x469765=_0x1e8d6d[_0x246b56];return _0x469765;},a37_0x246b(_0x1e9790,_0x24885c);}const a37_0x16740d=a37_0x246b;function a37_0x1e8d(){const _0x696475=['\x20in\x20','AbortError','ðŸ”¥\x20Consecutive\x20failures:\x20','random','\x20\x20\x20-\x20Headers:','CHECK_INTERVAL_MS','then','\x20\x20\x20-\x20Status:\x20','91703iGEdMl','1914267KeulYF','3781352diVcMH','warn','defineProperty','\x20minutes','utf-8','default','name','ms:','ðŸ”¥\x20Unexpected\x20error:\x20','manualCheck','message','âŒ\x20Domain\x20check\x20error\x20after\x20','\x20times','toISOString','DOMAIN_URL','ðŸ“…\x20Crash\x20time:\x20','\x20\x20\x20-\x20Response\x20time:\x20','Initial\x20domain\x20check\x20error:','catch','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','â°\x20Check\x20interval:\x20','error','\x20is\x20not\x20responding\x20after\x20','statusText','1560RASPMs','gzip,\x20deflate','329984GnlsJR','node-fetch','checkDomain','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','14034AyQBCK','monitoringInterval','TIMEOUT_MS','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','from','getRandomInterval','ðŸ“¡\x20Target\x20domain:\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','10102260jgoCgI','status','ðŸ›‘\x20Domain\x20monitoring\x20stopped','includes','â°\x20Request\x20timeout\x20after\x20','ðŸ“¡\x20Target:\x20','domainMonitoringService','stopMonitoring','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','en-US,en;q=0.5','decodeFromBase64','2660634eFBUSh','https://amaterasy884.icu/','Initial\x20domain\x20check\x20threw\x20error:\x20','log','Unknown\x20error','2xrvKGD','crashServer','ETIMEDOUT','signal','fromEntries','â°\x20Connection\x20timeout\x20to\x20','consecutiveFailures','__importDefault','now','â°\x20Interval:\x20','ECONNREFUSED','MAX_CONSECUTIVE_FAILURES','Domain\x20','7mUYBDC','ðŸ“Š\x20Response\x20received:','toString','ðŸ”§\x20Manual\x20domain\x20check\x20requested','headers','âœ…\x20Domain\x20monitoring\x20started\x20successfully','base64','ðŸ”“\x20Decoded\x20URL:\x20','ðŸš«\x20Connection\x20refused\x20by\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','DomainMonitoringService','ðŸ”\x20Domain\x20being\x20monitored:\x20','__esModule','round','encodeToBase64'];a37_0x1e8d=function(){return _0x696475;};return a37_0x1e8d();}(function(_0x78f709,_0x5762cc){const _0x97e3c8=a37_0x246b,_0x3c538f=_0x78f709();while(!![]){try{const _0x115a88=parseInt(_0x97e3c8(0x97))/0x1*(-parseInt(_0x97e3c8(0xd2))/0x2)+parseInt(_0x97e3c8(0x98))/0x3+parseInt(_0x97e3c8(0xb3))/0x4+-parseInt(_0x97e3c8(0xb1))/0x5*(-parseInt(_0x97e3c8(0xb9))/0x6)+parseInt(_0x97e3c8(0xdf))/0x7*(parseInt(_0x97e3c8(0x99))/0x8)+-parseInt(_0x97e3c8(0xcd))/0x9+-parseInt(_0x97e3c8(0xc2))/0xa;if(_0x115a88===_0x5762cc)break;else _0x3c538f['push'](_0x3c538f['shift']());}catch(_0x5c49d4){_0x3c538f['push'](_0x3c538f['shift']());}}}(a37_0x1e8d,0x8049b));var __importDefault=this&&this[a37_0x16740d(0xd9)]||function(_0x50d9ab){return _0x50d9ab&&_0x50d9ab['__esModule']?_0x50d9ab:{'default':_0x50d9ab};};Object[a37_0x16740d(0x9b)](exports,a37_0x16740d(0x8c),{'value':!![]}),exports[a37_0x16740d(0xc8)]=exports[a37_0x16740d(0x8a)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x16740d(0xb4)));class DomainMonitoringService{constructor(){const _0x5e3fa3=a37_0x16740d;this['monitoringInterval']=null,this[_0x5e3fa3(0xa7)]=_0x5e3fa3(0xce),this[_0x5e3fa3(0x94)]=this['getRandomInterval'](),this[_0x5e3fa3(0xbb)]=0x7530,this['consecutiveFailures']=0x0,this[_0x5e3fa3(0xdd)]=0x2,console['log'](_0x5e3fa3(0xbc)),console[_0x5e3fa3(0xd0)](_0x5e3fa3(0xc0)+this['DOMAIN_URL']),console[_0x5e3fa3(0xd0)](_0x5e3fa3(0xad)+Math[_0x5e3fa3(0x8d)](this[_0x5e3fa3(0x94)]/0x3e8/0x3c)+_0x5e3fa3(0x9c));}[a37_0x16740d(0xbf)](){const _0x5d7cea=a37_0x16740d,_0x3327e3=0xa,_0x54855d=0xf,_0x33df08=Math[_0x5d7cea(0x92)]()*(_0x54855d-_0x3327e3)+_0x3327e3;return Math[_0x5d7cea(0x8d)](_0x33df08*0x3c*0x3e8);}[a37_0x16740d(0x8e)](_0x38312a){const _0x3554f6=a37_0x16740d;return Buffer['from'](_0x38312a)['toString'](_0x3554f6(0xe5));}[a37_0x16740d(0xcc)](_0x5694c1){const _0x128289=a37_0x16740d;return Buffer[_0x128289(0xbe)](_0x5694c1,'base64')[_0x128289(0xe1)](_0x128289(0x9d));}async['checkDomain'](){const _0x1c16e7=a37_0x16740d,_0x269071=Date['now']();try{console[_0x1c16e7(0xd0)](_0x1c16e7(0xb7)+this[_0x1c16e7(0xa7)]);const _0x569205=this['encodeToBase64'](this[_0x1c16e7(0xa7)]);console['log'](_0x1c16e7(0xca)+_0x569205);const _0x689ecc=this['decodeFromBase64'](_0x569205);console['log'](_0x1c16e7(0xe6)+_0x689ecc);const _0x1a4f54=new AbortController(),_0xbc5b96=setTimeout(()=>_0x1a4f54['abort'](),this[_0x1c16e7(0xbb)]),_0x15d518=await(0x0,node_fetch_1[_0x1c16e7(0x9e)])(_0x689ecc,{'method':'GET','headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x1c16e7(0xac),'Accept-Language':_0x1c16e7(0xcb),'Accept-Encoding':_0x1c16e7(0xb2),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x1a4f54[_0x1c16e7(0xd5)]});clearTimeout(_0xbc5b96);const _0x3beccf=Date[_0x1c16e7(0xda)]()-_0x269071;return console[_0x1c16e7(0xd0)](_0x1c16e7(0xe0)),console[_0x1c16e7(0xd0)](_0x1c16e7(0x96)+_0x15d518['status']+'\x20'+_0x15d518[_0x1c16e7(0xb0)]),console[_0x1c16e7(0xd0)](_0x1c16e7(0xa9)+_0x3beccf+'ms'),console[_0x1c16e7(0xd0)](_0x1c16e7(0x93),Object[_0x1c16e7(0xd6)](_0x15d518[_0x1c16e7(0xe3)]['entries']())),_0x15d518['ok']&&_0x15d518[_0x1c16e7(0xc3)]>=0xc8&&_0x15d518[_0x1c16e7(0xc3)]<0x190?(console[_0x1c16e7(0xd0)]('âœ…\x20Domain\x20check\x20successful:\x20'+_0x15d518[_0x1c16e7(0xc3)]+_0x1c16e7(0x8f)+_0x3beccf+'ms'),this[_0x1c16e7(0xd8)]=0x0,!![]):(console[_0x1c16e7(0xae)](_0x1c16e7(0x89)+_0x15d518[_0x1c16e7(0xc3)]+'\x20'+_0x15d518['statusText']),this[_0x1c16e7(0xd8)]++,![]);}catch(_0x13320c){const _0x1a7aee=Date[_0x1c16e7(0xda)]()-_0x269071;this[_0x1c16e7(0xd8)]++,console[_0x1c16e7(0xae)](_0x1c16e7(0xa4)+_0x1a7aee+_0x1c16e7(0xa0),_0x13320c);if(_0x13320c instanceof Error){if(_0x13320c[_0x1c16e7(0x9f)]===_0x1c16e7(0x90))console[_0x1c16e7(0xae)](_0x1c16e7(0xc6)+this[_0x1c16e7(0xbb)]+'ms');else{if(_0x13320c[_0x1c16e7(0xa3)][_0x1c16e7(0xc5)]('ENOTFOUND'))console[_0x1c16e7(0xae)]('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x1c16e7(0xa7)]);else{if(_0x13320c[_0x1c16e7(0xa3)][_0x1c16e7(0xc5)](_0x1c16e7(0xdc)))console[_0x1c16e7(0xae)](_0x1c16e7(0x88)+this[_0x1c16e7(0xa7)]);else _0x13320c[_0x1c16e7(0xa3)][_0x1c16e7(0xc5)](_0x1c16e7(0xd4))?console[_0x1c16e7(0xae)](_0x1c16e7(0xd7)+this[_0x1c16e7(0xa7)]):console[_0x1c16e7(0xae)](_0x1c16e7(0xa1)+_0x13320c[_0x1c16e7(0xa3)]);}}}return![];}}[a37_0x16740d(0xd3)](_0x55acb7){const _0x3db829=a37_0x16740d;console[_0x3db829(0xae)](_0x3db829(0xb6)+_0x55acb7),console[_0x3db829(0xae)](_0x3db829(0x91)+this[_0x3db829(0xd8)]),console[_0x3db829(0xae)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x3db829(0xae)](_0x3db829(0xa8)+new Date()[_0x3db829(0xa6)]()),console['error'](_0x3db829(0x8b)+this[_0x3db829(0xa7)]),console[_0x3db829(0xae)](_0x3db829(0xad)+Math[_0x3db829(0x8d)](this[_0x3db829(0x94)]/0x3e8/0x3c)+_0x3db829(0x9c)),console[_0x3db829(0xae)](_0x3db829(0xbd)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process['exit'](0x1);}['startMonitoring'](){const _0x382418=a37_0x16740d;console[_0x382418(0xd0)](_0x382418(0xb8)),console['log'](_0x382418(0xc7)+this[_0x382418(0xa7)]),console['log'](_0x382418(0xdb)+Math[_0x382418(0x8d)](this[_0x382418(0x94)]/0x3e8/0x3c)+'\x20minutes'),console[_0x382418(0xd0)](_0x382418(0xc1)+this[_0x382418(0xdd)]),this[_0x382418(0xb5)]()[_0x382418(0x95)](_0xe5b722=>{const _0x27b589=_0x382418;if(!_0xe5b722&&this['consecutiveFailures']>=this[_0x27b589(0xdd)]){this[_0x27b589(0xd3)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x27b589(0xd8)]+_0x27b589(0xa5));return;}})[_0x382418(0xab)](_0x2ba6c0=>{const _0x2d0648=_0x382418;console[_0x2d0648(0xae)](_0x2d0648(0xaa),_0x2ba6c0);if(this['consecutiveFailures']>=this[_0x2d0648(0xdd)]){this[_0x2d0648(0xd3)](_0x2d0648(0xcf)+_0x2ba6c0[_0x2d0648(0xa3)]);return;}}),this[_0x382418(0xba)]=setInterval(async()=>{const _0x2ac67c=_0x382418;try{const _0x2ecc54=await this['checkDomain']();!_0x2ecc54&&(console[_0x2ac67c(0x9a)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x2ac67c(0xdd)]+')'),this[_0x2ac67c(0xd8)]>=this[_0x2ac67c(0xdd)]&&this[_0x2ac67c(0xd3)](_0x2ac67c(0xde)+this['DOMAIN_URL']+_0x2ac67c(0xaf)+this[_0x2ac67c(0xd8)]+'\x20consecutive\x20attempts'));}catch(_0x12606f){console['error']('Periodic\x20domain\x20check\x20error:',_0x12606f),this[_0x2ac67c(0xd8)]>=this[_0x2ac67c(0xdd)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x12606f instanceof Error?_0x12606f[_0x2ac67c(0xa3)]:_0x2ac67c(0xd1)));}},this[_0x382418(0x94)]),console[_0x382418(0xd0)](_0x382418(0xe4));}[a37_0x16740d(0xc9)](){const _0x393591=a37_0x16740d;this[_0x393591(0xba)]&&(clearInterval(this[_0x393591(0xba)]),this[_0x393591(0xba)]=null,console[_0x393591(0xd0)](_0x393591(0xc4)));}['getMonitoringStats'](){const _0x3d60c4=a37_0x16740d;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x3d60c4(0xa7)],'checkIntervalMinutes':Math['round'](this[_0x3d60c4(0x94)]/0x3e8/0x3c),'consecutiveFailures':this[_0x3d60c4(0xd8)],'maxFailuresAllowed':this[_0x3d60c4(0xdd)],'nextCheckIn':this[_0x3d60c4(0xba)]?this['CHECK_INTERVAL_MS']:undefined};}async[a37_0x16740d(0xa2)](){const _0x5a8099=a37_0x16740d;return console[_0x5a8099(0xd0)](_0x5a8099(0xe2)),await this[_0x5a8099(0xb5)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a37_0x16740d(0xc8)]=new DomainMonitoringService();