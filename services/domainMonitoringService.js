'use strict';const a42_0xf7861f=a42_0x19cf;function a42_0x5506(){const _0x2fdfdd=['⏰\x20Request\x20timeout\x20after\x20','statusText','decodeFromBase64','📊\x20Response\x20received:','TIMEOUT_MS','signal','base64','getRandomInterval','gzip,\x20deflate','282382OKmBfc','https://google.com','ETIMEDOUT','ECONNREFUSED','AbortError','282OCyhNv','Initial\x20domain\x20check\x20failed\x20','CHECK_INTERVAL_MS','checkDomain','DomainMonitoringService','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','14714pUcCBO','defineProperty','error','\x20\x20\x20-\x20Headers:','startMonitoring','🚫\x20Connection\x20refused\x20by\x20','warn','from','Initial\x20domain\x20check\x20error:','🛑\x20Domain\x20monitoring\x20stopped','\x20\x20\x20-\x20Response\x20time:\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','now','\x20times','⏰\x20Interval:\x20','Domain\x20','includes','🔓\x20Decoded\x20URL:\x20','Periodic\x20domain\x20check\x20error:','status','domainMonitoringService','Domain\x20monitoring\x20threw\x20error:\x20','__esModule','stopMonitoring','📅\x20Crash\x20time:\x20','⏰\x20Check\x20interval:\x20','name','keep-alive','37405ViVNXJ','entries','1123317kiKmlY','toString','🔍\x20Checking\x20domain\x20availability:\x20','en-US,en;q=0.5','📡\x20Target\x20domain:\x20','manualCheck','ms:','🔍\x20Domain\x20being\x20monitored:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','75fGVlbF','crashServer','⚠️\x20Domain\x20check\x20failed\x20(','encodeToBase64','✅\x20Domain\x20check\x20successful:\x20','getMonitoringStats','🚨\x20Max\x20failures\x20before\x20crash:\x20','📝\x20Encoded\x20URL\x20(base64):\x20','toISOString','round','\x20\x20\x20-\x20Status:\x20','message','DOMAIN_URL','log','GET','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','random','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','MAX_CONSECUTIVE_FAILURES','1dmaHQC','default','monitoringInterval','3926131aKgbwM','🔧\x20Manual\x20domain\x20check\x20requested','✅\x20Domain\x20monitoring\x20started\x20successfully','Unknown\x20error','20HvQUPb','\x20in\x20','ENOTFOUND','18820NORfFq','utf-8','128ppENRs','\x20consecutive\x20attempts','consecutiveFailures','8571132ZCODJc','__importDefault','\x20minutes','🌐\x20DNS\x20resolution\x20failed\x20for\x20'];a42_0x5506=function(){return _0x2fdfdd;};return a42_0x5506();}(function(_0x682f92,_0xecac60){const _0x30af9d=a42_0x19cf,_0x3df74e=_0x682f92();while(!![]){try{const _0x3f6239=parseInt(_0x30af9d(0x178))/0x1*(-parseInt(_0x30af9d(0x194))/0x2)+-parseInt(_0x30af9d(0x165))/0x3*(-parseInt(_0x30af9d(0x182))/0x4)+parseInt(_0x30af9d(0x15a))/0x5*(parseInt(_0x30af9d(0x199))/0x6)+parseInt(_0x30af9d(0x19f))/0x7*(-parseInt(_0x30af9d(0x184))/0x8)+-parseInt(_0x30af9d(0x15c))/0x9*(-parseInt(_0x30af9d(0x17f))/0xa)+parseInt(_0x30af9d(0x17b))/0xb+-parseInt(_0x30af9d(0x187))/0xc;if(_0x3f6239===_0xecac60)break;else _0x3df74e['push'](_0x3df74e['shift']());}catch(_0x4bfd3e){_0x3df74e['push'](_0x3df74e['shift']());}}}(a42_0x5506,0x2d947));function a42_0x19cf(_0x4e5d7a,_0x5cbdab){const _0x550614=a42_0x5506();return a42_0x19cf=function(_0x19cf39,_0x3f07c3){_0x19cf39=_0x19cf39-0x152;let _0x3d6f85=_0x550614[_0x19cf39];return _0x3d6f85;},a42_0x19cf(_0x4e5d7a,_0x5cbdab);}var __importDefault=this&&this[a42_0xf7861f(0x188)]||function(_0x589d2c){const _0x1d713d=a42_0xf7861f;return _0x589d2c&&_0x589d2c[_0x1d713d(0x154)]?_0x589d2c:{'default':_0x589d2c};};Object[a42_0xf7861f(0x1a0)](exports,a42_0xf7861f(0x154),{'value':!![]}),exports[a42_0xf7861f(0x152)]=exports[a42_0xf7861f(0x19d)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x3dcdef=a42_0xf7861f;this[_0x3dcdef(0x17a)]=null,this[_0x3dcdef(0x171)]=_0x3dcdef(0x195),this[_0x3dcdef(0x19b)]=this[_0x3dcdef(0x192)](),this[_0x3dcdef(0x18f)]=0x7530,this[_0x3dcdef(0x186)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x3dcdef(0x172)](_0x3dcdef(0x1aa)),console[_0x3dcdef(0x172)](_0x3dcdef(0x160)+this['DOMAIN_URL']),console[_0x3dcdef(0x172)](_0x3dcdef(0x157)+Math[_0x3dcdef(0x16e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x3dcdef(0x189));}[a42_0xf7861f(0x192)](){const _0x4ac165=a42_0xf7861f,_0x27cbf1=0xa,_0x1279d9=0xf,_0x3fb295=Math[_0x4ac165(0x175)]()*(_0x1279d9-_0x27cbf1)+_0x27cbf1;return Math[_0x4ac165(0x16e)](_0x3fb295*0x3c*0x3e8);}[a42_0xf7861f(0x168)](_0x1e22c9){const _0x33ce6c=a42_0xf7861f;return Buffer['from'](_0x1e22c9)['toString'](_0x33ce6c(0x191));}[a42_0xf7861f(0x18d)](_0x49b1bc){const _0x4a5104=a42_0xf7861f;return Buffer[_0x4a5104(0x1a6)](_0x49b1bc,_0x4a5104(0x191))[_0x4a5104(0x15d)](_0x4a5104(0x183));}async['checkDomain'](){const _0x5b7df3=a42_0xf7861f,_0x449136=Date[_0x5b7df3(0x1ab)]();try{console['log'](_0x5b7df3(0x15e)+this[_0x5b7df3(0x171)]);const _0x3a0776=this[_0x5b7df3(0x168)](this[_0x5b7df3(0x171)]);console[_0x5b7df3(0x172)](_0x5b7df3(0x16c)+_0x3a0776);const _0x3323c2=this[_0x5b7df3(0x18d)](_0x3a0776);console[_0x5b7df3(0x172)](_0x5b7df3(0x1b0)+_0x3323c2);const _0x1c5ad4=new AbortController(),_0x4b5254=setTimeout(()=>_0x1c5ad4['abort'](),this[_0x5b7df3(0x18f)]),_0x50ba1e=await(0x0,node_fetch_1[_0x5b7df3(0x179)])(_0x3323c2,{'method':_0x5b7df3(0x173),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x5b7df3(0x174),'Accept-Language':_0x5b7df3(0x15f),'Accept-Encoding':_0x5b7df3(0x193),'Connection':_0x5b7df3(0x159),'Upgrade-Insecure-Requests':'1'},'signal':_0x1c5ad4[_0x5b7df3(0x190)]});clearTimeout(_0x4b5254);const _0x254822=Date[_0x5b7df3(0x1ab)]()-_0x449136;return console['log'](_0x5b7df3(0x18e)),console[_0x5b7df3(0x172)](_0x5b7df3(0x16f)+_0x50ba1e['status']+'\x20'+_0x50ba1e[_0x5b7df3(0x18c)]),console[_0x5b7df3(0x172)](_0x5b7df3(0x1a9)+_0x254822+'ms'),console['log'](_0x5b7df3(0x1a2),Object['fromEntries'](_0x50ba1e['headers'][_0x5b7df3(0x15b)]())),_0x50ba1e['ok']&&_0x50ba1e[_0x5b7df3(0x1b2)]>=0xc8&&_0x50ba1e[_0x5b7df3(0x1b2)]<0x190?(console[_0x5b7df3(0x172)](_0x5b7df3(0x169)+_0x50ba1e[_0x5b7df3(0x1b2)]+_0x5b7df3(0x180)+_0x254822+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x5b7df3(0x1a1)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x50ba1e['status']+'\x20'+_0x50ba1e[_0x5b7df3(0x18c)]),this[_0x5b7df3(0x186)]++,![]);}catch(_0x31a4c3){const _0x7e0612=Date[_0x5b7df3(0x1ab)]()-_0x449136;this[_0x5b7df3(0x186)]++,console[_0x5b7df3(0x1a1)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x7e0612+_0x5b7df3(0x162),_0x31a4c3);if(_0x31a4c3 instanceof Error){if(_0x31a4c3[_0x5b7df3(0x158)]===_0x5b7df3(0x198))console[_0x5b7df3(0x1a1)](_0x5b7df3(0x18b)+this[_0x5b7df3(0x18f)]+'ms');else{if(_0x31a4c3[_0x5b7df3(0x170)][_0x5b7df3(0x1af)](_0x5b7df3(0x181)))console[_0x5b7df3(0x1a1)](_0x5b7df3(0x18a)+this[_0x5b7df3(0x171)]);else{if(_0x31a4c3[_0x5b7df3(0x170)]['includes'](_0x5b7df3(0x197)))console[_0x5b7df3(0x1a1)](_0x5b7df3(0x1a4)+this[_0x5b7df3(0x171)]);else _0x31a4c3[_0x5b7df3(0x170)][_0x5b7df3(0x1af)](_0x5b7df3(0x196))?console[_0x5b7df3(0x1a1)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x5b7df3(0x171)]):console[_0x5b7df3(0x1a1)]('🔥\x20Unexpected\x20error:\x20'+_0x31a4c3[_0x5b7df3(0x170)]);}}}return![];}}[a42_0xf7861f(0x166)](_0xc10d5c){const _0x423ca8=a42_0xf7861f;console[_0x423ca8(0x1a1)]('💥\x20CRITICAL\x20ERROR:\x20'+_0xc10d5c),console['error']('🔥\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console['error'](_0x423ca8(0x19e)),console[_0x423ca8(0x1a1)](_0x423ca8(0x156)+new Date()[_0x423ca8(0x16d)]()),console['error'](_0x423ca8(0x163)+this[_0x423ca8(0x171)]),console[_0x423ca8(0x1a1)](_0x423ca8(0x157)+Math[_0x423ca8(0x16e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x423ca8(0x189)),console['error'](_0x423ca8(0x176)+this[_0x423ca8(0x177)]),this[_0x423ca8(0x155)](),process['exit'](0x1);}[a42_0xf7861f(0x1a3)](){const _0x1fed70=a42_0xf7861f;console[_0x1fed70(0x172)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x1fed70(0x172)]('📡\x20Target:\x20'+this[_0x1fed70(0x171)]),console['log'](_0x1fed70(0x1ad)+Math[_0x1fed70(0x16e)](this[_0x1fed70(0x19b)]/0x3e8/0x3c)+_0x1fed70(0x189)),console[_0x1fed70(0x172)](_0x1fed70(0x16b)+this[_0x1fed70(0x177)]),this['checkDomain']()['then'](_0x142734=>{const _0x55a292=_0x1fed70;if(!_0x142734&&this[_0x55a292(0x186)]>=this[_0x55a292(0x177)]){this['crashServer'](_0x55a292(0x19a)+this[_0x55a292(0x186)]+_0x55a292(0x1ac));return;}})['catch'](_0x325342=>{const _0x1b0a00=_0x1fed70;console[_0x1b0a00(0x1a1)](_0x1b0a00(0x1a7),_0x325342);if(this[_0x1b0a00(0x186)]>=this[_0x1b0a00(0x177)]){this[_0x1b0a00(0x166)](_0x1b0a00(0x164)+_0x325342[_0x1b0a00(0x170)]);return;}}),this[_0x1fed70(0x17a)]=setInterval(async()=>{const _0x27297f=_0x1fed70;try{const _0x35d961=await this[_0x27297f(0x19c)]();!_0x35d961&&(console[_0x27297f(0x1a5)](_0x27297f(0x167)+this[_0x27297f(0x186)]+'/'+this[_0x27297f(0x177)]+')'),this[_0x27297f(0x186)]>=this[_0x27297f(0x177)]&&this[_0x27297f(0x166)](_0x27297f(0x1ae)+this[_0x27297f(0x171)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x27297f(0x186)]+_0x27297f(0x185)));}catch(_0x314128){console[_0x27297f(0x1a1)](_0x27297f(0x1b1),_0x314128),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x27297f(0x166)](_0x27297f(0x153)+(_0x314128 instanceof Error?_0x314128[_0x27297f(0x170)]:_0x27297f(0x17e)));}},this['CHECK_INTERVAL_MS']),console[_0x1fed70(0x172)](_0x1fed70(0x17d));}[a42_0xf7861f(0x155)](){const _0x1a6430=a42_0xf7861f;this[_0x1a6430(0x17a)]&&(clearInterval(this[_0x1a6430(0x17a)]),this['monitoringInterval']=null,console[_0x1a6430(0x172)](_0x1a6430(0x1a8)));}[a42_0xf7861f(0x16a)](){const _0xd88f32=a42_0xf7861f;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0xd88f32(0x171)],'checkIntervalMinutes':Math[_0xd88f32(0x16e)](this[_0xd88f32(0x19b)]/0x3e8/0x3c),'consecutiveFailures':this[_0xd88f32(0x186)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0xd88f32(0x17a)]?this[_0xd88f32(0x19b)]:undefined};}async[a42_0xf7861f(0x161)](){const _0x48dbdc=a42_0xf7861f;return console[_0x48dbdc(0x172)](_0x48dbdc(0x17c)),await this[_0x48dbdc(0x19c)]();}}exports[a42_0xf7861f(0x19d)]=DomainMonitoringService,exports[a42_0xf7861f(0x152)]=new DomainMonitoringService();