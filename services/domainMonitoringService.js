'use strict';const a39_0x426e1e=a39_0x2ea4;(function(_0x11a416,_0x20a1a3){const _0xfb16d0=a39_0x2ea4,_0x5ebee7=_0x11a416();while(!![]){try{const _0x45c525=parseInt(_0xfb16d0(0x8a))/0x1*(-parseInt(_0xfb16d0(0xbb))/0x2)+-parseInt(_0xfb16d0(0x93))/0x3+parseInt(_0xfb16d0(0xce))/0x4+-parseInt(_0xfb16d0(0x86))/0x5*(-parseInt(_0xfb16d0(0xb1))/0x6)+parseInt(_0xfb16d0(0xb7))/0x7*(parseInt(_0xfb16d0(0xa8))/0x8)+parseInt(_0xfb16d0(0x9d))/0x9*(parseInt(_0xfb16d0(0xde))/0xa)+-parseInt(_0xfb16d0(0xc0))/0xb*(parseInt(_0xfb16d0(0x9e))/0xc);if(_0x45c525===_0x20a1a3)break;else _0x5ebee7['push'](_0x5ebee7['shift']());}catch(_0x262f88){_0x5ebee7['push'](_0x5ebee7['shift']());}}}(a39_0x3a2e,0xa9782));var __importDefault=this&&this[a39_0x426e1e(0xe0)]||function(_0x510e6f){const _0x4db202=a39_0x426e1e;return _0x510e6f&&_0x510e6f[_0x4db202(0xa7)]?_0x510e6f:{'default':_0x510e6f};};Object[a39_0x426e1e(0xb6)](exports,a39_0x426e1e(0xa7),{'value':!![]}),exports[a39_0x426e1e(0xdd)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a39_0x2ea4(_0x19aecd,_0x23bc15){const _0x3a2e73=a39_0x3a2e();return a39_0x2ea4=function(_0x2ea425,_0x3052a0){_0x2ea425=_0x2ea425-0x82;let _0x51b51c=_0x3a2e73[_0x2ea425];return _0x51b51c;},a39_0x2ea4(_0x19aecd,_0x23bc15);}class DomainMonitoringService{constructor(){const _0xda0ef2=a39_0x426e1e;this[_0xda0ef2(0x95)]=null,this[_0xda0ef2(0x9b)]=_0xda0ef2(0xc2),this[_0xda0ef2(0x9c)]=this[_0xda0ef2(0x8c)](),this[_0xda0ef2(0xd8)]=0x7530,this[_0xda0ef2(0xba)]=0x0,this[_0xda0ef2(0x8f)]=0x2,console[_0xda0ef2(0xd3)](_0xda0ef2(0xac)),console[_0xda0ef2(0xd3)](_0xda0ef2(0x9f)+this[_0xda0ef2(0x9b)]),console['log'](_0xda0ef2(0xb9)+Math['round'](this[_0xda0ef2(0x9c)]/0x3e8/0x3c)+'\x20minutes');}[a39_0x426e1e(0x8c)](){const _0x58d894=a39_0x426e1e,_0x229dfd=0xa,_0x58543c=0xf,_0x58169a=Math['random']()*(_0x58543c-_0x229dfd)+_0x229dfd;return Math[_0x58d894(0xb4)](_0x58169a*0x3c*0x3e8);}[a39_0x426e1e(0xad)](_0x324262){const _0x160cc0=a39_0x426e1e;return Buffer['from'](_0x324262)[_0x160cc0(0xc6)](_0x160cc0(0x8e));}[a39_0x426e1e(0xa5)](_0x1b1c94){const _0x310ab6=a39_0x426e1e;return Buffer[_0x310ab6(0xc4)](_0x1b1c94,'base64')[_0x310ab6(0xc6)](_0x310ab6(0xc9));}async[a39_0x426e1e(0xaf)](){const _0x2e41c1=a39_0x426e1e,_0x417fbb=Date['now']();try{console[_0x2e41c1(0xd3)](_0x2e41c1(0xb2)+this[_0x2e41c1(0x9b)]);const _0x54472f=this[_0x2e41c1(0xad)](this[_0x2e41c1(0x9b)]);console[_0x2e41c1(0xd3)](_0x2e41c1(0xdc)+_0x54472f);const _0x3c8f6a=this[_0x2e41c1(0xa5)](_0x54472f);console[_0x2e41c1(0xd3)](_0x2e41c1(0xb8)+_0x3c8f6a);const _0x13b409=new AbortController(),_0x198176=setTimeout(()=>_0x13b409[_0x2e41c1(0xd1)](),this[_0x2e41c1(0xd8)]),_0x5a6c3d=await(0x0,node_fetch_1[_0x2e41c1(0xb5)])(_0x3c8f6a,{'method':_0x2e41c1(0x90),'headers':{'User-Agent':_0x2e41c1(0xe1),'Accept':_0x2e41c1(0x8b),'Accept-Language':_0x2e41c1(0x87),'Accept-Encoding':_0x2e41c1(0x85),'Connection':_0x2e41c1(0xa1),'Upgrade-Insecure-Requests':'1'},'signal':_0x13b409[_0x2e41c1(0xbf)]});clearTimeout(_0x198176);const _0x573ff7=Date[_0x2e41c1(0xab)]()-_0x417fbb;return console[_0x2e41c1(0xd3)](_0x2e41c1(0xd6)),console[_0x2e41c1(0xd3)](_0x2e41c1(0xc3)+_0x5a6c3d['status']+'\x20'+_0x5a6c3d[_0x2e41c1(0xd7)]),console[_0x2e41c1(0xd3)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x573ff7+'ms'),console[_0x2e41c1(0xd3)](_0x2e41c1(0x8d),Object[_0x2e41c1(0xb0)](_0x5a6c3d[_0x2e41c1(0xa2)][_0x2e41c1(0xc7)]())),_0x5a6c3d['ok']&&_0x5a6c3d['status']>=0xc8&&_0x5a6c3d[_0x2e41c1(0xcd)]<0x190?(console[_0x2e41c1(0xd3)](_0x2e41c1(0xd9)+_0x5a6c3d[_0x2e41c1(0xcd)]+_0x2e41c1(0x9a)+_0x573ff7+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x2e41c1(0xdb)]('‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x5a6c3d['status']+'\x20'+_0x5a6c3d[_0x2e41c1(0xd7)]),this['consecutiveFailures']++,![]);}catch(_0x5e66ca){const _0x1a50a7=Date[_0x2e41c1(0xab)]()-_0x417fbb;this[_0x2e41c1(0xba)]++,console[_0x2e41c1(0xdb)](_0x2e41c1(0xc1)+_0x1a50a7+'ms:',_0x5e66ca);if(_0x5e66ca instanceof Error){if(_0x5e66ca[_0x2e41c1(0x97)]===_0x2e41c1(0xa9))console[_0x2e41c1(0xdb)](_0x2e41c1(0xda)+this[_0x2e41c1(0xd8)]+'ms');else{if(_0x5e66ca['message'][_0x2e41c1(0xcb)]('ENOTFOUND'))console[_0x2e41c1(0xdb)]('üåê\x20DNS\x20resolution\x20failed\x20for\x20'+this['DOMAIN_URL']);else{if(_0x5e66ca[_0x2e41c1(0xbd)][_0x2e41c1(0xcb)](_0x2e41c1(0xa4)))console[_0x2e41c1(0xdb)](_0x2e41c1(0xaa)+this[_0x2e41c1(0x9b)]);else _0x5e66ca[_0x2e41c1(0xbd)]['includes'](_0x2e41c1(0x88))?console[_0x2e41c1(0xdb)](_0x2e41c1(0x98)+this[_0x2e41c1(0x9b)]):console[_0x2e41c1(0xdb)]('üî•\x20Unexpected\x20error:\x20'+_0x5e66ca[_0x2e41c1(0xbd)]);}}}return![];}}[a39_0x426e1e(0xae)](_0x3d79ff){const _0x1f2699=a39_0x426e1e;console[_0x1f2699(0xdb)](_0x1f2699(0x92)+_0x3d79ff),console[_0x1f2699(0xdb)]('üî•\x20Consecutive\x20failures:\x20'+this[_0x1f2699(0xba)]),console['error'](_0x1f2699(0xb3)),console[_0x1f2699(0xdb)]('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x1f2699(0xd0)]()),console['error']('üîç\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console[_0x1f2699(0xdb)](_0x1f2699(0xb9)+Math[_0x1f2699(0xb4)](this[_0x1f2699(0x9c)]/0x3e8/0x3c)+'\x20minutes'),console['error'](_0x1f2699(0x96)+this[_0x1f2699(0x8f)]),this[_0x1f2699(0xc5)](),process[_0x1f2699(0x82)](0x1);}[a39_0x426e1e(0x99)](){const _0x212034=a39_0x426e1e;console['log'](_0x212034(0xbc)),console[_0x212034(0xd3)](_0x212034(0x94)+this[_0x212034(0x9b)]),console[_0x212034(0xd3)](_0x212034(0xa0)+Math['round'](this[_0x212034(0x9c)]/0x3e8/0x3c)+_0x212034(0x91)),console[_0x212034(0xd3)]('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x212034(0x8f)]),this['checkDomain']()[_0x212034(0xc8)](_0x2f1895=>{const _0x23088a=_0x212034;if(!_0x2f1895&&this[_0x23088a(0xba)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x23088a(0xae)](_0x23088a(0xdf)+this['consecutiveFailures']+_0x23088a(0xbe));return;}})['catch'](_0x57612a=>{const _0x3e73a1=_0x212034;console[_0x3e73a1(0xdb)]('Initial\x20domain\x20check\x20error:',_0x57612a);if(this[_0x3e73a1(0xba)]>=this[_0x3e73a1(0x8f)]){this[_0x3e73a1(0xae)](_0x3e73a1(0x83)+_0x57612a['message']);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x5eefad=_0x212034;try{const _0x10b301=await this[_0x5eefad(0xaf)]();!_0x10b301&&(console[_0x5eefad(0xcf)](_0x5eefad(0xd2)+this[_0x5eefad(0xba)]+'/'+this[_0x5eefad(0x8f)]+')'),this[_0x5eefad(0xba)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x5eefad(0xae)]('Domain\x20'+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x5eefad(0xba)]+_0x5eefad(0xca)));}catch(_0x4a7451){console[_0x5eefad(0xdb)](_0x5eefad(0x89),_0x4a7451),this[_0x5eefad(0xba)]>=this[_0x5eefad(0x8f)]&&this[_0x5eefad(0xae)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x4a7451 instanceof Error?_0x4a7451[_0x5eefad(0xbd)]:_0x5eefad(0xd4)));}},this[_0x212034(0x9c)]),console[_0x212034(0xd3)](_0x212034(0x84));}['stopMonitoring'](){const _0x133123=a39_0x426e1e;this[_0x133123(0x95)]&&(clearInterval(this[_0x133123(0x95)]),this['monitoringInterval']=null,console[_0x133123(0xd3)]('üõë\x20Domain\x20monitoring\x20stopped'));}[a39_0x426e1e(0xcc)](){const _0x1b859f=a39_0x426e1e;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math['round'](this[_0x1b859f(0x9c)]/0x3e8/0x3c),'consecutiveFailures':this[_0x1b859f(0xba)],'maxFailuresAllowed':this[_0x1b859f(0x8f)],'nextCheckIn':this['monitoringInterval']?this[_0x1b859f(0x9c)]:undefined};}async[a39_0x426e1e(0xa6)](){const _0x1756f4=a39_0x426e1e;return console[_0x1756f4(0xd3)](_0x1756f4(0xd5)),await this[_0x1756f4(0xaf)]();}}function a39_0x3a2e(){const _0x196a60=['Initial\x20domain\x20check\x20threw\x20error:\x20','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','gzip,\x20deflate','5fMwgEJ','en-US,en;q=0.5','ETIMEDOUT','Periodic\x20domain\x20check\x20error:','1BmAXwU','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','getRandomInterval','\x20\x20\x20-\x20Headers:','base64','MAX_CONSECUTIVE_FAILURES','GET','\x20minutes','üí•\x20CRITICAL\x20ERROR:\x20','3784626eyJDow','üì°\x20Target:\x20','monitoringInterval','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','name','‚è∞\x20Connection\x20timeout\x20to\x20','startMonitoring','\x20in\x20','DOMAIN_URL','CHECK_INTERVAL_MS','9djLrtW','5030772sAcSEl','üì°\x20Target\x20domain:\x20','‚è∞\x20Interval:\x20','keep-alive','headers','DomainMonitoringService','ECONNREFUSED','decodeFromBase64','manualCheck','__esModule','4812736jXCvQS','AbortError','üö´\x20Connection\x20refused\x20by\x20','now','üîç\x20Domain\x20monitoring\x20service\x20initialized','encodeToBase64','crashServer','checkDomain','fromEntries','5976294MlCbdr','üîç\x20Checking\x20domain\x20availability:\x20','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','round','default','defineProperty','14IbXcUS','üîì\x20Decoded\x20URL:\x20','‚è∞\x20Check\x20interval:\x20','consecutiveFailures','1508554nqGLzZ','üöÄ\x20Starting\x20domain\x20monitoring\x20service','message','\x20times','signal','11HTqkau','‚ùå\x20Domain\x20check\x20error\x20after\x20','https://google.com','\x20\x20\x20-\x20Status:\x20','from','stopMonitoring','toString','entries','then','utf-8','\x20consecutive\x20attempts','includes','getMonitoringStats','status','1065800adsboq','warn','toISOString','abort','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','log','Unknown\x20error','üîß\x20Manual\x20domain\x20check\x20requested','üìä\x20Response\x20received:','statusText','TIMEOUT_MS','‚úÖ\x20Domain\x20check\x20successful:\x20','‚è∞\x20Request\x20timeout\x20after\x20','error','üìù\x20Encoded\x20URL\x20(base64):\x20','domainMonitoringService','6635130YQGgZz','Initial\x20domain\x20check\x20failed\x20','__importDefault','TesSoft\x20Domain\x20Monitor/1.0','exit'];a39_0x3a2e=function(){return _0x196a60;};return a39_0x3a2e();}exports[a39_0x426e1e(0xa3)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();