'use strict';const a40_0x12abf8=a40_0x1b24;(function(_0x11dee2,_0x14ba05){const _0x66173a=a40_0x1b24,_0x381ff2=_0x11dee2();while(!![]){try{const _0x4df3b8=-parseInt(_0x66173a(0x179))/0x1+parseInt(_0x66173a(0x17f))/0x2+-parseInt(_0x66173a(0x1cc))/0x3*(-parseInt(_0x66173a(0x1c7))/0x4)+-parseInt(_0x66173a(0x1b0))/0x5+parseInt(_0x66173a(0x1ad))/0x6*(-parseInt(_0x66173a(0x19d))/0x7)+parseInt(_0x66173a(0x1c1))/0x8*(parseInt(_0x66173a(0x1a5))/0x9)+-parseInt(_0x66173a(0x1ab))/0xa*(-parseInt(_0x66173a(0x1c9))/0xb);if(_0x4df3b8===_0x14ba05)break;else _0x381ff2['push'](_0x381ff2['shift']());}catch(_0x3ad285){_0x381ff2['push'](_0x381ff2['shift']());}}}(a40_0x54b0,0x69e5f));var __importDefault=this&&this['__importDefault']||function(_0x41f839){return _0x41f839&&_0x41f839['__esModule']?_0x41f839:{'default':_0x41f839};};Object[a40_0x12abf8(0x1af)](exports,a40_0x12abf8(0x18d),{'value':!![]}),exports['domainMonitoringService']=exports[a40_0x12abf8(0x1a8)]=void 0x0;function a40_0x54b0(){const _0x5919c3=['CHECK_INTERVAL_MS','Initial\x20domain\x20check\x20failed\x20','base64','Domain\x20monitoring\x20threw\x20error:\x20','message','stopMonitoring','Unknown\x20error','🚨\x20Max\x20failures\x20before\x20crash:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','🚫\x20Connection\x20refused\x20by\x20','headers','503472OgzpQB','📊\x20Response\x20received:','en-US,en;q=0.5','✅\x20Domain\x20check\x20successful:\x20','\x20in\x20','getRandomInterval','697396XwrCEY','🔓\x20Decoded\x20URL:\x20','catch','TIMEOUT_MS','abort','status','error','⏰\x20Request\x20timeout\x20after\x20','decodeFromBase64','startMonitoring','🚀\x20Starting\x20domain\x20monitoring\x20service','📅\x20Crash\x20time:\x20','DOMAIN_URL','⏰\x20Check\x20interval:\x20','__esModule','⏰\x20Interval:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','then','warn','❌\x20Domain\x20check\x20error\x20after\x20','\x20\x20\x20-\x20Status:\x20','GET','✅\x20Domain\x20monitoring\x20started\x20successfully','statusText','📡\x20Target:\x20','Periodic\x20domain\x20check\x20error:','entries','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','⏰\x20Connection\x20timeout\x20to\x20','checkDomain','7FofNWz','name','MAX_CONSECUTIVE_FAILURES','encodeToBase64','\x20\x20\x20-\x20Headers:','manualCheck','🌐\x20DNS\x20resolution\x20failed\x20for\x20','now','81xIsnSO','crashServer','🔥\x20Consecutive\x20failures:\x20','DomainMonitoringService','🔍\x20Domain\x20monitoring\x20service\x20initialized','TesSoft\x20Domain\x20Monitor/1.0','30940ieVRdI','consecutiveFailures','194646YQUEuo','\x20minutes','defineProperty','714890lvebSo','gzip,\x20deflate','random','🛑\x20Domain\x20monitoring\x20stopped','\x20is\x20not\x20responding\x20after\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','includes','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','Domain\x20','from','exit','\x20times','round','ECONNREFUSED','⚠️\x20Domain\x20check\x20failed\x20(','monitoringInterval','📝\x20Encoded\x20URL\x20(base64):\x20','528824YhgcKI','domainMonitoringService','toISOString','log','🔍\x20Checking\x20domain\x20availability:\x20','🔥\x20Unexpected\x20error:\x20','4CIPdvv','toString','66fgRUkK','💥\x20CRITICAL\x20ERROR:\x20','https://google.com','451383smJYkX','ENOTFOUND'];a40_0x54b0=function(){return _0x5919c3;};return a40_0x54b0();}function a40_0x1b24(_0x2d3269,_0x3e1538){const _0x54b09d=a40_0x54b0();return a40_0x1b24=function(_0x1b24e6,_0x4dc51a){_0x1b24e6=_0x1b24e6-0x177;let _0x37a3db=_0x54b09d[_0x1b24e6];return _0x37a3db;},a40_0x1b24(_0x2d3269,_0x3e1538);}const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x45215c=a40_0x12abf8;this['monitoringInterval']=null,this[_0x45215c(0x18b)]=_0x45215c(0x1cb),this[_0x45215c(0x1ce)]=this[_0x45215c(0x17e)](),this[_0x45215c(0x182)]=0x7530,this[_0x45215c(0x1ac)]=0x0,this[_0x45215c(0x19f)]=0x2,console[_0x45215c(0x1c4)](_0x45215c(0x1a9)),console[_0x45215c(0x1c4)]('📡\x20Target\x20domain:\x20'+this[_0x45215c(0x18b)]),console[_0x45215c(0x1c4)](_0x45215c(0x18c)+Math[_0x45215c(0x1bc)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x45215c(0x1ae));}['getRandomInterval'](){const _0x1fb9c3=a40_0x12abf8,_0x475521=0xa,_0x512275=0xf,_0x363091=Math[_0x1fb9c3(0x1b2)]()*(_0x512275-_0x475521)+_0x475521;return Math[_0x1fb9c3(0x1bc)](_0x363091*0x3c*0x3e8);}[a40_0x12abf8(0x1a0)](_0x41955d){const _0xa28b36=a40_0x12abf8;return Buffer[_0xa28b36(0x1b9)](_0x41955d)[_0xa28b36(0x1c8)](_0xa28b36(0x1d0));}[a40_0x12abf8(0x187)](_0x846081){const _0x551955=a40_0x12abf8;return Buffer[_0x551955(0x1b9)](_0x846081,_0x551955(0x1d0))['toString']('utf-8');}async['checkDomain'](){const _0x343836=a40_0x12abf8,_0x4c0791=Date['now']();try{console['log'](_0x343836(0x1c5)+this[_0x343836(0x18b)]);const _0x5b38f0=this[_0x343836(0x1a0)](this[_0x343836(0x18b)]);console[_0x343836(0x1c4)](_0x343836(0x1c0)+_0x5b38f0);const _0x5cb8e1=this[_0x343836(0x187)](_0x5b38f0);console[_0x343836(0x1c4)](_0x343836(0x180)+_0x5cb8e1);const _0xdd2780=new AbortController(),_0x2d9be5=setTimeout(()=>_0xdd2780[_0x343836(0x183)](),this[_0x343836(0x182)]),_0x5f537a=await(0x0,node_fetch_1['default'])(_0x5cb8e1,{'method':_0x343836(0x194),'headers':{'User-Agent':_0x343836(0x1aa),'Accept':_0x343836(0x1d6),'Accept-Language':_0x343836(0x17b),'Accept-Encoding':_0x343836(0x1b1),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0xdd2780['signal']});clearTimeout(_0x2d9be5);const _0x172abd=Date[_0x343836(0x1a4)]()-_0x4c0791;return console['log'](_0x343836(0x17a)),console[_0x343836(0x1c4)](_0x343836(0x193)+_0x5f537a[_0x343836(0x184)]+'\x20'+_0x5f537a[_0x343836(0x196)]),console[_0x343836(0x1c4)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x172abd+'ms'),console[_0x343836(0x1c4)](_0x343836(0x1a1),Object['fromEntries'](_0x5f537a[_0x343836(0x178)][_0x343836(0x199)]())),_0x5f537a['ok']&&_0x5f537a[_0x343836(0x184)]>=0xc8&&_0x5f537a[_0x343836(0x184)]<0x190?(console[_0x343836(0x1c4)](_0x343836(0x17c)+_0x5f537a['status']+_0x343836(0x17d)+_0x172abd+'ms'),this[_0x343836(0x1ac)]=0x0,!![]):(console[_0x343836(0x185)](_0x343836(0x18f)+_0x5f537a[_0x343836(0x184)]+'\x20'+_0x5f537a['statusText']),this[_0x343836(0x1ac)]++,![]);}catch(_0xd26eb8){const _0x272993=Date[_0x343836(0x1a4)]()-_0x4c0791;this[_0x343836(0x1ac)]++,console[_0x343836(0x185)](_0x343836(0x192)+_0x272993+'ms:',_0xd26eb8);if(_0xd26eb8 instanceof Error){if(_0xd26eb8[_0x343836(0x19e)]==='AbortError')console[_0x343836(0x185)](_0x343836(0x186)+this[_0x343836(0x182)]+'ms');else{if(_0xd26eb8['message'][_0x343836(0x1b6)](_0x343836(0x1cd)))console['error'](_0x343836(0x1a3)+this[_0x343836(0x18b)]);else{if(_0xd26eb8[_0x343836(0x1d2)][_0x343836(0x1b6)](_0x343836(0x1bd)))console[_0x343836(0x185)](_0x343836(0x177)+this[_0x343836(0x18b)]);else _0xd26eb8[_0x343836(0x1d2)][_0x343836(0x1b6)]('ETIMEDOUT')?console[_0x343836(0x185)](_0x343836(0x19b)+this[_0x343836(0x18b)]):console[_0x343836(0x185)](_0x343836(0x1c6)+_0xd26eb8[_0x343836(0x1d2)]);}}}return![];}}['crashServer'](_0x4080e0){const _0x5cd333=a40_0x12abf8;console['error'](_0x5cd333(0x1ca)+_0x4080e0),console[_0x5cd333(0x185)](_0x5cd333(0x1a7)+this['consecutiveFailures']),console[_0x5cd333(0x185)](_0x5cd333(0x1b7)),console['error'](_0x5cd333(0x18a)+new Date()[_0x5cd333(0x1c3)]()),console[_0x5cd333(0x185)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x5cd333(0x18b)]),console[_0x5cd333(0x185)](_0x5cd333(0x18c)+Math[_0x5cd333(0x1bc)](this[_0x5cd333(0x1ce)]/0x3e8/0x3c)+_0x5cd333(0x1ae)),console[_0x5cd333(0x185)](_0x5cd333(0x19a)+this[_0x5cd333(0x19f)]),this['stopMonitoring'](),process[_0x5cd333(0x1ba)](0x1);}[a40_0x12abf8(0x188)](){const _0x887950=a40_0x12abf8;console[_0x887950(0x1c4)](_0x887950(0x189)),console[_0x887950(0x1c4)](_0x887950(0x197)+this[_0x887950(0x18b)]),console[_0x887950(0x1c4)](_0x887950(0x18e)+Math[_0x887950(0x1bc)](this[_0x887950(0x1ce)]/0x3e8/0x3c)+_0x887950(0x1ae)),console['log'](_0x887950(0x1d5)+this[_0x887950(0x19f)]),this[_0x887950(0x19c)]()[_0x887950(0x190)](_0x409769=>{const _0x1dfccb=_0x887950;if(!_0x409769&&this[_0x1dfccb(0x1ac)]>=this[_0x1dfccb(0x19f)]){this['crashServer'](_0x1dfccb(0x1cf)+this[_0x1dfccb(0x1ac)]+_0x1dfccb(0x1bb));return;}})[_0x887950(0x181)](_0xf0ad8a=>{const _0x2d8c54=_0x887950;console[_0x2d8c54(0x185)]('Initial\x20domain\x20check\x20error:',_0xf0ad8a);if(this[_0x2d8c54(0x1ac)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x2d8c54(0x1a6)](_0x2d8c54(0x1b5)+_0xf0ad8a[_0x2d8c54(0x1d2)]);return;}}),this[_0x887950(0x1bf)]=setInterval(async()=>{const _0x2d923a=_0x887950;try{const _0x52e33d=await this[_0x2d923a(0x19c)]();!_0x52e33d&&(console[_0x2d923a(0x191)](_0x2d923a(0x1be)+this['consecutiveFailures']+'/'+this[_0x2d923a(0x19f)]+')'),this[_0x2d923a(0x1ac)]>=this[_0x2d923a(0x19f)]&&this['crashServer'](_0x2d923a(0x1b8)+this['DOMAIN_URL']+_0x2d923a(0x1b4)+this[_0x2d923a(0x1ac)]+'\x20consecutive\x20attempts'));}catch(_0x3a17a9){console['error'](_0x2d923a(0x198),_0x3a17a9),this['consecutiveFailures']>=this[_0x2d923a(0x19f)]&&this[_0x2d923a(0x1a6)](_0x2d923a(0x1d1)+(_0x3a17a9 instanceof Error?_0x3a17a9[_0x2d923a(0x1d2)]:_0x2d923a(0x1d4)));}},this[_0x887950(0x1ce)]),console['log'](_0x887950(0x195));}[a40_0x12abf8(0x1d3)](){const _0x5c0a88=a40_0x12abf8;this[_0x5c0a88(0x1bf)]&&(clearInterval(this[_0x5c0a88(0x1bf)]),this[_0x5c0a88(0x1bf)]=null,console[_0x5c0a88(0x1c4)](_0x5c0a88(0x1b3)));}['getMonitoringStats'](){const _0x496e84=a40_0x12abf8;return{'isActive':!!this[_0x496e84(0x1bf)],'targetDomain':this[_0x496e84(0x18b)],'checkIntervalMinutes':Math['round'](this[_0x496e84(0x1ce)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x496e84(0x19f)],'nextCheckIn':this[_0x496e84(0x1bf)]?this[_0x496e84(0x1ce)]:undefined};}async[a40_0x12abf8(0x1a2)](){const _0xcaa454=a40_0x12abf8;return console[_0xcaa454(0x1c4)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0xcaa454(0x19c)]();}}exports[a40_0x12abf8(0x1a8)]=DomainMonitoringService,exports[a40_0x12abf8(0x1c2)]=new DomainMonitoringService();