'use strict';function a52_0x3650(){const _0x3ddfc6=['text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ðŸ”§\x20Manual\x20domain\x20check\x20requested','name','3iqfTvm','ðŸ“…\x20Crash\x20time:\x20','stopMonitoring','base64','9aLalqZ','ðŸ”“\x20Decoded\x20URL:\x20','\x20\x20\x20-\x20Status:\x20','node-fetch','from','973287HlLuZx','â°\x20Interval:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','keep-alive','775528NiJiEE','ECONNREFUSED','statusText','\x20consecutive\x20attempts','DomainMonitoringService','\x20minutes','6UpaHRP','628vhcTop','2239440ddOiSa','toString','catch','505796IkNUeD','\x20\x20\x20-\x20Headers:','ðŸ”\x20Domain\x20being\x20monitored:\x20','ðŸ“¡\x20Target\x20domain:\x20','random','ðŸ”¥\x20Unexpected\x20error:\x20','getRandomInterval','âŒ\x20Domain\x20check\x20error\x20after\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','19480lDOjMz','exit','fromEntries','gzip,\x20deflate','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','domainMonitoringService','getMonitoringStats','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','TIMEOUT_MS','362175euZSRC','âœ…\x20Domain\x20check\x20successful:\x20','log','round','ms:','Initial\x20domain\x20check\x20threw\x20error:\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','Initial\x20domain\x20check\x20failed\x20','\x20in\x20','ENOTFOUND','__importDefault','manualCheck','error','2WEtRln','__esModule','\x20\x20\x20-\x20Response\x20time:\x20','monitoringInterval','Domain\x20monitoring\x20threw\x20error:\x20','startMonitoring','decodeFromBase64','âš ï¸\x20Domain\x20check\x20failed\x20(','MAX_CONSECUTIVE_FAILURES','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','abort','utf-8','includes','then','now','ðŸ“¡\x20Target:\x20','1199LsjJlt','â°\x20Check\x20interval:\x20','DOMAIN_URL','consecutiveFailures','signal','message','ðŸš«\x20Connection\x20refused\x20by\x20','Domain\x20Monitor/1.0','CHECK_INTERVAL_MS','headers','â°\x20Request\x20timeout\x20after\x20','encodeToBase64','ðŸ“Š\x20Response\x20received:','status','â°\x20Connection\x20timeout\x20to\x20','en-US,en;q=0.5','GET','https://google.com','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','checkDomain','crashServer','default'];a52_0x3650=function(){return _0x3ddfc6;};return a52_0x3650();}const a52_0x288966=a52_0x4c78;(function(_0x27bda4,_0x3098cf){const _0x26a2f0=a52_0x4c78,_0x30b999=_0x27bda4();while(!![]){try{const _0x257ef0=parseInt(_0x26a2f0(0x1ef))/0x1*(-parseInt(_0x26a2f0(0x1cb))/0x2)+-parseInt(_0x26a2f0(0x218))/0x3*(parseInt(_0x26a2f0(0x1cf))/0x4)+parseInt(_0x26a2f0(0x1e2))/0x5*(parseInt(_0x26a2f0(0x1ca))/0x6)+-parseInt(_0x26a2f0(0x1c0))/0x7+-parseInt(_0x26a2f0(0x1c4))/0x8*(parseInt(_0x26a2f0(0x21c))/0x9)+-parseInt(_0x26a2f0(0x1d8))/0xa*(-parseInt(_0x26a2f0(0x1ff))/0xb)+parseInt(_0x26a2f0(0x1cc))/0xc;if(_0x257ef0===_0x3098cf)break;else _0x30b999['push'](_0x30b999['shift']());}catch(_0x19753f){_0x30b999['push'](_0x30b999['shift']());}}}(a52_0x3650,0x1a728));var __importDefault=this&&this[a52_0x288966(0x1ec)]||function(_0x3ba2a2){return _0x3ba2a2&&_0x3ba2a2['__esModule']?_0x3ba2a2:{'default':_0x3ba2a2};};Object['defineProperty'](exports,a52_0x288966(0x1f0),{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;function a52_0x4c78(_0x7cd6c1,_0x19bd79){_0x7cd6c1=_0x7cd6c1-0x1bf;const _0x36506b=a52_0x3650();let _0x4c783e=_0x36506b[_0x7cd6c1];return _0x4c783e;}const node_fetch_1=__importDefault(require(a52_0x288966(0x21f)));class DomainMonitoringService{constructor(){const _0xb47356=a52_0x288966;this[_0xb47356(0x1f2)]=null,this[_0xb47356(0x201)]=_0xb47356(0x210),this[_0xb47356(0x207)]=this['getRandomInterval'](),this[_0xb47356(0x1e1)]=0x7530,this['consecutiveFailures']=0x0,this[_0xb47356(0x1f7)]=0x2,console[_0xb47356(0x1e4)](_0xb47356(0x1e0)),console[_0xb47356(0x1e4)](_0xb47356(0x1d2)+this[_0xb47356(0x201)]),console[_0xb47356(0x1e4)](_0xb47356(0x200)+Math[_0xb47356(0x1e5)](this[_0xb47356(0x207)]/0x3e8/0x3c)+'\x20minutes');}[a52_0x288966(0x1d5)](){const _0x1ffef6=a52_0x288966,_0x5b8659=0xa,_0x12f0a7=0xf,_0x4a03e5=Math[_0x1ffef6(0x1d3)]()*(_0x12f0a7-_0x5b8659)+_0x5b8659;return Math[_0x1ffef6(0x1e5)](_0x4a03e5*0x3c*0x3e8);}[a52_0x288966(0x20a)](_0x392fcf){const _0x51a3f2=a52_0x288966;return Buffer[_0x51a3f2(0x1bf)](_0x392fcf)['toString'](_0x51a3f2(0x21b));}[a52_0x288966(0x1f5)](_0x28068b){const _0x5b52d3=a52_0x288966;return Buffer[_0x5b52d3(0x1bf)](_0x28068b,_0x5b52d3(0x21b))[_0x5b52d3(0x1cd)](_0x5b52d3(0x1fa));}async[a52_0x288966(0x212)](){const _0x3572bc=a52_0x288966,_0x2d3102=Date['now']();try{console[_0x3572bc(0x1e4)](_0x3572bc(0x1c2)+this[_0x3572bc(0x201)]);const _0x3662eb=this['encodeToBase64'](this[_0x3572bc(0x201)]);console[_0x3572bc(0x1e4)]('ðŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x3662eb);const _0x11c58b=this[_0x3572bc(0x1f5)](_0x3662eb);console[_0x3572bc(0x1e4)](_0x3572bc(0x21d)+_0x11c58b);const _0xf6fe3e=new AbortController(),_0x530940=setTimeout(()=>_0xf6fe3e[_0x3572bc(0x1f9)](),this[_0x3572bc(0x1e1)]),_0x1681e3=await(0x0,node_fetch_1[_0x3572bc(0x214)])(_0x11c58b,{'method':_0x3572bc(0x20f),'headers':{'User-Agent':_0x3572bc(0x206),'Accept':_0x3572bc(0x215),'Accept-Language':_0x3572bc(0x20e),'Accept-Encoding':_0x3572bc(0x1db),'Connection':_0x3572bc(0x1c3),'Upgrade-Insecure-Requests':'1'},'signal':_0xf6fe3e[_0x3572bc(0x203)]});clearTimeout(_0x530940);const _0x18704f=Date[_0x3572bc(0x1fd)]()-_0x2d3102;return console[_0x3572bc(0x1e4)](_0x3572bc(0x20b)),console[_0x3572bc(0x1e4)](_0x3572bc(0x21e)+_0x1681e3['status']+'\x20'+_0x1681e3[_0x3572bc(0x1c6)]),console['log'](_0x3572bc(0x1f1)+_0x18704f+'ms'),console[_0x3572bc(0x1e4)](_0x3572bc(0x1d0),Object[_0x3572bc(0x1da)](_0x1681e3[_0x3572bc(0x208)]['entries']())),_0x1681e3['ok']&&_0x1681e3[_0x3572bc(0x20c)]>=0xc8&&_0x1681e3[_0x3572bc(0x20c)]<0x190?(console[_0x3572bc(0x1e4)](_0x3572bc(0x1e3)+_0x1681e3[_0x3572bc(0x20c)]+_0x3572bc(0x1ea)+_0x18704f+'ms'),this[_0x3572bc(0x202)]=0x0,!![]):(console[_0x3572bc(0x1ee)](_0x3572bc(0x1d7)+_0x1681e3[_0x3572bc(0x20c)]+'\x20'+_0x1681e3[_0x3572bc(0x1c6)]),this['consecutiveFailures']++,![]);}catch(_0x232907){const _0x5678df=Date[_0x3572bc(0x1fd)]()-_0x2d3102;this['consecutiveFailures']++,console[_0x3572bc(0x1ee)](_0x3572bc(0x1d6)+_0x5678df+_0x3572bc(0x1e6),_0x232907);if(_0x232907 instanceof Error){if(_0x232907[_0x3572bc(0x217)]==='AbortError')console[_0x3572bc(0x1ee)](_0x3572bc(0x209)+this[_0x3572bc(0x1e1)]+'ms');else{if(_0x232907[_0x3572bc(0x204)]['includes'](_0x3572bc(0x1eb)))console['error']('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x3572bc(0x201)]);else{if(_0x232907[_0x3572bc(0x204)][_0x3572bc(0x1fb)](_0x3572bc(0x1c5)))console[_0x3572bc(0x1ee)](_0x3572bc(0x205)+this[_0x3572bc(0x201)]);else _0x232907[_0x3572bc(0x204)][_0x3572bc(0x1fb)]('ETIMEDOUT')?console['error'](_0x3572bc(0x20d)+this['DOMAIN_URL']):console[_0x3572bc(0x1ee)](_0x3572bc(0x1d4)+_0x232907['message']);}}}return![];}}[a52_0x288966(0x213)](_0x3ca764){const _0x496308=a52_0x288966;console['error'](_0x496308(0x211)+_0x3ca764),console[_0x496308(0x1ee)](_0x496308(0x1e8)+this[_0x496308(0x202)]),console[_0x496308(0x1ee)](_0x496308(0x1df)),console[_0x496308(0x1ee)](_0x496308(0x219)+new Date()['toISOString']()),console['error'](_0x496308(0x1d1)+this[_0x496308(0x201)]),console[_0x496308(0x1ee)](_0x496308(0x200)+Math[_0x496308(0x1e5)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x496308(0x1c9)),console['error']('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x496308(0x1f7)]),this[_0x496308(0x21a)](),process[_0x496308(0x1d9)](0x1);}[a52_0x288966(0x1f4)](){const _0x3af213=a52_0x288966;console[_0x3af213(0x1e4)](_0x3af213(0x1f8)),console[_0x3af213(0x1e4)](_0x3af213(0x1fe)+this[_0x3af213(0x201)]),console['log'](_0x3af213(0x1c1)+Math[_0x3af213(0x1e5)](this[_0x3af213(0x207)]/0x3e8/0x3c)+_0x3af213(0x1c9)),console[_0x3af213(0x1e4)](_0x3af213(0x1dc)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x3af213(0x212)]()[_0x3af213(0x1fc)](_0x20c963=>{const _0x11faf3=_0x3af213;if(!_0x20c963&&this[_0x11faf3(0x202)]>=this[_0x11faf3(0x1f7)]){this[_0x11faf3(0x213)](_0x11faf3(0x1e9)+this[_0x11faf3(0x202)]+'\x20times');return;}})[_0x3af213(0x1ce)](_0x4a095a=>{const _0x3e25b1=_0x3af213;console[_0x3e25b1(0x1ee)]('Initial\x20domain\x20check\x20error:',_0x4a095a);if(this[_0x3e25b1(0x202)]>=this[_0x3e25b1(0x1f7)]){this['crashServer'](_0x3e25b1(0x1e7)+_0x4a095a[_0x3e25b1(0x204)]);return;}}),this[_0x3af213(0x1f2)]=setInterval(async()=>{const _0xdfbb37=_0x3af213;try{const _0x10798d=await this[_0xdfbb37(0x212)]();!_0x10798d&&(console['warn'](_0xdfbb37(0x1f6)+this[_0xdfbb37(0x202)]+'/'+this[_0xdfbb37(0x1f7)]+')'),this[_0xdfbb37(0x202)]>=this[_0xdfbb37(0x1f7)]&&this['crashServer']('Domain\x20'+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0xdfbb37(0x202)]+_0xdfbb37(0x1c7)));}catch(_0x3e8f89){console[_0xdfbb37(0x1ee)]('Periodic\x20domain\x20check\x20error:',_0x3e8f89),this['consecutiveFailures']>=this[_0xdfbb37(0x1f7)]&&this[_0xdfbb37(0x213)](_0xdfbb37(0x1f3)+(_0x3e8f89 instanceof Error?_0x3e8f89[_0xdfbb37(0x204)]:'Unknown\x20error'));}},this[_0x3af213(0x207)]),console[_0x3af213(0x1e4)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a52_0x288966(0x21a)](){const _0x145219=a52_0x288966;this[_0x145219(0x1f2)]&&(clearInterval(this[_0x145219(0x1f2)]),this[_0x145219(0x1f2)]=null,console[_0x145219(0x1e4)]('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a52_0x288966(0x1de)](){const _0x5dc70e=a52_0x288966;return{'isActive':!!this[_0x5dc70e(0x1f2)],'targetDomain':this[_0x5dc70e(0x201)],'checkIntervalMinutes':Math[_0x5dc70e(0x1e5)](this[_0x5dc70e(0x207)]/0x3e8/0x3c),'consecutiveFailures':this[_0x5dc70e(0x202)],'maxFailuresAllowed':this[_0x5dc70e(0x1f7)],'nextCheckIn':this[_0x5dc70e(0x1f2)]?this[_0x5dc70e(0x207)]:undefined};}async[a52_0x288966(0x1ed)](){const _0x4728c0=a52_0x288966;return console['log'](_0x4728c0(0x216)),await this[_0x4728c0(0x212)]();}}exports[a52_0x288966(0x1c8)]=DomainMonitoringService,exports[a52_0x288966(0x1dd)]=new DomainMonitoringService();