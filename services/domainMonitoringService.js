'use strict';const a39_0x34ef0b=a39_0xc78a;(function(_0x137b1f,_0x5239ba){const _0x1399b0=a39_0xc78a,_0x20e590=_0x137b1f();while(!![]){try{const _0xbb529=-parseInt(_0x1399b0(0x1d4))/0x1+-parseInt(_0x1399b0(0x1a7))/0x2*(parseInt(_0x1399b0(0x1d3))/0x3)+-parseInt(_0x1399b0(0x197))/0x4+-parseInt(_0x1399b0(0x192))/0x5+parseInt(_0x1399b0(0x1b8))/0x6+parseInt(_0x1399b0(0x1c5))/0x7+parseInt(_0x1399b0(0x18c))/0x8;if(_0xbb529===_0x5239ba)break;else _0x20e590['push'](_0x20e590['shift']());}catch(_0x19c2b9){_0x20e590['push'](_0x20e590['shift']());}}}(a39_0x2826,0xd41af));var __importDefault=this&&this['__importDefault']||function(_0x51063a){const _0x193c0c=a39_0xc78a;return _0x51063a&&_0x51063a[_0x193c0c(0x1a3)]?_0x51063a:{'default':_0x51063a};};Object[a39_0x34ef0b(0x1ae)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a39_0x34ef0b(0x1ab)));class DomainMonitoringService{constructor(){const _0x431929=a39_0x34ef0b;this[_0x431929(0x1a4)]=null,this[_0x431929(0x1b5)]=_0x431929(0x193),this['CHECK_INTERVAL_MS']=this[_0x431929(0x1aa)](),this[_0x431929(0x185)]=0x7530,this[_0x431929(0x1c3)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x431929(0x1cc)](_0x431929(0x1cb)),console[_0x431929(0x1cc)]('üì°\x20Target\x20domain:\x20'+this[_0x431929(0x1b5)]),console[_0x431929(0x1cc)](_0x431929(0x194)+Math[_0x431929(0x196)](this[_0x431929(0x1c8)]/0x3e8/0x3c)+_0x431929(0x1a5));}[a39_0x34ef0b(0x1aa)](){const _0x8814fa=a39_0x34ef0b,_0x2d4c00=0xa,_0x7b2aac=0xf,_0x35e10f=Math[_0x8814fa(0x1b6)]()*(_0x7b2aac-_0x2d4c00)+_0x2d4c00;return Math[_0x8814fa(0x196)](_0x35e10f*0x3c*0x3e8);}[a39_0x34ef0b(0x1c7)](_0x598f42){const _0x48a82a=a39_0x34ef0b;return Buffer[_0x48a82a(0x1d8)](_0x598f42)[_0x48a82a(0x18f)](_0x48a82a(0x1d0));}['decodeFromBase64'](_0x5f2c05){const _0x143e11=a39_0x34ef0b;return Buffer[_0x143e11(0x1d8)](_0x5f2c05,'base64')['toString'](_0x143e11(0x18b));}async[a39_0x34ef0b(0x199)](){const _0x23b164=a39_0x34ef0b,_0x42654b=Date[_0x23b164(0x186)]();try{console['log'](_0x23b164(0x1cf)+this[_0x23b164(0x1b5)]);const _0x302e66=this[_0x23b164(0x1c7)](this['DOMAIN_URL']);console[_0x23b164(0x1cc)](_0x23b164(0x183)+_0x302e66);const _0x339dc1=this[_0x23b164(0x1c1)](_0x302e66);console[_0x23b164(0x1cc)](_0x23b164(0x1b1)+_0x339dc1);const _0x429bec=new AbortController(),_0x1004de=setTimeout(()=>_0x429bec[_0x23b164(0x1c4)](),this[_0x23b164(0x185)]),_0xd582d6=await(0x0,node_fetch_1['default'])(_0x339dc1,{'method':'GET','headers':{'User-Agent':_0x23b164(0x19e),'Accept':_0x23b164(0x1ca),'Accept-Language':_0x23b164(0x187),'Accept-Encoding':_0x23b164(0x1bc),'Connection':_0x23b164(0x1d1),'Upgrade-Insecure-Requests':'1'},'signal':_0x429bec[_0x23b164(0x1b4)]});clearTimeout(_0x1004de);const _0x1c8d70=Date[_0x23b164(0x186)]()-_0x42654b;return console['log'](_0x23b164(0x1ac)),console[_0x23b164(0x1cc)]('\x20\x20\x20-\x20Status:\x20'+_0xd582d6['status']+'\x20'+_0xd582d6[_0x23b164(0x1a0)]),console[_0x23b164(0x1cc)](_0x23b164(0x19b)+_0x1c8d70+'ms'),console['log'](_0x23b164(0x19c),Object[_0x23b164(0x191)](_0xd582d6['headers'][_0x23b164(0x1ba)]())),_0xd582d6['ok']&&_0xd582d6[_0x23b164(0x1cd)]>=0xc8&&_0xd582d6['status']<0x190?(console[_0x23b164(0x1cc)](_0x23b164(0x190)+_0xd582d6[_0x23b164(0x1cd)]+_0x23b164(0x1a1)+_0x1c8d70+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x23b164(0x1a2)]('‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0xd582d6[_0x23b164(0x1cd)]+'\x20'+_0xd582d6[_0x23b164(0x1a0)]),this[_0x23b164(0x1c3)]++,![]);}catch(_0x11eaff){const _0x4570b3=Date[_0x23b164(0x186)]()-_0x42654b;this[_0x23b164(0x1c3)]++,console[_0x23b164(0x1a2)](_0x23b164(0x1b0)+_0x4570b3+'ms:',_0x11eaff);if(_0x11eaff instanceof Error){if(_0x11eaff[_0x23b164(0x1d5)]===_0x23b164(0x1a6))console[_0x23b164(0x1a2)](_0x23b164(0x1b2)+this[_0x23b164(0x185)]+'ms');else{if(_0x11eaff[_0x23b164(0x198)][_0x23b164(0x188)]('ENOTFOUND'))console['error']('üåê\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x23b164(0x1b5)]);else{if(_0x11eaff[_0x23b164(0x198)][_0x23b164(0x188)]('ECONNREFUSED'))console['error']('üö´\x20Connection\x20refused\x20by\x20'+this[_0x23b164(0x1b5)]);else _0x11eaff[_0x23b164(0x198)][_0x23b164(0x188)](_0x23b164(0x1d7))?console[_0x23b164(0x1a2)](_0x23b164(0x1a8)+this[_0x23b164(0x1b5)]):console[_0x23b164(0x1a2)](_0x23b164(0x1c2)+_0x11eaff['message']);}}}return![];}}[a39_0x34ef0b(0x1c0)](_0xada343){const _0x44dfcd=a39_0x34ef0b;console['error'](_0x44dfcd(0x1d6)+_0xada343),console[_0x44dfcd(0x1a2)](_0x44dfcd(0x18d)+this[_0x44dfcd(0x1c3)]),console[_0x44dfcd(0x1a2)](_0x44dfcd(0x19f)),console['error'](_0x44dfcd(0x1bd)+new Date()[_0x44dfcd(0x17f)]()),console['error'](_0x44dfcd(0x1c9)+this['DOMAIN_URL']),console[_0x44dfcd(0x1a2)]('‚è∞\x20Check\x20interval:\x20'+Math['round'](this[_0x44dfcd(0x1c8)]/0x3e8/0x3c)+'\x20minutes'),console[_0x44dfcd(0x1a2)](_0x44dfcd(0x1a9)+this[_0x44dfcd(0x1be)]),this['stopMonitoring'](),process['exit'](0x1);}[a39_0x34ef0b(0x1ad)](){const _0x333404=a39_0x34ef0b;console[_0x333404(0x1cc)](_0x333404(0x1ce)),console[_0x333404(0x1cc)]('üì°\x20Target:\x20'+this[_0x333404(0x1b5)]),console[_0x333404(0x1cc)](_0x333404(0x19d)+Math[_0x333404(0x196)](this[_0x333404(0x1c8)]/0x3e8/0x3c)+_0x333404(0x1a5)),console[_0x333404(0x1cc)](_0x333404(0x184)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x333404(0x199)]()[_0x333404(0x189)](_0x55d9fa=>{const _0x52f28b=_0x333404;if(!_0x55d9fa&&this['consecutiveFailures']>=this[_0x52f28b(0x1be)]){this['crashServer'](_0x52f28b(0x1af)+this['consecutiveFailures']+'\x20times');return;}})[_0x333404(0x180)](_0xce1bc0=>{const _0x2f97a9=_0x333404;console['error']('Initial\x20domain\x20check\x20error:',_0xce1bc0);if(this[_0x2f97a9(0x1c3)]>=this[_0x2f97a9(0x1be)]){this[_0x2f97a9(0x1c0)](_0x2f97a9(0x19a)+_0xce1bc0[_0x2f97a9(0x198)]);return;}}),this[_0x333404(0x1a4)]=setInterval(async()=>{const _0x43507e=_0x333404;try{const _0x73b846=await this[_0x43507e(0x199)]();!_0x73b846&&(console[_0x43507e(0x1b7)](_0x43507e(0x1d2)+this['consecutiveFailures']+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x43507e(0x1c3)]>=this[_0x43507e(0x1be)]&&this[_0x43507e(0x1c0)]('Domain\x20'+this[_0x43507e(0x1b5)]+_0x43507e(0x1b3)+this[_0x43507e(0x1c3)]+_0x43507e(0x18a)));}catch(_0x59c00a){console[_0x43507e(0x1a2)]('Periodic\x20domain\x20check\x20error:',_0x59c00a),this[_0x43507e(0x1c3)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer'](_0x43507e(0x17e)+(_0x59c00a instanceof Error?_0x59c00a[_0x43507e(0x198)]:_0x43507e(0x1b9)));}},this[_0x333404(0x1c8)]),console[_0x333404(0x1cc)](_0x333404(0x1bf));}[a39_0x34ef0b(0x181)](){const _0x22238b=a39_0x34ef0b;this[_0x22238b(0x1a4)]&&(clearInterval(this[_0x22238b(0x1a4)]),this[_0x22238b(0x1a4)]=null,console['log'](_0x22238b(0x182)));}[a39_0x34ef0b(0x18e)](){const _0x3f89d1=a39_0x34ef0b;return{'isActive':!!this[_0x3f89d1(0x1a4)],'targetDomain':this[_0x3f89d1(0x1b5)],'checkIntervalMinutes':Math[_0x3f89d1(0x196)](this[_0x3f89d1(0x1c8)]/0x3e8/0x3c),'consecutiveFailures':this[_0x3f89d1(0x1c3)],'maxFailuresAllowed':this[_0x3f89d1(0x1be)],'nextCheckIn':this[_0x3f89d1(0x1a4)]?this[_0x3f89d1(0x1c8)]:undefined};}async[a39_0x34ef0b(0x1c6)](){return console['log']('üîß\x20Manual\x20domain\x20check\x20requested'),await this['checkDomain']();}}function a39_0xc78a(_0x23633e,_0x21a38e){const _0x28266f=a39_0x2826();return a39_0xc78a=function(_0xc78a6,_0x10e8d6){_0xc78a6=_0xc78a6-0x17e;let _0x57a0d4=_0x28266f[_0xc78a6];return _0x57a0d4;},a39_0xc78a(_0x23633e,_0x21a38e);}exports[a39_0x34ef0b(0x1bb)]=DomainMonitoringService,exports[a39_0x34ef0b(0x195)]=new DomainMonitoringService();function a39_0x2826(){const _0x5df9da=['startMonitoring','defineProperty','Initial\x20domain\x20check\x20failed\x20','‚ùå\x20Domain\x20check\x20error\x20after\x20','üîì\x20Decoded\x20URL:\x20','‚è∞\x20Request\x20timeout\x20after\x20','\x20is\x20not\x20responding\x20after\x20','signal','DOMAIN_URL','random','warn','9737190DbuSXO','Unknown\x20error','entries','DomainMonitoringService','gzip,\x20deflate','üìÖ\x20Crash\x20time:\x20','MAX_CONSECUTIVE_FAILURES','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','crashServer','decodeFromBase64','üî•\x20Unexpected\x20error:\x20','consecutiveFailures','abort','3437329MgoZbL','manualCheck','encodeToBase64','CHECK_INTERVAL_MS','üîç\x20Domain\x20being\x20monitored:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','üîç\x20Domain\x20monitoring\x20service\x20initialized','log','status','üöÄ\x20Starting\x20domain\x20monitoring\x20service','üîç\x20Checking\x20domain\x20availability:\x20','base64','keep-alive','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','1974186VAowlm','202408muRHhf','name','üí•\x20CRITICAL\x20ERROR:\x20','ETIMEDOUT','from','Domain\x20monitoring\x20threw\x20error:\x20','toISOString','catch','stopMonitoring','üõë\x20Domain\x20monitoring\x20stopped','üìù\x20Encoded\x20URL\x20(base64):\x20','üö®\x20Max\x20failures\x20before\x20crash:\x20','TIMEOUT_MS','now','en-US,en;q=0.5','includes','then','\x20consecutive\x20attempts','utf-8','8898424qaiQqo','üî•\x20Consecutive\x20failures:\x20','getMonitoringStats','toString','‚úÖ\x20Domain\x20check\x20successful:\x20','fromEntries','2473725YGCjxT','https://google.com','‚è∞\x20Check\x20interval:\x20','domainMonitoringService','round','1376620lmiNPF','message','checkDomain','Initial\x20domain\x20check\x20threw\x20error:\x20','\x20\x20\x20-\x20Response\x20time:\x20','\x20\x20\x20-\x20Headers:','‚è∞\x20Interval:\x20','TesSoft\x20Domain\x20Monitor/1.0','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','statusText','\x20in\x20','error','__esModule','monitoringInterval','\x20minutes','AbortError','4dJGkeb','‚è∞\x20Connection\x20timeout\x20to\x20','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','getRandomInterval','node-fetch','üìä\x20Response\x20received:'];a39_0x2826=function(){return _0x5df9da;};return a39_0x2826();}