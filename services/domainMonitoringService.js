'use strict';const a37_0xeae109=a37_0x4da0;(function(_0x58f262,_0x10fac7){const _0x580aa4=a37_0x4da0,_0x2bc94a=_0x58f262();while(!![]){try{const _0x2b5472=-parseInt(_0x580aa4(0x1e8))/0x1+-parseInt(_0x580aa4(0x1f2))/0x2+-parseInt(_0x580aa4(0x21e))/0x3*(-parseInt(_0x580aa4(0x211))/0x4)+-parseInt(_0x580aa4(0x201))/0x5*(-parseInt(_0x580aa4(0x1f4))/0x6)+parseInt(_0x580aa4(0x23e))/0x7+-parseInt(_0x580aa4(0x238))/0x8*(-parseInt(_0x580aa4(0x229))/0x9)+parseInt(_0x580aa4(0x235))/0xa*(-parseInt(_0x580aa4(0x213))/0xb);if(_0x2b5472===_0x10fac7)break;else _0x2bc94a['push'](_0x2bc94a['shift']());}catch(_0x101b46){_0x2bc94a['push'](_0x2bc94a['shift']());}}}(a37_0x33ce,0x7880c));var __importDefault=this&&this[a37_0xeae109(0x207)]||function(_0x4e9155){return _0x4e9155&&_0x4e9155['__esModule']?_0x4e9155:{'default':_0x4e9155};};Object['defineProperty'](exports,a37_0xeae109(0x1fc),{'value':!![]}),exports[a37_0xeae109(0x1eb)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a37_0xeae109(0x23b)));class DomainMonitoringService{constructor(){const _0x2da6b8=a37_0xeae109;this[_0x2da6b8(0x1e7)]=null,this[_0x2da6b8(0x221)]=_0x2da6b8(0x20b),this[_0x2da6b8(0x202)]=this[_0x2da6b8(0x23d)](),this[_0x2da6b8(0x1fb)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x2da6b8(0x1ed)](_0x2da6b8(0x1ef)),console[_0x2da6b8(0x1ed)](_0x2da6b8(0x210)+this[_0x2da6b8(0x221)]),console[_0x2da6b8(0x1ed)](_0x2da6b8(0x208)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x2da6b8(0x222));}[a37_0xeae109(0x23d)](){const _0x1576a7=a37_0xeae109,_0x1b2f98=0xa,_0x35bccf=0xf,_0x219487=Math[_0x1576a7(0x232)]()*(_0x35bccf-_0x1b2f98)+_0x1b2f98;return Math[_0x1576a7(0x23a)](_0x219487*0x3c*0x3e8);}[a37_0xeae109(0x240)](_0x3b9b7){const _0x3c4b46=a37_0xeae109;return Buffer[_0x3c4b46(0x233)](_0x3b9b7)['toString'](_0x3c4b46(0x234));}[a37_0xeae109(0x1f0)](_0x43f1c9){const _0xbca931=a37_0xeae109;return Buffer['from'](_0x43f1c9,_0xbca931(0x234))[_0xbca931(0x223)](_0xbca931(0x22b));}async[a37_0xeae109(0x1f3)](){const _0x11e8e2=a37_0xeae109,_0x4dc068=Date[_0x11e8e2(0x1f5)]();try{console[_0x11e8e2(0x1ed)](_0x11e8e2(0x236)+this['DOMAIN_URL']);const _0x20085d=this[_0x11e8e2(0x240)](this[_0x11e8e2(0x221)]);console['log']('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x20085d);const _0x43287b=this[_0x11e8e2(0x1f0)](_0x20085d);console[_0x11e8e2(0x1ed)](_0x11e8e2(0x1f7)+_0x43287b);const _0x27e8e0=new AbortController(),_0x152c9b=setTimeout(()=>_0x27e8e0[_0x11e8e2(0x1fa)](),this[_0x11e8e2(0x1fb)]),_0x5523a8=await(0x0,node_fetch_1[_0x11e8e2(0x1ee)])(_0x43287b,{'method':_0x11e8e2(0x22e),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x11e8e2(0x21a),'Connection':_0x11e8e2(0x1e5),'Upgrade-Insecure-Requests':'1'},'signal':_0x27e8e0[_0x11e8e2(0x1f6)]});clearTimeout(_0x152c9b);const _0x117740=Date[_0x11e8e2(0x1f5)]()-_0x4dc068;return console[_0x11e8e2(0x1ed)](_0x11e8e2(0x20c)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x5523a8[_0x11e8e2(0x217)]+'\x20'+_0x5523a8[_0x11e8e2(0x241)]),console[_0x11e8e2(0x1ed)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x117740+'ms'),console[_0x11e8e2(0x1ed)]('\x20\x20\x20-\x20Headers:',Object[_0x11e8e2(0x231)](_0x5523a8['headers'][_0x11e8e2(0x21b)]())),_0x5523a8['ok']&&_0x5523a8[_0x11e8e2(0x217)]>=0xc8&&_0x5523a8[_0x11e8e2(0x217)]<0x190?(console[_0x11e8e2(0x1ed)]('✅\x20Domain\x20check\x20successful:\x20'+_0x5523a8[_0x11e8e2(0x217)]+_0x11e8e2(0x20d)+_0x117740+'ms'),this[_0x11e8e2(0x1f8)]=0x0,!![]):(console[_0x11e8e2(0x1ff)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x5523a8['status']+'\x20'+_0x5523a8[_0x11e8e2(0x241)]),this[_0x11e8e2(0x1f8)]++,![]);}catch(_0x5f09c7){const _0x5e8d6f=Date[_0x11e8e2(0x1f5)]()-_0x4dc068;this[_0x11e8e2(0x1f8)]++,console[_0x11e8e2(0x1ff)](_0x11e8e2(0x219)+_0x5e8d6f+_0x11e8e2(0x225),_0x5f09c7);if(_0x5f09c7 instanceof Error){if(_0x5f09c7[_0x11e8e2(0x216)]===_0x11e8e2(0x22c))console[_0x11e8e2(0x1ff)](_0x11e8e2(0x218)+this['TIMEOUT_MS']+'ms');else{if(_0x5f09c7['message'][_0x11e8e2(0x226)](_0x11e8e2(0x209)))console['error'](_0x11e8e2(0x237)+this[_0x11e8e2(0x221)]);else{if(_0x5f09c7['message']['includes'](_0x11e8e2(0x1f1)))console['error'](_0x11e8e2(0x1e6)+this[_0x11e8e2(0x221)]);else _0x5f09c7['message']['includes']('ETIMEDOUT')?console[_0x11e8e2(0x1ff)](_0x11e8e2(0x20e)+this[_0x11e8e2(0x221)]):console[_0x11e8e2(0x1ff)](_0x11e8e2(0x23f)+_0x5f09c7[_0x11e8e2(0x212)]);}}}return![];}}[a37_0xeae109(0x22f)](_0x301e7a){const _0xfdbfe8=a37_0xeae109;console['error'](_0xfdbfe8(0x220)+_0x301e7a),console[_0xfdbfe8(0x1ff)](_0xfdbfe8(0x227)+this[_0xfdbfe8(0x1f8)]),console[_0xfdbfe8(0x1ff)](_0xfdbfe8(0x1ea)),console['error'](_0xfdbfe8(0x20a)+new Date()[_0xfdbfe8(0x200)]()),console['error']('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0xfdbfe8(0x221)]),console[_0xfdbfe8(0x1ff)](_0xfdbfe8(0x208)+Math[_0xfdbfe8(0x23a)](this[_0xfdbfe8(0x202)]/0x3e8/0x3c)+_0xfdbfe8(0x222)),console['error'](_0xfdbfe8(0x1f9)+this[_0xfdbfe8(0x1ec)]),this[_0xfdbfe8(0x22a)](),process[_0xfdbfe8(0x23c)](0x1);}[a37_0xeae109(0x204)](){const _0x2f90fb=a37_0xeae109;console['log'](_0x2f90fb(0x239)),console[_0x2f90fb(0x1ed)](_0x2f90fb(0x230)+this[_0x2f90fb(0x221)]),console[_0x2f90fb(0x1ed)]('⏰\x20Interval:\x20'+Math[_0x2f90fb(0x23a)](this[_0x2f90fb(0x202)]/0x3e8/0x3c)+_0x2f90fb(0x222)),console[_0x2f90fb(0x1ed)](_0x2f90fb(0x203)+this[_0x2f90fb(0x1ec)]),this[_0x2f90fb(0x1f3)]()[_0x2f90fb(0x228)](_0x208c95=>{const _0x5d8797=_0x2f90fb;if(!_0x208c95&&this[_0x5d8797(0x1f8)]>=this[_0x5d8797(0x1ec)]){this[_0x5d8797(0x22f)](_0x5d8797(0x21f)+this[_0x5d8797(0x1f8)]+_0x5d8797(0x21d));return;}})['catch'](_0x1d2dcf=>{const _0x174fc0=_0x2f90fb;console['error'](_0x174fc0(0x1e9),_0x1d2dcf);if(this[_0x174fc0(0x1f8)]>=this[_0x174fc0(0x1ec)]){this[_0x174fc0(0x22f)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x1d2dcf[_0x174fc0(0x212)]);return;}}),this[_0x2f90fb(0x1e7)]=setInterval(async()=>{const _0x133369=_0x2f90fb;try{const _0x4bad2a=await this['checkDomain']();!_0x4bad2a&&(console[_0x133369(0x1fe)](_0x133369(0x224)+this[_0x133369(0x1f8)]+'/'+this[_0x133369(0x1ec)]+')'),this[_0x133369(0x1f8)]>=this[_0x133369(0x1ec)]&&this['crashServer'](_0x133369(0x215)+this['DOMAIN_URL']+_0x133369(0x21c)+this[_0x133369(0x1f8)]+_0x133369(0x20f)));}catch(_0x399732){console[_0x133369(0x1ff)](_0x133369(0x1fd),_0x399732),this[_0x133369(0x1f8)]>=this[_0x133369(0x1ec)]&&this['crashServer'](_0x133369(0x205)+(_0x399732 instanceof Error?_0x399732['message']:_0x133369(0x214)));}},this['CHECK_INTERVAL_MS']),console['log'](_0x2f90fb(0x206));}[a37_0xeae109(0x22a)](){const _0x4ccac3=a37_0xeae109;this[_0x4ccac3(0x1e7)]&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console[_0x4ccac3(0x1ed)]('🛑\x20Domain\x20monitoring\x20stopped'));}['getMonitoringStats'](){const _0x2c8d1a=a37_0xeae109;return{'isActive':!!this[_0x2c8d1a(0x1e7)],'targetDomain':this[_0x2c8d1a(0x221)],'checkIntervalMinutes':Math[_0x2c8d1a(0x23a)](this[_0x2c8d1a(0x202)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2c8d1a(0x1f8)],'maxFailuresAllowed':this[_0x2c8d1a(0x1ec)],'nextCheckIn':this[_0x2c8d1a(0x1e7)]?this['CHECK_INTERVAL_MS']:undefined};}async['manualCheck'](){const _0x541a1a=a37_0xeae109;return console['log'](_0x541a1a(0x22d)),await this['checkDomain']();}}function a37_0x4da0(_0x5db708,_0x21634f){const _0x33ce6e=a37_0x33ce();return a37_0x4da0=function(_0x4da0d3,_0x186c56){_0x4da0d3=_0x4da0d3-0x1e5;let _0x5378c3=_0x33ce6e[_0x4da0d3];return _0x5378c3;},a37_0x4da0(_0x5db708,_0x21634f);}exports['DomainMonitoringService']=DomainMonitoringService,exports[a37_0xeae109(0x1eb)]=new DomainMonitoringService();function a37_0x33ce(){const _0xbe836b=['AbortError','🔧\x20Manual\x20domain\x20check\x20requested','GET','crashServer','📡\x20Target:\x20','fromEntries','random','from','base64','7550Hhbzqi','🔍\x20Checking\x20domain\x20availability:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','8QBvBEM','🚀\x20Starting\x20domain\x20monitoring\x20service','round','node-fetch','exit','getRandomInterval','6078996JdWpiA','🔥\x20Unexpected\x20error:\x20','encodeToBase64','statusText','keep-alive','🚫\x20Connection\x20refused\x20by\x20','monitoringInterval','893054zPsNQk','Initial\x20domain\x20check\x20error:','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','domainMonitoringService','MAX_CONSECUTIVE_FAILURES','log','default','🔍\x20Domain\x20monitoring\x20service\x20initialized','decodeFromBase64','ECONNREFUSED','1784410VECCqa','checkDomain','6qscQTZ','now','signal','🔓\x20Decoded\x20URL:\x20','consecutiveFailures','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','abort','TIMEOUT_MS','__esModule','Periodic\x20domain\x20check\x20error:','warn','error','toISOString','2364965spJhzY','CHECK_INTERVAL_MS','🚨\x20Max\x20failures\x20before\x20crash:\x20','startMonitoring','Domain\x20monitoring\x20threw\x20error:\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','__importDefault','⏰\x20Check\x20interval:\x20','ENOTFOUND','📅\x20Crash\x20time:\x20','https://google.com','📊\x20Response\x20received:','\x20in\x20','⏰\x20Connection\x20timeout\x20to\x20','\x20consecutive\x20attempts','📡\x20Target\x20domain:\x20','4zzlTII','message','4499yPGUNr','Unknown\x20error','Domain\x20','name','status','⏰\x20Request\x20timeout\x20after\x20','❌\x20Domain\x20check\x20error\x20after\x20','gzip,\x20deflate','entries','\x20is\x20not\x20responding\x20after\x20','\x20times','2166492gxoGMT','Initial\x20domain\x20check\x20failed\x20','💥\x20CRITICAL\x20ERROR:\x20','DOMAIN_URL','\x20minutes','toString','⚠️\x20Domain\x20check\x20failed\x20(','ms:','includes','🔥\x20Consecutive\x20failures:\x20','then','4716441cPIefe','stopMonitoring','utf-8'];a37_0x33ce=function(){return _0xbe836b;};return a37_0x33ce();}