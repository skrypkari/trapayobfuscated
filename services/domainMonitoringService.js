'use strict';const a40_0x3f09de=a40_0x597d;(function(_0x6435c0,_0x496843){const _0x58d52d=a40_0x597d,_0x16f130=_0x6435c0();while(!![]){try{const _0x4160c5=-parseInt(_0x58d52d(0xa0))/0x1*(-parseInt(_0x58d52d(0x80))/0x2)+parseInt(_0x58d52d(0x9e))/0x3*(-parseInt(_0x58d52d(0xb0))/0x4)+parseInt(_0x58d52d(0x8f))/0x5*(-parseInt(_0x58d52d(0x97))/0x6)+-parseInt(_0x58d52d(0x81))/0x7+parseInt(_0x58d52d(0xab))/0x8+parseInt(_0x58d52d(0xd2))/0x9*(-parseInt(_0x58d52d(0x77))/0xa)+parseInt(_0x58d52d(0xb5))/0xb*(parseInt(_0x58d52d(0xc1))/0xc);if(_0x4160c5===_0x496843)break;else _0x16f130['push'](_0x16f130['shift']());}catch(_0x520b35){_0x16f130['push'](_0x16f130['shift']());}}}(a40_0x4abc,0x23f5d));var __importDefault=this&&this[a40_0x3f09de(0x85)]||function(_0x146fde){return _0x146fde&&_0x146fde['__esModule']?_0x146fde:{'default':_0x146fde};};function a40_0x4abc(){const _0x10196f=['status','1807173KdZiFx','GET','DomainMonitoringService','10cDHHKR','consecutiveFailures','\x20\x20\x20-\x20Headers:','__esModule','\x20times','TesSoft\x20Domain\x20Monitor/1.0','\x20\x20\x20-\x20Response\x20time:\x20','ETIMEDOUT','headers','2nygmUm','1074640gVtoRs','🔍\x20Domain\x20being\x20monitored:\x20','ms:','DOMAIN_URL','__importDefault','catch','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','stopMonitoring','🔥\x20Consecutive\x20failures:\x20','encodeToBase64','💥\x20CRITICAL\x20ERROR:\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','gzip,\x20deflate','TIMEOUT_MS','21815yWRzrj','📡\x20Target\x20domain:\x20','message','now','monitoringInterval','defineProperty','📅\x20Crash\x20time:\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','42BnaNIl','warn','keep-alive','✅\x20Domain\x20check\x20successful:\x20','from','\x20is\x20not\x20responding\x20after\x20','getMonitoringStats','8661TDLxYf','🚫\x20Connection\x20refused\x20by\x20','12094wepaEe','🚨\x20Max\x20failures\x20before\x20crash:\x20','Periodic\x20domain\x20check\x20error:','error','Initial\x20domain\x20check\x20threw\x20error:\x20','\x20\x20\x20-\x20Status:\x20','Unknown\x20error','\x20minutes','🛑\x20Domain\x20monitoring\x20stopped','decodeFromBase64','name','2251512DqCcvn','🔍\x20Checking\x20domain\x20availability:\x20','statusText','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','exit','356bXHouQ','domainMonitoringService','❌\x20Domain\x20check\x20error\x20after\x20','CHECK_INTERVAL_MS','📝\x20Encoded\x20URL\x20(base64):\x20','495561EMHxWj','log','toISOString','node-fetch','default','\x20consecutive\x20attempts','getRandomInterval','🔧\x20Manual\x20domain\x20check\x20requested','\x20in\x20','⏰\x20Check\x20interval:\x20','includes','signal','132bOGqTZ','crashServer','🔥\x20Unexpected\x20error:\x20','MAX_CONSECUTIVE_FAILURES','en-US,en;q=0.5','https://google.com','🔓\x20Decoded\x20URL:\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','base64','AbortError','round','toString','startMonitoring','entries','checkDomain','Domain\x20'];a40_0x4abc=function(){return _0x10196f;};return a40_0x4abc();}Object[a40_0x3f09de(0x94)](exports,a40_0x3f09de(0x7a),{'value':!![]}),exports[a40_0x3f09de(0xb1)]=exports[a40_0x3f09de(0xd4)]=void 0x0;function a40_0x597d(_0x3ea0c7,_0x1e68ba){const _0x4abc3f=a40_0x4abc();return a40_0x597d=function(_0x597d06,_0x4fe2cb){_0x597d06=_0x597d06-0x77;let _0x30c430=_0x4abc3f[_0x597d06];return _0x30c430;},a40_0x597d(_0x3ea0c7,_0x1e68ba);}const node_fetch_1=__importDefault(require(a40_0x3f09de(0xb8)));class DomainMonitoringService{constructor(){const _0x3f8f47=a40_0x3f09de;this[_0x3f8f47(0x93)]=null,this[_0x3f8f47(0x84)]=_0x3f8f47(0xc6),this[_0x3f8f47(0xb3)]=this[_0x3f8f47(0xbb)](),this[_0x3f8f47(0x8e)]=0x7530,this[_0x3f8f47(0x78)]=0x0,this[_0x3f8f47(0xc4)]=0x2,console[_0x3f8f47(0xb6)](_0x3f8f47(0xc8)),console[_0x3f8f47(0xb6)](_0x3f8f47(0x90)+this['DOMAIN_URL']),console[_0x3f8f47(0xb6)](_0x3f8f47(0xbe)+Math[_0x3f8f47(0xcb)](this[_0x3f8f47(0xb3)]/0x3e8/0x3c)+_0x3f8f47(0xa7));}[a40_0x3f09de(0xbb)](){const _0x14d8bf=a40_0x3f09de,_0x3317e3=0xa,_0xaf7649=0xf,_0x458a22=Math['random']()*(_0xaf7649-_0x3317e3)+_0x3317e3;return Math[_0x14d8bf(0xcb)](_0x458a22*0x3c*0x3e8);}[a40_0x3f09de(0x8a)](_0x4c6b06){const _0x5ee8ea=a40_0x3f09de;return Buffer['from'](_0x4c6b06)['toString'](_0x5ee8ea(0xc9));}['decodeFromBase64'](_0x278d7c){const _0x4a1a28=a40_0x3f09de;return Buffer[_0x4a1a28(0x9b)](_0x278d7c,'base64')[_0x4a1a28(0xcc)]('utf-8');}async[a40_0x3f09de(0xcf)](){const _0x1097a7=a40_0x3f09de,_0x51a2bf=Date['now']();try{console['log'](_0x1097a7(0xac)+this['DOMAIN_URL']);const _0x202a3c=this[_0x1097a7(0x8a)](this['DOMAIN_URL']);console[_0x1097a7(0xb6)](_0x1097a7(0xb4)+_0x202a3c);const _0x128af5=this[_0x1097a7(0xa9)](_0x202a3c);console['log'](_0x1097a7(0xc7)+_0x128af5);const _0x49c34a=new AbortController(),_0x4dd332=setTimeout(()=>_0x49c34a['abort'](),this[_0x1097a7(0x8e)]),_0x48b37e=await(0x0,node_fetch_1[_0x1097a7(0xb9)])(_0x128af5,{'method':_0x1097a7(0xd3),'headers':{'User-Agent':_0x1097a7(0x7c),'Accept':_0x1097a7(0xae),'Accept-Language':_0x1097a7(0xc5),'Accept-Encoding':_0x1097a7(0x8d),'Connection':_0x1097a7(0x99),'Upgrade-Insecure-Requests':'1'},'signal':_0x49c34a[_0x1097a7(0xc0)]});clearTimeout(_0x4dd332);const _0x44e56b=Date[_0x1097a7(0x92)]()-_0x51a2bf;return console[_0x1097a7(0xb6)]('📊\x20Response\x20received:'),console[_0x1097a7(0xb6)](_0x1097a7(0xa5)+_0x48b37e[_0x1097a7(0xd1)]+'\x20'+_0x48b37e['statusText']),console['log'](_0x1097a7(0x7d)+_0x44e56b+'ms'),console[_0x1097a7(0xb6)](_0x1097a7(0x79),Object['fromEntries'](_0x48b37e[_0x1097a7(0x7f)][_0x1097a7(0xce)]())),_0x48b37e['ok']&&_0x48b37e[_0x1097a7(0xd1)]>=0xc8&&_0x48b37e[_0x1097a7(0xd1)]<0x190?(console[_0x1097a7(0xb6)](_0x1097a7(0x9a)+_0x48b37e[_0x1097a7(0xd1)]+_0x1097a7(0xbd)+_0x44e56b+'ms'),this[_0x1097a7(0x78)]=0x0,!![]):(console[_0x1097a7(0xa3)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x48b37e[_0x1097a7(0xd1)]+'\x20'+_0x48b37e[_0x1097a7(0xad)]),this[_0x1097a7(0x78)]++,![]);}catch(_0x8e2e9a){const _0x36cb6d=Date[_0x1097a7(0x92)]()-_0x51a2bf;this['consecutiveFailures']++,console[_0x1097a7(0xa3)](_0x1097a7(0xb2)+_0x36cb6d+_0x1097a7(0x83),_0x8e2e9a);if(_0x8e2e9a instanceof Error){if(_0x8e2e9a[_0x1097a7(0xaa)]===_0x1097a7(0xca))console['error']('⏰\x20Request\x20timeout\x20after\x20'+this[_0x1097a7(0x8e)]+'ms');else{if(_0x8e2e9a[_0x1097a7(0x91)][_0x1097a7(0xbf)]('ENOTFOUND'))console[_0x1097a7(0xa3)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x1097a7(0x84)]);else{if(_0x8e2e9a[_0x1097a7(0x91)][_0x1097a7(0xbf)]('ECONNREFUSED'))console['error'](_0x1097a7(0x9f)+this['DOMAIN_URL']);else _0x8e2e9a['message'][_0x1097a7(0xbf)](_0x1097a7(0x7e))?console[_0x1097a7(0xa3)]('⏰\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x1097a7(0xa3)](_0x1097a7(0xc3)+_0x8e2e9a[_0x1097a7(0x91)]);}}}return![];}}[a40_0x3f09de(0xc2)](_0x58747c){const _0xafbbe6=a40_0x3f09de;console[_0xafbbe6(0xa3)](_0xafbbe6(0x8b)+_0x58747c),console[_0xafbbe6(0xa3)](_0xafbbe6(0x89)+this[_0xafbbe6(0x78)]),console[_0xafbbe6(0xa3)](_0xafbbe6(0x96)),console[_0xafbbe6(0xa3)](_0xafbbe6(0x95)+new Date()[_0xafbbe6(0xb7)]()),console[_0xafbbe6(0xa3)](_0xafbbe6(0x82)+this[_0xafbbe6(0x84)]),console[_0xafbbe6(0xa3)]('⏰\x20Check\x20interval:\x20'+Math[_0xafbbe6(0xcb)](this[_0xafbbe6(0xb3)]/0x3e8/0x3c)+_0xafbbe6(0xa7)),console[_0xafbbe6(0xa3)](_0xafbbe6(0x87)+this[_0xafbbe6(0xc4)]),this[_0xafbbe6(0x88)](),process[_0xafbbe6(0xaf)](0x1);}[a40_0x3f09de(0xcd)](){const _0x1b0c9a=a40_0x3f09de;console[_0x1b0c9a(0xb6)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x1b0c9a(0xb6)]('📡\x20Target:\x20'+this[_0x1b0c9a(0x84)]),console[_0x1b0c9a(0xb6)]('⏰\x20Interval:\x20'+Math[_0x1b0c9a(0xcb)](this[_0x1b0c9a(0xb3)]/0x3e8/0x3c)+_0x1b0c9a(0xa7)),console['log'](_0x1b0c9a(0xa1)+this[_0x1b0c9a(0xc4)]),this[_0x1b0c9a(0xcf)]()['then'](_0x3f6d68=>{const _0x306502=_0x1b0c9a;if(!_0x3f6d68&&this[_0x306502(0x78)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x306502(0xc2)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x306502(0x78)]+_0x306502(0x7b));return;}})[_0x1b0c9a(0x86)](_0x3efe22=>{const _0x2925fa=_0x1b0c9a;console['error']('Initial\x20domain\x20check\x20error:',_0x3efe22);if(this[_0x2925fa(0x78)]>=this[_0x2925fa(0xc4)]){this[_0x2925fa(0xc2)](_0x2925fa(0xa4)+_0x3efe22[_0x2925fa(0x91)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x1ecd55=_0x1b0c9a;try{const _0x32b62a=await this[_0x1ecd55(0xcf)]();!_0x32b62a&&(console[_0x1ecd55(0x98)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x1ecd55(0x78)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x1ecd55(0x78)]>=this[_0x1ecd55(0xc4)]&&this['crashServer'](_0x1ecd55(0xd0)+this[_0x1ecd55(0x84)]+_0x1ecd55(0x9c)+this[_0x1ecd55(0x78)]+_0x1ecd55(0xba)));}catch(_0x2cd710){console[_0x1ecd55(0xa3)](_0x1ecd55(0xa2),_0x2cd710),this['consecutiveFailures']>=this[_0x1ecd55(0xc4)]&&this[_0x1ecd55(0xc2)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x2cd710 instanceof Error?_0x2cd710[_0x1ecd55(0x91)]:_0x1ecd55(0xa6)));}},this[_0x1b0c9a(0xb3)]),console['log'](_0x1b0c9a(0x8c));}[a40_0x3f09de(0x88)](){const _0x4e5def=a40_0x3f09de;this[_0x4e5def(0x93)]&&(clearInterval(this[_0x4e5def(0x93)]),this[_0x4e5def(0x93)]=null,console[_0x4e5def(0xb6)](_0x4e5def(0xa8)));}[a40_0x3f09de(0x9d)](){const _0x467d06=a40_0x3f09de;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x467d06(0x84)],'checkIntervalMinutes':Math[_0x467d06(0xcb)](this[_0x467d06(0xb3)]/0x3e8/0x3c),'consecutiveFailures':this[_0x467d06(0x78)],'maxFailuresAllowed':this[_0x467d06(0xc4)],'nextCheckIn':this[_0x467d06(0x93)]?this[_0x467d06(0xb3)]:undefined};}async['manualCheck'](){const _0x23db46=a40_0x3f09de;return console[_0x23db46(0xb6)](_0x23db46(0xbc)),await this[_0x23db46(0xcf)]();}}exports[a40_0x3f09de(0xd4)]=DomainMonitoringService,exports[a40_0x3f09de(0xb1)]=new DomainMonitoringService();