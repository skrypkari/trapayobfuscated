'use strict';const a39_0x4b367d=a39_0x1171;(function(_0x161fa2,_0x367361){const _0x449afa=a39_0x1171,_0x4d6093=_0x161fa2();while(!![]){try{const _0x3bc601=parseInt(_0x449afa(0x14f))/0x1*(-parseInt(_0x449afa(0x16e))/0x2)+parseInt(_0x449afa(0x156))/0x3+-parseInt(_0x449afa(0x13a))/0x4+-parseInt(_0x449afa(0x172))/0x5+parseInt(_0x449afa(0x189))/0x6*(parseInt(_0x449afa(0x175))/0x7)+parseInt(_0x449afa(0x180))/0x8*(-parseInt(_0x449afa(0x162))/0x9)+parseInt(_0x449afa(0x184))/0xa;if(_0x3bc601===_0x367361)break;else _0x4d6093['push'](_0x4d6093['shift']());}catch(_0x146689){_0x4d6093['push'](_0x4d6093['shift']());}}}(a39_0x57b2,0x629fd));function a39_0x1171(_0x28aeef,_0x3545bc){const _0x57b21e=a39_0x57b2();return a39_0x1171=function(_0x1171f7,_0x708432){_0x1171f7=_0x1171f7-0x136;let _0x300f4d=_0x57b21e[_0x1171f7];return _0x300f4d;},a39_0x1171(_0x28aeef,_0x3545bc);}var __importDefault=this&&this[a39_0x4b367d(0x168)]||function(_0x57ab49){return _0x57ab49&&_0x57ab49['__esModule']?_0x57ab49:{'default':_0x57ab49};};Object[a39_0x4b367d(0x17f)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x4b367d(0x158)]=void 0x0;function a39_0x57b2(){const _0x41ffda=['entries','CHECK_INTERVAL_MS','1084015WYHIMj','node-fetch','catch','2387PvSBwT','⏰\x20Request\x20timeout\x20after\x20','DOMAIN_URL','checkDomain','abort','🌐\x20DNS\x20resolution\x20failed\x20for\x20','encodeToBase64','📅\x20Crash\x20time:\x20','error','consecutiveFailures','defineProperty','14424gEMLrA','decodeFromBase64','log','GET','10231950mTQnOD','utf-8','🔥\x20Consecutive\x20failures:\x20','Domain\x20','✅\x20Domain\x20check\x20successful:\x20','9546hhGVck','Initial\x20domain\x20check\x20error:','toISOString','crashServer','❌\x20Domain\x20check\x20error\x20after\x20','base64','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','\x20\x20\x20-\x20Response\x20time:\x20','📊\x20Response\x20received:','1399324GfifcI','en-US,en;q=0.5','stopMonitoring','signal','toString','Initial\x20domain\x20check\x20threw\x20error:\x20','TesSoft\x20Domain\x20Monitor/1.0','fromEntries','Initial\x20domain\x20check\x20failed\x20','AbortError','default','monitoringInterval','ms:','\x20in\x20','\x20times','round','ENOTFOUND','keep-alive','getRandomInterval','exit','includes','248AGMgNi','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','📡\x20Target\x20domain:\x20','statusText','🔧\x20Manual\x20domain\x20check\x20requested','MAX_CONSECUTIVE_FAILURES','✅\x20Domain\x20monitoring\x20started\x20successfully','1220424QBMqbK','\x20is\x20not\x20responding\x20after\x20','DomainMonitoringService','https://google.com','domainMonitoringService','🔍\x20Checking\x20domain\x20availability:\x20','TIMEOUT_MS','now','⏰\x20Check\x20interval:\x20','ECONNREFUSED','then','\x20minutes','3933lJDAOj','status','getMonitoringStats','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','⏰\x20Connection\x20timeout\x20to\x20','\x20consecutive\x20attempts','__importDefault','📡\x20Target:\x20','manualCheck','🔥\x20Unexpected\x20error:\x20','message','name','1726JYoisO','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'];a39_0x57b2=function(){return _0x41ffda;};return a39_0x57b2();}const node_fetch_1=__importDefault(require(a39_0x4b367d(0x173)));class DomainMonitoringService{constructor(){const _0x3d89c0=a39_0x4b367d;this[_0x3d89c0(0x145)]=null,this['DOMAIN_URL']=_0x3d89c0(0x159),this[_0x3d89c0(0x171)]=this[_0x3d89c0(0x14c)](),this[_0x3d89c0(0x15c)]=0x7530,this[_0x3d89c0(0x17e)]=0x0,this[_0x3d89c0(0x154)]=0x2,console[_0x3d89c0(0x182)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x3d89c0(0x182)](_0x3d89c0(0x151)+this[_0x3d89c0(0x177)]),console[_0x3d89c0(0x182)](_0x3d89c0(0x15e)+Math[_0x3d89c0(0x149)](this[_0x3d89c0(0x171)]/0x3e8/0x3c)+_0x3d89c0(0x161));}[a39_0x4b367d(0x14c)](){const _0x42fb30=a39_0x4b367d,_0x5585a1=0xa,_0x1d27d5=0xf,_0x3f6900=Math['random']()*(_0x1d27d5-_0x5585a1)+_0x5585a1;return Math[_0x42fb30(0x149)](_0x3f6900*0x3c*0x3e8);}[a39_0x4b367d(0x17b)](_0xc75382){const _0x4a8f00=a39_0x4b367d;return Buffer['from'](_0xc75382)[_0x4a8f00(0x13e)](_0x4a8f00(0x136));}[a39_0x4b367d(0x181)](_0x437b45){const _0x44b743=a39_0x4b367d;return Buffer['from'](_0x437b45,_0x44b743(0x136))['toString'](_0x44b743(0x185));}async[a39_0x4b367d(0x178)](){const _0x1d8917=a39_0x4b367d,_0x4425b2=Date['now']();try{console[_0x1d8917(0x182)](_0x1d8917(0x15b)+this[_0x1d8917(0x177)]);const _0x9cfede=this[_0x1d8917(0x17b)](this[_0x1d8917(0x177)]);console[_0x1d8917(0x182)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x9cfede);const _0x23576a=this[_0x1d8917(0x181)](_0x9cfede);console[_0x1d8917(0x182)]('🔓\x20Decoded\x20URL:\x20'+_0x23576a);const _0x3e94ed=new AbortController(),_0x2d947c=setTimeout(()=>_0x3e94ed[_0x1d8917(0x179)](),this[_0x1d8917(0x15c)]),_0xc96fe8=await(0x0,node_fetch_1[_0x1d8917(0x144)])(_0x23576a,{'method':_0x1d8917(0x183),'headers':{'User-Agent':_0x1d8917(0x140),'Accept':_0x1d8917(0x16f),'Accept-Language':_0x1d8917(0x13b),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x1d8917(0x14b),'Upgrade-Insecure-Requests':'1'},'signal':_0x3e94ed[_0x1d8917(0x13d)]});clearTimeout(_0x2d947c);const _0x4b100c=Date[_0x1d8917(0x15d)]()-_0x4425b2;return console[_0x1d8917(0x182)](_0x1d8917(0x139)),console[_0x1d8917(0x182)]('\x20\x20\x20-\x20Status:\x20'+_0xc96fe8['status']+'\x20'+_0xc96fe8[_0x1d8917(0x152)]),console[_0x1d8917(0x182)](_0x1d8917(0x138)+_0x4b100c+'ms'),console[_0x1d8917(0x182)]('\x20\x20\x20-\x20Headers:',Object[_0x1d8917(0x141)](_0xc96fe8['headers'][_0x1d8917(0x170)]())),_0xc96fe8['ok']&&_0xc96fe8[_0x1d8917(0x163)]>=0xc8&&_0xc96fe8['status']<0x190?(console[_0x1d8917(0x182)](_0x1d8917(0x188)+_0xc96fe8[_0x1d8917(0x163)]+_0x1d8917(0x147)+_0x4b100c+'ms'),this[_0x1d8917(0x17e)]=0x0,!![]):(console['error'](_0x1d8917(0x165)+_0xc96fe8[_0x1d8917(0x163)]+'\x20'+_0xc96fe8[_0x1d8917(0x152)]),this[_0x1d8917(0x17e)]++,![]);}catch(_0x11a02a){const _0x27be8b=Date[_0x1d8917(0x15d)]()-_0x4425b2;this['consecutiveFailures']++,console[_0x1d8917(0x17d)](_0x1d8917(0x18d)+_0x27be8b+_0x1d8917(0x146),_0x11a02a);if(_0x11a02a instanceof Error){if(_0x11a02a[_0x1d8917(0x16d)]===_0x1d8917(0x143))console[_0x1d8917(0x17d)](_0x1d8917(0x176)+this[_0x1d8917(0x15c)]+'ms');else{if(_0x11a02a[_0x1d8917(0x16c)][_0x1d8917(0x14e)](_0x1d8917(0x14a)))console[_0x1d8917(0x17d)](_0x1d8917(0x17a)+this[_0x1d8917(0x177)]);else{if(_0x11a02a[_0x1d8917(0x16c)][_0x1d8917(0x14e)](_0x1d8917(0x15f)))console[_0x1d8917(0x17d)]('🚫\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x11a02a[_0x1d8917(0x16c)]['includes']('ETIMEDOUT')?console[_0x1d8917(0x17d)](_0x1d8917(0x166)+this[_0x1d8917(0x177)]):console[_0x1d8917(0x17d)](_0x1d8917(0x16b)+_0x11a02a['message']);}}}return![];}}[a39_0x4b367d(0x18c)](_0x540f46){const _0x485aaf=a39_0x4b367d;console[_0x485aaf(0x17d)]('💥\x20CRITICAL\x20ERROR:\x20'+_0x540f46),console[_0x485aaf(0x17d)](_0x485aaf(0x186)+this[_0x485aaf(0x17e)]),console[_0x485aaf(0x17d)](_0x485aaf(0x150)),console[_0x485aaf(0x17d)](_0x485aaf(0x17c)+new Date()[_0x485aaf(0x18b)]()),console['error']('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x485aaf(0x177)]),console[_0x485aaf(0x17d)]('⏰\x20Check\x20interval:\x20'+Math[_0x485aaf(0x149)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x485aaf(0x161)),console[_0x485aaf(0x17d)](_0x485aaf(0x137)+this[_0x485aaf(0x154)]),this[_0x485aaf(0x13c)](),process[_0x485aaf(0x14d)](0x1);}['startMonitoring'](){const _0x10235d=a39_0x4b367d;console['log']('🚀\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x10235d(0x169)+this['DOMAIN_URL']),console[_0x10235d(0x182)]('⏰\x20Interval:\x20'+Math[_0x10235d(0x149)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x10235d(0x161)),console[_0x10235d(0x182)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x10235d(0x154)]),this[_0x10235d(0x178)]()[_0x10235d(0x160)](_0x3e69dd=>{const _0x51d624=_0x10235d;if(!_0x3e69dd&&this[_0x51d624(0x17e)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x51d624(0x18c)](_0x51d624(0x142)+this['consecutiveFailures']+_0x51d624(0x148));return;}})[_0x10235d(0x174)](_0x14a831=>{const _0xd96ee9=_0x10235d;console[_0xd96ee9(0x17d)](_0xd96ee9(0x18a),_0x14a831);if(this[_0xd96ee9(0x17e)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0xd96ee9(0x18c)](_0xd96ee9(0x13f)+_0x14a831[_0xd96ee9(0x16c)]);return;}}),this[_0x10235d(0x145)]=setInterval(async()=>{const _0x88cbba=_0x10235d;try{const _0xad3b49=await this[_0x88cbba(0x178)]();!_0xad3b49&&(console['warn']('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x88cbba(0x17e)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x88cbba(0x17e)]>=this[_0x88cbba(0x154)]&&this['crashServer'](_0x88cbba(0x187)+this[_0x88cbba(0x177)]+_0x88cbba(0x157)+this['consecutiveFailures']+_0x88cbba(0x167)));}catch(_0x3a0a3b){console['error']('Periodic\x20domain\x20check\x20error:',_0x3a0a3b),this['consecutiveFailures']>=this[_0x88cbba(0x154)]&&this[_0x88cbba(0x18c)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x3a0a3b instanceof Error?_0x3a0a3b[_0x88cbba(0x16c)]:'Unknown\x20error'));}},this[_0x10235d(0x171)]),console[_0x10235d(0x182)](_0x10235d(0x155));}['stopMonitoring'](){const _0x5b24d5=a39_0x4b367d;this['monitoringInterval']&&(clearInterval(this[_0x5b24d5(0x145)]),this['monitoringInterval']=null,console[_0x5b24d5(0x182)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0x4b367d(0x164)](){const _0x2bf1a1=a39_0x4b367d;return{'isActive':!!this[_0x2bf1a1(0x145)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x2bf1a1(0x149)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x2bf1a1(0x17e)],'maxFailuresAllowed':this[_0x2bf1a1(0x154)],'nextCheckIn':this[_0x2bf1a1(0x145)]?this[_0x2bf1a1(0x171)]:undefined};}async[a39_0x4b367d(0x16a)](){const _0x3c9529=a39_0x4b367d;return console[_0x3c9529(0x182)](_0x3c9529(0x153)),await this[_0x3c9529(0x178)]();}}exports[a39_0x4b367d(0x158)]=DomainMonitoringService,exports[a39_0x4b367d(0x15a)]=new DomainMonitoringService();