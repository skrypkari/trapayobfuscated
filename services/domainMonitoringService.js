'use strict';function a39_0x5680(_0x170ceb,_0x5a0389){const _0x18e2f8=a39_0x18e2();return a39_0x5680=function(_0x56807,_0x8e3c98){_0x56807=_0x56807-0x1f3;let _0x51885d=_0x18e2f8[_0x56807];return _0x51885d;},a39_0x5680(_0x170ceb,_0x5a0389);}const a39_0x454ac3=a39_0x5680;function a39_0x18e2(){const _0x10f36f=['TesSoft\x20Domain\x20Monitor/1.0','now','\x20consecutive\x20attempts','statusText','exit','1072nBhudH','\x20\x20\x20-\x20Headers:','🔍\x20Domain\x20monitoring\x20service\x20initialized','consecutiveFailures','default','__esModule','🔧\x20Manual\x20domain\x20check\x20requested','✅\x20Domain\x20check\x20successful:\x20','168TDMBjT','crashServer','CHECK_INTERVAL_MS','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','🔓\x20Decoded\x20URL:\x20','\x20\x20\x20-\x20Response\x20time:\x20','Initial\x20domain\x20check\x20error:','\x20\x20\x20-\x20Status:\x20','getMonitoringStats','14814QxvIUi','🚫\x20Connection\x20refused\x20by\x20','1822YMfiif','2077605kAcyIj','MAX_CONSECUTIVE_FAILURES','manualCheck','🚀\x20Starting\x20domain\x20monitoring\x20service','TIMEOUT_MS','🛑\x20Domain\x20monitoring\x20stopped','base64','⏰\x20Interval:\x20','__importDefault','🔍\x20Checking\x20domain\x20availability:\x20','ENOTFOUND','toISOString','ECONNREFUSED','startMonitoring','abort','en-US,en;q=0.5','decodeFromBase64','Periodic\x20domain\x20check\x20error:','warn','\x20in\x20','📅\x20Crash\x20time:\x20','🔍\x20Domain\x20being\x20monitored:\x20','https://google.com','round','encodeToBase64','AbortError','⏰\x20Request\x20timeout\x20after\x20','📝\x20Encoded\x20URL\x20(base64):\x20','headers','checkDomain','log','from','catch','stopMonitoring','⏰\x20Check\x20interval:\x20','1070363kAjxYN','4769958nBDXKp','entries','ms:','includes','error','\x20is\x20not\x20responding\x20after\x20','3876HKVEbg','25286370zcKjVp','Domain\x20','ETIMEDOUT','defineProperty','node-fetch','🔥\x20Unexpected\x20error:\x20','status','⚠️\x20Domain\x20check\x20failed\x20(','monitoringInterval','then','Unknown\x20error','getRandomInterval','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','📡\x20Target\x20domain:\x20','DOMAIN_URL','💥\x20CRITICAL\x20ERROR:\x20','toString','GET','\x20minutes','DomainMonitoringService','✅\x20Domain\x20monitoring\x20started\x20successfully','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','🚨\x20Max\x20failures\x20before\x20crash:\x20','fromEntries','random','message','5936eODwOx','name'];a39_0x18e2=function(){return _0x10f36f;};return a39_0x18e2();}(function(_0x73ee1,_0x430241){const _0x4a1f2f=a39_0x5680,_0x4fd8c5=_0x73ee1();while(!![]){try{const _0x1630d7=parseInt(_0x4a1f2f(0x20b))/0x1*(parseInt(_0x4a1f2f(0x21e))/0x2)+parseInt(_0x4a1f2f(0x213))/0x3*(-parseInt(_0x4a1f2f(0x249))/0x4)+parseInt(_0x4a1f2f(0x21f))/0x5+parseInt(_0x4a1f2f(0x243))/0x6+parseInt(_0x4a1f2f(0x242))/0x7+parseInt(_0x4a1f2f(0x204))/0x8*(parseInt(_0x4a1f2f(0x21c))/0x9)+-parseInt(_0x4a1f2f(0x24a))/0xa;if(_0x1630d7===_0x430241)break;else _0x4fd8c5['push'](_0x4fd8c5['shift']());}catch(_0xf9757){_0x4fd8c5['push'](_0x4fd8c5['shift']());}}}(a39_0x18e2,0xeee0e));var __importDefault=this&&this[a39_0x454ac3(0x227)]||function(_0x242516){const _0x5cc6eb=a39_0x454ac3;return _0x242516&&_0x242516[_0x5cc6eb(0x210)]?_0x242516:{'default':_0x242516};};Object[a39_0x454ac3(0x24d)](exports,a39_0x454ac3(0x210),{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x454ac3(0x1fd)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x454ac3(0x24e)));class DomainMonitoringService{constructor(){const _0x27f74b=a39_0x454ac3;this[_0x27f74b(0x252)]=null,this[_0x27f74b(0x1f8)]=_0x27f74b(0x235),this[_0x27f74b(0x215)]=this[_0x27f74b(0x1f5)](),this[_0x27f74b(0x223)]=0x7530,this[_0x27f74b(0x20e)]=0x0,this[_0x27f74b(0x220)]=0x2,console['log'](_0x27f74b(0x20d)),console['log'](_0x27f74b(0x1f7)+this['DOMAIN_URL']),console['log'](_0x27f74b(0x241)+Math[_0x27f74b(0x236)](this[_0x27f74b(0x215)]/0x3e8/0x3c)+_0x27f74b(0x1fc));}[a39_0x454ac3(0x1f5)](){const _0x4596ea=a39_0x454ac3,_0x32a5df=0xa,_0x34be9f=0xf,_0x5ed560=Math[_0x4596ea(0x202)]()*(_0x34be9f-_0x32a5df)+_0x32a5df;return Math[_0x4596ea(0x236)](_0x5ed560*0x3c*0x3e8);}['encodeToBase64'](_0x5c7e75){const _0x2624f7=a39_0x454ac3;return Buffer[_0x2624f7(0x23e)](_0x5c7e75)[_0x2624f7(0x1fa)](_0x2624f7(0x225));}['decodeFromBase64'](_0x29600e){const _0x38fd69=a39_0x454ac3;return Buffer[_0x38fd69(0x23e)](_0x29600e,_0x38fd69(0x225))[_0x38fd69(0x1fa)]('utf-8');}async[a39_0x454ac3(0x23c)](){const _0x590d29=a39_0x454ac3,_0xce7309=Date[_0x590d29(0x207)]();try{console[_0x590d29(0x23d)](_0x590d29(0x228)+this[_0x590d29(0x1f8)]);const _0x2c0e26=this[_0x590d29(0x237)](this['DOMAIN_URL']);console['log'](_0x590d29(0x23a)+_0x2c0e26);const _0x53b226=this[_0x590d29(0x22f)](_0x2c0e26);console['log'](_0x590d29(0x217)+_0x53b226);const _0x14a57e=new AbortController(),_0x125fb1=setTimeout(()=>_0x14a57e[_0x590d29(0x22d)](),this['TIMEOUT_MS']),_0x17e3a8=await(0x0,node_fetch_1[_0x590d29(0x20f)])(_0x53b226,{'method':_0x590d29(0x1fb),'headers':{'User-Agent':_0x590d29(0x206),'Accept':_0x590d29(0x1ff),'Accept-Language':_0x590d29(0x22e),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x14a57e['signal']});clearTimeout(_0x125fb1);const _0x1721d7=Date['now']()-_0xce7309;return console[_0x590d29(0x23d)]('📊\x20Response\x20received:'),console[_0x590d29(0x23d)](_0x590d29(0x21a)+_0x17e3a8['status']+'\x20'+_0x17e3a8[_0x590d29(0x209)]),console['log'](_0x590d29(0x218)+_0x1721d7+'ms'),console[_0x590d29(0x23d)](_0x590d29(0x20c),Object[_0x590d29(0x201)](_0x17e3a8[_0x590d29(0x23b)][_0x590d29(0x244)]())),_0x17e3a8['ok']&&_0x17e3a8[_0x590d29(0x250)]>=0xc8&&_0x17e3a8[_0x590d29(0x250)]<0x190?(console[_0x590d29(0x23d)](_0x590d29(0x212)+_0x17e3a8[_0x590d29(0x250)]+_0x590d29(0x232)+_0x1721d7+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error'](_0x590d29(0x1f6)+_0x17e3a8['status']+'\x20'+_0x17e3a8['statusText']),this[_0x590d29(0x20e)]++,![]);}catch(_0x4a0c5a){const _0x291eed=Date[_0x590d29(0x207)]()-_0xce7309;this[_0x590d29(0x20e)]++,console[_0x590d29(0x247)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x291eed+_0x590d29(0x245),_0x4a0c5a);if(_0x4a0c5a instanceof Error){if(_0x4a0c5a[_0x590d29(0x205)]===_0x590d29(0x238))console[_0x590d29(0x247)](_0x590d29(0x239)+this[_0x590d29(0x223)]+'ms');else{if(_0x4a0c5a[_0x590d29(0x203)][_0x590d29(0x246)](_0x590d29(0x229)))console[_0x590d29(0x247)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x590d29(0x1f8)]);else{if(_0x4a0c5a[_0x590d29(0x203)]['includes'](_0x590d29(0x22b)))console[_0x590d29(0x247)](_0x590d29(0x21d)+this[_0x590d29(0x1f8)]);else _0x4a0c5a[_0x590d29(0x203)][_0x590d29(0x246)](_0x590d29(0x24c))?console[_0x590d29(0x247)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x590d29(0x1f8)]):console[_0x590d29(0x247)](_0x590d29(0x24f)+_0x4a0c5a[_0x590d29(0x203)]);}}}return![];}}[a39_0x454ac3(0x214)](_0x3caace){const _0x4c9c54=a39_0x454ac3;console[_0x4c9c54(0x247)](_0x4c9c54(0x1f9)+_0x3caace),console[_0x4c9c54(0x247)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x4c9c54(0x20e)]),console[_0x4c9c54(0x247)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x4c9c54(0x247)](_0x4c9c54(0x233)+new Date()[_0x4c9c54(0x22a)]()),console['error'](_0x4c9c54(0x234)+this[_0x4c9c54(0x1f8)]),console[_0x4c9c54(0x247)](_0x4c9c54(0x241)+Math[_0x4c9c54(0x236)](this[_0x4c9c54(0x215)]/0x3e8/0x3c)+_0x4c9c54(0x1fc)),console['error'](_0x4c9c54(0x216)+this[_0x4c9c54(0x220)]),this[_0x4c9c54(0x240)](),process[_0x4c9c54(0x20a)](0x1);}[a39_0x454ac3(0x22c)](){const _0x2f8ba5=a39_0x454ac3;console[_0x2f8ba5(0x23d)](_0x2f8ba5(0x222)),console['log']('📡\x20Target:\x20'+this[_0x2f8ba5(0x1f8)]),console['log'](_0x2f8ba5(0x226)+Math['round'](this[_0x2f8ba5(0x215)]/0x3e8/0x3c)+_0x2f8ba5(0x1fc)),console[_0x2f8ba5(0x23d)](_0x2f8ba5(0x200)+this[_0x2f8ba5(0x220)]),this[_0x2f8ba5(0x23c)]()[_0x2f8ba5(0x1f3)](_0x3f1db8=>{const _0x25394d=_0x2f8ba5;if(!_0x3f1db8&&this['consecutiveFailures']>=this[_0x25394d(0x220)]){this[_0x25394d(0x214)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x25394d(0x20e)]+'\x20times');return;}})[_0x2f8ba5(0x23f)](_0x190c61=>{const _0x2b4ff9=_0x2f8ba5;console[_0x2b4ff9(0x247)](_0x2b4ff9(0x219),_0x190c61);if(this[_0x2b4ff9(0x20e)]>=this[_0x2b4ff9(0x220)]){this[_0x2b4ff9(0x214)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x190c61[_0x2b4ff9(0x203)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x1bb989=_0x2f8ba5;try{const _0x43643=await this['checkDomain']();!_0x43643&&(console[_0x1bb989(0x231)](_0x1bb989(0x251)+this[_0x1bb989(0x20e)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x1bb989(0x20e)]>=this[_0x1bb989(0x220)]&&this['crashServer'](_0x1bb989(0x24b)+this[_0x1bb989(0x1f8)]+_0x1bb989(0x248)+this[_0x1bb989(0x20e)]+_0x1bb989(0x208)));}catch(_0x34267c){console[_0x1bb989(0x247)](_0x1bb989(0x230),_0x34267c),this[_0x1bb989(0x20e)]>=this[_0x1bb989(0x220)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x34267c instanceof Error?_0x34267c[_0x1bb989(0x203)]:_0x1bb989(0x1f4)));}},this['CHECK_INTERVAL_MS']),console['log'](_0x2f8ba5(0x1fe));}[a39_0x454ac3(0x240)](){const _0x45b36e=a39_0x454ac3;this[_0x45b36e(0x252)]&&(clearInterval(this['monitoringInterval']),this[_0x45b36e(0x252)]=null,console[_0x45b36e(0x23d)](_0x45b36e(0x224)));}[a39_0x454ac3(0x21b)](){const _0xbf45be=a39_0x454ac3;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0xbf45be(0x1f8)],'checkIntervalMinutes':Math[_0xbf45be(0x236)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0xbf45be(0x20e)],'maxFailuresAllowed':this[_0xbf45be(0x220)],'nextCheckIn':this[_0xbf45be(0x252)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x454ac3(0x221)](){const _0x30fa40=a39_0x454ac3;return console[_0x30fa40(0x23d)](_0x30fa40(0x211)),await this[_0x30fa40(0x23c)]();}}exports[a39_0x454ac3(0x1fd)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();