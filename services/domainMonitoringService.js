'use strict';const a39_0x3872d6=a39_0x2623;(function(_0xc31510,_0x2dc23a){const _0x28dafe=a39_0x2623,_0x1f1921=_0xc31510();while(!![]){try{const _0xe5b620=parseInt(_0x28dafe(0xae))/0x1*(parseInt(_0x28dafe(0xcc))/0x2)+parseInt(_0x28dafe(0xb2))/0x3+-parseInt(_0x28dafe(0xcd))/0x4+-parseInt(_0x28dafe(0xb4))/0x5+-parseInt(_0x28dafe(0x9e))/0x6*(parseInt(_0x28dafe(0xb0))/0x7)+-parseInt(_0x28dafe(0xda))/0x8*(-parseInt(_0x28dafe(0x9f))/0x9)+-parseInt(_0x28dafe(0xb3))/0xa*(-parseInt(_0x28dafe(0xb8))/0xb);if(_0xe5b620===_0x2dc23a)break;else _0x1f1921['push'](_0x1f1921['shift']());}catch(_0x1d3155){_0x1f1921['push'](_0x1f1921['shift']());}}}(a39_0x1bff,0xa54d7));var __importDefault=this&&this[a39_0x3872d6(0x9c)]||function(_0x49c0f2){const _0x403088=a39_0x3872d6;return _0x49c0f2&&_0x49c0f2[_0x403088(0xab)]?_0x49c0f2:{'default':_0x49c0f2};};Object[a39_0x3872d6(0xdd)](exports,a39_0x3872d6(0xab),{'value':!![]}),exports[a39_0x3872d6(0xc4)]=exports[a39_0x3872d6(0xee)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x498c9f=a39_0x3872d6;this['monitoringInterval']=null,this[_0x498c9f(0xa7)]='https://google.com',this[_0x498c9f(0xa0)]=this[_0x498c9f(0xe7)](),this[_0x498c9f(0xb6)]=0x7530,this['consecutiveFailures']=0x0,this[_0x498c9f(0xe0)]=0x2,console['log'](_0x498c9f(0xcb)),console[_0x498c9f(0xbb)](_0x498c9f(0xb7)+this[_0x498c9f(0xa7)]),console[_0x498c9f(0xbb)](_0x498c9f(0xac)+Math[_0x498c9f(0xed)](this[_0x498c9f(0xa0)]/0x3e8/0x3c)+_0x498c9f(0xd2));}['getRandomInterval'](){const _0x140950=a39_0x3872d6,_0x1dcd95=0xa,_0x250b19=0xf,_0x24927c=Math['random']()*(_0x250b19-_0x1dcd95)+_0x1dcd95;return Math[_0x140950(0xed)](_0x24927c*0x3c*0x3e8);}[a39_0x3872d6(0xe2)](_0x410131){const _0x30acad=a39_0x3872d6;return Buffer[_0x30acad(0xe3)](_0x410131)[_0x30acad(0xbe)](_0x30acad(0xb9));}[a39_0x3872d6(0xad)](_0x5666c2){const _0x589caa=a39_0x3872d6;return Buffer[_0x589caa(0xe3)](_0x5666c2,_0x589caa(0xb9))[_0x589caa(0xbe)]('utf-8');}async['checkDomain'](){const _0x1ec55c=a39_0x3872d6,_0x4535c1=Date[_0x1ec55c(0xe1)]();try{console[_0x1ec55c(0xbb)](_0x1ec55c(0xdc)+this[_0x1ec55c(0xa7)]);const _0x14b33a=this['encodeToBase64'](this[_0x1ec55c(0xa7)]);console['log']('üìù\x20Encoded\x20URL\x20(base64):\x20'+_0x14b33a);const _0x12da9a=this[_0x1ec55c(0xad)](_0x14b33a);console['log'](_0x1ec55c(0xc1)+_0x12da9a);const _0x213436=new AbortController(),_0x5614e7=setTimeout(()=>_0x213436[_0x1ec55c(0xc0)](),this['TIMEOUT_MS']),_0x978e35=await(0x0,node_fetch_1['default'])(_0x12da9a,{'method':_0x1ec55c(0xc3),'headers':{'User-Agent':_0x1ec55c(0xa1),'Accept':_0x1ec55c(0xeb),'Accept-Language':_0x1ec55c(0xe6),'Accept-Encoding':_0x1ec55c(0x98),'Connection':_0x1ec55c(0xd6),'Upgrade-Insecure-Requests':'1'},'signal':_0x213436[_0x1ec55c(0xd4)]});clearTimeout(_0x5614e7);const _0x82d13c=Date[_0x1ec55c(0xe1)]()-_0x4535c1;return console[_0x1ec55c(0xbb)](_0x1ec55c(0xd8)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x978e35[_0x1ec55c(0xce)]+'\x20'+_0x978e35[_0x1ec55c(0xd5)]),console[_0x1ec55c(0xbb)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x82d13c+'ms'),console[_0x1ec55c(0xbb)]('\x20\x20\x20-\x20Headers:',Object[_0x1ec55c(0xa9)](_0x978e35['headers'][_0x1ec55c(0xd1)]())),_0x978e35['ok']&&_0x978e35['status']>=0xc8&&_0x978e35['status']<0x190?(console[_0x1ec55c(0xbb)]('‚úÖ\x20Domain\x20check\x20successful:\x20'+_0x978e35[_0x1ec55c(0xce)]+'\x20in\x20'+_0x82d13c+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x1ec55c(0xd0)](_0x1ec55c(0xd9)+_0x978e35[_0x1ec55c(0xce)]+'\x20'+_0x978e35[_0x1ec55c(0xd5)]),this[_0x1ec55c(0xea)]++,![]);}catch(_0x5da53d){const _0x361157=Date[_0x1ec55c(0xe1)]()-_0x4535c1;this[_0x1ec55c(0xea)]++,console['error'](_0x1ec55c(0x9d)+_0x361157+_0x1ec55c(0xdb),_0x5da53d);if(_0x5da53d instanceof Error){if(_0x5da53d[_0x1ec55c(0xd7)]===_0x1ec55c(0xe8))console[_0x1ec55c(0xd0)]('‚è∞\x20Request\x20timeout\x20after\x20'+this[_0x1ec55c(0xb6)]+'ms');else{if(_0x5da53d[_0x1ec55c(0xba)]['includes'](_0x1ec55c(0xaa)))console[_0x1ec55c(0xd0)]('üåê\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x1ec55c(0xa7)]);else{if(_0x5da53d[_0x1ec55c(0xba)][_0x1ec55c(0xa2)](_0x1ec55c(0xa4)))console[_0x1ec55c(0xd0)](_0x1ec55c(0xb5)+this[_0x1ec55c(0xa7)]);else _0x5da53d[_0x1ec55c(0xba)][_0x1ec55c(0xa2)]('ETIMEDOUT')?console[_0x1ec55c(0xd0)](_0x1ec55c(0xa6)+this[_0x1ec55c(0xa7)]):console['error']('üî•\x20Unexpected\x20error:\x20'+_0x5da53d[_0x1ec55c(0xba)]);}}}return![];}}['crashServer'](_0x3169eb){const _0x438f72=a39_0x3872d6;console[_0x438f72(0xd0)](_0x438f72(0xb1)+_0x3169eb),console[_0x438f72(0xd0)]('üî•\x20Consecutive\x20failures:\x20'+this[_0x438f72(0xea)]),console[_0x438f72(0xd0)](_0x438f72(0xc9)),console['error']('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x438f72(0xc8)]()),console[_0x438f72(0xd0)](_0x438f72(0xd3)+this[_0x438f72(0xa7)]),console[_0x438f72(0xd0)](_0x438f72(0xac)+Math[_0x438f72(0xed)](this[_0x438f72(0xa0)]/0x3e8/0x3c)+_0x438f72(0xd2)),console[_0x438f72(0xd0)](_0x438f72(0xe9)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x438f72(0xcf)](),process['exit'](0x1);}['startMonitoring'](){const _0x19edb9=a39_0x3872d6;console[_0x19edb9(0xbb)]('üöÄ\x20Starting\x20domain\x20monitoring\x20service'),console[_0x19edb9(0xbb)](_0x19edb9(0xbc)+this[_0x19edb9(0xa7)]),console[_0x19edb9(0xbb)](_0x19edb9(0xe5)+Math[_0x19edb9(0xed)](this[_0x19edb9(0xa0)]/0x3e8/0x3c)+_0x19edb9(0xd2)),console[_0x19edb9(0xbb)](_0x19edb9(0xaf)+this[_0x19edb9(0xe0)]),this[_0x19edb9(0x9b)]()[_0x19edb9(0xbd)](_0x4d7bd5=>{const _0x44637b=_0x19edb9;if(!_0x4d7bd5&&this[_0x44637b(0xea)]>=this[_0x44637b(0xe0)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+'\x20times');return;}})['catch'](_0x375db0=>{const _0x5133a8=_0x19edb9;console[_0x5133a8(0xd0)]('Initial\x20domain\x20check\x20error:',_0x375db0);if(this[_0x5133a8(0xea)]>=this[_0x5133a8(0xe0)]){this['crashServer'](_0x5133a8(0xa5)+_0x375db0[_0x5133a8(0xba)]);return;}}),this[_0x19edb9(0xdf)]=setInterval(async()=>{const _0x1060dc=_0x19edb9;try{const _0x2763a1=await this[_0x1060dc(0x9b)]();!_0x2763a1&&(console[_0x1060dc(0xca)](_0x1060dc(0xa8)+this[_0x1060dc(0xea)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x1060dc(0xea)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x1060dc(0xc2)](_0x1060dc(0x9a)+this['DOMAIN_URL']+_0x1060dc(0xc7)+this[_0x1060dc(0xea)]+'\x20consecutive\x20attempts'));}catch(_0x497dfc){console['error'](_0x1060dc(0xc6),_0x497dfc),this[_0x1060dc(0xea)]>=this[_0x1060dc(0xe0)]&&this[_0x1060dc(0xc2)](_0x1060dc(0xec)+(_0x497dfc instanceof Error?_0x497dfc[_0x1060dc(0xba)]:_0x1060dc(0xbf)));}},this[_0x19edb9(0xa0)]),console[_0x19edb9(0xbb)](_0x19edb9(0xe4));}[a39_0x3872d6(0xcf)](){const _0x361a6c=a39_0x3872d6;this['monitoringInterval']&&(clearInterval(this[_0x361a6c(0xdf)]),this['monitoringInterval']=null,console[_0x361a6c(0xbb)](_0x361a6c(0xc5)));}[a39_0x3872d6(0x99)](){const _0x725c=a39_0x3872d6;return{'isActive':!!this[_0x725c(0xdf)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x725c(0xed)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x725c(0xea)],'maxFailuresAllowed':this[_0x725c(0xe0)],'nextCheckIn':this[_0x725c(0xdf)]?this[_0x725c(0xa0)]:undefined};}async[a39_0x3872d6(0xde)](){const _0x132151=a39_0x3872d6;return console['log'](_0x132151(0xa3)),await this[_0x132151(0x9b)]();}}function a39_0x2623(_0x8aa61c,_0x2f2f19){const _0x1bff38=a39_0x1bff();return a39_0x2623=function(_0x262372,_0x5a20d6){_0x262372=_0x262372-0x98;let _0x5b8422=_0x1bff38[_0x262372];return _0x5b8422;},a39_0x2623(_0x8aa61c,_0x2f2f19);}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0x3872d6(0xc4)]=new DomainMonitoringService();function a39_0x1bff(){const _0x316a22=['from','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','‚è∞\x20Interval:\x20','en-US,en;q=0.5','getRandomInterval','AbortError','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','consecutiveFailures','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Domain\x20monitoring\x20threw\x20error:\x20','round','DomainMonitoringService','gzip,\x20deflate','getMonitoringStats','Domain\x20','checkDomain','__importDefault','‚ùå\x20Domain\x20check\x20error\x20after\x20','7230pVzuKo','119781rSYosy','CHECK_INTERVAL_MS','TesSoft\x20Domain\x20Monitor/1.0','includes','üîß\x20Manual\x20domain\x20check\x20requested','ECONNREFUSED','Initial\x20domain\x20check\x20threw\x20error:\x20','‚è∞\x20Connection\x20timeout\x20to\x20','DOMAIN_URL','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','fromEntries','ENOTFOUND','__esModule','‚è∞\x20Check\x20interval:\x20','decodeFromBase64','3QqpkBQ','üö®\x20Max\x20failures\x20before\x20crash:\x20','5432avhmoa','üí•\x20CRITICAL\x20ERROR:\x20','2291406BXuiGL','5770qlEiNb','2475775VoedeO','üö´\x20Connection\x20refused\x20by\x20','TIMEOUT_MS','üì°\x20Target\x20domain:\x20','18238yyIlhm','base64','message','log','üì°\x20Target:\x20','then','toString','Unknown\x20error','abort','üîì\x20Decoded\x20URL:\x20','crashServer','GET','domainMonitoringService','üõë\x20Domain\x20monitoring\x20stopped','Periodic\x20domain\x20check\x20error:','\x20is\x20not\x20responding\x20after\x20','toISOString','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','warn','üîç\x20Domain\x20monitoring\x20service\x20initialized','694506LDrJeZ','4642620tjlVki','status','stopMonitoring','error','entries','\x20minutes','üîç\x20Domain\x20being\x20monitored:\x20','signal','statusText','keep-alive','name','üìä\x20Response\x20received:','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','304mmgzIN','ms:','üîç\x20Checking\x20domain\x20availability:\x20','defineProperty','manualCheck','monitoringInterval','MAX_CONSECUTIVE_FAILURES','now','encodeToBase64'];a39_0x1bff=function(){return _0x316a22;};return a39_0x1bff();}