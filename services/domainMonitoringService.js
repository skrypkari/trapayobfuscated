'use strict';const a37_0x25168f=a37_0x28fe;(function(_0xdba4f1,_0x55e53b){const _0x4971b2=a37_0x28fe,_0xed58d9=_0xdba4f1();while(!![]){try{const _0x956805=parseInt(_0x4971b2(0x19a))/0x1*(-parseInt(_0x4971b2(0x177))/0x2)+-parseInt(_0x4971b2(0x155))/0x3+parseInt(_0x4971b2(0x163))/0x4+parseInt(_0x4971b2(0x181))/0x5*(parseInt(_0x4971b2(0x157))/0x6)+-parseInt(_0x4971b2(0x18b))/0x7*(parseInt(_0x4971b2(0x149))/0x8)+-parseInt(_0x4971b2(0x19d))/0x9*(-parseInt(_0x4971b2(0x18f))/0xa)+parseInt(_0x4971b2(0x18a))/0xb;if(_0x956805===_0x55e53b)break;else _0xed58d9['push'](_0xed58d9['shift']());}catch(_0x334828){_0xed58d9['push'](_0xed58d9['shift']());}}}(a37_0x4e4c,0xb053f));function a37_0x28fe(_0x2212aa,_0x1cc5f2){const _0x4e4c57=a37_0x4e4c();return a37_0x28fe=function(_0x28fe52,_0x1506db){_0x28fe52=_0x28fe52-0x145;let _0x32a108=_0x4e4c57[_0x28fe52];return _0x32a108;},a37_0x28fe(_0x2212aa,_0x1cc5f2);}var __importDefault=this&&this['__importDefault']||function(_0x4fb0d4){const _0xa09a3b=a37_0x28fe;return _0x4fb0d4&&_0x4fb0d4[_0xa09a3b(0x172)]?_0x4fb0d4:{'default':_0x4fb0d4};};Object[a37_0x25168f(0x173)](exports,a37_0x25168f(0x172),{'value':!![]}),exports['domainMonitoringService']=exports[a37_0x25168f(0x16b)]=void 0x0;function a37_0x4e4c(){const _0x2c1521=['❌\x20Domain\x20check\x20error\x20after\x20','🔧\x20Manual\x20domain\x20check\x20requested','\x20\x20\x20-\x20Status:\x20','576183zzjOYR','⏰\x20Interval:\x20','1764258FShuMC','\x20is\x20not\x20responding\x20after\x20','entries','decodeFromBase64','toString','crashServer','TesSoft\x20Domain\x20Monitor/1.0','toISOString','MAX_CONSECUTIVE_FAILURES','monitoringInterval','🔍\x20Checking\x20domain\x20availability:\x20','gzip,\x20deflate','2138128qsJFBN','Domain\x20','base64','\x20minutes','https://amaterasy884.icu/','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','startMonitoring','DomainMonitoringService','🔓\x20Decoded\x20URL:\x20','ENOTFOUND','📝\x20Encoded\x20URL\x20(base64):\x20','\x20in\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','__esModule','defineProperty','🔍\x20Domain\x20being\x20monitored:\x20','Unknown\x20error','getRandomInterval','30sFHxBu','\x20times','log','Domain\x20monitoring\x20threw\x20error:\x20','AbortError','consecutiveFailures','name','📡\x20Target\x20domain:\x20','GET','📅\x20Crash\x20time:\x20','5OsgZLb','Periodic\x20domain\x20check\x20error:','\x20\x20\x20-\x20Response\x20time:\x20','getMonitoringStats','stopMonitoring','CHECK_INTERVAL_MS','includes','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','node-fetch','12781846fVtQJG','41818oXCkNv','✅\x20Domain\x20check\x20successful:\x20','encodeToBase64','ms:','320mUwuPR','then','error','\x20consecutive\x20attempts','ETIMEDOUT','⚠️\x20Domain\x20check\x20failed\x20(','abort','💥\x20CRITICAL\x20ERROR:\x20','\x20\x20\x20-\x20Headers:','DOMAIN_URL','status','75657LjNaDc','Initial\x20domain\x20check\x20error:','✅\x20Domain\x20monitoring\x20started\x20successfully','38322MbYhIC','statusText','warn','🚀\x20Starting\x20domain\x20monitoring\x20service','TIMEOUT_MS','now','🛑\x20Domain\x20monitoring\x20stopped','104FzhrQo','message','keep-alive','from','📡\x20Target:\x20','ECONNREFUSED','checkDomain','round','⏰\x20Connection\x20timeout\x20to\x20'];a37_0x4e4c=function(){return _0x2c1521;};return a37_0x4e4c();}const node_fetch_1=__importDefault(require(a37_0x25168f(0x189)));class DomainMonitoringService{constructor(){const _0x3bca35=a37_0x25168f;this[_0x3bca35(0x160)]=null,this[_0x3bca35(0x198)]=_0x3bca35(0x167),this[_0x3bca35(0x186)]=this[_0x3bca35(0x176)](),this[_0x3bca35(0x146)]=0x7530,this[_0x3bca35(0x17c)]=0x0,this[_0x3bca35(0x15f)]=0x2,console[_0x3bca35(0x179)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x3bca35(0x179)](_0x3bca35(0x17e)+this[_0x3bca35(0x198)]),console[_0x3bca35(0x179)]('⏰\x20Check\x20interval:\x20'+Math[_0x3bca35(0x150)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x3bca35(0x166));}[a37_0x25168f(0x176)](){const _0x3d5b5b=a37_0x25168f,_0x288742=0xa,_0x455889=0xf,_0xabd75f=Math['random']()*(_0x455889-_0x288742)+_0x288742;return Math[_0x3d5b5b(0x150)](_0xabd75f*0x3c*0x3e8);}[a37_0x25168f(0x18d)](_0x5f13b0){const _0x14d9d0=a37_0x25168f;return Buffer[_0x14d9d0(0x14c)](_0x5f13b0)[_0x14d9d0(0x15b)]('base64');}[a37_0x25168f(0x15a)](_0x550bfa){const _0x4c5d01=a37_0x25168f;return Buffer[_0x4c5d01(0x14c)](_0x550bfa,_0x4c5d01(0x165))['toString']('utf-8');}async['checkDomain'](){const _0x42b067=a37_0x25168f,_0x189fb8=Date[_0x42b067(0x147)]();try{console[_0x42b067(0x179)](_0x42b067(0x161)+this['DOMAIN_URL']);const _0x40fa66=this[_0x42b067(0x18d)](this['DOMAIN_URL']);console[_0x42b067(0x179)](_0x42b067(0x16e)+_0x40fa66);const _0x201b43=this[_0x42b067(0x15a)](_0x40fa66);console['log'](_0x42b067(0x16c)+_0x201b43);const _0x391b59=new AbortController(),_0x4f52d4=setTimeout(()=>_0x391b59[_0x42b067(0x195)](),this[_0x42b067(0x146)]),_0x32e1dc=await(0x0,node_fetch_1['default'])(_0x201b43,{'method':_0x42b067(0x17f),'headers':{'User-Agent':_0x42b067(0x15d),'Accept':_0x42b067(0x188),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x42b067(0x162),'Connection':_0x42b067(0x14b),'Upgrade-Insecure-Requests':'1'},'signal':_0x391b59['signal']});clearTimeout(_0x4f52d4);const _0x314351=Date[_0x42b067(0x147)]()-_0x189fb8;return console[_0x42b067(0x179)]('📊\x20Response\x20received:'),console[_0x42b067(0x179)](_0x42b067(0x154)+_0x32e1dc[_0x42b067(0x199)]+'\x20'+_0x32e1dc[_0x42b067(0x19e)]),console[_0x42b067(0x179)](_0x42b067(0x183)+_0x314351+'ms'),console['log'](_0x42b067(0x197),Object['fromEntries'](_0x32e1dc['headers'][_0x42b067(0x159)]())),_0x32e1dc['ok']&&_0x32e1dc['status']>=0xc8&&_0x32e1dc['status']<0x190?(console[_0x42b067(0x179)](_0x42b067(0x18c)+_0x32e1dc[_0x42b067(0x199)]+_0x42b067(0x16f)+_0x314351+'ms'),this[_0x42b067(0x17c)]=0x0,!![]):(console['error'](_0x42b067(0x170)+_0x32e1dc['status']+'\x20'+_0x32e1dc[_0x42b067(0x19e)]),this[_0x42b067(0x17c)]++,![]);}catch(_0x43ca15){const _0x20c201=Date['now']()-_0x189fb8;this[_0x42b067(0x17c)]++,console['error'](_0x42b067(0x152)+_0x20c201+_0x42b067(0x18e),_0x43ca15);if(_0x43ca15 instanceof Error){if(_0x43ca15[_0x42b067(0x17d)]===_0x42b067(0x17b))console[_0x42b067(0x191)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x42b067(0x146)]+'ms');else{if(_0x43ca15[_0x42b067(0x14a)][_0x42b067(0x187)](_0x42b067(0x16d)))console[_0x42b067(0x191)](_0x42b067(0x169)+this[_0x42b067(0x198)]);else{if(_0x43ca15[_0x42b067(0x14a)][_0x42b067(0x187)](_0x42b067(0x14e)))console[_0x42b067(0x191)]('🚫\x20Connection\x20refused\x20by\x20'+this[_0x42b067(0x198)]);else _0x43ca15['message']['includes'](_0x42b067(0x193))?console[_0x42b067(0x191)](_0x42b067(0x151)+this[_0x42b067(0x198)]):console[_0x42b067(0x191)]('🔥\x20Unexpected\x20error:\x20'+_0x43ca15[_0x42b067(0x14a)]);}}}return![];}}[a37_0x25168f(0x15c)](_0x1b9838){const _0xac14c=a37_0x25168f;console[_0xac14c(0x191)](_0xac14c(0x196)+_0x1b9838),console['error']('🔥\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console[_0xac14c(0x191)](_0xac14c(0x171)),console['error'](_0xac14c(0x180)+new Date()[_0xac14c(0x15e)]()),console[_0xac14c(0x191)](_0xac14c(0x174)+this[_0xac14c(0x198)]),console['error']('⏰\x20Check\x20interval:\x20'+Math[_0xac14c(0x150)](this[_0xac14c(0x186)]/0x3e8/0x3c)+_0xac14c(0x166)),console[_0xac14c(0x191)](_0xac14c(0x168)+this[_0xac14c(0x15f)]),this[_0xac14c(0x185)](),process['exit'](0x1);}[a37_0x25168f(0x16a)](){const _0x4b2c1b=a37_0x25168f;console[_0x4b2c1b(0x179)](_0x4b2c1b(0x145)),console['log'](_0x4b2c1b(0x14d)+this[_0x4b2c1b(0x198)]),console[_0x4b2c1b(0x179)](_0x4b2c1b(0x156)+Math[_0x4b2c1b(0x150)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x4b2c1b(0x166)),console[_0x4b2c1b(0x179)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x4b2c1b(0x15f)]),this[_0x4b2c1b(0x14f)]()[_0x4b2c1b(0x190)](_0xd2a954=>{const _0x1b974=_0x4b2c1b;if(!_0xd2a954&&this['consecutiveFailures']>=this[_0x1b974(0x15f)]){this[_0x1b974(0x15c)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x1b974(0x17c)]+_0x1b974(0x178));return;}})['catch'](_0x1d64d2=>{const _0x4ebf69=_0x4b2c1b;console[_0x4ebf69(0x191)](_0x4ebf69(0x19b),_0x1d64d2);if(this[_0x4ebf69(0x17c)]>=this[_0x4ebf69(0x15f)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x1d64d2[_0x4ebf69(0x14a)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x52998=_0x4b2c1b;try{const _0x3b3392=await this['checkDomain']();!_0x3b3392&&(console[_0x52998(0x19f)](_0x52998(0x194)+this[_0x52998(0x17c)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x52998(0x15f)]&&this['crashServer'](_0x52998(0x164)+this[_0x52998(0x198)]+_0x52998(0x158)+this[_0x52998(0x17c)]+_0x52998(0x192)));}catch(_0x4b626c){console['error'](_0x52998(0x182),_0x4b626c),this[_0x52998(0x17c)]>=this[_0x52998(0x15f)]&&this['crashServer'](_0x52998(0x17a)+(_0x4b626c instanceof Error?_0x4b626c[_0x52998(0x14a)]:_0x52998(0x175)));}},this[_0x4b2c1b(0x186)]),console['log'](_0x4b2c1b(0x19c));}[a37_0x25168f(0x185)](){const _0x55dbd9=a37_0x25168f;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this[_0x55dbd9(0x160)]=null,console[_0x55dbd9(0x179)](_0x55dbd9(0x148)));}[a37_0x25168f(0x184)](){const _0x22511f=a37_0x25168f;return{'isActive':!!this[_0x22511f(0x160)],'targetDomain':this[_0x22511f(0x198)],'checkIntervalMinutes':Math[_0x22511f(0x150)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x22511f(0x17c)],'maxFailuresAllowed':this[_0x22511f(0x15f)],'nextCheckIn':this[_0x22511f(0x160)]?this[_0x22511f(0x186)]:undefined};}async['manualCheck'](){const _0x3f4adf=a37_0x25168f;return console[_0x3f4adf(0x179)](_0x3f4adf(0x153)),await this[_0x3f4adf(0x14f)]();}}exports[a37_0x25168f(0x16b)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();