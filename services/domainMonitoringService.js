'use strict';const a54_0x5734a6=a54_0xf990;(function(_0x7cf232,_0x5889b9){const _0x59c992=a54_0xf990,_0x59ebc6=_0x7cf232();while(!![]){try{const _0x4b93f3=parseInt(_0x59c992(0x1e9))/0x1*(parseInt(_0x59c992(0x1ff))/0x2)+-parseInt(_0x59c992(0x1ee))/0x3*(-parseInt(_0x59c992(0x1c4))/0x4)+-parseInt(_0x59c992(0x1f2))/0x5*(-parseInt(_0x59c992(0x1f9))/0x6)+parseInt(_0x59c992(0x1a8))/0x7*(parseInt(_0x59c992(0x1c8))/0x8)+parseInt(_0x59c992(0x1b2))/0x9+-parseInt(_0x59c992(0x1cf))/0xa*(parseInt(_0x59c992(0x1c0))/0xb)+parseInt(_0x59c992(0x1c7))/0xc*(-parseInt(_0x59c992(0x1b5))/0xd);if(_0x4b93f3===_0x5889b9)break;else _0x59ebc6['push'](_0x59ebc6['shift']());}catch(_0x4d38b9){_0x59ebc6['push'](_0x59ebc6['shift']());}}}(a54_0x2d6d,0x389bb));function a54_0xf990(_0x23459e,_0x1ee9ad){_0x23459e=_0x23459e-0x1a7;const _0x2d6d8e=a54_0x2d6d();let _0xf99028=_0x2d6d8e[_0x23459e];return _0xf99028;}var __importDefault=this&&this[a54_0x5734a6(0x1d7)]||function(_0x3a4f83){const _0x558f23=a54_0x5734a6;return _0x3a4f83&&_0x3a4f83[_0x558f23(0x1f5)]?_0x3a4f83:{'default':_0x3a4f83};};Object[a54_0x5734a6(0x1e1)](exports,a54_0x5734a6(0x1f5),{'value':!![]}),exports[a54_0x5734a6(0x1bf)]=exports[a54_0x5734a6(0x1fd)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a54_0x2d6d(){const _0x3b8677=['round','includes','ETIMEDOUT','30BUMsIJ','keep-alive','headers','ENOTFOUND','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','toString','TIMEOUT_MS','Domain\x20Monitor/1.0','__importDefault','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','name','checkDomain','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','status','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','manualCheck','from','defineProperty','Initial\x20domain\x20check\x20error:','random','getMonitoringStats','ms:','abort','ðŸ”¥\x20Unexpected\x20error:\x20','GET','5608sHmGIC','entries','ðŸ›‘\x20Domain\x20monitoring\x20stopped','ðŸš«\x20Connection\x20refused\x20by\x20','AbortError','3cvUOML','en-US,en;q=0.5','ðŸ”\x20Checking\x20domain\x20availability:\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','9865cGrvAt','then','ðŸ”“\x20Decoded\x20URL:\x20','__esModule','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','catch','https://google.com','1128HytpYM','error','toISOString','MAX_CONSECUTIVE_FAILURES','DomainMonitoringService','getRandomInterval','110CCkvpz','ðŸ“…\x20Crash\x20time:\x20','base64','exit','âœ…\x20Domain\x20check\x20successful:\x20','\x20in\x20','now','encodeToBase64','133ZDIyVO','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','statusText','\x20\x20\x20-\x20Headers:','â°\x20Check\x20interval:\x20','Domain\x20','ðŸ”\x20Domain\x20being\x20monitored:\x20','ðŸ“¡\x20Target\x20domain:\x20','\x20\x20\x20-\x20Response\x20time:\x20','287748cubgKM','monitoringInterval','stopMonitoring','13wabUje','log','message','Domain\x20monitoring\x20threw\x20error:\x20','default','\x20minutes','signal','â°\x20Connection\x20timeout\x20to\x20','utf-8','crashServer','domainMonitoringService','295086wTjBWG','decodeFromBase64','consecutiveFailures','\x20\x20\x20-\x20Status:\x20','176712ercEOc','ECONNREFUSED','â°\x20Request\x20timeout\x20after\x20','7072260XEjGjy','61552YpJnGn','Initial\x20domain\x20check\x20failed\x20','DOMAIN_URL','CHECK_INTERVAL_MS'];a54_0x2d6d=function(){return _0x3b8677;};return a54_0x2d6d();}class DomainMonitoringService{constructor(){const _0x261b98=a54_0x5734a6;this['monitoringInterval']=null,this[_0x261b98(0x1ca)]=_0x261b98(0x1f8),this['CHECK_INTERVAL_MS']=this[_0x261b98(0x1fe)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x261b98(0x1fc)]=0x2,console[_0x261b98(0x1b6)](_0x261b98(0x1de)),console[_0x261b98(0x1b6)](_0x261b98(0x1b0)+this['DOMAIN_URL']),console[_0x261b98(0x1b6)]('â°\x20Check\x20interval:\x20'+Math[_0x261b98(0x1cc)](this[_0x261b98(0x1cb)]/0x3e8/0x3c)+_0x261b98(0x1ba));}['getRandomInterval'](){const _0x481c86=a54_0x5734a6,_0x800b0a=0xa,_0xb1d56b=0xf,_0xd431fd=Math[_0x481c86(0x1e3)]()*(_0xb1d56b-_0x800b0a)+_0x800b0a;return Math[_0x481c86(0x1cc)](_0xd431fd*0x3c*0x3e8);}[a54_0x5734a6(0x1a7)](_0x27256b){const _0x3de913=a54_0x5734a6;return Buffer[_0x3de913(0x1e0)](_0x27256b)[_0x3de913(0x1d4)](_0x3de913(0x201));}[a54_0x5734a6(0x1c1)](_0x1ea9f8){const _0x3b6486=a54_0x5734a6;return Buffer['from'](_0x1ea9f8,_0x3b6486(0x201))[_0x3b6486(0x1d4)](_0x3b6486(0x1bd));}async['checkDomain'](){const _0x5bea10=a54_0x5734a6,_0x54ff9b=Date['now']();try{console['log'](_0x5bea10(0x1f0)+this[_0x5bea10(0x1ca)]);const _0x5ae0be=this[_0x5bea10(0x1a7)](this[_0x5bea10(0x1ca)]);console[_0x5bea10(0x1b6)](_0x5bea10(0x1a9)+_0x5ae0be);const _0x194d5f=this[_0x5bea10(0x1c1)](_0x5ae0be);console[_0x5bea10(0x1b6)](_0x5bea10(0x1f4)+_0x194d5f);const _0x23509e=new AbortController(),_0x43dffe=setTimeout(()=>_0x23509e[_0x5bea10(0x1e6)](),this['TIMEOUT_MS']),_0x3be9a1=await(0x0,node_fetch_1[_0x5bea10(0x1b9)])(_0x194d5f,{'method':_0x5bea10(0x1e8),'headers':{'User-Agent':_0x5bea10(0x1d6),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x5bea10(0x1ef),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x5bea10(0x1d0),'Upgrade-Insecure-Requests':'1'},'signal':_0x23509e[_0x5bea10(0x1bb)]});clearTimeout(_0x43dffe);const _0xcf671e=Date[_0x5bea10(0x205)]()-_0x54ff9b;return console[_0x5bea10(0x1b6)]('ðŸ“Š\x20Response\x20received:'),console[_0x5bea10(0x1b6)](_0x5bea10(0x1c3)+_0x3be9a1['status']+'\x20'+_0x3be9a1[_0x5bea10(0x1ab)]),console[_0x5bea10(0x1b6)](_0x5bea10(0x1b1)+_0xcf671e+'ms'),console[_0x5bea10(0x1b6)](_0x5bea10(0x1ac),Object['fromEntries'](_0x3be9a1[_0x5bea10(0x1d1)][_0x5bea10(0x1ea)]())),_0x3be9a1['ok']&&_0x3be9a1[_0x5bea10(0x1dd)]>=0xc8&&_0x3be9a1['status']<0x190?(console[_0x5bea10(0x1b6)](_0x5bea10(0x203)+_0x3be9a1[_0x5bea10(0x1dd)]+_0x5bea10(0x204)+_0xcf671e+'ms'),this[_0x5bea10(0x1c2)]=0x0,!![]):(console[_0x5bea10(0x1fa)](_0x5bea10(0x1f6)+_0x3be9a1[_0x5bea10(0x1dd)]+'\x20'+_0x3be9a1[_0x5bea10(0x1ab)]),this[_0x5bea10(0x1c2)]++,![]);}catch(_0x13640b){const _0xf15f2a=Date['now']()-_0x54ff9b;this[_0x5bea10(0x1c2)]++,console[_0x5bea10(0x1fa)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0xf15f2a+_0x5bea10(0x1e5),_0x13640b);if(_0x13640b instanceof Error){if(_0x13640b[_0x5bea10(0x1d9)]===_0x5bea10(0x1ed))console[_0x5bea10(0x1fa)](_0x5bea10(0x1c6)+this[_0x5bea10(0x1d5)]+'ms');else{if(_0x13640b[_0x5bea10(0x1b7)][_0x5bea10(0x1cd)](_0x5bea10(0x1d2)))console['error'](_0x5bea10(0x1db)+this[_0x5bea10(0x1ca)]);else{if(_0x13640b[_0x5bea10(0x1b7)]['includes'](_0x5bea10(0x1c5)))console['error'](_0x5bea10(0x1ec)+this[_0x5bea10(0x1ca)]);else _0x13640b[_0x5bea10(0x1b7)][_0x5bea10(0x1cd)](_0x5bea10(0x1ce))?console[_0x5bea10(0x1fa)](_0x5bea10(0x1bc)+this[_0x5bea10(0x1ca)]):console[_0x5bea10(0x1fa)](_0x5bea10(0x1e7)+_0x13640b[_0x5bea10(0x1b7)]);}}}return![];}}[a54_0x5734a6(0x1be)](_0x4ba22d){const _0x5a8beb=a54_0x5734a6;console['error']('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x4ba22d),console[_0x5a8beb(0x1fa)](_0x5a8beb(0x1f1)+this[_0x5a8beb(0x1c2)]),console[_0x5a8beb(0x1fa)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x5a8beb(0x1fa)](_0x5a8beb(0x200)+new Date()[_0x5a8beb(0x1fb)]()),console['error'](_0x5a8beb(0x1af)+this[_0x5a8beb(0x1ca)]),console[_0x5a8beb(0x1fa)](_0x5a8beb(0x1ad)+Math[_0x5a8beb(0x1cc)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console['error'](_0x5a8beb(0x1d3)+this[_0x5a8beb(0x1fc)]),this[_0x5a8beb(0x1b4)](),process[_0x5a8beb(0x202)](0x1);}['startMonitoring'](){const _0x587105=a54_0x5734a6;console[_0x587105(0x1b6)](_0x587105(0x1dc)),console[_0x587105(0x1b6)]('ðŸ“¡\x20Target:\x20'+this[_0x587105(0x1ca)]),console['log']('â°\x20Interval:\x20'+Math[_0x587105(0x1cc)](this[_0x587105(0x1cb)]/0x3e8/0x3c)+_0x587105(0x1ba)),console[_0x587105(0x1b6)](_0x587105(0x1d8)+this[_0x587105(0x1fc)]),this[_0x587105(0x1da)]()[_0x587105(0x1f3)](_0x51fc9b=>{const _0x13c227=_0x587105;if(!_0x51fc9b&&this[_0x13c227(0x1c2)]>=this[_0x13c227(0x1fc)]){this[_0x13c227(0x1be)](_0x13c227(0x1c9)+this[_0x13c227(0x1c2)]+'\x20times');return;}})[_0x587105(0x1f7)](_0x2bd9e9=>{const _0x4f2bdc=_0x587105;console['error'](_0x4f2bdc(0x1e2),_0x2bd9e9);if(this['consecutiveFailures']>=this[_0x4f2bdc(0x1fc)]){this[_0x4f2bdc(0x1be)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x2bd9e9['message']);return;}}),this[_0x587105(0x1b3)]=setInterval(async()=>{const _0x465067=_0x587105;try{const _0x15be43=await this[_0x465067(0x1da)]();!_0x15be43&&(console['warn']('âš ï¸\x20Domain\x20check\x20failed\x20('+this[_0x465067(0x1c2)]+'/'+this[_0x465067(0x1fc)]+')'),this[_0x465067(0x1c2)]>=this[_0x465067(0x1fc)]&&this[_0x465067(0x1be)](_0x465067(0x1ae)+this[_0x465067(0x1ca)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x465067(0x1c2)]+'\x20consecutive\x20attempts'));}catch(_0x4c8c6c){console[_0x465067(0x1fa)]('Periodic\x20domain\x20check\x20error:',_0x4c8c6c),this[_0x465067(0x1c2)]>=this[_0x465067(0x1fc)]&&this[_0x465067(0x1be)](_0x465067(0x1b8)+(_0x4c8c6c instanceof Error?_0x4c8c6c[_0x465067(0x1b7)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console[_0x587105(0x1b6)](_0x587105(0x1aa));}[a54_0x5734a6(0x1b4)](){const _0x218cd2=a54_0x5734a6;this[_0x218cd2(0x1b3)]&&(clearInterval(this['monitoringInterval']),this[_0x218cd2(0x1b3)]=null,console[_0x218cd2(0x1b6)](_0x218cd2(0x1eb)));}[a54_0x5734a6(0x1e4)](){const _0xaac2c6=a54_0x5734a6;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0xaac2c6(0x1ca)],'checkIntervalMinutes':Math[_0xaac2c6(0x1cc)](this[_0xaac2c6(0x1cb)]/0x3e8/0x3c),'consecutiveFailures':this[_0xaac2c6(0x1c2)],'maxFailuresAllowed':this[_0xaac2c6(0x1fc)],'nextCheckIn':this['monitoringInterval']?this[_0xaac2c6(0x1cb)]:undefined};}async[a54_0x5734a6(0x1df)](){const _0x2de289=a54_0x5734a6;return console[_0x2de289(0x1b6)]('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this['checkDomain']();}}exports[a54_0x5734a6(0x1fd)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();