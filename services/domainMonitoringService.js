'use strict';const a59_0x116499=a59_0x1180;(function(_0x2f098a,_0x520118){const _0x392084=a59_0x1180,_0xf71a5d=_0x2f098a();while(!![]){try{const _0x1e46c6=-parseInt(_0x392084(0x1bb))/0x1+-parseInt(_0x392084(0x1b7))/0x2+parseInt(_0x392084(0x1ec))/0x3*(parseInt(_0x392084(0x1bf))/0x4)+parseInt(_0x392084(0x1e4))/0x5*(parseInt(_0x392084(0x1c6))/0x6)+parseInt(_0x392084(0x1d8))/0x7*(parseInt(_0x392084(0x1ab))/0x8)+-parseInt(_0x392084(0x1ad))/0x9*(parseInt(_0x392084(0x1bc))/0xa)+parseInt(_0x392084(0x1cb))/0xb;if(_0x1e46c6===_0x520118)break;else _0xf71a5d['push'](_0xf71a5d['shift']());}catch(_0x3f9317){_0xf71a5d['push'](_0xf71a5d['shift']());}}}(a59_0x3e29,0x44ce3));var __importDefault=this&&this[a59_0x116499(0x1bd)]||function(_0x6f7718){return _0x6f7718&&_0x6f7718['__esModule']?_0x6f7718:{'default':_0x6f7718};};Object['defineProperty'](exports,a59_0x116499(0x1af),{'value':!![]}),exports[a59_0x116499(0x1aa)]=exports[a59_0x116499(0x1e2)]=void 0x0;const node_fetch_1=__importDefault(require(a59_0x116499(0x1b5)));function a59_0x1180(_0x43b78b,_0x20b62f){_0x43b78b=_0x43b78b-0x1a3;const _0x3e293b=a59_0x3e29();let _0x118055=_0x3e293b[_0x43b78b];return _0x118055;}class DomainMonitoringService{constructor(){const _0x234b6a=a59_0x116499;this[_0x234b6a(0x1c1)]=null,this[_0x234b6a(0x1d0)]=_0x234b6a(0x1e7),this['CHECK_INTERVAL_MS']=this[_0x234b6a(0x1d6)](),this[_0x234b6a(0x1c0)]=0x7530,this[_0x234b6a(0x1da)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log'](_0x234b6a(0x1db)),console['log'](_0x234b6a(0x1e8)+this['DOMAIN_URL']),console['log']('â°\x20Check\x20interval:\x20'+Math[_0x234b6a(0x1e3)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x234b6a(0x1e9));}['getRandomInterval'](){const _0x5299aa=a59_0x116499,_0x383044=0xa,_0x399dc0=0xf,_0x261acc=Math[_0x5299aa(0x1f6)]()*(_0x399dc0-_0x383044)+_0x383044;return Math[_0x5299aa(0x1e3)](_0x261acc*0x3c*0x3e8);}[a59_0x116499(0x1b2)](_0x4fc5c0){const _0x52972f=a59_0x116499;return Buffer[_0x52972f(0x1c7)](_0x4fc5c0)['toString'](_0x52972f(0x1d9));}[a59_0x116499(0x1f5)](_0x351cbc){const _0x348f10=a59_0x116499;return Buffer['from'](_0x351cbc,_0x348f10(0x1d9))['toString']('utf-8');}async[a59_0x116499(0x1b1)](){const _0x1e602d=a59_0x116499,_0xb831ff=Date[_0x1e602d(0x1ca)]();try{console[_0x1e602d(0x1ba)](_0x1e602d(0x1a8)+this[_0x1e602d(0x1d0)]);const _0x4be05d=this[_0x1e602d(0x1b2)](this['DOMAIN_URL']);console[_0x1e602d(0x1ba)]('ğŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x4be05d);const _0x1fde04=this[_0x1e602d(0x1f5)](_0x4be05d);console[_0x1e602d(0x1ba)](_0x1e602d(0x1b6)+_0x1fde04);const _0x1e23fc=new AbortController(),_0x4e212e=setTimeout(()=>_0x1e23fc['abort'](),this[_0x1e602d(0x1c0)]),_0x2982df=await(0x0,node_fetch_1['default'])(_0x1fde04,{'method':'GET','headers':{'User-Agent':_0x1e602d(0x1c9),'Accept':_0x1e602d(0x1de),'Accept-Language':_0x1e602d(0x1ac),'Accept-Encoding':_0x1e602d(0x1a4),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x1e23fc['signal']});clearTimeout(_0x4e212e);const _0x30ee4b=Date[_0x1e602d(0x1ca)]()-_0xb831ff;return console[_0x1e602d(0x1ba)](_0x1e602d(0x1a9)),console[_0x1e602d(0x1ba)](_0x1e602d(0x1ef)+_0x2982df[_0x1e602d(0x1e1)]+'\x20'+_0x2982df[_0x1e602d(0x1f8)]),console[_0x1e602d(0x1ba)](_0x1e602d(0x1b3)+_0x30ee4b+'ms'),console[_0x1e602d(0x1ba)](_0x1e602d(0x1df),Object['fromEntries'](_0x2982df[_0x1e602d(0x1f9)][_0x1e602d(0x1c8)]())),_0x2982df['ok']&&_0x2982df[_0x1e602d(0x1e1)]>=0xc8&&_0x2982df[_0x1e602d(0x1e1)]<0x190?(console[_0x1e602d(0x1ba)](_0x1e602d(0x1cc)+_0x2982df['status']+'\x20in\x20'+_0x30ee4b+'ms'),this[_0x1e602d(0x1da)]=0x0,!![]):(console['error']('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x2982df['status']+'\x20'+_0x2982df[_0x1e602d(0x1f8)]),this[_0x1e602d(0x1da)]++,![]);}catch(_0x107765){const _0x5edd84=Date[_0x1e602d(0x1ca)]()-_0xb831ff;this[_0x1e602d(0x1da)]++,console[_0x1e602d(0x1be)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x5edd84+_0x1e602d(0x1e6),_0x107765);if(_0x107765 instanceof Error){if(_0x107765[_0x1e602d(0x1eb)]==='AbortError')console[_0x1e602d(0x1be)]('â°\x20Request\x20timeout\x20after\x20'+this[_0x1e602d(0x1c0)]+'ms');else{if(_0x107765[_0x1e602d(0x1dd)][_0x1e602d(0x1ea)](_0x1e602d(0x1ed)))console[_0x1e602d(0x1be)](_0x1e602d(0x1a3)+this[_0x1e602d(0x1d0)]);else{if(_0x107765['message'][_0x1e602d(0x1ea)](_0x1e602d(0x1f3)))console[_0x1e602d(0x1be)](_0x1e602d(0x1e5)+this['DOMAIN_URL']);else _0x107765[_0x1e602d(0x1dd)][_0x1e602d(0x1ea)](_0x1e602d(0x1a6))?console[_0x1e602d(0x1be)](_0x1e602d(0x1b4)+this[_0x1e602d(0x1d0)]):console[_0x1e602d(0x1be)](_0x1e602d(0x1f1)+_0x107765['message']);}}}return![];}}[a59_0x116499(0x1cd)](_0x345cf8){const _0x497ad3=a59_0x116499;console[_0x497ad3(0x1be)](_0x497ad3(0x1c4)+_0x345cf8),console[_0x497ad3(0x1be)]('ğŸ”¥\x20Consecutive\x20failures:\x20'+this[_0x497ad3(0x1da)]),console[_0x497ad3(0x1be)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x497ad3(0x1b0)+new Date()['toISOString']()),console[_0x497ad3(0x1be)](_0x497ad3(0x1c5)+this[_0x497ad3(0x1d0)]),console[_0x497ad3(0x1be)](_0x497ad3(0x1f0)+Math['round'](this[_0x497ad3(0x1f7)]/0x3e8/0x3c)+_0x497ad3(0x1e9)),console[_0x497ad3(0x1be)](_0x497ad3(0x1cf)+this[_0x497ad3(0x1f2)]),this[_0x497ad3(0x1d4)](),process['exit'](0x1);}['startMonitoring'](){const _0x181701=a59_0x116499;console[_0x181701(0x1ba)](_0x181701(0x1d3)),console[_0x181701(0x1ba)](_0x181701(0x1a7)+this['DOMAIN_URL']),console[_0x181701(0x1ba)]('â°\x20Interval:\x20'+Math[_0x181701(0x1e3)](this[_0x181701(0x1f7)]/0x3e8/0x3c)+'\x20minutes'),console[_0x181701(0x1ba)](_0x181701(0x1d7)+this[_0x181701(0x1f2)]),this[_0x181701(0x1b1)]()[_0x181701(0x1c2)](_0x1cd31c=>{const _0x2e6fb6=_0x181701;if(!_0x1cd31c&&this[_0x2e6fb6(0x1da)]>=this[_0x2e6fb6(0x1f2)]){this[_0x2e6fb6(0x1cd)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x2e6fb6(0x1da)]+_0x2e6fb6(0x1d5));return;}})[_0x181701(0x1f4)](_0x26437b=>{const _0x36cec8=_0x181701;console['error'](_0x36cec8(0x1c3),_0x26437b);if(this['consecutiveFailures']>=this[_0x36cec8(0x1f2)]){this[_0x36cec8(0x1cd)](_0x36cec8(0x1ae)+_0x26437b[_0x36cec8(0x1dd)]);return;}}),this[_0x181701(0x1c1)]=setInterval(async()=>{const _0x1d88f8=_0x181701;try{const _0xe4379e=await this[_0x1d88f8(0x1b1)]();!_0xe4379e&&(console[_0x1d88f8(0x1b8)](_0x1d88f8(0x1b9)+this[_0x1d88f8(0x1da)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x1d88f8(0x1f2)]&&this[_0x1d88f8(0x1cd)]('Domain\x20'+this[_0x1d88f8(0x1d0)]+_0x1d88f8(0x1d2)+this[_0x1d88f8(0x1da)]+_0x1d88f8(0x1ee)));}catch(_0x2e345){console[_0x1d88f8(0x1be)](_0x1d88f8(0x1d1),_0x2e345),this['consecutiveFailures']>=this[_0x1d88f8(0x1f2)]&&this['crashServer'](_0x1d88f8(0x1a5)+(_0x2e345 instanceof Error?_0x2e345[_0x1d88f8(0x1dd)]:_0x1d88f8(0x1e0)));}},this[_0x181701(0x1f7)]),console[_0x181701(0x1ba)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a59_0x116499(0x1d4)](){const _0x59fa4c=a59_0x116499;this[_0x59fa4c(0x1c1)]&&(clearInterval(this[_0x59fa4c(0x1c1)]),this[_0x59fa4c(0x1c1)]=null,console[_0x59fa4c(0x1ba)]('ğŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a59_0x116499(0x1ce)](){const _0x4432b0=a59_0x116499;return{'isActive':!!this[_0x4432b0(0x1c1)],'targetDomain':this[_0x4432b0(0x1d0)],'checkIntervalMinutes':Math['round'](this[_0x4432b0(0x1f7)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x4432b0(0x1f2)],'nextCheckIn':this[_0x4432b0(0x1c1)]?this['CHECK_INTERVAL_MS']:undefined};}async[a59_0x116499(0x1dc)](){const _0x369b4c=a59_0x116499;return console['log']('ğŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x369b4c(0x1b1)]();}}function a59_0x3e29(){const _0x4d11b6=['67998hyDOGu','1655230BFaCQf','__importDefault','error','254920oMXrOV','TIMEOUT_MS','monitoringInterval','then','Initial\x20domain\x20check\x20error:','ğŸ’¥\x20CRITICAL\x20ERROR:\x20','ğŸ”\x20Domain\x20being\x20monitored:\x20','499866DnKCuL','from','entries','Domain\x20Monitor/1.0','now','4138453aYqXrt','âœ…\x20Domain\x20check\x20successful:\x20','crashServer','getMonitoringStats','ğŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','DOMAIN_URL','Periodic\x20domain\x20check\x20error:','\x20is\x20not\x20responding\x20after\x20','ğŸš€\x20Starting\x20domain\x20monitoring\x20service','stopMonitoring','\x20times','getRandomInterval','ğŸš¨\x20Max\x20failures\x20before\x20crash:\x20','2261xvcCOY','base64','consecutiveFailures','ğŸ”\x20Domain\x20monitoring\x20service\x20initialized','manualCheck','message','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','\x20\x20\x20-\x20Headers:','Unknown\x20error','status','DomainMonitoringService','round','5rDHHwH','ğŸš«\x20Connection\x20refused\x20by\x20','ms:','https://google.com','ğŸ“¡\x20Target\x20domain:\x20','\x20minutes','includes','name','3hKBVob','ENOTFOUND','\x20consecutive\x20attempts','\x20\x20\x20-\x20Status:\x20','â°\x20Check\x20interval:\x20','ğŸ”¥\x20Unexpected\x20error:\x20','MAX_CONSECUTIVE_FAILURES','ECONNREFUSED','catch','decodeFromBase64','random','CHECK_INTERVAL_MS','statusText','headers','ğŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','gzip,\x20deflate','Domain\x20monitoring\x20threw\x20error:\x20','ETIMEDOUT','ğŸ“¡\x20Target:\x20','ğŸ”\x20Checking\x20domain\x20availability:\x20','ğŸ“Š\x20Response\x20received:','domainMonitoringService','11096PAgHgC','en-US,en;q=0.5','9IRvDZf','Initial\x20domain\x20check\x20threw\x20error:\x20','__esModule','ğŸ“…\x20Crash\x20time:\x20','checkDomain','encodeToBase64','\x20\x20\x20-\x20Response\x20time:\x20','â°\x20Connection\x20timeout\x20to\x20','node-fetch','ğŸ”“\x20Decoded\x20URL:\x20','911834YyLDmH','warn','âš ï¸\x20Domain\x20check\x20failed\x20(','log'];a59_0x3e29=function(){return _0x4d11b6;};return a59_0x3e29();}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();