'use strict';const a39_0x31ff3c=a39_0xaad4;(function(_0x290f1d,_0x109f75){const _0x1384db=a39_0xaad4,_0x3f5b67=_0x290f1d();while(!![]){try{const _0x138f37=-parseInt(_0x1384db(0x202))/0x1*(parseInt(_0x1384db(0x1f4))/0x2)+parseInt(_0x1384db(0x21f))/0x3*(-parseInt(_0x1384db(0x1d7))/0x4)+-parseInt(_0x1384db(0x1e8))/0x5*(parseInt(_0x1384db(0x1ec))/0x6)+-parseInt(_0x1384db(0x1ef))/0x7+parseInt(_0x1384db(0x1f7))/0x8*(-parseInt(_0x1384db(0x1da))/0x9)+-parseInt(_0x1384db(0x1ff))/0xa*(parseInt(_0x1384db(0x1ce))/0xb)+parseInt(_0x1384db(0x1c2))/0xc;if(_0x138f37===_0x109f75)break;else _0x3f5b67['push'](_0x3f5b67['shift']());}catch(_0x1e62ea){_0x3f5b67['push'](_0x3f5b67['shift']());}}}(a39_0x3f18,0x65df7));function a39_0xaad4(_0x5d824b,_0x4f106b){const _0x3f18dc=a39_0x3f18();return a39_0xaad4=function(_0xaad4d7,_0x4befb6){_0xaad4d7=_0xaad4d7-0x1be;let _0x4bc05f=_0x3f18dc[_0xaad4d7];return _0x4bc05f;},a39_0xaad4(_0x5d824b,_0x4f106b);}function a39_0x3f18(){const _0x2710cb=['ECONNREFUSED','keep-alive','consecutiveFailures','crashServer','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','CHECK_INTERVAL_MS','random','manualCheck','status','⏰\x20Request\x20timeout\x20after\x20','AbortError','warn','default','276rFmOOc','ENOTFOUND','DOMAIN_URL','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','28875576xAoAHD','✅\x20Domain\x20check\x20successful:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','🚫\x20Connection\x20refused\x20by\x20','getMonitoringStats','🛑\x20Domain\x20monitoring\x20stopped','startMonitoring','📅\x20Crash\x20time:\x20','\x20\x20\x20-\x20Headers:','abort','⏰\x20Check\x20interval:\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','11bLEAzz','statusText','\x20\x20\x20-\x20Response\x20time:\x20','🔥\x20Consecutive\x20failures:\x20','📡\x20Target\x20domain:\x20','MAX_CONSECUTIVE_FAILURES','\x20\x20\x20-\x20Status:\x20','📊\x20Response\x20received:','Domain\x20monitoring\x20threw\x20error:\x20','28348FOeJzn','monitoringInterval','error','5947137pZnCzH','Initial\x20domain\x20check\x20error:','🚨\x20Max\x20failures\x20before\x20crash:\x20','📡\x20Target:\x20','checkDomain','Domain\x20','DomainMonitoringService','includes','message','🔧\x20Manual\x20domain\x20check\x20requested','\x20in\x20','TIMEOUT_MS','toString','log','283565pVuIUa','decodeFromBase64','Initial\x20domain\x20check\x20failed\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','30djtmTv','⏰\x20Connection\x20timeout\x20to\x20','utf-8','159544OHQAuF','🚀\x20Starting\x20domain\x20monitoring\x20service','⏰\x20Interval:\x20','__importDefault','ETIMEDOUT','4bAJzmH','⚠️\x20Domain\x20check\x20failed\x20(','Periodic\x20domain\x20check\x20error:','8CzZoZP','signal','gzip,\x20deflate','base64','TesSoft\x20Domain\x20Monitor/1.0','Unknown\x20error','round','__esModule','2765510oIpIig','\x20times','entries','46661pHBWzV','from','stopMonitoring','\x20minutes','headers','encodeToBase64','🔓\x20Decoded\x20URL:\x20','then','🔍\x20Domain\x20being\x20monitored:\x20','catch','ms:','https://google.com','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','getRandomInterval','now','domainMonitoringService'];a39_0x3f18=function(){return _0x2710cb;};return a39_0x3f18();}var __importDefault=this&&this[a39_0x31ff3c(0x1f2)]||function(_0x2c3ab0){return _0x2c3ab0&&_0x2c3ab0['__esModule']?_0x2c3ab0:{'default':_0x2c3ab0};};Object['defineProperty'](exports,a39_0x31ff3c(0x1fe),{'value':!![]}),exports[a39_0x31ff3c(0x211)]=exports[a39_0x31ff3c(0x1e0)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0xd34c63=a39_0x31ff3c;this[_0xd34c63(0x1d8)]=null,this[_0xd34c63(0x1bf)]=_0xd34c63(0x20d),this[_0xd34c63(0x217)]=this['getRandomInterval'](),this['TIMEOUT_MS']=0x7530,this[_0xd34c63(0x214)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0xd34c63(0x1e7)](_0xd34c63(0x1eb)),console['log'](_0xd34c63(0x1d2)+this[_0xd34c63(0x1bf)]),console['log'](_0xd34c63(0x1cc)+Math[_0xd34c63(0x1fd)](this[_0xd34c63(0x217)]/0x3e8/0x3c)+'\x20minutes');}[a39_0x31ff3c(0x20f)](){const _0x361514=a39_0x31ff3c,_0x2fee18=0xa,_0x33a361=0xf,_0x35d14c=Math[_0x361514(0x218)]()*(_0x33a361-_0x2fee18)+_0x2fee18;return Math[_0x361514(0x1fd)](_0x35d14c*0x3c*0x3e8);}[a39_0x31ff3c(0x207)](_0x59fbfa){const _0x25e2d2=a39_0x31ff3c;return Buffer[_0x25e2d2(0x203)](_0x59fbfa)[_0x25e2d2(0x1e6)](_0x25e2d2(0x1fa));}['decodeFromBase64'](_0x2fa66e){const _0x3ea855=a39_0x31ff3c;return Buffer[_0x3ea855(0x203)](_0x2fa66e,_0x3ea855(0x1fa))['toString'](_0x3ea855(0x1ee));}async[a39_0x31ff3c(0x1de)](){const _0x4c80a0=a39_0x31ff3c,_0x4354c1=Date['now']();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x4c80a0(0x1bf)]);const _0x3204a1=this['encodeToBase64'](this[_0x4c80a0(0x1bf)]);console[_0x4c80a0(0x1e7)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x3204a1);const _0x59d3e5=this[_0x4c80a0(0x1e9)](_0x3204a1);console['log'](_0x4c80a0(0x208)+_0x59d3e5);const _0xa0df9f=new AbortController(),_0x3df5a6=setTimeout(()=>_0xa0df9f[_0x4c80a0(0x1cb)](),this[_0x4c80a0(0x1e5)]),_0x5ab3ad=await(0x0,node_fetch_1[_0x4c80a0(0x21e)])(_0x59d3e5,{'method':'GET','headers':{'User-Agent':_0x4c80a0(0x1fb),'Accept':_0x4c80a0(0x216),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x4c80a0(0x1f9),'Connection':_0x4c80a0(0x213),'Upgrade-Insecure-Requests':'1'},'signal':_0xa0df9f[_0x4c80a0(0x1f8)]});clearTimeout(_0x3df5a6);const _0x115747=Date[_0x4c80a0(0x210)]()-_0x4354c1;return console[_0x4c80a0(0x1e7)](_0x4c80a0(0x1d5)),console[_0x4c80a0(0x1e7)](_0x4c80a0(0x1d4)+_0x5ab3ad[_0x4c80a0(0x21a)]+'\x20'+_0x5ab3ad[_0x4c80a0(0x1cf)]),console[_0x4c80a0(0x1e7)](_0x4c80a0(0x1d0)+_0x115747+'ms'),console[_0x4c80a0(0x1e7)](_0x4c80a0(0x1ca),Object['fromEntries'](_0x5ab3ad[_0x4c80a0(0x206)][_0x4c80a0(0x201)]())),_0x5ab3ad['ok']&&_0x5ab3ad[_0x4c80a0(0x21a)]>=0xc8&&_0x5ab3ad['status']<0x190?(console[_0x4c80a0(0x1e7)](_0x4c80a0(0x1c3)+_0x5ab3ad[_0x4c80a0(0x21a)]+_0x4c80a0(0x1e4)+_0x115747+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x4c80a0(0x1d9)](_0x4c80a0(0x1c0)+_0x5ab3ad[_0x4c80a0(0x21a)]+'\x20'+_0x5ab3ad[_0x4c80a0(0x1cf)]),this['consecutiveFailures']++,![]);}catch(_0x208ca6){const _0x44c0ce=Date['now']()-_0x4354c1;this['consecutiveFailures']++,console['error']('❌\x20Domain\x20check\x20error\x20after\x20'+_0x44c0ce+_0x4c80a0(0x20c),_0x208ca6);if(_0x208ca6 instanceof Error){if(_0x208ca6['name']===_0x4c80a0(0x21c))console[_0x4c80a0(0x1d9)](_0x4c80a0(0x21b)+this[_0x4c80a0(0x1e5)]+'ms');else{if(_0x208ca6[_0x4c80a0(0x1e2)][_0x4c80a0(0x1e1)](_0x4c80a0(0x1be)))console[_0x4c80a0(0x1d9)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x4c80a0(0x1bf)]);else{if(_0x208ca6[_0x4c80a0(0x1e2)][_0x4c80a0(0x1e1)](_0x4c80a0(0x212)))console[_0x4c80a0(0x1d9)](_0x4c80a0(0x1c5)+this[_0x4c80a0(0x1bf)]);else _0x208ca6['message']['includes'](_0x4c80a0(0x1f3))?console[_0x4c80a0(0x1d9)](_0x4c80a0(0x1ed)+this[_0x4c80a0(0x1bf)]):console[_0x4c80a0(0x1d9)]('🔥\x20Unexpected\x20error:\x20'+_0x208ca6[_0x4c80a0(0x1e2)]);}}}return![];}}[a39_0x31ff3c(0x215)](_0x27965f){const _0x23f89e=a39_0x31ff3c;console['error']('💥\x20CRITICAL\x20ERROR:\x20'+_0x27965f),console[_0x23f89e(0x1d9)](_0x23f89e(0x1d1)+this[_0x23f89e(0x214)]),console['error'](_0x23f89e(0x20e)),console[_0x23f89e(0x1d9)](_0x23f89e(0x1c9)+new Date()['toISOString']()),console[_0x23f89e(0x1d9)](_0x23f89e(0x20a)+this[_0x23f89e(0x1bf)]),console['error'](_0x23f89e(0x1cc)+Math[_0x23f89e(0x1fd)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x23f89e(0x205)),console['error'](_0x23f89e(0x1cd)+this[_0x23f89e(0x1d3)]),this[_0x23f89e(0x204)](),process['exit'](0x1);}[a39_0x31ff3c(0x1c8)](){const _0x41ce86=a39_0x31ff3c;console[_0x41ce86(0x1e7)](_0x41ce86(0x1f0)),console[_0x41ce86(0x1e7)](_0x41ce86(0x1dd)+this[_0x41ce86(0x1bf)]),console[_0x41ce86(0x1e7)](_0x41ce86(0x1f1)+Math[_0x41ce86(0x1fd)](this[_0x41ce86(0x217)]/0x3e8/0x3c)+_0x41ce86(0x205)),console[_0x41ce86(0x1e7)](_0x41ce86(0x1dc)+this[_0x41ce86(0x1d3)]),this[_0x41ce86(0x1de)]()[_0x41ce86(0x209)](_0x36de0d=>{const _0x174291=_0x41ce86;if(!_0x36de0d&&this[_0x174291(0x214)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x174291(0x1ea)+this[_0x174291(0x214)]+_0x174291(0x200));return;}})[_0x41ce86(0x20b)](_0x35b4ba=>{const _0x455e93=_0x41ce86;console['error'](_0x455e93(0x1db),_0x35b4ba);if(this[_0x455e93(0x214)]>=this[_0x455e93(0x1d3)]){this['crashServer'](_0x455e93(0x1c4)+_0x35b4ba[_0x455e93(0x1e2)]);return;}}),this[_0x41ce86(0x1d8)]=setInterval(async()=>{const _0x2b848e=_0x41ce86;try{const _0x14e8a6=await this[_0x2b848e(0x1de)]();!_0x14e8a6&&(console[_0x2b848e(0x21d)](_0x2b848e(0x1f5)+this[_0x2b848e(0x214)]+'/'+this[_0x2b848e(0x1d3)]+')'),this[_0x2b848e(0x214)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer'](_0x2b848e(0x1df)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x2b848e(0x214)]+'\x20consecutive\x20attempts'));}catch(_0x2ae40d){console[_0x2b848e(0x1d9)](_0x2b848e(0x1f6),_0x2ae40d),this[_0x2b848e(0x214)]>=this[_0x2b848e(0x1d3)]&&this[_0x2b848e(0x215)](_0x2b848e(0x1d6)+(_0x2ae40d instanceof Error?_0x2ae40d[_0x2b848e(0x1e2)]:_0x2b848e(0x1fc)));}},this['CHECK_INTERVAL_MS']),console[_0x41ce86(0x1e7)](_0x41ce86(0x1c1));}[a39_0x31ff3c(0x204)](){const _0x157baf=a39_0x31ff3c;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console[_0x157baf(0x1e7)](_0x157baf(0x1c7)));}[a39_0x31ff3c(0x1c6)](){const _0x1043b3=a39_0x31ff3c;return{'isActive':!!this[_0x1043b3(0x1d8)],'targetDomain':this[_0x1043b3(0x1bf)],'checkIntervalMinutes':Math[_0x1043b3(0x1fd)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x1043b3(0x214)],'maxFailuresAllowed':this[_0x1043b3(0x1d3)],'nextCheckIn':this[_0x1043b3(0x1d8)]?this[_0x1043b3(0x217)]:undefined};}async[a39_0x31ff3c(0x219)](){const _0xb7daaa=a39_0x31ff3c;return console[_0xb7daaa(0x1e7)](_0xb7daaa(0x1e3)),await this[_0xb7daaa(0x1de)]();}}exports[a39_0x31ff3c(0x1e0)]=DomainMonitoringService,exports[a39_0x31ff3c(0x211)]=new DomainMonitoringService();