'use strict';const a40_0x4d785c=a40_0x7fee;(function(_0x21d52d,_0x2a78c4){const _0x1933b2=a40_0x7fee,_0x100bec=_0x21d52d();while(!![]){try{const _0x5eead0=-parseInt(_0x1933b2(0x162))/0x1+parseInt(_0x1933b2(0x195))/0x2*(-parseInt(_0x1933b2(0x15d))/0x3)+-parseInt(_0x1933b2(0x16a))/0x4*(-parseInt(_0x1933b2(0x13d))/0x5)+-parseInt(_0x1933b2(0x199))/0x6+-parseInt(_0x1933b2(0x16e))/0x7*(-parseInt(_0x1933b2(0x146))/0x8)+parseInt(_0x1933b2(0x156))/0x9*(-parseInt(_0x1933b2(0x144))/0xa)+parseInt(_0x1933b2(0x154))/0xb;if(_0x5eead0===_0x2a78c4)break;else _0x100bec['push'](_0x100bec['shift']());}catch(_0x5dab9f){_0x100bec['push'](_0x100bec['shift']());}}}(a40_0x31c0,0xc45eb));function a40_0x31c0(){const _0x271c15=['ENOTFOUND','🚫\x20Connection\x20refused\x20by\x20','exit','💥\x20CRITICAL\x20ERROR:\x20','86379JsBEgv','DomainMonitoringService','includes','en-US,en;q=0.5','TIMEOUT_MS','24212krjdYA','CHECK_INTERVAL_MS','consecutiveFailures','🔓\x20Decoded\x20URL:\x20','🔥\x20Unexpected\x20error:\x20','entries','🚨\x20Max\x20failures\x20before\x20crash:\x20','getRandomInterval','23284IpOBvh','AbortError','Domain\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','12306KPkyNL','Domain\x20monitoring\x20threw\x20error:\x20','defineProperty','❌\x20Domain\x20check\x20error\x20after\x20','toISOString','decodeFromBase64','MAX_CONSECUTIVE_FAILURES','domainMonitoringService','DOMAIN_URL','ms:','⏰\x20Interval:\x20','log','message','__importDefault','default','node-fetch','🔍\x20Domain\x20monitoring\x20service\x20initialized','error','ETIMEDOUT','encodeToBase64','crashServer','📝\x20Encoded\x20URL\x20(base64):\x20','base64','now','Initial\x20domain\x20check\x20error:','\x20is\x20not\x20responding\x20after\x20','round','toString','startMonitoring','⏰\x20Check\x20interval:\x20','utf-8','✅\x20Domain\x20check\x20successful:\x20','\x20consecutive\x20attempts','GET','🛑\x20Domain\x20monitoring\x20stopped','monitoringInterval','🔍\x20Checking\x20domain\x20availability:\x20','📅\x20Crash\x20time:\x20','fromEntries','62FJdYnA','checkDomain','status','🔧\x20Manual\x20domain\x20check\x20requested','4687320EKblzF','https://google.com','manualCheck','1345YtvTXR','stopMonitoring','Unknown\x20error','📡\x20Target:\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','from','📊\x20Response\x20received:','30zxKQyt','warn','1336uQncgJ','gzip,\x20deflate','headers','abort','📡\x20Target\x20domain:\x20','\x20in\x20','getMonitoringStats','\x20minutes','Periodic\x20domain\x20check\x20error:','signal','Initial\x20domain\x20check\x20threw\x20error:\x20','ECONNREFUSED','statusText','⚠️\x20Domain\x20check\x20failed\x20(','21377818FEQKBa','\x20\x20\x20-\x20Response\x20time:\x20','3901581byIEzC','catch','❌\x20Domain\x20check\x20failed:\x20HTTP\x20'];a40_0x31c0=function(){return _0x271c15;};return a40_0x31c0();}var __importDefault=this&&this[a40_0x4d785c(0x17b)]||function(_0x1c64a7){return _0x1c64a7&&_0x1c64a7['__esModule']?_0x1c64a7:{'default':_0x1c64a7};};function a40_0x7fee(_0x434989,_0x4df6da){const _0x31c05d=a40_0x31c0();return a40_0x7fee=function(_0x7feebb,_0x44135e){_0x7feebb=_0x7feebb-0x13c;let _0x4d6f9e=_0x31c05d[_0x7feebb];return _0x4d6f9e;},a40_0x7fee(_0x434989,_0x4df6da);}Object[a40_0x4d785c(0x170)](exports,'__esModule',{'value':!![]}),exports[a40_0x4d785c(0x175)]=exports[a40_0x4d785c(0x15e)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x4d785c(0x17d)));class DomainMonitoringService{constructor(){const _0x51f4be=a40_0x4d785c;this[_0x51f4be(0x191)]=null,this[_0x51f4be(0x176)]=_0x51f4be(0x19a),this[_0x51f4be(0x163)]=this[_0x51f4be(0x169)](),this[_0x51f4be(0x161)]=0x7530,this[_0x51f4be(0x164)]=0x0,this[_0x51f4be(0x174)]=0x2,console[_0x51f4be(0x179)](_0x51f4be(0x17e)),console[_0x51f4be(0x179)](_0x51f4be(0x14a)+this[_0x51f4be(0x176)]),console[_0x51f4be(0x179)](_0x51f4be(0x18b)+Math[_0x51f4be(0x188)](this[_0x51f4be(0x163)]/0x3e8/0x3c)+_0x51f4be(0x14d));}['getRandomInterval'](){const _0x1b87be=a40_0x4d785c,_0x112c2c=0xa,_0x729d91=0xf,_0x3aaa2f=Math['random']()*(_0x729d91-_0x112c2c)+_0x112c2c;return Math[_0x1b87be(0x188)](_0x3aaa2f*0x3c*0x3e8);}[a40_0x4d785c(0x181)](_0x99e48){const _0x5ee197=a40_0x4d785c;return Buffer['from'](_0x99e48)[_0x5ee197(0x189)](_0x5ee197(0x184));}[a40_0x4d785c(0x173)](_0x32bc84){const _0x63cd1d=a40_0x4d785c;return Buffer[_0x63cd1d(0x142)](_0x32bc84,'base64')[_0x63cd1d(0x189)](_0x63cd1d(0x18c));}async['checkDomain'](){const _0x4d8286=a40_0x4d785c,_0x1734e1=Date['now']();try{console[_0x4d8286(0x179)](_0x4d8286(0x192)+this[_0x4d8286(0x176)]);const _0xcf4382=this[_0x4d8286(0x181)](this[_0x4d8286(0x176)]);console[_0x4d8286(0x179)](_0x4d8286(0x183)+_0xcf4382);const _0x46658d=this[_0x4d8286(0x173)](_0xcf4382);console[_0x4d8286(0x179)](_0x4d8286(0x165)+_0x46658d);const _0x1eb189=new AbortController(),_0x1835ac=setTimeout(()=>_0x1eb189[_0x4d8286(0x149)](),this[_0x4d8286(0x161)]),_0x302a2f=await(0x0,node_fetch_1[_0x4d8286(0x17c)])(_0x46658d,{'method':_0x4d8286(0x18f),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x4d8286(0x160),'Accept-Encoding':_0x4d8286(0x147),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x1eb189[_0x4d8286(0x14f)]});clearTimeout(_0x1835ac);const _0xc315ad=Date[_0x4d8286(0x185)]()-_0x1734e1;return console[_0x4d8286(0x179)](_0x4d8286(0x143)),console[_0x4d8286(0x179)]('\x20\x20\x20-\x20Status:\x20'+_0x302a2f['status']+'\x20'+_0x302a2f['statusText']),console['log'](_0x4d8286(0x155)+_0xc315ad+'ms'),console[_0x4d8286(0x179)]('\x20\x20\x20-\x20Headers:',Object[_0x4d8286(0x194)](_0x302a2f[_0x4d8286(0x148)][_0x4d8286(0x167)]())),_0x302a2f['ok']&&_0x302a2f[_0x4d8286(0x197)]>=0xc8&&_0x302a2f[_0x4d8286(0x197)]<0x190?(console['log'](_0x4d8286(0x18d)+_0x302a2f['status']+_0x4d8286(0x14b)+_0xc315ad+'ms'),this[_0x4d8286(0x164)]=0x0,!![]):(console[_0x4d8286(0x17f)](_0x4d8286(0x158)+_0x302a2f[_0x4d8286(0x197)]+'\x20'+_0x302a2f[_0x4d8286(0x152)]),this['consecutiveFailures']++,![]);}catch(_0x1e5f31){const _0x597017=Date[_0x4d8286(0x185)]()-_0x1734e1;this[_0x4d8286(0x164)]++,console[_0x4d8286(0x17f)](_0x4d8286(0x171)+_0x597017+_0x4d8286(0x177),_0x1e5f31);if(_0x1e5f31 instanceof Error){if(_0x1e5f31['name']===_0x4d8286(0x16b))console[_0x4d8286(0x17f)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x4d8286(0x161)]+'ms');else{if(_0x1e5f31[_0x4d8286(0x17a)]['includes'](_0x4d8286(0x159)))console[_0x4d8286(0x17f)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x4d8286(0x176)]);else{if(_0x1e5f31['message'][_0x4d8286(0x15f)](_0x4d8286(0x151)))console[_0x4d8286(0x17f)](_0x4d8286(0x15a)+this[_0x4d8286(0x176)]);else _0x1e5f31[_0x4d8286(0x17a)]['includes'](_0x4d8286(0x180))?console[_0x4d8286(0x17f)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x4d8286(0x176)]):console[_0x4d8286(0x17f)](_0x4d8286(0x166)+_0x1e5f31[_0x4d8286(0x17a)]);}}}return![];}}[a40_0x4d785c(0x182)](_0x3efb8e){const _0x6823c3=a40_0x4d785c;console[_0x6823c3(0x17f)](_0x6823c3(0x15c)+_0x3efb8e),console[_0x6823c3(0x17f)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x6823c3(0x164)]),console[_0x6823c3(0x17f)](_0x6823c3(0x141)),console[_0x6823c3(0x17f)](_0x6823c3(0x193)+new Date()[_0x6823c3(0x172)]()),console[_0x6823c3(0x17f)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x6823c3(0x176)]),console[_0x6823c3(0x17f)]('⏰\x20Check\x20interval:\x20'+Math[_0x6823c3(0x188)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x6823c3(0x14d)),console['error'](_0x6823c3(0x16d)+this[_0x6823c3(0x174)]),this[_0x6823c3(0x13e)](),process[_0x6823c3(0x15b)](0x1);}[a40_0x4d785c(0x18a)](){const _0x3324c7=a40_0x4d785c;console[_0x3324c7(0x179)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x3324c7(0x179)](_0x3324c7(0x140)+this[_0x3324c7(0x176)]),console[_0x3324c7(0x179)](_0x3324c7(0x178)+Math['round'](this[_0x3324c7(0x163)]/0x3e8/0x3c)+_0x3324c7(0x14d)),console['log'](_0x3324c7(0x168)+this[_0x3324c7(0x174)]),this[_0x3324c7(0x196)]()['then'](_0x36bad5=>{const _0xc4492e=_0x3324c7;if(!_0x36bad5&&this[_0xc4492e(0x164)]>=this[_0xc4492e(0x174)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this[_0xc4492e(0x164)]+'\x20times');return;}})[_0x3324c7(0x157)](_0x1bd225=>{const _0x1e7f39=_0x3324c7;console[_0x1e7f39(0x17f)](_0x1e7f39(0x186),_0x1bd225);if(this[_0x1e7f39(0x164)]>=this[_0x1e7f39(0x174)]){this[_0x1e7f39(0x182)](_0x1e7f39(0x150)+_0x1bd225[_0x1e7f39(0x17a)]);return;}}),this[_0x3324c7(0x191)]=setInterval(async()=>{const _0x227f18=_0x3324c7;try{const _0x531a6e=await this[_0x227f18(0x196)]();!_0x531a6e&&(console[_0x227f18(0x145)](_0x227f18(0x153)+this[_0x227f18(0x164)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x227f18(0x164)]>=this[_0x227f18(0x174)]&&this[_0x227f18(0x182)](_0x227f18(0x16c)+this[_0x227f18(0x176)]+_0x227f18(0x187)+this['consecutiveFailures']+_0x227f18(0x18e)));}catch(_0x417a17){console['error'](_0x227f18(0x14e),_0x417a17),this[_0x227f18(0x164)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x227f18(0x182)](_0x227f18(0x16f)+(_0x417a17 instanceof Error?_0x417a17[_0x227f18(0x17a)]:_0x227f18(0x13f)));}},this[_0x3324c7(0x163)]),console['log']('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a40_0x4d785c(0x13e)](){const _0x350f1b=a40_0x4d785c;this[_0x350f1b(0x191)]&&(clearInterval(this['monitoringInterval']),this[_0x350f1b(0x191)]=null,console['log'](_0x350f1b(0x190)));}[a40_0x4d785c(0x14c)](){const _0xe4ff4=a40_0x4d785c;return{'isActive':!!this[_0xe4ff4(0x191)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0xe4ff4(0x188)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0xe4ff4(0x164)],'maxFailuresAllowed':this[_0xe4ff4(0x174)],'nextCheckIn':this[_0xe4ff4(0x191)]?this[_0xe4ff4(0x163)]:undefined};}async[a40_0x4d785c(0x13c)](){const _0x1e5d80=a40_0x4d785c;return console[_0x1e5d80(0x179)](_0x1e5d80(0x198)),await this[_0x1e5d80(0x196)]();}}exports[a40_0x4d785c(0x15e)]=DomainMonitoringService,exports[a40_0x4d785c(0x175)]=new DomainMonitoringService();