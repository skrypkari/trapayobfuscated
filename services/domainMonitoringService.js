'use strict';const a39_0x36d789=a39_0x3e4e;function a39_0x3e4e(_0x8ba938,_0x5b57c7){const _0x23e09d=a39_0x23e0();return a39_0x3e4e=function(_0x3e4e64,_0x2882a8){_0x3e4e64=_0x3e4e64-0x127;let _0x25b410=_0x23e09d[_0x3e4e64];return _0x25b410;},a39_0x3e4e(_0x8ba938,_0x5b57c7);}(function(_0x23e370,_0x5d22a7){const _0x381f65=a39_0x3e4e,_0x4cfef9=_0x23e370();while(!![]){try{const _0x6840ca=parseInt(_0x381f65(0x130))/0x1*(parseInt(_0x381f65(0x15e))/0x2)+parseInt(_0x381f65(0x17b))/0x3+-parseInt(_0x381f65(0x154))/0x4*(parseInt(_0x381f65(0x14b))/0x5)+-parseInt(_0x381f65(0x157))/0x6*(-parseInt(_0x381f65(0x15c))/0x7)+parseInt(_0x381f65(0x179))/0x8+parseInt(_0x381f65(0x17d))/0x9*(parseInt(_0x381f65(0x184))/0xa)+-parseInt(_0x381f65(0x176))/0xb;if(_0x6840ca===_0x5d22a7)break;else _0x4cfef9['push'](_0x4cfef9['shift']());}catch(_0x39aff0){_0x4cfef9['push'](_0x4cfef9['shift']());}}}(a39_0x23e0,0xaf91c));var __importDefault=this&&this[a39_0x36d789(0x177)]||function(_0x1625b2){const _0x54a19d=a39_0x36d789;return _0x1625b2&&_0x1625b2[_0x54a19d(0x131)]?_0x1625b2:{'default':_0x1625b2};};Object[a39_0x36d789(0x12d)](exports,a39_0x36d789(0x131),{'value':!![]}),exports[a39_0x36d789(0x164)]=exports[a39_0x36d789(0x134)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x36d789(0x16b)));class DomainMonitoringService{constructor(){const _0x237469=a39_0x36d789;this[_0x237469(0x17f)]=null,this[_0x237469(0x15b)]=_0x237469(0x153),this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this[_0x237469(0x16d)]=0x7530,this[_0x237469(0x149)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log']('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x237469(0x16f)](_0x237469(0x169)+this['DOMAIN_URL']),console['log']('⏰\x20Check\x20interval:\x20'+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x237469(0x145));}[a39_0x36d789(0x12b)](){const _0x2cb6aa=a39_0x36d789,_0x558aa9=0xa,_0x2302a2=0xf,_0x4b0afe=Math[_0x2cb6aa(0x16e)]()*(_0x2302a2-_0x558aa9)+_0x558aa9;return Math[_0x2cb6aa(0x14d)](_0x4b0afe*0x3c*0x3e8);}[a39_0x36d789(0x14c)](_0x152f75){const _0x5cf6a=a39_0x36d789;return Buffer[_0x5cf6a(0x178)](_0x152f75)['toString'](_0x5cf6a(0x175));}[a39_0x36d789(0x13f)](_0x50ca25){const _0x150c5a=a39_0x36d789;return Buffer[_0x150c5a(0x178)](_0x50ca25,_0x150c5a(0x175))[_0x150c5a(0x171)](_0x150c5a(0x156));}async[a39_0x36d789(0x12e)](){const _0x19057f=a39_0x36d789,_0x345946=Date[_0x19057f(0x158)]();try{console[_0x19057f(0x16f)](_0x19057f(0x162)+this['DOMAIN_URL']);const _0x2cf860=this['encodeToBase64'](this[_0x19057f(0x15b)]);console[_0x19057f(0x16f)](_0x19057f(0x144)+_0x2cf860);const _0x5170d9=this[_0x19057f(0x13f)](_0x2cf860);console[_0x19057f(0x16f)](_0x19057f(0x135)+_0x5170d9);const _0x14bcac=new AbortController(),_0x4a50d9=setTimeout(()=>_0x14bcac[_0x19057f(0x152)](),this[_0x19057f(0x16d)]),_0x424019=await(0x0,node_fetch_1[_0x19057f(0x15a)])(_0x5170d9,{'method':_0x19057f(0x167),'headers':{'User-Agent':_0x19057f(0x186),'Accept':_0x19057f(0x165),'Accept-Language':_0x19057f(0x15d),'Accept-Encoding':_0x19057f(0x12a),'Connection':_0x19057f(0x146),'Upgrade-Insecure-Requests':'1'},'signal':_0x14bcac['signal']});clearTimeout(_0x4a50d9);const _0x1fe90e=Date['now']()-_0x345946;return console[_0x19057f(0x16f)](_0x19057f(0x161)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x424019[_0x19057f(0x172)]+'\x20'+_0x424019[_0x19057f(0x138)]),console[_0x19057f(0x16f)](_0x19057f(0x183)+_0x1fe90e+'ms'),console[_0x19057f(0x16f)](_0x19057f(0x14a),Object[_0x19057f(0x151)](_0x424019[_0x19057f(0x185)][_0x19057f(0x13b)]())),_0x424019['ok']&&_0x424019[_0x19057f(0x172)]>=0xc8&&_0x424019[_0x19057f(0x172)]<0x190?(console[_0x19057f(0x16f)](_0x19057f(0x141)+_0x424019['status']+_0x19057f(0x182)+_0x1fe90e+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error'](_0x19057f(0x16a)+_0x424019['status']+'\x20'+_0x424019[_0x19057f(0x138)]),this['consecutiveFailures']++,![]);}catch(_0x419ad3){const _0x43da95=Date[_0x19057f(0x158)]()-_0x345946;this[_0x19057f(0x149)]++,console[_0x19057f(0x160)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x43da95+_0x19057f(0x14f),_0x419ad3);if(_0x419ad3 instanceof Error){if(_0x419ad3[_0x19057f(0x180)]==='AbortError')console['error'](_0x19057f(0x17c)+this[_0x19057f(0x16d)]+'ms');else{if(_0x419ad3[_0x19057f(0x13d)][_0x19057f(0x189)]('ENOTFOUND'))console[_0x19057f(0x160)](_0x19057f(0x13a)+this[_0x19057f(0x15b)]);else{if(_0x419ad3[_0x19057f(0x13d)]['includes'](_0x19057f(0x129)))console['error']('🚫\x20Connection\x20refused\x20by\x20'+this[_0x19057f(0x15b)]);else _0x419ad3['message']['includes']('ETIMEDOUT')?console[_0x19057f(0x160)](_0x19057f(0x137)+this[_0x19057f(0x15b)]):console[_0x19057f(0x160)](_0x19057f(0x12c)+_0x419ad3[_0x19057f(0x13d)]);}}}return![];}}[a39_0x36d789(0x140)](_0x2f2cbf){const _0x2b52e9=a39_0x36d789;console[_0x2b52e9(0x160)](_0x2b52e9(0x174)+_0x2f2cbf),console['error'](_0x2b52e9(0x181)+this['consecutiveFailures']),console[_0x2b52e9(0x160)](_0x2b52e9(0x163)),console['error'](_0x2b52e9(0x17a)+new Date()[_0x2b52e9(0x159)]()),console[_0x2b52e9(0x160)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x2b52e9(0x15b)]),console[_0x2b52e9(0x160)](_0x2b52e9(0x187)+Math[_0x2b52e9(0x14d)](this[_0x2b52e9(0x148)]/0x3e8/0x3c)+_0x2b52e9(0x145)),console['error'](_0x2b52e9(0x16c)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x2b52e9(0x147)](),process[_0x2b52e9(0x13e)](0x1);}['startMonitoring'](){const _0x1eb795=a39_0x36d789;console['log'](_0x1eb795(0x166)),console[_0x1eb795(0x16f)](_0x1eb795(0x132)+this[_0x1eb795(0x15b)]),console[_0x1eb795(0x16f)]('⏰\x20Interval:\x20'+Math['round'](this[_0x1eb795(0x148)]/0x3e8/0x3c)+_0x1eb795(0x145)),console[_0x1eb795(0x16f)](_0x1eb795(0x15f)+this[_0x1eb795(0x168)]),this[_0x1eb795(0x12e)]()[_0x1eb795(0x170)](_0x1462ef=>{const _0x22da6f=_0x1eb795;if(!_0x1462ef&&this[_0x22da6f(0x149)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x22da6f(0x140)](_0x22da6f(0x136)+this['consecutiveFailures']+'\x20times');return;}})[_0x1eb795(0x14e)](_0x271b86=>{const _0x3a6b51=_0x1eb795;console[_0x3a6b51(0x160)](_0x3a6b51(0x150),_0x271b86);if(this['consecutiveFailures']>=this[_0x3a6b51(0x168)]){this[_0x3a6b51(0x140)](_0x3a6b51(0x188)+_0x271b86[_0x3a6b51(0x13d)]);return;}}),this[_0x1eb795(0x17f)]=setInterval(async()=>{const _0x37d5c2=_0x1eb795;try{const _0x9bc7ce=await this[_0x37d5c2(0x12e)]();!_0x9bc7ce&&(console[_0x37d5c2(0x133)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x37d5c2(0x149)]+'/'+this[_0x37d5c2(0x168)]+')'),this[_0x37d5c2(0x149)]>=this[_0x37d5c2(0x168)]&&this[_0x37d5c2(0x140)](_0x37d5c2(0x13c)+this[_0x37d5c2(0x15b)]+_0x37d5c2(0x17e)+this['consecutiveFailures']+_0x37d5c2(0x12f)));}catch(_0x5d33ec){console[_0x37d5c2(0x160)]('Periodic\x20domain\x20check\x20error:',_0x5d33ec),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x37d5c2(0x140)](_0x37d5c2(0x128)+(_0x5d33ec instanceof Error?_0x5d33ec[_0x37d5c2(0x13d)]:_0x37d5c2(0x143)));}},this[_0x1eb795(0x148)]),console[_0x1eb795(0x16f)](_0x1eb795(0x139));}[a39_0x36d789(0x147)](){const _0x93e04f=a39_0x36d789;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this[_0x93e04f(0x17f)]=null,console['log'](_0x93e04f(0x155)));}[a39_0x36d789(0x142)](){const _0x78dadd=a39_0x36d789;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x78dadd(0x14d)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x78dadd(0x149)],'maxFailuresAllowed':this[_0x78dadd(0x168)],'nextCheckIn':this['monitoringInterval']?this[_0x78dadd(0x148)]:undefined};}async[a39_0x36d789(0x127)](){const _0x58783a=a39_0x36d789;return console[_0x58783a(0x16f)](_0x58783a(0x173)),await this[_0x58783a(0x12e)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0x36d789(0x164)]=new DomainMonitoringService();function a39_0x23e0(){const _0x8a7dde=['🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','TIMEOUT_MS','random','log','then','toString','status','🔧\x20Manual\x20domain\x20check\x20requested','💥\x20CRITICAL\x20ERROR:\x20','base64','33094985IgcNwS','__importDefault','from','9737080mLdSEf','📅\x20Crash\x20time:\x20','1082541GtbGkS','⏰\x20Request\x20timeout\x20after\x20','9obnlRR','\x20is\x20not\x20responding\x20after\x20','monitoringInterval','name','🔥\x20Consecutive\x20failures:\x20','\x20in\x20','\x20\x20\x20-\x20Response\x20time:\x20','7930090RaROYE','headers','TesSoft\x20Domain\x20Monitor/1.0','⏰\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','includes','manualCheck','Domain\x20monitoring\x20threw\x20error:\x20','ECONNREFUSED','gzip,\x20deflate','getRandomInterval','🔥\x20Unexpected\x20error:\x20','defineProperty','checkDomain','\x20consecutive\x20attempts','89iSAadp','__esModule','📡\x20Target:\x20','warn','DomainMonitoringService','🔓\x20Decoded\x20URL:\x20','Initial\x20domain\x20check\x20failed\x20','⏰\x20Connection\x20timeout\x20to\x20','statusText','✅\x20Domain\x20monitoring\x20started\x20successfully','🌐\x20DNS\x20resolution\x20failed\x20for\x20','entries','Domain\x20','message','exit','decodeFromBase64','crashServer','✅\x20Domain\x20check\x20successful:\x20','getMonitoringStats','Unknown\x20error','📝\x20Encoded\x20URL\x20(base64):\x20','\x20minutes','keep-alive','stopMonitoring','CHECK_INTERVAL_MS','consecutiveFailures','\x20\x20\x20-\x20Headers:','5969915CkVqcQ','encodeToBase64','round','catch','ms:','Initial\x20domain\x20check\x20error:','fromEntries','abort','https://google.com','4DXgyKD','🛑\x20Domain\x20monitoring\x20stopped','utf-8','3850998vZFvzF','now','toISOString','default','DOMAIN_URL','14PqDeVr','en-US,en;q=0.5','28474UmjNMj','🚨\x20Max\x20failures\x20before\x20crash:\x20','error','📊\x20Response\x20received:','🔍\x20Checking\x20domain\x20availability:\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','domainMonitoringService','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','🚀\x20Starting\x20domain\x20monitoring\x20service','GET','MAX_CONSECUTIVE_FAILURES','📡\x20Target\x20domain:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','node-fetch'];a39_0x23e0=function(){return _0x8a7dde;};return a39_0x23e0();}