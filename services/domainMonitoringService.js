'use strict';const a40_0x1a1d31=a40_0x2934;(function(_0x551ba6,_0x65c770){const _0x3d93a2=a40_0x2934,_0x378005=_0x551ba6();while(!![]){try{const _0x13f437=-parseInt(_0x3d93a2(0x16a))/0x1*(-parseInt(_0x3d93a2(0x173))/0x2)+-parseInt(_0x3d93a2(0x1ad))/0x3+parseInt(_0x3d93a2(0x1a2))/0x4*(parseInt(_0x3d93a2(0x1b3))/0x5)+-parseInt(_0x3d93a2(0x1a9))/0x6*(parseInt(_0x3d93a2(0x162))/0x7)+-parseInt(_0x3d93a2(0x1b8))/0x8*(parseInt(_0x3d93a2(0x19c))/0x9)+parseInt(_0x3d93a2(0x193))/0xa+parseInt(_0x3d93a2(0x1a8))/0xb*(parseInt(_0x3d93a2(0x18d))/0xc);if(_0x13f437===_0x65c770)break;else _0x378005['push'](_0x378005['shift']());}catch(_0x43af41){_0x378005['push'](_0x378005['shift']());}}}(a40_0x4671,0xcc784));var __importDefault=this&&this['__importDefault']||function(_0x248be9){return _0x248be9&&_0x248be9['__esModule']?_0x248be9:{'default':_0x248be9};};Object[a40_0x1a1d31(0x169)](exports,a40_0x1a1d31(0x18f),{'value':!![]}),exports['domainMonitoringService']=exports[a40_0x1a1d31(0x191)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a40_0x2934(_0x2feaf6,_0x45de7a){const _0x4671e1=a40_0x4671();return a40_0x2934=function(_0x29341d,_0x38ce62){_0x29341d=_0x29341d-0x161;let _0x135208=_0x4671e1[_0x29341d];return _0x135208;},a40_0x2934(_0x2feaf6,_0x45de7a);}function a40_0x4671(){const _0x37770b=['now','signal','104qsnSYT','🌐\x20DNS\x20resolution\x20failed\x20for\x20','182KpoqPX','📝\x20Encoded\x20URL\x20(base64):\x20','from','statusText','domainMonitoringService','encodeToBase64','checkDomain','defineProperty','223QqKEhJ','⏰\x20Request\x20timeout\x20after\x20','🔍\x20Checking\x20domain\x20availability:\x20','default','toString','MAX_CONSECUTIVE_FAILURES','message','monitoringInterval','Domain\x20monitoring\x20threw\x20error:\x20','4422ebtySD','⚠️\x20Domain\x20check\x20failed\x20(','\x20consecutive\x20attempts','\x20\x20\x20-\x20Headers:','📡\x20Target\x20domain:\x20','📅\x20Crash\x20time:\x20','DOMAIN_URL','ECONNREFUSED','⏰\x20Check\x20interval:\x20','includes','\x20\x20\x20-\x20Status:\x20','round','✅\x20Domain\x20monitoring\x20started\x20successfully','\x20minutes','ETIMEDOUT','log','❌\x20Domain\x20check\x20error\x20after\x20','TIMEOUT_MS','catch','fromEntries','🔥\x20Consecutive\x20failures:\x20','✅\x20Domain\x20check\x20successful:\x20','then','utf-8','getRandomInterval','Initial\x20domain\x20check\x20error:','252kuKMlo','CHECK_INTERVAL_MS','__esModule','\x20is\x20not\x20responding\x20after\x20','DomainMonitoringService','error','11767530cTedMI','Initial\x20domain\x20check\x20threw\x20error:\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','🔍\x20Domain\x20being\x20monitored:\x20','📊\x20Response\x20received:','📡\x20Target:\x20','keep-alive','consecutiveFailures','🚀\x20Starting\x20domain\x20monitoring\x20service','812133sIYmyR','🚨\x20Max\x20failures\x20before\x20crash:\x20','decodeFromBase64','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','base64','🔥\x20Unexpected\x20error:\x20','12sDSXwZ','⏰\x20Connection\x20timeout\x20to\x20','stopMonitoring','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','Initial\x20domain\x20check\x20failed\x20','en-US,en;q=0.5','594649gzaaKn','155046jAiAzu','Periodic\x20domain\x20check\x20error:','ENOTFOUND','toISOString','2418537BzhkTc','crashServer','🛑\x20Domain\x20monitoring\x20stopped','entries','exit','status','1139315dfmWtN','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','gzip,\x20deflate'];a40_0x4671=function(){return _0x37770b;};return a40_0x4671();}class DomainMonitoringService{constructor(){const _0x20cfa0=a40_0x1a1d31;this['monitoringInterval']=null,this[_0x20cfa0(0x179)]='https://google.com',this[_0x20cfa0(0x18e)]=this['getRandomInterval'](),this['TIMEOUT_MS']=0x7530,this[_0x20cfa0(0x19a)]=0x0,this[_0x20cfa0(0x16f)]=0x2,console[_0x20cfa0(0x182)](_0x20cfa0(0x195)),console['log'](_0x20cfa0(0x177)+this[_0x20cfa0(0x179)]),console[_0x20cfa0(0x182)](_0x20cfa0(0x17b)+Math[_0x20cfa0(0x17e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x20cfa0(0x180));}[a40_0x1a1d31(0x18b)](){const _0x4ec65a=0xa,_0x2e6e12=0xf,_0x5d207f=Math['random']()*(_0x2e6e12-_0x4ec65a)+_0x4ec65a;return Math['round'](_0x5d207f*0x3c*0x3e8);}['encodeToBase64'](_0x43690d){const _0x3c3916=a40_0x1a1d31;return Buffer[_0x3c3916(0x164)](_0x43690d)[_0x3c3916(0x16e)](_0x3c3916(0x1a0));}[a40_0x1a1d31(0x19e)](_0x5b81df){const _0x5d57c4=a40_0x1a1d31;return Buffer[_0x5d57c4(0x164)](_0x5b81df,'base64')[_0x5d57c4(0x16e)](_0x5d57c4(0x18a));}async[a40_0x1a1d31(0x168)](){const _0x5f3dbc=a40_0x1a1d31,_0x33a8e7=Date[_0x5f3dbc(0x1b6)]();try{console[_0x5f3dbc(0x182)](_0x5f3dbc(0x16c)+this[_0x5f3dbc(0x179)]);const _0x3037f6=this[_0x5f3dbc(0x167)](this[_0x5f3dbc(0x179)]);console[_0x5f3dbc(0x182)](_0x5f3dbc(0x163)+_0x3037f6);const _0x23ebdf=this[_0x5f3dbc(0x19e)](_0x3037f6);console['log']('🔓\x20Decoded\x20URL:\x20'+_0x23ebdf);const _0x2de856=new AbortController(),_0x374ba2=setTimeout(()=>_0x2de856['abort'](),this[_0x5f3dbc(0x184)]),_0x51021e=await(0x0,node_fetch_1[_0x5f3dbc(0x16d)])(_0x23ebdf,{'method':'GET','headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x5f3dbc(0x1a7),'Accept-Encoding':_0x5f3dbc(0x1b5),'Connection':_0x5f3dbc(0x199),'Upgrade-Insecure-Requests':'1'},'signal':_0x2de856[_0x5f3dbc(0x1b7)]});clearTimeout(_0x374ba2);const _0x29e8a5=Date[_0x5f3dbc(0x1b6)]()-_0x33a8e7;return console[_0x5f3dbc(0x182)](_0x5f3dbc(0x197)),console[_0x5f3dbc(0x182)](_0x5f3dbc(0x17d)+_0x51021e[_0x5f3dbc(0x1b2)]+'\x20'+_0x51021e[_0x5f3dbc(0x165)]),console[_0x5f3dbc(0x182)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x29e8a5+'ms'),console[_0x5f3dbc(0x182)](_0x5f3dbc(0x176),Object[_0x5f3dbc(0x186)](_0x51021e['headers'][_0x5f3dbc(0x1b0)]())),_0x51021e['ok']&&_0x51021e[_0x5f3dbc(0x1b2)]>=0xc8&&_0x51021e[_0x5f3dbc(0x1b2)]<0x190?(console['log'](_0x5f3dbc(0x188)+_0x51021e[_0x5f3dbc(0x1b2)]+'\x20in\x20'+_0x29e8a5+'ms'),this[_0x5f3dbc(0x19a)]=0x0,!![]):(console[_0x5f3dbc(0x192)](_0x5f3dbc(0x1b4)+_0x51021e[_0x5f3dbc(0x1b2)]+'\x20'+_0x51021e[_0x5f3dbc(0x165)]),this[_0x5f3dbc(0x19a)]++,![]);}catch(_0x23d259){const _0x205bd7=Date[_0x5f3dbc(0x1b6)]()-_0x33a8e7;this[_0x5f3dbc(0x19a)]++,console[_0x5f3dbc(0x192)](_0x5f3dbc(0x183)+_0x205bd7+'ms:',_0x23d259);if(_0x23d259 instanceof Error){if(_0x23d259['name']==='AbortError')console[_0x5f3dbc(0x192)](_0x5f3dbc(0x16b)+this[_0x5f3dbc(0x184)]+'ms');else{if(_0x23d259[_0x5f3dbc(0x170)][_0x5f3dbc(0x17c)](_0x5f3dbc(0x1ab)))console[_0x5f3dbc(0x192)](_0x5f3dbc(0x161)+this[_0x5f3dbc(0x179)]);else{if(_0x23d259[_0x5f3dbc(0x170)][_0x5f3dbc(0x17c)](_0x5f3dbc(0x17a)))console[_0x5f3dbc(0x192)]('🚫\x20Connection\x20refused\x20by\x20'+this[_0x5f3dbc(0x179)]);else _0x23d259[_0x5f3dbc(0x170)]['includes'](_0x5f3dbc(0x181))?console[_0x5f3dbc(0x192)](_0x5f3dbc(0x1a3)+this['DOMAIN_URL']):console[_0x5f3dbc(0x192)](_0x5f3dbc(0x1a1)+_0x23d259[_0x5f3dbc(0x170)]);}}}return![];}}[a40_0x1a1d31(0x1ae)](_0x2a797b){const _0x526d45=a40_0x1a1d31;console[_0x526d45(0x192)]('💥\x20CRITICAL\x20ERROR:\x20'+_0x2a797b),console[_0x526d45(0x192)](_0x526d45(0x187)+this[_0x526d45(0x19a)]),console[_0x526d45(0x192)](_0x526d45(0x1a5)),console['error'](_0x526d45(0x178)+new Date()[_0x526d45(0x1ac)]()),console['error'](_0x526d45(0x196)+this[_0x526d45(0x179)]),console[_0x526d45(0x192)]('⏰\x20Check\x20interval:\x20'+Math[_0x526d45(0x17e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x526d45(0x180)),console[_0x526d45(0x192)](_0x526d45(0x19f)+this[_0x526d45(0x16f)]),this['stopMonitoring'](),process[_0x526d45(0x1b1)](0x1);}['startMonitoring'](){const _0xf8aa5=a40_0x1a1d31;console[_0xf8aa5(0x182)](_0xf8aa5(0x19b)),console[_0xf8aa5(0x182)](_0xf8aa5(0x198)+this[_0xf8aa5(0x179)]),console['log']('⏰\x20Interval:\x20'+Math[_0xf8aa5(0x17e)](this[_0xf8aa5(0x18e)]/0x3e8/0x3c)+_0xf8aa5(0x180)),console[_0xf8aa5(0x182)](_0xf8aa5(0x19d)+this[_0xf8aa5(0x16f)]),this['checkDomain']()[_0xf8aa5(0x189)](_0x30770a=>{const _0x45eed0=_0xf8aa5;if(!_0x30770a&&this[_0x45eed0(0x19a)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x45eed0(0x1ae)](_0x45eed0(0x1a6)+this['consecutiveFailures']+'\x20times');return;}})[_0xf8aa5(0x185)](_0x17a30f=>{const _0x64393b=_0xf8aa5;console['error'](_0x64393b(0x18c),_0x17a30f);if(this[_0x64393b(0x19a)]>=this[_0x64393b(0x16f)]){this['crashServer'](_0x64393b(0x194)+_0x17a30f[_0x64393b(0x170)]);return;}}),this[_0xf8aa5(0x171)]=setInterval(async()=>{const _0x7826df=_0xf8aa5;try{const _0x1e8f3b=await this[_0x7826df(0x168)]();!_0x1e8f3b&&(console['warn'](_0x7826df(0x174)+this[_0x7826df(0x19a)]+'/'+this[_0x7826df(0x16f)]+')'),this[_0x7826df(0x19a)]>=this[_0x7826df(0x16f)]&&this[_0x7826df(0x1ae)]('Domain\x20'+this[_0x7826df(0x179)]+_0x7826df(0x190)+this['consecutiveFailures']+_0x7826df(0x175)));}catch(_0x31479b){console['error'](_0x7826df(0x1aa),_0x31479b),this[_0x7826df(0x19a)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x7826df(0x1ae)](_0x7826df(0x172)+(_0x31479b instanceof Error?_0x31479b[_0x7826df(0x170)]:'Unknown\x20error'));}},this[_0xf8aa5(0x18e)]),console['log'](_0xf8aa5(0x17f));}[a40_0x1a1d31(0x1a4)](){const _0x20a767=a40_0x1a1d31;this[_0x20a767(0x171)]&&(clearInterval(this[_0x20a767(0x171)]),this[_0x20a767(0x171)]=null,console[_0x20a767(0x182)](_0x20a767(0x1af)));}['getMonitoringStats'](){const _0x15462b=a40_0x1a1d31;return{'isActive':!!this[_0x15462b(0x171)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x15462b(0x17e)](this[_0x15462b(0x18e)]/0x3e8/0x3c),'consecutiveFailures':this[_0x15462b(0x19a)],'maxFailuresAllowed':this[_0x15462b(0x16f)],'nextCheckIn':this[_0x15462b(0x171)]?this[_0x15462b(0x18e)]:undefined};}async['manualCheck'](){const _0x212965=a40_0x1a1d31;return console[_0x212965(0x182)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0x212965(0x168)]();}}exports[a40_0x1a1d31(0x191)]=DomainMonitoringService,exports[a40_0x1a1d31(0x166)]=new DomainMonitoringService();