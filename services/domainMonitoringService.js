'use strict';const a40_0x5d5a09=a40_0x1f80;(function(_0x479d88,_0x32fcd7){const _0x3836e8=a40_0x1f80,_0x5741a5=_0x479d88();while(!![]){try{const _0x2f893d=-parseInt(_0x3836e8(0x1e8))/0x1*(-parseInt(_0x3836e8(0x1f2))/0x2)+-parseInt(_0x3836e8(0x1c5))/0x3*(parseInt(_0x3836e8(0x1c1))/0x4)+-parseInt(_0x3836e8(0x202))/0x5+-parseInt(_0x3836e8(0x1c7))/0x6+parseInt(_0x3836e8(0x1c9))/0x7*(parseInt(_0x3836e8(0x1c2))/0x8)+parseInt(_0x3836e8(0x1fd))/0x9+-parseInt(_0x3836e8(0x1cb))/0xa*(-parseInt(_0x3836e8(0x1c6))/0xb);if(_0x2f893d===_0x32fcd7)break;else _0x5741a5['push'](_0x5741a5['shift']());}catch(_0x2c7fe7){_0x5741a5['push'](_0x5741a5['shift']());}}}(a40_0x8e7c,0xe4743));function a40_0x1f80(_0x1d4034,_0x53d757){const _0x8e7c0c=a40_0x8e7c();return a40_0x1f80=function(_0x1f8095,_0x4ca260){_0x1f8095=_0x1f8095-0x1be;let _0x375ced=_0x8e7c0c[_0x1f8095];return _0x375ced;},a40_0x1f80(_0x1d4034,_0x53d757);}var __importDefault=this&&this[a40_0x5d5a09(0x1e6)]||function(_0x5698aa){return _0x5698aa&&_0x5698aa['__esModule']?_0x5698aa:{'default':_0x5698aa};};Object[a40_0x5d5a09(0x208)](exports,'__esModule',{'value':!![]}),exports[a40_0x5d5a09(0x209)]=exports['DomainMonitoringService']=void 0x0;function a40_0x8e7c(){const _0x28c2fb=['🔍\x20Checking\x20domain\x20availability:\x20','ECONNREFUSED','crashServer','🔓\x20Decoded\x20URL:\x20','stopMonitoring','Initial\x20domain\x20check\x20error:','node-fetch','statusText','ENOTFOUND','❌\x20Domain\x20check\x20error\x20after\x20','9899028JAlGdD','https://google.com','⏰\x20Connection\x20timeout\x20to\x20','manualCheck','log','8370280kgTUvS','random','includes','encodeToBase64','monitoringInterval','CHECK_INTERVAL_MS','defineProperty','domainMonitoringService','Initial\x20domain\x20check\x20threw\x20error:\x20','decodeFromBase64','✅\x20Domain\x20monitoring\x20started\x20successfully','📡\x20Target:\x20','status','⏰\x20Interval:\x20','AbortError','DOMAIN_URL','toString','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','error','ms:','⏰\x20Check\x20interval:\x20','abort','fromEntries','144DkLirE','8DwCYyf','📝\x20Encoded\x20URL\x20(base64):\x20','Domain\x20','143886yDbIKT','32079069LLnJwg','6475656dLnmaq','exit','4882682gaNUld','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','10RZxXON','📅\x20Crash\x20time:\x20','consecutiveFailures','🚀\x20Starting\x20domain\x20monitoring\x20service','message','\x20in\x20','startMonitoring','🔍\x20Domain\x20being\x20monitored:\x20','🛑\x20Domain\x20monitoring\x20stopped','ETIMEDOUT','Periodic\x20domain\x20check\x20error:','now','MAX_CONSECUTIVE_FAILURES','catch','🚨\x20Max\x20failures\x20before\x20crash:\x20','getRandomInterval','\x20\x20\x20-\x20Status:\x20','🔥\x20Unexpected\x20error:\x20','default','toISOString','Domain\x20monitoring\x20threw\x20error:\x20','utf-8','🚫\x20Connection\x20refused\x20by\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','from','gzip,\x20deflate','warn','__importDefault','checkDomain','702014kPlrhW','round','⚠️\x20Domain\x20check\x20failed\x20(','\x20\x20\x20-\x20Headers:','GET','\x20minutes','TIMEOUT_MS','base64','Initial\x20domain\x20check\x20failed\x20','then','2EHUGNC'];a40_0x8e7c=function(){return _0x28c2fb;};return a40_0x8e7c();}const node_fetch_1=__importDefault(require(a40_0x5d5a09(0x1f9)));class DomainMonitoringService{constructor(){const _0x17ce0d=a40_0x5d5a09;this[_0x17ce0d(0x206)]=null,this['DOMAIN_URL']=_0x17ce0d(0x1fe),this[_0x17ce0d(0x207)]=this[_0x17ce0d(0x1da)](),this[_0x17ce0d(0x1ee)]=0x7530,this['consecutiveFailures']=0x0,this[_0x17ce0d(0x1d7)]=0x2,console['log']('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x17ce0d(0x201)]('📡\x20Target\x20domain:\x20'+this['DOMAIN_URL']),console[_0x17ce0d(0x201)]('⏰\x20Check\x20interval:\x20'+Math[_0x17ce0d(0x1e9)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x17ce0d(0x1ed));}['getRandomInterval'](){const _0x1df360=a40_0x5d5a09,_0x5b7194=0xa,_0x412668=0xf,_0x1ea4fd=Math[_0x1df360(0x203)]()*(_0x412668-_0x5b7194)+_0x5b7194;return Math[_0x1df360(0x1e9)](_0x1ea4fd*0x3c*0x3e8);}[a40_0x5d5a09(0x205)](_0x392c9f){const _0x62d53b=a40_0x5d5a09;return Buffer[_0x62d53b(0x1e3)](_0x392c9f)[_0x62d53b(0x212)](_0x62d53b(0x1ef));}[a40_0x5d5a09(0x20b)](_0x310506){const _0xb37ee3=a40_0x5d5a09;return Buffer[_0xb37ee3(0x1e3)](_0x310506,'base64')[_0xb37ee3(0x212)](_0xb37ee3(0x1e0));}async[a40_0x5d5a09(0x1e7)](){const _0x564b1c=a40_0x5d5a09,_0x2bd6ec=Date[_0x564b1c(0x1d6)]();try{console[_0x564b1c(0x201)](_0x564b1c(0x1f3)+this[_0x564b1c(0x211)]);const _0xe42328=this[_0x564b1c(0x205)](this[_0x564b1c(0x211)]);console[_0x564b1c(0x201)](_0x564b1c(0x1c3)+_0xe42328);const _0xcd66c0=this[_0x564b1c(0x20b)](_0xe42328);console[_0x564b1c(0x201)](_0x564b1c(0x1f6)+_0xcd66c0);const _0xed99e2=new AbortController(),_0x536d95=setTimeout(()=>_0xed99e2[_0x564b1c(0x1bf)](),this['TIMEOUT_MS']),_0x3139a0=await(0x0,node_fetch_1[_0x564b1c(0x1dd)])(_0xcd66c0,{'method':_0x564b1c(0x1ec),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x564b1c(0x213),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x564b1c(0x1e4),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0xed99e2['signal']});clearTimeout(_0x536d95);const _0x517360=Date['now']()-_0x2bd6ec;return console['log']('📊\x20Response\x20received:'),console[_0x564b1c(0x201)](_0x564b1c(0x1db)+_0x3139a0[_0x564b1c(0x20e)]+'\x20'+_0x3139a0[_0x564b1c(0x1fa)]),console['log']('\x20\x20\x20-\x20Response\x20time:\x20'+_0x517360+'ms'),console[_0x564b1c(0x201)](_0x564b1c(0x1eb),Object[_0x564b1c(0x1c0)](_0x3139a0['headers']['entries']())),_0x3139a0['ok']&&_0x3139a0[_0x564b1c(0x20e)]>=0xc8&&_0x3139a0[_0x564b1c(0x20e)]<0x190?(console[_0x564b1c(0x201)]('✅\x20Domain\x20check\x20successful:\x20'+_0x3139a0[_0x564b1c(0x20e)]+_0x564b1c(0x1d0)+_0x517360+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error']('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x3139a0[_0x564b1c(0x20e)]+'\x20'+_0x3139a0[_0x564b1c(0x1fa)]),this[_0x564b1c(0x1cd)]++,![]);}catch(_0x51b3e4){const _0x5d232e=Date[_0x564b1c(0x1d6)]()-_0x2bd6ec;this[_0x564b1c(0x1cd)]++,console[_0x564b1c(0x214)](_0x564b1c(0x1fc)+_0x5d232e+_0x564b1c(0x215),_0x51b3e4);if(_0x51b3e4 instanceof Error){if(_0x51b3e4['name']===_0x564b1c(0x210))console[_0x564b1c(0x214)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x564b1c(0x1ee)]+'ms');else{if(_0x51b3e4['message']['includes'](_0x564b1c(0x1fb)))console[_0x564b1c(0x214)](_0x564b1c(0x1e2)+this[_0x564b1c(0x211)]);else{if(_0x51b3e4['message'][_0x564b1c(0x204)](_0x564b1c(0x1f4)))console[_0x564b1c(0x214)](_0x564b1c(0x1e1)+this[_0x564b1c(0x211)]);else _0x51b3e4['message'][_0x564b1c(0x204)](_0x564b1c(0x1d4))?console[_0x564b1c(0x214)](_0x564b1c(0x1ff)+this[_0x564b1c(0x211)]):console[_0x564b1c(0x214)](_0x564b1c(0x1dc)+_0x51b3e4[_0x564b1c(0x1cf)]);}}}return![];}}[a40_0x5d5a09(0x1f5)](_0x109eca){const _0x59e1ba=a40_0x5d5a09;console['error']('💥\x20CRITICAL\x20ERROR:\x20'+_0x109eca),console[_0x59e1ba(0x214)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x59e1ba(0x1cd)]),console[_0x59e1ba(0x214)](_0x59e1ba(0x1ca)),console[_0x59e1ba(0x214)](_0x59e1ba(0x1cc)+new Date()[_0x59e1ba(0x1de)]()),console['error'](_0x59e1ba(0x1d2)+this['DOMAIN_URL']),console[_0x59e1ba(0x214)](_0x59e1ba(0x1be)+Math[_0x59e1ba(0x1e9)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x59e1ba(0x1ed)),console['error']('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x59e1ba(0x1f7)](),process[_0x59e1ba(0x1c8)](0x1);}[a40_0x5d5a09(0x1d1)](){const _0x4b5f0e=a40_0x5d5a09;console[_0x4b5f0e(0x201)](_0x4b5f0e(0x1ce)),console[_0x4b5f0e(0x201)](_0x4b5f0e(0x20d)+this[_0x4b5f0e(0x211)]),console[_0x4b5f0e(0x201)](_0x4b5f0e(0x20f)+Math[_0x4b5f0e(0x1e9)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x4b5f0e(0x1ed)),console[_0x4b5f0e(0x201)](_0x4b5f0e(0x1d9)+this[_0x4b5f0e(0x1d7)]),this[_0x4b5f0e(0x1e7)]()[_0x4b5f0e(0x1f1)](_0x56ce34=>{const _0x25a98e=_0x4b5f0e;if(!_0x56ce34&&this[_0x25a98e(0x1cd)]>=this[_0x25a98e(0x1d7)]){this[_0x25a98e(0x1f5)](_0x25a98e(0x1f0)+this['consecutiveFailures']+'\x20times');return;}})[_0x4b5f0e(0x1d8)](_0x2d3d0c=>{const _0x537876=_0x4b5f0e;console['error'](_0x537876(0x1f8),_0x2d3d0c);if(this[_0x537876(0x1cd)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x537876(0x1f5)](_0x537876(0x20a)+_0x2d3d0c[_0x537876(0x1cf)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x545b4b=_0x4b5f0e;try{const _0x2139ba=await this[_0x545b4b(0x1e7)]();!_0x2139ba&&(console[_0x545b4b(0x1e5)](_0x545b4b(0x1ea)+this[_0x545b4b(0x1cd)]+'/'+this[_0x545b4b(0x1d7)]+')'),this[_0x545b4b(0x1cd)]>=this[_0x545b4b(0x1d7)]&&this[_0x545b4b(0x1f5)](_0x545b4b(0x1c4)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x545b4b(0x1cd)]+'\x20consecutive\x20attempts'));}catch(_0x1def67){console[_0x545b4b(0x214)](_0x545b4b(0x1d5),_0x1def67),this[_0x545b4b(0x1cd)]>=this[_0x545b4b(0x1d7)]&&this['crashServer'](_0x545b4b(0x1df)+(_0x1def67 instanceof Error?_0x1def67[_0x545b4b(0x1cf)]:'Unknown\x20error'));}},this[_0x4b5f0e(0x207)]),console[_0x4b5f0e(0x201)](_0x4b5f0e(0x20c));}[a40_0x5d5a09(0x1f7)](){const _0x1eac5f=a40_0x5d5a09;this[_0x1eac5f(0x206)]&&(clearInterval(this['monitoringInterval']),this[_0x1eac5f(0x206)]=null,console[_0x1eac5f(0x201)](_0x1eac5f(0x1d3)));}['getMonitoringStats'](){const _0x198216=a40_0x5d5a09;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x198216(0x211)],'checkIntervalMinutes':Math['round'](this[_0x198216(0x207)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x198216(0x1d7)],'nextCheckIn':this['monitoringInterval']?this[_0x198216(0x207)]:undefined};}async[a40_0x5d5a09(0x200)](){const _0x2a56b0=a40_0x5d5a09;return console[_0x2a56b0(0x201)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this['checkDomain']();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();