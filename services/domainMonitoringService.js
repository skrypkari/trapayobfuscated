'use strict';function a37_0x5b43(){const _0xbadf06=['ðŸ“…\x20Crash\x20time:\x20','stopMonitoring','defineProperty','then','âœ…\x20Domain\x20monitoring\x20started\x20successfully','encodeToBase64','abort','utf-8','__esModule','base64','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','Domain\x20','name','fromEntries','random','MAX_CONSECUTIVE_FAILURES','Periodic\x20domain\x20check\x20error:','ðŸ”“\x20Decoded\x20URL:\x20','675370upDZBn','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','toString','ETIMEDOUT','startMonitoring','keep-alive','message','log','ðŸ”\x20Domain\x20being\x20monitored:\x20','Initial\x20domain\x20check\x20failed\x20','monitoringInterval','includes','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','DOMAIN_URL','âš ï¸\x20Domain\x20check\x20failed\x20(','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','toISOString','status','Initial\x20domain\x20check\x20threw\x20error:\x20','CHECK_INTERVAL_MS','\x20minutes','757267XNwrJE','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ENOTFOUND','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','ðŸ“¡\x20Target:\x20','crashServer','round','ECONNREFUSED','\x20\x20\x20-\x20Response\x20time:\x20','6btHUCI','Initial\x20domain\x20check\x20error:','54lpuQwa','â°\x20Interval:\x20','getRandomInterval','â°\x20Request\x20timeout\x20after\x20','âŒ\x20Domain\x20check\x20error\x20after\x20','184167jBwVxr','214176VQamhx','ðŸ”¥\x20Unexpected\x20error:\x20','ðŸ›‘\x20Domain\x20monitoring\x20stopped','catch','manualCheck','337490IrFZLz','https://amaterasy884.icu/','from','error','now','Unknown\x20error','consecutiveFailures','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','2SqxbXm','getMonitoringStats','entries','checkDomain','ms:','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','102333MfFcBQ','\x20consecutive\x20attempts','ðŸ“Š\x20Response\x20received:','headers','11039556DBpDjD','domainMonitoringService','warn','ðŸ“¡\x20Target\x20domain:\x20','GET','TesSoft\x20Domain\x20Monitor/1.0','signal','32qZcIup','\x20\x20\x20-\x20Status:\x20','TIMEOUT_MS','gzip,\x20deflate','decodeFromBase64','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','statusText'];a37_0x5b43=function(){return _0xbadf06;};return a37_0x5b43();}const a37_0x369e90=a37_0x798d;(function(_0x79b08f,_0x519041){const _0x1009f7=a37_0x798d,_0xd543b=_0x79b08f();while(!![]){try{const _0x11f8c5=-parseInt(_0x1009f7(0x20c))/0x1+parseInt(_0x1009f7(0x21a))/0x2*(-parseInt(_0x1009f7(0x1c2))/0x3)+-parseInt(_0x1009f7(0x20d))/0x4+parseInt(_0x1009f7(0x1e6))/0x5*(parseInt(_0x1009f7(0x205))/0x6)+parseInt(_0x1009f7(0x1fc))/0x7*(-parseInt(_0x1009f7(0x1cd))/0x8)+-parseInt(_0x1009f7(0x207))/0x9*(parseInt(_0x1009f7(0x212))/0xa)+parseInt(_0x1009f7(0x1c6))/0xb;if(_0x11f8c5===_0x519041)break;else _0xd543b['push'](_0xd543b['shift']());}catch(_0x261383){_0xd543b['push'](_0xd543b['shift']());}}}(a37_0x5b43,0x388ce));var __importDefault=this&&this['__importDefault']||function(_0x151283){const _0x1f3502=a37_0x798d;return _0x151283&&_0x151283[_0x1f3502(0x1dc)]?_0x151283:{'default':_0x151283};};Object[a37_0x369e90(0x1d6)](exports,a37_0x369e90(0x1dc),{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a37_0x798d(_0x5d682a,_0x2094f2){const _0x5b4317=a37_0x5b43();return a37_0x798d=function(_0x798da9,_0x33c845){_0x798da9=_0x798da9-0x1c0;let _0x4a3014=_0x5b4317[_0x798da9];return _0x4a3014;},a37_0x798d(_0x5d682a,_0x2094f2);}class DomainMonitoringService{constructor(){const _0x524369=a37_0x369e90;this[_0x524369(0x1f0)]=null,this[_0x524369(0x1f4)]=_0x524369(0x213),this[_0x524369(0x1fa)]=this[_0x524369(0x209)](),this[_0x524369(0x1cf)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x524369(0x1ed)]('ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'),console['log'](_0x524369(0x1c9)+this[_0x524369(0x1f4)]),console['log']('â°\x20Check\x20interval:\x20'+Math[_0x524369(0x202)](this[_0x524369(0x1fa)]/0x3e8/0x3c)+_0x524369(0x1fb));}[a37_0x369e90(0x209)](){const _0x55fde4=a37_0x369e90,_0x44da58=0xa,_0x5b07ec=0xf,_0x296ad0=Math[_0x55fde4(0x1e2)]()*(_0x5b07ec-_0x44da58)+_0x44da58;return Math[_0x55fde4(0x202)](_0x296ad0*0x3c*0x3e8);}[a37_0x369e90(0x1d9)](_0x370b1){const _0x18d084=a37_0x369e90;return Buffer[_0x18d084(0x214)](_0x370b1)['toString'](_0x18d084(0x1dd));}[a37_0x369e90(0x1d1)](_0x5950e8){const _0x591c4c=a37_0x369e90;return Buffer[_0x591c4c(0x214)](_0x5950e8,_0x591c4c(0x1dd))[_0x591c4c(0x1e8)](_0x591c4c(0x1db));}async[a37_0x369e90(0x21d)](){const _0x1ee48e=a37_0x369e90,_0x496252=Date[_0x1ee48e(0x216)]();try{console[_0x1ee48e(0x1ed)]('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x22179c=this['encodeToBase64'](this[_0x1ee48e(0x1f4)]);console[_0x1ee48e(0x1ed)](_0x1ee48e(0x1d2)+_0x22179c);const _0x52005f=this['decodeFromBase64'](_0x22179c);console[_0x1ee48e(0x1ed)](_0x1ee48e(0x1e5)+_0x52005f);const _0x9105b6=new AbortController(),_0x272ccf=setTimeout(()=>_0x9105b6[_0x1ee48e(0x1da)](),this[_0x1ee48e(0x1cf)]),_0x37f3e7=await(0x0,node_fetch_1['default'])(_0x52005f,{'method':_0x1ee48e(0x1ca),'headers':{'User-Agent':_0x1ee48e(0x1cb),'Accept':_0x1ee48e(0x1fd),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x1ee48e(0x1d0),'Connection':_0x1ee48e(0x1eb),'Upgrade-Insecure-Requests':'1'},'signal':_0x9105b6[_0x1ee48e(0x1cc)]});clearTimeout(_0x272ccf);const _0xa75688=Date[_0x1ee48e(0x216)]()-_0x496252;return console[_0x1ee48e(0x1ed)](_0x1ee48e(0x1c4)),console[_0x1ee48e(0x1ed)](_0x1ee48e(0x1ce)+_0x37f3e7[_0x1ee48e(0x1f8)]+'\x20'+_0x37f3e7['statusText']),console[_0x1ee48e(0x1ed)](_0x1ee48e(0x204)+_0xa75688+'ms'),console[_0x1ee48e(0x1ed)]('\x20\x20\x20-\x20Headers:',Object[_0x1ee48e(0x1e1)](_0x37f3e7[_0x1ee48e(0x1c5)][_0x1ee48e(0x21c)]())),_0x37f3e7['ok']&&_0x37f3e7[_0x1ee48e(0x1f8)]>=0xc8&&_0x37f3e7[_0x1ee48e(0x1f8)]<0x190?(console[_0x1ee48e(0x1ed)]('âœ…\x20Domain\x20check\x20successful:\x20'+_0x37f3e7[_0x1ee48e(0x1f8)]+'\x20in\x20'+_0xa75688+'ms'),this[_0x1ee48e(0x218)]=0x0,!![]):(console[_0x1ee48e(0x215)](_0x1ee48e(0x1f2)+_0x37f3e7[_0x1ee48e(0x1f8)]+'\x20'+_0x37f3e7[_0x1ee48e(0x1d3)]),this[_0x1ee48e(0x218)]++,![]);}catch(_0x39d99d){const _0x14ce2c=Date[_0x1ee48e(0x216)]()-_0x496252;this[_0x1ee48e(0x218)]++,console[_0x1ee48e(0x215)](_0x1ee48e(0x20b)+_0x14ce2c+_0x1ee48e(0x1c0),_0x39d99d);if(_0x39d99d instanceof Error){if(_0x39d99d[_0x1ee48e(0x1e0)]==='AbortError')console['error'](_0x1ee48e(0x20a)+this[_0x1ee48e(0x1cf)]+'ms');else{if(_0x39d99d[_0x1ee48e(0x1ec)][_0x1ee48e(0x1f1)](_0x1ee48e(0x1fe)))console[_0x1ee48e(0x215)](_0x1ee48e(0x1e7)+this[_0x1ee48e(0x1f4)]);else{if(_0x39d99d['message']['includes'](_0x1ee48e(0x203)))console[_0x1ee48e(0x215)]('ðŸš«\x20Connection\x20refused\x20by\x20'+this[_0x1ee48e(0x1f4)]);else _0x39d99d[_0x1ee48e(0x1ec)]['includes'](_0x1ee48e(0x1e9))?console['error']('â°\x20Connection\x20timeout\x20to\x20'+this[_0x1ee48e(0x1f4)]):console['error'](_0x1ee48e(0x20e)+_0x39d99d[_0x1ee48e(0x1ec)]);}}}return![];}}['crashServer'](_0x312138){const _0x1307c9=a37_0x369e90;console[_0x1307c9(0x215)](_0x1307c9(0x1f6)+_0x312138),console[_0x1307c9(0x215)](_0x1307c9(0x1f3)+this['consecutiveFailures']),console[_0x1307c9(0x215)](_0x1307c9(0x1ff)),console['error'](_0x1307c9(0x1d4)+new Date()[_0x1307c9(0x1f7)]()),console[_0x1307c9(0x215)](_0x1307c9(0x1ee)+this[_0x1307c9(0x1f4)]),console['error']('â°\x20Check\x20interval:\x20'+Math[_0x1307c9(0x202)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console['error'](_0x1307c9(0x219)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process['exit'](0x1);}[a37_0x369e90(0x1ea)](){const _0x547524=a37_0x369e90;console[_0x547524(0x1ed)](_0x547524(0x1c1)),console[_0x547524(0x1ed)](_0x547524(0x200)+this[_0x547524(0x1f4)]),console[_0x547524(0x1ed)](_0x547524(0x208)+Math[_0x547524(0x202)](this[_0x547524(0x1fa)]/0x3e8/0x3c)+_0x547524(0x1fb)),console[_0x547524(0x1ed)](_0x547524(0x1de)+this[_0x547524(0x1e3)]),this[_0x547524(0x21d)]()[_0x547524(0x1d7)](_0x473b19=>{const _0x5dd7b8=_0x547524;if(!_0x473b19&&this['consecutiveFailures']>=this[_0x5dd7b8(0x1e3)]){this['crashServer'](_0x5dd7b8(0x1ef)+this['consecutiveFailures']+'\x20times');return;}})[_0x547524(0x210)](_0xa26325=>{const _0x240c42=_0x547524;console[_0x240c42(0x215)](_0x240c42(0x206),_0xa26325);if(this['consecutiveFailures']>=this[_0x240c42(0x1e3)]){this['crashServer'](_0x240c42(0x1f9)+_0xa26325[_0x240c42(0x1ec)]);return;}}),this[_0x547524(0x1f0)]=setInterval(async()=>{const _0x47133e=_0x547524;try{const _0x41fab2=await this['checkDomain']();!_0x41fab2&&(console[_0x47133e(0x1c8)](_0x47133e(0x1f5)+this[_0x47133e(0x218)]+'/'+this[_0x47133e(0x1e3)]+')'),this[_0x47133e(0x218)]>=this[_0x47133e(0x1e3)]&&this['crashServer'](_0x47133e(0x1df)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x47133e(0x218)]+_0x47133e(0x1c3)));}catch(_0x241136){console[_0x47133e(0x215)](_0x47133e(0x1e4),_0x241136),this['consecutiveFailures']>=this[_0x47133e(0x1e3)]&&this[_0x47133e(0x201)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x241136 instanceof Error?_0x241136[_0x47133e(0x1ec)]:_0x47133e(0x217)));}},this['CHECK_INTERVAL_MS']),console['log'](_0x547524(0x1d8));}[a37_0x369e90(0x1d5)](){const _0x3c26db=a37_0x369e90;this[_0x3c26db(0x1f0)]&&(clearInterval(this[_0x3c26db(0x1f0)]),this[_0x3c26db(0x1f0)]=null,console['log'](_0x3c26db(0x20f)));}[a37_0x369e90(0x21b)](){const _0x14753d=a37_0x369e90;return{'isActive':!!this[_0x14753d(0x1f0)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x14753d(0x202)](this[_0x14753d(0x1fa)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x14753d(0x1e3)],'nextCheckIn':this[_0x14753d(0x1f0)]?this['CHECK_INTERVAL_MS']:undefined};}async[a37_0x369e90(0x211)](){const _0x24d1ef=a37_0x369e90;return console['log']('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x24d1ef(0x21d)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a37_0x369e90(0x1c7)]=new DomainMonitoringService();