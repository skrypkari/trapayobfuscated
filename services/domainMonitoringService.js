'use strict';function a39_0x3ac7(_0x59d03f,_0x20f8c2){const _0x4ffba4=a39_0x4ffb();return a39_0x3ac7=function(_0x3ac703,_0x2e3fac){_0x3ac703=_0x3ac703-0x121;let _0x33d169=_0x4ffba4[_0x3ac703];return _0x33d169;},a39_0x3ac7(_0x59d03f,_0x20f8c2);}const a39_0x59e100=a39_0x3ac7;(function(_0x54efdf,_0x16cfbd){const _0x14a2e6=a39_0x3ac7,_0x31f2f8=_0x54efdf();while(!![]){try{const _0x5cf0ef=parseInt(_0x14a2e6(0x13f))/0x1*(-parseInt(_0x14a2e6(0x156))/0x2)+parseInt(_0x14a2e6(0x13b))/0x3+parseInt(_0x14a2e6(0x16a))/0x4+parseInt(_0x14a2e6(0x180))/0x5+-parseInt(_0x14a2e6(0x16e))/0x6+-parseInt(_0x14a2e6(0x13a))/0x7+parseInt(_0x14a2e6(0x129))/0x8*(parseInt(_0x14a2e6(0x123))/0x9);if(_0x5cf0ef===_0x16cfbd)break;else _0x31f2f8['push'](_0x31f2f8['shift']());}catch(_0x59f182){_0x31f2f8['push'](_0x31f2f8['shift']());}}}(a39_0x4ffb,0xd1a07));function a39_0x4ffb(){const _0x6eaddd=['https://google.com','📡\x20Target:\x20','✅\x20Domain\x20check\x20successful:\x20','Unknown\x20error','\x20\x20\x20-\x20Response\x20time:\x20','8FcxLEM','abort','⏰\x20Check\x20interval:\x20','consecutiveFailures','getRandomInterval','🚀\x20Starting\x20domain\x20monitoring\x20service','Initial\x20domain\x20check\x20failed\x20','DomainMonitoringService','round','\x20\x20\x20-\x20Status:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','CHECK_INTERVAL_MS','🔥\x20Unexpected\x20error:\x20','error','❌\x20Domain\x20check\x20error\x20after\x20','includes','Periodic\x20domain\x20check\x20error:','5961599YloVWa','280779LeEDBV','en-US,en;q=0.5','name','DOMAIN_URL','23321NkzmAj','⏰\x20Request\x20timeout\x20after\x20','\x20is\x20not\x20responding\x20after\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','__esModule','exit','\x20in\x20','domainMonitoringService','from','Domain\x20monitoring\x20threw\x20error:\x20','toISOString','keep-alive','utf-8','📅\x20Crash\x20time:\x20','Initial\x20domain\x20check\x20error:','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','manualCheck','TIMEOUT_MS','MAX_CONSECUTIVE_FAILURES','Domain\x20','⚠️\x20Domain\x20check\x20failed\x20(','headers','catch','36Sxiamp','fromEntries','🚨\x20Max\x20failures\x20before\x20crash:\x20','log','default','\x20minutes','toString','status','ENOTFOUND','🔍\x20Domain\x20being\x20monitored:\x20','decodeFromBase64','\x20consecutive\x20attempts','encodeToBase64','startMonitoring','getMonitoringStats','💥\x20CRITICAL\x20ERROR:\x20','stopMonitoring','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20times','gzip,\x20deflate','4752500SeamVW','📡\x20Target\x20domain:\x20','checkDomain','🔥\x20Consecutive\x20failures:\x20','3783318ufNIDD','monitoringInterval','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ECONNREFUSED','GET','📊\x20Response\x20received:','crashServer','ETIMEDOUT','statusText','entries','now','defineProperty','✅\x20Domain\x20monitoring\x20started\x20successfully','ms:','base64','⏰\x20Connection\x20timeout\x20to\x20','signal','🛑\x20Domain\x20monitoring\x20stopped','4309820hzsXSN','warn','message','5552433iwWKJb'];a39_0x4ffb=function(){return _0x6eaddd;};return a39_0x4ffb();}var __importDefault=this&&this['__importDefault']||function(_0x39fbfb){const _0x1126d5=a39_0x3ac7;return _0x39fbfb&&_0x39fbfb[_0x1126d5(0x143)]?_0x39fbfb:{'default':_0x39fbfb};};Object[a39_0x59e100(0x179)](exports,a39_0x59e100(0x143),{'value':!![]}),exports[a39_0x59e100(0x146)]=exports[a39_0x59e100(0x130)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x5a4df8=a39_0x59e100;this['monitoringInterval']=null,this[_0x5a4df8(0x13e)]=_0x5a4df8(0x124),this[_0x5a4df8(0x134)]=this[_0x5a4df8(0x12d)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x5a4df8(0x151)]=0x2,console['log']('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x5a4df8(0x159)](_0x5a4df8(0x16b)+this[_0x5a4df8(0x13e)]),console['log'](_0x5a4df8(0x12b)+Math[_0x5a4df8(0x131)](this[_0x5a4df8(0x134)]/0x3e8/0x3c)+_0x5a4df8(0x15b));}[a39_0x59e100(0x12d)](){const _0xe6fc8e=0xa,_0x1c5b6a=0xf,_0x4408f9=Math['random']()*(_0x1c5b6a-_0xe6fc8e)+_0xe6fc8e;return Math['round'](_0x4408f9*0x3c*0x3e8);}[a39_0x59e100(0x162)](_0x46bd48){const _0x1d3f64=a39_0x59e100;return Buffer[_0x1d3f64(0x147)](_0x46bd48)[_0x1d3f64(0x15c)](_0x1d3f64(0x17c));}[a39_0x59e100(0x160)](_0x5c874f){const _0x1dbd8f=a39_0x59e100;return Buffer['from'](_0x5c874f,_0x1dbd8f(0x17c))[_0x1dbd8f(0x15c)](_0x1dbd8f(0x14b));}async[a39_0x59e100(0x16c)](){const _0x119055=a39_0x59e100,_0x1f8e19=Date[_0x119055(0x178)]();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x280ae7=this['encodeToBase64'](this[_0x119055(0x13e)]);console[_0x119055(0x159)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x280ae7);const _0x3da879=this[_0x119055(0x160)](_0x280ae7);console['log']('🔓\x20Decoded\x20URL:\x20'+_0x3da879);const _0x27923a=new AbortController(),_0x2608d9=setTimeout(()=>_0x27923a[_0x119055(0x12a)](),this['TIMEOUT_MS']),_0x559b2c=await(0x0,node_fetch_1[_0x119055(0x15a)])(_0x3da879,{'method':_0x119055(0x172),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x119055(0x170),'Accept-Language':_0x119055(0x13c),'Accept-Encoding':_0x119055(0x169),'Connection':_0x119055(0x14a),'Upgrade-Insecure-Requests':'1'},'signal':_0x27923a[_0x119055(0x17e)]});clearTimeout(_0x2608d9);const _0xa66831=Date[_0x119055(0x178)]()-_0x1f8e19;return console[_0x119055(0x159)](_0x119055(0x173)),console[_0x119055(0x159)](_0x119055(0x132)+_0x559b2c[_0x119055(0x15d)]+'\x20'+_0x559b2c[_0x119055(0x176)]),console[_0x119055(0x159)](_0x119055(0x128)+_0xa66831+'ms'),console[_0x119055(0x159)]('\x20\x20\x20-\x20Headers:',Object[_0x119055(0x157)](_0x559b2c[_0x119055(0x154)][_0x119055(0x177)]())),_0x559b2c['ok']&&_0x559b2c[_0x119055(0x15d)]>=0xc8&&_0x559b2c[_0x119055(0x15d)]<0x190?(console[_0x119055(0x159)](_0x119055(0x126)+_0x559b2c[_0x119055(0x15d)]+_0x119055(0x145)+_0xa66831+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x119055(0x136)](_0x119055(0x167)+_0x559b2c[_0x119055(0x15d)]+'\x20'+_0x559b2c[_0x119055(0x176)]),this[_0x119055(0x12c)]++,![]);}catch(_0x260e7a){const _0x34d1d8=Date['now']()-_0x1f8e19;this[_0x119055(0x12c)]++,console[_0x119055(0x136)](_0x119055(0x137)+_0x34d1d8+_0x119055(0x17b),_0x260e7a);if(_0x260e7a instanceof Error){if(_0x260e7a[_0x119055(0x13d)]==='AbortError')console['error'](_0x119055(0x140)+this[_0x119055(0x150)]+'ms');else{if(_0x260e7a['message'][_0x119055(0x138)](_0x119055(0x15e)))console[_0x119055(0x136)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x119055(0x13e)]);else{if(_0x260e7a[_0x119055(0x122)][_0x119055(0x138)](_0x119055(0x171)))console[_0x119055(0x136)]('🚫\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x260e7a[_0x119055(0x122)][_0x119055(0x138)](_0x119055(0x175))?console[_0x119055(0x136)](_0x119055(0x17d)+this[_0x119055(0x13e)]):console[_0x119055(0x136)](_0x119055(0x135)+_0x260e7a[_0x119055(0x122)]);}}}return![];}}[a39_0x59e100(0x174)](_0x1955a2){const _0x43536e=a39_0x59e100;console[_0x43536e(0x136)](_0x43536e(0x165)+_0x1955a2),console[_0x43536e(0x136)](_0x43536e(0x16d)+this[_0x43536e(0x12c)]),console[_0x43536e(0x136)](_0x43536e(0x142)),console[_0x43536e(0x136)](_0x43536e(0x14c)+new Date()[_0x43536e(0x149)]()),console[_0x43536e(0x136)](_0x43536e(0x15f)+this[_0x43536e(0x13e)]),console[_0x43536e(0x136)](_0x43536e(0x12b)+Math[_0x43536e(0x131)](this[_0x43536e(0x134)]/0x3e8/0x3c)+'\x20minutes'),console[_0x43536e(0x136)](_0x43536e(0x14e)+this[_0x43536e(0x151)]),this[_0x43536e(0x166)](),process[_0x43536e(0x144)](0x1);}[a39_0x59e100(0x163)](){const _0x3a8e2a=a39_0x59e100;console[_0x3a8e2a(0x159)](_0x3a8e2a(0x12e)),console[_0x3a8e2a(0x159)](_0x3a8e2a(0x125)+this['DOMAIN_URL']),console[_0x3a8e2a(0x159)]('⏰\x20Interval:\x20'+Math['round'](this[_0x3a8e2a(0x134)]/0x3e8/0x3c)+_0x3a8e2a(0x15b)),console[_0x3a8e2a(0x159)](_0x3a8e2a(0x158)+this[_0x3a8e2a(0x151)]),this[_0x3a8e2a(0x16c)]()['then'](_0x40849e=>{const _0x5903b5=_0x3a8e2a;if(!_0x40849e&&this[_0x5903b5(0x12c)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x5903b5(0x174)](_0x5903b5(0x12f)+this[_0x5903b5(0x12c)]+_0x5903b5(0x168));return;}})[_0x3a8e2a(0x155)](_0x339409=>{const _0x25bc7d=_0x3a8e2a;console[_0x25bc7d(0x136)](_0x25bc7d(0x14d),_0x339409);if(this[_0x25bc7d(0x12c)]>=this[_0x25bc7d(0x151)]){this[_0x25bc7d(0x174)](_0x25bc7d(0x133)+_0x339409['message']);return;}}),this[_0x3a8e2a(0x16f)]=setInterval(async()=>{const _0x3399df=_0x3a8e2a;try{const _0x5844e1=await this[_0x3399df(0x16c)]();!_0x5844e1&&(console[_0x3399df(0x121)](_0x3399df(0x153)+this[_0x3399df(0x12c)]+'/'+this[_0x3399df(0x151)]+')'),this['consecutiveFailures']>=this[_0x3399df(0x151)]&&this['crashServer'](_0x3399df(0x152)+this[_0x3399df(0x13e)]+_0x3399df(0x141)+this[_0x3399df(0x12c)]+_0x3399df(0x161)));}catch(_0x446641){console[_0x3399df(0x136)](_0x3399df(0x139),_0x446641),this[_0x3399df(0x12c)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x3399df(0x174)](_0x3399df(0x148)+(_0x446641 instanceof Error?_0x446641[_0x3399df(0x122)]:_0x3399df(0x127)));}},this[_0x3a8e2a(0x134)]),console['log'](_0x3a8e2a(0x17a));}[a39_0x59e100(0x166)](){const _0x1b7074=a39_0x59e100;this[_0x1b7074(0x16f)]&&(clearInterval(this[_0x1b7074(0x16f)]),this[_0x1b7074(0x16f)]=null,console[_0x1b7074(0x159)](_0x1b7074(0x17f)));}[a39_0x59e100(0x164)](){const _0x53f89c=a39_0x59e100;return{'isActive':!!this[_0x53f89c(0x16f)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x53f89c(0x131)](this[_0x53f89c(0x134)]/0x3e8/0x3c),'consecutiveFailures':this[_0x53f89c(0x12c)],'maxFailuresAllowed':this[_0x53f89c(0x151)],'nextCheckIn':this[_0x53f89c(0x16f)]?this[_0x53f89c(0x134)]:undefined};}async[a39_0x59e100(0x14f)](){return console['log']('🔧\x20Manual\x20domain\x20check\x20requested'),await this['checkDomain']();}}exports[a39_0x59e100(0x130)]=DomainMonitoringService,exports[a39_0x59e100(0x146)]=new DomainMonitoringService();