'use strict';const a59_0x3345e1=a59_0x557a;(function(_0x153df6,_0x2665ee){const _0x2379cb=a59_0x557a,_0x3a391d=_0x153df6();while(!![]){try{const _0x2a4b7e=parseInt(_0x2379cb(0x146))/0x1+parseInt(_0x2379cb(0x169))/0x2*(-parseInt(_0x2379cb(0x185))/0x3)+parseInt(_0x2379cb(0x182))/0x4*(parseInt(_0x2379cb(0x187))/0x5)+-parseInt(_0x2379cb(0x145))/0x6+parseInt(_0x2379cb(0x14d))/0x7+-parseInt(_0x2379cb(0x138))/0x8*(parseInt(_0x2379cb(0x159))/0x9)+-parseInt(_0x2379cb(0x151))/0xa*(-parseInt(_0x2379cb(0x142))/0xb);if(_0x2a4b7e===_0x2665ee)break;else _0x3a391d['push'](_0x3a391d['shift']());}catch(_0x5c3676){_0x3a391d['push'](_0x3a391d['shift']());}}}(a59_0x11e1,0x7ff7f));function a59_0x557a(_0x35532e,_0x507b06){_0x35532e=_0x35532e-0x12e;const _0x11e1cb=a59_0x11e1();let _0x557ae8=_0x11e1cb[_0x35532e];return _0x557ae8;}var __importDefault=this&&this[a59_0x3345e1(0x183)]||function(_0x5c505b){const _0x5b5a10=a59_0x3345e1;return _0x5c505b&&_0x5c505b[_0x5b5a10(0x13e)]?_0x5c505b:{'default':_0x5c505b};};Object[a59_0x3345e1(0x13d)](exports,a59_0x3345e1(0x13e),{'value':!![]}),exports['domainMonitoringService']=exports[a59_0x3345e1(0x152)]=void 0x0;const node_fetch_1=__importDefault(require(a59_0x3345e1(0x13b)));class DomainMonitoringService{constructor(){const _0x11a1a6=a59_0x3345e1;this[_0x11a1a6(0x15a)]=null,this['DOMAIN_URL']=_0x11a1a6(0x137),this[_0x11a1a6(0x13c)]=this[_0x11a1a6(0x156)](),this[_0x11a1a6(0x160)]=0x7530,this[_0x11a1a6(0x175)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log'](_0x11a1a6(0x17b)),console[_0x11a1a6(0x155)](_0x11a1a6(0x134)+this[_0x11a1a6(0x139)]),console[_0x11a1a6(0x155)](_0x11a1a6(0x14a)+Math[_0x11a1a6(0x144)](this[_0x11a1a6(0x13c)]/0x3e8/0x3c)+_0x11a1a6(0x17f));}[a59_0x3345e1(0x156)](){const _0x8ab1bf=a59_0x3345e1,_0x4b933f=0xa,_0x784815=0xf,_0x1aa1e9=Math['random']()*(_0x784815-_0x4b933f)+_0x4b933f;return Math[_0x8ab1bf(0x144)](_0x1aa1e9*0x3c*0x3e8);}[a59_0x3345e1(0x16d)](_0x1b45dd){const _0x3a79ab=a59_0x3345e1;return Buffer[_0x3a79ab(0x153)](_0x1b45dd)[_0x3a79ab(0x171)](_0x3a79ab(0x173));}['decodeFromBase64'](_0xfbd96){const _0x545fca=a59_0x3345e1;return Buffer[_0x545fca(0x153)](_0xfbd96,_0x545fca(0x173))[_0x545fca(0x171)]('utf-8');}async[a59_0x3345e1(0x17c)](){const _0x4eabc5=a59_0x3345e1,_0x139d30=Date['now']();try{console[_0x4eabc5(0x155)](_0x4eabc5(0x15e)+this[_0x4eabc5(0x139)]);const _0x3908cd=this[_0x4eabc5(0x16d)](this['DOMAIN_URL']);console[_0x4eabc5(0x155)]('ğŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x3908cd);const _0xf76f39=this[_0x4eabc5(0x147)](_0x3908cd);console['log'](_0x4eabc5(0x140)+_0xf76f39);const _0x3f4341=new AbortController(),_0x14817c=setTimeout(()=>_0x3f4341[_0x4eabc5(0x150)](),this['TIMEOUT_MS']),_0x21637a=await(0x0,node_fetch_1[_0x4eabc5(0x181)])(_0xf76f39,{'method':_0x4eabc5(0x13f),'headers':{'User-Agent':_0x4eabc5(0x15d),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x4eabc5(0x130),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x3f4341[_0x4eabc5(0x12f)]});clearTimeout(_0x14817c);const _0x596f78=Date[_0x4eabc5(0x179)]()-_0x139d30;return console[_0x4eabc5(0x155)](_0x4eabc5(0x14c)),console[_0x4eabc5(0x155)](_0x4eabc5(0x141)+_0x21637a[_0x4eabc5(0x174)]+'\x20'+_0x21637a[_0x4eabc5(0x164)]),console[_0x4eabc5(0x155)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x596f78+'ms'),console[_0x4eabc5(0x155)](_0x4eabc5(0x133),Object[_0x4eabc5(0x16f)](_0x21637a['headers']['entries']())),_0x21637a['ok']&&_0x21637a[_0x4eabc5(0x174)]>=0xc8&&_0x21637a['status']<0x190?(console[_0x4eabc5(0x155)]('âœ…\x20Domain\x20check\x20successful:\x20'+_0x21637a[_0x4eabc5(0x174)]+_0x4eabc5(0x16c)+_0x596f78+'ms'),this[_0x4eabc5(0x175)]=0x0,!![]):(console[_0x4eabc5(0x178)](_0x4eabc5(0x170)+_0x21637a[_0x4eabc5(0x174)]+'\x20'+_0x21637a['statusText']),this[_0x4eabc5(0x175)]++,![]);}catch(_0x5307e2){const _0x98fee1=Date['now']()-_0x139d30;this['consecutiveFailures']++,console[_0x4eabc5(0x178)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x98fee1+_0x4eabc5(0x168),_0x5307e2);if(_0x5307e2 instanceof Error){if(_0x5307e2[_0x4eabc5(0x17d)]===_0x4eabc5(0x163))console[_0x4eabc5(0x178)](_0x4eabc5(0x14e)+this[_0x4eabc5(0x160)]+'ms');else{if(_0x5307e2[_0x4eabc5(0x189)][_0x4eabc5(0x157)](_0x4eabc5(0x180)))console[_0x4eabc5(0x178)](_0x4eabc5(0x154)+this['DOMAIN_URL']);else{if(_0x5307e2[_0x4eabc5(0x189)][_0x4eabc5(0x157)](_0x4eabc5(0x162)))console[_0x4eabc5(0x178)]('ğŸš«\x20Connection\x20refused\x20by\x20'+this[_0x4eabc5(0x139)]);else _0x5307e2[_0x4eabc5(0x189)][_0x4eabc5(0x157)](_0x4eabc5(0x165))?console[_0x4eabc5(0x178)](_0x4eabc5(0x158)+this[_0x4eabc5(0x139)]):console[_0x4eabc5(0x178)](_0x4eabc5(0x161)+_0x5307e2[_0x4eabc5(0x189)]);}}}return![];}}['crashServer'](_0xee38d7){const _0x2a2b84=a59_0x3345e1;console[_0x2a2b84(0x178)](_0x2a2b84(0x149)+_0xee38d7),console[_0x2a2b84(0x178)](_0x2a2b84(0x136)+this[_0x2a2b84(0x175)]),console[_0x2a2b84(0x178)](_0x2a2b84(0x132)),console[_0x2a2b84(0x178)](_0x2a2b84(0x131)+new Date()['toISOString']()),console[_0x2a2b84(0x178)](_0x2a2b84(0x177)+this[_0x2a2b84(0x139)]),console['error'](_0x2a2b84(0x14a)+Math[_0x2a2b84(0x144)](this[_0x2a2b84(0x13c)]/0x3e8/0x3c)+'\x20minutes'),console[_0x2a2b84(0x178)](_0x2a2b84(0x16b)+this[_0x2a2b84(0x184)]),this[_0x2a2b84(0x16e)](),process[_0x2a2b84(0x16a)](0x1);}[a59_0x3345e1(0x135)](){const _0x307ea8=a59_0x3345e1;console[_0x307ea8(0x155)](_0x307ea8(0x12e)),console[_0x307ea8(0x155)](_0x307ea8(0x143)+this[_0x307ea8(0x139)]),console['log'](_0x307ea8(0x17a)+Math['round'](this[_0x307ea8(0x13c)]/0x3e8/0x3c)+'\x20minutes'),console[_0x307ea8(0x155)](_0x307ea8(0x15f)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x307ea8(0x17c)]()['then'](_0x3e1d48=>{const _0x4e9be5=_0x307ea8;if(!_0x3e1d48&&this[_0x4e9be5(0x175)]>=this[_0x4e9be5(0x184)]){this['crashServer'](_0x4e9be5(0x14b)+this[_0x4e9be5(0x175)]+_0x4e9be5(0x176));return;}})[_0x307ea8(0x15b)](_0x8a8e9f=>{const _0x58126b=_0x307ea8;console[_0x58126b(0x178)](_0x58126b(0x148),_0x8a8e9f);if(this[_0x58126b(0x175)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x58126b(0x172)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x8a8e9f[_0x58126b(0x189)]);return;}}),this[_0x307ea8(0x15a)]=setInterval(async()=>{const _0x3c6af7=_0x307ea8;try{const _0x281c49=await this['checkDomain']();!_0x281c49&&(console[_0x3c6af7(0x17e)](_0x3c6af7(0x15c)+this[_0x3c6af7(0x175)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x3c6af7(0x184)]&&this[_0x3c6af7(0x172)]('Domain\x20'+this['DOMAIN_URL']+_0x3c6af7(0x13a)+this['consecutiveFailures']+'\x20consecutive\x20attempts'));}catch(_0x4bdbaf){console[_0x3c6af7(0x178)](_0x3c6af7(0x167),_0x4bdbaf),this[_0x3c6af7(0x175)]>=this[_0x3c6af7(0x184)]&&this['crashServer'](_0x3c6af7(0x166)+(_0x4bdbaf instanceof Error?_0x4bdbaf[_0x3c6af7(0x189)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console[_0x307ea8(0x155)](_0x307ea8(0x14f));}[a59_0x3345e1(0x16e)](){const _0x5f0a5a=a59_0x3345e1;this[_0x5f0a5a(0x15a)]&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console[_0x5f0a5a(0x155)]('ğŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a59_0x3345e1(0x188)](){const _0x2fd7fa=a59_0x3345e1;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x2fd7fa(0x139)],'checkIntervalMinutes':Math[_0x2fd7fa(0x144)](this[_0x2fd7fa(0x13c)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2fd7fa(0x175)],'maxFailuresAllowed':this[_0x2fd7fa(0x184)],'nextCheckIn':this['monitoringInterval']?this['CHECK_INTERVAL_MS']:undefined};}async['manualCheck'](){const _0x273598=a59_0x3345e1;return console[_0x273598(0x155)]('ğŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x273598(0x17c)]();}}function a59_0x11e1(){const _0x164ad5=['â°\x20Interval:\x20','ğŸ”\x20Domain\x20monitoring\x20service\x20initialized','checkDomain','name','warn','\x20minutes','ENOTFOUND','default','5260GxxEGN','__importDefault','MAX_CONSECUTIVE_FAILURES','75iOQNMI','domainMonitoringService','2775VhwsEW','getMonitoringStats','message','ğŸš€\x20Starting\x20domain\x20monitoring\x20service','signal','en-US,en;q=0.5','ğŸ“…\x20Crash\x20time:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','\x20\x20\x20-\x20Headers:','ğŸ“¡\x20Target\x20domain:\x20','startMonitoring','ğŸ”¥\x20Consecutive\x20failures:\x20','https://google.com','8nZmzHE','DOMAIN_URL','\x20is\x20not\x20responding\x20after\x20','node-fetch','CHECK_INTERVAL_MS','defineProperty','__esModule','GET','ğŸ”“\x20Decoded\x20URL:\x20','\x20\x20\x20-\x20Status:\x20','11CIFvby','ğŸ“¡\x20Target:\x20','round','4300356jqbHQO','143451YZzFAk','decodeFromBase64','Initial\x20domain\x20check\x20error:','ğŸ’¥\x20CRITICAL\x20ERROR:\x20','â°\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20failed\x20','ğŸ“Š\x20Response\x20received:','4991721YhxVYp','â°\x20Request\x20timeout\x20after\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','abort','6462490ZHJVmB','DomainMonitoringService','from','ğŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','log','getRandomInterval','includes','â°\x20Connection\x20timeout\x20to\x20','587637kCRXTK','monitoringInterval','catch','âš ï¸\x20Domain\x20check\x20failed\x20(','Domain\x20Monitor/1.0','ğŸ”\x20Checking\x20domain\x20availability:\x20','ğŸš¨\x20Max\x20failures\x20before\x20crash:\x20','TIMEOUT_MS','ğŸ”¥\x20Unexpected\x20error:\x20','ECONNREFUSED','AbortError','statusText','ETIMEDOUT','Domain\x20monitoring\x20threw\x20error:\x20','Periodic\x20domain\x20check\x20error:','ms:','74116ilUvIM','exit','ğŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','\x20in\x20','encodeToBase64','stopMonitoring','fromEntries','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','toString','crashServer','base64','status','consecutiveFailures','\x20times','ğŸ”\x20Domain\x20being\x20monitored:\x20','error','now'];a59_0x11e1=function(){return _0x164ad5;};return a59_0x11e1();}exports[a59_0x3345e1(0x152)]=DomainMonitoringService,exports[a59_0x3345e1(0x186)]=new DomainMonitoringService();