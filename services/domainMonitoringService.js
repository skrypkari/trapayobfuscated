'use strict';const a39_0x1fc4b5=a39_0x584c;(function(_0x317393,_0x24cd25){const _0x36fc7e=a39_0x584c,_0x588f5a=_0x317393();while(!![]){try{const _0x24004c=parseInt(_0x36fc7e(0x16a))/0x1*(parseInt(_0x36fc7e(0x129))/0x2)+-parseInt(_0x36fc7e(0x13a))/0x3*(parseInt(_0x36fc7e(0x165))/0x4)+-parseInt(_0x36fc7e(0x181))/0x5+-parseInt(_0x36fc7e(0x15f))/0x6+parseInt(_0x36fc7e(0x13c))/0x7*(-parseInt(_0x36fc7e(0x169))/0x8)+parseInt(_0x36fc7e(0x178))/0x9*(-parseInt(_0x36fc7e(0x140))/0xa)+parseInt(_0x36fc7e(0x12c))/0xb;if(_0x24004c===_0x24cd25)break;else _0x588f5a['push'](_0x588f5a['shift']());}catch(_0x3bb7f5){_0x588f5a['push'](_0x588f5a['shift']());}}}(a39_0x45fa,0xd9940));var __importDefault=this&&this[a39_0x1fc4b5(0x16c)]||function(_0x3482b6){return _0x3482b6&&_0x3482b6['__esModule']?_0x3482b6:{'default':_0x3482b6};};Object[a39_0x1fc4b5(0x180)](exports,'__esModule',{'value':!![]}),exports[a39_0x1fc4b5(0x163)]=exports[a39_0x1fc4b5(0x161)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x1fc4b5(0x14e)));class DomainMonitoringService{constructor(){const _0x25aa4e=a39_0x1fc4b5;this[_0x25aa4e(0x166)]=null,this[_0x25aa4e(0x175)]='https://google.com',this[_0x25aa4e(0x13d)]=this[_0x25aa4e(0x159)](),this[_0x25aa4e(0x17b)]=0x7530,this[_0x25aa4e(0x168)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x25aa4e(0x17a)](_0x25aa4e(0x136)),console[_0x25aa4e(0x17a)](_0x25aa4e(0x179)+this[_0x25aa4e(0x175)]),console[_0x25aa4e(0x17a)]('‚è∞\x20Check\x20interval:\x20'+Math[_0x25aa4e(0x135)](this[_0x25aa4e(0x13d)]/0x3e8/0x3c)+_0x25aa4e(0x160));}['getRandomInterval'](){const _0x123fb5=a39_0x1fc4b5,_0x31c5c1=0xa,_0x52a569=0xf,_0x3acbd9=Math[_0x123fb5(0x12d)]()*(_0x52a569-_0x31c5c1)+_0x31c5c1;return Math[_0x123fb5(0x135)](_0x3acbd9*0x3c*0x3e8);}[a39_0x1fc4b5(0x14c)](_0x4db96f){const _0x207848=a39_0x1fc4b5;return Buffer[_0x207848(0x167)](_0x4db96f)[_0x207848(0x15b)](_0x207848(0x12f));}['decodeFromBase64'](_0x2fd08c){const _0x4fdd9c=a39_0x1fc4b5;return Buffer[_0x4fdd9c(0x167)](_0x2fd08c,_0x4fdd9c(0x12f))[_0x4fdd9c(0x15b)](_0x4fdd9c(0x174));}async[a39_0x1fc4b5(0x16e)](){const _0x206f0e=a39_0x1fc4b5,_0x31cfea=Date[_0x206f0e(0x15a)]();try{console[_0x206f0e(0x17a)]('üîç\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x2c5eb5=this[_0x206f0e(0x14c)](this[_0x206f0e(0x175)]);console['log']('üìù\x20Encoded\x20URL\x20(base64):\x20'+_0x2c5eb5);const _0x187bc3=this[_0x206f0e(0x151)](_0x2c5eb5);console[_0x206f0e(0x17a)](_0x206f0e(0x134)+_0x187bc3);const _0x2691e=new AbortController(),_0x2c78e3=setTimeout(()=>_0x2691e['abort'](),this[_0x206f0e(0x17b)]),_0x15c672=await(0x0,node_fetch_1['default'])(_0x187bc3,{'method':_0x206f0e(0x14d),'headers':{'User-Agent':_0x206f0e(0x176),'Accept':_0x206f0e(0x132),'Accept-Language':_0x206f0e(0x173),'Accept-Encoding':_0x206f0e(0x17f),'Connection':_0x206f0e(0x14b),'Upgrade-Insecure-Requests':'1'},'signal':_0x2691e[_0x206f0e(0x172)]});clearTimeout(_0x2c78e3);const _0x5a2b03=Date[_0x206f0e(0x15a)]()-_0x31cfea;return console[_0x206f0e(0x17a)](_0x206f0e(0x13b)),console[_0x206f0e(0x17a)]('\x20\x20\x20-\x20Status:\x20'+_0x15c672[_0x206f0e(0x182)]+'\x20'+_0x15c672['statusText']),console['log'](_0x206f0e(0x141)+_0x5a2b03+'ms'),console[_0x206f0e(0x17a)]('\x20\x20\x20-\x20Headers:',Object[_0x206f0e(0x15e)](_0x15c672['headers'][_0x206f0e(0x143)]())),_0x15c672['ok']&&_0x15c672[_0x206f0e(0x182)]>=0xc8&&_0x15c672[_0x206f0e(0x182)]<0x190?(console[_0x206f0e(0x17a)]('‚úÖ\x20Domain\x20check\x20successful:\x20'+_0x15c672[_0x206f0e(0x182)]+_0x206f0e(0x133)+_0x5a2b03+'ms'),this[_0x206f0e(0x168)]=0x0,!![]):(console[_0x206f0e(0x145)](_0x206f0e(0x15d)+_0x15c672[_0x206f0e(0x182)]+'\x20'+_0x15c672[_0x206f0e(0x12a)]),this[_0x206f0e(0x168)]++,![]);}catch(_0x1f47f5){const _0x48cf37=Date['now']()-_0x31cfea;this['consecutiveFailures']++,console['error']('‚ùå\x20Domain\x20check\x20error\x20after\x20'+_0x48cf37+'ms:',_0x1f47f5);if(_0x1f47f5 instanceof Error){if(_0x1f47f5[_0x206f0e(0x138)]===_0x206f0e(0x15c))console[_0x206f0e(0x145)]('‚è∞\x20Request\x20timeout\x20after\x20'+this[_0x206f0e(0x17b)]+'ms');else{if(_0x1f47f5[_0x206f0e(0x147)]['includes'](_0x206f0e(0x16d)))console[_0x206f0e(0x145)](_0x206f0e(0x149)+this[_0x206f0e(0x175)]);else{if(_0x1f47f5['message'][_0x206f0e(0x154)](_0x206f0e(0x12b)))console[_0x206f0e(0x145)](_0x206f0e(0x162)+this['DOMAIN_URL']);else _0x1f47f5[_0x206f0e(0x147)]['includes']('ETIMEDOUT')?console['error'](_0x206f0e(0x137)+this[_0x206f0e(0x175)]):console[_0x206f0e(0x145)](_0x206f0e(0x126)+_0x1f47f5[_0x206f0e(0x147)]);}}}return![];}}[a39_0x1fc4b5(0x152)](_0x593a80){const _0x33c807=a39_0x1fc4b5;console[_0x33c807(0x145)](_0x33c807(0x171)+_0x593a80),console[_0x33c807(0x145)](_0x33c807(0x127)+this[_0x33c807(0x168)]),console[_0x33c807(0x145)](_0x33c807(0x17c)),console[_0x33c807(0x145)](_0x33c807(0x156)+new Date()['toISOString']()),console[_0x33c807(0x145)]('üîç\x20Domain\x20being\x20monitored:\x20'+this[_0x33c807(0x175)]),console[_0x33c807(0x145)](_0x33c807(0x148)+Math[_0x33c807(0x135)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x33c807(0x160)),console[_0x33c807(0x145)]('üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x33c807(0x157)]),this[_0x33c807(0x12e)](),process[_0x33c807(0x17d)](0x1);}[a39_0x1fc4b5(0x13e)](){const _0x1d5676=a39_0x1fc4b5;console[_0x1d5676(0x17a)](_0x1d5676(0x158)),console[_0x1d5676(0x17a)](_0x1d5676(0x170)+this[_0x1d5676(0x175)]),console[_0x1d5676(0x17a)]('‚è∞\x20Interval:\x20'+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x1d5676(0x160)),console[_0x1d5676(0x17a)](_0x1d5676(0x142)+this[_0x1d5676(0x157)]),this['checkDomain']()[_0x1d5676(0x150)](_0x47eca4=>{const _0x4fc050=_0x1d5676;if(!_0x47eca4&&this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x4fc050(0x14f)+this[_0x4fc050(0x168)]+_0x4fc050(0x153));return;}})[_0x1d5676(0x164)](_0x4129c9=>{const _0x2d4a88=_0x1d5676;console['error'](_0x2d4a88(0x17e),_0x4129c9);if(this[_0x2d4a88(0x168)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x2d4a88(0x152)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x4129c9['message']);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x239fd7=_0x1d5676;try{const _0x86af76=await this['checkDomain']();!_0x86af76&&(console[_0x239fd7(0x16f)](_0x239fd7(0x130)+this[_0x239fd7(0x168)]+'/'+this[_0x239fd7(0x157)]+')'),this[_0x239fd7(0x168)]>=this[_0x239fd7(0x157)]&&this[_0x239fd7(0x152)](_0x239fd7(0x144)+this[_0x239fd7(0x175)]+_0x239fd7(0x131)+this['consecutiveFailures']+'\x20consecutive\x20attempts'));}catch(_0x63a8b6){console[_0x239fd7(0x145)](_0x239fd7(0x13f),_0x63a8b6),this[_0x239fd7(0x168)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x239fd7(0x152)](_0x239fd7(0x177)+(_0x63a8b6 instanceof Error?_0x63a8b6[_0x239fd7(0x147)]:_0x239fd7(0x155)));}},this[_0x1d5676(0x13d)]),console[_0x1d5676(0x17a)](_0x1d5676(0x16b));}[a39_0x1fc4b5(0x12e)](){const _0x38c1d7=a39_0x1fc4b5;this[_0x38c1d7(0x166)]&&(clearInterval(this[_0x38c1d7(0x166)]),this[_0x38c1d7(0x166)]=null,console[_0x38c1d7(0x17a)](_0x38c1d7(0x128)));}[a39_0x1fc4b5(0x14a)](){const _0x2a93f8=a39_0x1fc4b5;return{'isActive':!!this[_0x2a93f8(0x166)],'targetDomain':this[_0x2a93f8(0x175)],'checkIntervalMinutes':Math[_0x2a93f8(0x135)](this[_0x2a93f8(0x13d)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2a93f8(0x168)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this['monitoringInterval']?this[_0x2a93f8(0x13d)]:undefined};}async[a39_0x1fc4b5(0x146)](){const _0x51b3cc=a39_0x1fc4b5;return console['log'](_0x51b3cc(0x139)),await this[_0x51b3cc(0x16e)]();}}function a39_0x45fa(){const _0x2fd225=['encodeToBase64','GET','node-fetch','Initial\x20domain\x20check\x20failed\x20','then','decodeFromBase64','crashServer','\x20times','includes','Unknown\x20error','üìÖ\x20Crash\x20time:\x20','MAX_CONSECUTIVE_FAILURES','üöÄ\x20Starting\x20domain\x20monitoring\x20service','getRandomInterval','now','toString','AbortError','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','fromEntries','2743560feuxSI','\x20minutes','DomainMonitoringService','üö´\x20Connection\x20refused\x20by\x20','domainMonitoringService','catch','230024FjqyMi','monitoringInterval','from','consecutiveFailures','88orFVQq','4204yzPKma','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','__importDefault','ENOTFOUND','checkDomain','warn','üì°\x20Target:\x20','üí•\x20CRITICAL\x20ERROR:\x20','signal','en-US,en;q=0.5','utf-8','DOMAIN_URL','TesSoft\x20Domain\x20Monitor/1.0','Domain\x20monitoring\x20threw\x20error:\x20','9DOiDUv','üì°\x20Target\x20domain:\x20','log','TIMEOUT_MS','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','exit','Initial\x20domain\x20check\x20error:','gzip,\x20deflate','defineProperty','7055595HAvgmz','status','üî•\x20Unexpected\x20error:\x20','üî•\x20Consecutive\x20failures:\x20','üõë\x20Domain\x20monitoring\x20stopped','26HJBkpC','statusText','ECONNREFUSED','43421895AuHDns','random','stopMonitoring','base64','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','\x20is\x20not\x20responding\x20after\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','\x20in\x20','üîì\x20Decoded\x20URL:\x20','round','üîç\x20Domain\x20monitoring\x20service\x20initialized','‚è∞\x20Connection\x20timeout\x20to\x20','name','üîß\x20Manual\x20domain\x20check\x20requested','21MvnLcn','üìä\x20Response\x20received:','508039lRzFEB','CHECK_INTERVAL_MS','startMonitoring','Periodic\x20domain\x20check\x20error:','416290KaJznF','\x20\x20\x20-\x20Response\x20time:\x20','üö®\x20Max\x20failures\x20before\x20crash:\x20','entries','Domain\x20','error','manualCheck','message','‚è∞\x20Check\x20interval:\x20','üåê\x20DNS\x20resolution\x20failed\x20for\x20','getMonitoringStats','keep-alive'];a39_0x45fa=function(){return _0x2fd225;};return a39_0x45fa();}function a39_0x584c(_0x408180,_0x5244cc){const _0x45fa21=a39_0x45fa();return a39_0x584c=function(_0x584c19,_0x1a6466){_0x584c19=_0x584c19-0x126;let _0x5dff62=_0x45fa21[_0x584c19];return _0x5dff62;},a39_0x584c(_0x408180,_0x5244cc);}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0x1fc4b5(0x163)]=new DomainMonitoringService();