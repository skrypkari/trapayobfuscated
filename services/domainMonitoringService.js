'use strict';const a59_0x2fb2f9=a59_0x1d9d;function a59_0x35b5(){const _0x158a5e=['log','DomainMonitoringService','ðŸ”¥\x20Unexpected\x20error:\x20','random','DOMAIN_URL','encodeToBase64','default','MAX_CONSECUTIVE_FAILURES','1ciGKeB','toISOString','toString','utf-8','en-US,en;q=0.5','defineProperty','status','includes','name','base64','AbortError','manualCheck','domainMonitoringService','ðŸ“¡\x20Target\x20domain:\x20','consecutiveFailures','âš ï¸\x20Domain\x20check\x20failed\x20(','getRandomInterval','abort','Domain\x20monitoring\x20threw\x20error:\x20','ðŸ“…\x20Crash\x20time:\x20','stopMonitoring','468050PittzS','\x20\x20\x20-\x20Headers:','__importDefault','â°\x20Connection\x20timeout\x20to\x20','checkDomain','entries','headers','Periodic\x20domain\x20check\x20error:','round','CHECK_INTERVAL_MS','ðŸ›‘\x20Domain\x20monitoring\x20stopped','ðŸ”¥\x20Consecutive\x20failures:\x20','\x20\x20\x20-\x20Status:\x20','keep-alive','Initial\x20domain\x20check\x20error:','âŒ\x20Domain\x20check\x20error\x20after\x20','node-fetch','\x20consecutive\x20attempts','crashServer','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','ðŸ”“\x20Decoded\x20URL:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','72705AAWvCs','\x20minutes','4lBfyLj','Unknown\x20error','913rsVVir','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','Domain\x20Monitor/1.0','7JuqKiE','ðŸš«\x20Connection\x20refused\x20by\x20','catch','ðŸ”§\x20Manual\x20domain\x20check\x20requested','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','ðŸ“¡\x20Target:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','startMonitoring','__esModule','https://google.com','892194XxLLpV','â°\x20Interval:\x20','ECONNREFUSED','\x20times','decodeFromBase64','563306fuPaWU','message','statusText','24110eVtagX','from','ENOTFOUND','error','âœ…\x20Domain\x20check\x20successful:\x20','signal','1103144yDNEYU','324108pSEZeR','TIMEOUT_MS','Initial\x20domain\x20check\x20threw\x20error:\x20','monitoringInterval','â°\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20failed\x20'];a59_0x35b5=function(){return _0x158a5e;};return a59_0x35b5();}(function(_0x78e03,_0x1faa5a){const _0x3d3653=a59_0x1d9d,_0x2e4cdc=_0x78e03();while(!![]){try{const _0x258326=parseInt(_0x3d3653(0xed))/0x1*(parseInt(_0x3d3653(0xd5))/0x2)+-parseInt(_0x3d3653(0xbf))/0x3*(-parseInt(_0x3d3653(0xc1))/0x4)+parseInt(_0x3d3653(0xa9))/0x5+-parseInt(_0x3d3653(0xd0))/0x6*(-parseInt(_0x3d3653(0xc6))/0x7)+-parseInt(_0x3d3653(0xde))/0x8+-parseInt(_0x3d3653(0xdf))/0x9+parseInt(_0x3d3653(0xd8))/0xa*(-parseInt(_0x3d3653(0xc3))/0xb);if(_0x258326===_0x1faa5a)break;else _0x2e4cdc['push'](_0x2e4cdc['shift']());}catch(_0xcda340){_0x2e4cdc['push'](_0x2e4cdc['shift']());}}}(a59_0x35b5,0x2a863));var __importDefault=this&&this[a59_0x2fb2f9(0xab)]||function(_0x46dad4){return _0x46dad4&&_0x46dad4['__esModule']?_0x46dad4:{'default':_0x46dad4};};Object[a59_0x2fb2f9(0xf2)](exports,a59_0x2fb2f9(0xce),{'value':!![]}),exports[a59_0x2fb2f9(0xf9)]=exports[a59_0x2fb2f9(0xe6)]=void 0x0;const node_fetch_1=__importDefault(require(a59_0x2fb2f9(0xb9)));class DomainMonitoringService{constructor(){const _0x3a697c=a59_0x2fb2f9;this[_0x3a697c(0xe2)]=null,this[_0x3a697c(0xe9)]=_0x3a697c(0xcf),this[_0x3a697c(0xb2)]=this[_0x3a697c(0xa4)](),this[_0x3a697c(0xe0)]=0x7530,this[_0x3a697c(0xfb)]=0x0,this[_0x3a697c(0xec)]=0x2,console[_0x3a697c(0xe5)]('ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x3a697c(0xe5)](_0x3a697c(0xfa)+this['DOMAIN_URL']),console[_0x3a697c(0xe5)](_0x3a697c(0xe3)+Math[_0x3a697c(0xb1)](this[_0x3a697c(0xb2)]/0x3e8/0x3c)+_0x3a697c(0xc0));}['getRandomInterval'](){const _0x353ea2=a59_0x2fb2f9,_0x531503=0xa,_0x4875d5=0xf,_0x5cf466=Math[_0x353ea2(0xe8)]()*(_0x4875d5-_0x531503)+_0x531503;return Math[_0x353ea2(0xb1)](_0x5cf466*0x3c*0x3e8);}['encodeToBase64'](_0x35bb6e){const _0x20366d=a59_0x2fb2f9;return Buffer[_0x20366d(0xd9)](_0x35bb6e)[_0x20366d(0xef)](_0x20366d(0xf6));}[a59_0x2fb2f9(0xd4)](_0x4f06bd){const _0xb135d1=a59_0x2fb2f9;return Buffer['from'](_0x4f06bd,_0xb135d1(0xf6))[_0xb135d1(0xef)](_0xb135d1(0xf0));}async[a59_0x2fb2f9(0xad)](){const _0x190a0c=a59_0x2fb2f9,_0x1863d3=Date['now']();try{console[_0x190a0c(0xe5)](_0x190a0c(0xcc)+this['DOMAIN_URL']);const _0x1a6be5=this[_0x190a0c(0xea)](this[_0x190a0c(0xe9)]);console[_0x190a0c(0xe5)](_0x190a0c(0xca)+_0x1a6be5);const _0x3dfe1e=this[_0x190a0c(0xd4)](_0x1a6be5);console[_0x190a0c(0xe5)](_0x190a0c(0xbd)+_0x3dfe1e);const _0x25708d=new AbortController(),_0x1ab51d=setTimeout(()=>_0x25708d[_0x190a0c(0xa5)](),this[_0x190a0c(0xe0)]),_0x1b70cf=await(0x0,node_fetch_1[_0x190a0c(0xeb)])(_0x3dfe1e,{'method':'GET','headers':{'User-Agent':_0x190a0c(0xc5),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x190a0c(0xf1),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x190a0c(0xb6),'Upgrade-Insecure-Requests':'1'},'signal':_0x25708d[_0x190a0c(0xdd)]});clearTimeout(_0x1ab51d);const _0x172e35=Date['now']()-_0x1863d3;return console[_0x190a0c(0xe5)]('ðŸ“Š\x20Response\x20received:'),console[_0x190a0c(0xe5)](_0x190a0c(0xb5)+_0x1b70cf[_0x190a0c(0xf3)]+'\x20'+_0x1b70cf['statusText']),console['log']('\x20\x20\x20-\x20Response\x20time:\x20'+_0x172e35+'ms'),console[_0x190a0c(0xe5)](_0x190a0c(0xaa),Object['fromEntries'](_0x1b70cf[_0x190a0c(0xaf)][_0x190a0c(0xae)]())),_0x1b70cf['ok']&&_0x1b70cf['status']>=0xc8&&_0x1b70cf[_0x190a0c(0xf3)]<0x190?(console['log'](_0x190a0c(0xdc)+_0x1b70cf[_0x190a0c(0xf3)]+'\x20in\x20'+_0x172e35+'ms'),this[_0x190a0c(0xfb)]=0x0,!![]):(console[_0x190a0c(0xdb)]('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x1b70cf[_0x190a0c(0xf3)]+'\x20'+_0x1b70cf[_0x190a0c(0xd7)]),this[_0x190a0c(0xfb)]++,![]);}catch(_0x58a041){const _0x71c3cf=Date['now']()-_0x1863d3;this[_0x190a0c(0xfb)]++,console[_0x190a0c(0xdb)](_0x190a0c(0xb8)+_0x71c3cf+'ms:',_0x58a041);if(_0x58a041 instanceof Error){if(_0x58a041[_0x190a0c(0xf5)]===_0x190a0c(0xf7))console[_0x190a0c(0xdb)]('â°\x20Request\x20timeout\x20after\x20'+this[_0x190a0c(0xe0)]+'ms');else{if(_0x58a041[_0x190a0c(0xd6)][_0x190a0c(0xf4)](_0x190a0c(0xda)))console[_0x190a0c(0xdb)](_0x190a0c(0xbc)+this[_0x190a0c(0xe9)]);else{if(_0x58a041[_0x190a0c(0xd6)][_0x190a0c(0xf4)](_0x190a0c(0xd2)))console[_0x190a0c(0xdb)](_0x190a0c(0xc7)+this[_0x190a0c(0xe9)]);else _0x58a041['message'][_0x190a0c(0xf4)]('ETIMEDOUT')?console[_0x190a0c(0xdb)](_0x190a0c(0xac)+this['DOMAIN_URL']):console[_0x190a0c(0xdb)](_0x190a0c(0xe7)+_0x58a041[_0x190a0c(0xd6)]);}}}return![];}}[a59_0x2fb2f9(0xbb)](_0x3ad8ec){const _0x3e6e27=a59_0x2fb2f9;console[_0x3e6e27(0xdb)]('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x3ad8ec),console[_0x3e6e27(0xdb)](_0x3e6e27(0xb4)+this[_0x3e6e27(0xfb)]),console[_0x3e6e27(0xdb)](_0x3e6e27(0xbe)),console[_0x3e6e27(0xdb)](_0x3e6e27(0xa7)+new Date()[_0x3e6e27(0xee)]()),console['error']('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console[_0x3e6e27(0xdb)]('â°\x20Check\x20interval:\x20'+Math['round'](this[_0x3e6e27(0xb2)]/0x3e8/0x3c)+_0x3e6e27(0xc0)),console[_0x3e6e27(0xdb)]('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x3e6e27(0xec)]),this['stopMonitoring'](),process['exit'](0x1);}[a59_0x2fb2f9(0xcd)](){const _0x46a8c2=a59_0x2fb2f9;console[_0x46a8c2(0xe5)](_0x46a8c2(0xc4)),console[_0x46a8c2(0xe5)](_0x46a8c2(0xcb)+this[_0x46a8c2(0xe9)]),console['log'](_0x46a8c2(0xd1)+Math[_0x46a8c2(0xb1)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x46a8c2(0xc0)),console[_0x46a8c2(0xe5)]('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x46a8c2(0xec)]),this[_0x46a8c2(0xad)]()['then'](_0x5e9a5f=>{const _0x5915cb=_0x46a8c2;if(!_0x5e9a5f&&this[_0x5915cb(0xfb)]>=this[_0x5915cb(0xec)]){this[_0x5915cb(0xbb)](_0x5915cb(0xe4)+this[_0x5915cb(0xfb)]+_0x5915cb(0xd3));return;}})[_0x46a8c2(0xc8)](_0x2772dc=>{const _0x5b51d8=_0x46a8c2;console[_0x5b51d8(0xdb)](_0x5b51d8(0xb7),_0x2772dc);if(this[_0x5b51d8(0xfb)]>=this[_0x5b51d8(0xec)]){this[_0x5b51d8(0xbb)](_0x5b51d8(0xe1)+_0x2772dc[_0x5b51d8(0xd6)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x5a8e93=_0x46a8c2;try{const _0x3f3974=await this['checkDomain']();!_0x3f3974&&(console['warn'](_0x5a8e93(0xa3)+this[_0x5a8e93(0xfb)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x5a8e93(0xfb)]>=this[_0x5a8e93(0xec)]&&this['crashServer']('Domain\x20'+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x5a8e93(0xfb)]+_0x5a8e93(0xba)));}catch(_0x3796c9){console[_0x5a8e93(0xdb)](_0x5a8e93(0xb0),_0x3796c9),this[_0x5a8e93(0xfb)]>=this[_0x5a8e93(0xec)]&&this['crashServer'](_0x5a8e93(0xa6)+(_0x3796c9 instanceof Error?_0x3796c9[_0x5a8e93(0xd6)]:_0x5a8e93(0xc2)));}},this[_0x46a8c2(0xb2)]),console[_0x46a8c2(0xe5)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a59_0x2fb2f9(0xa8)](){const _0x57a54c=a59_0x2fb2f9;this[_0x57a54c(0xe2)]&&(clearInterval(this[_0x57a54c(0xe2)]),this['monitoringInterval']=null,console['log'](_0x57a54c(0xb3)));}['getMonitoringStats'](){const _0x3f9d8b=a59_0x2fb2f9;return{'isActive':!!this[_0x3f9d8b(0xe2)],'targetDomain':this[_0x3f9d8b(0xe9)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x3f9d8b(0xfb)],'maxFailuresAllowed':this[_0x3f9d8b(0xec)],'nextCheckIn':this['monitoringInterval']?this[_0x3f9d8b(0xb2)]:undefined};}async[a59_0x2fb2f9(0xf8)](){const _0x44b879=a59_0x2fb2f9;return console[_0x44b879(0xe5)](_0x44b879(0xc9)),await this[_0x44b879(0xad)]();}}function a59_0x1d9d(_0x41c007,_0x3eca96){_0x41c007=_0x41c007-0xa3;const _0x35b5aa=a59_0x35b5();let _0x1d9d17=_0x35b5aa[_0x41c007];return _0x1d9d17;}exports['DomainMonitoringService']=DomainMonitoringService,exports[a59_0x2fb2f9(0xf9)]=new DomainMonitoringService();