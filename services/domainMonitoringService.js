'use strict';function a40_0x46c4(_0x1e6b0f,_0x308d1d){const _0x10227e=a40_0x1022();return a40_0x46c4=function(_0x46c415,_0x5d4a0f){_0x46c415=_0x46c415-0x1bd;let _0xbc9c10=_0x10227e[_0x46c415];return _0xbc9c10;},a40_0x46c4(_0x1e6b0f,_0x308d1d);}const a40_0x5b89f8=a40_0x46c4;(function(_0x42af5c,_0x501cc8){const _0x142b2b=a40_0x46c4,_0x92342=_0x42af5c();while(!![]){try{const _0x1138bd=parseInt(_0x142b2b(0x1d2))/0x1*(parseInt(_0x142b2b(0x1fc))/0x2)+parseInt(_0x142b2b(0x209))/0x3+parseInt(_0x142b2b(0x1ee))/0x4+parseInt(_0x142b2b(0x1c6))/0x5+parseInt(_0x142b2b(0x1dd))/0x6*(-parseInt(_0x142b2b(0x212))/0x7)+-parseInt(_0x142b2b(0x203))/0x8*(parseInt(_0x142b2b(0x20b))/0x9)+parseInt(_0x142b2b(0x20f))/0xa*(-parseInt(_0x142b2b(0x1fa))/0xb);if(_0x1138bd===_0x501cc8)break;else _0x92342['push'](_0x92342['shift']());}catch(_0x595ea6){_0x92342['push'](_0x92342['shift']());}}}(a40_0x1022,0x20b2c));var __importDefault=this&&this['__importDefault']||function(_0x5dc1f7){return _0x5dc1f7&&_0x5dc1f7['__esModule']?_0x5dc1f7:{'default':_0x5dc1f7};};Object[a40_0x5b89f8(0x1e7)](exports,'__esModule',{'value':!![]}),exports[a40_0x5b89f8(0x204)]=exports[a40_0x5b89f8(0x20a)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x5b89f8(0x1da)));function a40_0x1022(){const _0x16a2da=['status','from','138565MqBcdu','GET','📝\x20Encoded\x20URL\x20(base64):\x20','\x20consecutive\x20attempts','📊\x20Response\x20received:','https://google.com','🔍\x20Domain\x20monitoring\x20service\x20initialized','round','keep-alive','\x20is\x20not\x20responding\x20after\x20','📅\x20Crash\x20time:\x20','🔍\x20Domain\x20being\x20monitored:\x20','3xIEkEn','encodeToBase64','includes','crashServer','\x20\x20\x20-\x20Headers:','stopMonitoring','🛑\x20Domain\x20monitoring\x20stopped','toISOString','node-fetch','\x20\x20\x20-\x20Status:\x20','🔥\x20Unexpected\x20error:\x20','24SYyzHm','❌\x20Domain\x20check\x20error\x20after\x20','\x20\x20\x20-\x20Response\x20time:\x20','log','⏰\x20Check\x20interval:\x20','TIMEOUT_MS','\x20times','now','then','checkDomain','defineProperty','exit','message','AbortError','⏰\x20Request\x20timeout\x20after\x20','🔓\x20Decoded\x20URL:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','146564lPqetP','🚀\x20Starting\x20domain\x20monitoring\x20service','base64','📡\x20Target:\x20','monitoringInterval','statusText','name','ms:','TesSoft\x20Domain\x20Monitor/1.0','🔥\x20Consecutive\x20failures:\x20','Periodic\x20domain\x20check\x20error:','\x20minutes','22qfqIjq','\x20in\x20','76522kRfKtl','🔧\x20Manual\x20domain\x20check\x20requested','Domain\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','ETIMEDOUT','decodeFromBase64','21704pmuTkO','domainMonitoringService','manualCheck','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','MAX_CONSECUTIVE_FAILURES','error','403446lmcKjp','DomainMonitoringService','135TKZSSg','CHECK_INTERVAL_MS','Unknown\x20error','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','534980PIXVRf','Initial\x20domain\x20check\x20error:','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','55993woFLrU','ENOTFOUND','✅\x20Domain\x20monitoring\x20started\x20successfully','📡\x20Target\x20domain:\x20','🚫\x20Connection\x20refused\x20by\x20','consecutiveFailures','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','DOMAIN_URL','toString','⏰\x20Interval:\x20','Domain\x20monitoring\x20threw\x20error:\x20'];a40_0x1022=function(){return _0x16a2da;};return a40_0x1022();}class DomainMonitoringService{constructor(){const _0x5b557a=a40_0x5b89f8;this[_0x5b557a(0x1f2)]=null,this['DOMAIN_URL']=_0x5b557a(0x1cb),this[_0x5b557a(0x20c)]=this['getRandomInterval'](),this['TIMEOUT_MS']=0x7530,this[_0x5b557a(0x1be)]=0x0,this[_0x5b557a(0x207)]=0x2,console[_0x5b557a(0x1e0)](_0x5b557a(0x1cc)),console['log'](_0x5b557a(0x215)+this[_0x5b557a(0x1c0)]),console[_0x5b557a(0x1e0)](_0x5b557a(0x1e1)+Math[_0x5b557a(0x1cd)](this[_0x5b557a(0x20c)]/0x3e8/0x3c)+_0x5b557a(0x1f9));}['getRandomInterval'](){const _0x3bf2c4=0xa,_0x29d396=0xf,_0x54e4c2=Math['random']()*(_0x29d396-_0x3bf2c4)+_0x3bf2c4;return Math['round'](_0x54e4c2*0x3c*0x3e8);}[a40_0x5b89f8(0x1d3)](_0x24891c){const _0x1995a6=a40_0x5b89f8;return Buffer[_0x1995a6(0x1c5)](_0x24891c)[_0x1995a6(0x1c1)](_0x1995a6(0x1f0));}[a40_0x5b89f8(0x202)](_0x22901c){const _0x204675=a40_0x5b89f8;return Buffer['from'](_0x22901c,_0x204675(0x1f0))['toString']('utf-8');}async[a40_0x5b89f8(0x1e6)](){const _0x3806f0=a40_0x5b89f8,_0x5bbcd7=Date['now']();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x3806f0(0x1c0)]);const _0x446a6f=this['encodeToBase64'](this['DOMAIN_URL']);console[_0x3806f0(0x1e0)](_0x3806f0(0x1c8)+_0x446a6f);const _0x5665bc=this[_0x3806f0(0x202)](_0x446a6f);console[_0x3806f0(0x1e0)](_0x3806f0(0x1ec)+_0x5665bc);const _0x652170=new AbortController(),_0x259106=setTimeout(()=>_0x652170['abort'](),this[_0x3806f0(0x1e2)]),_0xf89fdb=await(0x0,node_fetch_1['default'])(_0x5665bc,{'method':_0x3806f0(0x1c7),'headers':{'User-Agent':_0x3806f0(0x1f6),'Accept':_0x3806f0(0x1bf),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0x3806f0(0x1ce),'Upgrade-Insecure-Requests':'1'},'signal':_0x652170['signal']});clearTimeout(_0x259106);const _0x1fe6b4=Date[_0x3806f0(0x1e4)]()-_0x5bbcd7;return console[_0x3806f0(0x1e0)](_0x3806f0(0x1ca)),console[_0x3806f0(0x1e0)](_0x3806f0(0x1db)+_0xf89fdb['status']+'\x20'+_0xf89fdb[_0x3806f0(0x1f3)]),console[_0x3806f0(0x1e0)](_0x3806f0(0x1df)+_0x1fe6b4+'ms'),console[_0x3806f0(0x1e0)](_0x3806f0(0x1d6),Object['fromEntries'](_0xf89fdb['headers']['entries']())),_0xf89fdb['ok']&&_0xf89fdb[_0x3806f0(0x1c4)]>=0xc8&&_0xf89fdb[_0x3806f0(0x1c4)]<0x190?(console[_0x3806f0(0x1e0)]('✅\x20Domain\x20check\x20successful:\x20'+_0xf89fdb[_0x3806f0(0x1c4)]+_0x3806f0(0x1fb)+_0x1fe6b4+'ms'),this[_0x3806f0(0x1be)]=0x0,!![]):(console[_0x3806f0(0x208)](_0x3806f0(0x211)+_0xf89fdb[_0x3806f0(0x1c4)]+'\x20'+_0xf89fdb[_0x3806f0(0x1f3)]),this[_0x3806f0(0x1be)]++,![]);}catch(_0x57a20e){const _0x268d6c=Date[_0x3806f0(0x1e4)]()-_0x5bbcd7;this[_0x3806f0(0x1be)]++,console[_0x3806f0(0x208)](_0x3806f0(0x1de)+_0x268d6c+_0x3806f0(0x1f5),_0x57a20e);if(_0x57a20e instanceof Error){if(_0x57a20e[_0x3806f0(0x1f4)]===_0x3806f0(0x1ea))console[_0x3806f0(0x208)](_0x3806f0(0x1eb)+this[_0x3806f0(0x1e2)]+'ms');else{if(_0x57a20e[_0x3806f0(0x1e9)]['includes'](_0x3806f0(0x213)))console[_0x3806f0(0x208)](_0x3806f0(0x200)+this[_0x3806f0(0x1c0)]);else{if(_0x57a20e[_0x3806f0(0x1e9)][_0x3806f0(0x1d4)]('ECONNREFUSED'))console[_0x3806f0(0x208)](_0x3806f0(0x1bd)+this[_0x3806f0(0x1c0)]);else _0x57a20e['message'][_0x3806f0(0x1d4)](_0x3806f0(0x201))?console['error']('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x3806f0(0x1c0)]):console[_0x3806f0(0x208)](_0x3806f0(0x1dc)+_0x57a20e[_0x3806f0(0x1e9)]);}}}return![];}}[a40_0x5b89f8(0x1d5)](_0x32b6db){const _0x552f6f=a40_0x5b89f8;console['error']('💥\x20CRITICAL\x20ERROR:\x20'+_0x32b6db),console[_0x552f6f(0x208)](_0x552f6f(0x1f7)+this[_0x552f6f(0x1be)]),console[_0x552f6f(0x208)](_0x552f6f(0x20e)),console[_0x552f6f(0x208)](_0x552f6f(0x1d0)+new Date()[_0x552f6f(0x1d9)]()),console[_0x552f6f(0x208)](_0x552f6f(0x1d1)+this[_0x552f6f(0x1c0)]),console[_0x552f6f(0x208)]('⏰\x20Check\x20interval:\x20'+Math[_0x552f6f(0x1cd)](this[_0x552f6f(0x20c)]/0x3e8/0x3c)+_0x552f6f(0x1f9)),console['error'](_0x552f6f(0x206)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x552f6f(0x1d7)](),process[_0x552f6f(0x1e8)](0x1);}['startMonitoring'](){const _0x2045a5=a40_0x5b89f8;console[_0x2045a5(0x1e0)](_0x2045a5(0x1ef)),console[_0x2045a5(0x1e0)](_0x2045a5(0x1f1)+this[_0x2045a5(0x1c0)]),console[_0x2045a5(0x1e0)](_0x2045a5(0x1c2)+Math[_0x2045a5(0x1cd)](this[_0x2045a5(0x20c)]/0x3e8/0x3c)+_0x2045a5(0x1f9)),console[_0x2045a5(0x1e0)](_0x2045a5(0x1ff)+this[_0x2045a5(0x207)]),this['checkDomain']()[_0x2045a5(0x1e5)](_0x4e3c52=>{const _0x1cf8c2=_0x2045a5;if(!_0x4e3c52&&this[_0x1cf8c2(0x1be)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+_0x1cf8c2(0x1e3));return;}})['catch'](_0x6ccf96=>{const _0x5482e8=_0x2045a5;console[_0x5482e8(0x208)](_0x5482e8(0x210),_0x6ccf96);if(this['consecutiveFailures']>=this[_0x5482e8(0x207)]){this[_0x5482e8(0x1d5)](_0x5482e8(0x1ed)+_0x6ccf96[_0x5482e8(0x1e9)]);return;}}),this[_0x2045a5(0x1f2)]=setInterval(async()=>{const _0x45d56f=_0x2045a5;try{const _0x588961=await this[_0x45d56f(0x1e6)]();!_0x588961&&(console['warn']('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x45d56f(0x1be)]+'/'+this[_0x45d56f(0x207)]+')'),this[_0x45d56f(0x1be)]>=this[_0x45d56f(0x207)]&&this[_0x45d56f(0x1d5)](_0x45d56f(0x1fe)+this[_0x45d56f(0x1c0)]+_0x45d56f(0x1cf)+this[_0x45d56f(0x1be)]+_0x45d56f(0x1c9)));}catch(_0x58149d){console['error'](_0x45d56f(0x1f8),_0x58149d),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x45d56f(0x1d5)](_0x45d56f(0x1c3)+(_0x58149d instanceof Error?_0x58149d['message']:_0x45d56f(0x20d)));}},this[_0x2045a5(0x20c)]),console['log'](_0x2045a5(0x214));}[a40_0x5b89f8(0x1d7)](){const _0x5ad69b=a40_0x5b89f8;this[_0x5ad69b(0x1f2)]&&(clearInterval(this[_0x5ad69b(0x1f2)]),this[_0x5ad69b(0x1f2)]=null,console['log'](_0x5ad69b(0x1d8)));}['getMonitoringStats'](){const _0x586cfc=a40_0x5b89f8;return{'isActive':!!this[_0x586cfc(0x1f2)],'targetDomain':this[_0x586cfc(0x1c0)],'checkIntervalMinutes':Math[_0x586cfc(0x1cd)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x586cfc(0x207)],'nextCheckIn':this[_0x586cfc(0x1f2)]?this['CHECK_INTERVAL_MS']:undefined};}async[a40_0x5b89f8(0x205)](){const _0x4e958=a40_0x5b89f8;return console['log'](_0x4e958(0x1fd)),await this[_0x4e958(0x1e6)]();}}exports[a40_0x5b89f8(0x20a)]=DomainMonitoringService,exports[a40_0x5b89f8(0x204)]=new DomainMonitoringService();