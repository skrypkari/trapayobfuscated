'use strict';const a59_0x2be555=a59_0x4b6e;(function(_0x1ef21e,_0x3aa1d8){const _0x3c00a9=a59_0x4b6e,_0x3f9b6a=_0x1ef21e();while(!![]){try{const _0x561077=parseInt(_0x3c00a9(0x1d9))/0x1*(-parseInt(_0x3c00a9(0x193))/0x2)+parseInt(_0x3c00a9(0x1a9))/0x3*(-parseInt(_0x3c00a9(0x1ca))/0x4)+-parseInt(_0x3c00a9(0x1b6))/0x5*(-parseInt(_0x3c00a9(0x1a8))/0x6)+-parseInt(_0x3c00a9(0x1b2))/0x7+-parseInt(_0x3c00a9(0x1c7))/0x8*(parseInt(_0x3c00a9(0x1a2))/0x9)+-parseInt(_0x3c00a9(0x1cb))/0xa*(-parseInt(_0x3c00a9(0x19a))/0xb)+parseInt(_0x3c00a9(0x1a3))/0xc;if(_0x561077===_0x3aa1d8)break;else _0x3f9b6a['push'](_0x3f9b6a['shift']());}catch(_0x176933){_0x3f9b6a['push'](_0x3f9b6a['shift']());}}}(a59_0x2165,0x78e44));var __importDefault=this&&this['__importDefault']||function(_0x19830a){return _0x19830a&&_0x19830a['__esModule']?_0x19830a:{'default':_0x19830a};};Object[a59_0x2be555(0x18c)](exports,a59_0x2be555(0x1b5),{'value':!![]}),exports[a59_0x2be555(0x194)]=exports[a59_0x2be555(0x1d4)]=void 0x0;const node_fetch_1=__importDefault(require(a59_0x2be555(0x1b7)));function a59_0x4b6e(_0x3aab93,_0x3f91ee){_0x3aab93=_0x3aab93-0x187;const _0x2165ab=a59_0x2165();let _0x4b6e5e=_0x2165ab[_0x3aab93];return _0x4b6e5e;}function a59_0x2165(){const _0x11cf78=['ECONNREFUSED','ðŸ”“\x20Decoded\x20URL:\x20','â°\x20Connection\x20timeout\x20to\x20','1364810XFayHx','domainMonitoringService','stopMonitoring','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','gzip,\x20deflate','\x20times','headers','8790419myXRMO','TIMEOUT_MS','startMonitoring','checkDomain','consecutiveFailures','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','\x20consecutive\x20attempts','ðŸ”¥\x20Consecutive\x20failures:\x20','144ZDooWH','25393428yLuBID','âš ï¸\x20Domain\x20check\x20failed\x20(','fromEntries','monitoringInterval','name','22506SFPeIv','6CnlLVa','DOMAIN_URL','random','âŒ\x20Domain\x20check\x20error\x20after\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','encodeToBase64','exit','\x20is\x20not\x20responding\x20after\x20','toString','5514628sTyHJu','CHECK_INTERVAL_MS','log','__esModule','425LOtCBj','node-fetch','message','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','ðŸ”\x20Domain\x20being\x20monitored:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','abort','ðŸ“Š\x20Response\x20received:','ðŸ”§\x20Manual\x20domain\x20check\x20requested','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','AbortError','\x20\x20\x20-\x20Response\x20time:\x20','ENOTFOUND','\x20minutes','Domain\x20','Periodic\x20domain\x20check\x20error:','338448IZuUXX','base64','signal','1183612mMGKKK','10vJgGdq','default','keep-alive','ðŸ“¡\x20Target\x20domain:\x20','ðŸ”¥\x20Unexpected\x20error:\x20','warn','round','decodeFromBase64','GET','DomainMonitoringService','toISOString','https://google.com','crashServer','â°\x20Check\x20interval:\x20','1mrDIDc','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','ðŸ›‘\x20Domain\x20monitoring\x20stopped','getRandomInterval','Domain\x20Monitor/1.0','ðŸš«\x20Connection\x20refused\x20by\x20','error','MAX_CONSECUTIVE_FAILURES','ETIMEDOUT','from','now','Unknown\x20error','status','Initial\x20domain\x20check\x20error:','defineProperty','includes','ðŸ“…\x20Crash\x20time:\x20','âœ…\x20Domain\x20check\x20successful:\x20'];a59_0x2165=function(){return _0x11cf78;};return a59_0x2165();}class DomainMonitoringService{constructor(){const _0x384ce1=a59_0x2be555;this[_0x384ce1(0x1a6)]=null,this[_0x384ce1(0x1aa)]=_0x384ce1(0x1d6),this[_0x384ce1(0x1b3)]=this[_0x384ce1(0x1dc)](),this[_0x384ce1(0x19b)]=0x7530,this['consecutiveFailures']=0x0,this[_0x384ce1(0x1e0)]=0x2,console[_0x384ce1(0x1b4)]('ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x384ce1(0x1b4)](_0x384ce1(0x1ce)+this[_0x384ce1(0x1aa)]),console[_0x384ce1(0x1b4)](_0x384ce1(0x1d8)+Math[_0x384ce1(0x1d1)](this[_0x384ce1(0x1b3)]/0x3e8/0x3c)+'\x20minutes');}['getRandomInterval'](){const _0x2e69b5=a59_0x2be555,_0x23191f=0xa,_0x446dff=0xf,_0x8b18ab=Math[_0x2e69b5(0x1ab)]()*(_0x446dff-_0x23191f)+_0x23191f;return Math[_0x2e69b5(0x1d1)](_0x8b18ab*0x3c*0x3e8);}[a59_0x2be555(0x1ae)](_0x202cc3){const _0x15afe1=a59_0x2be555;return Buffer[_0x15afe1(0x187)](_0x202cc3)['toString'](_0x15afe1(0x1c8));}[a59_0x2be555(0x1d2)](_0x46030e){const _0x1af48b=a59_0x2be555;return Buffer['from'](_0x46030e,_0x1af48b(0x1c8))[_0x1af48b(0x1b1)]('utf-8');}async[a59_0x2be555(0x19d)](){const _0x2210ce=a59_0x2be555,_0x139bc0=Date[_0x2210ce(0x188)]();try{console['log']('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x1c3cb6=this[_0x2210ce(0x1ae)](this[_0x2210ce(0x1aa)]);console['log'](_0x2210ce(0x1da)+_0x1c3cb6);const _0x3ce95a=this[_0x2210ce(0x1d2)](_0x1c3cb6);console['log'](_0x2210ce(0x191)+_0x3ce95a);const _0x1a56ac=new AbortController(),_0x4a332c=setTimeout(()=>_0x1a56ac[_0x2210ce(0x1bd)](),this['TIMEOUT_MS']),_0x511616=await(0x0,node_fetch_1[_0x2210ce(0x1cc)])(_0x3ce95a,{'method':_0x2210ce(0x1d3),'headers':{'User-Agent':_0x2210ce(0x1dd),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x2210ce(0x197),'Connection':_0x2210ce(0x1cd),'Upgrade-Insecure-Requests':'1'},'signal':_0x1a56ac[_0x2210ce(0x1c9)]});clearTimeout(_0x4a332c);const _0x33a8d1=Date[_0x2210ce(0x188)]()-_0x139bc0;return console[_0x2210ce(0x1b4)](_0x2210ce(0x1be)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x511616[_0x2210ce(0x18a)]+'\x20'+_0x511616['statusText']),console[_0x2210ce(0x1b4)](_0x2210ce(0x1c2)+_0x33a8d1+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object[_0x2210ce(0x1a5)](_0x511616[_0x2210ce(0x199)]['entries']())),_0x511616['ok']&&_0x511616[_0x2210ce(0x18a)]>=0xc8&&_0x511616[_0x2210ce(0x18a)]<0x190?(console[_0x2210ce(0x1b4)](_0x2210ce(0x18f)+_0x511616['status']+'\x20in\x20'+_0x33a8d1+'ms'),this[_0x2210ce(0x19e)]=0x0,!![]):(console['error']('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x511616[_0x2210ce(0x18a)]+'\x20'+_0x511616['statusText']),this['consecutiveFailures']++,![]);}catch(_0x1184d3){const _0x4dec53=Date['now']()-_0x139bc0;this['consecutiveFailures']++,console[_0x2210ce(0x1df)](_0x2210ce(0x1ac)+_0x4dec53+'ms:',_0x1184d3);if(_0x1184d3 instanceof Error){if(_0x1184d3[_0x2210ce(0x1a7)]===_0x2210ce(0x1c1))console['error']('â°\x20Request\x20timeout\x20after\x20'+this[_0x2210ce(0x19b)]+'ms');else{if(_0x1184d3[_0x2210ce(0x1b8)][_0x2210ce(0x18d)](_0x2210ce(0x1c3)))console['error'](_0x2210ce(0x1ba)+this['DOMAIN_URL']);else{if(_0x1184d3[_0x2210ce(0x1b8)][_0x2210ce(0x18d)](_0x2210ce(0x190)))console[_0x2210ce(0x1df)](_0x2210ce(0x1de)+this[_0x2210ce(0x1aa)]);else _0x1184d3[_0x2210ce(0x1b8)][_0x2210ce(0x18d)](_0x2210ce(0x1e1))?console['error'](_0x2210ce(0x192)+this[_0x2210ce(0x1aa)]):console[_0x2210ce(0x1df)](_0x2210ce(0x1cf)+_0x1184d3[_0x2210ce(0x1b8)]);}}}return![];}}[a59_0x2be555(0x1d7)](_0x62f74){const _0x16ac8c=a59_0x2be555;console[_0x16ac8c(0x1df)](_0x16ac8c(0x196)+_0x62f74),console[_0x16ac8c(0x1df)](_0x16ac8c(0x1a1)+this[_0x16ac8c(0x19e)]),console[_0x16ac8c(0x1df)](_0x16ac8c(0x19f)),console[_0x16ac8c(0x1df)](_0x16ac8c(0x18e)+new Date()[_0x16ac8c(0x1d5)]()),console[_0x16ac8c(0x1df)](_0x16ac8c(0x1bb)+this[_0x16ac8c(0x1aa)]),console['error'](_0x16ac8c(0x1d8)+Math[_0x16ac8c(0x1d1)](this[_0x16ac8c(0x1b3)]/0x3e8/0x3c)+_0x16ac8c(0x1c4)),console[_0x16ac8c(0x1df)](_0x16ac8c(0x1b9)+this[_0x16ac8c(0x1e0)]),this[_0x16ac8c(0x195)](),process[_0x16ac8c(0x1af)](0x1);}[a59_0x2be555(0x19c)](){const _0x4e5889=a59_0x2be555;console[_0x4e5889(0x1b4)](_0x4e5889(0x1c0)),console[_0x4e5889(0x1b4)]('ðŸ“¡\x20Target:\x20'+this['DOMAIN_URL']),console[_0x4e5889(0x1b4)]('â°\x20Interval:\x20'+Math[_0x4e5889(0x1d1)](this[_0x4e5889(0x1b3)]/0x3e8/0x3c)+'\x20minutes'),console['log'](_0x4e5889(0x1ad)+this[_0x4e5889(0x1e0)]),this['checkDomain']()['then'](_0x41ff69=>{const _0x25a6e4=_0x4e5889;if(!_0x41ff69&&this[_0x25a6e4(0x19e)]>=this[_0x25a6e4(0x1e0)]){this[_0x25a6e4(0x1d7)]('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+_0x25a6e4(0x198));return;}})['catch'](_0x378584=>{const _0x3ab0fc=_0x4e5889;console['error'](_0x3ab0fc(0x18b),_0x378584);if(this['consecutiveFailures']>=this[_0x3ab0fc(0x1e0)]){this[_0x3ab0fc(0x1d7)](_0x3ab0fc(0x1bc)+_0x378584[_0x3ab0fc(0x1b8)]);return;}}),this[_0x4e5889(0x1a6)]=setInterval(async()=>{const _0x1d5e39=_0x4e5889;try{const _0x373c05=await this[_0x1d5e39(0x19d)]();!_0x373c05&&(console[_0x1d5e39(0x1d0)](_0x1d5e39(0x1a4)+this[_0x1d5e39(0x19e)]+'/'+this[_0x1d5e39(0x1e0)]+')'),this[_0x1d5e39(0x19e)]>=this[_0x1d5e39(0x1e0)]&&this[_0x1d5e39(0x1d7)](_0x1d5e39(0x1c5)+this[_0x1d5e39(0x1aa)]+_0x1d5e39(0x1b0)+this[_0x1d5e39(0x19e)]+_0x1d5e39(0x1a0)));}catch(_0x136e8c){console['error'](_0x1d5e39(0x1c6),_0x136e8c),this[_0x1d5e39(0x19e)]>=this[_0x1d5e39(0x1e0)]&&this[_0x1d5e39(0x1d7)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x136e8c instanceof Error?_0x136e8c[_0x1d5e39(0x1b8)]:_0x1d5e39(0x189)));}},this[_0x4e5889(0x1b3)]),console[_0x4e5889(0x1b4)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a59_0x2be555(0x195)](){const _0x4f50ff=a59_0x2be555;this[_0x4f50ff(0x1a6)]&&(clearInterval(this[_0x4f50ff(0x1a6)]),this[_0x4f50ff(0x1a6)]=null,console[_0x4f50ff(0x1b4)](_0x4f50ff(0x1db)));}['getMonitoringStats'](){const _0x3c4f49=a59_0x2be555;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x3c4f49(0x1aa)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x3c4f49(0x19e)],'maxFailuresAllowed':this[_0x3c4f49(0x1e0)],'nextCheckIn':this['monitoringInterval']?this[_0x3c4f49(0x1b3)]:undefined};}async['manualCheck'](){const _0x357e2d=a59_0x2be555;return console[_0x357e2d(0x1b4)](_0x357e2d(0x1bf)),await this['checkDomain']();}}exports[a59_0x2be555(0x1d4)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();