'use strict';const a39_0x47cc5d=a39_0x3141;(function(_0x4a01b2,_0x2ec089){const _0x5509b2=a39_0x3141,_0x25031f=_0x4a01b2();while(!![]){try{const _0x3a56ef=parseInt(_0x5509b2(0x110))/0x1*(parseInt(_0x5509b2(0xf6))/0x2)+-parseInt(_0x5509b2(0x10f))/0x3+-parseInt(_0x5509b2(0x11a))/0x4*(parseInt(_0x5509b2(0x104))/0x5)+-parseInt(_0x5509b2(0xf7))/0x6+-parseInt(_0x5509b2(0xd5))/0x7+parseInt(_0x5509b2(0xe5))/0x8*(parseInt(_0x5509b2(0x108))/0x9)+parseInt(_0x5509b2(0xe2))/0xa;if(_0x3a56ef===_0x2ec089)break;else _0x25031f['push'](_0x25031f['shift']());}catch(_0x3ae871){_0x25031f['push'](_0x25031f['shift']());}}}(a39_0x2d23,0x196dd));var __importDefault=this&&this[a39_0x47cc5d(0x115)]||function(_0x3b2502){const _0x5a6d1c=a39_0x47cc5d;return _0x3b2502&&_0x3b2502[_0x5a6d1c(0xf8)]?_0x3b2502:{'default':_0x3b2502};};Object['defineProperty'](exports,a39_0x47cc5d(0xf8),{'value':!![]}),exports[a39_0x47cc5d(0x113)]=exports[a39_0x47cc5d(0x105)]=void 0x0;function a39_0x2d23(){const _0x458cfe=['Unknown\x20error','headers','ECONNREFUSED','Initial\x20domain\x20check\x20error:','TIMEOUT_MS','decodeFromBase64','486102JFrmXG','15iGIdJc','ETIMEDOUT','then','domainMonitoringService','GET','__importDefault','⏰\x20Check\x20interval:\x20','now','getMonitoringStats','keep-alive','4GSTybE','\x20\x20\x20-\x20Response\x20time:\x20','📊\x20Response\x20received:','default','\x20\x20\x20-\x20Headers:','Initial\x20domain\x20check\x20failed\x20','crashServer','🔧\x20Manual\x20domain\x20check\x20requested','includes','⚠️\x20Domain\x20check\x20failed\x20(','🔍\x20Domain\x20monitoring\x20service\x20initialized','❌\x20Domain\x20check\x20error\x20after\x20','DOMAIN_URL','🔥\x20Unexpected\x20error:\x20','🔥\x20Consecutive\x20failures:\x20','🛑\x20Domain\x20monitoring\x20stopped','consecutiveFailures','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','gzip,\x20deflate','error','from','977116UIxrZr','manualCheck','checkDomain','🔍\x20Domain\x20being\x20monitored:\x20','AbortError','fromEntries','https://google.com','ENOTFOUND','startMonitoring','\x20consecutive\x20attempts','exit','toString','💥\x20CRITICAL\x20ERROR:\x20','6296040USsatS','📅\x20Crash\x20time:\x20','round','8QOBNQX','log','ms:','\x20in\x20','abort','🔍\x20Checking\x20domain\x20availability:\x20','MAX_CONSECUTIVE_FAILURES','catch','node-fetch','✅\x20Domain\x20check\x20successful:\x20','⏰\x20Connection\x20timeout\x20to\x20','CHECK_INTERVAL_MS','🚫\x20Connection\x20refused\x20by\x20','TesSoft\x20Domain\x20Monitor/1.0','statusText','en-US,en;q=0.5','monitoringInterval','256APfDBW','268944McLtbu','__esModule','\x20minutes','encodeToBase64','base64','📝\x20Encoded\x20URL\x20(base64):\x20','\x20\x20\x20-\x20Status:\x20','⏰\x20Request\x20timeout\x20after\x20','entries','status','warn','🚨\x20Max\x20failures\x20before\x20crash:\x20','toISOString','989665yuJfFG','DomainMonitoringService','stopMonitoring','message','153108lpUhlZ'];a39_0x2d23=function(){return _0x458cfe;};return a39_0x2d23();}const node_fetch_1=__importDefault(require(a39_0x47cc5d(0xed)));class DomainMonitoringService{constructor(){const _0xb8a7b=a39_0x47cc5d;this[_0xb8a7b(0xf5)]=null,this[_0xb8a7b(0x126)]=_0xb8a7b(0xdb),this[_0xb8a7b(0xf0)]=this['getRandomInterval'](),this[_0xb8a7b(0x10d)]=0x7530,this['consecutiveFailures']=0x0,this[_0xb8a7b(0xeb)]=0x2,console[_0xb8a7b(0xe6)](_0xb8a7b(0x124)),console[_0xb8a7b(0xe6)]('📡\x20Target\x20domain:\x20'+this[_0xb8a7b(0x126)]),console[_0xb8a7b(0xe6)]('⏰\x20Check\x20interval:\x20'+Math[_0xb8a7b(0xe4)](this[_0xb8a7b(0xf0)]/0x3e8/0x3c)+_0xb8a7b(0xf9));}['getRandomInterval'](){const _0x4acc6b=0xa,_0x38ed2f=0xf,_0xf123dc=Math['random']()*(_0x38ed2f-_0x4acc6b)+_0x4acc6b;return Math['round'](_0xf123dc*0x3c*0x3e8);}['encodeToBase64'](_0x15a58d){const _0x5f5cbf=a39_0x47cc5d;return Buffer[_0x5f5cbf(0xd4)](_0x15a58d)[_0x5f5cbf(0xe0)]('base64');}['decodeFromBase64'](_0x2e1a2b){const _0x415051=a39_0x47cc5d;return Buffer[_0x415051(0xd4)](_0x2e1a2b,_0x415051(0xfb))[_0x415051(0xe0)]('utf-8');}async['checkDomain'](){const _0x3592b7=a39_0x47cc5d,_0x2b8058=Date[_0x3592b7(0x117)]();try{console[_0x3592b7(0xe6)](_0x3592b7(0xea)+this[_0x3592b7(0x126)]);const _0x533a6e=this[_0x3592b7(0xfa)](this['DOMAIN_URL']);console[_0x3592b7(0xe6)](_0x3592b7(0xfc)+_0x533a6e);const _0x4758df=this[_0x3592b7(0x10e)](_0x533a6e);console[_0x3592b7(0xe6)]('🔓\x20Decoded\x20URL:\x20'+_0x4758df);const _0x1a04c6=new AbortController(),_0x21cce7=setTimeout(()=>_0x1a04c6[_0x3592b7(0xe9)](),this[_0x3592b7(0x10d)]),_0x12547d=await(0x0,node_fetch_1[_0x3592b7(0x11d)])(_0x4758df,{'method':_0x3592b7(0x114),'headers':{'User-Agent':_0x3592b7(0xf2),'Accept':_0x3592b7(0xd1),'Accept-Language':_0x3592b7(0xf4),'Accept-Encoding':_0x3592b7(0xd2),'Connection':_0x3592b7(0x119),'Upgrade-Insecure-Requests':'1'},'signal':_0x1a04c6['signal']});clearTimeout(_0x21cce7);const _0x4d7acd=Date[_0x3592b7(0x117)]()-_0x2b8058;return console['log'](_0x3592b7(0x11c)),console[_0x3592b7(0xe6)](_0x3592b7(0xfd)+_0x12547d['status']+'\x20'+_0x12547d[_0x3592b7(0xf3)]),console['log'](_0x3592b7(0x11b)+_0x4d7acd+'ms'),console['log'](_0x3592b7(0x11e),Object[_0x3592b7(0xda)](_0x12547d[_0x3592b7(0x10a)][_0x3592b7(0xff)]())),_0x12547d['ok']&&_0x12547d[_0x3592b7(0x100)]>=0xc8&&_0x12547d[_0x3592b7(0x100)]<0x190?(console[_0x3592b7(0xe6)](_0x3592b7(0xee)+_0x12547d[_0x3592b7(0x100)]+_0x3592b7(0xe8)+_0x4d7acd+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error']('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x12547d[_0x3592b7(0x100)]+'\x20'+_0x12547d['statusText']),this[_0x3592b7(0xd0)]++,![]);}catch(_0x5add8a){const _0x42e9d6=Date['now']()-_0x2b8058;this[_0x3592b7(0xd0)]++,console[_0x3592b7(0xd3)](_0x3592b7(0x125)+_0x42e9d6+_0x3592b7(0xe7),_0x5add8a);if(_0x5add8a instanceof Error){if(_0x5add8a['name']===_0x3592b7(0xd9))console['error'](_0x3592b7(0xfe)+this[_0x3592b7(0x10d)]+'ms');else{if(_0x5add8a['message'][_0x3592b7(0x122)](_0x3592b7(0xdc)))console[_0x3592b7(0xd3)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x3592b7(0x126)]);else{if(_0x5add8a[_0x3592b7(0x107)][_0x3592b7(0x122)](_0x3592b7(0x10b)))console['error'](_0x3592b7(0xf1)+this['DOMAIN_URL']);else _0x5add8a[_0x3592b7(0x107)][_0x3592b7(0x122)](_0x3592b7(0x111))?console[_0x3592b7(0xd3)](_0x3592b7(0xef)+this[_0x3592b7(0x126)]):console[_0x3592b7(0xd3)](_0x3592b7(0x127)+_0x5add8a[_0x3592b7(0x107)]);}}}return![];}}[a39_0x47cc5d(0x120)](_0x1016bc){const _0x2b0ac8=a39_0x47cc5d;console[_0x2b0ac8(0xd3)](_0x2b0ac8(0xe1)+_0x1016bc),console[_0x2b0ac8(0xd3)](_0x2b0ac8(0x128)+this[_0x2b0ac8(0xd0)]),console['error']('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x2b0ac8(0xd3)](_0x2b0ac8(0xe3)+new Date()[_0x2b0ac8(0x103)]()),console[_0x2b0ac8(0xd3)](_0x2b0ac8(0xd8)+this['DOMAIN_URL']),console['error'](_0x2b0ac8(0x116)+Math['round'](this[_0x2b0ac8(0xf0)]/0x3e8/0x3c)+_0x2b0ac8(0xf9)),console[_0x2b0ac8(0xd3)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x2b0ac8(0xeb)]),this[_0x2b0ac8(0x106)](),process[_0x2b0ac8(0xdf)](0x1);}[a39_0x47cc5d(0xdd)](){const _0x3089c7=a39_0x47cc5d;console[_0x3089c7(0xe6)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console['log']('📡\x20Target:\x20'+this[_0x3089c7(0x126)]),console[_0x3089c7(0xe6)]('⏰\x20Interval:\x20'+Math[_0x3089c7(0xe4)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x3089c7(0xe6)](_0x3089c7(0x102)+this[_0x3089c7(0xeb)]),this[_0x3089c7(0xd7)]()[_0x3089c7(0x112)](_0x3f2056=>{const _0x2cf6f2=_0x3089c7;if(!_0x3f2056&&this[_0x2cf6f2(0xd0)]>=this[_0x2cf6f2(0xeb)]){this['crashServer'](_0x2cf6f2(0x11f)+this[_0x2cf6f2(0xd0)]+'\x20times');return;}})[_0x3089c7(0xec)](_0x57b735=>{const _0x4e6488=_0x3089c7;console[_0x4e6488(0xd3)](_0x4e6488(0x10c),_0x57b735);if(this['consecutiveFailures']>=this[_0x4e6488(0xeb)]){this[_0x4e6488(0x120)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x57b735[_0x4e6488(0x107)]);return;}}),this[_0x3089c7(0xf5)]=setInterval(async()=>{const _0xf11e58=_0x3089c7;try{const _0x2f8231=await this[_0xf11e58(0xd7)]();!_0x2f8231&&(console[_0xf11e58(0x101)](_0xf11e58(0x123)+this[_0xf11e58(0xd0)]+'/'+this[_0xf11e58(0xeb)]+')'),this[_0xf11e58(0xd0)]>=this[_0xf11e58(0xeb)]&&this[_0xf11e58(0x120)]('Domain\x20'+this[_0xf11e58(0x126)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0xf11e58(0xd0)]+_0xf11e58(0xde)));}catch(_0x1cc1ec){console[_0xf11e58(0xd3)]('Periodic\x20domain\x20check\x20error:',_0x1cc1ec),this[_0xf11e58(0xd0)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0xf11e58(0x120)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x1cc1ec instanceof Error?_0x1cc1ec['message']:_0xf11e58(0x109)));}},this['CHECK_INTERVAL_MS']),console[_0x3089c7(0xe6)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}['stopMonitoring'](){const _0x22f4c2=a39_0x47cc5d;this[_0x22f4c2(0xf5)]&&(clearInterval(this[_0x22f4c2(0xf5)]),this[_0x22f4c2(0xf5)]=null,console['log'](_0x22f4c2(0xcf)));}[a39_0x47cc5d(0x118)](){const _0x249741=a39_0x47cc5d;return{'isActive':!!this[_0x249741(0xf5)],'targetDomain':this[_0x249741(0x126)],'checkIntervalMinutes':Math[_0x249741(0xe4)](this[_0x249741(0xf0)]/0x3e8/0x3c),'consecutiveFailures':this[_0x249741(0xd0)],'maxFailuresAllowed':this[_0x249741(0xeb)],'nextCheckIn':this[_0x249741(0xf5)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x47cc5d(0xd6)](){const _0x20c1e0=a39_0x47cc5d;return console['log'](_0x20c1e0(0x121)),await this['checkDomain']();}}function a39_0x3141(_0x2f3063,_0x7ba1f3){const _0x2d2342=a39_0x2d23();return a39_0x3141=function(_0x3141b8,_0x4cc942){_0x3141b8=_0x3141b8-0xcf;let _0x2b759a=_0x2d2342[_0x3141b8];return _0x2b759a;},a39_0x3141(_0x2f3063,_0x7ba1f3);}exports[a39_0x47cc5d(0x105)]=DomainMonitoringService,exports[a39_0x47cc5d(0x113)]=new DomainMonitoringService();