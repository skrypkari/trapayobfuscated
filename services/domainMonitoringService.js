'use strict';const a42_0x57325d=a42_0x2cf5;function a42_0x3f9c(){const _0x84cae=['default','2965622VafnEo','getMonitoringStats','catch','DOMAIN_URL','encodeToBase64','1418072PGRVMc','from','🌐\x20DNS\x20resolution\x20failed\x20for\x20','\x20in\x20','fromEntries','🔧\x20Manual\x20domain\x20check\x20requested','then','Initial\x20domain\x20check\x20error:','getRandomInterval','✅\x20Domain\x20check\x20successful:\x20','TIMEOUT_MS','\x20minutes','✅\x20Domain\x20monitoring\x20started\x20successfully','⏰\x20Request\x20timeout\x20after\x20','Initial\x20domain\x20check\x20failed\x20','35382QlBCHa','Domain\x20monitoring\x20threw\x20error:\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','round','name','MAX_CONSECUTIVE_FAILURES','crashServer','\x20\x20\x20-\x20Status:\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','headers','checkDomain','📡\x20Target:\x20','manualCheck','297pbELdj','42MFxLLQ','abort','stopMonitoring','💥\x20CRITICAL\x20ERROR:\x20','node-fetch','\x20consecutive\x20attempts','\x20\x20\x20-\x20Headers:','🚫\x20Connection\x20refused\x20by\x20','183390sycwdT','🔍\x20Checking\x20domain\x20availability:\x20','\x20times','Periodic\x20domain\x20check\x20error:','ECONNREFUSED','DomainMonitoringService','error','ETIMEDOUT','now','__importDefault','utf-8','signal','❌\x20Domain\x20check\x20error\x20after\x20','🛑\x20Domain\x20monitoring\x20stopped','36830EdPXQT','message','includes','AbortError','🔍\x20Domain\x20being\x20monitored:\x20','CHECK_INTERVAL_MS','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','decodeFromBase64','statusText','🔓\x20Decoded\x20URL:\x20','📅\x20Crash\x20time:\x20','GET','⏰\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','exit','status','🚨\x20Max\x20failures\x20before\x20crash:\x20','🔥\x20Consecutive\x20failures:\x20','warn','\x20\x20\x20-\x20Response\x20time:\x20','Domain\x20','10KRmDYr','toString','ms:','800912UAFMsF','consecutiveFailures','9wodjwV','random','log','entries','defineProperty','⏰\x20Connection\x20timeout\x20to\x20','monitoringInterval','369194pbjfCJ','🔥\x20Unexpected\x20error:\x20'];a42_0x3f9c=function(){return _0x84cae;};return a42_0x3f9c();}(function(_0x3d29a1,_0x26d11b){const _0x423763=a42_0x2cf5,_0x25419f=_0x3d29a1();while(!![]){try{const _0x21c70a=parseInt(_0x423763(0x1f1))/0x1+parseInt(_0x423763(0x21e))/0x2*(-parseInt(_0x423763(0x246))/0x3)+parseInt(_0x423763(0x244))/0x4*(parseInt(_0x423763(0x241))/0x5)+parseInt(_0x423763(0x208))/0x6*(parseInt(_0x423763(0x216))/0x7)+-parseInt(_0x423763(0x1f9))/0x8+-parseInt(_0x423763(0x215))/0x9*(-parseInt(_0x423763(0x22c))/0xa)+-parseInt(_0x423763(0x1f4))/0xb;if(_0x21c70a===_0x26d11b)break;else _0x25419f['push'](_0x25419f['shift']());}catch(_0x5084ba){_0x25419f['push'](_0x25419f['shift']());}}}(a42_0x3f9c,0x31f51));var __importDefault=this&&this[a42_0x57325d(0x227)]||function(_0x11a6e7){return _0x11a6e7&&_0x11a6e7['__esModule']?_0x11a6e7:{'default':_0x11a6e7};};Object[a42_0x57325d(0x1ee)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a42_0x57325d(0x223)]=void 0x0;const node_fetch_1=__importDefault(require(a42_0x57325d(0x21a)));function a42_0x2cf5(_0x159415,_0x594f09){const _0x3f9c81=a42_0x3f9c();return a42_0x2cf5=function(_0x2cf5f2,_0x1f2c0e){_0x2cf5f2=_0x2cf5f2-0x1eb;let _0x2e8f7d=_0x3f9c81[_0x2cf5f2];return _0x2e8f7d;},a42_0x2cf5(_0x159415,_0x594f09);}class DomainMonitoringService{constructor(){const _0x14d270=a42_0x57325d;this['monitoringInterval']=null,this[_0x14d270(0x1f7)]='https://google.com',this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this[_0x14d270(0x203)]=0x7530,this[_0x14d270(0x245)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x14d270(0x1ec)](_0x14d270(0x20a)),console[_0x14d270(0x1ec)]('📡\x20Target\x20domain:\x20'+this['DOMAIN_URL']),console[_0x14d270(0x1ec)](_0x14d270(0x238)+Math[_0x14d270(0x20b)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x14d270(0x204));}[a42_0x57325d(0x201)](){const _0x319631=a42_0x57325d,_0x36ac4a=0xa,_0x450845=0xf,_0x4630e9=Math[_0x319631(0x1eb)]()*(_0x450845-_0x36ac4a)+_0x36ac4a;return Math[_0x319631(0x20b)](_0x4630e9*0x3c*0x3e8);}[a42_0x57325d(0x1f8)](_0x5e01be){const _0x49e6ad=a42_0x57325d;return Buffer[_0x49e6ad(0x1fa)](_0x5e01be)[_0x49e6ad(0x242)]('base64');}[a42_0x57325d(0x233)](_0x35b8dc){const _0x4b6f52=a42_0x57325d;return Buffer[_0x4b6f52(0x1fa)](_0x35b8dc,'base64')['toString'](_0x4b6f52(0x228));}async[a42_0x57325d(0x212)](){const _0x3b5116=a42_0x57325d,_0x1ab8b5=Date[_0x3b5116(0x226)]();try{console[_0x3b5116(0x1ec)](_0x3b5116(0x21f)+this[_0x3b5116(0x1f7)]);const _0x151df6=this[_0x3b5116(0x1f8)](this[_0x3b5116(0x1f7)]);console[_0x3b5116(0x1ec)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x151df6);const _0x3141f9=this[_0x3b5116(0x233)](_0x151df6);console[_0x3b5116(0x1ec)](_0x3b5116(0x235)+_0x3141f9);const _0x260a9b=new AbortController(),_0x37ac1f=setTimeout(()=>_0x260a9b[_0x3b5116(0x217)](),this[_0x3b5116(0x203)]),_0x3670b1=await(0x0,node_fetch_1[_0x3b5116(0x1f3)])(_0x3141f9,{'method':_0x3b5116(0x237),'headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':_0x3b5116(0x232),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x260a9b[_0x3b5116(0x229)]});clearTimeout(_0x37ac1f);const _0x311bc2=Date[_0x3b5116(0x226)]()-_0x1ab8b5;return console[_0x3b5116(0x1ec)]('📊\x20Response\x20received:'),console[_0x3b5116(0x1ec)](_0x3b5116(0x20f)+_0x3670b1['status']+'\x20'+_0x3670b1['statusText']),console[_0x3b5116(0x1ec)](_0x3b5116(0x23f)+_0x311bc2+'ms'),console[_0x3b5116(0x1ec)](_0x3b5116(0x21c),Object[_0x3b5116(0x1fd)](_0x3670b1[_0x3b5116(0x211)][_0x3b5116(0x1ed)]())),_0x3670b1['ok']&&_0x3670b1[_0x3b5116(0x23b)]>=0xc8&&_0x3670b1['status']<0x190?(console[_0x3b5116(0x1ec)](_0x3b5116(0x202)+_0x3670b1[_0x3b5116(0x23b)]+_0x3b5116(0x1fc)+_0x311bc2+'ms'),this[_0x3b5116(0x245)]=0x0,!![]):(console[_0x3b5116(0x224)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x3670b1[_0x3b5116(0x23b)]+'\x20'+_0x3670b1[_0x3b5116(0x234)]),this[_0x3b5116(0x245)]++,![]);}catch(_0x44be22){const _0x4db9d9=Date[_0x3b5116(0x226)]()-_0x1ab8b5;this['consecutiveFailures']++,console[_0x3b5116(0x224)](_0x3b5116(0x22a)+_0x4db9d9+_0x3b5116(0x243),_0x44be22);if(_0x44be22 instanceof Error){if(_0x44be22[_0x3b5116(0x20c)]===_0x3b5116(0x22f))console[_0x3b5116(0x224)](_0x3b5116(0x206)+this[_0x3b5116(0x203)]+'ms');else{if(_0x44be22[_0x3b5116(0x22d)][_0x3b5116(0x22e)]('ENOTFOUND'))console[_0x3b5116(0x224)](_0x3b5116(0x1fb)+this[_0x3b5116(0x1f7)]);else{if(_0x44be22[_0x3b5116(0x22d)]['includes'](_0x3b5116(0x222)))console[_0x3b5116(0x224)](_0x3b5116(0x21d)+this[_0x3b5116(0x1f7)]);else _0x44be22['message']['includes'](_0x3b5116(0x225))?console[_0x3b5116(0x224)](_0x3b5116(0x1ef)+this['DOMAIN_URL']):console['error'](_0x3b5116(0x1f2)+_0x44be22['message']);}}}return![];}}[a42_0x57325d(0x20e)](_0x4a2f49){const _0x3e6948=a42_0x57325d;console[_0x3e6948(0x224)](_0x3e6948(0x219)+_0x4a2f49),console[_0x3e6948(0x224)](_0x3e6948(0x23d)+this[_0x3e6948(0x245)]),console[_0x3e6948(0x224)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x3e6948(0x236)+new Date()['toISOString']()),console[_0x3e6948(0x224)](_0x3e6948(0x230)+this[_0x3e6948(0x1f7)]),console[_0x3e6948(0x224)](_0x3e6948(0x238)+Math[_0x3e6948(0x20b)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x3e6948(0x224)](_0x3e6948(0x210)+this[_0x3e6948(0x20d)]),this[_0x3e6948(0x218)](),process[_0x3e6948(0x23a)](0x1);}['startMonitoring'](){const _0x5f1b0d=a42_0x57325d;console[_0x5f1b0d(0x1ec)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x5f1b0d(0x1ec)](_0x5f1b0d(0x213)+this[_0x5f1b0d(0x1f7)]),console[_0x5f1b0d(0x1ec)]('⏰\x20Interval:\x20'+Math[_0x5f1b0d(0x20b)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5f1b0d(0x204)),console['log'](_0x5f1b0d(0x23c)+this[_0x5f1b0d(0x20d)]),this[_0x5f1b0d(0x212)]()[_0x5f1b0d(0x1ff)](_0x40eda3=>{const _0x1b1d25=_0x5f1b0d;if(!_0x40eda3&&this['consecutiveFailures']>=this[_0x1b1d25(0x20d)]){this[_0x1b1d25(0x20e)](_0x1b1d25(0x207)+this['consecutiveFailures']+_0x1b1d25(0x220));return;}})[_0x5f1b0d(0x1f6)](_0x523cba=>{const _0x2a647b=_0x5f1b0d;console[_0x2a647b(0x224)](_0x2a647b(0x200),_0x523cba);if(this['consecutiveFailures']>=this[_0x2a647b(0x20d)]){this[_0x2a647b(0x20e)](_0x2a647b(0x239)+_0x523cba[_0x2a647b(0x22d)]);return;}}),this[_0x5f1b0d(0x1f0)]=setInterval(async()=>{const _0xb2f7c8=_0x5f1b0d;try{const _0x1acd1b=await this[_0xb2f7c8(0x212)]();!_0x1acd1b&&(console[_0xb2f7c8(0x23e)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0xb2f7c8(0x245)]+'/'+this[_0xb2f7c8(0x20d)]+')'),this[_0xb2f7c8(0x245)]>=this[_0xb2f7c8(0x20d)]&&this[_0xb2f7c8(0x20e)](_0xb2f7c8(0x240)+this[_0xb2f7c8(0x1f7)]+'\x20is\x20not\x20responding\x20after\x20'+this['consecutiveFailures']+_0xb2f7c8(0x21b)));}catch(_0x40713e){console[_0xb2f7c8(0x224)](_0xb2f7c8(0x221),_0x40713e),this[_0xb2f7c8(0x245)]>=this[_0xb2f7c8(0x20d)]&&this[_0xb2f7c8(0x20e)](_0xb2f7c8(0x209)+(_0x40713e instanceof Error?_0x40713e[_0xb2f7c8(0x22d)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console[_0x5f1b0d(0x1ec)](_0x5f1b0d(0x205));}[a42_0x57325d(0x218)](){const _0x39c7db=a42_0x57325d;this['monitoringInterval']&&(clearInterval(this[_0x39c7db(0x1f0)]),this[_0x39c7db(0x1f0)]=null,console[_0x39c7db(0x1ec)](_0x39c7db(0x22b)));}[a42_0x57325d(0x1f5)](){const _0x1aef44=a42_0x57325d;return{'isActive':!!this[_0x1aef44(0x1f0)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x1aef44(0x20b)](this[_0x1aef44(0x231)]/0x3e8/0x3c),'consecutiveFailures':this[_0x1aef44(0x245)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x1aef44(0x1f0)]?this[_0x1aef44(0x231)]:undefined};}async[a42_0x57325d(0x214)](){const _0x1d39d5=a42_0x57325d;return console[_0x1d39d5(0x1ec)](_0x1d39d5(0x1fe)),await this[_0x1d39d5(0x212)]();}}exports[a42_0x57325d(0x223)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();