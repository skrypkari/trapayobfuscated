'use strict';const a52_0x2bbf1c=a52_0x1cc3;(function(_0xb052a6,_0x2ef194){const _0x41f529=a52_0x1cc3,_0x3899ab=_0xb052a6();while(!![]){try{const _0x5a63dc=-parseInt(_0x41f529(0x1d8))/0x1*(-parseInt(_0x41f529(0x1ee))/0x2)+-parseInt(_0x41f529(0x207))/0x3*(-parseInt(_0x41f529(0x1f3))/0x4)+parseInt(_0x41f529(0x210))/0x5+-parseInt(_0x41f529(0x1d9))/0x6+parseInt(_0x41f529(0x21c))/0x7+parseInt(_0x41f529(0x1e3))/0x8*(parseInt(_0x41f529(0x1e4))/0x9)+-parseInt(_0x41f529(0x219))/0xa;if(_0x5a63dc===_0x2ef194)break;else _0x3899ab['push'](_0x3899ab['shift']());}catch(_0x4d42e2){_0x3899ab['push'](_0x3899ab['shift']());}}}(a52_0x28b2,0xac01c));function a52_0x28b2(){const _0x34a18d=['6184488sKEUGl','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','AbortError','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','\x20minutes','â°\x20Request\x20timeout\x20after\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','getRandomInterval','manualCheck','\x20is\x20not\x20responding\x20after\x20','94936ZJGufJ','801DGQXfK','base64','default','\x20\x20\x20-\x20Response\x20time:\x20','consecutiveFailures','â°\x20Interval:\x20','â°\x20Connection\x20timeout\x20to\x20','\x20consecutive\x20attempts','entries','message','2RPmAmg','CHECK_INTERVAL_MS','crashServer','from','exit','68XGYVeW','__importDefault','node-fetch','monitoringInterval','DOMAIN_URL','signal','Initial\x20domain\x20check\x20threw\x20error:\x20','fromEntries','statusText','ðŸ“Š\x20Response\x20received:','Initial\x20domain\x20check\x20failed\x20','includes','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','GET','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','\x20\x20\x20-\x20Status:\x20','status','\x20times','checkDomain','ms:','206163hSUOci','log','now','abort','âŒ\x20Domain\x20check\x20error\x20after\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','Periodic\x20domain\x20check\x20error:','random','3268235FKBkiU','MAX_CONSECUTIVE_FAILURES','ðŸ“¡\x20Target\x20domain:\x20','decodeFromBase64','domainMonitoringService','stopMonitoring','round','Initial\x20domain\x20check\x20error:','Unknown\x20error','28036280ythhIg','âœ…\x20Domain\x20check\x20successful:\x20','__esModule','7876932MJGqwc','then','keep-alive','ðŸ”¥\x20Unexpected\x20error:\x20','utf-8','âœ…\x20Domain\x20monitoring\x20started\x20successfully','catch','Domain\x20Monitor/1.0','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','ðŸ”¥\x20Consecutive\x20failures:\x20','startMonitoring','ðŸ”“\x20Decoded\x20URL:\x20','warn','TIMEOUT_MS','error','toString','ENOTFOUND','ETIMEDOUT','ðŸš«\x20Connection\x20refused\x20by\x20','encodeToBase64','ðŸ”\x20Domain\x20being\x20monitored:\x20','â°\x20Check\x20interval:\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','535573UCsYVz'];a52_0x28b2=function(){return _0x34a18d;};return a52_0x28b2();}var __importDefault=this&&this[a52_0x2bbf1c(0x1f4)]||function(_0x28b425){const _0x111d9f=a52_0x2bbf1c;return _0x28b425&&_0x28b425[_0x111d9f(0x21b)]?_0x28b425:{'default':_0x28b425};};Object['defineProperty'](exports,a52_0x2bbf1c(0x21b),{'value':!![]}),exports[a52_0x2bbf1c(0x214)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a52_0x2bbf1c(0x1f5)));class DomainMonitoringService{constructor(){const _0x4b736c=a52_0x2bbf1c;this[_0x4b736c(0x1f6)]=null,this[_0x4b736c(0x1f7)]='https://google.com',this[_0x4b736c(0x1ef)]=this[_0x4b736c(0x1e0)](),this[_0x4b736c(0x1ce)]=0x7530,this[_0x4b736c(0x1e8)]=0x0,this[_0x4b736c(0x211)]=0x2,console['log'](_0x4b736c(0x1c9)),console[_0x4b736c(0x208)](_0x4b736c(0x212)+this[_0x4b736c(0x1f7)]),console[_0x4b736c(0x208)](_0x4b736c(0x1d6)+Math[_0x4b736c(0x216)](this[_0x4b736c(0x1ef)]/0x3e8/0x3c)+_0x4b736c(0x1dd));}[a52_0x2bbf1c(0x1e0)](){const _0x34ea86=a52_0x2bbf1c,_0x386098=0xa,_0x2ebf0b=0xf,_0x479971=Math[_0x34ea86(0x20f)]()*(_0x2ebf0b-_0x386098)+_0x386098;return Math[_0x34ea86(0x216)](_0x479971*0x3c*0x3e8);}[a52_0x2bbf1c(0x1d4)](_0x2c68e9){const _0x51e932=a52_0x2bbf1c;return Buffer[_0x51e932(0x1f1)](_0x2c68e9)[_0x51e932(0x1d0)]('base64');}['decodeFromBase64'](_0x57e551){const _0x4c5bd6=a52_0x2bbf1c;return Buffer['from'](_0x57e551,_0x4c5bd6(0x1e5))[_0x4c5bd6(0x1d0)](_0x4c5bd6(0x220));}async[a52_0x2bbf1c(0x205)](){const _0xf370ea=a52_0x2bbf1c,_0x6d864=Date[_0xf370ea(0x209)]();try{console[_0xf370ea(0x208)](_0xf370ea(0x1df)+this[_0xf370ea(0x1f7)]);const _0x1e636e=this[_0xf370ea(0x1d4)](this[_0xf370ea(0x1f7)]);console[_0xf370ea(0x208)]('ðŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x1e636e);const _0x440bc1=this[_0xf370ea(0x213)](_0x1e636e);console[_0xf370ea(0x208)](_0xf370ea(0x1cc)+_0x440bc1);const _0x265ca2=new AbortController(),_0x54d123=setTimeout(()=>_0x265ca2[_0xf370ea(0x20a)](),this[_0xf370ea(0x1ce)]),_0x50eefe=await(0x0,node_fetch_1[_0xf370ea(0x1e6)])(_0x440bc1,{'method':_0xf370ea(0x200),'headers':{'User-Agent':_0xf370ea(0x1c8),'Accept':_0xf370ea(0x1da),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0xf370ea(0x21e),'Upgrade-Insecure-Requests':'1'},'signal':_0x265ca2[_0xf370ea(0x1f8)]});clearTimeout(_0x54d123);const _0x22f780=Date[_0xf370ea(0x209)]()-_0x6d864;return console[_0xf370ea(0x208)](_0xf370ea(0x1fc)),console[_0xf370ea(0x208)](_0xf370ea(0x202)+_0x50eefe[_0xf370ea(0x203)]+'\x20'+_0x50eefe[_0xf370ea(0x1fb)]),console[_0xf370ea(0x208)](_0xf370ea(0x1e7)+_0x22f780+'ms'),console[_0xf370ea(0x208)]('\x20\x20\x20-\x20Headers:',Object[_0xf370ea(0x1fa)](_0x50eefe['headers'][_0xf370ea(0x1ec)]())),_0x50eefe['ok']&&_0x50eefe[_0xf370ea(0x203)]>=0xc8&&_0x50eefe[_0xf370ea(0x203)]<0x190?(console[_0xf370ea(0x208)](_0xf370ea(0x21a)+_0x50eefe[_0xf370ea(0x203)]+'\x20in\x20'+_0x22f780+'ms'),this[_0xf370ea(0x1e8)]=0x0,!![]):(console[_0xf370ea(0x1cf)](_0xf370ea(0x20d)+_0x50eefe[_0xf370ea(0x203)]+'\x20'+_0x50eefe[_0xf370ea(0x1fb)]),this[_0xf370ea(0x1e8)]++,![]);}catch(_0x4ad8df){const _0x2b07a1=Date[_0xf370ea(0x209)]()-_0x6d864;this['consecutiveFailures']++,console[_0xf370ea(0x1cf)](_0xf370ea(0x20b)+_0x2b07a1+_0xf370ea(0x206),_0x4ad8df);if(_0x4ad8df instanceof Error){if(_0x4ad8df['name']===_0xf370ea(0x1db))console['error'](_0xf370ea(0x1de)+this['TIMEOUT_MS']+'ms');else{if(_0x4ad8df[_0xf370ea(0x1ed)][_0xf370ea(0x1fe)](_0xf370ea(0x1d1)))console['error'](_0xf370ea(0x1ff)+this[_0xf370ea(0x1f7)]);else{if(_0x4ad8df[_0xf370ea(0x1ed)]['includes']('ECONNREFUSED'))console[_0xf370ea(0x1cf)](_0xf370ea(0x1d3)+this[_0xf370ea(0x1f7)]);else _0x4ad8df[_0xf370ea(0x1ed)]['includes'](_0xf370ea(0x1d2))?console[_0xf370ea(0x1cf)](_0xf370ea(0x1ea)+this['DOMAIN_URL']):console[_0xf370ea(0x1cf)](_0xf370ea(0x21f)+_0x4ad8df[_0xf370ea(0x1ed)]);}}}return![];}}[a52_0x2bbf1c(0x1f0)](_0x278f0b){const _0x9538bc=a52_0x2bbf1c;console[_0x9538bc(0x1cf)](_0x9538bc(0x1dc)+_0x278f0b),console[_0x9538bc(0x1cf)](_0x9538bc(0x1ca)+this[_0x9538bc(0x1e8)]),console[_0x9538bc(0x1cf)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x9538bc(0x1cf)]('ðŸ“…\x20Crash\x20time:\x20'+new Date()['toISOString']()),console[_0x9538bc(0x1cf)](_0x9538bc(0x1d5)+this[_0x9538bc(0x1f7)]),console[_0x9538bc(0x1cf)](_0x9538bc(0x1d6)+Math['round'](this[_0x9538bc(0x1ef)]/0x3e8/0x3c)+_0x9538bc(0x1dd)),console[_0x9538bc(0x1cf)](_0x9538bc(0x201)+this[_0x9538bc(0x211)]),this['stopMonitoring'](),process[_0x9538bc(0x1f2)](0x1);}[a52_0x2bbf1c(0x1cb)](){const _0xd7b207=a52_0x2bbf1c;console['log']('ðŸš€\x20Starting\x20domain\x20monitoring\x20service'),console[_0xd7b207(0x208)]('ðŸ“¡\x20Target:\x20'+this[_0xd7b207(0x1f7)]),console[_0xd7b207(0x208)](_0xd7b207(0x1e9)+Math[_0xd7b207(0x216)](this[_0xd7b207(0x1ef)]/0x3e8/0x3c)+_0xd7b207(0x1dd)),console['log'](_0xd7b207(0x1d7)+this[_0xd7b207(0x211)]),this['checkDomain']()[_0xd7b207(0x21d)](_0x294f1c=>{const _0x3b1d9c=_0xd7b207;if(!_0x294f1c&&this['consecutiveFailures']>=this[_0x3b1d9c(0x211)]){this[_0x3b1d9c(0x1f0)](_0x3b1d9c(0x1fd)+this[_0x3b1d9c(0x1e8)]+_0x3b1d9c(0x204));return;}})[_0xd7b207(0x1c7)](_0x57f54a=>{const _0x3bd786=_0xd7b207;console[_0x3bd786(0x1cf)](_0x3bd786(0x217),_0x57f54a);if(this[_0x3bd786(0x1e8)]>=this[_0x3bd786(0x211)]){this['crashServer'](_0x3bd786(0x1f9)+_0x57f54a['message']);return;}}),this[_0xd7b207(0x1f6)]=setInterval(async()=>{const _0x252971=_0xd7b207;try{const _0x44f66f=await this[_0x252971(0x205)]();!_0x44f66f&&(console[_0x252971(0x1cd)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x252971(0x211)]+')'),this[_0x252971(0x1e8)]>=this[_0x252971(0x211)]&&this['crashServer']('Domain\x20'+this[_0x252971(0x1f7)]+_0x252971(0x1e2)+this[_0x252971(0x1e8)]+_0x252971(0x1eb)));}catch(_0x97e1c4){console['error'](_0x252971(0x20e),_0x97e1c4),this['consecutiveFailures']>=this[_0x252971(0x211)]&&this[_0x252971(0x1f0)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x97e1c4 instanceof Error?_0x97e1c4[_0x252971(0x1ed)]:_0x252971(0x218)));}},this['CHECK_INTERVAL_MS']),console[_0xd7b207(0x208)](_0xd7b207(0x221));}[a52_0x2bbf1c(0x215)](){const _0x5a0b65=a52_0x2bbf1c;this[_0x5a0b65(0x1f6)]&&(clearInterval(this['monitoringInterval']),this[_0x5a0b65(0x1f6)]=null,console[_0x5a0b65(0x208)]('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}['getMonitoringStats'](){const _0xee409=a52_0x2bbf1c;return{'isActive':!!this[_0xee409(0x1f6)],'targetDomain':this[_0xee409(0x1f7)],'checkIntervalMinutes':Math['round'](this[_0xee409(0x1ef)]/0x3e8/0x3c),'consecutiveFailures':this[_0xee409(0x1e8)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this['monitoringInterval']?this['CHECK_INTERVAL_MS']:undefined};}async[a52_0x2bbf1c(0x1e1)](){const _0x1d6223=a52_0x2bbf1c;return console[_0x1d6223(0x208)](_0x1d6223(0x20c)),await this[_0x1d6223(0x205)]();}}function a52_0x1cc3(_0x3a84ee,_0x30c55c){_0x3a84ee=_0x3a84ee-0x1c7;const _0x28b288=a52_0x28b2();let _0x1cc3bc=_0x28b288[_0x3a84ee];return _0x1cc3bc;}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();