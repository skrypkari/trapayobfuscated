'use strict';const a39_0x52a6f2=a39_0x5ee3;(function(_0x381e5e,_0x1d0c4e){const _0x4b4a59=a39_0x5ee3,_0x3fa6ee=_0x381e5e();while(!![]){try{const _0x4fc262=-parseInt(_0x4b4a59(0x1d9))/0x1*(parseInt(_0x4b4a59(0x1d5))/0x2)+-parseInt(_0x4b4a59(0x209))/0x3+-parseInt(_0x4b4a59(0x1d6))/0x4+-parseInt(_0x4b4a59(0x21c))/0x5*(parseInt(_0x4b4a59(0x213))/0x6)+parseInt(_0x4b4a59(0x221))/0x7*(-parseInt(_0x4b4a59(0x1fa))/0x8)+parseInt(_0x4b4a59(0x1f3))/0x9*(-parseInt(_0x4b4a59(0x204))/0xa)+parseInt(_0x4b4a59(0x1fd))/0xb;if(_0x4fc262===_0x1d0c4e)break;else _0x3fa6ee['push'](_0x3fa6ee['shift']());}catch(_0x564a0b){_0x3fa6ee['push'](_0x3fa6ee['shift']());}}}(a39_0x7aff,0x40478));function a39_0x7aff(){const _0x30c894=['22535GgVfWM','monitoringInterval','toString','🌐\x20DNS\x20resolution\x20failed\x20for\x20','startMonitoring','56133tJtHrQ','stopMonitoring','🔓\x20Decoded\x20URL:\x20','⏰\x20Request\x20timeout\x20after\x20','Initial\x20domain\x20check\x20failed\x20','crashServer','decodeFromBase64','statusText','gzip,\x20deflate','domainMonitoringService','getMonitoringStats','now','\x20\x20\x20-\x20Response\x20time:\x20','⏰\x20Interval:\x20','base64','81814AvmOMU','1914472CAgJVv','consecutiveFailures','✅\x20Domain\x20check\x20successful:\x20','7ZFTrgg','getRandomInterval','\x20in\x20','fromEntries','GET','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','catch','ENOTFOUND','DOMAIN_URL','keep-alive','Initial\x20domain\x20check\x20threw\x20error:\x20','abort','⚠️\x20Domain\x20check\x20failed\x20(','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','node-fetch','📅\x20Crash\x20time:\x20','name','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','Unknown\x20error','default','🔍\x20Domain\x20monitoring\x20service\x20initialized','headers','🔧\x20Manual\x20domain\x20check\x20requested','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','error','✅\x20Domain\x20monitoring\x20started\x20successfully','781146NFroIt','__esModule','defineProperty','📡\x20Target:\x20','status','https://google.com','\x20\x20\x20-\x20Headers:','24yLlpXc','\x20minutes','📡\x20Target\x20domain:\x20','18764955rzjYMx','🚫\x20Connection\x20refused\x20by\x20','log','round','❌\x20Domain\x20check\x20error\x20after\x20','\x20is\x20not\x20responding\x20after\x20','📊\x20Response\x20received:','10Bigxcs','🔍\x20Domain\x20being\x20monitored:\x20','⏰\x20Check\x20interval:\x20','__importDefault','TIMEOUT_MS','280692yEDsHy','checkDomain','includes','\x20times','entries','manualCheck','🔥\x20Consecutive\x20failures:\x20','toISOString','random','exit','630gawgru','Initial\x20domain\x20check\x20error:','🔥\x20Unexpected\x20error:\x20','ECONNREFUSED','CHECK_INTERVAL_MS','AbortError','💥\x20CRITICAL\x20ERROR:\x20','message','MAX_CONSECUTIVE_FAILURES'];a39_0x7aff=function(){return _0x30c894;};return a39_0x7aff();}var __importDefault=this&&this[a39_0x52a6f2(0x207)]||function(_0x259593){const _0x56317e=a39_0x52a6f2;return _0x259593&&_0x259593[_0x56317e(0x1f4)]?_0x259593:{'default':_0x259593};};Object[a39_0x52a6f2(0x1f5)](exports,a39_0x52a6f2(0x1f4),{'value':!![]}),exports[a39_0x52a6f2(0x1cf)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a39_0x52a6f2(0x1e7)));class DomainMonitoringService{constructor(){const _0x1e28da=a39_0x52a6f2;this[_0x1e28da(0x21d)]=null,this[_0x1e28da(0x1e1)]=_0x1e28da(0x1f8),this[_0x1e28da(0x217)]=this[_0x1e28da(0x1da)](),this[_0x1e28da(0x208)]=0x7530,this[_0x1e28da(0x1d7)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log'](_0x1e28da(0x1ed)),console[_0x1e28da(0x1ff)](_0x1e28da(0x1fc)+this[_0x1e28da(0x1e1)]),console[_0x1e28da(0x1ff)](_0x1e28da(0x206)+Math[_0x1e28da(0x200)](this[_0x1e28da(0x217)]/0x3e8/0x3c)+'\x20minutes');}['getRandomInterval'](){const _0x148edb=a39_0x52a6f2,_0x14690b=0xa,_0x1d04a9=0xf,_0x134745=Math[_0x148edb(0x211)]()*(_0x1d04a9-_0x14690b)+_0x14690b;return Math[_0x148edb(0x200)](_0x134745*0x3c*0x3e8);}['encodeToBase64'](_0x1d3e7d){const _0x35bd39=a39_0x52a6f2;return Buffer['from'](_0x1d3e7d)[_0x35bd39(0x21e)]('base64');}[a39_0x52a6f2(0x227)](_0x275f96){const _0x1274e8=a39_0x52a6f2;return Buffer['from'](_0x275f96,_0x1274e8(0x1d4))[_0x1274e8(0x21e)]('utf-8');}async[a39_0x52a6f2(0x20a)](){const _0x2112c6=a39_0x52a6f2,_0x7bbe17=Date[_0x2112c6(0x1d1)]();try{console[_0x2112c6(0x1ff)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x2112c6(0x1e1)]);const _0x44ead3=this['encodeToBase64'](this['DOMAIN_URL']);console[_0x2112c6(0x1ff)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x44ead3);const _0x527310=this[_0x2112c6(0x227)](_0x44ead3);console[_0x2112c6(0x1ff)](_0x2112c6(0x223)+_0x527310);const _0x1ac90b=new AbortController(),_0x410875=setTimeout(()=>_0x1ac90b[_0x2112c6(0x1e4)](),this[_0x2112c6(0x208)]),_0x5e729b=await(0x0,node_fetch_1[_0x2112c6(0x1ec)])(_0x527310,{'method':_0x2112c6(0x1dd),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x2112c6(0x1de),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x2112c6(0x229),'Connection':_0x2112c6(0x1e2),'Upgrade-Insecure-Requests':'1'},'signal':_0x1ac90b['signal']});clearTimeout(_0x410875);const _0x32cb0c=Date[_0x2112c6(0x1d1)]()-_0x7bbe17;return console[_0x2112c6(0x1ff)](_0x2112c6(0x203)),console[_0x2112c6(0x1ff)]('\x20\x20\x20-\x20Status:\x20'+_0x5e729b[_0x2112c6(0x1f7)]+'\x20'+_0x5e729b[_0x2112c6(0x228)]),console[_0x2112c6(0x1ff)](_0x2112c6(0x1d2)+_0x32cb0c+'ms'),console[_0x2112c6(0x1ff)](_0x2112c6(0x1f9),Object[_0x2112c6(0x1dc)](_0x5e729b[_0x2112c6(0x1ee)][_0x2112c6(0x20d)]())),_0x5e729b['ok']&&_0x5e729b['status']>=0xc8&&_0x5e729b[_0x2112c6(0x1f7)]<0x190?(console['log'](_0x2112c6(0x1d8)+_0x5e729b['status']+_0x2112c6(0x1db)+_0x32cb0c+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x2112c6(0x1f1)](_0x2112c6(0x1e6)+_0x5e729b[_0x2112c6(0x1f7)]+'\x20'+_0x5e729b[_0x2112c6(0x228)]),this[_0x2112c6(0x1d7)]++,![]);}catch(_0x4c5342){const _0x1e56ec=Date[_0x2112c6(0x1d1)]()-_0x7bbe17;this[_0x2112c6(0x1d7)]++,console[_0x2112c6(0x1f1)](_0x2112c6(0x201)+_0x1e56ec+'ms:',_0x4c5342);if(_0x4c5342 instanceof Error){if(_0x4c5342[_0x2112c6(0x1e9)]===_0x2112c6(0x218))console[_0x2112c6(0x1f1)](_0x2112c6(0x224)+this['TIMEOUT_MS']+'ms');else{if(_0x4c5342[_0x2112c6(0x21a)][_0x2112c6(0x20b)](_0x2112c6(0x1e0)))console[_0x2112c6(0x1f1)](_0x2112c6(0x21f)+this[_0x2112c6(0x1e1)]);else{if(_0x4c5342[_0x2112c6(0x21a)][_0x2112c6(0x20b)](_0x2112c6(0x216)))console[_0x2112c6(0x1f1)](_0x2112c6(0x1fe)+this['DOMAIN_URL']);else _0x4c5342[_0x2112c6(0x21a)][_0x2112c6(0x20b)]('ETIMEDOUT')?console['error']('⏰\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console['error'](_0x2112c6(0x215)+_0x4c5342['message']);}}}return![];}}[a39_0x52a6f2(0x226)](_0x1097b7){const _0x2f33e1=a39_0x52a6f2;console[_0x2f33e1(0x1f1)](_0x2f33e1(0x219)+_0x1097b7),console[_0x2f33e1(0x1f1)](_0x2f33e1(0x20f)+this['consecutiveFailures']),console[_0x2f33e1(0x1f1)](_0x2f33e1(0x1ea)),console[_0x2f33e1(0x1f1)](_0x2f33e1(0x1e8)+new Date()[_0x2f33e1(0x210)]()),console[_0x2f33e1(0x1f1)](_0x2f33e1(0x205)+this[_0x2f33e1(0x1e1)]),console[_0x2f33e1(0x1f1)]('⏰\x20Check\x20interval:\x20'+Math[_0x2f33e1(0x200)](this[_0x2f33e1(0x217)]/0x3e8/0x3c)+_0x2f33e1(0x1fb)),console['error'](_0x2f33e1(0x1f0)+this[_0x2f33e1(0x21b)]),this[_0x2f33e1(0x222)](),process[_0x2f33e1(0x212)](0x1);}[a39_0x52a6f2(0x220)](){const _0x4fb1f7=a39_0x52a6f2;console['log']('🚀\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x4fb1f7(0x1f6)+this[_0x4fb1f7(0x1e1)]),console[_0x4fb1f7(0x1ff)](_0x4fb1f7(0x1d3)+Math[_0x4fb1f7(0x200)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console['log']('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x4fb1f7(0x21b)]),this[_0x4fb1f7(0x20a)]()['then'](_0x54f886=>{const _0x1f57d9=_0x4fb1f7;if(!_0x54f886&&this[_0x1f57d9(0x1d7)]>=this[_0x1f57d9(0x21b)]){this['crashServer'](_0x1f57d9(0x225)+this[_0x1f57d9(0x1d7)]+_0x1f57d9(0x20c));return;}})[_0x4fb1f7(0x1df)](_0x43574f=>{const _0x33a62c=_0x4fb1f7;console['error'](_0x33a62c(0x214),_0x43574f);if(this[_0x33a62c(0x1d7)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x33a62c(0x226)](_0x33a62c(0x1e3)+_0x43574f[_0x33a62c(0x21a)]);return;}}),this[_0x4fb1f7(0x21d)]=setInterval(async()=>{const _0x2b9c7a=_0x4fb1f7;try{const _0x4fb895=await this[_0x2b9c7a(0x20a)]();!_0x4fb895&&(console['warn'](_0x2b9c7a(0x1e5)+this['consecutiveFailures']+'/'+this[_0x2b9c7a(0x21b)]+')'),this['consecutiveFailures']>=this[_0x2b9c7a(0x21b)]&&this[_0x2b9c7a(0x226)]('Domain\x20'+this['DOMAIN_URL']+_0x2b9c7a(0x202)+this['consecutiveFailures']+'\x20consecutive\x20attempts'));}catch(_0x54b64f){console['error']('Periodic\x20domain\x20check\x20error:',_0x54b64f),this['consecutiveFailures']>=this[_0x2b9c7a(0x21b)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x54b64f instanceof Error?_0x54b64f['message']:_0x2b9c7a(0x1eb)));}},this[_0x4fb1f7(0x217)]),console['log'](_0x4fb1f7(0x1f2));}[a39_0x52a6f2(0x222)](){const _0x32a755=a39_0x52a6f2;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this[_0x32a755(0x21d)]=null,console[_0x32a755(0x1ff)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0x52a6f2(0x1d0)](){const _0x15ab41=a39_0x52a6f2;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x15ab41(0x1e1)],'checkIntervalMinutes':Math[_0x15ab41(0x200)](this[_0x15ab41(0x217)]/0x3e8/0x3c),'consecutiveFailures':this[_0x15ab41(0x1d7)],'maxFailuresAllowed':this[_0x15ab41(0x21b)],'nextCheckIn':this[_0x15ab41(0x21d)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x52a6f2(0x20e)](){const _0x527c55=a39_0x52a6f2;return console[_0x527c55(0x1ff)](_0x527c55(0x1ef)),await this[_0x527c55(0x20a)]();}}function a39_0x5ee3(_0x29ce9e,_0x5d5500){const _0x7aff9a=a39_0x7aff();return a39_0x5ee3=function(_0x5ee3a9,_0x2bb741){_0x5ee3a9=_0x5ee3a9-0x1cf;let _0x4bc7a6=_0x7aff9a[_0x5ee3a9];return _0x4bc7a6;},a39_0x5ee3(_0x29ce9e,_0x5d5500);}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();