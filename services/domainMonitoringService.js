'use strict';function a37_0x59fa(){const _0x2c42c7=['includes','TesSoft\x20Domain\x20Monitor/1.0','â°\x20Request\x20timeout\x20after\x20','__importDefault','ðŸš«\x20Connection\x20refused\x20by\x20','domainMonitoringService','ðŸ”¥\x20Unexpected\x20error:\x20','from','entries','message','ECONNREFUSED','âœ…\x20Domain\x20check\x20successful:\x20','getRandomInterval','ðŸ“…\x20Crash\x20time:\x20','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','crashServer','971991qkdlqD','âš ï¸\x20Domain\x20check\x20failed\x20(','decodeFromBase64','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','toString','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','206109IHsDFT','encodeToBase64','TIMEOUT_MS','\x20times','2316solhbB','Periodic\x20domain\x20check\x20error:','Initial\x20domain\x20check\x20threw\x20error:\x20','\x20\x20\x20-\x20Headers:','Initial\x20domain\x20check\x20failed\x20','stopMonitoring','en-US,en;q=0.5','501490AiCTqP','728570yuXnQR','ðŸ”\x20Checking\x20domain\x20availability:\x20','402112VLLEqg','\x20consecutive\x20attempts','âœ…\x20Domain\x20monitoring\x20started\x20successfully','consecutiveFailures','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20minutes','ðŸ”¥\x20Consecutive\x20failures:\x20','round','status','utf-8','error','ETIMEDOUT','warn','abort','ðŸ”§\x20Manual\x20domain\x20check\x20requested','headers','AbortError','ðŸ”“\x20Decoded\x20URL:\x20','gzip,\x20deflate','now','GET','ðŸ“¡\x20Target\x20domain:\x20','https://google.com','âŒ\x20Domain\x20check\x20error\x20after\x20','catch','8RJbOkm','defineProperty','statusText','checkDomain','DomainMonitoringService','Domain\x20','CHECK_INTERVAL_MS','8CuVCVE','â°\x20Check\x20interval:\x20','ms:','â°\x20Connection\x20timeout\x20to\x20','\x20\x20\x20-\x20Response\x20time:\x20','__esModule','log','Domain\x20monitoring\x20threw\x20error:\x20','random','DOMAIN_URL','ENOTFOUND','ðŸ”\x20Domain\x20being\x20monitored:\x20','toISOString','keep-alive','MAX_CONSECUTIVE_FAILURES','ðŸ“Š\x20Response\x20received:','287kOrRUx','startMonitoring','exit','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','monitoringInterval','base64','6437bWiOee','manualCheck','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'];a37_0x59fa=function(){return _0x2c42c7;};return a37_0x59fa();}const a37_0x4c8d87=a37_0x2839;(function(_0x1a1eb9,_0x5d9d7f){const _0x3d33b2=a37_0x2839,_0x5cd6b6=_0x1a1eb9();while(!![]){try{const _0x73d111=parseInt(_0x3d33b2(0x196))/0x1*(parseInt(_0x3d33b2(0x180))/0x2)+parseInt(_0x3d33b2(0x14c))/0x3+-parseInt(_0x3d33b2(0x160))/0x4+-parseInt(_0x3d33b2(0x15d))/0x5+-parseInt(_0x3d33b2(0x156))/0x6*(parseInt(_0x3d33b2(0x190))/0x7)+parseInt(_0x3d33b2(0x179))/0x8*(-parseInt(_0x3d33b2(0x152))/0x9)+parseInt(_0x3d33b2(0x15e))/0xa;if(_0x73d111===_0x5d9d7f)break;else _0x5cd6b6['push'](_0x5cd6b6['shift']());}catch(_0x13e964){_0x5cd6b6['push'](_0x5cd6b6['shift']());}}}(a37_0x59fa,0x2cb09));var __importDefault=this&&this[a37_0x4c8d87(0x19c)]||function(_0x27e098){const _0x5c9a79=a37_0x4c8d87;return _0x27e098&&_0x27e098[_0x5c9a79(0x185)]?_0x27e098:{'default':_0x27e098};};Object[a37_0x4c8d87(0x17a)](exports,'__esModule',{'value':!![]}),exports[a37_0x4c8d87(0x141)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a37_0x2839(_0x2ea88b,_0x1db161){const _0x59fa72=a37_0x59fa();return a37_0x2839=function(_0x28393d,_0x329e22){_0x28393d=_0x28393d-0x141;let _0x3a63d4=_0x59fa72[_0x28393d];return _0x3a63d4;},a37_0x2839(_0x2ea88b,_0x1db161);}class DomainMonitoringService{constructor(){const _0xa95af5=a37_0x4c8d87;this[_0xa95af5(0x194)]=null,this[_0xa95af5(0x189)]=_0xa95af5(0x176),this[_0xa95af5(0x17f)]=this[_0xa95af5(0x148)](),this[_0xa95af5(0x154)]=0x7530,this[_0xa95af5(0x163)]=0x0,this[_0xa95af5(0x18e)]=0x2,console[_0xa95af5(0x186)]('ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'),console['log'](_0xa95af5(0x175)+this[_0xa95af5(0x189)]),console[_0xa95af5(0x186)]('â°\x20Check\x20interval:\x20'+Math[_0xa95af5(0x167)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0xa95af5(0x165));}[a37_0x4c8d87(0x148)](){const _0x242b60=a37_0x4c8d87,_0x1b29b6=0xa,_0x214559=0xf,_0x53b1b7=Math[_0x242b60(0x188)]()*(_0x214559-_0x1b29b6)+_0x1b29b6;return Math[_0x242b60(0x167)](_0x53b1b7*0x3c*0x3e8);}[a37_0x4c8d87(0x153)](_0x290df3){const _0x29d1c9=a37_0x4c8d87;return Buffer['from'](_0x290df3)[_0x29d1c9(0x150)](_0x29d1c9(0x195));}['decodeFromBase64'](_0x949c29){const _0x36ef7a=a37_0x4c8d87;return Buffer[_0x36ef7a(0x143)](_0x949c29,_0x36ef7a(0x195))['toString'](_0x36ef7a(0x169));}async[a37_0x4c8d87(0x17c)](){const _0x457f0d=a37_0x4c8d87,_0x35dc31=Date[_0x457f0d(0x173)]();try{console[_0x457f0d(0x186)](_0x457f0d(0x15f)+this['DOMAIN_URL']);const _0x332e9f=this[_0x457f0d(0x153)](this[_0x457f0d(0x189)]);console[_0x457f0d(0x186)](_0x457f0d(0x151)+_0x332e9f);const _0x205c98=this[_0x457f0d(0x14e)](_0x332e9f);console['log'](_0x457f0d(0x171)+_0x205c98);const _0x2300c9=new AbortController(),_0x52f727=setTimeout(()=>_0x2300c9[_0x457f0d(0x16d)](),this[_0x457f0d(0x154)]),_0x2b7cc0=await(0x0,node_fetch_1['default'])(_0x205c98,{'method':_0x457f0d(0x174),'headers':{'User-Agent':_0x457f0d(0x19a),'Accept':_0x457f0d(0x193),'Accept-Language':_0x457f0d(0x15c),'Accept-Encoding':_0x457f0d(0x172),'Connection':_0x457f0d(0x18d),'Upgrade-Insecure-Requests':'1'},'signal':_0x2300c9['signal']});clearTimeout(_0x52f727);const _0x1ef4d8=Date[_0x457f0d(0x173)]()-_0x35dc31;return console[_0x457f0d(0x186)](_0x457f0d(0x18f)),console[_0x457f0d(0x186)]('\x20\x20\x20-\x20Status:\x20'+_0x2b7cc0[_0x457f0d(0x168)]+'\x20'+_0x2b7cc0[_0x457f0d(0x17b)]),console[_0x457f0d(0x186)](_0x457f0d(0x184)+_0x1ef4d8+'ms'),console[_0x457f0d(0x186)](_0x457f0d(0x159),Object['fromEntries'](_0x2b7cc0[_0x457f0d(0x16f)][_0x457f0d(0x144)]())),_0x2b7cc0['ok']&&_0x2b7cc0[_0x457f0d(0x168)]>=0xc8&&_0x2b7cc0['status']<0x190?(console[_0x457f0d(0x186)](_0x457f0d(0x147)+_0x2b7cc0['status']+'\x20in\x20'+_0x1ef4d8+'ms'),this[_0x457f0d(0x163)]=0x0,!![]):(console[_0x457f0d(0x16a)](_0x457f0d(0x164)+_0x2b7cc0[_0x457f0d(0x168)]+'\x20'+_0x2b7cc0[_0x457f0d(0x17b)]),this[_0x457f0d(0x163)]++,![]);}catch(_0x3cf8a8){const _0x3aabdb=Date[_0x457f0d(0x173)]()-_0x35dc31;this[_0x457f0d(0x163)]++,console[_0x457f0d(0x16a)](_0x457f0d(0x177)+_0x3aabdb+_0x457f0d(0x182),_0x3cf8a8);if(_0x3cf8a8 instanceof Error){if(_0x3cf8a8['name']===_0x457f0d(0x170))console[_0x457f0d(0x16a)](_0x457f0d(0x19b)+this['TIMEOUT_MS']+'ms');else{if(_0x3cf8a8['message'][_0x457f0d(0x199)](_0x457f0d(0x18a)))console[_0x457f0d(0x16a)](_0x457f0d(0x14f)+this[_0x457f0d(0x189)]);else{if(_0x3cf8a8[_0x457f0d(0x145)][_0x457f0d(0x199)](_0x457f0d(0x146)))console[_0x457f0d(0x16a)](_0x457f0d(0x19d)+this['DOMAIN_URL']);else _0x3cf8a8[_0x457f0d(0x145)][_0x457f0d(0x199)](_0x457f0d(0x16b))?console[_0x457f0d(0x16a)](_0x457f0d(0x183)+this[_0x457f0d(0x189)]):console[_0x457f0d(0x16a)](_0x457f0d(0x142)+_0x3cf8a8[_0x457f0d(0x145)]);}}}return![];}}[a37_0x4c8d87(0x14b)](_0x14bed3){const _0x509c20=a37_0x4c8d87;console[_0x509c20(0x16a)](_0x509c20(0x14a)+_0x14bed3),console[_0x509c20(0x16a)](_0x509c20(0x166)+this[_0x509c20(0x163)]),console[_0x509c20(0x16a)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x509c20(0x16a)](_0x509c20(0x149)+new Date()[_0x509c20(0x18c)]()),console['error'](_0x509c20(0x18b)+this[_0x509c20(0x189)]),console[_0x509c20(0x16a)](_0x509c20(0x181)+Math[_0x509c20(0x167)](this[_0x509c20(0x17f)]/0x3e8/0x3c)+_0x509c20(0x165)),console[_0x509c20(0x16a)](_0x509c20(0x198)+this[_0x509c20(0x18e)]),this[_0x509c20(0x15b)](),process[_0x509c20(0x192)](0x1);}[a37_0x4c8d87(0x191)](){const _0x25b377=a37_0x4c8d87;console['log']('ðŸš€\x20Starting\x20domain\x20monitoring\x20service'),console['log']('ðŸ“¡\x20Target:\x20'+this['DOMAIN_URL']),console[_0x25b377(0x186)]('â°\x20Interval:\x20'+Math[_0x25b377(0x167)](this[_0x25b377(0x17f)]/0x3e8/0x3c)+_0x25b377(0x165)),console[_0x25b377(0x186)]('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x25b377(0x17c)]()['then'](_0x160756=>{const _0x52b14c=_0x25b377;if(!_0x160756&&this[_0x52b14c(0x163)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x52b14c(0x14b)](_0x52b14c(0x15a)+this[_0x52b14c(0x163)]+_0x52b14c(0x155));return;}})[_0x25b377(0x178)](_0x281aff=>{const _0x41eccd=_0x25b377;console[_0x41eccd(0x16a)]('Initial\x20domain\x20check\x20error:',_0x281aff);if(this['consecutiveFailures']>=this[_0x41eccd(0x18e)]){this[_0x41eccd(0x14b)](_0x41eccd(0x158)+_0x281aff[_0x41eccd(0x145)]);return;}}),this[_0x25b377(0x194)]=setInterval(async()=>{const _0x44091c=_0x25b377;try{const _0xff5e36=await this[_0x44091c(0x17c)]();!_0xff5e36&&(console[_0x44091c(0x16c)](_0x44091c(0x14d)+this[_0x44091c(0x163)]+'/'+this[_0x44091c(0x18e)]+')'),this[_0x44091c(0x163)]>=this[_0x44091c(0x18e)]&&this[_0x44091c(0x14b)](_0x44091c(0x17e)+this[_0x44091c(0x189)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x44091c(0x163)]+_0x44091c(0x161)));}catch(_0x527467){console[_0x44091c(0x16a)](_0x44091c(0x157),_0x527467),this[_0x44091c(0x163)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x44091c(0x14b)](_0x44091c(0x187)+(_0x527467 instanceof Error?_0x527467[_0x44091c(0x145)]:'Unknown\x20error'));}},this[_0x25b377(0x17f)]),console[_0x25b377(0x186)](_0x25b377(0x162));}[a37_0x4c8d87(0x15b)](){const _0x50a73d=a37_0x4c8d87;this['monitoringInterval']&&(clearInterval(this[_0x50a73d(0x194)]),this[_0x50a73d(0x194)]=null,console[_0x50a73d(0x186)]('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}['getMonitoringStats'](){const _0x29df5d=a37_0x4c8d87;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x29df5d(0x189)],'checkIntervalMinutes':Math[_0x29df5d(0x167)](this[_0x29df5d(0x17f)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x29df5d(0x18e)],'nextCheckIn':this[_0x29df5d(0x194)]?this[_0x29df5d(0x17f)]:undefined};}async[a37_0x4c8d87(0x197)](){const _0x10bf63=a37_0x4c8d87;return console['log'](_0x10bf63(0x16e)),await this['checkDomain']();}}exports[a37_0x4c8d87(0x17d)]=DomainMonitoringService,exports[a37_0x4c8d87(0x141)]=new DomainMonitoringService();