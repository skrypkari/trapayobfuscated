'use strict';const a39_0x535089=a39_0x2ff7;function a39_0x4542(){const _0x50d95c=['from','10eaSehv','toISOString','Initial\x20domain\x20check\x20error:','stopMonitoring','💥\x20CRITICAL\x20ERROR:\x20','2933zyhutc','\x20consecutive\x20attempts','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ms:','🔓\x20Decoded\x20URL:\x20','log','Domain\x20monitoring\x20threw\x20error:\x20','\x20\x20\x20-\x20Headers:','now','494888jcrdPt','🔍\x20Domain\x20being\x20monitored:\x20','\x20is\x20not\x20responding\x20after\x20','error','base64','\x20minutes','CHECK_INTERVAL_MS','9RdickH','TIMEOUT_MS','headers','23445muzhmY','9268770oKilKj','startMonitoring','\x20times','Unknown\x20error','includes','DomainMonitoringService','consecutiveFailures','\x20in\x20','manualCheck','abort','🌐\x20DNS\x20resolution\x20failed\x20for\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','⏰\x20Request\x20timeout\x20after\x20','status','📡\x20Target:\x20','GET','domainMonitoringService','gzip,\x20deflate','encodeToBase64','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ETIMEDOUT','Domain\x20','__importDefault','statusText','exit','\x20\x20\x20-\x20Status:\x20','__esModule','🚫\x20Connection\x20refused\x20by\x20','message','checkDomain','🔥\x20Consecutive\x20failures:\x20','25618dKbYaK','monitoringInterval','ECONNREFUSED','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','https://google.com','crashServer','⏰\x20Check\x20interval:\x20','then','keep-alive','115884sXYiaU','entries','1158kkoMdO','🔍\x20Domain\x20monitoring\x20service\x20initialized','✅\x20Domain\x20monitoring\x20started\x20successfully','🛑\x20Domain\x20monitoring\x20stopped','DOMAIN_URL','🔧\x20Manual\x20domain\x20check\x20requested','toString','✅\x20Domain\x20check\x20successful:\x20','getRandomInterval','🔥\x20Unexpected\x20error:\x20','round','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','📅\x20Crash\x20time:\x20','warn','9uIOyds','MAX_CONSECUTIVE_FAILURES','110VigYzA','❌\x20Domain\x20check\x20error\x20after\x20','931384dIXVBF','en-US,en;q=0.5'];a39_0x4542=function(){return _0x50d95c;};return a39_0x4542();}(function(_0x258ccd,_0x50b556){const _0x1cba60=a39_0x2ff7,_0x31aac1=_0x258ccd();while(!![]){try{const _0x262889=parseInt(_0x1cba60(0x1ce))/0x1*(parseInt(_0x1cba60(0x1ee))/0x2)+-parseInt(_0x1cba60(0x1e7))/0x3*(parseInt(_0x1cba60(0x1fc))/0x4)+-parseInt(_0x1cba60(0x206))/0x5+parseInt(_0x1cba60(0x1d9))/0x6*(parseInt(_0x1cba60(0x1f3))/0x7)+-parseInt(_0x1cba60(0x1eb))/0x8*(parseInt(_0x1cba60(0x203))/0x9)+parseInt(_0x1cba60(0x207))/0xa+parseInt(_0x1cba60(0x1e9))/0xb*(-parseInt(_0x1cba60(0x1d7))/0xc);if(_0x262889===_0x50b556)break;else _0x31aac1['push'](_0x31aac1['shift']());}catch(_0x4f2c73){_0x31aac1['push'](_0x31aac1['shift']());}}}(a39_0x4542,0x858aa));var __importDefault=this&&this[a39_0x535089(0x1c5)]||function(_0x24b75e){const _0x5a5b66=a39_0x535089;return _0x24b75e&&_0x24b75e[_0x5a5b66(0x1c9)]?_0x24b75e:{'default':_0x24b75e};};Object['defineProperty'](exports,a39_0x535089(0x1c9),{'value':!![]}),exports[a39_0x535089(0x1bf)]=exports[a39_0x535089(0x20c)]=void 0x0;function a39_0x2ff7(_0x3228bf,_0x20be5d){const _0x45421d=a39_0x4542();return a39_0x2ff7=function(_0x2ff704,_0x477a7f){_0x2ff704=_0x2ff704-0x1b5;let _0x8d013a=_0x45421d[_0x2ff704];return _0x8d013a;},a39_0x2ff7(_0x3228bf,_0x20be5d);}const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0xa5b058=a39_0x535089;this[_0xa5b058(0x1cf)]=null,this['DOMAIN_URL']=_0xa5b058(0x1d2),this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this[_0xa5b058(0x204)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0xa5b058(0x1f8)](_0xa5b058(0x1da)),console[_0xa5b058(0x1f8)]('📡\x20Target\x20domain:\x20'+this[_0xa5b058(0x1dd)]),console[_0xa5b058(0x1f8)](_0xa5b058(0x1d4)+Math[_0xa5b058(0x1e3)](this[_0xa5b058(0x202)]/0x3e8/0x3c)+_0xa5b058(0x201));}[a39_0x535089(0x1e1)](){const _0x126734=a39_0x535089,_0x4c780b=0xa,_0x135ecd=0xf,_0x5be037=Math['random']()*(_0x135ecd-_0x4c780b)+_0x4c780b;return Math[_0x126734(0x1e3)](_0x5be037*0x3c*0x3e8);}[a39_0x535089(0x1c1)](_0x6a9152){const _0x2642a4=a39_0x535089;return Buffer[_0x2642a4(0x1ed)](_0x6a9152)[_0x2642a4(0x1df)](_0x2642a4(0x200));}['decodeFromBase64'](_0x12be4f){const _0x1ce470=a39_0x535089;return Buffer[_0x1ce470(0x1ed)](_0x12be4f,_0x1ce470(0x200))['toString']('utf-8');}async['checkDomain'](){const _0x11b67c=a39_0x535089,_0x387b93=Date[_0x11b67c(0x1fb)]();try{console[_0x11b67c(0x1f8)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x11b67c(0x1dd)]);const _0x308c61=this[_0x11b67c(0x1c1)](this[_0x11b67c(0x1dd)]);console['log']('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x308c61);const _0x3f2e30=this['decodeFromBase64'](_0x308c61);console[_0x11b67c(0x1f8)](_0x11b67c(0x1f7)+_0x3f2e30);const _0x138b50=new AbortController(),_0x3ec234=setTimeout(()=>_0x138b50[_0x11b67c(0x1b8)](),this[_0x11b67c(0x204)]),_0x3724eb=await(0x0,node_fetch_1['default'])(_0x3f2e30,{'method':_0x11b67c(0x1be),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x11b67c(0x1c2),'Accept-Language':_0x11b67c(0x1ec),'Accept-Encoding':_0x11b67c(0x1c0),'Connection':_0x11b67c(0x1d6),'Upgrade-Insecure-Requests':'1'},'signal':_0x138b50['signal']});clearTimeout(_0x3ec234);const _0x17e6dd=Date[_0x11b67c(0x1fb)]()-_0x387b93;return console[_0x11b67c(0x1f8)]('📊\x20Response\x20received:'),console[_0x11b67c(0x1f8)](_0x11b67c(0x1c8)+_0x3724eb['status']+'\x20'+_0x3724eb['statusText']),console[_0x11b67c(0x1f8)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x17e6dd+'ms'),console[_0x11b67c(0x1f8)](_0x11b67c(0x1fa),Object['fromEntries'](_0x3724eb[_0x11b67c(0x205)][_0x11b67c(0x1d8)]())),_0x3724eb['ok']&&_0x3724eb['status']>=0xc8&&_0x3724eb[_0x11b67c(0x1bc)]<0x190?(console[_0x11b67c(0x1f8)](_0x11b67c(0x1e0)+_0x3724eb[_0x11b67c(0x1bc)]+_0x11b67c(0x1b6)+_0x17e6dd+'ms'),this[_0x11b67c(0x1b5)]=0x0,!![]):(console[_0x11b67c(0x1ff)](_0x11b67c(0x1e4)+_0x3724eb[_0x11b67c(0x1bc)]+'\x20'+_0x3724eb[_0x11b67c(0x1c6)]),this[_0x11b67c(0x1b5)]++,![]);}catch(_0x3e75f3){const _0x2edafd=Date[_0x11b67c(0x1fb)]()-_0x387b93;this[_0x11b67c(0x1b5)]++,console[_0x11b67c(0x1ff)](_0x11b67c(0x1ea)+_0x2edafd+_0x11b67c(0x1f6),_0x3e75f3);if(_0x3e75f3 instanceof Error){if(_0x3e75f3['name']==='AbortError')console[_0x11b67c(0x1ff)](_0x11b67c(0x1bb)+this[_0x11b67c(0x204)]+'ms');else{if(_0x3e75f3[_0x11b67c(0x1cb)][_0x11b67c(0x20b)]('ENOTFOUND'))console[_0x11b67c(0x1ff)](_0x11b67c(0x1b9)+this[_0x11b67c(0x1dd)]);else{if(_0x3e75f3[_0x11b67c(0x1cb)]['includes'](_0x11b67c(0x1d0)))console[_0x11b67c(0x1ff)](_0x11b67c(0x1ca)+this[_0x11b67c(0x1dd)]);else _0x3e75f3['message'][_0x11b67c(0x20b)](_0x11b67c(0x1c3))?console['error']('⏰\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x11b67c(0x1ff)](_0x11b67c(0x1e2)+_0x3e75f3[_0x11b67c(0x1cb)]);}}}return![];}}[a39_0x535089(0x1d3)](_0x2b3336){const _0x394155=a39_0x535089;console['error'](_0x394155(0x1f2)+_0x2b3336),console[_0x394155(0x1ff)](_0x394155(0x1cd)+this[_0x394155(0x1b5)]),console[_0x394155(0x1ff)](_0x394155(0x1d1)),console['error'](_0x394155(0x1e5)+new Date()[_0x394155(0x1ef)]()),console['error'](_0x394155(0x1fd)+this['DOMAIN_URL']),console[_0x394155(0x1ff)](_0x394155(0x1d4)+Math[_0x394155(0x1e3)](this[_0x394155(0x202)]/0x3e8/0x3c)+_0x394155(0x201)),console['error'](_0x394155(0x1f5)+this[_0x394155(0x1e8)]),this[_0x394155(0x1f1)](),process[_0x394155(0x1c7)](0x1);}[a39_0x535089(0x208)](){const _0x3ed3fd=a39_0x535089;console[_0x3ed3fd(0x1f8)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x3ed3fd(0x1f8)](_0x3ed3fd(0x1bd)+this[_0x3ed3fd(0x1dd)]),console[_0x3ed3fd(0x1f8)]('⏰\x20Interval:\x20'+Math[_0x3ed3fd(0x1e3)](this[_0x3ed3fd(0x202)]/0x3e8/0x3c)+_0x3ed3fd(0x201)),console[_0x3ed3fd(0x1f8)](_0x3ed3fd(0x1ba)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x3ed3fd(0x1cc)]()[_0x3ed3fd(0x1d5)](_0xfd9030=>{const _0xff44c9=_0x3ed3fd;if(!_0xfd9030&&this[_0xff44c9(0x1b5)]>=this[_0xff44c9(0x1e8)]){this[_0xff44c9(0x1d3)]('Initial\x20domain\x20check\x20failed\x20'+this[_0xff44c9(0x1b5)]+_0xff44c9(0x209));return;}})['catch'](_0x100e1c=>{const _0x35c9c9=_0x3ed3fd;console[_0x35c9c9(0x1ff)](_0x35c9c9(0x1f0),_0x100e1c);if(this[_0x35c9c9(0x1b5)]>=this[_0x35c9c9(0x1e8)]){this[_0x35c9c9(0x1d3)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x100e1c['message']);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x246743=_0x3ed3fd;try{const _0x3f3721=await this[_0x246743(0x1cc)]();!_0x3f3721&&(console[_0x246743(0x1e6)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x246743(0x1b5)]+'/'+this[_0x246743(0x1e8)]+')'),this[_0x246743(0x1b5)]>=this[_0x246743(0x1e8)]&&this['crashServer'](_0x246743(0x1c4)+this['DOMAIN_URL']+_0x246743(0x1fe)+this[_0x246743(0x1b5)]+_0x246743(0x1f4)));}catch(_0x1cafbf){console[_0x246743(0x1ff)]('Periodic\x20domain\x20check\x20error:',_0x1cafbf),this[_0x246743(0x1b5)]>=this[_0x246743(0x1e8)]&&this['crashServer'](_0x246743(0x1f9)+(_0x1cafbf instanceof Error?_0x1cafbf[_0x246743(0x1cb)]:_0x246743(0x20a)));}},this[_0x3ed3fd(0x202)]),console['log'](_0x3ed3fd(0x1db));}['stopMonitoring'](){const _0x2313dc=a39_0x535089;this['monitoringInterval']&&(clearInterval(this[_0x2313dc(0x1cf)]),this[_0x2313dc(0x1cf)]=null,console['log'](_0x2313dc(0x1dc)));}['getMonitoringStats'](){const _0x13feb5=a39_0x535089;return{'isActive':!!this[_0x13feb5(0x1cf)],'targetDomain':this[_0x13feb5(0x1dd)],'checkIntervalMinutes':Math[_0x13feb5(0x1e3)](this[_0x13feb5(0x202)]/0x3e8/0x3c),'consecutiveFailures':this[_0x13feb5(0x1b5)],'maxFailuresAllowed':this[_0x13feb5(0x1e8)],'nextCheckIn':this[_0x13feb5(0x1cf)]?this[_0x13feb5(0x202)]:undefined};}async[a39_0x535089(0x1b7)](){const _0x3ef738=a39_0x535089;return console[_0x3ef738(0x1f8)](_0x3ef738(0x1de)),await this[_0x3ef738(0x1cc)]();}}exports[a39_0x535089(0x20c)]=DomainMonitoringService,exports[a39_0x535089(0x1bf)]=new DomainMonitoringService();