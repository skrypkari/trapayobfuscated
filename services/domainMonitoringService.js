'use strict';const a40_0x2c3451=a40_0x2419;(function(_0x309e3c,_0x168075){const _0x5bbd92=a40_0x2419,_0x47f5b4=_0x309e3c();while(!![]){try{const _0x20de85=-parseInt(_0x5bbd92(0x155))/0x1*(parseInt(_0x5bbd92(0x172))/0x2)+-parseInt(_0x5bbd92(0x165))/0x3*(parseInt(_0x5bbd92(0x174))/0x4)+-parseInt(_0x5bbd92(0x16b))/0x5*(parseInt(_0x5bbd92(0x15c))/0x6)+-parseInt(_0x5bbd92(0x175))/0x7+parseInt(_0x5bbd92(0x14f))/0x8*(parseInt(_0x5bbd92(0x14a))/0x9)+parseInt(_0x5bbd92(0x167))/0xa*(parseInt(_0x5bbd92(0x147))/0xb)+-parseInt(_0x5bbd92(0x15b))/0xc*(-parseInt(_0x5bbd92(0x182))/0xd);if(_0x20de85===_0x168075)break;else _0x47f5b4['push'](_0x47f5b4['shift']());}catch(_0x24d737){_0x47f5b4['push'](_0x47f5b4['shift']());}}}(a40_0x274d,0x8bbe5));var __importDefault=this&&this[a40_0x2c3451(0x15f)]||function(_0x3f5119){const _0xe0e7a3=a40_0x2c3451;return _0x3f5119&&_0x3f5119[_0xe0e7a3(0x162)]?_0x3f5119:{'default':_0x3f5119};};function a40_0x274d(){const _0x1a38e9=['defineProperty','\x20is\x20not\x20responding\x20after\x20','❌\x20Domain\x20check\x20error\x20after\x20','from','27533YLgcxK','🚨\x20Max\x20failures\x20before\x20crash:\x20','ms:','1693800iaLBBc','GET','domainMonitoringService','💥\x20CRITICAL\x20ERROR:\x20','Domain\x20','40IWocsd','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','🔥\x20Consecutive\x20failures:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','round','default','1AhaJTz','name','MAX_CONSECUTIVE_FAILURES','\x20times','catch','entries','1059792EkHyjB','450246QEeycB','🔍\x20Checking\x20domain\x20availability:\x20','TesSoft\x20Domain\x20Monitor/1.0','__importDefault','🚀\x20Starting\x20domain\x20monitoring\x20service','getMonitoringStats','__esModule','\x20\x20\x20-\x20Response\x20time:\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','2382qOZxXM','toISOString','3330rDglyr','📅\x20Crash\x20time:\x20','error','TIMEOUT_MS','10XWKBrW','🛑\x20Domain\x20monitoring\x20stopped','Unknown\x20error','ETIMEDOUT','warn','🌐\x20DNS\x20resolution\x20failed\x20for\x20','utf-8','136478olRSXc','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','4776Cyfchb','2723119OzSfiH','log','ECONNREFUSED','node-fetch','startMonitoring','🔍\x20Domain\x20being\x20monitored:\x20','crashServer','decodeFromBase64','ENOTFOUND','⏰\x20Check\x20interval:\x20','⏰\x20Interval:\x20','fromEntries','DOMAIN_URL','52AeFloq','Initial\x20domain\x20check\x20threw\x20error:\x20','now','\x20minutes','🔍\x20Domain\x20monitoring\x20service\x20initialized','monitoringInterval','includes','\x20in\x20','⏰\x20Request\x20timeout\x20after\x20','consecutiveFailures','✅\x20Domain\x20check\x20successful:\x20','DomainMonitoringService','📊\x20Response\x20received:','Domain\x20monitoring\x20threw\x20error:\x20','encodeToBase64','toString','statusText','\x20\x20\x20-\x20Status:\x20','en-US,en;q=0.5','🔓\x20Decoded\x20URL:\x20','📡\x20Target:\x20','🔥\x20Unexpected\x20error:\x20','abort','Initial\x20domain\x20check\x20error:','getRandomInterval','⚠️\x20Domain\x20check\x20failed\x20(','status','🚫\x20Connection\x20refused\x20by\x20','exit','message','headers','manualCheck','then','stopMonitoring','🔧\x20Manual\x20domain\x20check\x20requested','⏰\x20Connection\x20timeout\x20to\x20','https://google.com','CHECK_INTERVAL_MS','📡\x20Target\x20domain:\x20','checkDomain','📝\x20Encoded\x20URL\x20(base64):\x20','base64'];a40_0x274d=function(){return _0x1a38e9;};return a40_0x274d();}Object[a40_0x2c3451(0x143)](exports,a40_0x2c3451(0x162),{'value':!![]}),exports[a40_0x2c3451(0x14c)]=exports[a40_0x2c3451(0x124)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x2c3451(0x178)));class DomainMonitoringService{constructor(){const _0x3b8f3b=a40_0x2c3451;this[_0x3b8f3b(0x11e)]=null,this[_0x3b8f3b(0x181)]=_0x3b8f3b(0x13d),this[_0x3b8f3b(0x13e)]=this[_0x3b8f3b(0x131)](),this[_0x3b8f3b(0x16a)]=0x7530,this[_0x3b8f3b(0x122)]=0x0,this[_0x3b8f3b(0x157)]=0x2,console[_0x3b8f3b(0x176)](_0x3b8f3b(0x186)),console[_0x3b8f3b(0x176)](_0x3b8f3b(0x13f)+this[_0x3b8f3b(0x181)]),console[_0x3b8f3b(0x176)](_0x3b8f3b(0x17e)+Math['round'](this[_0x3b8f3b(0x13e)]/0x3e8/0x3c)+_0x3b8f3b(0x185));}[a40_0x2c3451(0x131)](){const _0x11d809=a40_0x2c3451,_0x2b4165=0xa,_0x58cabe=0xf,_0x249337=Math['random']()*(_0x58cabe-_0x2b4165)+_0x2b4165;return Math[_0x11d809(0x153)](_0x249337*0x3c*0x3e8);}['encodeToBase64'](_0x45a8b3){const _0x38b3c2=a40_0x2c3451;return Buffer[_0x38b3c2(0x146)](_0x45a8b3)[_0x38b3c2(0x128)](_0x38b3c2(0x142));}[a40_0x2c3451(0x17c)](_0x15a995){const _0x2cb832=a40_0x2c3451;return Buffer[_0x2cb832(0x146)](_0x15a995,_0x2cb832(0x142))[_0x2cb832(0x128)](_0x2cb832(0x171));}async['checkDomain'](){const _0x19c60c=a40_0x2c3451,_0x400a75=Date[_0x19c60c(0x184)]();try{console['log'](_0x19c60c(0x15d)+this[_0x19c60c(0x181)]);const _0x3c8894=this[_0x19c60c(0x127)](this[_0x19c60c(0x181)]);console['log'](_0x19c60c(0x141)+_0x3c8894);const _0x210b0e=this[_0x19c60c(0x17c)](_0x3c8894);console[_0x19c60c(0x176)](_0x19c60c(0x12c)+_0x210b0e);const _0x2971b8=new AbortController(),_0x4c3be0=setTimeout(()=>_0x2971b8[_0x19c60c(0x12f)](),this['TIMEOUT_MS']),_0x36b23c=await(0x0,node_fetch_1[_0x19c60c(0x154)])(_0x210b0e,{'method':_0x19c60c(0x14b),'headers':{'User-Agent':_0x19c60c(0x15e),'Accept':_0x19c60c(0x173),'Accept-Language':_0x19c60c(0x12b),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x2971b8['signal']});clearTimeout(_0x4c3be0);const _0x8c978a=Date[_0x19c60c(0x184)]()-_0x400a75;return console[_0x19c60c(0x176)](_0x19c60c(0x125)),console[_0x19c60c(0x176)](_0x19c60c(0x12a)+_0x36b23c['status']+'\x20'+_0x36b23c[_0x19c60c(0x129)]),console[_0x19c60c(0x176)](_0x19c60c(0x163)+_0x8c978a+'ms'),console[_0x19c60c(0x176)]('\x20\x20\x20-\x20Headers:',Object[_0x19c60c(0x180)](_0x36b23c[_0x19c60c(0x137)][_0x19c60c(0x15a)]())),_0x36b23c['ok']&&_0x36b23c[_0x19c60c(0x133)]>=0xc8&&_0x36b23c['status']<0x190?(console[_0x19c60c(0x176)](_0x19c60c(0x123)+_0x36b23c[_0x19c60c(0x133)]+_0x19c60c(0x120)+_0x8c978a+'ms'),this[_0x19c60c(0x122)]=0x0,!![]):(console['error'](_0x19c60c(0x152)+_0x36b23c[_0x19c60c(0x133)]+'\x20'+_0x36b23c[_0x19c60c(0x129)]),this[_0x19c60c(0x122)]++,![]);}catch(_0x50d0ec){const _0x24275e=Date[_0x19c60c(0x184)]()-_0x400a75;this['consecutiveFailures']++,console['error'](_0x19c60c(0x145)+_0x24275e+_0x19c60c(0x149),_0x50d0ec);if(_0x50d0ec instanceof Error){if(_0x50d0ec[_0x19c60c(0x156)]==='AbortError')console[_0x19c60c(0x169)](_0x19c60c(0x121)+this[_0x19c60c(0x16a)]+'ms');else{if(_0x50d0ec[_0x19c60c(0x136)][_0x19c60c(0x11f)](_0x19c60c(0x17d)))console[_0x19c60c(0x169)](_0x19c60c(0x170)+this['DOMAIN_URL']);else{if(_0x50d0ec[_0x19c60c(0x136)]['includes'](_0x19c60c(0x177)))console['error'](_0x19c60c(0x134)+this[_0x19c60c(0x181)]);else _0x50d0ec['message'][_0x19c60c(0x11f)](_0x19c60c(0x16e))?console[_0x19c60c(0x169)](_0x19c60c(0x13c)+this[_0x19c60c(0x181)]):console[_0x19c60c(0x169)](_0x19c60c(0x12e)+_0x50d0ec[_0x19c60c(0x136)]);}}}return![];}}[a40_0x2c3451(0x17b)](_0x4f5d3){const _0x584b3e=a40_0x2c3451;console['error'](_0x584b3e(0x14d)+_0x4f5d3),console[_0x584b3e(0x169)](_0x584b3e(0x151)+this[_0x584b3e(0x122)]),console[_0x584b3e(0x169)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x584b3e(0x168)+new Date()[_0x584b3e(0x166)]()),console[_0x584b3e(0x169)](_0x584b3e(0x17a)+this[_0x584b3e(0x181)]),console[_0x584b3e(0x169)]('⏰\x20Check\x20interval:\x20'+Math[_0x584b3e(0x153)](this[_0x584b3e(0x13e)]/0x3e8/0x3c)+_0x584b3e(0x185)),console[_0x584b3e(0x169)](_0x584b3e(0x150)+this[_0x584b3e(0x157)]),this[_0x584b3e(0x13a)](),process[_0x584b3e(0x135)](0x1);}[a40_0x2c3451(0x179)](){const _0x26cb96=a40_0x2c3451;console[_0x26cb96(0x176)](_0x26cb96(0x160)),console['log'](_0x26cb96(0x12d)+this[_0x26cb96(0x181)]),console[_0x26cb96(0x176)](_0x26cb96(0x17f)+Math[_0x26cb96(0x153)](this[_0x26cb96(0x13e)]/0x3e8/0x3c)+_0x26cb96(0x185)),console[_0x26cb96(0x176)](_0x26cb96(0x148)+this[_0x26cb96(0x157)]),this[_0x26cb96(0x140)]()[_0x26cb96(0x139)](_0x8c70f6=>{const _0x195953=_0x26cb96;if(!_0x8c70f6&&this['consecutiveFailures']>=this[_0x195953(0x157)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this[_0x195953(0x122)]+_0x195953(0x158));return;}})[_0x26cb96(0x159)](_0x22d80f=>{const _0x4b1053=_0x26cb96;console[_0x4b1053(0x169)](_0x4b1053(0x130),_0x22d80f);if(this[_0x4b1053(0x122)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x4b1053(0x17b)](_0x4b1053(0x183)+_0x22d80f[_0x4b1053(0x136)]);return;}}),this[_0x26cb96(0x11e)]=setInterval(async()=>{const _0x57bde3=_0x26cb96;try{const _0x10c9d5=await this[_0x57bde3(0x140)]();!_0x10c9d5&&(console[_0x57bde3(0x16f)](_0x57bde3(0x132)+this[_0x57bde3(0x122)]+'/'+this[_0x57bde3(0x157)]+')'),this[_0x57bde3(0x122)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x57bde3(0x17b)](_0x57bde3(0x14e)+this[_0x57bde3(0x181)]+_0x57bde3(0x144)+this[_0x57bde3(0x122)]+'\x20consecutive\x20attempts'));}catch(_0x349ea4){console[_0x57bde3(0x169)]('Periodic\x20domain\x20check\x20error:',_0x349ea4),this[_0x57bde3(0x122)]>=this[_0x57bde3(0x157)]&&this[_0x57bde3(0x17b)](_0x57bde3(0x126)+(_0x349ea4 instanceof Error?_0x349ea4['message']:_0x57bde3(0x16d)));}},this['CHECK_INTERVAL_MS']),console[_0x26cb96(0x176)](_0x26cb96(0x164));}['stopMonitoring'](){const _0x57d9c3=a40_0x2c3451;this[_0x57d9c3(0x11e)]&&(clearInterval(this[_0x57d9c3(0x11e)]),this[_0x57d9c3(0x11e)]=null,console['log'](_0x57d9c3(0x16c)));}[a40_0x2c3451(0x161)](){const _0x126c3b=a40_0x2c3451;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x126c3b(0x181)],'checkIntervalMinutes':Math[_0x126c3b(0x153)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x126c3b(0x122)],'maxFailuresAllowed':this[_0x126c3b(0x157)],'nextCheckIn':this[_0x126c3b(0x11e)]?this[_0x126c3b(0x13e)]:undefined};}async[a40_0x2c3451(0x138)](){const _0x4914d8=a40_0x2c3451;return console[_0x4914d8(0x176)](_0x4914d8(0x13b)),await this[_0x4914d8(0x140)]();}}function a40_0x2419(_0x1bacc9,_0x546452){const _0x274d1f=a40_0x274d();return a40_0x2419=function(_0x2419df,_0x2f7d75){_0x2419df=_0x2419df-0x11e;let _0x49ce6b=_0x274d1f[_0x2419df];return _0x49ce6b;},a40_0x2419(_0x1bacc9,_0x546452);}exports[a40_0x2c3451(0x124)]=DomainMonitoringService,exports[a40_0x2c3451(0x14c)]=new DomainMonitoringService();