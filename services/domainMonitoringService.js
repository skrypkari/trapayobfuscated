'use strict';const a39_0x571b83=a39_0x5051;(function(_0x4e97cc,_0x18dc6d){const _0x54f258=a39_0x5051,_0x2c38ee=_0x4e97cc();while(!![]){try{const _0x1a54cc=-parseInt(_0x54f258(0xc2))/0x1*(-parseInt(_0x54f258(0xc4))/0x2)+-parseInt(_0x54f258(0xef))/0x3*(-parseInt(_0x54f258(0x9d))/0x4)+parseInt(_0x54f258(0xd5))/0x5+parseInt(_0x54f258(0xca))/0x6+-parseInt(_0x54f258(0xb3))/0x7+-parseInt(_0x54f258(0xaf))/0x8*(-parseInt(_0x54f258(0xe5))/0x9)+parseInt(_0x54f258(0xb4))/0xa*(-parseInt(_0x54f258(0xa4))/0xb);if(_0x1a54cc===_0x18dc6d)break;else _0x2c38ee['push'](_0x2c38ee['shift']());}catch(_0x33e839){_0x2c38ee['push'](_0x2c38ee['shift']());}}}(a39_0x46f2,0xa5d16));function a39_0x5051(_0x3deb30,_0x56fc26){const _0x46f240=a39_0x46f2();return a39_0x5051=function(_0x5051d9,_0xd461ff){_0x5051d9=_0x5051d9-0x9c;let _0x30e6dd=_0x46f240[_0x5051d9];return _0x30e6dd;},a39_0x5051(_0x3deb30,_0x56fc26);}function a39_0x46f2(){const _0x586da8=['💥\x20CRITICAL\x20ERROR:\x20','DomainMonitoringService','abort','gzip,\x20deflate','Periodic\x20domain\x20check\x20error:','round','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','decodeFromBase64','Domain\x20monitoring\x20threw\x20error:\x20','crashServer','📡\x20Target\x20domain:\x20','TIMEOUT_MS','🔓\x20Decoded\x20URL:\x20','506823FdySgx','\x20in\x20','2gtsMWJ','ENOTFOUND','base64','DOMAIN_URL','Unknown\x20error','🔍\x20Domain\x20being\x20monitored:\x20','6459276ovRJzi','CHECK_INTERVAL_MS','consecutiveFailures','Initial\x20domain\x20check\x20error:','utf-8','MAX_CONSECUTIVE_FAILURES','getMonitoringStats','message','🔥\x20Consecutive\x20failures:\x20','GET','random','3450935uYydHr','\x20\x20\x20-\x20Headers:','Initial\x20domain\x20check\x20threw\x20error:\x20','ETIMEDOUT','from','getRandomInterval','ECONNREFUSED','⏰\x20Connection\x20timeout\x20to\x20','includes','🔧\x20Manual\x20domain\x20check\x20requested','status','🔍\x20Domain\x20monitoring\x20service\x20initialized','✅\x20Domain\x20monitoring\x20started\x20successfully','TesSoft\x20Domain\x20Monitor/1.0','name','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','7164PbIcRF','AbortError','🚀\x20Starting\x20domain\x20monitoring\x20service','⏰\x20Request\x20timeout\x20after\x20','encodeToBase64','statusText','📅\x20Crash\x20time:\x20','\x20\x20\x20-\x20Status:\x20','✅\x20Domain\x20check\x20successful:\x20','📡\x20Target:\x20','7737YZMNZw','Domain\x20','fromEntries','catch','__importDefault','log','🔥\x20Unexpected\x20error:\x20','now','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','error','\x20times','defineProperty','checkDomain','exit','📝\x20Encoded\x20URL\x20(base64):\x20','1684srPSBd','⚠️\x20Domain\x20check\x20failed\x20(','keep-alive','__esModule','⏰\x20Check\x20interval:\x20','ms:','\x20is\x20not\x20responding\x20after\x20','473KswTAh','toString','🚫\x20Connection\x20refused\x20by\x20','\x20consecutive\x20attempts','\x20minutes','manualCheck','stopMonitoring','⏰\x20Interval:\x20','monitoringInterval','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','warn','4744aVQWfM','Initial\x20domain\x20check\x20failed\x20','signal','❌\x20Domain\x20check\x20error\x20after\x20','241969MrnxwU','725020qzDLZU'];a39_0x46f2=function(){return _0x586da8;};return a39_0x46f2();}var __importDefault=this&&this[a39_0x571b83(0xf3)]||function(_0x1be889){const _0x5f33d6=a39_0x571b83;return _0x1be889&&_0x1be889[_0x5f33d6(0xa0)]?_0x1be889:{'default':_0x1be889};};Object[a39_0x571b83(0xfa)](exports,a39_0x571b83(0xa0),{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x571b83(0xb6)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x3c803d=a39_0x571b83;this['monitoringInterval']=null,this[_0x3c803d(0xc7)]='https://google.com',this['CHECK_INTERVAL_MS']=this[_0x3c803d(0xda)](),this[_0x3c803d(0xc0)]=0x7530,this[_0x3c803d(0xcc)]=0x0,this[_0x3c803d(0xcf)]=0x2,console['log'](_0x3c803d(0xe0)),console[_0x3c803d(0xf4)](_0x3c803d(0xbf)+this['DOMAIN_URL']),console['log'](_0x3c803d(0xa1)+Math['round'](this[_0x3c803d(0xcb)]/0x3e8/0x3c)+'\x20minutes');}[a39_0x571b83(0xda)](){const _0x5d353a=a39_0x571b83,_0x1d8453=0xa,_0x19b7d6=0xf,_0x320814=Math[_0x5d353a(0xd4)]()*(_0x19b7d6-_0x1d8453)+_0x1d8453;return Math[_0x5d353a(0xba)](_0x320814*0x3c*0x3e8);}[a39_0x571b83(0xe9)](_0xef690a){const _0x3d6190=a39_0x571b83;return Buffer[_0x3d6190(0xd9)](_0xef690a)[_0x3d6190(0xa5)]('base64');}['decodeFromBase64'](_0x35a78f){const _0x31f109=a39_0x571b83;return Buffer[_0x31f109(0xd9)](_0x35a78f,_0x31f109(0xc6))[_0x31f109(0xa5)](_0x31f109(0xce));}async['checkDomain'](){const _0x5d0b21=a39_0x571b83,_0xef4ab1=Date[_0x5d0b21(0xf6)]();try{console[_0x5d0b21(0xf4)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x5d0b21(0xc7)]);const _0x452ff7=this[_0x5d0b21(0xe9)](this[_0x5d0b21(0xc7)]);console['log'](_0x5d0b21(0x9c)+_0x452ff7);const _0x1557f3=this[_0x5d0b21(0xbc)](_0x452ff7);console['log'](_0x5d0b21(0xc1)+_0x1557f3);const _0x445ad5=new AbortController(),_0x24a275=setTimeout(()=>_0x445ad5[_0x5d0b21(0xb7)](),this[_0x5d0b21(0xc0)]),_0x4e5960=await(0x0,node_fetch_1['default'])(_0x1557f3,{'method':_0x5d0b21(0xd3),'headers':{'User-Agent':_0x5d0b21(0xe2),'Accept':_0x5d0b21(0xe4),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x5d0b21(0xb8),'Connection':_0x5d0b21(0x9f),'Upgrade-Insecure-Requests':'1'},'signal':_0x445ad5[_0x5d0b21(0xb1)]});clearTimeout(_0x24a275);const _0x1f5b3d=Date[_0x5d0b21(0xf6)]()-_0xef4ab1;return console[_0x5d0b21(0xf4)]('📊\x20Response\x20received:'),console[_0x5d0b21(0xf4)](_0x5d0b21(0xec)+_0x4e5960[_0x5d0b21(0xdf)]+'\x20'+_0x4e5960[_0x5d0b21(0xea)]),console[_0x5d0b21(0xf4)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x1f5b3d+'ms'),console['log'](_0x5d0b21(0xd6),Object[_0x5d0b21(0xf1)](_0x4e5960['headers']['entries']())),_0x4e5960['ok']&&_0x4e5960['status']>=0xc8&&_0x4e5960['status']<0x190?(console[_0x5d0b21(0xf4)](_0x5d0b21(0xed)+_0x4e5960[_0x5d0b21(0xdf)]+_0x5d0b21(0xc3)+_0x1f5b3d+'ms'),this[_0x5d0b21(0xcc)]=0x0,!![]):(console[_0x5d0b21(0xf8)](_0x5d0b21(0xad)+_0x4e5960['status']+'\x20'+_0x4e5960[_0x5d0b21(0xea)]),this[_0x5d0b21(0xcc)]++,![]);}catch(_0x1c828c){const _0x870b8c=Date['now']()-_0xef4ab1;this[_0x5d0b21(0xcc)]++,console['error'](_0x5d0b21(0xb2)+_0x870b8c+_0x5d0b21(0xa2),_0x1c828c);if(_0x1c828c instanceof Error){if(_0x1c828c[_0x5d0b21(0xe3)]===_0x5d0b21(0xe6))console[_0x5d0b21(0xf8)](_0x5d0b21(0xe8)+this[_0x5d0b21(0xc0)]+'ms');else{if(_0x1c828c[_0x5d0b21(0xd1)][_0x5d0b21(0xdd)](_0x5d0b21(0xc5)))console['error']('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x5d0b21(0xc7)]);else{if(_0x1c828c['message'][_0x5d0b21(0xdd)](_0x5d0b21(0xdb)))console[_0x5d0b21(0xf8)](_0x5d0b21(0xa6)+this[_0x5d0b21(0xc7)]);else _0x1c828c[_0x5d0b21(0xd1)][_0x5d0b21(0xdd)](_0x5d0b21(0xd8))?console[_0x5d0b21(0xf8)](_0x5d0b21(0xdc)+this['DOMAIN_URL']):console['error'](_0x5d0b21(0xf5)+_0x1c828c[_0x5d0b21(0xd1)]);}}}return![];}}['crashServer'](_0x21be46){const _0x5df9f4=a39_0x571b83;console['error'](_0x5df9f4(0xb5)+_0x21be46),console[_0x5df9f4(0xf8)](_0x5df9f4(0xd2)+this['consecutiveFailures']),console['error'](_0x5df9f4(0xbb)),console[_0x5df9f4(0xf8)](_0x5df9f4(0xeb)+new Date()['toISOString']()),console[_0x5df9f4(0xf8)](_0x5df9f4(0xc9)+this[_0x5df9f4(0xc7)]),console['error']('⏰\x20Check\x20interval:\x20'+Math[_0x5df9f4(0xba)](this[_0x5df9f4(0xcb)]/0x3e8/0x3c)+'\x20minutes'),console[_0x5df9f4(0xf8)](_0x5df9f4(0xf7)+this[_0x5df9f4(0xcf)]),this[_0x5df9f4(0xaa)](),process[_0x5df9f4(0xfc)](0x1);}['startMonitoring'](){const _0x276f6d=a39_0x571b83;console[_0x276f6d(0xf4)](_0x276f6d(0xe7)),console[_0x276f6d(0xf4)](_0x276f6d(0xee)+this[_0x276f6d(0xc7)]),console[_0x276f6d(0xf4)](_0x276f6d(0xab)+Math[_0x276f6d(0xba)](this[_0x276f6d(0xcb)]/0x3e8/0x3c)+_0x276f6d(0xa8)),console[_0x276f6d(0xf4)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()['then'](_0x228f6c=>{const _0x36058c=_0x276f6d;if(!_0x228f6c&&this[_0x36058c(0xcc)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x36058c(0xbe)](_0x36058c(0xb0)+this[_0x36058c(0xcc)]+_0x36058c(0xf9));return;}})[_0x276f6d(0xf2)](_0x5cba18=>{const _0x5bcf43=_0x276f6d;console[_0x5bcf43(0xf8)](_0x5bcf43(0xcd),_0x5cba18);if(this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x5bcf43(0xbe)](_0x5bcf43(0xd7)+_0x5cba18[_0x5bcf43(0xd1)]);return;}}),this[_0x276f6d(0xac)]=setInterval(async()=>{const _0x46458f=_0x276f6d;try{const _0x3ce271=await this[_0x46458f(0xfb)]();!_0x3ce271&&(console[_0x46458f(0xae)](_0x46458f(0x9e)+this[_0x46458f(0xcc)]+'/'+this[_0x46458f(0xcf)]+')'),this[_0x46458f(0xcc)]>=this[_0x46458f(0xcf)]&&this[_0x46458f(0xbe)](_0x46458f(0xf0)+this[_0x46458f(0xc7)]+_0x46458f(0xa3)+this['consecutiveFailures']+_0x46458f(0xa7)));}catch(_0x5d5b3c){console['error'](_0x46458f(0xb9),_0x5d5b3c),this[_0x46458f(0xcc)]>=this[_0x46458f(0xcf)]&&this[_0x46458f(0xbe)](_0x46458f(0xbd)+(_0x5d5b3c instanceof Error?_0x5d5b3c[_0x46458f(0xd1)]:_0x46458f(0xc8)));}},this[_0x276f6d(0xcb)]),console[_0x276f6d(0xf4)](_0x276f6d(0xe1));}[a39_0x571b83(0xaa)](){const _0x1adef1=a39_0x571b83;this['monitoringInterval']&&(clearInterval(this[_0x1adef1(0xac)]),this['monitoringInterval']=null,console['log']('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0x571b83(0xd0)](){const _0x437738=a39_0x571b83;return{'isActive':!!this[_0x437738(0xac)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x437738(0xba)](this[_0x437738(0xcb)]/0x3e8/0x3c),'consecutiveFailures':this[_0x437738(0xcc)],'maxFailuresAllowed':this[_0x437738(0xcf)],'nextCheckIn':this['monitoringInterval']?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x571b83(0xa9)](){const _0x19bbc3=a39_0x571b83;return console[_0x19bbc3(0xf4)](_0x19bbc3(0xde)),await this[_0x19bbc3(0xfb)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();