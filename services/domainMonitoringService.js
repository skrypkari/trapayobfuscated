'use strict';const a39_0x4e0198=a39_0x1b4e;(function(_0x5ad774,_0x4ab8d4){const _0x5dc632=a39_0x1b4e,_0x378432=_0x5ad774();while(!![]){try{const _0x160e01=parseInt(_0x5dc632(0x185))/0x1*(-parseInt(_0x5dc632(0x17e))/0x2)+-parseInt(_0x5dc632(0x157))/0x3*(-parseInt(_0x5dc632(0x164))/0x4)+-parseInt(_0x5dc632(0x161))/0x5*(parseInt(_0x5dc632(0x15f))/0x6)+parseInt(_0x5dc632(0x171))/0x7+-parseInt(_0x5dc632(0x16c))/0x8+-parseInt(_0x5dc632(0x176))/0x9+-parseInt(_0x5dc632(0x13d))/0xa*(-parseInt(_0x5dc632(0x158))/0xb);if(_0x160e01===_0x4ab8d4)break;else _0x378432['push'](_0x378432['shift']());}catch(_0x4620d5){_0x378432['push'](_0x378432['shift']());}}}(a39_0x1c8c,0xa3f9d));var __importDefault=this&&this[a39_0x4e0198(0x140)]||function(_0x2423fa){const _0x5690a0=a39_0x4e0198;return _0x2423fa&&_0x2423fa[_0x5690a0(0x13f)]?_0x2423fa:{'default':_0x2423fa};};function a39_0x1b4e(_0x3c5deb,_0x4f6f8a){const _0x1c8c86=a39_0x1c8c();return a39_0x1b4e=function(_0x1b4e09,_0x2ab957){_0x1b4e09=_0x1b4e09-0x139;let _0x5ab314=_0x1c8c86[_0x1b4e09];return _0x5ab314;},a39_0x1b4e(_0x3c5deb,_0x4f6f8a);}Object[a39_0x4e0198(0x143)](exports,a39_0x4e0198(0x13f),{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x4e0198(0x188)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x4e0198(0x173)));function a39_0x1c8c(){const _0x578298=['❌\x20Domain\x20check\x20failed:\x20HTTP\x20','headers','250383PjPdiv','error','node-fetch','ms:','\x20\x20\x20-\x20Headers:','11279313KRxbLA','\x20minutes','\x20consecutive\x20attempts','📡\x20Target:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','from','https://google.com','🌐\x20DNS\x20resolution\x20failed\x20for\x20','2IUpBcL','Unknown\x20error','ECONNREFUSED','🔥\x20Unexpected\x20error:\x20','getMonitoringStats','🚀\x20Starting\x20domain\x20monitoring\x20service','⚠️\x20Domain\x20check\x20failed\x20(','649676ZYEfKJ','toString','gzip,\x20deflate','DomainMonitoringService','🔍\x20Domain\x20monitoring\x20service\x20initialized','DOMAIN_URL','Initial\x20domain\x20check\x20error:','MAX_CONSECUTIVE_FAILURES','status','📡\x20Target\x20domain:\x20','round','consecutiveFailures','manualCheck','\x20\x20\x20-\x20Response\x20time:\x20','\x20is\x20not\x20responding\x20after\x20','default','🔧\x20Manual\x20domain\x20check\x20requested','domainMonitoringService','checkDomain','toISOString','entries','keep-alive','20vwHwPi','💥\x20CRITICAL\x20ERROR:\x20','__esModule','__importDefault','TIMEOUT_MS','base64','defineProperty','monitoringInterval','message','utf-8','✅\x20Domain\x20check\x20successful:\x20','now','log','en-US,en;q=0.5','⏰\x20Request\x20timeout\x20after\x20','crashServer','✅\x20Domain\x20monitoring\x20started\x20successfully','warn','statusText','Domain\x20monitoring\x20threw\x20error:\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','exit','🔍\x20Domain\x20being\x20monitored:\x20','📊\x20Response\x20received:','TesSoft\x20Domain\x20Monitor/1.0','AbortError','426693MqNgBa','12277067jSHKPH','\x20in\x20','stopMonitoring','includes','abort','GET','🔥\x20Consecutive\x20failures:\x20','517878jsrDgl','encodeToBase64','5IIfhVu','⏰\x20Connection\x20timeout\x20to\x20','getRandomInterval','24eZAKUc','⏰\x20Interval:\x20','\x20\x20\x20-\x20Status:\x20','📅\x20Crash\x20time:\x20','⏰\x20Check\x20interval:\x20','decodeFromBase64','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','CHECK_INTERVAL_MS','3683664OfwsjQ','fromEntries','🛑\x20Domain\x20monitoring\x20stopped'];a39_0x1c8c=function(){return _0x578298;};return a39_0x1c8c();}class DomainMonitoringService{constructor(){const _0x502a23=a39_0x4e0198;this[_0x502a23(0x144)]=null,this[_0x502a23(0x18a)]=_0x502a23(0x17c),this[_0x502a23(0x16b)]=this[_0x502a23(0x163)](),this[_0x502a23(0x141)]=0x7530,this[_0x502a23(0x190)]=0x0,this[_0x502a23(0x18c)]=0x2,console['log'](_0x502a23(0x189)),console['log'](_0x502a23(0x18e)+this['DOMAIN_URL']),console[_0x502a23(0x149)](_0x502a23(0x168)+Math[_0x502a23(0x18f)](this[_0x502a23(0x16b)]/0x3e8/0x3c)+_0x502a23(0x177));}[a39_0x4e0198(0x163)](){const _0x56cf17=a39_0x4e0198,_0x3c4da3=0xa,_0x1561c5=0xf,_0x3ebe9f=Math['random']()*(_0x1561c5-_0x3c4da3)+_0x3c4da3;return Math[_0x56cf17(0x18f)](_0x3ebe9f*0x3c*0x3e8);}['encodeToBase64'](_0x13551e){const _0xf35091=a39_0x4e0198;return Buffer['from'](_0x13551e)['toString'](_0xf35091(0x142));}[a39_0x4e0198(0x169)](_0x3b317f){const _0x2436b=a39_0x4e0198;return Buffer[_0x2436b(0x17b)](_0x3b317f,_0x2436b(0x142))[_0x2436b(0x186)](_0x2436b(0x146));}async[a39_0x4e0198(0x139)](){const _0x29f122=a39_0x4e0198,_0x92b9a5=Date[_0x29f122(0x148)]();try{console[_0x29f122(0x149)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x29f122(0x18a)]);const _0x403ec8=this[_0x29f122(0x160)](this[_0x29f122(0x18a)]);console[_0x29f122(0x149)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x403ec8);const _0x3942a7=this[_0x29f122(0x169)](_0x403ec8);console[_0x29f122(0x149)]('🔓\x20Decoded\x20URL:\x20'+_0x3942a7);const _0x37f115=new AbortController(),_0x30019f=setTimeout(()=>_0x37f115[_0x29f122(0x15c)](),this[_0x29f122(0x141)]),_0x2f7951=await(0x0,node_fetch_1[_0x29f122(0x194)])(_0x3942a7,{'method':_0x29f122(0x15d),'headers':{'User-Agent':_0x29f122(0x155),'Accept':_0x29f122(0x17a),'Accept-Language':_0x29f122(0x14a),'Accept-Encoding':_0x29f122(0x187),'Connection':_0x29f122(0x13c),'Upgrade-Insecure-Requests':'1'},'signal':_0x37f115['signal']});clearTimeout(_0x30019f);const _0x45940d=Date[_0x29f122(0x148)]()-_0x92b9a5;return console[_0x29f122(0x149)](_0x29f122(0x154)),console[_0x29f122(0x149)](_0x29f122(0x166)+_0x2f7951['status']+'\x20'+_0x2f7951[_0x29f122(0x14f)]),console[_0x29f122(0x149)](_0x29f122(0x192)+_0x45940d+'ms'),console[_0x29f122(0x149)](_0x29f122(0x175),Object[_0x29f122(0x16d)](_0x2f7951[_0x29f122(0x170)][_0x29f122(0x13b)]())),_0x2f7951['ok']&&_0x2f7951[_0x29f122(0x18d)]>=0xc8&&_0x2f7951['status']<0x190?(console[_0x29f122(0x149)](_0x29f122(0x147)+_0x2f7951[_0x29f122(0x18d)]+_0x29f122(0x159)+_0x45940d+'ms'),this[_0x29f122(0x190)]=0x0,!![]):(console[_0x29f122(0x172)](_0x29f122(0x16f)+_0x2f7951[_0x29f122(0x18d)]+'\x20'+_0x2f7951[_0x29f122(0x14f)]),this['consecutiveFailures']++,![]);}catch(_0x3f67ca){const _0x3de980=Date[_0x29f122(0x148)]()-_0x92b9a5;this[_0x29f122(0x190)]++,console['error']('❌\x20Domain\x20check\x20error\x20after\x20'+_0x3de980+_0x29f122(0x174),_0x3f67ca);if(_0x3f67ca instanceof Error){if(_0x3f67ca['name']===_0x29f122(0x156))console[_0x29f122(0x172)](_0x29f122(0x14b)+this[_0x29f122(0x141)]+'ms');else{if(_0x3f67ca[_0x29f122(0x145)]['includes']('ENOTFOUND'))console[_0x29f122(0x172)](_0x29f122(0x17d)+this[_0x29f122(0x18a)]);else{if(_0x3f67ca[_0x29f122(0x145)][_0x29f122(0x15b)](_0x29f122(0x180)))console[_0x29f122(0x172)]('🚫\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x3f67ca[_0x29f122(0x145)]['includes']('ETIMEDOUT')?console[_0x29f122(0x172)](_0x29f122(0x162)+this[_0x29f122(0x18a)]):console[_0x29f122(0x172)](_0x29f122(0x181)+_0x3f67ca[_0x29f122(0x145)]);}}}return![];}}[a39_0x4e0198(0x14c)](_0x3b1b7f){const _0x5a60e3=a39_0x4e0198;console[_0x5a60e3(0x172)](_0x5a60e3(0x13e)+_0x3b1b7f),console['error'](_0x5a60e3(0x15e)+this[_0x5a60e3(0x190)]),console[_0x5a60e3(0x172)](_0x5a60e3(0x16a)),console['error'](_0x5a60e3(0x167)+new Date()[_0x5a60e3(0x13a)]()),console[_0x5a60e3(0x172)](_0x5a60e3(0x153)+this['DOMAIN_URL']),console[_0x5a60e3(0x172)]('⏰\x20Check\x20interval:\x20'+Math[_0x5a60e3(0x18f)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5a60e3(0x177)),console[_0x5a60e3(0x172)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x5a60e3(0x18c)]),this[_0x5a60e3(0x15a)](),process[_0x5a60e3(0x152)](0x1);}['startMonitoring'](){const _0x341940=a39_0x4e0198;console[_0x341940(0x149)](_0x341940(0x183)),console[_0x341940(0x149)](_0x341940(0x179)+this[_0x341940(0x18a)]),console['log'](_0x341940(0x165)+Math['round'](this[_0x341940(0x16b)]/0x3e8/0x3c)+_0x341940(0x177)),console['log'](_0x341940(0x151)+this[_0x341940(0x18c)]),this[_0x341940(0x139)]()['then'](_0x98eae7=>{const _0x39906f=_0x341940;if(!_0x98eae7&&this[_0x39906f(0x190)]>=this[_0x39906f(0x18c)]){this[_0x39906f(0x14c)]('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+'\x20times');return;}})['catch'](_0x320c4e=>{const _0x4f624d=_0x341940;console[_0x4f624d(0x172)](_0x4f624d(0x18b),_0x320c4e);if(this[_0x4f624d(0x190)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x4f624d(0x14c)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x320c4e[_0x4f624d(0x145)]);return;}}),this[_0x341940(0x144)]=setInterval(async()=>{const _0x3c8962=_0x341940;try{const _0x857073=await this[_0x3c8962(0x139)]();!_0x857073&&(console[_0x3c8962(0x14e)](_0x3c8962(0x184)+this['consecutiveFailures']+'/'+this[_0x3c8962(0x18c)]+')'),this[_0x3c8962(0x190)]>=this[_0x3c8962(0x18c)]&&this[_0x3c8962(0x14c)]('Domain\x20'+this[_0x3c8962(0x18a)]+_0x3c8962(0x193)+this[_0x3c8962(0x190)]+_0x3c8962(0x178)));}catch(_0x5ddeab){console['error']('Periodic\x20domain\x20check\x20error:',_0x5ddeab),this[_0x3c8962(0x190)]>=this[_0x3c8962(0x18c)]&&this['crashServer'](_0x3c8962(0x150)+(_0x5ddeab instanceof Error?_0x5ddeab[_0x3c8962(0x145)]:_0x3c8962(0x17f)));}},this[_0x341940(0x16b)]),console['log'](_0x341940(0x14d));}[a39_0x4e0198(0x15a)](){const _0x59598e=a39_0x4e0198;this[_0x59598e(0x144)]&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console['log'](_0x59598e(0x16e)));}[a39_0x4e0198(0x182)](){const _0x1e1c05=a39_0x4e0198;return{'isActive':!!this[_0x1e1c05(0x144)],'targetDomain':this[_0x1e1c05(0x18a)],'checkIntervalMinutes':Math[_0x1e1c05(0x18f)](this[_0x1e1c05(0x16b)]/0x3e8/0x3c),'consecutiveFailures':this[_0x1e1c05(0x190)],'maxFailuresAllowed':this[_0x1e1c05(0x18c)],'nextCheckIn':this[_0x1e1c05(0x144)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x4e0198(0x191)](){const _0x3df2ea=a39_0x4e0198;return console[_0x3df2ea(0x149)](_0x3df2ea(0x195)),await this[_0x3df2ea(0x139)]();}}exports[a39_0x4e0198(0x188)]=DomainMonitoringService,exports[a39_0x4e0198(0x196)]=new DomainMonitoringService();