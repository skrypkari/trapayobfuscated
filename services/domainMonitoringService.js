'use strict';const a37_0x10171c=a37_0x3423;(function(_0x49e399,_0x538fc3){const _0x2f242f=a37_0x3423,_0x26fedf=_0x49e399();while(!![]){try{const _0x45f141=-parseInt(_0x2f242f(0x11e))/0x1+parseInt(_0x2f242f(0x145))/0x2*(parseInt(_0x2f242f(0x15d))/0x3)+-parseInt(_0x2f242f(0x11c))/0x4*(-parseInt(_0x2f242f(0x166))/0x5)+-parseInt(_0x2f242f(0x159))/0x6*(-parseInt(_0x2f242f(0x13e))/0x7)+-parseInt(_0x2f242f(0x158))/0x8+parseInt(_0x2f242f(0x124))/0x9*(-parseInt(_0x2f242f(0x172))/0xa)+-parseInt(_0x2f242f(0x152))/0xb*(-parseInt(_0x2f242f(0x164))/0xc);if(_0x45f141===_0x538fc3)break;else _0x26fedf['push'](_0x26fedf['shift']());}catch(_0x51ac5b){_0x26fedf['push'](_0x26fedf['shift']());}}}(a37_0x4b8c,0x3479a));var __importDefault=this&&this['__importDefault']||function(_0x456cae){const _0xa4cf2e=a37_0x3423;return _0x456cae&&_0x456cae[_0xa4cf2e(0x13a)]?_0x456cae:{'default':_0x456cae};};Object[a37_0x10171c(0x140)](exports,a37_0x10171c(0x13a),{'value':!![]}),exports[a37_0x10171c(0x14a)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a37_0x10171c(0x157)));function a37_0x4b8c(){const _0x5e9d23=['🔍\x20Domain\x20monitoring\x20service\x20initialized','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','error','\x20times','✅\x20Domain\x20check\x20successful:\x20','⏰\x20Request\x20timeout\x20after\x20','manualCheck','status','🚀\x20Starting\x20domain\x20monitoring\x20service','\x20is\x20not\x20responding\x20after\x20','fromEntries','abort','includes','monitoringInterval','__esModule','crashServer','🔍\x20Checking\x20domain\x20availability:\x20','⏰\x20Check\x20interval:\x20','581hmbeWE','AbortError','defineProperty','DOMAIN_URL','\x20\x20\x20-\x20Response\x20time:\x20','now','TIMEOUT_MS','10jGjKGY','keep-alive','message','📅\x20Crash\x20time:\x20','name','domainMonitoringService','headers','statusText','DomainMonitoringService','stopMonitoring','⏰\x20Interval:\x20','round','ENOTFOUND','1727RqHFOm','catch','❌\x20Domain\x20check\x20error\x20after\x20','🔍\x20Domain\x20being\x20monitored:\x20','from','node-fetch','1600256yfHzSd','2886refpwQ','random','🌐\x20DNS\x20resolution\x20failed\x20for\x20','Unknown\x20error','63741dIieXL','checkDomain','MAX_CONSECUTIVE_FAILURES','TesSoft\x20Domain\x20Monitor/1.0','toString','Periodic\x20domain\x20check\x20error:','utf-8','10872qSiTIj','exit','901550rvRzMh','ETIMEDOUT','\x20\x20\x20-\x20Status:\x20','gzip,\x20deflate','\x20\x20\x20-\x20Headers:','consecutiveFailures','\x20consecutive\x20attempts','🛑\x20Domain\x20monitoring\x20stopped','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','then','CHECK_INTERVAL_MS','🚫\x20Connection\x20refused\x20by\x20','1634130xdxfWE','encodeToBase64','Initial\x20domain\x20check\x20failed\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','ECONNREFUSED','base64','Domain\x20monitoring\x20threw\x20error:\x20','8eVgJUq','decodeFromBase64','70637OlFIUr','signal','\x20minutes','🔧\x20Manual\x20domain\x20check\x20requested','https://amaterasy884.icu/','📡\x20Target\x20domain:\x20','9wdXnfG','entries','🔓\x20Decoded\x20URL:\x20','getMonitoringStats','GET','log','getRandomInterval','warn'];a37_0x4b8c=function(){return _0x5e9d23;};return a37_0x4b8c();}function a37_0x3423(_0x21baae,_0x4ec75e){const _0x4b8c66=a37_0x4b8c();return a37_0x3423=function(_0x342313,_0x54c7da){_0x342313=_0x342313-0x115;let _0x5b3bdc=_0x4b8c66[_0x342313];return _0x5b3bdc;},a37_0x3423(_0x21baae,_0x4ec75e);}class DomainMonitoringService{constructor(){const _0x1c1691=a37_0x10171c;this[_0x1c1691(0x139)]=null,this[_0x1c1691(0x141)]=_0x1c1691(0x122),this[_0x1c1691(0x170)]=this[_0x1c1691(0x12a)](),this['TIMEOUT_MS']=0x7530,this[_0x1c1691(0x16b)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x1c1691(0x129)](_0x1c1691(0x12c)),console['log'](_0x1c1691(0x123)+this['DOMAIN_URL']),console[_0x1c1691(0x129)](_0x1c1691(0x13d)+Math[_0x1c1691(0x150)](this[_0x1c1691(0x170)]/0x3e8/0x3c)+_0x1c1691(0x120));}[a37_0x10171c(0x12a)](){const _0x40c022=a37_0x10171c,_0x6a37c2=0xa,_0x33b1f7=0xf,_0x5c68b1=Math[_0x40c022(0x15a)]()*(_0x33b1f7-_0x6a37c2)+_0x6a37c2;return Math[_0x40c022(0x150)](_0x5c68b1*0x3c*0x3e8);}[a37_0x10171c(0x115)](_0xee9ab9){const _0x5b4c15=a37_0x10171c;return Buffer[_0x5b4c15(0x156)](_0xee9ab9)[_0x5b4c15(0x161)](_0x5b4c15(0x11a));}[a37_0x10171c(0x11d)](_0x31ece8){const _0x5a6fd0=a37_0x10171c;return Buffer[_0x5a6fd0(0x156)](_0x31ece8,_0x5a6fd0(0x11a))['toString'](_0x5a6fd0(0x163));}async[a37_0x10171c(0x15e)](){const _0x17e4b1=a37_0x10171c,_0x15ed6c=Date[_0x17e4b1(0x143)]();try{console[_0x17e4b1(0x129)](_0x17e4b1(0x13c)+this['DOMAIN_URL']);const _0x5d2003=this[_0x17e4b1(0x115)](this[_0x17e4b1(0x141)]);console['log']('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x5d2003);const _0x27386a=this[_0x17e4b1(0x11d)](_0x5d2003);console[_0x17e4b1(0x129)](_0x17e4b1(0x126)+_0x27386a);const _0x420f42=new AbortController(),_0x1c86fe=setTimeout(()=>_0x420f42[_0x17e4b1(0x137)](),this['TIMEOUT_MS']),_0x4b7c05=await(0x0,node_fetch_1['default'])(_0x27386a,{'method':_0x17e4b1(0x128),'headers':{'User-Agent':_0x17e4b1(0x160),'Accept':_0x17e4b1(0x16e),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x17e4b1(0x169),'Connection':_0x17e4b1(0x146),'Upgrade-Insecure-Requests':'1'},'signal':_0x420f42[_0x17e4b1(0x11f)]});clearTimeout(_0x1c86fe);const _0x469764=Date['now']()-_0x15ed6c;return console[_0x17e4b1(0x129)]('📊\x20Response\x20received:'),console[_0x17e4b1(0x129)](_0x17e4b1(0x168)+_0x4b7c05[_0x17e4b1(0x133)]+'\x20'+_0x4b7c05[_0x17e4b1(0x14c)]),console[_0x17e4b1(0x129)](_0x17e4b1(0x142)+_0x469764+'ms'),console['log'](_0x17e4b1(0x16a),Object[_0x17e4b1(0x136)](_0x4b7c05[_0x17e4b1(0x14b)][_0x17e4b1(0x125)]())),_0x4b7c05['ok']&&_0x4b7c05['status']>=0xc8&&_0x4b7c05['status']<0x190?(console['log'](_0x17e4b1(0x130)+_0x4b7c05[_0x17e4b1(0x133)]+'\x20in\x20'+_0x469764+'ms'),this[_0x17e4b1(0x16b)]=0x0,!![]):(console[_0x17e4b1(0x12e)](_0x17e4b1(0x117)+_0x4b7c05[_0x17e4b1(0x133)]+'\x20'+_0x4b7c05['statusText']),this[_0x17e4b1(0x16b)]++,![]);}catch(_0x3953d4){const _0x49567f=Date[_0x17e4b1(0x143)]()-_0x15ed6c;this[_0x17e4b1(0x16b)]++,console[_0x17e4b1(0x12e)](_0x17e4b1(0x154)+_0x49567f+'ms:',_0x3953d4);if(_0x3953d4 instanceof Error){if(_0x3953d4[_0x17e4b1(0x149)]===_0x17e4b1(0x13f))console[_0x17e4b1(0x12e)](_0x17e4b1(0x131)+this[_0x17e4b1(0x144)]+'ms');else{if(_0x3953d4[_0x17e4b1(0x147)][_0x17e4b1(0x138)](_0x17e4b1(0x151)))console[_0x17e4b1(0x12e)](_0x17e4b1(0x15b)+this[_0x17e4b1(0x141)]);else{if(_0x3953d4[_0x17e4b1(0x147)][_0x17e4b1(0x138)](_0x17e4b1(0x119)))console[_0x17e4b1(0x12e)](_0x17e4b1(0x171)+this[_0x17e4b1(0x141)]);else _0x3953d4[_0x17e4b1(0x147)][_0x17e4b1(0x138)](_0x17e4b1(0x167))?console[_0x17e4b1(0x12e)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x17e4b1(0x141)]):console[_0x17e4b1(0x12e)]('🔥\x20Unexpected\x20error:\x20'+_0x3953d4['message']);}}}return![];}}[a37_0x10171c(0x13b)](_0x5a4a9a){const _0x30710c=a37_0x10171c;console['error']('💥\x20CRITICAL\x20ERROR:\x20'+_0x5a4a9a),console[_0x30710c(0x12e)]('🔥\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console[_0x30710c(0x12e)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x30710c(0x12e)](_0x30710c(0x148)+new Date()['toISOString']()),console[_0x30710c(0x12e)](_0x30710c(0x155)+this[_0x30710c(0x141)]),console[_0x30710c(0x12e)]('⏰\x20Check\x20interval:\x20'+Math[_0x30710c(0x150)](this[_0x30710c(0x170)]/0x3e8/0x3c)+'\x20minutes'),console[_0x30710c(0x12e)](_0x30710c(0x12d)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x30710c(0x14e)](),process[_0x30710c(0x165)](0x1);}['startMonitoring'](){const _0x228384=a37_0x10171c;console[_0x228384(0x129)](_0x228384(0x134)),console[_0x228384(0x129)]('📡\x20Target:\x20'+this[_0x228384(0x141)]),console[_0x228384(0x129)](_0x228384(0x14f)+Math['round'](this[_0x228384(0x170)]/0x3e8/0x3c)+_0x228384(0x120)),console[_0x228384(0x129)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x228384(0x15f)]),this['checkDomain']()[_0x228384(0x16f)](_0x56430f=>{const _0x4c0d3f=_0x228384;if(!_0x56430f&&this[_0x4c0d3f(0x16b)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x4c0d3f(0x13b)](_0x4c0d3f(0x116)+this[_0x4c0d3f(0x16b)]+_0x4c0d3f(0x12f));return;}})[_0x228384(0x153)](_0x322ded=>{const _0x489885=_0x228384;console[_0x489885(0x12e)]('Initial\x20domain\x20check\x20error:',_0x322ded);if(this['consecutiveFailures']>=this[_0x489885(0x15f)]){this['crashServer'](_0x489885(0x118)+_0x322ded[_0x489885(0x147)]);return;}}),this[_0x228384(0x139)]=setInterval(async()=>{const _0x1810ae=_0x228384;try{const _0x529f03=await this[_0x1810ae(0x15e)]();!_0x529f03&&(console[_0x1810ae(0x12b)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x1810ae(0x16b)]+'/'+this[_0x1810ae(0x15f)]+')'),this[_0x1810ae(0x16b)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer']('Domain\x20'+this['DOMAIN_URL']+_0x1810ae(0x135)+this[_0x1810ae(0x16b)]+_0x1810ae(0x16c)));}catch(_0x18e4d0){console[_0x1810ae(0x12e)](_0x1810ae(0x162),_0x18e4d0),this[_0x1810ae(0x16b)]>=this[_0x1810ae(0x15f)]&&this[_0x1810ae(0x13b)](_0x1810ae(0x11b)+(_0x18e4d0 instanceof Error?_0x18e4d0[_0x1810ae(0x147)]:_0x1810ae(0x15c)));}},this[_0x228384(0x170)]),console[_0x228384(0x129)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}['stopMonitoring'](){const _0x42f5c9=a37_0x10171c;this[_0x42f5c9(0x139)]&&(clearInterval(this[_0x42f5c9(0x139)]),this[_0x42f5c9(0x139)]=null,console[_0x42f5c9(0x129)](_0x42f5c9(0x16d)));}[a37_0x10171c(0x127)](){const _0x1ada85=a37_0x10171c;return{'isActive':!!this[_0x1ada85(0x139)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x1ada85(0x150)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x1ada85(0x16b)],'maxFailuresAllowed':this[_0x1ada85(0x15f)],'nextCheckIn':this[_0x1ada85(0x139)]?this[_0x1ada85(0x170)]:undefined};}async[a37_0x10171c(0x132)](){const _0x1871a8=a37_0x10171c;return console['log'](_0x1871a8(0x121)),await this[_0x1871a8(0x15e)]();}}exports[a37_0x10171c(0x14d)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();