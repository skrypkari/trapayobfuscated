'use strict';const a50_0x3d3bb6=a50_0x29a6;(function(_0x2f9693,_0x336089){const _0x2cb525=a50_0x29a6,_0x5957cd=_0x2f9693();while(!![]){try{const _0x4bd2ce=-parseInt(_0x2cb525(0xe0))/0x1+-parseInt(_0x2cb525(0x126))/0x2*(parseInt(_0x2cb525(0xf6))/0x3)+-parseInt(_0x2cb525(0xfc))/0x4*(parseInt(_0x2cb525(0x121))/0x5)+-parseInt(_0x2cb525(0xfa))/0x6+-parseInt(_0x2cb525(0x104))/0x7*(parseInt(_0x2cb525(0xfd))/0x8)+-parseInt(_0x2cb525(0x12f))/0x9+parseInt(_0x2cb525(0x112))/0xa;if(_0x4bd2ce===_0x336089)break;else _0x5957cd['push'](_0x5957cd['shift']());}catch(_0x5847e4){_0x5957cd['push'](_0x5957cd['shift']());}}}(a50_0x3d37,0xd2be4));var __importDefault=this&&this['__importDefault']||function(_0x9a21b7){const _0x515421=a50_0x29a6;return _0x9a21b7&&_0x9a21b7[_0x515421(0x122)]?_0x9a21b7:{'default':_0x9a21b7};};Object[a50_0x3d3bb6(0x109)](exports,a50_0x3d3bb6(0x122),{'value':!![]}),exports['domainMonitoringService']=exports[a50_0x3d3bb6(0xf2)]=void 0x0;const node_fetch_1=__importDefault(require(a50_0x3d3bb6(0x127)));function a50_0x3d37(){const _0x11bd7f=['ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','CHECK_INTERVAL_MS','now','8684505ODIiIQ','Domain\x20','ðŸš«\x20Connection\x20refused\x20by\x20','utf-8','manualCheck','checkDomain','encodeToBase64','statusText','domainMonitoringService','signal','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','catch','from','name','GET','1320441pqFheH','ðŸ”“\x20Decoded\x20URL:\x20','â°\x20Interval:\x20','Unknown\x20error','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','ECONNREFUSED','consecutiveFailures','â°\x20Request\x20timeout\x20after\x20','ðŸ“¡\x20Target:\x20','headers','abort','âš ï¸\x20Domain\x20check\x20failed\x20(','ðŸ›‘\x20Domain\x20monitoring\x20stopped','DOMAIN_URL','includes','getRandomInterval','crashServer','base64','DomainMonitoringService','\x20minutes','\x20times','monitoringInterval','150dZovsM','warn','Initial\x20domain\x20check\x20failed\x20','startMonitoring','4834302MUbyYJ','default','8SarqTY','288otxVdv','decodeFromBase64','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','â°\x20Check\x20interval:\x20','\x20in\x20','ðŸ”\x20Domain\x20being\x20monitored:\x20','Periodic\x20domain\x20check\x20error:','214333nqJefL','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','\x20consecutive\x20attempts','Initial\x20domain\x20check\x20threw\x20error:\x20','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','defineProperty','â°\x20Connection\x20timeout\x20to\x20','error','getMonitoringStats','MAX_CONSECUTIVE_FAILURES','log','ðŸ”¥\x20Unexpected\x20error:\x20','entries','AbortError','74899850jsraFV','toString','Initial\x20domain\x20check\x20error:','âœ…\x20Domain\x20monitoring\x20started\x20successfully','message','ðŸ“…\x20Crash\x20time:\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','keep-alive','ms:','ETIMEDOUT','gzip,\x20deflate','toISOString','exit','TIMEOUT_MS','round','2436860BaJdbk','__esModule','random','âœ…\x20Domain\x20check\x20successful:\x20','en-US,en;q=0.5','58346CyIbWI','node-fetch','stopMonitoring','status','\x20\x20\x20-\x20Status:\x20','\x20\x20\x20-\x20Headers:'];a50_0x3d37=function(){return _0x11bd7f;};return a50_0x3d37();}class DomainMonitoringService{constructor(){const _0x3b3bf2=a50_0x3d3bb6;this[_0x3b3bf2(0xf5)]=null,this[_0x3b3bf2(0xed)]='https://google.com',this['CHECK_INTERVAL_MS']=this[_0x3b3bf2(0xef)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x3b3bf2(0x10d)]=0x2,console[_0x3b3bf2(0x10e)](_0x3b3bf2(0x12c)),console[_0x3b3bf2(0x10e)]('ðŸ“¡\x20Target\x20domain:\x20'+this[_0x3b3bf2(0xed)]),console[_0x3b3bf2(0x10e)](_0x3b3bf2(0x100)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x3b3bf2(0xf3));}['getRandomInterval'](){const _0x4c6e77=a50_0x3d3bb6,_0x3e5b4b=0xa,_0x57ef34=0xf,_0x4fdae3=Math[_0x4c6e77(0x123)]()*(_0x57ef34-_0x3e5b4b)+_0x3e5b4b;return Math['round'](_0x4fdae3*0x3c*0x3e8);}[a50_0x3d3bb6(0x135)](_0x33d968){const _0x1d9958=a50_0x3d3bb6;return Buffer[_0x1d9958(0xdd)](_0x33d968)['toString'](_0x1d9958(0xf1));}['decodeFromBase64'](_0x321cd6){const _0x293121=a50_0x3d3bb6;return Buffer[_0x293121(0xdd)](_0x321cd6,_0x293121(0xf1))[_0x293121(0x113)](_0x293121(0x132));}async[a50_0x3d3bb6(0x134)](){const _0x4dc01e=a50_0x3d3bb6,_0x361d59=Date[_0x4dc01e(0x12e)]();try{console[_0x4dc01e(0x10e)]('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this[_0x4dc01e(0xed)]);const _0x5a36e1=this['encodeToBase64'](this[_0x4dc01e(0xed)]);console[_0x4dc01e(0x10e)](_0x4dc01e(0xe4)+_0x5a36e1);const _0x341f5a=this[_0x4dc01e(0xfe)](_0x5a36e1);console[_0x4dc01e(0x10e)](_0x4dc01e(0xe1)+_0x341f5a);const _0x481552=new AbortController(),_0xc9f8bd=setTimeout(()=>_0x481552[_0x4dc01e(0xea)](),this[_0x4dc01e(0x11f)]),_0x2b4329=await(0x0,node_fetch_1[_0x4dc01e(0xfb)])(_0x341f5a,{'method':_0x4dc01e(0xdf),'headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':_0x4dc01e(0xff),'Accept-Language':_0x4dc01e(0x125),'Accept-Encoding':_0x4dc01e(0x11c),'Connection':_0x4dc01e(0x119),'Upgrade-Insecure-Requests':'1'},'signal':_0x481552[_0x4dc01e(0xda)]});clearTimeout(_0xc9f8bd);const _0x280475=Date['now']()-_0x361d59;return console[_0x4dc01e(0x10e)]('ðŸ“Š\x20Response\x20received:'),console[_0x4dc01e(0x10e)](_0x4dc01e(0x12a)+_0x2b4329['status']+'\x20'+_0x2b4329[_0x4dc01e(0x136)]),console[_0x4dc01e(0x10e)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x280475+'ms'),console[_0x4dc01e(0x10e)](_0x4dc01e(0x12b),Object['fromEntries'](_0x2b4329[_0x4dc01e(0xe9)][_0x4dc01e(0x110)]())),_0x2b4329['ok']&&_0x2b4329['status']>=0xc8&&_0x2b4329[_0x4dc01e(0x129)]<0x190?(console[_0x4dc01e(0x10e)](_0x4dc01e(0x124)+_0x2b4329[_0x4dc01e(0x129)]+_0x4dc01e(0x101)+_0x280475+'ms'),this[_0x4dc01e(0xe6)]=0x0,!![]):(console[_0x4dc01e(0x10b)]('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x2b4329[_0x4dc01e(0x129)]+'\x20'+_0x2b4329['statusText']),this[_0x4dc01e(0xe6)]++,![]);}catch(_0x590bd7){const _0x46ed96=Date[_0x4dc01e(0x12e)]()-_0x361d59;this['consecutiveFailures']++,console[_0x4dc01e(0x10b)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x46ed96+_0x4dc01e(0x11a),_0x590bd7);if(_0x590bd7 instanceof Error){if(_0x590bd7[_0x4dc01e(0xde)]===_0x4dc01e(0x111))console['error'](_0x4dc01e(0xe7)+this[_0x4dc01e(0x11f)]+'ms');else{if(_0x590bd7[_0x4dc01e(0x116)]['includes']('ENOTFOUND'))console[_0x4dc01e(0x10b)](_0x4dc01e(0x108)+this['DOMAIN_URL']);else{if(_0x590bd7[_0x4dc01e(0x116)]['includes'](_0x4dc01e(0xe5)))console[_0x4dc01e(0x10b)](_0x4dc01e(0x131)+this['DOMAIN_URL']);else _0x590bd7[_0x4dc01e(0x116)][_0x4dc01e(0xee)](_0x4dc01e(0x11b))?console[_0x4dc01e(0x10b)](_0x4dc01e(0x10a)+this[_0x4dc01e(0xed)]):console[_0x4dc01e(0x10b)](_0x4dc01e(0x10f)+_0x590bd7[_0x4dc01e(0x116)]);}}}return![];}}['crashServer'](_0x14c9ea){const _0x4cfd0e=a50_0x3d3bb6;console[_0x4cfd0e(0x10b)]('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x14c9ea),console['error']('ðŸ”¥\x20Consecutive\x20failures:\x20'+this[_0x4cfd0e(0xe6)]),console[_0x4cfd0e(0x10b)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x4cfd0e(0x117)+new Date()[_0x4cfd0e(0x11d)]()),console['error'](_0x4cfd0e(0x102)+this['DOMAIN_URL']),console[_0x4cfd0e(0x10b)](_0x4cfd0e(0x100)+Math['round'](this[_0x4cfd0e(0x12d)]/0x3e8/0x3c)+_0x4cfd0e(0xf3)),console['error'](_0x4cfd0e(0x105)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x4cfd0e(0x128)](),process[_0x4cfd0e(0x11e)](0x1);}[a50_0x3d3bb6(0xf9)](){const _0x2f9d72=a50_0x3d3bb6;console[_0x2f9d72(0x10e)](_0x2f9d72(0xdb)),console[_0x2f9d72(0x10e)](_0x2f9d72(0xe8)+this[_0x2f9d72(0xed)]),console['log'](_0x2f9d72(0xe2)+Math['round'](this[_0x2f9d72(0x12d)]/0x3e8/0x3c)+'\x20minutes'),console[_0x2f9d72(0x10e)]('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x2f9d72(0x10d)]),this['checkDomain']()['then'](_0x18d0d6=>{const _0x4af573=_0x2f9d72;if(!_0x18d0d6&&this[_0x4af573(0xe6)]>=this[_0x4af573(0x10d)]){this[_0x4af573(0xf0)](_0x4af573(0xf8)+this[_0x4af573(0xe6)]+_0x4af573(0xf4));return;}})[_0x2f9d72(0xdc)](_0x332aed=>{const _0x1356d4=_0x2f9d72;console[_0x1356d4(0x10b)](_0x1356d4(0x114),_0x332aed);if(this['consecutiveFailures']>=this[_0x1356d4(0x10d)]){this[_0x1356d4(0xf0)](_0x1356d4(0x107)+_0x332aed[_0x1356d4(0x116)]);return;}}),this[_0x2f9d72(0xf5)]=setInterval(async()=>{const _0x2c1aef=_0x2f9d72;try{const _0x2da8de=await this[_0x2c1aef(0x134)]();!_0x2da8de&&(console[_0x2c1aef(0xf7)](_0x2c1aef(0xeb)+this[_0x2c1aef(0xe6)]+'/'+this[_0x2c1aef(0x10d)]+')'),this[_0x2c1aef(0xe6)]>=this[_0x2c1aef(0x10d)]&&this[_0x2c1aef(0xf0)](_0x2c1aef(0x130)+this[_0x2c1aef(0xed)]+'\x20is\x20not\x20responding\x20after\x20'+this['consecutiveFailures']+_0x2c1aef(0x106)));}catch(_0x5457f8){console[_0x2c1aef(0x10b)](_0x2c1aef(0x103),_0x5457f8),this[_0x2c1aef(0xe6)]>=this[_0x2c1aef(0x10d)]&&this[_0x2c1aef(0xf0)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x5457f8 instanceof Error?_0x5457f8[_0x2c1aef(0x116)]:_0x2c1aef(0xe3)));}},this[_0x2f9d72(0x12d)]),console[_0x2f9d72(0x10e)](_0x2f9d72(0x115));}[a50_0x3d3bb6(0x128)](){const _0x415df0=a50_0x3d3bb6;this[_0x415df0(0xf5)]&&(clearInterval(this[_0x415df0(0xf5)]),this['monitoringInterval']=null,console[_0x415df0(0x10e)](_0x415df0(0xec)));}[a50_0x3d3bb6(0x10c)](){const _0x399db8=a50_0x3d3bb6;return{'isActive':!!this[_0x399db8(0xf5)],'targetDomain':this[_0x399db8(0xed)],'checkIntervalMinutes':Math[_0x399db8(0x120)](this[_0x399db8(0x12d)]/0x3e8/0x3c),'consecutiveFailures':this[_0x399db8(0xe6)],'maxFailuresAllowed':this[_0x399db8(0x10d)],'nextCheckIn':this[_0x399db8(0xf5)]?this[_0x399db8(0x12d)]:undefined};}async[a50_0x3d3bb6(0x133)](){const _0x1eec01=a50_0x3d3bb6;return console['log'](_0x1eec01(0x118)),await this[_0x1eec01(0x134)]();}}function a50_0x29a6(_0x2d97c4,_0x3f220c){_0x2d97c4=_0x2d97c4-0xda;const _0x3d3752=a50_0x3d37();let _0x29a69f=_0x3d3752[_0x2d97c4];return _0x29a69f;}exports[a50_0x3d3bb6(0xf2)]=DomainMonitoringService,exports[a50_0x3d3bb6(0x137)]=new DomainMonitoringService();