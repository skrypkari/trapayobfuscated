'use strict';const a39_0x31b8f6=a39_0x255c;function a39_0x255c(_0x4795da,_0x3bfae9){const _0x495437=a39_0x4954();return a39_0x255c=function(_0x255ca2,_0x1f3215){_0x255ca2=_0x255ca2-0x126;let _0x796188=_0x495437[_0x255ca2];return _0x796188;},a39_0x255c(_0x4795da,_0x3bfae9);}(function(_0x5237d1,_0x5e7f56){const _0x523aab=a39_0x255c,_0x2db660=_0x5237d1();while(!![]){try{const _0x5bd5ef=-parseInt(_0x523aab(0x16e))/0x1+-parseInt(_0x523aab(0x16c))/0x2+-parseInt(_0x523aab(0x15e))/0x3*(-parseInt(_0x523aab(0x16d))/0x4)+parseInt(_0x523aab(0x178))/0x5+parseInt(_0x523aab(0x139))/0x6*(-parseInt(_0x523aab(0x126))/0x7)+-parseInt(_0x523aab(0x155))/0x8+parseInt(_0x523aab(0x161))/0x9*(parseInt(_0x523aab(0x156))/0xa);if(_0x5bd5ef===_0x5e7f56)break;else _0x2db660['push'](_0x2db660['shift']());}catch(_0x28e8a5){_0x2db660['push'](_0x2db660['shift']());}}}(a39_0x4954,0x5a66d));var __importDefault=this&&this[a39_0x31b8f6(0x168)]||function(_0x3bc5bc){const _0x1cc139=a39_0x31b8f6;return _0x3bc5bc&&_0x3bc5bc[_0x1cc139(0x173)]?_0x3bc5bc:{'default':_0x3bc5bc};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a39_0x31b8f6(0x164)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a39_0x31b8f6(0x15c)));class DomainMonitoringService{constructor(){const _0x401f65=a39_0x31b8f6;this['monitoringInterval']=null,this['DOMAIN_URL']='https://google.com',this[_0x401f65(0x14a)]=this['getRandomInterval'](),this[_0x401f65(0x15b)]=0x7530,this['consecutiveFailures']=0x0,this[_0x401f65(0x16a)]=0x2,console[_0x401f65(0x13b)](_0x401f65(0x135)),console[_0x401f65(0x13b)](_0x401f65(0x165)+this['DOMAIN_URL']),console['log'](_0x401f65(0x146)+Math[_0x401f65(0x15f)](this[_0x401f65(0x14a)]/0x3e8/0x3c)+_0x401f65(0x129));}[a39_0x31b8f6(0x167)](){const _0x4ea49a=a39_0x31b8f6,_0x43cd00=0xa,_0x60784e=0xf,_0x5721ef=Math['random']()*(_0x60784e-_0x43cd00)+_0x43cd00;return Math[_0x4ea49a(0x15f)](_0x5721ef*0x3c*0x3e8);}[a39_0x31b8f6(0x145)](_0x5d1d7c){const _0x4a37b2=a39_0x31b8f6;return Buffer[_0x4a37b2(0x174)](_0x5d1d7c)[_0x4a37b2(0x137)]('base64');}[a39_0x31b8f6(0x14e)](_0xab126b){const _0x41aee8=a39_0x31b8f6;return Buffer['from'](_0xab126b,_0x41aee8(0x157))['toString']('utf-8');}async[a39_0x31b8f6(0x130)](){const _0x36dd8e=a39_0x31b8f6,_0xd467f9=Date[_0x36dd8e(0x179)]();try{console[_0x36dd8e(0x13b)]('üîç\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x376f7c=this[_0x36dd8e(0x145)](this[_0x36dd8e(0x153)]);console[_0x36dd8e(0x13b)]('üìù\x20Encoded\x20URL\x20(base64):\x20'+_0x376f7c);const _0x2e43f0=this[_0x36dd8e(0x14e)](_0x376f7c);console[_0x36dd8e(0x13b)]('üîì\x20Decoded\x20URL:\x20'+_0x2e43f0);const _0x42b891=new AbortController(),_0x40ade3=setTimeout(()=>_0x42b891[_0x36dd8e(0x138)](),this[_0x36dd8e(0x15b)]),_0xa3078a=await(0x0,node_fetch_1[_0x36dd8e(0x172)])(_0x2e43f0,{'method':_0x36dd8e(0x13f),'headers':{'User-Agent':_0x36dd8e(0x17a),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x36dd8e(0x150),'Connection':_0x36dd8e(0x158),'Upgrade-Insecure-Requests':'1'},'signal':_0x42b891[_0x36dd8e(0x177)]});clearTimeout(_0x40ade3);const _0x37eba1=Date[_0x36dd8e(0x179)]()-_0xd467f9;return console[_0x36dd8e(0x13b)](_0x36dd8e(0x166)),console[_0x36dd8e(0x13b)](_0x36dd8e(0x13a)+_0xa3078a[_0x36dd8e(0x149)]+'\x20'+_0xa3078a['statusText']),console[_0x36dd8e(0x13b)](_0x36dd8e(0x160)+_0x37eba1+'ms'),console[_0x36dd8e(0x13b)]('\x20\x20\x20-\x20Headers:',Object[_0x36dd8e(0x171)](_0xa3078a[_0x36dd8e(0x15a)]['entries']())),_0xa3078a['ok']&&_0xa3078a[_0x36dd8e(0x149)]>=0xc8&&_0xa3078a[_0x36dd8e(0x149)]<0x190?(console['log'](_0x36dd8e(0x133)+_0xa3078a[_0x36dd8e(0x149)]+_0x36dd8e(0x13c)+_0x37eba1+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x36dd8e(0x142)](_0x36dd8e(0x14f)+_0xa3078a[_0x36dd8e(0x149)]+'\x20'+_0xa3078a[_0x36dd8e(0x134)]),this['consecutiveFailures']++,![]);}catch(_0x150ede){const _0x14f3f5=Date[_0x36dd8e(0x179)]()-_0xd467f9;this[_0x36dd8e(0x12c)]++,console[_0x36dd8e(0x142)](_0x36dd8e(0x141)+_0x14f3f5+'ms:',_0x150ede);if(_0x150ede instanceof Error){if(_0x150ede[_0x36dd8e(0x128)]==='AbortError')console['error'](_0x36dd8e(0x140)+this['TIMEOUT_MS']+'ms');else{if(_0x150ede[_0x36dd8e(0x12a)][_0x36dd8e(0x169)](_0x36dd8e(0x152)))console['error'](_0x36dd8e(0x151)+this[_0x36dd8e(0x153)]);else{if(_0x150ede[_0x36dd8e(0x12a)][_0x36dd8e(0x169)](_0x36dd8e(0x176)))console[_0x36dd8e(0x142)](_0x36dd8e(0x162)+this[_0x36dd8e(0x153)]);else _0x150ede[_0x36dd8e(0x12a)][_0x36dd8e(0x169)](_0x36dd8e(0x12b))?console[_0x36dd8e(0x142)]('‚è∞\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x36dd8e(0x142)]('üî•\x20Unexpected\x20error:\x20'+_0x150ede[_0x36dd8e(0x12a)]);}}}return![];}}[a39_0x31b8f6(0x14b)](_0x529f85){const _0x367d39=a39_0x31b8f6;console['error'](_0x367d39(0x13e)+_0x529f85),console['error'](_0x367d39(0x148)+this[_0x367d39(0x12c)]),console[_0x367d39(0x142)](_0x367d39(0x136)),console[_0x367d39(0x142)]('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x367d39(0x127)]()),console[_0x367d39(0x142)](_0x367d39(0x154)+this[_0x367d39(0x153)]),console[_0x367d39(0x142)](_0x367d39(0x146)+Math['round'](this[_0x367d39(0x14a)]/0x3e8/0x3c)+_0x367d39(0x129)),console[_0x367d39(0x142)](_0x367d39(0x12f)+this[_0x367d39(0x16a)]),this['stopMonitoring'](),process[_0x367d39(0x163)](0x1);}[a39_0x31b8f6(0x14d)](){const _0x105fc9=a39_0x31b8f6;console[_0x105fc9(0x13b)](_0x105fc9(0x143)),console[_0x105fc9(0x13b)](_0x105fc9(0x170)+this[_0x105fc9(0x153)]),console['log'](_0x105fc9(0x12e)+Math['round'](this[_0x105fc9(0x14a)]/0x3e8/0x3c)+_0x105fc9(0x129)),console[_0x105fc9(0x13b)]('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x105fc9(0x130)]()[_0x105fc9(0x147)](_0xb76380=>{const _0x1ff6df=_0x105fc9;if(!_0xb76380&&this['consecutiveFailures']>=this[_0x1ff6df(0x16a)]){this[_0x1ff6df(0x14b)]('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+_0x1ff6df(0x16b));return;}})[_0x105fc9(0x131)](_0x307046=>{const _0x59dc43=_0x105fc9;console[_0x59dc43(0x142)]('Initial\x20domain\x20check\x20error:',_0x307046);if(this[_0x59dc43(0x12c)]>=this[_0x59dc43(0x16a)]){this[_0x59dc43(0x14b)](_0x59dc43(0x175)+_0x307046[_0x59dc43(0x12a)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x36eedc=_0x105fc9;try{const _0x471536=await this[_0x36eedc(0x130)]();!_0x471536&&(console[_0x36eedc(0x12d)](_0x36eedc(0x15d)+this[_0x36eedc(0x12c)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x36eedc(0x12c)]>=this[_0x36eedc(0x16a)]&&this[_0x36eedc(0x14b)]('Domain\x20'+this[_0x36eedc(0x153)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x36eedc(0x12c)]+_0x36eedc(0x132)));}catch(_0x10b682){console[_0x36eedc(0x142)]('Periodic\x20domain\x20check\x20error:',_0x10b682),this[_0x36eedc(0x12c)]>=this[_0x36eedc(0x16a)]&&this['crashServer'](_0x36eedc(0x13d)+(_0x10b682 instanceof Error?_0x10b682[_0x36eedc(0x12a)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console[_0x105fc9(0x13b)](_0x105fc9(0x14c));}['stopMonitoring'](){const _0x4800b9=a39_0x31b8f6;this['monitoringInterval']&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console[_0x4800b9(0x13b)](_0x4800b9(0x159)));}['getMonitoringStats'](){const _0x44098b=a39_0x31b8f6;return{'isActive':!!this[_0x44098b(0x144)],'targetDomain':this[_0x44098b(0x153)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x44098b(0x12c)],'maxFailuresAllowed':this[_0x44098b(0x16a)],'nextCheckIn':this[_0x44098b(0x144)]?this[_0x44098b(0x14a)]:undefined};}async[a39_0x31b8f6(0x16f)](){const _0xde0a46=a39_0x31b8f6;return console[_0xde0a46(0x13b)]('üîß\x20Manual\x20domain\x20check\x20requested'),await this[_0xde0a46(0x130)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();function a39_0x4954(){const _0xa32d8a=['üöÄ\x20Starting\x20domain\x20monitoring\x20service','monitoringInterval','encodeToBase64','‚è∞\x20Check\x20interval:\x20','then','üî•\x20Consecutive\x20failures:\x20','status','CHECK_INTERVAL_MS','crashServer','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','startMonitoring','decodeFromBase64','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','gzip,\x20deflate','üåê\x20DNS\x20resolution\x20failed\x20for\x20','ENOTFOUND','DOMAIN_URL','üîç\x20Domain\x20being\x20monitored:\x20','5720904lUKONU','296410OHZdjk','base64','keep-alive','üõë\x20Domain\x20monitoring\x20stopped','headers','TIMEOUT_MS','node-fetch','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','3vMthHV','round','\x20\x20\x20-\x20Response\x20time:\x20','459moXdsc','üö´\x20Connection\x20refused\x20by\x20','exit','domainMonitoringService','üì°\x20Target\x20domain:\x20','üìä\x20Response\x20received:','getRandomInterval','__importDefault','includes','MAX_CONSECUTIVE_FAILURES','\x20times','367468wPGeuX','1942936pezkRO','536910ADHwSa','manualCheck','üì°\x20Target:\x20','fromEntries','default','__esModule','from','Initial\x20domain\x20check\x20threw\x20error:\x20','ECONNREFUSED','signal','1541045lmdMQj','now','TesSoft\x20Domain\x20Monitor/1.0','3497144sLIwba','toISOString','name','\x20minutes','message','ETIMEDOUT','consecutiveFailures','warn','‚è∞\x20Interval:\x20','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','checkDomain','catch','\x20consecutive\x20attempts','‚úÖ\x20Domain\x20check\x20successful:\x20','statusText','üîç\x20Domain\x20monitoring\x20service\x20initialized','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','toString','abort','6WYcNSm','\x20\x20\x20-\x20Status:\x20','log','\x20in\x20','Domain\x20monitoring\x20threw\x20error:\x20','üí•\x20CRITICAL\x20ERROR:\x20','GET','‚è∞\x20Request\x20timeout\x20after\x20','‚ùå\x20Domain\x20check\x20error\x20after\x20','error'];a39_0x4954=function(){return _0xa32d8a;};return a39_0x4954();}