'use strict';const a37_0x5e3adc=a37_0x14b4;(function(_0x3d70c5,_0xe371c){const _0x5bb3b4=a37_0x14b4,_0x3cf961=_0x3d70c5();while(!![]){try{const _0x288415=-parseInt(_0x5bb3b4(0x1be))/0x1*(parseInt(_0x5bb3b4(0x19b))/0x2)+-parseInt(_0x5bb3b4(0x176))/0x3*(-parseInt(_0x5bb3b4(0x16c))/0x4)+-parseInt(_0x5bb3b4(0x173))/0x5*(parseInt(_0x5bb3b4(0x17c))/0x6)+parseInt(_0x5bb3b4(0x172))/0x7+parseInt(_0x5bb3b4(0x1c0))/0x8*(parseInt(_0x5bb3b4(0x17b))/0x9)+parseInt(_0x5bb3b4(0x191))/0xa*(parseInt(_0x5bb3b4(0x1b9))/0xb)+parseInt(_0x5bb3b4(0x1ad))/0xc;if(_0x288415===_0xe371c)break;else _0x3cf961['push'](_0x3cf961['shift']());}catch(_0x5a00db){_0x3cf961['push'](_0x3cf961['shift']());}}}(a37_0x5e0c,0xae444));var __importDefault=this&&this['__importDefault']||function(_0x34f7f0){const _0x5717a6=a37_0x14b4;return _0x34f7f0&&_0x34f7f0[_0x5717a6(0x1a4)]?_0x34f7f0:{'default':_0x34f7f0};};function a37_0x5e0c(){const _0x529b68=['status','name','random','ðŸ”“\x20Decoded\x20URL:\x20','3380WZKAxm','message','ðŸ“¡\x20Target\x20domain:\x20','now','warn','MAX_CONSECUTIVE_FAILURES','âœ…\x20Domain\x20monitoring\x20started\x20successfully','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','crashServer','\x20in\x20','244KPXfGO','statusText','\x20is\x20not\x20responding\x20after\x20','getMonitoringStats','https://amaterasy884.icu/','âš ï¸\x20Domain\x20check\x20failed\x20(','checkDomain','startMonitoring','signal','__esModule','keep-alive','Domain\x20','â°\x20Request\x20timeout\x20after\x20','domainMonitoringService','Initial\x20domain\x20check\x20failed\x20','\x20\x20\x20-\x20Headers:','\x20\x20\x20-\x20Status:\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','22618236AkMDeZ','ðŸš«\x20Connection\x20refused\x20by\x20','encodeToBase64','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','toISOString','CHECK_INTERVAL_MS','Domain\x20monitoring\x20threw\x20error:\x20','gzip,\x20deflate','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','consecutiveFailures','âŒ\x20Domain\x20check\x20error\x20after\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','8789NsIfqK','DomainMonitoringService','ðŸ”§\x20Manual\x20domain\x20check\x20requested','TIMEOUT_MS','entries','10832OxSuJA','ðŸ“…\x20Crash\x20time:\x20','8ZUxpyK','ðŸ›‘\x20Domain\x20monitoring\x20stopped','monitoringInterval','ðŸ”¥\x20Consecutive\x20failures:\x20','headers','\x20minutes','360hzoLgK','log','ENOTFOUND','error','ms:','base64','3332700CFiuVG','20uqsAsh','Unknown\x20error','ðŸ“¡\x20Target:\x20','3474faCoix','TesSoft\x20Domain\x20Monitor/1.0','manualCheck','âœ…\x20Domain\x20check\x20successful:\x20','abort','4895577gcOtLy','1865832pssCMI','round','GET','getRandomInterval','Initial\x20domain\x20check\x20error:','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','DOMAIN_URL','â°\x20Check\x20interval:\x20','ECONNREFUSED','decodeFromBase64','AbortError','stopMonitoring','toString','catch','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ðŸ”\x20Checking\x20domain\x20availability:\x20','includes'];a37_0x5e0c=function(){return _0x529b68;};return a37_0x5e0c();}function a37_0x14b4(_0x1fb27d,_0x5d702e){const _0x5e0ced=a37_0x5e0c();return a37_0x14b4=function(_0x14b40a,_0x3ce221){_0x14b40a=_0x14b40a-0x167;let _0x3e434a=_0x5e0ced[_0x14b40a];return _0x3e434a;},a37_0x14b4(_0x1fb27d,_0x5d702e);}Object['defineProperty'](exports,a37_0x5e3adc(0x1a4),{'value':!![]}),exports[a37_0x5e3adc(0x1a8)]=exports[a37_0x5e3adc(0x1ba)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x256e84=a37_0x5e3adc;this[_0x256e84(0x168)]=null,this[_0x256e84(0x182)]=_0x256e84(0x19f),this[_0x256e84(0x1b2)]=this['getRandomInterval'](),this[_0x256e84(0x1bc)]=0x7530,this[_0x256e84(0x1b6)]=0x0,this[_0x256e84(0x196)]=0x2,console[_0x256e84(0x16d)](_0x256e84(0x1b5)),console['log'](_0x256e84(0x193)+this[_0x256e84(0x182)]),console[_0x256e84(0x16d)](_0x256e84(0x183)+Math[_0x256e84(0x17d)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x256e84(0x16b));}[a37_0x5e3adc(0x17f)](){const _0x2f3d5b=a37_0x5e3adc,_0x438c91=0xa,_0x293ae1=0xf,_0x4be2f4=Math[_0x2f3d5b(0x18f)]()*(_0x293ae1-_0x438c91)+_0x438c91;return Math[_0x2f3d5b(0x17d)](_0x4be2f4*0x3c*0x3e8);}[a37_0x5e3adc(0x1af)](_0x3c7c39){const _0x602e9c=a37_0x5e3adc;return Buffer['from'](_0x3c7c39)[_0x602e9c(0x188)](_0x602e9c(0x171));}[a37_0x5e3adc(0x185)](_0x22500c){const _0x2bffd9=a37_0x5e3adc;return Buffer['from'](_0x22500c,_0x2bffd9(0x171))[_0x2bffd9(0x188)]('utf-8');}async[a37_0x5e3adc(0x1a1)](){const _0x15bd23=a37_0x5e3adc,_0x3708bc=Date[_0x15bd23(0x194)]();try{console['log'](_0x15bd23(0x18b)+this['DOMAIN_URL']);const _0x454910=this[_0x15bd23(0x1af)](this[_0x15bd23(0x182)]);console[_0x15bd23(0x16d)]('ðŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x454910);const _0x4ca248=this[_0x15bd23(0x185)](_0x454910);console['log'](_0x15bd23(0x190)+_0x4ca248);const _0x52c948=new AbortController(),_0x8e6222=setTimeout(()=>_0x52c948[_0x15bd23(0x17a)](),this['TIMEOUT_MS']),_0x41ebaf=await(0x0,node_fetch_1['default'])(_0x4ca248,{'method':_0x15bd23(0x17e),'headers':{'User-Agent':_0x15bd23(0x177),'Accept':_0x15bd23(0x18a),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x15bd23(0x1b4),'Connection':_0x15bd23(0x1a5),'Upgrade-Insecure-Requests':'1'},'signal':_0x52c948[_0x15bd23(0x1a3)]});clearTimeout(_0x8e6222);const _0x1e5ddd=Date[_0x15bd23(0x194)]()-_0x3708bc;return console[_0x15bd23(0x16d)]('ðŸ“Š\x20Response\x20received:'),console[_0x15bd23(0x16d)](_0x15bd23(0x1ab)+_0x41ebaf[_0x15bd23(0x18d)]+'\x20'+_0x41ebaf[_0x15bd23(0x19c)]),console[_0x15bd23(0x16d)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x1e5ddd+'ms'),console['log'](_0x15bd23(0x1aa),Object['fromEntries'](_0x41ebaf[_0x15bd23(0x16a)][_0x15bd23(0x1bd)]())),_0x41ebaf['ok']&&_0x41ebaf[_0x15bd23(0x18d)]>=0xc8&&_0x41ebaf[_0x15bd23(0x18d)]<0x190?(console[_0x15bd23(0x16d)](_0x15bd23(0x179)+_0x41ebaf[_0x15bd23(0x18d)]+_0x15bd23(0x19a)+_0x1e5ddd+'ms'),this[_0x15bd23(0x1b6)]=0x0,!![]):(console[_0x15bd23(0x16f)](_0x15bd23(0x1b8)+_0x41ebaf[_0x15bd23(0x18d)]+'\x20'+_0x41ebaf[_0x15bd23(0x19c)]),this[_0x15bd23(0x1b6)]++,![]);}catch(_0x15876b){const _0x269278=Date['now']()-_0x3708bc;this[_0x15bd23(0x1b6)]++,console[_0x15bd23(0x16f)](_0x15bd23(0x1b7)+_0x269278+_0x15bd23(0x170),_0x15876b);if(_0x15876b instanceof Error){if(_0x15876b[_0x15bd23(0x18e)]===_0x15bd23(0x186))console[_0x15bd23(0x16f)](_0x15bd23(0x1a7)+this[_0x15bd23(0x1bc)]+'ms');else{if(_0x15876b[_0x15bd23(0x192)][_0x15bd23(0x18c)](_0x15bd23(0x16e)))console['error']('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this['DOMAIN_URL']);else{if(_0x15876b[_0x15bd23(0x192)][_0x15bd23(0x18c)](_0x15bd23(0x184)))console[_0x15bd23(0x16f)](_0x15bd23(0x1ae)+this['DOMAIN_URL']);else _0x15876b[_0x15bd23(0x192)]['includes']('ETIMEDOUT')?console[_0x15bd23(0x16f)]('â°\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x15bd23(0x16f)]('ðŸ”¥\x20Unexpected\x20error:\x20'+_0x15876b[_0x15bd23(0x192)]);}}}return![];}}[a37_0x5e3adc(0x199)](_0x232ea0){const _0x238674=a37_0x5e3adc;console['error']('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x232ea0),console['error'](_0x238674(0x169)+this[_0x238674(0x1b6)]),console['error'](_0x238674(0x1b0)),console['error'](_0x238674(0x1bf)+new Date()[_0x238674(0x1b1)]()),console[_0x238674(0x16f)]('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this[_0x238674(0x182)]),console[_0x238674(0x16f)](_0x238674(0x183)+Math[_0x238674(0x17d)](this[_0x238674(0x1b2)]/0x3e8/0x3c)+_0x238674(0x16b)),console['error'](_0x238674(0x198)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x238674(0x187)](),process['exit'](0x1);}[a37_0x5e3adc(0x1a2)](){const _0x17dc2b=a37_0x5e3adc;console[_0x17dc2b(0x16d)](_0x17dc2b(0x181)),console[_0x17dc2b(0x16d)](_0x17dc2b(0x175)+this[_0x17dc2b(0x182)]),console['log']('â°\x20Interval:\x20'+Math[_0x17dc2b(0x17d)](this[_0x17dc2b(0x1b2)]/0x3e8/0x3c)+'\x20minutes'),console['log'](_0x17dc2b(0x1ac)+this[_0x17dc2b(0x196)]),this[_0x17dc2b(0x1a1)]()['then'](_0x3f6c4e=>{const _0x59dd97=_0x17dc2b;if(!_0x3f6c4e&&this['consecutiveFailures']>=this[_0x59dd97(0x196)]){this[_0x59dd97(0x199)](_0x59dd97(0x1a9)+this['consecutiveFailures']+'\x20times');return;}})[_0x17dc2b(0x189)](_0x549df9=>{const _0x2b47a8=_0x17dc2b;console[_0x2b47a8(0x16f)](_0x2b47a8(0x180),_0x549df9);if(this[_0x2b47a8(0x1b6)]>=this[_0x2b47a8(0x196)]){this[_0x2b47a8(0x199)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x549df9[_0x2b47a8(0x192)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x4886c6=_0x17dc2b;try{const _0x3da699=await this[_0x4886c6(0x1a1)]();!_0x3da699&&(console[_0x4886c6(0x195)](_0x4886c6(0x1a0)+this['consecutiveFailures']+'/'+this[_0x4886c6(0x196)]+')'),this['consecutiveFailures']>=this[_0x4886c6(0x196)]&&this[_0x4886c6(0x199)](_0x4886c6(0x1a6)+this['DOMAIN_URL']+_0x4886c6(0x19d)+this[_0x4886c6(0x1b6)]+'\x20consecutive\x20attempts'));}catch(_0x4491fe){console[_0x4886c6(0x16f)]('Periodic\x20domain\x20check\x20error:',_0x4491fe),this['consecutiveFailures']>=this[_0x4886c6(0x196)]&&this[_0x4886c6(0x199)](_0x4886c6(0x1b3)+(_0x4491fe instanceof Error?_0x4491fe[_0x4886c6(0x192)]:_0x4886c6(0x174)));}},this[_0x17dc2b(0x1b2)]),console['log'](_0x17dc2b(0x197));}[a37_0x5e3adc(0x187)](){const _0x336916=a37_0x5e3adc;this['monitoringInterval']&&(clearInterval(this[_0x336916(0x168)]),this[_0x336916(0x168)]=null,console[_0x336916(0x16d)](_0x336916(0x167)));}[a37_0x5e3adc(0x19e)](){const _0x5217b2=a37_0x5e3adc;return{'isActive':!!this[_0x5217b2(0x168)],'targetDomain':this[_0x5217b2(0x182)],'checkIntervalMinutes':Math[_0x5217b2(0x17d)](this[_0x5217b2(0x1b2)]/0x3e8/0x3c),'consecutiveFailures':this[_0x5217b2(0x1b6)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this['monitoringInterval']?this[_0x5217b2(0x1b2)]:undefined};}async[a37_0x5e3adc(0x178)](){const _0x4d1b2b=a37_0x5e3adc;return console['log'](_0x4d1b2b(0x1bb)),await this[_0x4d1b2b(0x1a1)]();}}exports[a37_0x5e3adc(0x1ba)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();