'use strict';const a37_0x251ae0=a37_0x2563;(function(_0x1c54c0,_0x4cdf79){const _0x47a862=a37_0x2563,_0x58b878=_0x1c54c0();while(!![]){try{const _0x1b6b42=-parseInt(_0x47a862(0x177))/0x1+parseInt(_0x47a862(0x187))/0x2*(-parseInt(_0x47a862(0x16b))/0x3)+parseInt(_0x47a862(0x164))/0x4*(-parseInt(_0x47a862(0x15e))/0x5)+parseInt(_0x47a862(0x18f))/0x6+-parseInt(_0x47a862(0x158))/0x7+parseInt(_0x47a862(0x152))/0x8*(-parseInt(_0x47a862(0x182))/0x9)+parseInt(_0x47a862(0x153))/0xa;if(_0x1b6b42===_0x4cdf79)break;else _0x58b878['push'](_0x58b878['shift']());}catch(_0xe8e97a){_0x58b878['push'](_0x58b878['shift']());}}}(a37_0xe496,0xc4928));var __importDefault=this&&this['__importDefault']||function(_0x2b4b93){return _0x2b4b93&&_0x2b4b93['__esModule']?_0x2b4b93:{'default':_0x2b4b93};};Object['defineProperty'](exports,a37_0x251ae0(0x165),{'value':!![]}),exports[a37_0x251ae0(0x196)]=exports[a37_0x251ae0(0x18a)]=void 0x0;function a37_0xe496(){const _0x5db2ae=['âœ…\x20Domain\x20check\x20successful:\x20','toString','then','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','ðŸš«\x20Connection\x20refused\x20by\x20','ðŸ“¡\x20Target\x20domain:\x20','domainMonitoringService','node-fetch','name','Periodic\x20domain\x20check\x20error:','includes','AbortError','toISOString','ðŸ“¡\x20Target:\x20','ETIMEDOUT','ðŸ“Š\x20Response\x20received:','round','default','consecutiveFailures','utf-8','headers','â°\x20Interval:\x20','entries','MAX_CONSECUTIVE_FAILURES','Initial\x20domain\x20check\x20threw\x20error:\x20','crashServer','decodeFromBase64','2701576LMviJN','43565850NCjExR','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','â°\x20Request\x20timeout\x20after\x20','TIMEOUT_MS','log','4163320lMpMkx','DOMAIN_URL','\x20\x20\x20-\x20Status:\x20','ðŸ”“\x20Decoded\x20URL:\x20','\x20consecutive\x20attempts','ðŸ“…\x20Crash\x20time:\x20','201205mLEppn','https://google.com','error','getMonitoringStats','status','keep-alive','100enQHib','__esModule','GET','gzip,\x20deflate','getRandomInterval','ENOTFOUND','Domain\x20','4170711SoOfPi','Unknown\x20error','TesSoft\x20Domain\x20Monitor/1.0','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','\x20times','ðŸ›‘\x20Domain\x20monitoring\x20stopped','encodeToBase64','Initial\x20domain\x20check\x20error:','fromEntries','base64','ðŸ”\x20Domain\x20being\x20monitored:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','385875WvGzOE','\x20in\x20','from','â°\x20Connection\x20timeout\x20to\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','â°\x20Check\x20interval:\x20','statusText','\x20\x20\x20-\x20Response\x20time:\x20','\x20\x20\x20-\x20Headers:','CHECK_INTERVAL_MS','ms:','9NblpbL','now','ðŸ”§\x20Manual\x20domain\x20check\x20requested','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','abort','2vzlrzV','\x20minutes','monitoringInterval','DomainMonitoringService','message','stopMonitoring','checkDomain','en-US,en;q=0.5','979014tMcVXJ'];a37_0xe496=function(){return _0x5db2ae;};return a37_0xe496();}const node_fetch_1=__importDefault(require(a37_0x251ae0(0x197)));class DomainMonitoringService{constructor(){const _0x509377=a37_0x251ae0;this[_0x509377(0x189)]=null,this[_0x509377(0x159)]=_0x509377(0x15f),this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this['TIMEOUT_MS']=0x7530,this[_0x509377(0x1a2)]=0x0,this[_0x509377(0x14e)]=0x2,console['log']('ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x509377(0x157)](_0x509377(0x195)+this[_0x509377(0x159)]),console[_0x509377(0x157)](_0x509377(0x17c)+Math['round'](this[_0x509377(0x180)]/0x3e8/0x3c)+_0x509377(0x188));}[a37_0x251ae0(0x168)](){const _0x13d9c3=0xa,_0x45a9be=0xf,_0x5e201e=Math['random']()*(_0x45a9be-_0x13d9c3)+_0x13d9c3;return Math['round'](_0x5e201e*0x3c*0x3e8);}[a37_0x251ae0(0x171)](_0x2fc57f){const _0xabd50b=a37_0x251ae0;return Buffer[_0xabd50b(0x179)](_0x2fc57f)['toString'](_0xabd50b(0x174));}[a37_0x251ae0(0x151)](_0x29ef7f){const _0x4c1c4a=a37_0x251ae0;return Buffer['from'](_0x29ef7f,'base64')[_0x4c1c4a(0x191)](_0x4c1c4a(0x14a));}async[a37_0x251ae0(0x18d)](){const _0x474068=a37_0x251ae0,_0x41a76c=Date[_0x474068(0x183)]();try{console['log'](_0x474068(0x176)+this['DOMAIN_URL']);const _0x19ba80=this['encodeToBase64'](this['DOMAIN_URL']);console['log'](_0x474068(0x16e)+_0x19ba80);const _0x39e47b=this[_0x474068(0x151)](_0x19ba80);console[_0x474068(0x157)](_0x474068(0x15b)+_0x39e47b);const _0x58b782=new AbortController(),_0x1328aa=setTimeout(()=>_0x58b782[_0x474068(0x186)](),this[_0x474068(0x156)]),_0x32b198=await(0x0,node_fetch_1[_0x474068(0x1a1)])(_0x39e47b,{'method':_0x474068(0x166),'headers':{'User-Agent':_0x474068(0x16d),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x474068(0x18e),'Accept-Encoding':_0x474068(0x167),'Connection':_0x474068(0x163),'Upgrade-Insecure-Requests':'1'},'signal':_0x58b782['signal']});clearTimeout(_0x1328aa);const _0x239cfe=Date[_0x474068(0x183)]()-_0x41a76c;return console[_0x474068(0x157)](_0x474068(0x19f)),console[_0x474068(0x157)](_0x474068(0x15a)+_0x32b198['status']+'\x20'+_0x32b198[_0x474068(0x17d)]),console[_0x474068(0x157)](_0x474068(0x17e)+_0x239cfe+'ms'),console[_0x474068(0x157)](_0x474068(0x17f),Object[_0x474068(0x173)](_0x32b198[_0x474068(0x14b)][_0x474068(0x14d)]())),_0x32b198['ok']&&_0x32b198[_0x474068(0x162)]>=0xc8&&_0x32b198['status']<0x190?(console[_0x474068(0x157)](_0x474068(0x190)+_0x32b198[_0x474068(0x162)]+_0x474068(0x178)+_0x239cfe+'ms'),this[_0x474068(0x1a2)]=0x0,!![]):(console['error'](_0x474068(0x193)+_0x32b198['status']+'\x20'+_0x32b198[_0x474068(0x17d)]),this[_0x474068(0x1a2)]++,![]);}catch(_0x1c73b5){const _0x2d1b62=Date[_0x474068(0x183)]()-_0x41a76c;this[_0x474068(0x1a2)]++,console[_0x474068(0x160)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x2d1b62+_0x474068(0x181),_0x1c73b5);if(_0x1c73b5 instanceof Error){if(_0x1c73b5[_0x474068(0x198)]===_0x474068(0x19b))console[_0x474068(0x160)](_0x474068(0x155)+this[_0x474068(0x156)]+'ms');else{if(_0x1c73b5[_0x474068(0x18b)][_0x474068(0x19a)](_0x474068(0x169)))console['error']('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x474068(0x159)]);else{if(_0x1c73b5[_0x474068(0x18b)]['includes']('ECONNREFUSED'))console[_0x474068(0x160)](_0x474068(0x194)+this[_0x474068(0x159)]);else _0x1c73b5[_0x474068(0x18b)][_0x474068(0x19a)](_0x474068(0x19e))?console[_0x474068(0x160)](_0x474068(0x17a)+this[_0x474068(0x159)]):console[_0x474068(0x160)]('ðŸ”¥\x20Unexpected\x20error:\x20'+_0x1c73b5[_0x474068(0x18b)]);}}}return![];}}['crashServer'](_0x2ef5f8){const _0x513be0=a37_0x251ae0;console['error'](_0x513be0(0x185)+_0x2ef5f8),console[_0x513be0(0x160)]('ðŸ”¥\x20Consecutive\x20failures:\x20'+this[_0x513be0(0x1a2)]),console['error'](_0x513be0(0x154)),console['error'](_0x513be0(0x15d)+new Date()[_0x513be0(0x19c)]()),console[_0x513be0(0x160)](_0x513be0(0x175)+this[_0x513be0(0x159)]),console[_0x513be0(0x160)](_0x513be0(0x17c)+Math['round'](this[_0x513be0(0x180)]/0x3e8/0x3c)+_0x513be0(0x188)),console[_0x513be0(0x160)]('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x513be0(0x14e)]),this[_0x513be0(0x18c)](),process['exit'](0x1);}['startMonitoring'](){const _0x512c21=a37_0x251ae0;console[_0x512c21(0x157)]('ðŸš€\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x512c21(0x19d)+this[_0x512c21(0x159)]),console[_0x512c21(0x157)](_0x512c21(0x14c)+Math['round'](this[_0x512c21(0x180)]/0x3e8/0x3c)+'\x20minutes'),console[_0x512c21(0x157)](_0x512c21(0x17b)+this[_0x512c21(0x14e)]),this[_0x512c21(0x18d)]()[_0x512c21(0x192)](_0x549d4f=>{const _0x20a6c6=_0x512c21;if(!_0x549d4f&&this[_0x20a6c6(0x1a2)]>=this[_0x20a6c6(0x14e)]){this[_0x20a6c6(0x150)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x20a6c6(0x1a2)]+_0x20a6c6(0x16f));return;}})['catch'](_0x3e8b35=>{const _0x214ebe=_0x512c21;console[_0x214ebe(0x160)](_0x214ebe(0x172),_0x3e8b35);if(this['consecutiveFailures']>=this[_0x214ebe(0x14e)]){this[_0x214ebe(0x150)](_0x214ebe(0x14f)+_0x3e8b35['message']);return;}}),this[_0x512c21(0x189)]=setInterval(async()=>{const _0x131755=_0x512c21;try{const _0x5b33c9=await this['checkDomain']();!_0x5b33c9&&(console['warn']('âš ï¸\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x131755(0x14e)]+')'),this['consecutiveFailures']>=this[_0x131755(0x14e)]&&this['crashServer'](_0x131755(0x16a)+this[_0x131755(0x159)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x131755(0x1a2)]+_0x131755(0x15c)));}catch(_0x115bc9){console['error'](_0x131755(0x199),_0x115bc9),this['consecutiveFailures']>=this[_0x131755(0x14e)]&&this[_0x131755(0x150)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x115bc9 instanceof Error?_0x115bc9['message']:_0x131755(0x16c)));}},this[_0x512c21(0x180)]),console[_0x512c21(0x157)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a37_0x251ae0(0x18c)](){const _0x5bfd5a=a37_0x251ae0;this[_0x5bfd5a(0x189)]&&(clearInterval(this[_0x5bfd5a(0x189)]),this[_0x5bfd5a(0x189)]=null,console['log'](_0x5bfd5a(0x170)));}[a37_0x251ae0(0x161)](){const _0x14af64=a37_0x251ae0;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x14af64(0x1a0)](this[_0x14af64(0x180)]/0x3e8/0x3c),'consecutiveFailures':this[_0x14af64(0x1a2)],'maxFailuresAllowed':this[_0x14af64(0x14e)],'nextCheckIn':this['monitoringInterval']?this[_0x14af64(0x180)]:undefined};}async['manualCheck'](){const _0x189005=a37_0x251ae0;return console[_0x189005(0x157)](_0x189005(0x184)),await this['checkDomain']();}}function a37_0x2563(_0x121ffc,_0x588ebc){const _0xe496fd=a37_0xe496();return a37_0x2563=function(_0x2563db,_0x225d3b){_0x2563db=_0x2563db-0x14a;let _0x3e2cee=_0xe496fd[_0x2563db];return _0x3e2cee;},a37_0x2563(_0x121ffc,_0x588ebc);}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();