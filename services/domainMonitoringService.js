'use strict';const a44_0x312779=a44_0x2ae7;function a44_0x2ae7(_0x1c60ed,_0x368432){const _0x330511=a44_0x3305();return a44_0x2ae7=function(_0x2ae755,_0x4d2ad5){_0x2ae755=_0x2ae755-0x1b7;let _0x1307b2=_0x330511[_0x2ae755];return _0x1307b2;},a44_0x2ae7(_0x1c60ed,_0x368432);}function a44_0x3305(){const _0x37941f=['domainMonitoringService','base64','startMonitoring','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','ECONNREFUSED','exit','random','\x20in\x20','ENOTFOUND','now','DomainMonitoringService','🔥\x20Consecutive\x20failures:\x20','1558851GMaJSI','log','__esModule','1908hlxJmF','round','utf-8','toString','2124477okcntk','📡\x20Target\x20domain:\x20','warn','🔍\x20Domain\x20being\x20monitored:\x20','\x20consecutive\x20attempts','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','monitoringInterval','includes','from','__importDefault','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','2618fyqzrc','message','1667638WCwJTI','Initial\x20domain\x20check\x20failed\x20','decodeFromBase64','Unknown\x20error','getMonitoringStats','\x20\x20\x20-\x20Response\x20time:\x20','⏰\x20Interval:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','🚀\x20Starting\x20domain\x20monitoring\x20service','statusText','2095cfEmON','517JpztHS','🔥\x20Unexpected\x20error:\x20','default','defineProperty','🔍\x20Domain\x20monitoring\x20service\x20initialized','consecutiveFailures','🌐\x20DNS\x20resolution\x20failed\x20for\x20','headers','⏰\x20Connection\x20timeout\x20to\x20','⏰\x20Check\x20interval:\x20','crashServer','⚠️\x20Domain\x20check\x20failed\x20(','🔓\x20Decoded\x20URL:\x20','status','📊\x20Response\x20received:','🔧\x20Manual\x20domain\x20check\x20requested','entries','en-US,en;q=0.5','gzip,\x20deflate','Initial\x20domain\x20check\x20threw\x20error:\x20','1IEBjJR','🚫\x20Connection\x20refused\x20by\x20','5340XxNATS','❌\x20Domain\x20check\x20error\x20after\x20','fromEntries','stopMonitoring','ETIMEDOUT','Periodic\x20domain\x20check\x20error:','📡\x20Target:\x20','📅\x20Crash\x20time:\x20','catch','MAX_CONSECUTIVE_FAILURES','🔍\x20Checking\x20domain\x20availability:\x20','GET','then','CHECK_INTERVAL_MS','TIMEOUT_MS','getRandomInterval','\x20\x20\x20-\x20Headers:','ms:','name','manualCheck','Domain\x20monitoring\x20threw\x20error:\x20','checkDomain','Initial\x20domain\x20check\x20error:','✅\x20Domain\x20check\x20successful:\x20','keep-alive','4963336zdnXxH','\x20minutes','error','440090xFSLnP','\x20is\x20not\x20responding\x20after\x20','DOMAIN_URL'];a44_0x3305=function(){return _0x37941f;};return a44_0x3305();}(function(_0x258070,_0x212f21){const _0x3c409d=a44_0x2ae7,_0x42a416=_0x258070();while(!![]){try{const _0x3088a0=parseInt(_0x3c409d(0x1e2))/0x1*(-parseInt(_0x3c409d(0x1c3))/0x2)+-parseInt(_0x3c409d(0x20f))/0x3+-parseInt(_0x3c409d(0x1e4))/0x4*(parseInt(_0x3c409d(0x1cd))/0x5)+parseInt(_0x3c409d(0x212))/0x6*(-parseInt(_0x3c409d(0x1c1))/0x7)+parseInt(_0x3c409d(0x1fd))/0x8+-parseInt(_0x3c409d(0x216))/0x9+-parseInt(_0x3c409d(0x200))/0xa*(-parseInt(_0x3c409d(0x1ce))/0xb);if(_0x3088a0===_0x212f21)break;else _0x42a416['push'](_0x42a416['shift']());}catch(_0x4eceab){_0x42a416['push'](_0x42a416['shift']());}}}(a44_0x3305,0x66cbe));var __importDefault=this&&this[a44_0x312779(0x1bf)]||function(_0x1209a9){const _0x37cbc9=a44_0x312779;return _0x1209a9&&_0x1209a9[_0x37cbc9(0x211)]?_0x1209a9:{'default':_0x1209a9};};Object[a44_0x312779(0x1d1)](exports,a44_0x312779(0x211),{'value':!![]}),exports['domainMonitoringService']=exports[a44_0x312779(0x20d)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x224a4c=a44_0x312779;this['monitoringInterval']=null,this[_0x224a4c(0x202)]='https://google.com',this[_0x224a4c(0x1f1)]=this[_0x224a4c(0x1f3)](),this[_0x224a4c(0x1f2)]=0x7530,this[_0x224a4c(0x1d3)]=0x0,this[_0x224a4c(0x1ed)]=0x2,console['log'](_0x224a4c(0x1d2)),console['log'](_0x224a4c(0x1b7)+this[_0x224a4c(0x202)]),console['log']('⏰\x20Check\x20interval:\x20'+Math['round'](this[_0x224a4c(0x1f1)]/0x3e8/0x3c)+_0x224a4c(0x1fe));}['getRandomInterval'](){const _0x290c71=a44_0x312779,_0x313cff=0xa,_0xaa8d97=0xf,_0x344e7a=Math[_0x290c71(0x209)]()*(_0xaa8d97-_0x313cff)+_0x313cff;return Math['round'](_0x344e7a*0x3c*0x3e8);}['encodeToBase64'](_0x2f248d){const _0x27236d=a44_0x312779;return Buffer[_0x27236d(0x1be)](_0x2f248d)[_0x27236d(0x215)](_0x27236d(0x204));}[a44_0x312779(0x1c5)](_0x3ebc7b){const _0x2d47c5=a44_0x312779;return Buffer[_0x2d47c5(0x1be)](_0x3ebc7b,_0x2d47c5(0x204))['toString'](_0x2d47c5(0x214));}async[a44_0x312779(0x1f9)](){const _0x522b19=a44_0x312779,_0x1225c1=Date['now']();try{console[_0x522b19(0x210)](_0x522b19(0x1ee)+this[_0x522b19(0x202)]);const _0x1a8d18=this['encodeToBase64'](this[_0x522b19(0x202)]);console[_0x522b19(0x210)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x1a8d18);const _0x1bc2cf=this['decodeFromBase64'](_0x1a8d18);console[_0x522b19(0x210)](_0x522b19(0x1da)+_0x1bc2cf);const _0x2ced0a=new AbortController(),_0x53c8ab=setTimeout(()=>_0x2ced0a['abort'](),this[_0x522b19(0x1f2)]),_0x5e51fb=await(0x0,node_fetch_1[_0x522b19(0x1d0)])(_0x1bc2cf,{'method':_0x522b19(0x1ef),'headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':_0x522b19(0x1ca),'Accept-Language':_0x522b19(0x1df),'Accept-Encoding':_0x522b19(0x1e0),'Connection':_0x522b19(0x1fc),'Upgrade-Insecure-Requests':'1'},'signal':_0x2ced0a['signal']});clearTimeout(_0x53c8ab);const _0x267203=Date[_0x522b19(0x20c)]()-_0x1225c1;return console['log'](_0x522b19(0x1dc)),console[_0x522b19(0x210)]('\x20\x20\x20-\x20Status:\x20'+_0x5e51fb['status']+'\x20'+_0x5e51fb[_0x522b19(0x1cc)]),console[_0x522b19(0x210)](_0x522b19(0x1c8)+_0x267203+'ms'),console['log'](_0x522b19(0x1f4),Object[_0x522b19(0x1e6)](_0x5e51fb[_0x522b19(0x1d5)][_0x522b19(0x1de)]())),_0x5e51fb['ok']&&_0x5e51fb[_0x522b19(0x1db)]>=0xc8&&_0x5e51fb['status']<0x190?(console[_0x522b19(0x210)](_0x522b19(0x1fb)+_0x5e51fb[_0x522b19(0x1db)]+_0x522b19(0x20a)+_0x267203+'ms'),this[_0x522b19(0x1d3)]=0x0,!![]):(console[_0x522b19(0x1ff)](_0x522b19(0x1bb)+_0x5e51fb[_0x522b19(0x1db)]+'\x20'+_0x5e51fb['statusText']),this[_0x522b19(0x1d3)]++,![]);}catch(_0x231d97){const _0x5137f0=Date['now']()-_0x1225c1;this['consecutiveFailures']++,console['error'](_0x522b19(0x1e5)+_0x5137f0+_0x522b19(0x1f5),_0x231d97);if(_0x231d97 instanceof Error){if(_0x231d97[_0x522b19(0x1f6)]==='AbortError')console[_0x522b19(0x1ff)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x522b19(0x1f2)]+'ms');else{if(_0x231d97[_0x522b19(0x1c2)][_0x522b19(0x1bd)](_0x522b19(0x20b)))console['error'](_0x522b19(0x1d4)+this['DOMAIN_URL']);else{if(_0x231d97[_0x522b19(0x1c2)][_0x522b19(0x1bd)](_0x522b19(0x207)))console[_0x522b19(0x1ff)](_0x522b19(0x1e3)+this['DOMAIN_URL']);else _0x231d97['message'][_0x522b19(0x1bd)](_0x522b19(0x1e8))?console[_0x522b19(0x1ff)](_0x522b19(0x1d6)+this[_0x522b19(0x202)]):console[_0x522b19(0x1ff)](_0x522b19(0x1cf)+_0x231d97[_0x522b19(0x1c2)]);}}}return![];}}[a44_0x312779(0x1d8)](_0x30e0d8){const _0x56bda8=a44_0x312779;console['error']('💥\x20CRITICAL\x20ERROR:\x20'+_0x30e0d8),console[_0x56bda8(0x1ff)](_0x56bda8(0x20e)+this[_0x56bda8(0x1d3)]),console[_0x56bda8(0x1ff)](_0x56bda8(0x206)),console['error'](_0x56bda8(0x1eb)+new Date()['toISOString']()),console['error'](_0x56bda8(0x1b9)+this[_0x56bda8(0x202)]),console['error'](_0x56bda8(0x1d7)+Math['round'](this[_0x56bda8(0x1f1)]/0x3e8/0x3c)+_0x56bda8(0x1fe)),console[_0x56bda8(0x1ff)](_0x56bda8(0x1c0)+this[_0x56bda8(0x1ed)]),this[_0x56bda8(0x1e7)](),process[_0x56bda8(0x208)](0x1);}[a44_0x312779(0x205)](){const _0x26af1a=a44_0x312779;console[_0x26af1a(0x210)](_0x26af1a(0x1cb)),console[_0x26af1a(0x210)](_0x26af1a(0x1ea)+this[_0x26af1a(0x202)]),console['log'](_0x26af1a(0x1c9)+Math[_0x26af1a(0x213)](this[_0x26af1a(0x1f1)]/0x3e8/0x3c)+'\x20minutes'),console['log']('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x26af1a(0x1ed)]),this[_0x26af1a(0x1f9)]()[_0x26af1a(0x1f0)](_0x47d8b0=>{const _0x4294be=_0x26af1a;if(!_0x47d8b0&&this[_0x4294be(0x1d3)]>=this[_0x4294be(0x1ed)]){this[_0x4294be(0x1d8)](_0x4294be(0x1c4)+this['consecutiveFailures']+'\x20times');return;}})[_0x26af1a(0x1ec)](_0x5ca1b5=>{const _0x1344c6=_0x26af1a;console[_0x1344c6(0x1ff)](_0x1344c6(0x1fa),_0x5ca1b5);if(this[_0x1344c6(0x1d3)]>=this[_0x1344c6(0x1ed)]){this[_0x1344c6(0x1d8)](_0x1344c6(0x1e1)+_0x5ca1b5['message']);return;}}),this[_0x26af1a(0x1bc)]=setInterval(async()=>{const _0x39e2e4=_0x26af1a;try{const _0x12bd7a=await this[_0x39e2e4(0x1f9)]();!_0x12bd7a&&(console[_0x39e2e4(0x1b8)](_0x39e2e4(0x1d9)+this[_0x39e2e4(0x1d3)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x39e2e4(0x1d3)]>=this[_0x39e2e4(0x1ed)]&&this[_0x39e2e4(0x1d8)]('Domain\x20'+this[_0x39e2e4(0x202)]+_0x39e2e4(0x201)+this[_0x39e2e4(0x1d3)]+_0x39e2e4(0x1ba)));}catch(_0x71af01){console[_0x39e2e4(0x1ff)](_0x39e2e4(0x1e9),_0x71af01),this[_0x39e2e4(0x1d3)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer'](_0x39e2e4(0x1f8)+(_0x71af01 instanceof Error?_0x71af01[_0x39e2e4(0x1c2)]:_0x39e2e4(0x1c6)));}},this['CHECK_INTERVAL_MS']),console['log']('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a44_0x312779(0x1e7)](){const _0x23ac9e=a44_0x312779;this[_0x23ac9e(0x1bc)]&&(clearInterval(this[_0x23ac9e(0x1bc)]),this[_0x23ac9e(0x1bc)]=null,console[_0x23ac9e(0x210)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a44_0x312779(0x1c7)](){const _0x57de0b=a44_0x312779;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x57de0b(0x213)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x57de0b(0x1d3)],'maxFailuresAllowed':this[_0x57de0b(0x1ed)],'nextCheckIn':this[_0x57de0b(0x1bc)]?this[_0x57de0b(0x1f1)]:undefined};}async[a44_0x312779(0x1f7)](){const _0x175612=a44_0x312779;return console[_0x175612(0x210)](_0x175612(0x1dd)),await this[_0x175612(0x1f9)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a44_0x312779(0x203)]=new DomainMonitoringService();