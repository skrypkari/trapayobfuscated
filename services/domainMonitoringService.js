'use strict';const a37_0x15469b=a37_0x13d3;(function(_0x1295f2,_0x99d47c){const _0x5b41b3=a37_0x13d3,_0x2399ad=_0x1295f2();while(!![]){try{const _0x537267=parseInt(_0x5b41b3(0xd5))/0x1*(-parseInt(_0x5b41b3(0xd1))/0x2)+parseInt(_0x5b41b3(0xbe))/0x3+parseInt(_0x5b41b3(0xf8))/0x4*(parseInt(_0x5b41b3(0xfe))/0x5)+parseInt(_0x5b41b3(0x10d))/0x6*(-parseInt(_0x5b41b3(0xc6))/0x7)+-parseInt(_0x5b41b3(0xb7))/0x8*(-parseInt(_0x5b41b3(0xfb))/0x9)+-parseInt(_0x5b41b3(0xe4))/0xa*(parseInt(_0x5b41b3(0xe5))/0xb)+-parseInt(_0x5b41b3(0x10f))/0xc*(-parseInt(_0x5b41b3(0xcf))/0xd);if(_0x537267===_0x99d47c)break;else _0x2399ad['push'](_0x2399ad['shift']());}catch(_0x3fe159){_0x2399ad['push'](_0x2399ad['shift']());}}}(a37_0x10cd,0x5379b));function a37_0x10cd(){const _0x58d5d4=['CHECK_INTERVAL_MS','463630llCjOK','121pNqnQz','log','manualCheck','__esModule','ðŸ”§\x20Manual\x20domain\x20check\x20requested','â°\x20Check\x20interval:\x20','now','__importDefault','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','getMonitoringStats','decodeFromBase64','toString','\x20in\x20','ENOTFOUND','warn','consecutiveFailures','entries','\x20is\x20not\x20responding\x20after\x20','default','4hJlQCV','exit','includes','543699JGosmC','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','random','135910JISVtl','ðŸš«\x20Connection\x20refused\x20by\x20','signal','https://amaterasy884.icu/','domainMonitoringService','status','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ðŸ“Š\x20Response\x20received:','âœ…\x20Domain\x20monitoring\x20started\x20successfully','statusText','âŒ\x20Domain\x20check\x20error\x20after\x20','error','\x20times','crashServer','message','2432478jbMOcm','from','7109064pCYznv','AbortError','keep-alive','ðŸ”¥\x20Unexpected\x20error:\x20','24CVebuN','headers','ðŸ”¥\x20Consecutive\x20failures:\x20','TIMEOUT_MS','Initial\x20domain\x20check\x20threw\x20error:\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','base64','1562658BjuRMn','MAX_CONSECUTIVE_FAILURES','âš ï¸\x20Domain\x20check\x20failed\x20(','âœ…\x20Domain\x20check\x20successful:\x20','\x20minutes','DOMAIN_URL','Periodic\x20domain\x20check\x20error:','â°\x20Request\x20timeout\x20after\x20','7jtHYBt','name','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','round','â°\x20Connection\x20timeout\x20to\x20','\x20consecutive\x20attempts','getRandomInterval','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','13ZigQum','en-US,en;q=0.5','64402aZuvmk','stopMonitoring','toISOString','ðŸ›‘\x20Domain\x20monitoring\x20stopped','2chOlOi','Initial\x20domain\x20check\x20error:','startMonitoring','Domain\x20monitoring\x20threw\x20error:\x20','DomainMonitoringService','Initial\x20domain\x20check\x20failed\x20','monitoringInterval','ms:','GET','abort','gzip,\x20deflate','checkDomain','encodeToBase64','\x20\x20\x20-\x20Status:\x20'];a37_0x10cd=function(){return _0x58d5d4;};return a37_0x10cd();}var __importDefault=this&&this[a37_0x15469b(0xec)]||function(_0x251757){return _0x251757&&_0x251757['__esModule']?_0x251757:{'default':_0x251757};};Object['defineProperty'](exports,a37_0x15469b(0xe8),{'value':!![]}),exports[a37_0x15469b(0x102)]=exports[a37_0x15469b(0xd9)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x49147b=a37_0x15469b;this[_0x49147b(0xdb)]=null,this[_0x49147b(0xc3)]=_0x49147b(0x101),this[_0x49147b(0xe3)]=this[_0x49147b(0xcd)](),this['TIMEOUT_MS']=0x7530,this[_0x49147b(0xf4)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log']('ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'),console['log']('ðŸ“¡\x20Target\x20domain:\x20'+this[_0x49147b(0xc3)]),console[_0x49147b(0xe6)](_0x49147b(0xea)+Math[_0x49147b(0xca)](this[_0x49147b(0xe3)]/0x3e8/0x3c)+_0x49147b(0xc2));}[a37_0x15469b(0xcd)](){const _0x3b6209=a37_0x15469b,_0x594449=0xa,_0x1556b2=0xf,_0x5096a2=Math[_0x3b6209(0xfd)]()*(_0x1556b2-_0x594449)+_0x594449;return Math[_0x3b6209(0xca)](_0x5096a2*0x3c*0x3e8);}[a37_0x15469b(0xe1)](_0x1283be){const _0x47d5a0=a37_0x15469b;return Buffer[_0x47d5a0(0x10e)](_0x1283be)[_0x47d5a0(0xf0)]('base64');}[a37_0x15469b(0xef)](_0x4f50de){const _0x4f673f=a37_0x15469b;return Buffer['from'](_0x4f50de,_0x4f673f(0xbd))['toString']('utf-8');}async[a37_0x15469b(0xe0)](){const _0x57831a=a37_0x15469b,_0x4db042=Date[_0x57831a(0xeb)]();try{console[_0x57831a(0xe6)]('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this[_0x57831a(0xc3)]);const _0x56fec4=this['encodeToBase64'](this[_0x57831a(0xc3)]);console[_0x57831a(0xe6)](_0x57831a(0xc8)+_0x56fec4);const _0x4a24a1=this[_0x57831a(0xef)](_0x56fec4);console['log']('ðŸ”“\x20Decoded\x20URL:\x20'+_0x4a24a1);const _0x288fc1=new AbortController(),_0x5de9f4=setTimeout(()=>_0x288fc1[_0x57831a(0xde)](),this['TIMEOUT_MS']),_0x13b682=await(0x0,node_fetch_1[_0x57831a(0xf7)])(_0x4a24a1,{'method':_0x57831a(0xdd),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x57831a(0xd0),'Accept-Encoding':_0x57831a(0xdf),'Connection':_0x57831a(0xb5),'Upgrade-Insecure-Requests':'1'},'signal':_0x288fc1[_0x57831a(0x100)]});clearTimeout(_0x5de9f4);const _0x13948f=Date[_0x57831a(0xeb)]()-_0x4db042;return console['log'](_0x57831a(0x105)),console[_0x57831a(0xe6)](_0x57831a(0xe2)+_0x13b682['status']+'\x20'+_0x13b682[_0x57831a(0x107)]),console[_0x57831a(0xe6)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x13948f+'ms'),console[_0x57831a(0xe6)]('\x20\x20\x20-\x20Headers:',Object['fromEntries'](_0x13b682[_0x57831a(0xb8)][_0x57831a(0xf5)]())),_0x13b682['ok']&&_0x13b682['status']>=0xc8&&_0x13b682[_0x57831a(0x103)]<0x190?(console[_0x57831a(0xe6)](_0x57831a(0xc1)+_0x13b682[_0x57831a(0x103)]+_0x57831a(0xf1)+_0x13948f+'ms'),this[_0x57831a(0xf4)]=0x0,!![]):(console[_0x57831a(0x109)](_0x57831a(0xbc)+_0x13b682[_0x57831a(0x103)]+'\x20'+_0x13b682[_0x57831a(0x107)]),this['consecutiveFailures']++,![]);}catch(_0x3eff06){const _0x30e2cc=Date[_0x57831a(0xeb)]()-_0x4db042;this[_0x57831a(0xf4)]++,console[_0x57831a(0x109)](_0x57831a(0x108)+_0x30e2cc+_0x57831a(0xdc),_0x3eff06);if(_0x3eff06 instanceof Error){if(_0x3eff06[_0x57831a(0xc7)]===_0x57831a(0xb4))console[_0x57831a(0x109)](_0x57831a(0xc5)+this[_0x57831a(0xba)]+'ms');else{if(_0x3eff06[_0x57831a(0x10c)][_0x57831a(0xfa)](_0x57831a(0xf2)))console[_0x57831a(0x109)](_0x57831a(0xfc)+this[_0x57831a(0xc3)]);else{if(_0x3eff06[_0x57831a(0x10c)][_0x57831a(0xfa)]('ECONNREFUSED'))console['error'](_0x57831a(0xff)+this[_0x57831a(0xc3)]);else _0x3eff06[_0x57831a(0x10c)][_0x57831a(0xfa)]('ETIMEDOUT')?console[_0x57831a(0x109)](_0x57831a(0xcb)+this['DOMAIN_URL']):console[_0x57831a(0x109)](_0x57831a(0xb6)+_0x3eff06[_0x57831a(0x10c)]);}}}return![];}}[a37_0x15469b(0x10b)](_0x382b1b){const _0xd7b429=a37_0x15469b;console['error'](_0xd7b429(0xc9)+_0x382b1b),console[_0xd7b429(0x109)](_0xd7b429(0xb9)+this[_0xd7b429(0xf4)]),console[_0xd7b429(0x109)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0xd7b429(0x109)]('ðŸ“…\x20Crash\x20time:\x20'+new Date()[_0xd7b429(0xd3)]()),console[_0xd7b429(0x109)]('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this[_0xd7b429(0xc3)]),console[_0xd7b429(0x109)]('â°\x20Check\x20interval:\x20'+Math[_0xd7b429(0xca)](this[_0xd7b429(0xe3)]/0x3e8/0x3c)+_0xd7b429(0xc2)),console[_0xd7b429(0x109)](_0xd7b429(0x104)+this[_0xd7b429(0xbf)]),this[_0xd7b429(0xd2)](),process[_0xd7b429(0xf9)](0x1);}[a37_0x15469b(0xd7)](){const _0x348d59=a37_0x15469b;console[_0x348d59(0xe6)](_0x348d59(0xce)),console[_0x348d59(0xe6)]('ðŸ“¡\x20Target:\x20'+this[_0x348d59(0xc3)]),console[_0x348d59(0xe6)]('â°\x20Interval:\x20'+Math[_0x348d59(0xca)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x348d59(0xc2)),console['log'](_0x348d59(0xed)+this[_0x348d59(0xbf)]),this['checkDomain']()['then'](_0x5010d0=>{const _0x2d6a39=_0x348d59;if(!_0x5010d0&&this['consecutiveFailures']>=this[_0x2d6a39(0xbf)]){this[_0x2d6a39(0x10b)](_0x2d6a39(0xda)+this[_0x2d6a39(0xf4)]+_0x2d6a39(0x10a));return;}})['catch'](_0x3cd6ba=>{const _0x234d09=_0x348d59;console[_0x234d09(0x109)](_0x234d09(0xd6),_0x3cd6ba);if(this[_0x234d09(0xf4)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x234d09(0x10b)](_0x234d09(0xbb)+_0x3cd6ba[_0x234d09(0x10c)]);return;}}),this[_0x348d59(0xdb)]=setInterval(async()=>{const _0x329080=_0x348d59;try{const _0x6d7311=await this[_0x329080(0xe0)]();!_0x6d7311&&(console[_0x329080(0xf3)](_0x329080(0xc0)+this[_0x329080(0xf4)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x329080(0xf4)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer']('Domain\x20'+this[_0x329080(0xc3)]+_0x329080(0xf6)+this[_0x329080(0xf4)]+_0x329080(0xcc)));}catch(_0x2a5120){console[_0x329080(0x109)](_0x329080(0xc4),_0x2a5120),this[_0x329080(0xf4)]>=this[_0x329080(0xbf)]&&this[_0x329080(0x10b)](_0x329080(0xd8)+(_0x2a5120 instanceof Error?_0x2a5120['message']:'Unknown\x20error'));}},this[_0x348d59(0xe3)]),console['log'](_0x348d59(0x106));}['stopMonitoring'](){const _0x423177=a37_0x15469b;this['monitoringInterval']&&(clearInterval(this[_0x423177(0xdb)]),this[_0x423177(0xdb)]=null,console[_0x423177(0xe6)](_0x423177(0xd4)));}[a37_0x15469b(0xee)](){const _0x142973=a37_0x15469b;return{'isActive':!!this[_0x142973(0xdb)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x142973(0xca)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this['monitoringInterval']?this['CHECK_INTERVAL_MS']:undefined};}async[a37_0x15469b(0xe7)](){const _0x358ffe=a37_0x15469b;return console[_0x358ffe(0xe6)](_0x358ffe(0xe9)),await this[_0x358ffe(0xe0)]();}}function a37_0x13d3(_0x427115,_0x3043b7){const _0x10cd97=a37_0x10cd();return a37_0x13d3=function(_0x13d348,_0x44d55a){_0x13d348=_0x13d348-0xb4;let _0x1bfc19=_0x10cd97[_0x13d348];return _0x1bfc19;},a37_0x13d3(_0x427115,_0x3043b7);}exports[a37_0x15469b(0xd9)]=DomainMonitoringService,exports[a37_0x15469b(0x102)]=new DomainMonitoringService();