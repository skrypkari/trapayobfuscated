'use strict';const a40_0xa2d264=a40_0x4750;(function(_0x5486a8,_0x389eaf){const _0x385d8e=a40_0x4750,_0x29a262=_0x5486a8();while(!![]){try{const _0x31fc38=parseInt(_0x385d8e(0x190))/0x1*(-parseInt(_0x385d8e(0x1ad))/0x2)+-parseInt(_0x385d8e(0x1a7))/0x3+-parseInt(_0x385d8e(0x1a8))/0x4*(-parseInt(_0x385d8e(0x1c2))/0x5)+-parseInt(_0x385d8e(0x1d7))/0x6+parseInt(_0x385d8e(0x1ae))/0x7*(-parseInt(_0x385d8e(0x1ca))/0x8)+-parseInt(_0x385d8e(0x1d6))/0x9+-parseInt(_0x385d8e(0x1aa))/0xa*(-parseInt(_0x385d8e(0x1d8))/0xb);if(_0x31fc38===_0x389eaf)break;else _0x29a262['push'](_0x29a262['shift']());}catch(_0x1301a6){_0x29a262['push'](_0x29a262['shift']());}}}(a40_0x237f,0x463d8));function a40_0x4750(_0x13a02a,_0x4867c5){const _0x237ff8=a40_0x237f();return a40_0x4750=function(_0x475039,_0x5ed2d8){_0x475039=_0x475039-0x183;let _0x2d251d=_0x237ff8[_0x475039];return _0x2d251d;},a40_0x4750(_0x13a02a,_0x4867c5);}var __importDefault=this&&this['__importDefault']||function(_0xa921e){return _0xa921e&&_0xa921e['__esModule']?_0xa921e:{'default':_0xa921e};};Object[a40_0xa2d264(0x1a3)](exports,a40_0xa2d264(0x197),{'value':!![]}),exports['domainMonitoringService']=exports[a40_0xa2d264(0x198)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0xa2d264(0x1a5)));class DomainMonitoringService{constructor(){const _0x2f21d0=a40_0xa2d264;this[_0x2f21d0(0x1ab)]=null,this[_0x2f21d0(0x18a)]=_0x2f21d0(0x19d),this[_0x2f21d0(0x193)]=this[_0x2f21d0(0x1c0)](),this['TIMEOUT_MS']=0x7530,this[_0x2f21d0(0x1c4)]=0x0,this[_0x2f21d0(0x1ac)]=0x2,console[_0x2f21d0(0x18e)](_0x2f21d0(0x1b9)),console[_0x2f21d0(0x18e)](_0x2f21d0(0x1d3)+this['DOMAIN_URL']),console[_0x2f21d0(0x18e)](_0x2f21d0(0x1cb)+Math[_0x2f21d0(0x1b7)](this[_0x2f21d0(0x193)]/0x3e8/0x3c)+'\x20minutes');}['getRandomInterval'](){const _0x4a5b61=a40_0xa2d264,_0x24a86e=0xa,_0x3c2874=0xf,_0x10685e=Math[_0x4a5b61(0x192)]()*(_0x3c2874-_0x24a86e)+_0x24a86e;return Math[_0x4a5b61(0x1b7)](_0x10685e*0x3c*0x3e8);}['encodeToBase64'](_0x5a2c39){const _0x39de46=a40_0xa2d264;return Buffer['from'](_0x5a2c39)['toString'](_0x39de46(0x1c8));}[a40_0xa2d264(0x19c)](_0x1b8550){const _0x502622=a40_0xa2d264;return Buffer[_0x502622(0x1a1)](_0x1b8550,_0x502622(0x1c8))['toString'](_0x502622(0x195));}async[a40_0xa2d264(0x18b)](){const _0x56c4f9=a40_0xa2d264,_0x5cb453=Date[_0x56c4f9(0x186)]();try{console['log'](_0x56c4f9(0x1d1)+this[_0x56c4f9(0x18a)]);const _0x56d2ad=this[_0x56c4f9(0x1d9)](this[_0x56c4f9(0x18a)]);console[_0x56c4f9(0x18e)](_0x56c4f9(0x199)+_0x56d2ad);const _0xc398b9=this[_0x56c4f9(0x19c)](_0x56d2ad);console[_0x56c4f9(0x18e)](_0x56c4f9(0x1b6)+_0xc398b9);const _0x566a2d=new AbortController(),_0x448660=setTimeout(()=>_0x566a2d[_0x56c4f9(0x1c3)](),this['TIMEOUT_MS']),_0x1c65c2=await(0x0,node_fetch_1['default'])(_0xc398b9,{'method':_0x56c4f9(0x1cf),'headers':{'User-Agent':_0x56c4f9(0x19a),'Accept':_0x56c4f9(0x1af),'Accept-Language':_0x56c4f9(0x1d2),'Accept-Encoding':_0x56c4f9(0x19e),'Connection':_0x56c4f9(0x1bb),'Upgrade-Insecure-Requests':'1'},'signal':_0x566a2d['signal']});clearTimeout(_0x448660);const _0x23651c=Date[_0x56c4f9(0x186)]()-_0x5cb453;return console[_0x56c4f9(0x18e)]('üìä\x20Response\x20received:'),console[_0x56c4f9(0x18e)](_0x56c4f9(0x1c5)+_0x1c65c2[_0x56c4f9(0x1cc)]+'\x20'+_0x1c65c2[_0x56c4f9(0x1cd)]),console[_0x56c4f9(0x18e)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x23651c+'ms'),console[_0x56c4f9(0x18e)](_0x56c4f9(0x188),Object[_0x56c4f9(0x1b1)](_0x1c65c2[_0x56c4f9(0x196)][_0x56c4f9(0x18f)]())),_0x1c65c2['ok']&&_0x1c65c2[_0x56c4f9(0x1cc)]>=0xc8&&_0x1c65c2[_0x56c4f9(0x1cc)]<0x190?(console[_0x56c4f9(0x18e)](_0x56c4f9(0x1a4)+_0x1c65c2[_0x56c4f9(0x1cc)]+_0x56c4f9(0x1c6)+_0x23651c+'ms'),this[_0x56c4f9(0x1c4)]=0x0,!![]):(console[_0x56c4f9(0x185)](_0x56c4f9(0x1a0)+_0x1c65c2[_0x56c4f9(0x1cc)]+'\x20'+_0x1c65c2[_0x56c4f9(0x1cd)]),this[_0x56c4f9(0x1c4)]++,![]);}catch(_0x5c2188){const _0x5e70a3=Date['now']()-_0x5cb453;this[_0x56c4f9(0x1c4)]++,console['error'](_0x56c4f9(0x184)+_0x5e70a3+'ms:',_0x5c2188);if(_0x5c2188 instanceof Error){if(_0x5c2188['name']==='AbortError')console[_0x56c4f9(0x185)](_0x56c4f9(0x1c1)+this[_0x56c4f9(0x1ba)]+'ms');else{if(_0x5c2188['message']['includes'](_0x56c4f9(0x1c9)))console[_0x56c4f9(0x185)](_0x56c4f9(0x187)+this[_0x56c4f9(0x18a)]);else{if(_0x5c2188[_0x56c4f9(0x19b)][_0x56c4f9(0x1a6)](_0x56c4f9(0x1ce)))console['error'](_0x56c4f9(0x194)+this[_0x56c4f9(0x18a)]);else _0x5c2188[_0x56c4f9(0x19b)]['includes']('ETIMEDOUT')?console[_0x56c4f9(0x185)](_0x56c4f9(0x1d4)+this[_0x56c4f9(0x18a)]):console[_0x56c4f9(0x185)](_0x56c4f9(0x1bf)+_0x5c2188[_0x56c4f9(0x19b)]);}}}return![];}}[a40_0xa2d264(0x1bd)](_0x36600e){const _0x682231=a40_0xa2d264;console[_0x682231(0x185)]('üí•\x20CRITICAL\x20ERROR:\x20'+_0x36600e),console[_0x682231(0x185)](_0x682231(0x1b2)+this[_0x682231(0x1c4)]),console[_0x682231(0x185)](_0x682231(0x18c)),console[_0x682231(0x185)]('üìÖ\x20Crash\x20time:\x20'+new Date()['toISOString']()),console[_0x682231(0x185)]('üîç\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console['error'](_0x682231(0x1cb)+Math['round'](this[_0x682231(0x193)]/0x3e8/0x3c)+_0x682231(0x1d0)),console[_0x682231(0x185)]('üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process['exit'](0x1);}['startMonitoring'](){const _0x140bf6=a40_0xa2d264;console['log'](_0x140bf6(0x1b0)),console[_0x140bf6(0x18e)]('üì°\x20Target:\x20'+this['DOMAIN_URL']),console[_0x140bf6(0x18e)](_0x140bf6(0x191)+Math[_0x140bf6(0x1b7)](this[_0x140bf6(0x193)]/0x3e8/0x3c)+_0x140bf6(0x1d0)),console['log'](_0x140bf6(0x1be)+this[_0x140bf6(0x1ac)]),this[_0x140bf6(0x18b)]()[_0x140bf6(0x1b5)](_0x57bba0=>{const _0x404e8f=_0x140bf6;if(!_0x57bba0&&this[_0x404e8f(0x1c4)]>=this[_0x404e8f(0x1ac)]){this['crashServer'](_0x404e8f(0x1b3)+this['consecutiveFailures']+_0x404e8f(0x1a9));return;}})[_0x140bf6(0x18d)](_0x45fbdd=>{const _0x27f810=_0x140bf6;console[_0x27f810(0x185)]('Initial\x20domain\x20check\x20error:',_0x45fbdd);if(this[_0x27f810(0x1c4)]>=this[_0x27f810(0x1ac)]){this[_0x27f810(0x1bd)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x45fbdd[_0x27f810(0x19b)]);return;}}),this[_0x140bf6(0x1ab)]=setInterval(async()=>{const _0x4c418b=_0x140bf6;try{const _0x2c65a6=await this['checkDomain']();!_0x2c65a6&&(console[_0x4c418b(0x189)]('‚ö†Ô∏è\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x4c418b(0x1ac)]+')'),this[_0x4c418b(0x1c4)]>=this[_0x4c418b(0x1ac)]&&this[_0x4c418b(0x1bd)](_0x4c418b(0x1b8)+this[_0x4c418b(0x18a)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x4c418b(0x1c4)]+_0x4c418b(0x1bc)));}catch(_0x3cb23a){console[_0x4c418b(0x185)]('Periodic\x20domain\x20check\x20error:',_0x3cb23a),this[_0x4c418b(0x1c4)]>=this[_0x4c418b(0x1ac)]&&this['crashServer'](_0x4c418b(0x1a2)+(_0x3cb23a instanceof Error?_0x3cb23a[_0x4c418b(0x19b)]:_0x4c418b(0x183)));}},this[_0x140bf6(0x193)]),console['log']('‚úÖ\x20Domain\x20monitoring\x20started\x20successfully');}[a40_0xa2d264(0x1b4)](){const _0x10f64b=a40_0xa2d264;this[_0x10f64b(0x1ab)]&&(clearInterval(this[_0x10f64b(0x1ab)]),this[_0x10f64b(0x1ab)]=null,console['log'](_0x10f64b(0x1d5)));}[a40_0xa2d264(0x1c7)](){const _0x146ab1=a40_0xa2d264;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x146ab1(0x18a)],'checkIntervalMinutes':Math[_0x146ab1(0x1b7)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x146ab1(0x1c4)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x146ab1(0x1ab)]?this[_0x146ab1(0x193)]:undefined};}async['manualCheck'](){const _0x31391a=a40_0xa2d264;return console[_0x31391a(0x18e)](_0x31391a(0x19f)),await this[_0x31391a(0x18b)]();}}exports[a40_0xa2d264(0x198)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();function a40_0x237f(){const _0x2175ad=['monitoringInterval','MAX_CONSECUTIVE_FAILURES','134254bpNXmL','2947DCTpbT','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','üöÄ\x20Starting\x20domain\x20monitoring\x20service','fromEntries','üî•\x20Consecutive\x20failures:\x20','Initial\x20domain\x20check\x20failed\x20','stopMonitoring','then','üîì\x20Decoded\x20URL:\x20','round','Domain\x20','üîç\x20Domain\x20monitoring\x20service\x20initialized','TIMEOUT_MS','keep-alive','\x20consecutive\x20attempts','crashServer','üö®\x20Max\x20failures\x20before\x20crash:\x20','üî•\x20Unexpected\x20error:\x20','getRandomInterval','‚è∞\x20Request\x20timeout\x20after\x20','10JAzghM','abort','consecutiveFailures','\x20\x20\x20-\x20Status:\x20','\x20in\x20','getMonitoringStats','base64','ENOTFOUND','8488aAkTGo','‚è∞\x20Check\x20interval:\x20','status','statusText','ECONNREFUSED','GET','\x20minutes','üîç\x20Checking\x20domain\x20availability:\x20','en-US,en;q=0.5','üì°\x20Target\x20domain:\x20','‚è∞\x20Connection\x20timeout\x20to\x20','üõë\x20Domain\x20monitoring\x20stopped','3547062cmQxJK','1278360ZDvaHn','11ncCVKM','encodeToBase64','Unknown\x20error','‚ùå\x20Domain\x20check\x20error\x20after\x20','error','now','üåê\x20DNS\x20resolution\x20failed\x20for\x20','\x20\x20\x20-\x20Headers:','warn','DOMAIN_URL','checkDomain','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','catch','log','entries','4usDHWY','‚è∞\x20Interval:\x20','random','CHECK_INTERVAL_MS','üö´\x20Connection\x20refused\x20by\x20','utf-8','headers','__esModule','DomainMonitoringService','üìù\x20Encoded\x20URL\x20(base64):\x20','TesSoft\x20Domain\x20Monitor/1.0','message','decodeFromBase64','https://google.com','gzip,\x20deflate','üîß\x20Manual\x20domain\x20check\x20requested','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','from','Domain\x20monitoring\x20threw\x20error:\x20','defineProperty','‚úÖ\x20Domain\x20check\x20successful:\x20','node-fetch','includes','423654BWljYn','81832HRtTZB','\x20times','17103730zRuyEi'];a40_0x237f=function(){return _0x2175ad;};return a40_0x237f();}