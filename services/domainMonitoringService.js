'use strict';const a39_0xdad6b2=a39_0x54e5;(function(_0x3df024,_0x5c94f7){const _0x61223c=a39_0x54e5,_0x17bfaa=_0x3df024();while(!![]){try{const _0x4b1188=parseInt(_0x61223c(0x197))/0x1*(-parseInt(_0x61223c(0x152))/0x2)+-parseInt(_0x61223c(0x15b))/0x3+parseInt(_0x61223c(0x171))/0x4+parseInt(_0x61223c(0x1a1))/0x5+-parseInt(_0x61223c(0x155))/0x6+parseInt(_0x61223c(0x176))/0x7+parseInt(_0x61223c(0x16c))/0x8;if(_0x4b1188===_0x5c94f7)break;else _0x17bfaa['push'](_0x17bfaa['shift']());}catch(_0x54a9a6){_0x17bfaa['push'](_0x17bfaa['shift']());}}}(a39_0x59b9,0x45e23));function a39_0x59b9(){const _0x3b9858=['⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','🔧\x20Manual\x20domain\x20check\x20requested','ECONNREFUSED','error','now','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','getMonitoringStats','entries','__esModule','stopMonitoring','🔍\x20Domain\x20being\x20monitored:\x20','crashServer','DOMAIN_URL','base64','decodeFromBase64','domainMonitoringService','toISOString','default','\x20\x20\x20-\x20Headers:','utf-8','keep-alive','\x20consecutive\x20attempts','includes','message','⏰\x20Connection\x20timeout\x20to\x20','toString','42gRVWrR','signal','getRandomInterval','__importDefault','fromEntries','🔥\x20Unexpected\x20error:\x20','defineProperty','CHECK_INTERVAL_MS','📝\x20Encoded\x20URL\x20(base64):\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','638910vAreTI','checkDomain','📡\x20Target\x20domain:\x20','Initial\x20domain\x20check\x20error:','\x20is\x20not\x20responding\x20after\x20','monitoringInterval','💥\x20CRITICAL\x20ERROR:\x20','gzip,\x20deflate','\x20minutes','⏰\x20Check\x20interval:\x20','20946wtOeMt','warn','encodeToBase64','412368JQaWan','Domain\x20','❌\x20Domain\x20check\x20error\x20after\x20','MAX_CONSECUTIVE_FAILURES','en-US,en;q=0.5','🔓\x20Decoded\x20URL:\x20','1640838UKBlqQ','✅\x20Domain\x20check\x20successful:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','consecutiveFailures','ms:','Domain\x20monitoring\x20threw\x20error:\x20','DomainMonitoringService','abort','ENOTFOUND','🚨\x20Max\x20failures\x20before\x20crash:\x20','name','TesSoft\x20Domain\x20Monitor/1.0','Initial\x20domain\x20check\x20threw\x20error:\x20','from','GET','Initial\x20domain\x20check\x20failed\x20','round','4171448fAKvVB','log','then','\x20in\x20','status','791284NNuKnJ','⏰\x20Request\x20timeout\x20after\x20','catch','manualCheck','\x20\x20\x20-\x20Status:\x20','3463243jzSbck','Unknown\x20error','🔍\x20Domain\x20monitoring\x20service\x20initialized','statusText','TIMEOUT_MS','Periodic\x20domain\x20check\x20error:','https://google.com'];a39_0x59b9=function(){return _0x3b9858;};return a39_0x59b9();}var __importDefault=this&&this[a39_0xdad6b2(0x19a)]||function(_0x98a17c){const _0x24f6dc=a39_0xdad6b2;return _0x98a17c&&_0x98a17c[_0x24f6dc(0x185)]?_0x98a17c:{'default':_0x98a17c};};function a39_0x54e5(_0x46f87d,_0x3500a2){const _0x59b90b=a39_0x59b9();return a39_0x54e5=function(_0x54e57d,_0xafe425){_0x54e57d=_0x54e57d-0x14a;let _0x2932ea=_0x59b90b[_0x54e57d];return _0x2932ea;},a39_0x54e5(_0x46f87d,_0x3500a2);}Object[a39_0xdad6b2(0x19d)](exports,a39_0xdad6b2(0x185),{'value':!![]}),exports[a39_0xdad6b2(0x18c)]=exports[a39_0xdad6b2(0x161)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x1ff1cc=a39_0xdad6b2;this[_0x1ff1cc(0x14d)]=null,this[_0x1ff1cc(0x189)]=_0x1ff1cc(0x17c),this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this[_0x1ff1cc(0x17a)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x1ff1cc(0x16d)](_0x1ff1cc(0x178)),console['log'](_0x1ff1cc(0x14a)+this['DOMAIN_URL']),console[_0x1ff1cc(0x16d)](_0x1ff1cc(0x151)+Math[_0x1ff1cc(0x16b)](this[_0x1ff1cc(0x19e)]/0x3e8/0x3c)+_0x1ff1cc(0x150));}[a39_0xdad6b2(0x199)](){const _0x54a6fc=0xa,_0x50455e=0xf,_0x4a6198=Math['random']()*(_0x50455e-_0x54a6fc)+_0x54a6fc;return Math['round'](_0x4a6198*0x3c*0x3e8);}[a39_0xdad6b2(0x154)](_0x74ccd6){const _0x1d8d4c=a39_0xdad6b2;return Buffer[_0x1d8d4c(0x168)](_0x74ccd6)[_0x1d8d4c(0x196)](_0x1d8d4c(0x18a));}['decodeFromBase64'](_0x11bc4c){const _0x25affc=a39_0xdad6b2;return Buffer[_0x25affc(0x168)](_0x11bc4c,_0x25affc(0x18a))[_0x25affc(0x196)](_0x25affc(0x190));}async[a39_0xdad6b2(0x1a2)](){const _0x4ff99e=a39_0xdad6b2,_0x515cf0=Date[_0x4ff99e(0x181)]();try{console[_0x4ff99e(0x16d)]('🔍\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x2bd293=this[_0x4ff99e(0x154)](this['DOMAIN_URL']);console[_0x4ff99e(0x16d)](_0x4ff99e(0x19f)+_0x2bd293);const _0x5ea064=this[_0x4ff99e(0x18b)](_0x2bd293);console[_0x4ff99e(0x16d)](_0x4ff99e(0x15a)+_0x5ea064);const _0x1a032e=new AbortController(),_0x56cc52=setTimeout(()=>_0x1a032e[_0x4ff99e(0x162)](),this['TIMEOUT_MS']),_0x1d775d=await(0x0,node_fetch_1[_0x4ff99e(0x18e)])(_0x5ea064,{'method':_0x4ff99e(0x169),'headers':{'User-Agent':_0x4ff99e(0x166),'Accept':_0x4ff99e(0x182),'Accept-Language':_0x4ff99e(0x159),'Accept-Encoding':_0x4ff99e(0x14f),'Connection':_0x4ff99e(0x191),'Upgrade-Insecure-Requests':'1'},'signal':_0x1a032e[_0x4ff99e(0x198)]});clearTimeout(_0x56cc52);const _0x1c2d44=Date[_0x4ff99e(0x181)]()-_0x515cf0;return console[_0x4ff99e(0x16d)]('📊\x20Response\x20received:'),console[_0x4ff99e(0x16d)](_0x4ff99e(0x175)+_0x1d775d[_0x4ff99e(0x170)]+'\x20'+_0x1d775d[_0x4ff99e(0x179)]),console[_0x4ff99e(0x16d)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x1c2d44+'ms'),console['log'](_0x4ff99e(0x18f),Object[_0x4ff99e(0x19b)](_0x1d775d['headers'][_0x4ff99e(0x184)]())),_0x1d775d['ok']&&_0x1d775d[_0x4ff99e(0x170)]>=0xc8&&_0x1d775d[_0x4ff99e(0x170)]<0x190?(console[_0x4ff99e(0x16d)](_0x4ff99e(0x15c)+_0x1d775d[_0x4ff99e(0x170)]+_0x4ff99e(0x16f)+_0x1c2d44+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x4ff99e(0x180)](_0x4ff99e(0x1a0)+_0x1d775d[_0x4ff99e(0x170)]+'\x20'+_0x1d775d[_0x4ff99e(0x179)]),this[_0x4ff99e(0x15e)]++,![]);}catch(_0x3d2c1f){const _0x1e46c8=Date['now']()-_0x515cf0;this[_0x4ff99e(0x15e)]++,console['error'](_0x4ff99e(0x157)+_0x1e46c8+_0x4ff99e(0x15f),_0x3d2c1f);if(_0x3d2c1f instanceof Error){if(_0x3d2c1f[_0x4ff99e(0x165)]==='AbortError')console[_0x4ff99e(0x180)](_0x4ff99e(0x172)+this['TIMEOUT_MS']+'ms');else{if(_0x3d2c1f[_0x4ff99e(0x194)][_0x4ff99e(0x193)](_0x4ff99e(0x163)))console[_0x4ff99e(0x180)](_0x4ff99e(0x15d)+this[_0x4ff99e(0x189)]);else{if(_0x3d2c1f[_0x4ff99e(0x194)]['includes'](_0x4ff99e(0x17f)))console[_0x4ff99e(0x180)]('🚫\x20Connection\x20refused\x20by\x20'+this[_0x4ff99e(0x189)]);else _0x3d2c1f[_0x4ff99e(0x194)]['includes']('ETIMEDOUT')?console[_0x4ff99e(0x180)](_0x4ff99e(0x195)+this['DOMAIN_URL']):console[_0x4ff99e(0x180)](_0x4ff99e(0x19c)+_0x3d2c1f['message']);}}}return![];}}[a39_0xdad6b2(0x188)](_0x22308b){const _0x337c8c=a39_0xdad6b2;console[_0x337c8c(0x180)](_0x337c8c(0x14e)+_0x22308b),console['error']('🔥\x20Consecutive\x20failures:\x20'+this[_0x337c8c(0x15e)]),console[_0x337c8c(0x180)](_0x337c8c(0x17d)),console[_0x337c8c(0x180)]('📅\x20Crash\x20time:\x20'+new Date()[_0x337c8c(0x18d)]()),console['error'](_0x337c8c(0x187)+this[_0x337c8c(0x189)]),console[_0x337c8c(0x180)]('⏰\x20Check\x20interval:\x20'+Math[_0x337c8c(0x16b)](this[_0x337c8c(0x19e)]/0x3e8/0x3c)+'\x20minutes'),console[_0x337c8c(0x180)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x337c8c(0x158)]),this[_0x337c8c(0x186)](),process['exit'](0x1);}['startMonitoring'](){const _0x34e0ee=a39_0xdad6b2;console[_0x34e0ee(0x16d)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x34e0ee(0x16d)]('📡\x20Target:\x20'+this[_0x34e0ee(0x189)]),console[_0x34e0ee(0x16d)]('⏰\x20Interval:\x20'+Math['round'](this[_0x34e0ee(0x19e)]/0x3e8/0x3c)+_0x34e0ee(0x150)),console[_0x34e0ee(0x16d)](_0x34e0ee(0x164)+this[_0x34e0ee(0x158)]),this[_0x34e0ee(0x1a2)]()[_0x34e0ee(0x16e)](_0x1cdb1a=>{const _0x2cd86f=_0x34e0ee;if(!_0x1cdb1a&&this[_0x2cd86f(0x15e)]>=this[_0x2cd86f(0x158)]){this[_0x2cd86f(0x188)](_0x2cd86f(0x16a)+this[_0x2cd86f(0x15e)]+'\x20times');return;}})[_0x34e0ee(0x173)](_0x531eb4=>{const _0x5f1499=_0x34e0ee;console['error'](_0x5f1499(0x14b),_0x531eb4);if(this[_0x5f1499(0x15e)]>=this[_0x5f1499(0x158)]){this[_0x5f1499(0x188)](_0x5f1499(0x167)+_0x531eb4[_0x5f1499(0x194)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x3333e6=_0x34e0ee;try{const _0x337034=await this[_0x3333e6(0x1a2)]();!_0x337034&&(console[_0x3333e6(0x153)]('⚠️\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x3333e6(0x158)]+')'),this[_0x3333e6(0x15e)]>=this[_0x3333e6(0x158)]&&this['crashServer'](_0x3333e6(0x156)+this[_0x3333e6(0x189)]+_0x3333e6(0x14c)+this[_0x3333e6(0x15e)]+_0x3333e6(0x192)));}catch(_0x22c45e){console[_0x3333e6(0x180)](_0x3333e6(0x17b),_0x22c45e),this['consecutiveFailures']>=this[_0x3333e6(0x158)]&&this['crashServer'](_0x3333e6(0x160)+(_0x22c45e instanceof Error?_0x22c45e[_0x3333e6(0x194)]:_0x3333e6(0x177)));}},this[_0x34e0ee(0x19e)]),console[_0x34e0ee(0x16d)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a39_0xdad6b2(0x186)](){const _0x26cd5e=a39_0xdad6b2;this[_0x26cd5e(0x14d)]&&(clearInterval(this[_0x26cd5e(0x14d)]),this[_0x26cd5e(0x14d)]=null,console[_0x26cd5e(0x16d)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0xdad6b2(0x183)](){const _0x4dc378=a39_0xdad6b2;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x4dc378(0x189)],'checkIntervalMinutes':Math[_0x4dc378(0x16b)](this[_0x4dc378(0x19e)]/0x3e8/0x3c),'consecutiveFailures':this[_0x4dc378(0x15e)],'maxFailuresAllowed':this[_0x4dc378(0x158)],'nextCheckIn':this[_0x4dc378(0x14d)]?this[_0x4dc378(0x19e)]:undefined};}async[a39_0xdad6b2(0x174)](){const _0x2022c2=a39_0xdad6b2;return console['log'](_0x2022c2(0x17e)),await this['checkDomain']();}}exports[a39_0xdad6b2(0x161)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();