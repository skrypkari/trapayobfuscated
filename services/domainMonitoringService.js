'use strict';const a39_0x11603b=a39_0x5058;(function(_0x5a5a10,_0x197c50){const _0x23b14f=a39_0x5058,_0x3a1206=_0x5a5a10();while(!![]){try{const _0x546684=parseInt(_0x23b14f(0x131))/0x1*(parseInt(_0x23b14f(0x101))/0x2)+-parseInt(_0x23b14f(0xf3))/0x3*(parseInt(_0x23b14f(0xef))/0x4)+-parseInt(_0x23b14f(0x12c))/0x5*(parseInt(_0x23b14f(0x11b))/0x6)+parseInt(_0x23b14f(0xfa))/0x7*(-parseInt(_0x23b14f(0xfe))/0x8)+-parseInt(_0x23b14f(0xf8))/0x9*(parseInt(_0x23b14f(0xe1))/0xa)+-parseInt(_0x23b14f(0x10a))/0xb+parseInt(_0x23b14f(0xf9))/0xc;if(_0x546684===_0x197c50)break;else _0x3a1206['push'](_0x3a1206['shift']());}catch(_0x5ad4c7){_0x3a1206['push'](_0x3a1206['shift']());}}}(a39_0x2355,0x5de6a));function a39_0x2355(){const _0x15417c=['5nROtZE','now','⏰\x20Interval:\x20','toString','🛑\x20Domain\x20monitoring\x20stopped','1fPhgtY','fromEntries','🚨\x20Max\x20failures\x20before\x20crash:\x20','en-US,en;q=0.5','entries','📊\x20Response\x20received:','Initial\x20domain\x20check\x20failed\x20','__esModule','exit','GET','getRandomInterval','🚫\x20Connection\x20refused\x20by\x20','470KNmnQa','TIMEOUT_MS','\x20is\x20not\x20responding\x20after\x20','manualCheck','round','error','📅\x20Crash\x20time:\x20','\x20\x20\x20-\x20Response\x20time:\x20','DOMAIN_URL','consecutiveFailures','log','Periodic\x20domain\x20check\x20error:','❌\x20Domain\x20check\x20error\x20after\x20','startMonitoring','60MEcMcE','abort','🔍\x20Domain\x20being\x20monitored:\x20','🔓\x20Decoded\x20URL:\x20','97497pkEZcA','MAX_CONSECUTIVE_FAILURES','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','⏰\x20Connection\x20timeout\x20to\x20','__importDefault','109134LAjrJh','31113504DhyLaN','4662679IQUCuy','toISOString','includes','node-fetch','8DcVrcE','Domain\x20','📝\x20Encoded\x20URL\x20(base64):\x20','312134UHcxFN','🔥\x20Consecutive\x20failures:\x20','⏰\x20Check\x20interval:\x20','ENOTFOUND','statusText','\x20consecutive\x20attempts','CHECK_INTERVAL_MS','ms:','📡\x20Target:\x20','6026350MGdyYO','ETIMEDOUT','crashServer','DomainMonitoringService','status','signal','monitoringInterval','default','gzip,\x20deflate','domainMonitoringService','Unknown\x20error','headers','\x20\x20\x20-\x20Headers:','message','📡\x20Target\x20domain:\x20','\x20minutes','keep-alive','557322qbFvNW','from','base64','Initial\x20domain\x20check\x20threw\x20error:\x20','Domain\x20monitoring\x20threw\x20error:\x20','\x20in\x20','Initial\x20domain\x20check\x20error:','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','💥\x20CRITICAL\x20ERROR:\x20','utf-8','checkDomain','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ECONNREFUSED','🔍\x20Domain\x20monitoring\x20service\x20initialized','warn','✅\x20Domain\x20check\x20successful:\x20','encodeToBase64'];a39_0x2355=function(){return _0x15417c;};return a39_0x2355();}function a39_0x5058(_0x5d3c8f,_0x35fe36){const _0x2355b0=a39_0x2355();return a39_0x5058=function(_0x5058d4,_0x20a0bf){_0x5058d4=_0x5058d4-0xdd;let _0x280118=_0x2355b0[_0x5058d4];return _0x280118;},a39_0x5058(_0x5d3c8f,_0x35fe36);}var __importDefault=this&&this[a39_0x11603b(0xf7)]||function(_0x362189){const _0x19b983=a39_0x11603b;return _0x362189&&_0x362189[_0x19b983(0x138)]?_0x362189:{'default':_0x362189};};Object['defineProperty'](exports,a39_0x11603b(0x138),{'value':!![]}),exports[a39_0x11603b(0x113)]=exports[a39_0x11603b(0x10d)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x11603b(0xfd)));class DomainMonitoringService{constructor(){const _0x5bad22=a39_0x11603b;this[_0x5bad22(0x110)]=null,this[_0x5bad22(0xe9)]='https://google.com',this[_0x5bad22(0x107)]=this[_0x5bad22(0xdf)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x5bad22(0xf4)]=0x2,console['log'](_0x5bad22(0x128)),console[_0x5bad22(0xeb)](_0x5bad22(0x118)+this[_0x5bad22(0xe9)]),console['log']('⏰\x20Check\x20interval:\x20'+Math[_0x5bad22(0xe5)](this[_0x5bad22(0x107)]/0x3e8/0x3c)+'\x20minutes');}[a39_0x11603b(0xdf)](){const _0x16a03f=a39_0x11603b,_0x414cce=0xa,_0x5cae19=0xf,_0x56b473=Math['random']()*(_0x5cae19-_0x414cce)+_0x414cce;return Math[_0x16a03f(0xe5)](_0x56b473*0x3c*0x3e8);}[a39_0x11603b(0x12b)](_0x53d573){return Buffer['from'](_0x53d573)['toString']('base64');}['decodeFromBase64'](_0x208af2){const _0x2f0887=a39_0x11603b;return Buffer[_0x2f0887(0x11c)](_0x208af2,_0x2f0887(0x11d))[_0x2f0887(0x12f)](_0x2f0887(0x124));}async[a39_0x11603b(0x125)](){const _0x117f31=a39_0x11603b,_0xea142a=Date[_0x117f31(0x12d)]();try{console[_0x117f31(0xeb)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x117f31(0xe9)]);const _0x170e07=this[_0x117f31(0x12b)](this['DOMAIN_URL']);console[_0x117f31(0xeb)](_0x117f31(0x100)+_0x170e07);const _0x2fb4bf=this['decodeFromBase64'](_0x170e07);console[_0x117f31(0xeb)](_0x117f31(0xf2)+_0x2fb4bf);const _0x487c75=new AbortController(),_0x5209ac=setTimeout(()=>_0x487c75[_0x117f31(0xf0)](),this[_0x117f31(0xe2)]),_0x3f1931=await(0x0,node_fetch_1[_0x117f31(0x111)])(_0x2fb4bf,{'method':_0x117f31(0xde),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x117f31(0x126),'Accept-Language':_0x117f31(0x134),'Accept-Encoding':_0x117f31(0x112),'Connection':_0x117f31(0x11a),'Upgrade-Insecure-Requests':'1'},'signal':_0x487c75[_0x117f31(0x10f)]});clearTimeout(_0x5209ac);const _0x365869=Date[_0x117f31(0x12d)]()-_0xea142a;return console['log'](_0x117f31(0x136)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x3f1931['status']+'\x20'+_0x3f1931[_0x117f31(0x105)]),console[_0x117f31(0xeb)](_0x117f31(0xe8)+_0x365869+'ms'),console[_0x117f31(0xeb)](_0x117f31(0x116),Object[_0x117f31(0x132)](_0x3f1931[_0x117f31(0x115)][_0x117f31(0x135)]())),_0x3f1931['ok']&&_0x3f1931['status']>=0xc8&&_0x3f1931[_0x117f31(0x10e)]<0x190?(console['log'](_0x117f31(0x12a)+_0x3f1931[_0x117f31(0x10e)]+_0x117f31(0x120)+_0x365869+'ms'),this[_0x117f31(0xea)]=0x0,!![]):(console[_0x117f31(0xe6)](_0x117f31(0xf5)+_0x3f1931[_0x117f31(0x10e)]+'\x20'+_0x3f1931[_0x117f31(0x105)]),this[_0x117f31(0xea)]++,![]);}catch(_0x5e4bf4){const _0x54ff0=Date[_0x117f31(0x12d)]()-_0xea142a;this[_0x117f31(0xea)]++,console[_0x117f31(0xe6)](_0x117f31(0xed)+_0x54ff0+_0x117f31(0x108),_0x5e4bf4);if(_0x5e4bf4 instanceof Error){if(_0x5e4bf4['name']==='AbortError')console[_0x117f31(0xe6)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x117f31(0xe2)]+'ms');else{if(_0x5e4bf4[_0x117f31(0x117)][_0x117f31(0xfc)](_0x117f31(0x104)))console[_0x117f31(0xe6)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x117f31(0xe9)]);else{if(_0x5e4bf4[_0x117f31(0x117)][_0x117f31(0xfc)](_0x117f31(0x127)))console[_0x117f31(0xe6)](_0x117f31(0xe0)+this['DOMAIN_URL']);else _0x5e4bf4[_0x117f31(0x117)][_0x117f31(0xfc)](_0x117f31(0x10b))?console['error'](_0x117f31(0xf6)+this[_0x117f31(0xe9)]):console[_0x117f31(0xe6)]('🔥\x20Unexpected\x20error:\x20'+_0x5e4bf4[_0x117f31(0x117)]);}}}return![];}}[a39_0x11603b(0x10c)](_0x4cae25){const _0x8b2c70=a39_0x11603b;console['error'](_0x8b2c70(0x123)+_0x4cae25),console['error'](_0x8b2c70(0x102)+this['consecutiveFailures']),console[_0x8b2c70(0xe6)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x8b2c70(0xe7)+new Date()[_0x8b2c70(0xfb)]()),console[_0x8b2c70(0xe6)](_0x8b2c70(0xf1)+this[_0x8b2c70(0xe9)]),console[_0x8b2c70(0xe6)](_0x8b2c70(0x103)+Math[_0x8b2c70(0xe5)](this[_0x8b2c70(0x107)]/0x3e8/0x3c)+_0x8b2c70(0x119)),console[_0x8b2c70(0xe6)](_0x8b2c70(0x122)+this[_0x8b2c70(0xf4)]),this['stopMonitoring'](),process[_0x8b2c70(0xdd)](0x1);}[a39_0x11603b(0xee)](){const _0x152ba3=a39_0x11603b;console[_0x152ba3(0xeb)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x152ba3(0x109)+this['DOMAIN_URL']),console[_0x152ba3(0xeb)](_0x152ba3(0x12e)+Math[_0x152ba3(0xe5)](this[_0x152ba3(0x107)]/0x3e8/0x3c)+_0x152ba3(0x119)),console[_0x152ba3(0xeb)](_0x152ba3(0x133)+this[_0x152ba3(0xf4)]),this['checkDomain']()['then'](_0x2ff13e=>{const _0x1c79ff=_0x152ba3;if(!_0x2ff13e&&this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x1c79ff(0x10c)](_0x1c79ff(0x137)+this[_0x1c79ff(0xea)]+'\x20times');return;}})['catch'](_0x50c507=>{const _0xc38a38=_0x152ba3;console[_0xc38a38(0xe6)](_0xc38a38(0x121),_0x50c507);if(this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']){this[_0xc38a38(0x10c)](_0xc38a38(0x11e)+_0x50c507[_0xc38a38(0x117)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x4f346c=_0x152ba3;try{const _0x33debb=await this[_0x4f346c(0x125)]();!_0x33debb&&(console[_0x4f346c(0x129)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x4f346c(0xea)]+'/'+this[_0x4f346c(0xf4)]+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer'](_0x4f346c(0xff)+this[_0x4f346c(0xe9)]+_0x4f346c(0xe3)+this['consecutiveFailures']+_0x4f346c(0x106)));}catch(_0x2ee525){console[_0x4f346c(0xe6)](_0x4f346c(0xec),_0x2ee525),this[_0x4f346c(0xea)]>=this[_0x4f346c(0xf4)]&&this[_0x4f346c(0x10c)](_0x4f346c(0x11f)+(_0x2ee525 instanceof Error?_0x2ee525['message']:_0x4f346c(0x114)));}},this[_0x152ba3(0x107)]),console['log']('✅\x20Domain\x20monitoring\x20started\x20successfully');}['stopMonitoring'](){const _0x3dfc33=a39_0x11603b;this[_0x3dfc33(0x110)]&&(clearInterval(this[_0x3dfc33(0x110)]),this[_0x3dfc33(0x110)]=null,console['log'](_0x3dfc33(0x130)));}['getMonitoringStats'](){const _0x49cdfe=a39_0x11603b;return{'isActive':!!this[_0x49cdfe(0x110)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x49cdfe(0xe5)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x49cdfe(0xea)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x49cdfe(0x110)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x11603b(0xe4)](){const _0x237a34=a39_0x11603b;return console[_0x237a34(0xeb)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this['checkDomain']();}}exports[a39_0x11603b(0x10d)]=DomainMonitoringService,exports[a39_0x11603b(0x113)]=new DomainMonitoringService();