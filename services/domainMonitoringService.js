'use strict';const a39_0x222098=a39_0x542f;function a39_0x542f(_0x443344,_0x25c8bf){const _0x531344=a39_0x5313();return a39_0x542f=function(_0x542f78,_0x306031){_0x542f78=_0x542f78-0x1c0;let _0x518f17=_0x531344[_0x542f78];return _0x518f17;},a39_0x542f(_0x443344,_0x25c8bf);}(function(_0x1c3248,_0x58c175){const _0x39629f=a39_0x542f,_0x59a02d=_0x1c3248();while(!![]){try{const _0xa10b15=parseInt(_0x39629f(0x1ec))/0x1*(-parseInt(_0x39629f(0x218))/0x2)+-parseInt(_0x39629f(0x201))/0x3*(-parseInt(_0x39629f(0x1e1))/0x4)+parseInt(_0x39629f(0x1e8))/0x5*(-parseInt(_0x39629f(0x1c4))/0x6)+parseInt(_0x39629f(0x213))/0x7*(-parseInt(_0x39629f(0x207))/0x8)+-parseInt(_0x39629f(0x21e))/0x9+parseInt(_0x39629f(0x1fe))/0xa*(parseInt(_0x39629f(0x1eb))/0xb)+parseInt(_0x39629f(0x1dd))/0xc;if(_0xa10b15===_0x58c175)break;else _0x59a02d['push'](_0x59a02d['shift']());}catch(_0x2fde2d){_0x59a02d['push'](_0x59a02d['shift']());}}}(a39_0x5313,0xed111));var __importDefault=this&&this[a39_0x222098(0x20b)]||function(_0x3bd1f2){const _0xfd0a6d=a39_0x222098;return _0x3bd1f2&&_0x3bd1f2[_0xfd0a6d(0x202)]?_0x3bd1f2:{'default':_0x3bd1f2};};Object[a39_0x222098(0x1d0)](exports,a39_0x222098(0x202),{'value':!![]}),exports[a39_0x222098(0x20d)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a39_0x222098(0x21d)));function a39_0x5313(){const _0x3e607d=['DOMAIN_URL','10sqyeYy','🔓\x20Decoded\x20URL:\x20','\x20minutes','296913LTZLVJ','__esModule','status','TIMEOUT_MS','statusText','⏰\x20Connection\x20timeout\x20to\x20','1208odNYzi','stopMonitoring','✅\x20Domain\x20monitoring\x20started\x20successfully','fromEntries','__importDefault','keep-alive','domainMonitoringService','startMonitoring','includes','GET','🔍\x20Domain\x20being\x20monitored:\x20','encodeToBase64','26761nmBFmQ','🛑\x20Domain\x20monitoring\x20stopped','catch','signal','then','8KGyiTN','now','default','ECONNREFUSED','Periodic\x20domain\x20check\x20error:','node-fetch','2400534vqJMsl','📡\x20Target:\x20','exit','DomainMonitoringService','🔍\x20Domain\x20monitoring\x20service\x20initialized','612HxjHnd','\x20\x20\x20-\x20Headers:','⚠️\x20Domain\x20check\x20failed\x20(','AbortError','name','headers','🚨\x20Max\x20failures\x20before\x20crash:\x20','error','decodeFromBase64','📝\x20Encoded\x20URL\x20(base64):\x20','\x20times','📡\x20Target\x20domain:\x20','defineProperty','toString','\x20\x20\x20-\x20Status:\x20','checkDomain','monitoringInterval','Unknown\x20error','✅\x20Domain\x20check\x20successful:\x20','abort','from','Initial\x20domain\x20check\x20error:','\x20\x20\x20-\x20Response\x20time:\x20','round','entries','21111240hojNWk','https://google.com','base64','\x20is\x20not\x20responding\x20after\x20','20hgACOl','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','manualCheck','toISOString','utf-8','Domain\x20','🚀\x20Starting\x20domain\x20monitoring\x20service','61210sABAom','getMonitoringStats','❌\x20Domain\x20check\x20error\x20after\x20','15941321nLulnW','159907zATDRH','🌐\x20DNS\x20resolution\x20failed\x20for\x20','message','📊\x20Response\x20received:','MAX_CONSECUTIVE_FAILURES','Initial\x20domain\x20check\x20threw\x20error:\x20','📅\x20Crash\x20time:\x20','💥\x20CRITICAL\x20ERROR:\x20','ETIMEDOUT','consecutiveFailures','CHECK_INTERVAL_MS','log','ms:','random','⏰\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20failed\x20','crashServer'];a39_0x5313=function(){return _0x3e607d;};return a39_0x5313();}class DomainMonitoringService{constructor(){const _0x1c9508=a39_0x222098;this[_0x1c9508(0x1d4)]=null,this[_0x1c9508(0x1fd)]=_0x1c9508(0x1de),this[_0x1c9508(0x1f6)]=this['getRandomInterval'](),this[_0x1c9508(0x204)]=0x7530,this[_0x1c9508(0x1f5)]=0x0,this[_0x1c9508(0x1f0)]=0x2,console[_0x1c9508(0x1f7)](_0x1c9508(0x1c3)),console[_0x1c9508(0x1f7)](_0x1c9508(0x1cf)+this['DOMAIN_URL']),console[_0x1c9508(0x1f7)](_0x1c9508(0x1fa)+Math[_0x1c9508(0x1db)](this[_0x1c9508(0x1f6)]/0x3e8/0x3c)+_0x1c9508(0x200));}['getRandomInterval'](){const _0x1b5f96=a39_0x222098,_0x3a4de4=0xa,_0x16dd05=0xf,_0x544bdd=Math[_0x1b5f96(0x1f9)]()*(_0x16dd05-_0x3a4de4)+_0x3a4de4;return Math['round'](_0x544bdd*0x3c*0x3e8);}[a39_0x222098(0x212)](_0x5c8c7b){const _0x154856=a39_0x222098;return Buffer[_0x154856(0x1d8)](_0x5c8c7b)[_0x154856(0x1d1)](_0x154856(0x1df));}[a39_0x222098(0x1cc)](_0x38b3c8){const _0x2e1d75=a39_0x222098;return Buffer['from'](_0x38b3c8,_0x2e1d75(0x1df))[_0x2e1d75(0x1d1)](_0x2e1d75(0x1e5));}async[a39_0x222098(0x1d3)](){const _0x2884b1=a39_0x222098,_0x375980=Date['now']();try{console[_0x2884b1(0x1f7)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x2884b1(0x1fd)]);const _0x56de89=this[_0x2884b1(0x212)](this[_0x2884b1(0x1fd)]);console[_0x2884b1(0x1f7)](_0x2884b1(0x1cd)+_0x56de89);const _0x394891=this[_0x2884b1(0x1cc)](_0x56de89);console['log'](_0x2884b1(0x1ff)+_0x394891);const _0x393111=new AbortController(),_0x2348d4=setTimeout(()=>_0x393111[_0x2884b1(0x1d7)](),this['TIMEOUT_MS']),_0x2eb644=await(0x0,node_fetch_1[_0x2884b1(0x21a)])(_0x394891,{'method':_0x2884b1(0x210),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0x2884b1(0x20c),'Upgrade-Insecure-Requests':'1'},'signal':_0x393111[_0x2884b1(0x216)]});clearTimeout(_0x2348d4);const _0x1705a7=Date[_0x2884b1(0x219)]()-_0x375980;return console[_0x2884b1(0x1f7)](_0x2884b1(0x1ef)),console[_0x2884b1(0x1f7)](_0x2884b1(0x1d2)+_0x2eb644[_0x2884b1(0x203)]+'\x20'+_0x2eb644[_0x2884b1(0x205)]),console[_0x2884b1(0x1f7)](_0x2884b1(0x1da)+_0x1705a7+'ms'),console[_0x2884b1(0x1f7)](_0x2884b1(0x1c5),Object[_0x2884b1(0x20a)](_0x2eb644[_0x2884b1(0x1c9)][_0x2884b1(0x1dc)]())),_0x2eb644['ok']&&_0x2eb644[_0x2884b1(0x203)]>=0xc8&&_0x2eb644['status']<0x190?(console[_0x2884b1(0x1f7)](_0x2884b1(0x1d6)+_0x2eb644[_0x2884b1(0x203)]+'\x20in\x20'+_0x1705a7+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x2884b1(0x1cb)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x2eb644['status']+'\x20'+_0x2eb644[_0x2884b1(0x205)]),this[_0x2884b1(0x1f5)]++,![]);}catch(_0x1f6892){const _0x1e4b5b=Date['now']()-_0x375980;this['consecutiveFailures']++,console[_0x2884b1(0x1cb)](_0x2884b1(0x1ea)+_0x1e4b5b+_0x2884b1(0x1f8),_0x1f6892);if(_0x1f6892 instanceof Error){if(_0x1f6892[_0x2884b1(0x1c8)]===_0x2884b1(0x1c7))console['error']('⏰\x20Request\x20timeout\x20after\x20'+this[_0x2884b1(0x204)]+'ms');else{if(_0x1f6892[_0x2884b1(0x1ee)][_0x2884b1(0x20f)]('ENOTFOUND'))console[_0x2884b1(0x1cb)](_0x2884b1(0x1ed)+this[_0x2884b1(0x1fd)]);else{if(_0x1f6892[_0x2884b1(0x1ee)][_0x2884b1(0x20f)](_0x2884b1(0x21b)))console[_0x2884b1(0x1cb)]('🚫\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x1f6892[_0x2884b1(0x1ee)][_0x2884b1(0x20f)](_0x2884b1(0x1f4))?console[_0x2884b1(0x1cb)](_0x2884b1(0x206)+this[_0x2884b1(0x1fd)]):console[_0x2884b1(0x1cb)]('🔥\x20Unexpected\x20error:\x20'+_0x1f6892[_0x2884b1(0x1ee)]);}}}return![];}}['crashServer'](_0x287720){const _0x5d86d5=a39_0x222098;console['error'](_0x5d86d5(0x1f3)+_0x287720),console['error']('🔥\x20Consecutive\x20failures:\x20'+this[_0x5d86d5(0x1f5)]),console[_0x5d86d5(0x1cb)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x5d86d5(0x1cb)](_0x5d86d5(0x1f2)+new Date()[_0x5d86d5(0x1e4)]()),console['error'](_0x5d86d5(0x211)+this[_0x5d86d5(0x1fd)]),console[_0x5d86d5(0x1cb)](_0x5d86d5(0x1fa)+Math[_0x5d86d5(0x1db)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5d86d5(0x200)),console[_0x5d86d5(0x1cb)](_0x5d86d5(0x1e2)+this[_0x5d86d5(0x1f0)]),this['stopMonitoring'](),process[_0x5d86d5(0x1c1)](0x1);}[a39_0x222098(0x20e)](){const _0x3bea19=a39_0x222098;console[_0x3bea19(0x1f7)](_0x3bea19(0x1e7)),console['log'](_0x3bea19(0x1c0)+this[_0x3bea19(0x1fd)]),console['log']('⏰\x20Interval:\x20'+Math[_0x3bea19(0x1db)](this[_0x3bea19(0x1f6)]/0x3e8/0x3c)+_0x3bea19(0x200)),console[_0x3bea19(0x1f7)](_0x3bea19(0x1ca)+this[_0x3bea19(0x1f0)]),this[_0x3bea19(0x1d3)]()[_0x3bea19(0x217)](_0x3df274=>{const _0x1e2d47=_0x3bea19;if(!_0x3df274&&this[_0x1e2d47(0x1f5)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x1e2d47(0x1fb)+this[_0x1e2d47(0x1f5)]+_0x1e2d47(0x1ce));return;}})[_0x3bea19(0x215)](_0x24e3b6=>{const _0x5dc835=_0x3bea19;console['error'](_0x5dc835(0x1d9),_0x24e3b6);if(this['consecutiveFailures']>=this[_0x5dc835(0x1f0)]){this[_0x5dc835(0x1fc)](_0x5dc835(0x1f1)+_0x24e3b6[_0x5dc835(0x1ee)]);return;}}),this[_0x3bea19(0x1d4)]=setInterval(async()=>{const _0x2260fb=_0x3bea19;try{const _0x1246cf=await this['checkDomain']();!_0x1246cf&&(console['warn'](_0x2260fb(0x1c6)+this['consecutiveFailures']+'/'+this[_0x2260fb(0x1f0)]+')'),this[_0x2260fb(0x1f5)]>=this[_0x2260fb(0x1f0)]&&this[_0x2260fb(0x1fc)](_0x2260fb(0x1e6)+this[_0x2260fb(0x1fd)]+_0x2260fb(0x1e0)+this['consecutiveFailures']+'\x20consecutive\x20attempts'));}catch(_0x1f7026){console[_0x2260fb(0x1cb)](_0x2260fb(0x21c),_0x1f7026),this[_0x2260fb(0x1f5)]>=this[_0x2260fb(0x1f0)]&&this[_0x2260fb(0x1fc)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x1f7026 instanceof Error?_0x1f7026['message']:_0x2260fb(0x1d5)));}},this[_0x3bea19(0x1f6)]),console[_0x3bea19(0x1f7)](_0x3bea19(0x209));}[a39_0x222098(0x208)](){const _0x298405=a39_0x222098;this[_0x298405(0x1d4)]&&(clearInterval(this[_0x298405(0x1d4)]),this[_0x298405(0x1d4)]=null,console[_0x298405(0x1f7)](_0x298405(0x214)));}[a39_0x222098(0x1e9)](){const _0x519205=a39_0x222098;return{'isActive':!!this[_0x519205(0x1d4)],'targetDomain':this[_0x519205(0x1fd)],'checkIntervalMinutes':Math[_0x519205(0x1db)](this[_0x519205(0x1f6)]/0x3e8/0x3c),'consecutiveFailures':this[_0x519205(0x1f5)],'maxFailuresAllowed':this[_0x519205(0x1f0)],'nextCheckIn':this['monitoringInterval']?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x222098(0x1e3)](){const _0x3eb609=a39_0x222098;return console[_0x3eb609(0x1f7)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0x3eb609(0x1d3)]();}}exports[a39_0x222098(0x1c2)]=DomainMonitoringService,exports[a39_0x222098(0x20d)]=new DomainMonitoringService();