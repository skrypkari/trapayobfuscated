'use strict';const a44_0x11904d=a44_0x2250;(function(_0x2267d5,_0xaf6fa1){const _0x3a39aa=a44_0x2250,_0x5dc97e=_0x2267d5();while(!![]){try{const _0x24a97a=parseInt(_0x3a39aa(0x1c6))/0x1+parseInt(_0x3a39aa(0x198))/0x2*(-parseInt(_0x3a39aa(0x1ad))/0x3)+-parseInt(_0x3a39aa(0x1b9))/0x4+-parseInt(_0x3a39aa(0x18d))/0x5+parseInt(_0x3a39aa(0x1a7))/0x6+-parseInt(_0x3a39aa(0x1b1))/0x7*(parseInt(_0x3a39aa(0x1b7))/0x8)+parseInt(_0x3a39aa(0x1a4))/0x9;if(_0x24a97a===_0xaf6fa1)break;else _0x5dc97e['push'](_0x5dc97e['shift']());}catch(_0x2018fd){_0x5dc97e['push'](_0x5dc97e['shift']());}}}(a44_0x21da,0xdafe8));var __importDefault=this&&this[a44_0x11904d(0x196)]||function(_0x5ac4f8){return _0x5ac4f8&&_0x5ac4f8['__esModule']?_0x5ac4f8:{'default':_0x5ac4f8};};Object[a44_0x11904d(0x1bf)](exports,a44_0x11904d(0x19d),{'value':!![]}),exports[a44_0x11904d(0x1cc)]=exports['DomainMonitoringService']=void 0x0;function a44_0x2250(_0x3831ea,_0x22b992){const _0x21da8a=a44_0x21da();return a44_0x2250=function(_0x225010,_0x2f1e95){_0x225010=_0x225010-0x174;let _0x1ae85c=_0x21da8a[_0x225010];return _0x1ae85c;},a44_0x2250(_0x3831ea,_0x22b992);}function a44_0x21da(){const _0x2b693b=['then','error','utf-8','🔓\x20Decoded\x20URL:\x20','fromEntries','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','message','💥\x20CRITICAL\x20ERROR:\x20','Initial\x20domain\x20check\x20failed\x20','DOMAIN_URL','🛑\x20Domain\x20monitoring\x20stopped','📡\x20Target:\x20','⏰\x20Interval:\x20','round','encodeToBase64','🔥\x20Unexpected\x20error:\x20','statusText','node-fetch','ENOTFOUND','crashServer','exit','getRandomInterval','5821425nvFERI','📝\x20Encoded\x20URL\x20(base64):\x20','name','Initial\x20domain\x20check\x20threw\x20error:\x20','signal','🔍\x20Domain\x20monitoring\x20service\x20initialized','manualCheck','https://google.com','📅\x20Crash\x20time:\x20','__importDefault','status','7310TZyWll','toString','\x20minutes','startMonitoring','includes','__esModule','\x20consecutive\x20attempts','\x20times','checkDomain','⏰\x20Check\x20interval:\x20','\x20is\x20not\x20responding\x20after\x20','Periodic\x20domain\x20check\x20error:','26812890yKLxUF','catch','consecutiveFailures','7317300bILHKu','\x20\x20\x20-\x20Headers:','stopMonitoring','entries','gzip,\x20deflate','now','375Loeosk','getMonitoringStats','AbortError','🔍\x20Domain\x20being\x20monitored:\x20','3052YRjcMZ','monitoringInterval','📡\x20Target\x20domain:\x20','MAX_CONSECUTIVE_FAILURES','✅\x20Domain\x20check\x20successful:\x20','🔧\x20Manual\x20domain\x20check\x20requested','26888shStLR','🔥\x20Consecutive\x20failures:\x20','6465220xPuDRg','from','warn','CHECK_INTERVAL_MS','Domain\x20Monitor/1.0','default','defineProperty','TIMEOUT_MS','\x20\x20\x20-\x20Status:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','⏰\x20Request\x20timeout\x20after\x20','decodeFromBase64','🚨\x20Max\x20failures\x20before\x20crash:\x20','1401101gKSsVV','toISOString','ms:','Initial\x20domain\x20check\x20error:','abort','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','domainMonitoringService','Domain\x20','log','base64','\x20\x20\x20-\x20Response\x20time:\x20'];a44_0x21da=function(){return _0x2b693b;};return a44_0x21da();}const node_fetch_1=__importDefault(require(a44_0x11904d(0x188)));class DomainMonitoringService{constructor(){const _0xdd957b=a44_0x11904d;this[_0xdd957b(0x1b2)]=null,this['DOMAIN_URL']=_0xdd957b(0x194),this[_0xdd957b(0x1bc)]=this[_0xdd957b(0x18c)](),this[_0xdd957b(0x1c0)]=0x7530,this[_0xdd957b(0x1a6)]=0x0,this[_0xdd957b(0x1b4)]=0x2,console[_0xdd957b(0x174)](_0xdd957b(0x192)),console[_0xdd957b(0x174)](_0xdd957b(0x1b3)+this[_0xdd957b(0x180)]),console[_0xdd957b(0x174)]('⏰\x20Check\x20interval:\x20'+Math['round'](this[_0xdd957b(0x1bc)]/0x3e8/0x3c)+_0xdd957b(0x19a));}[a44_0x11904d(0x18c)](){const _0x5ddbef=0xa,_0x3dc703=0xf,_0xa5773c=Math['random']()*(_0x3dc703-_0x5ddbef)+_0x5ddbef;return Math['round'](_0xa5773c*0x3c*0x3e8);}[a44_0x11904d(0x185)](_0x3bfdc3){const _0x625c08=a44_0x11904d;return Buffer[_0x625c08(0x1ba)](_0x3bfdc3)[_0x625c08(0x199)](_0x625c08(0x175));}[a44_0x11904d(0x1c4)](_0x1fac9d){const _0x1a3534=a44_0x11904d;return Buffer[_0x1a3534(0x1ba)](_0x1fac9d,'base64')[_0x1a3534(0x199)](_0x1a3534(0x179));}async[a44_0x11904d(0x1a0)](){const _0x4c3f97=a44_0x11904d,_0x1597a4=Date[_0x4c3f97(0x1ac)]();try{console[_0x4c3f97(0x174)]('🔍\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x2d104d=this['encodeToBase64'](this[_0x4c3f97(0x180)]);console[_0x4c3f97(0x174)](_0x4c3f97(0x18e)+_0x2d104d);const _0x3646b5=this['decodeFromBase64'](_0x2d104d);console['log'](_0x4c3f97(0x17a)+_0x3646b5);const _0x2e63a0=new AbortController(),_0x378bac=setTimeout(()=>_0x2e63a0[_0x4c3f97(0x1ca)](),this[_0x4c3f97(0x1c0)]),_0x395ca7=await(0x0,node_fetch_1[_0x4c3f97(0x1be)])(_0x3646b5,{'method':'GET','headers':{'User-Agent':_0x4c3f97(0x1bd),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x4c3f97(0x1ab),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x2e63a0[_0x4c3f97(0x191)]});clearTimeout(_0x378bac);const _0x176667=Date[_0x4c3f97(0x1ac)]()-_0x1597a4;return console[_0x4c3f97(0x174)]('📊\x20Response\x20received:'),console['log'](_0x4c3f97(0x1c1)+_0x395ca7[_0x4c3f97(0x197)]+'\x20'+_0x395ca7[_0x4c3f97(0x187)]),console[_0x4c3f97(0x174)](_0x4c3f97(0x176)+_0x176667+'ms'),console['log'](_0x4c3f97(0x1a8),Object[_0x4c3f97(0x17b)](_0x395ca7['headers'][_0x4c3f97(0x1aa)]())),_0x395ca7['ok']&&_0x395ca7[_0x4c3f97(0x197)]>=0xc8&&_0x395ca7['status']<0x190?(console[_0x4c3f97(0x174)](_0x4c3f97(0x1b5)+_0x395ca7['status']+'\x20in\x20'+_0x176667+'ms'),this[_0x4c3f97(0x1a6)]=0x0,!![]):(console['error'](_0x4c3f97(0x1c2)+_0x395ca7[_0x4c3f97(0x197)]+'\x20'+_0x395ca7[_0x4c3f97(0x187)]),this[_0x4c3f97(0x1a6)]++,![]);}catch(_0x4c4dc1){const _0x3b4a45=Date[_0x4c3f97(0x1ac)]()-_0x1597a4;this[_0x4c3f97(0x1a6)]++,console[_0x4c3f97(0x178)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x3b4a45+_0x4c3f97(0x1c8),_0x4c4dc1);if(_0x4c4dc1 instanceof Error){if(_0x4c4dc1[_0x4c3f97(0x18f)]===_0x4c3f97(0x1af))console[_0x4c3f97(0x178)](_0x4c3f97(0x1c3)+this[_0x4c3f97(0x1c0)]+'ms');else{if(_0x4c4dc1[_0x4c3f97(0x17d)]['includes'](_0x4c3f97(0x189)))console[_0x4c3f97(0x178)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x4c3f97(0x180)]);else{if(_0x4c4dc1[_0x4c3f97(0x17d)]['includes']('ECONNREFUSED'))console[_0x4c3f97(0x178)]('🚫\x20Connection\x20refused\x20by\x20'+this[_0x4c3f97(0x180)]);else _0x4c4dc1[_0x4c3f97(0x17d)][_0x4c3f97(0x19c)]('ETIMEDOUT')?console[_0x4c3f97(0x178)]('⏰\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x4c3f97(0x178)](_0x4c3f97(0x186)+_0x4c4dc1[_0x4c3f97(0x17d)]);}}}return![];}}[a44_0x11904d(0x18a)](_0x4e4cfe){const _0x38a4ba=a44_0x11904d;console[_0x38a4ba(0x178)](_0x38a4ba(0x17e)+_0x4e4cfe),console[_0x38a4ba(0x178)](_0x38a4ba(0x1b8)+this[_0x38a4ba(0x1a6)]),console[_0x38a4ba(0x178)](_0x38a4ba(0x17c)),console[_0x38a4ba(0x178)](_0x38a4ba(0x195)+new Date()[_0x38a4ba(0x1c7)]()),console[_0x38a4ba(0x178)](_0x38a4ba(0x1b0)+this[_0x38a4ba(0x180)]),console['error'](_0x38a4ba(0x1a1)+Math[_0x38a4ba(0x184)](this[_0x38a4ba(0x1bc)]/0x3e8/0x3c)+_0x38a4ba(0x19a)),console['error'](_0x38a4ba(0x1cb)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process[_0x38a4ba(0x18b)](0x1);}[a44_0x11904d(0x19b)](){const _0xc050a5=a44_0x11904d;console[_0xc050a5(0x174)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0xc050a5(0x174)](_0xc050a5(0x182)+this[_0xc050a5(0x180)]),console['log'](_0xc050a5(0x183)+Math[_0xc050a5(0x184)](this[_0xc050a5(0x1bc)]/0x3e8/0x3c)+_0xc050a5(0x19a)),console[_0xc050a5(0x174)](_0xc050a5(0x1c5)+this[_0xc050a5(0x1b4)]),this['checkDomain']()[_0xc050a5(0x177)](_0x3a2b82=>{const _0x53dbbc=_0xc050a5;if(!_0x3a2b82&&this[_0x53dbbc(0x1a6)]>=this[_0x53dbbc(0x1b4)]){this[_0x53dbbc(0x18a)](_0x53dbbc(0x17f)+this['consecutiveFailures']+_0x53dbbc(0x19f));return;}})[_0xc050a5(0x1a5)](_0x15a7e5=>{const _0x498382=_0xc050a5;console[_0x498382(0x178)](_0x498382(0x1c9),_0x15a7e5);if(this[_0x498382(0x1a6)]>=this[_0x498382(0x1b4)]){this[_0x498382(0x18a)](_0x498382(0x190)+_0x15a7e5[_0x498382(0x17d)]);return;}}),this[_0xc050a5(0x1b2)]=setInterval(async()=>{const _0x24c0be=_0xc050a5;try{const _0x4a12df=await this['checkDomain']();!_0x4a12df&&(console[_0x24c0be(0x1bb)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x24c0be(0x1a6)]+'/'+this[_0x24c0be(0x1b4)]+')'),this[_0x24c0be(0x1a6)]>=this[_0x24c0be(0x1b4)]&&this[_0x24c0be(0x18a)](_0x24c0be(0x1cd)+this[_0x24c0be(0x180)]+_0x24c0be(0x1a2)+this[_0x24c0be(0x1a6)]+_0x24c0be(0x19e)));}catch(_0x7195c3){console[_0x24c0be(0x178)](_0x24c0be(0x1a3),_0x7195c3),this['consecutiveFailures']>=this[_0x24c0be(0x1b4)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x7195c3 instanceof Error?_0x7195c3['message']:'Unknown\x20error'));}},this[_0xc050a5(0x1bc)]),console[_0xc050a5(0x174)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a44_0x11904d(0x1a9)](){const _0x40934d=a44_0x11904d;this[_0x40934d(0x1b2)]&&(clearInterval(this[_0x40934d(0x1b2)]),this['monitoringInterval']=null,console[_0x40934d(0x174)](_0x40934d(0x181)));}[a44_0x11904d(0x1ae)](){const _0x9e8b97=a44_0x11904d;return{'isActive':!!this[_0x9e8b97(0x1b2)],'targetDomain':this[_0x9e8b97(0x180)],'checkIntervalMinutes':Math[_0x9e8b97(0x184)](this[_0x9e8b97(0x1bc)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x9e8b97(0x1b4)],'nextCheckIn':this[_0x9e8b97(0x1b2)]?this['CHECK_INTERVAL_MS']:undefined};}async[a44_0x11904d(0x193)](){const _0x33c1d0=a44_0x11904d;return console[_0x33c1d0(0x174)](_0x33c1d0(0x1b6)),await this[_0x33c1d0(0x1a0)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();