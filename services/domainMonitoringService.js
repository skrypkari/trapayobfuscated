'use strict';function a39_0x493e(_0x8c1e5b,_0x1a267d){const _0x39d8fc=a39_0x39d8();return a39_0x493e=function(_0x493e87,_0x1ddccc){_0x493e87=_0x493e87-0x164;let _0x535513=_0x39d8fc[_0x493e87];return _0x535513;},a39_0x493e(_0x8c1e5b,_0x1a267d);}const a39_0x2d5689=a39_0x493e;(function(_0x478b1e,_0x487b0d){const _0x1d6ba1=a39_0x493e,_0x12b457=_0x478b1e();while(!![]){try{const _0x7c7643=-parseInt(_0x1d6ba1(0x1a9))/0x1+-parseInt(_0x1d6ba1(0x16b))/0x2*(parseInt(_0x1d6ba1(0x19d))/0x3)+-parseInt(_0x1d6ba1(0x1a8))/0x4*(parseInt(_0x1d6ba1(0x171))/0x5)+-parseInt(_0x1d6ba1(0x1bc))/0x6*(-parseInt(_0x1d6ba1(0x1af))/0x7)+parseInt(_0x1d6ba1(0x165))/0x8+parseInt(_0x1d6ba1(0x167))/0x9+parseInt(_0x1d6ba1(0x1ac))/0xa;if(_0x7c7643===_0x487b0d)break;else _0x12b457['push'](_0x12b457['shift']());}catch(_0x39beca){_0x12b457['push'](_0x12b457['shift']());}}}(a39_0x39d8,0x9b4b0));var __importDefault=this&&this[a39_0x2d5689(0x1b8)]||function(_0x5eeac4){const _0x25ba23=a39_0x2d5689;return _0x5eeac4&&_0x5eeac4[_0x25ba23(0x17a)]?_0x5eeac4:{'default':_0x5eeac4};};Object[a39_0x2d5689(0x189)](exports,'__esModule',{'value':!![]}),exports[a39_0x2d5689(0x193)]=exports[a39_0x2d5689(0x1b7)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x2d5689(0x168)));function a39_0x39d8(){const _0x447890=['toString','🔍\x20Checking\x20domain\x20availability:\x20','221656pgtfAK','624840JAmSAa','⏰\x20Check\x20interval:\x20','⏰\x20Connection\x20timeout\x20to\x20','4459850mabrgm','https://google.com','Domain\x20','6486879bbbCdg','\x20\x20\x20-\x20Headers:','❌\x20Domain\x20check\x20error\x20after\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','💥\x20CRITICAL\x20ERROR:\x20','🔥\x20Unexpected\x20error:\x20','includes','abort','DomainMonitoringService','__importDefault','base64','now','Initial\x20domain\x20check\x20threw\x20error:\x20','6OXfeOe','\x20times','round','8974408uOuiSL','MAX_CONSECUTIVE_FAILURES','5085000krxtNR','node-fetch','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','keep-alive','2lPHsWJ','GET','warn','consecutiveFailures','🔥\x20Consecutive\x20failures:\x20','\x20is\x20not\x20responding\x20after\x20','85qqbMsy','ms:','🚀\x20Starting\x20domain\x20monitoring\x20service','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','\x20consecutive\x20attempts','AbortError','Initial\x20domain\x20check\x20error:','decodeFromBase64','📡\x20Target\x20domain:\x20','__esModule','startMonitoring','monitoringInterval','statusText','ETIMEDOUT','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','⏰\x20Interval:\x20','🛑\x20Domain\x20monitoring\x20stopped','crashServer','🚨\x20Max\x20failures\x20before\x20crash:\x20','Domain\x20monitoring\x20threw\x20error:\x20','DOMAIN_URL','ENOTFOUND','checkDomain','log','defineProperty','\x20\x20\x20-\x20Response\x20time:\x20','✅\x20Domain\x20monitoring\x20started\x20successfully','error','⚠️\x20Domain\x20check\x20failed\x20(','🔧\x20Manual\x20domain\x20check\x20requested','entries','CHECK_INTERVAL_MS','status','from','domainMonitoringService','message','📝\x20Encoded\x20URL\x20(base64):\x20','utf-8','\x20minutes','🔍\x20Domain\x20monitoring\x20service\x20initialized','stopMonitoring','getMonitoringStats','📊\x20Response\x20received:','encodeToBase64','2569575eJXwvP','🔍\x20Domain\x20being\x20monitored:\x20','TIMEOUT_MS','TesSoft\x20Domain\x20Monitor/1.0','toISOString','exit','then','Initial\x20domain\x20check\x20failed\x20','✅\x20Domain\x20check\x20successful:\x20'];a39_0x39d8=function(){return _0x447890;};return a39_0x39d8();}class DomainMonitoringService{constructor(){const _0x1bd39e=a39_0x2d5689;this[_0x1bd39e(0x17c)]=null,this[_0x1bd39e(0x185)]=_0x1bd39e(0x1ad),this[_0x1bd39e(0x190)]=this['getRandomInterval'](),this[_0x1bd39e(0x19f)]=0x7530,this[_0x1bd39e(0x16e)]=0x0,this[_0x1bd39e(0x166)]=0x2,console[_0x1bd39e(0x188)](_0x1bd39e(0x198)),console[_0x1bd39e(0x188)](_0x1bd39e(0x179)+this[_0x1bd39e(0x185)]),console['log'](_0x1bd39e(0x1aa)+Math[_0x1bd39e(0x164)](this[_0x1bd39e(0x190)]/0x3e8/0x3c)+_0x1bd39e(0x197));}['getRandomInterval'](){const _0x24bbf7=a39_0x2d5689,_0x2c4920=0xa,_0x25e9de=0xf,_0x33a5db=Math['random']()*(_0x25e9de-_0x2c4920)+_0x2c4920;return Math[_0x24bbf7(0x164)](_0x33a5db*0x3c*0x3e8);}[a39_0x2d5689(0x19c)](_0x5962f2){const _0x331d4a=a39_0x2d5689;return Buffer[_0x331d4a(0x192)](_0x5962f2)[_0x331d4a(0x1a6)]('base64');}['decodeFromBase64'](_0x2916f7){const _0x5aa9bd=a39_0x2d5689;return Buffer['from'](_0x2916f7,_0x5aa9bd(0x1b9))['toString'](_0x5aa9bd(0x196));}async['checkDomain'](){const _0xa79ac5=a39_0x2d5689,_0x4c0c31=Date[_0xa79ac5(0x1ba)]();try{console[_0xa79ac5(0x188)](_0xa79ac5(0x1a7)+this['DOMAIN_URL']);const _0x3ae205=this['encodeToBase64'](this[_0xa79ac5(0x185)]);console[_0xa79ac5(0x188)](_0xa79ac5(0x195)+_0x3ae205);const _0x50b5fc=this[_0xa79ac5(0x178)](_0x3ae205);console['log']('🔓\x20Decoded\x20URL:\x20'+_0x50b5fc);const _0x14dac9=new AbortController(),_0x2c21f5=setTimeout(()=>_0x14dac9[_0xa79ac5(0x1b6)](),this[_0xa79ac5(0x19f)]),_0x2e0b81=await(0x0,node_fetch_1['default'])(_0x50b5fc,{'method':_0xa79ac5(0x16c),'headers':{'User-Agent':_0xa79ac5(0x1a0),'Accept':_0xa79ac5(0x174),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0xa79ac5(0x16a),'Upgrade-Insecure-Requests':'1'},'signal':_0x14dac9['signal']});clearTimeout(_0x2c21f5);const _0x34709f=Date[_0xa79ac5(0x1ba)]()-_0x4c0c31;return console[_0xa79ac5(0x188)](_0xa79ac5(0x19b)),console['log']('\x20\x20\x20-\x20Status:\x20'+_0x2e0b81[_0xa79ac5(0x191)]+'\x20'+_0x2e0b81['statusText']),console[_0xa79ac5(0x188)](_0xa79ac5(0x18a)+_0x34709f+'ms'),console[_0xa79ac5(0x188)](_0xa79ac5(0x1b0),Object['fromEntries'](_0x2e0b81['headers'][_0xa79ac5(0x18f)]())),_0x2e0b81['ok']&&_0x2e0b81[_0xa79ac5(0x191)]>=0xc8&&_0x2e0b81[_0xa79ac5(0x191)]<0x190?(console[_0xa79ac5(0x188)](_0xa79ac5(0x1a5)+_0x2e0b81[_0xa79ac5(0x191)]+'\x20in\x20'+_0x34709f+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error'](_0xa79ac5(0x169)+_0x2e0b81[_0xa79ac5(0x191)]+'\x20'+_0x2e0b81[_0xa79ac5(0x17d)]),this['consecutiveFailures']++,![]);}catch(_0x5c35ef){const _0x384282=Date[_0xa79ac5(0x1ba)]()-_0x4c0c31;this[_0xa79ac5(0x16e)]++,console[_0xa79ac5(0x18c)](_0xa79ac5(0x1b1)+_0x384282+_0xa79ac5(0x172),_0x5c35ef);if(_0x5c35ef instanceof Error){if(_0x5c35ef['name']===_0xa79ac5(0x176))console[_0xa79ac5(0x18c)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0xa79ac5(0x19f)]+'ms');else{if(_0x5c35ef['message']['includes'](_0xa79ac5(0x186)))console[_0xa79ac5(0x18c)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0xa79ac5(0x185)]);else{if(_0x5c35ef[_0xa79ac5(0x194)][_0xa79ac5(0x1b5)]('ECONNREFUSED'))console[_0xa79ac5(0x18c)]('🚫\x20Connection\x20refused\x20by\x20'+this[_0xa79ac5(0x185)]);else _0x5c35ef['message'][_0xa79ac5(0x1b5)](_0xa79ac5(0x17e))?console[_0xa79ac5(0x18c)](_0xa79ac5(0x1ab)+this[_0xa79ac5(0x185)]):console[_0xa79ac5(0x18c)](_0xa79ac5(0x1b4)+_0x5c35ef['message']);}}}return![];}}[a39_0x2d5689(0x182)](_0x504494){const _0x1d8dbc=a39_0x2d5689;console[_0x1d8dbc(0x18c)](_0x1d8dbc(0x1b3)+_0x504494),console[_0x1d8dbc(0x18c)](_0x1d8dbc(0x16f)+this['consecutiveFailures']),console['error'](_0x1d8dbc(0x1b2)),console[_0x1d8dbc(0x18c)]('📅\x20Crash\x20time:\x20'+new Date()[_0x1d8dbc(0x1a1)]()),console['error'](_0x1d8dbc(0x19e)+this['DOMAIN_URL']),console[_0x1d8dbc(0x18c)]('⏰\x20Check\x20interval:\x20'+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x1d8dbc(0x18c)](_0x1d8dbc(0x17f)+this[_0x1d8dbc(0x166)]),this[_0x1d8dbc(0x199)](),process[_0x1d8dbc(0x1a2)](0x1);}[a39_0x2d5689(0x17b)](){const _0x74e307=a39_0x2d5689;console[_0x74e307(0x188)](_0x74e307(0x173)),console['log']('📡\x20Target:\x20'+this[_0x74e307(0x185)]),console[_0x74e307(0x188)](_0x74e307(0x180)+Math[_0x74e307(0x164)](this[_0x74e307(0x190)]/0x3e8/0x3c)+'\x20minutes'),console[_0x74e307(0x188)](_0x74e307(0x183)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x74e307(0x1a3)](_0x38df86=>{const _0x114814=_0x74e307;if(!_0x38df86&&this[_0x114814(0x16e)]>=this[_0x114814(0x166)]){this['crashServer'](_0x114814(0x1a4)+this[_0x114814(0x16e)]+_0x114814(0x1bd));return;}})['catch'](_0x32493f=>{const _0x2f9c07=_0x74e307;console[_0x2f9c07(0x18c)](_0x2f9c07(0x177),_0x32493f);if(this[_0x2f9c07(0x16e)]>=this[_0x2f9c07(0x166)]){this[_0x2f9c07(0x182)](_0x2f9c07(0x1bb)+_0x32493f[_0x2f9c07(0x194)]);return;}}),this[_0x74e307(0x17c)]=setInterval(async()=>{const _0x478b96=_0x74e307;try{const _0x5c400e=await this[_0x478b96(0x187)]();!_0x5c400e&&(console[_0x478b96(0x16d)](_0x478b96(0x18d)+this[_0x478b96(0x16e)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x478b96(0x166)]&&this['crashServer'](_0x478b96(0x1ae)+this['DOMAIN_URL']+_0x478b96(0x170)+this[_0x478b96(0x16e)]+_0x478b96(0x175)));}catch(_0x4eda9b){console['error']('Periodic\x20domain\x20check\x20error:',_0x4eda9b),this[_0x478b96(0x16e)]>=this[_0x478b96(0x166)]&&this[_0x478b96(0x182)](_0x478b96(0x184)+(_0x4eda9b instanceof Error?_0x4eda9b['message']:'Unknown\x20error'));}},this[_0x74e307(0x190)]),console[_0x74e307(0x188)](_0x74e307(0x18b));}[a39_0x2d5689(0x199)](){const _0x23e7cb=a39_0x2d5689;this[_0x23e7cb(0x17c)]&&(clearInterval(this[_0x23e7cb(0x17c)]),this['monitoringInterval']=null,console[_0x23e7cb(0x188)](_0x23e7cb(0x181)));}[a39_0x2d5689(0x19a)](){const _0x1f5253=a39_0x2d5689;return{'isActive':!!this[_0x1f5253(0x17c)],'targetDomain':this[_0x1f5253(0x185)],'checkIntervalMinutes':Math[_0x1f5253(0x164)](this[_0x1f5253(0x190)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x1f5253(0x166)],'nextCheckIn':this[_0x1f5253(0x17c)]?this[_0x1f5253(0x190)]:undefined};}async['manualCheck'](){const _0x17139=a39_0x2d5689;return console[_0x17139(0x188)](_0x17139(0x18e)),await this['checkDomain']();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();