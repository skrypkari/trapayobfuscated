'use strict';const a39_0x209f40=a39_0x5ec6;(function(_0x531743,_0x41c69b){const _0x1bf019=a39_0x5ec6,_0x5212ad=_0x531743();while(!![]){try{const _0x1bf810=-parseInt(_0x1bf019(0x115))/0x1*(parseInt(_0x1bf019(0x156))/0x2)+parseInt(_0x1bf019(0x155))/0x3+-parseInt(_0x1bf019(0x118))/0x4+-parseInt(_0x1bf019(0x153))/0x5+-parseInt(_0x1bf019(0x159))/0x6*(-parseInt(_0x1bf019(0x13a))/0x7)+parseInt(_0x1bf019(0x12f))/0x8+parseInt(_0x1bf019(0x14d))/0x9;if(_0x1bf810===_0x41c69b)break;else _0x5212ad['push'](_0x5212ad['shift']());}catch(_0x2399b0){_0x5212ad['push'](_0x5212ad['shift']());}}}(a39_0x428b,0x1a169));function a39_0x428b(){const _0xdbd183=['MAX_CONSECUTIVE_FAILURES','GET','abort','💥\x20CRITICAL\x20ERROR:\x20','🚫\x20Connection\x20refused\x20by\x20','ECONNREFUSED','then','utf-8','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','CHECK_INTERVAL_MS','gzip,\x20deflate','DomainMonitoringService','Initial\x20domain\x20check\x20threw\x20error:\x20','📡\x20Target:\x20','🛑\x20Domain\x20monitoring\x20stopped','1364224XiONRj','✅\x20Domain\x20monitoring\x20started\x20successfully','from','monitoringInterval','📅\x20Crash\x20time:\x20','__esModule','\x20minutes','domainMonitoringService','consecutiveFailures','🔥\x20Unexpected\x20error:\x20','log','6951gzMkCI','🔧\x20Manual\x20domain\x20check\x20requested','error','⚠️\x20Domain\x20check\x20failed\x20(','decodeFromBase64','🚀\x20Starting\x20domain\x20monitoring\x20service','toISOString','message','checkDomain','Domain\x20','manualCheck','📡\x20Target\x20domain:\x20','toString','https://google.com','AbortError','keep-alive','\x20is\x20not\x20responding\x20after\x20','name','\x20\x20\x20-\x20Headers:','455796ZDcGkQ','Initial\x20domain\x20check\x20failed\x20','headers','🌐\x20DNS\x20resolution\x20failed\x20for\x20','catch','🚨\x20Max\x20failures\x20before\x20crash:\x20','915560cyGzHN','📊\x20Response\x20received:','158190OKCVqt','14396uKSryc','\x20\x20\x20-\x20Response\x20time:\x20','✅\x20Domain\x20check\x20successful:\x20','444pByaMH','signal','defineProperty','includes','fromEntries','warn','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','encodeToBase64','base64','TIMEOUT_MS','\x20times','now','round','🔍\x20Domain\x20being\x20monitored:\x20','stopMonitoring','3yTfDVB','Domain\x20monitoring\x20threw\x20error:\x20','crashServer','143284LoBlFS','status','\x20in\x20','⏰\x20Check\x20interval:\x20','Unknown\x20error','statusText','__importDefault','DOMAIN_URL'];a39_0x428b=function(){return _0xdbd183;};return a39_0x428b();}var __importDefault=this&&this[a39_0x209f40(0x11e)]||function(_0x5e7a1d){const _0x5b252c=a39_0x209f40;return _0x5e7a1d&&_0x5e7a1d[_0x5b252c(0x134)]?_0x5e7a1d:{'default':_0x5e7a1d};};function a39_0x5ec6(_0x3a7360,_0x13c1a2){const _0x428b50=a39_0x428b();return a39_0x5ec6=function(_0x5ec664,_0x1a2ddb){_0x5ec664=_0x5ec664-0x112;let _0x249974=_0x428b50[_0x5ec664];return _0x249974;},a39_0x5ec6(_0x3a7360,_0x13c1a2);}Object[a39_0x209f40(0x15b)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x209f40(0x12b)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x5b9c69=a39_0x209f40;this['monitoringInterval']=null,this[_0x5b9c69(0x11f)]=_0x5b9c69(0x147),this[_0x5b9c69(0x129)]=this['getRandomInterval'](),this[_0x5b9c69(0x162)]=0x7530,this['consecutiveFailures']=0x0,this[_0x5b9c69(0x120)]=0x2,console['log']('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x5b9c69(0x139)](_0x5b9c69(0x145)+this['DOMAIN_URL']),console[_0x5b9c69(0x139)](_0x5b9c69(0x11b)+Math[_0x5b9c69(0x112)](this[_0x5b9c69(0x129)]/0x3e8/0x3c)+_0x5b9c69(0x135));}['getRandomInterval'](){const _0x5ed53d=a39_0x209f40,_0x505e7c=0xa,_0xd84c4d=0xf,_0x2237f3=Math['random']()*(_0xd84c4d-_0x505e7c)+_0x505e7c;return Math[_0x5ed53d(0x112)](_0x2237f3*0x3c*0x3e8);}[a39_0x209f40(0x160)](_0x1a4a78){const _0x5abec2=a39_0x209f40;return Buffer[_0x5abec2(0x131)](_0x1a4a78)[_0x5abec2(0x146)](_0x5abec2(0x161));}['decodeFromBase64'](_0x5d2213){const _0x59887c=a39_0x209f40;return Buffer[_0x59887c(0x131)](_0x5d2213,_0x59887c(0x161))[_0x59887c(0x146)](_0x59887c(0x127));}async[a39_0x209f40(0x142)](){const _0x23cb01=a39_0x209f40,_0x12d112=Date['now']();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x23cb01(0x11f)]);const _0x1a3624=this[_0x23cb01(0x160)](this[_0x23cb01(0x11f)]);console['log']('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x1a3624);const _0x199296=this[_0x23cb01(0x13e)](_0x1a3624);console['log']('🔓\x20Decoded\x20URL:\x20'+_0x199296);const _0x112aef=new AbortController(),_0x1c9a9a=setTimeout(()=>_0x112aef[_0x23cb01(0x122)](),this[_0x23cb01(0x162)]),_0x51005c=await(0x0,node_fetch_1['default'])(_0x199296,{'method':_0x23cb01(0x121),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x23cb01(0x128),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x23cb01(0x12a),'Connection':_0x23cb01(0x149),'Upgrade-Insecure-Requests':'1'},'signal':_0x112aef[_0x23cb01(0x15a)]});clearTimeout(_0x1c9a9a);const _0x459630=Date['now']()-_0x12d112;return console[_0x23cb01(0x139)](_0x23cb01(0x154)),console[_0x23cb01(0x139)]('\x20\x20\x20-\x20Status:\x20'+_0x51005c[_0x23cb01(0x119)]+'\x20'+_0x51005c[_0x23cb01(0x11d)]),console[_0x23cb01(0x139)](_0x23cb01(0x157)+_0x459630+'ms'),console[_0x23cb01(0x139)](_0x23cb01(0x14c),Object[_0x23cb01(0x15d)](_0x51005c[_0x23cb01(0x14f)]['entries']())),_0x51005c['ok']&&_0x51005c[_0x23cb01(0x119)]>=0xc8&&_0x51005c[_0x23cb01(0x119)]<0x190?(console[_0x23cb01(0x139)](_0x23cb01(0x158)+_0x51005c[_0x23cb01(0x119)]+_0x23cb01(0x11a)+_0x459630+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x23cb01(0x13c)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x51005c[_0x23cb01(0x119)]+'\x20'+_0x51005c['statusText']),this['consecutiveFailures']++,![]);}catch(_0x47bdba){const _0x178216=Date[_0x23cb01(0x164)]()-_0x12d112;this['consecutiveFailures']++,console['error']('❌\x20Domain\x20check\x20error\x20after\x20'+_0x178216+'ms:',_0x47bdba);if(_0x47bdba instanceof Error){if(_0x47bdba[_0x23cb01(0x14b)]===_0x23cb01(0x148))console[_0x23cb01(0x13c)]('⏰\x20Request\x20timeout\x20after\x20'+this['TIMEOUT_MS']+'ms');else{if(_0x47bdba['message'][_0x23cb01(0x15c)]('ENOTFOUND'))console[_0x23cb01(0x13c)](_0x23cb01(0x150)+this[_0x23cb01(0x11f)]);else{if(_0x47bdba[_0x23cb01(0x141)][_0x23cb01(0x15c)](_0x23cb01(0x125)))console[_0x23cb01(0x13c)](_0x23cb01(0x124)+this[_0x23cb01(0x11f)]);else _0x47bdba['message'][_0x23cb01(0x15c)]('ETIMEDOUT')?console[_0x23cb01(0x13c)]('⏰\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x23cb01(0x13c)](_0x23cb01(0x138)+_0x47bdba[_0x23cb01(0x141)]);}}}return![];}}[a39_0x209f40(0x117)](_0x298dd9){const _0x31850d=a39_0x209f40;console[_0x31850d(0x13c)](_0x31850d(0x123)+_0x298dd9),console[_0x31850d(0x13c)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x31850d(0x137)]),console[_0x31850d(0x13c)](_0x31850d(0x15f)),console[_0x31850d(0x13c)](_0x31850d(0x133)+new Date()[_0x31850d(0x140)]()),console['error'](_0x31850d(0x113)+this[_0x31850d(0x11f)]),console[_0x31850d(0x13c)](_0x31850d(0x11b)+Math[_0x31850d(0x112)](this[_0x31850d(0x129)]/0x3e8/0x3c)+'\x20minutes'),console[_0x31850d(0x13c)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x31850d(0x120)]),this[_0x31850d(0x114)](),process['exit'](0x1);}['startMonitoring'](){const _0x5230f7=a39_0x209f40;console['log'](_0x5230f7(0x13f)),console['log'](_0x5230f7(0x12d)+this[_0x5230f7(0x11f)]),console[_0x5230f7(0x139)]('⏰\x20Interval:\x20'+Math[_0x5230f7(0x112)](this[_0x5230f7(0x129)]/0x3e8/0x3c)+_0x5230f7(0x135)),console['log'](_0x5230f7(0x152)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x5230f7(0x142)]()[_0x5230f7(0x126)](_0xf47b9b=>{const _0x45cff2=_0x5230f7;if(!_0xf47b9b&&this['consecutiveFailures']>=this[_0x45cff2(0x120)]){this[_0x45cff2(0x117)](_0x45cff2(0x14e)+this[_0x45cff2(0x137)]+_0x45cff2(0x163));return;}})[_0x5230f7(0x151)](_0x410536=>{const _0x319fa3=_0x5230f7;console[_0x319fa3(0x13c)]('Initial\x20domain\x20check\x20error:',_0x410536);if(this[_0x319fa3(0x137)]>=this[_0x319fa3(0x120)]){this[_0x319fa3(0x117)](_0x319fa3(0x12c)+_0x410536[_0x319fa3(0x141)]);return;}}),this[_0x5230f7(0x132)]=setInterval(async()=>{const _0x41c527=_0x5230f7;try{const _0x21e80f=await this[_0x41c527(0x142)]();!_0x21e80f&&(console[_0x41c527(0x15e)](_0x41c527(0x13d)+this[_0x41c527(0x137)]+'/'+this[_0x41c527(0x120)]+')'),this['consecutiveFailures']>=this[_0x41c527(0x120)]&&this[_0x41c527(0x117)](_0x41c527(0x143)+this['DOMAIN_URL']+_0x41c527(0x14a)+this[_0x41c527(0x137)]+'\x20consecutive\x20attempts'));}catch(_0x13b41c){console['error']('Periodic\x20domain\x20check\x20error:',_0x13b41c),this[_0x41c527(0x137)]>=this[_0x41c527(0x120)]&&this[_0x41c527(0x117)](_0x41c527(0x116)+(_0x13b41c instanceof Error?_0x13b41c[_0x41c527(0x141)]:_0x41c527(0x11c)));}},this[_0x5230f7(0x129)]),console[_0x5230f7(0x139)](_0x5230f7(0x130));}[a39_0x209f40(0x114)](){const _0x572596=a39_0x209f40;this['monitoringInterval']&&(clearInterval(this[_0x572596(0x132)]),this['monitoringInterval']=null,console['log'](_0x572596(0x12e)));}['getMonitoringStats'](){const _0x15cbe5=a39_0x209f40;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x15cbe5(0x11f)],'checkIntervalMinutes':Math[_0x15cbe5(0x112)](this[_0x15cbe5(0x129)]/0x3e8/0x3c),'consecutiveFailures':this[_0x15cbe5(0x137)],'maxFailuresAllowed':this[_0x15cbe5(0x120)],'nextCheckIn':this[_0x15cbe5(0x132)]?this[_0x15cbe5(0x129)]:undefined};}async[a39_0x209f40(0x144)](){const _0x57777e=a39_0x209f40;return console['log'](_0x57777e(0x13b)),await this[_0x57777e(0x142)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0x209f40(0x136)]=new DomainMonitoringService();