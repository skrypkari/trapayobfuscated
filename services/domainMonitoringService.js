'use strict';const a39_0x1a84db=a39_0xd72f;(function(_0x5815b9,_0x195598){const _0x3148b7=a39_0xd72f,_0x528c1c=_0x5815b9();while(!![]){try{const _0x4b624f=parseInt(_0x3148b7(0x169))/0x1*(-parseInt(_0x3148b7(0x123))/0x2)+-parseInt(_0x3148b7(0x14c))/0x3*(-parseInt(_0x3148b7(0x155))/0x4)+parseInt(_0x3148b7(0x121))/0x5+parseInt(_0x3148b7(0x12f))/0x6*(parseInt(_0x3148b7(0x131))/0x7)+-parseInt(_0x3148b7(0x15c))/0x8+parseInt(_0x3148b7(0x168))/0x9+-parseInt(_0x3148b7(0x175))/0xa;if(_0x4b624f===_0x195598)break;else _0x528c1c['push'](_0x528c1c['shift']());}catch(_0x30ec1c){_0x528c1c['push'](_0x528c1c['shift']());}}}(a39_0x5187,0xd9f05));function a39_0xd72f(_0x32e121,_0x28c1a9){const _0x51871e=a39_0x5187();return a39_0xd72f=function(_0xd72f46,_0x487e94){_0xd72f46=_0xd72f46-0x11c;let _0x256afd=_0x51871e[_0xd72f46];return _0x256afd;},a39_0xd72f(_0x32e121,_0x28c1a9);}var __importDefault=this&&this[a39_0x1a84db(0x139)]||function(_0x2e727c){const _0x3d3544=a39_0x1a84db;return _0x2e727c&&_0x2e727c[_0x3d3544(0x128)]?_0x2e727c:{'default':_0x2e727c};};Object[a39_0x1a84db(0x16b)](exports,a39_0x1a84db(0x128),{'value':!![]}),exports[a39_0x1a84db(0x158)]=exports[a39_0x1a84db(0x11d)]=void 0x0;function a39_0x5187(){const _0x5c03e1=['defineProperty','consecutiveFailures','getMonitoringStats','\x20\x20\x20-\x20Status:\x20','Unknown\x20error','now','ENOTFOUND','catch','🔍\x20Checking\x20domain\x20availability:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','4060180xhPJau','then','⏰\x20Connection\x20timeout\x20to\x20','DomainMonitoringService','❌\x20Domain\x20check\x20error\x20after\x20','log','⏰\x20Request\x20timeout\x20after\x20','594970DHSowS','⏰\x20Interval:\x20','18tVJUEX','abort','Domain\x20monitoring\x20threw\x20error:\x20','📅\x20Crash\x20time:\x20','includes','__esModule','status','utf-8','en-US,en;q=0.5','\x20minutes','📡\x20Target:\x20','\x20times','223740kpAZLN','🔓\x20Decoded\x20URL:\x20','273hIMaIn','error','headers','monitoringInterval','\x20in\x20','ECONNREFUSED','GET','🚨\x20Max\x20failures\x20before\x20crash:\x20','__importDefault','getRandomInterval','TIMEOUT_MS','\x20\x20\x20-\x20Response\x20time:\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','default','toISOString','encodeToBase64','🔧\x20Manual\x20domain\x20check\x20requested','🔍\x20Domain\x20monitoring\x20service\x20initialized','base64','round','📝\x20Encoded\x20URL\x20(base64):\x20','warn','CHECK_INTERVAL_MS','stopMonitoring','signal','MAX_CONSECUTIVE_FAILURES','keep-alive','357COaaYN','startMonitoring','message','\x20consecutive\x20attempts','⏰\x20Check\x20interval:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','manualCheck','🚫\x20Connection\x20refused\x20by\x20','crashServer','31972AzajyJ','📊\x20Response\x20received:','entries','domainMonitoringService','💥\x20CRITICAL\x20ERROR:\x20','decodeFromBase64','⚠️\x20Domain\x20check\x20failed\x20(','11739824ntCbGR','statusText','Initial\x20domain\x20check\x20failed\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','✅\x20Domain\x20check\x20successful:\x20','TesSoft\x20Domain\x20Monitor/1.0','toString','🔍\x20Domain\x20being\x20monitored:\x20','gzip,\x20deflate','DOMAIN_URL','checkDomain','https://google.com','16029801nJYbPj','171043CBrcYb','Domain\x20'];a39_0x5187=function(){return _0x5c03e1;};return a39_0x5187();}const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x726f36=a39_0x1a84db;this['monitoringInterval']=null,this[_0x726f36(0x165)]=_0x726f36(0x167),this[_0x726f36(0x147)]=this['getRandomInterval'](),this[_0x726f36(0x13b)]=0x7530,this[_0x726f36(0x16c)]=0x0,this[_0x726f36(0x14a)]=0x2,console[_0x726f36(0x11f)](_0x726f36(0x142)),console[_0x726f36(0x11f)]('📡\x20Target\x20domain:\x20'+this[_0x726f36(0x165)]),console[_0x726f36(0x11f)]('⏰\x20Check\x20interval:\x20'+Math['round'](this[_0x726f36(0x147)]/0x3e8/0x3c)+_0x726f36(0x12c));}[a39_0x1a84db(0x13a)](){const _0x1dda6d=0xa,_0x2ebbea=0xf,_0x315869=Math['random']()*(_0x2ebbea-_0x1dda6d)+_0x1dda6d;return Math['round'](_0x315869*0x3c*0x3e8);}[a39_0x1a84db(0x140)](_0x4677b3){const _0x8dc934=a39_0x1a84db;return Buffer['from'](_0x4677b3)[_0x8dc934(0x162)]('base64');}[a39_0x1a84db(0x15a)](_0x90e4ad){const _0x22f62f=a39_0x1a84db;return Buffer['from'](_0x90e4ad,_0x22f62f(0x143))[_0x22f62f(0x162)](_0x22f62f(0x12a));}async['checkDomain'](){const _0x11d78d=a39_0x1a84db,_0x546ac6=Date[_0x11d78d(0x170)]();try{console['log'](_0x11d78d(0x173)+this[_0x11d78d(0x165)]);const _0x8a096b=this[_0x11d78d(0x140)](this[_0x11d78d(0x165)]);console[_0x11d78d(0x11f)](_0x11d78d(0x145)+_0x8a096b);const _0x2a44e4=this[_0x11d78d(0x15a)](_0x8a096b);console[_0x11d78d(0x11f)](_0x11d78d(0x130)+_0x2a44e4);const _0xb46f5e=new AbortController(),_0x7be175=setTimeout(()=>_0xb46f5e[_0x11d78d(0x124)](),this[_0x11d78d(0x13b)]),_0x16284e=await(0x0,node_fetch_1[_0x11d78d(0x13e)])(_0x2a44e4,{'method':_0x11d78d(0x137),'headers':{'User-Agent':_0x11d78d(0x161),'Accept':_0x11d78d(0x174),'Accept-Language':_0x11d78d(0x12b),'Accept-Encoding':_0x11d78d(0x164),'Connection':_0x11d78d(0x14b),'Upgrade-Insecure-Requests':'1'},'signal':_0xb46f5e[_0x11d78d(0x149)]});clearTimeout(_0x7be175);const _0x1db2ab=Date[_0x11d78d(0x170)]()-_0x546ac6;return console[_0x11d78d(0x11f)](_0x11d78d(0x156)),console[_0x11d78d(0x11f)](_0x11d78d(0x16e)+_0x16284e[_0x11d78d(0x129)]+'\x20'+_0x16284e[_0x11d78d(0x15d)]),console[_0x11d78d(0x11f)](_0x11d78d(0x13c)+_0x1db2ab+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object['fromEntries'](_0x16284e[_0x11d78d(0x133)][_0x11d78d(0x157)]())),_0x16284e['ok']&&_0x16284e[_0x11d78d(0x129)]>=0xc8&&_0x16284e[_0x11d78d(0x129)]<0x190?(console['log'](_0x11d78d(0x160)+_0x16284e['status']+_0x11d78d(0x135)+_0x1db2ab+'ms'),this[_0x11d78d(0x16c)]=0x0,!![]):(console[_0x11d78d(0x132)](_0x11d78d(0x151)+_0x16284e['status']+'\x20'+_0x16284e['statusText']),this[_0x11d78d(0x16c)]++,![]);}catch(_0xf80bbc){const _0x522ace=Date[_0x11d78d(0x170)]()-_0x546ac6;this['consecutiveFailures']++,console['error'](_0x11d78d(0x11e)+_0x522ace+'ms:',_0xf80bbc);if(_0xf80bbc instanceof Error){if(_0xf80bbc['name']==='AbortError')console[_0x11d78d(0x132)](_0x11d78d(0x120)+this[_0x11d78d(0x13b)]+'ms');else{if(_0xf80bbc[_0x11d78d(0x14e)][_0x11d78d(0x127)](_0x11d78d(0x171)))console[_0x11d78d(0x132)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x11d78d(0x165)]);else{if(_0xf80bbc[_0x11d78d(0x14e)][_0x11d78d(0x127)](_0x11d78d(0x136)))console[_0x11d78d(0x132)](_0x11d78d(0x153)+this[_0x11d78d(0x165)]);else _0xf80bbc[_0x11d78d(0x14e)][_0x11d78d(0x127)]('ETIMEDOUT')?console[_0x11d78d(0x132)](_0x11d78d(0x11c)+this[_0x11d78d(0x165)]):console[_0x11d78d(0x132)]('🔥\x20Unexpected\x20error:\x20'+_0xf80bbc['message']);}}}return![];}}[a39_0x1a84db(0x154)](_0x47a257){const _0x63656e=a39_0x1a84db;console['error'](_0x63656e(0x159)+_0x47a257),console[_0x63656e(0x132)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x63656e(0x16c)]),console[_0x63656e(0x132)](_0x63656e(0x13d)),console[_0x63656e(0x132)](_0x63656e(0x126)+new Date()[_0x63656e(0x13f)]()),console['error'](_0x63656e(0x163)+this['DOMAIN_URL']),console[_0x63656e(0x132)](_0x63656e(0x150)+Math[_0x63656e(0x144)](this[_0x63656e(0x147)]/0x3e8/0x3c)+'\x20minutes'),console['error']('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x63656e(0x14a)]),this[_0x63656e(0x148)](),process['exit'](0x1);}[a39_0x1a84db(0x14d)](){const _0x34df19=a39_0x1a84db;console[_0x34df19(0x11f)]('🚀\x20Starting\x20domain\x20monitoring\x20service'),console[_0x34df19(0x11f)](_0x34df19(0x12d)+this[_0x34df19(0x165)]),console[_0x34df19(0x11f)](_0x34df19(0x122)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x34df19(0x11f)](_0x34df19(0x138)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x34df19(0x166)]()[_0x34df19(0x176)](_0x1bfce9=>{const _0x41c863=_0x34df19;if(!_0x1bfce9&&this[_0x41c863(0x16c)]>=this[_0x41c863(0x14a)]){this[_0x41c863(0x154)](_0x41c863(0x15e)+this[_0x41c863(0x16c)]+_0x41c863(0x12e));return;}})[_0x34df19(0x172)](_0x221e74=>{const _0x333ffc=_0x34df19;console[_0x333ffc(0x132)]('Initial\x20domain\x20check\x20error:',_0x221e74);if(this['consecutiveFailures']>=this[_0x333ffc(0x14a)]){this['crashServer'](_0x333ffc(0x15f)+_0x221e74[_0x333ffc(0x14e)]);return;}}),this[_0x34df19(0x134)]=setInterval(async()=>{const _0x2991c7=_0x34df19;try{const _0x4a36fc=await this[_0x2991c7(0x166)]();!_0x4a36fc&&(console[_0x2991c7(0x146)](_0x2991c7(0x15b)+this[_0x2991c7(0x16c)]+'/'+this[_0x2991c7(0x14a)]+')'),this[_0x2991c7(0x16c)]>=this[_0x2991c7(0x14a)]&&this['crashServer'](_0x2991c7(0x16a)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x2991c7(0x16c)]+_0x2991c7(0x14f)));}catch(_0x3cfad5){console[_0x2991c7(0x132)]('Periodic\x20domain\x20check\x20error:',_0x3cfad5),this[_0x2991c7(0x16c)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x2991c7(0x154)](_0x2991c7(0x125)+(_0x3cfad5 instanceof Error?_0x3cfad5['message']:_0x2991c7(0x16f)));}},this['CHECK_INTERVAL_MS']),console[_0x34df19(0x11f)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}['stopMonitoring'](){const _0x317d71=a39_0x1a84db;this[_0x317d71(0x134)]&&(clearInterval(this[_0x317d71(0x134)]),this[_0x317d71(0x134)]=null,console[_0x317d71(0x11f)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0x1a84db(0x16d)](){const _0x6a5e3=a39_0x1a84db;return{'isActive':!!this[_0x6a5e3(0x134)],'targetDomain':this[_0x6a5e3(0x165)],'checkIntervalMinutes':Math[_0x6a5e3(0x144)](this[_0x6a5e3(0x147)]/0x3e8/0x3c),'consecutiveFailures':this[_0x6a5e3(0x16c)],'maxFailuresAllowed':this[_0x6a5e3(0x14a)],'nextCheckIn':this[_0x6a5e3(0x134)]?this[_0x6a5e3(0x147)]:undefined};}async[a39_0x1a84db(0x152)](){const _0x9bdb8e=a39_0x1a84db;return console[_0x9bdb8e(0x11f)](_0x9bdb8e(0x141)),await this[_0x9bdb8e(0x166)]();}}exports[a39_0x1a84db(0x11d)]=DomainMonitoringService,exports[a39_0x1a84db(0x158)]=new DomainMonitoringService();