'use strict';function a50_0x4886(_0x221d16,_0x2fd5b6){_0x221d16=_0x221d16-0x11b;const _0x148984=a50_0x1489();let _0x4886bf=_0x148984[_0x221d16];return _0x4886bf;}const a50_0x2c9794=a50_0x4886;function a50_0x1489(){const _0x1f00e6=['âŒ\x20Domain\x20check\x20error\x20after\x20','\x20times','\x20\x20\x20-\x20Headers:','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','462058dazuDh','â°\x20Request\x20timeout\x20after\x20','1267602JCxdwx','Initial\x20domain\x20check\x20failed\x20','warn','ðŸ”\x20Domain\x20being\x20monitored:\x20','\x20consecutive\x20attempts','âœ…\x20Domain\x20check\x20successful:\x20','\x20in\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','TIMEOUT_MS','Periodic\x20domain\x20check\x20error:','round','\x20\x20\x20-\x20Response\x20time:\x20','CHECK_INTERVAL_MS','ETIMEDOUT','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','gzip,\x20deflate','ðŸ›‘\x20Domain\x20monitoring\x20stopped','base64','startMonitoring','consecutiveFailures','ðŸ“…\x20Crash\x20time:\x20','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','keep-alive','1372536zxMJbL','ðŸ”“\x20Decoded\x20URL:\x20','6066696TozQiU','ðŸ”¥\x20Unexpected\x20error:\x20','\x20is\x20not\x20responding\x20after\x20','GET','ðŸ“¡\x20Target:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','name','entries','message','statusText','stopMonitoring','crashServer','\x20\x20\x20-\x20Status:\x20','signal','Domain\x20','defineProperty','toString','Unknown\x20error','ðŸ“Š\x20Response\x20received:','checkDomain','Initial\x20domain\x20check\x20threw\x20error:\x20','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','now','DOMAIN_URL','â°\x20Interval:\x20','MAX_CONSECUTIVE_FAILURES','toISOString','status','9621mTlQbS','âœ…\x20Domain\x20monitoring\x20started\x20successfully','then','â°\x20Connection\x20timeout\x20to\x20','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','ms:','4520jpqYGR','getRandomInterval','fromEntries','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','Initial\x20domain\x20check\x20error:','from','â°\x20Check\x20interval:\x20','error','2058395nOWArd','ECONNREFUSED','4hkkkkA','2095869sgNkjo','includes','__esModule','decodeFromBase64','node-fetch','https://google.com','manualCheck','ðŸš«\x20Connection\x20refused\x20by\x20','domainMonitoringService','log','encodeToBase64','7FzIgCw','en-US,en;q=0.5','DomainMonitoringService','monitoringInterval','__importDefault','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20minutes','âš ï¸\x20Domain\x20check\x20failed\x20(','default','utf-8'];a50_0x1489=function(){return _0x1f00e6;};return a50_0x1489();}(function(_0x4470c5,_0x38d990){const _0x276dde=a50_0x4886,_0x37890d=_0x4470c5();while(!![]){try{const _0x235301=parseInt(_0x276dde(0x158))/0x1+-parseInt(_0x276dde(0x171))/0x2+parseInt(_0x276dde(0x13f))/0x3+-parseInt(_0x276dde(0x13e))/0x4*(-parseInt(_0x276dde(0x13c))/0x5)+-parseInt(_0x276dde(0x15a))/0x6+-parseInt(_0x276dde(0x14a))/0x7*(parseInt(_0x276dde(0x173))/0x8)+-parseInt(_0x276dde(0x12e))/0x9*(-parseInt(_0x276dde(0x134))/0xa);if(_0x235301===_0x38d990)break;else _0x37890d['push'](_0x37890d['shift']());}catch(_0x534dd4){_0x37890d['push'](_0x37890d['shift']());}}}(a50_0x1489,0x6193c));var __importDefault=this&&this[a50_0x2c9794(0x14e)]||function(_0x5aee08){const _0x65ed59=a50_0x2c9794;return _0x5aee08&&_0x5aee08[_0x65ed59(0x141)]?_0x5aee08:{'default':_0x5aee08};};Object[a50_0x2c9794(0x121)](exports,a50_0x2c9794(0x141),{'value':!![]}),exports[a50_0x2c9794(0x147)]=exports[a50_0x2c9794(0x14c)]=void 0x0;const node_fetch_1=__importDefault(require(a50_0x2c9794(0x143)));class DomainMonitoringService{constructor(){const _0x5eb0d2=a50_0x2c9794;this[_0x5eb0d2(0x14d)]=null,this[_0x5eb0d2(0x129)]=_0x5eb0d2(0x144),this[_0x5eb0d2(0x166)]=this[_0x5eb0d2(0x135)](),this[_0x5eb0d2(0x162)]=0x7530,this[_0x5eb0d2(0x16d)]=0x0,this[_0x5eb0d2(0x12b)]=0x2,console['log'](_0x5eb0d2(0x168)),console[_0x5eb0d2(0x148)]('ðŸ“¡\x20Target\x20domain:\x20'+this[_0x5eb0d2(0x129)]),console[_0x5eb0d2(0x148)]('â°\x20Check\x20interval:\x20'+Math[_0x5eb0d2(0x164)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5eb0d2(0x150));}[a50_0x2c9794(0x135)](){const _0x3b37d6=a50_0x2c9794,_0x2b33d6=0xa,_0x21daea=0xf,_0x4e73e9=Math['random']()*(_0x21daea-_0x2b33d6)+_0x2b33d6;return Math[_0x3b37d6(0x164)](_0x4e73e9*0x3c*0x3e8);}[a50_0x2c9794(0x149)](_0x2e6b1d){const _0x160621=a50_0x2c9794;return Buffer[_0x160621(0x139)](_0x2e6b1d)[_0x160621(0x122)](_0x160621(0x16b));}[a50_0x2c9794(0x142)](_0x353149){const _0x8f5a33=a50_0x2c9794;return Buffer[_0x8f5a33(0x139)](_0x353149,_0x8f5a33(0x16b))[_0x8f5a33(0x122)](_0x8f5a33(0x153));}async[a50_0x2c9794(0x125)](){const _0x379a9a=a50_0x2c9794,_0x163c34=Date[_0x379a9a(0x128)]();try{console[_0x379a9a(0x148)]('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this[_0x379a9a(0x129)]);const _0x2bb986=this['encodeToBase64'](this['DOMAIN_URL']);console['log'](_0x379a9a(0x157)+_0x2bb986);const _0x456245=this['decodeFromBase64'](_0x2bb986);console['log'](_0x379a9a(0x172)+_0x456245);const _0xeb1134=new AbortController(),_0x40789b=setTimeout(()=>_0xeb1134['abort'](),this['TIMEOUT_MS']),_0x15116a=await(0x0,node_fetch_1[_0x379a9a(0x152)])(_0x456245,{'method':_0x379a9a(0x176),'headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x379a9a(0x14b),'Accept-Encoding':_0x379a9a(0x169),'Connection':_0x379a9a(0x170),'Upgrade-Insecure-Requests':'1'},'signal':_0xeb1134[_0x379a9a(0x11f)]});clearTimeout(_0x40789b);const _0x2543df=Date[_0x379a9a(0x128)]()-_0x163c34;return console[_0x379a9a(0x148)](_0x379a9a(0x124)),console[_0x379a9a(0x148)](_0x379a9a(0x11e)+_0x15116a[_0x379a9a(0x12d)]+'\x20'+_0x15116a[_0x379a9a(0x11b)]),console[_0x379a9a(0x148)](_0x379a9a(0x165)+_0x2543df+'ms'),console[_0x379a9a(0x148)](_0x379a9a(0x156),Object[_0x379a9a(0x136)](_0x15116a['headers'][_0x379a9a(0x17a)]())),_0x15116a['ok']&&_0x15116a['status']>=0xc8&&_0x15116a[_0x379a9a(0x12d)]<0x190?(console['log'](_0x379a9a(0x15f)+_0x15116a['status']+_0x379a9a(0x160)+_0x2543df+'ms'),this[_0x379a9a(0x16d)]=0x0,!![]):(console[_0x379a9a(0x13b)](_0x379a9a(0x14f)+_0x15116a['status']+'\x20'+_0x15116a[_0x379a9a(0x11b)]),this[_0x379a9a(0x16d)]++,![]);}catch(_0x31cf98){const _0x37ef6c=Date[_0x379a9a(0x128)]()-_0x163c34;this[_0x379a9a(0x16d)]++,console[_0x379a9a(0x13b)](_0x379a9a(0x154)+_0x37ef6c+_0x379a9a(0x133),_0x31cf98);if(_0x31cf98 instanceof Error){if(_0x31cf98[_0x379a9a(0x179)]==='AbortError')console[_0x379a9a(0x13b)](_0x379a9a(0x159)+this[_0x379a9a(0x162)]+'ms');else{if(_0x31cf98[_0x379a9a(0x17b)][_0x379a9a(0x140)]('ENOTFOUND'))console['error'](_0x379a9a(0x16f)+this['DOMAIN_URL']);else{if(_0x31cf98[_0x379a9a(0x17b)][_0x379a9a(0x140)](_0x379a9a(0x13d)))console['error'](_0x379a9a(0x146)+this[_0x379a9a(0x129)]);else _0x31cf98[_0x379a9a(0x17b)][_0x379a9a(0x140)](_0x379a9a(0x167))?console['error'](_0x379a9a(0x131)+this[_0x379a9a(0x129)]):console['error'](_0x379a9a(0x174)+_0x31cf98[_0x379a9a(0x17b)]);}}}return![];}}['crashServer'](_0x5ae076){const _0x3ff894=a50_0x2c9794;console[_0x3ff894(0x13b)](_0x3ff894(0x132)+_0x5ae076),console['error']('ðŸ”¥\x20Consecutive\x20failures:\x20'+this[_0x3ff894(0x16d)]),console[_0x3ff894(0x13b)](_0x3ff894(0x178)),console['error'](_0x3ff894(0x16e)+new Date()[_0x3ff894(0x12c)]()),console[_0x3ff894(0x13b)](_0x3ff894(0x15d)+this[_0x3ff894(0x129)]),console[_0x3ff894(0x13b)](_0x3ff894(0x13a)+Math[_0x3ff894(0x164)](this[_0x3ff894(0x166)]/0x3e8/0x3c)+_0x3ff894(0x150)),console[_0x3ff894(0x13b)](_0x3ff894(0x137)+this[_0x3ff894(0x12b)]),this[_0x3ff894(0x11c)](),process['exit'](0x1);}[a50_0x2c9794(0x16c)](){const _0x1c347b=a50_0x2c9794;console['log']('ðŸš€\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x1c347b(0x177)+this[_0x1c347b(0x129)]),console[_0x1c347b(0x148)](_0x1c347b(0x12a)+Math[_0x1c347b(0x164)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x1c347b(0x150)),console[_0x1c347b(0x148)](_0x1c347b(0x127)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x1c347b(0x130)](_0x1fae6f=>{const _0x158c7a=_0x1c347b;if(!_0x1fae6f&&this['consecutiveFailures']>=this[_0x158c7a(0x12b)]){this[_0x158c7a(0x11d)](_0x158c7a(0x15b)+this[_0x158c7a(0x16d)]+_0x158c7a(0x155));return;}})['catch'](_0x4acda8=>{const _0x287a6e=_0x1c347b;console['error'](_0x287a6e(0x138),_0x4acda8);if(this[_0x287a6e(0x16d)]>=this[_0x287a6e(0x12b)]){this[_0x287a6e(0x11d)](_0x287a6e(0x126)+_0x4acda8['message']);return;}}),this[_0x1c347b(0x14d)]=setInterval(async()=>{const _0x2d2eee=_0x1c347b;try{const _0x19b3d8=await this['checkDomain']();!_0x19b3d8&&(console[_0x2d2eee(0x15c)](_0x2d2eee(0x151)+this[_0x2d2eee(0x16d)]+'/'+this[_0x2d2eee(0x12b)]+')'),this[_0x2d2eee(0x16d)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x2d2eee(0x11d)](_0x2d2eee(0x120)+this[_0x2d2eee(0x129)]+_0x2d2eee(0x175)+this[_0x2d2eee(0x16d)]+_0x2d2eee(0x15e)));}catch(_0xd6d66){console[_0x2d2eee(0x13b)](_0x2d2eee(0x163),_0xd6d66),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0xd6d66 instanceof Error?_0xd6d66[_0x2d2eee(0x17b)]:_0x2d2eee(0x123)));}},this[_0x1c347b(0x166)]),console[_0x1c347b(0x148)](_0x1c347b(0x12f));}[a50_0x2c9794(0x11c)](){const _0x5b380a=a50_0x2c9794;this[_0x5b380a(0x14d)]&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console['log'](_0x5b380a(0x16a)));}['getMonitoringStats'](){const _0x1576ac=a50_0x2c9794;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x1576ac(0x164)](this[_0x1576ac(0x166)]/0x3e8/0x3c),'consecutiveFailures':this[_0x1576ac(0x16d)],'maxFailuresAllowed':this[_0x1576ac(0x12b)],'nextCheckIn':this[_0x1576ac(0x14d)]?this[_0x1576ac(0x166)]:undefined};}async[a50_0x2c9794(0x145)](){const _0x20a0ee=a50_0x2c9794;return console[_0x20a0ee(0x148)](_0x20a0ee(0x161)),await this[_0x20a0ee(0x125)]();}}exports[a50_0x2c9794(0x14c)]=DomainMonitoringService,exports[a50_0x2c9794(0x147)]=new DomainMonitoringService();