'use strict';const a59_0x3c2d33=a59_0x38ad;(function(_0x3c9841,_0x4b03d7){const _0x517aea=a59_0x38ad,_0x48be15=_0x3c9841();while(!![]){try{const _0x42b113=parseInt(_0x517aea(0x178))/0x1+-parseInt(_0x517aea(0x15e))/0x2*(-parseInt(_0x517aea(0x185))/0x3)+parseInt(_0x517aea(0x154))/0x4*(-parseInt(_0x517aea(0x14d))/0x5)+-parseInt(_0x517aea(0x15d))/0x6*(parseInt(_0x517aea(0x175))/0x7)+-parseInt(_0x517aea(0x17a))/0x8+-parseInt(_0x517aea(0x149))/0x9*(parseInt(_0x517aea(0x13b))/0xa)+parseInt(_0x517aea(0x184))/0xb;if(_0x42b113===_0x4b03d7)break;else _0x48be15['push'](_0x48be15['shift']());}catch(_0x2e61ab){_0x48be15['push'](_0x48be15['shift']());}}}(a59_0x1e8e,0x54d5b));function a59_0x38ad(_0x29be66,_0x25b611){_0x29be66=_0x29be66-0x137;const _0x1e8ee8=a59_0x1e8e();let _0x38ad21=_0x1e8ee8[_0x29be66];return _0x38ad21;}function a59_0x1e8e(){const _0xa0260d=['checkDomain','domainMonitoringService','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','random','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','âœ…\x20Domain\x20check\x20successful:\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','ðŸ“¡\x20Target:\x20','â°\x20Request\x20timeout\x20after\x20','âš ï¸\x20Domain\x20check\x20failed\x20(','status','base64','signal','4133763IdOnTc','MAX_CONSECUTIVE_FAILURES','toISOString','https://google.com','132245DZgpbz','GET','node-fetch','Periodic\x20domain\x20check\x20error:','â°\x20Check\x20interval:\x20','\x20\x20\x20-\x20Response\x20time:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','4naqQlO','defineProperty','AbortError','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','now','decodeFromBase64','Unknown\x20error','headers','getMonitoringStats','102SewjPf','52bwDMZx','ðŸ”\x20Domain\x20being\x20monitored:\x20','abort','Domain\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','crashServer','\x20\x20\x20-\x20Headers:','toString','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','Initial\x20domain\x20check\x20error:','then','includes','ms:','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','default','getRandomInterval','fromEntries','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','âŒ\x20Domain\x20check\x20error\x20after\x20','from','error','ðŸ”¥\x20Unexpected\x20error:\x20','229019FWnZZa','TIMEOUT_MS','__esModule','19410wjHMEP','en-US,en;q=0.5','1877816qngXul','\x20minutes','warn','CHECK_INTERVAL_MS','ðŸš«\x20Connection\x20refused\x20by\x20','DOMAIN_URL','round','\x20in\x20','ðŸ›‘\x20Domain\x20monitoring\x20stopped','\x20\x20\x20-\x20Status:\x20','15803491dFKbhE','19392BtJcZu','message','keep-alive','ðŸ”¥\x20Consecutive\x20failures:\x20','DomainMonitoringService','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ðŸ”“\x20Decoded\x20URL:\x20','log','catch','ECONNREFUSED','ENOTFOUND','monitoringInterval','name','ðŸ“¡\x20Target\x20domain:\x20','statusText','consecutiveFailures','exit','Domain\x20Monitor/1.0','10IcNFFs'];a59_0x1e8e=function(){return _0xa0260d;};return a59_0x1e8e();}var __importDefault=this&&this['__importDefault']||function(_0x49fd22){const _0x40b0ca=a59_0x38ad;return _0x49fd22&&_0x49fd22[_0x40b0ca(0x177)]?_0x49fd22:{'default':_0x49fd22};};Object[a59_0x3c2d33(0x155)](exports,a59_0x3c2d33(0x177),{'value':!![]}),exports['domainMonitoringService']=exports[a59_0x3c2d33(0x189)]=void 0x0;const node_fetch_1=__importDefault(require(a59_0x3c2d33(0x14f)));class DomainMonitoringService{constructor(){const _0x3612=a59_0x3c2d33;this[_0x3612(0x190)]=null,this[_0x3612(0x17f)]=_0x3612(0x14c),this[_0x3612(0x17d)]=this[_0x3612(0x16d)](),this[_0x3612(0x176)]=0x7530,this[_0x3612(0x138)]=0x0,this[_0x3612(0x14a)]=0x2,console['log'](_0x3612(0x140)),console[_0x3612(0x18c)](_0x3612(0x192)+this[_0x3612(0x17f)]),console['log'](_0x3612(0x151)+Math[_0x3612(0x180)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x3612(0x17b));}[a59_0x3c2d33(0x16d)](){const _0x3e3348=a59_0x3c2d33,_0x391d95=0xa,_0x2f7e31=0xf,_0x20496d=Math[_0x3e3348(0x13f)]()*(_0x2f7e31-_0x391d95)+_0x391d95;return Math[_0x3e3348(0x180)](_0x20496d*0x3c*0x3e8);}['encodeToBase64'](_0x5eae3d){const _0x1a9e3e=a59_0x3c2d33;return Buffer[_0x1a9e3e(0x172)](_0x5eae3d)['toString'](_0x1a9e3e(0x147));}[a59_0x3c2d33(0x159)](_0x34025c){const _0x589485=a59_0x3c2d33;return Buffer[_0x589485(0x172)](_0x34025c,_0x589485(0x147))[_0x589485(0x165)]('utf-8');}async[a59_0x3c2d33(0x13c)](){const _0x29a2d4=a59_0x3c2d33,_0x4bf374=Date[_0x29a2d4(0x158)]();try{console['log'](_0x29a2d4(0x153)+this[_0x29a2d4(0x17f)]);const _0x26d4a3=this['encodeToBase64'](this[_0x29a2d4(0x17f)]);console['log'](_0x29a2d4(0x170)+_0x26d4a3);const _0x365bab=this[_0x29a2d4(0x159)](_0x26d4a3);console[_0x29a2d4(0x18c)](_0x29a2d4(0x18b)+_0x365bab);const _0x31d00d=new AbortController(),_0x12c2c0=setTimeout(()=>_0x31d00d[_0x29a2d4(0x160)](),this[_0x29a2d4(0x176)]),_0x6f171a=await(0x0,node_fetch_1[_0x29a2d4(0x16c)])(_0x365bab,{'method':_0x29a2d4(0x14e),'headers':{'User-Agent':_0x29a2d4(0x13a),'Accept':_0x29a2d4(0x13e),'Accept-Language':_0x29a2d4(0x179),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x29a2d4(0x187),'Upgrade-Insecure-Requests':'1'},'signal':_0x31d00d[_0x29a2d4(0x148)]});clearTimeout(_0x12c2c0);const _0x381701=Date[_0x29a2d4(0x158)]()-_0x4bf374;return console['log']('ðŸ“Š\x20Response\x20received:'),console[_0x29a2d4(0x18c)](_0x29a2d4(0x183)+_0x6f171a[_0x29a2d4(0x146)]+'\x20'+_0x6f171a[_0x29a2d4(0x137)]),console[_0x29a2d4(0x18c)](_0x29a2d4(0x152)+_0x381701+'ms'),console['log'](_0x29a2d4(0x164),Object[_0x29a2d4(0x16e)](_0x6f171a[_0x29a2d4(0x15b)]['entries']())),_0x6f171a['ok']&&_0x6f171a['status']>=0xc8&&_0x6f171a[_0x29a2d4(0x146)]<0x190?(console[_0x29a2d4(0x18c)](_0x29a2d4(0x141)+_0x6f171a[_0x29a2d4(0x146)]+_0x29a2d4(0x181)+_0x381701+'ms'),this[_0x29a2d4(0x138)]=0x0,!![]):(console[_0x29a2d4(0x173)](_0x29a2d4(0x157)+_0x6f171a[_0x29a2d4(0x146)]+'\x20'+_0x6f171a['statusText']),this[_0x29a2d4(0x138)]++,![]);}catch(_0x2a3b11){const _0x128695=Date['now']()-_0x4bf374;this[_0x29a2d4(0x138)]++,console[_0x29a2d4(0x173)](_0x29a2d4(0x171)+_0x128695+_0x29a2d4(0x16a),_0x2a3b11);if(_0x2a3b11 instanceof Error){if(_0x2a3b11[_0x29a2d4(0x191)]===_0x29a2d4(0x156))console[_0x29a2d4(0x173)](_0x29a2d4(0x144)+this[_0x29a2d4(0x176)]+'ms');else{if(_0x2a3b11['message'][_0x29a2d4(0x169)](_0x29a2d4(0x18f)))console[_0x29a2d4(0x173)]('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x29a2d4(0x17f)]);else{if(_0x2a3b11[_0x29a2d4(0x186)]['includes'](_0x29a2d4(0x18e)))console[_0x29a2d4(0x173)](_0x29a2d4(0x17e)+this[_0x29a2d4(0x17f)]);else _0x2a3b11[_0x29a2d4(0x186)][_0x29a2d4(0x169)]('ETIMEDOUT')?console[_0x29a2d4(0x173)]('â°\x20Connection\x20timeout\x20to\x20'+this['DOMAIN_URL']):console[_0x29a2d4(0x173)](_0x29a2d4(0x174)+_0x2a3b11[_0x29a2d4(0x186)]);}}}return![];}}[a59_0x3c2d33(0x163)](_0x1e06ba){const _0x22ff83=a59_0x3c2d33;console[_0x22ff83(0x173)](_0x22ff83(0x16b)+_0x1e06ba),console[_0x22ff83(0x173)](_0x22ff83(0x188)+this[_0x22ff83(0x138)]),console[_0x22ff83(0x173)](_0x22ff83(0x16f)),console[_0x22ff83(0x173)]('ðŸ“…\x20Crash\x20time:\x20'+new Date()[_0x22ff83(0x14b)]()),console[_0x22ff83(0x173)](_0x22ff83(0x15f)+this[_0x22ff83(0x17f)]),console[_0x22ff83(0x173)](_0x22ff83(0x151)+Math[_0x22ff83(0x180)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x22ff83(0x17b)),console[_0x22ff83(0x173)](_0x22ff83(0x18a)+this[_0x22ff83(0x14a)]),this['stopMonitoring'](),process[_0x22ff83(0x139)](0x1);}['startMonitoring'](){const _0x32989f=a59_0x3c2d33;console[_0x32989f(0x18c)]('ðŸš€\x20Starting\x20domain\x20monitoring\x20service'),console[_0x32989f(0x18c)](_0x32989f(0x143)+this[_0x32989f(0x17f)]),console['log']('â°\x20Interval:\x20'+Math['round'](this[_0x32989f(0x17d)]/0x3e8/0x3c)+_0x32989f(0x17b)),console['log'](_0x32989f(0x166)+this[_0x32989f(0x14a)]),this[_0x32989f(0x13c)]()[_0x32989f(0x168)](_0x464d7b=>{const _0x371c72=_0x32989f;if(!_0x464d7b&&this[_0x371c72(0x138)]>=this[_0x371c72(0x14a)]){this[_0x371c72(0x163)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x371c72(0x138)]+'\x20times');return;}})[_0x32989f(0x18d)](_0x59e8d1=>{const _0x1159b2=_0x32989f;console[_0x1159b2(0x173)](_0x1159b2(0x167),_0x59e8d1);if(this['consecutiveFailures']>=this[_0x1159b2(0x14a)]){this['crashServer'](_0x1159b2(0x162)+_0x59e8d1[_0x1159b2(0x186)]);return;}}),this[_0x32989f(0x190)]=setInterval(async()=>{const _0x582625=_0x32989f;try{const _0x5a0fea=await this[_0x582625(0x13c)]();!_0x5a0fea&&(console[_0x582625(0x17c)](_0x582625(0x145)+this['consecutiveFailures']+'/'+this[_0x582625(0x14a)]+')'),this[_0x582625(0x138)]>=this[_0x582625(0x14a)]&&this[_0x582625(0x163)](_0x582625(0x161)+this[_0x582625(0x17f)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x582625(0x138)]+'\x20consecutive\x20attempts'));}catch(_0x4a596e){console['error'](_0x582625(0x150),_0x4a596e),this[_0x582625(0x138)]>=this[_0x582625(0x14a)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x4a596e instanceof Error?_0x4a596e[_0x582625(0x186)]:_0x582625(0x15a)));}},this[_0x32989f(0x17d)]),console[_0x32989f(0x18c)](_0x32989f(0x142));}['stopMonitoring'](){const _0x5b09e9=a59_0x3c2d33;this[_0x5b09e9(0x190)]&&(clearInterval(this[_0x5b09e9(0x190)]),this[_0x5b09e9(0x190)]=null,console[_0x5b09e9(0x18c)](_0x5b09e9(0x182)));}[a59_0x3c2d33(0x15c)](){const _0x4cee85=a59_0x3c2d33;return{'isActive':!!this[_0x4cee85(0x190)],'targetDomain':this[_0x4cee85(0x17f)],'checkIntervalMinutes':Math[_0x4cee85(0x180)](this[_0x4cee85(0x17d)]/0x3e8/0x3c),'consecutiveFailures':this[_0x4cee85(0x138)],'maxFailuresAllowed':this[_0x4cee85(0x14a)],'nextCheckIn':this[_0x4cee85(0x190)]?this[_0x4cee85(0x17d)]:undefined};}async['manualCheck'](){const _0x10cb21=a59_0x3c2d33;return console['log']('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x10cb21(0x13c)]();}}exports[a59_0x3c2d33(0x189)]=DomainMonitoringService,exports[a59_0x3c2d33(0x13d)]=new DomainMonitoringService();