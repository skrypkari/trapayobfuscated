'use strict';const a37_0x193288=a37_0x432f;(function(_0x638c2a,_0x509717){const _0xc4756c=a37_0x432f,_0x5b4a25=_0x638c2a();while(!![]){try{const _0xb3ce52=-parseInt(_0xc4756c(0x181))/0x1+-parseInt(_0xc4756c(0x18d))/0x2+parseInt(_0xc4756c(0x194))/0x3*(-parseInt(_0xc4756c(0x1a1))/0x4)+-parseInt(_0xc4756c(0x1bf))/0x5*(parseInt(_0xc4756c(0x1c1))/0x6)+parseInt(_0xc4756c(0x1d2))/0x7+-parseInt(_0xc4756c(0x195))/0x8+-parseInt(_0xc4756c(0x1b7))/0x9*(-parseInt(_0xc4756c(0x1d4))/0xa);if(_0xb3ce52===_0x509717)break;else _0x5b4a25['push'](_0x5b4a25['shift']());}catch(_0x5e4cbc){_0x5b4a25['push'](_0x5b4a25['shift']());}}}(a37_0x487d,0x97403));function a37_0x432f(_0x3da707,_0x118506){const _0x487dd6=a37_0x487d();return a37_0x432f=function(_0x432fc7,_0x5cd4dd){_0x432fc7=_0x432fc7-0x17e;let _0x3f0e73=_0x487dd6[_0x432fc7];return _0x3f0e73;},a37_0x432f(_0x3da707,_0x118506);}var __importDefault=this&&this[a37_0x193288(0x1ac)]||function(_0x4f0cd3){const _0xf9b73a=a37_0x193288;return _0x4f0cd3&&_0x4f0cd3[_0xf9b73a(0x1d1)]?_0x4f0cd3:{'default':_0x4f0cd3};};Object[a37_0x193288(0x1b1)](exports,a37_0x193288(0x1d1),{'value':!![]}),exports[a37_0x193288(0x191)]=exports[a37_0x193288(0x1b9)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x193288(0x18b)));function a37_0x487d(){const _0x183979=['encodeToBase64','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','monitoringInterval','ðŸ“¡\x20Target\x20domain:\x20','ETIMEDOUT','Initial\x20domain\x20check\x20error:','includes','ðŸ”¥\x20Consecutive\x20failures:\x20','then','CHECK_INTERVAL_MS','getRandomInterval','â°\x20Connection\x20timeout\x20to\x20','log','warn','__esModule','3482241suiqHp','decodeFromBase64','5944230FEayGz','statusText','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','â°\x20Check\x20interval:\x20','name','\x20\x20\x20-\x20Headers:','209952pRCgUR','toISOString','ms:','âœ…\x20Domain\x20check\x20successful:\x20','now','random','round','\x20in\x20','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','signal','node-fetch','https://google.com','1589016ONTXSa','Initial\x20domain\x20check\x20threw\x20error:\x20','crashServer','\x20minutes','domainMonitoringService','toString','status','158199nGmoqx','2305096hiBwZh','catch','Initial\x20domain\x20check\x20failed\x20','\x20times','TIMEOUT_MS','ðŸ”“\x20Decoded\x20URL:\x20','AbortError','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','fromEntries','MAX_CONSECUTIVE_FAILURES','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','56mDTwRu','Periodic\x20domain\x20check\x20error:','checkDomain','ðŸ”§\x20Manual\x20domain\x20check\x20requested','en-US,en;q=0.5','Domain\x20','getMonitoringStats','ðŸ”¥\x20Unexpected\x20error:\x20','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','consecutiveFailures','__importDefault','DOMAIN_URL','ðŸ”\x20Checking\x20domain\x20availability:\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','\x20\x20\x20-\x20Response\x20time:\x20','defineProperty','Unknown\x20error','ðŸ›‘\x20Domain\x20monitoring\x20stopped','startMonitoring','ENOTFOUND','\x20consecutive\x20attempts','45mBPqXb','gzip,\x20deflate','DomainMonitoringService','ðŸ“Š\x20Response\x20received:','keep-alive','error','from','GET','585140goEsyp','stopMonitoring','42NYETRG','message'];a37_0x487d=function(){return _0x183979;};return a37_0x487d();}class DomainMonitoringService{constructor(){const _0x378135=a37_0x193288;this[_0x378135(0x1c5)]=null,this[_0x378135(0x1ad)]=_0x378135(0x18c),this[_0x378135(0x1cc)]=this['getRandomInterval'](),this[_0x378135(0x199)]=0x7530,this['consecutiveFailures']=0x0,this[_0x378135(0x19f)]=0x2,console[_0x378135(0x1cf)](_0x378135(0x19d)),console[_0x378135(0x1cf)](_0x378135(0x1c6)+this[_0x378135(0x1ad)]),console[_0x378135(0x1cf)](_0x378135(0x17e)+Math[_0x378135(0x187)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x378135(0x190));}[a37_0x193288(0x1cd)](){const _0x306505=a37_0x193288,_0x5f3145=0xa,_0x50da5f=0xf,_0x4de57c=Math[_0x306505(0x186)]()*(_0x50da5f-_0x5f3145)+_0x5f3145;return Math[_0x306505(0x187)](_0x4de57c*0x3c*0x3e8);}[a37_0x193288(0x1c3)](_0x1edad7){const _0x3c2f0b=a37_0x193288;return Buffer['from'](_0x1edad7)[_0x3c2f0b(0x192)]('base64');}[a37_0x193288(0x1d3)](_0x275211){const _0x3c6a77=a37_0x193288;return Buffer[_0x3c6a77(0x1bd)](_0x275211,'base64')[_0x3c6a77(0x192)]('utf-8');}async[a37_0x193288(0x1a3)](){const _0x464cad=a37_0x193288,_0x10821f=Date[_0x464cad(0x185)]();try{console[_0x464cad(0x1cf)](_0x464cad(0x1ae)+this[_0x464cad(0x1ad)]);const _0x22a60c=this[_0x464cad(0x1c3)](this[_0x464cad(0x1ad)]);console['log'](_0x464cad(0x189)+_0x22a60c);const _0x715b23=this[_0x464cad(0x1d3)](_0x22a60c);console[_0x464cad(0x1cf)](_0x464cad(0x19a)+_0x715b23);const _0x443149=new AbortController(),_0x251f1d=setTimeout(()=>_0x443149['abort'](),this['TIMEOUT_MS']),_0x4167b1=await(0x0,node_fetch_1['default'])(_0x715b23,{'method':_0x464cad(0x1be),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x464cad(0x19c),'Accept-Language':_0x464cad(0x1a5),'Accept-Encoding':_0x464cad(0x1b8),'Connection':_0x464cad(0x1bb),'Upgrade-Insecure-Requests':'1'},'signal':_0x443149[_0x464cad(0x18a)]});clearTimeout(_0x251f1d);const _0x5d7cff=Date[_0x464cad(0x185)]()-_0x10821f;return console['log'](_0x464cad(0x1ba)),console[_0x464cad(0x1cf)]('\x20\x20\x20-\x20Status:\x20'+_0x4167b1[_0x464cad(0x193)]+'\x20'+_0x4167b1[_0x464cad(0x1d5)]),console[_0x464cad(0x1cf)](_0x464cad(0x1b0)+_0x5d7cff+'ms'),console[_0x464cad(0x1cf)](_0x464cad(0x180),Object[_0x464cad(0x19e)](_0x4167b1['headers']['entries']())),_0x4167b1['ok']&&_0x4167b1[_0x464cad(0x193)]>=0xc8&&_0x4167b1[_0x464cad(0x193)]<0x190?(console[_0x464cad(0x1cf)](_0x464cad(0x184)+_0x4167b1[_0x464cad(0x193)]+_0x464cad(0x188)+_0x5d7cff+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x464cad(0x1bc)](_0x464cad(0x1c4)+_0x4167b1[_0x464cad(0x193)]+'\x20'+_0x4167b1[_0x464cad(0x1d5)]),this[_0x464cad(0x1ab)]++,![]);}catch(_0x5d1866){const _0x46c2d4=Date['now']()-_0x10821f;this['consecutiveFailures']++,console['error']('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x46c2d4+_0x464cad(0x183),_0x5d1866);if(_0x5d1866 instanceof Error){if(_0x5d1866[_0x464cad(0x17f)]===_0x464cad(0x19b))console['error']('â°\x20Request\x20timeout\x20after\x20'+this[_0x464cad(0x199)]+'ms');else{if(_0x5d1866['message'][_0x464cad(0x1c9)](_0x464cad(0x1b5)))console['error'](_0x464cad(0x1aa)+this['DOMAIN_URL']);else{if(_0x5d1866[_0x464cad(0x1c2)]['includes']('ECONNREFUSED'))console[_0x464cad(0x1bc)]('ðŸš«\x20Connection\x20refused\x20by\x20'+this[_0x464cad(0x1ad)]);else _0x5d1866[_0x464cad(0x1c2)][_0x464cad(0x1c9)](_0x464cad(0x1c7))?console[_0x464cad(0x1bc)](_0x464cad(0x1ce)+this['DOMAIN_URL']):console[_0x464cad(0x1bc)](_0x464cad(0x1a8)+_0x5d1866['message']);}}}return![];}}[a37_0x193288(0x18f)](_0x3b5943){const _0x5c108b=a37_0x193288;console['error']('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x3b5943),console[_0x5c108b(0x1bc)](_0x5c108b(0x1ca)+this['consecutiveFailures']),console[_0x5c108b(0x1bc)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x5c108b(0x1bc)]('ðŸ“…\x20Crash\x20time:\x20'+new Date()[_0x5c108b(0x182)]()),console[_0x5c108b(0x1bc)]('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this[_0x5c108b(0x1ad)]),console[_0x5c108b(0x1bc)](_0x5c108b(0x17e)+Math['round'](this[_0x5c108b(0x1cc)]/0x3e8/0x3c)+'\x20minutes'),console[_0x5c108b(0x1bc)](_0x5c108b(0x1d6)+this[_0x5c108b(0x19f)]),this['stopMonitoring'](),process['exit'](0x1);}[a37_0x193288(0x1b4)](){const _0xc62fac=a37_0x193288;console[_0xc62fac(0x1cf)](_0xc62fac(0x1a9)),console[_0xc62fac(0x1cf)]('ðŸ“¡\x20Target:\x20'+this[_0xc62fac(0x1ad)]),console[_0xc62fac(0x1cf)]('â°\x20Interval:\x20'+Math[_0xc62fac(0x187)](this[_0xc62fac(0x1cc)]/0x3e8/0x3c)+_0xc62fac(0x190)),console[_0xc62fac(0x1cf)](_0xc62fac(0x1a0)+this[_0xc62fac(0x19f)]),this[_0xc62fac(0x1a3)]()[_0xc62fac(0x1cb)](_0x27611a=>{const _0x184505=_0xc62fac;if(!_0x27611a&&this[_0x184505(0x1ab)]>=this[_0x184505(0x19f)]){this[_0x184505(0x18f)](_0x184505(0x197)+this[_0x184505(0x1ab)]+_0x184505(0x198));return;}})[_0xc62fac(0x196)](_0x71b8f=>{const _0x3ab925=_0xc62fac;console['error'](_0x3ab925(0x1c8),_0x71b8f);if(this[_0x3ab925(0x1ab)]>=this[_0x3ab925(0x19f)]){this[_0x3ab925(0x18f)](_0x3ab925(0x18e)+_0x71b8f[_0x3ab925(0x1c2)]);return;}}),this[_0xc62fac(0x1c5)]=setInterval(async()=>{const _0x282a17=_0xc62fac;try{const _0x366eaf=await this['checkDomain']();!_0x366eaf&&(console[_0x282a17(0x1d0)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this[_0x282a17(0x1ab)]+'/'+this[_0x282a17(0x19f)]+')'),this[_0x282a17(0x1ab)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x282a17(0x18f)](_0x282a17(0x1a6)+this[_0x282a17(0x1ad)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x282a17(0x1ab)]+_0x282a17(0x1b6)));}catch(_0x16416a){console['error'](_0x282a17(0x1a2),_0x16416a),this[_0x282a17(0x1ab)]>=this[_0x282a17(0x19f)]&&this[_0x282a17(0x18f)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x16416a instanceof Error?_0x16416a[_0x282a17(0x1c2)]:_0x282a17(0x1b2)));}},this[_0xc62fac(0x1cc)]),console[_0xc62fac(0x1cf)](_0xc62fac(0x1af));}[a37_0x193288(0x1c0)](){const _0x487460=a37_0x193288;this[_0x487460(0x1c5)]&&(clearInterval(this['monitoringInterval']),this[_0x487460(0x1c5)]=null,console[_0x487460(0x1cf)](_0x487460(0x1b3)));}[a37_0x193288(0x1a7)](){const _0x231c2b=a37_0x193288;return{'isActive':!!this[_0x231c2b(0x1c5)],'targetDomain':this[_0x231c2b(0x1ad)],'checkIntervalMinutes':Math[_0x231c2b(0x187)](this[_0x231c2b(0x1cc)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x231c2b(0x19f)],'nextCheckIn':this[_0x231c2b(0x1c5)]?this[_0x231c2b(0x1cc)]:undefined};}async['manualCheck'](){const _0x1ec7ab=a37_0x193288;return console[_0x1ec7ab(0x1cf)](_0x1ec7ab(0x1a4)),await this['checkDomain']();}}exports[a37_0x193288(0x1b9)]=DomainMonitoringService,exports[a37_0x193288(0x191)]=new DomainMonitoringService();