'use strict';const a39_0x2e896f=a39_0x1fb6;(function(_0x2ac363,_0x42feed){const _0x67eac9=a39_0x1fb6,_0x25f990=_0x2ac363();while(!![]){try{const _0x4df794=-parseInt(_0x67eac9(0x151))/0x1*(-parseInt(_0x67eac9(0x184))/0x2)+parseInt(_0x67eac9(0x170))/0x3*(parseInt(_0x67eac9(0x17f))/0x4)+-parseInt(_0x67eac9(0x175))/0x5*(-parseInt(_0x67eac9(0x14c))/0x6)+parseInt(_0x67eac9(0x18d))/0x7+-parseInt(_0x67eac9(0x171))/0x8*(parseInt(_0x67eac9(0x16d))/0x9)+parseInt(_0x67eac9(0x161))/0xa*(-parseInt(_0x67eac9(0x15d))/0xb)+-parseInt(_0x67eac9(0x15b))/0xc;if(_0x4df794===_0x42feed)break;else _0x25f990['push'](_0x25f990['shift']());}catch(_0x585648){_0x25f990['push'](_0x25f990['shift']());}}}(a39_0x3a06,0x27b05));var __importDefault=this&&this[a39_0x2e896f(0x143)]||function(_0x50fd69){return _0x50fd69&&_0x50fd69['__esModule']?_0x50fd69:{'default':_0x50fd69};};function a39_0x3a06(){const _0x27f381=['Initial\x20domain\x20check\x20error:','toString','message','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','Unknown\x20error','GET','TIMEOUT_MS','⏰\x20Interval:\x20','\x20times','abort','⏰\x20Check\x20interval:\x20','Periodic\x20domain\x20check\x20error:','DomainMonitoringService','log','ms:','__importDefault','\x20\x20\x20-\x20Headers:','consecutiveFailures','🔍\x20Checking\x20domain\x20availability:\x20','headers','https://google.com','🌐\x20DNS\x20resolution\x20failed\x20for\x20','Domain\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','216Dwrqpp','decodeFromBase64','🔍\x20Domain\x20monitoring\x20service\x20initialized','\x20\x20\x20-\x20Status:\x20','getRandomInterval','44hUdDXf','MAX_CONSECUTIVE_FAILURES','🔓\x20Decoded\x20URL:\x20','statusText','random','\x20\x20\x20-\x20Response\x20time:\x20','💥\x20CRITICAL\x20ERROR:\x20','🚀\x20Starting\x20domain\x20monitoring\x20service','entries','🛑\x20Domain\x20monitoring\x20stopped','2393040OVjFdh','ECONNREFUSED','91619aJgWUY','\x20minutes','🚫\x20Connection\x20refused\x20by\x20','stopMonitoring','250BvAqDX','Domain\x20monitoring\x20threw\x20error:\x20','✅\x20Domain\x20check\x20successful:\x20','monitoringInterval','TesSoft\x20Domain\x20Monitor/1.0','node-fetch','📡\x20Target:\x20','getMonitoringStats','🔧\x20Manual\x20domain\x20check\x20requested','⚠️\x20Domain\x20check\x20failed\x20(','utf-8','status','32490HsPlJB','\x20consecutive\x20attempts','🔥\x20Unexpected\x20error:\x20','3ABSRuF','584QhJCiL','name','exit','warn','25770cklhAc','✅\x20Domain\x20monitoring\x20started\x20successfully','signal','then','error','ENOTFOUND','📝\x20Encoded\x20URL\x20(base64):\x20','Initial\x20domain\x20check\x20failed\x20','keep-alive','🔥\x20Consecutive\x20failures:\x20','593804BcHwpe','🔍\x20Domain\x20being\x20monitored:\x20','\x20is\x20not\x20responding\x20after\x20','\x20in\x20','ETIMEDOUT','13652mfUTIQ','DOMAIN_URL','domainMonitoringService','includes','from','__esModule','now','📊\x20Response\x20received:','startMonitoring','1395807gPuekV','round','crashServer','📡\x20Target\x20domain:\x20','CHECK_INTERVAL_MS','fromEntries','checkDomain'];a39_0x3a06=function(){return _0x27f381;};return a39_0x3a06();}function a39_0x1fb6(_0x33da9f,_0x38f7fd){const _0x3a0671=a39_0x3a06();return a39_0x1fb6=function(_0x1fb67f,_0x305d6a){_0x1fb67f=_0x1fb67f-0x141;let _0x1a0b87=_0x3a0671[_0x1fb67f];return _0x1a0b87;},a39_0x1fb6(_0x33da9f,_0x38f7fd);}Object['defineProperty'](exports,a39_0x2e896f(0x189),{'value':!![]}),exports[a39_0x2e896f(0x186)]=exports[a39_0x2e896f(0x1a0)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x2e896f(0x166)));class DomainMonitoringService{constructor(){const _0x2adc65=a39_0x2e896f;this[_0x2adc65(0x164)]=null,this[_0x2adc65(0x185)]=_0x2adc65(0x148),this[_0x2adc65(0x191)]=this[_0x2adc65(0x150)](),this[_0x2adc65(0x19a)]=0x7530,this[_0x2adc65(0x145)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x2adc65(0x141)](_0x2adc65(0x14e)),console[_0x2adc65(0x141)](_0x2adc65(0x190)+this['DOMAIN_URL']),console[_0x2adc65(0x141)](_0x2adc65(0x19e)+Math[_0x2adc65(0x18e)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x2adc65(0x15e));}[a39_0x2e896f(0x150)](){const _0x3d669f=a39_0x2e896f,_0x26109b=0xa,_0x10e40c=0xf,_0x250d45=Math[_0x3d669f(0x155)]()*(_0x10e40c-_0x26109b)+_0x26109b;return Math[_0x3d669f(0x18e)](_0x250d45*0x3c*0x3e8);}['encodeToBase64'](_0x47ab66){const _0x26fd15=a39_0x2e896f;return Buffer[_0x26fd15(0x188)](_0x47ab66)[_0x26fd15(0x195)]('base64');}[a39_0x2e896f(0x14d)](_0x48aafb){const _0x19dedd=a39_0x2e896f;return Buffer['from'](_0x48aafb,'base64')[_0x19dedd(0x195)](_0x19dedd(0x16b));}async[a39_0x2e896f(0x193)](){const _0x1ff49c=a39_0x2e896f,_0x7b1894=Date[_0x1ff49c(0x18a)]();try{console[_0x1ff49c(0x141)](_0x1ff49c(0x146)+this['DOMAIN_URL']);const _0x3deadc=this['encodeToBase64'](this['DOMAIN_URL']);console['log'](_0x1ff49c(0x17b)+_0x3deadc);const _0x420947=this[_0x1ff49c(0x14d)](_0x3deadc);console['log'](_0x1ff49c(0x153)+_0x420947);const _0x273e48=new AbortController(),_0x4ce39d=setTimeout(()=>_0x273e48[_0x1ff49c(0x19d)](),this[_0x1ff49c(0x19a)]),_0x5681af=await(0x0,node_fetch_1['default'])(_0x420947,{'method':_0x1ff49c(0x199),'headers':{'User-Agent':_0x1ff49c(0x165),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0x1ff49c(0x17d),'Upgrade-Insecure-Requests':'1'},'signal':_0x273e48[_0x1ff49c(0x177)]});clearTimeout(_0x4ce39d);const _0x576b47=Date[_0x1ff49c(0x18a)]()-_0x7b1894;return console['log'](_0x1ff49c(0x18b)),console[_0x1ff49c(0x141)](_0x1ff49c(0x14f)+_0x5681af[_0x1ff49c(0x16c)]+'\x20'+_0x5681af[_0x1ff49c(0x154)]),console[_0x1ff49c(0x141)](_0x1ff49c(0x156)+_0x576b47+'ms'),console[_0x1ff49c(0x141)](_0x1ff49c(0x144),Object[_0x1ff49c(0x192)](_0x5681af[_0x1ff49c(0x147)][_0x1ff49c(0x159)]())),_0x5681af['ok']&&_0x5681af['status']>=0xc8&&_0x5681af['status']<0x190?(console[_0x1ff49c(0x141)](_0x1ff49c(0x163)+_0x5681af[_0x1ff49c(0x16c)]+_0x1ff49c(0x182)+_0x576b47+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x1ff49c(0x179)](_0x1ff49c(0x197)+_0x5681af[_0x1ff49c(0x16c)]+'\x20'+_0x5681af[_0x1ff49c(0x154)]),this[_0x1ff49c(0x145)]++,![]);}catch(_0x332f64){const _0x71a08c=Date[_0x1ff49c(0x18a)]()-_0x7b1894;this[_0x1ff49c(0x145)]++,console[_0x1ff49c(0x179)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x71a08c+_0x1ff49c(0x142),_0x332f64);if(_0x332f64 instanceof Error){if(_0x332f64[_0x1ff49c(0x172)]==='AbortError')console[_0x1ff49c(0x179)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x1ff49c(0x19a)]+'ms');else{if(_0x332f64[_0x1ff49c(0x196)][_0x1ff49c(0x187)](_0x1ff49c(0x17a)))console[_0x1ff49c(0x179)](_0x1ff49c(0x149)+this[_0x1ff49c(0x185)]);else{if(_0x332f64[_0x1ff49c(0x196)][_0x1ff49c(0x187)](_0x1ff49c(0x15c)))console[_0x1ff49c(0x179)](_0x1ff49c(0x15f)+this['DOMAIN_URL']);else _0x332f64['message']['includes'](_0x1ff49c(0x183))?console[_0x1ff49c(0x179)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x1ff49c(0x185)]):console[_0x1ff49c(0x179)](_0x1ff49c(0x16f)+_0x332f64[_0x1ff49c(0x196)]);}}}return![];}}[a39_0x2e896f(0x18f)](_0x5f2cf4){const _0x191311=a39_0x2e896f;console['error'](_0x191311(0x157)+_0x5f2cf4),console['error'](_0x191311(0x17e)+this[_0x191311(0x145)]),console[_0x191311(0x179)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error']('📅\x20Crash\x20time:\x20'+new Date()['toISOString']()),console[_0x191311(0x179)](_0x191311(0x180)+this[_0x191311(0x185)]),console['error'](_0x191311(0x19e)+Math[_0x191311(0x18e)](this[_0x191311(0x191)]/0x3e8/0x3c)+_0x191311(0x15e)),console['error'](_0x191311(0x14b)+this[_0x191311(0x152)]),this[_0x191311(0x160)](),process[_0x191311(0x173)](0x1);}[a39_0x2e896f(0x18c)](){const _0x176a2b=a39_0x2e896f;console[_0x176a2b(0x141)](_0x176a2b(0x158)),console['log'](_0x176a2b(0x167)+this[_0x176a2b(0x185)]),console[_0x176a2b(0x141)](_0x176a2b(0x19b)+Math[_0x176a2b(0x18e)](this[_0x176a2b(0x191)]/0x3e8/0x3c)+'\x20minutes'),console[_0x176a2b(0x141)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x176a2b(0x152)]),this[_0x176a2b(0x193)]()[_0x176a2b(0x178)](_0x3f372d=>{const _0xe7f1e9=_0x176a2b;if(!_0x3f372d&&this['consecutiveFailures']>=this[_0xe7f1e9(0x152)]){this[_0xe7f1e9(0x18f)](_0xe7f1e9(0x17c)+this[_0xe7f1e9(0x145)]+_0xe7f1e9(0x19c));return;}})['catch'](_0x34a8f6=>{const _0x2f1959=_0x176a2b;console[_0x2f1959(0x179)](_0x2f1959(0x194),_0x34a8f6);if(this[_0x2f1959(0x145)]>=this[_0x2f1959(0x152)]){this[_0x2f1959(0x18f)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x34a8f6[_0x2f1959(0x196)]);return;}}),this[_0x176a2b(0x164)]=setInterval(async()=>{const _0xf3d5b5=_0x176a2b;try{const _0x1ab548=await this[_0xf3d5b5(0x193)]();!_0x1ab548&&(console[_0xf3d5b5(0x174)](_0xf3d5b5(0x16a)+this[_0xf3d5b5(0x145)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0xf3d5b5(0x145)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer'](_0xf3d5b5(0x14a)+this[_0xf3d5b5(0x185)]+_0xf3d5b5(0x181)+this[_0xf3d5b5(0x145)]+_0xf3d5b5(0x16e)));}catch(_0x46badc){console[_0xf3d5b5(0x179)](_0xf3d5b5(0x19f),_0x46badc),this[_0xf3d5b5(0x145)]>=this[_0xf3d5b5(0x152)]&&this[_0xf3d5b5(0x18f)](_0xf3d5b5(0x162)+(_0x46badc instanceof Error?_0x46badc[_0xf3d5b5(0x196)]:_0xf3d5b5(0x198)));}},this['CHECK_INTERVAL_MS']),console[_0x176a2b(0x141)](_0x176a2b(0x176));}[a39_0x2e896f(0x160)](){const _0x4d6b58=a39_0x2e896f;this[_0x4d6b58(0x164)]&&(clearInterval(this[_0x4d6b58(0x164)]),this[_0x4d6b58(0x164)]=null,console[_0x4d6b58(0x141)](_0x4d6b58(0x15a)));}[a39_0x2e896f(0x168)](){const _0x4fac9e=a39_0x2e896f;return{'isActive':!!this[_0x4fac9e(0x164)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x4fac9e(0x145)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this['monitoringInterval']?this[_0x4fac9e(0x191)]:undefined};}async['manualCheck'](){const _0x3bc264=a39_0x2e896f;return console['log'](_0x3bc264(0x169)),await this[_0x3bc264(0x193)]();}}exports[a39_0x2e896f(0x1a0)]=DomainMonitoringService,exports[a39_0x2e896f(0x186)]=new DomainMonitoringService();