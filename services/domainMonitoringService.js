'use strict';const a39_0x397c66=a39_0x166f;(function(_0x70998e,_0x514564){const _0x13e308=a39_0x166f,_0x4351e2=_0x70998e();while(!![]){try{const _0x57994d=parseInt(_0x13e308(0x108))/0x1*(parseInt(_0x13e308(0xe4))/0x2)+-parseInt(_0x13e308(0xe2))/0x3*(parseInt(_0x13e308(0x100))/0x4)+parseInt(_0x13e308(0x11e))/0x5*(-parseInt(_0x13e308(0xc7))/0x6)+-parseInt(_0x13e308(0x105))/0x7+-parseInt(_0x13e308(0x11b))/0x8+-parseInt(_0x13e308(0x116))/0x9+-parseInt(_0x13e308(0xdf))/0xa*(-parseInt(_0x13e308(0xfc))/0xb);if(_0x57994d===_0x514564)break;else _0x4351e2['push'](_0x4351e2['shift']());}catch(_0xa0c10){_0x4351e2['push'](_0x4351e2['shift']());}}}(a39_0x3b3e,0x549d8));function a39_0x166f(_0x18c992,_0xc974ea){const _0x3b3eac=a39_0x3b3e();return a39_0x166f=function(_0x166f66,_0x121cd8){_0x166f66=_0x166f66-0xc2;let _0x1fc4c0=_0x3b3eac[_0x166f66];return _0x1fc4c0;},a39_0x166f(_0x18c992,_0xc974ea);}var __importDefault=this&&this[a39_0x397c66(0xce)]||function(_0x3afddb){const _0x1c6747=a39_0x397c66;return _0x3afddb&&_0x3afddb[_0x1c6747(0xda)]?_0x3afddb:{'default':_0x3afddb};};Object[a39_0x397c66(0xd7)](exports,a39_0x397c66(0xda),{'value':!![]}),exports[a39_0x397c66(0xf4)]=exports[a39_0x397c66(0xcb)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x397c66(0x113)));class DomainMonitoringService{constructor(){const _0x34b979=a39_0x397c66;this[_0x34b979(0xed)]=null,this['DOMAIN_URL']=_0x34b979(0xf9),this[_0x34b979(0x10c)]=this[_0x34b979(0xff)](),this[_0x34b979(0xcd)]=0x7530,this[_0x34b979(0x120)]=0x0,this[_0x34b979(0xef)]=0x2,console[_0x34b979(0x117)](_0x34b979(0x101)),console[_0x34b979(0x117)]('üì°\x20Target\x20domain:\x20'+this['DOMAIN_URL']),console[_0x34b979(0x117)](_0x34b979(0xe8)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x34b979(0x11f));}[a39_0x397c66(0xff)](){const _0x2deeb1=a39_0x397c66,_0x27adb5=0xa,_0xb4cb44=0xf,_0x3209eb=Math[_0x2deeb1(0x114)]()*(_0xb4cb44-_0x27adb5)+_0x27adb5;return Math['round'](_0x3209eb*0x3c*0x3e8);}[a39_0x397c66(0x103)](_0x24dd36){const _0x8ba4a4=a39_0x397c66;return Buffer[_0x8ba4a4(0x102)](_0x24dd36)[_0x8ba4a4(0xc8)](_0x8ba4a4(0xe7));}['decodeFromBase64'](_0x5cfa4f){const _0x5373a1=a39_0x397c66;return Buffer['from'](_0x5cfa4f,'base64')[_0x5373a1(0xc8)](_0x5373a1(0x112));}async[a39_0x397c66(0xd0)](){const _0x3d8fe8=a39_0x397c66,_0x586d1b=Date[_0x3d8fe8(0xec)]();try{console['log'](_0x3d8fe8(0xd6)+this['DOMAIN_URL']);const _0x3f4a8a=this[_0x3d8fe8(0x103)](this[_0x3d8fe8(0x110)]);console[_0x3d8fe8(0x117)](_0x3d8fe8(0x10f)+_0x3f4a8a);const _0x543759=this[_0x3d8fe8(0xf8)](_0x3f4a8a);console[_0x3d8fe8(0x117)](_0x3d8fe8(0x118)+_0x543759);const _0x591cf1=new AbortController(),_0x40021e=setTimeout(()=>_0x591cf1[_0x3d8fe8(0xd5)](),this[_0x3d8fe8(0xcd)]),_0x105b87=await(0x0,node_fetch_1[_0x3d8fe8(0xe1)])(_0x543759,{'method':_0x3d8fe8(0xdc),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x3d8fe8(0xc3),'Accept-Language':_0x3d8fe8(0xdd),'Accept-Encoding':_0x3d8fe8(0xe9),'Connection':_0x3d8fe8(0xe0),'Upgrade-Insecure-Requests':'1'},'signal':_0x591cf1[_0x3d8fe8(0xfa)]});clearTimeout(_0x40021e);const _0xa1a632=Date[_0x3d8fe8(0xec)]()-_0x586d1b;return console[_0x3d8fe8(0x117)](_0x3d8fe8(0xd3)),console[_0x3d8fe8(0x117)](_0x3d8fe8(0xd4)+_0x105b87[_0x3d8fe8(0xde)]+'\x20'+_0x105b87[_0x3d8fe8(0xf0)]),console[_0x3d8fe8(0x117)](_0x3d8fe8(0xf1)+_0xa1a632+'ms'),console[_0x3d8fe8(0x117)](_0x3d8fe8(0xeb),Object[_0x3d8fe8(0xc5)](_0x105b87['headers'][_0x3d8fe8(0xc2)]())),_0x105b87['ok']&&_0x105b87[_0x3d8fe8(0xde)]>=0xc8&&_0x105b87['status']<0x190?(console[_0x3d8fe8(0x117)](_0x3d8fe8(0xfb)+_0x105b87[_0x3d8fe8(0xde)]+_0x3d8fe8(0xe5)+_0xa1a632+'ms'),this[_0x3d8fe8(0x120)]=0x0,!![]):(console[_0x3d8fe8(0xfe)](_0x3d8fe8(0xea)+_0x105b87[_0x3d8fe8(0xde)]+'\x20'+_0x105b87[_0x3d8fe8(0xf0)]),this[_0x3d8fe8(0x120)]++,![]);}catch(_0x52de7c){const _0x111de4=Date['now']()-_0x586d1b;this[_0x3d8fe8(0x120)]++,console[_0x3d8fe8(0xfe)](_0x3d8fe8(0xfd)+_0x111de4+_0x3d8fe8(0x11a),_0x52de7c);if(_0x52de7c instanceof Error){if(_0x52de7c[_0x3d8fe8(0x104)]===_0x3d8fe8(0xd1))console[_0x3d8fe8(0xfe)]('‚è∞\x20Request\x20timeout\x20after\x20'+this['TIMEOUT_MS']+'ms');else{if(_0x52de7c['message']['includes']('ENOTFOUND'))console[_0x3d8fe8(0xfe)](_0x3d8fe8(0xcc)+this[_0x3d8fe8(0x110)]);else{if(_0x52de7c[_0x3d8fe8(0x109)][_0x3d8fe8(0x11c)](_0x3d8fe8(0xe6)))console[_0x3d8fe8(0xfe)](_0x3d8fe8(0xf7)+this[_0x3d8fe8(0x110)]);else _0x52de7c[_0x3d8fe8(0x109)][_0x3d8fe8(0x11c)]('ETIMEDOUT')?console['error'](_0x3d8fe8(0x106)+this[_0x3d8fe8(0x110)]):console['error']('üî•\x20Unexpected\x20error:\x20'+_0x52de7c['message']);}}}return![];}}[a39_0x397c66(0x10d)](_0x2bd3ea){const _0x5b0e3a=a39_0x397c66;console['error'](_0x5b0e3a(0x11d)+_0x2bd3ea),console[_0x5b0e3a(0xfe)]('üî•\x20Consecutive\x20failures:\x20'+this[_0x5b0e3a(0x120)]),console[_0x5b0e3a(0xfe)](_0x5b0e3a(0xf6)),console[_0x5b0e3a(0xfe)]('üìÖ\x20Crash\x20time:\x20'+new Date()['toISOString']()),console['error']('üîç\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console['error'](_0x5b0e3a(0xe8)+Math[_0x5b0e3a(0xe3)](this[_0x5b0e3a(0x10c)]/0x3e8/0x3c)+'\x20minutes'),console[_0x5b0e3a(0xfe)]('üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x5b0e3a(0xd2)](),process[_0x5b0e3a(0xee)](0x1);}[a39_0x397c66(0xc6)](){const _0x5443a3=a39_0x397c66;console[_0x5443a3(0x117)](_0x5443a3(0xdb)),console[_0x5443a3(0x117)](_0x5443a3(0xf5)+this['DOMAIN_URL']),console[_0x5443a3(0x117)](_0x5443a3(0xc4)+Math[_0x5443a3(0xe3)](this[_0x5443a3(0x10c)]/0x3e8/0x3c)+_0x5443a3(0x11f)),console[_0x5443a3(0x117)](_0x5443a3(0x10e)+this[_0x5443a3(0xef)]),this['checkDomain']()[_0x5443a3(0x107)](_0x82c30d=>{const _0x21304e=_0x5443a3;if(!_0x82c30d&&this['consecutiveFailures']>=this[_0x21304e(0xef)]){this['crashServer'](_0x21304e(0x119)+this[_0x21304e(0x120)]+_0x21304e(0x115));return;}})['catch'](_0x4cb549=>{const _0x40cc8e=_0x5443a3;console[_0x40cc8e(0xfe)]('Initial\x20domain\x20check\x20error:',_0x4cb549);if(this[_0x40cc8e(0x120)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x40cc8e(0xf2)+_0x4cb549[_0x40cc8e(0x109)]);return;}}),this[_0x5443a3(0xed)]=setInterval(async()=>{const _0x37cfa0=_0x5443a3;try{const _0x4a658c=await this[_0x37cfa0(0xd0)]();!_0x4a658c&&(console[_0x37cfa0(0xd8)]('‚ö†Ô∏è\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x37cfa0(0xef)]&&this[_0x37cfa0(0x10d)](_0x37cfa0(0xcf)+this[_0x37cfa0(0x110)]+_0x37cfa0(0xc9)+this['consecutiveFailures']+'\x20consecutive\x20attempts'));}catch(_0x4bf28c){console[_0x37cfa0(0xfe)](_0x37cfa0(0xca),_0x4bf28c),this[_0x37cfa0(0x120)]>=this[_0x37cfa0(0xef)]&&this['crashServer'](_0x37cfa0(0x10b)+(_0x4bf28c instanceof Error?_0x4bf28c[_0x37cfa0(0x109)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console[_0x5443a3(0x117)](_0x5443a3(0x10a));}[a39_0x397c66(0xd2)](){const _0x11d84f=a39_0x397c66;this['monitoringInterval']&&(clearInterval(this[_0x11d84f(0xed)]),this[_0x11d84f(0xed)]=null,console[_0x11d84f(0x117)](_0x11d84f(0x111)));}['getMonitoringStats'](){const _0x2ee519=a39_0x397c66;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x2ee519(0x110)],'checkIntervalMinutes':Math[_0x2ee519(0xe3)](this[_0x2ee519(0x10c)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2ee519(0x120)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this['monitoringInterval']?this[_0x2ee519(0x10c)]:undefined};}async[a39_0x397c66(0xf3)](){const _0xf45228=a39_0x397c66;return console[_0xf45228(0x117)](_0xf45228(0xd9)),await this[_0xf45228(0xd0)]();}}function a39_0x3b3e(){const _0x319a15=['crashServer','üö®\x20Max\x20failures\x20before\x20crash:\x20','üìù\x20Encoded\x20URL\x20(base64):\x20','DOMAIN_URL','üõë\x20Domain\x20monitoring\x20stopped','utf-8','node-fetch','random','\x20times','4095648PuWqRQ','log','üîì\x20Decoded\x20URL:\x20','Initial\x20domain\x20check\x20failed\x20','ms:','4064672VFbvdz','includes','üí•\x20CRITICAL\x20ERROR:\x20','125zaBbGg','\x20minutes','consecutiveFailures','entries','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','‚è∞\x20Interval:\x20','fromEntries','startMonitoring','71742VjGGLf','toString','\x20is\x20not\x20responding\x20after\x20','Periodic\x20domain\x20check\x20error:','DomainMonitoringService','üåê\x20DNS\x20resolution\x20failed\x20for\x20','TIMEOUT_MS','__importDefault','Domain\x20','checkDomain','AbortError','stopMonitoring','üìä\x20Response\x20received:','\x20\x20\x20-\x20Status:\x20','abort','üîç\x20Checking\x20domain\x20availability:\x20','defineProperty','warn','üîß\x20Manual\x20domain\x20check\x20requested','__esModule','üöÄ\x20Starting\x20domain\x20monitoring\x20service','GET','en-US,en;q=0.5','status','269270tnYpnL','keep-alive','default','6MyIRVh','round','2IvCotF','\x20in\x20','ECONNREFUSED','base64','‚è∞\x20Check\x20interval:\x20','gzip,\x20deflate','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20\x20\x20-\x20Headers:','now','monitoringInterval','exit','MAX_CONSECUTIVE_FAILURES','statusText','\x20\x20\x20-\x20Response\x20time:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','manualCheck','domainMonitoringService','üì°\x20Target:\x20','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','üö´\x20Connection\x20refused\x20by\x20','decodeFromBase64','https://google.com','signal','‚úÖ\x20Domain\x20check\x20successful:\x20','825iZRJqg','‚ùå\x20Domain\x20check\x20error\x20after\x20','error','getRandomInterval','197452khIsXh','üîç\x20Domain\x20monitoring\x20service\x20initialized','from','encodeToBase64','name','4566002vvklrE','‚è∞\x20Connection\x20timeout\x20to\x20','then','340152exEnFn','message','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','Domain\x20monitoring\x20threw\x20error:\x20','CHECK_INTERVAL_MS'];a39_0x3b3e=function(){return _0x319a15;};return a39_0x3b3e();}exports[a39_0x397c66(0xcb)]=DomainMonitoringService,exports[a39_0x397c66(0xf4)]=new DomainMonitoringService();