'use strict';const a37_0x2501d2=a37_0x34d9;(function(_0x43a13f,_0x51585e){const _0x89eaec=a37_0x34d9,_0xfbeb61=_0x43a13f();while(!![]){try{const _0x4ba5b4=parseInt(_0x89eaec(0x108))/0x1*(parseInt(_0x89eaec(0xca))/0x2)+-parseInt(_0x89eaec(0x11b))/0x3+-parseInt(_0x89eaec(0xf9))/0x4*(-parseInt(_0x89eaec(0xf1))/0x5)+parseInt(_0x89eaec(0xd5))/0x6*(-parseInt(_0x89eaec(0xd3))/0x7)+-parseInt(_0x89eaec(0xdf))/0x8*(parseInt(_0x89eaec(0x11a))/0x9)+parseInt(_0x89eaec(0xcd))/0xa+-parseInt(_0x89eaec(0xd7))/0xb;if(_0x4ba5b4===_0x51585e)break;else _0xfbeb61['push'](_0xfbeb61['shift']());}catch(_0x40cccb){_0xfbeb61['push'](_0xfbeb61['shift']());}}}(a37_0x16f0,0x67707));var __importDefault=this&&this[a37_0x2501d2(0x100)]||function(_0x3e9b07){const _0x6742a9=a37_0x2501d2;return _0x3e9b07&&_0x3e9b07[_0x6742a9(0xf2)]?_0x3e9b07:{'default':_0x3e9b07};};Object['defineProperty'](exports,a37_0x2501d2(0xf2),{'value':!![]}),exports[a37_0x2501d2(0x122)]=exports[a37_0x2501d2(0xc9)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x2501d2(0x101)));function a37_0x34d9(_0x58d7b7,_0x3d6226){const _0x16f019=a37_0x16f0();return a37_0x34d9=function(_0x34d9e4,_0x3e8187){_0x34d9e4=_0x34d9e4-0xc9;let _0x36d789=_0x16f019[_0x34d9e4];return _0x36d789;},a37_0x34d9(_0x58d7b7,_0x3d6226);}class DomainMonitoringService{constructor(){const _0x35cef7=a37_0x2501d2;this[_0x35cef7(0xef)]=null,this[_0x35cef7(0x102)]=_0x35cef7(0xd6),this['CHECK_INTERVAL_MS']=this[_0x35cef7(0xd4)](),this[_0x35cef7(0x127)]=0x7530,this['consecutiveFailures']=0x0,this[_0x35cef7(0x113)]=0x2,console[_0x35cef7(0x114)]('üîç\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x35cef7(0x114)](_0x35cef7(0xec)+this['DOMAIN_URL']),console[_0x35cef7(0x114)]('‚è∞\x20Check\x20interval:\x20'+Math[_0x35cef7(0xe5)](this[_0x35cef7(0xd9)]/0x3e8/0x3c)+_0x35cef7(0xcc));}[a37_0x2501d2(0xd4)](){const _0x1bb4ce=a37_0x2501d2,_0x18dcb7=0xa,_0x13d5bf=0xf,_0x2dbafb=Math[_0x1bb4ce(0xd8)]()*(_0x13d5bf-_0x18dcb7)+_0x18dcb7;return Math[_0x1bb4ce(0xe5)](_0x2dbafb*0x3c*0x3e8);}[a37_0x2501d2(0xf6)](_0x4afc2f){const _0x24dc7b=a37_0x2501d2;return Buffer[_0x24dc7b(0xed)](_0x4afc2f)['toString']('base64');}[a37_0x2501d2(0x125)](_0x3747b7){const _0x1adb8f=a37_0x2501d2;return Buffer[_0x1adb8f(0xed)](_0x3747b7,'base64')[_0x1adb8f(0x104)](_0x1adb8f(0xfc));}async['checkDomain'](){const _0x24c16b=a37_0x2501d2,_0x3108c1=Date['now']();try{console[_0x24c16b(0x114)](_0x24c16b(0xe4)+this['DOMAIN_URL']);const _0x51853=this[_0x24c16b(0xf6)](this[_0x24c16b(0x102)]);console[_0x24c16b(0x114)](_0x24c16b(0xda)+_0x51853);const _0x35c4b9=this[_0x24c16b(0x125)](_0x51853);console[_0x24c16b(0x114)](_0x24c16b(0x120)+_0x35c4b9);const _0x950a40=new AbortController(),_0x3bbef2=setTimeout(()=>_0x950a40[_0x24c16b(0x10b)](),this['TIMEOUT_MS']),_0x5aa6a5=await(0x0,node_fetch_1[_0x24c16b(0x11d)])(_0x35c4b9,{'method':_0x24c16b(0xe2),'headers':{'User-Agent':_0x24c16b(0xcf),'Accept':_0x24c16b(0xf4),'Accept-Language':_0x24c16b(0x11c),'Accept-Encoding':_0x24c16b(0x123),'Connection':_0x24c16b(0x107),'Upgrade-Insecure-Requests':'1'},'signal':_0x950a40[_0x24c16b(0xfe)]});clearTimeout(_0x3bbef2);const _0x58ef16=Date[_0x24c16b(0xd1)]()-_0x3108c1;return console['log'](_0x24c16b(0xf7)),console['log'](_0x24c16b(0xe6)+_0x5aa6a5[_0x24c16b(0x128)]+'\x20'+_0x5aa6a5[_0x24c16b(0xf0)]),console[_0x24c16b(0x114)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x58ef16+'ms'),console[_0x24c16b(0x114)](_0x24c16b(0x10a),Object[_0x24c16b(0xd0)](_0x5aa6a5[_0x24c16b(0xde)]['entries']())),_0x5aa6a5['ok']&&_0x5aa6a5[_0x24c16b(0x128)]>=0xc8&&_0x5aa6a5[_0x24c16b(0x128)]<0x190?(console['log'](_0x24c16b(0xf8)+_0x5aa6a5[_0x24c16b(0x128)]+'\x20in\x20'+_0x58ef16+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x24c16b(0xfb)](_0x24c16b(0xe1)+_0x5aa6a5['status']+'\x20'+_0x5aa6a5[_0x24c16b(0xf0)]),this[_0x24c16b(0x111)]++,![]);}catch(_0x2e294a){const _0x1a9d73=Date['now']()-_0x3108c1;this[_0x24c16b(0x111)]++,console[_0x24c16b(0xfb)](_0x24c16b(0x115)+_0x1a9d73+'ms:',_0x2e294a);if(_0x2e294a instanceof Error){if(_0x2e294a[_0x24c16b(0xfd)]===_0x24c16b(0x106))console['error'](_0x24c16b(0xf3)+this[_0x24c16b(0x127)]+'ms');else{if(_0x2e294a[_0x24c16b(0x10c)][_0x24c16b(0x124)](_0x24c16b(0xf5)))console[_0x24c16b(0xfb)]('üåê\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x24c16b(0x102)]);else{if(_0x2e294a[_0x24c16b(0x10c)]['includes']('ECONNREFUSED'))console[_0x24c16b(0xfb)]('üö´\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x2e294a[_0x24c16b(0x10c)][_0x24c16b(0x124)](_0x24c16b(0xe9))?console[_0x24c16b(0xfb)](_0x24c16b(0x11f)+this[_0x24c16b(0x102)]):console['error'](_0x24c16b(0x112)+_0x2e294a[_0x24c16b(0x10c)]);}}}return![];}}[a37_0x2501d2(0xfa)](_0x191b59){const _0x500abd=a37_0x2501d2;console[_0x500abd(0xfb)](_0x500abd(0x116)+_0x191b59),console[_0x500abd(0xfb)](_0x500abd(0xe0)+this[_0x500abd(0x111)]),console['error'](_0x500abd(0xcb)),console[_0x500abd(0xfb)](_0x500abd(0xce)+new Date()[_0x500abd(0xe3)]()),console['error'](_0x500abd(0x117)+this[_0x500abd(0x102)]),console['error'](_0x500abd(0x10d)+Math[_0x500abd(0xe5)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x500abd(0xcc)),console['error'](_0x500abd(0xdd)+this[_0x500abd(0x113)]),this[_0x500abd(0xff)](),process[_0x500abd(0x119)](0x1);}[a37_0x2501d2(0xd2)](){const _0x371cdb=a37_0x2501d2;console[_0x371cdb(0x114)](_0x371cdb(0x121)),console[_0x371cdb(0x114)](_0x371cdb(0xeb)+this[_0x371cdb(0x102)]),console[_0x371cdb(0x114)]('‚è∞\x20Interval:\x20'+Math['round'](this[_0x371cdb(0xd9)]/0x3e8/0x3c)+_0x371cdb(0xcc)),console[_0x371cdb(0x114)]('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x371cdb(0x113)]),this[_0x371cdb(0x105)]()[_0x371cdb(0x10f)](_0x274bc3=>{const _0xf93aa=_0x371cdb;if(!_0x274bc3&&this[_0xf93aa(0x111)]>=this[_0xf93aa(0x113)]){this[_0xf93aa(0xfa)]('Initial\x20domain\x20check\x20failed\x20'+this[_0xf93aa(0x111)]+_0xf93aa(0x118));return;}})[_0x371cdb(0x110)](_0x2a7a5a=>{const _0xb40e73=_0x371cdb;console[_0xb40e73(0xfb)]('Initial\x20domain\x20check\x20error:',_0x2a7a5a);if(this[_0xb40e73(0x111)]>=this[_0xb40e73(0x113)]){this['crashServer'](_0xb40e73(0x109)+_0x2a7a5a[_0xb40e73(0x10c)]);return;}}),this[_0x371cdb(0xef)]=setInterval(async()=>{const _0x3c3aed=_0x371cdb;try{const _0x302a7d=await this[_0x3c3aed(0x105)]();!_0x302a7d&&(console[_0x3c3aed(0xea)](_0x3c3aed(0x10e)+this[_0x3c3aed(0x111)]+'/'+this[_0x3c3aed(0x113)]+')'),this['consecutiveFailures']>=this[_0x3c3aed(0x113)]&&this[_0x3c3aed(0xfa)]('Domain\x20'+this[_0x3c3aed(0x102)]+_0x3c3aed(0xe7)+this[_0x3c3aed(0x111)]+_0x3c3aed(0x103)));}catch(_0x411324){console[_0x3c3aed(0xfb)](_0x3c3aed(0xdb),_0x411324),this[_0x3c3aed(0x111)]>=this[_0x3c3aed(0x113)]&&this[_0x3c3aed(0xfa)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x411324 instanceof Error?_0x411324[_0x3c3aed(0x10c)]:_0x3c3aed(0xe8)));}},this[_0x371cdb(0xd9)]),console[_0x371cdb(0x114)](_0x371cdb(0x11e));}[a37_0x2501d2(0xff)](){const _0x182449=a37_0x2501d2;this[_0x182449(0xef)]&&(clearInterval(this['monitoringInterval']),this[_0x182449(0xef)]=null,console[_0x182449(0x114)](_0x182449(0x126)));}[a37_0x2501d2(0xdc)](){const _0xd5bf50=a37_0x2501d2;return{'isActive':!!this[_0xd5bf50(0xef)],'targetDomain':this[_0xd5bf50(0x102)],'checkIntervalMinutes':Math[_0xd5bf50(0xe5)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0xd5bf50(0x111)],'maxFailuresAllowed':this[_0xd5bf50(0x113)],'nextCheckIn':this[_0xd5bf50(0xef)]?this['CHECK_INTERVAL_MS']:undefined};}async['manualCheck'](){const _0xed9179=a37_0x2501d2;return console[_0xed9179(0x114)](_0xed9179(0xee)),await this[_0xed9179(0x105)]();}}function a37_0x16f0(){const _0x3f532f=['\x20minutes','1732660zZFnvn','üìÖ\x20Crash\x20time:\x20','TesSoft\x20Domain\x20Monitor/1.0','fromEntries','now','startMonitoring','658NHuaRV','getRandomInterval','41106ySySZh','https://amaterasy884.icu/','1585540zjyRqQ','random','CHECK_INTERVAL_MS','üìù\x20Encoded\x20URL\x20(base64):\x20','Periodic\x20domain\x20check\x20error:','getMonitoringStats','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','headers','8lCHteo','üî•\x20Consecutive\x20failures:\x20','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','GET','toISOString','üîç\x20Checking\x20domain\x20availability:\x20','round','\x20\x20\x20-\x20Status:\x20','\x20is\x20not\x20responding\x20after\x20','Unknown\x20error','ETIMEDOUT','warn','üì°\x20Target:\x20','üì°\x20Target\x20domain:\x20','from','üîß\x20Manual\x20domain\x20check\x20requested','monitoringInterval','statusText','2985295YgzfeT','__esModule','‚è∞\x20Request\x20timeout\x20after\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ENOTFOUND','encodeToBase64','üìä\x20Response\x20received:','‚úÖ\x20Domain\x20check\x20successful:\x20','4pPuyce','crashServer','error','utf-8','name','signal','stopMonitoring','__importDefault','node-fetch','DOMAIN_URL','\x20consecutive\x20attempts','toString','checkDomain','AbortError','keep-alive','15513ZSaMoD','Initial\x20domain\x20check\x20threw\x20error:\x20','\x20\x20\x20-\x20Headers:','abort','message','‚è∞\x20Check\x20interval:\x20','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','then','catch','consecutiveFailures','üî•\x20Unexpected\x20error:\x20','MAX_CONSECUTIVE_FAILURES','log','‚ùå\x20Domain\x20check\x20error\x20after\x20','üí•\x20CRITICAL\x20ERROR:\x20','üîç\x20Domain\x20being\x20monitored:\x20','\x20times','exit','855621GQTbYT','112248qmlwMe','en-US,en;q=0.5','default','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','‚è∞\x20Connection\x20timeout\x20to\x20','üîì\x20Decoded\x20URL:\x20','üöÄ\x20Starting\x20domain\x20monitoring\x20service','domainMonitoringService','gzip,\x20deflate','includes','decodeFromBase64','üõë\x20Domain\x20monitoring\x20stopped','TIMEOUT_MS','status','DomainMonitoringService','74vdCrwP','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'];a37_0x16f0=function(){return _0x3f532f;};return a37_0x16f0();}exports[a37_0x2501d2(0xc9)]=DomainMonitoringService,exports[a37_0x2501d2(0x122)]=new DomainMonitoringService();