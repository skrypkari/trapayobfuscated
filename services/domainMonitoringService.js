'use strict';const a39_0x2c7ccf=a39_0x3c55;(function(_0x3d6053,_0x25f99a){const _0x10d3c8=a39_0x3c55,_0x426530=_0x3d6053();while(!![]){try{const _0x559412=parseInt(_0x10d3c8(0xf6))/0x1+parseInt(_0x10d3c8(0x10f))/0x2+parseInt(_0x10d3c8(0xe6))/0x3*(-parseInt(_0x10d3c8(0x120))/0x4)+parseInt(_0x10d3c8(0x104))/0x5+parseInt(_0x10d3c8(0x127))/0x6+-parseInt(_0x10d3c8(0xff))/0x7*(-parseInt(_0x10d3c8(0x12c))/0x8)+parseInt(_0x10d3c8(0x11f))/0x9*(-parseInt(_0x10d3c8(0x118))/0xa);if(_0x559412===_0x25f99a)break;else _0x426530['push'](_0x426530['shift']());}catch(_0x3b5cfa){_0x426530['push'](_0x426530['shift']());}}}(a39_0x4f50,0x6ee90));var __importDefault=this&&this['__importDefault']||function(_0x426a28){return _0x426a28&&_0x426a28['__esModule']?_0x426a28:{'default':_0x426a28};};Object[a39_0x2c7ccf(0x11a)](exports,a39_0x2c7ccf(0x10d),{'value':!![]}),exports[a39_0x2c7ccf(0xf9)]=exports[a39_0x2c7ccf(0x117)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a39_0x4f50(){const _0x353a37=['\x20minutes','TesSoft\x20Domain\x20Monitor/1.0','309005rxKdRt','🔧\x20Manual\x20domain\x20check\x20requested','🛑\x20Domain\x20monitoring\x20stopped','domainMonitoringService','\x20is\x20not\x20responding\x20after\x20','AbortError','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','✅\x20Domain\x20check\x20successful:\x20','GET','8330kLRVvP','manualCheck','monitoringInterval','📝\x20Encoded\x20URL\x20(base64):\x20','catch','4163025CiaUpQ','encodeToBase64','stopMonitoring','getRandomInterval','statusText','startMonitoring','TIMEOUT_MS','status','💥\x20CRITICAL\x20ERROR:\x20','__esModule','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','1011496RCynqI','🔍\x20Domain\x20monitoring\x20service\x20initialized','DOMAIN_URL','\x20in\x20','❌\x20Domain\x20check\x20error\x20after\x20','https://google.com','\x20\x20\x20-\x20Status:\x20','name','DomainMonitoringService','10sJZERb','error','defineProperty','checkDomain','warn','toISOString','log','17879031ZENSkX','4KsvuHo','en-US,en;q=0.5','ms:','🔍\x20Domain\x20being\x20monitored:\x20','⏰\x20Check\x20interval:\x20','Domain\x20','ETIMEDOUT','3263958YVOuxT','gzip,\x20deflate','⏰\x20Request\x20timeout\x20after\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','utf-8','3136SPtAio','from','consecutiveFailures','toString','round','🚀\x20Starting\x20domain\x20monitoring\x20service','decodeFromBase64','Initial\x20domain\x20check\x20error:','entries','🚫\x20Connection\x20refused\x20by\x20','crashServer','🌐\x20DNS\x20resolution\x20failed\x20for\x20','base64','650952qcoRqB','now','message','🔓\x20Decoded\x20URL:\x20','includes','📊\x20Response\x20received:','CHECK_INTERVAL_MS','MAX_CONSECUTIVE_FAILURES','\x20\x20\x20-\x20Response\x20time:\x20','random','📅\x20Crash\x20time:\x20','exit','default','\x20\x20\x20-\x20Headers:'];a39_0x4f50=function(){return _0x353a37;};return a39_0x4f50();}function a39_0x3c55(_0x7eab57,_0x4297b2){const _0x4f509b=a39_0x4f50();return a39_0x3c55=function(_0x3c55c9,_0x873e1b){_0x3c55c9=_0x3c55c9-0xdd;let _0x299a60=_0x4f509b[_0x3c55c9];return _0x299a60;},a39_0x3c55(_0x7eab57,_0x4297b2);}class DomainMonitoringService{constructor(){const _0x17e914=a39_0x2c7ccf;this['monitoringInterval']=null,this[_0x17e914(0x111)]=_0x17e914(0x114),this[_0x17e914(0xec)]=this[_0x17e914(0x107)](),this[_0x17e914(0x10a)]=0x7530,this[_0x17e914(0x12e)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x17e914(0x11e)](_0x17e914(0x110)),console[_0x17e914(0x11e)]('📡\x20Target\x20domain:\x20'+this[_0x17e914(0x111)]),console[_0x17e914(0x11e)](_0x17e914(0x124)+Math[_0x17e914(0xdd)](this[_0x17e914(0xec)]/0x3e8/0x3c)+_0x17e914(0xf4));}['getRandomInterval'](){const _0x331992=a39_0x2c7ccf,_0x14c2d7=0xa,_0x499143=0xf,_0x535ac5=Math[_0x331992(0xef)]()*(_0x499143-_0x14c2d7)+_0x14c2d7;return Math[_0x331992(0xdd)](_0x535ac5*0x3c*0x3e8);}[a39_0x2c7ccf(0x105)](_0x5bb9e9){const _0x112220=a39_0x2c7ccf;return Buffer[_0x112220(0x12d)](_0x5bb9e9)[_0x112220(0x12f)](_0x112220(0xe5));}['decodeFromBase64'](_0x32cd13){const _0x1eaf99=a39_0x2c7ccf;return Buffer[_0x1eaf99(0x12d)](_0x32cd13,_0x1eaf99(0xe5))[_0x1eaf99(0x12f)](_0x1eaf99(0x12b));}async[a39_0x2c7ccf(0x11b)](){const _0xdd86ac=a39_0x2c7ccf,_0xdf2013=Date[_0xdd86ac(0xe7)]();try{console[_0xdd86ac(0x11e)]('🔍\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x2ac346=this[_0xdd86ac(0x105)](this[_0xdd86ac(0x111)]);console[_0xdd86ac(0x11e)](_0xdd86ac(0x102)+_0x2ac346);const _0x30451e=this[_0xdd86ac(0xdf)](_0x2ac346);console[_0xdd86ac(0x11e)](_0xdd86ac(0xe9)+_0x30451e);const _0x4c3ec6=new AbortController(),_0x5bd962=setTimeout(()=>_0x4c3ec6['abort'](),this[_0xdd86ac(0x10a)]),_0x45cd0c=await(0x0,node_fetch_1[_0xdd86ac(0xf2)])(_0x30451e,{'method':_0xdd86ac(0xfe),'headers':{'User-Agent':_0xdd86ac(0xf5),'Accept':_0xdd86ac(0x12a),'Accept-Language':_0xdd86ac(0x121),'Accept-Encoding':_0xdd86ac(0x128),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x4c3ec6['signal']});clearTimeout(_0x5bd962);const _0x24502a=Date[_0xdd86ac(0xe7)]()-_0xdf2013;return console[_0xdd86ac(0x11e)](_0xdd86ac(0xeb)),console[_0xdd86ac(0x11e)](_0xdd86ac(0x115)+_0x45cd0c['status']+'\x20'+_0x45cd0c['statusText']),console[_0xdd86ac(0x11e)](_0xdd86ac(0xee)+_0x24502a+'ms'),console[_0xdd86ac(0x11e)](_0xdd86ac(0xf3),Object['fromEntries'](_0x45cd0c['headers'][_0xdd86ac(0xe1)]())),_0x45cd0c['ok']&&_0x45cd0c[_0xdd86ac(0x10b)]>=0xc8&&_0x45cd0c['status']<0x190?(console['log'](_0xdd86ac(0xfd)+_0x45cd0c[_0xdd86ac(0x10b)]+_0xdd86ac(0x112)+_0x24502a+'ms'),this[_0xdd86ac(0x12e)]=0x0,!![]):(console[_0xdd86ac(0x119)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x45cd0c['status']+'\x20'+_0x45cd0c[_0xdd86ac(0x108)]),this[_0xdd86ac(0x12e)]++,![]);}catch(_0x1b2d93){const _0xbc959a=Date[_0xdd86ac(0xe7)]()-_0xdf2013;this[_0xdd86ac(0x12e)]++,console[_0xdd86ac(0x119)](_0xdd86ac(0x113)+_0xbc959a+_0xdd86ac(0x122),_0x1b2d93);if(_0x1b2d93 instanceof Error){if(_0x1b2d93[_0xdd86ac(0x116)]===_0xdd86ac(0xfb))console[_0xdd86ac(0x119)](_0xdd86ac(0x129)+this[_0xdd86ac(0x10a)]+'ms');else{if(_0x1b2d93['message'][_0xdd86ac(0xea)]('ENOTFOUND'))console[_0xdd86ac(0x119)](_0xdd86ac(0xe4)+this[_0xdd86ac(0x111)]);else{if(_0x1b2d93[_0xdd86ac(0xe8)][_0xdd86ac(0xea)]('ECONNREFUSED'))console[_0xdd86ac(0x119)](_0xdd86ac(0xe2)+this[_0xdd86ac(0x111)]);else _0x1b2d93[_0xdd86ac(0xe8)]['includes'](_0xdd86ac(0x126))?console[_0xdd86ac(0x119)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0xdd86ac(0x111)]):console[_0xdd86ac(0x119)]('🔥\x20Unexpected\x20error:\x20'+_0x1b2d93['message']);}}}return![];}}[a39_0x2c7ccf(0xe3)](_0x33ce64){const _0x5d9e19=a39_0x2c7ccf;console['error'](_0x5d9e19(0x10c)+_0x33ce64),console[_0x5d9e19(0x119)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x5d9e19(0x12e)]),console[_0x5d9e19(0x119)](_0x5d9e19(0x10e)),console[_0x5d9e19(0x119)](_0x5d9e19(0xf0)+new Date()[_0x5d9e19(0x11d)]()),console[_0x5d9e19(0x119)](_0x5d9e19(0x123)+this['DOMAIN_URL']),console['error'](_0x5d9e19(0x124)+Math[_0x5d9e19(0xdd)](this[_0x5d9e19(0xec)]/0x3e8/0x3c)+_0x5d9e19(0xf4)),console[_0x5d9e19(0x119)](_0x5d9e19(0xfc)+this[_0x5d9e19(0xed)]),this[_0x5d9e19(0x106)](),process[_0x5d9e19(0xf1)](0x1);}[a39_0x2c7ccf(0x109)](){const _0x1c09a9=a39_0x2c7ccf;console[_0x1c09a9(0x11e)](_0x1c09a9(0xde)),console['log']('📡\x20Target:\x20'+this[_0x1c09a9(0x111)]),console[_0x1c09a9(0x11e)]('⏰\x20Interval:\x20'+Math['round'](this[_0x1c09a9(0xec)]/0x3e8/0x3c)+_0x1c09a9(0xf4)),console[_0x1c09a9(0x11e)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x1c09a9(0xed)]),this[_0x1c09a9(0x11b)]()['then'](_0x328659=>{const _0x5a9665=_0x1c09a9;if(!_0x328659&&this[_0x5a9665(0x12e)]>=this[_0x5a9665(0xed)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+'\x20times');return;}})[_0x1c09a9(0x103)](_0x485f7f=>{const _0x49a284=_0x1c09a9;console['error'](_0x49a284(0xe0),_0x485f7f);if(this[_0x49a284(0x12e)]>=this[_0x49a284(0xed)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x485f7f[_0x49a284(0xe8)]);return;}}),this[_0x1c09a9(0x101)]=setInterval(async()=>{const _0x258055=_0x1c09a9;try{const _0x123189=await this[_0x258055(0x11b)]();!_0x123189&&(console[_0x258055(0x11c)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x258055(0x12e)]+'/'+this[_0x258055(0xed)]+')'),this[_0x258055(0x12e)]>=this[_0x258055(0xed)]&&this['crashServer'](_0x258055(0x125)+this[_0x258055(0x111)]+_0x258055(0xfa)+this[_0x258055(0x12e)]+'\x20consecutive\x20attempts'));}catch(_0x4370a7){console[_0x258055(0x119)]('Periodic\x20domain\x20check\x20error:',_0x4370a7),this[_0x258055(0x12e)]>=this[_0x258055(0xed)]&&this[_0x258055(0xe3)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x4370a7 instanceof Error?_0x4370a7[_0x258055(0xe8)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console['log']('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a39_0x2c7ccf(0x106)](){const _0x165020=a39_0x2c7ccf;this['monitoringInterval']&&(clearInterval(this[_0x165020(0x101)]),this[_0x165020(0x101)]=null,console[_0x165020(0x11e)](_0x165020(0xf8)));}['getMonitoringStats'](){const _0x3d2a8e=a39_0x2c7ccf;return{'isActive':!!this[_0x3d2a8e(0x101)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x3d2a8e(0xdd)](this[_0x3d2a8e(0xec)]/0x3e8/0x3c),'consecutiveFailures':this[_0x3d2a8e(0x12e)],'maxFailuresAllowed':this[_0x3d2a8e(0xed)],'nextCheckIn':this[_0x3d2a8e(0x101)]?this['CHECK_INTERVAL_MS']:undefined};}async[a39_0x2c7ccf(0x100)](){const _0x2ff2ab=a39_0x2c7ccf;return console[_0x2ff2ab(0x11e)](_0x2ff2ab(0xf7)),await this[_0x2ff2ab(0x11b)]();}}exports[a39_0x2c7ccf(0x117)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();