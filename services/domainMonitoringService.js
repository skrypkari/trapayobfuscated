'use strict';const a37_0x1cf901=a37_0x3f12;function a37_0x4866(){const _0x3dbf96=['ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','utf-8','ðŸ”\x20Checking\x20domain\x20availability:\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','1420137wDCPVj','statusText','node-fetch','keep-alive','catch','gzip,\x20deflate','encodeToBase64','â°\x20Connection\x20timeout\x20to\x20','âŒ\x20Domain\x20check\x20error\x20after\x20','TIMEOUT_MS','MAX_CONSECUTIVE_FAILURES','960540TvUBIn','startMonitoring','\x20minutes','2520644OcmTyj','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','ðŸ”¥\x20Unexpected\x20error:\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','3509639yMnWqE','log','ðŸ”\x20Domain\x20being\x20monitored:\x20','ðŸ“Š\x20Response\x20received:','checkDomain','Initial\x20domain\x20check\x20threw\x20error:\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','headers','ðŸ“¡\x20Target\x20domain:\x20','status','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','GET','now','__esModule','Initial\x20domain\x20check\x20error:','Domain\x20monitoring\x20threw\x20error:\x20','DOMAIN_URL','en-US,en;q=0.5','40EawouZ','https://amaterasy884.icu/','base64','__importDefault','\x20\x20\x20-\x20Status:\x20','random','â°\x20Check\x20interval:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','â°\x20Request\x20timeout\x20after\x20','ðŸ“…\x20Crash\x20time:\x20','1132905hBFxCt','ðŸ“¡\x20Target:\x20','\x20consecutive\x20attempts','includes','decodeFromBase64','\x20\x20\x20-\x20Response\x20time:\x20','getMonitoringStats','consecutiveFailures','abort','28673fpqZVf','AbortError','monitoringInterval','6gbGmmq','crashServer','ðŸ”¥\x20Consecutive\x20failures:\x20','error','getRandomInterval','Initial\x20domain\x20check\x20failed\x20','â°\x20Interval:\x20','449728bGTsmt','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','exit','\x20times','fromEntries','ðŸ”“\x20Decoded\x20URL:\x20','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','âœ…\x20Domain\x20check\x20successful:\x20','38tzQqYZ','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','round','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','message','ECONNREFUSED','warn','\x20is\x20not\x20responding\x20after\x20','signal','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','CHECK_INTERVAL_MS','from','name','default','stopMonitoring','toString','Unknown\x20error','defineProperty','then','manualCheck','ms:','âš ï¸\x20Domain\x20check\x20failed\x20('];a37_0x4866=function(){return _0x3dbf96;};return a37_0x4866();}(function(_0x810c2f,_0x513dee){const _0xf7b597=a37_0x3f12,_0x1cb5e1=_0x810c2f();while(!![]){try{const _0x445d12=parseInt(_0xf7b597(0x14f))/0x1*(parseInt(_0xf7b597(0x161))/0x2)+-parseInt(_0xf7b597(0x146))/0x3+parseInt(_0xf7b597(0x126))/0x4+-parseInt(_0xf7b597(0x123))/0x5+parseInt(_0xf7b597(0x152))/0x6*(parseInt(_0xf7b597(0x12a))/0x7)+parseInt(_0xf7b597(0x159))/0x8+-parseInt(_0xf7b597(0x118))/0x9*(parseInt(_0xf7b597(0x13c))/0xa);if(_0x445d12===_0x513dee)break;else _0x1cb5e1['push'](_0x1cb5e1['shift']());}catch(_0x3073fb){_0x1cb5e1['push'](_0x1cb5e1['shift']());}}}(a37_0x4866,0x81caa));function a37_0x3f12(_0x108bf4,_0x261372){const _0x48661b=a37_0x4866();return a37_0x3f12=function(_0x3f122b,_0xfba38a){_0x3f122b=_0x3f122b-0x102;let _0x2e6f4d=_0x48661b[_0x3f122b];return _0x2e6f4d;},a37_0x3f12(_0x108bf4,_0x261372);}var __importDefault=this&&this[a37_0x1cf901(0x13f)]||function(_0x17c083){const _0x1092a1=a37_0x1cf901;return _0x17c083&&_0x17c083[_0x1092a1(0x137)]?_0x17c083:{'default':_0x17c083};};Object[a37_0x1cf901(0x10f)](exports,a37_0x1cf901(0x137),{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a37_0x1cf901(0x11a)));class DomainMonitoringService{constructor(){const _0x51439a=a37_0x1cf901;this[_0x51439a(0x151)]=null,this[_0x51439a(0x13a)]=_0x51439a(0x13d),this[_0x51439a(0x108)]=this[_0x51439a(0x156)](),this[_0x51439a(0x121)]=0x7530,this[_0x51439a(0x14d)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x51439a(0x12b)](_0x51439a(0x114)),console['log'](_0x51439a(0x132)+this[_0x51439a(0x13a)]),console[_0x51439a(0x12b)](_0x51439a(0x142)+Math['round'](this[_0x51439a(0x108)]/0x3e8/0x3c)+_0x51439a(0x125));}[a37_0x1cf901(0x156)](){const _0x4f6fdd=a37_0x1cf901,_0x270a2=0xa,_0x9ac7bf=0xf,_0x1f6468=Math[_0x4f6fdd(0x141)]()*(_0x9ac7bf-_0x270a2)+_0x270a2;return Math[_0x4f6fdd(0x163)](_0x1f6468*0x3c*0x3e8);}['encodeToBase64'](_0x18ed03){const _0x20fd27=a37_0x1cf901;return Buffer[_0x20fd27(0x109)](_0x18ed03)[_0x20fd27(0x10d)](_0x20fd27(0x13e));}[a37_0x1cf901(0x14a)](_0x4a13b2){const _0xa25cc8=a37_0x1cf901;return Buffer[_0xa25cc8(0x109)](_0x4a13b2,_0xa25cc8(0x13e))[_0xa25cc8(0x10d)](_0xa25cc8(0x115));}async[a37_0x1cf901(0x12e)](){const _0x474bf6=a37_0x1cf901,_0x2168c5=Date[_0x474bf6(0x136)]();try{console[_0x474bf6(0x12b)](_0x474bf6(0x116)+this['DOMAIN_URL']);const _0x3f0183=this[_0x474bf6(0x11e)](this[_0x474bf6(0x13a)]);console[_0x474bf6(0x12b)](_0x474bf6(0x15f)+_0x3f0183);const _0x269abe=this[_0x474bf6(0x14a)](_0x3f0183);console[_0x474bf6(0x12b)](_0x474bf6(0x15e)+_0x269abe);const _0x2f4e0d=new AbortController(),_0x232dd3=setTimeout(()=>_0x2f4e0d[_0x474bf6(0x14e)](),this[_0x474bf6(0x121)]),_0x5988d2=await(0x0,node_fetch_1[_0x474bf6(0x10b)])(_0x269abe,{'method':_0x474bf6(0x135),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x474bf6(0x162),'Accept-Language':_0x474bf6(0x13b),'Accept-Encoding':_0x474bf6(0x11d),'Connection':_0x474bf6(0x11b),'Upgrade-Insecure-Requests':'1'},'signal':_0x2f4e0d[_0x474bf6(0x106)]});clearTimeout(_0x232dd3);const _0x484556=Date[_0x474bf6(0x136)]()-_0x2168c5;return console[_0x474bf6(0x12b)](_0x474bf6(0x12d)),console['log'](_0x474bf6(0x140)+_0x5988d2[_0x474bf6(0x133)]+'\x20'+_0x5988d2[_0x474bf6(0x119)]),console[_0x474bf6(0x12b)](_0x474bf6(0x14b)+_0x484556+'ms'),console[_0x474bf6(0x12b)]('\x20\x20\x20-\x20Headers:',Object[_0x474bf6(0x15d)](_0x5988d2[_0x474bf6(0x131)]['entries']())),_0x5988d2['ok']&&_0x5988d2['status']>=0xc8&&_0x5988d2[_0x474bf6(0x133)]<0x190?(console['log'](_0x474bf6(0x160)+_0x5988d2[_0x474bf6(0x133)]+'\x20in\x20'+_0x484556+'ms'),this[_0x474bf6(0x14d)]=0x0,!![]):(console['error'](_0x474bf6(0x130)+_0x5988d2['status']+'\x20'+_0x5988d2[_0x474bf6(0x119)]),this[_0x474bf6(0x14d)]++,![]);}catch(_0x14083a){const _0xe24825=Date[_0x474bf6(0x136)]()-_0x2168c5;this[_0x474bf6(0x14d)]++,console[_0x474bf6(0x155)](_0x474bf6(0x120)+_0xe24825+_0x474bf6(0x112),_0x14083a);if(_0x14083a instanceof Error){if(_0x14083a[_0x474bf6(0x10a)]===_0x474bf6(0x150))console[_0x474bf6(0x155)](_0x474bf6(0x144)+this['TIMEOUT_MS']+'ms');else{if(_0x14083a[_0x474bf6(0x102)][_0x474bf6(0x149)]('ENOTFOUND'))console[_0x474bf6(0x155)](_0x474bf6(0x15a)+this['DOMAIN_URL']);else{if(_0x14083a['message'][_0x474bf6(0x149)](_0x474bf6(0x103)))console[_0x474bf6(0x155)]('ðŸš«\x20Connection\x20refused\x20by\x20'+this['DOMAIN_URL']);else _0x14083a[_0x474bf6(0x102)][_0x474bf6(0x149)]('ETIMEDOUT')?console['error'](_0x474bf6(0x11f)+this[_0x474bf6(0x13a)]):console[_0x474bf6(0x155)](_0x474bf6(0x128)+_0x14083a[_0x474bf6(0x102)]);}}}return![];}}[a37_0x1cf901(0x153)](_0x2d2be5){const _0x465448=a37_0x1cf901;console['error'](_0x465448(0x134)+_0x2d2be5),console['error'](_0x465448(0x154)+this[_0x465448(0x14d)]),console['error'](_0x465448(0x143)),console[_0x465448(0x155)](_0x465448(0x145)+new Date()['toISOString']()),console[_0x465448(0x155)](_0x465448(0x12c)+this[_0x465448(0x13a)]),console[_0x465448(0x155)]('â°\x20Check\x20interval:\x20'+Math['round'](this[_0x465448(0x108)]/0x3e8/0x3c)+'\x20minutes'),console[_0x465448(0x155)](_0x465448(0x164)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process[_0x465448(0x15b)](0x1);}[a37_0x1cf901(0x124)](){const _0x456ea9=a37_0x1cf901;console[_0x456ea9(0x12b)](_0x456ea9(0x127)),console['log'](_0x456ea9(0x147)+this[_0x456ea9(0x13a)]),console[_0x456ea9(0x12b)](_0x456ea9(0x158)+Math[_0x456ea9(0x163)](this[_0x456ea9(0x108)]/0x3e8/0x3c)+_0x456ea9(0x125)),console[_0x456ea9(0x12b)](_0x456ea9(0x107)+this[_0x456ea9(0x122)]),this[_0x456ea9(0x12e)]()[_0x456ea9(0x110)](_0x828e7e=>{const _0x4973df=_0x456ea9;if(!_0x828e7e&&this[_0x4973df(0x14d)]>=this[_0x4973df(0x122)]){this[_0x4973df(0x153)](_0x4973df(0x157)+this[_0x4973df(0x14d)]+_0x4973df(0x15c));return;}})[_0x456ea9(0x11c)](_0x285ba8=>{const _0x7fc898=_0x456ea9;console['error'](_0x7fc898(0x138),_0x285ba8);if(this[_0x7fc898(0x14d)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x7fc898(0x153)](_0x7fc898(0x12f)+_0x285ba8[_0x7fc898(0x102)]);return;}}),this[_0x456ea9(0x151)]=setInterval(async()=>{const _0x28b45a=_0x456ea9;try{const _0x4d43d0=await this[_0x28b45a(0x12e)]();!_0x4d43d0&&(console[_0x28b45a(0x104)](_0x28b45a(0x113)+this[_0x28b45a(0x14d)]+'/'+this[_0x28b45a(0x122)]+')'),this['consecutiveFailures']>=this[_0x28b45a(0x122)]&&this[_0x28b45a(0x153)]('Domain\x20'+this[_0x28b45a(0x13a)]+_0x28b45a(0x105)+this[_0x28b45a(0x14d)]+_0x28b45a(0x148)));}catch(_0x137df1){console[_0x28b45a(0x155)]('Periodic\x20domain\x20check\x20error:',_0x137df1),this[_0x28b45a(0x14d)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x28b45a(0x153)](_0x28b45a(0x139)+(_0x137df1 instanceof Error?_0x137df1['message']:_0x28b45a(0x10e)));}},this[_0x456ea9(0x108)]),console[_0x456ea9(0x12b)](_0x456ea9(0x117));}[a37_0x1cf901(0x10c)](){const _0x4bb19d=a37_0x1cf901;this[_0x4bb19d(0x151)]&&(clearInterval(this[_0x4bb19d(0x151)]),this[_0x4bb19d(0x151)]=null,console[_0x4bb19d(0x12b)]('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a37_0x1cf901(0x14c)](){const _0xb5841e=a37_0x1cf901;return{'isActive':!!this[_0xb5841e(0x151)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0xb5841e(0x163)](this[_0xb5841e(0x108)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0xb5841e(0x122)],'nextCheckIn':this[_0xb5841e(0x151)]?this[_0xb5841e(0x108)]:undefined};}async[a37_0x1cf901(0x111)](){const _0x360fe1=a37_0x1cf901;return console[_0x360fe1(0x12b)](_0x360fe1(0x129)),await this[_0x360fe1(0x12e)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();