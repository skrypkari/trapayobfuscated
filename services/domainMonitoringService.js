'use strict';const a39_0xb587bd=a39_0x6fa8;(function(_0x5d62b3,_0xa4ebe1){const _0x44c2d5=a39_0x6fa8,_0x48454c=_0x5d62b3();while(!![]){try{const _0xb42690=-parseInt(_0x44c2d5(0x124))/0x1+-parseInt(_0x44c2d5(0x141))/0x2*(parseInt(_0x44c2d5(0x12e))/0x3)+parseInt(_0x44c2d5(0x121))/0x4+parseInt(_0x44c2d5(0x144))/0x5*(-parseInt(_0x44c2d5(0x13e))/0x6)+-parseInt(_0x44c2d5(0x130))/0x7*(parseInt(_0x44c2d5(0x15f))/0x8)+parseInt(_0x44c2d5(0x150))/0x9*(-parseInt(_0x44c2d5(0x137))/0xa)+parseInt(_0x44c2d5(0x160))/0xb;if(_0xb42690===_0xa4ebe1)break;else _0x48454c['push'](_0x48454c['shift']());}catch(_0x304bb7){_0x48454c['push'](_0x48454c['shift']());}}}(a39_0x3d15,0xe6ce4));var __importDefault=this&&this[a39_0xb587bd(0x115)]||function(_0x5192ca){const _0x9c3a9f=a39_0xb587bd;return _0x5192ca&&_0x5192ca[_0x9c3a9f(0x143)]?_0x5192ca:{'default':_0x5192ca};};Object[a39_0xb587bd(0x108)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a39_0xb587bd(0x12a)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));function a39_0x6fa8(_0x18934f,_0x47ceee){const _0x3d1558=a39_0x3d15();return a39_0x6fa8=function(_0x6fa86d,_0x3243aa){_0x6fa86d=_0x6fa86d-0x104;let _0x5ca332=_0x3d1558[_0x6fa86d];return _0x5ca332;},a39_0x6fa8(_0x18934f,_0x47ceee);}class DomainMonitoringService{constructor(){const _0x581dcc=a39_0xb587bd;this[_0x581dcc(0x122)]=null,this[_0x581dcc(0x107)]=_0x581dcc(0x11c),this[_0x581dcc(0x12b)]=this['getRandomInterval'](),this[_0x581dcc(0x151)]=0x7530,this[_0x581dcc(0x138)]=0x0,this[_0x581dcc(0x10a)]=0x2,console[_0x581dcc(0x140)]('üîç\x20Domain\x20monitoring\x20service\x20initialized'),console['log'](_0x581dcc(0x156)+this['DOMAIN_URL']),console['log'](_0x581dcc(0x110)+Math[_0x581dcc(0x125)](this[_0x581dcc(0x12b)]/0x3e8/0x3c)+_0x581dcc(0x11e));}[a39_0xb587bd(0x163)](){const _0x2dad17=a39_0xb587bd,_0x458ada=0xa,_0x5e8625=0xf,_0xa9adc=Math['random']()*(_0x5e8625-_0x458ada)+_0x458ada;return Math[_0x2dad17(0x125)](_0xa9adc*0x3c*0x3e8);}[a39_0xb587bd(0x159)](_0x332359){const _0x26faec=a39_0xb587bd;return Buffer[_0x26faec(0x154)](_0x332359)[_0x26faec(0x11d)](_0x26faec(0x135));}[a39_0xb587bd(0x14c)](_0xf212e5){const _0x1b123a=a39_0xb587bd;return Buffer[_0x1b123a(0x154)](_0xf212e5,_0x1b123a(0x135))[_0x1b123a(0x11d)](_0x1b123a(0x134));}async[a39_0xb587bd(0x11a)](){const _0x381107=a39_0xb587bd,_0x23e820=Date[_0x381107(0x131)]();try{console[_0x381107(0x140)](_0x381107(0x129)+this[_0x381107(0x107)]);const _0x679d09=this[_0x381107(0x159)](this[_0x381107(0x107)]);console['log'](_0x381107(0x14b)+_0x679d09);const _0x3ecaed=this['decodeFromBase64'](_0x679d09);console[_0x381107(0x140)](_0x381107(0x13b)+_0x3ecaed);const _0x3dd2a2=new AbortController(),_0x375b44=setTimeout(()=>_0x3dd2a2[_0x381107(0x14a)](),this[_0x381107(0x151)]),_0x402549=await(0x0,node_fetch_1[_0x381107(0x111)])(_0x3ecaed,{'method':'GET','headers':{'User-Agent':_0x381107(0x109),'Accept':_0x381107(0x158),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x381107(0x10b),'Connection':_0x381107(0x118),'Upgrade-Insecure-Requests':'1'},'signal':_0x3dd2a2[_0x381107(0x139)]});clearTimeout(_0x375b44);const _0x33f21e=Date[_0x381107(0x131)]()-_0x23e820;return console[_0x381107(0x140)](_0x381107(0x15d)),console[_0x381107(0x140)](_0x381107(0x142)+_0x402549[_0x381107(0x15c)]+'\x20'+_0x402549[_0x381107(0x116)]),console[_0x381107(0x140)](_0x381107(0x104)+_0x33f21e+'ms'),console[_0x381107(0x140)](_0x381107(0x155),Object[_0x381107(0x127)](_0x402549[_0x381107(0x114)][_0x381107(0x11b)]())),_0x402549['ok']&&_0x402549[_0x381107(0x15c)]>=0xc8&&_0x402549['status']<0x190?(console[_0x381107(0x140)](_0x381107(0x105)+_0x402549[_0x381107(0x15c)]+_0x381107(0x12f)+_0x33f21e+'ms'),this[_0x381107(0x138)]=0x0,!![]):(console['error'](_0x381107(0x15e)+_0x402549['status']+'\x20'+_0x402549['statusText']),this[_0x381107(0x138)]++,![]);}catch(_0x4c7635){const _0x48501e=Date[_0x381107(0x131)]()-_0x23e820;this[_0x381107(0x138)]++,console[_0x381107(0x126)]('‚ùå\x20Domain\x20check\x20error\x20after\x20'+_0x48501e+_0x381107(0x10e),_0x4c7635);if(_0x4c7635 instanceof Error){if(_0x4c7635['name']===_0x381107(0x149))console['error'](_0x381107(0x128)+this[_0x381107(0x151)]+'ms');else{if(_0x4c7635[_0x381107(0x148)][_0x381107(0x146)](_0x381107(0x132)))console[_0x381107(0x126)](_0x381107(0x133)+this[_0x381107(0x107)]);else{if(_0x4c7635[_0x381107(0x148)][_0x381107(0x146)](_0x381107(0x152)))console[_0x381107(0x126)](_0x381107(0x157)+this[_0x381107(0x107)]);else _0x4c7635[_0x381107(0x148)][_0x381107(0x146)](_0x381107(0x136))?console[_0x381107(0x126)](_0x381107(0x10d)+this[_0x381107(0x107)]):console[_0x381107(0x126)]('üî•\x20Unexpected\x20error:\x20'+_0x4c7635['message']);}}}return![];}}[a39_0xb587bd(0x10f)](_0x47df64){const _0x11369c=a39_0xb587bd;console['error'](_0x11369c(0x153)+_0x47df64),console[_0x11369c(0x126)](_0x11369c(0x145)+this[_0x11369c(0x138)]),console[_0x11369c(0x126)](_0x11369c(0x14e)),console[_0x11369c(0x126)]('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x11369c(0x120)]()),console[_0x11369c(0x126)](_0x11369c(0x14f)+this[_0x11369c(0x107)]),console[_0x11369c(0x126)]('‚è∞\x20Check\x20interval:\x20'+Math['round'](this[_0x11369c(0x12b)]/0x3e8/0x3c)+_0x11369c(0x11e)),console[_0x11369c(0x126)](_0x11369c(0x12d)+this[_0x11369c(0x10a)]),this[_0x11369c(0x15a)](),process[_0x11369c(0x13d)](0x1);}[a39_0xb587bd(0x10c)](){const _0x3d10e9=a39_0xb587bd;console[_0x3d10e9(0x140)]('üöÄ\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x3d10e9(0x164)+this[_0x3d10e9(0x107)]),console['log'](_0x3d10e9(0x147)+Math[_0x3d10e9(0x125)](this[_0x3d10e9(0x12b)]/0x3e8/0x3c)+'\x20minutes'),console['log']('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x3d10e9(0x10a)]),this[_0x3d10e9(0x11a)]()['then'](_0x4458ed=>{const _0x279d57=_0x3d10e9;if(!_0x4458ed&&this[_0x279d57(0x138)]>=this[_0x279d57(0x10a)]){this[_0x279d57(0x10f)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x279d57(0x138)]+_0x279d57(0x119));return;}})['catch'](_0x60e6ee=>{const _0x45609d=_0x3d10e9;console[_0x45609d(0x126)](_0x45609d(0x106),_0x60e6ee);if(this['consecutiveFailures']>=this[_0x45609d(0x10a)]){this['crashServer'](_0x45609d(0x117)+_0x60e6ee[_0x45609d(0x148)]);return;}}),this[_0x3d10e9(0x122)]=setInterval(async()=>{const _0x3e8aa6=_0x3d10e9;try{const _0x12a5db=await this[_0x3e8aa6(0x11a)]();!_0x12a5db&&(console['warn'](_0x3e8aa6(0x12c)+this[_0x3e8aa6(0x138)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x3e8aa6(0x138)]>=this[_0x3e8aa6(0x10a)]&&this[_0x3e8aa6(0x10f)](_0x3e8aa6(0x113)+this[_0x3e8aa6(0x107)]+_0x3e8aa6(0x11f)+this[_0x3e8aa6(0x138)]+_0x3e8aa6(0x15b)));}catch(_0x118b58){console['error'](_0x3e8aa6(0x13f),_0x118b58),this[_0x3e8aa6(0x138)]>=this[_0x3e8aa6(0x10a)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x118b58 instanceof Error?_0x118b58[_0x3e8aa6(0x148)]:_0x3e8aa6(0x13c)));}},this[_0x3d10e9(0x12b)]),console[_0x3d10e9(0x140)](_0x3d10e9(0x162));}[a39_0xb587bd(0x15a)](){const _0x53c4d2=a39_0xb587bd;this['monitoringInterval']&&(clearInterval(this[_0x53c4d2(0x122)]),this[_0x53c4d2(0x122)]=null,console[_0x53c4d2(0x140)](_0x53c4d2(0x13a)));}[a39_0xb587bd(0x161)](){const _0x5681f5=a39_0xb587bd;return{'isActive':!!this[_0x5681f5(0x122)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x5681f5(0x125)](this[_0x5681f5(0x12b)]/0x3e8/0x3c),'consecutiveFailures':this[_0x5681f5(0x138)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x5681f5(0x122)]?this[_0x5681f5(0x12b)]:undefined};}async[a39_0xb587bd(0x112)](){const _0x143adf=a39_0xb587bd;return console[_0x143adf(0x140)](_0x143adf(0x123)),await this[_0x143adf(0x11a)]();}}function a39_0x3d15(){const _0x2dd1e4=['default','manualCheck','Domain\x20','headers','__importDefault','statusText','Initial\x20domain\x20check\x20threw\x20error:\x20','keep-alive','\x20times','checkDomain','entries','https://google.com','toString','\x20minutes','\x20is\x20not\x20responding\x20after\x20','toISOString','673068JbpLSM','monitoringInterval','üîß\x20Manual\x20domain\x20check\x20requested','1605735tMyEdr','round','error','fromEntries','‚è∞\x20Request\x20timeout\x20after\x20','üîç\x20Checking\x20domain\x20availability:\x20','DomainMonitoringService','CHECK_INTERVAL_MS','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','6123uKEBAM','\x20in\x20','9986753FZTGYS','now','ENOTFOUND','üåê\x20DNS\x20resolution\x20failed\x20for\x20','utf-8','base64','ETIMEDOUT','10CHWfQu','consecutiveFailures','signal','üõë\x20Domain\x20monitoring\x20stopped','üîì\x20Decoded\x20URL:\x20','Unknown\x20error','exit','10647096ehoMdY','Periodic\x20domain\x20check\x20error:','log','4UMepBV','\x20\x20\x20-\x20Status:\x20','__esModule','5JmUWtd','üî•\x20Consecutive\x20failures:\x20','includes','‚è∞\x20Interval:\x20','message','AbortError','abort','üìù\x20Encoded\x20URL\x20(base64):\x20','decodeFromBase64','domainMonitoringService','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','üîç\x20Domain\x20being\x20monitored:\x20','7810443ZsWglA','TIMEOUT_MS','ECONNREFUSED','üí•\x20CRITICAL\x20ERROR:\x20','from','\x20\x20\x20-\x20Headers:','üì°\x20Target\x20domain:\x20','üö´\x20Connection\x20refused\x20by\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','encodeToBase64','stopMonitoring','\x20consecutive\x20attempts','status','üìä\x20Response\x20received:','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','8yaxnRG','71015472nGmVKg','getMonitoringStats','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','getRandomInterval','üì°\x20Target:\x20','\x20\x20\x20-\x20Response\x20time:\x20','‚úÖ\x20Domain\x20check\x20successful:\x20','Initial\x20domain\x20check\x20error:','DOMAIN_URL','defineProperty','TesSoft\x20Domain\x20Monitor/1.0','MAX_CONSECUTIVE_FAILURES','gzip,\x20deflate','startMonitoring','‚è∞\x20Connection\x20timeout\x20to\x20','ms:','crashServer','‚è∞\x20Check\x20interval:\x20'];a39_0x3d15=function(){return _0x2dd1e4;};return a39_0x3d15();}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0xb587bd(0x14d)]=new DomainMonitoringService();