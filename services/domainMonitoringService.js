'use strict';const a40_0x2a21be=a40_0x3322;(function(_0x26931a,_0x2e0ce3){const _0x4be065=a40_0x3322,_0x862592=_0x26931a();while(!![]){try{const _0x19a83c=-parseInt(_0x4be065(0x91))/0x1+parseInt(_0x4be065(0x8f))/0x2+-parseInt(_0x4be065(0x84))/0x3+-parseInt(_0x4be065(0xab))/0x4+-parseInt(_0x4be065(0xbd))/0x5+-parseInt(_0x4be065(0x83))/0x6+parseInt(_0x4be065(0x7f))/0x7;if(_0x19a83c===_0x2e0ce3)break;else _0x862592['push'](_0x862592['shift']());}catch(_0x16cdcc){_0x862592['push'](_0x862592['shift']());}}}(a40_0x28a3,0x880c3));function a40_0x3322(_0x15c150,_0x224b00){const _0x28a363=a40_0x28a3();return a40_0x3322=function(_0x33229b,_0x3ba113){_0x33229b=_0x33229b-0x6a;let _0x383eca=_0x28a363[_0x33229b];return _0x383eca;},a40_0x3322(_0x15c150,_0x224b00);}function a40_0x28a3(){const _0x2e56e7=['📝\x20Encoded\x20URL\x20(base64):\x20','🛑\x20Domain\x20monitoring\x20stopped','⏰\x20Connection\x20timeout\x20to\x20','utf-8','getRandomInterval','node-fetch','consecutiveFailures','CHECK_INTERVAL_MS','📡\x20Target\x20domain:\x20','15324925mTDrcQ','Unknown\x20error','❌\x20Domain\x20check\x20error\x20after\x20','\x20\x20\x20-\x20Status:\x20','4615182yygEKr','1332795vWwfUi','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','log','🚨\x20Max\x20failures\x20before\x20crash:\x20','Domain\x20monitoring\x20threw\x20error:\x20','GET','DOMAIN_URL','warn','stopMonitoring','\x20in\x20','Domain\x20','1925370WgupJz','ETIMEDOUT','575776rztaxV','default','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','🔍\x20Domain\x20being\x20monitored:\x20','📅\x20Crash\x20time:\x20','headers','🔥\x20Consecutive\x20failures:\x20','encodeToBase64','fromEntries','🚫\x20Connection\x20refused\x20by\x20','📊\x20Response\x20received:','💥\x20CRITICAL\x20ERROR:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','exit','toISOString','round','from','🚀\x20Starting\x20domain\x20monitoring\x20service','keep-alive','TIMEOUT_MS','startMonitoring','ENOTFOUND','error','gzip,\x20deflate','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','✅\x20Domain\x20check\x20successful:\x20','2260792HfGZyH','\x20minutes','\x20times','DomainMonitoringService','MAX_CONSECUTIVE_FAILURES','⏰\x20Interval:\x20','\x20consecutive\x20attempts','name','crashServer','\x20\x20\x20-\x20Headers:','decodeFromBase64','monitoringInterval','then','Initial\x20domain\x20check\x20error:','checkDomain','🔥\x20Unexpected\x20error:\x20','\x20\x20\x20-\x20Response\x20time:\x20','manualCheck','1201365qbtqVV','message','includes','🔓\x20Decoded\x20URL:\x20','ECONNREFUSED','__esModule','en-US,en;q=0.5','toString','catch','defineProperty','⏰\x20Check\x20interval:\x20','status','now'];a40_0x28a3=function(){return _0x2e56e7;};return a40_0x28a3();}var __importDefault=this&&this['__importDefault']||function(_0x348b87){const _0x59f0f3=a40_0x3322;return _0x348b87&&_0x348b87[_0x59f0f3(0x6e)]?_0x348b87:{'default':_0x348b87};};Object[a40_0x2a21be(0x72)](exports,a40_0x2a21be(0x6e),{'value':!![]}),exports['domainMonitoringService']=exports[a40_0x2a21be(0xae)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x2a21be(0x7b)));class DomainMonitoringService{constructor(){const _0x3c4994=a40_0x2a21be;this[_0x3c4994(0xb6)]=null,this['DOMAIN_URL']='https://google.com',this[_0x3c4994(0x7d)]=this[_0x3c4994(0x7a)](),this['TIMEOUT_MS']=0x7530,this[_0x3c4994(0x7c)]=0x0,this[_0x3c4994(0xaf)]=0x2,console[_0x3c4994(0x86)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x3c4994(0x86)](_0x3c4994(0x7e)+this['DOMAIN_URL']),console[_0x3c4994(0x86)](_0x3c4994(0x73)+Math[_0x3c4994(0xa0)](this[_0x3c4994(0x7d)]/0x3e8/0x3c)+_0x3c4994(0xac));}[a40_0x2a21be(0x7a)](){const _0x26f2c4=0xa,_0x407d37=0xf,_0x56623e=Math['random']()*(_0x407d37-_0x26f2c4)+_0x26f2c4;return Math['round'](_0x56623e*0x3c*0x3e8);}[a40_0x2a21be(0x98)](_0x25766d){const _0x4b39a0=a40_0x2a21be;return Buffer[_0x4b39a0(0xa1)](_0x25766d)[_0x4b39a0(0x70)]('base64');}[a40_0x2a21be(0xb5)](_0x575a98){const _0x17ebd5=a40_0x2a21be;return Buffer[_0x17ebd5(0xa1)](_0x575a98,'base64')[_0x17ebd5(0x70)](_0x17ebd5(0x79));}async[a40_0x2a21be(0xb9)](){const _0x4b2b28=a40_0x2a21be,_0x29acd4=Date['now']();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x4b2b28(0x8a)]);const _0x38b503=this[_0x4b2b28(0x98)](this[_0x4b2b28(0x8a)]);console[_0x4b2b28(0x86)](_0x4b2b28(0x76)+_0x38b503);const _0xdf125=this[_0x4b2b28(0xb5)](_0x38b503);console[_0x4b2b28(0x86)](_0x4b2b28(0x6c)+_0xdf125);const _0x349bde=new AbortController(),_0x2f3530=setTimeout(()=>_0x349bde['abort'](),this[_0x4b2b28(0xa4)]),_0x12cd1e=await(0x0,node_fetch_1[_0x4b2b28(0x92)])(_0xdf125,{'method':_0x4b2b28(0x89),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x4b2b28(0x85),'Accept-Language':_0x4b2b28(0x6f),'Accept-Encoding':_0x4b2b28(0xa8),'Connection':_0x4b2b28(0xa3),'Upgrade-Insecure-Requests':'1'},'signal':_0x349bde['signal']});clearTimeout(_0x2f3530);const _0x1ebef9=Date[_0x4b2b28(0x75)]()-_0x29acd4;return console['log'](_0x4b2b28(0x9b)),console['log'](_0x4b2b28(0x82)+_0x12cd1e['status']+'\x20'+_0x12cd1e['statusText']),console[_0x4b2b28(0x86)](_0x4b2b28(0xbb)+_0x1ebef9+'ms'),console[_0x4b2b28(0x86)](_0x4b2b28(0xb4),Object[_0x4b2b28(0x99)](_0x12cd1e[_0x4b2b28(0x96)]['entries']())),_0x12cd1e['ok']&&_0x12cd1e['status']>=0xc8&&_0x12cd1e[_0x4b2b28(0x74)]<0x190?(console[_0x4b2b28(0x86)](_0x4b2b28(0xaa)+_0x12cd1e[_0x4b2b28(0x74)]+_0x4b2b28(0x8d)+_0x1ebef9+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x4b2b28(0xa7)](_0x4b2b28(0x9d)+_0x12cd1e[_0x4b2b28(0x74)]+'\x20'+_0x12cd1e['statusText']),this[_0x4b2b28(0x7c)]++,![]);}catch(_0x3b4ef9){const _0x58c012=Date[_0x4b2b28(0x75)]()-_0x29acd4;this['consecutiveFailures']++,console['error'](_0x4b2b28(0x81)+_0x58c012+'ms:',_0x3b4ef9);if(_0x3b4ef9 instanceof Error){if(_0x3b4ef9[_0x4b2b28(0xb2)]==='AbortError')console[_0x4b2b28(0xa7)]('⏰\x20Request\x20timeout\x20after\x20'+this['TIMEOUT_MS']+'ms');else{if(_0x3b4ef9[_0x4b2b28(0x6a)][_0x4b2b28(0x6b)](_0x4b2b28(0xa6)))console[_0x4b2b28(0xa7)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x4b2b28(0x8a)]);else{if(_0x3b4ef9[_0x4b2b28(0x6a)][_0x4b2b28(0x6b)](_0x4b2b28(0x6d)))console[_0x4b2b28(0xa7)](_0x4b2b28(0x9a)+this['DOMAIN_URL']);else _0x3b4ef9[_0x4b2b28(0x6a)][_0x4b2b28(0x6b)](_0x4b2b28(0x90))?console['error'](_0x4b2b28(0x78)+this[_0x4b2b28(0x8a)]):console[_0x4b2b28(0xa7)](_0x4b2b28(0xba)+_0x3b4ef9[_0x4b2b28(0x6a)]);}}}return![];}}[a40_0x2a21be(0xb3)](_0x48dd92){const _0x50104a=a40_0x2a21be;console[_0x50104a(0xa7)](_0x50104a(0x9c)+_0x48dd92),console['error'](_0x50104a(0x97)+this['consecutiveFailures']),console[_0x50104a(0xa7)](_0x50104a(0xa9)),console[_0x50104a(0xa7)](_0x50104a(0x95)+new Date()[_0x50104a(0x9f)]()),console[_0x50104a(0xa7)](_0x50104a(0x94)+this[_0x50104a(0x8a)]),console[_0x50104a(0xa7)](_0x50104a(0x73)+Math[_0x50104a(0xa0)](this[_0x50104a(0x7d)]/0x3e8/0x3c)+'\x20minutes'),console[_0x50104a(0xa7)](_0x50104a(0x93)+this[_0x50104a(0xaf)]),this[_0x50104a(0x8c)](),process[_0x50104a(0x9e)](0x1);}[a40_0x2a21be(0xa5)](){const _0x4ec7d6=a40_0x2a21be;console[_0x4ec7d6(0x86)](_0x4ec7d6(0xa2)),console['log']('📡\x20Target:\x20'+this[_0x4ec7d6(0x8a)]),console[_0x4ec7d6(0x86)](_0x4ec7d6(0xb0)+Math[_0x4ec7d6(0xa0)](this[_0x4ec7d6(0x7d)]/0x3e8/0x3c)+'\x20minutes'),console['log'](_0x4ec7d6(0x87)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x4ec7d6(0xb9)]()[_0x4ec7d6(0xb7)](_0xa99a49=>{const _0x2b4b40=_0x4ec7d6;if(!_0xa99a49&&this[_0x2b4b40(0x7c)]>=this[_0x2b4b40(0xaf)]){this[_0x2b4b40(0xb3)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x2b4b40(0x7c)]+_0x2b4b40(0xad));return;}})[_0x4ec7d6(0x71)](_0x5c7c25=>{const _0x8688b2=_0x4ec7d6;console[_0x8688b2(0xa7)](_0x8688b2(0xb8),_0x5c7c25);if(this[_0x8688b2(0x7c)]>=this[_0x8688b2(0xaf)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x5c7c25[_0x8688b2(0x6a)]);return;}}),this[_0x4ec7d6(0xb6)]=setInterval(async()=>{const _0x37147a=_0x4ec7d6;try{const _0x3b6373=await this['checkDomain']();!_0x3b6373&&(console[_0x37147a(0x8b)]('⚠️\x20Domain\x20check\x20failed\x20('+this[_0x37147a(0x7c)]+'/'+this[_0x37147a(0xaf)]+')'),this['consecutiveFailures']>=this[_0x37147a(0xaf)]&&this['crashServer'](_0x37147a(0x8e)+this[_0x37147a(0x8a)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x37147a(0x7c)]+_0x37147a(0xb1)));}catch(_0x339a2d){console[_0x37147a(0xa7)]('Periodic\x20domain\x20check\x20error:',_0x339a2d),this[_0x37147a(0x7c)]>=this[_0x37147a(0xaf)]&&this[_0x37147a(0xb3)](_0x37147a(0x88)+(_0x339a2d instanceof Error?_0x339a2d[_0x37147a(0x6a)]:_0x37147a(0x80)));}},this['CHECK_INTERVAL_MS']),console[_0x4ec7d6(0x86)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a40_0x2a21be(0x8c)](){const _0x144704=a40_0x2a21be;this[_0x144704(0xb6)]&&(clearInterval(this[_0x144704(0xb6)]),this[_0x144704(0xb6)]=null,console[_0x144704(0x86)](_0x144704(0x77)));}['getMonitoringStats'](){const _0x5839e0=a40_0x2a21be;return{'isActive':!!this[_0x5839e0(0xb6)],'targetDomain':this[_0x5839e0(0x8a)],'checkIntervalMinutes':Math[_0x5839e0(0xa0)](this[_0x5839e0(0x7d)]/0x3e8/0x3c),'consecutiveFailures':this[_0x5839e0(0x7c)],'maxFailuresAllowed':this[_0x5839e0(0xaf)],'nextCheckIn':this[_0x5839e0(0xb6)]?this[_0x5839e0(0x7d)]:undefined};}async[a40_0x2a21be(0xbc)](){const _0xadafa7=a40_0x2a21be;return console['log']('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0xadafa7(0xb9)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();