'use strict';const a37_0x5c5f8e=a37_0x3e5d;(function(_0x80fdc6,_0x3b401a){const _0x4f061a=a37_0x3e5d,_0x38c34c=_0x80fdc6();while(!![]){try{const _0x587b97=parseInt(_0x4f061a(0x7f))/0x1*(parseInt(_0x4f061a(0x73))/0x2)+parseInt(_0x4f061a(0xbb))/0x3+-parseInt(_0x4f061a(0x95))/0x4+-parseInt(_0x4f061a(0x9b))/0x5*(-parseInt(_0x4f061a(0x99))/0x6)+parseInt(_0x4f061a(0xbd))/0x7+-parseInt(_0x4f061a(0x8c))/0x8+-parseInt(_0x4f061a(0xa1))/0x9;if(_0x587b97===_0x3b401a)break;else _0x38c34c['push'](_0x38c34c['shift']());}catch(_0x5a977c){_0x38c34c['push'](_0x38c34c['shift']());}}}(a37_0xe0d2,0x3e6a4));function a37_0x3e5d(_0x15f57b,_0x3cd994){const _0xe0d288=a37_0xe0d2();return a37_0x3e5d=function(_0x3e5dd8,_0x36c3dc){_0x3e5dd8=_0x3e5dd8-0x73;let _0xce5f9d=_0xe0d288[_0x3e5dd8];return _0xce5f9d;},a37_0x3e5d(_0x15f57b,_0x3cd994);}var __importDefault=this&&this[a37_0x5c5f8e(0xc1)]||function(_0x38af16){return _0x38af16&&_0x38af16['__esModule']?_0x38af16:{'default':_0x38af16};};Object[a37_0x5c5f8e(0x7a)](exports,a37_0x5c5f8e(0x84),{'value':!![]}),exports[a37_0x5c5f8e(0x85)]=exports['DomainMonitoringService']=void 0x0;function a37_0xe0d2(){const _0x5b7696=['decodeFromBase64','monitoringInterval','exit','🔧\x20Manual\x20domain\x20check\x20requested','📡\x20Target:\x20','2BiKkTY','Initial\x20domain\x20check\x20failed\x20','🚀\x20Starting\x20domain\x20monitoring\x20service','🚫\x20Connection\x20refused\x20by\x20','💥\x20CRITICAL\x20ERROR:\x20','✅\x20Domain\x20check\x20successful:\x20','ECONNREFUSED','defineProperty','encodeToBase64','https://google.com','🛑\x20Domain\x20monitoring\x20stopped','\x20\x20\x20-\x20Status:\x20','269910hRLaYu','\x20is\x20not\x20responding\x20after\x20','includes','\x20\x20\x20-\x20Response\x20time:\x20','fromEntries','__esModule','domainMonitoringService','crashServer','getMonitoringStats','consecutiveFailures','toISOString','getRandomInterval','now','1747056fbLbek','error','entries','statusText','stopMonitoring','🚨\x20Max\x20failures\x20before\x20crash:\x20','📡\x20Target\x20domain:\x20','log','warn','1423144upiGVR','Periodic\x20domain\x20check\x20error:','⏰\x20Connection\x20timeout\x20to\x20','Domain\x20monitoring\x20threw\x20error:\x20','1410402CRwxeq','⏰\x20Check\x20interval:\x20','5hcqoGZ','\x20times','DomainMonitoringService','base64','📊\x20Response\x20received:','🔍\x20Domain\x20monitoring\x20service\x20initialized','3666006adgLmL','toString','round','TIMEOUT_MS','random','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','GET','default','Unknown\x20error','⏰\x20Request\x20timeout\x20after\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','📅\x20Crash\x20time:\x20','keep-alive','\x20minutes','Initial\x20domain\x20check\x20error:','⏰\x20Interval:\x20','checkDomain','from','✅\x20Domain\x20monitoring\x20started\x20successfully','name','Initial\x20domain\x20check\x20threw\x20error:\x20','abort','AbortError','status','message','⚠️\x20Domain\x20check\x20failed\x20(','1347849oRjwEa','Domain\x20','1980258wEhsfe','headers','MAX_CONSECUTIVE_FAILURES','🔥\x20Consecutive\x20failures:\x20','__importDefault','❌\x20Domain\x20check\x20error\x20after\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','TesSoft\x20Domain\x20Monitor/1.0','CHECK_INTERVAL_MS','gzip,\x20deflate','DOMAIN_URL','ETIMEDOUT','\x20consecutive\x20attempts'];a37_0xe0d2=function(){return _0x5b7696;};return a37_0xe0d2();}const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x496852=a37_0x5c5f8e;this[_0x496852(0xcb)]=null,this[_0x496852(0xc7)]=_0x496852(0x7c),this[_0x496852(0xc5)]=this[_0x496852(0x8a)](),this['TIMEOUT_MS']=0x7530,this[_0x496852(0x88)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x496852(0x93)](_0x496852(0xa0)),console[_0x496852(0x93)](_0x496852(0x92)+this[_0x496852(0xc7)]),console[_0x496852(0x93)](_0x496852(0x9a)+Math['round'](this[_0x496852(0xc5)]/0x3e8/0x3c)+'\x20minutes');}[a37_0x5c5f8e(0x8a)](){const _0x52733c=a37_0x5c5f8e,_0x48d560=0xa,_0x39de23=0xf,_0x5744c5=Math[_0x52733c(0xa5)]()*(_0x39de23-_0x48d560)+_0x48d560;return Math[_0x52733c(0xa3)](_0x5744c5*0x3c*0x3e8);}[a37_0x5c5f8e(0x7b)](_0x5cc5c1){const _0x502ebd=a37_0x5c5f8e;return Buffer[_0x502ebd(0xb2)](_0x5cc5c1)[_0x502ebd(0xa2)]('base64');}[a37_0x5c5f8e(0xca)](_0x37fb2d){const _0x337010=a37_0x5c5f8e;return Buffer[_0x337010(0xb2)](_0x37fb2d,_0x337010(0x9e))[_0x337010(0xa2)]('utf-8');}async['checkDomain'](){const _0x1cbd2f=a37_0x5c5f8e,_0x32bcea=Date['now']();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x2a9253=this['encodeToBase64'](this['DOMAIN_URL']);console[_0x1cbd2f(0x93)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x2a9253);const _0x4da6a9=this[_0x1cbd2f(0xca)](_0x2a9253);console[_0x1cbd2f(0x93)]('🔓\x20Decoded\x20URL:\x20'+_0x4da6a9);const _0x4aa665=new AbortController(),_0x152cab=setTimeout(()=>_0x4aa665[_0x1cbd2f(0xb6)](),this[_0x1cbd2f(0xa4)]),_0x13112d=await(0x0,node_fetch_1[_0x1cbd2f(0xa8)])(_0x4da6a9,{'method':_0x1cbd2f(0xa7),'headers':{'User-Agent':_0x1cbd2f(0xc4),'Accept':_0x1cbd2f(0xa6),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x1cbd2f(0xc6),'Connection':_0x1cbd2f(0xad),'Upgrade-Insecure-Requests':'1'},'signal':_0x4aa665['signal']});clearTimeout(_0x152cab);const _0x1b25b2=Date['now']()-_0x32bcea;return console[_0x1cbd2f(0x93)](_0x1cbd2f(0x9f)),console[_0x1cbd2f(0x93)](_0x1cbd2f(0x7e)+_0x13112d[_0x1cbd2f(0xb8)]+'\x20'+_0x13112d[_0x1cbd2f(0x8f)]),console[_0x1cbd2f(0x93)](_0x1cbd2f(0x82)+_0x1b25b2+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object[_0x1cbd2f(0x83)](_0x13112d[_0x1cbd2f(0xbe)][_0x1cbd2f(0x8e)]())),_0x13112d['ok']&&_0x13112d['status']>=0xc8&&_0x13112d['status']<0x190?(console[_0x1cbd2f(0x93)](_0x1cbd2f(0x78)+_0x13112d['status']+'\x20in\x20'+_0x1b25b2+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error']('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x13112d[_0x1cbd2f(0xb8)]+'\x20'+_0x13112d['statusText']),this[_0x1cbd2f(0x88)]++,![]);}catch(_0x2eaac6){const _0x4c24a8=Date[_0x1cbd2f(0x8b)]()-_0x32bcea;this[_0x1cbd2f(0x88)]++,console[_0x1cbd2f(0x8d)](_0x1cbd2f(0xc2)+_0x4c24a8+'ms:',_0x2eaac6);if(_0x2eaac6 instanceof Error){if(_0x2eaac6[_0x1cbd2f(0xb4)]===_0x1cbd2f(0xb7))console[_0x1cbd2f(0x8d)](_0x1cbd2f(0xaa)+this[_0x1cbd2f(0xa4)]+'ms');else{if(_0x2eaac6[_0x1cbd2f(0xb9)][_0x1cbd2f(0x81)]('ENOTFOUND'))console['error'](_0x1cbd2f(0xab)+this[_0x1cbd2f(0xc7)]);else{if(_0x2eaac6[_0x1cbd2f(0xb9)]['includes'](_0x1cbd2f(0x79)))console['error'](_0x1cbd2f(0x76)+this[_0x1cbd2f(0xc7)]);else _0x2eaac6[_0x1cbd2f(0xb9)][_0x1cbd2f(0x81)](_0x1cbd2f(0xc8))?console[_0x1cbd2f(0x8d)](_0x1cbd2f(0x97)+this[_0x1cbd2f(0xc7)]):console[_0x1cbd2f(0x8d)]('🔥\x20Unexpected\x20error:\x20'+_0x2eaac6[_0x1cbd2f(0xb9)]);}}}return![];}}['crashServer'](_0x504d70){const _0x22a79f=a37_0x5c5f8e;console['error'](_0x22a79f(0x77)+_0x504d70),console[_0x22a79f(0x8d)](_0x22a79f(0xc0)+this[_0x22a79f(0x88)]),console[_0x22a79f(0x8d)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x22a79f(0x8d)](_0x22a79f(0xac)+new Date()[_0x22a79f(0x89)]()),console[_0x22a79f(0x8d)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x22a79f(0xc7)]),console[_0x22a79f(0x8d)](_0x22a79f(0x9a)+Math[_0x22a79f(0xa3)](this[_0x22a79f(0xc5)]/0x3e8/0x3c)+_0x22a79f(0xae)),console[_0x22a79f(0x8d)](_0x22a79f(0xc3)+this[_0x22a79f(0xbf)]),this[_0x22a79f(0x90)](),process[_0x22a79f(0xcc)](0x1);}['startMonitoring'](){const _0x5d7f76=a37_0x5c5f8e;console['log'](_0x5d7f76(0x75)),console[_0x5d7f76(0x93)](_0x5d7f76(0xce)+this['DOMAIN_URL']),console[_0x5d7f76(0x93)](_0x5d7f76(0xb0)+Math[_0x5d7f76(0xa3)](this[_0x5d7f76(0xc5)]/0x3e8/0x3c)+_0x5d7f76(0xae)),console[_0x5d7f76(0x93)](_0x5d7f76(0x91)+this[_0x5d7f76(0xbf)]),this[_0x5d7f76(0xb1)]()['then'](_0x49634c=>{const _0xb2617a=_0x5d7f76;if(!_0x49634c&&this[_0xb2617a(0x88)]>=this[_0xb2617a(0xbf)]){this[_0xb2617a(0x86)](_0xb2617a(0x74)+this['consecutiveFailures']+_0xb2617a(0x9c));return;}})['catch'](_0x5cd64c=>{const _0x3f6aa0=_0x5d7f76;console['error'](_0x3f6aa0(0xaf),_0x5cd64c);if(this[_0x3f6aa0(0x88)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x3f6aa0(0x86)](_0x3f6aa0(0xb5)+_0x5cd64c[_0x3f6aa0(0xb9)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x300812=_0x5d7f76;try{const _0x35060b=await this[_0x300812(0xb1)]();!_0x35060b&&(console[_0x300812(0x94)](_0x300812(0xba)+this['consecutiveFailures']+'/'+this[_0x300812(0xbf)]+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x300812(0x86)](_0x300812(0xbc)+this[_0x300812(0xc7)]+_0x300812(0x80)+this[_0x300812(0x88)]+_0x300812(0xc9)));}catch(_0x3a20eb){console[_0x300812(0x8d)](_0x300812(0x96),_0x3a20eb),this[_0x300812(0x88)]>=this[_0x300812(0xbf)]&&this[_0x300812(0x86)](_0x300812(0x98)+(_0x3a20eb instanceof Error?_0x3a20eb[_0x300812(0xb9)]:_0x300812(0xa9)));}},this[_0x5d7f76(0xc5)]),console[_0x5d7f76(0x93)](_0x5d7f76(0xb3));}[a37_0x5c5f8e(0x90)](){const _0x154f76=a37_0x5c5f8e;this['monitoringInterval']&&(clearInterval(this[_0x154f76(0xcb)]),this['monitoringInterval']=null,console[_0x154f76(0x93)](_0x154f76(0x7d)));}[a37_0x5c5f8e(0x87)](){const _0x5c9bf8=a37_0x5c5f8e;return{'isActive':!!this[_0x5c9bf8(0xcb)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x5c9bf8(0xa3)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x5c9bf8(0x88)],'maxFailuresAllowed':this[_0x5c9bf8(0xbf)],'nextCheckIn':this[_0x5c9bf8(0xcb)]?this[_0x5c9bf8(0xc5)]:undefined};}async['manualCheck'](){const _0x912de7=a37_0x5c5f8e;return console['log'](_0x912de7(0xcd)),await this['checkDomain']();}}exports[a37_0x5c5f8e(0x9d)]=DomainMonitoringService,exports[a37_0x5c5f8e(0x85)]=new DomainMonitoringService();