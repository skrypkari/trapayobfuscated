'use strict';const a39_0x131a14=a39_0x1dad;function a39_0x45c9(){const _0x4e651d=['1212654vvSQRW','stopMonitoring','headers','then','startMonitoring','MAX_CONSECUTIVE_FAILURES','124YRXlPN','random','7CDGspz','keep-alive','🚫\x20Connection\x20refused\x20by\x20','⏰\x20Check\x20interval:\x20','🔥\x20Unexpected\x20error:\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','ETIMEDOUT','5754096qstgck','🔓\x20Decoded\x20URL:\x20','1895718zEtyqp','Initial\x20domain\x20check\x20threw\x20error:\x20','domainMonitoringService','error','TesSoft\x20Domain\x20Monitor/1.0','utf-8','CHECK_INTERVAL_MS','round','🔧\x20Manual\x20domain\x20check\x20requested','\x20\x20\x20-\x20Response\x20time:\x20','6042104zgHmKF','🔥\x20Consecutive\x20failures:\x20','encodeToBase64','📡\x20Target:\x20','ENOTFOUND','entries','monitoringInterval','\x20consecutive\x20attempts','Domain\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','getMonitoringStats','💥\x20CRITICAL\x20ERROR:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','consecutiveFailures','warn','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','📝\x20Encoded\x20URL\x20(base64):\x20','\x20\x20\x20-\x20Headers:','🔍\x20Checking\x20domain\x20availability:\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','__importDefault','\x20minutes','⏰\x20Connection\x20timeout\x20to\x20','6078gsPeDJ','5nEEOSo','status','en-US,en;q=0.5','3211296Oiwfbs','DOMAIN_URL','\x20\x20\x20-\x20Status:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','getRandomInterval','manualCheck','GET','\x20times','ECONNREFUSED','checkDomain','defineProperty','now','__esModule','🚀\x20Starting\x20domain\x20monitoring\x20service','catch','3230790QNiXBX','crashServer','12PGFeKX','✅\x20Domain\x20check\x20successful:\x20','TIMEOUT_MS','DomainMonitoringService','📅\x20Crash\x20time:\x20','https://google.com','🛑\x20Domain\x20monitoring\x20stopped','Initial\x20domain\x20check\x20error:','Unknown\x20error','decodeFromBase64','AbortError','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','4qmOCoM','🔍\x20Domain\x20being\x20monitored:\x20','name','toISOString','base64','message','log','\x20is\x20not\x20responding\x20after\x20','from','📡\x20Target\x20domain:\x20','includes'];a39_0x45c9=function(){return _0x4e651d;};return a39_0x45c9();}(function(_0x1b63d6,_0x505c61){const _0x54ae1a=a39_0x1dad,_0x1ab63e=_0x1b63d6();while(!![]){try{const _0x4df4c3=parseInt(_0x54ae1a(0x160))/0x1*(parseInt(_0x54ae1a(0x192))/0x2)+parseInt(_0x54ae1a(0x13f))/0x3*(-parseInt(_0x54ae1a(0x181))/0x4)+-parseInt(_0x54ae1a(0x161))/0x5*(-parseInt(_0x54ae1a(0x18c))/0x6)+-parseInt(_0x54ae1a(0x194))/0x7*(parseInt(_0x54ae1a(0x149))/0x8)+parseInt(_0x54ae1a(0x19b))/0x9+parseInt(_0x54ae1a(0x173))/0xa+parseInt(_0x54ae1a(0x164))/0xb*(parseInt(_0x54ae1a(0x175))/0xc);if(_0x4df4c3===_0x505c61)break;else _0x1ab63e['push'](_0x1ab63e['shift']());}catch(_0x2f6ac6){_0x1ab63e['push'](_0x1ab63e['shift']());}}}(a39_0x45c9,0x6ceb7));var __importDefault=this&&this[a39_0x131a14(0x15d)]||function(_0x51e1ae){const _0x34a2e7=a39_0x131a14;return _0x51e1ae&&_0x51e1ae[_0x34a2e7(0x170)]?_0x51e1ae:{'default':_0x51e1ae};};Object[a39_0x131a14(0x16e)](exports,a39_0x131a14(0x170),{'value':!![]}),exports[a39_0x131a14(0x141)]=exports[a39_0x131a14(0x178)]=void 0x0;function a39_0x1dad(_0x3ab4b7,_0x29f279){const _0x45c925=a39_0x45c9();return a39_0x1dad=function(_0x1dad4b,_0x2165c5){_0x1dad4b=_0x1dad4b-0x13e;let _0x227676=_0x45c925[_0x1dad4b];return _0x227676;},a39_0x1dad(_0x3ab4b7,_0x29f279);}const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x15dfe1=a39_0x131a14;this[_0x15dfe1(0x14f)]=null,this[_0x15dfe1(0x165)]=_0x15dfe1(0x17a),this[_0x15dfe1(0x145)]=this[_0x15dfe1(0x168)](),this[_0x15dfe1(0x177)]=0x7530,this[_0x15dfe1(0x156)]=0x0,this[_0x15dfe1(0x191)]=0x2,console[_0x15dfe1(0x187)](_0x15dfe1(0x15c)),console[_0x15dfe1(0x187)](_0x15dfe1(0x18a)+this['DOMAIN_URL']),console[_0x15dfe1(0x187)](_0x15dfe1(0x197)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x15dfe1(0x15e));}[a39_0x131a14(0x168)](){const _0x13175a=a39_0x131a14,_0x4b295a=0xa,_0x518687=0xf,_0x27fd1f=Math[_0x13175a(0x193)]()*(_0x518687-_0x4b295a)+_0x4b295a;return Math['round'](_0x27fd1f*0x3c*0x3e8);}['encodeToBase64'](_0x463990){const _0x3481a6=a39_0x131a14;return Buffer[_0x3481a6(0x189)](_0x463990)['toString'](_0x3481a6(0x185));}[a39_0x131a14(0x17e)](_0x385d4f){const _0x3ff6db=a39_0x131a14;return Buffer[_0x3ff6db(0x189)](_0x385d4f,_0x3ff6db(0x185))['toString'](_0x3ff6db(0x144));}async[a39_0x131a14(0x16d)](){const _0x32af57=a39_0x131a14,_0x382abc=Date[_0x32af57(0x16f)]();try{console[_0x32af57(0x187)](_0x32af57(0x15b)+this[_0x32af57(0x165)]);const _0x103379=this[_0x32af57(0x14b)](this[_0x32af57(0x165)]);console[_0x32af57(0x187)](_0x32af57(0x159)+_0x103379);const _0x5900d3=this['decodeFromBase64'](_0x103379);console[_0x32af57(0x187)](_0x32af57(0x13e)+_0x5900d3);const _0x5256df=new AbortController(),_0x1d1862=setTimeout(()=>_0x5256df['abort'](),this['TIMEOUT_MS']),_0x15c7c2=await(0x0,node_fetch_1['default'])(_0x5900d3,{'method':_0x32af57(0x16a),'headers':{'User-Agent':_0x32af57(0x143),'Accept':_0x32af57(0x167),'Accept-Language':_0x32af57(0x163),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x32af57(0x195),'Upgrade-Insecure-Requests':'1'},'signal':_0x5256df['signal']});clearTimeout(_0x1d1862);const _0x276117=Date[_0x32af57(0x16f)]()-_0x382abc;return console['log']('📊\x20Response\x20received:'),console[_0x32af57(0x187)](_0x32af57(0x166)+_0x15c7c2['status']+'\x20'+_0x15c7c2['statusText']),console['log'](_0x32af57(0x148)+_0x276117+'ms'),console[_0x32af57(0x187)](_0x32af57(0x15a),Object['fromEntries'](_0x15c7c2[_0x32af57(0x18e)][_0x32af57(0x14e)]())),_0x15c7c2['ok']&&_0x15c7c2[_0x32af57(0x162)]>=0xc8&&_0x15c7c2[_0x32af57(0x162)]<0x190?(console[_0x32af57(0x187)](_0x32af57(0x176)+_0x15c7c2[_0x32af57(0x162)]+'\x20in\x20'+_0x276117+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x32af57(0x142)](_0x32af57(0x158)+_0x15c7c2['status']+'\x20'+_0x15c7c2['statusText']),this['consecutiveFailures']++,![]);}catch(_0x5bf31f){const _0xbaf19d=Date[_0x32af57(0x16f)]()-_0x382abc;this[_0x32af57(0x156)]++,console[_0x32af57(0x142)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0xbaf19d+'ms:',_0x5bf31f);if(_0x5bf31f instanceof Error){if(_0x5bf31f[_0x32af57(0x183)]===_0x32af57(0x17f))console['error']('⏰\x20Request\x20timeout\x20after\x20'+this[_0x32af57(0x177)]+'ms');else{if(_0x5bf31f[_0x32af57(0x186)][_0x32af57(0x18b)](_0x32af57(0x14d)))console[_0x32af57(0x142)](_0x32af57(0x155)+this['DOMAIN_URL']);else{if(_0x5bf31f[_0x32af57(0x186)][_0x32af57(0x18b)](_0x32af57(0x16c)))console['error'](_0x32af57(0x196)+this['DOMAIN_URL']);else _0x5bf31f['message'][_0x32af57(0x18b)](_0x32af57(0x19a))?console[_0x32af57(0x142)](_0x32af57(0x15f)+this['DOMAIN_URL']):console['error'](_0x32af57(0x198)+_0x5bf31f[_0x32af57(0x186)]);}}}return![];}}[a39_0x131a14(0x174)](_0x41a745){const _0x2a2594=a39_0x131a14;console[_0x2a2594(0x142)](_0x2a2594(0x154)+_0x41a745),console[_0x2a2594(0x142)](_0x2a2594(0x14a)+this[_0x2a2594(0x156)]),console['error'](_0x2a2594(0x180)),console[_0x2a2594(0x142)](_0x2a2594(0x179)+new Date()[_0x2a2594(0x184)]()),console['error'](_0x2a2594(0x182)+this[_0x2a2594(0x165)]),console['error'](_0x2a2594(0x197)+Math[_0x2a2594(0x146)](this[_0x2a2594(0x145)]/0x3e8/0x3c)+_0x2a2594(0x15e)),console[_0x2a2594(0x142)](_0x2a2594(0x152)+this[_0x2a2594(0x191)]),this['stopMonitoring'](),process['exit'](0x1);}[a39_0x131a14(0x190)](){const _0x2e2f50=a39_0x131a14;console[_0x2e2f50(0x187)](_0x2e2f50(0x171)),console[_0x2e2f50(0x187)](_0x2e2f50(0x14c)+this[_0x2e2f50(0x165)]),console[_0x2e2f50(0x187)]('⏰\x20Interval:\x20'+Math[_0x2e2f50(0x146)](this[_0x2e2f50(0x145)]/0x3e8/0x3c)+_0x2e2f50(0x15e)),console[_0x2e2f50(0x187)](_0x2e2f50(0x199)+this[_0x2e2f50(0x191)]),this[_0x2e2f50(0x16d)]()[_0x2e2f50(0x18f)](_0x55188a=>{const _0x43c794=_0x2e2f50;if(!_0x55188a&&this[_0x43c794(0x156)]>=this[_0x43c794(0x191)]){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this[_0x43c794(0x156)]+_0x43c794(0x16b));return;}})[_0x2e2f50(0x172)](_0x87c3=>{const _0x4d7079=_0x2e2f50;console[_0x4d7079(0x142)](_0x4d7079(0x17c),_0x87c3);if(this['consecutiveFailures']>=this[_0x4d7079(0x191)]){this[_0x4d7079(0x174)](_0x4d7079(0x140)+_0x87c3['message']);return;}}),this[_0x2e2f50(0x14f)]=setInterval(async()=>{const _0x28a258=_0x2e2f50;try{const _0x3c68d4=await this['checkDomain']();!_0x3c68d4&&(console[_0x28a258(0x157)]('⚠️\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x28a258(0x156)]>=this[_0x28a258(0x191)]&&this[_0x28a258(0x174)](_0x28a258(0x151)+this[_0x28a258(0x165)]+_0x28a258(0x188)+this['consecutiveFailures']+_0x28a258(0x150)));}catch(_0x5dbde2){console[_0x28a258(0x142)]('Periodic\x20domain\x20check\x20error:',_0x5dbde2),this[_0x28a258(0x156)]>=this[_0x28a258(0x191)]&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x5dbde2 instanceof Error?_0x5dbde2[_0x28a258(0x186)]:_0x28a258(0x17d)));}},this[_0x2e2f50(0x145)]),console[_0x2e2f50(0x187)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a39_0x131a14(0x18d)](){const _0x96f29a=a39_0x131a14;this[_0x96f29a(0x14f)]&&(clearInterval(this[_0x96f29a(0x14f)]),this[_0x96f29a(0x14f)]=null,console[_0x96f29a(0x187)](_0x96f29a(0x17b)));}[a39_0x131a14(0x153)](){const _0x503d96=a39_0x131a14;return{'isActive':!!this[_0x503d96(0x14f)],'targetDomain':this[_0x503d96(0x165)],'checkIntervalMinutes':Math[_0x503d96(0x146)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x503d96(0x156)],'maxFailuresAllowed':this[_0x503d96(0x191)],'nextCheckIn':this[_0x503d96(0x14f)]?this[_0x503d96(0x145)]:undefined};}async[a39_0x131a14(0x169)](){const _0x2bcff5=a39_0x131a14;return console['log'](_0x2bcff5(0x147)),await this['checkDomain']();}}exports[a39_0x131a14(0x178)]=DomainMonitoringService,exports[a39_0x131a14(0x141)]=new DomainMonitoringService();