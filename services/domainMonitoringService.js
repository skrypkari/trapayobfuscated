'use strict';const a42_0x497866=a42_0x5d89;(function(_0x47e87c,_0x3541f3){const _0x1a405b=a42_0x5d89,_0x3db957=_0x47e87c();while(!![]){try{const _0x3767bc=parseInt(_0x1a405b(0x183))/0x1+-parseInt(_0x1a405b(0x1ac))/0x2*(-parseInt(_0x1a405b(0x184))/0x3)+parseInt(_0x1a405b(0x1ae))/0x4+parseInt(_0x1a405b(0x1b9))/0x5+parseInt(_0x1a405b(0x179))/0x6*(parseInt(_0x1a405b(0x16e))/0x7)+parseInt(_0x1a405b(0x18c))/0x8*(-parseInt(_0x1a405b(0x1be))/0x9)+-parseInt(_0x1a405b(0x1af))/0xa;if(_0x3767bc===_0x3541f3)break;else _0x3db957['push'](_0x3db957['shift']());}catch(_0x551a1d){_0x3db957['push'](_0x3db957['shift']());}}}(a42_0x4cfb,0x27c96));function a42_0x5d89(_0x58953a,_0x4446e1){const _0x4cfbaa=a42_0x4cfb();return a42_0x5d89=function(_0x5d89dd,_0x17bbb7){_0x5d89dd=_0x5d89dd-0x169;let _0x5c969d=_0x4cfbaa[_0x5d89dd];return _0x5c969d;},a42_0x5d89(_0x58953a,_0x4446e1);}function a42_0x4cfb(){const _0x2d1baa=['decodeFromBase64','\x20minutes','📅\x20Crash\x20time:\x20','13005jdMSYF','🔧\x20Manual\x20domain\x20check\x20requested','Unknown\x20error','❌\x20Domain\x20check\x20error\x20after\x20','MAX_CONSECUTIVE_FAILURES','entries','14NxavGZ','from','then','manualCheck','⏰\x20Interval:\x20','💥\x20CRITICAL\x20ERROR:\x20','⚠️\x20Domain\x20check\x20failed\x20(','✅\x20Domain\x20monitoring\x20started\x20successfully','exit','TIMEOUT_MS','base64','100986mraSbC','🔥\x20Consecutive\x20failures:\x20','encodeToBase64','error','\x20times','round','consecutiveFailures','__importDefault','https://google.com','DOMAIN_URL','77384ycxXLe','327696gJkGzH','__esModule','domainMonitoringService','status','Initial\x20domain\x20check\x20failed\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','\x20\x20\x20-\x20Headers:','ms:','448XYkACd','Domain\x20','AbortError','Initial\x20domain\x20check\x20threw\x20error:\x20','🔥\x20Unexpected\x20error:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','gzip,\x20deflate','statusText','🌐\x20DNS\x20resolution\x20failed\x20for\x20','📡\x20Target\x20domain:\x20','toString','message','🔍\x20Checking\x20domain\x20availability:\x20','CHECK_INTERVAL_MS','GET','🔍\x20Domain\x20monitoring\x20service\x20initialized','stopMonitoring','abort','utf-8','DomainMonitoringService','monitoringInterval','crashServer','🔍\x20Domain\x20being\x20monitored:\x20','log','signal','checkDomain','📝\x20Encoded\x20URL\x20(base64):\x20','name','catch','getRandomInterval','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','keep-alive','2koPSQS','ENOTFOUND','851616BpRbdS','3834940RvMnfK','now','📊\x20Response\x20received:','random','🔓\x20Decoded\x20URL:\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','⏰\x20Check\x20interval:\x20','includes','getMonitoringStats','node-fetch','970990WUiGqC','📡\x20Target:\x20'];a42_0x4cfb=function(){return _0x2d1baa;};return a42_0x4cfb();}var __importDefault=this&&this[a42_0x497866(0x180)]||function(_0x4ea456){const _0x202c9f=a42_0x497866;return _0x4ea456&&_0x4ea456[_0x202c9f(0x185)]?_0x4ea456:{'default':_0x4ea456};};Object['defineProperty'](exports,a42_0x497866(0x185),{'value':!![]}),exports[a42_0x497866(0x186)]=exports[a42_0x497866(0x19f)]=void 0x0;const node_fetch_1=__importDefault(require(a42_0x497866(0x1b8)));class DomainMonitoringService{constructor(){const _0x1507a6=a42_0x497866;this[_0x1507a6(0x1a0)]=null,this[_0x1507a6(0x182)]=_0x1507a6(0x181),this[_0x1507a6(0x199)]=this[_0x1507a6(0x1a9)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x1507a6(0x16c)]=0x2,console[_0x1507a6(0x1a3)](_0x1507a6(0x19b)),console['log'](_0x1507a6(0x195)+this['DOMAIN_URL']),console[_0x1507a6(0x1a3)](_0x1507a6(0x1b5)+Math[_0x1507a6(0x17e)](this[_0x1507a6(0x199)]/0x3e8/0x3c)+_0x1507a6(0x1bc));}[a42_0x497866(0x1a9)](){const _0x3efd56=a42_0x497866,_0x3a3c5e=0xa,_0x3a3a4b=0xf,_0x22d2e6=Math[_0x3efd56(0x1b2)]()*(_0x3a3a4b-_0x3a3c5e)+_0x3a3c5e;return Math[_0x3efd56(0x17e)](_0x22d2e6*0x3c*0x3e8);}[a42_0x497866(0x17b)](_0x51f6d6){const _0x3a1a36=a42_0x497866;return Buffer[_0x3a1a36(0x16f)](_0x51f6d6)[_0x3a1a36(0x196)](_0x3a1a36(0x178));}[a42_0x497866(0x1bb)](_0x3bb1a0){const _0x16f919=a42_0x497866;return Buffer[_0x16f919(0x16f)](_0x3bb1a0,_0x16f919(0x178))[_0x16f919(0x196)](_0x16f919(0x19e));}async[a42_0x497866(0x1a5)](){const _0x4a410a=a42_0x497866,_0x18ec90=Date[_0x4a410a(0x1b0)]();try{console[_0x4a410a(0x1a3)](_0x4a410a(0x198)+this[_0x4a410a(0x182)]);const _0x415cce=this[_0x4a410a(0x17b)](this[_0x4a410a(0x182)]);console[_0x4a410a(0x1a3)](_0x4a410a(0x1a6)+_0x415cce);const _0x37336d=this[_0x4a410a(0x1bb)](_0x415cce);console[_0x4a410a(0x1a3)](_0x4a410a(0x1b3)+_0x37336d);const _0x4cae23=new AbortController(),_0x46f90e=setTimeout(()=>_0x4cae23[_0x4a410a(0x19d)](),this[_0x4a410a(0x177)]),_0x5e49d3=await(0x0,node_fetch_1['default'])(_0x37336d,{'method':_0x4a410a(0x19a),'headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':_0x4a410a(0x189),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x4a410a(0x192),'Connection':_0x4a410a(0x1ab),'Upgrade-Insecure-Requests':'1'},'signal':_0x4cae23[_0x4a410a(0x1a4)]});clearTimeout(_0x46f90e);const _0x46d3ab=Date[_0x4a410a(0x1b0)]()-_0x18ec90;return console[_0x4a410a(0x1a3)](_0x4a410a(0x1b1)),console[_0x4a410a(0x1a3)]('\x20\x20\x20-\x20Status:\x20'+_0x5e49d3['status']+'\x20'+_0x5e49d3[_0x4a410a(0x193)]),console['log']('\x20\x20\x20-\x20Response\x20time:\x20'+_0x46d3ab+'ms'),console[_0x4a410a(0x1a3)](_0x4a410a(0x18a),Object['fromEntries'](_0x5e49d3['headers'][_0x4a410a(0x16d)]())),_0x5e49d3['ok']&&_0x5e49d3[_0x4a410a(0x187)]>=0xc8&&_0x5e49d3[_0x4a410a(0x187)]<0x190?(console[_0x4a410a(0x1a3)]('✅\x20Domain\x20check\x20successful:\x20'+_0x5e49d3[_0x4a410a(0x187)]+'\x20in\x20'+_0x46d3ab+'ms'),this[_0x4a410a(0x17f)]=0x0,!![]):(console['error'](_0x4a410a(0x191)+_0x5e49d3[_0x4a410a(0x187)]+'\x20'+_0x5e49d3[_0x4a410a(0x193)]),this[_0x4a410a(0x17f)]++,![]);}catch(_0x23b7ba){const _0x6bd501=Date[_0x4a410a(0x1b0)]()-_0x18ec90;this[_0x4a410a(0x17f)]++,console[_0x4a410a(0x17c)](_0x4a410a(0x16b)+_0x6bd501+_0x4a410a(0x18b),_0x23b7ba);if(_0x23b7ba instanceof Error){if(_0x23b7ba[_0x4a410a(0x1a7)]===_0x4a410a(0x18e))console['error']('⏰\x20Request\x20timeout\x20after\x20'+this[_0x4a410a(0x177)]+'ms');else{if(_0x23b7ba['message']['includes'](_0x4a410a(0x1ad)))console[_0x4a410a(0x17c)](_0x4a410a(0x194)+this[_0x4a410a(0x182)]);else{if(_0x23b7ba['message'][_0x4a410a(0x1b6)]('ECONNREFUSED'))console[_0x4a410a(0x17c)]('🚫\x20Connection\x20refused\x20by\x20'+this[_0x4a410a(0x182)]);else _0x23b7ba[_0x4a410a(0x197)][_0x4a410a(0x1b6)]('ETIMEDOUT')?console[_0x4a410a(0x17c)]('⏰\x20Connection\x20timeout\x20to\x20'+this[_0x4a410a(0x182)]):console['error'](_0x4a410a(0x190)+_0x23b7ba[_0x4a410a(0x197)]);}}}return![];}}[a42_0x497866(0x1a1)](_0x2dfa51){const _0x388178=a42_0x497866;console['error'](_0x388178(0x173)+_0x2dfa51),console[_0x388178(0x17c)](_0x388178(0x17a)+this[_0x388178(0x17f)]),console[_0x388178(0x17c)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x388178(0x17c)](_0x388178(0x1bd)+new Date()['toISOString']()),console[_0x388178(0x17c)](_0x388178(0x1a2)+this[_0x388178(0x182)]),console[_0x388178(0x17c)](_0x388178(0x1b5)+Math['round'](this[_0x388178(0x199)]/0x3e8/0x3c)+'\x20minutes'),console[_0x388178(0x17c)](_0x388178(0x1aa)+this[_0x388178(0x16c)]),this[_0x388178(0x19c)](),process[_0x388178(0x176)](0x1);}['startMonitoring'](){const _0x13ec97=a42_0x497866;console['log']('🚀\x20Starting\x20domain\x20monitoring\x20service'),console['log'](_0x13ec97(0x1ba)+this[_0x13ec97(0x182)]),console['log'](_0x13ec97(0x172)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x13ec97(0x1a3)](_0x13ec97(0x1b4)+this[_0x13ec97(0x16c)]),this[_0x13ec97(0x1a5)]()[_0x13ec97(0x170)](_0xdd9bae=>{const _0x40ac2b=_0x13ec97;if(!_0xdd9bae&&this[_0x40ac2b(0x17f)]>=this[_0x40ac2b(0x16c)]){this[_0x40ac2b(0x1a1)](_0x40ac2b(0x188)+this[_0x40ac2b(0x17f)]+_0x40ac2b(0x17d));return;}})[_0x13ec97(0x1a8)](_0x267b3b=>{const _0x279471=_0x13ec97;console[_0x279471(0x17c)]('Initial\x20domain\x20check\x20error:',_0x267b3b);if(this[_0x279471(0x17f)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x279471(0x18f)+_0x267b3b[_0x279471(0x197)]);return;}}),this[_0x13ec97(0x1a0)]=setInterval(async()=>{const _0x2d3ea5=_0x13ec97;try{const _0x26cc53=await this[_0x2d3ea5(0x1a5)]();!_0x26cc53&&(console['warn'](_0x2d3ea5(0x174)+this[_0x2d3ea5(0x17f)]+'/'+this[_0x2d3ea5(0x16c)]+')'),this['consecutiveFailures']>=this[_0x2d3ea5(0x16c)]&&this[_0x2d3ea5(0x1a1)](_0x2d3ea5(0x18d)+this[_0x2d3ea5(0x182)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x2d3ea5(0x17f)]+'\x20consecutive\x20attempts'));}catch(_0x264950){console[_0x2d3ea5(0x17c)]('Periodic\x20domain\x20check\x20error:',_0x264950),this[_0x2d3ea5(0x17f)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x264950 instanceof Error?_0x264950[_0x2d3ea5(0x197)]:_0x2d3ea5(0x16a)));}},this[_0x13ec97(0x199)]),console[_0x13ec97(0x1a3)](_0x13ec97(0x175));}[a42_0x497866(0x19c)](){const _0xe79fdd=a42_0x497866;this['monitoringInterval']&&(clearInterval(this[_0xe79fdd(0x1a0)]),this['monitoringInterval']=null,console['log']('🛑\x20Domain\x20monitoring\x20stopped'));}[a42_0x497866(0x1b7)](){const _0xb25c02=a42_0x497866;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0xb25c02(0x182)],'checkIntervalMinutes':Math[_0xb25c02(0x17e)](this[_0xb25c02(0x199)]/0x3e8/0x3c),'consecutiveFailures':this[_0xb25c02(0x17f)],'maxFailuresAllowed':this[_0xb25c02(0x16c)],'nextCheckIn':this[_0xb25c02(0x1a0)]?this[_0xb25c02(0x199)]:undefined};}async[a42_0x497866(0x171)](){const _0x53e64a=a42_0x497866;return console[_0x53e64a(0x1a3)](_0x53e64a(0x169)),await this[_0x53e64a(0x1a5)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a42_0x497866(0x186)]=new DomainMonitoringService();