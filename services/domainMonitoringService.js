'use strict';const a40_0x342af6=a40_0x569a;function a40_0x440a(){const _0xfe267e=['TesSoft\x20Domain\x20Monitor/1.0','494980PkUoVi','TIMEOUT_MS','default','https://google.com','368958XcakdL','Periodic\x20domain\x20check\x20error:','DOMAIN_URL','utf-8','error','⏰\x20Request\x20timeout\x20after\x20','log','🚀\x20Starting\x20domain\x20monitoring\x20service','crashServer','🔧\x20Manual\x20domain\x20check\x20requested','MAX_CONSECUTIVE_FAILURES','monitoringInterval','1178799jVoOIz','CHECK_INTERVAL_MS','⚠️\x20Domain\x20check\x20failed\x20(','signal','exit','AbortError','headers','decodeFromBase64','__esModule','DomainMonitoringService','round','🛑\x20Domain\x20monitoring\x20stopped','node-fetch','ms:','Initial\x20domain\x20check\x20error:','includes','consecutiveFailures','\x20in\x20','\x20\x20\x20-\x20Response\x20time:\x20','2787723KibnbI','4SEtodz','✅\x20Domain\x20monitoring\x20started\x20successfully','Unknown\x20error','💥\x20CRITICAL\x20ERROR:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','base64','304vfBQqC','📊\x20Response\x20received:','abort','5453tkvKHY','gzip,\x20deflate','🔍\x20Domain\x20monitoring\x20service\x20initialized','📡\x20Target\x20domain:\x20','656840CxrkEG','getRandomInterval','📅\x20Crash\x20time:\x20','checkDomain','now','🔥\x20Unexpected\x20error:\x20','\x20consecutive\x20attempts','Domain\x20','status','🚨\x20Max\x20failures\x20before\x20crash:\x20','⏰\x20Check\x20interval:\x20','toString','fromEntries','encodeToBase64','\x20\x20\x20-\x20Status:\x20','618234cNQOWA','statusText','🚫\x20Connection\x20refused\x20by\x20','from','entries','⏰\x20Interval:\x20','🔍\x20Domain\x20being\x20monitored:\x20','\x20\x20\x20-\x20Headers:','📡\x20Target:\x20','__importDefault','\x20times','📝\x20Encoded\x20URL\x20(base64):\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','ETIMEDOUT','⏰\x20Connection\x20timeout\x20to\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','10QYNKTl','message','Initial\x20domain\x20check\x20failed\x20','domainMonitoringService','stopMonitoring','getMonitoringStats','catch','\x20minutes','Domain\x20monitoring\x20threw\x20error:\x20'];a40_0x440a=function(){return _0xfe267e;};return a40_0x440a();}(function(_0x2ece34,_0x3d76eb){const _0x2d42ff=a40_0x569a,_0x44a44d=_0x2ece34();while(!![]){try{const _0x2d1fdf=parseInt(_0x2d42ff(0x148))/0x1+-parseInt(_0x2d42ff(0x11b))/0x2+parseInt(_0x2d42ff(0x154))/0x3*(parseInt(_0x2d42ff(0x10e))/0x4)+parseInt(_0x2d42ff(0x13a))/0x5*(parseInt(_0x2d42ff(0x12a))/0x6)+parseInt(_0x2d42ff(0x117))/0x7*(-parseInt(_0x2d42ff(0x114))/0x8)+-parseInt(_0x2d42ff(0x10d))/0x9+-parseInt(_0x2d42ff(0x144))/0xa;if(_0x2d1fdf===_0x3d76eb)break;else _0x44a44d['push'](_0x44a44d['shift']());}catch(_0xd96b58){_0x44a44d['push'](_0x44a44d['shift']());}}}(a40_0x440a,0x3d34e));function a40_0x569a(_0x1e64fd,_0x5740c2){const _0x440a6b=a40_0x440a();return a40_0x569a=function(_0x569ab8,_0x126cec){_0x569ab8=_0x569ab8-0x106;let _0x182970=_0x440a6b[_0x569ab8];return _0x182970;},a40_0x569a(_0x1e64fd,_0x5740c2);}var __importDefault=this&&this[a40_0x342af6(0x133)]||function(_0x18be58){const _0x5acaf7=a40_0x342af6;return _0x18be58&&_0x18be58[_0x5acaf7(0x15c)]?_0x18be58:{'default':_0x18be58};};Object['defineProperty'](exports,a40_0x342af6(0x15c),{'value':!![]}),exports[a40_0x342af6(0x13d)]=exports[a40_0x342af6(0x15d)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x342af6(0x106)));class DomainMonitoringService{constructor(){const _0x5d302f=a40_0x342af6;this['monitoringInterval']=null,this[_0x5d302f(0x14a)]=_0x5d302f(0x147),this[_0x5d302f(0x155)]=this[_0x5d302f(0x11c)](),this[_0x5d302f(0x145)]=0x7530,this[_0x5d302f(0x10a)]=0x0,this[_0x5d302f(0x152)]=0x2,console[_0x5d302f(0x14e)](_0x5d302f(0x119)),console[_0x5d302f(0x14e)](_0x5d302f(0x11a)+this[_0x5d302f(0x14a)]),console['log'](_0x5d302f(0x125)+Math[_0x5d302f(0x15e)](this[_0x5d302f(0x155)]/0x3e8/0x3c)+'\x20minutes');}[a40_0x342af6(0x11c)](){const _0x4a399a=0xa,_0x28c04f=0xf,_0x1fea26=Math['random']()*(_0x28c04f-_0x4a399a)+_0x4a399a;return Math['round'](_0x1fea26*0x3c*0x3e8);}[a40_0x342af6(0x128)](_0x3e3a5c){const _0x5cb72a=a40_0x342af6;return Buffer[_0x5cb72a(0x12d)](_0x3e3a5c)[_0x5cb72a(0x126)](_0x5cb72a(0x113));}['decodeFromBase64'](_0x3d9ffa){const _0x3fe7a8=a40_0x342af6;return Buffer[_0x3fe7a8(0x12d)](_0x3d9ffa,_0x3fe7a8(0x113))[_0x3fe7a8(0x126)](_0x3fe7a8(0x14b));}async['checkDomain'](){const _0x10e49b=a40_0x342af6,_0x3d2890=Date[_0x10e49b(0x11f)]();try{console['log']('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x10e49b(0x14a)]);const _0x333a62=this['encodeToBase64'](this[_0x10e49b(0x14a)]);console[_0x10e49b(0x14e)](_0x10e49b(0x135)+_0x333a62);const _0x5853e7=this[_0x10e49b(0x15b)](_0x333a62);console[_0x10e49b(0x14e)]('🔓\x20Decoded\x20URL:\x20'+_0x5853e7);const _0x118a9f=new AbortController(),_0x44a18f=setTimeout(()=>_0x118a9f[_0x10e49b(0x116)](),this[_0x10e49b(0x145)]),_0x4d5f63=await(0x0,node_fetch_1[_0x10e49b(0x146)])(_0x5853e7,{'method':'GET','headers':{'User-Agent':_0x10e49b(0x143),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':'en-US,en;q=0.5','Accept-Encoding':_0x10e49b(0x118),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x118a9f[_0x10e49b(0x157)]});clearTimeout(_0x44a18f);const _0x99cb75=Date[_0x10e49b(0x11f)]()-_0x3d2890;return console[_0x10e49b(0x14e)](_0x10e49b(0x115)),console[_0x10e49b(0x14e)](_0x10e49b(0x129)+_0x4d5f63[_0x10e49b(0x123)]+'\x20'+_0x4d5f63[_0x10e49b(0x12b)]),console[_0x10e49b(0x14e)](_0x10e49b(0x10c)+_0x99cb75+'ms'),console[_0x10e49b(0x14e)](_0x10e49b(0x131),Object[_0x10e49b(0x127)](_0x4d5f63[_0x10e49b(0x15a)][_0x10e49b(0x12e)]())),_0x4d5f63['ok']&&_0x4d5f63[_0x10e49b(0x123)]>=0xc8&&_0x4d5f63['status']<0x190?(console[_0x10e49b(0x14e)]('✅\x20Domain\x20check\x20successful:\x20'+_0x4d5f63[_0x10e49b(0x123)]+_0x10e49b(0x10b)+_0x99cb75+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x10e49b(0x14c)](_0x10e49b(0x136)+_0x4d5f63[_0x10e49b(0x123)]+'\x20'+_0x4d5f63['statusText']),this[_0x10e49b(0x10a)]++,![]);}catch(_0x424c81){const _0x3f3fbe=Date[_0x10e49b(0x11f)]()-_0x3d2890;this[_0x10e49b(0x10a)]++,console[_0x10e49b(0x14c)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x3f3fbe+_0x10e49b(0x107),_0x424c81);if(_0x424c81 instanceof Error){if(_0x424c81['name']===_0x10e49b(0x159))console['error'](_0x10e49b(0x14d)+this[_0x10e49b(0x145)]+'ms');else{if(_0x424c81[_0x10e49b(0x13b)][_0x10e49b(0x109)]('ENOTFOUND'))console['error'](_0x10e49b(0x112)+this[_0x10e49b(0x14a)]);else{if(_0x424c81[_0x10e49b(0x13b)][_0x10e49b(0x109)]('ECONNREFUSED'))console[_0x10e49b(0x14c)](_0x10e49b(0x12c)+this[_0x10e49b(0x14a)]);else _0x424c81['message'][_0x10e49b(0x109)](_0x10e49b(0x137))?console[_0x10e49b(0x14c)](_0x10e49b(0x138)+this[_0x10e49b(0x14a)]):console[_0x10e49b(0x14c)](_0x10e49b(0x120)+_0x424c81[_0x10e49b(0x13b)]);}}}return![];}}[a40_0x342af6(0x150)](_0x3cd1ea){const _0x2cb255=a40_0x342af6;console[_0x2cb255(0x14c)](_0x2cb255(0x111)+_0x3cd1ea),console[_0x2cb255(0x14c)]('🔥\x20Consecutive\x20failures:\x20'+this[_0x2cb255(0x10a)]),console['error']('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x2cb255(0x14c)](_0x2cb255(0x11d)+new Date()['toISOString']()),console[_0x2cb255(0x14c)](_0x2cb255(0x130)+this['DOMAIN_URL']),console['error'](_0x2cb255(0x125)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x2cb255(0x14c)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x2cb255(0x152)]),this[_0x2cb255(0x13e)](),process[_0x2cb255(0x158)](0x1);}['startMonitoring'](){const _0x272c46=a40_0x342af6;console[_0x272c46(0x14e)](_0x272c46(0x14f)),console[_0x272c46(0x14e)](_0x272c46(0x132)+this[_0x272c46(0x14a)]),console[_0x272c46(0x14e)](_0x272c46(0x12f)+Math[_0x272c46(0x15e)](this[_0x272c46(0x155)]/0x3e8/0x3c)+_0x272c46(0x141)),console[_0x272c46(0x14e)](_0x272c46(0x124)+this[_0x272c46(0x152)]),this[_0x272c46(0x11e)]()['then'](_0x2b4f4d=>{const _0x256eb3=_0x272c46;if(!_0x2b4f4d&&this['consecutiveFailures']>=this[_0x256eb3(0x152)]){this[_0x256eb3(0x150)](_0x256eb3(0x13c)+this['consecutiveFailures']+_0x256eb3(0x134));return;}})[_0x272c46(0x140)](_0x2f7df6=>{const _0x489d49=_0x272c46;console[_0x489d49(0x14c)](_0x489d49(0x108),_0x2f7df6);if(this[_0x489d49(0x10a)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x489d49(0x150)](_0x489d49(0x139)+_0x2f7df6[_0x489d49(0x13b)]);return;}}),this[_0x272c46(0x153)]=setInterval(async()=>{const _0x1fb3d9=_0x272c46;try{const _0x453ed6=await this[_0x1fb3d9(0x11e)]();!_0x453ed6&&(console['warn'](_0x1fb3d9(0x156)+this['consecutiveFailures']+'/'+this[_0x1fb3d9(0x152)]+')'),this['consecutiveFailures']>=this[_0x1fb3d9(0x152)]&&this[_0x1fb3d9(0x150)](_0x1fb3d9(0x122)+this[_0x1fb3d9(0x14a)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x1fb3d9(0x10a)]+_0x1fb3d9(0x121)));}catch(_0x1bf86d){console[_0x1fb3d9(0x14c)](_0x1fb3d9(0x149),_0x1bf86d),this['consecutiveFailures']>=this[_0x1fb3d9(0x152)]&&this[_0x1fb3d9(0x150)](_0x1fb3d9(0x142)+(_0x1bf86d instanceof Error?_0x1bf86d[_0x1fb3d9(0x13b)]:_0x1fb3d9(0x110)));}},this[_0x272c46(0x155)]),console[_0x272c46(0x14e)](_0x272c46(0x10f));}[a40_0x342af6(0x13e)](){const _0x464f6d=a40_0x342af6;this['monitoringInterval']&&(clearInterval(this[_0x464f6d(0x153)]),this[_0x464f6d(0x153)]=null,console[_0x464f6d(0x14e)](_0x464f6d(0x15f)));}[a40_0x342af6(0x13f)](){const _0x3a957e=a40_0x342af6;return{'isActive':!!this[_0x3a957e(0x153)],'targetDomain':this[_0x3a957e(0x14a)],'checkIntervalMinutes':Math[_0x3a957e(0x15e)](this[_0x3a957e(0x155)]/0x3e8/0x3c),'consecutiveFailures':this[_0x3a957e(0x10a)],'maxFailuresAllowed':this[_0x3a957e(0x152)],'nextCheckIn':this['monitoringInterval']?this[_0x3a957e(0x155)]:undefined};}async['manualCheck'](){const _0x51f74d=a40_0x342af6;return console['log'](_0x51f74d(0x151)),await this[_0x51f74d(0x11e)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a40_0x342af6(0x13d)]=new DomainMonitoringService();