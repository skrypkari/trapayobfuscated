'use strict';function a39_0x1325(){const _0x3cb679=['🚨\x20Max\x20failures\x20before\x20crash:\x20','random','consecutiveFailures','__esModule','🛑\x20Domain\x20monitoring\x20stopped','⏰\x20Check\x20interval:\x20','name','domainMonitoringService','🔥\x20Consecutive\x20failures:\x20','defineProperty','12ZIILuv','🚫\x20Connection\x20refused\x20by\x20','decodeFromBase64','117675sIiXVP','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','✅\x20Domain\x20monitoring\x20started\x20successfully','MAX_CONSECUTIVE_FAILURES','⏰\x20Connection\x20timeout\x20to\x20','Unknown\x20error','now','includes','CHECK_INTERVAL_MS','then','statusText','✅\x20Domain\x20check\x20successful:\x20','toISOString','stopMonitoring','842772hSxTHt','headers','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','from','\x20\x20\x20-\x20Response\x20time:\x20','\x20in\x20','startMonitoring','\x20\x20\x20-\x20Headers:','en-US,en;q=0.5','__importDefault','⏰\x20Interval:\x20','round','TIMEOUT_MS','abort','📝\x20Encoded\x20URL\x20(base64):\x20','243272wumtlU','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ENOTFOUND','⚠️\x20Domain\x20check\x20failed\x20(','🔥\x20Unexpected\x20error:\x20','catch','🔍\x20Domain\x20monitoring\x20service\x20initialized','message','1164390wgUMOs','encodeToBase64','getRandomInterval','monitoringInterval','📡\x20Target:\x20','40XnsYrx','🚀\x20Starting\x20domain\x20monitoring\x20service','Initial\x20domain\x20check\x20threw\x20error:\x20','keep-alive','🌐\x20DNS\x20resolution\x20failed\x20for\x20','Initial\x20domain\x20check\x20failed\x20','💥\x20CRITICAL\x20ERROR:\x20','155646raggGF','base64','📊\x20Response\x20received:','entries','📡\x20Target\x20domain:\x20','DOMAIN_URL','\x20minutes','crashServer','getMonitoringStats','\x20times','1156364YSDhiz','174214YZYLhU','Initial\x20domain\x20check\x20error:','AbortError','TesSoft\x20Domain\x20Monitor/1.0','ETIMEDOUT','https://google.com','status','\x20consecutive\x20attempts','5XEyBzr','54azOCqU','toString','🔓\x20Decoded\x20URL:\x20','error','checkDomain','GET','log'];a39_0x1325=function(){return _0x3cb679;};return a39_0x1325();}const a39_0x3d68aa=a39_0x20f8;function a39_0x20f8(_0x3ef810,_0x241c9e){const _0x132597=a39_0x1325();return a39_0x20f8=function(_0x20f812,_0x1bf655){_0x20f812=_0x20f812-0xfc;let _0x4077e8=_0x132597[_0x20f812];return _0x4077e8;},a39_0x20f8(_0x3ef810,_0x241c9e);}(function(_0x38c97d,_0x25285a){const _0x2a5dbd=a39_0x20f8,_0x26d378=_0x38c97d();while(!![]){try{const _0x596e8b=-parseInt(_0x2a5dbd(0x11a))/0x1+-parseInt(_0x2a5dbd(0xfd))/0x2+-parseInt(_0x2a5dbd(0x14b))/0x3*(-parseInt(_0x2a5dbd(0x117))/0x4)+parseInt(_0x2a5dbd(0x105))/0x5*(-parseInt(_0x2a5dbd(0x13f))/0x6)+parseInt(_0x2a5dbd(0x128))/0x7+-parseInt(_0x2a5dbd(0x137))/0x8*(parseInt(_0x2a5dbd(0x106))/0x9)+parseInt(_0x2a5dbd(0x144))/0xa*(parseInt(_0x2a5dbd(0xfc))/0xb);if(_0x596e8b===_0x25285a)break;else _0x26d378['push'](_0x26d378['shift']());}catch(_0x5e130b){_0x26d378['push'](_0x26d378['shift']());}}}(a39_0x1325,0x1c225));var __importDefault=this&&this[a39_0x3d68aa(0x131)]||function(_0x2dc908){const _0x42e34b=a39_0x3d68aa;return _0x2dc908&&_0x2dc908[_0x42e34b(0x110)]?_0x2dc908:{'default':_0x2dc908};};Object[a39_0x3d68aa(0x116)](exports,a39_0x3d68aa(0x110),{'value':!![]}),exports[a39_0x3d68aa(0x114)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x23682b=a39_0x3d68aa;this[_0x23682b(0x142)]=null,this[_0x23682b(0x150)]=_0x23682b(0x102),this[_0x23682b(0x122)]=this['getRandomInterval'](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x23682b(0x11d)]=0x2,console['log'](_0x23682b(0x13d)),console[_0x23682b(0x10c)](_0x23682b(0x14f)+this['DOMAIN_URL']),console[_0x23682b(0x10c)]('⏰\x20Check\x20interval:\x20'+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes');}[a39_0x3d68aa(0x141)](){const _0x3b2460=a39_0x3d68aa,_0x4b79d8=0xa,_0x62c853=0xf,_0x531c4f=Math[_0x3b2460(0x10e)]()*(_0x62c853-_0x4b79d8)+_0x4b79d8;return Math[_0x3b2460(0x133)](_0x531c4f*0x3c*0x3e8);}[a39_0x3d68aa(0x140)](_0x3f0d43){const _0x4a7211=a39_0x3d68aa;return Buffer[_0x4a7211(0x12b)](_0x3f0d43)[_0x4a7211(0x107)](_0x4a7211(0x14c));}[a39_0x3d68aa(0x119)](_0x3b6940){const _0x18a926=a39_0x3d68aa;return Buffer[_0x18a926(0x12b)](_0x3b6940,_0x18a926(0x14c))[_0x18a926(0x107)]('utf-8');}async[a39_0x3d68aa(0x10a)](){const _0x38f6dd=a39_0x3d68aa,_0x4f5452=Date[_0x38f6dd(0x120)]();try{console[_0x38f6dd(0x10c)]('🔍\x20Checking\x20domain\x20availability:\x20'+this[_0x38f6dd(0x150)]);const _0xcd31d4=this['encodeToBase64'](this[_0x38f6dd(0x150)]);console[_0x38f6dd(0x10c)](_0x38f6dd(0x136)+_0xcd31d4);const _0x423693=this[_0x38f6dd(0x119)](_0xcd31d4);console[_0x38f6dd(0x10c)](_0x38f6dd(0x108)+_0x423693);const _0xe3283e=new AbortController(),_0x420b10=setTimeout(()=>_0xe3283e[_0x38f6dd(0x135)](),this[_0x38f6dd(0x134)]),_0x5b2b55=await(0x0,node_fetch_1['default'])(_0x423693,{'method':_0x38f6dd(0x10b),'headers':{'User-Agent':_0x38f6dd(0x100),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x38f6dd(0x130),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x38f6dd(0x147),'Upgrade-Insecure-Requests':'1'},'signal':_0xe3283e['signal']});clearTimeout(_0x420b10);const _0x3e71ba=Date[_0x38f6dd(0x120)]()-_0x4f5452;return console[_0x38f6dd(0x10c)](_0x38f6dd(0x14d)),console[_0x38f6dd(0x10c)]('\x20\x20\x20-\x20Status:\x20'+_0x5b2b55[_0x38f6dd(0x103)]+'\x20'+_0x5b2b55['statusText']),console['log'](_0x38f6dd(0x12c)+_0x3e71ba+'ms'),console[_0x38f6dd(0x10c)](_0x38f6dd(0x12f),Object['fromEntries'](_0x5b2b55[_0x38f6dd(0x129)][_0x38f6dd(0x14e)]())),_0x5b2b55['ok']&&_0x5b2b55['status']>=0xc8&&_0x5b2b55['status']<0x190?(console[_0x38f6dd(0x10c)](_0x38f6dd(0x125)+_0x5b2b55[_0x38f6dd(0x103)]+_0x38f6dd(0x12d)+_0x3e71ba+'ms'),this[_0x38f6dd(0x10f)]=0x0,!![]):(console[_0x38f6dd(0x109)](_0x38f6dd(0x12a)+_0x5b2b55[_0x38f6dd(0x103)]+'\x20'+_0x5b2b55[_0x38f6dd(0x124)]),this[_0x38f6dd(0x10f)]++,![]);}catch(_0x152cb2){const _0x233023=Date['now']()-_0x4f5452;this[_0x38f6dd(0x10f)]++,console[_0x38f6dd(0x109)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x233023+'ms:',_0x152cb2);if(_0x152cb2 instanceof Error){if(_0x152cb2[_0x38f6dd(0x113)]===_0x38f6dd(0xff))console[_0x38f6dd(0x109)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x38f6dd(0x134)]+'ms');else{if(_0x152cb2[_0x38f6dd(0x13e)]['includes'](_0x38f6dd(0x139)))console[_0x38f6dd(0x109)](_0x38f6dd(0x148)+this['DOMAIN_URL']);else{if(_0x152cb2[_0x38f6dd(0x13e)][_0x38f6dd(0x121)]('ECONNREFUSED'))console['error'](_0x38f6dd(0x118)+this[_0x38f6dd(0x150)]);else _0x152cb2[_0x38f6dd(0x13e)]['includes'](_0x38f6dd(0x101))?console['error'](_0x38f6dd(0x11e)+this[_0x38f6dd(0x150)]):console[_0x38f6dd(0x109)](_0x38f6dd(0x13b)+_0x152cb2[_0x38f6dd(0x13e)]);}}}return![];}}[a39_0x3d68aa(0x152)](_0x38e4b3){const _0x3558b8=a39_0x3d68aa;console['error'](_0x3558b8(0x14a)+_0x38e4b3),console[_0x3558b8(0x109)](_0x3558b8(0x115)+this['consecutiveFailures']),console[_0x3558b8(0x109)](_0x3558b8(0x11b)),console[_0x3558b8(0x109)]('📅\x20Crash\x20time:\x20'+new Date()[_0x3558b8(0x126)]()),console[_0x3558b8(0x109)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0x3558b8(0x150)]),console[_0x3558b8(0x109)](_0x3558b8(0x112)+Math['round'](this[_0x3558b8(0x122)]/0x3e8/0x3c)+'\x20minutes'),console[_0x3558b8(0x109)](_0x3558b8(0x138)+this[_0x3558b8(0x11d)]),this[_0x3558b8(0x127)](),process['exit'](0x1);}[a39_0x3d68aa(0x12e)](){const _0xd651b4=a39_0x3d68aa;console[_0xd651b4(0x10c)](_0xd651b4(0x145)),console[_0xd651b4(0x10c)](_0xd651b4(0x143)+this[_0xd651b4(0x150)]),console[_0xd651b4(0x10c)](_0xd651b4(0x132)+Math[_0xd651b4(0x133)](this[_0xd651b4(0x122)]/0x3e8/0x3c)+_0xd651b4(0x151)),console[_0xd651b4(0x10c)](_0xd651b4(0x10d)+this[_0xd651b4(0x11d)]),this[_0xd651b4(0x10a)]()[_0xd651b4(0x123)](_0xb2079c=>{const _0x566942=_0xd651b4;if(!_0xb2079c&&this[_0x566942(0x10f)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x566942(0x152)](_0x566942(0x149)+this[_0x566942(0x10f)]+_0x566942(0x154));return;}})[_0xd651b4(0x13c)](_0x4b8fbc=>{const _0x4c8cc2=_0xd651b4;console[_0x4c8cc2(0x109)](_0x4c8cc2(0xfe),_0x4b8fbc);if(this[_0x4c8cc2(0x10f)]>=this[_0x4c8cc2(0x11d)]){this[_0x4c8cc2(0x152)](_0x4c8cc2(0x146)+_0x4b8fbc['message']);return;}}),this[_0xd651b4(0x142)]=setInterval(async()=>{const _0x2a6671=_0xd651b4;try{const _0xc3d687=await this['checkDomain']();!_0xc3d687&&(console['warn'](_0x2a6671(0x13a)+this[_0x2a6671(0x10f)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x2a6671(0x152)]('Domain\x20'+this[_0x2a6671(0x150)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x2a6671(0x10f)]+_0x2a6671(0x104)));}catch(_0x1f9f95){console[_0x2a6671(0x109)]('Periodic\x20domain\x20check\x20error:',_0x1f9f95),this['consecutiveFailures']>=this[_0x2a6671(0x11d)]&&this[_0x2a6671(0x152)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x1f9f95 instanceof Error?_0x1f9f95[_0x2a6671(0x13e)]:_0x2a6671(0x11f)));}},this[_0xd651b4(0x122)]),console['log'](_0xd651b4(0x11c));}[a39_0x3d68aa(0x127)](){const _0x3df4bd=a39_0x3d68aa;this['monitoringInterval']&&(clearInterval(this[_0x3df4bd(0x142)]),this[_0x3df4bd(0x142)]=null,console[_0x3df4bd(0x10c)](_0x3df4bd(0x111)));}[a39_0x3d68aa(0x153)](){const _0x468814=a39_0x3d68aa;return{'isActive':!!this[_0x468814(0x142)],'targetDomain':this[_0x468814(0x150)],'checkIntervalMinutes':Math[_0x468814(0x133)](this[_0x468814(0x122)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x468814(0x11d)],'nextCheckIn':this['monitoringInterval']?this[_0x468814(0x122)]:undefined};}async['manualCheck'](){const _0x3a07c1=a39_0x3d68aa;return console[_0x3a07c1(0x10c)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this['checkDomain']();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();