'use strict';const a50_0x926f96=a50_0x317e;(function(_0x37de10,_0x3395cf){const _0xcea597=a50_0x317e,_0x1ece3b=_0x37de10();while(!![]){try{const _0x5afca=parseInt(_0xcea597(0xa2))/0x1+-parseInt(_0xcea597(0x74))/0x2*(parseInt(_0xcea597(0x8d))/0x3)+-parseInt(_0xcea597(0x77))/0x4*(-parseInt(_0xcea597(0xa7))/0x5)+-parseInt(_0xcea597(0x84))/0x6+-parseInt(_0xcea597(0x65))/0x7*(-parseInt(_0xcea597(0xae))/0x8)+-parseInt(_0xcea597(0x87))/0x9*(-parseInt(_0xcea597(0x81))/0xa)+-parseInt(_0xcea597(0x7b))/0xb;if(_0x5afca===_0x3395cf)break;else _0x1ece3b['push'](_0x1ece3b['shift']());}catch(_0x2a2d6c){_0x1ece3b['push'](_0x1ece3b['shift']());}}}(a50_0x3132,0x3fd35));function a50_0x317e(_0xd58f2,_0x5e012b){_0xd58f2=_0xd58f2-0x64;const _0x3132f6=a50_0x3132();let _0x317e9a=_0x3132f6[_0xd58f2];return _0x317e9a;}var __importDefault=this&&this[a50_0x926f96(0xa5)]||function(_0x36542e){return _0x36542e&&_0x36542e['__esModule']?_0x36542e:{'default':_0x36542e};};Object[a50_0x926f96(0x8b)](exports,'__esModule',{'value':!![]}),exports[a50_0x926f96(0xc0)]=exports[a50_0x926f96(0xb8)]=void 0x0;function a50_0x3132(){const _0x2d561e=['ðŸ“…\x20Crash\x20time:\x20','statusText','â°\x20Request\x20timeout\x20after\x20','183952THDCow','base64','headers','__importDefault','ðŸ”\x20Domain\x20being\x20monitored:\x20','505PZRAwJ','âŒ\x20Domain\x20check\x20error\x20after\x20','keep-alive','Initial\x20domain\x20check\x20threw\x20error:\x20','getRandomInterval','ðŸ”¥\x20Unexpected\x20error:\x20','CHECK_INTERVAL_MS','41752FAxLaf','exit','toString','\x20in\x20','entries','ðŸ”“\x20Decoded\x20URL:\x20','message','encodeToBase64','â°\x20Interval:\x20','Initial\x20domain\x20check\x20error:','DomainMonitoringService','manualCheck','GET','random','ms:','now','\x20\x20\x20-\x20Response\x20time:\x20','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','domainMonitoringService','Domain\x20','49MkVLSH','log','\x20is\x20not\x20responding\x20after\x20','â°\x20Check\x20interval:\x20','ðŸ”\x20Checking\x20domain\x20availability:\x20','round','stopMonitoring','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','includes','ðŸ“¡\x20Target\x20domain:\x20','node-fetch','ETIMEDOUT','monitoringInterval','https://google.com','toISOString','20974THtELm','ECONNREFUSED','Unknown\x20error','2972pxSMNb','TIMEOUT_MS','getMonitoringStats','checkDomain','1240360OoJZjt','AbortError','error','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','MAX_CONSECUTIVE_FAILURES','1575430eHAPLV','\x20consecutive\x20attempts','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','413226sXkMjE','from','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','27OmkLuu','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','decodeFromBase64','defineProperty','DOMAIN_URL','93whqfLH','crashServer','status','consecutiveFailures','\x20minutes','Domain\x20monitoring\x20threw\x20error:\x20','\x20times','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','name','startMonitoring','fromEntries','ENOTFOUND','utf-8','\x20\x20\x20-\x20Status:\x20','âš ï¸\x20Domain\x20check\x20failed\x20(','â°\x20Connection\x20timeout\x20to\x20','warn','Periodic\x20domain\x20check\x20error:'];a50_0x3132=function(){return _0x2d561e;};return a50_0x3132();}const node_fetch_1=__importDefault(require(a50_0x926f96(0x6f)));class DomainMonitoringService{constructor(){const _0x30ffcd=a50_0x926f96;this['monitoringInterval']=null,this[_0x30ffcd(0x8c)]=_0x30ffcd(0x72),this['CHECK_INTERVAL_MS']=this[_0x30ffcd(0xab)](),this[_0x30ffcd(0x78)]=0x7530,this['consecutiveFailures']=0x0,this[_0x30ffcd(0x80)]=0x2,console[_0x30ffcd(0x66)](_0x30ffcd(0x83)),console[_0x30ffcd(0x66)](_0x30ffcd(0x6e)+this[_0x30ffcd(0x8c)]),console[_0x30ffcd(0x66)](_0x30ffcd(0x68)+Math[_0x30ffcd(0x6a)](this[_0x30ffcd(0xad)]/0x3e8/0x3c)+_0x30ffcd(0x91));}[a50_0x926f96(0xab)](){const _0x15280d=a50_0x926f96,_0x3316ce=0xa,_0x73c493=0xf,_0x1b9cf2=Math[_0x15280d(0xbb)]()*(_0x73c493-_0x3316ce)+_0x3316ce;return Math[_0x15280d(0x6a)](_0x1b9cf2*0x3c*0x3e8);}[a50_0x926f96(0xb5)](_0x50fee0){const _0x23d829=a50_0x926f96;return Buffer[_0x23d829(0x85)](_0x50fee0)[_0x23d829(0xb0)]('base64');}[a50_0x926f96(0x8a)](_0x779078){const _0x10d5ba=a50_0x926f96;return Buffer['from'](_0x779078,_0x10d5ba(0xa3))[_0x10d5ba(0xb0)](_0x10d5ba(0x99));}async[a50_0x926f96(0x7a)](){const _0x183af8=a50_0x926f96,_0x3e542c=Date[_0x183af8(0xbd)]();try{console[_0x183af8(0x66)](_0x183af8(0x69)+this[_0x183af8(0x8c)]);const _0x56be4c=this[_0x183af8(0xb5)](this['DOMAIN_URL']);console['log'](_0x183af8(0xbf)+_0x56be4c);const _0x41c968=this[_0x183af8(0x8a)](_0x56be4c);console[_0x183af8(0x66)](_0x183af8(0xb3)+_0x41c968);const _0x327ffb=new AbortController(),_0x32827d=setTimeout(()=>_0x327ffb['abort'](),this['TIMEOUT_MS']),_0x193ed3=await(0x0,node_fetch_1['default'])(_0x41c968,{'method':_0x183af8(0xba),'headers':{'User-Agent':'Domain\x20Monitor/1.0','Accept':_0x183af8(0x86),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0x183af8(0xa9),'Upgrade-Insecure-Requests':'1'},'signal':_0x327ffb['signal']});clearTimeout(_0x32827d);const _0x126360=Date[_0x183af8(0xbd)]()-_0x3e542c;return console['log']('ðŸ“Š\x20Response\x20received:'),console[_0x183af8(0x66)](_0x183af8(0x9a)+_0x193ed3[_0x183af8(0x8f)]+'\x20'+_0x193ed3[_0x183af8(0xa0)]),console[_0x183af8(0x66)](_0x183af8(0xbe)+_0x126360+'ms'),console[_0x183af8(0x66)]('\x20\x20\x20-\x20Headers:',Object[_0x183af8(0x97)](_0x193ed3[_0x183af8(0xa4)][_0x183af8(0xb2)]())),_0x193ed3['ok']&&_0x193ed3[_0x183af8(0x8f)]>=0xc8&&_0x193ed3[_0x183af8(0x8f)]<0x190?(console[_0x183af8(0x66)]('âœ…\x20Domain\x20check\x20successful:\x20'+_0x193ed3[_0x183af8(0x8f)]+_0x183af8(0xb1)+_0x126360+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error'](_0x183af8(0x6c)+_0x193ed3[_0x183af8(0x8f)]+'\x20'+_0x193ed3[_0x183af8(0xa0)]),this[_0x183af8(0x90)]++,![]);}catch(_0x3201cb){const _0x1c77b0=Date['now']()-_0x3e542c;this[_0x183af8(0x90)]++,console[_0x183af8(0x7d)](_0x183af8(0xa8)+_0x1c77b0+_0x183af8(0xbc),_0x3201cb);if(_0x3201cb instanceof Error){if(_0x3201cb[_0x183af8(0x95)]===_0x183af8(0x7c))console[_0x183af8(0x7d)](_0x183af8(0xa1)+this[_0x183af8(0x78)]+'ms');else{if(_0x3201cb[_0x183af8(0xb4)][_0x183af8(0x6d)](_0x183af8(0x98)))console[_0x183af8(0x7d)](_0x183af8(0x88)+this['DOMAIN_URL']);else{if(_0x3201cb['message'][_0x183af8(0x6d)](_0x183af8(0x75)))console[_0x183af8(0x7d)]('ðŸš«\x20Connection\x20refused\x20by\x20'+this[_0x183af8(0x8c)]);else _0x3201cb[_0x183af8(0xb4)]['includes'](_0x183af8(0x70))?console['error'](_0x183af8(0x9c)+this[_0x183af8(0x8c)]):console['error'](_0x183af8(0xac)+_0x3201cb[_0x183af8(0xb4)]);}}}return![];}}[a50_0x926f96(0x8e)](_0x576897){const _0x55ecf4=a50_0x926f96;console[_0x55ecf4(0x7d)](_0x55ecf4(0x94)+_0x576897),console[_0x55ecf4(0x7d)]('ðŸ”¥\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console[_0x55ecf4(0x7d)](_0x55ecf4(0x7e)),console[_0x55ecf4(0x7d)](_0x55ecf4(0x9f)+new Date()[_0x55ecf4(0x73)]()),console[_0x55ecf4(0x7d)](_0x55ecf4(0xa6)+this[_0x55ecf4(0x8c)]),console[_0x55ecf4(0x7d)]('â°\x20Check\x20interval:\x20'+Math[_0x55ecf4(0x6a)](this[_0x55ecf4(0xad)]/0x3e8/0x3c)+_0x55ecf4(0x91)),console[_0x55ecf4(0x7d)](_0x55ecf4(0x89)+this[_0x55ecf4(0x80)]),this[_0x55ecf4(0x6b)](),process[_0x55ecf4(0xaf)](0x1);}[a50_0x926f96(0x96)](){const _0x5f2603=a50_0x926f96;console['log']('ðŸš€\x20Starting\x20domain\x20monitoring\x20service'),console[_0x5f2603(0x66)]('ðŸ“¡\x20Target:\x20'+this[_0x5f2603(0x8c)]),console[_0x5f2603(0x66)](_0x5f2603(0xb6)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+'\x20minutes'),console[_0x5f2603(0x66)](_0x5f2603(0x7f)+this[_0x5f2603(0x80)]),this['checkDomain']()['then'](_0x230cbc=>{const _0xb755a7=_0x5f2603;if(!_0x230cbc&&this[_0xb755a7(0x90)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0xb755a7(0x8e)]('Initial\x20domain\x20check\x20failed\x20'+this[_0xb755a7(0x90)]+_0xb755a7(0x93));return;}})['catch'](_0x7a38f2=>{const _0x50bf74=_0x5f2603;console['error'](_0x50bf74(0xb7),_0x7a38f2);if(this['consecutiveFailures']>=this[_0x50bf74(0x80)]){this['crashServer'](_0x50bf74(0xaa)+_0x7a38f2[_0x50bf74(0xb4)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x4c23c9=_0x5f2603;try{const _0x48135c=await this[_0x4c23c9(0x7a)]();!_0x48135c&&(console[_0x4c23c9(0x9d)](_0x4c23c9(0x9b)+this[_0x4c23c9(0x90)]+'/'+this[_0x4c23c9(0x80)]+')'),this[_0x4c23c9(0x90)]>=this[_0x4c23c9(0x80)]&&this[_0x4c23c9(0x8e)](_0x4c23c9(0x64)+this['DOMAIN_URL']+_0x4c23c9(0x67)+this[_0x4c23c9(0x90)]+_0x4c23c9(0x82)));}catch(_0x657e0b){console[_0x4c23c9(0x7d)](_0x4c23c9(0x9e),_0x657e0b),this[_0x4c23c9(0x90)]>=this[_0x4c23c9(0x80)]&&this['crashServer'](_0x4c23c9(0x92)+(_0x657e0b instanceof Error?_0x657e0b['message']:_0x4c23c9(0x76)));}},this[_0x5f2603(0xad)]),console[_0x5f2603(0x66)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a50_0x926f96(0x6b)](){const _0x4070e0=a50_0x926f96;this[_0x4070e0(0x71)]&&(clearInterval(this[_0x4070e0(0x71)]),this[_0x4070e0(0x71)]=null,console[_0x4070e0(0x66)]('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a50_0x926f96(0x79)](){const _0xe97d06=a50_0x926f96;return{'isActive':!!this[_0xe97d06(0x71)],'targetDomain':this[_0xe97d06(0x8c)],'checkIntervalMinutes':Math[_0xe97d06(0x6a)](this[_0xe97d06(0xad)]/0x3e8/0x3c),'consecutiveFailures':this[_0xe97d06(0x90)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0xe97d06(0x71)]?this['CHECK_INTERVAL_MS']:undefined};}async[a50_0x926f96(0xb9)](){const _0x31735d=a50_0x926f96;return console['log']('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x31735d(0x7a)]();}}exports[a50_0x926f96(0xb8)]=DomainMonitoringService,exports[a50_0x926f96(0xc0)]=new DomainMonitoringService();