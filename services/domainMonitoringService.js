'use strict';const a40_0x1b71f5=a40_0x9ced;(function(_0x3f4b28,_0x2e4ecf){const _0x540f59=a40_0x9ced,_0x2802de=_0x3f4b28();while(!![]){try{const _0x1fd153=parseInt(_0x540f59(0x116))/0x1+-parseInt(_0x540f59(0xf7))/0x2*(parseInt(_0x540f59(0xf6))/0x3)+parseInt(_0x540f59(0xe2))/0x4+-parseInt(_0x540f59(0xf5))/0x5*(-parseInt(_0x540f59(0x10b))/0x6)+parseInt(_0x540f59(0x10e))/0x7*(parseInt(_0x540f59(0xf3))/0x8)+parseInt(_0x540f59(0xd3))/0x9*(parseInt(_0x540f59(0xf9))/0xa)+-parseInt(_0x540f59(0xdf))/0xb*(parseInt(_0x540f59(0xf0))/0xc);if(_0x1fd153===_0x2e4ecf)break;else _0x2802de['push'](_0x2802de['shift']());}catch(_0x236c66){_0x2802de['push'](_0x2802de['shift']());}}}(a40_0x4aef,0xcee73));var __importDefault=this&&this[a40_0x1b71f5(0x110)]||function(_0x4dd9d1){const _0x5747ce=a40_0x1b71f5;return _0x4dd9d1&&_0x4dd9d1[_0x5747ce(0xe5)]?_0x4dd9d1:{'default':_0x4dd9d1};};Object[a40_0x1b71f5(0xec)](exports,a40_0x1b71f5(0xe5),{'value':!![]}),exports['domainMonitoringService']=exports[a40_0x1b71f5(0x119)]=void 0x0;const node_fetch_1=__importDefault(require(a40_0x1b71f5(0x101)));class DomainMonitoringService{constructor(){const _0x2b8d6e=a40_0x1b71f5;this[_0x2b8d6e(0xfc)]=null,this[_0x2b8d6e(0x11c)]=_0x2b8d6e(0x11e),this[_0x2b8d6e(0x118)]=this['getRandomInterval'](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this[_0x2b8d6e(0xe7)]=0x2,console[_0x2b8d6e(0x112)]('üîç\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x2b8d6e(0x112)](_0x2b8d6e(0x102)+this[_0x2b8d6e(0x11c)]),console[_0x2b8d6e(0x112)](_0x2b8d6e(0x127)+Math['round'](this[_0x2b8d6e(0x118)]/0x3e8/0x3c)+_0x2b8d6e(0x10a));}[a40_0x1b71f5(0xe4)](){const _0x17254b=a40_0x1b71f5,_0x57f0d9=0xa,_0x354556=0xf,_0x256da8=Math[_0x17254b(0x120)]()*(_0x354556-_0x57f0d9)+_0x57f0d9;return Math[_0x17254b(0xd7)](_0x256da8*0x3c*0x3e8);}[a40_0x1b71f5(0xfe)](_0x4d3caa){const _0x41aed8=a40_0x1b71f5;return Buffer[_0x41aed8(0xfb)](_0x4d3caa)[_0x41aed8(0x129)](_0x41aed8(0xd2));}[a40_0x1b71f5(0xe8)](_0x8efcfb){const _0x296ad8=a40_0x1b71f5;return Buffer[_0x296ad8(0xfb)](_0x8efcfb,_0x296ad8(0xd2))[_0x296ad8(0x129)](_0x296ad8(0xef));}async['checkDomain'](){const _0x3cdd7c=a40_0x1b71f5,_0x2ac3b9=Date[_0x3cdd7c(0xed)]();try{console[_0x3cdd7c(0x112)](_0x3cdd7c(0x109)+this[_0x3cdd7c(0x11c)]);const _0x29e96e=this['encodeToBase64'](this[_0x3cdd7c(0x11c)]);console[_0x3cdd7c(0x112)]('üìù\x20Encoded\x20URL\x20(base64):\x20'+_0x29e96e);const _0x4035e8=this[_0x3cdd7c(0xe8)](_0x29e96e);console[_0x3cdd7c(0x112)]('üîì\x20Decoded\x20URL:\x20'+_0x4035e8);const _0x4c21c7=new AbortController(),_0x421b02=setTimeout(()=>_0x4c21c7[_0x3cdd7c(0x115)](),this[_0x3cdd7c(0xd8)]),_0x3a5138=await(0x0,node_fetch_1[_0x3cdd7c(0xf8)])(_0x4035e8,{'method':_0x3cdd7c(0x124),'headers':{'User-Agent':_0x3cdd7c(0x126),'Accept':_0x3cdd7c(0xd9),'Accept-Language':'en-US,en;q=0.5','Accept-Encoding':'gzip,\x20deflate','Connection':_0x3cdd7c(0xdc),'Upgrade-Insecure-Requests':'1'},'signal':_0x4c21c7[_0x3cdd7c(0x10f)]});clearTimeout(_0x421b02);const _0x537b5e=Date['now']()-_0x2ac3b9;return console[_0x3cdd7c(0x112)]('üìä\x20Response\x20received:'),console[_0x3cdd7c(0x112)](_0x3cdd7c(0x103)+_0x3a5138[_0x3cdd7c(0x123)]+'\x20'+_0x3a5138[_0x3cdd7c(0x125)]),console[_0x3cdd7c(0x112)](_0x3cdd7c(0xff)+_0x537b5e+'ms'),console['log'](_0x3cdd7c(0xee),Object['fromEntries'](_0x3a5138[_0x3cdd7c(0x10c)][_0x3cdd7c(0xd4)]())),_0x3a5138['ok']&&_0x3a5138[_0x3cdd7c(0x123)]>=0xc8&&_0x3a5138[_0x3cdd7c(0x123)]<0x190?(console['log'](_0x3cdd7c(0x105)+_0x3a5138[_0x3cdd7c(0x123)]+'\x20in\x20'+_0x537b5e+'ms'),this[_0x3cdd7c(0x104)]=0x0,!![]):(console[_0x3cdd7c(0x122)](_0x3cdd7c(0x11f)+_0x3a5138[_0x3cdd7c(0x123)]+'\x20'+_0x3a5138['statusText']),this[_0x3cdd7c(0x104)]++,![]);}catch(_0x1a9a75){const _0x59009e=Date[_0x3cdd7c(0xed)]()-_0x2ac3b9;this[_0x3cdd7c(0x104)]++,console['error'](_0x3cdd7c(0xe6)+_0x59009e+_0x3cdd7c(0xe0),_0x1a9a75);if(_0x1a9a75 instanceof Error){if(_0x1a9a75['name']===_0x3cdd7c(0x100))console[_0x3cdd7c(0x122)]('‚è∞\x20Request\x20timeout\x20after\x20'+this[_0x3cdd7c(0xd8)]+'ms');else{if(_0x1a9a75[_0x3cdd7c(0x11a)]['includes']('ENOTFOUND'))console[_0x3cdd7c(0x122)](_0x3cdd7c(0x117)+this[_0x3cdd7c(0x11c)]);else{if(_0x1a9a75[_0x3cdd7c(0x11a)]['includes']('ECONNREFUSED'))console[_0x3cdd7c(0x122)](_0x3cdd7c(0xe3)+this[_0x3cdd7c(0x11c)]);else _0x1a9a75['message'][_0x3cdd7c(0xf2)](_0x3cdd7c(0xde))?console['error']('‚è∞\x20Connection\x20timeout\x20to\x20'+this[_0x3cdd7c(0x11c)]):console['error'](_0x3cdd7c(0x121)+_0x1a9a75['message']);}}}return![];}}[a40_0x1b71f5(0xe9)](_0xa6437d){const _0x346db8=a40_0x1b71f5;console[_0x346db8(0x122)](_0x346db8(0xfd)+_0xa6437d),console[_0x346db8(0x122)](_0x346db8(0xf4)+this['consecutiveFailures']),console[_0x346db8(0x122)](_0x346db8(0x113)),console[_0x346db8(0x122)](_0x346db8(0xdd)+new Date()[_0x346db8(0xda)]()),console['error']('üîç\x20Domain\x20being\x20monitored:\x20'+this[_0x346db8(0x11c)]),console[_0x346db8(0x122)](_0x346db8(0x127)+Math[_0x346db8(0xd7)](this[_0x346db8(0x118)]/0x3e8/0x3c)+_0x346db8(0x10a)),console[_0x346db8(0x122)](_0x346db8(0xd0)+this[_0x346db8(0xe7)]),this[_0x346db8(0xf1)](),process['exit'](0x1);}[a40_0x1b71f5(0xfa)](){const _0x3ef52e=a40_0x1b71f5;console[_0x3ef52e(0x112)](_0x3ef52e(0xdb)),console[_0x3ef52e(0x112)](_0x3ef52e(0xd6)+this[_0x3ef52e(0x11c)]),console[_0x3ef52e(0x112)]('‚è∞\x20Interval:\x20'+Math[_0x3ef52e(0xd7)](this[_0x3ef52e(0x118)]/0x3e8/0x3c)+'\x20minutes'),console[_0x3ef52e(0x112)](_0x3ef52e(0x107)+this[_0x3ef52e(0xe7)]),this['checkDomain']()[_0x3ef52e(0xe1)](_0xfb3659=>{const _0x2363cc=_0x3ef52e;if(!_0xfb3659&&this[_0x2363cc(0x104)]>=this[_0x2363cc(0xe7)]){this[_0x2363cc(0xe9)](_0x2363cc(0x106)+this['consecutiveFailures']+'\x20times');return;}})['catch'](_0x37aeb3=>{const _0x49869e=_0x3ef52e;console[_0x49869e(0x122)]('Initial\x20domain\x20check\x20error:',_0x37aeb3);if(this[_0x49869e(0x104)]>=this[_0x49869e(0xe7)]){this[_0x49869e(0xe9)](_0x49869e(0x114)+_0x37aeb3[_0x49869e(0x11a)]);return;}}),this[_0x3ef52e(0xfc)]=setInterval(async()=>{const _0x4672ee=_0x3ef52e;try{const _0x13c8d6=await this[_0x4672ee(0xd5)]();!_0x13c8d6&&(console[_0x4672ee(0x128)](_0x4672ee(0xd1)+this[_0x4672ee(0x104)]+'/'+this[_0x4672ee(0xe7)]+')'),this[_0x4672ee(0x104)]>=this[_0x4672ee(0xe7)]&&this[_0x4672ee(0xe9)](_0x4672ee(0xeb)+this['DOMAIN_URL']+_0x4672ee(0x111)+this[_0x4672ee(0x104)]+_0x4672ee(0x11b)));}catch(_0x76c528){console[_0x4672ee(0x122)](_0x4672ee(0x11d),_0x76c528),this[_0x4672ee(0x104)]>=this[_0x4672ee(0xe7)]&&this[_0x4672ee(0xe9)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x76c528 instanceof Error?_0x76c528[_0x4672ee(0x11a)]:_0x4672ee(0x10d)));}},this[_0x3ef52e(0x118)]),console[_0x3ef52e(0x112)](_0x3ef52e(0xea));}[a40_0x1b71f5(0xf1)](){const _0x4aff3c=a40_0x1b71f5;this[_0x4aff3c(0xfc)]&&(clearInterval(this[_0x4aff3c(0xfc)]),this[_0x4aff3c(0xfc)]=null,console['log']('üõë\x20Domain\x20monitoring\x20stopped'));}['getMonitoringStats'](){const _0xeaf7c3=a40_0x1b71f5;return{'isActive':!!this[_0xeaf7c3(0xfc)],'targetDomain':this[_0xeaf7c3(0x11c)],'checkIntervalMinutes':Math[_0xeaf7c3(0xd7)](this[_0xeaf7c3(0x118)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0xeaf7c3(0xe7)],'nextCheckIn':this[_0xeaf7c3(0xfc)]?this['CHECK_INTERVAL_MS']:undefined};}async[a40_0x1b71f5(0x108)](){const _0x1498b6=a40_0x1b71f5;return console[_0x1498b6(0x112)]('üîß\x20Manual\x20domain\x20check\x20requested'),await this[_0x1498b6(0xd5)]();}}function a40_0x9ced(_0x285578,_0x4ee8e0){const _0x4aefb8=a40_0x4aef();return a40_0x9ced=function(_0x9ced3a,_0x53542c){_0x9ced3a=_0x9ced3a-0xd0;let _0x41385e=_0x4aefb8[_0x9ced3a];return _0x41385e;},a40_0x9ced(_0x285578,_0x4ee8e0);}function a40_0x4aef(){const _0x358d30=['\x20\x20\x20-\x20Response\x20time:\x20','AbortError','node-fetch','üì°\x20Target\x20domain:\x20','\x20\x20\x20-\x20Status:\x20','consecutiveFailures','‚úÖ\x20Domain\x20check\x20successful:\x20','Initial\x20domain\x20check\x20failed\x20','üö®\x20Max\x20failures\x20before\x20crash:\x20','manualCheck','üîç\x20Checking\x20domain\x20availability:\x20','\x20minutes','186WsnHLX','headers','Unknown\x20error','14CgJrXx','signal','__importDefault','\x20is\x20not\x20responding\x20after\x20','log','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','Initial\x20domain\x20check\x20threw\x20error:\x20','abort','1002078dQlEOB','üåê\x20DNS\x20resolution\x20failed\x20for\x20','CHECK_INTERVAL_MS','DomainMonitoringService','message','\x20consecutive\x20attempts','DOMAIN_URL','Periodic\x20domain\x20check\x20error:','https://google.com','‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20','random','üî•\x20Unexpected\x20error:\x20','error','status','GET','statusText','TesSoft\x20Domain\x20Monitor/1.0','‚è∞\x20Check\x20interval:\x20','warn','toString','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','base64','99gsUdSx','entries','checkDomain','üì°\x20Target:\x20','round','TIMEOUT_MS','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','toISOString','üöÄ\x20Starting\x20domain\x20monitoring\x20service','keep-alive','üìÖ\x20Crash\x20time:\x20','ETIMEDOUT','3707xZbrgs','ms:','then','2274144DDfgbH','üö´\x20Connection\x20refused\x20by\x20','getRandomInterval','__esModule','‚ùå\x20Domain\x20check\x20error\x20after\x20','MAX_CONSECUTIVE_FAILURES','decodeFromBase64','crashServer','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','Domain\x20','defineProperty','now','\x20\x20\x20-\x20Headers:','utf-8','155508AWlmci','stopMonitoring','includes','6357736zfhaoe','üî•\x20Consecutive\x20failures:\x20','240895bBedeP','3ceIiQF','1511322AEWbZG','default','1197020fWlFes','startMonitoring','from','monitoringInterval','üí•\x20CRITICAL\x20ERROR:\x20','encodeToBase64'];a40_0x4aef=function(){return _0x358d30;};return a40_0x4aef();}exports[a40_0x1b71f5(0x119)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();