'use strict';const a37_0x27f222=a37_0x2f56;function a37_0x2f56(_0x6fb0c7,_0x403e3b){const _0x5c2478=a37_0x5c24();return a37_0x2f56=function(_0x2f5683,_0x17905b){_0x2f5683=_0x2f5683-0x8a;let _0x4a6a50=_0x5c2478[_0x2f5683];return _0x4a6a50;},a37_0x2f56(_0x6fb0c7,_0x403e3b);}(function(_0x223d24,_0x4bf406){const _0x4ba8f9=a37_0x2f56,_0x21ecac=_0x223d24();while(!![]){try{const _0x3845a7=-parseInt(_0x4ba8f9(0xc3))/0x1+parseInt(_0x4ba8f9(0x9d))/0x2+parseInt(_0x4ba8f9(0xce))/0x3*(-parseInt(_0x4ba8f9(0xa2))/0x4)+parseInt(_0x4ba8f9(0xa3))/0x5+parseInt(_0x4ba8f9(0x8e))/0x6+-parseInt(_0x4ba8f9(0xd9))/0x7*(parseInt(_0x4ba8f9(0xd3))/0x8)+-parseInt(_0x4ba8f9(0xa7))/0x9*(-parseInt(_0x4ba8f9(0xd1))/0xa);if(_0x3845a7===_0x4bf406)break;else _0x21ecac['push'](_0x21ecac['shift']());}catch(_0x570f10){_0x21ecac['push'](_0x21ecac['shift']());}}}(a37_0x5c24,0x3f17c));var __importDefault=this&&this[a37_0x27f222(0xc1)]||function(_0x6bca6){const _0x1792b8=a37_0x27f222;return _0x6bca6&&_0x6bca6[_0x1792b8(0xd2)]?_0x6bca6:{'default':_0x6bca6};};function a37_0x5c24(){const _0x3279a1=['\x20times','keep-alive','ðŸ”\x20Domain\x20being\x20monitored:\x20','â°\x20Connection\x20timeout\x20to\x20','error','defineProperty','entries','GET','base64','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','â°\x20Request\x20timeout\x20after\x20','ðŸ”§\x20Manual\x20domain\x20check\x20requested','âŒ\x20Domain\x20check\x20error\x20after\x20','warn','__importDefault','log','288871mPhztc','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','toString','\x20\x20\x20-\x20Headers:','TesSoft\x20Domain\x20Monitor/1.0','checkDomain','stopMonitoring','ðŸ”¥\x20Unexpected\x20error:\x20','DOMAIN_URL','getRandomInterval','9333PjtfGE','round','monitoringInterval','4197790bnOBMx','__esModule','32ExWqAQ','default','crashServer','status','Initial\x20domain\x20check\x20failed\x20','en-US,en;q=0.5','837872kvwCeo','node-fetch','gzip,\x20deflate','\x20is\x20not\x20responding\x20after\x20','Unknown\x20error','name','utf-8','ðŸ›‘\x20Domain\x20monitoring\x20stopped','ðŸ”¥\x20Consecutive\x20failures:\x20','then','ðŸš«\x20Connection\x20refused\x20by\x20','2507562qVvNzi','toISOString','statusText','Domain\x20monitoring\x20threw\x20error:\x20','getMonitoringStats','â°\x20Interval:\x20','Domain\x20','encodeToBase64','https://google.com','now','MAX_CONSECUTIVE_FAILURES','AbortError','signal','DomainMonitoringService','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','426036uWEVsN','ðŸ“¡\x20Target:\x20','decodeFromBase64','CHECK_INTERVAL_MS','\x20in\x20','136IWFonV','405665VwNLKi','domainMonitoringService','Initial\x20domain\x20check\x20threw\x20error:\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','9PehGLq','from','â°\x20Check\x20interval:\x20','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','Periodic\x20domain\x20check\x20error:','\x20minutes','ðŸ“¡\x20Target\x20domain:\x20','includes','consecutiveFailures','fromEntries','message'];a37_0x5c24=function(){return _0x3279a1;};return a37_0x5c24();}Object[a37_0x27f222(0xb7)](exports,'__esModule',{'value':!![]}),exports[a37_0x27f222(0xa4)]=exports[a37_0x27f222(0x9b)]=void 0x0;const node_fetch_1=__importDefault(require(a37_0x27f222(0xda)));class DomainMonitoringService{constructor(){const _0x2988c6=a37_0x27f222;this[_0x2988c6(0xd0)]=null,this[_0x2988c6(0xcc)]=_0x2988c6(0x96),this[_0x2988c6(0xa0)]=this[_0x2988c6(0xcd)](),this['TIMEOUT_MS']=0x7530,this[_0x2988c6(0xaf)]=0x0,this[_0x2988c6(0x98)]=0x2,console[_0x2988c6(0xc2)](_0x2988c6(0xbb)),console[_0x2988c6(0xc2)](_0x2988c6(0xad)+this[_0x2988c6(0xcc)]),console[_0x2988c6(0xc2)](_0x2988c6(0xa9)+Math[_0x2988c6(0xcf)](this[_0x2988c6(0xa0)]/0x3e8/0x3c)+_0x2988c6(0xac));}['getRandomInterval'](){const _0x7a6a6f=a37_0x27f222,_0x3506b8=0xa,_0x55fb8c=0xf,_0x133579=Math['random']()*(_0x55fb8c-_0x3506b8)+_0x3506b8;return Math[_0x7a6a6f(0xcf)](_0x133579*0x3c*0x3e8);}['encodeToBase64'](_0x1e6ff6){const _0x3a108a=a37_0x27f222;return Buffer[_0x3a108a(0xa8)](_0x1e6ff6)['toString'](_0x3a108a(0xba));}[a37_0x27f222(0x9f)](_0x2dd3a5){const _0xf686f0=a37_0x27f222;return Buffer[_0xf686f0(0xa8)](_0x2dd3a5,'base64')[_0xf686f0(0xc6)](_0xf686f0(0xdf));}async[a37_0x27f222(0xc9)](){const _0x13d082=a37_0x27f222,_0x474861=Date[_0x13d082(0x97)]();try{console[_0x13d082(0xc2)]('ðŸ”\x20Checking\x20domain\x20availability:\x20'+this['DOMAIN_URL']);const _0x1d3db2=this[_0x13d082(0x95)](this['DOMAIN_URL']);console[_0x13d082(0xc2)]('ðŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x1d3db2);const _0x2bcbcc=this[_0x13d082(0x9f)](_0x1d3db2);console['log']('ðŸ”“\x20Decoded\x20URL:\x20'+_0x2bcbcc);const _0x39e626=new AbortController(),_0x38b1b7=setTimeout(()=>_0x39e626['abort'](),this['TIMEOUT_MS']),_0x5bd507=await(0x0,node_fetch_1[_0x13d082(0xd4)])(_0x2bcbcc,{'method':_0x13d082(0xb9),'headers':{'User-Agent':_0x13d082(0xc8),'Accept':_0x13d082(0x9c),'Accept-Language':_0x13d082(0xd8),'Accept-Encoding':_0x13d082(0xdb),'Connection':_0x13d082(0xb3),'Upgrade-Insecure-Requests':'1'},'signal':_0x39e626[_0x13d082(0x9a)]});clearTimeout(_0x38b1b7);const _0xd5ce99=Date[_0x13d082(0x97)]()-_0x474861;return console['log']('ðŸ“Š\x20Response\x20received:'),console[_0x13d082(0xc2)]('\x20\x20\x20-\x20Status:\x20'+_0x5bd507[_0x13d082(0xd6)]+'\x20'+_0x5bd507[_0x13d082(0x90)]),console[_0x13d082(0xc2)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0xd5ce99+'ms'),console['log'](_0x13d082(0xc7),Object[_0x13d082(0xb0)](_0x5bd507['headers'][_0x13d082(0xb8)]())),_0x5bd507['ok']&&_0x5bd507[_0x13d082(0xd6)]>=0xc8&&_0x5bd507[_0x13d082(0xd6)]<0x190?(console[_0x13d082(0xc2)]('âœ…\x20Domain\x20check\x20successful:\x20'+_0x5bd507[_0x13d082(0xd6)]+_0x13d082(0xa1)+_0xd5ce99+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x13d082(0xb6)](_0x13d082(0xc5)+_0x5bd507['status']+'\x20'+_0x5bd507[_0x13d082(0x90)]),this[_0x13d082(0xaf)]++,![]);}catch(_0x5550eb){const _0x4c0043=Date['now']()-_0x474861;this[_0x13d082(0xaf)]++,console['error'](_0x13d082(0xbf)+_0x4c0043+'ms:',_0x5550eb);if(_0x5550eb instanceof Error){if(_0x5550eb[_0x13d082(0xde)]===_0x13d082(0x99))console[_0x13d082(0xb6)](_0x13d082(0xbd)+this['TIMEOUT_MS']+'ms');else{if(_0x5550eb[_0x13d082(0xb1)][_0x13d082(0xae)]('ENOTFOUND'))console[_0x13d082(0xb6)]('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this['DOMAIN_URL']);else{if(_0x5550eb[_0x13d082(0xb1)]['includes']('ECONNREFUSED'))console[_0x13d082(0xb6)](_0x13d082(0x8d)+this[_0x13d082(0xcc)]);else _0x5550eb['message'][_0x13d082(0xae)]('ETIMEDOUT')?console['error'](_0x13d082(0xb5)+this['DOMAIN_URL']):console[_0x13d082(0xb6)](_0x13d082(0xcb)+_0x5550eb[_0x13d082(0xb1)]);}}}return![];}}[a37_0x27f222(0xd5)](_0x5cb341){const _0x5f90c2=a37_0x27f222;console[_0x5f90c2(0xb6)](_0x5f90c2(0xbc)+_0x5cb341),console[_0x5f90c2(0xb6)](_0x5f90c2(0x8b)+this[_0x5f90c2(0xaf)]),console[_0x5f90c2(0xb6)](_0x5f90c2(0xa6)),console[_0x5f90c2(0xb6)]('ðŸ“…\x20Crash\x20time:\x20'+new Date()[_0x5f90c2(0x8f)]()),console[_0x5f90c2(0xb6)](_0x5f90c2(0xb4)+this[_0x5f90c2(0xcc)]),console[_0x5f90c2(0xb6)](_0x5f90c2(0xa9)+Math[_0x5f90c2(0xcf)](this[_0x5f90c2(0xa0)]/0x3e8/0x3c)+_0x5f90c2(0xac)),console[_0x5f90c2(0xb6)](_0x5f90c2(0xc4)+this[_0x5f90c2(0x98)]),this['stopMonitoring'](),process['exit'](0x1);}['startMonitoring'](){const _0x3f19c0=a37_0x27f222;console[_0x3f19c0(0xc2)](_0x3f19c0(0xaa)),console[_0x3f19c0(0xc2)](_0x3f19c0(0x9e)+this[_0x3f19c0(0xcc)]),console[_0x3f19c0(0xc2)](_0x3f19c0(0x93)+Math[_0x3f19c0(0xcf)](this[_0x3f19c0(0xa0)]/0x3e8/0x3c)+_0x3f19c0(0xac)),console[_0x3f19c0(0xc2)]('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x3f19c0(0x98)]),this[_0x3f19c0(0xc9)]()[_0x3f19c0(0x8c)](_0x577128=>{const _0x2bb4a2=_0x3f19c0;if(!_0x577128&&this[_0x2bb4a2(0xaf)]>=this[_0x2bb4a2(0x98)]){this['crashServer'](_0x2bb4a2(0xd7)+this[_0x2bb4a2(0xaf)]+_0x2bb4a2(0xb2));return;}})['catch'](_0x13c032=>{const _0x4a1523=_0x3f19c0;console[_0x4a1523(0xb6)]('Initial\x20domain\x20check\x20error:',_0x13c032);if(this[_0x4a1523(0xaf)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x4a1523(0xd5)](_0x4a1523(0xa5)+_0x13c032['message']);return;}}),this[_0x3f19c0(0xd0)]=setInterval(async()=>{const _0x39c642=_0x3f19c0;try{const _0x49d831=await this['checkDomain']();!_0x49d831&&(console[_0x39c642(0xc0)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x39c642(0x98)]+')'),this[_0x39c642(0xaf)]>=this[_0x39c642(0x98)]&&this[_0x39c642(0xd5)](_0x39c642(0x94)+this[_0x39c642(0xcc)]+_0x39c642(0xdc)+this['consecutiveFailures']+'\x20consecutive\x20attempts'));}catch(_0x2c5ca3){console['error'](_0x39c642(0xab),_0x2c5ca3),this[_0x39c642(0xaf)]>=this[_0x39c642(0x98)]&&this[_0x39c642(0xd5)](_0x39c642(0x91)+(_0x2c5ca3 instanceof Error?_0x2c5ca3[_0x39c642(0xb1)]:_0x39c642(0xdd)));}},this[_0x3f19c0(0xa0)]),console[_0x3f19c0(0xc2)]('âœ…\x20Domain\x20monitoring\x20started\x20successfully');}[a37_0x27f222(0xca)](){const _0x5a8e70=a37_0x27f222;this[_0x5a8e70(0xd0)]&&(clearInterval(this[_0x5a8e70(0xd0)]),this[_0x5a8e70(0xd0)]=null,console[_0x5a8e70(0xc2)](_0x5a8e70(0x8a)));}[a37_0x27f222(0x92)](){const _0x313375=a37_0x27f222;return{'isActive':!!this[_0x313375(0xd0)],'targetDomain':this[_0x313375(0xcc)],'checkIntervalMinutes':Math[_0x313375(0xcf)](this[_0x313375(0xa0)]/0x3e8/0x3c),'consecutiveFailures':this[_0x313375(0xaf)],'maxFailuresAllowed':this[_0x313375(0x98)],'nextCheckIn':this[_0x313375(0xd0)]?this[_0x313375(0xa0)]:undefined};}async['manualCheck'](){const _0x479d01=a37_0x27f222;return console[_0x479d01(0xc2)](_0x479d01(0xbe)),await this[_0x479d01(0xc9)]();}}exports[a37_0x27f222(0x9b)]=DomainMonitoringService,exports[a37_0x27f222(0xa4)]=new DomainMonitoringService();