'use strict';const a59_0x4c9fe6=a59_0x509b;(function(_0x1e48a5,_0x45b8b1){const _0x348e42=a59_0x509b,_0x22eb84=_0x1e48a5();while(!![]){try{const _0x2acc8b=parseInt(_0x348e42(0x21c))/0x1*(-parseInt(_0x348e42(0x22a))/0x2)+parseInt(_0x348e42(0x243))/0x3*(parseInt(_0x348e42(0x241))/0x4)+parseInt(_0x348e42(0x1f9))/0x5*(parseInt(_0x348e42(0x214))/0x6)+-parseInt(_0x348e42(0x1f3))/0x7*(parseInt(_0x348e42(0x1ee))/0x8)+parseInt(_0x348e42(0x1fe))/0x9+parseInt(_0x348e42(0x221))/0xa+-parseInt(_0x348e42(0x1fd))/0xb;if(_0x2acc8b===_0x45b8b1)break;else _0x22eb84['push'](_0x22eb84['shift']());}catch(_0x1149a0){_0x22eb84['push'](_0x22eb84['shift']());}}}(a59_0x2544,0x9a451));var __importDefault=this&&this['__importDefault']||function(_0x57eb02){const _0x12b0b9=a59_0x509b;return _0x57eb02&&_0x57eb02[_0x12b0b9(0x209)]?_0x57eb02:{'default':_0x57eb02};};Object[a59_0x4c9fe6(0x242)](exports,a59_0x4c9fe6(0x209),{'value':!![]}),exports[a59_0x4c9fe6(0x21d)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a59_0x4c9fe6(0x20e)));function a59_0x509b(_0x30c50a,_0x579e15){_0x30c50a=_0x30c50a-0x1eb;const _0x25445c=a59_0x2544();let _0x509b31=_0x25445c[_0x30c50a];return _0x509b31;}class DomainMonitoringService{constructor(){const _0x12e97e=a59_0x4c9fe6;this['monitoringInterval']=null,this[_0x12e97e(0x220)]=_0x12e97e(0x230),this[_0x12e97e(0x1f6)]=this[_0x12e97e(0x21e)](),this['TIMEOUT_MS']=0x7530,this[_0x12e97e(0x1f5)]=0x0,this[_0x12e97e(0x20b)]=0x2,console['log'](_0x12e97e(0x234)),console[_0x12e97e(0x1fb)](_0x12e97e(0x206)+this[_0x12e97e(0x220)]),console[_0x12e97e(0x1fb)]('â°\x20Check\x20interval:\x20'+Math[_0x12e97e(0x1eb)](this[_0x12e97e(0x1f6)]/0x3e8/0x3c)+_0x12e97e(0x235));}[a59_0x4c9fe6(0x21e)](){const _0x50961e=a59_0x4c9fe6,_0x44cd4a=0xa,_0x29a310=0xf,_0x13ea9d=Math[_0x50961e(0x1f0)]()*(_0x29a310-_0x44cd4a)+_0x44cd4a;return Math[_0x50961e(0x1eb)](_0x13ea9d*0x3c*0x3e8);}[a59_0x4c9fe6(0x212)](_0x2b6eec){const _0x16a643=a59_0x4c9fe6;return Buffer[_0x16a643(0x249)](_0x2b6eec)[_0x16a643(0x236)](_0x16a643(0x211));}[a59_0x4c9fe6(0x1fc)](_0x5b2844){const _0x1c4ac8=a59_0x4c9fe6;return Buffer[_0x1c4ac8(0x249)](_0x5b2844,_0x1c4ac8(0x211))['toString']('utf-8');}async[a59_0x4c9fe6(0x229)](){const _0x1a1893=a59_0x4c9fe6,_0x207c67=Date[_0x1a1893(0x20f)]();try{console[_0x1a1893(0x1fb)]('ğŸ”\x20Checking\x20domain\x20availability:\x20'+this[_0x1a1893(0x220)]);const _0x560f38=this[_0x1a1893(0x212)](this[_0x1a1893(0x220)]);console[_0x1a1893(0x1fb)](_0x1a1893(0x22b)+_0x560f38);const _0x4376a9=this[_0x1a1893(0x1fc)](_0x560f38);console[_0x1a1893(0x1fb)](_0x1a1893(0x228)+_0x4376a9);const _0x57c2c0=new AbortController(),_0x2df58d=setTimeout(()=>_0x57c2c0['abort'](),this[_0x1a1893(0x1ef)]),_0x4d592b=await(0x0,node_fetch_1[_0x1a1893(0x224)])(_0x4376a9,{'method':_0x1a1893(0x1ec),'headers':{'User-Agent':_0x1a1893(0x246),'Accept':_0x1a1893(0x1ff),'Accept-Language':_0x1a1893(0x1f4),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x1a1893(0x202),'Upgrade-Insecure-Requests':'1'},'signal':_0x57c2c0[_0x1a1893(0x21a)]});clearTimeout(_0x2df58d);const _0x34c797=Date[_0x1a1893(0x20f)]()-_0x207c67;return console[_0x1a1893(0x1fb)](_0x1a1893(0x208)),console['log'](_0x1a1893(0x231)+_0x4d592b['status']+'\x20'+_0x4d592b[_0x1a1893(0x23b)]),console[_0x1a1893(0x1fb)](_0x1a1893(0x20a)+_0x34c797+'ms'),console['log'](_0x1a1893(0x22f),Object[_0x1a1893(0x22c)](_0x4d592b[_0x1a1893(0x200)][_0x1a1893(0x245)]())),_0x4d592b['ok']&&_0x4d592b[_0x1a1893(0x232)]>=0xc8&&_0x4d592b['status']<0x190?(console[_0x1a1893(0x1fb)](_0x1a1893(0x21b)+_0x4d592b[_0x1a1893(0x232)]+_0x1a1893(0x215)+_0x34c797+'ms'),this[_0x1a1893(0x1f5)]=0x0,!![]):(console[_0x1a1893(0x23f)](_0x1a1893(0x22e)+_0x4d592b[_0x1a1893(0x232)]+'\x20'+_0x4d592b[_0x1a1893(0x23b)]),this['consecutiveFailures']++,![]);}catch(_0x475a0f){const _0x392998=Date['now']()-_0x207c67;this[_0x1a1893(0x1f5)]++,console['error'](_0x1a1893(0x248)+_0x392998+_0x1a1893(0x23e),_0x475a0f);if(_0x475a0f instanceof Error){if(_0x475a0f['name']===_0x1a1893(0x237))console['error']('â°\x20Request\x20timeout\x20after\x20'+this[_0x1a1893(0x1ef)]+'ms');else{if(_0x475a0f[_0x1a1893(0x1f8)][_0x1a1893(0x240)](_0x1a1893(0x1f1)))console[_0x1a1893(0x23f)]('ğŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this['DOMAIN_URL']);else{if(_0x475a0f[_0x1a1893(0x1f8)][_0x1a1893(0x240)]('ECONNREFUSED'))console['error'](_0x1a1893(0x23c)+this['DOMAIN_URL']);else _0x475a0f[_0x1a1893(0x1f8)][_0x1a1893(0x240)](_0x1a1893(0x217))?console[_0x1a1893(0x23f)](_0x1a1893(0x1ed)+this[_0x1a1893(0x220)]):console[_0x1a1893(0x23f)](_0x1a1893(0x20c)+_0x475a0f[_0x1a1893(0x1f8)]);}}}return![];}}[a59_0x4c9fe6(0x1f7)](_0x19a7cd){const _0x37f85b=a59_0x4c9fe6;console[_0x37f85b(0x23f)](_0x37f85b(0x203)+_0x19a7cd),console['error']('ğŸ”¥\x20Consecutive\x20failures:\x20'+this[_0x37f85b(0x1f5)]),console[_0x37f85b(0x23f)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x37f85b(0x23f)](_0x37f85b(0x213)+new Date()[_0x37f85b(0x204)]()),console[_0x37f85b(0x23f)](_0x37f85b(0x22d)+this[_0x37f85b(0x220)]),console[_0x37f85b(0x23f)](_0x37f85b(0x223)+Math[_0x37f85b(0x1eb)](this[_0x37f85b(0x1f6)]/0x3e8/0x3c)+_0x37f85b(0x235)),console[_0x37f85b(0x23f)](_0x37f85b(0x201)+this[_0x37f85b(0x20b)]),this[_0x37f85b(0x205)](),process['exit'](0x1);}['startMonitoring'](){const _0x59c664=a59_0x4c9fe6;console['log'](_0x59c664(0x1f2)),console[_0x59c664(0x1fb)](_0x59c664(0x210)+this[_0x59c664(0x220)]),console[_0x59c664(0x1fb)](_0x59c664(0x227)+Math[_0x59c664(0x1eb)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x59c664(0x235)),console['log'](_0x59c664(0x225)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x59c664(0x229)]()['then'](_0xa1881b=>{const _0x44b695=_0x59c664;if(!_0xa1881b&&this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x44b695(0x1f7)](_0x44b695(0x218)+this[_0x44b695(0x1f5)]+'\x20times');return;}})[_0x59c664(0x20d)](_0x5bc780=>{const _0x2271b8=_0x59c664;console[_0x2271b8(0x23f)](_0x2271b8(0x207),_0x5bc780);if(this[_0x2271b8(0x1f5)]>=this[_0x2271b8(0x20b)]){this['crashServer'](_0x2271b8(0x1fa)+_0x5bc780[_0x2271b8(0x1f8)]);return;}}),this[_0x59c664(0x21f)]=setInterval(async()=>{const _0x2fcb74=_0x59c664;try{const _0x11a284=await this[_0x2fcb74(0x229)]();!_0x11a284&&(console['warn'](_0x2fcb74(0x238)+this['consecutiveFailures']+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x2fcb74(0x1f5)]>=this[_0x2fcb74(0x20b)]&&this[_0x2fcb74(0x1f7)](_0x2fcb74(0x23a)+this[_0x2fcb74(0x220)]+_0x2fcb74(0x222)+this[_0x2fcb74(0x1f5)]+_0x2fcb74(0x239)));}catch(_0x27c082){console[_0x2fcb74(0x23f)](_0x2fcb74(0x216),_0x27c082),this[_0x2fcb74(0x1f5)]>=this[_0x2fcb74(0x20b)]&&this[_0x2fcb74(0x1f7)](_0x2fcb74(0x226)+(_0x27c082 instanceof Error?_0x27c082['message']:_0x2fcb74(0x233)));}},this['CHECK_INTERVAL_MS']),console['log'](_0x59c664(0x23d));}[a59_0x4c9fe6(0x205)](){const _0x15f68a=a59_0x4c9fe6;this[_0x15f68a(0x21f)]&&(clearInterval(this[_0x15f68a(0x21f)]),this['monitoringInterval']=null,console[_0x15f68a(0x1fb)](_0x15f68a(0x244)));}[a59_0x4c9fe6(0x219)](){const _0x2866fb=a59_0x4c9fe6;return{'isActive':!!this[_0x2866fb(0x21f)],'targetDomain':this[_0x2866fb(0x220)],'checkIntervalMinutes':Math[_0x2866fb(0x1eb)](this[_0x2866fb(0x1f6)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2866fb(0x1f5)],'maxFailuresAllowed':this[_0x2866fb(0x20b)],'nextCheckIn':this[_0x2866fb(0x21f)]?this[_0x2866fb(0x1f6)]:undefined};}async['manualCheck'](){const _0x13679b=a59_0x4c9fe6;return console[_0x13679b(0x1fb)](_0x13679b(0x247)),await this[_0x13679b(0x229)]();}}function a59_0x2544(){const _0x12dd28=['Periodic\x20domain\x20check\x20error:','ETIMEDOUT','Initial\x20domain\x20check\x20failed\x20','getMonitoringStats','signal','âœ…\x20Domain\x20check\x20successful:\x20','283DZsnAC','domainMonitoringService','getRandomInterval','monitoringInterval','DOMAIN_URL','10530150LVMBsh','\x20is\x20not\x20responding\x20after\x20','â°\x20Check\x20interval:\x20','default','ğŸš¨\x20Max\x20failures\x20before\x20crash:\x20','Domain\x20monitoring\x20threw\x20error:\x20','â°\x20Interval:\x20','ğŸ”“\x20Decoded\x20URL:\x20','checkDomain','2238Xzqess','ğŸ“\x20Encoded\x20URL\x20(base64):\x20','fromEntries','ğŸ”\x20Domain\x20being\x20monitored:\x20','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','\x20\x20\x20-\x20Headers:','https://google.com','\x20\x20\x20-\x20Status:\x20','status','Unknown\x20error','ğŸ”\x20Domain\x20monitoring\x20service\x20initialized','\x20minutes','toString','AbortError','âš ï¸\x20Domain\x20check\x20failed\x20(','\x20consecutive\x20attempts','Domain\x20','statusText','ğŸš«\x20Connection\x20refused\x20by\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','ms:','error','includes','4paXotZ','defineProperty','1335153YVEtje','ğŸ›‘\x20Domain\x20monitoring\x20stopped','entries','Domain\x20Monitor/1.0','ğŸ”§\x20Manual\x20domain\x20check\x20requested','âŒ\x20Domain\x20check\x20error\x20after\x20','from','round','GET','â°\x20Connection\x20timeout\x20to\x20','104WfPMSf','TIMEOUT_MS','random','ENOTFOUND','ğŸš€\x20Starting\x20domain\x20monitoring\x20service','271761XxNTXS','en-US,en;q=0.5','consecutiveFailures','CHECK_INTERVAL_MS','crashServer','message','2656645UFsEuD','Initial\x20domain\x20check\x20threw\x20error:\x20','log','decodeFromBase64','10854976cIgeqa','3696174jRLuUG','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','headers','ğŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','keep-alive','ğŸ’¥\x20CRITICAL\x20ERROR:\x20','toISOString','stopMonitoring','ğŸ“¡\x20Target\x20domain:\x20','Initial\x20domain\x20check\x20error:','ğŸ“Š\x20Response\x20received:','__esModule','\x20\x20\x20-\x20Response\x20time:\x20','MAX_CONSECUTIVE_FAILURES','ğŸ”¥\x20Unexpected\x20error:\x20','catch','node-fetch','now','ğŸ“¡\x20Target:\x20','base64','encodeToBase64','ğŸ“…\x20Crash\x20time:\x20','6FjhvSa','\x20in\x20'];a59_0x2544=function(){return _0x12dd28;};return a59_0x2544();}exports['DomainMonitoringService']=DomainMonitoringService,exports[a59_0x4c9fe6(0x21d)]=new DomainMonitoringService();