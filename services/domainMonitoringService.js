'use strict';const a39_0x3ed3cb=a39_0x1e4e;(function(_0x5ef3e4,_0x1cb729){const _0x47774b=a39_0x1e4e,_0x22aac5=_0x5ef3e4();while(!![]){try{const _0x327029=parseInt(_0x47774b(0x218))/0x1+parseInt(_0x47774b(0x1e7))/0x2+parseInt(_0x47774b(0x204))/0x3+parseInt(_0x47774b(0x1db))/0x4*(-parseInt(_0x47774b(0x1ed))/0x5)+parseInt(_0x47774b(0x1df))/0x6*(parseInt(_0x47774b(0x211))/0x7)+-parseInt(_0x47774b(0x1ee))/0x8+-parseInt(_0x47774b(0x1fa))/0x9;if(_0x327029===_0x1cb729)break;else _0x22aac5['push'](_0x22aac5['shift']());}catch(_0x36cf00){_0x22aac5['push'](_0x22aac5['shift']());}}}(a39_0x24bb,0x1fb03));var __importDefault=this&&this['__importDefault']||function(_0x39433a){const _0x339fb7=a39_0x1e4e;return _0x39433a&&_0x39433a[_0x339fb7(0x1ce)]?_0x39433a:{'default':_0x39433a};};function a39_0x24bb(){const _0x54e37f=['📝\x20Encoded\x20URL\x20(base64):\x20','log','🚀\x20Starting\x20domain\x20monitoring\x20service','ms:','🛑\x20Domain\x20monitoring\x20stopped','abort','toString','Unknown\x20error','Initial\x20domain\x20check\x20failed\x20','consecutiveFailures','round','21lCEWJz','DOMAIN_URL','en-US,en;q=0.5','🌐\x20DNS\x20resolution\x20failed\x20for\x20','checkDomain','📡\x20Target\x20domain:\x20','https://google.com','56920XYzSib','headers','Initial\x20domain\x20check\x20error:','🔍\x20Domain\x20monitoring\x20service\x20initialized','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','⏰\x20Connection\x20timeout\x20to\x20','✅\x20Domain\x20check\x20successful:\x20','CHECK_INTERVAL_MS','TIMEOUT_MS','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','\x20\x20\x20-\x20Headers:','status','\x20minutes','from','gzip,\x20deflate','TesSoft\x20Domain\x20Monitor/1.0','\x20times','MAX_CONSECUTIVE_FAILURES','toISOString','AbortError','decodeFromBase64','__esModule','📡\x20Target:\x20','includes','⏰\x20Interval:\x20','crashServer','defineProperty','warn','⏰\x20Check\x20interval:\x20','💥\x20CRITICAL\x20ERROR:\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','entries','now','🔓\x20Decoded\x20URL:\x20','71232YiAgmj','keep-alive','🔍\x20Domain\x20being\x20monitored:\x20','node-fetch','486102rUXPuo','exit','then','fromEntries','ECONNREFUSED','\x20\x20\x20-\x20Status:\x20','Domain\x20monitoring\x20threw\x20error:\x20','DomainMonitoringService','382498QhKSJr','🔥\x20Consecutive\x20failures:\x20','🔥\x20Unexpected\x20error:\x20','Domain\x20','domainMonitoringService','error','15vrGMII','1320880RlHOQd','🚫\x20Connection\x20refused\x20by\x20','default','random','message','❌\x20Domain\x20check\x20error\x20after\x20','🔍\x20Checking\x20domain\x20availability:\x20','monitoringInterval','🔧\x20Manual\x20domain\x20check\x20requested','⚠️\x20Domain\x20check\x20failed\x20(','catch','✅\x20Domain\x20monitoring\x20started\x20successfully','2761920eYzsBi','stopMonitoring','getRandomInterval','utf-8','ENOTFOUND','statusText','manualCheck','Periodic\x20domain\x20check\x20error:','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','encodeToBase64','491967RNEWgO','\x20is\x20not\x20responding\x20after\x20'];a39_0x24bb=function(){return _0x54e37f;};return a39_0x24bb();}Object[a39_0x3ed3cb(0x1d3)](exports,a39_0x3ed3cb(0x1ce),{'value':!![]}),exports[a39_0x3ed3cb(0x1eb)]=exports[a39_0x3ed3cb(0x1e6)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x3ed3cb(0x1de)));function a39_0x1e4e(_0x3eb675,_0x4c47e7){const _0x24bb20=a39_0x24bb();return a39_0x1e4e=function(_0x1e4e04,_0x35b9a2){_0x1e4e04=_0x1e4e04-0x1c7;let _0x369993=_0x24bb20[_0x1e4e04];return _0x369993;},a39_0x1e4e(_0x3eb675,_0x4c47e7);}class DomainMonitoringService{constructor(){const _0x3ff804=a39_0x3ed3cb;this[_0x3ff804(0x1f5)]=null,this['DOMAIN_URL']=_0x3ff804(0x217),this[_0x3ff804(0x21f)]=this[_0x3ff804(0x1fc)](),this[_0x3ff804(0x220)]=0x7530,this[_0x3ff804(0x20f)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x3ff804(0x207)](_0x3ff804(0x21b)),console[_0x3ff804(0x207)](_0x3ff804(0x216)+this[_0x3ff804(0x212)]),console[_0x3ff804(0x207)](_0x3ff804(0x1d5)+Math['round'](this[_0x3ff804(0x21f)]/0x3e8/0x3c)+_0x3ff804(0x224));}['getRandomInterval'](){const _0xa6303f=a39_0x3ed3cb,_0x3d9c97=0xa,_0x108c59=0xf,_0x20997a=Math[_0xa6303f(0x1f1)]()*(_0x108c59-_0x3d9c97)+_0x3d9c97;return Math[_0xa6303f(0x210)](_0x20997a*0x3c*0x3e8);}['encodeToBase64'](_0x501d82){const _0xb962e=a39_0x3ed3cb;return Buffer[_0xb962e(0x225)](_0x501d82)['toString']('base64');}[a39_0x3ed3cb(0x1cd)](_0x19bca5){const _0x566b40=a39_0x3ed3cb;return Buffer['from'](_0x19bca5,'base64')[_0x566b40(0x20c)](_0x566b40(0x1fd));}async[a39_0x3ed3cb(0x215)](){const _0x927913=a39_0x3ed3cb,_0x1c6062=Date[_0x927913(0x1d9)]();try{console[_0x927913(0x207)](_0x927913(0x1f4)+this[_0x927913(0x212)]);const _0xca6ba8=this[_0x927913(0x203)](this[_0x927913(0x212)]);console[_0x927913(0x207)](_0x927913(0x206)+_0xca6ba8);const _0x2acd0a=this['decodeFromBase64'](_0xca6ba8);console[_0x927913(0x207)](_0x927913(0x1da)+_0x2acd0a);const _0x5646d1=new AbortController(),_0x5d027a=setTimeout(()=>_0x5646d1[_0x927913(0x20b)](),this[_0x927913(0x220)]),_0x59a93e=await(0x0,node_fetch_1[_0x927913(0x1f0)])(_0x2acd0a,{'method':'GET','headers':{'User-Agent':_0x927913(0x1c8),'Accept':_0x927913(0x221),'Accept-Language':_0x927913(0x213),'Accept-Encoding':_0x927913(0x1c7),'Connection':_0x927913(0x1dc),'Upgrade-Insecure-Requests':'1'},'signal':_0x5646d1['signal']});clearTimeout(_0x5d027a);const _0x15c2f4=Date['now']()-_0x1c6062;return console[_0x927913(0x207)]('📊\x20Response\x20received:'),console[_0x927913(0x207)](_0x927913(0x1e4)+_0x59a93e[_0x927913(0x223)]+'\x20'+_0x59a93e[_0x927913(0x1ff)]),console['log']('\x20\x20\x20-\x20Response\x20time:\x20'+_0x15c2f4+'ms'),console[_0x927913(0x207)](_0x927913(0x222),Object[_0x927913(0x1e2)](_0x59a93e[_0x927913(0x219)][_0x927913(0x1d8)]())),_0x59a93e['ok']&&_0x59a93e['status']>=0xc8&&_0x59a93e['status']<0x190?(console[_0x927913(0x207)](_0x927913(0x21e)+_0x59a93e['status']+'\x20in\x20'+_0x15c2f4+'ms'),this[_0x927913(0x20f)]=0x0,!![]):(console[_0x927913(0x1ec)](_0x927913(0x21c)+_0x59a93e[_0x927913(0x223)]+'\x20'+_0x59a93e['statusText']),this[_0x927913(0x20f)]++,![]);}catch(_0x1b7744){const _0x5cde5d=Date['now']()-_0x1c6062;this[_0x927913(0x20f)]++,console[_0x927913(0x1ec)](_0x927913(0x1f3)+_0x5cde5d+_0x927913(0x209),_0x1b7744);if(_0x1b7744 instanceof Error){if(_0x1b7744['name']===_0x927913(0x1cc))console['error']('⏰\x20Request\x20timeout\x20after\x20'+this[_0x927913(0x220)]+'ms');else{if(_0x1b7744['message'][_0x927913(0x1d0)](_0x927913(0x1fe)))console[_0x927913(0x1ec)](_0x927913(0x214)+this['DOMAIN_URL']);else{if(_0x1b7744[_0x927913(0x1f2)][_0x927913(0x1d0)](_0x927913(0x1e3)))console[_0x927913(0x1ec)](_0x927913(0x1ef)+this['DOMAIN_URL']);else _0x1b7744[_0x927913(0x1f2)][_0x927913(0x1d0)]('ETIMEDOUT')?console['error'](_0x927913(0x21d)+this[_0x927913(0x212)]):console[_0x927913(0x1ec)](_0x927913(0x1e9)+_0x1b7744[_0x927913(0x1f2)]);}}}return![];}}[a39_0x3ed3cb(0x1d2)](_0x1a3b3a){const _0x2cdade=a39_0x3ed3cb;console[_0x2cdade(0x1ec)](_0x2cdade(0x1d6)+_0x1a3b3a),console['error'](_0x2cdade(0x1e8)+this[_0x2cdade(0x20f)]),console[_0x2cdade(0x1ec)](_0x2cdade(0x202)),console[_0x2cdade(0x1ec)]('📅\x20Crash\x20time:\x20'+new Date()[_0x2cdade(0x1cb)]()),console[_0x2cdade(0x1ec)](_0x2cdade(0x1dd)+this[_0x2cdade(0x212)]),console[_0x2cdade(0x1ec)](_0x2cdade(0x1d5)+Math['round'](this[_0x2cdade(0x21f)]/0x3e8/0x3c)+_0x2cdade(0x224)),console[_0x2cdade(0x1ec)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this[_0x2cdade(0x1ca)]),this[_0x2cdade(0x1fb)](),process[_0x2cdade(0x1e0)](0x1);}['startMonitoring'](){const _0x105312=a39_0x3ed3cb;console[_0x105312(0x207)](_0x105312(0x208)),console[_0x105312(0x207)](_0x105312(0x1cf)+this[_0x105312(0x212)]),console[_0x105312(0x207)](_0x105312(0x1d1)+Math[_0x105312(0x210)](this[_0x105312(0x21f)]/0x3e8/0x3c)+'\x20minutes'),console[_0x105312(0x207)](_0x105312(0x1d7)+this[_0x105312(0x1ca)]),this[_0x105312(0x215)]()[_0x105312(0x1e1)](_0x35d360=>{const _0x1e252e=_0x105312;if(!_0x35d360&&this['consecutiveFailures']>=this[_0x1e252e(0x1ca)]){this[_0x1e252e(0x1d2)](_0x1e252e(0x20e)+this[_0x1e252e(0x20f)]+_0x1e252e(0x1c9));return;}})[_0x105312(0x1f8)](_0x5a781b=>{const _0x4c5bc4=_0x105312;console[_0x4c5bc4(0x1ec)](_0x4c5bc4(0x21a),_0x5a781b);if(this[_0x4c5bc4(0x20f)]>=this[_0x4c5bc4(0x1ca)]){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x5a781b[_0x4c5bc4(0x1f2)]);return;}}),this[_0x105312(0x1f5)]=setInterval(async()=>{const _0x13ad9b=_0x105312;try{const _0x9bdf29=await this['checkDomain']();!_0x9bdf29&&(console[_0x13ad9b(0x1d4)](_0x13ad9b(0x1f7)+this['consecutiveFailures']+'/'+this[_0x13ad9b(0x1ca)]+')'),this[_0x13ad9b(0x20f)]>=this[_0x13ad9b(0x1ca)]&&this[_0x13ad9b(0x1d2)](_0x13ad9b(0x1ea)+this[_0x13ad9b(0x212)]+_0x13ad9b(0x205)+this[_0x13ad9b(0x20f)]+'\x20consecutive\x20attempts'));}catch(_0x113e7b){console['error'](_0x13ad9b(0x201),_0x113e7b),this[_0x13ad9b(0x20f)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x13ad9b(0x1d2)](_0x13ad9b(0x1e5)+(_0x113e7b instanceof Error?_0x113e7b['message']:_0x13ad9b(0x20d)));}},this[_0x105312(0x21f)]),console[_0x105312(0x207)](_0x105312(0x1f9));}[a39_0x3ed3cb(0x1fb)](){const _0x2c6c5e=a39_0x3ed3cb;this[_0x2c6c5e(0x1f5)]&&(clearInterval(this['monitoringInterval']),this[_0x2c6c5e(0x1f5)]=null,console[_0x2c6c5e(0x207)](_0x2c6c5e(0x20a)));}['getMonitoringStats'](){const _0xeb0d73=a39_0x3ed3cb;return{'isActive':!!this[_0xeb0d73(0x1f5)],'targetDomain':this[_0xeb0d73(0x212)],'checkIntervalMinutes':Math[_0xeb0d73(0x210)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0xeb0d73(0x20f)],'maxFailuresAllowed':this[_0xeb0d73(0x1ca)],'nextCheckIn':this[_0xeb0d73(0x1f5)]?this[_0xeb0d73(0x21f)]:undefined};}async[a39_0x3ed3cb(0x200)](){const _0x3d1047=a39_0x3ed3cb;return console[_0x3d1047(0x207)](_0x3d1047(0x1f6)),await this[_0x3d1047(0x215)]();}}exports[a39_0x3ed3cb(0x1e6)]=DomainMonitoringService,exports[a39_0x3ed3cb(0x1eb)]=new DomainMonitoringService();