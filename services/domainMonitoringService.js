'use strict';const a40_0x499f4d=a40_0x58fa;(function(_0x344898,_0x4e1e9e){const _0x3ded6c=a40_0x58fa,_0x1f6618=_0x344898();while(!![]){try{const _0x291a99=parseInt(_0x3ded6c(0x17a))/0x1*(parseInt(_0x3ded6c(0x159))/0x2)+-parseInt(_0x3ded6c(0x136))/0x3*(-parseInt(_0x3ded6c(0x13e))/0x4)+parseInt(_0x3ded6c(0x189))/0x5*(-parseInt(_0x3ded6c(0x148))/0x6)+-parseInt(_0x3ded6c(0x146))/0x7*(parseInt(_0x3ded6c(0x176))/0x8)+-parseInt(_0x3ded6c(0x166))/0x9*(-parseInt(_0x3ded6c(0x17d))/0xa)+parseInt(_0x3ded6c(0x17e))/0xb+-parseInt(_0x3ded6c(0x181))/0xc;if(_0x291a99===_0x4e1e9e)break;else _0x1f6618['push'](_0x1f6618['shift']());}catch(_0x10460d){_0x1f6618['push'](_0x1f6618['shift']());}}}(a40_0x55a0,0xdc7b6));function a40_0x55a0(){const _0x1671c6=['domainMonitoringService','decodeFromBase64','🌐\x20DNS\x20resolution\x20failed\x20for\x20','encodeToBase64','then','Initial\x20domain\x20check\x20failed\x20','2434236hmbcAp','warn','defineProperty','manualCheck','💥\x20CRITICAL\x20ERROR:\x20','CHECK_INTERVAL_MS','keep-alive','now','8AlPuuD','Domain\x20','log','🔥\x20Unexpected\x20error:\x20','gzip,\x20deflate','round','__esModule','\x20\x20\x20-\x20Status:\x20','4056598FAFSvI','checkDomain','7779426LXwVwu','🚀\x20Starting\x20domain\x20monitoring\x20service','\x20\x20\x20-\x20Response\x20time:\x20','⏰\x20Connection\x20timeout\x20to\x20','🔍\x20Checking\x20domain\x20availability:\x20','base64','en-US,en;q=0.5','ETIMEDOUT','toISOString','\x20consecutive\x20attempts','__importDefault','includes','AbortError','🚫\x20Connection\x20refused\x20by\x20','https://google.com','headers','message','102auQHQN','ms:','🔧\x20Manual\x20domain\x20check\x20requested','name','\x20is\x20not\x20responding\x20after\x20','utf-8','\x20in\x20','⚠️\x20Domain\x20check\x20failed\x20(','entries','startMonitoring','❌\x20Domain\x20check\x20error\x20after\x20','getRandomInterval','catch','151839aMLDAD','Initial\x20domain\x20check\x20error:','statusText','Initial\x20domain\x20check\x20threw\x20error:\x20','consecutiveFailures','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','toString','DOMAIN_URL','📅\x20Crash\x20time:\x20','random','📡\x20Target\x20domain:\x20','\x20times','DomainMonitoringService','Unknown\x20error','ENOTFOUND','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','8RpwkwA','crashServer','⏰\x20Check\x20interval:\x20','⏰\x20Request\x20timeout\x20after\x20','14071AvRlYm','stopMonitoring','MAX_CONSECUTIVE_FAILURES','690fWwoPT','12395636gfYYPe','status','\x20minutes','22226892MDNkaw','📝\x20Encoded\x20URL\x20(base64):\x20','🔥\x20Consecutive\x20failures:\x20','exit','error','✅\x20Domain\x20check\x20successful:\x20','monitoringInterval','🔓\x20Decoded\x20URL:\x20','5HlLyZb','🔍\x20Domain\x20being\x20monitored:\x20','TIMEOUT_MS','from'];a40_0x55a0=function(){return _0x1671c6;};return a40_0x55a0();}var __importDefault=this&&this[a40_0x499f4d(0x152)]||function(_0x4ca0d6){const _0x24a1b8=a40_0x499f4d;return _0x4ca0d6&&_0x4ca0d6[_0x24a1b8(0x144)]?_0x4ca0d6:{'default':_0x4ca0d6};};function a40_0x58fa(_0xdd13db,_0x44e456){const _0x55a011=a40_0x55a0();return a40_0x58fa=function(_0x58fa0b,_0x3da8e2){_0x58fa0b=_0x58fa0b-0x12d;let _0x1c2eec=_0x55a011[_0x58fa0b];return _0x1c2eec;},a40_0x58fa(_0xdd13db,_0x44e456);}Object[a40_0x499f4d(0x138)](exports,a40_0x499f4d(0x144),{'value':!![]}),exports[a40_0x499f4d(0x130)]=exports[a40_0x499f4d(0x172)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x79019=a40_0x499f4d;this['monitoringInterval']=null,this[_0x79019(0x16d)]=_0x79019(0x156),this[_0x79019(0x13b)]=this[_0x79019(0x164)](),this[_0x79019(0x12e)]=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x79019(0x140)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console['log'](_0x79019(0x170)+this['DOMAIN_URL']),console[_0x79019(0x140)]('⏰\x20Check\x20interval:\x20'+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x79019(0x180));}[a40_0x499f4d(0x164)](){const _0x3631f3=a40_0x499f4d,_0x19a37a=0xa,_0x45806c=0xf,_0xa11769=Math[_0x3631f3(0x16f)]()*(_0x45806c-_0x19a37a)+_0x19a37a;return Math[_0x3631f3(0x143)](_0xa11769*0x3c*0x3e8);}['encodeToBase64'](_0x8b1cfa){const _0x5af398=a40_0x499f4d;return Buffer[_0x5af398(0x12f)](_0x8b1cfa)[_0x5af398(0x16c)](_0x5af398(0x14d));}[a40_0x499f4d(0x131)](_0x21e2c1){const _0x52c333=a40_0x499f4d;return Buffer[_0x52c333(0x12f)](_0x21e2c1,'base64')[_0x52c333(0x16c)](_0x52c333(0x15e));}async[a40_0x499f4d(0x147)](){const _0x2599f6=a40_0x499f4d,_0x263040=Date[_0x2599f6(0x13d)]();try{console[_0x2599f6(0x140)](_0x2599f6(0x14c)+this[_0x2599f6(0x16d)]);const _0x216e2d=this[_0x2599f6(0x133)](this['DOMAIN_URL']);console[_0x2599f6(0x140)](_0x2599f6(0x182)+_0x216e2d);const _0x5a5c51=this['decodeFromBase64'](_0x216e2d);console[_0x2599f6(0x140)](_0x2599f6(0x188)+_0x5a5c51);const _0x5d9449=new AbortController(),_0x4d522a=setTimeout(()=>_0x5d9449['abort'](),this[_0x2599f6(0x12e)]),_0x5c783e=await(0x0,node_fetch_1['default'])(_0x5a5c51,{'method':'GET','headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x2599f6(0x14e),'Accept-Encoding':_0x2599f6(0x142),'Connection':_0x2599f6(0x13c),'Upgrade-Insecure-Requests':'1'},'signal':_0x5d9449['signal']});clearTimeout(_0x4d522a);const _0x562f22=Date[_0x2599f6(0x13d)]()-_0x263040;return console[_0x2599f6(0x140)]('📊\x20Response\x20received:'),console['log'](_0x2599f6(0x145)+_0x5c783e[_0x2599f6(0x17f)]+'\x20'+_0x5c783e[_0x2599f6(0x168)]),console[_0x2599f6(0x140)](_0x2599f6(0x14a)+_0x562f22+'ms'),console[_0x2599f6(0x140)]('\x20\x20\x20-\x20Headers:',Object['fromEntries'](_0x5c783e[_0x2599f6(0x157)][_0x2599f6(0x161)]())),_0x5c783e['ok']&&_0x5c783e[_0x2599f6(0x17f)]>=0xc8&&_0x5c783e['status']<0x190?(console['log'](_0x2599f6(0x186)+_0x5c783e[_0x2599f6(0x17f)]+_0x2599f6(0x15f)+_0x562f22+'ms'),this[_0x2599f6(0x16a)]=0x0,!![]):(console[_0x2599f6(0x185)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x5c783e[_0x2599f6(0x17f)]+'\x20'+_0x5c783e['statusText']),this['consecutiveFailures']++,![]);}catch(_0x2db346){const _0x30181c=Date[_0x2599f6(0x13d)]()-_0x263040;this['consecutiveFailures']++,console[_0x2599f6(0x185)](_0x2599f6(0x163)+_0x30181c+_0x2599f6(0x15a),_0x2db346);if(_0x2db346 instanceof Error){if(_0x2db346[_0x2599f6(0x15c)]===_0x2599f6(0x154))console[_0x2599f6(0x185)](_0x2599f6(0x179)+this[_0x2599f6(0x12e)]+'ms');else{if(_0x2db346[_0x2599f6(0x158)][_0x2599f6(0x153)](_0x2599f6(0x174)))console[_0x2599f6(0x185)](_0x2599f6(0x132)+this[_0x2599f6(0x16d)]);else{if(_0x2db346[_0x2599f6(0x158)][_0x2599f6(0x153)]('ECONNREFUSED'))console[_0x2599f6(0x185)](_0x2599f6(0x155)+this[_0x2599f6(0x16d)]);else _0x2db346['message'][_0x2599f6(0x153)](_0x2599f6(0x14f))?console[_0x2599f6(0x185)](_0x2599f6(0x14b)+this[_0x2599f6(0x16d)]):console[_0x2599f6(0x185)](_0x2599f6(0x141)+_0x2db346[_0x2599f6(0x158)]);}}}return![];}}[a40_0x499f4d(0x177)](_0x26140e){const _0x29fa8d=a40_0x499f4d;console[_0x29fa8d(0x185)](_0x29fa8d(0x13a)+_0x26140e),console[_0x29fa8d(0x185)](_0x29fa8d(0x183)+this[_0x29fa8d(0x16a)]),console[_0x29fa8d(0x185)](_0x29fa8d(0x175)),console[_0x29fa8d(0x185)](_0x29fa8d(0x16e)+new Date()[_0x29fa8d(0x150)]()),console['error'](_0x29fa8d(0x12d)+this[_0x29fa8d(0x16d)]),console[_0x29fa8d(0x185)](_0x29fa8d(0x178)+Math[_0x29fa8d(0x143)](this[_0x29fa8d(0x13b)]/0x3e8/0x3c)+_0x29fa8d(0x180)),console['error'](_0x29fa8d(0x16b)+this[_0x29fa8d(0x17c)]),this[_0x29fa8d(0x17b)](),process[_0x29fa8d(0x184)](0x1);}[a40_0x499f4d(0x162)](){const _0x4c4aef=a40_0x499f4d;console[_0x4c4aef(0x140)](_0x4c4aef(0x149)),console[_0x4c4aef(0x140)]('📡\x20Target:\x20'+this[_0x4c4aef(0x16d)]),console['log']('⏰\x20Interval:\x20'+Math[_0x4c4aef(0x143)](this[_0x4c4aef(0x13b)]/0x3e8/0x3c)+'\x20minutes'),console['log']('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x4c4aef(0x17c)]),this[_0x4c4aef(0x147)]()[_0x4c4aef(0x134)](_0x1a68b5=>{const _0x270f1e=_0x4c4aef;if(!_0x1a68b5&&this[_0x270f1e(0x16a)]>=this[_0x270f1e(0x17c)]){this['crashServer'](_0x270f1e(0x135)+this['consecutiveFailures']+_0x270f1e(0x171));return;}})[_0x4c4aef(0x165)](_0x2fb2e0=>{const _0x10b1bf=_0x4c4aef;console[_0x10b1bf(0x185)](_0x10b1bf(0x167),_0x2fb2e0);if(this[_0x10b1bf(0x16a)]>=this[_0x10b1bf(0x17c)]){this[_0x10b1bf(0x177)](_0x10b1bf(0x169)+_0x2fb2e0[_0x10b1bf(0x158)]);return;}}),this[_0x4c4aef(0x187)]=setInterval(async()=>{const _0x3f6daf=_0x4c4aef;try{const _0x55c942=await this[_0x3f6daf(0x147)]();!_0x55c942&&(console[_0x3f6daf(0x137)](_0x3f6daf(0x160)+this[_0x3f6daf(0x16a)]+'/'+this[_0x3f6daf(0x17c)]+')'),this[_0x3f6daf(0x16a)]>=this[_0x3f6daf(0x17c)]&&this[_0x3f6daf(0x177)](_0x3f6daf(0x13f)+this[_0x3f6daf(0x16d)]+_0x3f6daf(0x15d)+this[_0x3f6daf(0x16a)]+_0x3f6daf(0x151)));}catch(_0x23897c){console[_0x3f6daf(0x185)]('Periodic\x20domain\x20check\x20error:',_0x23897c),this[_0x3f6daf(0x16a)]>=this[_0x3f6daf(0x17c)]&&this[_0x3f6daf(0x177)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x23897c instanceof Error?_0x23897c[_0x3f6daf(0x158)]:_0x3f6daf(0x173)));}},this['CHECK_INTERVAL_MS']),console[_0x4c4aef(0x140)]('✅\x20Domain\x20monitoring\x20started\x20successfully');}[a40_0x499f4d(0x17b)](){const _0xb19ae2=a40_0x499f4d;this[_0xb19ae2(0x187)]&&(clearInterval(this['monitoringInterval']),this[_0xb19ae2(0x187)]=null,console[_0xb19ae2(0x140)]('🛑\x20Domain\x20monitoring\x20stopped'));}['getMonitoringStats'](){const _0x281747=a40_0x499f4d;return{'isActive':!!this[_0x281747(0x187)],'targetDomain':this[_0x281747(0x16d)],'checkIntervalMinutes':Math[_0x281747(0x143)](this[_0x281747(0x13b)]/0x3e8/0x3c),'consecutiveFailures':this[_0x281747(0x16a)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x281747(0x187)]?this[_0x281747(0x13b)]:undefined};}async[a40_0x499f4d(0x139)](){const _0x1d5de4=a40_0x499f4d;return console[_0x1d5de4(0x140)](_0x1d5de4(0x15b)),await this[_0x1d5de4(0x147)]();}}exports[a40_0x499f4d(0x172)]=DomainMonitoringService,exports[a40_0x499f4d(0x130)]=new DomainMonitoringService();