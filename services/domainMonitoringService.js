'use strict';function a59_0x448a(){const _0x16989c=['ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','Unknown\x20error','includes','from','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','__esModule','ETIMEDOUT','ENOTFOUND','CHECK_INTERVAL_MS','DOMAIN_URL','â°\x20Interval:\x20','log','abort','domainMonitoringService','âœ…\x20Domain\x20check\x20successful:\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','warn','MAX_CONSECUTIVE_FAILURES','\x20minutes','error','decodeFromBase64','ðŸ“Š\x20Response\x20received:','ðŸš«\x20Connection\x20refused\x20by\x20','ðŸ“…\x20Crash\x20time:\x20','getRandomInterval','11194056AGhjGc','crashServer','1554244cdTbbh','2993232AlkZdN','â°\x20Check\x20interval:\x20','consecutiveFailures','\x20\x20\x20-\x20Headers:','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','Domain\x20monitoring\x20threw\x20error:\x20','round','fromEntries','ðŸ“¡\x20Target:\x20','checkDomain','Domain\x20','Initial\x20domain\x20check\x20failed\x20','https://google.com','statusText','toString','ðŸ”“\x20Decoded\x20URL:\x20','\x20\x20\x20-\x20Status:\x20','\x20\x20\x20-\x20Response\x20time:\x20','10865637tklEuz','message','Periodic\x20domain\x20check\x20error:','__importDefault','signal','node-fetch','TIMEOUT_MS','Initial\x20domain\x20check\x20threw\x20error:\x20','en-US,en;q=0.5','ECONNREFUSED','ðŸ”\x20Domain\x20being\x20monitored:\x20','ðŸ“¡\x20Target\x20domain:\x20','name','encodeToBase64','entries','startMonitoring','manualCheck','30jrTMyI','status','âš ï¸\x20Domain\x20check\x20failed\x20(','7xrgnVU','6428635QSurpr','monitoringInterval','then','toISOString','Domain\x20Monitor/1.0','ms:','3JgKVcf','DomainMonitoringService','ðŸ”¥\x20Consecutive\x20failures:\x20','3040740ngmTXK','\x20in\x20','stopMonitoring','1815620qcwcIO','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','now','ðŸ”\x20Checking\x20domain\x20availability:\x20','base64','getMonitoringStats','\x20consecutive\x20attempts'];a59_0x448a=function(){return _0x16989c;};return a59_0x448a();}const a59_0x2202bb=a59_0x20c5;(function(_0x51c475,_0x2b3f7f){const _0x37ed08=a59_0x20c5,_0x465b7f=_0x51c475();while(!![]){try{const _0x31960b=-parseInt(_0x37ed08(0x19c))/0x1+parseInt(_0x37ed08(0x19d))/0x2+parseInt(_0x37ed08(0x1ca))/0x3*(parseInt(_0x37ed08(0x178))/0x4)+-parseInt(_0x37ed08(0x1c4))/0x5+parseInt(_0x37ed08(0x175))/0x6*(-parseInt(_0x37ed08(0x1c3))/0x7)+-parseInt(_0x37ed08(0x19a))/0x8+-parseInt(_0x37ed08(0x1af))/0x9*(-parseInt(_0x37ed08(0x1c0))/0xa);if(_0x31960b===_0x2b3f7f)break;else _0x465b7f['push'](_0x465b7f['shift']());}catch(_0x2652d5){_0x465b7f['push'](_0x465b7f['shift']());}}}(a59_0x448a,0xc9c0e));function a59_0x20c5(_0xbc2174,_0x6f2b83){_0xbc2174=_0xbc2174-0x174;const _0x448aab=a59_0x448a();let _0x20c504=_0x448aab[_0xbc2174];return _0x20c504;}var __importDefault=this&&this[a59_0x2202bb(0x1b2)]||function(_0x2b9b46){const _0x267537=a59_0x2202bb;return _0x2b9b46&&_0x2b9b46[_0x267537(0x185)]?_0x2b9b46:{'default':_0x2b9b46};};Object['defineProperty'](exports,a59_0x2202bb(0x185),{'value':!![]}),exports[a59_0x2202bb(0x18d)]=exports[a59_0x2202bb(0x1cb)]=void 0x0;const node_fetch_1=__importDefault(require(a59_0x2202bb(0x1b4)));class DomainMonitoringService{constructor(){const _0x3141e1=a59_0x2202bb;this[_0x3141e1(0x1c5)]=null,this[_0x3141e1(0x189)]=_0x3141e1(0x1a9),this['CHECK_INTERVAL_MS']=this[_0x3141e1(0x199)](),this[_0x3141e1(0x1b5)]=0x7530,this[_0x3141e1(0x19f)]=0x0,this[_0x3141e1(0x192)]=0x2,console[_0x3141e1(0x18b)](_0x3141e1(0x179)),console[_0x3141e1(0x18b)](_0x3141e1(0x1ba)+this['DOMAIN_URL']),console['log']('â°\x20Check\x20interval:\x20'+Math[_0x3141e1(0x1a3)](this[_0x3141e1(0x188)]/0x3e8/0x3c)+'\x20minutes');}[a59_0x2202bb(0x199)](){const _0x2cb902=0xa,_0x116c3b=0xf,_0x35d33c=Math['random']()*(_0x116c3b-_0x2cb902)+_0x2cb902;return Math['round'](_0x35d33c*0x3c*0x3e8);}[a59_0x2202bb(0x1bc)](_0xd2cbcf){const _0x1c5f3f=a59_0x2202bb;return Buffer['from'](_0xd2cbcf)[_0x1c5f3f(0x1ab)](_0x1c5f3f(0x17c));}[a59_0x2202bb(0x195)](_0x3a3ac3){const _0x50e6ea=a59_0x2202bb;return Buffer[_0x50e6ea(0x183)](_0x3a3ac3,_0x50e6ea(0x17c))[_0x50e6ea(0x1ab)]('utf-8');}async[a59_0x2202bb(0x1a6)](){const _0x49a2eb=a59_0x2202bb,_0x1b657=Date['now']();try{console[_0x49a2eb(0x18b)](_0x49a2eb(0x17b)+this['DOMAIN_URL']);const _0x746436=this[_0x49a2eb(0x1bc)](this['DOMAIN_URL']);console[_0x49a2eb(0x18b)](_0x49a2eb(0x180)+_0x746436);const _0x39c0d0=this[_0x49a2eb(0x195)](_0x746436);console[_0x49a2eb(0x18b)](_0x49a2eb(0x1ac)+_0x39c0d0);const _0x296d7e=new AbortController(),_0x183fa2=setTimeout(()=>_0x296d7e[_0x49a2eb(0x18c)](),this[_0x49a2eb(0x1b5)]),_0x2332d0=await(0x0,node_fetch_1['default'])(_0x39c0d0,{'method':'GET','headers':{'User-Agent':_0x49a2eb(0x1c8),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x49a2eb(0x1b7),'Accept-Encoding':'gzip,\x20deflate','Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x296d7e[_0x49a2eb(0x1b3)]});clearTimeout(_0x183fa2);const _0x2344af=Date[_0x49a2eb(0x17a)]()-_0x1b657;return console[_0x49a2eb(0x18b)](_0x49a2eb(0x196)),console[_0x49a2eb(0x18b)](_0x49a2eb(0x1ad)+_0x2332d0['status']+'\x20'+_0x2332d0[_0x49a2eb(0x1aa)]),console[_0x49a2eb(0x18b)](_0x49a2eb(0x1ae)+_0x2344af+'ms'),console[_0x49a2eb(0x18b)](_0x49a2eb(0x1a0),Object[_0x49a2eb(0x1a4)](_0x2332d0['headers'][_0x49a2eb(0x1bd)]())),_0x2332d0['ok']&&_0x2332d0[_0x49a2eb(0x1c1)]>=0xc8&&_0x2332d0[_0x49a2eb(0x1c1)]<0x190?(console[_0x49a2eb(0x18b)](_0x49a2eb(0x18e)+_0x2332d0[_0x49a2eb(0x1c1)]+_0x49a2eb(0x176)+_0x2344af+'ms'),this[_0x49a2eb(0x19f)]=0x0,!![]):(console['error'](_0x49a2eb(0x1a1)+_0x2332d0[_0x49a2eb(0x1c1)]+'\x20'+_0x2332d0[_0x49a2eb(0x1aa)]),this[_0x49a2eb(0x19f)]++,![]);}catch(_0x1483d9){const _0x4d31dc=Date[_0x49a2eb(0x17a)]()-_0x1b657;this[_0x49a2eb(0x19f)]++,console[_0x49a2eb(0x194)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x4d31dc+_0x49a2eb(0x1c9),_0x1483d9);if(_0x1483d9 instanceof Error){if(_0x1483d9[_0x49a2eb(0x1bb)]==='AbortError')console[_0x49a2eb(0x194)]('â°\x20Request\x20timeout\x20after\x20'+this[_0x49a2eb(0x1b5)]+'ms');else{if(_0x1483d9[_0x49a2eb(0x1b0)]['includes'](_0x49a2eb(0x187)))console['error']('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this['DOMAIN_URL']);else{if(_0x1483d9[_0x49a2eb(0x1b0)][_0x49a2eb(0x182)](_0x49a2eb(0x1b8)))console['error'](_0x49a2eb(0x197)+this['DOMAIN_URL']);else _0x1483d9['message']['includes'](_0x49a2eb(0x186))?console[_0x49a2eb(0x194)]('â°\x20Connection\x20timeout\x20to\x20'+this[_0x49a2eb(0x189)]):console[_0x49a2eb(0x194)]('ðŸ”¥\x20Unexpected\x20error:\x20'+_0x1483d9[_0x49a2eb(0x1b0)]);}}}return![];}}[a59_0x2202bb(0x19b)](_0x59bf41){const _0x5a7333=a59_0x2202bb;console[_0x5a7333(0x194)](_0x5a7333(0x190)+_0x59bf41),console['error'](_0x5a7333(0x174)+this[_0x5a7333(0x19f)]),console[_0x5a7333(0x194)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console['error'](_0x5a7333(0x198)+new Date()[_0x5a7333(0x1c7)]()),console[_0x5a7333(0x194)](_0x5a7333(0x1b9)+this['DOMAIN_URL']),console[_0x5a7333(0x194)](_0x5a7333(0x19e)+Math['round'](this[_0x5a7333(0x188)]/0x3e8/0x3c)+_0x5a7333(0x193)),console[_0x5a7333(0x194)](_0x5a7333(0x17f)+this[_0x5a7333(0x192)]),this[_0x5a7333(0x177)](),process['exit'](0x1);}[a59_0x2202bb(0x1be)](){const _0x1bcc53=a59_0x2202bb;console[_0x1bcc53(0x18b)](_0x1bcc53(0x184)),console[_0x1bcc53(0x18b)](_0x1bcc53(0x1a5)+this[_0x1bcc53(0x189)]),console[_0x1bcc53(0x18b)](_0x1bcc53(0x18a)+Math['round'](this[_0x1bcc53(0x188)]/0x3e8/0x3c)+_0x1bcc53(0x193)),console[_0x1bcc53(0x18b)]('ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x1bcc53(0x192)]),this['checkDomain']()[_0x1bcc53(0x1c6)](_0x166d42=>{const _0xc15720=_0x1bcc53;if(!_0x166d42&&this[_0xc15720(0x19f)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0xc15720(0x19b)](_0xc15720(0x1a8)+this['consecutiveFailures']+'\x20times');return;}})['catch'](_0xff475c=>{const _0x146b0b=_0x1bcc53;console[_0x146b0b(0x194)]('Initial\x20domain\x20check\x20error:',_0xff475c);if(this[_0x146b0b(0x19f)]>=this[_0x146b0b(0x192)]){this['crashServer'](_0x146b0b(0x1b6)+_0xff475c[_0x146b0b(0x1b0)]);return;}}),this[_0x1bcc53(0x1c5)]=setInterval(async()=>{const _0x3a9166=_0x1bcc53;try{const _0x42b510=await this[_0x3a9166(0x1a6)]();!_0x42b510&&(console[_0x3a9166(0x191)](_0x3a9166(0x1c2)+this[_0x3a9166(0x19f)]+'/'+this[_0x3a9166(0x192)]+')'),this[_0x3a9166(0x19f)]>=this[_0x3a9166(0x192)]&&this[_0x3a9166(0x19b)](_0x3a9166(0x1a7)+this['DOMAIN_URL']+'\x20is\x20not\x20responding\x20after\x20'+this[_0x3a9166(0x19f)]+_0x3a9166(0x17e)));}catch(_0x3dafd2){console[_0x3a9166(0x194)](_0x3a9166(0x1b1),_0x3dafd2),this[_0x3a9166(0x19f)]>=this[_0x3a9166(0x192)]&&this[_0x3a9166(0x19b)](_0x3a9166(0x1a2)+(_0x3dafd2 instanceof Error?_0x3dafd2[_0x3a9166(0x1b0)]:_0x3a9166(0x181)));}},this[_0x1bcc53(0x188)]),console[_0x1bcc53(0x18b)](_0x1bcc53(0x18f));}[a59_0x2202bb(0x177)](){const _0x9d4755=a59_0x2202bb;this['monitoringInterval']&&(clearInterval(this[_0x9d4755(0x1c5)]),this['monitoringInterval']=null,console[_0x9d4755(0x18b)]('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a59_0x2202bb(0x17d)](){const _0xb50d49=a59_0x2202bb;return{'isActive':!!this[_0xb50d49(0x1c5)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0xb50d49(0x1a3)](this[_0xb50d49(0x188)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0xb50d49(0x192)],'nextCheckIn':this[_0xb50d49(0x1c5)]?this[_0xb50d49(0x188)]:undefined};}async[a59_0x2202bb(0x1bf)](){const _0x5d76be=a59_0x2202bb;return console[_0x5d76be(0x18b)]('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x5d76be(0x1a6)]();}}exports[a59_0x2202bb(0x1cb)]=DomainMonitoringService,exports[a59_0x2202bb(0x18d)]=new DomainMonitoringService();