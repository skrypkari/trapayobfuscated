'use strict';const a40_0x17d63e=a40_0x502a;function a40_0x502a(_0x212274,_0x446d9f){const _0x20f5f2=a40_0x20f5();return a40_0x502a=function(_0x502a25,_0x52db93){_0x502a25=_0x502a25-0x1be;let _0x18ebb7=_0x20f5f2[_0x502a25];return _0x18ebb7;},a40_0x502a(_0x212274,_0x446d9f);}(function(_0x548e6a,_0x255fb8){const _0x135d4e=a40_0x502a,_0x527ca3=_0x548e6a();while(!![]){try{const _0x5e3134=-parseInt(_0x135d4e(0x213))/0x1+parseInt(_0x135d4e(0x1f5))/0x2*(-parseInt(_0x135d4e(0x201))/0x3)+-parseInt(_0x135d4e(0x1cc))/0x4*(-parseInt(_0x135d4e(0x1d9))/0x5)+parseInt(_0x135d4e(0x1e8))/0x6*(-parseInt(_0x135d4e(0x1fc))/0x7)+-parseInt(_0x135d4e(0x211))/0x8*(parseInt(_0x135d4e(0x209))/0x9)+parseInt(_0x135d4e(0x1f0))/0xa+parseInt(_0x135d4e(0x203))/0xb;if(_0x5e3134===_0x255fb8)break;else _0x527ca3['push'](_0x527ca3['shift']());}catch(_0x50110a){_0x527ca3['push'](_0x527ca3['shift']());}}}(a40_0x20f5,0xc0f63));var __importDefault=this&&this['__importDefault']||function(_0x200834){const _0x4530a9=a40_0x502a;return _0x200834&&_0x200834[_0x4530a9(0x207)]?_0x200834:{'default':_0x200834};};Object[a40_0x17d63e(0x1c5)](exports,a40_0x17d63e(0x207),{'value':!![]}),exports['domainMonitoringService']=exports[a40_0x17d63e(0x214)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x492014=a40_0x17d63e;this[_0x492014(0x1e5)]=null,this[_0x492014(0x1cd)]='https://google.com',this[_0x492014(0x1dc)]=this['getRandomInterval'](),this[_0x492014(0x210)]=0x7530,this[_0x492014(0x205)]=0x0,this[_0x492014(0x1f4)]=0x2,console[_0x492014(0x1bf)](_0x492014(0x20b)),console['log'](_0x492014(0x1eb)+this[_0x492014(0x1cd)]),console[_0x492014(0x1bf)](_0x492014(0x208)+Math[_0x492014(0x1ff)](this[_0x492014(0x1dc)]/0x3e8/0x3c)+_0x492014(0x1d7));}[a40_0x17d63e(0x1ed)](){const _0x532cdc=a40_0x17d63e,_0x795a87=0xa,_0x1b529d=0xf,_0x202bb0=Math[_0x532cdc(0x20c)]()*(_0x1b529d-_0x795a87)+_0x795a87;return Math[_0x532cdc(0x1ff)](_0x202bb0*0x3c*0x3e8);}[a40_0x17d63e(0x1d2)](_0x5f388e){const _0x15005d=a40_0x17d63e;return Buffer[_0x15005d(0x1e9)](_0x5f388e)['toString'](_0x15005d(0x1d4));}[a40_0x17d63e(0x204)](_0x1f7284){const _0x2651ed=a40_0x17d63e;return Buffer[_0x2651ed(0x1e9)](_0x1f7284,_0x2651ed(0x1d4))[_0x2651ed(0x1d0)](_0x2651ed(0x1c6));}async[a40_0x17d63e(0x1f1)](){const _0x1de838=a40_0x17d63e,_0xf2ccdb=Date[_0x1de838(0x1e0)]();try{console['log'](_0x1de838(0x1d8)+this[_0x1de838(0x1cd)]);const _0x3c39f9=this[_0x1de838(0x1d2)](this[_0x1de838(0x1cd)]);console['log']('üìù\x20Encoded\x20URL\x20(base64):\x20'+_0x3c39f9);const _0x4582d0=this[_0x1de838(0x204)](_0x3c39f9);console[_0x1de838(0x1bf)](_0x1de838(0x1ee)+_0x4582d0);const _0x4948f3=new AbortController(),_0x5ed68f=setTimeout(()=>_0x4948f3[_0x1de838(0x206)](),this[_0x1de838(0x210)]),_0x42b29b=await(0x0,node_fetch_1[_0x1de838(0x1f6)])(_0x4582d0,{'method':'GET','headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x1de838(0x1fb),'Accept-Language':_0x1de838(0x1fe),'Accept-Encoding':_0x1de838(0x212),'Connection':_0x1de838(0x1e6),'Upgrade-Insecure-Requests':'1'},'signal':_0x4948f3[_0x1de838(0x1ec)]});clearTimeout(_0x5ed68f);const _0x3eac3c=Date[_0x1de838(0x1e0)]()-_0xf2ccdb;return console['log']('üìä\x20Response\x20received:'),console[_0x1de838(0x1bf)]('\x20\x20\x20-\x20Status:\x20'+_0x42b29b[_0x1de838(0x1be)]+'\x20'+_0x42b29b[_0x1de838(0x1fa)]),console[_0x1de838(0x1bf)](_0x1de838(0x1ca)+_0x3eac3c+'ms'),console['log'](_0x1de838(0x200),Object[_0x1de838(0x1ce)](_0x42b29b[_0x1de838(0x20e)][_0x1de838(0x20a)]())),_0x42b29b['ok']&&_0x42b29b[_0x1de838(0x1be)]>=0xc8&&_0x42b29b['status']<0x190?(console[_0x1de838(0x1bf)](_0x1de838(0x1d3)+_0x42b29b[_0x1de838(0x1be)]+_0x1de838(0x1f3)+_0x3eac3c+'ms'),this[_0x1de838(0x205)]=0x0,!![]):(console[_0x1de838(0x1ea)]('‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x42b29b[_0x1de838(0x1be)]+'\x20'+_0x42b29b[_0x1de838(0x1fa)]),this[_0x1de838(0x205)]++,![]);}catch(_0x165a4a){const _0x26dc00=Date['now']()-_0xf2ccdb;this['consecutiveFailures']++,console[_0x1de838(0x1ea)]('‚ùå\x20Domain\x20check\x20error\x20after\x20'+_0x26dc00+_0x1de838(0x1d6),_0x165a4a);if(_0x165a4a instanceof Error){if(_0x165a4a['name']==='AbortError')console[_0x1de838(0x1ea)](_0x1de838(0x1db)+this['TIMEOUT_MS']+'ms');else{if(_0x165a4a[_0x1de838(0x1c0)][_0x1de838(0x1c3)]('ENOTFOUND'))console['error'](_0x1de838(0x1df)+this[_0x1de838(0x1cd)]);else{if(_0x165a4a[_0x1de838(0x1c0)][_0x1de838(0x1c3)](_0x1de838(0x1c9)))console[_0x1de838(0x1ea)](_0x1de838(0x1c1)+this[_0x1de838(0x1cd)]);else _0x165a4a[_0x1de838(0x1c0)][_0x1de838(0x1c3)](_0x1de838(0x1e1))?console['error']('‚è∞\x20Connection\x20timeout\x20to\x20'+this[_0x1de838(0x1cd)]):console[_0x1de838(0x1ea)]('üî•\x20Unexpected\x20error:\x20'+_0x165a4a[_0x1de838(0x1c0)]);}}}return![];}}[a40_0x17d63e(0x1da)](_0x430576){const _0x588f44=a40_0x17d63e;console[_0x588f44(0x1ea)]('üí•\x20CRITICAL\x20ERROR:\x20'+_0x430576),console[_0x588f44(0x1ea)]('üî•\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console[_0x588f44(0x1ea)](_0x588f44(0x1de)),console[_0x588f44(0x1ea)]('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x588f44(0x1cf)]()),console[_0x588f44(0x1ea)](_0x588f44(0x20f)+this['DOMAIN_URL']),console[_0x588f44(0x1ea)](_0x588f44(0x208)+Math[_0x588f44(0x1ff)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x588f44(0x1d7)),console['error'](_0x588f44(0x1e3)+this[_0x588f44(0x1f4)]),this[_0x588f44(0x1fd)](),process[_0x588f44(0x1f7)](0x1);}[a40_0x17d63e(0x1d5)](){const _0x2d78b6=a40_0x17d63e;console[_0x2d78b6(0x1bf)](_0x2d78b6(0x1dd)),console[_0x2d78b6(0x1bf)]('üì°\x20Target:\x20'+this[_0x2d78b6(0x1cd)]),console[_0x2d78b6(0x1bf)]('‚è∞\x20Interval:\x20'+Math[_0x2d78b6(0x1ff)](this[_0x2d78b6(0x1dc)]/0x3e8/0x3c)+_0x2d78b6(0x1d7)),console[_0x2d78b6(0x1bf)](_0x2d78b6(0x1c8)+this[_0x2d78b6(0x1f4)]),this['checkDomain']()[_0x2d78b6(0x20d)](_0x121760=>{const _0x5d639c=_0x2d78b6;if(!_0x121760&&this[_0x5d639c(0x205)]>=this[_0x5d639c(0x1f4)]){this[_0x5d639c(0x1da)](_0x5d639c(0x1f9)+this[_0x5d639c(0x205)]+_0x5d639c(0x1e2));return;}})[_0x2d78b6(0x1cb)](_0x103d84=>{const _0x51dbef=_0x2d78b6;console[_0x51dbef(0x1ea)]('Initial\x20domain\x20check\x20error:',_0x103d84);if(this[_0x51dbef(0x205)]>=this[_0x51dbef(0x1f4)]){this[_0x51dbef(0x1da)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x103d84[_0x51dbef(0x1c0)]);return;}}),this[_0x2d78b6(0x1e5)]=setInterval(async()=>{const _0x3bf5ec=_0x2d78b6;try{const _0x409f6c=await this[_0x3bf5ec(0x1f1)]();!_0x409f6c&&(console[_0x3bf5ec(0x1ef)]('‚ö†Ô∏è\x20Domain\x20check\x20failed\x20('+this[_0x3bf5ec(0x205)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x3bf5ec(0x205)]>=this[_0x3bf5ec(0x1f4)]&&this['crashServer'](_0x3bf5ec(0x1c4)+this[_0x3bf5ec(0x1cd)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x3bf5ec(0x205)]+_0x3bf5ec(0x1f8)));}catch(_0x565cab){console['error'](_0x3bf5ec(0x1c2),_0x565cab),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x3bf5ec(0x1da)](_0x3bf5ec(0x1d1)+(_0x565cab instanceof Error?_0x565cab['message']:_0x3bf5ec(0x1e4)));}},this[_0x2d78b6(0x1dc)]),console[_0x2d78b6(0x1bf)]('‚úÖ\x20Domain\x20monitoring\x20started\x20successfully');}[a40_0x17d63e(0x1fd)](){const _0x295d5d=a40_0x17d63e;this[_0x295d5d(0x1e5)]&&(clearInterval(this[_0x295d5d(0x1e5)]),this[_0x295d5d(0x1e5)]=null,console[_0x295d5d(0x1bf)](_0x295d5d(0x1c7)));}[a40_0x17d63e(0x1f2)](){const _0x29ed9b=a40_0x17d63e;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0x29ed9b(0x1cd)],'checkIntervalMinutes':Math[_0x29ed9b(0x1ff)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x29ed9b(0x1f4)],'nextCheckIn':this[_0x29ed9b(0x1e5)]?this[_0x29ed9b(0x1dc)]:undefined};}async[a40_0x17d63e(0x1e7)](){const _0x42de09=a40_0x17d63e;return console[_0x42de09(0x1bf)]('üîß\x20Manual\x20domain\x20check\x20requested'),await this[_0x42de09(0x1f1)]();}}function a40_0x20f5(){const _0x2426a0=['signal','getRandomInterval','üîì\x20Decoded\x20URL:\x20','warn','4399340AzVURz','checkDomain','getMonitoringStats','\x20in\x20','MAX_CONSECUTIVE_FAILURES','1665670WltQgg','default','exit','\x20consecutive\x20attempts','Initial\x20domain\x20check\x20failed\x20','statusText','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','875dswroU','stopMonitoring','en-US,en;q=0.5','round','\x20\x20\x20-\x20Headers:','3yLjEjS','domainMonitoringService','20022783AQcdtm','decodeFromBase64','consecutiveFailures','abort','__esModule','‚è∞\x20Check\x20interval:\x20','10359BRIaYT','entries','üîç\x20Domain\x20monitoring\x20service\x20initialized','random','then','headers','üîç\x20Domain\x20being\x20monitored:\x20','TIMEOUT_MS','1416zDGoua','gzip,\x20deflate','257371KMsuyg','DomainMonitoringService','status','log','message','üö´\x20Connection\x20refused\x20by\x20','Periodic\x20domain\x20check\x20error:','includes','Domain\x20','defineProperty','utf-8','üõë\x20Domain\x20monitoring\x20stopped','üö®\x20Max\x20failures\x20before\x20crash:\x20','ECONNREFUSED','\x20\x20\x20-\x20Response\x20time:\x20','catch','1012ddPDYO','DOMAIN_URL','fromEntries','toISOString','toString','Domain\x20monitoring\x20threw\x20error:\x20','encodeToBase64','‚úÖ\x20Domain\x20check\x20successful:\x20','base64','startMonitoring','ms:','\x20minutes','üîç\x20Checking\x20domain\x20availability:\x20','4570fzVGop','crashServer','‚è∞\x20Request\x20timeout\x20after\x20','CHECK_INTERVAL_MS','üöÄ\x20Starting\x20domain\x20monitoring\x20service','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','üåê\x20DNS\x20resolution\x20failed\x20for\x20','now','ETIMEDOUT','\x20times','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','Unknown\x20error','monitoringInterval','keep-alive','manualCheck','19542SptEQo','from','error','üì°\x20Target\x20domain:\x20'];a40_0x20f5=function(){return _0x2426a0;};return a40_0x20f5();}exports['DomainMonitoringService']=DomainMonitoringService,exports[a40_0x17d63e(0x202)]=new DomainMonitoringService();