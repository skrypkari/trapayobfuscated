'use strict';function a52_0x10b7(_0x3fb38e,_0x11bc7f){_0x3fb38e=_0x3fb38e-0xd8;const _0x59ed21=a52_0x59ed();let _0x10b7e4=_0x59ed21[_0x3fb38e];return _0x10b7e4;}const a52_0x558475=a52_0x10b7;(function(_0x1bee3f,_0x34d439){const _0x5182b0=a52_0x10b7,_0x42d3a2=_0x1bee3f();while(!![]){try{const _0x12b981=-parseInt(_0x5182b0(0x134))/0x1*(parseInt(_0x5182b0(0x11c))/0x2)+-parseInt(_0x5182b0(0xfb))/0x3+parseInt(_0x5182b0(0x11d))/0x4*(-parseInt(_0x5182b0(0x131))/0x5)+-parseInt(_0x5182b0(0xe2))/0x6+parseInt(_0x5182b0(0xe7))/0x7*(parseInt(_0x5182b0(0x102))/0x8)+parseInt(_0x5182b0(0xe0))/0x9+-parseInt(_0x5182b0(0xda))/0xa*(-parseInt(_0x5182b0(0x114))/0xb);if(_0x12b981===_0x34d439)break;else _0x42d3a2['push'](_0x42d3a2['shift']());}catch(_0x2879c0){_0x42d3a2['push'](_0x42d3a2['shift']());}}}(a52_0x59ed,0xc1d70));var __importDefault=this&&this[a52_0x558475(0xf3)]||function(_0x55fa99){return _0x55fa99&&_0x55fa99['__esModule']?_0x55fa99:{'default':_0x55fa99};};Object[a52_0x558475(0x123)](exports,a52_0x558475(0x11b),{'value':!![]}),exports[a52_0x558475(0xdb)]=exports[a52_0x558475(0x101)]=void 0x0;function a52_0x59ed(){const _0x193961=['CHECK_INTERVAL_MS','getMonitoringStats','ðŸ”\x20Checking\x20domain\x20availability:\x20','__esModule','293044GMOQvy','111948DhMYOH','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','utf-8','default','\x20\x20\x20-\x20Status:\x20','monitoringInterval','defineProperty','statusText','TIMEOUT_MS','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','Initial\x20domain\x20check\x20error:','ðŸ“¡\x20Target:\x20','https://google.com','gzip,\x20deflate','decodeFromBase64','toISOString','now','â°\x20Request\x20timeout\x20after\x20','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','â°\x20Connection\x20timeout\x20to\x20','20kBPqFC','consecutiveFailures','\x20minutes','3RYxFWY','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','560PpEQbN','domainMonitoringService','Domain\x20monitoring\x20threw\x20error:\x20','from','getRandomInterval','headers','3744297YvuHeh','ðŸ”¥\x20Consecutive\x20failures:\x20','5772180ywxwUr','\x20\x20\x20-\x20Response\x20time:\x20','node-fetch','signal','exit','3605084ycvWyt','keep-alive','entries','âœ…\x20Domain\x20monitoring\x20started\x20successfully','\x20in\x20','ðŸ”\x20Domain\x20being\x20monitored:\x20','ðŸ”“\x20Decoded\x20URL:\x20','ðŸ“Š\x20Response\x20received:','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','stopMonitoring','status','checkDomain','__importDefault','round','name','ðŸ›‘\x20Domain\x20monitoring\x20stopped','log','random','startMonitoring','en-US,en;q=0.5','62919PbmGww','\x20times','base64','AbortError','ETIMEDOUT','ðŸ“…\x20Crash\x20time:\x20','DomainMonitoringService','24dwFvVO','Periodic\x20domain\x20check\x20error:','encodeToBase64','â°\x20Interval:\x20','toString','Initial\x20domain\x20check\x20failed\x20','ms:','Domain\x20Monitor/1.0','MAX_CONSECUTIVE_FAILURES','crashServer','\x20consecutive\x20attempts','âœ…\x20Domain\x20check\x20successful:\x20','ðŸ”¥\x20Unexpected\x20error:\x20','error','DOMAIN_URL','Unknown\x20error','Domain\x20','includes','72171ggvrje','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','message','abort'];a52_0x59ed=function(){return _0x193961;};return a52_0x59ed();}const node_fetch_1=__importDefault(require(a52_0x558475(0xe4)));class DomainMonitoringService{constructor(){const _0x4e77d8=a52_0x558475;this[_0x4e77d8(0x122)]=null,this[_0x4e77d8(0x110)]=_0x4e77d8(0x129),this[_0x4e77d8(0x118)]=this[_0x4e77d8(0xde)](),this[_0x4e77d8(0x125)]=0x7530,this[_0x4e77d8(0x132)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x4e77d8(0xf7)](_0x4e77d8(0x12f)),console['log']('ðŸ“¡\x20Target\x20domain:\x20'+this[_0x4e77d8(0x110)]),console[_0x4e77d8(0xf7)]('â°\x20Check\x20interval:\x20'+Math[_0x4e77d8(0xf4)](this[_0x4e77d8(0x118)]/0x3e8/0x3c)+_0x4e77d8(0x133));}[a52_0x558475(0xde)](){const _0x39d10f=a52_0x558475,_0x1840bf=0xa,_0x2e27e5=0xf,_0x16d81a=Math[_0x39d10f(0xf8)]()*(_0x2e27e5-_0x1840bf)+_0x1840bf;return Math[_0x39d10f(0xf4)](_0x16d81a*0x3c*0x3e8);}[a52_0x558475(0x104)](_0x304df5){const _0x4bac70=a52_0x558475;return Buffer[_0x4bac70(0xdd)](_0x304df5)['toString'](_0x4bac70(0xfd));}[a52_0x558475(0x12b)](_0x1f4a17){const _0x2e794d=a52_0x558475;return Buffer[_0x2e794d(0xdd)](_0x1f4a17,_0x2e794d(0xfd))[_0x2e794d(0x106)](_0x2e794d(0x11f));}async[a52_0x558475(0xf2)](){const _0x4a1238=a52_0x558475,_0xda9d29=Date[_0x4a1238(0x12d)]();try{console[_0x4a1238(0xf7)](_0x4a1238(0x11a)+this[_0x4a1238(0x110)]);const _0x47f2dd=this[_0x4a1238(0x104)](this[_0x4a1238(0x110)]);console[_0x4a1238(0xf7)](_0x4a1238(0xd8)+_0x47f2dd);const _0x236b7c=this[_0x4a1238(0x12b)](_0x47f2dd);console[_0x4a1238(0xf7)](_0x4a1238(0xed)+_0x236b7c);const _0x28e901=new AbortController(),_0x5a7b16=setTimeout(()=>_0x28e901[_0x4a1238(0x117)](),this['TIMEOUT_MS']),_0x5652cd=await(0x0,node_fetch_1[_0x4a1238(0x120)])(_0x236b7c,{'method':'GET','headers':{'User-Agent':_0x4a1238(0x109),'Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0x4a1238(0xfa),'Accept-Encoding':_0x4a1238(0x12a),'Connection':_0x4a1238(0xe8),'Upgrade-Insecure-Requests':'1'},'signal':_0x28e901[_0x4a1238(0xe5)]});clearTimeout(_0x5a7b16);const _0x533590=Date['now']()-_0xda9d29;return console['log'](_0x4a1238(0xee)),console[_0x4a1238(0xf7)](_0x4a1238(0x121)+_0x5652cd['status']+'\x20'+_0x5652cd[_0x4a1238(0x124)]),console[_0x4a1238(0xf7)](_0x4a1238(0xe3)+_0x533590+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object['fromEntries'](_0x5652cd[_0x4a1238(0xdf)][_0x4a1238(0xe9)]())),_0x5652cd['ok']&&_0x5652cd[_0x4a1238(0xf1)]>=0xc8&&_0x5652cd[_0x4a1238(0xf1)]<0x190?(console['log'](_0x4a1238(0x10d)+_0x5652cd[_0x4a1238(0xf1)]+_0x4a1238(0xeb)+_0x533590+'ms'),this[_0x4a1238(0x132)]=0x0,!![]):(console['error']('âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x5652cd[_0x4a1238(0xf1)]+'\x20'+_0x5652cd['statusText']),this[_0x4a1238(0x132)]++,![]);}catch(_0x5060b9){const _0x2cfee1=Date[_0x4a1238(0x12d)]()-_0xda9d29;this[_0x4a1238(0x132)]++,console[_0x4a1238(0x10f)]('âŒ\x20Domain\x20check\x20error\x20after\x20'+_0x2cfee1+_0x4a1238(0x108),_0x5060b9);if(_0x5060b9 instanceof Error){if(_0x5060b9[_0x4a1238(0xf5)]===_0x4a1238(0xfe))console[_0x4a1238(0x10f)](_0x4a1238(0x12e)+this[_0x4a1238(0x125)]+'ms');else{if(_0x5060b9[_0x4a1238(0x116)][_0x4a1238(0x113)]('ENOTFOUND'))console[_0x4a1238(0x10f)](_0x4a1238(0xd9)+this[_0x4a1238(0x110)]);else{if(_0x5060b9[_0x4a1238(0x116)]['includes']('ECONNREFUSED'))console[_0x4a1238(0x10f)]('ðŸš«\x20Connection\x20refused\x20by\x20'+this[_0x4a1238(0x110)]);else _0x5060b9[_0x4a1238(0x116)][_0x4a1238(0x113)](_0x4a1238(0xff))?console['error'](_0x4a1238(0x130)+this[_0x4a1238(0x110)]):console[_0x4a1238(0x10f)](_0x4a1238(0x10e)+_0x5060b9[_0x4a1238(0x116)]);}}}return![];}}[a52_0x558475(0x10b)](_0x20cecb){const _0x31b2b0=a52_0x558475;console[_0x31b2b0(0x10f)](_0x31b2b0(0xef)+_0x20cecb),console[_0x31b2b0(0x10f)](_0x31b2b0(0xe1)+this[_0x31b2b0(0x132)]),console[_0x31b2b0(0x10f)]('âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x31b2b0(0x10f)](_0x31b2b0(0x100)+new Date()[_0x31b2b0(0x12c)]()),console[_0x31b2b0(0x10f)](_0x31b2b0(0xec)+this[_0x31b2b0(0x110)]),console[_0x31b2b0(0x10f)]('â°\x20Check\x20interval:\x20'+Math['round'](this[_0x31b2b0(0x118)]/0x3e8/0x3c)+'\x20minutes'),console['error'](_0x31b2b0(0x126)+this[_0x31b2b0(0x10a)]),this[_0x31b2b0(0xf0)](),process[_0x31b2b0(0xe6)](0x1);}[a52_0x558475(0xf9)](){const _0x9704ba=a52_0x558475;console['log'](_0x9704ba(0x11e)),console[_0x9704ba(0xf7)](_0x9704ba(0x128)+this[_0x9704ba(0x110)]),console['log'](_0x9704ba(0x105)+Math[_0x9704ba(0xf4)](this[_0x9704ba(0x118)]/0x3e8/0x3c)+_0x9704ba(0x133)),console['log'](_0x9704ba(0x115)+this[_0x9704ba(0x10a)]),this[_0x9704ba(0xf2)]()['then'](_0x404c37=>{const _0x449e9e=_0x9704ba;if(!_0x404c37&&this[_0x449e9e(0x132)]>=this[_0x449e9e(0x10a)]){this[_0x449e9e(0x10b)](_0x449e9e(0x107)+this['consecutiveFailures']+_0x449e9e(0xfc));return;}})['catch'](_0x1e8d01=>{const _0x4c494b=_0x9704ba;console[_0x4c494b(0x10f)](_0x4c494b(0x127),_0x1e8d01);if(this[_0x4c494b(0x132)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x4c494b(0x10b)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x1e8d01['message']);return;}}),this[_0x9704ba(0x122)]=setInterval(async()=>{const _0x315a20=_0x9704ba;try{const _0xccf275=await this[_0x315a20(0xf2)]();!_0xccf275&&(console['warn']('âš ï¸\x20Domain\x20check\x20failed\x20('+this[_0x315a20(0x132)]+'/'+this[_0x315a20(0x10a)]+')'),this[_0x315a20(0x132)]>=this[_0x315a20(0x10a)]&&this[_0x315a20(0x10b)](_0x315a20(0x112)+this[_0x315a20(0x110)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x315a20(0x132)]+_0x315a20(0x10c)));}catch(_0x3a1594){console[_0x315a20(0x10f)](_0x315a20(0x103),_0x3a1594),this[_0x315a20(0x132)]>=this[_0x315a20(0x10a)]&&this['crashServer'](_0x315a20(0xdc)+(_0x3a1594 instanceof Error?_0x3a1594['message']:_0x315a20(0x111)));}},this[_0x9704ba(0x118)]),console[_0x9704ba(0xf7)](_0x9704ba(0xea));}[a52_0x558475(0xf0)](){const _0x8c71a8=a52_0x558475;this[_0x8c71a8(0x122)]&&(clearInterval(this[_0x8c71a8(0x122)]),this[_0x8c71a8(0x122)]=null,console['log'](_0x8c71a8(0xf6)));}[a52_0x558475(0x119)](){const _0x2f6f6a=a52_0x558475;return{'isActive':!!this[_0x2f6f6a(0x122)],'targetDomain':this[_0x2f6f6a(0x110)],'checkIntervalMinutes':Math[_0x2f6f6a(0xf4)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this[_0x2f6f6a(0x132)],'maxFailuresAllowed':this[_0x2f6f6a(0x10a)],'nextCheckIn':this[_0x2f6f6a(0x122)]?this['CHECK_INTERVAL_MS']:undefined};}async['manualCheck'](){const _0x15c56c=a52_0x558475;return console[_0x15c56c(0xf7)]('ðŸ”§\x20Manual\x20domain\x20check\x20requested'),await this[_0x15c56c(0xf2)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();