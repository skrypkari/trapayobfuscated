'use strict';const a39_0x438b06=a39_0x3de8;(function(_0x27392c,_0x161fc2){const _0xbd5f12=a39_0x3de8,_0x385f57=_0x27392c();while(!![]){try{const _0x116216=-parseInt(_0xbd5f12(0x209))/0x1+-parseInt(_0xbd5f12(0x1e2))/0x2*(parseInt(_0xbd5f12(0x1e6))/0x3)+parseInt(_0xbd5f12(0x20c))/0x4+parseInt(_0xbd5f12(0x1c6))/0x5*(-parseInt(_0xbd5f12(0x208))/0x6)+-parseInt(_0xbd5f12(0x1f0))/0x7+parseInt(_0xbd5f12(0x21b))/0x8+parseInt(_0xbd5f12(0x1d1))/0x9;if(_0x116216===_0x161fc2)break;else _0x385f57['push'](_0x385f57['shift']());}catch(_0x523c54){_0x385f57['push'](_0x385f57['shift']());}}}(a39_0x2a00,0x8de95));var __importDefault=this&&this[a39_0x438b06(0x1e5)]||function(_0x5eadc2){const _0x2d79e1=a39_0x438b06;return _0x5eadc2&&_0x5eadc2[_0x2d79e1(0x1d0)]?_0x5eadc2:{'default':_0x5eadc2};};Object[a39_0x438b06(0x1e9)](exports,a39_0x438b06(0x1d0),{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x438b06(0x1e4)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x539190=a39_0x438b06;this[_0x539190(0x218)]=null,this[_0x539190(0x1f3)]=_0x539190(0x20a),this[_0x539190(0x1d2)]=this[_0x539190(0x1f6)](),this[_0x539190(0x1fa)]=0x7530,this[_0x539190(0x1c7)]=0x0,this[_0x539190(0x1ca)]=0x2,console[_0x539190(0x1f8)]('üîç\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x539190(0x1f8)](_0x539190(0x1ee)+this[_0x539190(0x1f3)]),console[_0x539190(0x1f8)]('‚è∞\x20Check\x20interval:\x20'+Math['round'](this[_0x539190(0x1d2)]/0x3e8/0x3c)+'\x20minutes');}['getRandomInterval'](){const _0x3bfda2=a39_0x438b06,_0x7fefff=0xa,_0x2348ac=0xf,_0x4d21b4=Math[_0x3bfda2(0x20b)]()*(_0x2348ac-_0x7fefff)+_0x7fefff;return Math[_0x3bfda2(0x1d8)](_0x4d21b4*0x3c*0x3e8);}['encodeToBase64'](_0x102ef6){const _0x1a7ea2=a39_0x438b06;return Buffer[_0x1a7ea2(0x1fb)](_0x102ef6)[_0x1a7ea2(0x206)]('base64');}[a39_0x438b06(0x1fd)](_0x3cc873){const _0x46274c=a39_0x438b06;return Buffer[_0x46274c(0x1fb)](_0x3cc873,_0x46274c(0x203))[_0x46274c(0x206)]('utf-8');}async['checkDomain'](){const _0x171fe1=a39_0x438b06,_0x565737=Date[_0x171fe1(0x1e0)]();try{console['log']('üîç\x20Checking\x20domain\x20availability:\x20'+this[_0x171fe1(0x1f3)]);const _0x18522b=this[_0x171fe1(0x1d6)](this[_0x171fe1(0x1f3)]);console[_0x171fe1(0x1f8)](_0x171fe1(0x1d3)+_0x18522b);const _0x4a896a=this[_0x171fe1(0x1fd)](_0x18522b);console[_0x171fe1(0x1f8)](_0x171fe1(0x1e1)+_0x4a896a);const _0x9ab11c=new AbortController(),_0xf32a6f=setTimeout(()=>_0x9ab11c['abort'](),this['TIMEOUT_MS']),_0x2856af=await(0x0,node_fetch_1[_0x171fe1(0x1db)])(_0x4a896a,{'method':_0x171fe1(0x1cd),'headers':{'User-Agent':_0x171fe1(0x21a),'Accept':_0x171fe1(0x215),'Accept-Language':_0x171fe1(0x1f1),'Accept-Encoding':_0x171fe1(0x216),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x9ab11c[_0x171fe1(0x201)]});clearTimeout(_0xf32a6f);const _0x11bcb9=Date[_0x171fe1(0x1e0)]()-_0x565737;return console[_0x171fe1(0x1f8)](_0x171fe1(0x205)),console[_0x171fe1(0x1f8)](_0x171fe1(0x20e)+_0x2856af[_0x171fe1(0x210)]+'\x20'+_0x2856af[_0x171fe1(0x1c2)]),console['log'](_0x171fe1(0x1c9)+_0x11bcb9+'ms'),console['log'](_0x171fe1(0x1ed),Object['fromEntries'](_0x2856af['headers'][_0x171fe1(0x1dd)]())),_0x2856af['ok']&&_0x2856af['status']>=0xc8&&_0x2856af[_0x171fe1(0x210)]<0x190?(console[_0x171fe1(0x1f8)](_0x171fe1(0x1eb)+_0x2856af['status']+'\x20in\x20'+_0x11bcb9+'ms'),this[_0x171fe1(0x1c7)]=0x0,!![]):(console[_0x171fe1(0x1e3)]('‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x2856af[_0x171fe1(0x210)]+'\x20'+_0x2856af[_0x171fe1(0x1c2)]),this[_0x171fe1(0x1c7)]++,![]);}catch(_0x1148e6){const _0xf60e91=Date[_0x171fe1(0x1e0)]()-_0x565737;this[_0x171fe1(0x1c7)]++,console[_0x171fe1(0x1e3)](_0x171fe1(0x219)+_0xf60e91+'ms:',_0x1148e6);if(_0x1148e6 instanceof Error){if(_0x1148e6[_0x171fe1(0x207)]==='AbortError')console[_0x171fe1(0x1e3)](_0x171fe1(0x20d)+this[_0x171fe1(0x1fa)]+'ms');else{if(_0x1148e6['message']['includes']('ENOTFOUND'))console[_0x171fe1(0x1e3)](_0x171fe1(0x200)+this['DOMAIN_URL']);else{if(_0x1148e6[_0x171fe1(0x202)][_0x171fe1(0x1f4)](_0x171fe1(0x1c3)))console[_0x171fe1(0x1e3)](_0x171fe1(0x214)+this['DOMAIN_URL']);else _0x1148e6[_0x171fe1(0x202)]['includes'](_0x171fe1(0x1d4))?console['error'](_0x171fe1(0x1d7)+this[_0x171fe1(0x1f3)]):console[_0x171fe1(0x1e3)](_0x171fe1(0x204)+_0x1148e6[_0x171fe1(0x202)]);}}}return![];}}['crashServer'](_0x4e430f){const _0x5b76bc=a39_0x438b06;console[_0x5b76bc(0x1e3)]('üí•\x20CRITICAL\x20ERROR:\x20'+_0x4e430f),console[_0x5b76bc(0x1e3)]('üî•\x20Consecutive\x20failures:\x20'+this[_0x5b76bc(0x1c7)]),console[_0x5b76bc(0x1e3)](_0x5b76bc(0x1ec)),console['error'](_0x5b76bc(0x1c5)+new Date()[_0x5b76bc(0x1da)]()),console['error'](_0x5b76bc(0x1e7)+this[_0x5b76bc(0x1f3)]),console['error'](_0x5b76bc(0x1ea)+Math['round'](this[_0x5b76bc(0x1d2)]/0x3e8/0x3c)+_0x5b76bc(0x1f7)),console[_0x5b76bc(0x1e3)](_0x5b76bc(0x217)+this[_0x5b76bc(0x1ca)]),this[_0x5b76bc(0x213)](),process[_0x5b76bc(0x1f5)](0x1);}[a39_0x438b06(0x1de)](){const _0xcbbce8=a39_0x438b06;console[_0xcbbce8(0x1f8)](_0xcbbce8(0x1ff)),console['log'](_0xcbbce8(0x1c4)+this[_0xcbbce8(0x1f3)]),console[_0xcbbce8(0x1f8)](_0xcbbce8(0x212)+Math['round'](this[_0xcbbce8(0x1d2)]/0x3e8/0x3c)+_0xcbbce8(0x1f7)),console[_0xcbbce8(0x1f8)](_0xcbbce8(0x20f)+this['MAX_CONSECUTIVE_FAILURES']),this[_0xcbbce8(0x1dc)]()['then'](_0x35084e=>{const _0x2b67c2=_0xcbbce8;if(!_0x35084e&&this[_0x2b67c2(0x1c7)]>=this[_0x2b67c2(0x1ca)]){this[_0x2b67c2(0x1e8)](_0x2b67c2(0x1df)+this['consecutiveFailures']+'\x20times');return;}})[_0xcbbce8(0x1c1)](_0x22f198=>{const _0x5819d2=_0xcbbce8;console[_0x5819d2(0x1e3)]('Initial\x20domain\x20check\x20error:',_0x22f198);if(this[_0x5819d2(0x1c7)]>=this[_0x5819d2(0x1ca)]){this[_0x5819d2(0x1e8)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x22f198[_0x5819d2(0x202)]);return;}}),this[_0xcbbce8(0x218)]=setInterval(async()=>{const _0x540cb9=_0xcbbce8;try{const _0x30ff0d=await this[_0x540cb9(0x1dc)]();!_0x30ff0d&&(console[_0x540cb9(0x1fe)](_0x540cb9(0x1ce)+this['consecutiveFailures']+'/'+this[_0x540cb9(0x1ca)]+')'),this[_0x540cb9(0x1c7)]>=this[_0x540cb9(0x1ca)]&&this[_0x540cb9(0x1e8)](_0x540cb9(0x1f9)+this[_0x540cb9(0x1f3)]+_0x540cb9(0x1cc)+this[_0x540cb9(0x1c7)]+_0x540cb9(0x1d9)));}catch(_0x227574){console['error'](_0x540cb9(0x1cb),_0x227574),this['consecutiveFailures']>=this[_0x540cb9(0x1ca)]&&this[_0x540cb9(0x1e8)](_0x540cb9(0x1cf)+(_0x227574 instanceof Error?_0x227574[_0x540cb9(0x202)]:_0x540cb9(0x1f2)));}},this[_0xcbbce8(0x1d2)]),console['log'](_0xcbbce8(0x1fc));}[a39_0x438b06(0x213)](){const _0x5879fa=a39_0x438b06;this[_0x5879fa(0x218)]&&(clearInterval(this[_0x5879fa(0x218)]),this['monitoringInterval']=null,console[_0x5879fa(0x1f8)](_0x5879fa(0x1d5)));}[a39_0x438b06(0x211)](){const _0x57e56c=a39_0x438b06;return{'isActive':!!this['monitoringInterval'],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x57e56c(0x1d8)](this[_0x57e56c(0x1d2)]/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x57e56c(0x1ca)],'nextCheckIn':this[_0x57e56c(0x218)]?this[_0x57e56c(0x1d2)]:undefined};}async[a39_0x438b06(0x1c8)](){const _0x3dcaa9=a39_0x438b06;return console[_0x3dcaa9(0x1f8)]('üîß\x20Manual\x20domain\x20check\x20requested'),await this[_0x3dcaa9(0x1dc)]();}}exports[a39_0x438b06(0x1e4)]=DomainMonitoringService,exports[a39_0x438b06(0x1ef)]=new DomainMonitoringService();function a39_0x3de8(_0x56c01a,_0x10be4c){const _0x2a0016=a39_0x2a00();return a39_0x3de8=function(_0x3de863,_0x411235){_0x3de863=_0x3de863-0x1c1;let _0x301588=_0x2a0016[_0x3de863];return _0x301588;},a39_0x3de8(_0x56c01a,_0x10be4c);}function a39_0x2a00(){const _0x1b9553=['4992200xRzSkc','catch','statusText','ECONNREFUSED','üì°\x20Target:\x20','üìÖ\x20Crash\x20time:\x20','3037145EGxmVc','consecutiveFailures','manualCheck','\x20\x20\x20-\x20Response\x20time:\x20','MAX_CONSECUTIVE_FAILURES','Periodic\x20domain\x20check\x20error:','\x20is\x20not\x20responding\x20after\x20','GET','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','Domain\x20monitoring\x20threw\x20error:\x20','__esModule','18031500SYtEia','CHECK_INTERVAL_MS','üìù\x20Encoded\x20URL\x20(base64):\x20','ETIMEDOUT','üõë\x20Domain\x20monitoring\x20stopped','encodeToBase64','‚è∞\x20Connection\x20timeout\x20to\x20','round','\x20consecutive\x20attempts','toISOString','default','checkDomain','entries','startMonitoring','Initial\x20domain\x20check\x20failed\x20','now','üîì\x20Decoded\x20URL:\x20','2JvcyGg','error','DomainMonitoringService','__importDefault','3159825uIqgXM','üîç\x20Domain\x20being\x20monitored:\x20','crashServer','defineProperty','‚è∞\x20Check\x20interval:\x20','‚úÖ\x20Domain\x20check\x20successful:\x20','‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','\x20\x20\x20-\x20Headers:','üì°\x20Target\x20domain:\x20','domainMonitoringService','1717800tgRdNX','en-US,en;q=0.5','Unknown\x20error','DOMAIN_URL','includes','exit','getRandomInterval','\x20minutes','log','Domain\x20','TIMEOUT_MS','from','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','decodeFromBase64','warn','üöÄ\x20Starting\x20domain\x20monitoring\x20service','üåê\x20DNS\x20resolution\x20failed\x20for\x20','signal','message','base64','üî•\x20Unexpected\x20error:\x20','üìä\x20Response\x20received:','toString','name','6xeHnUt','960527pqSceU','https://google.com','random','3281500ZprSbV','‚è∞\x20Request\x20timeout\x20after\x20','\x20\x20\x20-\x20Status:\x20','üö®\x20Max\x20failures\x20before\x20crash:\x20','status','getMonitoringStats','‚è∞\x20Interval:\x20','stopMonitoring','üö´\x20Connection\x20refused\x20by\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','gzip,\x20deflate','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','monitoringInterval','‚ùå\x20Domain\x20check\x20error\x20after\x20','TesSoft\x20Domain\x20Monitor/1.0'];a39_0x2a00=function(){return _0x1b9553;};return a39_0x2a00();}