'use strict';const a50_0x165ed9=a50_0x3802;(function(_0x3f5b7c,_0x2d6c5b){const _0x1d885d=a50_0x3802,_0x148ace=_0x3f5b7c();while(!![]){try{const _0x2aaaf6=parseInt(_0x1d885d(0x193))/0x1+parseInt(_0x1d885d(0x19c))/0x2+parseInt(_0x1d885d(0x199))/0x3*(parseInt(_0x1d885d(0x181))/0x4)+-parseInt(_0x1d885d(0x16b))/0x5*(-parseInt(_0x1d885d(0x1b7))/0x6)+parseInt(_0x1d885d(0x1b8))/0x7+parseInt(_0x1d885d(0x160))/0x8+parseInt(_0x1d885d(0x1ad))/0x9*(-parseInt(_0x1d885d(0x19d))/0xa);if(_0x2aaaf6===_0x2d6c5b)break;else _0x148ace['push'](_0x148ace['shift']());}catch(_0x39b5fc){_0x148ace['push'](_0x148ace['shift']());}}}(a50_0x55c9,0x98665));function a50_0x3802(_0x2aaed1,_0xf22237){_0x2aaed1=_0x2aaed1-0x160;const _0x55c9e6=a50_0x55c9();let _0x3802d4=_0x55c9e6[_0x2aaed1];return _0x3802d4;}function a50_0x55c9(){const _0x18ad51=['âœ…\x20Domain\x20check\x20successful:\x20','ðŸ“¡\x20Target:\x20','checkDomain','message','\x20consecutive\x20attempts','ðŸ”“\x20Decoded\x20URL:\x20','round','18VZpttp','__importDefault','statusText','ðŸ”\x20Checking\x20domain\x20availability:\x20','from','Initial\x20domain\x20check\x20threw\x20error:\x20','getMonitoringStats','consecutiveFailures','ðŸ“¡\x20Target\x20domain:\x20','CHECK_INTERVAL_MS','654cGnhdc','6017830bAPgvK','âŒ\x20Domain\x20check\x20error\x20after\x20','\x20minutes','encodeToBase64','ðŸ”§\x20Manual\x20domain\x20check\x20requested','7092416cqqVBO','DOMAIN_URL','manualCheck','\x20is\x20not\x20responding\x20after\x20','AbortError','fromEntries','ENOTFOUND','\x20\x20\x20-\x20Response\x20time:\x20','toString','ECONNREFUSED','Periodic\x20domain\x20check\x20error:','44170oLIHhE','error','gzip,\x20deflate','abort','Domain\x20monitoring\x20threw\x20error:\x20','stopMonitoring','crashServer','monitoringInterval','â°\x20Connection\x20timeout\x20to\x20','DomainMonitoringService','utf-8','Domain\x20Monitor/1.0','\x20\x20\x20-\x20Status:\x20','default','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','now','TIMEOUT_MS','toISOString','headers','__esModule','ðŸ”¥\x20Unexpected\x20error:\x20','then','482252bJArTg','â°\x20Check\x20interval:\x20','âœ…\x20Domain\x20monitoring\x20started\x20successfully','ðŸ“…\x20Crash\x20time:\x20','domainMonitoringService','â°\x20Interval:\x20','ðŸ”¥\x20Consecutive\x20failures:\x20','decodeFromBase64','warn','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','startMonitoring','\x20\x20\x20-\x20Headers:','en-US,en;q=0.5','MAX_CONSECUTIVE_FAILURES','getRandomInterval','name','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','includes','1001481rAaSNL','base64','\x20in\x20','status','GET','Domain\x20','30DLrbRO','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','log','110268qcSbdb','21735820lZOfxk','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','â°\x20Request\x20timeout\x20after\x20','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','node-fetch','ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20','exit','ðŸ”\x20Domain\x20being\x20monitored:\x20'];a50_0x55c9=function(){return _0x18ad51;};return a50_0x55c9();}var __importDefault=this&&this[a50_0x165ed9(0x1ae)]||function(_0x3cb26f){return _0x3cb26f&&_0x3cb26f['__esModule']?_0x3cb26f:{'default':_0x3cb26f};};Object['defineProperty'](exports,a50_0x165ed9(0x17e),{'value':!![]}),exports['domainMonitoringService']=exports[a50_0x165ed9(0x174)]=void 0x0;const node_fetch_1=__importDefault(require(a50_0x165ed9(0x1a2)));class DomainMonitoringService{constructor(){const _0xa7697d=a50_0x165ed9;this[_0xa7697d(0x172)]=null,this[_0xa7697d(0x161)]='https://google.com',this[_0xa7697d(0x1b6)]=this[_0xa7697d(0x18f)](),this[_0xa7697d(0x17b)]=0x7530,this[_0xa7697d(0x1b4)]=0x0,this[_0xa7697d(0x18e)]=0x2,console[_0xa7697d(0x19b)](_0xa7697d(0x18a)),console[_0xa7697d(0x19b)](_0xa7697d(0x1b5)+this[_0xa7697d(0x161)]),console['log'](_0xa7697d(0x182)+Math[_0xa7697d(0x1ac)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0xa7697d(0x1ba));}['getRandomInterval'](){const _0x17c1e0=0xa,_0x4a7950=0xf,_0x51794f=Math['random']()*(_0x4a7950-_0x17c1e0)+_0x17c1e0;return Math['round'](_0x51794f*0x3c*0x3e8);}['encodeToBase64'](_0xdc6a51){const _0x31337c=a50_0x165ed9;return Buffer[_0x31337c(0x1b1)](_0xdc6a51)['toString'](_0x31337c(0x194));}[a50_0x165ed9(0x188)](_0x13b916){const _0x486ed9=a50_0x165ed9;return Buffer[_0x486ed9(0x1b1)](_0x13b916,_0x486ed9(0x194))[_0x486ed9(0x168)](_0x486ed9(0x175));}async[a50_0x165ed9(0x1a8)](){const _0x19946b=a50_0x165ed9,_0x58285d=Date['now']();try{console[_0x19946b(0x19b)](_0x19946b(0x1b0)+this['DOMAIN_URL']);const _0x29f0f7=this[_0x19946b(0x1bb)](this[_0x19946b(0x161)]);console[_0x19946b(0x19b)]('ðŸ“\x20Encoded\x20URL\x20(base64):\x20'+_0x29f0f7);const _0x171659=this[_0x19946b(0x188)](_0x29f0f7);console[_0x19946b(0x19b)](_0x19946b(0x1ab)+_0x171659);const _0x2e5776=new AbortController(),_0x496561=setTimeout(()=>_0x2e5776[_0x19946b(0x16e)](),this[_0x19946b(0x17b)]),_0x3e2ca0=await(0x0,node_fetch_1[_0x19946b(0x178)])(_0x171659,{'method':_0x19946b(0x197),'headers':{'User-Agent':_0x19946b(0x176),'Accept':_0x19946b(0x19f),'Accept-Language':_0x19946b(0x18d),'Accept-Encoding':_0x19946b(0x16d),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x2e5776['signal']});clearTimeout(_0x496561);const _0x130165=Date[_0x19946b(0x17a)]()-_0x58285d;return console[_0x19946b(0x19b)]('ðŸ“Š\x20Response\x20received:'),console[_0x19946b(0x19b)](_0x19946b(0x177)+_0x3e2ca0[_0x19946b(0x196)]+'\x20'+_0x3e2ca0['statusText']),console[_0x19946b(0x19b)](_0x19946b(0x167)+_0x130165+'ms'),console[_0x19946b(0x19b)](_0x19946b(0x18c),Object[_0x19946b(0x165)](_0x3e2ca0[_0x19946b(0x17d)]['entries']())),_0x3e2ca0['ok']&&_0x3e2ca0[_0x19946b(0x196)]>=0xc8&&_0x3e2ca0['status']<0x190?(console[_0x19946b(0x19b)](_0x19946b(0x1a6)+_0x3e2ca0[_0x19946b(0x196)]+_0x19946b(0x195)+_0x130165+'ms'),this[_0x19946b(0x1b4)]=0x0,!![]):(console['error'](_0x19946b(0x179)+_0x3e2ca0[_0x19946b(0x196)]+'\x20'+_0x3e2ca0[_0x19946b(0x1af)]),this[_0x19946b(0x1b4)]++,![]);}catch(_0x2183b3){const _0x426a5c=Date[_0x19946b(0x17a)]()-_0x58285d;this[_0x19946b(0x1b4)]++,console[_0x19946b(0x16c)](_0x19946b(0x1b9)+_0x426a5c+'ms:',_0x2183b3);if(_0x2183b3 instanceof Error){if(_0x2183b3[_0x19946b(0x190)]===_0x19946b(0x164))console[_0x19946b(0x16c)](_0x19946b(0x1a0)+this[_0x19946b(0x17b)]+'ms');else{if(_0x2183b3['message']['includes'](_0x19946b(0x166)))console['error'](_0x19946b(0x1a3)+this[_0x19946b(0x161)]);else{if(_0x2183b3[_0x19946b(0x1a9)][_0x19946b(0x192)](_0x19946b(0x169)))console[_0x19946b(0x16c)]('ðŸš«\x20Connection\x20refused\x20by\x20'+this[_0x19946b(0x161)]);else _0x2183b3[_0x19946b(0x1a9)]['includes']('ETIMEDOUT')?console[_0x19946b(0x16c)](_0x19946b(0x173)+this[_0x19946b(0x161)]):console['error'](_0x19946b(0x17f)+_0x2183b3[_0x19946b(0x1a9)]);}}}return![];}}[a50_0x165ed9(0x171)](_0x5ce191){const _0x3d2d06=a50_0x165ed9;console[_0x3d2d06(0x16c)]('ðŸ’¥\x20CRITICAL\x20ERROR:\x20'+_0x5ce191),console[_0x3d2d06(0x16c)](_0x3d2d06(0x187)+this['consecutiveFailures']),console[_0x3d2d06(0x16c)](_0x3d2d06(0x1a1)),console[_0x3d2d06(0x16c)](_0x3d2d06(0x184)+new Date()[_0x3d2d06(0x17c)]()),console[_0x3d2d06(0x16c)](_0x3d2d06(0x1a5)+this['DOMAIN_URL']),console['error']('â°\x20Check\x20interval:\x20'+Math[_0x3d2d06(0x1ac)](this[_0x3d2d06(0x1b6)]/0x3e8/0x3c)+_0x3d2d06(0x1ba)),console[_0x3d2d06(0x16c)](_0x3d2d06(0x19e)+this[_0x3d2d06(0x18e)]),this[_0x3d2d06(0x170)](),process[_0x3d2d06(0x1a4)](0x1);}[a50_0x165ed9(0x18b)](){const _0x108ad8=a50_0x165ed9;console[_0x108ad8(0x19b)](_0x108ad8(0x191)),console['log'](_0x108ad8(0x1a7)+this[_0x108ad8(0x161)]),console[_0x108ad8(0x19b)](_0x108ad8(0x186)+Math[_0x108ad8(0x1ac)](this[_0x108ad8(0x1b6)]/0x3e8/0x3c)+_0x108ad8(0x1ba)),console[_0x108ad8(0x19b)](_0x108ad8(0x19a)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x108ad8(0x180)](_0x31a9ad=>{const _0x4471cb=_0x108ad8;if(!_0x31a9ad&&this[_0x4471cb(0x1b4)]>=this[_0x4471cb(0x18e)]){this[_0x4471cb(0x171)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x4471cb(0x1b4)]+'\x20times');return;}})['catch'](_0x21dd7b=>{const _0x5a9ed8=_0x108ad8;console[_0x5a9ed8(0x16c)]('Initial\x20domain\x20check\x20error:',_0x21dd7b);if(this[_0x5a9ed8(0x1b4)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x5a9ed8(0x171)](_0x5a9ed8(0x1b2)+_0x21dd7b[_0x5a9ed8(0x1a9)]);return;}}),this[_0x108ad8(0x172)]=setInterval(async()=>{const _0x30ef4c=_0x108ad8;try{const _0x168ce7=await this['checkDomain']();!_0x168ce7&&(console[_0x30ef4c(0x189)]('âš ï¸\x20Domain\x20check\x20failed\x20('+this[_0x30ef4c(0x1b4)]+'/'+this[_0x30ef4c(0x18e)]+')'),this['consecutiveFailures']>=this[_0x30ef4c(0x18e)]&&this[_0x30ef4c(0x171)](_0x30ef4c(0x198)+this['DOMAIN_URL']+_0x30ef4c(0x163)+this['consecutiveFailures']+_0x30ef4c(0x1aa)));}catch(_0x4a7d61){console['error'](_0x30ef4c(0x16a),_0x4a7d61),this[_0x30ef4c(0x1b4)]>=this[_0x30ef4c(0x18e)]&&this[_0x30ef4c(0x171)](_0x30ef4c(0x16f)+(_0x4a7d61 instanceof Error?_0x4a7d61[_0x30ef4c(0x1a9)]:'Unknown\x20error'));}},this[_0x108ad8(0x1b6)]),console[_0x108ad8(0x19b)](_0x108ad8(0x183));}[a50_0x165ed9(0x170)](){const _0x22ba18=a50_0x165ed9;this['monitoringInterval']&&(clearInterval(this[_0x22ba18(0x172)]),this['monitoringInterval']=null,console['log']('ðŸ›‘\x20Domain\x20monitoring\x20stopped'));}[a50_0x165ed9(0x1b3)](){const _0x2d9329=a50_0x165ed9;return{'isActive':!!this[_0x2d9329(0x172)],'targetDomain':this[_0x2d9329(0x161)],'checkIntervalMinutes':Math[_0x2d9329(0x1ac)](this[_0x2d9329(0x1b6)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2d9329(0x1b4)],'maxFailuresAllowed':this[_0x2d9329(0x18e)],'nextCheckIn':this[_0x2d9329(0x172)]?this[_0x2d9329(0x1b6)]:undefined};}async[a50_0x165ed9(0x162)](){const _0x4fcf27=a50_0x165ed9;return console['log'](_0x4fcf27(0x1bc)),await this[_0x4fcf27(0x1a8)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a50_0x165ed9(0x185)]=new DomainMonitoringService();