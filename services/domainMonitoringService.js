'use strict';function a39_0x8974(_0x1d95fe,_0x3b7857){const _0x1c14d8=a39_0x1c14();return a39_0x8974=function(_0x897425,_0x120e7e){_0x897425=_0x897425-0xa5;let _0x38ca4e=_0x1c14d8[_0x897425];return _0x38ca4e;},a39_0x8974(_0x1d95fe,_0x3b7857);}const a39_0x1174a8=a39_0x8974;(function(_0x146ed9,_0x2aaf40){const _0x476424=a39_0x8974,_0x2dfcfe=_0x146ed9();while(!![]){try{const _0x3733bd=-parseInt(_0x476424(0xfc))/0x1+-parseInt(_0x476424(0xfd))/0x2+-parseInt(_0x476424(0xac))/0x3+parseInt(_0x476424(0xea))/0x4+-parseInt(_0x476424(0xaf))/0x5*(parseInt(_0x476424(0xf4))/0x6)+-parseInt(_0x476424(0xf8))/0x7+-parseInt(_0x476424(0xd3))/0x8*(-parseInt(_0x476424(0xc4))/0x9);if(_0x3733bd===_0x2aaf40)break;else _0x2dfcfe['push'](_0x2dfcfe['shift']());}catch(_0x2d884f){_0x2dfcfe['push'](_0x2dfcfe['shift']());}}}(a39_0x1c14,0xc9a1c));var __importDefault=this&&this[a39_0x1174a8(0xfb)]||function(_0x48e4c7){const _0x5ebf46=a39_0x1174a8;return _0x48e4c7&&_0x48e4c7[_0x5ebf46(0xf6)]?_0x48e4c7:{'default':_0x48e4c7};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x1174a8(0xf0)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x1174a8(0x103)));class DomainMonitoringService{constructor(){const _0x3200c0=a39_0x1174a8;this[_0x3200c0(0xd9)]=null,this[_0x3200c0(0xee)]=_0x3200c0(0xf9),this[_0x3200c0(0xe9)]=this[_0x3200c0(0xbe)](),this[_0x3200c0(0xbc)]=0x7530,this['consecutiveFailures']=0x0,this[_0x3200c0(0xca)]=0x2,console[_0x3200c0(0xdf)](_0x3200c0(0xc9)),console[_0x3200c0(0xdf)](_0x3200c0(0xba)+this['DOMAIN_URL']),console[_0x3200c0(0xdf)](_0x3200c0(0xaa)+Math[_0x3200c0(0xd2)](this[_0x3200c0(0xe9)]/0x3e8/0x3c)+_0x3200c0(0x102));}['getRandomInterval'](){const _0x2585f7=a39_0x1174a8,_0x5be665=0xa,_0x5dd40a=0xf,_0x23a3bb=Math[_0x2585f7(0xb4)]()*(_0x5dd40a-_0x5be665)+_0x5be665;return Math[_0x2585f7(0xd2)](_0x23a3bb*0x3c*0x3e8);}[a39_0x1174a8(0xe2)](_0x57583f){const _0x5ab0d9=a39_0x1174a8;return Buffer['from'](_0x57583f)[_0x5ab0d9(0xb5)]('base64');}[a39_0x1174a8(0xef)](_0x586593){const _0x22914c=a39_0x1174a8;return Buffer[_0x22914c(0xc6)](_0x586593,_0x22914c(0xc3))['toString'](_0x22914c(0xb9));}async[a39_0x1174a8(0xdd)](){const _0x15575b=a39_0x1174a8,_0x3bbc=Date[_0x15575b(0xd5)]();try{console[_0x15575b(0xdf)](_0x15575b(0xd4)+this[_0x15575b(0xee)]);const _0x19dab3=this[_0x15575b(0xe2)](this[_0x15575b(0xee)]);console[_0x15575b(0xdf)](_0x15575b(0xb1)+_0x19dab3);const _0x53b5e4=this[_0x15575b(0xef)](_0x19dab3);console[_0x15575b(0xdf)](_0x15575b(0xa5)+_0x53b5e4);const _0x369ba3=new AbortController(),_0x12123a=setTimeout(()=>_0x369ba3['abort'](),this[_0x15575b(0xbc)]),_0x317dab=await(0x0,node_fetch_1[_0x15575b(0xb8)])(_0x53b5e4,{'method':_0x15575b(0xf1),'headers':{'User-Agent':_0x15575b(0xf5),'Accept':_0x15575b(0xce),'Accept-Language':_0x15575b(0xd6),'Accept-Encoding':_0x15575b(0xab),'Connection':_0x15575b(0xec),'Upgrade-Insecure-Requests':'1'},'signal':_0x369ba3[_0x15575b(0xed)]});clearTimeout(_0x12123a);const _0x21687d=Date[_0x15575b(0xd5)]()-_0x3bbc;return console[_0x15575b(0xdf)](_0x15575b(0xcb)),console[_0x15575b(0xdf)](_0x15575b(0xde)+_0x317dab['status']+'\x20'+_0x317dab[_0x15575b(0xf3)]),console[_0x15575b(0xdf)](_0x15575b(0xb0)+_0x21687d+'ms'),console['log']('\x20\x20\x20-\x20Headers:',Object[_0x15575b(0xc0)](_0x317dab[_0x15575b(0xd1)]['entries']())),_0x317dab['ok']&&_0x317dab[_0x15575b(0xe7)]>=0xc8&&_0x317dab[_0x15575b(0xe7)]<0x190?(console[_0x15575b(0xdf)]('✅\x20Domain\x20check\x20successful:\x20'+_0x317dab[_0x15575b(0xe7)]+_0x15575b(0xe5)+_0x21687d+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x15575b(0xff)](_0x15575b(0xdc)+_0x317dab[_0x15575b(0xe7)]+'\x20'+_0x317dab['statusText']),this['consecutiveFailures']++,![]);}catch(_0x5789cc){const _0x5b90e6=Date['now']()-_0x3bbc;this[_0x15575b(0xe1)]++,console[_0x15575b(0xff)](_0x15575b(0xbf)+_0x5b90e6+_0x15575b(0xe4),_0x5789cc);if(_0x5789cc instanceof Error){if(_0x5789cc[_0x15575b(0xc8)]===_0x15575b(0xd0))console[_0x15575b(0xff)]('⏰\x20Request\x20timeout\x20after\x20'+this['TIMEOUT_MS']+'ms');else{if(_0x5789cc[_0x15575b(0xcf)][_0x15575b(0xbd)]('ENOTFOUND'))console[_0x15575b(0xff)](_0x15575b(0xdb)+this['DOMAIN_URL']);else{if(_0x5789cc['message'][_0x15575b(0xbd)]('ECONNREFUSED'))console[_0x15575b(0xff)](_0x15575b(0x100)+this[_0x15575b(0xee)]);else _0x5789cc[_0x15575b(0xcf)]['includes'](_0x15575b(0xb6))?console[_0x15575b(0xff)](_0x15575b(0xb3)+this['DOMAIN_URL']):console['error'](_0x15575b(0xe3)+_0x5789cc[_0x15575b(0xcf)]);}}}return![];}}[a39_0x1174a8(0xa6)](_0x235952){const _0x54efdc=a39_0x1174a8;console[_0x54efdc(0xff)](_0x54efdc(0xf2)+_0x235952),console[_0x54efdc(0xff)](_0x54efdc(0xae)+this['consecutiveFailures']),console[_0x54efdc(0xff)](_0x54efdc(0xa8)),console[_0x54efdc(0xff)](_0x54efdc(0xfa)+new Date()[_0x54efdc(0xd8)]()),console[_0x54efdc(0xff)](_0x54efdc(0xe6)+this[_0x54efdc(0xee)]),console[_0x54efdc(0xff)](_0x54efdc(0xaa)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x54efdc(0x102)),console[_0x54efdc(0xff)](_0x54efdc(0xd7)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x54efdc(0xda)](),process[_0x54efdc(0xa9)](0x1);}[a39_0x1174a8(0xcc)](){const _0x46eb55=a39_0x1174a8;console['log'](_0x46eb55(0xeb)),console[_0x46eb55(0xdf)](_0x46eb55(0xcd)+this[_0x46eb55(0xee)]),console[_0x46eb55(0xdf)]('⏰\x20Interval:\x20'+Math[_0x46eb55(0xd2)](this[_0x46eb55(0xe9)]/0x3e8/0x3c)+_0x46eb55(0x102)),console[_0x46eb55(0xdf)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x46eb55(0xca)]),this['checkDomain']()['then'](_0x5d009a=>{const _0x93cd14=_0x46eb55;if(!_0x5d009a&&this[_0x93cd14(0xe1)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x93cd14(0xa6)](_0x93cd14(0xa7)+this[_0x93cd14(0xe1)]+_0x93cd14(0xe0));return;}})['catch'](_0x5de388=>{const _0x3b1deb=_0x46eb55;console[_0x3b1deb(0xff)]('Initial\x20domain\x20check\x20error:',_0x5de388);if(this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x5de388['message']);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x5cba35=_0x46eb55;try{const _0x43230c=await this['checkDomain']();!_0x43230c&&(console[_0x5cba35(0xc5)](_0x5cba35(0xc7)+this[_0x5cba35(0xe1)]+'/'+this[_0x5cba35(0xca)]+')'),this['consecutiveFailures']>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x5cba35(0xa6)](_0x5cba35(0xe8)+this[_0x5cba35(0xee)]+_0x5cba35(0xf7)+this['consecutiveFailures']+_0x5cba35(0xb2)));}catch(_0x55baec){console[_0x5cba35(0xff)](_0x5cba35(0xfe),_0x55baec),this[_0x5cba35(0xe1)]>=this[_0x5cba35(0xca)]&&this[_0x5cba35(0xa6)](_0x5cba35(0xad)+(_0x55baec instanceof Error?_0x55baec[_0x5cba35(0xcf)]:'Unknown\x20error'));}},this[_0x46eb55(0xe9)]),console[_0x46eb55(0xdf)](_0x46eb55(0xb7));}[a39_0x1174a8(0xda)](){const _0x4c1610=a39_0x1174a8;this[_0x4c1610(0xd9)]&&(clearInterval(this[_0x4c1610(0xd9)]),this['monitoringInterval']=null,console[_0x4c1610(0xdf)](_0x4c1610(0xc1)));}[a39_0x1174a8(0xbb)](){const _0x484d61=a39_0x1174a8;return{'isActive':!!this[_0x484d61(0xd9)],'targetDomain':this[_0x484d61(0xee)],'checkIntervalMinutes':Math[_0x484d61(0xd2)](this[_0x484d61(0xe9)]/0x3e8/0x3c),'consecutiveFailures':this[_0x484d61(0xe1)],'maxFailuresAllowed':this[_0x484d61(0xca)],'nextCheckIn':this[_0x484d61(0xd9)]?this[_0x484d61(0xe9)]:undefined};}async[a39_0x1174a8(0x101)](){const _0x4cd82e=a39_0x1174a8;return console[_0x4cd82e(0xdf)](_0x4cd82e(0xc2)),await this[_0x4cd82e(0xdd)]();}}function a39_0x1c14(){const _0x350e7f=['DOMAIN_URL','decodeFromBase64','DomainMonitoringService','GET','💥\x20CRITICAL\x20ERROR:\x20','statusText','282RWqJTA','TesSoft\x20Domain\x20Monitor/1.0','__esModule','\x20is\x20not\x20responding\x20after\x20','10584924LBpiWK','https://google.com','📅\x20Crash\x20time:\x20','__importDefault','1249970KJOsht','237064puVvwB','Periodic\x20domain\x20check\x20error:','error','🚫\x20Connection\x20refused\x20by\x20','manualCheck','\x20minutes','node-fetch','🔓\x20Decoded\x20URL:\x20','crashServer','Initial\x20domain\x20check\x20failed\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','exit','⏰\x20Check\x20interval:\x20','gzip,\x20deflate','2630292MWcnyv','Domain\x20monitoring\x20threw\x20error:\x20','🔥\x20Consecutive\x20failures:\x20','128145xNojUA','\x20\x20\x20-\x20Response\x20time:\x20','📝\x20Encoded\x20URL\x20(base64):\x20','\x20consecutive\x20attempts','⏰\x20Connection\x20timeout\x20to\x20','random','toString','ETIMEDOUT','✅\x20Domain\x20monitoring\x20started\x20successfully','default','utf-8','📡\x20Target\x20domain:\x20','getMonitoringStats','TIMEOUT_MS','includes','getRandomInterval','❌\x20Domain\x20check\x20error\x20after\x20','fromEntries','🛑\x20Domain\x20monitoring\x20stopped','🔧\x20Manual\x20domain\x20check\x20requested','base64','429453qEprdq','warn','from','⚠️\x20Domain\x20check\x20failed\x20(','name','🔍\x20Domain\x20monitoring\x20service\x20initialized','MAX_CONSECUTIVE_FAILURES','📊\x20Response\x20received:','startMonitoring','📡\x20Target:\x20','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','message','AbortError','headers','round','920AFbTQb','🔍\x20Checking\x20domain\x20availability:\x20','now','en-US,en;q=0.5','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','toISOString','monitoringInterval','stopMonitoring','🌐\x20DNS\x20resolution\x20failed\x20for\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','checkDomain','\x20\x20\x20-\x20Status:\x20','log','\x20times','consecutiveFailures','encodeToBase64','🔥\x20Unexpected\x20error:\x20','ms:','\x20in\x20','🔍\x20Domain\x20being\x20monitored:\x20','status','Domain\x20','CHECK_INTERVAL_MS','1201560nTseyd','🚀\x20Starting\x20domain\x20monitoring\x20service','keep-alive','signal'];a39_0x1c14=function(){return _0x350e7f;};return a39_0x1c14();}exports[a39_0x1174a8(0xf0)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();