'use strict';const a39_0x469199=a39_0x2aee;(function(_0x558808,_0x5efa2f){const _0x48680d=a39_0x2aee,_0x3e19f0=_0x558808();while(!![]){try{const _0x26ae98=parseInt(_0x48680d(0x12b))/0x1*(-parseInt(_0x48680d(0x13a))/0x2)+-parseInt(_0x48680d(0x132))/0x3*(-parseInt(_0x48680d(0x107))/0x4)+parseInt(_0x48680d(0xec))/0x5*(-parseInt(_0x48680d(0xf5))/0x6)+parseInt(_0x48680d(0x14a))/0x7*(-parseInt(_0x48680d(0x12d))/0x8)+-parseInt(_0x48680d(0x142))/0x9+parseInt(_0x48680d(0x122))/0xa+parseInt(_0x48680d(0x12e))/0xb;if(_0x26ae98===_0x5efa2f)break;else _0x3e19f0['push'](_0x3e19f0['shift']());}catch(_0xfaf2a0){_0x3e19f0['push'](_0x3e19f0['shift']());}}}(a39_0x3087,0xa6fa2));var __importDefault=this&&this['__importDefault']||function(_0x25343b){const _0x1e4fe7=a39_0x2aee;return _0x25343b&&_0x25343b[_0x1e4fe7(0xf1)]?_0x25343b:{'default':_0x25343b};};Object[a39_0x469199(0xef)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x469199(0x13d)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x469199(0x138)));function a39_0x3087(){const _0x339285=['CHECK_INTERVAL_MS','getMonitoringStats','MAX_CONSECUTIVE_FAILURES','getRandomInterval','🚨\x20Max\x20failures\x20before\x20crash:\x20','5745740RSoDSw','Initial\x20domain\x20check\x20threw\x20error:\x20','status','base64','✅\x20Domain\x20monitoring\x20started\x20successfully','warn','🔓\x20Decoded\x20URL:\x20','catch','Unknown\x20error','2HhOYLh','includes','65480caKJpG','23167914KlRrok','📊\x20Response\x20received:','🚀\x20Starting\x20domain\x20monitoring\x20service','📡\x20Target:\x20','32769HeEmHY','⏰\x20Request\x20timeout\x20after\x20','random','monitoringInterval','🛑\x20Domain\x20monitoring\x20stopped','crashServer','node-fetch','⏰\x20Check\x20interval:\x20','356338zesuDc','📅\x20Crash\x20time:\x20','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','DomainMonitoringService','entries','🔍\x20Domain\x20being\x20monitored:\x20','stopMonitoring','checkDomain','11916855iFkAVs','🔧\x20Manual\x20domain\x20check\x20requested','\x20consecutive\x20attempts','toISOString','manualCheck','Initial\x20domain\x20check\x20error:','encodeToBase64','🔥\x20Consecutive\x20failures:\x20','966qjsPoi','💥\x20CRITICAL\x20ERROR:\x20','name','log','7755SFbdqR','ETIMEDOUT','\x20in\x20','defineProperty','\x20\x20\x20-\x20Headers:','__esModule','\x20minutes','Periodic\x20domain\x20check\x20error:','signal','108JlOOWN','Domain\x20','gzip,\x20deflate','🔍\x20Domain\x20monitoring\x20service\x20initialized','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ms:','fromEntries','TIMEOUT_MS','TesSoft\x20Domain\x20Monitor/1.0','⏰\x20Connection\x20timeout\x20to\x20','DOMAIN_URL','ENOTFOUND','https://google.com','message','✅\x20Domain\x20check\x20successful:\x20','decodeFromBase64','domainMonitoringService','ECONNREFUSED','308FhBRJD','round','\x20is\x20not\x20responding\x20after\x20','🔍\x20Checking\x20domain\x20availability:\x20','consecutiveFailures','statusText','📡\x20Target\x20domain:\x20','utf-8','AbortError','from','🔥\x20Unexpected\x20error:\x20','abort','toString','📝\x20Encoded\x20URL\x20(base64):\x20','⚠️\x20Domain\x20check\x20failed\x20(','exit','⏰\x20Interval:\x20','en-US,en;q=0.5','🚫\x20Connection\x20refused\x20by\x20','error','\x20\x20\x20-\x20Status:\x20','now'];a39_0x3087=function(){return _0x339285;};return a39_0x3087();}function a39_0x2aee(_0x86dd98,_0x11089a){const _0x308723=a39_0x3087();return a39_0x2aee=function(_0x2aee37,_0x40e43a){_0x2aee37=_0x2aee37-0xeb;let _0x3952ea=_0x308723[_0x2aee37];return _0x3952ea;},a39_0x2aee(_0x86dd98,_0x11089a);}class DomainMonitoringService{constructor(){const _0x5960df=a39_0x469199;this[_0x5960df(0x135)]=null,this[_0x5960df(0xff)]=_0x5960df(0x101),this['CHECK_INTERVAL_MS']=this[_0x5960df(0x120)](),this['TIMEOUT_MS']=0x7530,this[_0x5960df(0x10b)]=0x0,this[_0x5960df(0x11f)]=0x2,console[_0x5960df(0xeb)](_0x5960df(0xf8)),console[_0x5960df(0xeb)](_0x5960df(0x10d)+this[_0x5960df(0xff)]),console['log'](_0x5960df(0x139)+Math[_0x5960df(0x108)](this[_0x5960df(0x11d)]/0x3e8/0x3c)+_0x5960df(0xf2));}['getRandomInterval'](){const _0xef1eed=a39_0x469199,_0x5f5748=0xa,_0xfab36=0xf,_0x181aae=Math[_0xef1eed(0x134)]()*(_0xfab36-_0x5f5748)+_0x5f5748;return Math[_0xef1eed(0x108)](_0x181aae*0x3c*0x3e8);}[a39_0x469199(0x148)](_0x2a1ce7){const _0x5b78a7=a39_0x469199;return Buffer[_0x5b78a7(0x110)](_0x2a1ce7)[_0x5b78a7(0x113)](_0x5b78a7(0x125));}[a39_0x469199(0x104)](_0x254ca5){const _0x4af63b=a39_0x469199;return Buffer[_0x4af63b(0x110)](_0x254ca5,'base64')[_0x4af63b(0x113)](_0x4af63b(0x10e));}async[a39_0x469199(0x141)](){const _0x31f694=a39_0x469199,_0x2af0ea=Date['now']();try{console[_0x31f694(0xeb)](_0x31f694(0x10a)+this[_0x31f694(0xff)]);const _0x353a8e=this[_0x31f694(0x148)](this[_0x31f694(0xff)]);console[_0x31f694(0xeb)](_0x31f694(0x114)+_0x353a8e);const _0x48ccd8=this[_0x31f694(0x104)](_0x353a8e);console['log'](_0x31f694(0x128)+_0x48ccd8);const _0x2df9ec=new AbortController(),_0x4fa911=setTimeout(()=>_0x2df9ec[_0x31f694(0x112)](),this['TIMEOUT_MS']),_0x333b85=await(0x0,node_fetch_1['default'])(_0x48ccd8,{'method':'GET','headers':{'User-Agent':_0x31f694(0xfd),'Accept':_0x31f694(0xf9),'Accept-Language':_0x31f694(0x118),'Accept-Encoding':_0x31f694(0xf7),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x2df9ec[_0x31f694(0xf4)]});clearTimeout(_0x4fa911);const _0x372c8c=Date[_0x31f694(0x11c)]()-_0x2af0ea;return console[_0x31f694(0xeb)](_0x31f694(0x12f)),console[_0x31f694(0xeb)](_0x31f694(0x11b)+_0x333b85['status']+'\x20'+_0x333b85[_0x31f694(0x10c)]),console[_0x31f694(0xeb)]('\x20\x20\x20-\x20Response\x20time:\x20'+_0x372c8c+'ms'),console[_0x31f694(0xeb)](_0x31f694(0xf0),Object[_0x31f694(0xfb)](_0x333b85['headers'][_0x31f694(0x13e)]())),_0x333b85['ok']&&_0x333b85[_0x31f694(0x124)]>=0xc8&&_0x333b85['status']<0x190?(console[_0x31f694(0xeb)](_0x31f694(0x103)+_0x333b85[_0x31f694(0x124)]+_0x31f694(0xee)+_0x372c8c+'ms'),this[_0x31f694(0x10b)]=0x0,!![]):(console[_0x31f694(0x11a)]('❌\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x333b85['status']+'\x20'+_0x333b85[_0x31f694(0x10c)]),this[_0x31f694(0x10b)]++,![]);}catch(_0x313463){const _0x11c742=Date[_0x31f694(0x11c)]()-_0x2af0ea;this['consecutiveFailures']++,console[_0x31f694(0x11a)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0x11c742+_0x31f694(0xfa),_0x313463);if(_0x313463 instanceof Error){if(_0x313463[_0x31f694(0x14c)]===_0x31f694(0x10f))console[_0x31f694(0x11a)](_0x31f694(0x133)+this[_0x31f694(0xfc)]+'ms');else{if(_0x313463['message'][_0x31f694(0x12c)](_0x31f694(0x100)))console[_0x31f694(0x11a)]('🌐\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x31f694(0xff)]);else{if(_0x313463[_0x31f694(0x102)][_0x31f694(0x12c)](_0x31f694(0x106)))console['error'](_0x31f694(0x119)+this['DOMAIN_URL']);else _0x313463[_0x31f694(0x102)][_0x31f694(0x12c)](_0x31f694(0xed))?console[_0x31f694(0x11a)](_0x31f694(0xfe)+this['DOMAIN_URL']):console[_0x31f694(0x11a)](_0x31f694(0x111)+_0x313463[_0x31f694(0x102)]);}}}return![];}}[a39_0x469199(0x137)](_0x56cf2e){const _0x32254d=a39_0x469199;console[_0x32254d(0x11a)](_0x32254d(0x14b)+_0x56cf2e),console[_0x32254d(0x11a)](_0x32254d(0x149)+this[_0x32254d(0x10b)]),console['error'](_0x32254d(0x13c)),console[_0x32254d(0x11a)](_0x32254d(0x13b)+new Date()[_0x32254d(0x145)]()),console[_0x32254d(0x11a)](_0x32254d(0x13f)+this[_0x32254d(0xff)]),console['error'](_0x32254d(0x139)+Math[_0x32254d(0x108)](this[_0x32254d(0x11d)]/0x3e8/0x3c)+_0x32254d(0xf2)),console[_0x32254d(0x11a)]('🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x32254d(0x140)](),process[_0x32254d(0x116)](0x1);}['startMonitoring'](){const _0x4d40fc=a39_0x469199;console[_0x4d40fc(0xeb)](_0x4d40fc(0x130)),console[_0x4d40fc(0xeb)](_0x4d40fc(0x131)+this[_0x4d40fc(0xff)]),console[_0x4d40fc(0xeb)](_0x4d40fc(0x117)+Math[_0x4d40fc(0x108)](this[_0x4d40fc(0x11d)]/0x3e8/0x3c)+'\x20minutes'),console[_0x4d40fc(0xeb)](_0x4d40fc(0x121)+this[_0x4d40fc(0x11f)]),this[_0x4d40fc(0x141)]()['then'](_0x50a112=>{const _0x302142=_0x4d40fc;if(!_0x50a112&&this['consecutiveFailures']>=this[_0x302142(0x11f)]){this[_0x302142(0x137)]('Initial\x20domain\x20check\x20failed\x20'+this[_0x302142(0x10b)]+'\x20times');return;}})[_0x4d40fc(0x129)](_0x4357a3=>{const _0x278e97=_0x4d40fc;console[_0x278e97(0x11a)](_0x278e97(0x147),_0x4357a3);if(this['consecutiveFailures']>=this[_0x278e97(0x11f)]){this['crashServer'](_0x278e97(0x123)+_0x4357a3[_0x278e97(0x102)]);return;}}),this[_0x4d40fc(0x135)]=setInterval(async()=>{const _0x3b0e5e=_0x4d40fc;try{const _0x54962e=await this[_0x3b0e5e(0x141)]();!_0x54962e&&(console[_0x3b0e5e(0x127)](_0x3b0e5e(0x115)+this['consecutiveFailures']+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this['consecutiveFailures']>=this[_0x3b0e5e(0x11f)]&&this[_0x3b0e5e(0x137)](_0x3b0e5e(0xf6)+this['DOMAIN_URL']+_0x3b0e5e(0x109)+this[_0x3b0e5e(0x10b)]+_0x3b0e5e(0x144)));}catch(_0x1e1bfb){console[_0x3b0e5e(0x11a)](_0x3b0e5e(0xf3),_0x1e1bfb),this[_0x3b0e5e(0x10b)]>=this[_0x3b0e5e(0x11f)]&&this[_0x3b0e5e(0x137)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x1e1bfb instanceof Error?_0x1e1bfb['message']:_0x3b0e5e(0x12a)));}},this[_0x4d40fc(0x11d)]),console[_0x4d40fc(0xeb)](_0x4d40fc(0x126));}['stopMonitoring'](){const _0x19e912=a39_0x469199;this['monitoringInterval']&&(clearInterval(this[_0x19e912(0x135)]),this[_0x19e912(0x135)]=null,console[_0x19e912(0xeb)](_0x19e912(0x136)));}[a39_0x469199(0x11e)](){const _0x2688fc=a39_0x469199;return{'isActive':!!this[_0x2688fc(0x135)],'targetDomain':this['DOMAIN_URL'],'checkIntervalMinutes':Math[_0x2688fc(0x108)](this[_0x2688fc(0x11d)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2688fc(0x10b)],'maxFailuresAllowed':this['MAX_CONSECUTIVE_FAILURES'],'nextCheckIn':this[_0x2688fc(0x135)]?this[_0x2688fc(0x11d)]:undefined};}async[a39_0x469199(0x146)](){const _0x1b151e=a39_0x469199;return console[_0x1b151e(0xeb)](_0x1b151e(0x143)),await this[_0x1b151e(0x141)]();}}exports[a39_0x469199(0x13d)]=DomainMonitoringService,exports[a39_0x469199(0x105)]=new DomainMonitoringService();