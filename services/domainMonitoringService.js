'use strict';const a50_0x2c3f1c=a50_0xae7e;(function(_0x10af78,_0x44502e){const _0x3cc56c=a50_0xae7e,_0x199478=_0x10af78();while(!![]){try{const _0x3ad406=parseInt(_0x3cc56c(0x110))/0x1+parseInt(_0x3cc56c(0x10f))/0x2+parseInt(_0x3cc56c(0x124))/0x3*(parseInt(_0x3cc56c(0x125))/0x4)+parseInt(_0x3cc56c(0x129))/0x5*(-parseInt(_0x3cc56c(0x120))/0x6)+parseInt(_0x3cc56c(0x109))/0x7+parseInt(_0x3cc56c(0x10e))/0x8*(-parseInt(_0x3cc56c(0x10a))/0x9)+-parseInt(_0x3cc56c(0x132))/0xa*(parseInt(_0x3cc56c(0xe3))/0xb);if(_0x3ad406===_0x44502e)break;else _0x199478['push'](_0x199478['shift']());}catch(_0x9589fd){_0x199478['push'](_0x199478['shift']());}}}(a50_0x2300,0xcc0ae));var __importDefault=this&&this[a50_0x2c3f1c(0xe8)]||function(_0x5624fd){return _0x5624fd&&_0x5624fd['__esModule']?_0x5624fd:{'default':_0x5624fd};};function a50_0x2300(){const _0x52801f=['â°\x20Interval:\x20','ðŸ”\x20Domain\x20monitoring\x20service\x20initialized','stopMonitoring','log','â°\x20Request\x20timeout\x20after\x20','abort','node-fetch','checkDomain','ðŸ”“\x20Decoded\x20URL:\x20','ETIMEDOUT','Initial\x20domain\x20check\x20error:','signal','gzip,\x20deflate','ðŸ“…\x20Crash\x20time:\x20','â°\x20Connection\x20timeout\x20to\x20','catch','ðŸ”\x20Checking\x20domain\x20availability:\x20','ECONNREFUSED','crashServer','ðŸ“Š\x20Response\x20received:','ðŸ”¥\x20Consecutive\x20failures:\x20','defineProperty','ðŸš€\x20Starting\x20domain\x20monitoring\x20service','DOMAIN_URL','default','356314XukZvW','144gTVgij','âŒ\x20Domain\x20check\x20error\x20after\x20','\x20times','from','781072FyCxhR','2418846AFwNiH','1623838pHEfnY','ðŸš«\x20Connection\x20refused\x20by\x20','ðŸ”\x20Domain\x20being\x20monitored:\x20','keep-alive','name','\x20consecutive\x20attempts','now','ðŸ”§\x20Manual\x20domain\x20check\x20requested','âœ…\x20Domain\x20check\x20successful:\x20','statusText','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','ðŸ“\x20Encoded\x20URL\x20(base64):\x20','round','message','âŒ\x20Domain\x20check\x20failed:\x20HTTP\x20','getMonitoringStats','61782xkiLOK','fromEntries','Periodic\x20domain\x20check\x20error:','https://google.com','3eDfXZe','3650012SiiQlH','error','exit','ðŸš¨\x20Max\x20failures\x20before\x20crash:\x20','95YRYSUT','domainMonitoringService','en-US,en;q=0.5','â°\x20Check\x20interval:\x20','GET','CHECK_INTERVAL_MS','startMonitoring','\x20minutes','MAX_CONSECUTIVE_FAILURES','10kxDpii','âš ï¸\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','includes','random','AbortError','toString','Domain\x20Monitor/1.0','base64','ðŸš¨\x20Max\x20consecutive\x20failures\x20allowed:\x20','then','ðŸ’¥\x20CRITICAL\x20ERROR:\x20','status','\x20\x20\x20-\x20Headers:','âœ…\x20Domain\x20monitoring\x20started\x20successfully','DomainMonitoringService','encodeToBase64','ðŸ”¥\x20Unexpected\x20error:\x20','ðŸ›‘\x20Domain\x20monitoring\x20stopped','monitoringInterval','\x20\x20\x20-\x20Status:\x20','13234331jmYSqC','getRandomInterval','consecutiveFailures','TIMEOUT_MS','ðŸ“¡\x20Target:\x20','__importDefault','ms:','warn','manualCheck','âš ï¸\x20Domain\x20check\x20failed\x20(','ENOTFOUND','\x20\x20\x20-\x20Response\x20time:\x20','utf-8'];a50_0x2300=function(){return _0x52801f;};return a50_0x2300();}Object[a50_0x2c3f1c(0x105)](exports,'__esModule',{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a50_0x2c3f1c(0xf6)));class DomainMonitoringService{constructor(){const _0x168678=a50_0x2c3f1c;this[_0x168678(0xe1)]=null,this[_0x168678(0x107)]=_0x168678(0x123),this[_0x168678(0x12e)]=this[_0x168678(0xe4)](),this[_0x168678(0xe6)]=0x7530,this[_0x168678(0xe5)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x168678(0xf3)](_0x168678(0xf1)),console['log']('ðŸ“¡\x20Target\x20domain:\x20'+this[_0x168678(0x107)]),console[_0x168678(0xf3)](_0x168678(0x12c)+Math[_0x168678(0x11c)](this[_0x168678(0x12e)]/0x3e8/0x3c)+'\x20minutes');}[a50_0x2c3f1c(0xe4)](){const _0x2d844c=a50_0x2c3f1c,_0xdc6342=0xa,_0x17098d=0xf,_0xce85a8=Math[_0x2d844c(0x135)]()*(_0x17098d-_0xdc6342)+_0xdc6342;return Math[_0x2d844c(0x11c)](_0xce85a8*0x3c*0x3e8);}[a50_0x2c3f1c(0xde)](_0xfc5e91){const _0x5ce219=a50_0x2c3f1c;return Buffer[_0x5ce219(0x10d)](_0xfc5e91)[_0x5ce219(0x137)](_0x5ce219(0x139));}['decodeFromBase64'](_0x1f7bf6){const _0x55af0d=a50_0x2c3f1c;return Buffer[_0x55af0d(0x10d)](_0x1f7bf6,_0x55af0d(0x139))[_0x55af0d(0x137)](_0x55af0d(0xef));}async['checkDomain'](){const _0x240564=a50_0x2c3f1c,_0x5f296d=Date[_0x240564(0x116)]();try{console[_0x240564(0xf3)](_0x240564(0x100)+this['DOMAIN_URL']);const _0x5c9ec4=this[_0x240564(0xde)](this[_0x240564(0x107)]);console[_0x240564(0xf3)](_0x240564(0x11b)+_0x5c9ec4);const _0x71ae1=this['decodeFromBase64'](_0x5c9ec4);console['log'](_0x240564(0xf8)+_0x71ae1);const _0x1d41e1=new AbortController(),_0xe0473b=setTimeout(()=>_0x1d41e1[_0x240564(0xf5)](),this['TIMEOUT_MS']),_0x3c25a3=await(0x0,node_fetch_1[_0x240564(0x108)])(_0x71ae1,{'method':_0x240564(0x12d),'headers':{'User-Agent':_0x240564(0x138),'Accept':_0x240564(0x11a),'Accept-Language':_0x240564(0x12b),'Accept-Encoding':_0x240564(0xfc),'Connection':_0x240564(0x113),'Upgrade-Insecure-Requests':'1'},'signal':_0x1d41e1[_0x240564(0xfb)]});clearTimeout(_0xe0473b);const _0x423fd5=Date[_0x240564(0x116)]()-_0x5f296d;return console['log'](_0x240564(0x103)),console['log'](_0x240564(0xe2)+_0x3c25a3[_0x240564(0x13d)]+'\x20'+_0x3c25a3[_0x240564(0x119)]),console[_0x240564(0xf3)](_0x240564(0xee)+_0x423fd5+'ms'),console[_0x240564(0xf3)](_0x240564(0x13e),Object[_0x240564(0x121)](_0x3c25a3['headers']['entries']())),_0x3c25a3['ok']&&_0x3c25a3[_0x240564(0x13d)]>=0xc8&&_0x3c25a3[_0x240564(0x13d)]<0x190?(console[_0x240564(0xf3)](_0x240564(0x118)+_0x3c25a3[_0x240564(0x13d)]+'\x20in\x20'+_0x423fd5+'ms'),this['consecutiveFailures']=0x0,!![]):(console[_0x240564(0x126)](_0x240564(0x11e)+_0x3c25a3['status']+'\x20'+_0x3c25a3[_0x240564(0x119)]),this[_0x240564(0xe5)]++,![]);}catch(_0x3907f4){const _0x29019b=Date[_0x240564(0x116)]()-_0x5f296d;this[_0x240564(0xe5)]++,console[_0x240564(0x126)](_0x240564(0x10b)+_0x29019b+_0x240564(0xe9),_0x3907f4);if(_0x3907f4 instanceof Error){if(_0x3907f4[_0x240564(0x114)]===_0x240564(0x136))console[_0x240564(0x126)](_0x240564(0xf4)+this[_0x240564(0xe6)]+'ms');else{if(_0x3907f4[_0x240564(0x11d)][_0x240564(0x134)](_0x240564(0xed)))console[_0x240564(0x126)]('ðŸŒ\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0x240564(0x107)]);else{if(_0x3907f4['message'][_0x240564(0x134)](_0x240564(0x101)))console[_0x240564(0x126)](_0x240564(0x111)+this[_0x240564(0x107)]);else _0x3907f4[_0x240564(0x11d)]['includes'](_0x240564(0xf9))?console[_0x240564(0x126)](_0x240564(0xfe)+this[_0x240564(0x107)]):console[_0x240564(0x126)](_0x240564(0xdf)+_0x3907f4[_0x240564(0x11d)]);}}}return![];}}['crashServer'](_0x5ba7cd){const _0x1af688=a50_0x2c3f1c;console[_0x1af688(0x126)](_0x1af688(0x13c)+_0x5ba7cd),console[_0x1af688(0x126)](_0x1af688(0x104)+this[_0x1af688(0xe5)]),console[_0x1af688(0x126)](_0x1af688(0x133)),console['error'](_0x1af688(0xfd)+new Date()['toISOString']()),console['error'](_0x1af688(0x112)+this[_0x1af688(0x107)]),console[_0x1af688(0x126)](_0x1af688(0x12c)+Math[_0x1af688(0x11c)](this[_0x1af688(0x12e)]/0x3e8/0x3c)+_0x1af688(0x130)),console[_0x1af688(0x126)](_0x1af688(0x13a)+this[_0x1af688(0x131)]),this['stopMonitoring'](),process[_0x1af688(0x127)](0x1);}[a50_0x2c3f1c(0x12f)](){const _0x3bf467=a50_0x2c3f1c;console[_0x3bf467(0xf3)](_0x3bf467(0x106)),console[_0x3bf467(0xf3)](_0x3bf467(0xe7)+this[_0x3bf467(0x107)]),console[_0x3bf467(0xf3)](_0x3bf467(0xf0)+Math[_0x3bf467(0x11c)](this[_0x3bf467(0x12e)]/0x3e8/0x3c)+'\x20minutes'),console[_0x3bf467(0xf3)](_0x3bf467(0x128)+this[_0x3bf467(0x131)]),this[_0x3bf467(0xf7)]()[_0x3bf467(0x13b)](_0x3ca9a1=>{const _0x1d45dd=_0x3bf467;if(!_0x3ca9a1&&this[_0x1d45dd(0xe5)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this[_0x1d45dd(0xe5)]+_0x1d45dd(0x10c));return;}})[_0x3bf467(0xff)](_0xbb5da9=>{const _0x134473=_0x3bf467;console[_0x134473(0x126)](_0x134473(0xfa),_0xbb5da9);if(this[_0x134473(0xe5)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer']('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0xbb5da9[_0x134473(0x11d)]);return;}}),this[_0x3bf467(0xe1)]=setInterval(async()=>{const _0x3ff987=_0x3bf467;try{const _0xab9284=await this[_0x3ff987(0xf7)]();!_0xab9284&&(console[_0x3ff987(0xea)](_0x3ff987(0xec)+this[_0x3ff987(0xe5)]+'/'+this[_0x3ff987(0x131)]+')'),this[_0x3ff987(0xe5)]>=this[_0x3ff987(0x131)]&&this[_0x3ff987(0x102)]('Domain\x20'+this[_0x3ff987(0x107)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x3ff987(0xe5)]+_0x3ff987(0x115)));}catch(_0x20fbaa){console[_0x3ff987(0x126)](_0x3ff987(0x122),_0x20fbaa),this[_0x3ff987(0xe5)]>=this['MAX_CONSECUTIVE_FAILURES']&&this['crashServer']('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x20fbaa instanceof Error?_0x20fbaa[_0x3ff987(0x11d)]:'Unknown\x20error'));}},this['CHECK_INTERVAL_MS']),console[_0x3bf467(0xf3)](_0x3bf467(0x13f));}[a50_0x2c3f1c(0xf2)](){const _0x46c5ad=a50_0x2c3f1c;this[_0x46c5ad(0xe1)]&&(clearInterval(this[_0x46c5ad(0xe1)]),this[_0x46c5ad(0xe1)]=null,console['log'](_0x46c5ad(0xe0)));}[a50_0x2c3f1c(0x11f)](){const _0x58e235=a50_0x2c3f1c;return{'isActive':!!this[_0x58e235(0xe1)],'targetDomain':this[_0x58e235(0x107)],'checkIntervalMinutes':Math[_0x58e235(0x11c)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c),'consecutiveFailures':this['consecutiveFailures'],'maxFailuresAllowed':this[_0x58e235(0x131)],'nextCheckIn':this['monitoringInterval']?this[_0x58e235(0x12e)]:undefined};}async[a50_0x2c3f1c(0xeb)](){const _0x3d49f2=a50_0x2c3f1c;return console[_0x3d49f2(0xf3)](_0x3d49f2(0x117)),await this[_0x3d49f2(0xf7)]();}}function a50_0xae7e(_0x1f1c67,_0x2a3154){_0x1f1c67=_0x1f1c67-0xde;const _0x230032=a50_0x2300();let _0xae7e6b=_0x230032[_0x1f1c67];return _0xae7e6b;}exports[a50_0x2c3f1c(0x140)]=DomainMonitoringService,exports[a50_0x2c3f1c(0x12a)]=new DomainMonitoringService();