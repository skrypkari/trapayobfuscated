'use strict';const a40_0x14adfe=a40_0x43ca;function a40_0x43ca(_0x9a0956,_0x1c5a87){const _0x262951=a40_0x2629();return a40_0x43ca=function(_0x43cadb,_0x17f7a4){_0x43cadb=_0x43cadb-0x19d;let _0x59c4dc=_0x262951[_0x43cadb];return _0x59c4dc;},a40_0x43ca(_0x9a0956,_0x1c5a87);}(function(_0x5a7499,_0x4d9f56){const _0x1b8f88=a40_0x43ca,_0x56a9cc=_0x5a7499();while(!![]){try{const _0x42366f=-parseInt(_0x1b8f88(0x1ec))/0x1+parseInt(_0x1b8f88(0x1c7))/0x2*(-parseInt(_0x1b8f88(0x1f4))/0x3)+parseInt(_0x1b8f88(0x1f1))/0x4+parseInt(_0x1b8f88(0x1c8))/0x5*(-parseInt(_0x1b8f88(0x1b1))/0x6)+-parseInt(_0x1b8f88(0x1ea))/0x7+-parseInt(_0x1b8f88(0x1a3))/0x8+parseInt(_0x1b8f88(0x1bd))/0x9;if(_0x42366f===_0x4d9f56)break;else _0x56a9cc['push'](_0x56a9cc['shift']());}catch(_0x436f9a){_0x56a9cc['push'](_0x56a9cc['shift']());}}}(a40_0x2629,0xe2735));function a40_0x2629(){const _0x2074dd=['keep-alive','7563LKzXuB','toISOString','🌐\x20DNS\x20resolution\x20failed\x20for\x20','🔍\x20Domain\x20monitoring\x20service\x20initialized','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','🔥\x20Unexpected\x20error:\x20','headers','message','Domain\x20monitoring\x20threw\x20error:\x20','CHECK_INTERVAL_MS','📡\x20Target\x20domain:\x20','❌\x20Domain\x20check\x20error\x20after\x20','5992384hiZqop','📅\x20Crash\x20time:\x20','now','DomainMonitoringService','name','🔍\x20Checking\x20domain\x20availability:\x20','domainMonitoringService','entries','DOMAIN_URL','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','🔧\x20Manual\x20domain\x20check\x20requested','fromEntries','getRandomInterval','__importDefault','5142HbiucE','warn','⏰\x20Request\x20timeout\x20after\x20','🔓\x20Decoded\x20URL:\x20','log','__esModule','🚀\x20Starting\x20domain\x20monitoring\x20service','\x20\x20\x20-\x20Headers:','toString','checkDomain','✅\x20Domain\x20check\x20successful:\x20','📝\x20Encoded\x20URL\x20(base64):\x20','41579703rZumeI','🚨\x20Max\x20failures\x20before\x20crash:\x20','https://google.com','MAX_CONSECUTIVE_FAILURES','🔥\x20Consecutive\x20failures:\x20','⏰\x20Interval:\x20','\x20is\x20not\x20responding\x20after\x20','\x20minutes','decodeFromBase64','\x20\x20\x20-\x20Response\x20time:\x20','1284XeZeKC','4925blhUvy','\x20\x20\x20-\x20Status:\x20','ETIMEDOUT','utf-8','from','🚫\x20Connection\x20refused\x20by\x20','⏰\x20Connection\x20timeout\x20to\x20','monitoringInterval','\x20in\x20','then','⏰\x20Check\x20interval:\x20','Initial\x20domain\x20check\x20error:','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','en-US,en;q=0.5','✅\x20Domain\x20monitoring\x20started\x20successfully','base64','stopMonitoring','defineProperty','manualCheck','Domain\x20','abort','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','🛑\x20Domain\x20monitoring\x20stopped','ECONNREFUSED','default','startMonitoring','exit','\x20consecutive\x20attempts','error','statusText','TIMEOUT_MS','🔍\x20Domain\x20being\x20monitored:\x20','getMonitoringStats','consecutiveFailures','5598117FcBaKf','random','1207706dWscaW','status','ms:','crashServer','round','6106744VYETuI','Periodic\x20domain\x20check\x20error:'];a40_0x2629=function(){return _0x2074dd;};return a40_0x2629();}var __importDefault=this&&this[a40_0x14adfe(0x1b0)]||function(_0x3a5518){return _0x3a5518&&_0x3a5518['__esModule']?_0x3a5518:{'default':_0x3a5518};};Object[a40_0x14adfe(0x1d9)](exports,a40_0x14adfe(0x1b6),{'value':!![]}),exports['domainMonitoringService']=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x32f7a9=a40_0x14adfe;this[_0x32f7a9(0x1cf)]=null,this['DOMAIN_URL']=_0x32f7a9(0x1bf),this[_0x32f7a9(0x1a0)]=this[_0x32f7a9(0x1af)](),this[_0x32f7a9(0x1e6)]=0x7530,this[_0x32f7a9(0x1e9)]=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x32f7a9(0x1b5)](_0x32f7a9(0x1f7)),console[_0x32f7a9(0x1b5)](_0x32f7a9(0x1a1)+this[_0x32f7a9(0x1ab)]),console[_0x32f7a9(0x1b5)](_0x32f7a9(0x1d2)+Math[_0x32f7a9(0x1f0)](this[_0x32f7a9(0x1a0)]/0x3e8/0x3c)+_0x32f7a9(0x1c4));}[a40_0x14adfe(0x1af)](){const _0x1acc67=a40_0x14adfe,_0x4aaedf=0xa,_0x3ba5f2=0xf,_0x456572=Math[_0x1acc67(0x1eb)]()*(_0x3ba5f2-_0x4aaedf)+_0x4aaedf;return Math[_0x1acc67(0x1f0)](_0x456572*0x3c*0x3e8);}['encodeToBase64'](_0x45fb27){const _0x5ccdf2=a40_0x14adfe;return Buffer[_0x5ccdf2(0x1cc)](_0x45fb27)[_0x5ccdf2(0x1b9)](_0x5ccdf2(0x1d7));}[a40_0x14adfe(0x1c5)](_0x3d740c){const _0x383b24=a40_0x14adfe;return Buffer['from'](_0x3d740c,'base64')['toString'](_0x383b24(0x1cb));}async[a40_0x14adfe(0x1ba)](){const _0x525b3d=a40_0x14adfe,_0x521676=Date[_0x525b3d(0x1a5)]();try{console[_0x525b3d(0x1b5)](_0x525b3d(0x1a8)+this['DOMAIN_URL']);const _0x59069d=this['encodeToBase64'](this['DOMAIN_URL']);console[_0x525b3d(0x1b5)](_0x525b3d(0x1bc)+_0x59069d);const _0x34fe05=this[_0x525b3d(0x1c5)](_0x59069d);console[_0x525b3d(0x1b5)](_0x525b3d(0x1b4)+_0x34fe05);const _0x2ddc07=new AbortController(),_0x510027=setTimeout(()=>_0x2ddc07[_0x525b3d(0x1dc)](),this[_0x525b3d(0x1e6)]),_0x49ddb6=await(0x0,node_fetch_1[_0x525b3d(0x1e0)])(_0x34fe05,{'method':'GET','headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':_0x525b3d(0x1dd),'Accept-Language':_0x525b3d(0x1d5),'Accept-Encoding':'gzip,\x20deflate','Connection':_0x525b3d(0x1f3),'Upgrade-Insecure-Requests':'1'},'signal':_0x2ddc07['signal']});clearTimeout(_0x510027);const _0x92352c=Date[_0x525b3d(0x1a5)]()-_0x521676;return console['log']('📊\x20Response\x20received:'),console[_0x525b3d(0x1b5)](_0x525b3d(0x1c9)+_0x49ddb6['status']+'\x20'+_0x49ddb6[_0x525b3d(0x1e5)]),console[_0x525b3d(0x1b5)](_0x525b3d(0x1c6)+_0x92352c+'ms'),console[_0x525b3d(0x1b5)](_0x525b3d(0x1b8),Object[_0x525b3d(0x1ae)](_0x49ddb6[_0x525b3d(0x19d)][_0x525b3d(0x1aa)]())),_0x49ddb6['ok']&&_0x49ddb6[_0x525b3d(0x1ed)]>=0xc8&&_0x49ddb6[_0x525b3d(0x1ed)]<0x190?(console[_0x525b3d(0x1b5)](_0x525b3d(0x1bb)+_0x49ddb6[_0x525b3d(0x1ed)]+_0x525b3d(0x1d0)+_0x92352c+'ms'),this['consecutiveFailures']=0x0,!![]):(console['error'](_0x525b3d(0x1d4)+_0x49ddb6[_0x525b3d(0x1ed)]+'\x20'+_0x49ddb6['statusText']),this[_0x525b3d(0x1e9)]++,![]);}catch(_0x4967da){const _0x531e47=Date[_0x525b3d(0x1a5)]()-_0x521676;this['consecutiveFailures']++,console['error'](_0x525b3d(0x1a2)+_0x531e47+_0x525b3d(0x1ee),_0x4967da);if(_0x4967da instanceof Error){if(_0x4967da[_0x525b3d(0x1a7)]==='AbortError')console[_0x525b3d(0x1e4)](_0x525b3d(0x1b3)+this[_0x525b3d(0x1e6)]+'ms');else{if(_0x4967da[_0x525b3d(0x19e)]['includes']('ENOTFOUND'))console[_0x525b3d(0x1e4)](_0x525b3d(0x1f6)+this[_0x525b3d(0x1ab)]);else{if(_0x4967da['message']['includes'](_0x525b3d(0x1df)))console['error'](_0x525b3d(0x1cd)+this[_0x525b3d(0x1ab)]);else _0x4967da[_0x525b3d(0x19e)]['includes'](_0x525b3d(0x1ca))?console['error'](_0x525b3d(0x1ce)+this[_0x525b3d(0x1ab)]):console[_0x525b3d(0x1e4)](_0x525b3d(0x1f9)+_0x4967da[_0x525b3d(0x19e)]);}}}return![];}}[a40_0x14adfe(0x1ef)](_0x1a1822){const _0x35fda7=a40_0x14adfe;console[_0x35fda7(0x1e4)]('💥\x20CRITICAL\x20ERROR:\x20'+_0x1a1822),console[_0x35fda7(0x1e4)](_0x35fda7(0x1c1)+this[_0x35fda7(0x1e9)]),console[_0x35fda7(0x1e4)](_0x35fda7(0x1f8)),console[_0x35fda7(0x1e4)](_0x35fda7(0x1a4)+new Date()[_0x35fda7(0x1f5)]()),console[_0x35fda7(0x1e4)](_0x35fda7(0x1e7)+this[_0x35fda7(0x1ab)]),console[_0x35fda7(0x1e4)](_0x35fda7(0x1d2)+Math[_0x35fda7(0x1f0)](this[_0x35fda7(0x1a0)]/0x3e8/0x3c)+_0x35fda7(0x1c4)),console[_0x35fda7(0x1e4)](_0x35fda7(0x1ac)+this[_0x35fda7(0x1c0)]),this[_0x35fda7(0x1d8)](),process[_0x35fda7(0x1e2)](0x1);}[a40_0x14adfe(0x1e1)](){const _0x42d8aa=a40_0x14adfe;console[_0x42d8aa(0x1b5)](_0x42d8aa(0x1b7)),console[_0x42d8aa(0x1b5)]('📡\x20Target:\x20'+this[_0x42d8aa(0x1ab)]),console[_0x42d8aa(0x1b5)](_0x42d8aa(0x1c2)+Math[_0x42d8aa(0x1f0)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x42d8aa(0x1c4)),console[_0x42d8aa(0x1b5)](_0x42d8aa(0x1be)+this['MAX_CONSECUTIVE_FAILURES']),this['checkDomain']()[_0x42d8aa(0x1d1)](_0x48073c=>{const _0x3b55d9=_0x42d8aa;if(!_0x48073c&&this[_0x3b55d9(0x1e9)]>=this['MAX_CONSECUTIVE_FAILURES']){this['crashServer']('Initial\x20domain\x20check\x20failed\x20'+this[_0x3b55d9(0x1e9)]+'\x20times');return;}})['catch'](_0x325738=>{const _0x11b163=_0x42d8aa;console[_0x11b163(0x1e4)](_0x11b163(0x1d3),_0x325738);if(this['consecutiveFailures']>=this[_0x11b163(0x1c0)]){this[_0x11b163(0x1ef)]('Initial\x20domain\x20check\x20threw\x20error:\x20'+_0x325738[_0x11b163(0x19e)]);return;}}),this[_0x42d8aa(0x1cf)]=setInterval(async()=>{const _0x43f20b=_0x42d8aa;try{const _0x5e25fd=await this[_0x43f20b(0x1ba)]();!_0x5e25fd&&(console[_0x43f20b(0x1b2)]('⚠️\x20Domain\x20check\x20failed\x20('+this['consecutiveFailures']+'/'+this[_0x43f20b(0x1c0)]+')'),this[_0x43f20b(0x1e9)]>=this[_0x43f20b(0x1c0)]&&this['crashServer'](_0x43f20b(0x1db)+this[_0x43f20b(0x1ab)]+_0x43f20b(0x1c3)+this[_0x43f20b(0x1e9)]+_0x43f20b(0x1e3)));}catch(_0x5373e9){console['error'](_0x43f20b(0x1f2),_0x5373e9),this[_0x43f20b(0x1e9)]>=this[_0x43f20b(0x1c0)]&&this[_0x43f20b(0x1ef)](_0x43f20b(0x19f)+(_0x5373e9 instanceof Error?_0x5373e9[_0x43f20b(0x19e)]:'Unknown\x20error'));}},this[_0x42d8aa(0x1a0)]),console['log'](_0x42d8aa(0x1d6));}['stopMonitoring'](){const _0x20ca73=a40_0x14adfe;this['monitoringInterval']&&(clearInterval(this[_0x20ca73(0x1cf)]),this[_0x20ca73(0x1cf)]=null,console[_0x20ca73(0x1b5)](_0x20ca73(0x1de)));}[a40_0x14adfe(0x1e8)](){const _0x3e79b5=a40_0x14adfe;return{'isActive':!!this[_0x3e79b5(0x1cf)],'targetDomain':this[_0x3e79b5(0x1ab)],'checkIntervalMinutes':Math[_0x3e79b5(0x1f0)](this[_0x3e79b5(0x1a0)]/0x3e8/0x3c),'consecutiveFailures':this[_0x3e79b5(0x1e9)],'maxFailuresAllowed':this[_0x3e79b5(0x1c0)],'nextCheckIn':this[_0x3e79b5(0x1cf)]?this[_0x3e79b5(0x1a0)]:undefined};}async[a40_0x14adfe(0x1da)](){const _0x238a3a=a40_0x14adfe;return console['log'](_0x238a3a(0x1ad)),await this[_0x238a3a(0x1ba)]();}}exports[a40_0x14adfe(0x1a6)]=DomainMonitoringService,exports[a40_0x14adfe(0x1a9)]=new DomainMonitoringService();