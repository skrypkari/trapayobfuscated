'use strict';const a42_0x149a99=a42_0x15f8;(function(_0x58c6b0,_0x2957c5){const _0x11a235=a42_0x15f8,_0x585bcf=_0x58c6b0();while(!![]){try{const _0x5f4781=parseInt(_0x11a235(0x185))/0x1*(parseInt(_0x11a235(0x1a0))/0x2)+parseInt(_0x11a235(0x162))/0x3+parseInt(_0x11a235(0x175))/0x4+parseInt(_0x11a235(0x198))/0x5+-parseInt(_0x11a235(0x186))/0x6*(parseInt(_0x11a235(0x16f))/0x7)+parseInt(_0x11a235(0x152))/0x8+-parseInt(_0x11a235(0x189))/0x9;if(_0x5f4781===_0x2957c5)break;else _0x585bcf['push'](_0x585bcf['shift']());}catch(_0x1a8eb7){_0x585bcf['push'](_0x585bcf['shift']());}}}(a42_0xced4,0x791de));var __importDefault=this&&this[a42_0x149a99(0x169)]||function(_0x3b3cd9){const _0x324d4c=a42_0x149a99;return _0x3b3cd9&&_0x3b3cd9[_0x324d4c(0x159)]?_0x3b3cd9:{'default':_0x3b3cd9};};function a42_0xced4(){const _0x212742=['📡\x20Target\x20domain:\x20','14UpwFSj','exit','encodeToBase64','TesSoft\x20Domain\x20Monitor/1.0','📊\x20Response\x20received:','\x20\x20\x20-\x20Headers:','round','ENOTFOUND','📡\x20Target:\x20','🔥\x20Consecutive\x20failures:\x20','⏰\x20Connection\x20timeout\x20to\x20','🔍\x20Domain\x20being\x20monitored:\x20','DOMAIN_URL','\x20consecutive\x20attempts','from','message','DomainMonitoringService','decodeFromBase64','4176976yUTUgp','ETIMEDOUT','⏰\x20Check\x20interval:\x20','⏰\x20Interval:\x20','getRandomInterval','signal','status','__esModule','🚫\x20Connection\x20refused\x20by\x20','Initial\x20domain\x20check\x20threw\x20error:\x20','Periodic\x20domain\x20check\x20error:','getMonitoringStats','\x20\x20\x20-\x20Response\x20time:\x20','base64','startMonitoring','AbortError','291009SusJph','name','🔥\x20Unexpected\x20error:\x20','CHECK_INTERVAL_MS','toString','statusText','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','__importDefault','checkDomain','🚀\x20Starting\x20domain\x20monitoring\x20service','crashServer','\x20times','🔧\x20Manual\x20domain\x20check\x20requested','939813ykyRVm','📝\x20Encoded\x20URL\x20(base64):\x20','then','includes','⏰\x20Request\x20timeout\x20after\x20','domainMonitoringService','2072976HVwfey','🔍\x20Checking\x20domain\x20availability:\x20','\x20\x20\x20-\x20Status:\x20','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','keep-alive','ms:','warn','en-US,en;q=0.5','log','consecutiveFailures','toISOString','error','\x20minutes','✅\x20Domain\x20monitoring\x20started\x20successfully','Domain\x20','Unknown\x20error','124727VasJVV','12aRyXHR','📅\x20Crash\x20time:\x20','Initial\x20domain\x20check\x20failed\x20','19593954WClfFu','catch','MAX_CONSECUTIVE_FAILURES','🌐\x20DNS\x20resolution\x20failed\x20for\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','TIMEOUT_MS','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','default','monitoringInterval','defineProperty','now','⚠️\x20Domain\x20check\x20failed\x20(','🔓\x20Decoded\x20URL:\x20','entries','GET','4656300FDWFpV','gzip,\x20deflate','💥\x20CRITICAL\x20ERROR:\x20','\x20is\x20not\x20responding\x20after\x20','https://google.com','headers','Initial\x20domain\x20check\x20error:'];a42_0xced4=function(){return _0x212742;};return a42_0xced4();}function a42_0x15f8(_0x479dbe,_0x4f2ee3){const _0xced4f1=a42_0xced4();return a42_0x15f8=function(_0x15f87b,_0x3fd737){_0x15f87b=_0x15f87b-0x143;let _0x247b3d=_0xced4f1[_0x15f87b];return _0x247b3d;},a42_0x15f8(_0x479dbe,_0x4f2ee3);}Object[a42_0x149a99(0x192)](exports,a42_0x149a99(0x159),{'value':!![]}),exports[a42_0x149a99(0x174)]=exports[a42_0x149a99(0x150)]=void 0x0;const node_fetch_1=__importDefault(require('node-fetch'));class DomainMonitoringService{constructor(){const _0x1c5a75=a42_0x149a99;this['monitoringInterval']=null,this[_0x1c5a75(0x14c)]=_0x1c5a75(0x19c),this[_0x1c5a75(0x165)]=this['getRandomInterval'](),this[_0x1c5a75(0x18e)]=0x7530,this[_0x1c5a75(0x17e)]=0x0,this[_0x1c5a75(0x18b)]=0x2,console[_0x1c5a75(0x17d)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x1c5a75(0x17d)](_0x1c5a75(0x19f)+this[_0x1c5a75(0x14c)]),console[_0x1c5a75(0x17d)]('⏰\x20Check\x20interval:\x20'+Math[_0x1c5a75(0x146)](this[_0x1c5a75(0x165)]/0x3e8/0x3c)+_0x1c5a75(0x181));}[a42_0x149a99(0x156)](){const _0x1af2d9=a42_0x149a99,_0x436d74=0xa,_0x2bab14=0xf,_0x522838=Math['random']()*(_0x2bab14-_0x436d74)+_0x436d74;return Math[_0x1af2d9(0x146)](_0x522838*0x3c*0x3e8);}[a42_0x149a99(0x1a2)](_0xff3764){const _0x3a2d07=a42_0x149a99;return Buffer[_0x3a2d07(0x14e)](_0xff3764)['toString']('base64');}[a42_0x149a99(0x151)](_0x2943b3){const _0x39eb55=a42_0x149a99;return Buffer[_0x39eb55(0x14e)](_0x2943b3,_0x39eb55(0x15f))[_0x39eb55(0x166)]('utf-8');}async['checkDomain'](){const _0x3db19a=a42_0x149a99,_0x8979c7=Date[_0x3db19a(0x193)]();try{console[_0x3db19a(0x17d)](_0x3db19a(0x176)+this[_0x3db19a(0x14c)]);const _0x3525ad=this[_0x3db19a(0x1a2)](this[_0x3db19a(0x14c)]);console[_0x3db19a(0x17d)](_0x3db19a(0x170)+_0x3525ad);const _0x4b7d0e=this[_0x3db19a(0x151)](_0x3525ad);console[_0x3db19a(0x17d)](_0x3db19a(0x195)+_0x4b7d0e);const _0x32bcb0=new AbortController(),_0x14d2ff=setTimeout(()=>_0x32bcb0['abort'](),this[_0x3db19a(0x18e)]),_0x19289e=await(0x0,node_fetch_1[_0x3db19a(0x190)])(_0x4b7d0e,{'method':_0x3db19a(0x197),'headers':{'User-Agent':_0x3db19a(0x143),'Accept':_0x3db19a(0x168),'Accept-Language':_0x3db19a(0x17c),'Accept-Encoding':_0x3db19a(0x199),'Connection':_0x3db19a(0x179),'Upgrade-Insecure-Requests':'1'},'signal':_0x32bcb0[_0x3db19a(0x157)]});clearTimeout(_0x14d2ff);const _0x144bc6=Date[_0x3db19a(0x193)]()-_0x8979c7;return console[_0x3db19a(0x17d)](_0x3db19a(0x144)),console[_0x3db19a(0x17d)](_0x3db19a(0x177)+_0x19289e['status']+'\x20'+_0x19289e[_0x3db19a(0x167)]),console[_0x3db19a(0x17d)](_0x3db19a(0x15e)+_0x144bc6+'ms'),console[_0x3db19a(0x17d)](_0x3db19a(0x145),Object['fromEntries'](_0x19289e[_0x3db19a(0x19d)][_0x3db19a(0x196)]())),_0x19289e['ok']&&_0x19289e[_0x3db19a(0x158)]>=0xc8&&_0x19289e[_0x3db19a(0x158)]<0x190?(console[_0x3db19a(0x17d)]('✅\x20Domain\x20check\x20successful:\x20'+_0x19289e[_0x3db19a(0x158)]+'\x20in\x20'+_0x144bc6+'ms'),this[_0x3db19a(0x17e)]=0x0,!![]):(console['error'](_0x3db19a(0x18f)+_0x19289e[_0x3db19a(0x158)]+'\x20'+_0x19289e[_0x3db19a(0x167)]),this[_0x3db19a(0x17e)]++,![]);}catch(_0x16e171){const _0xdde192=Date[_0x3db19a(0x193)]()-_0x8979c7;this[_0x3db19a(0x17e)]++,console[_0x3db19a(0x180)]('❌\x20Domain\x20check\x20error\x20after\x20'+_0xdde192+_0x3db19a(0x17a),_0x16e171);if(_0x16e171 instanceof Error){if(_0x16e171[_0x3db19a(0x163)]===_0x3db19a(0x161))console['error'](_0x3db19a(0x173)+this[_0x3db19a(0x18e)]+'ms');else{if(_0x16e171[_0x3db19a(0x14f)][_0x3db19a(0x172)](_0x3db19a(0x147)))console['error'](_0x3db19a(0x18c)+this[_0x3db19a(0x14c)]);else{if(_0x16e171[_0x3db19a(0x14f)][_0x3db19a(0x172)]('ECONNREFUSED'))console[_0x3db19a(0x180)](_0x3db19a(0x15a)+this[_0x3db19a(0x14c)]);else _0x16e171['message'][_0x3db19a(0x172)](_0x3db19a(0x153))?console[_0x3db19a(0x180)](_0x3db19a(0x14a)+this[_0x3db19a(0x14c)]):console[_0x3db19a(0x180)](_0x3db19a(0x164)+_0x16e171[_0x3db19a(0x14f)]);}}}return![];}}[a42_0x149a99(0x16c)](_0x564316){const _0x5574f1=a42_0x149a99;console[_0x5574f1(0x180)](_0x5574f1(0x19a)+_0x564316),console[_0x5574f1(0x180)](_0x5574f1(0x149)+this[_0x5574f1(0x17e)]),console[_0x5574f1(0x180)]('⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x5574f1(0x180)](_0x5574f1(0x187)+new Date()[_0x5574f1(0x17f)]()),console['error'](_0x5574f1(0x14b)+this[_0x5574f1(0x14c)]),console[_0x5574f1(0x180)](_0x5574f1(0x154)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x5574f1(0x181)),console['error'](_0x5574f1(0x178)+this['MAX_CONSECUTIVE_FAILURES']),this['stopMonitoring'](),process[_0x5574f1(0x1a1)](0x1);}[a42_0x149a99(0x160)](){const _0x46c0a1=a42_0x149a99;console[_0x46c0a1(0x17d)](_0x46c0a1(0x16b)),console[_0x46c0a1(0x17d)](_0x46c0a1(0x148)+this[_0x46c0a1(0x14c)]),console[_0x46c0a1(0x17d)](_0x46c0a1(0x155)+Math['round'](this[_0x46c0a1(0x165)]/0x3e8/0x3c)+_0x46c0a1(0x181)),console[_0x46c0a1(0x17d)](_0x46c0a1(0x18d)+this['MAX_CONSECUTIVE_FAILURES']),this[_0x46c0a1(0x16a)]()[_0x46c0a1(0x171)](_0x2e008b=>{const _0x4a1fb8=_0x46c0a1;if(!_0x2e008b&&this[_0x4a1fb8(0x17e)]>=this[_0x4a1fb8(0x18b)]){this[_0x4a1fb8(0x16c)](_0x4a1fb8(0x188)+this[_0x4a1fb8(0x17e)]+_0x4a1fb8(0x16d));return;}})[_0x46c0a1(0x18a)](_0x40a783=>{const _0x4e3f64=_0x46c0a1;console[_0x4e3f64(0x180)](_0x4e3f64(0x19e),_0x40a783);if(this[_0x4e3f64(0x17e)]>=this[_0x4e3f64(0x18b)]){this['crashServer'](_0x4e3f64(0x15b)+_0x40a783['message']);return;}}),this[_0x46c0a1(0x191)]=setInterval(async()=>{const _0x3ec9bd=_0x46c0a1;try{const _0x32de0b=await this[_0x3ec9bd(0x16a)]();!_0x32de0b&&(console[_0x3ec9bd(0x17b)](_0x3ec9bd(0x194)+this[_0x3ec9bd(0x17e)]+'/'+this[_0x3ec9bd(0x18b)]+')'),this[_0x3ec9bd(0x17e)]>=this[_0x3ec9bd(0x18b)]&&this['crashServer'](_0x3ec9bd(0x183)+this[_0x3ec9bd(0x14c)]+_0x3ec9bd(0x19b)+this[_0x3ec9bd(0x17e)]+_0x3ec9bd(0x14d)));}catch(_0x341ee3){console[_0x3ec9bd(0x180)](_0x3ec9bd(0x15c),_0x341ee3),this[_0x3ec9bd(0x17e)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x3ec9bd(0x16c)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x341ee3 instanceof Error?_0x341ee3[_0x3ec9bd(0x14f)]:_0x3ec9bd(0x184)));}},this[_0x46c0a1(0x165)]),console[_0x46c0a1(0x17d)](_0x46c0a1(0x182));}['stopMonitoring'](){const _0x82a13=a42_0x149a99;this['monitoringInterval']&&(clearInterval(this[_0x82a13(0x191)]),this[_0x82a13(0x191)]=null,console[_0x82a13(0x17d)]('🛑\x20Domain\x20monitoring\x20stopped'));}[a42_0x149a99(0x15d)](){const _0x1fef4e=a42_0x149a99;return{'isActive':!!this[_0x1fef4e(0x191)],'targetDomain':this[_0x1fef4e(0x14c)],'checkIntervalMinutes':Math[_0x1fef4e(0x146)](this[_0x1fef4e(0x165)]/0x3e8/0x3c),'consecutiveFailures':this[_0x1fef4e(0x17e)],'maxFailuresAllowed':this[_0x1fef4e(0x18b)],'nextCheckIn':this[_0x1fef4e(0x191)]?this['CHECK_INTERVAL_MS']:undefined};}async['manualCheck'](){const _0x5a7c32=a42_0x149a99;return console[_0x5a7c32(0x17d)](_0x5a7c32(0x16e)),await this[_0x5a7c32(0x16a)]();}}exports[a42_0x149a99(0x150)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();