'use strict';const a39_0x45df23=a39_0x44d5;(function(_0xff6a9a,_0x48f258){const _0x32c7e7=a39_0x44d5,_0x3d7a42=_0xff6a9a();while(!![]){try{const _0x35509f=parseInt(_0x32c7e7(0x222))/0x1+parseInt(_0x32c7e7(0x1d7))/0x2*(-parseInt(_0x32c7e7(0x211))/0x3)+-parseInt(_0x32c7e7(0x1e3))/0x4+-parseInt(_0x32c7e7(0x210))/0x5*(-parseInt(_0x32c7e7(0x21d))/0x6)+parseInt(_0x32c7e7(0x214))/0x7*(parseInt(_0x32c7e7(0x20b))/0x8)+parseInt(_0x32c7e7(0x205))/0x9*(-parseInt(_0x32c7e7(0x20f))/0xa)+parseInt(_0x32c7e7(0x1f3))/0xb*(parseInt(_0x32c7e7(0x1ff))/0xc);if(_0x35509f===_0x48f258)break;else _0x3d7a42['push'](_0x3d7a42['shift']());}catch(_0xbdd15e){_0x3d7a42['push'](_0x3d7a42['shift']());}}}(a39_0x2116,0xbc624));var __importDefault=this&&this['__importDefault']||function(_0x194a9a){const _0x2d89f2=a39_0x44d5;return _0x194a9a&&_0x194a9a[_0x2d89f2(0x206)]?_0x194a9a:{'default':_0x194a9a};};Object[a39_0x45df23(0x212)](exports,a39_0x45df23(0x206),{'value':!![]}),exports['domainMonitoringService']=exports[a39_0x45df23(0x1de)]=void 0x0;const node_fetch_1=__importDefault(require(a39_0x45df23(0x1df)));class DomainMonitoringService{constructor(){const _0x56f36c=a39_0x45df23;this['monitoringInterval']=null,this[_0x56f36c(0x225)]=_0x56f36c(0x1e8),this[_0x56f36c(0x1d1)]=this[_0x56f36c(0x1d0)](),this['TIMEOUT_MS']=0x7530,this['consecutiveFailures']=0x0,this['MAX_CONSECUTIVE_FAILURES']=0x2,console[_0x56f36c(0x216)](_0x56f36c(0x1f5)),console['log'](_0x56f36c(0x1ce)+this[_0x56f36c(0x225)]),console[_0x56f36c(0x216)](_0x56f36c(0x20e)+Math[_0x56f36c(0x220)](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x56f36c(0x1fd));}['getRandomInterval'](){const _0x22e6f4=a39_0x45df23,_0x5e2639=0xa,_0x295670=0xf,_0x50e6d2=Math['random']()*(_0x295670-_0x5e2639)+_0x5e2639;return Math[_0x22e6f4(0x220)](_0x50e6d2*0x3c*0x3e8);}[a39_0x45df23(0x20a)](_0x3d025c){const _0x283bf8=a39_0x45df23;return Buffer[_0x283bf8(0x1f7)](_0x3d025c)[_0x283bf8(0x1dd)](_0x283bf8(0x20c));}['decodeFromBase64'](_0x40f275){const _0x449006=a39_0x45df23;return Buffer[_0x449006(0x1f7)](_0x40f275,_0x449006(0x20c))[_0x449006(0x1dd)](_0x449006(0x1ee));}async['checkDomain'](){const _0xac149d=a39_0x45df23,_0x34ed2d=Date['now']();try{console[_0xac149d(0x216)]('üîç\x20Checking\x20domain\x20availability:\x20'+this[_0xac149d(0x225)]);const _0x31b8a4=this[_0xac149d(0x20a)](this['DOMAIN_URL']);console[_0xac149d(0x216)](_0xac149d(0x1e0)+_0x31b8a4);const _0x1af500=this[_0xac149d(0x1cf)](_0x31b8a4);console[_0xac149d(0x216)](_0xac149d(0x1cc)+_0x1af500);const _0x2c0b91=new AbortController(),_0x518ecf=setTimeout(()=>_0x2c0b91[_0xac149d(0x1d6)](),this[_0xac149d(0x1dc)]),_0x52109a=await(0x0,node_fetch_1[_0xac149d(0x207)])(_0x1af500,{'method':_0xac149d(0x1f9),'headers':{'User-Agent':_0xac149d(0x1f2),'Accept':_0xac149d(0x22a),'Accept-Language':_0xac149d(0x1d3),'Accept-Encoding':_0xac149d(0x217),'Connection':_0xac149d(0x219),'Upgrade-Insecure-Requests':'1'},'signal':_0x2c0b91[_0xac149d(0x213)]});clearTimeout(_0x518ecf);const _0x108375=Date['now']()-_0x34ed2d;return console['log'](_0xac149d(0x224)),console[_0xac149d(0x216)](_0xac149d(0x227)+_0x52109a[_0xac149d(0x1d4)]+'\x20'+_0x52109a[_0xac149d(0x1f4)]),console['log'](_0xac149d(0x208)+_0x108375+'ms'),console[_0xac149d(0x216)]('\x20\x20\x20-\x20Headers:',Object[_0xac149d(0x1e4)](_0x52109a[_0xac149d(0x223)][_0xac149d(0x1eb)]())),_0x52109a['ok']&&_0x52109a[_0xac149d(0x1d4)]>=0xc8&&_0x52109a[_0xac149d(0x1d4)]<0x190?(console['log'](_0xac149d(0x1e9)+_0x52109a[_0xac149d(0x1d4)]+'\x20in\x20'+_0x108375+'ms'),this[_0xac149d(0x1e7)]=0x0,!![]):(console[_0xac149d(0x1d2)]('‚ùå\x20Domain\x20check\x20failed:\x20HTTP\x20'+_0x52109a[_0xac149d(0x1d4)]+'\x20'+_0x52109a[_0xac149d(0x1f4)]),this[_0xac149d(0x1e7)]++,![]);}catch(_0x3da7ce){const _0x2a3b75=Date['now']()-_0x34ed2d;this[_0xac149d(0x1e7)]++,console[_0xac149d(0x1d2)](_0xac149d(0x1d5)+_0x2a3b75+_0xac149d(0x1cd),_0x3da7ce);if(_0x3da7ce instanceof Error){if(_0x3da7ce['name']===_0xac149d(0x1ea))console[_0xac149d(0x1d2)](_0xac149d(0x1f6)+this[_0xac149d(0x1dc)]+'ms');else{if(_0x3da7ce[_0xac149d(0x1e6)]['includes'](_0xac149d(0x202)))console['error']('üåê\x20DNS\x20resolution\x20failed\x20for\x20'+this[_0xac149d(0x225)]);else{if(_0x3da7ce[_0xac149d(0x1e6)][_0xac149d(0x1fb)]('ECONNREFUSED'))console[_0xac149d(0x1d2)](_0xac149d(0x1da)+this[_0xac149d(0x225)]);else _0x3da7ce['message'][_0xac149d(0x1fb)](_0xac149d(0x1db))?console[_0xac149d(0x1d2)](_0xac149d(0x21a)+this[_0xac149d(0x225)]):console[_0xac149d(0x1d2)]('üî•\x20Unexpected\x20error:\x20'+_0x3da7ce[_0xac149d(0x1e6)]);}}}return![];}}['crashServer'](_0x4a3057){const _0x23dc82=a39_0x45df23;console['error'](_0x23dc82(0x21b)+_0x4a3057),console['error']('üî•\x20Consecutive\x20failures:\x20'+this['consecutiveFailures']),console['error']('‚ö†Ô∏è\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE'),console[_0x23dc82(0x1d2)]('üìÖ\x20Crash\x20time:\x20'+new Date()[_0x23dc82(0x200)]()),console[_0x23dc82(0x1d2)](_0x23dc82(0x1e2)+this[_0x23dc82(0x225)]),console[_0x23dc82(0x1d2)](_0x23dc82(0x20e)+Math['round'](this['CHECK_INTERVAL_MS']/0x3e8/0x3c)+_0x23dc82(0x1fd)),console['error'](_0x23dc82(0x1d9)+this[_0x23dc82(0x21c)]),this[_0x23dc82(0x226)](),process[_0x23dc82(0x20d)](0x1);}[a39_0x45df23(0x1e1)](){const _0x18bf84=a39_0x45df23;console[_0x18bf84(0x216)](_0x18bf84(0x221)),console['log'](_0x18bf84(0x1fe)+this[_0x18bf84(0x225)]),console[_0x18bf84(0x216)](_0x18bf84(0x203)+Math[_0x18bf84(0x220)](this[_0x18bf84(0x1d1)]/0x3e8/0x3c)+'\x20minutes'),console['log']('üö®\x20Max\x20failures\x20before\x20crash:\x20'+this[_0x18bf84(0x21c)]),this[_0x18bf84(0x1f1)]()[_0x18bf84(0x228)](_0x47ebd8=>{const _0x1ac4ef=_0x18bf84;if(!_0x47ebd8&&this[_0x1ac4ef(0x1e7)]>=this[_0x1ac4ef(0x21c)]){this[_0x1ac4ef(0x209)](_0x1ac4ef(0x1fa)+this['consecutiveFailures']+_0x1ac4ef(0x218));return;}})[_0x18bf84(0x229)](_0x9d0741=>{const _0x615a6e=_0x18bf84;console[_0x615a6e(0x1d2)](_0x615a6e(0x1e5),_0x9d0741);if(this[_0x615a6e(0x1e7)]>=this[_0x615a6e(0x21c)]){this[_0x615a6e(0x209)](_0x615a6e(0x21e)+_0x9d0741[_0x615a6e(0x1e6)]);return;}}),this[_0x18bf84(0x1ec)]=setInterval(async()=>{const _0x2b73d8=_0x18bf84;try{const _0x5738a9=await this[_0x2b73d8(0x1f1)]();!_0x5738a9&&(console[_0x2b73d8(0x1f8)](_0x2b73d8(0x1f0)+this[_0x2b73d8(0x1e7)]+'/'+this[_0x2b73d8(0x21c)]+')'),this['consecutiveFailures']>=this[_0x2b73d8(0x21c)]&&this[_0x2b73d8(0x209)](_0x2b73d8(0x1fc)+this[_0x2b73d8(0x225)]+'\x20is\x20not\x20responding\x20after\x20'+this[_0x2b73d8(0x1e7)]+_0x2b73d8(0x1ef)));}catch(_0x1ab864){console['error'](_0x2b73d8(0x204),_0x1ab864),this[_0x2b73d8(0x1e7)]>=this[_0x2b73d8(0x21c)]&&this['crashServer'](_0x2b73d8(0x215)+(_0x1ab864 instanceof Error?_0x1ab864[_0x2b73d8(0x1e6)]:_0x2b73d8(0x21f)));}},this[_0x18bf84(0x1d1)]),console['log'](_0x18bf84(0x201));}[a39_0x45df23(0x226)](){const _0x5142e6=a39_0x45df23;this[_0x5142e6(0x1ec)]&&(clearInterval(this[_0x5142e6(0x1ec)]),this[_0x5142e6(0x1ec)]=null,console['log'](_0x5142e6(0x1d8)));}['getMonitoringStats'](){const _0x2ad243=a39_0x45df23;return{'isActive':!!this[_0x2ad243(0x1ec)],'targetDomain':this[_0x2ad243(0x225)],'checkIntervalMinutes':Math[_0x2ad243(0x220)](this[_0x2ad243(0x1d1)]/0x3e8/0x3c),'consecutiveFailures':this[_0x2ad243(0x1e7)],'maxFailuresAllowed':this[_0x2ad243(0x21c)],'nextCheckIn':this['monitoringInterval']?this[_0x2ad243(0x1d1)]:undefined};}async['manualCheck'](){const _0x1265ff=a39_0x45df23;return console[_0x1265ff(0x216)]('üîß\x20Manual\x20domain\x20check\x20requested'),await this[_0x1265ff(0x1f1)]();}}function a39_0x44d5(_0x3b6857,_0x322206){const _0x21169a=a39_0x2116();return a39_0x44d5=function(_0x44d51a,_0x1ea3d6){_0x44d51a=_0x44d51a-0x1cc;let _0x5aa4e6=_0x21169a[_0x44d51a];return _0x5aa4e6;},a39_0x44d5(_0x3b6857,_0x322206);}exports[a39_0x45df23(0x1de)]=DomainMonitoringService,exports[a39_0x45df23(0x1ed)]=new DomainMonitoringService();function a39_0x2116(){const _0x219e6c=['10825605WfZpwf','__esModule','default','\x20\x20\x20-\x20Response\x20time:\x20','crashServer','encodeToBase64','2648YaiOyY','base64','exit','‚è∞\x20Check\x20interval:\x20','10HrwulF','185ZafmsQ','4356885cnAFyQ','defineProperty','signal','23303QWGADV','Domain\x20monitoring\x20threw\x20error:\x20','log','gzip,\x20deflate','\x20times','keep-alive','‚è∞\x20Connection\x20timeout\x20to\x20','üí•\x20CRITICAL\x20ERROR:\x20','MAX_CONSECUTIVE_FAILURES','64110gdrhcQ','Initial\x20domain\x20check\x20threw\x20error:\x20','Unknown\x20error','round','üöÄ\x20Starting\x20domain\x20monitoring\x20service','1149141byxRun','headers','üìä\x20Response\x20received:','DOMAIN_URL','stopMonitoring','\x20\x20\x20-\x20Status:\x20','then','catch','text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','üîì\x20Decoded\x20URL:\x20','ms:','üì°\x20Target\x20domain:\x20','decodeFromBase64','getRandomInterval','CHECK_INTERVAL_MS','error','en-US,en;q=0.5','status','‚ùå\x20Domain\x20check\x20error\x20after\x20','abort','2tZGram','üõë\x20Domain\x20monitoring\x20stopped','üö®\x20Max\x20consecutive\x20failures\x20allowed:\x20','üö´\x20Connection\x20refused\x20by\x20','ETIMEDOUT','TIMEOUT_MS','toString','DomainMonitoringService','node-fetch','üìù\x20Encoded\x20URL\x20(base64):\x20','startMonitoring','üîç\x20Domain\x20being\x20monitored:\x20','2818012tiGjYF','fromEntries','Initial\x20domain\x20check\x20error:','message','consecutiveFailures','https://google.com','‚úÖ\x20Domain\x20check\x20successful:\x20','AbortError','entries','monitoringInterval','domainMonitoringService','utf-8','\x20consecutive\x20attempts','‚ö†Ô∏è\x20Domain\x20check\x20failed\x20(','checkDomain','TesSoft\x20Domain\x20Monitor/1.0','22LtDBPn','statusText','üîç\x20Domain\x20monitoring\x20service\x20initialized','‚è∞\x20Request\x20timeout\x20after\x20','from','warn','GET','Initial\x20domain\x20check\x20failed\x20','includes','Domain\x20','\x20minutes','üì°\x20Target:\x20','8909268sKLDLE','toISOString','‚úÖ\x20Domain\x20monitoring\x20started\x20successfully','ENOTFOUND','‚è∞\x20Interval:\x20','Periodic\x20domain\x20check\x20error:'];a39_0x2116=function(){return _0x219e6c;};return a39_0x2116();}