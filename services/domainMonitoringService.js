'use strict';const a40_0x4c6ecc=a40_0x92b4;(function(_0x26ad76,_0xe7b333){const _0x36bc3b=a40_0x92b4,_0x56783a=_0x26ad76();while(!![]){try{const _0x5298b6=parseInt(_0x36bc3b(0x1cf))/0x1+-parseInt(_0x36bc3b(0x17f))/0x2*(-parseInt(_0x36bc3b(0x18b))/0x3)+-parseInt(_0x36bc3b(0x19b))/0x4*(-parseInt(_0x36bc3b(0x198))/0x5)+-parseInt(_0x36bc3b(0x1a9))/0x6+-parseInt(_0x36bc3b(0x1bd))/0x7+parseInt(_0x36bc3b(0x1bb))/0x8+parseInt(_0x36bc3b(0x1ab))/0x9*(-parseInt(_0x36bc3b(0x194))/0xa);if(_0x5298b6===_0xe7b333)break;else _0x56783a['push'](_0x56783a['shift']());}catch(_0x4e193d){_0x56783a['push'](_0x56783a['shift']());}}}(a40_0x50ed,0x72ba4));function a40_0x92b4(_0x257211,_0x33d395){const _0x50edfb=a40_0x50ed();return a40_0x92b4=function(_0x92b44b,_0x319c03){_0x92b44b=_0x92b44b-0x17c;let _0x174511=_0x50edfb[_0x92b44b];return _0x174511;},a40_0x92b4(_0x257211,_0x33d395);}var __importDefault=this&&this['__importDefault']||function(_0x3e5eef){const _0xab205=a40_0x92b4;return _0x3e5eef&&_0x3e5eef[_0xab205(0x1a2)]?_0x3e5eef:{'default':_0x3e5eef};};Object['defineProperty'](exports,a40_0x4c6ecc(0x1a2),{'value':!![]}),exports[a40_0x4c6ecc(0x188)]=exports['DomainMonitoringService']=void 0x0;const node_fetch_1=__importDefault(require(a40_0x4c6ecc(0x1d3)));class DomainMonitoringService{constructor(){const _0x3b3f2a=a40_0x4c6ecc;this['monitoringInterval']=null,this[_0x3b3f2a(0x1ae)]=_0x3b3f2a(0x1c4),this[_0x3b3f2a(0x1cc)]=this[_0x3b3f2a(0x1b8)](),this['TIMEOUT_MS']=0x7530,this[_0x3b3f2a(0x196)]=0x0,this[_0x3b3f2a(0x183)]=0x2,console[_0x3b3f2a(0x180)]('🔍\x20Domain\x20monitoring\x20service\x20initialized'),console[_0x3b3f2a(0x180)](_0x3b3f2a(0x1c1)+this[_0x3b3f2a(0x1ae)]),console[_0x3b3f2a(0x180)](_0x3b3f2a(0x17d)+Math['round'](this[_0x3b3f2a(0x1cc)]/0x3e8/0x3c)+_0x3b3f2a(0x1c2));}[a40_0x4c6ecc(0x1b8)](){const _0x310725=0xa,_0x188acb=0xf,_0x4b9b4c=Math['random']()*(_0x188acb-_0x310725)+_0x310725;return Math['round'](_0x4b9b4c*0x3c*0x3e8);}[a40_0x4c6ecc(0x1ac)](_0xc302b4){const _0x5f303f=a40_0x4c6ecc;return Buffer[_0x5f303f(0x1af)](_0xc302b4)['toString']('base64');}[a40_0x4c6ecc(0x187)](_0x562991){const _0xeeca4f=a40_0x4c6ecc;return Buffer[_0xeeca4f(0x1af)](_0x562991,'base64')['toString'](_0xeeca4f(0x1a5));}async[a40_0x4c6ecc(0x1d7)](){const _0xe6d6fb=a40_0x4c6ecc,_0x4589db=Date['now']();try{console[_0xe6d6fb(0x180)](_0xe6d6fb(0x1ba)+this['DOMAIN_URL']);const _0x4ae23d=this[_0xe6d6fb(0x1ac)](this[_0xe6d6fb(0x1ae)]);console[_0xe6d6fb(0x180)]('📝\x20Encoded\x20URL\x20(base64):\x20'+_0x4ae23d);const _0x1cf3e4=this[_0xe6d6fb(0x187)](_0x4ae23d);console[_0xe6d6fb(0x180)](_0xe6d6fb(0x17c)+_0x1cf3e4);const _0x39d2ec=new AbortController(),_0x4b7fe7=setTimeout(()=>_0x39d2ec['abort'](),this[_0xe6d6fb(0x1c7)]),_0x313ea0=await(0x0,node_fetch_1[_0xe6d6fb(0x190)])(_0x1cf3e4,{'method':_0xe6d6fb(0x1c0),'headers':{'User-Agent':'TesSoft\x20Domain\x20Monitor/1.0','Accept':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','Accept-Language':_0xe6d6fb(0x1c5),'Accept-Encoding':_0xe6d6fb(0x192),'Connection':'keep-alive','Upgrade-Insecure-Requests':'1'},'signal':_0x39d2ec[_0xe6d6fb(0x1b0)]});clearTimeout(_0x4b7fe7);const _0xfda86a=Date['now']()-_0x4589db;return console[_0xe6d6fb(0x180)]('📊\x20Response\x20received:'),console[_0xe6d6fb(0x180)](_0xe6d6fb(0x197)+_0x313ea0[_0xe6d6fb(0x182)]+'\x20'+_0x313ea0[_0xe6d6fb(0x1cb)]),console[_0xe6d6fb(0x180)](_0xe6d6fb(0x1b5)+_0xfda86a+'ms'),console[_0xe6d6fb(0x180)]('\x20\x20\x20-\x20Headers:',Object[_0xe6d6fb(0x1d8)](_0x313ea0[_0xe6d6fb(0x1cd)][_0xe6d6fb(0x1a8)]())),_0x313ea0['ok']&&_0x313ea0[_0xe6d6fb(0x182)]>=0xc8&&_0x313ea0[_0xe6d6fb(0x182)]<0x190?(console['log'](_0xe6d6fb(0x1a7)+_0x313ea0[_0xe6d6fb(0x182)]+_0xe6d6fb(0x19a)+_0xfda86a+'ms'),this[_0xe6d6fb(0x196)]=0x0,!![]):(console[_0xe6d6fb(0x1be)](_0xe6d6fb(0x1b6)+_0x313ea0[_0xe6d6fb(0x182)]+'\x20'+_0x313ea0[_0xe6d6fb(0x1cb)]),this[_0xe6d6fb(0x196)]++,![]);}catch(_0x1114c1){const _0x363381=Date[_0xe6d6fb(0x1c9)]()-_0x4589db;this[_0xe6d6fb(0x196)]++,console[_0xe6d6fb(0x1be)](_0xe6d6fb(0x193)+_0x363381+_0xe6d6fb(0x1d1),_0x1114c1);if(_0x1114c1 instanceof Error){if(_0x1114c1[_0xe6d6fb(0x1ca)]===_0xe6d6fb(0x1a3))console[_0xe6d6fb(0x1be)]('⏰\x20Request\x20timeout\x20after\x20'+this[_0xe6d6fb(0x1c7)]+'ms');else{if(_0x1114c1['message'][_0xe6d6fb(0x1a6)](_0xe6d6fb(0x1b7)))console[_0xe6d6fb(0x1be)](_0xe6d6fb(0x184)+this[_0xe6d6fb(0x1ae)]);else{if(_0x1114c1[_0xe6d6fb(0x19f)][_0xe6d6fb(0x1a6)]('ECONNREFUSED'))console[_0xe6d6fb(0x1be)](_0xe6d6fb(0x186)+this['DOMAIN_URL']);else _0x1114c1[_0xe6d6fb(0x19f)]['includes'](_0xe6d6fb(0x19e))?console[_0xe6d6fb(0x1be)](_0xe6d6fb(0x1b4)+this[_0xe6d6fb(0x1ae)]):console[_0xe6d6fb(0x1be)](_0xe6d6fb(0x18c)+_0x1114c1[_0xe6d6fb(0x19f)]);}}}return![];}}[a40_0x4c6ecc(0x17e)](_0x1806a5){const _0x2f684b=a40_0x4c6ecc;console[_0x2f684b(0x1be)](_0x2f684b(0x1c3)+_0x1806a5),console['error'](_0x2f684b(0x1a4)+this[_0x2f684b(0x196)]),console[_0x2f684b(0x1be)](_0x2f684b(0x181)),console[_0x2f684b(0x1be)](_0x2f684b(0x1bf)+new Date()[_0x2f684b(0x1a0)]()),console[_0x2f684b(0x1be)](_0x2f684b(0x18a)+this[_0x2f684b(0x1ae)]),console[_0x2f684b(0x1be)](_0x2f684b(0x17d)+Math[_0x2f684b(0x189)](this[_0x2f684b(0x1cc)]/0x3e8/0x3c)+_0x2f684b(0x1c2)),console[_0x2f684b(0x1be)](_0x2f684b(0x1ad)+this[_0x2f684b(0x183)]),this['stopMonitoring'](),process[_0x2f684b(0x1b1)](0x1);}['startMonitoring'](){const _0x6d5c01=a40_0x4c6ecc;console[_0x6d5c01(0x180)](_0x6d5c01(0x1b9)),console[_0x6d5c01(0x180)](_0x6d5c01(0x199)+this[_0x6d5c01(0x1ae)]),console[_0x6d5c01(0x180)](_0x6d5c01(0x18e)+Math['round'](this[_0x6d5c01(0x1cc)]/0x3e8/0x3c)+_0x6d5c01(0x1c2)),console[_0x6d5c01(0x180)](_0x6d5c01(0x18d)+this[_0x6d5c01(0x183)]),this[_0x6d5c01(0x1d7)]()[_0x6d5c01(0x1d4)](_0xe54869=>{const _0x172ce0=_0x6d5c01;if(!_0xe54869&&this['consecutiveFailures']>=this[_0x172ce0(0x183)]){this['crashServer'](_0x172ce0(0x1d0)+this[_0x172ce0(0x196)]+_0x172ce0(0x195));return;}})[_0x6d5c01(0x1b3)](_0x27450c=>{const _0x7124f8=_0x6d5c01;console[_0x7124f8(0x1be)]('Initial\x20domain\x20check\x20error:',_0x27450c);if(this[_0x7124f8(0x196)]>=this['MAX_CONSECUTIVE_FAILURES']){this[_0x7124f8(0x17e)](_0x7124f8(0x1c8)+_0x27450c[_0x7124f8(0x19f)]);return;}}),this['monitoringInterval']=setInterval(async()=>{const _0x3ac701=_0x6d5c01;try{const _0x180ef3=await this['checkDomain']();!_0x180ef3&&(console[_0x3ac701(0x1ce)](_0x3ac701(0x1a1)+this[_0x3ac701(0x196)]+'/'+this['MAX_CONSECUTIVE_FAILURES']+')'),this[_0x3ac701(0x196)]>=this['MAX_CONSECUTIVE_FAILURES']&&this[_0x3ac701(0x17e)]('Domain\x20'+this[_0x3ac701(0x1ae)]+_0x3ac701(0x1aa)+this[_0x3ac701(0x196)]+_0x3ac701(0x1b2)));}catch(_0x9e272){console[_0x3ac701(0x1be)](_0x3ac701(0x191),_0x9e272),this[_0x3ac701(0x196)]>=this[_0x3ac701(0x183)]&&this[_0x3ac701(0x17e)]('Domain\x20monitoring\x20threw\x20error:\x20'+(_0x9e272 instanceof Error?_0x9e272[_0x3ac701(0x19f)]:_0x3ac701(0x18f)));}},this[_0x6d5c01(0x1cc)]),console[_0x6d5c01(0x180)](_0x6d5c01(0x19c));}[a40_0x4c6ecc(0x1c6)](){const _0x9e854b=a40_0x4c6ecc;this[_0x9e854b(0x185)]&&(clearInterval(this['monitoringInterval']),this[_0x9e854b(0x185)]=null,console[_0x9e854b(0x180)](_0x9e854b(0x1bc)));}[a40_0x4c6ecc(0x19d)](){const _0x354ae2=a40_0x4c6ecc;return{'isActive':!!this[_0x354ae2(0x185)],'targetDomain':this[_0x354ae2(0x1ae)],'checkIntervalMinutes':Math[_0x354ae2(0x189)](this[_0x354ae2(0x1cc)]/0x3e8/0x3c),'consecutiveFailures':this[_0x354ae2(0x196)],'maxFailuresAllowed':this[_0x354ae2(0x183)],'nextCheckIn':this['monitoringInterval']?this[_0x354ae2(0x1cc)]:undefined};}async[a40_0x4c6ecc(0x1d6)](){const _0x29a287=a40_0x4c6ecc;return console[_0x29a287(0x180)](_0x29a287(0x1d2)),await this[_0x29a287(0x1d7)]();}}function a40_0x50ed(){const _0x35dc06=['GET','📡\x20Target\x20domain:\x20','\x20minutes','💥\x20CRITICAL\x20ERROR:\x20','https://google.com','en-US,en;q=0.5','stopMonitoring','TIMEOUT_MS','Initial\x20domain\x20check\x20threw\x20error:\x20','now','name','statusText','CHECK_INTERVAL_MS','headers','warn','245072oJzrtm','Initial\x20domain\x20check\x20failed\x20','ms:','🔧\x20Manual\x20domain\x20check\x20requested','node-fetch','then','DomainMonitoringService','manualCheck','checkDomain','fromEntries','🔓\x20Decoded\x20URL:\x20','⏰\x20Check\x20interval:\x20','crashServer','107186ellAVY','log','⚠️\x20CRASHING\x20SERVER\x20DUE\x20TO\x20DOMAIN\x20MONITORING\x20FAILURE','status','MAX_CONSECUTIVE_FAILURES','🌐\x20DNS\x20resolution\x20failed\x20for\x20','monitoringInterval','🚫\x20Connection\x20refused\x20by\x20','decodeFromBase64','domainMonitoringService','round','🔍\x20Domain\x20being\x20monitored:\x20','33NZFToD','🔥\x20Unexpected\x20error:\x20','🚨\x20Max\x20failures\x20before\x20crash:\x20','⏰\x20Interval:\x20','Unknown\x20error','default','Periodic\x20domain\x20check\x20error:','gzip,\x20deflate','❌\x20Domain\x20check\x20error\x20after\x20','380vUjMfx','\x20times','consecutiveFailures','\x20\x20\x20-\x20Status:\x20','10PSsCtm','📡\x20Target:\x20','\x20in\x20','916572HlRzJx','✅\x20Domain\x20monitoring\x20started\x20successfully','getMonitoringStats','ETIMEDOUT','message','toISOString','⚠️\x20Domain\x20check\x20failed\x20(','__esModule','AbortError','🔥\x20Consecutive\x20failures:\x20','utf-8','includes','✅\x20Domain\x20check\x20successful:\x20','entries','3901884UqvgmY','\x20is\x20not\x20responding\x20after\x20','83277YruSfp','encodeToBase64','🚨\x20Max\x20consecutive\x20failures\x20allowed:\x20','DOMAIN_URL','from','signal','exit','\x20consecutive\x20attempts','catch','⏰\x20Connection\x20timeout\x20to\x20','\x20\x20\x20-\x20Response\x20time:\x20','❌\x20Domain\x20check\x20failed:\x20HTTP\x20','ENOTFOUND','getRandomInterval','🚀\x20Starting\x20domain\x20monitoring\x20service','🔍\x20Checking\x20domain\x20availability:\x20','5887440WixAUc','🛑\x20Domain\x20monitoring\x20stopped','3898713uloAzh','error','📅\x20Crash\x20time:\x20'];a40_0x50ed=function(){return _0x35dc06;};return a40_0x50ed();}exports[a40_0x4c6ecc(0x1d5)]=DomainMonitoringService,exports['domainMonitoringService']=new DomainMonitoringService();