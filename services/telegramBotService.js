'use strict';const a87_0x412045=a87_0x412f;(function(_0x52999e,_0xb522fb){const _0x55fbaa=a87_0x412f,_0x40543c=_0x52999e();while(!![]){try{const _0x451bfb=parseInt(_0x55fbaa(0x1d6))/0x1*(-parseInt(_0x55fbaa(0x2e4))/0x2)+-parseInt(_0x55fbaa(0x25a))/0x3*(parseInt(_0x55fbaa(0x2b0))/0x4)+parseInt(_0x55fbaa(0x292))/0x5+parseInt(_0x55fbaa(0x2f7))/0x6*(parseInt(_0x55fbaa(0x28c))/0x7)+parseInt(_0x55fbaa(0x1f0))/0x8+parseInt(_0x55fbaa(0x2f5))/0x9+-parseInt(_0x55fbaa(0x27e))/0xa;if(_0x451bfb===_0xb522fb)break;else _0x40543c['push'](_0x40543c['shift']());}catch(_0x220e3b){_0x40543c['push'](_0x40543c['shift']());}}}(a87_0x5111,0x92352));var __importDefault=this&&this[a87_0x412045(0x1f1)]||function(_0x4eacd2){const _0x1ac8df=a87_0x412045;return _0x4eacd2&&_0x4eacd2[_0x1ac8df(0x386)]?_0x4eacd2:{'default':_0x4eacd2};};function a87_0x412f(_0x31d22c,_0xc340aa){_0x31d22c=_0x31d22c-0x1cc;const _0x511110=a87_0x5111();let _0x412f33=_0x511110[_0x31d22c];return _0x412f33;}Object['defineProperty'](exports,a87_0x412045(0x386),{'value':!![]}),exports['telegramBotService']=exports[a87_0x412045(0x32d)]=void 0x0;function a87_0x5111(){const _0x3f657b=['âœ…\x20You\x20have\x20been\x20successfully\x20connected\x20to\x20the\x20notification\x20system!\x0a\x0a',')\x0a\x0a','pl_page_','CHF','âœ…\x20*Payment\x20Link\x20Created\x20Successfully\x5c!*\x0a\x0a','cmd_contacts','âœ…\x20You\x20have\x20been\x20successfully\x20disconnected\x20from\x20shop\x20*','\x20\x20\x20Gateway:\x20','parse','âŒ\x20Shop\x20with\x20username\x20`','Payment\x20refund','...\x22','stats_this_month','Successful\x20login','../config/database','âŒ\x20Unknown\x20command','.png','PLN','â€¢\x20Dates\x20and\x20TX\x20IDs','âœ…\x20Direct\x20message\x20sent\x20to\x20chat\x20','Contact\x20administrator.','Use\x20/start\x20to\x20begin.','handlePaymentLinkFlow','toUpperCase','Error\x20handling\x20/contacts\x20command:','156910rhuzVa','ðŸ“±\x20Your\x20Telegram\x20ID:\x20`','ðŸ’°\x20Total\x20earned:\x20','ðŸª\x20Your\x20connected\x20shop:\x0a','Copy\x20and\x20share\x20this\x20link\x20with\x20your\x20customers\x5c!','*\x0a\x0a','ðŸ“ž\x20*Contacts*','ðŸ””\x20You\x20receive\x20notifications\x20about:\x0a','ðŸ”„\x20Processing\x20single-line\x20verification\x20for\x20user\x20','Failed\x20to\x20send\x20login\x20notification:','desc','success','data','currency','21xONPDy','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','ðŸ“±\x20No\x20active\x20Telegram\x20users\x20found','customerUa','toLocaleString','ðŸ“Š\x20*Statistics:\x20','5046170ZmepNg','Error\x20in\x20handleSingleLineVerification:','âŒ\x20You\x20are\x20not\x20connected\x20to\x20any\x20shop.\x0a\x0a','âŒ\x20Cancel','answerCallbackQuery','Error\x20handling\x20/status\x20command:','telegramUser','padStart','pk_','sendDocument',':\x20`','ðŸ“±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','toString','cmd_back_to_menu','â±ï¸\x20*Period:*\x20','shop','ðŸ”„\x20Type:\x20','AUD','notificationApiError','USD','ðŸ“…\x20*Payout\x20Date:*\x20','â€¢\x20Amount\x20and\x20network\x0a','application/pdf','isValidGatewayId','2-digit','Telegram\x20bot\x20polling\x20error:','back_to_stats_menu','âŒ\x20API\x20key\x20does\x20not\x20match\x20shop\x20`','set','USDC','3381604KNEsNp','ðŸ“…\x20All\x20Time','getGatewayCurrencies','ðŸ”\x20*Debug\x20Information*\x0a\x0a','ðŸ’¸\x20Penalty\x20amount:\x20*','âœ…\x20Welcome\x20back!\x0a\x0a','.pdf','handleSingleLineVerification','Error\x20handling\x20/debug\x20command:','paymentLink','...','ðŸ”„\x20Refunds\x20\x5c-\x20','Make\x20sure\x20you\x20have\x20the\x20correct\x20username\x20from\x20your\x20account.','\x20users\x20of\x20shop\x20','ðŸ”—\x20*Create\x20Payment\x20Link*\x0a\x0aStep\x201/4:\x20Select\x20gateway','createdAt','numeric','error','\x20(e.g.,\x20100)','pl_cancel','API\x20key\x20must\x20start\x20with\x20`pk\x5c_`\x20or\x20`sk\x5c_`.','ðŸ”Œ\x20User\x20','Use\x20/status\x20to\x20check\x20status\x20or\x20/disconnect\x20to\x20disconnect.','editMessageText','toFixed','status','ðŸ“…\x20Today','Single\x20Use','âœ…\x20Successful\x20Payments\x20\x5c-\x20','ðŸ‘¤\x20Account','/disconnect\x20-\x20disconnect\x20from\x20notifications','`\x20is\x20inactive.\x0a\x0a','ðŸ’µ\x20Earned\x20\x5c-\x20','find','BNB','Error\x20handling\x20callback\x20query:','cmd_status','REFUND','âœ…\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','You\x20are\x20already\x20connected\x20to\x20shop:\x20*','callback_query','message_id','\x0aâš ï¸\x20If\x20this\x20wasn\x27t\x20you,\x20change\x20your\x20password\x20immediately!','Payment\x20is\x20being\x20processed','sendNotificationToAll','âŒ\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','sendDirectMessage','ðŸ’°\x20Turnover\x20\x5c-\x20','âœ…\x20Paid\x20out:\x20','get','âŒ\x20Invalid\x20amount.\x20Please\x20enter\x20a\x20valid\x20number\x20greater\x20than\x200.','username','1236vtxKbf','âŒ\x20Error\x20sending\x20file\x20to\x20shop:','âœ…\x20Telegram\x20user\x20','ðŸª\x20Gateway:\x20`','ðŸ“ˆ\x20Conversion\x20\x5c-\x20','â€¢\x20Active\x20payment\x20links\x0a','ðŸ“Š\x20*Statistics*\x0a\x0aSelect\x20period:','NZD','pl_','ðŸ”„\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','âŒ\x20You\x20are\x20not\x20connected\x20to\x20the\x20notification\x20system.','âš ï¸\x20Chargebacks\x20\x5c-\x20','count','FAILED','sk_','Error\x20in\x20payment\x20link\x20flow:','gateway','2550735zZSFmD','ðŸ””\x20Notifications\x20are\x20active','291966wxWMOB','AED','Markdown','ðŸ’¸\x20Payouts','requestId','BTC','ðŸŒ\x20Website','CAD','ðŸ“…\x20Last\x20Month','UTC','Next\x20âž¡ï¸','Error\x20handling\x20/statistics\x20command:','network','customerIp','\x0aðŸ’¡\x20Check\x20your\x20request\x20or\x20contact\x20support.','keys','â³\x20The\x20payment\x20is\x20currently\x20being\x20processed\x20by\x20the\x20gateway.\x0a','length','processing','getUTCMonth','`.\x0a\x0a','\x20-\x20','getGatewayNameById','\x20USDT*\x0a','totalPaidOut','Payment\x20chargeback','entries','ðŸ“Š\x20Error\x20code:\x20`','includes','ARS','âŒ\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','stats_yesterday','ðŸ†”\x20Request\x20ID:\x20`','Error\x20sending\x20shop\x20notification:','DOGE','application/octet-stream','customerName','sendShopNotification','â€¢\x20Payouts','push','ðŸŒ\x20Country:\x20','To\x20reconnect,\x20use\x20the\x20/start\x20command','\x20USDC\x0a','adminNotes','pl_type_single','en-US','warn','COMPLETED','step','Disconnect\x20one\x20of\x20the\x20existing\x20accounts\x20first.','initializeBot','onText','payment','\x20\x5c|\x20Type:\x20','TelegramBotService','EXPIRED','Unknown','Step\x203/4:\x20Select\x20currency','Error\x20handling\x20message:','NOK','text','âŒ\x20No\x20active\x20gateways\x20found.\x20Please\x20enable\x20at\x20least\x20one\x20gateway\x20in\x20the\x20admin\x20panel.','\x20USDT\x0a','\x22,\x20apiKey=\x22','â³\x20Pending\x20payouts:\x20','Coming\x20soon...\x0a\x0a','cmd_payment_links','\x0aðŸ‘¤\x20*Customer\x20Information:*\x0a','shopSettings','ðŸ”Œ\x20Disconnect','endpoint','ðŸ””\x20Notifications\x20are\x20active\x0a\x0a','ðŸ“\x20Order\x20ID:\x20`','paymentLinkSessions','âŒ\x20You\x20are\x20not\x20connected\x20to\x20a\x20shop.\x0a\x0a','âœ…\x20You\x20are\x20already\x20connected\x20to\x20shop\x20*','endsWith','ðŸŒ\x20IP:\x20`','ðŸ“‹\x20*Payment\x20Links*\x0a\x0aNo\x20payment\x20links\x20found\x5c.\x0a\x0aCreate\x20your\x20first\x20payment\x20link\x5c!','ðŸ’¸\x20*Recent\x20Payouts*\x0a\x0a','CHARGEBACK','substring','telegramId','remitterIban','Example:\x0a','*.\x0a\x0a','âŒ\x20Failed\x20to\x20send\x20message\x20to\x20user\x20','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','delete','message','New\x20payment\x20created','ðŸ“…\x20This\x20Month','secretKey','ðŸ’°\x20Amount:\x20','sendShopFile','ðŸ“±\x20Sending\x20notification\x20to\x20all\x20connected\x20users:\x20','.jpeg','Payment\x20expired','ðŸ†”\x20Payment\x20ID:\x20`','ðŸ”—\x20*Create\x20Payment\x20Link*\x0a\x0a','ðŸ“\x20Format:\x20`username\x20api_key`\x0a\x0a','https://t.me/trapay_sales','ðŸ“Š\x20Status','map','name','pl_view_list','statusCode','âœ…\x20Connected\x20to\x20shop:\x20*','setupBotHandlers','timestamp','âŒ\x20Failed\x20Payments\x20\x5c-\x20','âŒ\x20Error\x20sending\x20direct\x20message:','botToken','bot','âŒ\x20Invalid\x20username\x20format:\x20`','failed','ðŸ””\x20You\x20will\x20now\x20receive\x20notifications\x20about:\x0a','/payment\x5c_links\x20-\x20manage\x20payment\x20links\x0a','Check\x20the\x20key\x20and\x20try\x20again.\x0a\x0a','isVerified','method','ceil','âœ…\x20File\x20sent\x20to\x20','Telegram\x20bot\x20error:','â€¢\x20Important\x20events','âŒ\x20An\x20error\x20occurred.\x20Please\x20try\x20again.','EUR','â¬…ï¸\x20Back','âœ…\x20Login\x20notification\x20sent\x20for\x20shop\x20','https://t.me/trapay_news','sendCustomNotification','LTC','You\x20sent\x20','Gateway\x20-\x20','reduce','paymentGateways','ðŸ“¢\x20Telegram\x20channel','Please\x20check\x20the\x20spelling\x20and\x20try\x20again.\x0a\x0a','create','payout','trapay_bot','botUsername','balance','__esModule','âŒ\x20Error:\x20`','ðŸ“‹\x20View\x20Payment\x20Links','chat\x20not\x20found','Username:\x20`','ðŸ“Š\x20*Connection\x20Status*\x0a\x0a','MarkdownV2','âŒ\x20Error\x20sending\x20file\x20to\x20chat:','errorMessage','publicKey','update','Not\x20specified','SINGLE','ðŸ””\x20*','TRY','chat','\x20\x20\x20Name:\x20*','period','âŒ\x20No\x20gateways\x20configured.\x20Please\x20configure\x20gateways\x20in\x20the\x20admin\x20panel\x20first.','slice','1190wjscEG','stats_all_time','pl_gw_','âŒ\x20You\x20are\x20not\x20registered\x20in\x20the\x20system.\x0a\x0a','SOL','âž•\x20Create\x20New\x20Link','handleMerchantStatistics','replace','/payouts\x20-\x20view\x20recent\x20payouts\x0a','startsWith','Payment\x20successfully\x20paid',':\x20username=\x22','cmd_statistics','ETH','0.0','from','âŒ\x20You\x20are\x20not\x20connected\x20to\x20a\x20shop.\x0a\x0aUse\x20/start\x20to\x20connect.','ðŸ”—\x20*Payment\x20Links*\x0a\x0a','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','âœ…\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','ðŸ¤–\x20Welcome\x20to\x20TRAPAY\x20notification\x20system!\x0a\x0a','ðŸ’»\x20Browser:\x20`','`\x0a\x0a','sendApiErrorNotification','\x20parts:\x20','âŒ\x20Shop\x20`','6053968HSRGca','__importDefault','GBP','ðŸ“±\x20Telegram\x20notification:\x20gateway\x20\x22','default','\x20USDC','cmd_disconnect','âŒ\x20Error\x20getting\x20statistics','getUTCFullYear','ðŸ’¸\x20*Payouts*\x0a\x0a','/link/','cmd_payouts','âŒ\x20Invalid\x20format.\x20Please\x20send\x20exactly\x202\x20parts\x20separated\x20by\x20space:\x0a\x0a','GATEWAY_ID_MAP','shopId','forEach','\x5c)\x0a\x0a','Error\x20handling\x20/payouts\x20command:','âŒ\x20Failed\x20to\x20send\x20notification\x20to\x20all\x20users:','âœ…\x20Telegram\x20bot\x20@','pl_type_','ipAddress','Username\x20must\x20contain\x20only\x20letters,\x20numbers\x20and\x20underscore\x20(3-50\x20characters).','txid','Expected\x20key\x20format:\x20`pk_...`\x20or\x20`sk_...`','type','findMany','You\x20are\x20connected\x20to\x20shop:\x20*','ðŸ“±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','ðŸ”—\x20*Payment\x20Links*\x0a\x0aChoose\x20an\x20action:','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','.jpg','ðŸ“…\x20Yesterday','updatedAt','pl_create_new','stats_today','Error\x20handling\x20/disconnect\x20command:','customerEmail','â€¢\x20Payment\x20status\x20changes\x0a','last_name','JPY','Error\x20showing\x20payment\x20links\x20list:','ðŸ“Š\x20Statistics','âŒ\x20Invalid\x20API\x20key\x20format.\x0a\x0a','first_name','ðŸ›‘\x20Telegram\x20bot\x20stopped','âŒ\x20Maximum\x20number\x20of\x20connected\x20accounts\x20(5)\x20reached\x20for\x20shop\x20`','\x5c.\x20','\x20\x20\x20Status:\x20','\x22\x20->\x20display\x20\x22','ðŸ“›\x20Name:\x20`','ðŸ“…\x20Time:\x20','ðŸ’¸\x20*New\x20Payout*\x0a\x0a','stopPolling','image/png','pl_curr_','ðŸ‘¤\x20Username:\x20`','`appple\x20pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','https://trapay.uk/','unknown\x20shop','Multi\x20Use','\x20\x20\x20[LINK](','showPaymentLinksList','notificationLogin','join','telegramBotService','\x20users','PENDING','â—ï¸\x20Make\x20sure\x20to\x20separate\x20username\x20and\x20API\x20key\x20with\x20a\x20space!','../types/gateway','log','https://app.trapay.uk','filter','ðŸ“ž\x20Contacts','test','Step\x204/4:\x20Enter\x20amount\x0a\x0a','stopBot','https://app.trapay.uk/login','ACTIVE','ðŸŒ\x20IP\x20address:\x20`','image/jpeg','ðŸ’°\x20*Amount:*\x20','chargebackAmount','split','geo','trim','POL','toLocaleDateString','ðŸ”—\x20*Transaction\x20Link:*\x20Pending','sendMessage','amount','ðŸ”—\x20Payment\x20Links','â¬…ï¸\x20Previous','pl_type_multi','\x20disconnected\x20from\x20shop\x20','â€¢\x20New\x20payments\x0a','ðŸ’¬\x20Support','stats_last_month','Please\x20send\x20the\x20amount\x20in\x20','sendLoginNotification','user\x20is\x20deactivated','\x20verified\x20for\x20shop\x20','\x20\x20\x20Username:\x20`','userAgent','â™¾ï¸\x20Multi\x20Use','findUnique','3ZCFvoX','âŒ\x20Error\x20sending\x20file\x20to\x20user\x20','blocked','getUTCDate','ðŸ“…\x20Date:\x20','âŒ\x20An\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','ðŸŒ\x20*Network:*\x20','ðŸ“…\x20Connection\x20date:\x20','Use\x20/start\x20to\x20connect.','âŒ\x20Error\x20getting\x20debug\x20information.','âŒ\x20Shop\x20not\x20found.\x20Please\x20start\x20over\x20with\x20/start'];a87_0x5111=function(){return _0x3f657b;};return a87_0x5111();}const node_telegram_bot_api_1=__importDefault(require('node-telegram-bot-api')),database_1=__importDefault(require(a87_0x412045(0x273))),gateway_1=require(a87_0x412045(0x235));class TelegramBotService{constructor(){const _0x369919=a87_0x412045;this[_0x369919(0x368)]=null,this['paymentLinkSessions']=new Map(),this[_0x369919(0x367)]=process.env.TELEGRAM_BOT_TOKEN||'',this[_0x369919(0x384)]=process.env.TELEGRAM_BOT_USERNAME||_0x369919(0x383),this[_0x369919(0x367)]?this['initializeBot']():console[_0x369919(0x325)](_0x369919(0x20e));}[a87_0x412045(0x329)](){const _0xcfdb3e=a87_0x412045;try{this['bot']=new node_telegram_bot_api_1[(_0xcfdb3e(0x1f4))](this[_0xcfdb3e(0x367)],{'polling':!![]}),this[_0xcfdb3e(0x363)](),console[_0xcfdb3e(0x236)](_0xcfdb3e(0x203)+this['botUsername']+'\x20initialized\x20successfully');}catch(_0xe36df8){console['error'](_0xcfdb3e(0x2dd),_0xe36df8);}}[a87_0x412045(0x363)](){const _0x2caeb1=a87_0x412045;if(!this[_0x2caeb1(0x368)])return;this[_0x2caeb1(0x368)][_0x2caeb1(0x32a)](/\/start/,async _0x2f8014=>{const _0x397a98=_0x2caeb1,_0x429dbc=_0x2f8014[_0x397a98(0x1d1)]['id'],_0x5a91c3=_0x2f8014[_0x397a98(0x1e5)]?.['id']['toString'](),_0x6a3b27=_0x2f8014[_0x397a98(0x1e5)]?.['username'],_0x47c99e=_0x2f8014[_0x397a98(0x1e5)]?.[_0x397a98(0x21c)],_0x51d069=_0x2f8014['from']?.[_0x397a98(0x217)];if(!_0x5a91c3)return;try{let _0x2b5d95=await database_1[_0x397a98(0x1f4)][_0x397a98(0x298)][_0x397a98(0x259)]({'where':{'telegramId':_0x5a91c3},'include':{'shop':!![]}});!_0x2b5d95?(_0x2b5d95=await database_1[_0x397a98(0x1f4)][_0x397a98(0x298)][_0x397a98(0x381)]({'data':{'telegramId':_0x5a91c3,'username':_0x6a3b27,'firstName':_0x47c99e,'lastName':_0x51d069,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x397a98(0x236)]('ðŸ“±\x20Created\x20new\x20Telegram\x20user:\x20'+_0x5a91c3+'\x20(@'+_0x6a3b27+')')):_0x2b5d95=await database_1['default'][_0x397a98(0x298)]['update']({'where':{'telegramId':_0x5a91c3},'data':{'username':_0x6a3b27,'firstName':_0x47c99e,'lastName':_0x51d069},'include':{'shop':!![]}}),_0x2b5d95['isVerified']&&_0x2b5d95[_0x397a98(0x1fe)]&&_0x2b5d95[_0x397a98(0x2a1)]?await this[_0x397a98(0x368)]?.['sendMessage'](_0x429dbc,'âœ…\x20Welcome\x20back!\x0a\x0a'+(_0x397a98(0x2d7)+_0x2b5d95[_0x397a98(0x2a1)]['name']+'*\x0a')+('Username:\x20`'+_0x2b5d95['shop'][_0x397a98(0x2e3)]+_0x397a98(0x1ec))+_0x397a98(0x285)+'â€¢\x20New\x20payments\x0a'+_0x397a98(0x216)+_0x397a98(0x31d),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':'ðŸ“Š\x20Statistics','callback_data':'cmd_statistics'},{'text':_0x397a98(0x2fa),'callback_data':_0x397a98(0x1fb)}],[{'text':_0x397a98(0x24b),'callback_data':_0x397a98(0x339)},{'text':_0x397a98(0x35d),'callback_data':_0x397a98(0x2d4)}],[{'text':'ðŸ“ž\x20Contacts','callback_data':_0x397a98(0x26a)},{'text':_0x397a98(0x33c),'callback_data':_0x397a98(0x1f6)}]]}}):(_0x2b5d95['shopId']&&!_0x2b5d95['isVerified']&&(await database_1[_0x397a98(0x1f4)]['telegramUser']['update']({'where':{'telegramId':_0x5a91c3},'data':{'shopId':null,'isVerified':![]}}),console[_0x397a98(0x236)](_0x397a98(0x2ed)+_0x5a91c3)),await this[_0x397a98(0x368)]?.[_0x397a98(0x249)](_0x429dbc,_0x397a98(0x1ea)+'To\x20receive\x20payment\x20notifications,\x20send\x20your\x20credentials\x20in\x20one\x20line:\x0a\x0a'+_0x397a98(0x35b)+_0x397a98(0x34b)+_0x397a98(0x229)+_0x397a98(0x234),{'parse_mode':_0x397a98(0x2f9)}));}catch(_0x597fa8){console[_0x397a98(0x2c1)]('Error\x20handling\x20/start\x20command:',_0x597fa8),await this['bot']?.[_0x397a98(0x249)](_0x429dbc,_0x397a98(0x25f));}}),this[_0x2caeb1(0x368)][_0x2caeb1(0x32a)](/\/disconnect/,async _0x18d7c6=>{const _0x180bd1=_0x2caeb1,_0x354ba9=_0x18d7c6['chat']['id'],_0x2beb02=_0x18d7c6['from']?.['id']['toString']();if(!_0x2beb02)return;try{const _0x84bf0c=await database_1[_0x180bd1(0x1f4)]['telegramUser'][_0x180bd1(0x259)]({'where':{'telegramId':_0x2beb02},'include':{'shop':!![]}});if(!_0x84bf0c||!_0x84bf0c[_0x180bd1(0x36e)]||!_0x84bf0c['shopId']){await this['bot']?.[_0x180bd1(0x249)](_0x354ba9,_0x180bd1(0x2ee));return;}const _0x4be413=_0x84bf0c[_0x180bd1(0x2a1)]?.[_0x180bd1(0x35f)]||_0x180bd1(0x22b);await database_1[_0x180bd1(0x1f4)][_0x180bd1(0x298)][_0x180bd1(0x1cc)]({'where':{'telegramId':_0x2beb02},'data':{'shopId':null,'isVerified':![]}}),console[_0x180bd1(0x236)](_0x180bd1(0x2c5)+_0x2beb02+_0x180bd1(0x24e)+_0x84bf0c['shopId']),await this[_0x180bd1(0x368)]?.[_0x180bd1(0x249)](_0x354ba9,_0x180bd1(0x26b)+_0x4be413+_0x180bd1(0x34c)+_0x180bd1(0x320),{'parse_mode':'Markdown'});}catch(_0x54a105){console['error'](_0x180bd1(0x214),_0x54a105),await this['bot']?.[_0x180bd1(0x249)](_0x354ba9,_0x180bd1(0x25f));}}),this['bot'][_0x2caeb1(0x32a)](/\/status/,async _0x499544=>{const _0x1e8924=_0x2caeb1,_0x36f519=_0x499544[_0x1e8924(0x1d1)]['id'],_0x3ed99e=_0x499544['from']?.['id']['toString']();if(!_0x3ed99e)return;try{const _0x48eca4=await database_1['default'][_0x1e8924(0x298)][_0x1e8924(0x259)]({'where':{'telegramId':_0x3ed99e},'include':{'shop':!![]}});if(!_0x48eca4){await this['bot']?.[_0x1e8924(0x249)](_0x36f519,_0x1e8924(0x1d9)+_0x1e8924(0x27a));return;}if(!_0x48eca4[_0x1e8924(0x36e)]||!_0x48eca4[_0x1e8924(0x1fe)]||!_0x48eca4[_0x1e8924(0x2a1)]){await this[_0x1e8924(0x368)]?.[_0x1e8924(0x249)](_0x36f519,_0x1e8924(0x341)+_0x1e8924(0x262));return;}await this[_0x1e8924(0x368)]?.[_0x1e8924(0x249)](_0x36f519,_0x1e8924(0x38b)+(_0x1e8924(0x362)+_0x48eca4[_0x1e8924(0x2a1)][_0x1e8924(0x35f)]+'*\x0a')+(_0x1e8924(0x228)+_0x48eca4[_0x1e8924(0x2a1)]['username']+'`\x0a')+(_0x1e8924(0x261)+_0x48eca4[_0x1e8924(0x211)][_0x1e8924(0x247)]('en-US')+'\x0a\x0a')+_0x1e8924(0x33e)+'ðŸ“±\x20Available\x20Commands:\x0a'+'/statistics\x20-\x20view\x20your\x20statistics\x0a'+_0x1e8924(0x1de)+_0x1e8924(0x36c)+'/contacts\x20-\x20support\x20contacts\x0a'+_0x1e8924(0x2ce),{'parse_mode':_0x1e8924(0x2f9)});}catch(_0x254b25){console[_0x1e8924(0x2c1)](_0x1e8924(0x297),_0x254b25),await this[_0x1e8924(0x368)]?.[_0x1e8924(0x249)](_0x36f519,_0x1e8924(0x25f));}}),this[_0x2caeb1(0x368)]['onText'](/\/statistics/,async _0x3dfa2f=>{const _0x4f2799=_0x2caeb1,_0x1e68b6=_0x3dfa2f['chat']['id'],_0x8f19ad=_0x3dfa2f[_0x4f2799(0x1e5)]?.['id'][_0x4f2799(0x29e)]();if(!_0x8f19ad)return;try{const _0x3fa794=await database_1[_0x4f2799(0x1f4)][_0x4f2799(0x298)]['findUnique']({'where':{'telegramId':_0x8f19ad},'include':{'shop':!![]}});if(!_0x3fa794?.['isVerified']||!_0x3fa794[_0x4f2799(0x1fe)]){await this['bot']?.[_0x4f2799(0x249)](_0x1e68b6,'âŒ\x20You\x20are\x20not\x20connected\x20to\x20a\x20shop.\x0a\x0a'+'Use\x20/start\x20to\x20connect.');return;}const _0x84408f={'inline_keyboard':[[{'text':_0x4f2799(0x2ca),'callback_data':'stats_today'}],[{'text':_0x4f2799(0x210),'callback_data':_0x4f2799(0x316)}],[{'text':'ðŸ“…\x20This\x20Month','callback_data':_0x4f2799(0x271)}],[{'text':_0x4f2799(0x2ff),'callback_data':'stats_last_month'}],[{'text':_0x4f2799(0x2b1),'callback_data':_0x4f2799(0x1d7)}],[{'text':_0x4f2799(0x376),'callback_data':_0x4f2799(0x29f)}]]};await this['bot']?.[_0x4f2799(0x249)](_0x1e68b6,_0x4f2799(0x2ea),{'parse_mode':_0x4f2799(0x2f9),'reply_markup':_0x84408f});}catch(_0x54050e){console[_0x4f2799(0x2c1)](_0x4f2799(0x302),_0x54050e),await this[_0x4f2799(0x368)]?.[_0x4f2799(0x249)](_0x1e68b6,_0x4f2799(0x25f));}}),this[_0x2caeb1(0x368)]['onText'](/\/payouts/,async _0x1c58d9=>{const _0x59cae0=_0x2caeb1,_0x278863=_0x1c58d9[_0x59cae0(0x1d1)]['id'],_0x543090=_0x1c58d9['from']?.['id'][_0x59cae0(0x29e)]();if(!_0x543090)return;try{const _0x1a55b1=await database_1[_0x59cae0(0x1f4)][_0x59cae0(0x298)][_0x59cae0(0x259)]({'where':{'telegramId':_0x543090},'include':{'shop':!![]}});if(!_0x1a55b1?.[_0x59cae0(0x36e)]||!_0x1a55b1['shopId']){await this[_0x59cae0(0x368)]?.[_0x59cae0(0x249)](_0x278863,'âŒ\x20You\x20are\x20not\x20connected\x20to\x20a\x20shop.\x0a\x0a'+_0x59cae0(0x262));return;}await this[_0x59cae0(0x368)]?.[_0x59cae0(0x249)](_0x278863,_0x59cae0(0x346)+_0x59cae0(0x338)+'This\x20feature\x20will\x20show:\x0a'+'â€¢\x20Last\x205\x20payouts\x0a'+_0x59cae0(0x2a7)+'â€¢\x20Transaction\x20status\x0a'+_0x59cae0(0x277),{'parse_mode':_0x59cae0(0x2f9)});}catch(_0x22713f){console['error'](_0x59cae0(0x201),_0x22713f),await this[_0x59cae0(0x368)]?.[_0x59cae0(0x249)](_0x278863,_0x59cae0(0x25f));}}),this['bot'][_0x2caeb1(0x32a)](/\/payment_links/,async _0x267e45=>{const _0x50efc2=_0x2caeb1,_0x3dba8e=_0x267e45[_0x50efc2(0x1d1)]['id'],_0x55bb7c=_0x267e45[_0x50efc2(0x1e5)]?.['id'][_0x50efc2(0x29e)]();if(!_0x55bb7c)return;try{const _0x10a170=await database_1[_0x50efc2(0x1f4)][_0x50efc2(0x298)][_0x50efc2(0x259)]({'where':{'telegramId':_0x55bb7c},'include':{'shop':!![]}});if(!_0x10a170?.[_0x50efc2(0x36e)]||!_0x10a170[_0x50efc2(0x1fe)]){await this[_0x50efc2(0x368)]?.[_0x50efc2(0x249)](_0x3dba8e,_0x50efc2(0x341)+_0x50efc2(0x262));return;}await this['bot']?.[_0x50efc2(0x249)](_0x3dba8e,_0x50efc2(0x1e7)+'Coming\x20soon...\x0a\x0a'+'This\x20feature\x20will\x20show:\x0a'+_0x50efc2(0x2e9)+'â€¢\x20Usage\x20statistics\x0a'+'â€¢\x20Quick\x20create\x20new\x20link\x0a'+'â€¢\x20Share\x20link\x20directly',{'parse_mode':_0x50efc2(0x2f9)});}catch(_0x143a37){console[_0x50efc2(0x2c1)]('Error\x20handling\x20/payment_links\x20command:',_0x143a37),await this[_0x50efc2(0x368)]?.[_0x50efc2(0x249)](_0x3dba8e,'âŒ\x20An\x20error\x20occurred.\x20Please\x20try\x20again\x20later.');}}),this[_0x2caeb1(0x368)]['onText'](/\/contacts/,async _0x5743d1=>{const _0x3740c8=_0x2caeb1,_0x568d2a=_0x5743d1[_0x3740c8(0x1d1)]['id'];try{await this[_0x3740c8(0x368)]?.['sendMessage'](_0x568d2a,_0x3740c8(0x284),{'parse_mode':_0x3740c8(0x2f9),'reply_markup':{'inline_keyboard':[[{'text':'ðŸŒ\x20Website','url':_0x3740c8(0x22a)}],[{'text':_0x3740c8(0x2cd),'url':_0x3740c8(0x23d)}],[{'text':'ðŸ“¢\x20Telegram\x20channel','url':_0x3740c8(0x378)}],[{'text':'ðŸ’¬\x20Support','url':_0x3740c8(0x35c)}]]}});}catch(_0x451075){console[_0x3740c8(0x2c1)](_0x3740c8(0x27d),_0x451075),await this[_0x3740c8(0x368)]?.['sendMessage'](_0x568d2a,_0x3740c8(0x25f));}}),this['bot']['on'](_0x2caeb1(0x2d8),async _0xac0cad=>{const _0xbc789d=_0x2caeb1,_0x244bae=_0xac0cad['message'],_0x521e1e=_0x244bae?.[_0xbc789d(0x1d1)]['id'],_0x21b190=_0xac0cad[_0xbc789d(0x1e5)]['id'][_0xbc789d(0x29e)](),_0x4d6632=_0xac0cad[_0xbc789d(0x28a)];if(!_0x521e1e||!_0x4d6632)return;try{await this[_0xbc789d(0x368)]?.[_0xbc789d(0x296)](_0xac0cad['id']);const _0x1c180b=await database_1[_0xbc789d(0x1f4)][_0xbc789d(0x298)][_0xbc789d(0x259)]({'where':{'telegramId':_0x21b190},'include':{'shop':!![]}});if(!_0x1c180b?.[_0xbc789d(0x36e)]||!_0x1c180b['shopId']){await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x1e6));return;}switch(_0x4d6632){case _0xbc789d(0x1e2):const _0x6423ac={'inline_keyboard':[[{'text':_0xbc789d(0x2ca),'callback_data':_0xbc789d(0x213)}],[{'text':_0xbc789d(0x210),'callback_data':_0xbc789d(0x316)}],[{'text':_0xbc789d(0x352),'callback_data':_0xbc789d(0x271)}],[{'text':_0xbc789d(0x2ff),'callback_data':_0xbc789d(0x251)}],[{'text':'ðŸ“…\x20All\x20Time','callback_data':_0xbc789d(0x1d7)}],[{'text':'â¬…ï¸\x20Back','callback_data':_0xbc789d(0x29f)}]]};await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x2ea),{'parse_mode':_0xbc789d(0x2f9),'reply_markup':_0x6423ac});break;case'stats_today':case'stats_yesterday':case _0xbc789d(0x271):case'stats_last_month':case _0xbc789d(0x1d7):await this[_0xbc789d(0x1dc)](_0x521e1e,_0x1c180b[_0xbc789d(0x1fe)],_0x4d6632,_0x244bae?.[_0xbc789d(0x2d9)]);break;case _0xbc789d(0x2ac):const _0x3698e={'inline_keyboard':[[{'text':_0xbc789d(0x2ca),'callback_data':_0xbc789d(0x213)}],[{'text':_0xbc789d(0x210),'callback_data':_0xbc789d(0x316)}],[{'text':'ðŸ“…\x20This\x20Month','callback_data':_0xbc789d(0x271)}],[{'text':'ðŸ“…\x20Last\x20Month','callback_data':_0xbc789d(0x251)}],[{'text':_0xbc789d(0x2b1),'callback_data':_0xbc789d(0x1d7)}],[{'text':_0xbc789d(0x376),'callback_data':_0xbc789d(0x29f)}]]};_0x244bae?.[_0xbc789d(0x2d9)]?await this[_0xbc789d(0x368)]?.[_0xbc789d(0x2c7)](_0xbc789d(0x2ea),{'chat_id':_0x521e1e,'message_id':_0x244bae['message_id'],'parse_mode':_0xbc789d(0x2f9),'reply_markup':_0x3698e}):await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x2ea),{'parse_mode':_0xbc789d(0x2f9),'reply_markup':_0x3698e});break;case _0xbc789d(0x1fb):const _0x320bff=await database_1['default'][_0xbc789d(0x382)][_0xbc789d(0x20a)]({'where':{'shopId':_0x1c180b['shopId']},'orderBy':{'createdAt':_0xbc789d(0x288)}}),_0x23e710=_0x320bff[_0xbc789d(0x238)](_0x3a77e9=>_0x3a77e9['status']===_0xbc789d(0x233))[_0xbc789d(0x37d)]((_0x5086d3,_0x429eb6)=>_0x5086d3+_0x429eb6[_0xbc789d(0x24a)],0x0),_0xbb3468=_0x320bff[_0xbc789d(0x238)](_0x587fcc=>_0x587fcc[_0xbc789d(0x2c9)]===_0xbc789d(0x326))[_0xbc789d(0x37d)]((_0xac3f88,_0xdcafcb)=>_0xac3f88+_0xdcafcb['amount'],0x0),_0x25536e=(_0x1c180b[_0xbc789d(0x2a1)]?.[_0xbc789d(0x385)]||0x0)+(_0x1c180b[_0xbc789d(0x2a1)]?.[_0xbc789d(0x30f)]||0x0);await this['bot']?.['sendMessage'](_0x521e1e,_0xbc789d(0x1f9)+(_0xbc789d(0x337)+_0x23e710['toFixed'](0x2)+_0xbc789d(0x321))+(_0xbc789d(0x2e0)+_0xbb3468[_0xbc789d(0x2c8)](0x2)+_0xbc789d(0x321))+(_0xbc789d(0x280)+_0x25536e[_0xbc789d(0x2c8)](0x2)+_0xbc789d(0x1f5)),{'parse_mode':_0xbc789d(0x2f9),'reply_markup':{'inline_keyboard':[[{'text':'â¬…ï¸\x20Back','callback_data':'cmd_back_to_menu'}]]}});break;case _0xbc789d(0x339):await this['bot']?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x20d),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':_0xbc789d(0x388),'callback_data':'pl_view_list'}],[{'text':'âž•\x20Create\x20New\x20Link','callback_data':_0xbc789d(0x212)}],[{'text':_0xbc789d(0x376),'callback_data':'cmd_back_to_menu'}]]}});break;case _0xbc789d(0x2d4):await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,'ðŸ“Š\x20*Connection\x20Status*\x0a\x0a'+(_0xbc789d(0x362)+(_0x1c180b[_0xbc789d(0x2a1)]?.[_0xbc789d(0x35f)]||_0xbc789d(0x32f))+'*\x0a')+('ðŸ‘¤\x20Username:\x20`'+(_0x1c180b[_0xbc789d(0x2a1)]?.[_0xbc789d(0x2e3)]||_0xbc789d(0x32f))+'`\x0a')+(_0xbc789d(0x261)+_0x1c180b[_0xbc789d(0x211)][_0xbc789d(0x247)]('en-US')+'\x0a\x0a')+_0xbc789d(0x2f6),{'parse_mode':_0xbc789d(0x2f9),'reply_markup':{'inline_keyboard':[[{'text':'â¬…ï¸\x20Back','callback_data':'cmd_back_to_menu'}]]}});break;case _0xbc789d(0x26a):await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x284),{'parse_mode':_0xbc789d(0x2f9),'reply_markup':{'inline_keyboard':[[{'text':_0xbc789d(0x2fd),'url':'https://trapay.uk/'}],[{'text':_0xbc789d(0x2cd),'url':_0xbc789d(0x23d)}],[{'text':_0xbc789d(0x37f),'url':_0xbc789d(0x378)}],[{'text':_0xbc789d(0x250),'url':_0xbc789d(0x35c)}],[{'text':'â¬…ï¸\x20Back','callback_data':_0xbc789d(0x29f)}]]}});break;case _0xbc789d(0x29f):await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x2b5)+(_0xbc789d(0x20b)+(_0x1c180b['shop']?.[_0xbc789d(0x35f)]||_0xbc789d(0x32f))+'*\x0a')+(_0xbc789d(0x38a)+(_0x1c180b[_0xbc789d(0x2a1)]?.[_0xbc789d(0x2e3)]||_0xbc789d(0x32f))+_0xbc789d(0x1ec))+_0xbc789d(0x285)+_0xbc789d(0x24f)+_0xbc789d(0x216)+_0xbc789d(0x31d),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':'ðŸ“Š\x20Statistics','callback_data':'cmd_statistics'},{'text':_0xbc789d(0x2fa),'callback_data':'cmd_payouts'}],[{'text':_0xbc789d(0x24b),'callback_data':'cmd_payment_links'},{'text':_0xbc789d(0x35d),'callback_data':_0xbc789d(0x2d4)}],[{'text':_0xbc789d(0x239),'callback_data':_0xbc789d(0x26a)},{'text':'ðŸ”Œ\x20Disconnect','callback_data':_0xbc789d(0x1f6)}]]}});break;case _0xbc789d(0x1f6):await database_1[_0xbc789d(0x1f4)]['telegramUser'][_0xbc789d(0x1cc)]({'where':{'telegramId':_0x21b190},'data':{'shopId':null,'isVerified':![]}}),await this['bot']?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x26b)+(_0x1c180b['shop']?.[_0xbc789d(0x35f)]||_0xbc789d(0x32f))+_0xbc789d(0x34c)+_0xbc789d(0x320),{'parse_mode':_0xbc789d(0x2f9)});break;default:_0x4d6632['startsWith'](_0xbc789d(0x2ec))?await this[_0xbc789d(0x27b)](_0x521e1e,_0x21b190,_0x4d6632,_0xac0cad[_0xbc789d(0x350)]?.[_0xbc789d(0x2d9)]):await this['bot']?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x274));}}catch(_0x43c029){console['error'](_0xbc789d(0x2d3),_0x43c029),await this[_0xbc789d(0x368)]?.[_0xbc789d(0x249)](_0x521e1e,_0xbc789d(0x25f));}}),this['bot']['onText'](/\/debug/,async _0x511969=>{const _0x1fec68=_0x2caeb1,_0x51f089=_0x511969[_0x1fec68(0x1d1)]['id'],_0x2c98c8=_0x511969[_0x1fec68(0x1e5)]?.['id'][_0x1fec68(0x29e)]();if(!_0x2c98c8)return;try{const _0x3c7842=await database_1['default']['telegramUser'][_0x1fec68(0x259)]({'where':{'telegramId':_0x2c98c8},'include':{'shop':!![]}});let _0x4c1ccc=_0x1fec68(0x2b3);_0x4c1ccc+=_0x1fec68(0x27f)+_0x2c98c8+_0x1fec68(0x1ec),_0x3c7842?.[_0x1fec68(0x36e)]&&_0x3c7842[_0x1fec68(0x2a1)]?(_0x4c1ccc+=_0x1fec68(0x281),_0x4c1ccc+=_0x1fec68(0x1d2)+_0x3c7842[_0x1fec68(0x2a1)][_0x1fec68(0x35f)]+'*\x0a',_0x4c1ccc+=_0x1fec68(0x256)+_0x3c7842['shop'][_0x1fec68(0x2e3)]+'`\x0a',_0x4c1ccc+=_0x1fec68(0x220)+_0x3c7842['shop']['status']+'\x0a\x0a'):_0x4c1ccc+=_0x1fec68(0x294),_0x4c1ccc+='Use\x20/start\x20to\x20connect\x20to\x20a\x20shop.',await this[_0x1fec68(0x368)]?.[_0x1fec68(0x249)](_0x51f089,_0x4c1ccc,{'parse_mode':_0x1fec68(0x2f9)});}catch(_0x2f3c04){console['error'](_0x1fec68(0x2b8),_0x2f3c04),await this[_0x1fec68(0x368)]?.[_0x1fec68(0x249)](_0x51f089,_0x1fec68(0x263));}}),this[_0x2caeb1(0x368)]['on'](_0x2caeb1(0x350),async _0x2dee3b=>{const _0x51b6b4=_0x2caeb1;if(_0x2dee3b[_0x51b6b4(0x333)]?.[_0x51b6b4(0x1df)]('/'))return;const _0x38e1ff=_0x2dee3b[_0x51b6b4(0x1d1)]['id'],_0x2a1519=_0x2dee3b[_0x51b6b4(0x1e5)]?.['id'][_0x51b6b4(0x29e)](),_0x58bbb6=_0x2dee3b[_0x51b6b4(0x333)]?.[_0x51b6b4(0x245)]();if(!_0x2a1519||!_0x58bbb6)return;try{const _0x2bc61e=this['paymentLinkSessions'][_0x51b6b4(0x2e1)](_0x2a1519);if(_0x2bc61e&&_0x2bc61e[_0x51b6b4(0x327)]==='amount'){const _0x5b4f8f=parseFloat(_0x58bbb6);if(isNaN(_0x5b4f8f)||_0x5b4f8f<=0x0){await this['bot']?.[_0x51b6b4(0x249)](_0x38e1ff,_0x51b6b4(0x2e2));return;}const _0x29eefa=await database_1[_0x51b6b4(0x1f4)][_0x51b6b4(0x298)][_0x51b6b4(0x259)]({'where':{'telegramId':_0x2a1519},'include':{'shop':!![]}});if(!_0x29eefa?.[_0x51b6b4(0x1fe)]){await this[_0x51b6b4(0x368)]?.['sendMessage'](_0x38e1ff,_0x51b6b4(0x264)),this[_0x51b6b4(0x340)][_0x51b6b4(0x34f)](_0x2a1519);return;}const _0x3b6673=(0x0,gateway_1[_0x51b6b4(0x2a9)])(_0x2bc61e[_0x51b6b4(0x2f4)])?(0x0,gateway_1[_0x51b6b4(0x30d)])(_0x2bc61e[_0x51b6b4(0x2f4)]):_0x2bc61e[_0x51b6b4(0x2f4)],_0x3cca35={'shopId':_0x29eefa[_0x51b6b4(0x1fe)],'gateway':_0x3b6673,'amount':_0x5b4f8f,'currency':_0x2bc61e['currency'],'type':_0x2bc61e['type'],'status':_0x51b6b4(0x23e)},_0x387db4=await database_1[_0x51b6b4(0x1f4)]['paymentLink'][_0x51b6b4(0x381)]({'data':_0x3cca35});this[_0x51b6b4(0x340)]['delete'](_0x2a1519);const _0x1dd72a=(process.env.FRONTEND_URL||'https://app.trapay.uk')+'/link/'+_0x387db4['id'],_0x4c3faa=_0x1dd72a[_0x51b6b4(0x1dd)](/\./g,'\x5c.')['replace'](/-/g,'\x5c-')[_0x51b6b4(0x1dd)](/\//g,'\x5c/');await this[_0x51b6b4(0x368)]?.['sendMessage'](_0x38e1ff,_0x51b6b4(0x269)+('ðŸ”—\x20Link:\x20'+_0x4c3faa+'\x0a')+(_0x51b6b4(0x354)+_0x5b4f8f+'\x20'+_0x2bc61e[_0x51b6b4(0x28b)]+'\x0a')+('ðŸ¦\x20Gateway:\x20'+_0x2bc61e[_0x51b6b4(0x2f4)]+'\x0a')+(_0x51b6b4(0x2a2)+(_0x2bc61e[_0x51b6b4(0x209)]===_0x51b6b4(0x1ce)?_0x51b6b4(0x2cb):_0x51b6b4(0x22c))+'\x0a\x0a')+_0x51b6b4(0x282),{'parse_mode':'MarkdownV2'});return;}const _0x3d3ed3=await database_1['default']['telegramUser'][_0x51b6b4(0x259)]({'where':{'telegramId':_0x2a1519},'include':{'shop':!![]}});if(!_0x3d3ed3){await this['bot']?.[_0x51b6b4(0x249)](_0x38e1ff,'âŒ\x20Please\x20use\x20/start\x20command\x20first');return;}if(_0x3d3ed3[_0x51b6b4(0x36e)]&&_0x3d3ed3['shopId']&&_0x3d3ed3['shop']){await this['bot']?.[_0x51b6b4(0x249)](_0x38e1ff,_0x51b6b4(0x342)+_0x3d3ed3[_0x51b6b4(0x2a1)][_0x51b6b4(0x35f)]+_0x51b6b4(0x34c)+_0x51b6b4(0x2c6),{'parse_mode':_0x51b6b4(0x2f9)});return;}const _0x3a2bde=_0x58bbb6['split'](/\s+/);if(_0x3a2bde[_0x51b6b4(0x308)]!==0x2){await this[_0x51b6b4(0x368)]?.[_0x51b6b4(0x249)](_0x38e1ff,_0x51b6b4(0x1fc)+_0x51b6b4(0x35b)+_0x51b6b4(0x34b)+'`appple\x20pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a'+(_0x51b6b4(0x37b)+_0x3a2bde['length']+_0x51b6b4(0x1ee)+_0x3a2bde[_0x51b6b4(0x35e)](_0x2f2a6f=>'`'+_0x2f2a6f+'`')[_0x51b6b4(0x230)](',\x20')),{'parse_mode':_0x51b6b4(0x2f9)});return;}const [_0x535e8e,_0x243b0c]=_0x3a2bde;console['log'](_0x51b6b4(0x286)+_0x2a1519+_0x51b6b4(0x1e1)+_0x535e8e+_0x51b6b4(0x336)+_0x243b0c[_0x51b6b4(0x348)](0x0,0xa)+_0x51b6b4(0x270)),await this[_0x51b6b4(0x2b7)](_0x38e1ff,_0x2a1519,_0x535e8e,_0x243b0c);}catch(_0x5650cb){console['error'](_0x51b6b4(0x331),_0x5650cb),await this[_0x51b6b4(0x368)]?.[_0x51b6b4(0x249)](_0x38e1ff,'âŒ\x20An\x20error\x20occurred.\x20Please\x20try\x20again\x20later.');}}),this[_0x2caeb1(0x368)]['on'](_0x2caeb1(0x2c1),_0x4f7a2c=>{const _0x1d5eb2=_0x2caeb1;console[_0x1d5eb2(0x2c1)](_0x1d5eb2(0x372),_0x4f7a2c);}),this[_0x2caeb1(0x368)]['on']('polling_error',_0x4161b9=>{const _0x12f999=_0x2caeb1;console[_0x12f999(0x2c1)](_0x12f999(0x2ab),_0x4161b9);});}async[a87_0x412045(0x2b7)](_0x4d28de,_0x8718d7,_0x5f4b54,_0x4f13fd){const _0x3ca8f4=a87_0x412045;try{console[_0x3ca8f4(0x236)](_0x3ca8f4(0x286)+_0x8718d7+_0x3ca8f4(0x1e1)+_0x5f4b54+_0x3ca8f4(0x336)+_0x4f13fd[_0x3ca8f4(0x348)](0x0,0xa)+_0x3ca8f4(0x270));if(!_0x5f4b54||_0x5f4b54[_0x3ca8f4(0x308)]<0x3||_0x5f4b54[_0x3ca8f4(0x308)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x3ca8f4(0x23a)](_0x5f4b54)){await this[_0x3ca8f4(0x368)]?.['sendMessage'](_0x4d28de,_0x3ca8f4(0x369)+_0x5f4b54+'`\x0a\x0a'+_0x3ca8f4(0x206),{'parse_mode':_0x3ca8f4(0x2f9)});return;}if(!_0x4f13fd||!_0x4f13fd[_0x3ca8f4(0x1df)](_0x3ca8f4(0x29a))&&!_0x4f13fd[_0x3ca8f4(0x1df)](_0x3ca8f4(0x2f2))){await this[_0x3ca8f4(0x368)]?.[_0x3ca8f4(0x249)](_0x4d28de,_0x3ca8f4(0x21b)+_0x3ca8f4(0x2c4),{'parse_mode':_0x3ca8f4(0x2f9)});return;}const _0x3918d1=await database_1['default'][_0x3ca8f4(0x2a1)][_0x3ca8f4(0x259)]({'where':{'username':_0x5f4b54},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x3918d1){const _0x1e112c=_0x3ca8f4(0x26e)+_0x5f4b54+'`\x20not\x20found.\x0a\x0a'+_0x3ca8f4(0x380)+_0x3ca8f4(0x2bc);await this[_0x3ca8f4(0x368)]?.['sendMessage'](_0x4d28de,_0x1e112c,{'parse_mode':'Markdown'});return;}if(_0x3918d1[_0x3ca8f4(0x2c9)]!==_0x3ca8f4(0x23e)){await this[_0x3ca8f4(0x368)]?.[_0x3ca8f4(0x249)](_0x4d28de,_0x3ca8f4(0x1ef)+_0x5f4b54+_0x3ca8f4(0x2cf)+_0x3ca8f4(0x279),{'parse_mode':_0x3ca8f4(0x2f9)});return;}if(_0x3918d1[_0x3ca8f4(0x38f)]!==_0x4f13fd&&_0x3918d1[_0x3ca8f4(0x353)]!==_0x4f13fd){await this['bot']?.['sendMessage'](_0x4d28de,_0x3ca8f4(0x2ad)+_0x5f4b54+_0x3ca8f4(0x30b)+_0x3ca8f4(0x36d)+_0x3ca8f4(0x208),{'parse_mode':_0x3ca8f4(0x2f9)});return;}const _0x38678d=await database_1[_0x3ca8f4(0x1f4)][_0x3ca8f4(0x298)][_0x3ca8f4(0x2f0)]({'where':{'shopId':_0x3918d1['id'],'isVerified':!![]}});if(_0x38678d>=0x5){await this[_0x3ca8f4(0x368)]?.[_0x3ca8f4(0x249)](_0x4d28de,_0x3ca8f4(0x21e)+_0x5f4b54+_0x3ca8f4(0x30b)+_0x3ca8f4(0x328),{'parse_mode':_0x3ca8f4(0x2f9)});return;}await database_1[_0x3ca8f4(0x1f4)]['telegramUser'][_0x3ca8f4(0x1cc)]({'where':{'telegramId':_0x8718d7},'data':{'shopId':_0x3918d1['id'],'isVerified':!![]}}),await this[_0x3ca8f4(0x368)]?.['sendMessage'](_0x4d28de,'ðŸŽ‰\x20*Congratulations!*\x0a\x0a'+_0x3ca8f4(0x265)+('ðŸ“±\x20Shop:\x20*'+_0x3918d1['name']+'*\x0a')+(_0x3ca8f4(0x228)+_0x3918d1[_0x3ca8f4(0x2e3)]+_0x3ca8f4(0x1ec))+_0x3ca8f4(0x36b)+_0x3ca8f4(0x24f)+'â€¢\x20Payment\x20status\x20changes\x0a'+'â€¢\x20Payouts\x0a'+_0x3ca8f4(0x373),{'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[[{'text':_0x3ca8f4(0x21a),'callback_data':_0x3ca8f4(0x1e2)},{'text':_0x3ca8f4(0x2fa),'callback_data':_0x3ca8f4(0x1fb)}],[{'text':_0x3ca8f4(0x24b),'callback_data':'cmd_payment_links'},{'text':'ðŸ“Š\x20Status','callback_data':'cmd_status'}],[{'text':'ðŸ“ž\x20Contacts','callback_data':_0x3ca8f4(0x26a)},{'text':'ðŸ”Œ\x20Disconnect','callback_data':_0x3ca8f4(0x1f6)}]]}}),console['log'](_0x3ca8f4(0x2e6)+_0x8718d7+_0x3ca8f4(0x255)+_0x3918d1[_0x3ca8f4(0x2e3)]+'\x20via\x20single-line\x20input');}catch(_0x197c06){console[_0x3ca8f4(0x2c1)](_0x3ca8f4(0x293),_0x197c06),await this[_0x3ca8f4(0x368)]?.[_0x3ca8f4(0x249)](_0x4d28de,'âŒ\x20An\x20error\x20occurred\x20while\x20verifying\x20data.');}}async[a87_0x412045(0x31c)](_0x358bdd,_0x464fbb,_0x1f9780){const _0x46a4f0=a87_0x412045;if(!this[_0x46a4f0(0x368)]){console[_0x46a4f0(0x325)](_0x46a4f0(0x34e));return;}try{const _0x26bce5=await database_1[_0x46a4f0(0x1f4)][_0x46a4f0(0x298)][_0x46a4f0(0x20a)]({'where':{'shopId':_0x358bdd,'isVerified':!![]}});if(_0x26bce5[_0x46a4f0(0x308)]===0x0){console[_0x46a4f0(0x236)](_0x46a4f0(0x1e8)+_0x358bdd);return;}const _0x18310f=_0x26bce5[_0x46a4f0(0x35e)](async _0x4411a9=>{const _0x501e84=_0x46a4f0;try{await this[_0x501e84(0x368)]?.[_0x501e84(0x249)](_0x4411a9[_0x501e84(0x349)],_0x464fbb,_0x1f9780),console[_0x501e84(0x236)](_0x501e84(0x1e9)+_0x4411a9[_0x501e84(0x349)]);}catch(_0x1e320d){console[_0x501e84(0x2c1)](_0x501e84(0x315)+_0x4411a9[_0x501e84(0x349)]+':',_0x1e320d),_0x1e320d instanceof Error&&(_0x1e320d[_0x501e84(0x350)]['includes'](_0x501e84(0x25c))||_0x1e320d[_0x501e84(0x350)][_0x501e84(0x313)](_0x501e84(0x389))||_0x1e320d[_0x501e84(0x350)]['includes'](_0x501e84(0x254)))&&(await database_1[_0x501e84(0x1f4)][_0x501e84(0x298)][_0x501e84(0x1cc)]({'where':{'id':_0x4411a9['id']},'data':{'isVerified':![]}}),console['log']('User\x20'+_0x4411a9[_0x501e84(0x349)]+_0x501e84(0x28d)));}});await Promise['allSettled'](_0x18310f);}catch(_0x4e5e71){console[_0x46a4f0(0x2c1)](_0x46a4f0(0x318),_0x4e5e71);}}async['sendPaymentNotification'](_0x3c599f,_0x5ba532,_0x2587c8){const _0x50552f=a87_0x412045,_0x30a0cd={'created':'ðŸ†•','paid':'âœ…','failed':'âŒ','expired':'â°','refund':'ðŸ”„','chargeback':'âš ï¸','processing':'âš™ï¸'},_0x16f03f={'created':_0x50552f(0x351),'paid':_0x50552f(0x1e0),'failed':'Payment\x20failed','expired':_0x50552f(0x358),'refund':_0x50552f(0x26f),'chargeback':_0x50552f(0x310),'processing':_0x50552f(0x2db)},_0x4c0126=_0x30a0cd[_0x2587c8],_0x4e2892=_0x16f03f[_0x2587c8],_0x16ea96=(0x0,gateway_1['getGatewayDisplayNameForTelegram'])(_0x5ba532['gateway']);console['log'](_0x50552f(0x1f3)+_0x5ba532['gateway']+_0x50552f(0x221)+_0x16ea96+'\x22');let _0x39d35b=_0x4c0126+'\x20*'+_0x4e2892+_0x50552f(0x283)+('ðŸ’°\x20Amount:\x20*'+_0x5ba532[_0x50552f(0x24a)]+'\x20'+_0x5ba532[_0x50552f(0x28b)]+'*\x0a')+(_0x50552f(0x33f)+(_0x5ba532['orderId']||_0x5ba532['id'])+'`\x0a')+(_0x50552f(0x359)+_0x5ba532['id']+'`\x0a')+(_0x50552f(0x2e7)+_0x16ea96+'`\x0a')+(_0x50552f(0x25e)+new Date(_0x5ba532[_0x50552f(0x2bf)])['toLocaleString'](_0x50552f(0x324))+'\x0a');if(_0x5ba532['customerName']||_0x5ba532[_0x50552f(0x215)]||_0x5ba532[_0x50552f(0x34a)]||_0x5ba532[_0x50552f(0x304)]||_0x5ba532[_0x50552f(0x28f)]){_0x39d35b+=_0x50552f(0x33a);_0x5ba532[_0x50552f(0x31b)]&&(_0x39d35b+=_0x50552f(0x222)+_0x5ba532[_0x50552f(0x31b)]+'`\x0a');_0x5ba532['customerEmail']&&(_0x39d35b+='ðŸ“§\x20Email:\x20`'+_0x5ba532[_0x50552f(0x215)]+'`\x0a');_0x5ba532[_0x50552f(0x34a)]&&(_0x39d35b+='ðŸ¦\x20IBAN:\x20`'+_0x5ba532[_0x50552f(0x34a)]+'`\x0a');_0x5ba532['customerIp']&&(_0x39d35b+=_0x50552f(0x344)+_0x5ba532[_0x50552f(0x304)]+'`\x0a');if(_0x5ba532[_0x50552f(0x28f)]){const _0x59e995=_0x5ba532[_0x50552f(0x28f)][_0x50552f(0x308)]>0x32?_0x5ba532[_0x50552f(0x28f)][_0x50552f(0x348)](0x0,0x32)+_0x50552f(0x2ba):_0x5ba532[_0x50552f(0x28f)];_0x39d35b+=_0x50552f(0x1eb)+_0x59e995+'`\x0a';}}_0x2587c8==='chargeback'&&_0x5ba532[_0x50552f(0x242)]&&(_0x39d35b+=_0x50552f(0x2b4)+_0x5ba532[_0x50552f(0x242)]+_0x50552f(0x30e)),_0x2587c8===_0x50552f(0x309)&&(_0x39d35b+=_0x50552f(0x307)),_0x5ba532[_0x50552f(0x322)]&&(_0x39d35b+='ðŸ“\x20Notes:\x20'+_0x5ba532['adminNotes']+'\x0a'),await this[_0x50552f(0x31c)](_0x3c599f,_0x39d35b,{'parse_mode':_0x50552f(0x2f9)});}async['sendPayoutNotification'](_0x4fd201,_0x187fb2){const _0x2e5555=a87_0x412045,_0x4efe4c=new Date(_0x187fb2['createdAt'])[_0x2e5555(0x290)]('en-US',{'year':_0x2e5555(0x2c0),'month':_0x2e5555(0x2aa),'day':_0x2e5555(0x2aa),'hour':_0x2e5555(0x2aa),'minute':'2-digit','second':_0x2e5555(0x2aa)}),_0x52f5de=_0x2e5555(0x224)+(_0x2e5555(0x2a6)+_0x4efe4c+'\x0a')+(_0x2e5555(0x241)+_0x187fb2[_0x2e5555(0x24a)]+'\x20USD\x0a')+(_0x2e5555(0x2a0)+(_0x187fb2[_0x2e5555(0x1d3)]||'Not\x20specified')+'\x0a')+(_0x2e5555(0x260)+(_0x187fb2[_0x2e5555(0x303)]||_0x2e5555(0x1cd))+'\x0a')+('ðŸ’³\x20*Wallet:*\x20`'+(_0x187fb2['wallet']||_0x2e5555(0x1cd))+'`\x0a')+(_0x187fb2[_0x2e5555(0x207)]?'ðŸ”—\x20*Transaction\x20Link:*\x20`'+_0x187fb2[_0x2e5555(0x207)]+'`':_0x2e5555(0x248));await this['sendShopNotification'](_0x4fd201,_0x52f5de,{'parse_mode':_0x2e5555(0x2f9)});}async[a87_0x412045(0x253)](_0xfafd99,_0x46a223){const _0x33023f=a87_0x412045;try{const _0xcc4d35=await database_1[_0x33023f(0x1f4)]['shopSettings']['findUnique']({'where':{'shopId':_0xfafd99},'select':{'notificationLogin':!![]}});if(!_0xcc4d35?.[_0x33023f(0x22f)]){console[_0x33023f(0x236)](_0x33023f(0x29d)+_0xfafd99);return;}const _0x4a6a6d=_0x46a223[_0x33023f(0x289)]?'ðŸ”':'ðŸš¨',_0x3b3c23=_0x46a223['success']?_0x33023f(0x272):'Failed\x20login\x20attempt';let _0x189d78=_0x4a6a6d+'\x20*'+_0x3b3c23+_0x33023f(0x283)+(_0x33023f(0x228)+_0x46a223['username']+'`\x0a')+(_0x33023f(0x223)+_0x46a223[_0x33023f(0x364)][_0x33023f(0x290)](_0x33023f(0x324))+'\x0a');_0x46a223[_0x33023f(0x205)]&&(_0x189d78+=_0x33023f(0x23f)+_0x46a223[_0x33023f(0x205)]+'`\x0a');_0x46a223[_0x33023f(0x244)]&&(_0x189d78+=_0x33023f(0x31f)+_0x46a223[_0x33023f(0x244)]+'\x0a');if(_0x46a223[_0x33023f(0x257)]){const _0x2101d9=_0x46a223[_0x33023f(0x257)][_0x33023f(0x308)]>0x32?_0x46a223[_0x33023f(0x257)][_0x33023f(0x348)](0x0,0x32)+_0x33023f(0x2ba):_0x46a223[_0x33023f(0x257)];_0x189d78+=_0x33023f(0x1eb)+_0x2101d9+'`\x0a';}!_0x46a223[_0x33023f(0x289)]&&(_0x189d78+=_0x33023f(0x2da)),await this['sendShopNotification'](_0xfafd99,_0x189d78,{'parse_mode':_0x33023f(0x2f9)}),console[_0x33023f(0x236)](_0x33023f(0x377)+_0xfafd99+':\x20'+(_0x46a223[_0x33023f(0x289)]?_0x33023f(0x289):_0x33023f(0x36a)));}catch(_0x4e270d){console[_0x33023f(0x2c1)](_0x33023f(0x287),_0x4e270d);}}async[a87_0x412045(0x1ed)](_0xc554c1,_0x15c62f){const _0x569efa=a87_0x412045;try{const _0x54ae5f=await database_1[_0x569efa(0x1f4)][_0x569efa(0x33b)]['findUnique']({'where':{'shopId':_0xc554c1},'select':{'notificationApiError':!![]}});if(!_0x54ae5f?.[_0x569efa(0x2a4)]){console[_0x569efa(0x236)](_0x569efa(0x20c)+_0xc554c1);return;}let _0x200fa9='ðŸš¨\x20*API\x20Error*\x0a\x0a'+('ðŸ”—\x20Endpoint:\x20`'+_0x15c62f[_0x569efa(0x36f)]+'\x20'+_0x15c62f[_0x569efa(0x33d)]+'`\x0a')+('ðŸ“…\x20Time:\x20'+_0x15c62f['timestamp'][_0x569efa(0x290)](_0x569efa(0x324))+'\x0a');_0x15c62f[_0x569efa(0x361)]&&(_0x200fa9+=_0x569efa(0x312)+_0x15c62f[_0x569efa(0x361)]+'`\x0a'),_0x200fa9+=_0x569efa(0x387)+_0x15c62f[_0x569efa(0x38e)]+'`\x0a',_0x15c62f[_0x569efa(0x2fb)]&&(_0x200fa9+=_0x569efa(0x317)+_0x15c62f[_0x569efa(0x2fb)]+'`\x0a'),_0x200fa9+=_0x569efa(0x305),await this['sendShopNotification'](_0xc554c1,_0x200fa9,{'parse_mode':_0x569efa(0x2f9)}),console[_0x569efa(0x236)](_0x569efa(0x2d6)+_0xc554c1+':\x20'+_0x15c62f['endpoint']);}catch(_0x26bf2a){console['error']('Failed\x20to\x20send\x20API\x20error\x20notification:',_0x26bf2a);}}async[a87_0x412045(0x379)](_0xc20e36,_0x313131,_0xe62940){const _0x1af850=a87_0x412045;let _0x4d8e5c=_0x1af850(0x1cf)+_0x313131+_0x1af850(0x283);for(const [_0x471094,_0x4c51aa]of Object[_0x1af850(0x311)](_0xe62940)){_0x4c51aa!==null&&_0x4c51aa!==undefined&&(_0x4d8e5c+=_0x471094+_0x1af850(0x29c)+_0x4c51aa+'`\x0a');}await this['sendShopNotification'](_0xc20e36,_0x4d8e5c,{'parse_mode':_0x1af850(0x2f9)});}async[a87_0x412045(0x2dc)](_0x193047){const _0xf2fbb6=a87_0x412045;try{console[_0xf2fbb6(0x236)](_0xf2fbb6(0x356)+_0x193047[_0xf2fbb6(0x348)](0x0,0x32)+_0xf2fbb6(0x2ba));const _0x59f2ba=await database_1[_0xf2fbb6(0x1f4)][_0xf2fbb6(0x298)]['findMany']({'select':{'telegramId':!![]}});if(_0x59f2ba['length']===0x0){console['log'](_0xf2fbb6(0x28e));return;}for(const _0x487204 of _0x59f2ba){try{await this[_0xf2fbb6(0x368)]?.[_0xf2fbb6(0x249)](_0x487204[_0xf2fbb6(0x349)],_0x193047,{'parse_mode':'Markdown'});}catch(_0x780f97){console[_0xf2fbb6(0x2c1)](_0xf2fbb6(0x34d)+_0x487204[_0xf2fbb6(0x349)]+':',_0x780f97);}}console['log']('ðŸ“±\x20Notification\x20sent\x20to\x20'+_0x59f2ba['length']+_0xf2fbb6(0x232));}catch(_0x12db11){console['error'](_0xf2fbb6(0x202),_0x12db11);}}['getBotInfo'](){const _0x43ef6d=a87_0x412045;return{'isActive':!!this[_0x43ef6d(0x368)],'username':this[_0x43ef6d(0x384)]};}async[a87_0x412045(0x355)](_0x103652,_0x3cc3c5,_0x315e78,_0xf3d1ea){const _0x554c66=a87_0x412045;try{if(!this['bot'])return console[_0x554c66(0x2c1)]('âŒ\x20Telegram\x20bot\x20not\x20initialized'),![];const _0x4ee2a1=await database_1[_0x554c66(0x1f4)][_0x554c66(0x298)][_0x554c66(0x20a)]({'where':{'shopId':_0x103652,'isVerified':!![]},'select':{'telegramId':!![]}});if(_0x4ee2a1[_0x554c66(0x308)]===0x0)return console[_0x554c66(0x2c1)]('âŒ\x20No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20ID:\x20'+_0x103652),![];let _0x29d527=0x0;for(const _0x3e2a1e of _0x4ee2a1){try{await this[_0x554c66(0x368)][_0x554c66(0x29b)](_0x3e2a1e[_0x554c66(0x349)],_0x3cc3c5,{},{'filename':_0x315e78,'contentType':_0x315e78[_0x554c66(0x343)](_0x554c66(0x275))?_0x554c66(0x226):_0x315e78[_0x554c66(0x343)](_0x554c66(0x20f))||_0x315e78[_0x554c66(0x343)](_0x554c66(0x357))?_0x554c66(0x240):_0x315e78[_0x554c66(0x343)](_0x554c66(0x2b6))?_0x554c66(0x2a8):_0x554c66(0x31a)}),_0xf3d1ea&&await this['bot'][_0x554c66(0x249)](_0x3e2a1e[_0x554c66(0x349)],_0xf3d1ea),_0x29d527++;}catch(_0x2ab304){console['error'](_0x554c66(0x25b)+_0x3e2a1e[_0x554c66(0x349)]+':',_0x2ab304);}}return console['log'](_0x554c66(0x371)+_0x29d527+'/'+_0x4ee2a1[_0x554c66(0x308)]+_0x554c66(0x2bd)+_0x103652+':\x20'+_0x315e78),_0x29d527>0x0;}catch(_0x4a673c){return console[_0x554c66(0x2c1)](_0x554c66(0x2e5),_0x4a673c),![];}}async[a87_0x412045(0x2de)](_0x370ed2,_0x5e0336){const _0x4c0009=a87_0x412045;try{if(!this[_0x4c0009(0x368)])return console[_0x4c0009(0x2c1)]('âŒ\x20Telegram\x20bot\x20not\x20initialized'),![];return await this[_0x4c0009(0x368)][_0x4c0009(0x249)](_0x370ed2,_0x5e0336),console[_0x4c0009(0x236)](_0x4c0009(0x278)+_0x370ed2),!![];}catch(_0x5ebf38){return console['error'](_0x4c0009(0x366),_0x5ebf38),![];}}async['sendDirectFile'](_0x4164a3,_0x4788ec,_0x52791d,_0x796668){const _0x145c83=a87_0x412045;try{if(!this[_0x145c83(0x368)])return console[_0x145c83(0x2c1)]('âŒ\x20Telegram\x20bot\x20not\x20initialized'),![];return await this['bot'][_0x145c83(0x29b)](_0x4164a3,_0x4788ec,{},{'filename':_0x52791d,'contentType':_0x52791d[_0x145c83(0x343)](_0x145c83(0x275))?_0x145c83(0x226):_0x52791d[_0x145c83(0x343)](_0x145c83(0x20f))||_0x52791d['endsWith'](_0x145c83(0x357))?_0x145c83(0x240):_0x52791d[_0x145c83(0x343)](_0x145c83(0x2b6))?_0x145c83(0x2a8):_0x145c83(0x31a)}),_0x796668&&await this['bot'][_0x145c83(0x249)](_0x4164a3,_0x796668),console[_0x145c83(0x236)]('âœ…\x20File\x20sent\x20to\x20chat\x20'+_0x4164a3+':\x20'+_0x52791d),!![];}catch(_0x1ff669){return console[_0x145c83(0x2c1)](_0x145c83(0x38d),_0x1ff669),![];}}async[a87_0x412045(0x27b)](_0x1ec814,_0x307726,_0x56702b,_0x153ff9){const _0x2704e8=a87_0x412045,_0x37fa91=this[_0x2704e8(0x340)][_0x2704e8(0x2e1)](_0x307726)||{};try{if(_0x56702b===_0x2704e8(0x2c3)){this['paymentLinkSessions'][_0x2704e8(0x34f)](_0x307726),await this[_0x2704e8(0x368)]?.['editMessageText']('âŒ\x20Cancelled.',{'chat_id':_0x1ec814,'message_id':_0x153ff9});return;}if(_0x56702b===_0x2704e8(0x360)){await this[_0x2704e8(0x22e)](_0x1ec814,_0x307726,_0x153ff9,0x1);return;}if(_0x56702b[_0x2704e8(0x1df)](_0x2704e8(0x267))){const _0x2311b1=parseInt(_0x56702b[_0x2704e8(0x1dd)](_0x2704e8(0x267),''));await this[_0x2704e8(0x22e)](_0x1ec814,_0x307726,_0x153ff9,_0x2311b1);return;}if(_0x56702b===_0x2704e8(0x212)){const _0x34fd04=await database_1[_0x2704e8(0x1f4)][_0x2704e8(0x298)][_0x2704e8(0x259)]({'where':{'telegramId':_0x307726},'include':{'shop':!![]}});if(!_0x34fd04?.['shop']?.[_0x2704e8(0x37e)]){await this[_0x2704e8(0x368)]?.[_0x2704e8(0x2c7)](_0x2704e8(0x1d4),{'chat_id':_0x1ec814,'message_id':_0x153ff9});return;}let _0x601c7b;try{_0x601c7b=JSON[_0x2704e8(0x26d)](_0x34fd04[_0x2704e8(0x2a1)][_0x2704e8(0x37e)]);}catch{_0x601c7b=_0x34fd04[_0x2704e8(0x2a1)][_0x2704e8(0x37e)][_0x2704e8(0x243)](',')['filter'](_0x1331f8=>_0x1331f8[_0x2704e8(0x245)]());}if(_0x601c7b[_0x2704e8(0x308)]===0x0){await this['bot']?.[_0x2704e8(0x2c7)](_0x2704e8(0x334),{'chat_id':_0x1ec814,'message_id':_0x153ff9});return;}this[_0x2704e8(0x340)][_0x2704e8(0x2ae)](_0x307726,{'step':_0x2704e8(0x2f4)});const _0x5f344e=_0x601c7b['map'](_0x259a63=>{const _0x33895a=_0x2704e8,_0x3b483c=Object[_0x33895a(0x306)](gateway_1[_0x33895a(0x1fd)])[_0x33895a(0x2d1)](_0x11cd6d=>gateway_1['GATEWAY_ID_MAP'][_0x11cd6d]===_0x259a63)||_0x259a63;return[{'text':_0x33895a(0x37c)+_0x3b483c,'callback_data':_0x33895a(0x1d8)+_0x3b483c}];});await this[_0x2704e8(0x368)]?.[_0x2704e8(0x2c7)](_0x2704e8(0x2be),{'chat_id':_0x1ec814,'message_id':_0x153ff9,'parse_mode':_0x2704e8(0x2f9),'reply_markup':{'inline_keyboard':[..._0x5f344e,[{'text':_0x2704e8(0x295),'callback_data':_0x2704e8(0x2c3)}]]}});return;}if(_0x56702b[_0x2704e8(0x1df)](_0x2704e8(0x1d8))){const _0xdda63=_0x56702b['replace'](_0x2704e8(0x1d8),'');_0x37fa91[_0x2704e8(0x2f4)]=_0xdda63,_0x37fa91[_0x2704e8(0x327)]=_0x2704e8(0x209),this[_0x2704e8(0x340)][_0x2704e8(0x2ae)](_0x307726,_0x37fa91),await this[_0x2704e8(0x368)]?.[_0x2704e8(0x2c7)](_0x2704e8(0x35a)+'Step\x202/4:\x20Select\x20link\x20type',{'chat_id':_0x1ec814,'message_id':_0x153ff9,'parse_mode':_0x2704e8(0x2f9),'reply_markup':{'inline_keyboard':[[{'text':'ðŸ”‚\x20Single\x20Use','callback_data':_0x2704e8(0x323)}],[{'text':_0x2704e8(0x258),'callback_data':_0x2704e8(0x24d)}],[{'text':_0x2704e8(0x295),'callback_data':_0x2704e8(0x2c3)}]]}});return;}if(_0x56702b[_0x2704e8(0x1df)](_0x2704e8(0x204))){const _0x191fa3=_0x56702b['replace'](_0x2704e8(0x204),'')[_0x2704e8(0x27c)]();_0x37fa91[_0x2704e8(0x209)]=_0x191fa3,_0x37fa91[_0x2704e8(0x327)]='currency',this[_0x2704e8(0x340)][_0x2704e8(0x2ae)](_0x307726,_0x37fa91);const _0x4f7bee=this[_0x2704e8(0x2b2)](_0x37fa91[_0x2704e8(0x2f4)]),_0x497426=_0x4f7bee[_0x2704e8(0x1d5)](0x0,0x14)['map'](_0x24d5a1=>[{'text':_0x24d5a1,'callback_data':'pl_curr_'+_0x24d5a1}]);await this[_0x2704e8(0x368)]?.[_0x2704e8(0x2c7)](_0x2704e8(0x35a)+_0x2704e8(0x330),{'chat_id':_0x1ec814,'message_id':_0x153ff9,'parse_mode':'Markdown','reply_markup':{'inline_keyboard':[..._0x497426,[{'text':_0x2704e8(0x295),'callback_data':_0x2704e8(0x2c3)}]]}});return;}if(_0x56702b[_0x2704e8(0x1df)](_0x2704e8(0x227))){const _0xe59f7e=_0x56702b['replace']('pl_curr_','');_0x37fa91[_0x2704e8(0x28b)]=_0xe59f7e,_0x37fa91[_0x2704e8(0x327)]=_0x2704e8(0x24a),this[_0x2704e8(0x340)][_0x2704e8(0x2ae)](_0x307726,_0x37fa91),await this['bot']?.['editMessageText'](_0x2704e8(0x35a)+_0x2704e8(0x23b)+(_0x2704e8(0x252)+_0xe59f7e+_0x2704e8(0x2c2)),{'chat_id':_0x1ec814,'message_id':_0x153ff9,'parse_mode':_0x2704e8(0x2f9)});return;}}catch(_0x5d8bb6){console[_0x2704e8(0x2c1)](_0x2704e8(0x2f3),_0x5d8bb6),await this[_0x2704e8(0x368)]?.[_0x2704e8(0x249)](_0x1ec814,_0x2704e8(0x374)),this[_0x2704e8(0x340)][_0x2704e8(0x34f)](_0x307726);}}async[a87_0x412045(0x22e)](_0x5e31d0,_0x1bc106,_0x269248,_0x148201=0x1){const _0x520e59=a87_0x412045;try{const _0x181329=await database_1[_0x520e59(0x1f4)][_0x520e59(0x298)][_0x520e59(0x259)]({'where':{'telegramId':_0x1bc106},'include':{'shop':!![]}});if(!_0x181329?.['shopId']){await this[_0x520e59(0x368)]?.[_0x520e59(0x249)](_0x5e31d0,'âŒ\x20Shop\x20not\x20found.');return;}const _0x40ded9=0x5,_0x255366=(_0x148201-0x1)*_0x40ded9,[_0x3bf748,_0x254b2a]=await Promise['all']([database_1[_0x520e59(0x1f4)][_0x520e59(0x2b9)][_0x520e59(0x20a)]({'where':{'shopId':_0x181329[_0x520e59(0x1fe)]},'orderBy':{'createdAt':_0x520e59(0x288)},'take':_0x40ded9,'skip':_0x255366}),database_1[_0x520e59(0x1f4)][_0x520e59(0x2b9)][_0x520e59(0x2f0)]({'where':{'shopId':_0x181329[_0x520e59(0x1fe)]}})]),_0x4a92f7=Math[_0x520e59(0x370)](_0x254b2a/_0x40ded9);if(_0x3bf748[_0x520e59(0x308)]===0x0){const _0x20076f=_0x520e59(0x345);_0x269248?await this[_0x520e59(0x368)]?.['editMessageText'](_0x20076f,{'chat_id':_0x5e31d0,'message_id':_0x269248,'parse_mode':_0x520e59(0x38c),'reply_markup':{'inline_keyboard':[[{'text':_0x520e59(0x1db),'callback_data':_0x520e59(0x212)}]]}}):await this[_0x520e59(0x368)]?.['sendMessage'](_0x5e31d0,_0x20076f,{'parse_mode':_0x520e59(0x38c),'reply_markup':{'inline_keyboard':[[{'text':'âž•\x20Create\x20New\x20Link','callback_data':_0x520e59(0x212)}]]}});return;}let _0x4cdda8='ðŸ“‹\x20*Payment\x20Links*\x20\x5c(Page\x20'+_0x148201+'/'+_0x4a92f7+_0x520e59(0x200);_0x3bf748[_0x520e59(0x1ff)]((_0x1c044e,_0x1d260a)=>{const _0x45df57=_0x520e59,_0x798b91=_0x255366+_0x1d260a+0x1,_0x186f20=_0x1c044e[_0x45df57(0x24a)]?_0x1c044e[_0x45df57(0x24a)]+'\x20'+_0x1c044e[_0x45df57(0x28b)]:'N/A',_0x2914af=_0x1c044e[_0x45df57(0x2c9)]===_0x45df57(0x23e)?'âœ…':'âŒ',_0x312a86=(process.env.FRONTEND_URL||_0x45df57(0x237))+_0x45df57(0x1fa)+_0x1c044e['id'],_0x4d8af9=_0x312a86[_0x45df57(0x1dd)](/\./g,'\x5c.')[_0x45df57(0x1dd)](/-/g,'\x5c-')[_0x45df57(0x1dd)](/\//g,'\x5c/');_0x4cdda8+=_0x798b91+_0x45df57(0x21f)+_0x2914af+'\x20*'+_0x186f20+'*\x0a',_0x4cdda8+=_0x45df57(0x26c)+_0x1c044e[_0x45df57(0x2f4)]+_0x45df57(0x32c)+_0x1c044e[_0x45df57(0x209)]+'\x0a',_0x4cdda8+=_0x45df57(0x22d)+_0x4d8af9+_0x45df57(0x266);});const _0x377d0e=[];_0x148201>0x1&&_0x377d0e['push']({'text':_0x520e59(0x24c),'callback_data':_0x520e59(0x267)+(_0x148201-0x1)});_0x148201<_0x4a92f7&&_0x377d0e[_0x520e59(0x31e)]({'text':_0x520e59(0x301),'callback_data':_0x520e59(0x267)+(_0x148201+0x1)});const _0x30db64=[];_0x377d0e['length']>0x0&&_0x30db64[_0x520e59(0x31e)](_0x377d0e),_0x30db64[_0x520e59(0x31e)]([{'text':_0x520e59(0x1db),'callback_data':_0x520e59(0x212)}]),_0x30db64[_0x520e59(0x31e)]([{'text':'âŒ\x20Close','callback_data':'pl_cancel'}]),_0x269248?await this['bot']?.['editMessageText'](_0x4cdda8,{'chat_id':_0x5e31d0,'message_id':_0x269248,'parse_mode':'MarkdownV2','reply_markup':{'inline_keyboard':_0x30db64}}):await this[_0x520e59(0x368)]?.['sendMessage'](_0x5e31d0,_0x4cdda8,{'parse_mode':'MarkdownV2','reply_markup':{'inline_keyboard':_0x30db64}});}catch(_0x29762c){console['error'](_0x520e59(0x219),_0x29762c),await this[_0x520e59(0x368)]?.['sendMessage'](_0x5e31d0,'âŒ\x20An\x20error\x20occurred\x20while\x20loading\x20payment\x20links.');}}[a87_0x412045(0x2b2)](_0x1945eb){const _0x1ceb3f=a87_0x412045,_0x21fb5d={'1000':[_0x1ceb3f(0x375),_0x1ceb3f(0x1f2),_0x1ceb3f(0x2a5)],'0001':[_0x1ceb3f(0x2a5),'EUR',_0x1ceb3f(0x1f2),_0x1ceb3f(0x2fe),_0x1ceb3f(0x2a3)],'0010':[_0x1ceb3f(0x2a5),_0x1ceb3f(0x375),'GBP',_0x1ceb3f(0x2fe),_0x1ceb3f(0x2a3)],'1111':[_0x1ceb3f(0x375)],'0000':[_0x1ceb3f(0x375),_0x1ceb3f(0x2a5),_0x1ceb3f(0x2a3),'CAD','GBP',_0x1ceb3f(0x332),_0x1ceb3f(0x218)],'1110':[_0x1ceb3f(0x375),_0x1ceb3f(0x2a5),_0x1ceb3f(0x1f2)],'2000':[_0x1ceb3f(0x375)],'2001':['EUR'],'2010':[_0x1ceb3f(0x375)],'2011':[_0x1ceb3f(0x2fe)],'2002':[_0x1ceb3f(0x1d0)],'3000':[_0x1ceb3f(0x1d0),_0x1ceb3f(0x2f8),_0x1ceb3f(0x375),'USD',_0x1ceb3f(0x2a3),_0x1ceb3f(0x276),_0x1ceb3f(0x2eb),_0x1ceb3f(0x2fe),'GBP',_0x1ceb3f(0x314),'INR'],'3001':['USD',_0x1ceb3f(0x375)],'3002':[_0x1ceb3f(0x375),'USD',_0x1ceb3f(0x2f8),_0x1ceb3f(0x1f2),_0x1ceb3f(0x2a3),'CAD',_0x1ceb3f(0x268),_0x1ceb3f(0x218)],'3004':['USDT',_0x1ceb3f(0x2fc),_0x1ceb3f(0x1e3),_0x1ceb3f(0x2af),_0x1ceb3f(0x2d2),_0x1ceb3f(0x319),_0x1ceb3f(0x246),_0x1ceb3f(0x37a),_0x1ceb3f(0x1da),'TRX']};return _0x21fb5d[_0x1945eb]||[_0x1ceb3f(0x2a5)];}async[a87_0x412045(0x1dc)](_0x5d8c99,_0x19e0ea,_0x361b2e,_0x11a594){const _0x5743a7=a87_0x412045;try{const _0x2ccf5a=new Date();let _0x3ce57f,_0x50d7e7,_0x48c69f;switch(_0x361b2e){case _0x5743a7(0x213):{const _0x5c04bd=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a['getUTCFullYear'](),_0x2ccf5a[_0x5743a7(0x30a)](),_0x2ccf5a[_0x5743a7(0x25d)]()));_0x3ce57f=_0x5c04bd,_0x50d7e7=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a[_0x5743a7(0x1f8)](),_0x2ccf5a[_0x5743a7(0x30a)](),_0x2ccf5a[_0x5743a7(0x25d)](),0x17,0x3b,0x3b,0x3e7)),_0x48c69f=_0x5c04bd[_0x5743a7(0x25d)]()[_0x5743a7(0x29e)]()['padStart'](0x2,'0')+'.'+(_0x5c04bd[_0x5743a7(0x30a)]()+0x1)[_0x5743a7(0x29e)]()['padStart'](0x2,'0')+'.'+_0x5c04bd[_0x5743a7(0x1f8)]();break;}case _0x5743a7(0x316):{const _0x601776=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a[_0x5743a7(0x1f8)](),_0x2ccf5a[_0x5743a7(0x30a)](),_0x2ccf5a[_0x5743a7(0x25d)]()-0x1));_0x3ce57f=_0x601776,_0x50d7e7=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a['getUTCFullYear'](),_0x2ccf5a[_0x5743a7(0x30a)](),_0x2ccf5a[_0x5743a7(0x25d)]()-0x1,0x17,0x3b,0x3b,0x3e7)),_0x48c69f=_0x601776[_0x5743a7(0x25d)]()[_0x5743a7(0x29e)]()[_0x5743a7(0x299)](0x2,'0')+'.'+(_0x601776[_0x5743a7(0x30a)]()+0x1)['toString']()[_0x5743a7(0x299)](0x2,'0')+'.'+_0x601776['getUTCFullYear']();break;}case _0x5743a7(0x271):{const _0x718309=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a[_0x5743a7(0x1f8)](),_0x2ccf5a[_0x5743a7(0x30a)](),0x1));_0x3ce57f=_0x718309,_0x50d7e7=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a[_0x5743a7(0x1f8)](),_0x2ccf5a[_0x5743a7(0x30a)]()+0x1,0x0,0x17,0x3b,0x3b,0x3e7));const _0x232a68=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a['getUTCFullYear'](),_0x2ccf5a[_0x5743a7(0x30a)]()+0x1,0x0));_0x48c69f=_0x718309[_0x5743a7(0x25d)]()['toString']()[_0x5743a7(0x299)](0x2,'0')+'.'+(_0x718309['getUTCMonth']()+0x1)[_0x5743a7(0x29e)]()[_0x5743a7(0x299)](0x2,'0')+'.'+_0x718309['getUTCFullYear']()+_0x5743a7(0x30c)+_0x232a68['getUTCDate']()[_0x5743a7(0x29e)]()[_0x5743a7(0x299)](0x2,'0')+'.'+(_0x232a68[_0x5743a7(0x30a)]()+0x1)['toString']()[_0x5743a7(0x299)](0x2,'0')+'.'+_0x232a68['getUTCFullYear']();break;}case _0x5743a7(0x251):{const _0x1e0ca7=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a['getUTCFullYear'](),_0x2ccf5a['getUTCMonth']()-0x1,0x1));_0x3ce57f=_0x1e0ca7,_0x50d7e7=new Date(Date[_0x5743a7(0x300)](_0x2ccf5a[_0x5743a7(0x1f8)](),_0x2ccf5a[_0x5743a7(0x30a)](),0x0,0x17,0x3b,0x3b,0x3e7));const _0x4ee135=new Date(Date['UTC'](_0x2ccf5a[_0x5743a7(0x1f8)](),_0x2ccf5a[_0x5743a7(0x30a)](),0x0));_0x48c69f=_0x1e0ca7[_0x5743a7(0x25d)]()[_0x5743a7(0x29e)]()['padStart'](0x2,'0')+'.'+(_0x1e0ca7[_0x5743a7(0x30a)]()+0x1)[_0x5743a7(0x29e)]()[_0x5743a7(0x299)](0x2,'0')+'.'+_0x1e0ca7['getUTCFullYear']()+_0x5743a7(0x30c)+_0x4ee135[_0x5743a7(0x25d)]()[_0x5743a7(0x29e)]()[_0x5743a7(0x299)](0x2,'0')+'.'+(_0x4ee135['getUTCMonth']()+0x1)[_0x5743a7(0x29e)]()[_0x5743a7(0x299)](0x2,'0')+'.'+_0x4ee135[_0x5743a7(0x1f8)]();break;}case _0x5743a7(0x1d7):{_0x3ce57f=new Date(0x0),_0x50d7e7=_0x2ccf5a,_0x48c69f='All\x20Time';break;}default:return;}const _0x38a62e=await database_1[_0x5743a7(0x1f4)][_0x5743a7(0x32b)]['findMany']({'where':{'shopId':_0x19e0ea,'createdAt':{'gte':_0x3ce57f,'lte':_0x50d7e7}},'select':{'status':!![],'amountUSDT':!![],'amountAfterGatewayCommissionUSDT':!![]}});let _0xf41cb6=0x0,_0x1d99d7=0x0,_0x4b7992=0x0,_0x7d7bdc=0x0,_0x560521=0x0,_0x3fa3af=0x0;_0x38a62e[_0x5743a7(0x1ff)](_0x5c3688=>{const _0x25fab2=_0x5743a7,_0x12a6fb=_0x5c3688['amountUSDT']||0x0,_0x37f657=_0x5c3688['amountAfterGatewayCommissionUSDT']||0x0;if(_0x5c3688[_0x25fab2(0x2c9)]==='PAID')_0xf41cb6+=_0x12a6fb,_0x1d99d7+=_0x12a6fb-_0x37f657,_0x4b7992++;else{if(_0x5c3688[_0x25fab2(0x2c9)]===_0x25fab2(0x2f1)||_0x5c3688[_0x25fab2(0x2c9)]===_0x25fab2(0x32e))_0x7d7bdc++;else{if(_0x5c3688[_0x25fab2(0x2c9)]===_0x25fab2(0x347))_0x560521++,_0xf41cb6+=_0x12a6fb;else _0x5c3688[_0x25fab2(0x2c9)]===_0x25fab2(0x2d5)&&(_0x3fa3af++,_0xf41cb6+=_0x12a6fb);}}});const _0x1a126f=_0x4b7992+_0x7d7bdc,_0x211e09=_0x1a126f>0x0?(_0x4b7992/_0x1a126f*0x64)[_0x5743a7(0x2c8)](0x1):_0x5743a7(0x1e4),_0x422d22=_0x48c69f[_0x5743a7(0x1dd)](/\./g,'\x5c.')['replace'](/\-/g,'\x5c-'),_0x5851a0=_0xf41cb6[_0x5743a7(0x2c8)](0x2)[_0x5743a7(0x1dd)](/\./g,'\x5c.'),_0x376268=_0x1d99d7[_0x5743a7(0x2c8)](0x2)[_0x5743a7(0x1dd)](/\./g,'\x5c.'),_0x5ccd08=_0x211e09[_0x5743a7(0x1dd)](/\./g,'\x5c.'),_0x223eb7=_0x5743a7(0x291)+_0x422d22+_0x5743a7(0x283)+(_0x5743a7(0x2df)+_0x5851a0+_0x5743a7(0x335))+(_0x5743a7(0x2d0)+_0x376268+_0x5743a7(0x335))+(_0x5743a7(0x2cc)+_0x4b7992+'\x0a')+(_0x5743a7(0x365)+_0x7d7bdc+'\x0a')+(_0x5743a7(0x2e8)+_0x5ccd08+'%\x0a')+(_0x5743a7(0x2ef)+_0x560521+'\x0a')+(_0x5743a7(0x2bb)+_0x3fa3af),_0x1c2315={'inline_keyboard':[[{'text':_0x5743a7(0x376),'callback_data':_0x5743a7(0x2ac)}]]};_0x11a594?await this[_0x5743a7(0x368)]?.[_0x5743a7(0x2c7)](_0x223eb7,{'chat_id':_0x5d8c99,'message_id':_0x11a594,'parse_mode':_0x5743a7(0x38c),'reply_markup':_0x1c2315}):await this[_0x5743a7(0x368)]?.['sendMessage'](_0x5d8c99,_0x223eb7,{'parse_mode':_0x5743a7(0x38c),'reply_markup':_0x1c2315});}catch(_0x41d040){console[_0x5743a7(0x2c1)]('Error\x20getting\x20merchant\x20statistics:',_0x41d040),await this['bot']?.[_0x5743a7(0x249)](_0x5d8c99,_0x5743a7(0x1f7));}}[a87_0x412045(0x23c)](){const _0x1c83f2=a87_0x412045;this[_0x1c83f2(0x368)]&&(this[_0x1c83f2(0x368)][_0x1c83f2(0x225)](),this['bot']=null,console[_0x1c83f2(0x236)](_0x1c83f2(0x21d)));}}exports[a87_0x412045(0x32d)]=TelegramBotService,exports[a87_0x412045(0x231)]=new TelegramBotService();