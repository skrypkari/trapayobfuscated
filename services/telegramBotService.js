'use strict';const a49_0x481c80=a49_0x4e05;(function(_0x4534a3,_0x417831){const _0x19d821=a49_0x4e05,_0x2ba1e2=_0x4534a3();while(!![]){try{const _0x303e25=parseInt(_0x19d821(0x198))/0x1+parseInt(_0x19d821(0xe9))/0x2+parseInt(_0x19d821(0x117))/0x3+parseInt(_0x19d821(0x16c))/0x4+-parseInt(_0x19d821(0x143))/0x5*(parseInt(_0x19d821(0x1aa))/0x6)+-parseInt(_0x19d821(0x1ab))/0x7+-parseInt(_0x19d821(0xf4))/0x8*(parseInt(_0x19d821(0xce))/0x9);if(_0x303e25===_0x417831)break;else _0x2ba1e2['push'](_0x2ba1e2['shift']());}catch(_0x429271){_0x2ba1e2['push'](_0x2ba1e2['shift']());}}}(a49_0x4133,0x8d286));var __importDefault=this&&this['__importDefault']||function(_0x378dfa){const _0x5801a0=a49_0x4e05;return _0x378dfa&&_0x378dfa[_0x5801a0(0x119)]?_0x378dfa:{'default':_0x378dfa};};Object[a49_0x481c80(0x13d)](exports,a49_0x481c80(0x119),{'value':!![]}),exports['telegramBotService']=exports[a49_0x481c80(0xcc)]=void 0x0;function a49_0x4133(){const _0x2b1ed5=['\x20verified\x20for\x20shop\x20','Expected\x20key\x20format:\x20`pk_...`\x20or\x20`sk_...`','TELEGRAM_BOT_USERNAME','amount','\x20disconnected\x20from\x20shop\x20','Shop:\x20*','Use\x20/status\x20to\x20check\x20status.','substring','notificationLogin','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','entries','*.\x0a\x0a','üì±\x20Telegram\x20notification:\x20gateway\x20\x22','Please\x20send:\x0a','‚ùå\x20Send\x20your\x20username\x20first.\x0a\x0a','458176iEQvcE','To\x20reconnect,\x20use\x20the\x20/start\x20command','toLocaleDateString','publicKey','create','length','üîî\x20You\x20receive\x20notifications\x20about:\x0a','Error\x20handling\x20/status\x20command:','text','Available\x20usernames:\x0a','‚ùå\x20Invalid\x20data\x20format.\x0a\x0a','bot','toString','‚ùå\x20You\x20are\x20not\x20connected\x20to\x20a\x20shop.\x0a\x0a','New\x20payment\x20created','üìÖ\x20Time:\x20','‚úÖ\x20You\x20have\x20been\x20successfully\x20connected\x20to\x20the\x20notification\x20system!\x0a\x0a','‚ùå\x20An\x20error\x20occurred\x20while\x20verifying\x20data.','\x20via\x20multiline\x20input','`\x0a\x0a','adminNotes','trim','üö®\x20*API\x20Error*\x0a\x0a','\x20USD*\x0a','‚ùå\x20API\x20key\x20does\x20not\x20match\x20the\x20shop.\x0a\x0a','botUsername','Payment\x20is\x20being\x20processed','../types/gateway','\x22\x20->\x20display\x20\x22','üë§\x20Username:\x20`','isVerified','warn','üìù\x20Order\x20ID:\x20`','You\x20can\x20send\x20them\x20in\x20one\x20message\x20separated\x20by\x20a\x20new\x20line\x20or\x20as\x20separate\x20messages:\x0a\x0a','update','Order:\x0a','‚ùå\x20You\x20are\x20not\x20connected\x20to\x20the\x20notification\x20system.','Example:\x0a','2Ô∏è‚É£\x20Then\x20send\x20your\x20*API\x20key*\x0a\x0a','1Ô∏è‚É£\x20Send\x20your\x20*username*\x20(login\x20from\x20dashboard)\x0a','üîî\x20*','To\x20receive\x20payment\x20notifications,\x20please:\x0a\x0a','\x20\x20\x20Status:\x20','‚ùå\x20Please\x20use\x20/start\x20command\x20first','322520PABoFB','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','allSettled','forEach','‚úÖ\x20Connected\x20to\x20shop:\x20*','telegramBotService','shop','setupBotHandlers','üåê\x20IP\x20address:\x20`','üéâ\x20*Congratulations!*\x0a\x0a','‚ùå\x20An\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20','‚úÖ\x20You\x20have\x20been\x20successfully\x20disconnected\x20from\x20shop\x20*','`appple`\x0a','üíª\x20Browser:\x20`','ipAddress','1Ô∏è‚É£\x20Username\x0a','6NAORTT','5369238TMGJtG','getBotInfo','‚úÖ\x20You\x20are\x20already\x20connected\x20to\x20shop\x20*','\x20initialized\x20successfully','You\x20are\x20already\x20connected\x20to\x20shop:\x20*','trapay_bot','üì±\x20Shop:\x20*','üìÖ\x20Connection\x20date:\x20','Check\x20spelling\x20and\x20try\x20again.','handleMultilineVerification','default','sendApiErrorNotification','Disconnect\x20the\x20previous\x20account\x20first\x20or\x20contact\x20administrator.','‚úÖ\x20Telegram\x20bot\x20@','Failed\x20to\x20send\x20login\x20notification:','‚Ä¢\x20Payment\x20status\x20changes\x0a','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','/status\x20-\x20check\x20connection\x20status\x0a','updatedAt','telegramUser','user\x20is\x20deactivated','üí∞\x20Amount:\x20*','TelegramBotService','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','9gzwhGY','`\x20not\x20found.\x0a\x0a','secretKey','findUnique','Check\x20the\x20key\x20and\x20try\x20again.\x0a\x0a','botToken','method','2Ô∏è‚É£\x20API\x20key','Use\x20/status\x20to\x20check\x20status\x20or\x20/disconnect\x20to\x20disconnect.','Contact\x20administrator.',':\x20username=\x22','Successful\x20login','log','Use\x20/start\x20to\x20begin.','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20','sendShopNotification','shopSettings','‚ùå\x20You\x20are\x20not\x20registered\x20in\x20the\x20system.\x0a\x0a','error','Markdown','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','toLocaleString','endpoint','handleUsernameVerification','`\x20(','chargeback','\x20USDT*\x0a','2172086kkFEfj','first_name','chargebackAmount','sendCustomNotification','‚ùå\x20Error\x20getting\x20debug\x20information.','‚Ä¢\x20`','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','‚ùóÔ∏è\x20Make\x20sure\x20to\x20send\x20the\x20data\x20in\x20the\x20correct\x20order!','üì±\x20Created\x20new\x20Telegram\x20user:\x20','Failed\x20to\x20send\x20API\x20error\x20notification:','chat\x20not\x20found','6153944bOGLkp','\x20with\x20shop\x20','userAgent','Username:\x20`','errorMessage','status','\x20\x20\x20Username:\x20`','Error\x20in\x20handleMultilineVerification:','üÜî\x20Request\x20ID:\x20`','initializeBot','pk_','‚úÖ\x20Telegram\x20user\x20','requestId','success','üè¶\x20Method:\x20`','txid','Telegram\x20bot\x20polling\x20error:','API\x20key\x20must\x20start\x20with\x20`pk\x5c_`\x20or\x20`sk\x5c_`.','‚ùå\x20Shop\x20`','‚Ä¢\x20Payouts\x0a','onText','test','username','en-US','unknown','üÜî\x20Payment\x20ID:\x20`','shopId','üîî\x20Notifications\x20are\x20active\x0a\x0a','sk_','statusCode','Error\x20handling\x20/debug\x20command:','‚Ä¢\x20Important\x20events\x0a\x0a',':\x20`','...','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','2486079kUWNaM','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','__esModule','üÜî\x20Payout\x20ID:\x20`','Payout\x20completed','üîó\x20TXID:\x20`','Payment\x20expired','*\x0a\x0a','/disconnect\x20-\x20disconnect\x20from\x20notifications','‚ùå\x20Shop\x20with\x20username\x20`','sendLoginNotification','üîó\x20Endpoint:\x20`','startsWith','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','üìä\x20*Connection\x20Status*\x0a\x0a','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','...\x22','Commands:\x0a','sendMessage','env','createdAt','‚úÖ\x20Username\x20`','node-telegram-bot-api','currency','‚ùå\x20An\x20error\x20occurred\x20while\x20verifying\x20API\x20key.','ACTIVE','Now\x20send\x20your\x20*API\x20key*\x20(public\x20or\x20secret\x20key\x20starting\x20with\x20`pk\x5c_`\x20or\x20`sk\x5c_`)','New\x20payout\x20created','sendPaymentNotification','handleApiKeyVerification','‚ùå\x20API\x20key\x20does\x20not\x20match\x20shop\x20`','‚ùå\x20Invalid\x20API\x20key\x20format.\x0a\x0a','‚ùå\x20Another\x20Telegram\x20account\x20is\x20already\x20connected\x20to\x20shop\x20`','üõë\x20Telegram\x20bot\x20stopped','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','chat','Check\x20the\x20key\x20or\x20start\x20over\x20with\x20/start\x20command\x0a\x0a','\x0aCheck\x20spelling\x20and\x20try\x20again.','defineProperty','gateway','findMany','‚ùå\x20An\x20error\x20occurred\x20while\x20verifying\x20username.','name','‚Ä¢\x20New\x20payments\x0a','1186705CWCnlT','üìÖ\x20Date:\x20','Payment\x20successfully\x20paid','\x20(@','timestamp','Payment\x20refund','Payment\x20failed','üîå\x20User\x20','sendPayoutNotification','map','notificationApiError','from','includes','Error\x20in\x20handleApiKeyVerification:','‚ùå\x20Invalid\x20username\x20format:\x20`','telegramId','unknown\x20shop','message','failed','`.\x0a\x0a','Username\x20must\x20contain\x20only\x20letters,\x20numbers\x20and\x20underscore\x20(3-50\x20characters).','findFirst','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','üè™\x20Gateway:\x20`','...`\x0a\x0a','You\x20can\x20send\x20them\x20in\x20one\x20message\x20separated\x20by\x20a\x20new\x20line:\x0a'];a49_0x4133=function(){return _0x2b1ed5;};return a49_0x4133();}function a49_0x4e05(_0x2a4ba8,_0x52ffed){const _0x41334e=a49_0x4133();return a49_0x4e05=function(_0x4e05cd,_0x12a6f8){_0x4e05cd=_0x4e05cd-0xb7;let _0x1fc8d2=_0x41334e[_0x4e05cd];return _0x1fc8d2;},a49_0x4e05(_0x2a4ba8,_0x52ffed);}const node_telegram_bot_api_1=__importDefault(require(a49_0x481c80(0x12d))),database_1=__importDefault(require('../config/database')),gateway_1=require(a49_0x481c80(0x187));class TelegramBotService{constructor(){const _0x3b2998=a49_0x481c80;this[_0x3b2998(0x177)]=null,this['botToken']=process[_0x3b2998(0x12a)]['TELEGRAM_BOT_TOKEN']||'',this[_0x3b2998(0x185)]=process[_0x3b2998(0x12a)][_0x3b2998(0x15f)]||_0x3b2998(0xbb),this[_0x3b2998(0xd3)]?this[_0x3b2998(0xfd)]():console[_0x3b2998(0x18b)](_0x3b2998(0x139));}[a49_0x481c80(0xfd)](){const _0x4c1a9d=a49_0x481c80;try{this['bot']=new node_telegram_bot_api_1[(_0x4c1a9d(0xc0))](this[_0x4c1a9d(0xd3)],{'polling':!![]}),this[_0x4c1a9d(0x19f)](),console[_0x4c1a9d(0xda)](_0x4c1a9d(0xc3)+this[_0x4c1a9d(0x185)]+_0x4c1a9d(0xb9));}catch(_0x4b34c8){console[_0x4c1a9d(0xe0)](_0x4c1a9d(0x126),_0x4b34c8);}}[a49_0x481c80(0x19f)](){const _0x109374=a49_0x481c80;if(!this['bot'])return;this['bot'][_0x109374(0x108)](/\/start/,async _0x4c524=>{const _0x17b3a3=_0x109374,_0x3c8163=_0x4c524[_0x17b3a3(0x13a)]['id'],_0x4ac23d=_0x4c524[_0x17b3a3(0x14e)]?.['id'][_0x17b3a3(0x178)](),_0x353951=_0x4c524[_0x17b3a3(0x14e)]?.[_0x17b3a3(0x10a)],_0x45e876=_0x4c524['from']?.[_0x17b3a3(0xea)],_0x1becda=_0x4c524[_0x17b3a3(0x14e)]?.['last_name'];if(!_0x4ac23d)return;try{let _0x5ed1c5=await database_1[_0x17b3a3(0xc0)]['telegramUser'][_0x17b3a3(0xd1)]({'where':{'telegramId':_0x4ac23d},'include':{'shop':!![]}});!_0x5ed1c5?(_0x5ed1c5=await database_1[_0x17b3a3(0xc0)][_0x17b3a3(0xc9)][_0x17b3a3(0x170)]({'data':{'telegramId':_0x4ac23d,'username':_0x353951,'firstName':_0x45e876,'lastName':_0x1becda,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x17b3a3(0xda)](_0x17b3a3(0xf1)+_0x4ac23d+_0x17b3a3(0x146)+_0x353951+')')):_0x5ed1c5=await database_1[_0x17b3a3(0xc0)][_0x17b3a3(0xc9)][_0x17b3a3(0x18e)]({'where':{'telegramId':_0x4ac23d},'data':{'username':_0x353951,'firstName':_0x45e876,'lastName':_0x1becda},'include':{'shop':!![]}}),_0x5ed1c5[_0x17b3a3(0x18a)]&&_0x5ed1c5[_0x17b3a3(0x10e)]&&_0x5ed1c5[_0x17b3a3(0x19e)]?await this['bot']?.[_0x17b3a3(0x129)](_0x3c8163,'‚úÖ\x20Welcome\x20back!\x0a\x0a'+(_0x17b3a3(0xba)+_0x5ed1c5[_0x17b3a3(0x19e)][_0x17b3a3(0x141)]+'*\x0a')+(_0x17b3a3(0xf7)+_0x5ed1c5[_0x17b3a3(0x19e)]['username']+_0x17b3a3(0x17f))+_0x17b3a3(0x172)+'‚Ä¢\x20New\x20payments\x0a'+'‚Ä¢\x20Payment\x20status\x20changes\x0a'+'‚Ä¢\x20Payouts\x0a\x0a'+'Commands:\x0a'+_0x17b3a3(0xc7)+_0x17b3a3(0x11f),{'parse_mode':'Markdown'}):(_0x5ed1c5[_0x17b3a3(0x10e)]&&!_0x5ed1c5['isVerified']&&(await database_1[_0x17b3a3(0xc0)][_0x17b3a3(0xc9)]['update']({'where':{'telegramId':_0x4ac23d},'data':{'shopId':null,'isVerified':![]}}),console[_0x17b3a3(0xda)](_0x17b3a3(0x118)+_0x4ac23d)),await this['bot']?.['sendMessage'](_0x3c8163,'ü§ñ\x20Welcome\x20to\x20TRAPAY\x20notification\x20system!\x0a\x0a'+_0x17b3a3(0x195)+_0x17b3a3(0x193)+_0x17b3a3(0x192)+_0x17b3a3(0x18d)+_0x17b3a3(0x191)+'`appple`\x0a'+_0x17b3a3(0x116)+_0x17b3a3(0xf0),{'parse_mode':'Markdown'}));}catch(_0x17a928){console['error']('Error\x20handling\x20/start\x20command:',_0x17a928),await this[_0x17b3a3(0x177)]?.[_0x17b3a3(0x129)](_0x3c8163,_0x17b3a3(0x1a2));}}),this[_0x109374(0x177)][_0x109374(0x108)](/\/disconnect/,async _0x22a16d=>{const _0x4542bd=_0x109374,_0x238428=_0x22a16d[_0x4542bd(0x13a)]['id'],_0x49b64e=_0x22a16d[_0x4542bd(0x14e)]?.['id']['toString']();if(!_0x49b64e)return;try{const _0xd9e526=await database_1[_0x4542bd(0xc0)][_0x4542bd(0xc9)][_0x4542bd(0xd1)]({'where':{'telegramId':_0x49b64e},'include':{'shop':!![]}});if(!_0xd9e526||!_0xd9e526[_0x4542bd(0x18a)]||!_0xd9e526[_0x4542bd(0x10e)]){await this[_0x4542bd(0x177)]?.['sendMessage'](_0x238428,_0x4542bd(0x190));return;}const _0xf93dec=_0xd9e526[_0x4542bd(0x19e)]?.[_0x4542bd(0x141)]||_0x4542bd(0x153);await database_1[_0x4542bd(0xc0)][_0x4542bd(0xc9)][_0x4542bd(0x18e)]({'where':{'telegramId':_0x49b64e},'data':{'shopId':null,'isVerified':![]}}),console['log'](_0x4542bd(0x14a)+_0x49b64e+_0x4542bd(0x161)+_0xd9e526['shopId']),await this[_0x4542bd(0x177)]?.[_0x4542bd(0x129)](_0x238428,_0x4542bd(0x1a5)+_0xf93dec+_0x4542bd(0x168)+_0x4542bd(0x16d),{'parse_mode':_0x4542bd(0xe1)});}catch(_0x3cfd23){console[_0x4542bd(0xe0)]('Error\x20handling\x20/disconnect\x20command:',_0x3cfd23),await this[_0x4542bd(0x177)]?.[_0x4542bd(0x129)](_0x238428,_0x4542bd(0x1a2));}}),this['bot']['onText'](/\/status/,async _0x3f1303=>{const _0x44f700=_0x109374,_0x5b7f21=_0x3f1303[_0x44f700(0x13a)]['id'],_0x3df192=_0x3f1303['from']?.['id'][_0x44f700(0x178)]();if(!_0x3df192)return;try{const _0x307025=await database_1[_0x44f700(0xc0)][_0x44f700(0xc9)][_0x44f700(0xd1)]({'where':{'telegramId':_0x3df192},'include':{'shop':!![]}});if(!_0x307025){await this[_0x44f700(0x177)]?.['sendMessage'](_0x5b7f21,_0x44f700(0xdf)+_0x44f700(0xdb));return;}if(!_0x307025['isVerified']||!_0x307025['shopId']||!_0x307025[_0x44f700(0x19e)]){await this[_0x44f700(0x177)]?.[_0x44f700(0x129)](_0x5b7f21,_0x44f700(0x179)+'Use\x20/start\x20to\x20connect.');return;}await this[_0x44f700(0x177)]?.[_0x44f700(0x129)](_0x5b7f21,_0x44f700(0x125)+(_0x44f700(0x19c)+_0x307025[_0x44f700(0x19e)]['name']+'*\x0a')+(_0x44f700(0x189)+_0x307025['shop'][_0x44f700(0x10a)]+'`\x0a')+(_0x44f700(0xbd)+_0x307025[_0x44f700(0xc8)][_0x44f700(0x16e)](_0x44f700(0x10b))+'\x0a\x0a')+_0x44f700(0x10f)+_0x44f700(0x128)+_0x44f700(0x11f),{'parse_mode':'Markdown'});}catch(_0x432496){console[_0x44f700(0xe0)](_0x44f700(0x173),_0x432496),await this['bot']?.[_0x44f700(0x129)](_0x5b7f21,_0x44f700(0x1a2));}}),this[_0x109374(0x177)]['onText'](/\/debug/,async _0x5713b7=>{const _0x193692=_0x109374,_0x23a036=_0x5713b7[_0x193692(0x13a)]['id'],_0xbb0f93=_0x5713b7[_0x193692(0x14e)]?.['id'][_0x193692(0x178)]();if(!_0xbb0f93)return;try{const _0x2bc4fd=await database_1[_0x193692(0xc0)][_0x193692(0x19e)][_0x193692(0x13f)]({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0xc90991='üîç\x20*Debug\x20Information*\x0a\x0a';_0xc90991+='üì±\x20Your\x20Telegram\x20ID:\x20`'+_0xbb0f93+_0x193692(0x17f),_0xc90991+='üè™\x20Available\x20shops\x20in\x20system:\x0a',_0x2bc4fd[_0x193692(0x19b)]((_0x4913a7,_0x13f0aa)=>{const _0x57a868=_0x193692;_0xc90991+=_0x13f0aa+0x1+'.\x20*'+_0x4913a7['name']+'*\x0a',_0xc90991+=_0x57a868(0xfa)+_0x4913a7[_0x57a868(0x10a)]+'`\x0a',_0xc90991+=_0x57a868(0x196)+_0x4913a7[_0x57a868(0xf9)]+'\x0a',_0xc90991+='\x20\x20\x20Public\x20Key:\x20`'+_0x4913a7['publicKey'][_0x57a868(0x164)](0x0,0xf)+_0x57a868(0x15b);}),await this['bot']?.[_0x193692(0x129)](_0x23a036,_0xc90991,{'parse_mode':_0x193692(0xe1)});}catch(_0x4ad532){console[_0x193692(0xe0)](_0x193692(0x112),_0x4ad532),await this[_0x193692(0x177)]?.[_0x193692(0x129)](_0x23a036,_0x193692(0xed));}}),this['bot']['on'](_0x109374(0x154),async _0x6a6dac=>{const _0x2abcf7=_0x109374;if(_0x6a6dac[_0x2abcf7(0x174)]?.[_0x2abcf7(0x123)]('/'))return;const _0x4fe84f=_0x6a6dac[_0x2abcf7(0x13a)]['id'],_0x2e1dea=_0x6a6dac[_0x2abcf7(0x14e)]?.['id'][_0x2abcf7(0x178)](),_0x4701a0=_0x6a6dac[_0x2abcf7(0x174)]?.[_0x2abcf7(0x181)]();if(!_0x2e1dea||!_0x4701a0)return;try{const _0x22fcd0=await database_1['default'][_0x2abcf7(0xc9)][_0x2abcf7(0xd1)]({'where':{'telegramId':_0x2e1dea},'include':{'shop':!![]}});if(!_0x22fcd0){await this[_0x2abcf7(0x177)]?.[_0x2abcf7(0x129)](_0x4fe84f,_0x2abcf7(0x197));return;}if(_0x22fcd0[_0x2abcf7(0x18a)]&&_0x22fcd0[_0x2abcf7(0x10e)]&&_0x22fcd0[_0x2abcf7(0x19e)]){await this[_0x2abcf7(0x177)]?.[_0x2abcf7(0x129)](_0x4fe84f,_0x2abcf7(0xb8)+_0x22fcd0[_0x2abcf7(0x19e)]['name']+_0x2abcf7(0x168)+_0x2abcf7(0xd6),{'parse_mode':_0x2abcf7(0xe1)});return;}const _0x57c80a=_0x4701a0['split']('\x0a')[_0x2abcf7(0x14c)](_0x30322b=>_0x30322b[_0x2abcf7(0x181)]())['filter'](_0x1e4a69=>_0x1e4a69[_0x2abcf7(0x171)]>0x0);if(_0x57c80a[_0x2abcf7(0x171)]===0x2){const [_0x90078a,_0x25b3eb]=_0x57c80a;await this[_0x2abcf7(0xbf)](_0x4fe84f,_0x2e1dea,_0x90078a,_0x25b3eb);}else{if(_0x57c80a[_0x2abcf7(0x171)]===0x1){const _0x2574b9=_0x57c80a[0x0];if(_0x2574b9['length']>=0x3&&_0x2574b9[_0x2abcf7(0x171)]<=0x32&&/^[a-zA-Z0-9_]+$/[_0x2abcf7(0x109)](_0x2574b9))await this[_0x2abcf7(0xe5)](_0x4fe84f,_0x2e1dea,_0x2574b9);else _0x2574b9[_0x2abcf7(0x123)](_0x2abcf7(0xfe))||_0x2574b9[_0x2abcf7(0x123)]('sk_')?await this[_0x2abcf7(0x134)](_0x4fe84f,_0x2e1dea,_0x2574b9):await this['bot']?.['sendMessage'](_0x4fe84f,_0x2abcf7(0x176)+_0x2abcf7(0x16a)+'1Ô∏è‚É£\x20First\x20your\x20username\x20(letters,\x20numbers\x20and\x20underscore\x20only)\x0a'+'2Ô∏è‚É£\x20Then\x20your\x20API\x20key\x20(starts\x20with\x20pk\x5c_\x20or\x20sk\x5c_)\x0a\x0a'+_0x2abcf7(0x15c)+_0x2abcf7(0x1a6)+_0x2abcf7(0x124),{'parse_mode':_0x2abcf7(0xe1)});}else await this[_0x2abcf7(0x177)]?.['sendMessage'](_0x4fe84f,_0x2abcf7(0x176)+'Send\x20username\x20and\x20API\x20key\x20in\x20one\x20message\x20separated\x20by\x20a\x20new\x20line\x20or\x20as\x20separate\x20messages.\x0a\x0a'+_0x2abcf7(0x191)+_0x2abcf7(0x1a6)+'`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`',{'parse_mode':_0x2abcf7(0xe1)});}}catch(_0x388516){console[_0x2abcf7(0xe0)]('Error\x20handling\x20message:',_0x388516),await this['bot']?.['sendMessage'](_0x4fe84f,_0x2abcf7(0x1a2));}}),this[_0x109374(0x177)]['on'](_0x109374(0xe0),_0x44bd23=>{console['error']('Telegram\x20bot\x20error:',_0x44bd23);}),this[_0x109374(0x177)]['on']('polling_error',_0x1989bc=>{const _0x302ba2=_0x109374;console[_0x302ba2(0xe0)](_0x302ba2(0x104),_0x1989bc);});}async[a49_0x481c80(0xbf)](_0x5109dc,_0x3ff556,_0x216d3f,_0x175388){const _0x22a268=a49_0x481c80;try{console['log'](_0x22a268(0x1a4)+_0x3ff556+_0x22a268(0xd8)+_0x216d3f+'\x22,\x20apiKey=\x22'+_0x175388[_0x22a268(0x164)](0x0,0xa)+_0x22a268(0x127));if(!_0x216d3f||_0x216d3f[_0x22a268(0x171)]<0x3||_0x216d3f[_0x22a268(0x171)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x22a268(0x109)](_0x216d3f)){await this[_0x22a268(0x177)]?.[_0x22a268(0x129)](_0x5109dc,_0x22a268(0x151)+_0x216d3f+_0x22a268(0x17f)+_0x22a268(0x157),{'parse_mode':_0x22a268(0xe1)});return;}if(!_0x175388||!_0x175388[_0x22a268(0x123)](_0x22a268(0xfe))&&!_0x175388[_0x22a268(0x123)](_0x22a268(0x110))){await this['bot']?.[_0x22a268(0x129)](_0x5109dc,_0x22a268(0x136)+_0x22a268(0x105),{'parse_mode':_0x22a268(0xe1)});return;}const _0x448bab=await database_1[_0x22a268(0xc0)]['shop'][_0x22a268(0xd1)]({'where':{'username':_0x216d3f},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x448bab){const _0x8ed546=await database_1[_0x22a268(0xc0)]['shop'][_0x22a268(0x13f)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x105b40='‚ùå\x20Shop\x20with\x20username\x20`'+_0x216d3f+'`\x20not\x20found.\x0a\x0a';_0x8ed546[_0x22a268(0x171)]>0x0?(_0x105b40+=_0x22a268(0x175),_0x8ed546['forEach'](_0x4cd634=>{const _0x64a534=_0x22a268;_0x105b40+=_0x64a534(0xee)+_0x4cd634[_0x64a534(0x10a)]+_0x64a534(0xe6)+_0x4cd634[_0x64a534(0x141)]+')\x0a';}),_0x105b40+=_0x22a268(0x13c)):_0x105b40+='Check\x20spelling\x20and\x20try\x20again.';await this['bot']?.[_0x22a268(0x129)](_0x5109dc,_0x105b40,{'parse_mode':_0x22a268(0xe1)});return;}if(_0x448bab[_0x22a268(0xf9)]!==_0x22a268(0x130)){await this[_0x22a268(0x177)]?.[_0x22a268(0x129)](_0x5109dc,'‚ùå\x20Shop\x20`'+_0x216d3f+'`\x20is\x20inactive.\x0a\x0a'+_0x22a268(0xd7),{'parse_mode':_0x22a268(0xe1)});return;}if(_0x448bab[_0x22a268(0x16f)]!==_0x175388&&_0x448bab[_0x22a268(0xd0)]!==_0x175388){await this['bot']?.[_0x22a268(0x129)](_0x5109dc,_0x22a268(0x135)+_0x216d3f+_0x22a268(0x156)+_0x22a268(0xd2)+'Expected\x20key\x20format:\x20`pk_...`\x20or\x20`sk_...`',{'parse_mode':_0x22a268(0xe1)});return;}const _0x45e21e=await database_1[_0x22a268(0xc0)][_0x22a268(0xc9)][_0x22a268(0x158)]({'where':{'shopId':_0x448bab['id'],'isVerified':!![],'telegramId':{'not':_0x3ff556}}});if(_0x45e21e){await this['bot']?.[_0x22a268(0x129)](_0x5109dc,'‚ùå\x20Another\x20Telegram\x20account\x20is\x20already\x20connected\x20to\x20shop\x20`'+_0x216d3f+_0x22a268(0x156)+_0x22a268(0xc2),{'parse_mode':_0x22a268(0xe1)});return;}await database_1[_0x22a268(0xc0)][_0x22a268(0xc9)]['update']({'where':{'telegramId':_0x3ff556},'data':{'shopId':_0x448bab['id'],'isVerified':!![]}}),await this[_0x22a268(0x177)]?.[_0x22a268(0x129)](_0x5109dc,_0x22a268(0x1a1)+_0x22a268(0x17c)+(_0x22a268(0xbc)+_0x448bab[_0x22a268(0x141)]+'*\x0a')+(_0x22a268(0x189)+_0x448bab[_0x22a268(0x10a)]+_0x22a268(0x17f))+'üîî\x20You\x20will\x20now\x20receive\x20notifications\x20about:\x0a'+_0x22a268(0x142)+_0x22a268(0xc5)+_0x22a268(0x107)+_0x22a268(0x113)+_0x22a268(0x128)+_0x22a268(0xc7)+_0x22a268(0x11f),{'parse_mode':_0x22a268(0xe1)}),console[_0x22a268(0xda)](_0x22a268(0xff)+_0x3ff556+_0x22a268(0x15d)+_0x448bab[_0x22a268(0x10a)]+_0x22a268(0x17e));}catch(_0x42fff4){console[_0x22a268(0xe0)](_0x22a268(0xfb),_0x42fff4),await this[_0x22a268(0x177)]?.[_0x22a268(0x129)](_0x5109dc,_0x22a268(0x17d));}}async[a49_0x481c80(0xe5)](_0x386561,_0x347c5a,_0x397e66){const _0xffbb27=a49_0x481c80;try{console[_0xffbb27(0xda)]('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x347c5a+_0xffbb27(0xd8)+_0x397e66+'\x22');const _0xa09822=await database_1[_0xffbb27(0xc0)]['shop'][_0xffbb27(0xd1)]({'where':{'username':_0x397e66},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0xa09822){const _0x4afc1c=await database_1[_0xffbb27(0xc0)][_0xffbb27(0x19e)]['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x478f63=_0xffbb27(0x120)+_0x397e66+_0xffbb27(0xcf);_0x4afc1c[_0xffbb27(0x171)]>0x0?(_0x478f63+=_0xffbb27(0x175),_0x4afc1c[_0xffbb27(0x19b)](_0x5c2410=>{const _0x4766b1=_0xffbb27;_0x478f63+=_0x4766b1(0xee)+_0x5c2410[_0x4766b1(0x10a)]+'`\x20('+_0x5c2410[_0x4766b1(0x141)]+')\x0a';}),_0x478f63+=_0xffbb27(0x13c)):_0x478f63+=_0xffbb27(0xbe);await this['bot']?.[_0xffbb27(0x129)](_0x386561,_0x478f63,{'parse_mode':'Markdown'});return;}if(_0xa09822[_0xffbb27(0xf9)]!=='ACTIVE'){await this['bot']?.[_0xffbb27(0x129)](_0x386561,_0xffbb27(0x106)+_0x397e66+'`\x20is\x20inactive.\x0a\x0a'+'Contact\x20administrator.',{'parse_mode':_0xffbb27(0xe1)});return;}await database_1['default'][_0xffbb27(0xc9)][_0xffbb27(0x18e)]({'where':{'telegramId':_0x347c5a},'data':{'shopId':_0xa09822['id'],'isVerified':![]}}),await this[_0xffbb27(0x177)]?.[_0xffbb27(0x129)](_0x386561,_0xffbb27(0x12c)+_0x397e66+'`\x20found!\x0a\x0a'+(_0xffbb27(0x162)+_0xa09822[_0xffbb27(0x141)]+_0xffbb27(0x11e))+_0xffbb27(0x131),{'parse_mode':_0xffbb27(0xe1)}),console[_0xffbb27(0xda)](_0xffbb27(0x199)+_0x347c5a+_0xffbb27(0xf5)+_0xa09822['username']);}catch(_0x327bbc){console[_0xffbb27(0xe0)]('Error\x20in\x20handleUsernameVerification:',_0x327bbc),await this['bot']?.['sendMessage'](_0x386561,_0xffbb27(0x140));}}async[a49_0x481c80(0x134)](_0x23baa0,_0x370f07,_0x4c814c){const _0x38f7d3=a49_0x481c80;try{console[_0x38f7d3(0xda)]('üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20'+_0x370f07+':\x20apiKey=\x22'+_0x4c814c[_0x38f7d3(0x164)](0x0,0xa)+_0x38f7d3(0x127));const _0x524765=await database_1[_0x38f7d3(0xc0)][_0x38f7d3(0xc9)][_0x38f7d3(0xd1)]({'where':{'telegramId':_0x370f07},'include':{'shop':!![]}});if(!_0x524765?.[_0x38f7d3(0x10e)]){await this[_0x38f7d3(0x177)]?.[_0x38f7d3(0x129)](_0x23baa0,_0x38f7d3(0x16b)+_0x38f7d3(0x18f)+_0x38f7d3(0x1a9)+_0x38f7d3(0xd5));return;}if(_0x524765['isVerified']){await this[_0x38f7d3(0x177)]?.[_0x38f7d3(0x129)](_0x23baa0,_0x38f7d3(0xb8)+(_0x524765[_0x38f7d3(0x19e)]?.[_0x38f7d3(0x141)]||_0x38f7d3(0x10c))+_0x38f7d3(0x168)+_0x38f7d3(0x163),{'parse_mode':_0x38f7d3(0xe1)});return;}const _0x148abb=await database_1[_0x38f7d3(0xc0)]['shop']['findFirst']({'where':{'id':_0x524765[_0x38f7d3(0x10e)],'OR':[{'publicKey':_0x4c814c},{'secretKey':_0x4c814c}]}});if(!_0x148abb){await this['bot']?.[_0x38f7d3(0x129)](_0x23baa0,_0x38f7d3(0x184)+_0x38f7d3(0x13b)+_0x38f7d3(0x15e),{'parse_mode':_0x38f7d3(0xe1)}),await database_1[_0x38f7d3(0xc0)][_0x38f7d3(0xc9)][_0x38f7d3(0x18e)]({'where':{'telegramId':_0x370f07},'data':{'shopId':null,'isVerified':![]}}),console[_0x38f7d3(0xda)](_0x38f7d3(0xdc)+_0x370f07+',\x20reset\x20shop\x20association');return;}const _0xfb4846=await database_1[_0x38f7d3(0xc0)][_0x38f7d3(0xc9)][_0x38f7d3(0x158)]({'where':{'shopId':_0x148abb['id'],'isVerified':!![],'telegramId':{'not':_0x370f07}}});if(_0xfb4846){await this[_0x38f7d3(0x177)]?.[_0x38f7d3(0x129)](_0x23baa0,_0x38f7d3(0x137)+_0x148abb[_0x38f7d3(0x10a)]+'`.\x0a\x0a'+_0x38f7d3(0xc2),{'parse_mode':'Markdown'}),await database_1['default'][_0x38f7d3(0xc9)][_0x38f7d3(0x18e)]({'where':{'telegramId':_0x370f07},'data':{'shopId':null,'isVerified':![]}});return;}await database_1['default'][_0x38f7d3(0xc9)][_0x38f7d3(0x18e)]({'where':{'telegramId':_0x370f07},'data':{'isVerified':!![]}}),await this[_0x38f7d3(0x177)]?.[_0x38f7d3(0x129)](_0x23baa0,_0x38f7d3(0x1a1)+'‚úÖ\x20You\x20have\x20been\x20successfully\x20connected\x20to\x20the\x20notification\x20system!\x0a\x0a'+('üì±\x20Shop:\x20*'+_0x148abb['name']+'*\x0a')+(_0x38f7d3(0x189)+_0x148abb[_0x38f7d3(0x10a)]+_0x38f7d3(0x17f))+'üîî\x20You\x20will\x20now\x20receive\x20notifications\x20about:\x0a'+_0x38f7d3(0x142)+_0x38f7d3(0xc5)+_0x38f7d3(0x107)+_0x38f7d3(0x113)+_0x38f7d3(0x128)+_0x38f7d3(0xc7)+_0x38f7d3(0x11f),{'parse_mode':_0x38f7d3(0xe1)}),console[_0x38f7d3(0xda)](_0x38f7d3(0xff)+_0x370f07+_0x38f7d3(0x15d)+_0x148abb[_0x38f7d3(0x10a)]);}catch(_0x2b0865){console[_0x38f7d3(0xe0)](_0x38f7d3(0x150),_0x2b0865),await this[_0x38f7d3(0x177)]?.[_0x38f7d3(0x129)](_0x23baa0,_0x38f7d3(0x12f));}}async[a49_0x481c80(0xdd)](_0x389ff6,_0x15abd7,_0x2b6bc6){const _0xf17f01=a49_0x481c80;if(!this[_0xf17f01(0x177)]){console[_0xf17f01(0x18b)](_0xf17f01(0xe2));return;}try{const _0x542851=await database_1[_0xf17f01(0xc0)]['telegramUser']['findMany']({'where':{'shopId':_0x389ff6,'isVerified':!![]}});if(_0x542851[_0xf17f01(0x171)]===0x0){console['log'](_0xf17f01(0xcd)+_0x389ff6);return;}const _0x1dffdb=_0x542851[_0xf17f01(0x14c)](async _0x1c219e=>{const _0x19b351=_0xf17f01;try{await this['bot']?.['sendMessage'](_0x1c219e[_0x19b351(0x152)],_0x15abd7,_0x2b6bc6),console[_0x19b351(0xda)](_0x19b351(0x159)+_0x1c219e[_0x19b351(0x152)]);}catch(_0x1fa691){console[_0x19b351(0xe0)](_0x19b351(0xc6)+_0x1c219e[_0x19b351(0x152)]+':',_0x1fa691),_0x1fa691 instanceof Error&&(_0x1fa691[_0x19b351(0x154)][_0x19b351(0x14f)]('blocked')||_0x1fa691[_0x19b351(0x154)][_0x19b351(0x14f)](_0x19b351(0xf3))||_0x1fa691[_0x19b351(0x154)]['includes'](_0x19b351(0xca)))&&(await database_1[_0x19b351(0xc0)][_0x19b351(0xc9)]['update']({'where':{'id':_0x1c219e['id']},'data':{'isVerified':![]}}),console['log']('User\x20'+_0x1c219e['telegramId']+_0x19b351(0xef)));}});await Promise[_0xf17f01(0x19a)](_0x1dffdb);}catch(_0x5d2fd1){console[_0xf17f01(0xe0)]('Error\x20sending\x20shop\x20notification:',_0x5d2fd1);}}async[a49_0x481c80(0x133)](_0x55d921,_0x8b8ace,_0x1d495d){const _0x245fba=a49_0x481c80,_0x1e4f4e={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è','processing':'‚öôÔ∏è'},_0x3dd820={'created':_0x245fba(0x17a),'paid':_0x245fba(0x145),'failed':_0x245fba(0x149),'expired':_0x245fba(0x11d),'refund':_0x245fba(0x148),'chargeback':'Payment\x20chargeback','processing':_0x245fba(0x186)},_0x31dfb6=_0x1e4f4e[_0x1d495d],_0x3d0264=_0x3dd820[_0x1d495d],_0x41d654=(0x0,gateway_1['getGatewayDisplayNameForTelegram'])(_0x8b8ace[_0x245fba(0x13e)]);console[_0x245fba(0xda)](_0x245fba(0x169)+_0x8b8ace['gateway']+_0x245fba(0x188)+_0x41d654+'\x22');let _0x5437d7=_0x31dfb6+'\x20*'+_0x3d0264+_0x245fba(0x11e)+(_0x245fba(0xcb)+_0x8b8ace[_0x245fba(0x160)]+'\x20'+_0x8b8ace[_0x245fba(0x12e)]+'*\x0a')+(_0x245fba(0x18c)+(_0x8b8ace['orderId']||_0x8b8ace['id'])+'`\x0a')+(_0x245fba(0x10d)+_0x8b8ace['id']+'`\x0a')+(_0x245fba(0x15a)+_0x41d654+'`\x0a')+(_0x245fba(0x144)+new Date(_0x8b8ace[_0x245fba(0x12b)])[_0x245fba(0xe3)](_0x245fba(0x10b))+'\x0a');_0x1d495d===_0x245fba(0xe7)&&_0x8b8ace['chargebackAmount']&&(_0x5437d7+='üí∏\x20Penalty\x20amount:\x20*'+_0x8b8ace[_0x245fba(0xeb)]+_0x245fba(0xe8)),_0x1d495d==='processing'&&(_0x5437d7+='‚è≥\x20The\x20payment\x20is\x20currently\x20being\x20processed\x20by\x20the\x20gateway.\x0a'),_0x8b8ace[_0x245fba(0x180)]&&(_0x5437d7+='üìù\x20Notes:\x20'+_0x8b8ace[_0x245fba(0x180)]+'\x0a'),await this['sendShopNotification'](_0x55d921,_0x5437d7,{'parse_mode':_0x245fba(0xe1)});}async[a49_0x481c80(0x14b)](_0xfc25a7,_0x5b3249,_0x551026){const _0x4900e4=a49_0x481c80,_0x41647c={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x27c18b={'created':_0x4900e4(0x132),'completed':_0x4900e4(0x11b),'rejected':'Payout\x20rejected'},_0x4754bb=_0x41647c[_0x551026],_0x307632=_0x27c18b[_0x551026],_0x3c0e2f=_0x4754bb+'\x20*'+_0x307632+_0x4900e4(0x11e)+('üí∏\x20Amount:\x20*'+_0x5b3249[_0x4900e4(0x160)]+_0x4900e4(0x183))+(_0x4900e4(0x102)+_0x5b3249['method']+'`\x0a')+(_0x4900e4(0x11a)+_0x5b3249['id']+'`\x0a')+(_0x4900e4(0x144)+new Date(_0x5b3249[_0x4900e4(0x12b)])[_0x4900e4(0xe3)]('en-US')+'\x0a')+(_0x5b3249[_0x4900e4(0x103)]?_0x4900e4(0x11c)+_0x5b3249[_0x4900e4(0x103)]+'`':'');await this[_0x4900e4(0xdd)](_0xfc25a7,_0x3c0e2f,{'parse_mode':_0x4900e4(0xe1)});}async[a49_0x481c80(0x121)](_0x3f9cc2,_0x1ceec5){const _0x469532=a49_0x481c80;try{const _0x5b8afc=await database_1[_0x469532(0xc0)]['shopSettings'][_0x469532(0xd1)]({'where':{'shopId':_0x3f9cc2},'select':{'notificationLogin':!![]}});if(!_0x5b8afc?.[_0x469532(0x165)]){console[_0x469532(0xda)]('üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20'+_0x3f9cc2);return;}const _0x4dae57=_0x1ceec5['success']?'üîê':'üö®',_0x3d0ab8=_0x1ceec5['success']?_0x469532(0xd9):'Failed\x20login\x20attempt';let _0x338618=_0x4dae57+'\x20*'+_0x3d0ab8+_0x469532(0x11e)+(_0x469532(0x189)+_0x1ceec5[_0x469532(0x10a)]+'`\x0a')+(_0x469532(0x17b)+_0x1ceec5[_0x469532(0x147)][_0x469532(0xe3)](_0x469532(0x10b))+'\x0a');_0x1ceec5[_0x469532(0x1a8)]&&(_0x338618+=_0x469532(0x1a0)+_0x1ceec5[_0x469532(0x1a8)]+'`\x0a');if(_0x1ceec5[_0x469532(0xf6)]){const _0xf5521c=_0x1ceec5[_0x469532(0xf6)][_0x469532(0x171)]>0x32?_0x1ceec5[_0x469532(0xf6)]['substring'](0x0,0x32)+_0x469532(0x115):_0x1ceec5[_0x469532(0xf6)];_0x338618+=_0x469532(0x1a7)+_0xf5521c+'`\x0a';}!_0x1ceec5[_0x469532(0x101)]&&(_0x338618+='\x0a‚ö†Ô∏è\x20If\x20this\x20wasn\x27t\x20you,\x20change\x20your\x20password\x20immediately!'),await this[_0x469532(0xdd)](_0x3f9cc2,_0x338618,{'parse_mode':_0x469532(0xe1)}),console[_0x469532(0xda)](_0x469532(0x1a3)+_0x3f9cc2+':\x20'+(_0x1ceec5[_0x469532(0x101)]?'success':_0x469532(0x155)));}catch(_0x273c74){console[_0x469532(0xe0)](_0x469532(0xc4),_0x273c74);}}async[a49_0x481c80(0xc1)](_0x3b7597,_0x2216e5){const _0x332b07=a49_0x481c80;try{const _0x1fa9be=await database_1[_0x332b07(0xc0)][_0x332b07(0xde)][_0x332b07(0xd1)]({'where':{'shopId':_0x3b7597},'select':{'notificationApiError':!![]}});if(!_0x1fa9be?.[_0x332b07(0x14d)]){console['log'](_0x332b07(0x166)+_0x3b7597);return;}let _0x4e119a=_0x332b07(0x182)+(_0x332b07(0x122)+_0x2216e5[_0x332b07(0xd4)]+'\x20'+_0x2216e5[_0x332b07(0xe4)]+'`\x0a')+(_0x332b07(0x17b)+_0x2216e5[_0x332b07(0x147)][_0x332b07(0xe3)](_0x332b07(0x10b))+'\x0a');_0x2216e5[_0x332b07(0x111)]&&(_0x4e119a+='üìä\x20Error\x20code:\x20`'+_0x2216e5[_0x332b07(0x111)]+'`\x0a'),_0x4e119a+='‚ùå\x20Error:\x20`'+_0x2216e5[_0x332b07(0xf8)]+'`\x0a',_0x2216e5[_0x332b07(0x100)]&&(_0x4e119a+=_0x332b07(0xfc)+_0x2216e5['requestId']+'`\x0a'),_0x4e119a+='\x0aüí°\x20Check\x20your\x20request\x20or\x20contact\x20support.',await this['sendShopNotification'](_0x3b7597,_0x4e119a,{'parse_mode':'Markdown'}),console[_0x332b07(0xda)]('‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20'+_0x3b7597+':\x20'+_0x2216e5[_0x332b07(0xe4)]);}catch(_0x3615d7){console[_0x332b07(0xe0)](_0x332b07(0xf2),_0x3615d7);}}async[a49_0x481c80(0xec)](_0x4f255a,_0x25cb54,_0x265ec2){const _0x5005cc=a49_0x481c80;let _0x228ec9=_0x5005cc(0x194)+_0x25cb54+'*\x0a\x0a';for(const [_0x2ce904,_0x34deb0]of Object[_0x5005cc(0x167)](_0x265ec2)){_0x34deb0!==null&&_0x34deb0!==undefined&&(_0x228ec9+=_0x2ce904+_0x5005cc(0x114)+_0x34deb0+'`\x0a');}await this[_0x5005cc(0xdd)](_0x4f255a,_0x228ec9,{'parse_mode':_0x5005cc(0xe1)});}[a49_0x481c80(0xb7)](){const _0x3f88d=a49_0x481c80;return{'isActive':!!this[_0x3f88d(0x177)],'username':this[_0x3f88d(0x185)]};}['stopBot'](){const _0x1c36fc=a49_0x481c80;this['bot']&&(this[_0x1c36fc(0x177)]['stopPolling'](),this['bot']=null,console[_0x1c36fc(0xda)](_0x1c36fc(0x138)));}}exports[a49_0x481c80(0xcc)]=TelegramBotService,exports[a49_0x481c80(0x19d)]=new TelegramBotService();