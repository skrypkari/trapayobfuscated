'use strict';const a49_0x404144=a49_0x5086;(function(_0x4fa43e,_0x56e4b3){const _0x57dd08=a49_0x5086,_0x33ecfb=_0x4fa43e();while(!![]){try{const _0x59b81f=-parseInt(_0x57dd08(0x164))/0x1*(parseInt(_0x57dd08(0xd8))/0x2)+parseInt(_0x57dd08(0x10f))/0x3+-parseInt(_0x57dd08(0xf8))/0x4*(parseInt(_0x57dd08(0xa8))/0x5)+parseInt(_0x57dd08(0x13b))/0x6*(parseInt(_0x57dd08(0xd4))/0x7)+-parseInt(_0x57dd08(0x88))/0x8+parseInt(_0x57dd08(0xc8))/0x9*(parseInt(_0x57dd08(0xf6))/0xa)+-parseInt(_0x57dd08(0x125))/0xb*(parseInt(_0x57dd08(0x17d))/0xc);if(_0x59b81f===_0x56e4b3)break;else _0x33ecfb['push'](_0x33ecfb['shift']());}catch(_0x3f67b6){_0x33ecfb['push'](_0x33ecfb['shift']());}}}(a49_0x1b1e,0x92ae2));function a49_0x1b1e(){const _0x4b193d=['1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a','üîî\x20*','gateway','Failed\x20to\x20send\x20API\x20error\x20notification:','userAgent','text','Failed\x20to\x20send\x20login\x20notification:','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','TelegramBotService',':\x20apiKey=\x22','.\x20*','txid','üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20','Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).','Error\x20handling\x20/debug\x20command:','\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.','botUsername','üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a','\x20verified\x20for\x20shop\x20','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','chargeback',':\x20username=\x22','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','*.\x0a\x0a','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','üìÖ\x20–î–∞—Ç–∞:\x20','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','9rEikQs','toString','‚úÖ\x20Telegram\x20bot\x20@','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','env','\x22,\x20apiKey=\x22','endpoint','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','Markdown','üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','üë§\x20Username:\x20`','279426ivcbfq','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','../config/database','–ö–æ–º–∞–Ω–¥—ã:\x0a','4mqGuMt','requestId','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','shopSettings','toLocaleString','Error\x20handling\x20/start\x20command:','TELEGRAM_BOT_TOKEN','findUnique','\x20disconnected\x20from\x20shop\x20','–ü—Ä–∏–º–µ—Ä:\x0a','telegramId','`\x0a\x0a','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','üìÖ\x20–í—Ä–µ–º—è:\x20','__esModule','2Ô∏è‚É£\x20API\x20–∫–ª—é—á','–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','User\x20','...','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','üÜî\x20Request\x20ID:\x20`','sendPaymentNotification','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a','notificationApiError','üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20','createdAt','method','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','1Ô∏è‚É£\x20Username\x0a','8872910MuGerO','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.','7716ZfslTk','chat','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.','chargebackAmount','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20',':\x20`','length','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','filter','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','log','getBotInfo','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','üì±\x20Created\x20new\x20Telegram\x20user:\x20','`.\x0a\x0a','sendApiErrorNotification','error','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','3310467tqrgZV','amount','Error\x20handling\x20message:','`\x20(','first_name','toLocaleDateString','pk_','secretKey','currency','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','handleMultilineVerification','node-telegram-bot-api','entries','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','Error\x20in\x20handleApiKeyVerification:','findMany','trim','sendCustomNotification','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','findFirst','5256757Frjrkh','–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É','adminNotes','name','–ú–∞–≥–∞–∑–∏–Ω:\x20*','\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!','üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`','update','notificationLogin','‚úÖ\x20Username\x20`','__importDefault','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','create','sendShopNotification','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a','initializeBot','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a','Error\x20in\x20handleUsernameVerification:','108AGjpTE','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','username','startsWith','setupBotHandlers','ru-RU','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','statusCode','\x20with\x20shop\x20','sendMessage','bot','polling_error','üõë\x20Telegram\x20bot\x20stopped','...`\x0a\x0a','failed','message','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','...\x22','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','Telegram\x20bot\x20error:','\x20via\x20multiline\x20input','‚ùå\x20–û—à–∏–±–∫–∞:\x20`','botToken','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!','üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`','includes','üîå\x20User\x20','user\x20is\x20deactivated','onText','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','\x20\x20\x20Status:\x20','\x20\x20\x20Username:\x20`','üìù\x20Order\x20ID:\x20`','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','‚úÖ\x20Telegram\x20user\x20','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','telegramUser','265451GiUncu','üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*','timestamp','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a','success','last_name','sendPayoutNotification','map','status','ipAddress','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','*\x0a\x0a','stopBot','üí∏\x20–°—É–º–º–∞:\x20*','sk_','isVerified','üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','TELEGRAM_BOT_USERNAME','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','shop','forEach','12YAnYKA','‚Ä¢\x20`','Error\x20in\x20handleMultilineVerification:','4337856fzrdjK','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','handleApiKeyVerification','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','Error\x20handling\x20/status\x20command:','allSettled','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','shopId','test','\x20initialized\x20successfully','Error\x20sending\x20shop\x20notification:','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','üí∞\x20–°—É–º–º–∞:\x20*','üîó\x20Endpoint:\x20`','publicKey','–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a','`appple`\x0a','telegramBotService','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','from','default','substring','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','üè¶\x20–ú–µ—Ç–æ–¥:\x20`','üè™\x20–®–ª—é–∑:\x20`','blocked','1445UVJXDw','split'];a49_0x1b1e=function(){return _0x4b193d;};return a49_0x1b1e();}var __importDefault=this&&this[a49_0x404144(0x12f)]||function(_0x52a866){const _0x25675d=a49_0x404144;return _0x52a866&&_0x52a866[_0x25675d(0xe7)]?_0x52a866:{'default':_0x52a866};};Object['defineProperty'](exports,a49_0x404144(0xe7),{'value':!![]}),exports['telegramBotService']=exports['TelegramBotService']=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x404144(0x11c))),database_1=__importDefault(require(a49_0x404144(0xd6)));class TelegramBotService{constructor(){const _0x58036d=a49_0x404144;this['bot']=null,this['botToken']=process['env'][_0x58036d(0xdf)]||'',this[_0x58036d(0xbb)]=process[_0x58036d(0xcc)][_0x58036d(0x179)]||'trapay_bot',this[_0x58036d(0x154)]?this['initializeBot']():console['warn']('TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables');}[a49_0x404144(0x138)](){const _0xcc57ff=a49_0x404144;try{this[_0xcc57ff(0x146)]=new node_telegram_bot_api_1[(_0xcc57ff(0xa2))](this['botToken'],{'polling':!![]}),this[_0xcc57ff(0x13f)](),console['log'](_0xcc57ff(0xca)+this[_0xcc57ff(0xbb)]+_0xcc57ff(0x94));}catch(_0x70ab80){console[_0xcc57ff(0x109)](_0xcc57ff(0x8b),_0x70ab80);}}[a49_0x404144(0x13f)](){const _0x5741bb=a49_0x404144;if(!this[_0x5741bb(0x146)])return;this[_0x5741bb(0x146)][_0x5741bb(0x15b)](/\/start/,async _0x4e6bc4=>{const _0xa02fdc=_0x5741bb,_0x40ddea=_0x4e6bc4[_0xa02fdc(0xf9)]['id'],_0x239e25=_0x4e6bc4[_0xa02fdc(0xa1)]?.['id'][_0xa02fdc(0xc9)](),_0x59587a=_0x4e6bc4[_0xa02fdc(0xa1)]?.[_0xa02fdc(0x13d)],_0x4a0dee=_0x4e6bc4[_0xa02fdc(0xa1)]?.[_0xa02fdc(0x113)],_0x2e06fe=_0x4e6bc4[_0xa02fdc(0xa1)]?.[_0xa02fdc(0x169)];if(!_0x239e25)return;try{let _0x5bb27a=await database_1[_0xa02fdc(0xa2)]['telegramUser'][_0xa02fdc(0xe0)]({'where':{'telegramId':_0x239e25},'include':{'shop':!![]}});!_0x5bb27a?(_0x5bb27a=await database_1[_0xa02fdc(0xa2)][_0xa02fdc(0x163)][_0xa02fdc(0x133)]({'data':{'telegramId':_0x239e25,'username':_0x59587a,'firstName':_0x4a0dee,'lastName':_0x2e06fe,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0xa02fdc(0x103)](_0xa02fdc(0x106)+_0x239e25+'\x20(@'+_0x59587a+')')):_0x5bb27a=await database_1[_0xa02fdc(0xa2)]['telegramUser']['update']({'where':{'telegramId':_0x239e25},'data':{'username':_0x59587a,'firstName':_0x4a0dee,'lastName':_0x2e06fe},'include':{'shop':!![]}}),_0x5bb27a[_0xa02fdc(0x175)]&&_0x5bb27a[_0xa02fdc(0x92)]&&_0x5bb27a[_0xa02fdc(0x17b)]?await this['bot']?.[_0xa02fdc(0x145)](_0x40ddea,_0xa02fdc(0x135)+(_0xa02fdc(0xc4)+_0x5bb27a[_0xa02fdc(0x17b)][_0xa02fdc(0x128)]+'*\x0a')+('Username:\x20`'+_0x5bb27a[_0xa02fdc(0x17b)]['username']+'`\x0a\x0a')+_0xa02fdc(0x118)+_0xa02fdc(0xcf)+_0xa02fdc(0x14e)+_0xa02fdc(0x137)+_0xa02fdc(0xd7)+_0xa02fdc(0x162)+_0xa02fdc(0x8a),{'parse_mode':'Markdown'}):(_0x5bb27a[_0xa02fdc(0x92)]&&!_0x5bb27a[_0xa02fdc(0x175)]&&(await database_1[_0xa02fdc(0xa2)][_0xa02fdc(0x163)][_0xa02fdc(0x12c)]({'where':{'telegramId':_0x239e25},'data':{'shopId':null,'isVerified':![]}}),console['log'](_0xa02fdc(0xec)+_0x239e25)),await this[_0xa02fdc(0x146)]?.[_0xa02fdc(0x145)](_0x40ddea,_0xa02fdc(0x142)+_0xa02fdc(0x9b)+_0xa02fdc(0x131)+_0xa02fdc(0xd2)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a'+'–ü—Ä–∏–º–µ—Ä:\x0a'+_0xa02fdc(0x9c)+_0xa02fdc(0x141)+_0xa02fdc(0x156),{'parse_mode':_0xa02fdc(0xd0)}));}catch(_0x4990d3){console[_0xa02fdc(0x109)](_0xa02fdc(0xde),_0x4990d3),await this[_0xa02fdc(0x146)]?.[_0xa02fdc(0x145)](_0x40ddea,_0xa02fdc(0x10e));}}),this[_0x5741bb(0x146)]['onText'](/\/disconnect/,async _0x2c92ba=>{const _0x5b6e0f=_0x5741bb,_0xe5c4e8=_0x2c92ba[_0x5b6e0f(0xf9)]['id'],_0x14a3d5=_0x2c92ba[_0x5b6e0f(0xa1)]?.['id'][_0x5b6e0f(0xc9)]();if(!_0x14a3d5)return;try{const _0x3d37bc=await database_1[_0x5b6e0f(0xa2)][_0x5b6e0f(0x163)]['findUnique']({'where':{'telegramId':_0x14a3d5},'include':{'shop':!![]}});if(!_0x3d37bc||!_0x3d37bc[_0x5b6e0f(0x175)]||!_0x3d37bc[_0x5b6e0f(0x92)]){await this[_0x5b6e0f(0x146)]?.[_0x5b6e0f(0x145)](_0xe5c4e8,'‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.');return;}const _0x525c92=_0x3d37bc[_0x5b6e0f(0x17b)]?.[_0x5b6e0f(0x128)]||'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω';await database_1[_0x5b6e0f(0xa2)][_0x5b6e0f(0x163)][_0x5b6e0f(0x12c)]({'where':{'telegramId':_0x14a3d5},'data':{'shopId':null,'isVerified':![]}}),console['log'](_0x5b6e0f(0x159)+_0x14a3d5+_0x5b6e0f(0xe1)+_0x3d37bc[_0x5b6e0f(0x92)]),await this['bot']?.[_0x5b6e0f(0x145)](_0xe5c4e8,_0x5b6e0f(0xa4)+_0x525c92+_0x5b6e0f(0xc2)+_0x5b6e0f(0xdb),{'parse_mode':'Markdown'});}catch(_0x3eea85){console[_0x5b6e0f(0x109)]('Error\x20handling\x20/disconnect\x20command:',_0x3eea85),await this[_0x5b6e0f(0x146)]?.[_0x5b6e0f(0x145)](_0xe5c4e8,_0x5b6e0f(0x10e));}}),this[_0x5741bb(0x146)]['onText'](/\/status/,async _0x18cec2=>{const _0xcfadde=_0x5741bb,_0x3f600c=_0x18cec2['chat']['id'],_0x6f6116=_0x18cec2['from']?.['id']['toString']();if(!_0x6f6116)return;try{const _0xae97a3=await database_1[_0xcfadde(0xa2)][_0xcfadde(0x163)]['findUnique']({'where':{'telegramId':_0x6f6116},'include':{'shop':!![]}});if(!_0xae97a3){await this['bot']?.[_0xcfadde(0x145)](_0x3f600c,'‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a'+_0xcfadde(0xfa));return;}if(!_0xae97a3[_0xcfadde(0x175)]||!_0xae97a3['shopId']||!_0xae97a3[_0xcfadde(0x17b)]){await this[_0xcfadde(0x146)]?.[_0xcfadde(0x145)](_0x3f600c,_0xcfadde(0x13c)+_0xcfadde(0x105));return;}await this['bot']?.['sendMessage'](_0x3f600c,_0xcfadde(0xc6)+('‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*'+_0xae97a3[_0xcfadde(0x17b)][_0xcfadde(0x128)]+'*\x0a')+(_0xcfadde(0xd3)+_0xae97a3[_0xcfadde(0x17b)]['username']+'`\x0a')+(_0xcfadde(0xd1)+_0xae97a3['updatedAt'][_0xcfadde(0x114)](_0xcfadde(0x140))+'\x0a\x0a')+_0xcfadde(0xbc)+_0xcfadde(0xd7)+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0xcfadde(0xd0)});}catch(_0x46bb93){console[_0xcfadde(0x109)](_0xcfadde(0x8f),_0x46bb93),await this[_0xcfadde(0x146)]?.[_0xcfadde(0x145)](_0x3f600c,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this['bot']['onText'](/\/debug/,async _0x40d100=>{const _0x28de71=_0x5741bb,_0x2294f2=_0x40d100[_0x28de71(0xf9)]['id'],_0x54cd94=_0x40d100[_0x28de71(0xa1)]?.['id']['toString']();if(!_0x54cd94)return;try{const _0x3473ea=await database_1['default'][_0x28de71(0x17b)][_0x28de71(0x120)]({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x469a7d='üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a';_0x469a7d+='üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`'+_0x54cd94+_0x28de71(0xe4),_0x469a7d+='üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a',_0x3473ea[_0x28de71(0x17c)]((_0x3ff868,_0x4ee8ce)=>{const _0xe729d6=_0x28de71;_0x469a7d+=_0x4ee8ce+0x1+_0xe729d6(0xb5)+_0x3ff868['name']+'*\x0a',_0x469a7d+=_0xe729d6(0x15e)+_0x3ff868[_0xe729d6(0x13d)]+'`\x0a',_0x469a7d+=_0xe729d6(0x15d)+_0x3ff868[_0xe729d6(0x16c)]+'\x0a',_0x469a7d+='\x20\x20\x20Public\x20Key:\x20`'+_0x3ff868[_0xe729d6(0x9a)][_0xe729d6(0xa3)](0x0,0xf)+_0xe729d6(0x149);}),await this[_0x28de71(0x146)]?.[_0x28de71(0x145)](_0x2294f2,_0x469a7d,{'parse_mode':'Markdown'});}catch(_0x4feead){console[_0x28de71(0x109)](_0x28de71(0xb9),_0x4feead),await this['bot']?.[_0x28de71(0x145)](_0x2294f2,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.');}}),this[_0x5741bb(0x146)]['on'](_0x5741bb(0x14b),async _0x255350=>{const _0x281299=_0x5741bb;if(_0x255350['text']?.[_0x281299(0x13e)]('/'))return;const _0x5ce065=_0x255350[_0x281299(0xf9)]['id'],_0x41f626=_0x255350[_0x281299(0xa1)]?.['id'][_0x281299(0xc9)](),_0x188cec=_0x255350[_0x281299(0xaf)]?.['trim']();if(!_0x41f626||!_0x188cec)return;try{const _0x35f348=await database_1[_0x281299(0xa2)][_0x281299(0x163)][_0x281299(0xe0)]({'where':{'telegramId':_0x41f626},'include':{'shop':!![]}});if(!_0x35f348){await this[_0x281299(0x146)]?.[_0x281299(0x145)](_0x5ce065,_0x281299(0x17a));return;}if(_0x35f348[_0x281299(0x175)]&&_0x35f348[_0x281299(0x92)]&&_0x35f348[_0x281299(0x17b)]){await this[_0x281299(0x146)]?.[_0x281299(0x145)](_0x5ce065,_0x281299(0xd5)+_0x35f348[_0x281299(0x17b)][_0x281299(0x128)]+_0x281299(0xc2)+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.',{'parse_mode':_0x281299(0xd0)});return;}const _0x15db17=_0x188cec[_0x281299(0xa9)]('\x0a')['map'](_0x1e1946=>_0x1e1946[_0x281299(0x121)]())[_0x281299(0x101)](_0xc23e5b=>_0xc23e5b[_0x281299(0xff)]>0x0);if(_0x15db17[_0x281299(0xff)]===0x2){const [_0x49c453,_0x14d728]=_0x15db17;await this[_0x281299(0x11b)](_0x5ce065,_0x41f626,_0x49c453,_0x14d728);}else{if(_0x15db17[_0x281299(0xff)]===0x1){const _0x2f928e=_0x15db17[0x0];if(_0x2f928e[_0x281299(0xff)]>=0x3&&_0x2f928e[_0x281299(0xff)]<=0x32&&/^[a-zA-Z0-9_]+$/[_0x281299(0x93)](_0x2f928e))await this['handleUsernameVerification'](_0x5ce065,_0x41f626,_0x2f928e);else _0x2f928e[_0x281299(0x13e)](_0x281299(0x115))||_0x2f928e[_0x281299(0x13e)]('sk_')?await this['handleApiKeyVerification'](_0x5ce065,_0x41f626,_0x2f928e):await this[_0x281299(0x146)]?.[_0x281299(0x145)](_0x5ce065,_0x281299(0x89)+'–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a'+_0x281299(0xaa)+_0x281299(0x100)+_0x281299(0x139)+_0x281299(0x9c)+_0x281299(0x150),{'parse_mode':_0x281299(0xd0)});}else await this[_0x281299(0x146)]?.[_0x281299(0x145)](_0x5ce065,_0x281299(0x89)+_0x281299(0x167)+_0x281299(0xe2)+_0x281299(0x9c)+_0x281299(0x150),{'parse_mode':'Markdown'});}}catch(_0x5255b8){console[_0x281299(0x109)](_0x281299(0x111),_0x5255b8),await this[_0x281299(0x146)]?.[_0x281299(0x145)](_0x5ce065,_0x281299(0x10e));}}),this[_0x5741bb(0x146)]['on'](_0x5741bb(0x109),_0x385276=>{const _0x2430bc=_0x5741bb;console['error'](_0x2430bc(0x151),_0x385276);}),this['bot']['on'](_0x5741bb(0x147),_0xe4c645=>{const _0x3342e8=_0x5741bb;console[_0x3342e8(0x109)]('Telegram\x20bot\x20polling\x20error:',_0xe4c645);});}async[a49_0x404144(0x11b)](_0x21db14,_0x5cc87e,_0x4dd434,_0x1ef801){const _0x9ea34c=a49_0x404144;try{console[_0x9ea34c(0x103)](_0x9ea34c(0x176)+_0x5cc87e+_0x9ea34c(0xc0)+_0x4dd434+_0x9ea34c(0xcd)+_0x1ef801[_0x9ea34c(0xa3)](0x0,0xa)+_0x9ea34c(0x14f));if(!_0x4dd434||_0x4dd434['length']<0x3||_0x4dd434[_0x9ea34c(0xff)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x9ea34c(0x93)](_0x4dd434)){await this[_0x9ea34c(0x146)]?.[_0x9ea34c(0x145)](_0x21db14,_0x9ea34c(0x10b)+_0x4dd434+_0x9ea34c(0xe4)+_0x9ea34c(0xb8),{'parse_mode':_0x9ea34c(0xd0)});return;}if(!_0x1ef801||!_0x1ef801[_0x9ea34c(0x13e)](_0x9ea34c(0x115))&&!_0x1ef801[_0x9ea34c(0x13e)](_0x9ea34c(0x174))){await this['bot']?.[_0x9ea34c(0x145)](_0x21db14,_0x9ea34c(0xef)+'API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.',{'parse_mode':_0x9ea34c(0xd0)});return;}const _0x3b39c9=await database_1['default'][_0x9ea34c(0x17b)][_0x9ea34c(0xe0)]({'where':{'username':_0x4dd434},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x3b39c9){const _0x59e1ab=await database_1['default'][_0x9ea34c(0x17b)][_0x9ea34c(0x120)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x5ca9d0='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x4dd434+_0x9ea34c(0x10d);_0x59e1ab['length']>0x0?(_0x5ca9d0+=_0x9ea34c(0x132),_0x59e1ab['forEach'](_0x4e034e=>{const _0x50992e=_0x9ea34c;_0x5ca9d0+=_0x50992e(0x17e)+_0x4e034e[_0x50992e(0x13d)]+_0x50992e(0x112)+_0x4e034e['name']+')\x0a';}),_0x5ca9d0+='\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.'):_0x5ca9d0+=_0x9ea34c(0xda);await this[_0x9ea34c(0x146)]?.[_0x9ea34c(0x145)](_0x21db14,_0x5ca9d0,{'parse_mode':_0x9ea34c(0xd0)});return;}if(_0x3b39c9['status']!=='ACTIVE'){await this[_0x9ea34c(0x146)]?.[_0x9ea34c(0x145)](_0x21db14,_0x9ea34c(0x16e)+_0x4dd434+_0x9ea34c(0x119)+_0x9ea34c(0x11e),{'parse_mode':'Markdown'});return;}if(_0x3b39c9[_0x9ea34c(0x9a)]!==_0x1ef801&&_0x3b39c9[_0x9ea34c(0x116)]!==_0x1ef801){await this[_0x9ea34c(0x146)]?.['sendMessage'](_0x21db14,_0x9ea34c(0xc3)+_0x4dd434+_0x9ea34c(0x107)+_0x9ea34c(0x16f)+_0x9ea34c(0xfc),{'parse_mode':_0x9ea34c(0xd0)});return;}const _0x39c762=await database_1[_0x9ea34c(0xa2)][_0x9ea34c(0x163)][_0x9ea34c(0x124)]({'where':{'shopId':_0x3b39c9['id'],'isVerified':!![],'telegramId':{'not':_0x5cc87e}}});if(_0x39c762){await this['bot']?.[_0x9ea34c(0x145)](_0x21db14,'‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`'+_0x4dd434+_0x9ea34c(0x102)+_0x9ea34c(0xb2),{'parse_mode':_0x9ea34c(0xd0)});return;}await database_1[_0x9ea34c(0xa2)][_0x9ea34c(0x163)]['update']({'where':{'telegramId':_0x5cc87e},'data':{'shopId':_0x3b39c9['id'],'isVerified':!![]}}),await this[_0x9ea34c(0x146)]?.[_0x9ea34c(0x145)](_0x21db14,_0x9ea34c(0xc1)+_0x9ea34c(0x8d)+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x3b39c9[_0x9ea34c(0x128)]+'*\x0a')+('üë§\x20Username:\x20`'+_0x3b39c9[_0x9ea34c(0x13d)]+_0x9ea34c(0xe4))+_0x9ea34c(0x96)+_0x9ea34c(0xcf)+_0x9ea34c(0x14e)+_0x9ea34c(0x178)+_0x9ea34c(0x155)+_0x9ea34c(0xd7)+_0x9ea34c(0x162)+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0x9ea34c(0xd0)}),console['log'](_0x9ea34c(0x161)+_0x5cc87e+_0x9ea34c(0xbd)+_0x3b39c9[_0x9ea34c(0x13d)]+_0x9ea34c(0x152));}catch(_0xf5704d){console[_0x9ea34c(0x109)](_0x9ea34c(0x17f),_0xf5704d),await this[_0x9ea34c(0x146)]?.[_0x9ea34c(0x145)](_0x21db14,_0x9ea34c(0x14c));}}async['handleUsernameVerification'](_0x4bb2a8,_0x274ea0,_0xe2c7bf){const _0x297a8e=a49_0x404144;try{console['log']('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x274ea0+_0x297a8e(0xc0)+_0xe2c7bf+'\x22');const _0xb8f7ba=await database_1[_0x297a8e(0xa2)]['shop'][_0x297a8e(0xe0)]({'where':{'username':_0xe2c7bf},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0xb8f7ba){const _0x385946=await database_1['default'][_0x297a8e(0x17b)][_0x297a8e(0x120)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x3bfad2=_0x297a8e(0xb1)+_0xe2c7bf+'`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a';_0x385946[_0x297a8e(0xff)]>0x0?(_0x3bfad2+=_0x297a8e(0x132),_0x385946[_0x297a8e(0x17c)](_0x5e8393=>{const _0x467e91=_0x297a8e;_0x3bfad2+='‚Ä¢\x20`'+_0x5e8393[_0x467e91(0x13d)]+_0x467e91(0x112)+_0x5e8393['name']+')\x0a';}),_0x3bfad2+=_0x297a8e(0x11a)):_0x3bfad2+=_0x297a8e(0xda);await this[_0x297a8e(0x146)]?.[_0x297a8e(0x145)](_0x4bb2a8,_0x3bfad2,{'parse_mode':_0x297a8e(0xd0)});return;}if(_0xb8f7ba[_0x297a8e(0x16c)]!=='ACTIVE'){await this['bot']?.[_0x297a8e(0x145)](_0x4bb2a8,_0x297a8e(0x16e)+_0xe2c7bf+_0x297a8e(0x119)+'–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':_0x297a8e(0xd0)});return;}await database_1['default'][_0x297a8e(0x163)][_0x297a8e(0x12c)]({'where':{'telegramId':_0x274ea0},'data':{'shopId':_0xb8f7ba['id'],'isVerified':![]}}),await this[_0x297a8e(0x146)]?.[_0x297a8e(0x145)](_0x4bb2a8,_0x297a8e(0x12e)+_0xe2c7bf+'`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a'+(_0x297a8e(0x129)+_0xb8f7ba[_0x297a8e(0x128)]+_0x297a8e(0x171))+_0x297a8e(0x130),{'parse_mode':_0x297a8e(0xd0)}),console[_0x297a8e(0x103)]('üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20'+_0x274ea0+_0x297a8e(0x144)+_0xb8f7ba[_0x297a8e(0x13d)]);}catch(_0x12ff12){console[_0x297a8e(0x109)](_0x297a8e(0x13a),_0x12ff12),await this[_0x297a8e(0x146)]?.[_0x297a8e(0x145)](_0x4bb2a8,_0x297a8e(0x9e));}}async[a49_0x404144(0x8c)](_0x347fe9,_0x54bf14,_0x228007){const _0x5d1f23=a49_0x404144;try{console['log'](_0x5d1f23(0xb7)+_0x54bf14+_0x5d1f23(0xb4)+_0x228007['substring'](0x0,0xa)+_0x5d1f23(0x14f));const _0xf0856c=await database_1[_0x5d1f23(0xa2)][_0x5d1f23(0x163)][_0x5d1f23(0xe0)]({'where':{'telegramId':_0x54bf14},'include':{'shop':!![]}});if(!_0xf0856c?.[_0x5d1f23(0x92)]){await this[_0x5d1f23(0x146)]?.[_0x5d1f23(0x145)](_0x347fe9,'‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a'+'–ü–æ—Ä—è–¥–æ–∫:\x0a'+_0x5d1f23(0xf5)+_0x5d1f23(0xe8));return;}if(_0xf0856c[_0x5d1f23(0x175)]){await this[_0x5d1f23(0x146)]?.[_0x5d1f23(0x145)](_0x347fe9,'‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*'+(_0xf0856c['shop']?.[_0x5d1f23(0x128)]||_0x5d1f23(0x177))+'*.\x0a\x0a'+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.',{'parse_mode':'Markdown'});return;}const _0x55760d=await database_1[_0x5d1f23(0xa2)][_0x5d1f23(0x17b)]['findFirst']({'where':{'id':_0xf0856c[_0x5d1f23(0x92)],'OR':[{'publicKey':_0x228007},{'secretKey':_0x228007}]}});if(!_0x55760d){await this['bot']?.[_0x5d1f23(0x145)](_0x347fe9,_0x5d1f23(0xf4)+_0x5d1f23(0x10a)+'–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`',{'parse_mode':_0x5d1f23(0xd0)}),await database_1['default'][_0x5d1f23(0x163)][_0x5d1f23(0x12c)]({'where':{'telegramId':_0x54bf14},'data':{'shopId':null,'isVerified':![]}}),console[_0x5d1f23(0x103)](_0x5d1f23(0xfd)+_0x54bf14+',\x20reset\x20shop\x20association');return;}const _0x957abb=await database_1[_0x5d1f23(0xa2)][_0x5d1f23(0x163)]['findFirst']({'where':{'shopId':_0x55760d['id'],'isVerified':!![],'telegramId':{'not':_0x54bf14}}});if(_0x957abb){await this[_0x5d1f23(0x146)]?.['sendMessage'](_0x347fe9,_0x5d1f23(0xbe)+_0x55760d[_0x5d1f23(0x13d)]+'`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a'+_0x5d1f23(0xb2),{'parse_mode':_0x5d1f23(0xd0)}),await database_1[_0x5d1f23(0xa2)][_0x5d1f23(0x163)][_0x5d1f23(0x12c)]({'where':{'telegramId':_0x54bf14},'data':{'shopId':null,'isVerified':![]}});return;}await database_1['default'][_0x5d1f23(0x163)][_0x5d1f23(0x12c)]({'where':{'telegramId':_0x54bf14},'data':{'isVerified':!![]}}),await this[_0x5d1f23(0x146)]?.[_0x5d1f23(0x145)](_0x347fe9,_0x5d1f23(0xc1)+_0x5d1f23(0x8d)+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x55760d[_0x5d1f23(0x128)]+'*\x0a')+(_0x5d1f23(0xd3)+_0x55760d[_0x5d1f23(0x13d)]+'`\x0a\x0a')+_0x5d1f23(0x96)+_0x5d1f23(0xcf)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x5d1f23(0x178)+'‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a'+'–ö–æ–º–∞–Ω–¥—ã:\x0a'+_0x5d1f23(0x162)+_0x5d1f23(0x8a),{'parse_mode':_0x5d1f23(0xd0)}),console[_0x5d1f23(0x103)]('‚úÖ\x20Telegram\x20user\x20'+_0x54bf14+_0x5d1f23(0xbd)+_0x55760d[_0x5d1f23(0x13d)]);}catch(_0x298bd8){console['error'](_0x5d1f23(0x11f),_0x298bd8),await this[_0x5d1f23(0x146)]?.[_0x5d1f23(0x145)](_0x347fe9,_0x5d1f23(0xf7));}}async[a49_0x404144(0x134)](_0x92f6ea,_0x1f0b27,_0x2f22e7){const _0x42c091=a49_0x404144;if(!this[_0x42c091(0x146)]){console['warn'](_0x42c091(0xc7));return;}try{const _0x23c597=await database_1['default'][_0x42c091(0x163)][_0x42c091(0x120)]({'where':{'shopId':_0x92f6ea,'isVerified':!![]}});if(_0x23c597[_0x42c091(0xff)]===0x0){console[_0x42c091(0x103)](_0x42c091(0xcb)+_0x92f6ea);return;}const _0x320dd4=_0x23c597[_0x42c091(0x16b)](async _0x2b5356=>{const _0x3c6ad5=_0x42c091;try{await this[_0x3c6ad5(0x146)]?.[_0x3c6ad5(0x145)](_0x2b5356[_0x3c6ad5(0xe3)],_0x1f0b27,_0x2f22e7),console['log'](_0x3c6ad5(0x136)+_0x2b5356['telegramId']);}catch(_0x2e23b7){console[_0x3c6ad5(0x109)](_0x3c6ad5(0xa0)+_0x2b5356[_0x3c6ad5(0xe3)]+':',_0x2e23b7),_0x2e23b7 instanceof Error&&(_0x2e23b7[_0x3c6ad5(0x14b)][_0x3c6ad5(0x158)](_0x3c6ad5(0xa7))||_0x2e23b7[_0x3c6ad5(0x14b)][_0x3c6ad5(0x158)]('chat\x20not\x20found')||_0x2e23b7[_0x3c6ad5(0x14b)][_0x3c6ad5(0x158)](_0x3c6ad5(0x15a)))&&(await database_1['default'][_0x3c6ad5(0x163)]['update']({'where':{'id':_0x2b5356['id']},'data':{'isVerified':![]}}),console[_0x3c6ad5(0x103)](_0x3c6ad5(0xea)+_0x2b5356['telegramId']+_0x3c6ad5(0x160)));}});await Promise[_0x42c091(0x90)](_0x320dd4);}catch(_0x2a9345){console[_0x42c091(0x109)](_0x42c091(0x95),_0x2a9345);}}async[a49_0x404144(0xee)](_0x4eb2a0,_0x1d8367,_0x24e6b5){const _0x39aef4=a49_0x404144,_0x4c951a={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x81b502={'created':'–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','paid':'–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','failed':'–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','expired':_0x39aef4(0x97),'refund':_0x39aef4(0x15c),'chargeback':_0x39aef4(0x126)},_0x19fa0c=_0x4c951a[_0x24e6b5],_0x3f546b=_0x81b502[_0x24e6b5];let _0x309026=_0x19fa0c+'\x20*'+_0x3f546b+_0x39aef4(0x171)+(_0x39aef4(0x98)+_0x1d8367[_0x39aef4(0x110)]+'\x20'+_0x1d8367[_0x39aef4(0x117)]+'*\x0a')+(_0x39aef4(0x15f)+(_0x1d8367['orderId']||_0x1d8367['id'])+'`\x0a')+(_0x39aef4(0x9f)+_0x1d8367['id']+'`\x0a')+(_0x39aef4(0xa6)+_0x1d8367[_0x39aef4(0xac)]['toUpperCase']()+'`\x0a')+(_0x39aef4(0xc5)+new Date(_0x1d8367[_0x39aef4(0xf2)])[_0x39aef4(0xdd)](_0x39aef4(0x140))+'\x0a');_0x24e6b5===_0x39aef4(0xbf)&&_0x1d8367[_0x39aef4(0xfb)]&&(_0x309026+=_0x39aef4(0x165)+_0x1d8367['chargebackAmount']+'\x20USDT*\x0a'),_0x1d8367['adminNotes']&&(_0x309026+=_0x39aef4(0xf1)+_0x1d8367[_0x39aef4(0x127)]+'\x0a'),await this[_0x39aef4(0x134)](_0x4eb2a0,_0x309026,{'parse_mode':_0x39aef4(0xd0)});}async[a49_0x404144(0x16a)](_0x331760,_0x2243f9,_0x31e983){const _0x2b1b28=a49_0x404144,_0x3380ee={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x514d80={'created':_0x2b1b28(0xe9),'completed':_0x2b1b28(0x123),'rejected':'–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞'},_0x46db72=_0x3380ee[_0x31e983],_0x51b799=_0x514d80[_0x31e983],_0x17dad3=_0x46db72+'\x20*'+_0x51b799+_0x2b1b28(0x171)+(_0x2b1b28(0x173)+_0x2243f9[_0x2b1b28(0x110)]+'\x20USD*\x0a')+(_0x2b1b28(0xa5)+_0x2243f9[_0x2b1b28(0xf3)]+'`\x0a')+(_0x2b1b28(0x157)+_0x2243f9['id']+'`\x0a')+(_0x2b1b28(0xc5)+new Date(_0x2243f9[_0x2b1b28(0xf2)])[_0x2b1b28(0xdd)](_0x2b1b28(0x140))+'\x0a')+(_0x2243f9[_0x2b1b28(0xb6)]?'üîó\x20TXID:\x20`'+_0x2243f9['txid']+'`':'');await this['sendShopNotification'](_0x331760,_0x17dad3,{'parse_mode':_0x2b1b28(0xd0)});}async['sendLoginNotification'](_0x16d6fd,_0x17ef3f){const _0x5b22bd=a49_0x404144;try{const _0x2f0ca5=await database_1['default'][_0x5b22bd(0xdc)][_0x5b22bd(0xe0)]({'where':{'shopId':_0x16d6fd},'select':{'notificationLogin':!![]}});if(!_0x2f0ca5?.[_0x5b22bd(0x12d)]){console['log']('üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20'+_0x16d6fd);return;}const _0xce20f2=_0x17ef3f['success']?'üîê':'üö®',_0x157784=_0x17ef3f[_0x5b22bd(0x168)]?_0x5b22bd(0x91):'–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞';let _0x2fdf3d=_0xce20f2+'\x20*'+_0x157784+_0x5b22bd(0x171)+('üë§\x20Username:\x20`'+_0x17ef3f[_0x5b22bd(0x13d)]+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x17ef3f[_0x5b22bd(0x166)][_0x5b22bd(0xdd)](_0x5b22bd(0x140))+'\x0a');_0x17ef3f[_0x5b22bd(0x16d)]&&(_0x2fdf3d+=_0x5b22bd(0x8e)+_0x17ef3f[_0x5b22bd(0x16d)]+'`\x0a');if(_0x17ef3f['userAgent']){const _0x1bdec9=_0x17ef3f[_0x5b22bd(0xae)]['length']>0x32?_0x17ef3f[_0x5b22bd(0xae)][_0x5b22bd(0xa3)](0x0,0x32)+_0x5b22bd(0xeb):_0x17ef3f[_0x5b22bd(0xae)];_0x2fdf3d+=_0x5b22bd(0x12b)+_0x1bdec9+'`\x0a';}!_0x17ef3f[_0x5b22bd(0x168)]&&(_0x2fdf3d+=_0x5b22bd(0x12a)),await this[_0x5b22bd(0x134)](_0x16d6fd,_0x2fdf3d,{'parse_mode':_0x5b22bd(0xd0)}),console['log'](_0x5b22bd(0x10c)+_0x16d6fd+':\x20'+(_0x17ef3f[_0x5b22bd(0x168)]?_0x5b22bd(0x168):_0x5b22bd(0x14a)));}catch(_0x560906){console[_0x5b22bd(0x109)](_0x5b22bd(0xb0),_0x560906);}}async[a49_0x404144(0x108)](_0x1e3e7b,_0x1699a8){const _0x57e447=a49_0x404144;try{const _0x52fb01=await database_1['default'][_0x57e447(0xdc)][_0x57e447(0xe0)]({'where':{'shopId':_0x1e3e7b},'select':{'notificationApiError':!![]}});if(!_0x52fb01?.[_0x57e447(0xf0)]){console[_0x57e447(0x103)](_0x57e447(0xe5)+_0x1e3e7b);return;}let _0x74847d=_0x57e447(0x14d)+(_0x57e447(0x99)+_0x1699a8[_0x57e447(0xf3)]+'\x20'+_0x1699a8['endpoint']+'`\x0a')+(_0x57e447(0xe6)+_0x1699a8[_0x57e447(0x166)][_0x57e447(0xdd)](_0x57e447(0x140))+'\x0a');_0x1699a8[_0x57e447(0x143)]&&(_0x74847d+=_0x57e447(0x170)+_0x1699a8[_0x57e447(0x143)]+'`\x0a'),_0x74847d+=_0x57e447(0x153)+_0x1699a8['errorMessage']+'`\x0a',_0x1699a8[_0x57e447(0xd9)]&&(_0x74847d+=_0x57e447(0xed)+_0x1699a8['requestId']+'`\x0a'),_0x74847d+=_0x57e447(0xba),await this[_0x57e447(0x134)](_0x1e3e7b,_0x74847d,{'parse_mode':_0x57e447(0xd0)}),console['log']('‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20'+_0x1e3e7b+':\x20'+_0x1699a8[_0x57e447(0xce)]);}catch(_0xc35212){console[_0x57e447(0x109)](_0x57e447(0xad),_0xc35212);}}async[a49_0x404144(0x122)](_0x3d8121,_0x1e7190,_0x327a75){const _0x1aa1fe=a49_0x404144;let _0xd9b632=_0x1aa1fe(0xab)+_0x1e7190+_0x1aa1fe(0x171);for(const [_0x4e0e3b,_0x10f878]of Object[_0x1aa1fe(0x11d)](_0x327a75)){_0x10f878!==null&&_0x10f878!==undefined&&(_0xd9b632+=_0x4e0e3b+_0x1aa1fe(0xfe)+_0x10f878+'`\x0a');}await this[_0x1aa1fe(0x134)](_0x3d8121,_0xd9b632,{'parse_mode':'Markdown'});}[a49_0x404144(0x104)](){const _0x22e658=a49_0x404144;return{'isActive':!!this[_0x22e658(0x146)],'username':this[_0x22e658(0xbb)]};}[a49_0x404144(0x172)](){const _0x2af0d7=a49_0x404144;this['bot']&&(this[_0x2af0d7(0x146)]['stopPolling'](),this[_0x2af0d7(0x146)]=null,console['log'](_0x2af0d7(0x148)));}}function a49_0x5086(_0x579b09,_0x5f277a){const _0x1b1e51=a49_0x1b1e();return a49_0x5086=function(_0x5086c2,_0x779476){_0x5086c2=_0x5086c2-0x88;let _0x599c15=_0x1b1e51[_0x5086c2];return _0x599c15;},a49_0x5086(_0x579b09,_0x5f277a);}exports[a49_0x404144(0xb3)]=TelegramBotService,exports[a49_0x404144(0x9d)]=new TelegramBotService();