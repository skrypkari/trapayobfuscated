'use strict';const a49_0x4a83be=a49_0x1d7f;(function(_0x1b0aa3,_0x5635f2){const _0x1dcf39=a49_0x1d7f,_0x5ecaef=_0x1b0aa3();while(!![]){try{const _0x407dda=-parseInt(_0x1dcf39(0x10f))/0x1+-parseInt(_0x1dcf39(0xac))/0x2*(-parseInt(_0x1dcf39(0xf8))/0x3)+-parseInt(_0x1dcf39(0x194))/0x4+parseInt(_0x1dcf39(0xea))/0x5+-parseInt(_0x1dcf39(0xee))/0x6*(parseInt(_0x1dcf39(0x158))/0x7)+-parseInt(_0x1dcf39(0xfb))/0x8+parseInt(_0x1dcf39(0x133))/0x9*(parseInt(_0x1dcf39(0x110))/0xa);if(_0x407dda===_0x5635f2)break;else _0x5ecaef['push'](_0x5ecaef['shift']());}catch(_0x5d0ef0){_0x5ecaef['push'](_0x5ecaef['shift']());}}}(a49_0x3440,0x58e86));function a49_0x1d7f(_0x28914f,_0xd102cf){const _0x344007=a49_0x3440();return a49_0x1d7f=function(_0x1d7f79,_0x128bb1){_0x1d7f79=_0x1d7f79-0xac;let _0x4978fa=_0x344007[_0x1d7f79];return _0x4978fa;},a49_0x1d7f(_0x28914f,_0xd102cf);}var __importDefault=this&&this[a49_0x4a83be(0xf4)]||function(_0x5b80b9){const _0x2af950=a49_0x4a83be;return _0x5b80b9&&_0x5b80b9[_0x2af950(0x106)]?_0x5b80b9:{'default':_0x5b80b9};};Object[a49_0x4a83be(0x16a)](exports,a49_0x4a83be(0x106),{'value':!![]}),exports['telegramBotService']=exports[a49_0x4a83be(0x12c)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x4a83be(0x15c))),database_1=__importDefault(require('../config/database'));function a49_0x3440(){const _0x3f0e63=['ðŸ“\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','Error\x20handling\x20/debug\x20command:','ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ\x20Ðº\x20Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ.','bot','684YUieyY','Error\x20handling\x20message:','Ð§Ð°Ñ€Ð´Ð¶Ð±ÑÐº\x20Ð¿Ð¾\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ñƒ','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','âŒ\x20Ð’Ñ‹\x20Ð½Ðµ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ.\x0a\x0a','ðŸ’¸\x20Ð¡ÑƒÐ¼Ð¼Ð°\x20ÑˆÑ‚Ñ€Ð°Ñ„Ð°:\x20*','ðŸ“…\x20Ð’Ñ€ÐµÐ¼Ñ:\x20','*.\x0a\x0a','sendCustomNotification','...','telegramId','\x22,\x20apiKey=\x22','ðŸ”—\x20TXID:\x20`','text','ðŸŽ‰\x20*ÐŸÐ¾Ð·Ð´Ñ€Ð°Ð²Ð»ÑÐµÐ¼!*\x0a\x0a','ðŸ“±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','filter','Error\x20in\x20handleMultilineVerification:','status','message','âŒ\x20ÐœÐ°Ð³Ð°Ð·Ð¸Ð½\x20`','Failed\x20to\x20send\x20API\x20error\x20notification:','...\x22','ðŸ“…\x20Ð”Ð°Ñ‚Ð°\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ:\x20','method','âŒ\x20ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð°\x20Ð¾ÑˆÐ¸Ð±ÐºÐ°\x20Ð¿Ñ€Ð¸\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ\x20username.','ðŸ”Œ\x20User\x20','update','ACTIVE','sendShopNotification','\x0aÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ\x20Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ\x20Ð¸\x20Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ\x20ÑÐ½Ð¾Ð²Ð°.','/disconnect\x20-\x20Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ\x20Ð¾Ñ‚\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹','handleUsernameVerification','2ï¸âƒ£\x20Ð—Ð°Ñ‚ÐµÐ¼\x20Ð²Ð°Ñˆ\x20API\x20ÐºÐ»ÑŽÑ‡\x20(Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ\x20Ñ\x20pk\x5c_\x20Ð¸Ð»Ð¸\x20sk\x5c_)\x0a\x0a','updatedAt','TELEGRAM_BOT_USERNAME','ðŸ”„\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20','error','findMany','forEach','ðŸ””\x20Ð’Ñ‹\x20Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÑ‚Ðµ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ\x20Ð¾:\x0a','botUsername','txid','requestId','ðŸ””\x20*','toString','ðŸ“±\x20ÐœÐ°Ð³Ð°Ð·Ð¸Ð½:\x20*','Ð”Ð»Ñ\x20Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€Ð½Ð¾Ð³Ð¾\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ\x20Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ\x20ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ\x20/start','âŒ\x20Invalid\x20API\x20key\x20for\x20user\x20','âœ…\x20Ð”Ð¾Ð±Ñ€Ð¾\x20Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ\x20Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾!\x0a\x0a','ðŸ›‘\x20Telegram\x20bot\x20stopped','userAgent','âŒ\x20Ðš\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ\x20`','trim','â€¢\x20Ð’Ð°Ð¶Ð½Ñ‹Ñ…\x20ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…\x0a\x0a','âŒ\x20ÐžÑˆÐ¸Ð±ÐºÐ°:\x20`','Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‚\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°','ÐŸÐ»Ð°Ñ‚ÐµÐ¶\x20ÑƒÑÐ¿ÐµÑˆÐ½Ð¾\x20Ð¾Ð¿Ð»Ð°Ñ‡ÐµÐ½','1ï¸âƒ£\x20Username\x0a','ðŸ””\x20Ð¢ÐµÐ¿ÐµÑ€ÑŒ\x20Ð²Ñ‹\x20Ð±ÑƒÐ´ÐµÑ‚Ðµ\x20Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ\x20Ð¾:\x0a','Markdown','ðŸ’»\x20Ð‘Ñ€Ð°ÑƒÐ·ÐµÑ€:\x20`','985860NwERPn','ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ\x20Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ\x20Ð¸\x20Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ\x20ÑÐ½Ð¾Ð²Ð°.','âŒ\x20Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð°\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ\x20Ð²Ð°Ñˆ\x20username.\x0a\x0a','length','6ipacfY','test','chat\x20not\x20found','statusCode','chat','sk_','__importDefault',':\x20username=\x22','orderId','\x20\x20\x20Username:\x20`','831USUPNg','stopBot','âŒ\x20ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹\x20Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\x20API\x20ÐºÐ»ÑŽÑ‡Ð°.\x0a\x0a','2235280fBPweR','âŒ\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','ðŸ”„\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','TELEGRAM_BOT_TOKEN','ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:\x0a','Failed\x20to\x20send\x20login\x20notification:','âŒ\x20API\x20ÐºÐ»ÑŽÑ‡\x20Ð½Ðµ\x20ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ\x20`','from','âŒ\x20ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð°\x20Ð¾ÑˆÐ¸Ð±ÐºÐ°\x20Ð¿Ñ€Ð¸\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ\x20Ð´Ð°Ð½Ð½Ñ‹Ñ….','ðŸ’°\x20Ð¡ÑƒÐ¼Ð¼Ð°:\x20*','Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð°\x20Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ\x20Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ð¹\x20Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚\x20Ð¸Ð»Ð¸\x20Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ\x20Ðº\x20Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñƒ.','__esModule','default','ðŸ†”\x20ID\x20Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ñ‹:\x20`','ðŸ“±\x20Created\x20new\x20Telegram\x20user:\x20','Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ð¹\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½','ÐŸÑ€Ð¸Ð¼ÐµÑ€:\x0a','âŒ\x20ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð°\x20Ð¾ÑˆÐ¸Ð±ÐºÐ°\x20Ð¿Ñ€Ð¸\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ\x20API\x20ÐºÐ»ÑŽÑ‡Ð°.','â€¢\x20ÐÐ¾Ð²Ñ‹Ñ…\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°Ñ…\x0a','chargebackAmount','703172MpVvDE','680ZrOeJE','ðŸ†”\x20ID\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°:\x20`','errorMessage','\x20(@','.\x20*','endpoint','gateway','ðŸ¤–\x20Ð”Ð¾Ð±Ñ€Ð¾\x20Ð¿Ð¾Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ\x20Ð²\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹\x20TesSoft\x20Payment!\x0a\x0a','\x20with\x20shop\x20','Ð’Ñ‹\x20Ð¼Ð¾Ð¶ÐµÑ‚Ðµ\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ\x20Ð¸Ñ…\x20Ð²\x20Ð¾Ð´Ð½Ð¾Ð¼\x20ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸\x20Ñ‡ÐµÑ€ÐµÐ·\x20Ð¿ÐµÑ€ÐµÐ½Ð¾Ñ\x20ÑÑ‚Ñ€Ð¾ÐºÐ¸\x20Ð¸Ð»Ð¸\x20Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¼Ð¸\x20ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸:\x0a\x0a','allSettled','first_name','success','ðŸ”\x20*ÐžÑ‚Ð»Ð°Ð´Ð¾Ñ‡Ð½Ð°Ñ\x20Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ*\x0a\x0a','log','Error\x20in\x20handleUsernameVerification:','Ð’Ñ‹Ð¿Ð»Ð°Ñ‚Ð°\x20Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð°','ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ\x20username\x20Ð¸\x20API\x20ÐºÐ»ÑŽÑ‡\x20Ð²\x20Ð¾Ð´Ð½Ð¾Ð¼\x20ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸\x20Ñ‡ÐµÑ€ÐµÐ·\x20Ð¿ÐµÑ€ÐµÐ½Ð¾Ñ\x20ÑÑ‚Ñ€Ð¾ÐºÐ¸\x20Ð¸Ð»Ð¸\x20Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¼Ð¸\x20ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸ÑÐ¼Ð¸.\x0a\x0a','\x0aðŸ’¡\x20ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ\x20Ð·Ð°Ð¿Ñ€Ð¾ÑÐ°\x20Ð¸Ð»Ð¸\x20Ð¾Ð±Ñ€Ð°Ñ‚Ð¸Ñ‚ÐµÑÑŒ\x20Ð²\x20Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÑƒ.','âœ…\x20Telegram\x20user\x20','map','failed','toUpperCase','notificationApiError','Ð£ÑÐ¿ÐµÑˆÐ½Ñ‹Ð¹\x20Ð²Ñ…Ð¾Ð´\x20Ð²\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ','ðŸ¦\x20ÐœÐµÑ‚Ð¾Ð´:\x20`','substring','ðŸ“…\x20Ð”Ð°Ñ‚Ð°:\x20','TelegramBotService','âœ…\x20Ð’Ñ‹\x20ÑƒÑÐ¿ÐµÑˆÐ½Ð¾\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹!\x0a\x0a','ðŸ’¸\x20Ð¡ÑƒÐ¼Ð¼Ð°:\x20*','â€¢\x20Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸\x20ÑÑ‚Ð°Ñ‚ÑƒÑÐ°\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹\x0a','/status\x20-\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ\x20ÑÑ‚Ð°Ñ‚ÑƒÑ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ\x0a','\x20USDT*\x0a','publicKey','277281QXycvD','âŒ\x20ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹\x20Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\x20Ð´Ð°Ð½Ð½Ñ‹Ñ….\x0a\x0a','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','âœ…\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','âŒ\x20Ð’Ñ‹\x20Ð½Ðµ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹.','create','ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº:\x0a','ðŸ†”\x20Request\x20ID:\x20`','âŒ\x20ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð°\x20Ð¾ÑˆÐ¸Ð±ÐºÐ°\x20Ð¿Ñ€Ð¸\x20Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ð¸\x20Ð¾Ñ‚Ð»Ð°Ð´Ð¾Ñ‡Ð½Ð¾Ð¹\x20Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸.','initializeBot','Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ\x20/start\x20Ð´Ð»Ñ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ.','`\x20ÑƒÐ¶Ðµ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½\x20Ð´Ñ€ÑƒÐ³Ð¾Ð¹\x20Telegram\x20Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚.\x0a\x0a',':\x20apiKey=\x22','Error\x20in\x20handleApiKeyVerification:','ðŸ“±\x20Ð’Ð°Ñˆ\x20Telegram\x20ID:\x20`','telegramBotService','ðŸ“Š\x20*Ð¡Ñ‚Ð°Ñ‚ÑƒÑ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ*\x0a\x0a','â€¢\x20`','\x0aâš ï¸\x20Ð•ÑÐ»Ð¸\x20ÑÑ‚Ð¾\x20Ð½Ðµ\x20Ð²Ñ‹,\x20Ð½ÐµÐ¼ÐµÐ´Ð»ÐµÐ½Ð½Ð¾\x20ÑÐ¼ÐµÐ½Ð¸Ñ‚Ðµ\x20Ð¿Ð°Ñ€Ð¾Ð»ÑŒ!','createdAt','âœ…\x20Ð’Ñ‹\x20ÑƒÑÐ¿ÐµÑˆÐ½Ð¾\x20Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ð¾Ñ‚\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ð°\x20*','findUnique','Telegram\x20bot\x20error:','startsWith','âœ…\x20Ð’Ñ‹\x20ÑƒÐ¶Ðµ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ\x20*','shop','`\x20Ð½Ðµ\x20Ð½Ð°Ð¹Ð´ÐµÐ½.\x0a\x0a','sendMessage','âœ…\x20Telegram\x20bot\x20@','âœ…\x20Username\x20`','ru-RU','Ð¡Ð¾Ð·Ð´Ð°Ð½Ð°\x20Ð½Ð¾Ð²Ð°Ñ\x20Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ð°','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','ipAddress','last_name','isVerified','blocked','3410246rboWIc','ðŸ“\x20Order\x20ID:\x20`','Telegram\x20bot\x20polling\x20error:','ðŸš¨\x20*ÐžÑˆÐ¸Ð±ÐºÐ°\x20API*\x0a\x0a','node-telegram-bot-api','Error\x20handling\x20/disconnect\x20command:','2ï¸âƒ£\x20API\x20ÐºÐ»ÑŽÑ‡','onText','âŒ\x20ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð°\x20Ð¾ÑˆÐ¸Ð±ÐºÐ°.\x20ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ\x20Ð¿Ð¾Ð·Ð¶Ðµ.','notificationLogin','Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ\x20/status\x20Ð´Ð»Ñ\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸\x20ÑÑ‚Ð°Ñ‚ÑƒÑÐ°\x20Ð¸Ð»Ð¸\x20/disconnect\x20Ð´Ð»Ñ\x20Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ.','shopId','chargeback','Ð¢ÐµÐ¿ÐµÑ€ÑŒ\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ\x20Ð²Ð°Ñˆ\x20*API\x20ÐºÐ»ÑŽÑ‡*\x20(Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹\x20Ð¸Ð»Ð¸\x20ÑÐµÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹\x20ÐºÐ»ÑŽÑ‡,\x20Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‰Ð¸Ð¹ÑÑ\x20Ñ\x20`pk\x5c_`\x20Ð¸Ð»Ð¸\x20`sk\x5c_`)','`\x20(','ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹\x20Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\x20ÐºÐ»ÑŽÑ‡Ð°:\x20`pk_...`\x20Ð¸Ð»Ð¸\x20`sk_...`','ÐŸÐ»Ð°Ñ‚ÐµÐ¶\x20Ð¸ÑÑ‚ÐµÐº','âœ…\x20Login\x20notification\x20sent\x20for\x20shop\x20','defineProperty','ÐŸÐ»Ð°Ñ‚ÐµÐ¶\x20Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½','2ï¸âƒ£\x20Ð—Ð°Ñ‚ÐµÐ¼\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ\x20Ð²Ð°Ñˆ\x20*API\x20ÐºÐ»ÑŽÑ‡*\x0a\x0a','1ï¸âƒ£\x20ÐžÑ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ\x20Ð²Ð°Ñˆ\x20*username*\x20(Ð»Ð¾Ð³Ð¸Ð½\x20Ð¾Ñ‚\x20Ð¿Ð°Ð½ÐµÐ»Ð¸)\x0a','ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ\x20ÐºÐ»ÑŽÑ‡Ð°\x20Ð¸Ð»Ð¸\x20Ð½Ð°Ñ‡Ð½Ð¸Ñ‚Ðµ\x20Ð·Ð°Ð½Ð¾Ð²Ð¾\x20Ñ\x20ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹\x20/start\x0a\x0a','findFirst','entries','Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ\x20username:\x0a','pk_','Ð’Ñ‹\x20Ð¼Ð¾Ð¶ÐµÑ‚Ðµ\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ\x20Ð¸Ñ…\x20Ð²\x20Ð¾Ð´Ð½Ð¾Ð¼\x20ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¸\x20Ñ‡ÐµÑ€ÐµÐ·\x20Ð¿ÐµÑ€ÐµÐ½Ð¾Ñ\x20ÑÑ‚Ñ€Ð¾ÐºÐ¸:\x0a','username','*\x0a\x0a','âŒ\x20ÐœÐ°Ð³Ð°Ð·Ð¸Ð½\x20Ñ\x20username\x20`','handleApiKeyVerification','1ï¸âƒ£\x20Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð°\x20Ð²Ð°Ñˆ\x20username\x20(Ñ‚Ð¾Ð»ÑŒÐºÐ¾\x20Ð±ÑƒÐºÐ²Ñ‹,\x20Ñ†Ð¸Ñ„Ñ€Ñ‹\x20Ð¸\x20Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð½Ð¸Ðµ)\x0a','ðŸ”„\x20Processing\x20username\x20verification\x20for\x20user\x20','âŒ\x20Ð’Ñ‹\x20Ð½Ðµ\x20Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ñ‹\x20Ð²\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ.\x0a\x0a','\x20via\x20multiline\x20input','warn','toLocaleString','polling_error','ðŸ“±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','telegramUser','name','split','ÐÐµÑƒÐ´Ð°Ñ‡Ð½Ð°Ñ\x20Ð¿Ð¾Ð¿Ñ‹Ñ‚ÐºÐ°\x20Ð²Ñ…Ð¾Ð´Ð°','ðŸª\x20Ð¨Ð»ÑŽÐ·:\x20`','amount','`appple`\x0a','Ð’Ñ‹Ð¿Ð»Ð°Ñ‚Ð°\x20Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð°','`\x0a\x0a','\x20verified\x20for\x20shop\x20','env','includes','â€¢\x20Ð’Ñ‹Ð¿Ð»Ð°Ñ‚Ð°Ñ…\x0a\x0a','â€¢\x20Ð’Ñ‹Ð¿Ð»Ð°Ñ‚Ð°Ñ…\x0a',',\x20reset\x20shop\x20association','timestamp','ðŸ‘¤\x20Username:\x20`','adminNotes','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','ðŸ”„\x20Processing\x20multiline\x20verification\x20for\x20user\x20','2211968ggKTaR','ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ\x20ÐºÐ»ÑŽÑ‡Ð°\x20Ð¸\x20Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ\x20ÑÐ½Ð¾Ð²Ð°.\x0a\x0a','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20',':\x20`','Username\x20Ð´Ð¾Ð»Ð¶ÐµÐ½\x20ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‚ÑŒ\x20Ñ‚Ð¾Ð»ÑŒÐºÐ¾\x20Ð±ÑƒÐºÐ²Ñ‹,\x20Ñ†Ð¸Ñ„Ñ€Ñ‹\x20Ð¸\x20Ð¿Ð¾Ð´Ñ‡ÐµÑ€ÐºÐ¸Ð²Ð°Ð½Ð¸Ðµ\x20(3-50\x20ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²).','ðŸª\x20Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñ‹\x20Ð²\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ:\x0a','sendLoginNotification','`\x20Ð½ÐµÐ°ÐºÑ‚Ð¸Ð²ÐµÐ½.\x0a\x0a','API\x20ÐºÐ»ÑŽÑ‡\x20Ð´Ð¾Ð»Ð¶ÐµÐ½\x20Ð½Ð°Ñ‡Ð¸Ð½Ð°Ñ‚ÑŒÑÑ\x20Ñ\x20`pk\x5c_`\x20Ð¸Ð»Ð¸\x20`sk\x5c_`.','handleMultilineVerification'];a49_0x3440=function(){return _0x3f0e63;};return a49_0x3440();}class TelegramBotService{constructor(){const _0x4fab7a=a49_0x4a83be;this[_0x4fab7a(0x1a1)]=null,this['botToken']=process[_0x4fab7a(0x18a)][_0x4fab7a(0xfe)]||'',this[_0x4fab7a(0xd5)]=process['env'][_0x4fab7a(0xcf)]||'trapay_bot',this['botToken']?this['initializeBot']():console['warn'](_0x4fab7a(0xaf));}[a49_0x4a83be(0x13c)](){const _0x28f014=a49_0x4a83be;try{this[_0x28f014(0x1a1)]=new node_telegram_bot_api_1[(_0x28f014(0x107))](this['botToken'],{'polling':!![]}),this['setupBotHandlers'](),console['log'](_0x28f014(0x14f)+this[_0x28f014(0xd5)]+'\x20initialized\x20successfully');}catch(_0x320188){console[_0x28f014(0xd1)]('âŒ\x20Failed\x20to\x20initialize\x20Telegram\x20bot:',_0x320188);}}['setupBotHandlers'](){const _0x325409=a49_0x4a83be;if(!this[_0x325409(0x1a1)])return;this['bot'][_0x325409(0x15f)](/\/start/,async _0x39f4b0=>{const _0x3d0715=_0x325409,_0x5622b6=_0x39f4b0[_0x3d0715(0xf2)]['id'],_0x3999ac=_0x39f4b0[_0x3d0715(0x102)]?.['id'][_0x3d0715(0xd9)](),_0x2a8e14=_0x39f4b0[_0x3d0715(0x102)]?.[_0x3d0715(0x174)],_0x253e7=_0x39f4b0['from']?.[_0x3d0715(0x11b)],_0x11ed12=_0x39f4b0[_0x3d0715(0x102)]?.[_0x3d0715(0x155)];if(!_0x3999ac)return;try{let _0x9665ff=await database_1['default'][_0x3d0715(0x180)]['findUnique']({'where':{'telegramId':_0x3999ac},'include':{'shop':!![]}});!_0x9665ff?(_0x9665ff=await database_1['default'][_0x3d0715(0x180)][_0x3d0715(0x138)]({'data':{'telegramId':_0x3999ac,'username':_0x2a8e14,'firstName':_0x253e7,'lastName':_0x11ed12,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console['log'](_0x3d0715(0x109)+_0x3999ac+_0x3d0715(0x113)+_0x2a8e14+')')):_0x9665ff=await database_1['default'][_0x3d0715(0x180)]['update']({'where':{'telegramId':_0x3999ac},'data':{'username':_0x2a8e14,'firstName':_0x253e7,'lastName':_0x11ed12},'include':{'shop':!![]}}),_0x9665ff[_0x3d0715(0x156)]&&_0x9665ff['shopId']&&_0x9665ff[_0x3d0715(0x14c)]?await this[_0x3d0715(0x1a1)]?.['sendMessage'](_0x5622b6,_0x3d0715(0xdd)+('Ð’Ñ‹\x20ÑƒÐ¶Ðµ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ:\x20*'+_0x9665ff[_0x3d0715(0x14c)][_0x3d0715(0x181)]+'*\x0a')+('Username:\x20`'+_0x9665ff['shop'][_0x3d0715(0x174)]+_0x3d0715(0x188))+_0x3d0715(0xd4)+_0x3d0715(0x10d)+'â€¢\x20Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸\x20ÑÑ‚Ð°Ñ‚ÑƒÑÐ°\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶ÐµÐ¹\x0a'+_0x3d0715(0x18c)+_0x3d0715(0xff)+_0x3d0715(0x130)+_0x3d0715(0xcb),{'parse_mode':_0x3d0715(0xe8)}):(_0x9665ff['shopId']&&!_0x9665ff[_0x3d0715(0x156)]&&(await database_1[_0x3d0715(0x107)]['telegramUser'][_0x3d0715(0xc7)]({'where':{'telegramId':_0x3999ac},'data':{'shopId':null,'isVerified':![]}}),console[_0x3d0715(0x11e)](_0x3d0715(0xfd)+_0x3999ac)),await this[_0x3d0715(0x1a1)]?.['sendMessage'](_0x5622b6,_0x3d0715(0x117)+'Ð”Ð»Ñ\x20Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹\x20Ð¾\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°Ñ…,\x20Ð¿Ð¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°:\x0a\x0a'+_0x3d0715(0x16d)+_0x3d0715(0x16c)+_0x3d0715(0x119)+_0x3d0715(0x10b)+'`appple`\x0a'+'`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a'+'â—ï¸\x20Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ,\x20Ñ‡Ñ‚Ð¾\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚Ðµ\x20Ð´Ð°Ð½Ð½Ñ‹Ðµ\x20Ð²\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾Ð¼\x20Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ!',{'parse_mode':_0x3d0715(0xe8)}));}catch(_0x29ef52){console[_0x3d0715(0xd1)]('Error\x20handling\x20/start\x20command:',_0x29ef52),await this[_0x3d0715(0x1a1)]?.['sendMessage'](_0x5622b6,_0x3d0715(0x160));}}),this[_0x325409(0x1a1)][_0x325409(0x15f)](/\/disconnect/,async _0xc68bf8=>{const _0x21e695=_0x325409,_0x2dd7bd=_0xc68bf8[_0x21e695(0xf2)]['id'],_0x5b7a2b=_0xc68bf8['from']?.['id'][_0x21e695(0xd9)]();if(!_0x5b7a2b)return;try{const _0xe5f038=await database_1[_0x21e695(0x107)][_0x21e695(0x180)][_0x21e695(0x148)]({'where':{'telegramId':_0x5b7a2b},'include':{'shop':!![]}});if(!_0xe5f038||!_0xe5f038[_0x21e695(0x156)]||!_0xe5f038['shopId']){await this['bot']?.[_0x21e695(0x14e)](_0x2dd7bd,_0x21e695(0x137));return;}const _0x25cdae=_0xe5f038[_0x21e695(0x14c)]?.[_0x21e695(0x181)]||_0x21e695(0x10a);await database_1[_0x21e695(0x107)]['telegramUser'][_0x21e695(0xc7)]({'where':{'telegramId':_0x5b7a2b},'data':{'shopId':null,'isVerified':![]}}),console[_0x21e695(0x11e)](_0x21e695(0xc6)+_0x5b7a2b+'\x20disconnected\x20from\x20shop\x20'+_0xe5f038[_0x21e695(0x163)]),await this[_0x21e695(0x1a1)]?.['sendMessage'](_0x2dd7bd,_0x21e695(0x147)+_0x25cdae+_0x21e695(0xb3)+_0x21e695(0xdb),{'parse_mode':_0x21e695(0xe8)});}catch(_0x98ef9c){console['error'](_0x21e695(0x15d),_0x98ef9c),await this[_0x21e695(0x1a1)]?.[_0x21e695(0x14e)](_0x2dd7bd,_0x21e695(0x160));}}),this[_0x325409(0x1a1)][_0x325409(0x15f)](/\/status/,async _0x1a457b=>{const _0x4065a6=_0x325409,_0x4fbee8=_0x1a457b[_0x4065a6(0xf2)]['id'],_0x23a63c=_0x1a457b[_0x4065a6(0x102)]?.['id']['toString']();if(!_0x23a63c)return;try{const _0x740640=await database_1['default'][_0x4065a6(0x180)]['findUnique']({'where':{'telegramId':_0x23a63c},'include':{'shop':!![]}});if(!_0x740640){await this['bot']?.[_0x4065a6(0x14e)](_0x4fbee8,_0x4065a6(0x17a)+'Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ\x20/start\x20Ð´Ð»Ñ\x20Ð½Ð°Ñ‡Ð°Ð»Ð°\x20Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹.');return;}if(!_0x740640['isVerified']||!_0x740640[_0x4065a6(0x163)]||!_0x740640[_0x4065a6(0x14c)]){await this[_0x4065a6(0x1a1)]?.[_0x4065a6(0x14e)](_0x4fbee8,_0x4065a6(0xb0)+_0x4065a6(0x13d));return;}await this['bot']?.['sendMessage'](_0x4fbee8,_0x4065a6(0x143)+('âœ…\x20ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½\x20Ðº\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ:\x20*'+_0x740640['shop'][_0x4065a6(0x181)]+'*\x0a')+(_0x4065a6(0x190)+_0x740640[_0x4065a6(0x14c)][_0x4065a6(0x174)]+'`\x0a')+(_0x4065a6(0xc3)+_0x740640[_0x4065a6(0xce)]['toLocaleDateString'](_0x4065a6(0x151))+'\x0a\x0a')+'ðŸ””\x20Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ\x20Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹\x0a\x0a'+_0x4065a6(0xff)+'/disconnect\x20-\x20Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ\x20Ð¾Ñ‚\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹',{'parse_mode':_0x4065a6(0xe8)});}catch(_0x38dfa8){console[_0x4065a6(0xd1)]('Error\x20handling\x20/status\x20command:',_0x38dfa8),await this[_0x4065a6(0x1a1)]?.[_0x4065a6(0x14e)](_0x4fbee8,_0x4065a6(0x160));}}),this[_0x325409(0x1a1)][_0x325409(0x15f)](/\/debug/,async _0x3fb1d9=>{const _0x5ca4cb=_0x325409,_0x1df7c8=_0x3fb1d9[_0x5ca4cb(0xf2)]['id'],_0x52a5ea=_0x3fb1d9[_0x5ca4cb(0x102)]?.['id'][_0x5ca4cb(0xd9)]();if(!_0x52a5ea)return;try{const _0x2639ae=await database_1[_0x5ca4cb(0x107)]['shop']['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x173d9a=_0x5ca4cb(0x11d);_0x173d9a+=_0x5ca4cb(0x141)+_0x52a5ea+_0x5ca4cb(0x188),_0x173d9a+=_0x5ca4cb(0x199),_0x2639ae['forEach']((_0x13d150,_0xebc13f)=>{const _0x3f5c0f=_0x5ca4cb;_0x173d9a+=_0xebc13f+0x1+_0x3f5c0f(0x114)+_0x13d150['name']+'*\x0a',_0x173d9a+=_0x3f5c0f(0xf7)+_0x13d150[_0x3f5c0f(0x174)]+'`\x0a',_0x173d9a+='\x20\x20\x20Status:\x20'+_0x13d150[_0x3f5c0f(0xbe)]+'\x0a',_0x173d9a+='\x20\x20\x20Public\x20Key:\x20`'+_0x13d150[_0x3f5c0f(0x132)][_0x3f5c0f(0x12a)](0x0,0xf)+'...`\x0a\x0a';}),await this[_0x5ca4cb(0x1a1)]?.[_0x5ca4cb(0x14e)](_0x1df7c8,_0x173d9a,{'parse_mode':'Markdown'});}catch(_0x109b7f){console[_0x5ca4cb(0xd1)](_0x5ca4cb(0x19f),_0x109b7f),await this[_0x5ca4cb(0x1a1)]?.[_0x5ca4cb(0x14e)](_0x1df7c8,_0x5ca4cb(0x13b));}}),this[_0x325409(0x1a1)]['on'](_0x325409(0xbf),async _0x26b7c8=>{const _0x4db8fb=_0x325409;if(_0x26b7c8['text']?.[_0x4db8fb(0x14a)]('/'))return;const _0x5e3ef3=_0x26b7c8[_0x4db8fb(0xf2)]['id'],_0x2cc6ec=_0x26b7c8['from']?.['id']['toString'](),_0x2c0e56=_0x26b7c8[_0x4db8fb(0xb9)]?.['trim']();if(!_0x2cc6ec||!_0x2c0e56)return;try{const _0x2eba33=await database_1[_0x4db8fb(0x107)][_0x4db8fb(0x180)][_0x4db8fb(0x148)]({'where':{'telegramId':_0x2cc6ec},'include':{'shop':!![]}});if(!_0x2eba33){await this[_0x4db8fb(0x1a1)]?.['sendMessage'](_0x5e3ef3,'âŒ\x20Ð¡Ð½Ð°Ñ‡Ð°Ð»Ð°\x20Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ\x20ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ\x20/start');return;}if(_0x2eba33[_0x4db8fb(0x156)]&&_0x2eba33[_0x4db8fb(0x163)]&&_0x2eba33[_0x4db8fb(0x14c)]){await this[_0x4db8fb(0x1a1)]?.[_0x4db8fb(0x14e)](_0x5e3ef3,_0x4db8fb(0x14b)+_0x2eba33[_0x4db8fb(0x14c)][_0x4db8fb(0x181)]+_0x4db8fb(0xb3)+_0x4db8fb(0x162),{'parse_mode':_0x4db8fb(0xe8)});return;}const _0xdec261=_0x2c0e56[_0x4db8fb(0x182)]('\x0a')[_0x4db8fb(0x124)](_0x2d3a36=>_0x2d3a36[_0x4db8fb(0xe1)]())[_0x4db8fb(0xbc)](_0x2782bc=>_0x2782bc[_0x4db8fb(0xed)]>0x0);if(_0xdec261[_0x4db8fb(0xed)]===0x2){const [_0x4eca46,_0x55fb2b]=_0xdec261;await this[_0x4db8fb(0x19d)](_0x5e3ef3,_0x2cc6ec,_0x4eca46,_0x55fb2b);}else{if(_0xdec261[_0x4db8fb(0xed)]===0x1){const _0x8656f9=_0xdec261[0x0];if(_0x8656f9[_0x4db8fb(0xed)]>=0x3&&_0x8656f9[_0x4db8fb(0xed)]<=0x32&&/^[a-zA-Z0-9_]+$/['test'](_0x8656f9))await this[_0x4db8fb(0xcc)](_0x5e3ef3,_0x2cc6ec,_0x8656f9);else _0x8656f9[_0x4db8fb(0x14a)](_0x4db8fb(0x172))||_0x8656f9[_0x4db8fb(0x14a)](_0x4db8fb(0xf3))?await this[_0x4db8fb(0x177)](_0x5e3ef3,_0x2cc6ec,_0x8656f9):await this[_0x4db8fb(0x1a1)]?.[_0x4db8fb(0x14e)](_0x5e3ef3,_0x4db8fb(0x134)+'ÐŸÐ¾Ð¶Ð°Ð»ÑƒÐ¹ÑÑ‚Ð°,\x20Ð¾Ñ‚Ð¿Ñ€Ð°Ð²ÑŒÑ‚Ðµ:\x0a'+_0x4db8fb(0x178)+_0x4db8fb(0xcd)+_0x4db8fb(0x173)+_0x4db8fb(0x186)+_0x4db8fb(0x153),{'parse_mode':'Markdown'});}else await this[_0x4db8fb(0x1a1)]?.[_0x4db8fb(0x14e)](_0x5e3ef3,_0x4db8fb(0x134)+_0x4db8fb(0x121)+_0x4db8fb(0x10b)+_0x4db8fb(0x186)+_0x4db8fb(0x153),{'parse_mode':_0x4db8fb(0xe8)});}}catch(_0x3e885a){console[_0x4db8fb(0xd1)](_0x4db8fb(0xad),_0x3e885a),await this[_0x4db8fb(0x1a1)]?.[_0x4db8fb(0x14e)](_0x5e3ef3,'âŒ\x20ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð°\x20Ð¾ÑˆÐ¸Ð±ÐºÐ°.\x20ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ\x20Ð¿Ð¾Ð·Ð¶Ðµ.');}}),this[_0x325409(0x1a1)]['on'](_0x325409(0xd1),_0x2d35c4=>{const _0x25fcad=_0x325409;console['error'](_0x25fcad(0x149),_0x2d35c4);}),this[_0x325409(0x1a1)]['on'](_0x325409(0x17e),_0xaf8ecc=>{const _0xa3f264=_0x325409;console['error'](_0xa3f264(0x15a),_0xaf8ecc);});}async['handleMultilineVerification'](_0x29483f,_0x1e537f,_0x4533df,_0x52ebcd){const _0x3358b6=a49_0x4a83be;try{console[_0x3358b6(0x11e)](_0x3358b6(0x193)+_0x1e537f+_0x3358b6(0xf5)+_0x4533df+_0x3358b6(0xb7)+_0x52ebcd[_0x3358b6(0x12a)](0x0,0xa)+_0x3358b6(0xc2));if(!_0x4533df||_0x4533df['length']<0x3||_0x4533df[_0x3358b6(0xed)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x3358b6(0xef)](_0x4533df)){await this[_0x3358b6(0x1a1)]?.['sendMessage'](_0x29483f,'âŒ\x20ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹\x20Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\x20username:\x20`'+_0x4533df+_0x3358b6(0x188)+_0x3358b6(0x198),{'parse_mode':_0x3358b6(0xe8)});return;}if(!_0x52ebcd||!_0x52ebcd['startsWith'](_0x3358b6(0x172))&&!_0x52ebcd[_0x3358b6(0x14a)](_0x3358b6(0xf3))){await this[_0x3358b6(0x1a1)]?.[_0x3358b6(0x14e)](_0x29483f,_0x3358b6(0xfa)+_0x3358b6(0x19c),{'parse_mode':_0x3358b6(0xe8)});return;}const _0x462a0c=await database_1[_0x3358b6(0x107)][_0x3358b6(0x14c)][_0x3358b6(0x148)]({'where':{'username':_0x4533df},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x462a0c){const _0x3a68da=await database_1[_0x3358b6(0x107)]['shop'][_0x3358b6(0xd2)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x1cc3a3=_0x3358b6(0x176)+_0x4533df+'`\x20Ð½Ðµ\x20Ð½Ð°Ð¹Ð´ÐµÐ½.\x0a\x0a';_0x3a68da[_0x3358b6(0xed)]>0x0?(_0x1cc3a3+='Ð”Ð¾ÑÑ‚ÑƒÐ¿Ð½Ñ‹Ðµ\x20username:\x0a',_0x3a68da[_0x3358b6(0xd3)](_0x3fa8ff=>{const _0x500496=_0x3358b6;_0x1cc3a3+=_0x500496(0x144)+_0x3fa8ff[_0x500496(0x174)]+_0x500496(0x166)+_0x3fa8ff[_0x500496(0x181)]+')\x0a';}),_0x1cc3a3+='\x0aÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ\x20Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ\x20Ð½Ð°Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ\x20Ð¸\x20Ð¿Ð¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ\x20ÑÐ½Ð¾Ð²Ð°.'):_0x1cc3a3+=_0x3358b6(0xeb);await this[_0x3358b6(0x1a1)]?.[_0x3358b6(0x14e)](_0x29483f,_0x1cc3a3,{'parse_mode':_0x3358b6(0xe8)});return;}if(_0x462a0c[_0x3358b6(0xbe)]!=='ACTIVE'){await this[_0x3358b6(0x1a1)]?.['sendMessage'](_0x29483f,_0x3358b6(0xc0)+_0x4533df+_0x3358b6(0x19b)+_0x3358b6(0x1a0),{'parse_mode':_0x3358b6(0xe8)});return;}if(_0x462a0c[_0x3358b6(0x132)]!==_0x52ebcd&&_0x462a0c['secretKey']!==_0x52ebcd){await this[_0x3358b6(0x1a1)]?.[_0x3358b6(0x14e)](_0x29483f,_0x3358b6(0x101)+_0x4533df+'`.\x0a\x0a'+_0x3358b6(0x195)+_0x3358b6(0x167),{'parse_mode':'Markdown'});return;}const _0x3212af=await database_1[_0x3358b6(0x107)]['telegramUser']['findFirst']({'where':{'shopId':_0x462a0c['id'],'isVerified':!![],'telegramId':{'not':_0x1e537f}}});if(_0x3212af){await this['bot']?.[_0x3358b6(0x14e)](_0x29483f,'âŒ\x20Ðš\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ\x20`'+_0x4533df+_0x3358b6(0x13e)+_0x3358b6(0x105),{'parse_mode':_0x3358b6(0xe8)});return;}await database_1[_0x3358b6(0x107)]['telegramUser'][_0x3358b6(0xc7)]({'where':{'telegramId':_0x1e537f},'data':{'shopId':_0x462a0c['id'],'isVerified':!![]}}),await this[_0x3358b6(0x1a1)]?.[_0x3358b6(0x14e)](_0x29483f,_0x3358b6(0xba)+'âœ…\x20Ð’Ñ‹\x20ÑƒÑÐ¿ÐµÑˆÐ½Ð¾\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹!\x0a\x0a'+(_0x3358b6(0xda)+_0x462a0c[_0x3358b6(0x181)]+'*\x0a')+(_0x3358b6(0x190)+_0x462a0c['username']+_0x3358b6(0x188))+_0x3358b6(0xe7)+_0x3358b6(0x10d)+_0x3358b6(0x12f)+_0x3358b6(0x18d)+_0x3358b6(0xe2)+_0x3358b6(0xff)+'/status\x20-\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ñ‚ÑŒ\x20ÑÑ‚Ð°Ñ‚ÑƒÑ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ\x0a'+_0x3358b6(0xcb),{'parse_mode':_0x3358b6(0xe8)}),console[_0x3358b6(0x11e)](_0x3358b6(0x123)+_0x1e537f+'\x20verified\x20for\x20shop\x20'+_0x462a0c['username']+_0x3358b6(0x17b));}catch(_0x1c8f6c){console[_0x3358b6(0xd1)](_0x3358b6(0xbd),_0x1c8f6c),await this[_0x3358b6(0x1a1)]?.[_0x3358b6(0x14e)](_0x29483f,_0x3358b6(0x103));}}async['handleUsernameVerification'](_0x58f9c1,_0x28357a,_0x5dca0d){const _0x387e65=a49_0x4a83be;try{console[_0x387e65(0x11e)](_0x387e65(0x179)+_0x28357a+_0x387e65(0xf5)+_0x5dca0d+'\x22');const _0x42b4e7=await database_1['default']['shop'][_0x387e65(0x148)]({'where':{'username':_0x5dca0d},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x42b4e7){const _0x4d1fae=await database_1[_0x387e65(0x107)][_0x387e65(0x14c)]['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x32a53e='âŒ\x20ÐœÐ°Ð³Ð°Ð·Ð¸Ð½\x20Ñ\x20username\x20`'+_0x5dca0d+_0x387e65(0x14d);_0x4d1fae['length']>0x0?(_0x32a53e+=_0x387e65(0x171),_0x4d1fae[_0x387e65(0xd3)](_0x198c4f=>{const _0xb96fb2=_0x387e65;_0x32a53e+='â€¢\x20`'+_0x198c4f[_0xb96fb2(0x174)]+_0xb96fb2(0x166)+_0x198c4f['name']+')\x0a';}),_0x32a53e+=_0x387e65(0xca)):_0x32a53e+=_0x387e65(0xeb);await this[_0x387e65(0x1a1)]?.[_0x387e65(0x14e)](_0x58f9c1,_0x32a53e,{'parse_mode':'Markdown'});return;}if(_0x42b4e7[_0x387e65(0xbe)]!==_0x387e65(0xc8)){await this[_0x387e65(0x1a1)]?.[_0x387e65(0x14e)](_0x58f9c1,'âŒ\x20ÐœÐ°Ð³Ð°Ð·Ð¸Ð½\x20`'+_0x5dca0d+_0x387e65(0x19b)+_0x387e65(0x1a0),{'parse_mode':'Markdown'});return;}await database_1['default']['telegramUser']['update']({'where':{'telegramId':_0x28357a},'data':{'shopId':_0x42b4e7['id'],'isVerified':![]}}),await this[_0x387e65(0x1a1)]?.['sendMessage'](_0x58f9c1,_0x387e65(0x150)+_0x5dca0d+'`\x20Ð½Ð°Ð¹Ð´ÐµÐ½!\x0a\x0a'+('ÐœÐ°Ð³Ð°Ð·Ð¸Ð½:\x20*'+_0x42b4e7[_0x387e65(0x181)]+_0x387e65(0x175))+_0x387e65(0x165),{'parse_mode':'Markdown'}),console[_0x387e65(0x11e)](_0x387e65(0x19e)+_0x28357a+_0x387e65(0x118)+_0x42b4e7['username']);}catch(_0x45de61){console[_0x387e65(0xd1)](_0x387e65(0x11f),_0x45de61),await this[_0x387e65(0x1a1)]?.[_0x387e65(0x14e)](_0x58f9c1,_0x387e65(0xc5));}}async[a49_0x4a83be(0x177)](_0x1e3c3a,_0x3509ab,_0x33e8b7){const _0x4e11df=a49_0x4a83be;try{console[_0x4e11df(0x11e)](_0x4e11df(0xd0)+_0x3509ab+_0x4e11df(0x13f)+_0x33e8b7[_0x4e11df(0x12a)](0x0,0xa)+_0x4e11df(0xc2));const _0x239af6=await database_1[_0x4e11df(0x107)]['telegramUser'][_0x4e11df(0x148)]({'where':{'telegramId':_0x3509ab},'include':{'shop':!![]}});if(!_0x239af6?.[_0x4e11df(0x163)]){await this[_0x4e11df(0x1a1)]?.['sendMessage'](_0x1e3c3a,_0x4e11df(0xec)+_0x4e11df(0x139)+_0x4e11df(0xe6)+_0x4e11df(0x15e));return;}if(_0x239af6[_0x4e11df(0x156)]){await this[_0x4e11df(0x1a1)]?.[_0x4e11df(0x14e)](_0x1e3c3a,'âœ…\x20Ð’Ñ‹\x20ÑƒÐ¶Ðµ\x20Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‹\x20Ðº\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ\x20*'+(_0x239af6[_0x4e11df(0x14c)]?.['name']||'Ð½ÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ð¹')+_0x4e11df(0xb3)+'Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ\x20/status\x20Ð´Ð»Ñ\x20Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸\x20ÑÑ‚Ð°Ñ‚ÑƒÑÐ°.',{'parse_mode':'Markdown'});return;}const _0x4f3f38=await database_1['default'][_0x4e11df(0x14c)][_0x4e11df(0x16f)]({'where':{'id':_0x239af6[_0x4e11df(0x163)],'OR':[{'publicKey':_0x33e8b7},{'secretKey':_0x33e8b7}]}});if(!_0x4f3f38){await this[_0x4e11df(0x1a1)]?.[_0x4e11df(0x14e)](_0x1e3c3a,'âŒ\x20API\x20ÐºÐ»ÑŽÑ‡\x20Ð½Ðµ\x20ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚\x20Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ñƒ.\x0a\x0a'+_0x4e11df(0x16e)+'ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹\x20Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚\x20ÐºÐ»ÑŽÑ‡Ð°:\x20`pk_...`\x20Ð¸Ð»Ð¸\x20`sk_...`',{'parse_mode':'Markdown'}),await database_1[_0x4e11df(0x107)][_0x4e11df(0x180)][_0x4e11df(0xc7)]({'where':{'telegramId':_0x3509ab},'data':{'shopId':null,'isVerified':![]}}),console['log'](_0x4e11df(0xdc)+_0x3509ab+_0x4e11df(0x18e));return;}const _0x4c6318=await database_1[_0x4e11df(0x107)][_0x4e11df(0x180)][_0x4e11df(0x16f)]({'where':{'shopId':_0x4f3f38['id'],'isVerified':!![],'telegramId':{'not':_0x3509ab}}});if(_0x4c6318){await this[_0x4e11df(0x1a1)]?.[_0x4e11df(0x14e)](_0x1e3c3a,_0x4e11df(0xe0)+_0x4f3f38['username']+_0x4e11df(0x13e)+_0x4e11df(0x105),{'parse_mode':'Markdown'}),await database_1['default']['telegramUser']['update']({'where':{'telegramId':_0x3509ab},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x4e11df(0x107)][_0x4e11df(0x180)][_0x4e11df(0xc7)]({'where':{'telegramId':_0x3509ab},'data':{'isVerified':!![]}}),await this[_0x4e11df(0x1a1)]?.[_0x4e11df(0x14e)](_0x1e3c3a,_0x4e11df(0xba)+_0x4e11df(0x12d)+(_0x4e11df(0xda)+_0x4f3f38[_0x4e11df(0x181)]+'*\x0a')+(_0x4e11df(0x190)+_0x4f3f38[_0x4e11df(0x174)]+_0x4e11df(0x188))+_0x4e11df(0xe7)+'â€¢\x20ÐÐ¾Ð²Ñ‹Ñ…\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð°Ñ…\x0a'+_0x4e11df(0x12f)+_0x4e11df(0x18d)+'â€¢\x20Ð’Ð°Ð¶Ð½Ñ‹Ñ…\x20ÑÐ¾Ð±Ñ‹Ñ‚Ð¸ÑÑ…\x0a\x0a'+'ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹:\x0a'+_0x4e11df(0x130)+'/disconnect\x20-\x20Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒÑÑ\x20Ð¾Ñ‚\x20ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹',{'parse_mode':_0x4e11df(0xe8)}),console[_0x4e11df(0x11e)](_0x4e11df(0x123)+_0x3509ab+_0x4e11df(0x189)+_0x4f3f38[_0x4e11df(0x174)]);}catch(_0x27bf6c){console[_0x4e11df(0xd1)](_0x4e11df(0x140),_0x27bf6c),await this['bot']?.[_0x4e11df(0x14e)](_0x1e3c3a,_0x4e11df(0x10c));}}async['sendShopNotification'](_0xa77530,_0x30577e,_0x225401){const _0x16edb9=a49_0x4a83be;if(!this[_0x16edb9(0x1a1)]){console[_0x16edb9(0x17c)](_0x16edb9(0x135));return;}try{const _0x197f01=await database_1['default'][_0x16edb9(0x180)][_0x16edb9(0xd2)]({'where':{'shopId':_0xa77530,'isVerified':!![]}});if(_0x197f01['length']===0x0){console['log'](_0x16edb9(0x196)+_0xa77530);return;}const _0x394c4c=_0x197f01[_0x16edb9(0x124)](async _0x242020=>{const _0x2d4f3a=_0x16edb9;try{await this[_0x2d4f3a(0x1a1)]?.[_0x2d4f3a(0x14e)](_0x242020[_0x2d4f3a(0xb6)],_0x30577e,_0x225401),console[_0x2d4f3a(0x11e)]('âœ…\x20Notification\x20sent\x20to\x20Telegram\x20user\x20'+_0x242020[_0x2d4f3a(0xb6)]);}catch(_0x3b5a1c){console['error'](_0x2d4f3a(0xfc)+_0x242020[_0x2d4f3a(0xb6)]+':',_0x3b5a1c),_0x3b5a1c instanceof Error&&(_0x3b5a1c[_0x2d4f3a(0xbf)][_0x2d4f3a(0x18b)](_0x2d4f3a(0x157))||_0x3b5a1c[_0x2d4f3a(0xbf)][_0x2d4f3a(0x18b)](_0x2d4f3a(0xf0))||_0x3b5a1c[_0x2d4f3a(0xbf)][_0x2d4f3a(0x18b)]('user\x20is\x20deactivated'))&&(await database_1[_0x2d4f3a(0x107)][_0x2d4f3a(0x180)][_0x2d4f3a(0xc7)]({'where':{'id':_0x242020['id']},'data':{'isVerified':![]}}),console[_0x2d4f3a(0x11e)]('User\x20'+_0x242020[_0x2d4f3a(0xb6)]+_0x2d4f3a(0x192)));}});await Promise[_0x16edb9(0x11a)](_0x394c4c);}catch(_0x40686b){console[_0x16edb9(0xd1)]('Error\x20sending\x20shop\x20notification:',_0x40686b);}}async['sendPaymentNotification'](_0x10ca6f,_0x44f3c2,_0x1ebd81){const _0x1c7d2e=a49_0x4a83be,_0x14ee48={'created':'ðŸ†•','paid':'âœ…','failed':'âŒ','expired':'â°','refund':'ðŸ”„','chargeback':'âš ï¸'},_0x3292ab={'created':'Ð¡Ð¾Ð·Ð´Ð°Ð½\x20Ð½Ð¾Ð²Ñ‹Ð¹\x20Ð¿Ð»Ð°Ñ‚ÐµÐ¶','paid':_0x1c7d2e(0xe5),'failed':_0x1c7d2e(0x16b),'expired':_0x1c7d2e(0x168),'refund':_0x1c7d2e(0xe4),'chargeback':_0x1c7d2e(0xae)},_0x2952a2=_0x14ee48[_0x1ebd81],_0xd96022=_0x3292ab[_0x1ebd81];let _0x4ee582=_0x2952a2+'\x20*'+_0xd96022+_0x1c7d2e(0x175)+(_0x1c7d2e(0x104)+_0x44f3c2[_0x1c7d2e(0x185)]+'\x20'+_0x44f3c2['currency']+'*\x0a')+(_0x1c7d2e(0x159)+(_0x44f3c2[_0x1c7d2e(0xf6)]||_0x44f3c2['id'])+'`\x0a')+(_0x1c7d2e(0x111)+_0x44f3c2['id']+'`\x0a')+(_0x1c7d2e(0x184)+_0x44f3c2[_0x1c7d2e(0x116)][_0x1c7d2e(0x126)]()+'`\x0a')+(_0x1c7d2e(0x12b)+new Date(_0x44f3c2[_0x1c7d2e(0x146)])[_0x1c7d2e(0x17d)](_0x1c7d2e(0x151))+'\x0a');_0x1ebd81===_0x1c7d2e(0x164)&&_0x44f3c2[_0x1c7d2e(0x10e)]&&(_0x4ee582+=_0x1c7d2e(0xb1)+_0x44f3c2['chargebackAmount']+_0x1c7d2e(0x131)),_0x44f3c2[_0x1c7d2e(0x191)]&&(_0x4ee582+='ðŸ“\x20Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸:\x20'+_0x44f3c2['adminNotes']+'\x0a'),await this['sendShopNotification'](_0x10ca6f,_0x4ee582,{'parse_mode':_0x1c7d2e(0xe8)});}async['sendPayoutNotification'](_0x4a5ab9,_0x21bc67,_0x350660){const _0x60b6c3=a49_0x4a83be,_0xe18e07={'created':'ðŸ“¤','completed':'âœ…','rejected':'âŒ'},_0x40c0da={'created':_0x60b6c3(0x152),'completed':_0x60b6c3(0x187),'rejected':_0x60b6c3(0x120)},_0x4f339d=_0xe18e07[_0x350660],_0x2d62d1=_0x40c0da[_0x350660],_0x619ac=_0x4f339d+'\x20*'+_0x2d62d1+_0x60b6c3(0x175)+(_0x60b6c3(0x12e)+_0x21bc67[_0x60b6c3(0x185)]+'\x20USD*\x0a')+(_0x60b6c3(0x129)+_0x21bc67[_0x60b6c3(0xc4)]+'`\x0a')+(_0x60b6c3(0x108)+_0x21bc67['id']+'`\x0a')+('ðŸ“…\x20Ð”Ð°Ñ‚Ð°:\x20'+new Date(_0x21bc67[_0x60b6c3(0x146)])[_0x60b6c3(0x17d)](_0x60b6c3(0x151))+'\x0a')+(_0x21bc67[_0x60b6c3(0xd6)]?_0x60b6c3(0xb8)+_0x21bc67[_0x60b6c3(0xd6)]+'`':'');await this[_0x60b6c3(0xc9)](_0x4a5ab9,_0x619ac,{'parse_mode':_0x60b6c3(0xe8)});}async[a49_0x4a83be(0x19a)](_0x52b745,_0x5aa46e){const _0x3f80f7=a49_0x4a83be;try{const _0x52ce79=await database_1[_0x3f80f7(0x107)]['shopSettings']['findUnique']({'where':{'shopId':_0x52b745},'select':{'notificationLogin':!![]}});if(!_0x52ce79?.[_0x3f80f7(0x161)]){console[_0x3f80f7(0x11e)](_0x3f80f7(0xbb)+_0x52b745);return;}const _0x57371a=_0x5aa46e[_0x3f80f7(0x11c)]?'ðŸ”':'ðŸš¨',_0x14384b=_0x5aa46e['success']?_0x3f80f7(0x128):_0x3f80f7(0x183);let _0x3213d8=_0x57371a+'\x20*'+_0x14384b+'*\x0a\x0a'+(_0x3f80f7(0x190)+_0x5aa46e[_0x3f80f7(0x174)]+'`\x0a')+(_0x3f80f7(0xb2)+_0x5aa46e[_0x3f80f7(0x18f)]['toLocaleString'](_0x3f80f7(0x151))+'\x0a');_0x5aa46e[_0x3f80f7(0x154)]&&(_0x3213d8+='ðŸŒ\x20IP\x20Ð°Ð´Ñ€ÐµÑ:\x20`'+_0x5aa46e[_0x3f80f7(0x154)]+'`\x0a');if(_0x5aa46e[_0x3f80f7(0xdf)]){const _0x3667c8=_0x5aa46e[_0x3f80f7(0xdf)]['length']>0x32?_0x5aa46e['userAgent'][_0x3f80f7(0x12a)](0x0,0x32)+_0x3f80f7(0xb5):_0x5aa46e[_0x3f80f7(0xdf)];_0x3213d8+=_0x3f80f7(0xe9)+_0x3667c8+'`\x0a';}!_0x5aa46e[_0x3f80f7(0x11c)]&&(_0x3213d8+=_0x3f80f7(0x145)),await this[_0x3f80f7(0xc9)](_0x52b745,_0x3213d8,{'parse_mode':_0x3f80f7(0xe8)}),console[_0x3f80f7(0x11e)](_0x3f80f7(0x169)+_0x52b745+':\x20'+(_0x5aa46e[_0x3f80f7(0x11c)]?_0x3f80f7(0x11c):_0x3f80f7(0x125)));}catch(_0x7778c0){console[_0x3f80f7(0xd1)](_0x3f80f7(0x100),_0x7778c0);}}async['sendApiErrorNotification'](_0x3c828a,_0x289fe2){const _0x4071c7=a49_0x4a83be;try{const _0x3cf844=await database_1[_0x4071c7(0x107)]['shopSettings'][_0x4071c7(0x148)]({'where':{'shopId':_0x3c828a},'select':{'notificationApiError':!![]}});if(!_0x3cf844?.[_0x4071c7(0x127)]){console[_0x4071c7(0x11e)](_0x4071c7(0x17f)+_0x3c828a);return;}let _0x54abfd=_0x4071c7(0x15b)+('ðŸ”—\x20Endpoint:\x20`'+_0x289fe2['method']+'\x20'+_0x289fe2[_0x4071c7(0x115)]+'`\x0a')+(_0x4071c7(0xb2)+_0x289fe2[_0x4071c7(0x18f)]['toLocaleString'](_0x4071c7(0x151))+'\x0a');_0x289fe2[_0x4071c7(0xf1)]&&(_0x54abfd+='ðŸ“Š\x20ÐšÐ¾Ð´\x20Ð¾ÑˆÐ¸Ð±ÐºÐ¸:\x20`'+_0x289fe2[_0x4071c7(0xf1)]+'`\x0a'),_0x54abfd+=_0x4071c7(0xe3)+_0x289fe2[_0x4071c7(0x112)]+'`\x0a',_0x289fe2[_0x4071c7(0xd7)]&&(_0x54abfd+=_0x4071c7(0x13a)+_0x289fe2[_0x4071c7(0xd7)]+'`\x0a'),_0x54abfd+=_0x4071c7(0x122),await this[_0x4071c7(0xc9)](_0x3c828a,_0x54abfd,{'parse_mode':_0x4071c7(0xe8)}),console[_0x4071c7(0x11e)](_0x4071c7(0x136)+_0x3c828a+':\x20'+_0x289fe2[_0x4071c7(0x115)]);}catch(_0x3d62ec){console['error'](_0x4071c7(0xc1),_0x3d62ec);}}async[a49_0x4a83be(0xb4)](_0x3866d6,_0x13b90d,_0x65820b){const _0x283edb=a49_0x4a83be;let _0x539473=_0x283edb(0xd8)+_0x13b90d+_0x283edb(0x175);for(const [_0x22fb61,_0x2cecbb]of Object[_0x283edb(0x170)](_0x65820b)){_0x2cecbb!==null&&_0x2cecbb!==undefined&&(_0x539473+=_0x22fb61+_0x283edb(0x197)+_0x2cecbb+'`\x0a');}await this[_0x283edb(0xc9)](_0x3866d6,_0x539473,{'parse_mode':'Markdown'});}['getBotInfo'](){const _0x189c7d=a49_0x4a83be;return{'isActive':!!this['bot'],'username':this[_0x189c7d(0xd5)]};}[a49_0x4a83be(0xf9)](){const _0x59b246=a49_0x4a83be;this[_0x59b246(0x1a1)]&&(this['bot']['stopPolling'](),this[_0x59b246(0x1a1)]=null,console[_0x59b246(0x11e)](_0x59b246(0xde)));}}exports['TelegramBotService']=TelegramBotService,exports[a49_0x4a83be(0x142)]=new TelegramBotService();