'use strict';const a49_0x2189cd=a49_0x3ea0;function a49_0x29c9(){const _0x3f78fb=['1247757HTLUmn','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','\x20USD*\x0a','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞','Error\x20handling\x20message:','notificationApiError','toLocaleDateString','shopId','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.','entries','stopPolling','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','requestId','chargebackAmount','isVerified','sendPayoutNotification','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω','map','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','...\x22','handleMultilineVerification','create','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','‚ùå\x20–û—à–∏–±–∫–∞:\x20`','forEach','üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','393878lccnto','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','TelegramBotService','split','warn','`\x0a\x0a','*.\x0a\x0a','–ü—Ä–∏–º–µ—Ä:\x0a','Failed\x20to\x20send\x20login\x20notification:','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20','sk_','üìÖ\x20–î–∞—Ç–∞:\x20','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','toLocaleString','adminNotes','18672sJKPxX','üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','.\x20*','1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.','–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a','errorMessage','–ü–æ—Ä—è–¥–æ–∫:\x0a','initializeBot','substring','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','sendLoginNotification','Error\x20handling\x20/debug\x20command:','ru-RU','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','includes','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','trapay_bot','findFirst','botToken','sendMessage','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','chat','shop','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','\x20\x20\x20Public\x20Key:\x20`',':\x20apiKey=\x22','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','currency','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','51TDqOpu','telegramBotService','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','handleUsernameVerification','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.','__importDefault','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.','message','userAgent','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','Error\x20in\x20handleMultilineVerification:','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','endpoint','method','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','üìù\x20Order\x20ID:\x20`','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','first_name','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.','`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','1Ô∏è‚É£\x20Username\x0a','`appple`\x0a','name','Error\x20handling\x20/disconnect\x20command:','status','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','telegramId','üè™\x20–®–ª—é–∑:\x20`','Error\x20sending\x20shop\x20notification:','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','telegramUser','chat\x20not\x20found','pk_','node-telegram-bot-api','Username:\x20`','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','username','üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`',':\x20username=\x22','Telegram\x20bot\x20error:','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','length','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','blocked','\x22,\x20apiKey=\x22','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','allSettled','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','`\x20(','trim','from','...','–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞','üí∏\x20–°—É–º–º–∞:\x20*','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','sendShopNotification','–ö–æ–º–∞–Ω–¥—ã:\x0a','Error\x20handling\x20/start\x20command:','1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','380464stRDEg','*\x0a\x0a','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','shopSettings','‚úÖ\x20Username\x20`','defineProperty','statusCode','bot','Markdown','üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','polling_error','amount','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','üÜî\x20Request\x20ID:\x20`','üí∞\x20–°—É–º–º–∞:\x20*','default','publicKey','\x20USDT*\x0a','sendPaymentNotification','7851213kPSyAX','findMany','Failed\x20to\x20send\x20API\x20error\x20notification:','‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','Error\x20in\x20handleUsernameVerification:','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','findUnique','botUsername','–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','ipAddress','sendCustomNotification','orderId','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','üîå\x20User\x20','env','\x20with\x20shop\x20','\x20verified\x20for\x20shop\x20','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','Error\x20in\x20handleApiKeyVerification:','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a','TELEGRAM_BOT_USERNAME','üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20','5huVmhh','1571680mgTDyk','chargeback','üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','txid','üìÖ\x20–í—Ä–µ–º—è:\x20','__esModule','toUpperCase','ACTIVE','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','\x20disconnected\x20from\x20shop\x20','üõë\x20Telegram\x20bot\x20stopped','\x20\x20\x20Status:\x20','...`\x0a\x0a','notificationLogin','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','üë§\x20Username:\x20`','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','2921538HTdskN','text','toString','success','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','üè¶\x20–ú–µ—Ç–æ–¥:\x20`','üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`','`.\x0a\x0a','error','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.',':\x20`','onText','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','log','timestamp','filter','‚Ä¢\x20`','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','üì±\x20Created\x20new\x20Telegram\x20user:\x20','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!','secretKey','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','update','handleApiKeyVerification','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','test','startsWith','setupBotHandlers'];a49_0x29c9=function(){return _0x3f78fb;};return a49_0x29c9();}(function(_0x4c653a,_0x30d110){const _0x48bed9=a49_0x3ea0,_0x5cb823=_0x4c653a();while(!![]){try{const _0x3991a2=-parseInt(_0x48bed9(0x28d))/0x1+parseInt(_0x48bed9(0x211))/0x2+parseInt(_0x48bed9(0x1ce))/0x3*(parseInt(_0x48bed9(0x1ae))/0x4)+parseInt(_0x48bed9(0x23e))/0x5*(-parseInt(_0x48bed9(0x252))/0x6)+-parseInt(_0x48bed9(0x26f))/0x7+parseInt(_0x48bed9(0x23f))/0x8+parseInt(_0x48bed9(0x227))/0x9;if(_0x3991a2===_0x30d110)break;else _0x5cb823['push'](_0x5cb823['shift']());}catch(_0x52dfb2){_0x5cb823['push'](_0x5cb823['shift']());}}}(a49_0x29c9,0x44339));var __importDefault=this&&this[a49_0x2189cd(0x1d3)]||function(_0x1f7a3b){const _0x198d7b=a49_0x2189cd;return _0x1f7a3b&&_0x1f7a3b[_0x198d7b(0x245)]?_0x1f7a3b:{'default':_0x1f7a3b};};Object[a49_0x2189cd(0x216)](exports,a49_0x2189cd(0x245),{'value':!![]}),exports[a49_0x2189cd(0x1cf)]=exports[a49_0x2189cd(0x28f)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x2189cd(0x1f5))),database_1=__importDefault(require('../config/database'));class TelegramBotService{constructor(){const _0x1b6d8b=a49_0x2189cd;this['bot']=null,this[_0x1b6d8b(0x1c1)]=process['env']['TELEGRAM_BOT_TOKEN']||'',this['botUsername']=process[_0x1b6d8b(0x236)][_0x1b6d8b(0x23c)]||_0x1b6d8b(0x1bf),this['botToken']?this[_0x1b6d8b(0x1b6)]():console[_0x1b6d8b(0x291)](_0x1b6d8b(0x297));}[a49_0x2189cd(0x1b6)](){const _0x3fadbe=a49_0x2189cd;try{this[_0x3fadbe(0x218)]=new node_telegram_bot_api_1['default'](this[_0x3fadbe(0x1c1)],{'polling':!![]}),this[_0x3fadbe(0x26e)](),console['log']('‚úÖ\x20Telegram\x20bot\x20@'+this[_0x3fadbe(0x22f)]+'\x20initialized\x20successfully');}catch(_0x52f452){console[_0x3fadbe(0x25a)](_0x3fadbe(0x248),_0x52f452);}}['setupBotHandlers'](){const _0x5d6496=a49_0x2189cd;if(!this[_0x5d6496(0x218)])return;this[_0x5d6496(0x218)][_0x5d6496(0x25d)](/\/start/,async _0x2fc770=>{const _0x4a4e7d=_0x5d6496,_0x1897e2=_0x2fc770[_0x4a4e7d(0x1c6)]['id'],_0x19ea3e=_0x2fc770[_0x4a4e7d(0x207)]?.['id']['toString'](),_0x42ed6e=_0x2fc770[_0x4a4e7d(0x207)]?.['username'],_0x375a7a=_0x2fc770['from']?.[_0x4a4e7d(0x1df)],_0x43050e=_0x2fc770[_0x4a4e7d(0x207)]?.['last_name'];if(!_0x19ea3e)return;try{let _0x5aa156=await database_1[_0x4a4e7d(0x223)][_0x4a4e7d(0x1f2)][_0x4a4e7d(0x22e)]({'where':{'telegramId':_0x19ea3e},'include':{'shop':!![]}});!_0x5aa156?(_0x5aa156=await database_1['default'][_0x4a4e7d(0x1f2)][_0x4a4e7d(0x287)]({'data':{'telegramId':_0x19ea3e,'username':_0x42ed6e,'firstName':_0x375a7a,'lastName':_0x43050e,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x4a4e7d(0x25f)](_0x4a4e7d(0x264)+_0x19ea3e+'\x20(@'+_0x42ed6e+')')):_0x5aa156=await database_1[_0x4a4e7d(0x223)][_0x4a4e7d(0x1f2)][_0x4a4e7d(0x269)]({'where':{'telegramId':_0x19ea3e},'data':{'username':_0x42ed6e,'firstName':_0x375a7a,'lastName':_0x43050e},'include':{'shop':!![]}}),_0x5aa156[_0x4a4e7d(0x27f)]&&_0x5aa156[_0x4a4e7d(0x277)]&&_0x5aa156['shop']?await this[_0x4a4e7d(0x218)]?.[_0x4a4e7d(0x1c2)](_0x1897e2,_0x4a4e7d(0x24e)+(_0x4a4e7d(0x265)+_0x5aa156[_0x4a4e7d(0x1c7)][_0x4a4e7d(0x1e5)]+'*\x0a')+(_0x4a4e7d(0x1f6)+_0x5aa156[_0x4a4e7d(0x1c7)][_0x4a4e7d(0x1f8)]+'`\x0a\x0a')+_0x4a4e7d(0x1e9)+_0x4a4e7d(0x283)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+'‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a'+_0x4a4e7d(0x20d)+_0x4a4e7d(0x250)+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0x4a4e7d(0x219)}):(_0x5aa156[_0x4a4e7d(0x277)]&&!_0x5aa156[_0x4a4e7d(0x27f)]&&(await database_1[_0x4a4e7d(0x223)][_0x4a4e7d(0x1f2)][_0x4a4e7d(0x269)]({'where':{'telegramId':_0x19ea3e},'data':{'shopId':null,'isVerified':![]}}),console['log'](_0x4a4e7d(0x22c)+_0x19ea3e)),await this[_0x4a4e7d(0x218)]?.[_0x4a4e7d(0x1c2)](_0x1897e2,'ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a'+_0x4a4e7d(0x1b3)+_0x4a4e7d(0x1b1)+_0x4a4e7d(0x29b)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a'+_0x4a4e7d(0x294)+_0x4a4e7d(0x1e4)+_0x4a4e7d(0x25e)+'‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!',{'parse_mode':_0x4a4e7d(0x219)}));}catch(_0x589efb){console[_0x4a4e7d(0x25a)](_0x4a4e7d(0x20e),_0x589efb),await this[_0x4a4e7d(0x218)]?.[_0x4a4e7d(0x1c2)](_0x1897e2,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x5d6496(0x218)][_0x5d6496(0x25d)](/\/disconnect/,async _0x145c4a=>{const _0x6f049=_0x5d6496,_0x3e0c0b=_0x145c4a[_0x6f049(0x1c6)]['id'],_0x42f82c=_0x145c4a[_0x6f049(0x207)]?.['id'][_0x6f049(0x254)]();if(!_0x42f82c)return;try{const _0x1b1659=await database_1[_0x6f049(0x223)][_0x6f049(0x1f2)]['findUnique']({'where':{'telegramId':_0x42f82c},'include':{'shop':!![]}});if(!_0x1b1659||!_0x1b1659[_0x6f049(0x27f)]||!_0x1b1659[_0x6f049(0x277)]){await this['bot']?.[_0x6f049(0x1c2)](_0x3e0c0b,_0x6f049(0x1d4));return;}const _0x5a799e=_0x1b1659[_0x6f049(0x1c7)]?.['name']||_0x6f049(0x281);await database_1[_0x6f049(0x223)]['telegramUser'][_0x6f049(0x269)]({'where':{'telegramId':_0x42f82c},'data':{'shopId':null,'isVerified':![]}}),console[_0x6f049(0x25f)](_0x6f049(0x235)+_0x42f82c+_0x6f049(0x249)+_0x1b1659['shopId']),await this[_0x6f049(0x218)]?.[_0x6f049(0x1c2)](_0x3e0c0b,_0x6f049(0x29c)+_0x5a799e+_0x6f049(0x293)+_0x6f049(0x21b),{'parse_mode':'Markdown'});}catch(_0x1f001c){console[_0x6f049(0x25a)](_0x6f049(0x1e6),_0x1f001c),await this[_0x6f049(0x218)]?.[_0x6f049(0x1c2)](_0x3e0c0b,_0x6f049(0x268));}}),this[_0x5d6496(0x218)][_0x5d6496(0x25d)](/\/status/,async _0x21a064=>{const _0x413512=_0x5d6496,_0x286194=_0x21a064['chat']['id'],_0x4f381a=_0x21a064[_0x413512(0x207)]?.['id']['toString']();if(!_0x4f381a)return;try{const _0x5f5bce=await database_1[_0x413512(0x223)][_0x413512(0x1f2)]['findUnique']({'where':{'telegramId':_0x4f381a},'include':{'shop':!![]}});if(!_0x5f5bce){await this[_0x413512(0x218)]?.[_0x413512(0x1c2)](_0x286194,_0x413512(0x296)+_0x413512(0x278));return;}if(!_0x5f5bce[_0x413512(0x27f)]||!_0x5f5bce[_0x413512(0x277)]||!_0x5f5bce[_0x413512(0x1c7)]){await this[_0x413512(0x218)]?.[_0x413512(0x1c2)](_0x286194,_0x413512(0x213)+_0x413512(0x204));return;}await this[_0x413512(0x218)]?.[_0x413512(0x1c2)](_0x286194,'üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a'+(_0x413512(0x1c5)+_0x5f5bce[_0x413512(0x1c7)][_0x413512(0x1e5)]+'*\x0a')+(_0x413512(0x24f)+_0x5f5bce[_0x413512(0x1c7)]['username']+'`\x0a')+(_0x413512(0x298)+_0x5f5bce['updatedAt'][_0x413512(0x276)]('ru-RU')+'\x0a\x0a')+'üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a'+_0x413512(0x20d)+_0x413512(0x256),{'parse_mode':'Markdown'});}catch(_0x5b6829){console[_0x413512(0x25a)]('Error\x20handling\x20/status\x20command:',_0x5b6829),await this[_0x413512(0x218)]?.[_0x413512(0x1c2)](_0x286194,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x5d6496(0x218)][_0x5d6496(0x25d)](/\/debug/,async _0x597fa6=>{const _0x1010ce=_0x5d6496,_0x33ec75=_0x597fa6[_0x1010ce(0x1c6)]['id'],_0x2eb626=_0x597fa6[_0x1010ce(0x207)]?.['id']['toString']();if(!_0x2eb626)return;try{const _0x2a1443=await database_1[_0x1010ce(0x223)][_0x1010ce(0x1c7)][_0x1010ce(0x228)]({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x419822=_0x1010ce(0x241);_0x419822+=_0x1010ce(0x258)+_0x2eb626+_0x1010ce(0x292),_0x419822+=_0x1010ce(0x28b),_0x2a1443[_0x1010ce(0x28a)]((_0x39d130,_0x266ea9)=>{const _0x525e9e=_0x1010ce;_0x419822+=_0x266ea9+0x1+_0x525e9e(0x1b0)+_0x39d130[_0x525e9e(0x1e5)]+'*\x0a',_0x419822+='\x20\x20\x20Username:\x20`'+_0x39d130[_0x525e9e(0x1f8)]+'`\x0a',_0x419822+=_0x525e9e(0x24b)+_0x39d130[_0x525e9e(0x1e7)]+'\x0a',_0x419822+=_0x525e9e(0x1c9)+_0x39d130['publicKey'][_0x525e9e(0x1b7)](0x0,0xf)+_0x525e9e(0x24c);}),await this[_0x1010ce(0x218)]?.[_0x1010ce(0x1c2)](_0x33ec75,_0x419822,{'parse_mode':_0x1010ce(0x219)});}catch(_0x4e4dae){console[_0x1010ce(0x25a)](_0x1010ce(0x1ba),_0x4e4dae),await this['bot']?.[_0x1010ce(0x1c2)](_0x33ec75,_0x1010ce(0x25b));}}),this[_0x5d6496(0x218)]['on'](_0x5d6496(0x1d5),async _0x4eed62=>{const _0x494c35=_0x5d6496;if(_0x4eed62[_0x494c35(0x253)]?.[_0x494c35(0x26d)]('/'))return;const _0x5345c8=_0x4eed62['chat']['id'],_0x149267=_0x4eed62['from']?.['id'][_0x494c35(0x254)](),_0x189cb7=_0x4eed62[_0x494c35(0x253)]?.[_0x494c35(0x206)]();if(!_0x149267||!_0x189cb7)return;try{const _0x401209=await database_1[_0x494c35(0x223)][_0x494c35(0x1f2)][_0x494c35(0x22e)]({'where':{'telegramId':_0x149267},'include':{'shop':!![]}});if(!_0x401209){await this[_0x494c35(0x218)]?.[_0x494c35(0x1c2)](_0x5345c8,_0x494c35(0x288));return;}if(_0x401209[_0x494c35(0x27f)]&&_0x401209['shopId']&&_0x401209[_0x494c35(0x1c7)]){await this[_0x494c35(0x218)]?.['sendMessage'](_0x5345c8,'‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*'+_0x401209[_0x494c35(0x1c7)][_0x494c35(0x1e5)]+_0x494c35(0x293)+_0x494c35(0x1d2),{'parse_mode':_0x494c35(0x219)});return;}const _0x49a3db=_0x189cb7[_0x494c35(0x290)]('\x0a')[_0x494c35(0x282)](_0x119761=>_0x119761[_0x494c35(0x206)]())[_0x494c35(0x261)](_0x35a1b5=>_0x35a1b5['length']>0x0);if(_0x49a3db[_0x494c35(0x1fd)]===0x2){const [_0x3cb4bf,_0x1ae16d]=_0x49a3db;await this['handleMultilineVerification'](_0x5345c8,_0x149267,_0x3cb4bf,_0x1ae16d);}else{if(_0x49a3db[_0x494c35(0x1fd)]===0x1){const _0x3c4e83=_0x49a3db[0x0];if(_0x3c4e83[_0x494c35(0x1fd)]>=0x3&&_0x3c4e83['length']<=0x32&&/^[a-zA-Z0-9_]+$/[_0x494c35(0x26c)](_0x3c4e83))await this[_0x494c35(0x1d1)](_0x5345c8,_0x149267,_0x3c4e83);else _0x3c4e83[_0x494c35(0x26d)](_0x494c35(0x1f4))||_0x3c4e83[_0x494c35(0x26d)](_0x494c35(0x299))?await this[_0x494c35(0x26a)](_0x5345c8,_0x149267,_0x3c4e83):await this['bot']?.[_0x494c35(0x1c2)](_0x5345c8,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a'+'–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a'+_0x494c35(0x20f)+_0x494c35(0x22d)+_0x494c35(0x23b)+_0x494c35(0x1e4)+'`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`',{'parse_mode':_0x494c35(0x219)});}else await this['bot']?.[_0x494c35(0x1c2)](_0x5345c8,_0x494c35(0x242)+_0x494c35(0x1e8)+_0x494c35(0x294)+_0x494c35(0x1e4)+_0x494c35(0x21f),{'parse_mode':_0x494c35(0x219)});}}catch(_0x1a763b){console[_0x494c35(0x25a)](_0x494c35(0x274),_0x1a763b),await this[_0x494c35(0x218)]?.[_0x494c35(0x1c2)](_0x5345c8,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this['bot']['on'](_0x5d6496(0x25a),_0x2340d6=>{const _0x4a985c=_0x5d6496;console[_0x4a985c(0x25a)](_0x4a985c(0x1fb),_0x2340d6);}),this['bot']['on'](_0x5d6496(0x21d),_0x1cb04e=>{console['error']('Telegram\x20bot\x20polling\x20error:',_0x1cb04e);});}async[a49_0x2189cd(0x286)](_0x485a39,_0x22d601,_0x1ed702,_0x5999ea){const _0x2a232e=a49_0x2189cd;try{console['log']('üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20'+_0x22d601+_0x2a232e(0x1fa)+_0x1ed702+_0x2a232e(0x200)+_0x5999ea[_0x2a232e(0x1b7)](0x0,0xa)+_0x2a232e(0x285));if(!_0x1ed702||_0x1ed702[_0x2a232e(0x1fd)]<0x3||_0x1ed702[_0x2a232e(0x1fd)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x2a232e(0x26c)](_0x1ed702)){await this[_0x2a232e(0x218)]?.['sendMessage'](_0x485a39,_0x2a232e(0x270)+_0x1ed702+_0x2a232e(0x292)+_0x2a232e(0x1ef),{'parse_mode':_0x2a232e(0x219)});return;}if(!_0x5999ea||!_0x5999ea[_0x2a232e(0x26d)]('pk_')&&!_0x5999ea[_0x2a232e(0x26d)](_0x2a232e(0x299))){await this[_0x2a232e(0x218)]?.[_0x2a232e(0x1c2)](_0x485a39,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a'+'API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.',{'parse_mode':'Markdown'});return;}const _0x2f2e87=await database_1[_0x2a232e(0x223)][_0x2a232e(0x1c7)][_0x2a232e(0x22e)]({'where':{'username':_0x1ed702},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x2f2e87){const _0x30639b=await database_1[_0x2a232e(0x223)][_0x2a232e(0x1c7)][_0x2a232e(0x228)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x544eed='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x1ed702+_0x2a232e(0x27b);_0x30639b['length']>0x0?(_0x544eed+=_0x2a232e(0x28e),_0x30639b[_0x2a232e(0x28a)](_0x15f319=>{const _0x2aa3f7=_0x2a232e;_0x544eed+='‚Ä¢\x20`'+_0x15f319[_0x2aa3f7(0x1f8)]+_0x2aa3f7(0x205)+_0x15f319[_0x2aa3f7(0x1e5)]+')\x0a';}),_0x544eed+='\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.'):_0x544eed+=_0x2a232e(0x1cd);await this[_0x2a232e(0x218)]?.['sendMessage'](_0x485a39,_0x544eed,{'parse_mode':'Markdown'});return;}if(_0x2f2e87[_0x2a232e(0x1e7)]!=='ACTIVE'){await this[_0x2a232e(0x218)]?.[_0x2a232e(0x1c2)](_0x485a39,_0x2a232e(0x202)+_0x1ed702+_0x2a232e(0x1c3)+_0x2a232e(0x1f7),{'parse_mode':_0x2a232e(0x219)});return;}if(_0x2f2e87[_0x2a232e(0x224)]!==_0x5999ea&&_0x2f2e87[_0x2a232e(0x267)]!==_0x5999ea){await this['bot']?.[_0x2a232e(0x1c2)](_0x485a39,_0x2a232e(0x263)+_0x1ed702+_0x2a232e(0x259)+_0x2a232e(0x1be)+_0x2a232e(0x201),{'parse_mode':_0x2a232e(0x219)});return;}const _0x23cc15=await database_1[_0x2a232e(0x223)][_0x2a232e(0x1f2)][_0x2a232e(0x1c0)]({'where':{'shopId':_0x2f2e87['id'],'isVerified':!![],'telegramId':{'not':_0x22d601}}});if(_0x23cc15){await this[_0x2a232e(0x218)]?.[_0x2a232e(0x1c2)](_0x485a39,_0x2a232e(0x272)+_0x1ed702+_0x2a232e(0x20b)+_0x2a232e(0x1ee),{'parse_mode':'Markdown'});return;}await database_1[_0x2a232e(0x223)]['telegramUser']['update']({'where':{'telegramId':_0x22d601},'data':{'shopId':_0x2f2e87['id'],'isVerified':!![]}}),await this['bot']?.['sendMessage'](_0x485a39,_0x2a232e(0x210)+_0x2a232e(0x1de)+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x2f2e87['name']+'*\x0a')+('üë§\x20Username:\x20`'+_0x2f2e87[_0x2a232e(0x1f8)]+'`\x0a\x0a')+_0x2a232e(0x251)+_0x2a232e(0x283)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x2a232e(0x1c8)+_0x2a232e(0x1bc)+_0x2a232e(0x20d)+'/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a'+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':'Markdown'}),console['log']('‚úÖ\x20Telegram\x20user\x20'+_0x22d601+_0x2a232e(0x238)+_0x2f2e87['username']+'\x20via\x20multiline\x20input');}catch(_0xac30a){console[_0x2a232e(0x25a)](_0x2a232e(0x1d8),_0xac30a),await this['bot']?.[_0x2a232e(0x1c2)](_0x485a39,_0x2a232e(0x28c));}}async[a49_0x2189cd(0x1d1)](_0x54f570,_0x8d4119,_0x3b879d){const _0x47ce5f=a49_0x2189cd;try{console[_0x47ce5f(0x25f)](_0x47ce5f(0x23d)+_0x8d4119+':\x20username=\x22'+_0x3b879d+'\x22');const _0x5abec5=await database_1[_0x47ce5f(0x223)][_0x47ce5f(0x1c7)][_0x47ce5f(0x22e)]({'where':{'username':_0x3b879d},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x5abec5){const _0x31b881=await database_1[_0x47ce5f(0x223)][_0x47ce5f(0x1c7)][_0x47ce5f(0x228)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x105fc8='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x3b879d+_0x47ce5f(0x27b);_0x31b881['length']>0x0?(_0x105fc8+=_0x47ce5f(0x28e),_0x31b881[_0x47ce5f(0x28a)](_0x5273d8=>{const _0x375c0b=_0x47ce5f;_0x105fc8+=_0x375c0b(0x262)+_0x5273d8[_0x375c0b(0x1f8)]+'`\x20('+_0x5273d8[_0x375c0b(0x1e5)]+')\x0a';}),_0x105fc8+=_0x47ce5f(0x21c)):_0x105fc8+=_0x47ce5f(0x1cd);await this[_0x47ce5f(0x218)]?.['sendMessage'](_0x54f570,_0x105fc8,{'parse_mode':_0x47ce5f(0x219)});return;}if(_0x5abec5[_0x47ce5f(0x1e7)]!==_0x47ce5f(0x247)){await this[_0x47ce5f(0x218)]?.[_0x47ce5f(0x1c2)](_0x54f570,_0x47ce5f(0x202)+_0x3b879d+'`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a'+'–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':'Markdown'});return;}await database_1['default'][_0x47ce5f(0x1f2)][_0x47ce5f(0x269)]({'where':{'telegramId':_0x8d4119},'data':{'shopId':_0x5abec5['id'],'isVerified':![]}}),await this[_0x47ce5f(0x218)]?.[_0x47ce5f(0x1c2)](_0x54f570,_0x47ce5f(0x215)+_0x3b879d+_0x47ce5f(0x1e1)+('–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x5abec5[_0x47ce5f(0x1e5)]+'*\x0a\x0a')+_0x47ce5f(0x1c4),{'parse_mode':_0x47ce5f(0x219)}),console['log'](_0x47ce5f(0x1d7)+_0x8d4119+_0x47ce5f(0x237)+_0x5abec5[_0x47ce5f(0x1f8)]);}catch(_0x289a14){console[_0x47ce5f(0x25a)](_0x47ce5f(0x22b),_0x289a14),await this[_0x47ce5f(0x218)]?.[_0x47ce5f(0x1c2)](_0x54f570,_0x47ce5f(0x26b));}}async['handleApiKeyVerification'](_0x1ed2a5,_0x37183d,_0x2150ff){const _0x62b51f=a49_0x2189cd;try{console[_0x62b51f(0x25f)]('üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20'+_0x37183d+_0x62b51f(0x1ca)+_0x2150ff['substring'](0x0,0xa)+_0x62b51f(0x285));const _0x17c5bf=await database_1[_0x62b51f(0x223)][_0x62b51f(0x1f2)][_0x62b51f(0x22e)]({'where':{'telegramId':_0x37183d},'include':{'shop':!![]}});if(!_0x17c5bf?.['shopId']){await this[_0x62b51f(0x218)]?.['sendMessage'](_0x1ed2a5,_0x62b51f(0x1d9)+_0x62b51f(0x1b5)+_0x62b51f(0x1e3)+'2Ô∏è‚É£\x20API\x20–∫–ª—é—á');return;}if(_0x17c5bf['isVerified']){await this['bot']?.[_0x62b51f(0x1c2)](_0x1ed2a5,_0x62b51f(0x1dc)+(_0x17c5bf[_0x62b51f(0x1c7)]?.[_0x62b51f(0x1e5)]||_0x62b51f(0x1e2))+_0x62b51f(0x293)+_0x62b51f(0x1e0),{'parse_mode':_0x62b51f(0x219)});return;}const _0x45fa23=await database_1['default'][_0x62b51f(0x1c7)][_0x62b51f(0x1c0)]({'where':{'id':_0x17c5bf['shopId'],'OR':[{'publicKey':_0x2150ff},{'secretKey':_0x2150ff}]}});if(!_0x45fa23){await this[_0x62b51f(0x218)]?.[_0x62b51f(0x1c2)](_0x1ed2a5,'‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a'+_0x62b51f(0x1b8)+_0x62b51f(0x201),{'parse_mode':_0x62b51f(0x219)}),await database_1[_0x62b51f(0x223)][_0x62b51f(0x1f2)][_0x62b51f(0x269)]({'where':{'telegramId':_0x37183d},'data':{'shopId':null,'isVerified':![]}}),console[_0x62b51f(0x25f)]('‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20'+_0x37183d+',\x20reset\x20shop\x20association');return;}const _0x2384fd=await database_1[_0x62b51f(0x223)]['telegramUser'][_0x62b51f(0x1c0)]({'where':{'shopId':_0x45fa23['id'],'isVerified':!![],'telegramId':{'not':_0x37183d}}});if(_0x2384fd){await this[_0x62b51f(0x218)]?.[_0x62b51f(0x1c2)](_0x1ed2a5,_0x62b51f(0x272)+_0x45fa23[_0x62b51f(0x1f8)]+_0x62b51f(0x20b)+_0x62b51f(0x1ee),{'parse_mode':_0x62b51f(0x219)}),await database_1[_0x62b51f(0x223)][_0x62b51f(0x1f2)][_0x62b51f(0x269)]({'where':{'telegramId':_0x37183d},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x62b51f(0x223)][_0x62b51f(0x1f2)][_0x62b51f(0x269)]({'where':{'telegramId':_0x37183d},'data':{'isVerified':!![]}}),await this[_0x62b51f(0x218)]?.[_0x62b51f(0x1c2)](_0x1ed2a5,_0x62b51f(0x210)+'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a'+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x45fa23[_0x62b51f(0x1e5)]+'*\x0a')+(_0x62b51f(0x24f)+_0x45fa23[_0x62b51f(0x1f8)]+_0x62b51f(0x292))+'üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a'+_0x62b51f(0x283)+_0x62b51f(0x1ea)+_0x62b51f(0x1c8)+_0x62b51f(0x1bc)+_0x62b51f(0x20d)+'/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a'+_0x62b51f(0x256),{'parse_mode':_0x62b51f(0x219)}),console[_0x62b51f(0x25f)]('‚úÖ\x20Telegram\x20user\x20'+_0x37183d+_0x62b51f(0x238)+_0x45fa23[_0x62b51f(0x1f8)]);}catch(_0xc4fc6){console[_0x62b51f(0x25a)](_0x62b51f(0x23a),_0xc4fc6),await this[_0x62b51f(0x218)]?.[_0x62b51f(0x1c2)](_0x1ed2a5,_0x62b51f(0x1b2));}}async['sendShopNotification'](_0x461d35,_0x12c6ba,_0x41264a){const _0x5ccc4b=a49_0x2189cd;if(!this[_0x5ccc4b(0x218)]){console[_0x5ccc4b(0x291)]('Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification');return;}try{const _0x5dd299=await database_1[_0x5ccc4b(0x223)][_0x5ccc4b(0x1f2)][_0x5ccc4b(0x228)]({'where':{'shopId':_0x461d35,'isVerified':!![]}});if(_0x5dd299[_0x5ccc4b(0x1fd)]===0x0){console[_0x5ccc4b(0x25f)](_0x5ccc4b(0x1d0)+_0x461d35);return;}const _0x21809b=_0x5dd299[_0x5ccc4b(0x282)](async _0x3e89fe=>{const _0x5ebe1b=_0x5ccc4b;try{await this[_0x5ebe1b(0x218)]?.[_0x5ebe1b(0x1c2)](_0x3e89fe[_0x5ebe1b(0x1eb)],_0x12c6ba,_0x41264a),console['log']('‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20'+_0x3e89fe[_0x5ebe1b(0x1eb)]);}catch(_0x231785){console[_0x5ebe1b(0x25a)](_0x5ebe1b(0x1cb)+_0x3e89fe[_0x5ebe1b(0x1eb)]+':',_0x231785),_0x231785 instanceof Error&&(_0x231785[_0x5ebe1b(0x1d5)][_0x5ebe1b(0x1bd)](_0x5ebe1b(0x1ff))||_0x231785[_0x5ebe1b(0x1d5)][_0x5ebe1b(0x1bd)](_0x5ebe1b(0x1f3))||_0x231785[_0x5ebe1b(0x1d5)][_0x5ebe1b(0x1bd)]('user\x20is\x20deactivated'))&&(await database_1[_0x5ebe1b(0x223)][_0x5ebe1b(0x1f2)]['update']({'where':{'id':_0x3e89fe['id']},'data':{'isVerified':![]}}),console['log']('User\x20'+_0x3e89fe['telegramId']+_0x5ebe1b(0x220)));}});await Promise[_0x5ccc4b(0x203)](_0x21809b);}catch(_0x344ed2){console['error'](_0x5ccc4b(0x1ed),_0x344ed2);}}async[a49_0x2189cd(0x226)](_0x33242e,_0x48c1d0,_0x3e9017){const _0x17877b=a49_0x2189cd,_0x5a8eaf={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x4ec81b={'created':_0x17877b(0x284),'paid':'–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','failed':'–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','expired':'–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','refund':_0x17877b(0x1f1),'chargeback':'–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É'},_0x27bef4=_0x5a8eaf[_0x3e9017],_0x82b1f2=_0x4ec81b[_0x3e9017];let _0x220535=_0x27bef4+'\x20*'+_0x82b1f2+_0x17877b(0x212)+(_0x17877b(0x222)+_0x48c1d0[_0x17877b(0x21e)]+'\x20'+_0x48c1d0[_0x17877b(0x1cc)]+'*\x0a')+(_0x17877b(0x1dd)+(_0x48c1d0[_0x17877b(0x233)]||_0x48c1d0['id'])+'`\x0a')+('üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`'+_0x48c1d0['id']+'`\x0a')+(_0x17877b(0x1ec)+_0x48c1d0['gateway'][_0x17877b(0x246)]()+'`\x0a')+(_0x17877b(0x29a)+new Date(_0x48c1d0['createdAt'])[_0x17877b(0x29d)](_0x17877b(0x1bb))+'\x0a');_0x3e9017===_0x17877b(0x240)&&_0x48c1d0[_0x17877b(0x27e)]&&(_0x220535+=_0x17877b(0x21a)+_0x48c1d0[_0x17877b(0x27e)]+_0x17877b(0x225)),_0x48c1d0[_0x17877b(0x29e)]&&(_0x220535+='üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20'+_0x48c1d0[_0x17877b(0x29e)]+'\x0a'),await this['sendShopNotification'](_0x33242e,_0x220535,{'parse_mode':_0x17877b(0x219)});}async[a49_0x2189cd(0x280)](_0x3f8e58,_0x939198,_0xdf7319){const _0x501f26=a49_0x2189cd,_0xbb9ea0={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x5f0663={'created':_0x501f26(0x230),'completed':_0x501f26(0x27c),'rejected':_0x501f26(0x273)},_0x276f2f=_0xbb9ea0[_0xdf7319],_0x337146=_0x5f0663[_0xdf7319],_0x12e650=_0x276f2f+'\x20*'+_0x337146+'*\x0a\x0a'+(_0x501f26(0x20a)+_0x939198['amount']+_0x501f26(0x271))+(_0x501f26(0x257)+_0x939198[_0x501f26(0x1db)]+'`\x0a')+('üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`'+_0x939198['id']+'`\x0a')+(_0x501f26(0x29a)+new Date(_0x939198['createdAt'])[_0x501f26(0x29d)](_0x501f26(0x1bb))+'\x0a')+(_0x939198[_0x501f26(0x243)]?'üîó\x20TXID:\x20`'+_0x939198['txid']+'`':'');await this[_0x501f26(0x20c)](_0x3f8e58,_0x12e650,{'parse_mode':_0x501f26(0x219)});}async[a49_0x2189cd(0x1b9)](_0x1d6f14,_0x50ed4d){const _0xa4347e=a49_0x2189cd;try{const _0x56aa4f=await database_1[_0xa4347e(0x223)][_0xa4347e(0x214)][_0xa4347e(0x22e)]({'where':{'shopId':_0x1d6f14},'select':{'notificationLogin':!![]}});if(!_0x56aa4f?.[_0xa4347e(0x24d)]){console[_0xa4347e(0x25f)](_0xa4347e(0x1af)+_0x1d6f14);return;}const _0x322ab8=_0x50ed4d[_0xa4347e(0x255)]?'üîê':'üö®',_0x3b46cd=_0x50ed4d[_0xa4347e(0x255)]?_0xa4347e(0x239):_0xa4347e(0x209);let _0x515a44=_0x322ab8+'\x20*'+_0x3b46cd+_0xa4347e(0x212)+('üë§\x20Username:\x20`'+_0x50ed4d['username']+'`\x0a')+(_0xa4347e(0x244)+_0x50ed4d[_0xa4347e(0x260)][_0xa4347e(0x29d)](_0xa4347e(0x1bb))+'\x0a');_0x50ed4d[_0xa4347e(0x231)]&&(_0x515a44+=_0xa4347e(0x1fc)+_0x50ed4d[_0xa4347e(0x231)]+'`\x0a');if(_0x50ed4d[_0xa4347e(0x1d6)]){const _0x5266c5=_0x50ed4d[_0xa4347e(0x1d6)]['length']>0x32?_0x50ed4d[_0xa4347e(0x1d6)][_0xa4347e(0x1b7)](0x0,0x32)+_0xa4347e(0x208):_0x50ed4d[_0xa4347e(0x1d6)];_0x515a44+=_0xa4347e(0x1f9)+_0x5266c5+'`\x0a';}!_0x50ed4d[_0xa4347e(0x255)]&&(_0x515a44+=_0xa4347e(0x266)),await this[_0xa4347e(0x20c)](_0x1d6f14,_0x515a44,{'parse_mode':'Markdown'}),console[_0xa4347e(0x25f)](_0xa4347e(0x1f0)+_0x1d6f14+':\x20'+(_0x50ed4d[_0xa4347e(0x255)]?_0xa4347e(0x255):'failed'));}catch(_0x4cd6f2){console[_0xa4347e(0x25a)](_0xa4347e(0x295),_0x4cd6f2);}}async['sendApiErrorNotification'](_0xa46a06,_0x361dca){const _0x2dfe26=a49_0x2189cd;try{const _0x3b159e=await database_1[_0x2dfe26(0x223)]['shopSettings'][_0x2dfe26(0x22e)]({'where':{'shopId':_0xa46a06},'select':{'notificationApiError':!![]}});if(!_0x3b159e?.[_0x2dfe26(0x275)]){console['log'](_0x2dfe26(0x1fe)+_0xa46a06);return;}let _0x437953=_0x2dfe26(0x234)+('üîó\x20Endpoint:\x20`'+_0x361dca['method']+'\x20'+_0x361dca[_0x2dfe26(0x1da)]+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x361dca['timestamp'][_0x2dfe26(0x29d)]('ru-RU')+'\x0a');_0x361dca[_0x2dfe26(0x217)]&&(_0x437953+='üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`'+_0x361dca[_0x2dfe26(0x217)]+'`\x0a'),_0x437953+=_0x2dfe26(0x289)+_0x361dca[_0x2dfe26(0x1b4)]+'`\x0a',_0x361dca[_0x2dfe26(0x27d)]&&(_0x437953+=_0x2dfe26(0x221)+_0x361dca[_0x2dfe26(0x27d)]+'`\x0a'),_0x437953+='\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.',await this[_0x2dfe26(0x20c)](_0xa46a06,_0x437953,{'parse_mode':_0x2dfe26(0x219)}),console[_0x2dfe26(0x25f)](_0x2dfe26(0x22a)+_0xa46a06+':\x20'+_0x361dca['endpoint']);}catch(_0x5de6d9){console[_0x2dfe26(0x25a)](_0x2dfe26(0x229),_0x5de6d9);}}async[a49_0x2189cd(0x232)](_0x310feb,_0x51dbfe,_0x59f72b){const _0x183b50=a49_0x2189cd;let _0x3ae515='üîî\x20*'+_0x51dbfe+_0x183b50(0x212);for(const [_0x94dfe,_0x3b17e6]of Object[_0x183b50(0x279)](_0x59f72b)){_0x3b17e6!==null&&_0x3b17e6!==undefined&&(_0x3ae515+=_0x94dfe+_0x183b50(0x25c)+_0x3b17e6+'`\x0a');}await this[_0x183b50(0x20c)](_0x310feb,_0x3ae515,{'parse_mode':_0x183b50(0x219)});}['getBotInfo'](){const _0x579a8c=a49_0x2189cd;return{'isActive':!!this[_0x579a8c(0x218)],'username':this[_0x579a8c(0x22f)]};}['stopBot'](){const _0x3973aa=a49_0x2189cd;this[_0x3973aa(0x218)]&&(this['bot'][_0x3973aa(0x27a)](),this[_0x3973aa(0x218)]=null,console['log'](_0x3973aa(0x24a)));}}function a49_0x3ea0(_0x318ee7,_0x2e233f){const _0x29c974=a49_0x29c9();return a49_0x3ea0=function(_0x3ea0a9,_0x4898a8){_0x3ea0a9=_0x3ea0a9-0x1ae;let _0x15a47a=_0x29c974[_0x3ea0a9];return _0x15a47a;},a49_0x3ea0(_0x318ee7,_0x2e233f);}exports[a49_0x2189cd(0x28f)]=TelegramBotService,exports[a49_0x2189cd(0x1cf)]=new TelegramBotService();