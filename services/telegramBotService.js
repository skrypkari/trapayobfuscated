'use strict';function a49_0x3a8c(_0x58aeb,_0x52dc05){const _0x2a85f1=a49_0x2a85();return a49_0x3a8c=function(_0x3a8c0b,_0x8f8523){_0x3a8c0b=_0x3a8c0b-0x9a;let _0x4e1ad1=_0x2a85f1[_0x3a8c0b];return _0x4e1ad1;},a49_0x3a8c(_0x58aeb,_0x52dc05);}const a49_0x2d080d=a49_0x3a8c;(function(_0x35cf49,_0x16d7f2){const _0x19ceb3=a49_0x3a8c,_0x292dfe=_0x35cf49();while(!![]){try{const _0x5b18a4=parseInt(_0x19ceb3(0xfe))/0x1*(-parseInt(_0x19ceb3(0xa2))/0x2)+-parseInt(_0x19ceb3(0xcb))/0x3*(parseInt(_0x19ceb3(0x176))/0x4)+-parseInt(_0x19ceb3(0x133))/0x5*(-parseInt(_0x19ceb3(0x107))/0x6)+-parseInt(_0x19ceb3(0x17a))/0x7+-parseInt(_0x19ceb3(0x161))/0x8+-parseInt(_0x19ceb3(0xe3))/0x9+parseInt(_0x19ceb3(0xa6))/0xa*(parseInt(_0x19ceb3(0xbe))/0xb);if(_0x5b18a4===_0x16d7f2)break;else _0x292dfe['push'](_0x292dfe['shift']());}catch(_0x4e07cf){_0x292dfe['push'](_0x292dfe['shift']());}}}(a49_0x2a85,0x1cbfa));var __importDefault=this&&this[a49_0x2d080d(0x130)]||function(_0x1ba906){const _0x4842d3=a49_0x2d080d;return _0x1ba906&&_0x1ba906[_0x4842d3(0x142)]?_0x1ba906:{'default':_0x1ba906};};Object[a49_0x2d080d(0xeb)](exports,a49_0x2d080d(0x142),{'value':!![]}),exports[a49_0x2d080d(0x104)]=exports['TelegramBotService']=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x2d080d(0xb1))),database_1=__importDefault(require(a49_0x2d080d(0x121)));class TelegramBotService{constructor(){const _0x3bdc25=a49_0x2d080d;this[_0x3bdc25(0x152)]=null,this['botToken']=process[_0x3bdc25(0x12b)][_0x3bdc25(0x187)]||'',this[_0x3bdc25(0xf0)]=process['env'][_0x3bdc25(0xa0)]||_0x3bdc25(0x175),this[_0x3bdc25(0xa3)]?this[_0x3bdc25(0xdb)]():console['warn'](_0x3bdc25(0xd5));}[a49_0x2d080d(0xdb)](){const _0x590231=a49_0x2d080d;try{this['bot']=new node_telegram_bot_api_1[(_0x590231(0x127))](this['botToken'],{'polling':!![]}),this['setupBotHandlers'](),console[_0x590231(0x115)](_0x590231(0xc3)+this[_0x590231(0xf0)]+_0x590231(0x102));}catch(_0x23a95e){console[_0x590231(0xac)](_0x590231(0xe1),_0x23a95e);}}[a49_0x2d080d(0xb4)](){const _0x14d68c=a49_0x2d080d;if(!this[_0x14d68c(0x152)])return;this[_0x14d68c(0x152)][_0x14d68c(0xf8)](/\/start/,async _0x19de5a=>{const _0xecf61c=_0x14d68c,_0x4fc6d5=_0x19de5a[_0xecf61c(0xd9)]['id'],_0x140173=_0x19de5a[_0xecf61c(0x139)]?.['id'][_0xecf61c(0x108)](),_0x2e6a91=_0x19de5a[_0xecf61c(0x139)]?.[_0xecf61c(0x12d)],_0x51b6d8=_0x19de5a[_0xecf61c(0x139)]?.['first_name'],_0x47c4b1=_0x19de5a[_0xecf61c(0x139)]?.[_0xecf61c(0x14e)];if(!_0x140173)return;try{let _0x819ea0=await database_1['default'][_0xecf61c(0xb2)][_0xecf61c(0x13e)]({'where':{'telegramId':_0x140173},'include':{'shop':!![]}});!_0x819ea0?(_0x819ea0=await database_1[_0xecf61c(0x127)][_0xecf61c(0xb2)][_0xecf61c(0x15e)]({'data':{'telegramId':_0x140173,'username':_0x2e6a91,'firstName':_0x51b6d8,'lastName':_0x47c4b1,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0xecf61c(0x115)](_0xecf61c(0x15f)+_0x140173+_0xecf61c(0xd8)+_0x2e6a91+')')):_0x819ea0=await database_1[_0xecf61c(0x127)][_0xecf61c(0xb2)][_0xecf61c(0x13b)]({'where':{'telegramId':_0x140173},'data':{'username':_0x2e6a91,'firstName':_0x51b6d8,'lastName':_0x47c4b1},'include':{'shop':!![]}}),_0x819ea0[_0xecf61c(0x140)]&&_0x819ea0['shopId']&&_0x819ea0[_0xecf61c(0xe5)]?await this[_0xecf61c(0x152)]?.[_0xecf61c(0xba)](_0x4fc6d5,_0xecf61c(0xd7)+(_0xecf61c(0x129)+_0x819ea0[_0xecf61c(0xe5)][_0xecf61c(0x11a)]+'*\x0a')+(_0xecf61c(0xe4)+_0x819ea0[_0xecf61c(0xe5)][_0xecf61c(0x12d)]+_0xecf61c(0x118))+_0xecf61c(0x9d)+'•\x20Новых\x20платежах\x0a'+_0xecf61c(0x103)+_0xecf61c(0x101)+'Команды:\x0a'+'/status\x20-\x20проверить\x20статус\x20подключения\x0a'+_0xecf61c(0x17e),{'parse_mode':'Markdown'}):(_0x819ea0[_0xecf61c(0x132)]&&!_0x819ea0[_0xecf61c(0x140)]&&(await database_1['default'][_0xecf61c(0xb2)][_0xecf61c(0x13b)]({'where':{'telegramId':_0x140173},'data':{'shopId':null,'isVerified':![]}}),console[_0xecf61c(0x115)]('🔄\x20Reset\x20incomplete\x20verification\x20for\x20user\x20'+_0x140173)),await this[_0xecf61c(0x152)]?.[_0xecf61c(0xba)](_0x4fc6d5,_0xecf61c(0x157)+_0xecf61c(0x178)+_0xecf61c(0x13c)+_0xecf61c(0x15a)+'Вы\x20можете\x20отправить\x20их\x20в\x20одном\x20сообщении\x20через\x20перенос\x20строки\x20или\x20отдельными\x20сообщениями:\x0a\x0a'+_0xecf61c(0x13f)+_0xecf61c(0x16a)+_0xecf61c(0xef)+_0xecf61c(0x154),{'parse_mode':_0xecf61c(0x125)}));}catch(_0x4c14ee){console['error']('Error\x20handling\x20/start\x20command:',_0x4c14ee),await this['bot']?.[_0xecf61c(0xba)](_0x4fc6d5,'❌\x20Произошла\x20ошибка.\x20Попробуйте\x20позже.');}}),this[_0x14d68c(0x152)][_0x14d68c(0xf8)](/\/disconnect/,async _0xe7fa7f=>{const _0x5beec5=_0x14d68c,_0x5434d9=_0xe7fa7f[_0x5beec5(0xd9)]['id'],_0x485602=_0xe7fa7f[_0x5beec5(0x139)]?.['id'][_0x5beec5(0x108)]();if(!_0x485602)return;try{const _0x3a0d02=await database_1['default']['telegramUser'][_0x5beec5(0x13e)]({'where':{'telegramId':_0x485602},'include':{'shop':!![]}});if(!_0x3a0d02||!_0x3a0d02[_0x5beec5(0x140)]||!_0x3a0d02[_0x5beec5(0x132)]){await this[_0x5beec5(0x152)]?.[_0x5beec5(0xba)](_0x5434d9,_0x5beec5(0x177));return;}const _0x19792d=_0x3a0d02['shop']?.[_0x5beec5(0x11a)]||_0x5beec5(0x9a);await database_1[_0x5beec5(0x127)]['telegramUser'][_0x5beec5(0x13b)]({'where':{'telegramId':_0x485602},'data':{'shopId':null,'isVerified':![]}}),console[_0x5beec5(0x115)](_0x5beec5(0x15b)+_0x485602+'\x20disconnected\x20from\x20shop\x20'+_0x3a0d02['shopId']),await this[_0x5beec5(0x152)]?.[_0x5beec5(0xba)](_0x5434d9,_0x5beec5(0x159)+_0x19792d+_0x5beec5(0x11b)+'Для\x20повторного\x20подключения\x20используйте\x20команду\x20/start',{'parse_mode':_0x5beec5(0x125)});}catch(_0x47d4db){console['error'](_0x5beec5(0x151),_0x47d4db),await this[_0x5beec5(0x152)]?.['sendMessage'](_0x5434d9,'❌\x20Произошла\x20ошибка.\x20Попробуйте\x20позже.');}}),this['bot'][_0x14d68c(0xf8)](/\/status/,async _0x58ad6e=>{const _0x2b5680=_0x14d68c,_0x38cac1=_0x58ad6e[_0x2b5680(0xd9)]['id'],_0x431519=_0x58ad6e[_0x2b5680(0x139)]?.['id']['toString']();if(!_0x431519)return;try{const _0x220214=await database_1[_0x2b5680(0x127)][_0x2b5680(0xb2)][_0x2b5680(0x13e)]({'where':{'telegramId':_0x431519},'include':{'shop':!![]}});if(!_0x220214){await this['bot']?.[_0x2b5680(0xba)](_0x38cac1,'❌\x20Вы\x20не\x20зарегистрированы\x20в\x20системе.\x0a\x0a'+'Используйте\x20/start\x20для\x20начала\x20работы.');return;}if(!_0x220214['isVerified']||!_0x220214['shopId']||!_0x220214['shop']){await this['bot']?.[_0x2b5680(0xba)](_0x38cac1,_0x2b5680(0x112)+_0x2b5680(0x136));return;}await this['bot']?.[_0x2b5680(0xba)](_0x38cac1,_0x2b5680(0xda)+(_0x2b5680(0x12e)+_0x220214[_0x2b5680(0xe5)][_0x2b5680(0x11a)]+'*\x0a')+(_0x2b5680(0xc2)+_0x220214[_0x2b5680(0xe5)][_0x2b5680(0x12d)]+'`\x0a')+('📅\x20Дата\x20подключения:\x20'+_0x220214[_0x2b5680(0x153)]['toLocaleDateString'](_0x2b5680(0x150))+'\x0a\x0a')+_0x2b5680(0xe2)+_0x2b5680(0x10f)+_0x2b5680(0x17e),{'parse_mode':'Markdown'});}catch(_0x854fe5){console[_0x2b5680(0xac)]('Error\x20handling\x20/status\x20command:',_0x854fe5),await this[_0x2b5680(0x152)]?.[_0x2b5680(0xba)](_0x38cac1,_0x2b5680(0x16b));}}),this[_0x14d68c(0x152)][_0x14d68c(0xf8)](/\/debug/,async _0x417ba3=>{const _0x17c87d=_0x14d68c,_0x352534=_0x417ba3['chat']['id'],_0x3caeea=_0x417ba3[_0x17c87d(0x139)]?.['id'][_0x17c87d(0x108)]();if(!_0x3caeea)return;try{const _0x180d53=await database_1['default'][_0x17c87d(0xe5)]['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x428f3c='🔍\x20*Отладочная\x20информация*\x0a\x0a';_0x428f3c+=_0x17c87d(0x119)+_0x3caeea+_0x17c87d(0x118),_0x428f3c+='🏪\x20Доступные\x20магазины\x20в\x20системе:\x0a',_0x180d53[_0x17c87d(0xff)]((_0x1c5471,_0x507893)=>{const _0x2e0eb0=_0x17c87d;_0x428f3c+=_0x507893+0x1+_0x2e0eb0(0x17c)+_0x1c5471[_0x2e0eb0(0x11a)]+'*\x0a',_0x428f3c+=_0x2e0eb0(0x105)+_0x1c5471['username']+'`\x0a',_0x428f3c+=_0x2e0eb0(0xe0)+_0x1c5471[_0x2e0eb0(0x166)]+'\x0a',_0x428f3c+='\x20\x20\x20Public\x20Key:\x20`'+_0x1c5471[_0x2e0eb0(0xd4)][_0x2e0eb0(0xaf)](0x0,0xf)+'...`\x0a\x0a';}),await this[_0x17c87d(0x152)]?.[_0x17c87d(0xba)](_0x352534,_0x428f3c,{'parse_mode':'Markdown'});}catch(_0x1f88d1){console[_0x17c87d(0xac)](_0x17c87d(0x110),_0x1f88d1),await this[_0x17c87d(0x152)]?.[_0x17c87d(0xba)](_0x352534,_0x17c87d(0x126));}}),this['bot']['on']('message',async _0x19ea61=>{const _0x5a2cd1=_0x14d68c;if(_0x19ea61[_0x5a2cd1(0xd0)]?.[_0x5a2cd1(0xf2)]('/'))return;const _0x32d3d8=_0x19ea61['chat']['id'],_0x19673d=_0x19ea61[_0x5a2cd1(0x139)]?.['id']['toString'](),_0x48eee3=_0x19ea61['text']?.['trim']();if(!_0x19673d||!_0x48eee3)return;try{const _0x368a19=await database_1[_0x5a2cd1(0x127)][_0x5a2cd1(0xb2)][_0x5a2cd1(0x13e)]({'where':{'telegramId':_0x19673d},'include':{'shop':!![]}});if(!_0x368a19){await this[_0x5a2cd1(0x152)]?.[_0x5a2cd1(0xba)](_0x32d3d8,'❌\x20Сначала\x20используйте\x20команду\x20/start');return;}if(_0x368a19[_0x5a2cd1(0x140)]&&_0x368a19[_0x5a2cd1(0x132)]&&_0x368a19[_0x5a2cd1(0xe5)]){await this[_0x5a2cd1(0x152)]?.[_0x5a2cd1(0xba)](_0x32d3d8,_0x5a2cd1(0x111)+_0x368a19[_0x5a2cd1(0xe5)]['name']+_0x5a2cd1(0x11b)+_0x5a2cd1(0xc6),{'parse_mode':_0x5a2cd1(0x125)});return;}const _0x36b611=_0x48eee3['split']('\x0a')[_0x5a2cd1(0xcd)](_0x44d5c9=>_0x44d5c9[_0x5a2cd1(0x16f)]())[_0x5a2cd1(0x9f)](_0x6f1ad8=>_0x6f1ad8[_0x5a2cd1(0x100)]>0x0);if(_0x36b611[_0x5a2cd1(0x100)]===0x2){const [_0x1d99fa,_0x457f1d]=_0x36b611;await this[_0x5a2cd1(0x9e)](_0x32d3d8,_0x19673d,_0x1d99fa,_0x457f1d);}else{if(_0x36b611[_0x5a2cd1(0x100)]===0x1){const _0xcd648a=_0x36b611[0x0];if(_0xcd648a[_0x5a2cd1(0x100)]>=0x3&&_0xcd648a[_0x5a2cd1(0x100)]<=0x32&&/^[a-zA-Z0-9_]+$/[_0x5a2cd1(0x122)](_0xcd648a))await this[_0x5a2cd1(0x135)](_0x32d3d8,_0x19673d,_0xcd648a);else _0xcd648a['startsWith'](_0x5a2cd1(0xca))||_0xcd648a[_0x5a2cd1(0xf2)]('sk_')?await this['handleApiKeyVerification'](_0x32d3d8,_0x19673d,_0xcd648a):await this[_0x5a2cd1(0x152)]?.[_0x5a2cd1(0xba)](_0x32d3d8,'❌\x20Неверный\x20формат\x20данных.\x0a\x0a'+_0x5a2cd1(0xd1)+'1️⃣\x20Сначала\x20ваш\x20username\x20(только\x20буквы,\x20цифры\x20и\x20подчеркивание)\x0a'+_0x5a2cd1(0xfd)+_0x5a2cd1(0x10a)+_0x5a2cd1(0x16a)+_0x5a2cd1(0xa1),{'parse_mode':'Markdown'});}else await this['bot']?.['sendMessage'](_0x32d3d8,_0x5a2cd1(0xee)+'Отправьте\x20username\x20и\x20API\x20ключ\x20в\x20одном\x20сообщении\x20через\x20перенос\x20строки\x20или\x20отдельными\x20сообщениями.\x0a\x0a'+'Пример:\x0a'+_0x5a2cd1(0x16a)+_0x5a2cd1(0xa1),{'parse_mode':'Markdown'});}}catch(_0x2d8e25){console[_0x5a2cd1(0xac)]('Error\x20handling\x20message:',_0x2d8e25),await this[_0x5a2cd1(0x152)]?.[_0x5a2cd1(0xba)](_0x32d3d8,_0x5a2cd1(0x16b));}}),this[_0x14d68c(0x152)]['on'](_0x14d68c(0xac),_0x600e6b=>{const _0x28506c=_0x14d68c;console[_0x28506c(0xac)](_0x28506c(0xb9),_0x600e6b);}),this['bot']['on'](_0x14d68c(0x13a),_0x5bcdc3=>{const _0x2a717d=_0x14d68c;console[_0x2a717d(0xac)]('Telegram\x20bot\x20polling\x20error:',_0x5bcdc3);});}async[a49_0x2d080d(0x9e)](_0x3ba08a,_0x2a148e,_0x34c325,_0x509106){const _0x5dc405=a49_0x2d080d;try{console[_0x5dc405(0x115)](_0x5dc405(0x180)+_0x2a148e+_0x5dc405(0xa9)+_0x34c325+_0x5dc405(0xa5)+_0x509106[_0x5dc405(0xaf)](0x0,0xa)+'...\x22');if(!_0x34c325||_0x34c325[_0x5dc405(0x100)]<0x3||_0x34c325[_0x5dc405(0x100)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x5dc405(0x122)](_0x34c325)){await this[_0x5dc405(0x152)]?.['sendMessage'](_0x3ba08a,'❌\x20Неверный\x20формат\x20username:\x20`'+_0x34c325+_0x5dc405(0x118)+'Username\x20должен\x20содержать\x20только\x20буквы,\x20цифры\x20и\x20подчеркивание\x20(3-50\x20символов).',{'parse_mode':_0x5dc405(0x125)});return;}if(!_0x509106||!_0x509106[_0x5dc405(0xf2)](_0x5dc405(0xca))&&!_0x509106['startsWith']('sk_')){await this[_0x5dc405(0x152)]?.[_0x5dc405(0xba)](_0x3ba08a,_0x5dc405(0xad)+_0x5dc405(0x123),{'parse_mode':_0x5dc405(0x125)});return;}const _0x14ef81=await database_1[_0x5dc405(0x127)][_0x5dc405(0xe5)][_0x5dc405(0x13e)]({'where':{'username':_0x34c325},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x14ef81){const _0x2a6f0d=await database_1['default']['shop'][_0x5dc405(0x167)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x55ae95='❌\x20Магазин\x20с\x20username\x20`'+_0x34c325+_0x5dc405(0xe7);_0x2a6f0d[_0x5dc405(0x100)]>0x0?(_0x55ae95+='Доступные\x20username:\x0a',_0x2a6f0d[_0x5dc405(0xff)](_0x429d3c=>{const _0x5e7936=_0x5dc405;_0x55ae95+=_0x5e7936(0x182)+_0x429d3c[_0x5e7936(0x12d)]+'`\x20('+_0x429d3c[_0x5e7936(0x11a)]+')\x0a';}),_0x55ae95+='\x0aПроверьте\x20правильность\x20написания\x20и\x20попробуйте\x20снова.'):_0x55ae95+=_0x5dc405(0xf7);await this[_0x5dc405(0x152)]?.[_0x5dc405(0xba)](_0x3ba08a,_0x55ae95,{'parse_mode':'Markdown'});return;}if(_0x14ef81[_0x5dc405(0x166)]!==_0x5dc405(0xbc)){await this['bot']?.[_0x5dc405(0xba)](_0x3ba08a,_0x5dc405(0xc7)+_0x34c325+_0x5dc405(0xd2)+_0x5dc405(0xe8),{'parse_mode':_0x5dc405(0x125)});return;}if(_0x14ef81[_0x5dc405(0xd4)]!==_0x509106&&_0x14ef81[_0x5dc405(0x162)]!==_0x509106){await this[_0x5dc405(0x152)]?.['sendMessage'](_0x3ba08a,_0x5dc405(0xfb)+_0x34c325+_0x5dc405(0x15c)+'Проверьте\x20правильность\x20ключа\x20и\x20попробуйте\x20снова.\x0a\x0a'+'Ожидаемый\x20формат\x20ключа:\x20`pk_...`\x20или\x20`sk_...`',{'parse_mode':_0x5dc405(0x125)});return;}const _0x1094fa=await database_1[_0x5dc405(0x127)][_0x5dc405(0xb2)][_0x5dc405(0xea)]({'where':{'shopId':_0x14ef81['id'],'isVerified':!![],'telegramId':{'not':_0x2a148e}}});if(_0x1094fa){await this['bot']?.[_0x5dc405(0xba)](_0x3ba08a,_0x5dc405(0x9b)+_0x34c325+_0x5dc405(0xbb)+'Сначала\x20отключите\x20предыдущий\x20аккаунт\x20или\x20обратитесь\x20к\x20администратору.',{'parse_mode':_0x5dc405(0x125)});return;}await database_1[_0x5dc405(0x127)]['telegramUser']['update']({'where':{'telegramId':_0x2a148e},'data':{'shopId':_0x14ef81['id'],'isVerified':!![]}}),await this['bot']?.[_0x5dc405(0xba)](_0x3ba08a,_0x5dc405(0xe9)+_0x5dc405(0xed)+('📱\x20Магазин:\x20*'+_0x14ef81[_0x5dc405(0x11a)]+'*\x0a')+(_0x5dc405(0xc2)+_0x14ef81[_0x5dc405(0x12d)]+_0x5dc405(0x118))+_0x5dc405(0x16d)+_0x5dc405(0x183)+_0x5dc405(0x103)+_0x5dc405(0xf6)+_0x5dc405(0xae)+_0x5dc405(0x10f)+'/status\x20-\x20проверить\x20статус\x20подключения\x0a'+_0x5dc405(0x17e),{'parse_mode':_0x5dc405(0x125)}),console['log'](_0x5dc405(0x113)+_0x2a148e+_0x5dc405(0xdc)+_0x14ef81[_0x5dc405(0x12d)]+'\x20via\x20multiline\x20input');}catch(_0x5602e4){console[_0x5dc405(0xac)](_0x5dc405(0xdf),_0x5602e4),await this[_0x5dc405(0x152)]?.[_0x5dc405(0xba)](_0x3ba08a,_0x5dc405(0x170));}}async[a49_0x2d080d(0x135)](_0x58dbf2,_0x1b823e,_0x2aa8b2){const _0x2e6523=a49_0x2d080d;try{console[_0x2e6523(0x115)](_0x2e6523(0xbf)+_0x1b823e+_0x2e6523(0xa9)+_0x2aa8b2+'\x22');const _0x2d5a29=await database_1[_0x2e6523(0x127)][_0x2e6523(0xe5)]['findUnique']({'where':{'username':_0x2aa8b2},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x2d5a29){const _0x5c2cf8=await database_1[_0x2e6523(0x127)][_0x2e6523(0xe5)][_0x2e6523(0x167)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x79319b=_0x2e6523(0xb8)+_0x2aa8b2+_0x2e6523(0xe7);_0x5c2cf8[_0x2e6523(0x100)]>0x0?(_0x79319b+=_0x2e6523(0xf5),_0x5c2cf8[_0x2e6523(0xff)](_0x160385=>{const _0x313fba=_0x2e6523;_0x79319b+=_0x313fba(0x182)+_0x160385[_0x313fba(0x12d)]+'`\x20('+_0x160385[_0x313fba(0x11a)]+')\x0a';}),_0x79319b+=_0x2e6523(0x17d)):_0x79319b+=_0x2e6523(0xf7);await this['bot']?.['sendMessage'](_0x58dbf2,_0x79319b,{'parse_mode':_0x2e6523(0x125)});return;}if(_0x2d5a29['status']!==_0x2e6523(0xbc)){await this[_0x2e6523(0x152)]?.['sendMessage'](_0x58dbf2,_0x2e6523(0xc7)+_0x2aa8b2+_0x2e6523(0xd2)+_0x2e6523(0xe8),{'parse_mode':'Markdown'});return;}await database_1['default'][_0x2e6523(0xb2)]['update']({'where':{'telegramId':_0x1b823e},'data':{'shopId':_0x2d5a29['id'],'isVerified':![]}}),await this[_0x2e6523(0x152)]?.['sendMessage'](_0x58dbf2,_0x2e6523(0x138)+_0x2aa8b2+_0x2e6523(0x147)+(_0x2e6523(0x149)+_0x2d5a29[_0x2e6523(0x11a)]+_0x2e6523(0x11f))+'Теперь\x20отправьте\x20ваш\x20*API\x20ключ*\x20(публичный\x20или\x20секретный\x20ключ,\x20начинающийся\x20с\x20`pk\x5c_`\x20или\x20`sk\x5c_`)',{'parse_mode':_0x2e6523(0x125)}),console[_0x2e6523(0x115)](_0x2e6523(0x186)+_0x1b823e+_0x2e6523(0x120)+_0x2d5a29[_0x2e6523(0x12d)]);}catch(_0x25ef90){console[_0x2e6523(0xac)](_0x2e6523(0x165),_0x25ef90),await this[_0x2e6523(0x152)]?.[_0x2e6523(0xba)](_0x58dbf2,_0x2e6523(0xe6));}}async[a49_0x2d080d(0x15d)](_0x4c5f53,_0x13f962,_0x10476d){const _0xeee4fe=a49_0x2d080d;try{console['log']('🔄\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20'+_0x13f962+_0xeee4fe(0x163)+_0x10476d[_0xeee4fe(0xaf)](0x0,0xa)+'...\x22');const _0x349df1=await database_1[_0xeee4fe(0x127)][_0xeee4fe(0xb2)][_0xeee4fe(0x13e)]({'where':{'telegramId':_0x13f962},'include':{'shop':!![]}});if(!_0x349df1?.[_0xeee4fe(0x132)]){await this['bot']?.[_0xeee4fe(0xba)](_0x4c5f53,_0xeee4fe(0x11c)+_0xeee4fe(0x9c)+'1️⃣\x20Username\x0a'+'2️⃣\x20API\x20ключ');return;}if(_0x349df1['isVerified']){await this[_0xeee4fe(0x152)]?.['sendMessage'](_0x4c5f53,_0xeee4fe(0x111)+(_0x349df1[_0xeee4fe(0xe5)]?.[_0xeee4fe(0x11a)]||_0xeee4fe(0x169))+'*.\x0a\x0a'+_0xeee4fe(0x12a),{'parse_mode':_0xeee4fe(0x125)});return;}const _0x1ec337=await database_1['default'][_0xeee4fe(0xe5)][_0xeee4fe(0xea)]({'where':{'id':_0x349df1[_0xeee4fe(0x132)],'OR':[{'publicKey':_0x10476d},{'secretKey':_0x10476d}]}});if(!_0x1ec337){await this[_0xeee4fe(0x152)]?.['sendMessage'](_0x4c5f53,_0xeee4fe(0xc0)+_0xeee4fe(0xc5)+'Ожидаемый\x20формат\x20ключа:\x20`pk_...`\x20или\x20`sk_...`',{'parse_mode':'Markdown'}),await database_1[_0xeee4fe(0x127)][_0xeee4fe(0xb2)][_0xeee4fe(0x13b)]({'where':{'telegramId':_0x13f962},'data':{'shopId':null,'isVerified':![]}}),console[_0xeee4fe(0x115)](_0xeee4fe(0x185)+_0x13f962+_0xeee4fe(0xc4));return;}const _0xda6fae=await database_1[_0xeee4fe(0x127)][_0xeee4fe(0xb2)][_0xeee4fe(0xea)]({'where':{'shopId':_0x1ec337['id'],'isVerified':!![],'telegramId':{'not':_0x13f962}}});if(_0xda6fae){await this[_0xeee4fe(0x152)]?.[_0xeee4fe(0xba)](_0x4c5f53,_0xeee4fe(0x9b)+_0x1ec337[_0xeee4fe(0x12d)]+'`\x20уже\x20подключен\x20другой\x20Telegram\x20аккаунт.\x0a\x0a'+'Сначала\x20отключите\x20предыдущий\x20аккаунт\x20или\x20обратитесь\x20к\x20администратору.',{'parse_mode':_0xeee4fe(0x125)}),await database_1[_0xeee4fe(0x127)][_0xeee4fe(0xb2)]['update']({'where':{'telegramId':_0x13f962},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0xeee4fe(0x127)]['telegramUser']['update']({'where':{'telegramId':_0x13f962},'data':{'isVerified':!![]}}),await this[_0xeee4fe(0x152)]?.[_0xeee4fe(0xba)](_0x4c5f53,'🎉\x20*Поздравляем!*\x0a\x0a'+_0xeee4fe(0xed)+(_0xeee4fe(0x168)+_0x1ec337[_0xeee4fe(0x11a)]+'*\x0a')+(_0xeee4fe(0xc2)+_0x1ec337[_0xeee4fe(0x12d)]+_0xeee4fe(0x118))+_0xeee4fe(0x16d)+_0xeee4fe(0x183)+_0xeee4fe(0x103)+'•\x20Выплатах\x0a'+_0xeee4fe(0xae)+_0xeee4fe(0x10f)+_0xeee4fe(0xcf)+_0xeee4fe(0x17e),{'parse_mode':_0xeee4fe(0x125)}),console[_0xeee4fe(0x115)](_0xeee4fe(0x113)+_0x13f962+'\x20verified\x20for\x20shop\x20'+_0x1ec337['username']);}catch(_0x1782fa){console[_0xeee4fe(0xac)](_0xeee4fe(0x184),_0x1782fa),await this[_0xeee4fe(0x152)]?.['sendMessage'](_0x4c5f53,_0xeee4fe(0x17b));}}async['sendShopNotification'](_0x501cf1,_0x14fcaf,_0x4ebad1){const _0x377642=a49_0x2d080d;if(!this[_0x377642(0x152)]){console['warn'](_0x377642(0x160));return;}try{const _0x2a0737=await database_1[_0x377642(0x127)][_0x377642(0xb2)][_0x377642(0x167)]({'where':{'shopId':_0x501cf1,'isVerified':!![]}});if(_0x2a0737[_0x377642(0x100)]===0x0){console['log'](_0x377642(0x17f)+_0x501cf1);return;}const _0x3cd3a0=_0x2a0737[_0x377642(0xcd)](async _0x5c916f=>{const _0xb7f027=_0x377642;try{await this['bot']?.['sendMessage'](_0x5c916f[_0xb7f027(0x174)],_0x14fcaf,_0x4ebad1),console[_0xb7f027(0x115)](_0xb7f027(0x114)+_0x5c916f[_0xb7f027(0x174)]);}catch(_0x4657ec){console[_0xb7f027(0xac)]('❌\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20'+_0x5c916f[_0xb7f027(0x174)]+':',_0x4657ec),_0x4657ec instanceof Error&&(_0x4657ec[_0xb7f027(0xdd)][_0xb7f027(0x10b)](_0xb7f027(0xab))||_0x4657ec[_0xb7f027(0xdd)][_0xb7f027(0x10b)](_0xb7f027(0xce))||_0x4657ec[_0xb7f027(0xdd)][_0xb7f027(0x10b)](_0xb7f027(0xf1)))&&(await database_1[_0xb7f027(0x127)][_0xb7f027(0xb2)]['update']({'where':{'id':_0x5c916f['id']},'data':{'isVerified':![]}}),console[_0xb7f027(0x115)](_0xb7f027(0xb3)+_0x5c916f['telegramId']+'\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure'));}});await Promise[_0x377642(0xd3)](_0x3cd3a0);}catch(_0x29bf42){console[_0x377642(0xac)](_0x377642(0xfc),_0x29bf42);}}async[a49_0x2d080d(0x11e)](_0x2c80cf,_0x519d47,_0x5ff5b2){const _0x124680=a49_0x2d080d,_0x5f341f={'created':'🆕','paid':'✅','failed':'❌','expired':'⏰','refund':'🔄','chargeback':'⚠️'},_0x4d721b={'created':_0x124680(0x156),'paid':_0x124680(0x155),'failed':_0x124680(0x10c),'expired':_0x124680(0x14c),'refund':_0x124680(0xfa),'chargeback':_0x124680(0x12c)},_0x2f6129=_0x5f341f[_0x5ff5b2],_0x378e0e=_0x4d721b[_0x5ff5b2];let _0x35b9cb=_0x2f6129+'\x20*'+_0x378e0e+_0x124680(0x11f)+(_0x124680(0x144)+_0x519d47['amount']+'\x20'+_0x519d47[_0x124680(0x10d)]+'*\x0a')+('📝\x20Order\x20ID:\x20`'+(_0x519d47['orderId']||_0x519d47['id'])+'`\x0a')+(_0x124680(0x179)+_0x519d47['id']+'`\x0a')+(_0x124680(0xb7)+_0x519d47[_0x124680(0x164)][_0x124680(0xf3)]()+'`\x0a')+('📅\x20Дата:\x20'+new Date(_0x519d47[_0x124680(0xc9)])['toLocaleString']('ru-RU')+'\x0a');_0x5ff5b2==='chargeback'&&_0x519d47[_0x124680(0xb6)]&&(_0x35b9cb+='💸\x20Сумма\x20штрафа:\x20*'+_0x519d47[_0x124680(0xb6)]+'\x20USDT*\x0a'),_0x519d47[_0x124680(0x143)]&&(_0x35b9cb+=_0x124680(0x181)+_0x519d47['adminNotes']+'\x0a'),await this[_0x124680(0xf4)](_0x2c80cf,_0x35b9cb,{'parse_mode':'Markdown'});}async['sendPayoutNotification'](_0x4d04c7,_0x173861,_0x2b7a09){const _0x5d20a4=a49_0x2d080d,_0x40eca2={'created':'📤','completed':'✅','rejected':'❌'},_0x1f6b47={'created':_0x5d20a4(0x10e),'completed':_0x5d20a4(0x128),'rejected':_0x5d20a4(0x131)},_0x470cde=_0x40eca2[_0x2b7a09],_0xfbc99f=_0x1f6b47[_0x2b7a09],_0x33dcd7=_0x470cde+'\x20*'+_0xfbc99f+_0x5d20a4(0x11f)+(_0x5d20a4(0xaa)+_0x173861[_0x5d20a4(0x141)]+'\x20USD*\x0a')+('🏦\x20Метод:\x20`'+_0x173861[_0x5d20a4(0x146)]+'`\x0a')+('🆔\x20ID\x20выплаты:\x20`'+_0x173861['id']+'`\x0a')+(_0x5d20a4(0x124)+new Date(_0x173861[_0x5d20a4(0xc9)])['toLocaleString'](_0x5d20a4(0x150))+'\x0a')+(_0x173861[_0x5d20a4(0x116)]?'🔗\x20TXID:\x20`'+_0x173861[_0x5d20a4(0x116)]+'`':'');await this['sendShopNotification'](_0x4d04c7,_0x33dcd7,{'parse_mode':'Markdown'});}async[a49_0x2d080d(0xd6)](_0x4e572d,_0x7fa1a8){const _0x482189=a49_0x2d080d;try{const _0x31fe97=await database_1[_0x482189(0x127)][_0x482189(0x14b)][_0x482189(0x13e)]({'where':{'shopId':_0x4e572d},'select':{'notificationLogin':!![]}});if(!_0x31fe97?.[_0x482189(0xa8)]){console[_0x482189(0x115)](_0x482189(0xec)+_0x4e572d);return;}const _0x9aace8=_0x7fa1a8[_0x482189(0xa7)]?'🔐':'🚨',_0xa4e5af=_0x7fa1a8[_0x482189(0xa7)]?_0x482189(0x106):'Неудачная\x20попытка\x20входа';let _0xaf7da9=_0x9aace8+'\x20*'+_0xa4e5af+_0x482189(0x11f)+(_0x482189(0xc2)+_0x7fa1a8[_0x482189(0x12d)]+'`\x0a')+(_0x482189(0x13d)+_0x7fa1a8['timestamp'][_0x482189(0xb0)](_0x482189(0x150))+'\x0a');_0x7fa1a8[_0x482189(0x16e)]&&(_0xaf7da9+=_0x482189(0x109)+_0x7fa1a8[_0x482189(0x16e)]+'`\x0a');if(_0x7fa1a8['userAgent']){const _0x5f26fa=_0x7fa1a8[_0x482189(0xa4)]['length']>0x32?_0x7fa1a8[_0x482189(0xa4)]['substring'](0x0,0x32)+_0x482189(0xc1):_0x7fa1a8[_0x482189(0xa4)];_0xaf7da9+=_0x482189(0x11d)+_0x5f26fa+'`\x0a';}!_0x7fa1a8[_0x482189(0xa7)]&&(_0xaf7da9+=_0x482189(0xc8)),await this[_0x482189(0xf4)](_0x4e572d,_0xaf7da9,{'parse_mode':_0x482189(0x125)}),console['log'](_0x482189(0x14d)+_0x4e572d+':\x20'+(_0x7fa1a8[_0x482189(0xa7)]?'success':_0x482189(0x148)));}catch(_0x480ec8){console['error'](_0x482189(0x158),_0x480ec8);}}async['sendApiErrorNotification'](_0x5c8c02,_0x371d82){const _0x2bbf00=a49_0x2d080d;try{const _0xa3dc7d=await database_1[_0x2bbf00(0x127)][_0x2bbf00(0x14b)][_0x2bbf00(0x13e)]({'where':{'shopId':_0x5c8c02},'select':{'notificationApiError':!![]}});if(!_0xa3dc7d?.[_0x2bbf00(0xb5)]){console[_0x2bbf00(0x115)]('📱\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20'+_0x5c8c02);return;}let _0x34e2f4=_0x2bbf00(0x14f)+('🔗\x20Endpoint:\x20`'+_0x371d82['method']+'\x20'+_0x371d82[_0x2bbf00(0x134)]+'`\x0a')+(_0x2bbf00(0x13d)+_0x371d82[_0x2bbf00(0x145)][_0x2bbf00(0xb0)](_0x2bbf00(0x150))+'\x0a');_0x371d82[_0x2bbf00(0xbd)]&&(_0x34e2f4+=_0x2bbf00(0x171)+_0x371d82[_0x2bbf00(0xbd)]+'`\x0a'),_0x34e2f4+='❌\x20Ошибка:\x20`'+_0x371d82[_0x2bbf00(0xf9)]+'`\x0a',_0x371d82[_0x2bbf00(0x173)]&&(_0x34e2f4+=_0x2bbf00(0xcc)+_0x371d82[_0x2bbf00(0x173)]+'`\x0a'),_0x34e2f4+='\x0a💡\x20Проверьте\x20правильность\x20запроса\x20или\x20обратитесь\x20в\x20поддержку.',await this[_0x2bbf00(0xf4)](_0x5c8c02,_0x34e2f4,{'parse_mode':_0x2bbf00(0x125)}),console[_0x2bbf00(0x115)]('✅\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20'+_0x5c8c02+':\x20'+_0x371d82[_0x2bbf00(0x134)]);}catch(_0x44c8ce){console[_0x2bbf00(0xac)]('Failed\x20to\x20send\x20API\x20error\x20notification:',_0x44c8ce);}}async[a49_0x2d080d(0x172)](_0x20b552,_0x281c70,_0x35a10e){const _0x1147b1=a49_0x2d080d;let _0x1e7822=_0x1147b1(0xde)+_0x281c70+_0x1147b1(0x11f);for(const [_0x5d25b0,_0x2ebcfb]of Object['entries'](_0x35a10e)){_0x2ebcfb!==null&&_0x2ebcfb!==undefined&&(_0x1e7822+=_0x5d25b0+_0x1147b1(0x12f)+_0x2ebcfb+'`\x0a');}await this[_0x1147b1(0xf4)](_0x20b552,_0x1e7822,{'parse_mode':_0x1147b1(0x125)});}[a49_0x2d080d(0x14a)](){const _0x55b1e5=a49_0x2d080d;return{'isActive':!!this[_0x55b1e5(0x152)],'username':this[_0x55b1e5(0xf0)]};}[a49_0x2d080d(0x117)](){const _0x374cb8=a49_0x2d080d;this[_0x374cb8(0x152)]&&(this[_0x374cb8(0x152)][_0x374cb8(0x137)](),this[_0x374cb8(0x152)]=null,console[_0x374cb8(0x115)]('🛑\x20Telegram\x20bot\x20stopped'));}}function a49_0x2a85(){const _0x5faf21=['timestamp','method','`\x20найден!\x0a\x0a','failed','Магазин:\x20*','getBotInfo','shopSettings','Платеж\x20истек','✅\x20Login\x20notification\x20sent\x20for\x20shop\x20','last_name','🚨\x20*Ошибка\x20API*\x0a\x0a','ru-RU','Error\x20handling\x20/disconnect\x20command:','bot','updatedAt','❗️\x20Убедитесь,\x20что\x20отправляете\x20данные\x20в\x20правильном\x20порядке!','Платеж\x20успешно\x20оплачен','Создан\x20новый\x20платеж','🤖\x20Добро\x20пожаловать\x20в\x20систему\x20уведомлений\x20TesSoft\x20Payment!\x0a\x0a','Failed\x20to\x20send\x20login\x20notification:','✅\x20Вы\x20успешно\x20отключены\x20от\x20магазина\x20*','2️⃣\x20Затем\x20отправьте\x20ваш\x20*API\x20ключ*\x0a\x0a','🔌\x20User\x20','`.\x0a\x0a','handleApiKeyVerification','create','📱\x20Created\x20new\x20Telegram\x20user:\x20','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','753856NcTsdb','secretKey',':\x20apiKey=\x22','gateway','Error\x20in\x20handleUsernameVerification:','status','findMany','📱\x20Магазин:\x20*','неизвестный','`appple`\x0a','❌\x20Произошла\x20ошибка.\x20Попробуйте\x20позже.','TelegramBotService','🔔\x20Теперь\x20вы\x20будете\x20получать\x20уведомления\x20о:\x0a','ipAddress','trim','❌\x20Произошла\x20ошибка\x20при\x20проверке\x20данных.','📊\x20Код\x20ошибки:\x20`','sendCustomNotification','requestId','telegramId','trapay_bot','33772yBPoLd','❌\x20Вы\x20не\x20подключены\x20к\x20системе\x20уведомлений.','Для\x20получения\x20уведомлений\x20о\x20платежах,\x20пожалуйста:\x0a\x0a','🆔\x20ID\x20платежа:\x20`','946960iHmzoq','❌\x20Произошла\x20ошибка\x20при\x20проверке\x20API\x20ключа.','.\x20*','\x0aПроверьте\x20правильность\x20написания\x20и\x20попробуйте\x20снова.','/disconnect\x20-\x20отключиться\x20от\x20уведомлений','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','🔄\x20Processing\x20multiline\x20verification\x20for\x20user\x20','📝\x20Заметки:\x20','•\x20`','•\x20Новых\x20платежах\x0a','Error\x20in\x20handleApiKeyVerification:','❌\x20Invalid\x20API\x20key\x20for\x20user\x20','📝\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','TELEGRAM_BOT_TOKEN','неизвестный\x20магазин','❌\x20К\x20магазину\x20`','Порядок:\x0a','🔔\x20Вы\x20получаете\x20уведомления\x20о:\x0a','handleMultilineVerification','filter','TELEGRAM_BOT_USERNAME','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','4tfJlOu','botToken','userAgent','\x22,\x20apiKey=\x22','90VpMqss','success','notificationLogin',':\x20username=\x22','💸\x20Сумма:\x20*','blocked','error','❌\x20Неверный\x20формат\x20API\x20ключа.\x0a\x0a','•\x20Важных\x20событиях\x0a\x0a','substring','toLocaleString','node-telegram-bot-api','telegramUser','User\x20','setupBotHandlers','notificationApiError','chargebackAmount','🏪\x20Шлюз:\x20`','❌\x20Магазин\x20с\x20username\x20`','Telegram\x20bot\x20error:','sendMessage','`\x20уже\x20подключен\x20другой\x20Telegram\x20аккаунт.\x0a\x0a','ACTIVE','statusCode','994752GLsUxJ','🔄\x20Processing\x20username\x20verification\x20for\x20user\x20','❌\x20API\x20ключ\x20не\x20соответствует\x20магазину.\x0a\x0a','...','👤\x20Username:\x20`','✅\x20Telegram\x20bot\x20@',',\x20reset\x20shop\x20association','Проверьте\x20правильность\x20ключа\x20или\x20начните\x20заново\x20с\x20команды\x20/start\x0a\x0a','Используйте\x20/status\x20для\x20проверки\x20статуса\x20или\x20/disconnect\x20для\x20отключения.','❌\x20Магазин\x20`','\x0a⚠️\x20Если\x20это\x20не\x20вы,\x20немедленно\x20смените\x20пароль!','createdAt','pk_','6dkOlGd','🆔\x20Request\x20ID:\x20`','map','chat\x20not\x20found','/status\x20-\x20проверить\x20статус\x20подключения\x0a','text','Пожалуйста,\x20отправьте:\x0a','`\x20неактивен.\x0a\x0a','allSettled','publicKey','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','sendLoginNotification','✅\x20Добро\x20пожаловать\x20обратно!\x0a\x0a','\x20(@','chat','📊\x20*Статус\x20подключения*\x0a\x0a','initializeBot','\x20verified\x20for\x20shop\x20','message','🔔\x20*','Error\x20in\x20handleMultilineVerification:','\x20\x20\x20Status:\x20','❌\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','🔔\x20Уведомления\x20активны\x0a\x0a','2067579yOXWzc','Username:\x20`','shop','❌\x20Произошла\x20ошибка\x20при\x20проверке\x20username.','`\x20не\x20найден.\x0a\x0a','Обратитесь\x20к\x20администратору.','🎉\x20*Поздравляем!*\x0a\x0a','findFirst','defineProperty','📱\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','✅\x20Вы\x20успешно\x20подключены\x20к\x20системе\x20уведомлений!\x0a\x0a','❌\x20Неверный\x20формат\x20данных.\x0a\x0a','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','botUsername','user\x20is\x20deactivated','startsWith','toUpperCase','sendShopNotification','Доступные\x20username:\x0a','•\x20Выплатах\x0a','Проверьте\x20правильность\x20написания\x20и\x20попробуйте\x20снова.','onText','errorMessage','Возврат\x20платежа','❌\x20API\x20ключ\x20не\x20соответствует\x20магазину\x20`','Error\x20sending\x20shop\x20notification:','2️⃣\x20Затем\x20ваш\x20API\x20ключ\x20(начинается\x20с\x20pk\x5c_\x20или\x20sk\x5c_)\x0a\x0a','111874UsoVzD','forEach','length','•\x20Выплатах\x0a\x0a','\x20initialized\x20successfully','•\x20Изменении\x20статуса\x20платежей\x0a','telegramBotService','\x20\x20\x20Username:\x20`','Успешный\x20вход\x20в\x20систему','114GYrGwL','toString','🌐\x20IP\x20адрес:\x20`','Вы\x20можете\x20отправить\x20их\x20в\x20одном\x20сообщении\x20через\x20перенос\x20строки:\x0a','includes','Платеж\x20отклонен','currency','Создана\x20новая\x20выплата','Команды:\x0a','Error\x20handling\x20/debug\x20command:','✅\x20Вы\x20уже\x20подключены\x20к\x20магазину\x20*','❌\x20Вы\x20не\x20подключены\x20к\x20магазину.\x0a\x0a','✅\x20Telegram\x20user\x20','✅\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','log','txid','stopBot','`\x0a\x0a','📱\x20Ваш\x20Telegram\x20ID:\x20`','name','*.\x0a\x0a','❌\x20Сначала\x20отправьте\x20ваш\x20username.\x0a\x0a','💻\x20Браузер:\x20`','sendPaymentNotification','*\x0a\x0a','\x20with\x20shop\x20','../config/database','test','API\x20ключ\x20должен\x20начинаться\x20с\x20`pk\x5c_`\x20или\x20`sk\x5c_`.','📅\x20Дата:\x20','Markdown','❌\x20Произошла\x20ошибка\x20при\x20получении\x20отладочной\x20информации.','default','Выплата\x20завершена','Вы\x20уже\x20подключены\x20к\x20магазину:\x20*','Используйте\x20/status\x20для\x20проверки\x20статуса.','env','Чарджбэк\x20по\x20платежу','username','✅\x20Подключен\x20к\x20магазину:\x20*',':\x20`','__importDefault','Выплата\x20отклонена','shopId','985iqiVNx','endpoint','handleUsernameVerification','Используйте\x20/start\x20для\x20подключения.','stopPolling','✅\x20Username\x20`','from','polling_error','update','1️⃣\x20Отправьте\x20ваш\x20*username*\x20(логин\x20от\x20панели)\x0a','📅\x20Время:\x20','findUnique','Пример:\x0a','isVerified','amount','__esModule','adminNotes','💰\x20Сумма:\x20*'];a49_0x2a85=function(){return _0x5faf21;};return a49_0x2a85();}exports[a49_0x2d080d(0x16c)]=TelegramBotService,exports[a49_0x2d080d(0x104)]=new TelegramBotService();