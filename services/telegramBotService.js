'use strict';const a48_0x2fc41e=a48_0x54f0;function a48_0x4107(){const _0x1e690d=['‚Ä¢\x20`','errorMessage','1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a','üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`','API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.','üí∞\x20–°—É–º–º–∞:\x20*','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','first_name','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','findMany','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','currency','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.','‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','amount','645054zruPUe','431958QFICcR','sendShopNotification','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a','`.\x0a\x0a','botUsername','–ö–æ–º–∞–Ω–¥—ã:\x0a','__importDefault','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','requestId','–ü—Ä–∏–º–µ—Ä:\x0a','handleUsernameVerification','txid','üìù\x20Order\x20ID:\x20`','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a','success','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','create','findUnique','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','ru-RU','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','üìÖ\x20–î–∞—Ç–∞:\x20','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','\x20verified\x20for\x20shop\x20','6953785UwrDEa','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.','üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20','TelegramBotService','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','length','`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a','telegramId','sendPayoutNotification','–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','`appple`\x0a','sendPaymentNotification','endpoint','*\x0a\x0a','shopSettings','pk_','username','TELEGRAM_BOT_USERNAME','../config/database','telegramBotService','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','`\x0a\x0a','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','node-telegram-bot-api','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','gateway','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.','Error\x20in\x20handleUsernameVerification:','Error\x20sending\x20shop\x20notification:','–ü–æ—Ä—è–¥–æ–∫:\x0a','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','Markdown','737GISTDb','chat\x20not\x20found','–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','initializeBot','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','\x20USD*\x0a','5011496GmjpTa','\x20with\x20shop\x20','name','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','shopId','Error\x20in\x20handleApiKeyVerification:','toString','...','Error\x20handling\x20/debug\x20command:','üí∏\x20–°—É–º–º–∞:\x20*','bot','sendCustomNotification','ipAddress','orderId','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','Error\x20handling\x20/start\x20command:','sendApiErrorNotification','substring','‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!','chat','üîó\x20Endpoint:\x20`','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','forEach','allSettled','last_name','timestamp','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','2Ô∏è‚É£\x20API\x20–∫–ª—é—á',':\x20username=\x22','Error\x20in\x20handleMultilineVerification:','Error\x20handling\x20/disconnect\x20command:','isVerified','update','sk_','findFirst','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a','text','üë§\x20Username:\x20`','üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`','–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞','log','1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a','handleMultilineVerification','statusCode','userAgent','filter','ACTIVE','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','startsWith','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','1Ô∏è‚É£\x20Username\x0a','shop','env','default','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','secretKey','handleApiKeyVerification','üîå\x20User\x20','\x20\x20\x20Status:\x20','10071261PSpGcM','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','includes','–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','telegramUser','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','Failed\x20to\x20send\x20API\x20error\x20notification:','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','üîó\x20TXID:\x20`','chargebackAmount','üè¶\x20–ú–µ—Ç–æ–¥:\x20`','\x20\x20\x20Username:\x20`','message','\x20\x20\x20Public\x20Key:\x20`','üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','TELEGRAM_BOT_TOKEN','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','status','defineProperty','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a','–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞','70ZkSddr','Error\x20handling\x20/status\x20command:','Telegram\x20bot\x20polling\x20error:','946407MHTNRq','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a','üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','trim','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','sendLoginNotification','method','warn','botToken','blocked','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','from','trapay_bot','notificationApiError','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','setupBotHandlers','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','sendMessage','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','publicKey','test','error','üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20','4PYSrRJ','__esModule','toLocaleString','–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*','161410asSgdS','üìÖ\x20–í—Ä–µ–º—è:\x20','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a','onText','split','‚úÖ\x20Telegram\x20user\x20','Username:\x20`','12GsnPsl','`\x20(','*.\x0a\x0a','...`\x0a\x0a','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','map','\x20USDT*\x0a'];a48_0x4107=function(){return _0x1e690d;};return a48_0x4107();}(function(_0x594f1e,_0x41d00d){const _0x463b17=a48_0x54f0,_0x5b94de=_0x594f1e();while(!![]){try{const _0xfa8e98=parseInt(_0x463b17(0x21c))/0x1+-parseInt(_0x463b17(0x175))/0x2*(-parseInt(_0x463b17(0x244))/0x3)+parseInt(_0x463b17(0x238))/0x4*(-parseInt(_0x463b17(0x191))/0x5)+-parseInt(_0x463b17(0x176))/0x6*(-parseInt(_0x463b17(0x219))/0x7)+-parseInt(_0x463b17(0x1c1))/0x8+-parseInt(_0x463b17(0x202))/0x9+-parseInt(_0x463b17(0x23d))/0xa*(-parseInt(_0x463b17(0x1b9))/0xb);if(_0xfa8e98===_0x41d00d)break;else _0x5b94de['push'](_0x5b94de['shift']());}catch(_0x47c1ca){_0x5b94de['push'](_0x5b94de['shift']());}}}(a48_0x4107,0xdc225));function a48_0x54f0(_0x38d160,_0x255194){const _0x410748=a48_0x4107();return a48_0x54f0=function(_0x54f06f,_0x157db1){_0x54f06f=_0x54f06f-0x16a;let _0x2b85a2=_0x410748[_0x54f06f];return _0x2b85a2;},a48_0x54f0(_0x38d160,_0x255194);}var __importDefault=this&&this[a48_0x2fc41e(0x17c)]||function(_0x1ac94d){const _0x173680=a48_0x2fc41e;return _0x1ac94d&&_0x1ac94d[_0x173680(0x239)]?_0x1ac94d:{'default':_0x1ac94d};};Object[a48_0x2fc41e(0x216)](exports,a48_0x2fc41e(0x239),{'value':!![]}),exports[a48_0x2fc41e(0x1a5)]=exports[a48_0x2fc41e(0x195)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a48_0x2fc41e(0x1aa))),database_1=__importDefault(require(a48_0x2fc41e(0x1a4)));class TelegramBotService{constructor(){const _0x142fab=a48_0x2fc41e;this['bot']=null,this[_0x142fab(0x227)]=process[_0x142fab(0x1f6)][_0x142fab(0x213)]||'',this[_0x142fab(0x17a)]=process[_0x142fab(0x1f6)][_0x142fab(0x1a3)]||_0x142fab(0x22b),this['botToken']?this[_0x142fab(0x1be)]():console[_0x142fab(0x226)](_0x142fab(0x221));}[a48_0x2fc41e(0x1be)](){const _0x481da5=a48_0x2fc41e;try{this[_0x481da5(0x1cb)]=new node_telegram_bot_api_1[(_0x481da5(0x1f7))](this[_0x481da5(0x227)],{'polling':!![]}),this[_0x481da5(0x230)](),console['log']('‚úÖ\x20Telegram\x20bot\x20@'+this[_0x481da5(0x17a)]+'\x20initialized\x20successfully');}catch(_0x2c6d8f){console[_0x481da5(0x236)](_0x481da5(0x1fd),_0x2c6d8f);}}[a48_0x2fc41e(0x230)](){const _0x281728=a48_0x2fc41e;if(!this['bot'])return;this[_0x281728(0x1cb)][_0x281728(0x240)](/\/start/,async _0x47a332=>{const _0x4f43f9=_0x281728,_0x17c673=_0x47a332[_0x4f43f9(0x1d4)]['id'],_0x51e50c=_0x47a332[_0x4f43f9(0x22a)]?.['id']['toString'](),_0x3b4f90=_0x47a332[_0x4f43f9(0x22a)]?.[_0x4f43f9(0x1a2)],_0x35a743=_0x47a332[_0x4f43f9(0x22a)]?.[_0x4f43f9(0x16d)],_0x51b9fc=_0x47a332[_0x4f43f9(0x22a)]?.[_0x4f43f9(0x1da)];if(!_0x51e50c)return;try{let _0x5d2237=await database_1[_0x4f43f9(0x1f7)][_0x4f43f9(0x207)]['findUnique']({'where':{'telegramId':_0x51e50c},'include':{'shop':!![]}});!_0x5d2237?(_0x5d2237=await database_1[_0x4f43f9(0x1f7)][_0x4f43f9(0x207)][_0x4f43f9(0x189)]({'data':{'telegramId':_0x51e50c,'username':_0x3b4f90,'firstName':_0x35a743,'lastName':_0x51b9fc,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console['log']('üì±\x20Created\x20new\x20Telegram\x20user:\x20'+_0x51e50c+'\x20(@'+_0x3b4f90+')')):_0x5d2237=await database_1[_0x4f43f9(0x1f7)][_0x4f43f9(0x207)][_0x4f43f9(0x1e2)]({'where':{'telegramId':_0x51e50c},'data':{'username':_0x3b4f90,'firstName':_0x35a743,'lastName':_0x51b9fc},'include':{'shop':!![]}}),_0x5d2237[_0x4f43f9(0x1e1)]&&_0x5d2237[_0x4f43f9(0x1c5)]&&_0x5d2237[_0x4f43f9(0x1f5)]?await this[_0x4f43f9(0x1cb)]?.[_0x4f43f9(0x232)](_0x17c673,_0x4f43f9(0x233)+(_0x4f43f9(0x1bd)+_0x5d2237['shop'][_0x4f43f9(0x1c3)]+'*\x0a')+(_0x4f43f9(0x243)+_0x5d2237['shop'][_0x4f43f9(0x1a2)]+_0x4f43f9(0x1a7))+'üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a'+_0x4f43f9(0x212)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x4f43f9(0x184)+'–ö–æ–º–∞–Ω–¥—ã:\x0a'+_0x4f43f9(0x1fc)+_0x4f43f9(0x18f),{'parse_mode':_0x4f43f9(0x1b8)}):(_0x5d2237[_0x4f43f9(0x1c5)]&&!_0x5d2237[_0x4f43f9(0x1e1)]&&(await database_1[_0x4f43f9(0x1f7)][_0x4f43f9(0x207)][_0x4f43f9(0x1e2)]({'where':{'telegramId':_0x51e50c},'data':{'shopId':null,'isVerified':![]}}),console[_0x4f43f9(0x1ea)](_0x4f43f9(0x16c)+_0x51e50c)),await this[_0x4f43f9(0x1cb)]?.['sendMessage'](_0x17c673,_0x4f43f9(0x248)+'–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a'+_0x4f43f9(0x24d)+_0x4f43f9(0x1fb)+_0x4f43f9(0x21e)+_0x4f43f9(0x180)+_0x4f43f9(0x19c)+_0x4f43f9(0x1f8)+_0x4f43f9(0x1d3),{'parse_mode':_0x4f43f9(0x1b8)}));}catch(_0x153fae){console[_0x4f43f9(0x236)](_0x4f43f9(0x1d0),_0x153fae),await this[_0x4f43f9(0x1cb)]?.[_0x4f43f9(0x232)](_0x17c673,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x281728(0x1cb)][_0x281728(0x240)](/\/disconnect/,async _0x14a812=>{const _0x4af559=_0x281728,_0x162c9b=_0x14a812[_0x4af559(0x1d4)]['id'],_0x3a8c11=_0x14a812['from']?.['id']['toString']();if(!_0x3a8c11)return;try{const _0x330210=await database_1[_0x4af559(0x1f7)][_0x4af559(0x207)][_0x4af559(0x18a)]({'where':{'telegramId':_0x3a8c11},'include':{'shop':!![]}});if(!_0x330210||!_0x330210['isVerified']||!_0x330210[_0x4af559(0x1c5)]){await this[_0x4af559(0x1cb)]?.['sendMessage'](_0x162c9b,_0x4af559(0x1ae));return;}const _0x22dcf1=_0x330210[_0x4af559(0x1f5)]?.[_0x4af559(0x1c3)]||'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω';await database_1[_0x4af559(0x1f7)][_0x4af559(0x207)][_0x4af559(0x1e2)]({'where':{'telegramId':_0x3a8c11},'data':{'shopId':null,'isVerified':![]}}),console[_0x4af559(0x1ea)](_0x4af559(0x200)+_0x3a8c11+'\x20disconnected\x20from\x20shop\x20'+_0x330210[_0x4af559(0x1c5)]),await this[_0x4af559(0x1cb)]?.[_0x4af559(0x232)](_0x162c9b,_0x4af559(0x1b2)+_0x22dcf1+'*.\x0a\x0a'+_0x4af559(0x17d),{'parse_mode':_0x4af559(0x1b8)});}catch(_0x4ea191){console['error'](_0x4af559(0x1e0),_0x4ea191),await this[_0x4af559(0x1cb)]?.[_0x4af559(0x232)](_0x162c9b,_0x4af559(0x223));}}),this['bot'][_0x281728(0x240)](/\/status/,async _0x51b2d2=>{const _0x1da670=_0x281728,_0x48d5c0=_0x51b2d2[_0x1da670(0x1d4)]['id'],_0x572a28=_0x51b2d2[_0x1da670(0x22a)]?.['id'][_0x1da670(0x1c7)]();if(!_0x572a28)return;try{const _0x5ab123=await database_1[_0x1da670(0x1f7)][_0x1da670(0x207)][_0x1da670(0x18a)]({'where':{'telegramId':_0x572a28},'include':{'shop':!![]}});if(!_0x5ab123){await this['bot']?.['sendMessage'](_0x48d5c0,_0x1da670(0x23f)+_0x1da670(0x193));return;}if(!_0x5ab123[_0x1da670(0x1e1)]||!_0x5ab123[_0x1da670(0x1c5)]||!_0x5ab123[_0x1da670(0x1f5)]){await this[_0x1da670(0x1cb)]?.[_0x1da670(0x232)](_0x48d5c0,'‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a'+_0x1da670(0x1b4));return;}await this[_0x1da670(0x1cb)]?.[_0x1da670(0x232)](_0x48d5c0,_0x1da670(0x1cf)+('‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*'+_0x5ab123['shop'][_0x1da670(0x1c3)]+'*\x0a')+(_0x1da670(0x1e7)+_0x5ab123['shop'][_0x1da670(0x1a2)]+'`\x0a')+(_0x1da670(0x194)+_0x5ab123['updatedAt']['toLocaleDateString'](_0x1da670(0x18c))+'\x0a\x0a')+_0x1da670(0x211)+_0x1da670(0x17b)+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0x1da670(0x1b8)});}catch(_0x470b38){console[_0x1da670(0x236)](_0x1da670(0x21a),_0x470b38),await this[_0x1da670(0x1cb)]?.[_0x1da670(0x232)](_0x48d5c0,_0x1da670(0x223));}}),this['bot'][_0x281728(0x240)](/\/debug/,async _0x3ba25d=>{const _0x4c69a8=_0x281728,_0x506a7a=_0x3ba25d[_0x4c69a8(0x1d4)]['id'],_0x435dff=_0x3ba25d[_0x4c69a8(0x22a)]?.['id']['toString']();if(!_0x435dff)return;try{const _0x462824=await database_1[_0x4c69a8(0x1f7)][_0x4c69a8(0x1f5)]['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x51ab56='üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a';_0x51ab56+=_0x4c69a8(0x1e8)+_0x435dff+'`\x0a\x0a',_0x51ab56+='üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a',_0x462824[_0x4c69a8(0x1d8)]((_0x40e507,_0x3c6105)=>{const _0x782ce2=_0x4c69a8;_0x51ab56+=_0x3c6105+0x1+'.\x20*'+_0x40e507[_0x782ce2(0x1c3)]+'*\x0a',_0x51ab56+=_0x782ce2(0x20e)+_0x40e507['username']+'`\x0a',_0x51ab56+=_0x782ce2(0x201)+_0x40e507[_0x782ce2(0x215)]+'\x0a',_0x51ab56+=_0x782ce2(0x210)+_0x40e507[_0x782ce2(0x234)][_0x782ce2(0x1d2)](0x0,0xf)+_0x782ce2(0x247);}),await this[_0x4c69a8(0x1cb)]?.[_0x4c69a8(0x232)](_0x506a7a,_0x51ab56,{'parse_mode':_0x4c69a8(0x1b8)});}catch(_0x20aa71){console[_0x4c69a8(0x236)](_0x4c69a8(0x1c9),_0x20aa71),await this[_0x4c69a8(0x1cb)]?.[_0x4c69a8(0x232)](_0x506a7a,_0x4c69a8(0x172));}}),this['bot']['on']('message',async _0x12739f=>{const _0x50cfb2=_0x281728;if(_0x12739f[_0x50cfb2(0x1e6)]?.[_0x50cfb2(0x1f2)]('/'))return;const _0x539fc8=_0x12739f[_0x50cfb2(0x1d4)]['id'],_0x1f9d48=_0x12739f[_0x50cfb2(0x22a)]?.['id'][_0x50cfb2(0x1c7)](),_0x2ca005=_0x12739f['text']?.[_0x50cfb2(0x220)]();if(!_0x1f9d48||!_0x2ca005)return;try{const _0x35fa96=await database_1['default'][_0x50cfb2(0x207)][_0x50cfb2(0x18a)]({'where':{'telegramId':_0x1f9d48},'include':{'shop':!![]}});if(!_0x35fa96){await this['bot']?.[_0x50cfb2(0x232)](_0x539fc8,'‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start');return;}if(_0x35fa96[_0x50cfb2(0x1e1)]&&_0x35fa96[_0x50cfb2(0x1c5)]&&_0x35fa96[_0x50cfb2(0x1f5)]){await this[_0x50cfb2(0x1cb)]?.[_0x50cfb2(0x232)](_0x539fc8,_0x50cfb2(0x1c4)+_0x35fa96[_0x50cfb2(0x1f5)][_0x50cfb2(0x1c3)]+_0x50cfb2(0x246)+_0x50cfb2(0x1ad),{'parse_mode':_0x50cfb2(0x1b8)});return;}const _0x2dcc80=_0x2ca005[_0x50cfb2(0x241)]('\x0a')[_0x50cfb2(0x249)](_0x32cbd0=>_0x32cbd0[_0x50cfb2(0x220)]())[_0x50cfb2(0x1ef)](_0x4372bf=>_0x4372bf['length']>0x0);if(_0x2dcc80[_0x50cfb2(0x197)]===0x2){const [_0x2450e6,_0x2dcb25]=_0x2dcc80;await this[_0x50cfb2(0x1ec)](_0x539fc8,_0x1f9d48,_0x2450e6,_0x2dcb25);}else{if(_0x2dcc80[_0x50cfb2(0x197)]===0x1){const _0x298541=_0x2dcc80[0x0];if(_0x298541[_0x50cfb2(0x197)]>=0x3&&_0x298541['length']<=0x32&&/^[a-zA-Z0-9_]+$/[_0x50cfb2(0x235)](_0x298541))await this[_0x50cfb2(0x181)](_0x539fc8,_0x1f9d48,_0x298541);else _0x298541[_0x50cfb2(0x1f2)](_0x50cfb2(0x1a1))||_0x298541[_0x50cfb2(0x1f2)]('sk_')?await this[_0x50cfb2(0x1ff)](_0x539fc8,_0x1f9d48,_0x298541):await this[_0x50cfb2(0x1cb)]?.['sendMessage'](_0x539fc8,_0x50cfb2(0x18b)+_0x50cfb2(0x1e5)+_0x50cfb2(0x1eb)+_0x50cfb2(0x214)+_0x50cfb2(0x178)+_0x50cfb2(0x19c)+_0x50cfb2(0x20a),{'parse_mode':_0x50cfb2(0x1b8)});}else await this[_0x50cfb2(0x1cb)]?.[_0x50cfb2(0x232)](_0x539fc8,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a'+'–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a'+'–ü—Ä–∏–º–µ—Ä:\x0a'+'`appple`\x0a'+_0x50cfb2(0x20a),{'parse_mode':_0x50cfb2(0x1b8)});}}catch(_0x18d0ae){console['error']('Error\x20handling\x20message:',_0x18d0ae),await this['bot']?.[_0x50cfb2(0x232)](_0x539fc8,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x281728(0x1cb)]['on'](_0x281728(0x236),_0x23df04=>{console['error']('Telegram\x20bot\x20error:',_0x23df04);}),this[_0x281728(0x1cb)]['on']('polling_error',_0xb7ddda=>{const _0x269739=_0x281728;console[_0x269739(0x236)](_0x269739(0x21b),_0xb7ddda);});}async[a48_0x2fc41e(0x1ec)](_0x44e687,_0x5513c8,_0x30fe4e,_0x5370ca){const _0x29a895=a48_0x2fc41e;try{console[_0x29a895(0x1ea)]('üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20'+_0x5513c8+_0x29a895(0x1de)+_0x30fe4e+'\x22,\x20apiKey=\x22'+_0x5370ca['substring'](0x0,0xa)+'...\x22');if(!_0x30fe4e||_0x30fe4e[_0x29a895(0x197)]<0x3||_0x30fe4e['length']>0x32||!/^[a-zA-Z0-9_]+$/[_0x29a895(0x235)](_0x30fe4e)){await this[_0x29a895(0x1cb)]?.[_0x29a895(0x232)](_0x44e687,_0x29a895(0x231)+_0x30fe4e+_0x29a895(0x1a7)+'Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).',{'parse_mode':_0x29a895(0x1b8)});return;}if(!_0x5370ca||!_0x5370ca[_0x29a895(0x1f2)](_0x29a895(0x1a1))&&!_0x5370ca['startsWith'](_0x29a895(0x1e3))){await this['bot']?.['sendMessage'](_0x44e687,_0x29a895(0x217)+_0x29a895(0x16a),{'parse_mode':_0x29a895(0x1b8)});return;}const _0x451d7f=await database_1['default'][_0x29a895(0x1f5)][_0x29a895(0x18a)]({'where':{'username':_0x30fe4e},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x451d7f){const _0x21b480=await database_1[_0x29a895(0x1f7)][_0x29a895(0x1f5)][_0x29a895(0x16f)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x2e1e6d='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x30fe4e+_0x29a895(0x22f);_0x21b480[_0x29a895(0x197)]>0x0?(_0x2e1e6d+=_0x29a895(0x1b7),_0x21b480[_0x29a895(0x1d8)](_0x1beb7a=>{const _0x505ed7=_0x29a895;_0x2e1e6d+='‚Ä¢\x20`'+_0x1beb7a[_0x505ed7(0x1a2)]+'`\x20('+_0x1beb7a['name']+')\x0a';}),_0x2e1e6d+='\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.'):_0x2e1e6d+=_0x29a895(0x206);await this[_0x29a895(0x1cb)]?.[_0x29a895(0x232)](_0x44e687,_0x2e1e6d,{'parse_mode':_0x29a895(0x1b8)});return;}if(_0x451d7f[_0x29a895(0x215)]!==_0x29a895(0x1f0)){await this[_0x29a895(0x1cb)]?.['sendMessage'](_0x44e687,'‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`'+_0x30fe4e+_0x29a895(0x186)+_0x29a895(0x17e),{'parse_mode':_0x29a895(0x1b8)});return;}if(_0x451d7f[_0x29a895(0x234)]!==_0x5370ca&&_0x451d7f[_0x29a895(0x1fe)]!==_0x5370ca){await this[_0x29a895(0x1cb)]?.[_0x29a895(0x232)](_0x44e687,'‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`'+_0x30fe4e+_0x29a895(0x179)+'–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a'+_0x29a895(0x1bc),{'parse_mode':_0x29a895(0x1b8)});return;}const _0xf3c462=await database_1[_0x29a895(0x1f7)][_0x29a895(0x207)][_0x29a895(0x1e4)]({'where':{'shopId':_0x451d7f['id'],'isVerified':!![],'telegramId':{'not':_0x5513c8}}});if(_0xf3c462){await this['bot']?.['sendMessage'](_0x44e687,_0x29a895(0x22e)+_0x30fe4e+_0x29a895(0x1f3)+_0x29a895(0x203),{'parse_mode':'Markdown'});return;}await database_1['default']['telegramUser'][_0x29a895(0x1e2)]({'where':{'telegramId':_0x5513c8},'data':{'shopId':_0x451d7f['id'],'isVerified':!![]}}),await this[_0x29a895(0x1cb)]?.[_0x29a895(0x232)](_0x44e687,_0x29a895(0x1d7)+_0x29a895(0x1bf)+(_0x29a895(0x1f9)+_0x451d7f[_0x29a895(0x1c3)]+'*\x0a')+('üë§\x20Username:\x20`'+_0x451d7f[_0x29a895(0x1a2)]+_0x29a895(0x1a7))+_0x29a895(0x16e)+'‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a'+_0x29a895(0x1b3)+_0x29a895(0x1a9)+_0x29a895(0x196)+_0x29a895(0x17b)+_0x29a895(0x1fc)+_0x29a895(0x18f),{'parse_mode':_0x29a895(0x1b8)}),console[_0x29a895(0x1ea)](_0x29a895(0x242)+_0x5513c8+_0x29a895(0x190)+_0x451d7f[_0x29a895(0x1a2)]+'\x20via\x20multiline\x20input');}catch(_0x251f73){console[_0x29a895(0x236)](_0x29a895(0x1df),_0x251f73),await this['bot']?.[_0x29a895(0x232)](_0x44e687,_0x29a895(0x192));}}async[a48_0x2fc41e(0x181)](_0x43a020,_0x471d44,_0x483c55){const _0x3ea021=a48_0x2fc41e;try{console['log']('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x471d44+_0x3ea021(0x1de)+_0x483c55+'\x22');const _0x4e2889=await database_1['default']['shop'][_0x3ea021(0x18a)]({'where':{'username':_0x483c55},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x4e2889){const _0x30afb1=await database_1['default'][_0x3ea021(0x1f5)]['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x20cbad='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x483c55+_0x3ea021(0x22f);_0x30afb1[_0x3ea021(0x197)]>0x0?(_0x20cbad+=_0x3ea021(0x1b7),_0x30afb1[_0x3ea021(0x1d8)](_0xc61021=>{const _0x466539=_0x3ea021;_0x20cbad+=_0x466539(0x24b)+_0xc61021[_0x466539(0x1a2)]+_0x466539(0x245)+_0xc61021[_0x466539(0x1c3)]+')\x0a';}),_0x20cbad+='\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.'):_0x20cbad+=_0x3ea021(0x206);await this[_0x3ea021(0x1cb)]?.[_0x3ea021(0x232)](_0x43a020,_0x20cbad,{'parse_mode':_0x3ea021(0x1b8)});return;}if(_0x4e2889[_0x3ea021(0x215)]!==_0x3ea021(0x1f0)){await this[_0x3ea021(0x1cb)]?.['sendMessage'](_0x43a020,_0x3ea021(0x188)+_0x483c55+_0x3ea021(0x186)+_0x3ea021(0x17e),{'parse_mode':_0x3ea021(0x1b8)});return;}await database_1['default'][_0x3ea021(0x207)][_0x3ea021(0x1e2)]({'where':{'telegramId':_0x471d44},'data':{'shopId':_0x4e2889['id'],'isVerified':![]}}),await this['bot']?.[_0x3ea021(0x232)](_0x43a020,'‚úÖ\x20Username\x20`'+_0x483c55+_0x3ea021(0x198)+('–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x4e2889['name']+_0x3ea021(0x19f))+_0x3ea021(0x208),{'parse_mode':_0x3ea021(0x1b8)}),console[_0x3ea021(0x1ea)](_0x3ea021(0x1ab)+_0x471d44+_0x3ea021(0x1c2)+_0x4e2889['username']);}catch(_0x3d1589){console[_0x3ea021(0x236)](_0x3ea021(0x1af),_0x3d1589),await this[_0x3ea021(0x1cb)]?.['sendMessage'](_0x43a020,_0x3ea021(0x18d));}}async[a48_0x2fc41e(0x1ff)](_0x1bed31,_0xf4ad27,_0x3e80d8){const _0x59e37c=a48_0x2fc41e;try{console[_0x59e37c(0x1ea)]('üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20'+_0xf4ad27+':\x20apiKey=\x22'+_0x3e80d8[_0x59e37c(0x1d2)](0x0,0xa)+'...\x22');const _0x2f1fc3=await database_1[_0x59e37c(0x1f7)][_0x59e37c(0x207)][_0x59e37c(0x18a)]({'where':{'telegramId':_0xf4ad27},'include':{'shop':!![]}});if(!_0x2f1fc3?.['shopId']){await this[_0x59e37c(0x1cb)]?.[_0x59e37c(0x232)](_0x1bed31,_0x59e37c(0x21d)+_0x59e37c(0x1b1)+_0x59e37c(0x1f4)+_0x59e37c(0x1dd));return;}if(_0x2f1fc3[_0x59e37c(0x1e1)]){await this[_0x59e37c(0x1cb)]?.[_0x59e37c(0x232)](_0x1bed31,'‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*'+(_0x2f1fc3[_0x59e37c(0x1f5)]?.[_0x59e37c(0x1c3)]||_0x59e37c(0x222))+_0x59e37c(0x246)+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.',{'parse_mode':_0x59e37c(0x1b8)});return;}const _0x522f23=await database_1[_0x59e37c(0x1f7)][_0x59e37c(0x1f5)]['findFirst']({'where':{'id':_0x2f1fc3[_0x59e37c(0x1c5)],'OR':[{'publicKey':_0x3e80d8},{'secretKey':_0x3e80d8}]}});if(!_0x522f23){await this[_0x59e37c(0x1cb)]?.[_0x59e37c(0x232)](_0x1bed31,_0x59e37c(0x170)+_0x59e37c(0x1a8)+_0x59e37c(0x1bc),{'parse_mode':_0x59e37c(0x1b8)}),await database_1['default']['telegramUser'][_0x59e37c(0x1e2)]({'where':{'telegramId':_0xf4ad27},'data':{'shopId':null,'isVerified':![]}}),console['log']('‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20'+_0xf4ad27+',\x20reset\x20shop\x20association');return;}const _0x537c2e=await database_1[_0x59e37c(0x1f7)][_0x59e37c(0x207)][_0x59e37c(0x1e4)]({'where':{'shopId':_0x522f23['id'],'isVerified':!![],'telegramId':{'not':_0xf4ad27}}});if(_0x537c2e){await this['bot']?.[_0x59e37c(0x232)](_0x1bed31,'‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`'+_0x522f23[_0x59e37c(0x1a2)]+_0x59e37c(0x1f3)+_0x59e37c(0x203),{'parse_mode':'Markdown'}),await database_1['default']['telegramUser'][_0x59e37c(0x1e2)]({'where':{'telegramId':_0xf4ad27},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x59e37c(0x1f7)][_0x59e37c(0x207)][_0x59e37c(0x1e2)]({'where':{'telegramId':_0xf4ad27},'data':{'isVerified':!![]}}),await this[_0x59e37c(0x1cb)]?.['sendMessage'](_0x1bed31,_0x59e37c(0x1d7)+_0x59e37c(0x1bf)+(_0x59e37c(0x1f9)+_0x522f23[_0x59e37c(0x1c3)]+'*\x0a')+(_0x59e37c(0x1e7)+_0x522f23['username']+_0x59e37c(0x1a7))+'üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a'+_0x59e37c(0x212)+_0x59e37c(0x1b3)+_0x59e37c(0x1a9)+_0x59e37c(0x196)+_0x59e37c(0x17b)+'/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a'+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0x59e37c(0x1b8)}),console[_0x59e37c(0x1ea)](_0x59e37c(0x242)+_0xf4ad27+_0x59e37c(0x190)+_0x522f23[_0x59e37c(0x1a2)]);}catch(_0x45b073){console[_0x59e37c(0x236)](_0x59e37c(0x1c6),_0x45b073),await this[_0x59e37c(0x1cb)]?.[_0x59e37c(0x232)](_0x1bed31,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.');}}async[a48_0x2fc41e(0x177)](_0x1da11b,_0x18c697,_0x5a456d){const _0x378028=a48_0x2fc41e;if(!this['bot']){console[_0x378028(0x226)](_0x378028(0x1d6));return;}try{const _0x2f429f=await database_1['default'][_0x378028(0x207)][_0x378028(0x16f)]({'where':{'shopId':_0x1da11b,'isVerified':!![]}});if(_0x2f429f[_0x378028(0x197)]===0x0){console[_0x378028(0x1ea)](_0x378028(0x1f1)+_0x1da11b);return;}const _0x4161ec=_0x2f429f[_0x378028(0x249)](async _0xcf7a0a=>{const _0x4600c2=_0x378028;try{await this[_0x4600c2(0x1cb)]?.[_0x4600c2(0x232)](_0xcf7a0a['telegramId'],_0x18c697,_0x5a456d),console[_0x4600c2(0x1ea)](_0x4600c2(0x1a6)+_0xcf7a0a['telegramId']);}catch(_0x210ae0){console['error'](_0x4600c2(0x187)+_0xcf7a0a[_0x4600c2(0x199)]+':',_0x210ae0),_0x210ae0 instanceof Error&&(_0x210ae0[_0x4600c2(0x20f)][_0x4600c2(0x204)](_0x4600c2(0x228))||_0x210ae0[_0x4600c2(0x20f)][_0x4600c2(0x204)](_0x4600c2(0x1ba))||_0x210ae0[_0x4600c2(0x20f)]['includes']('user\x20is\x20deactivated'))&&(await database_1[_0x4600c2(0x1f7)][_0x4600c2(0x207)][_0x4600c2(0x1e2)]({'where':{'id':_0xcf7a0a['id']},'data':{'isVerified':![]}}),console['log']('User\x20'+_0xcf7a0a['telegramId']+_0x4600c2(0x1fa)));}});await Promise[_0x378028(0x1d9)](_0x4161ec);}catch(_0x3bb374){console['error'](_0x378028(0x1b0),_0x3bb374);}}async[a48_0x2fc41e(0x19d)](_0x2facb5,_0x2e1c86,_0x15b76b){const _0x11df76=a48_0x2fc41e,_0x4f207d={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x3461db={'created':_0x11df76(0x23b),'paid':_0x11df76(0x1bb),'failed':_0x11df76(0x205),'expired':_0x11df76(0x19b),'refund':_0x11df76(0x1b6),'chargeback':'–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É'},_0x2d7c9d=_0x4f207d[_0x15b76b],_0x17a64b=_0x3461db[_0x15b76b];let _0x30b897=_0x2d7c9d+'\x20*'+_0x17a64b+_0x11df76(0x19f)+(_0x11df76(0x16b)+_0x2e1c86['amount']+'\x20'+_0x2e1c86[_0x11df76(0x171)]+'*\x0a')+(_0x11df76(0x183)+(_0x2e1c86[_0x11df76(0x1ce)]||_0x2e1c86['id'])+'`\x0a')+(_0x11df76(0x24e)+_0x2e1c86['id']+'`\x0a')+('üè™\x20–®–ª—é–∑:\x20`'+_0x2e1c86[_0x11df76(0x1ac)]['toUpperCase']()+'`\x0a')+(_0x11df76(0x18e)+new Date(_0x2e1c86['createdAt'])[_0x11df76(0x23a)](_0x11df76(0x18c))+'\x0a');_0x15b76b==='chargeback'&&_0x2e1c86['chargebackAmount']&&(_0x30b897+=_0x11df76(0x23c)+_0x2e1c86[_0x11df76(0x20c)]+_0x11df76(0x24a)),_0x2e1c86['adminNotes']&&(_0x30b897+=_0x11df76(0x237)+_0x2e1c86['adminNotes']+'\x0a'),await this[_0x11df76(0x177)](_0x2facb5,_0x30b897,{'parse_mode':_0x11df76(0x1b8)});}async[a48_0x2fc41e(0x19a)](_0x4dfeb9,_0x40a490,_0xf87953){const _0x549882=a48_0x2fc41e,_0xb66ed8={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x2cc596={'created':_0x549882(0x1b5),'completed':'–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','rejected':_0x549882(0x218)},_0x27632d=_0xb66ed8[_0xf87953],_0x4d9cb1=_0x2cc596[_0xf87953],_0x5380a6=_0x27632d+'\x20*'+_0x4d9cb1+_0x549882(0x19f)+(_0x549882(0x1ca)+_0x40a490[_0x549882(0x174)]+_0x549882(0x1c0))+(_0x549882(0x20d)+_0x40a490['method']+'`\x0a')+('üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`'+_0x40a490['id']+'`\x0a')+(_0x549882(0x18e)+new Date(_0x40a490['createdAt'])[_0x549882(0x23a)]('ru-RU')+'\x0a')+(_0x40a490['txid']?_0x549882(0x20b)+_0x40a490[_0x549882(0x182)]+'`':'');await this[_0x549882(0x177)](_0x4dfeb9,_0x5380a6,{'parse_mode':'Markdown'});}async[a48_0x2fc41e(0x224)](_0x1f3b24,_0x590916){const _0x6fd35d=a48_0x2fc41e;try{const _0x35caed=await database_1[_0x6fd35d(0x1f7)][_0x6fd35d(0x1a0)][_0x6fd35d(0x18a)]({'where':{'shopId':_0x1f3b24},'select':{'notificationLogin':!![]}});if(!_0x35caed?.['notificationLogin']){console[_0x6fd35d(0x1ea)](_0x6fd35d(0x21f)+_0x1f3b24);return;}const _0x5ed127=_0x590916['success']?'üîê':'üö®',_0x22f85a=_0x590916[_0x6fd35d(0x185)]?_0x6fd35d(0x229):_0x6fd35d(0x1e9);let _0x2d8658=_0x5ed127+'\x20*'+_0x22f85a+_0x6fd35d(0x19f)+(_0x6fd35d(0x1e7)+_0x590916[_0x6fd35d(0x1a2)]+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x590916[_0x6fd35d(0x1db)][_0x6fd35d(0x23a)](_0x6fd35d(0x18c))+'\x0a');_0x590916[_0x6fd35d(0x1cd)]&&(_0x2d8658+=_0x6fd35d(0x1dc)+_0x590916['ipAddress']+'`\x0a');if(_0x590916['userAgent']){const _0x588dce=_0x590916[_0x6fd35d(0x1ee)][_0x6fd35d(0x197)]>0x32?_0x590916[_0x6fd35d(0x1ee)][_0x6fd35d(0x1d2)](0x0,0x32)+_0x6fd35d(0x1c8):_0x590916[_0x6fd35d(0x1ee)];_0x2d8658+='üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`'+_0x588dce+'`\x0a';}!_0x590916[_0x6fd35d(0x185)]&&(_0x2d8658+='\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!'),await this['sendShopNotification'](_0x1f3b24,_0x2d8658,{'parse_mode':'Markdown'}),console[_0x6fd35d(0x1ea)]('‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20'+_0x1f3b24+':\x20'+(_0x590916[_0x6fd35d(0x185)]?'success':'failed'));}catch(_0x3d21a9){console['error']('Failed\x20to\x20send\x20login\x20notification:',_0x3d21a9);}}async[a48_0x2fc41e(0x1d1)](_0x37b52e,_0x580c5f){const _0x2c8946=a48_0x2fc41e;try{const _0x3c2906=await database_1[_0x2c8946(0x1f7)]['shopSettings']['findUnique']({'where':{'shopId':_0x37b52e},'select':{'notificationApiError':!![]}});if(!_0x3c2906?.[_0x2c8946(0x22c)]){console[_0x2c8946(0x1ea)]('üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20'+_0x37b52e);return;}let _0x1a788b='üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a'+(_0x2c8946(0x1d5)+_0x580c5f[_0x2c8946(0x225)]+'\x20'+_0x580c5f[_0x2c8946(0x19e)]+'`\x0a')+(_0x2c8946(0x23e)+_0x580c5f[_0x2c8946(0x1db)][_0x2c8946(0x23a)](_0x2c8946(0x18c))+'\x0a');_0x580c5f[_0x2c8946(0x1ed)]&&(_0x1a788b+=_0x2c8946(0x22d)+_0x580c5f[_0x2c8946(0x1ed)]+'`\x0a'),_0x1a788b+='‚ùå\x20–û—à–∏–±–∫–∞:\x20`'+_0x580c5f[_0x2c8946(0x24c)]+'`\x0a',_0x580c5f[_0x2c8946(0x17f)]&&(_0x1a788b+='üÜî\x20Request\x20ID:\x20`'+_0x580c5f[_0x2c8946(0x17f)]+'`\x0a'),_0x1a788b+='\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.',await this[_0x2c8946(0x177)](_0x37b52e,_0x1a788b,{'parse_mode':_0x2c8946(0x1b8)}),console[_0x2c8946(0x1ea)](_0x2c8946(0x173)+_0x37b52e+':\x20'+_0x580c5f[_0x2c8946(0x19e)]);}catch(_0x543cdb){console['error'](_0x2c8946(0x209),_0x543cdb);}}async[a48_0x2fc41e(0x1cc)](_0x31da25,_0x468ef3,_0x25300a){const _0x2ddd0e=a48_0x2fc41e;let _0x506d55='üîî\x20*'+_0x468ef3+_0x2ddd0e(0x19f);for(const [_0x125e40,_0x54f613]of Object['entries'](_0x25300a)){_0x54f613!==null&&_0x54f613!==undefined&&(_0x506d55+=_0x125e40+':\x20`'+_0x54f613+'`\x0a');}await this[_0x2ddd0e(0x177)](_0x31da25,_0x506d55,{'parse_mode':_0x2ddd0e(0x1b8)});}['getBotInfo'](){const _0x567e1e=a48_0x2fc41e;return{'isActive':!!this[_0x567e1e(0x1cb)],'username':this[_0x567e1e(0x17a)]};}['stopBot'](){const _0x2a34ac=a48_0x2fc41e;this[_0x2a34ac(0x1cb)]&&(this[_0x2a34ac(0x1cb)]['stopPolling'](),this[_0x2a34ac(0x1cb)]=null,console['log']('üõë\x20Telegram\x20bot\x20stopped'));}}exports[a48_0x2fc41e(0x195)]=TelegramBotService,exports[a48_0x2fc41e(0x1a5)]=new TelegramBotService();