'use strict';const a49_0x57d4b2=a49_0x281e;(function(_0x116a62,_0x34f3be){const _0x5351c5=a49_0x281e,_0x1824ff=_0x116a62();while(!![]){try{const _0x13ffbc=parseInt(_0x5351c5(0x114))/0x1+parseInt(_0x5351c5(0xf1))/0x2+parseInt(_0x5351c5(0x115))/0x3*(parseInt(_0x5351c5(0x109))/0x4)+parseInt(_0x5351c5(0x1d9))/0x5+parseInt(_0x5351c5(0xf6))/0x6*(-parseInt(_0x5351c5(0x12d))/0x7)+parseInt(_0x5351c5(0x105))/0x8+-parseInt(_0x5351c5(0xea))/0x9;if(_0x13ffbc===_0x34f3be)break;else _0x1824ff['push'](_0x1824ff['shift']());}catch(_0x1dcd3d){_0x1824ff['push'](_0x1824ff['shift']());}}}(a49_0xc8e1,0x28735));var __importDefault=this&&this['__importDefault']||function(_0x434cc5){const _0x125e19=a49_0x281e;return _0x434cc5&&_0x434cc5[_0x125e19(0x18d)]?_0x434cc5:{'default':_0x434cc5};};Object[a49_0x57d4b2(0x1d2)](exports,'__esModule',{'value':!![]}),exports[a49_0x57d4b2(0x135)]=exports['TelegramBotService']=void 0x0;function a49_0xc8e1(){const _0x49322d=['Send\x20username\x20and\x20API\x20key\x20in\x20one\x20message\x20separated\x20by\x20a\x20new\x20line\x20or\x20as\x20separate\x20messages.\x0a\x0a','❌\x20Shop\x20with\x20username\x20`','log','chat','isVerified','\x20\x20\x20Username:\x20`','❌\x20Invalid\x20data\x20format.\x0a\x0a','Telegram\x20bot\x20polling\x20error:','method','❌\x20Please\x20use\x20/start\x20command\x20first','shop','🤖\x20Welcome\x20to\x20TRAPAY\x20notification\x20system!\x0a\x0a','test','toLocaleString','•\x20New\x20payments\x0a','setupBotHandlers','ACTIVE','Error\x20handling\x20/start\x20command:','❌\x20An\x20error\x20occurred\x20while\x20verifying\x20username.','timestamp','\x20\x20\x20Public\x20Key:\x20`','📅\x20Date:\x20','findUnique','chargeback','userAgent','getGatewayDisplayNameForTelegram','Error\x20handling\x20message:','warn','❌\x20Invalid\x20API\x20key\x20format.\x0a\x0a','❌\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','🔄\x20Processing\x20username\x20verification\x20for\x20user\x20','Markdown','toString','forEach','🏪\x20Gateway:\x20`','TELEGRAM_BOT_USERNAME','en-US','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','✅\x20Welcome\x20back!\x0a\x0a','amount','🔔\x20*','processing','Payout\x20rejected','\x20via\x20multiline\x20input','`\x20is\x20inactive.\x0a\x0a','Failed\x20to\x20send\x20login\x20notification:','gateway','Error\x20in\x20handleUsernameVerification:','Payment\x20chargeback','errorMessage','status','Payment\x20refund','telegramUser','length','split','bot','txid','username','pk_','Available\x20usernames:\x0a','🆔\x20Request\x20ID:\x20`','.\x20*','success','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','message','\x20(@','\x20USDT*\x0a','Example:\x0a','You\x20can\x20send\x20them\x20in\x20one\x20message\x20separated\x20by\x20a\x20new\x20line\x20or\x20as\x20separate\x20messages:\x0a\x0a','✅\x20Connected\x20to\x20shop:\x20*','update','startsWith','findMany','❌\x20Invalid\x20username\x20format:\x20`','You\x20can\x20send\x20them\x20in\x20one\x20message\x20separated\x20by\x20a\x20new\x20line:\x0a','Payment\x20successfully\x20paid','...','Failed\x20login\x20attempt','create','/disconnect\x20-\x20disconnect\x20from\x20notifications','__esModule','✅\x20Username\x20`','node-telegram-bot-api','❌\x20You\x20are\x20not\x20registered\x20in\x20the\x20system.\x0a\x0a','•\x20Payouts\x0a','requestId','✅\x20You\x20have\x20been\x20successfully\x20disconnected\x20from\x20shop\x20*','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','🔄\x20Processing\x20multiline\x20verification\x20for\x20user\x20','Check\x20spelling\x20and\x20try\x20again.','Payment\x20is\x20being\x20processed','getBotInfo','📝\x20Order\x20ID:\x20`','Disconnect\x20the\x20previous\x20account\x20first\x20or\x20contact\x20administrator.','2️⃣\x20Then\x20send\x20your\x20*API\x20key*\x0a\x0a','`.\x0a\x0a','user\x20is\x20deactivated','1️⃣\x20First\x20your\x20username\x20(letters,\x20numbers\x20and\x20underscore\x20only)\x0a','•\x20Payouts\x0a\x0a','handleUsernameVerification','❌\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','❌\x20Shop\x20`','📱\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','🆔\x20Payout\x20ID:\x20`','findFirst','publicKey','New\x20payout\x20created','\x22,\x20apiKey=\x22','filter','Use\x20/status\x20to\x20check\x20status\x20or\x20/disconnect\x20to\x20disconnect.','trapay_bot','2️⃣\x20Then\x20your\x20API\x20key\x20(starts\x20with\x20pk\x5c_\x20or\x20sk\x5c_)\x0a\x0a','*.\x0a\x0a','Error\x20in\x20handleApiKeyVerification:','📅\x20Time:\x20','currency','botUsername','📱\x20Created\x20new\x20Telegram\x20user:\x20','📊\x20Error\x20code:\x20`','To\x20reconnect,\x20use\x20the\x20/start\x20command','*\x0a\x0a','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','✅\x20You\x20have\x20been\x20successfully\x20connected\x20to\x20the\x20notification\x20system!\x0a\x0a','🔌\x20User\x20','🔔\x20You\x20will\x20now\x20receive\x20notifications\x20about:\x0a','blocked','🔄\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','createdAt','handleMultilineVerification','from','API\x20key\x20must\x20start\x20with\x20`pk\x5c_`\x20or\x20`sk\x5c_`.','📊\x20*Connection\x20Status*\x0a\x0a','Shop:\x20*','shopId','Failed\x20to\x20send\x20API\x20error\x20notification:','ipAddress','❌\x20API\x20key\x20does\x20not\x20match\x20shop\x20`','map','👤\x20Username:\x20`','✅\x20You\x20are\x20already\x20connected\x20to\x20shop\x20*','endpoint','includes','Order:\x0a','❌\x20You\x20are\x20not\x20connected\x20to\x20the\x20notification\x20system.','•\x20Payment\x20status\x20changes\x0a','substring','New\x20payment\x20created','shopSettings','Check\x20the\x20key\x20and\x20try\x20again.\x0a\x0a','defineProperty',':\x20apiKey=\x22','Now\x20send\x20your\x20*API\x20key*\x20(public\x20or\x20secret\x20key\x20starting\x20with\x20`pk\x5c_`\x20or\x20`sk\x5c_`)','✅\x20Login\x20notification\x20sent\x20for\x20shop\x20','2️⃣\x20API\x20key','unknown','Error\x20handling\x20/disconnect\x20command:','803420SjnVLx','🔗\x20Endpoint:\x20`','first_name','🌐\x20IP\x20address:\x20`','entries','telegramId','stopBot','💸\x20Amount:\x20*','sendCustomNotification','5918247UYIUYa','default','Contact\x20administrator.','🔗\x20TXID:\x20`','•\x20`','../config/database','sendMessage','134628EsihEG','❌\x20Invalid\x20API\x20key\x20for\x20user\x20','TelegramBotService','🔔\x20Notifications\x20are\x20active\x0a\x0a','⏳\x20The\x20payment\x20is\x20currently\x20being\x20processed\x20by\x20the\x20gateway.\x0a','858eVTEor','❗️\x20Make\x20sure\x20to\x20send\x20the\x20data\x20in\x20the\x20correct\x20order!','❌\x20An\x20error\x20occurred\x20while\x20verifying\x20data.',',\x20reset\x20shop\x20association','sk_','Error\x20handling\x20/debug\x20command:','`\x0a\x0a','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','secretKey','`\x20not\x20found.\x0a\x0a','initializeBot','Check\x20the\x20key\x20or\x20start\x20over\x20with\x20/start\x20command\x0a\x0a','Use\x20/start\x20to\x20begin.','Use\x20/start\x20to\x20connect.','botToken','1280136QnJrUw','1️⃣\x20Send\x20your\x20*username*\x20(login\x20from\x20dashboard)\x0a','\x0a💡\x20Check\x20your\x20request\x20or\x20contact\x20support.','Payment\x20failed','4DUvEAc','sendShopNotification','...\x22','📱\x20Your\x20Telegram\x20ID:\x20`','•\x20Important\x20events\x0a\x0a','../types/gateway','name','🔔\x20You\x20receive\x20notifications\x20about:\x0a','notificationLogin','\x20initialized\x20successfully','🏪\x20Available\x20shops\x20in\x20system:\x0a','287284CxtTXA','759222gNnLwo','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','🚨\x20*API\x20Error*\x0a\x0a','Payment\x20expired','Successful\x20login','sendApiErrorNotification','🎉\x20*Congratulations!*\x0a\x0a','env','Telegram\x20bot\x20error:','Please\x20send:\x0a','❌\x20An\x20error\x20occurred.\x20Please\x20try\x20again\x20later.','\x0aCheck\x20spelling\x20and\x20try\x20again.','notificationApiError','📱\x20Shop:\x20*','toLocaleDateString','/status\x20-\x20check\x20connection\x20status\x0a','polling_error','❌\x20API\x20key\x20does\x20not\x20match\x20the\x20shop.\x0a\x0a','To\x20receive\x20payment\x20notifications,\x20please:\x0a\x0a','text','statusCode','Commands:\x0a','Error\x20in\x20handleMultilineVerification:','❌\x20You\x20are\x20not\x20connected\x20to\x20a\x20shop.\x0a\x0a','5145TjUkJs','\x20verified\x20for\x20shop\x20','trim','onText','\x20\x20\x20Status:\x20','Expected\x20key\x20format:\x20`pk_...`\x20or\x20`sk_...`','chargebackAmount','error','telegramBotService','`appple`\x0a','\x0a⚠️\x20If\x20this\x20wasn\x27t\x20you,\x20change\x20your\x20password\x20immediately!','`\x20(','failed','\x20disconnected\x20from\x20shop\x20','❌\x20Another\x20Telegram\x20account\x20is\x20already\x20connected\x20to\x20shop\x20`','Use\x20/status\x20to\x20check\x20status.'];a49_0xc8e1=function(){return _0x49322d;};return a49_0xc8e1();}function a49_0x281e(_0x2a107f,_0x4526a1){const _0xc8e142=a49_0xc8e1();return a49_0x281e=function(_0x281e46,_0xa85aca){_0x281e46=_0x281e46-0xe7;let _0x2169f5=_0xc8e142[_0x281e46];return _0x2169f5;},a49_0x281e(_0x2a107f,_0x4526a1);}const node_telegram_bot_api_1=__importDefault(require(a49_0x57d4b2(0x18f))),database_1=__importDefault(require(a49_0x57d4b2(0xef))),gateway_1=require(a49_0x57d4b2(0x10e));class TelegramBotService{constructor(){const _0x3fd6a0=a49_0x57d4b2;this[_0x3fd6a0(0x174)]=null,this['botToken']=process['env']['TELEGRAM_BOT_TOKEN']||'',this[_0x3fd6a0(0x1b1)]=process[_0x3fd6a0(0x11c)][_0x3fd6a0(0x160)]||_0x3fd6a0(0x1ab),this[_0x3fd6a0(0x104)]?this[_0x3fd6a0(0x100)]():console[_0x3fd6a0(0x158)](_0x3fd6a0(0x1b6));}[a49_0x57d4b2(0x100)](){const _0x3d57f5=a49_0x57d4b2;try{this[_0x3d57f5(0x174)]=new node_telegram_bot_api_1[(_0x3d57f5(0xeb))](this[_0x3d57f5(0x104)],{'polling':!![]}),this[_0x3d57f5(0x14c)](),console['log']('✅\x20Telegram\x20bot\x20@'+this[_0x3d57f5(0x1b1)]+_0x3d57f5(0x112));}catch(_0x5f018d){console[_0x3d57f5(0x134)](_0x3d57f5(0x1a1),_0x5f018d);}}[a49_0x57d4b2(0x14c)](){const _0x417c13=a49_0x57d4b2;if(!this[_0x417c13(0x174)])return;this[_0x417c13(0x174)][_0x417c13(0x130)](/\/start/,async _0x390d41=>{const _0x60b2c6=_0x417c13,_0x2e0f1b=_0x390d41[_0x60b2c6(0x140)]['id'],_0x169685=_0x390d41['from']?.['id']['toString'](),_0x32728c=_0x390d41[_0x60b2c6(0x1be)]?.[_0x60b2c6(0x176)],_0x30c0e2=_0x390d41[_0x60b2c6(0x1be)]?.[_0x60b2c6(0x1db)],_0x2ca775=_0x390d41['from']?.['last_name'];if(!_0x169685)return;try{let _0x365f0c=await database_1[_0x60b2c6(0xeb)]['telegramUser']['findUnique']({'where':{'telegramId':_0x169685},'include':{'shop':!![]}});!_0x365f0c?(_0x365f0c=await database_1[_0x60b2c6(0xeb)][_0x60b2c6(0x171)][_0x60b2c6(0x18b)]({'data':{'telegramId':_0x169685,'username':_0x32728c,'firstName':_0x30c0e2,'lastName':_0x2ca775,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x60b2c6(0x13f)](_0x60b2c6(0x1b2)+_0x169685+_0x60b2c6(0x17e)+_0x32728c+')')):_0x365f0c=await database_1[_0x60b2c6(0xeb)][_0x60b2c6(0x171)][_0x60b2c6(0x183)]({'where':{'telegramId':_0x169685},'data':{'username':_0x32728c,'firstName':_0x30c0e2,'lastName':_0x2ca775},'include':{'shop':!![]}}),_0x365f0c['isVerified']&&_0x365f0c[_0x60b2c6(0x1c2)]&&_0x365f0c['shop']?await this[_0x60b2c6(0x174)]?.[_0x60b2c6(0xf0)](_0x2e0f1b,_0x60b2c6(0x163)+('You\x20are\x20already\x20connected\x20to\x20shop:\x20*'+_0x365f0c[_0x60b2c6(0x147)][_0x60b2c6(0x10f)]+'*\x0a')+('Username:\x20`'+_0x365f0c['shop'][_0x60b2c6(0x176)]+'`\x0a\x0a')+_0x60b2c6(0x110)+_0x60b2c6(0x14b)+_0x60b2c6(0x1cd)+_0x60b2c6(0x19f)+_0x60b2c6(0x12a)+_0x60b2c6(0x124)+_0x60b2c6(0x18c),{'parse_mode':_0x60b2c6(0x15c)}):(_0x365f0c[_0x60b2c6(0x1c2)]&&!_0x365f0c[_0x60b2c6(0x141)]&&(await database_1[_0x60b2c6(0xeb)][_0x60b2c6(0x171)]['update']({'where':{'telegramId':_0x169685},'data':{'shopId':null,'isVerified':![]}}),console[_0x60b2c6(0x13f)](_0x60b2c6(0x1bb)+_0x169685)),await this[_0x60b2c6(0x174)]?.['sendMessage'](_0x2e0f1b,_0x60b2c6(0x148)+_0x60b2c6(0x127)+_0x60b2c6(0x106)+_0x60b2c6(0x19b)+_0x60b2c6(0x181)+_0x60b2c6(0x180)+'`appple`\x0a'+_0x60b2c6(0xfd)+_0x60b2c6(0xf7),{'parse_mode':_0x60b2c6(0x15c)}));}catch(_0x852024){console['error'](_0x60b2c6(0x14e),_0x852024),await this[_0x60b2c6(0x174)]?.[_0x60b2c6(0xf0)](_0x2e0f1b,_0x60b2c6(0x11f));}}),this[_0x417c13(0x174)][_0x417c13(0x130)](/\/disconnect/,async _0x5ebcb8=>{const _0x40b21b=_0x417c13,_0x3caf73=_0x5ebcb8[_0x40b21b(0x140)]['id'],_0x3628d8=_0x5ebcb8[_0x40b21b(0x1be)]?.['id'][_0x40b21b(0x15d)]();if(!_0x3628d8)return;try{const _0xa985c4=await database_1[_0x40b21b(0xeb)][_0x40b21b(0x171)][_0x40b21b(0x153)]({'where':{'telegramId':_0x3628d8},'include':{'shop':!![]}});if(!_0xa985c4||!_0xa985c4[_0x40b21b(0x141)]||!_0xa985c4['shopId']){await this['bot']?.[_0x40b21b(0xf0)](_0x3caf73,_0x40b21b(0x1cc));return;}const _0x3f1eea=_0xa985c4[_0x40b21b(0x147)]?.['name']||'unknown\x20shop';await database_1[_0x40b21b(0xeb)][_0x40b21b(0x171)]['update']({'where':{'telegramId':_0x3628d8},'data':{'shopId':null,'isVerified':![]}}),console[_0x40b21b(0x13f)](_0x40b21b(0x1b8)+_0x3628d8+_0x40b21b(0x13a)+_0xa985c4[_0x40b21b(0x1c2)]),await this['bot']?.[_0x40b21b(0xf0)](_0x3caf73,_0x40b21b(0x193)+_0x3f1eea+_0x40b21b(0x1ad)+_0x40b21b(0x1b4),{'parse_mode':'Markdown'});}catch(_0x133c8a){console[_0x40b21b(0x134)](_0x40b21b(0x1d8),_0x133c8a),await this[_0x40b21b(0x174)]?.['sendMessage'](_0x3caf73,_0x40b21b(0x11f));}}),this[_0x417c13(0x174)][_0x417c13(0x130)](/\/status/,async _0x2a6497=>{const _0x5e7956=_0x417c13,_0x4c2e15=_0x2a6497[_0x5e7956(0x140)]['id'],_0x6a2124=_0x2a6497[_0x5e7956(0x1be)]?.['id'][_0x5e7956(0x15d)]();if(!_0x6a2124)return;try{const _0x1ef272=await database_1[_0x5e7956(0xeb)][_0x5e7956(0x171)][_0x5e7956(0x153)]({'where':{'telegramId':_0x6a2124},'include':{'shop':!![]}});if(!_0x1ef272){await this[_0x5e7956(0x174)]?.[_0x5e7956(0xf0)](_0x4c2e15,_0x5e7956(0x190)+_0x5e7956(0x102));return;}if(!_0x1ef272[_0x5e7956(0x141)]||!_0x1ef272[_0x5e7956(0x1c2)]||!_0x1ef272[_0x5e7956(0x147)]){await this[_0x5e7956(0x174)]?.['sendMessage'](_0x4c2e15,_0x5e7956(0x12c)+_0x5e7956(0x103));return;}await this[_0x5e7956(0x174)]?.[_0x5e7956(0xf0)](_0x4c2e15,_0x5e7956(0x1c0)+(_0x5e7956(0x182)+_0x1ef272[_0x5e7956(0x147)][_0x5e7956(0x10f)]+'*\x0a')+(_0x5e7956(0x1c7)+_0x1ef272[_0x5e7956(0x147)][_0x5e7956(0x176)]+'`\x0a')+('📅\x20Connection\x20date:\x20'+_0x1ef272['updatedAt'][_0x5e7956(0x123)](_0x5e7956(0x161))+'\x0a\x0a')+_0x5e7956(0xf4)+_0x5e7956(0x12a)+_0x5e7956(0x18c),{'parse_mode':'Markdown'});}catch(_0x3c7e0b){console[_0x5e7956(0x134)]('Error\x20handling\x20/status\x20command:',_0x3c7e0b),await this['bot']?.['sendMessage'](_0x4c2e15,_0x5e7956(0x11f));}}),this[_0x417c13(0x174)]['onText'](/\/debug/,async _0x20dbb1=>{const _0x501519=_0x417c13,_0x45f559=_0x20dbb1[_0x501519(0x140)]['id'],_0x14c2bd=_0x20dbb1[_0x501519(0x1be)]?.['id'][_0x501519(0x15d)]();if(!_0x14c2bd)return;try{const _0x339f4e=await database_1['default']['shop'][_0x501519(0x185)]({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x1e4a87='🔍\x20*Debug\x20Information*\x0a\x0a';_0x1e4a87+=_0x501519(0x10c)+_0x14c2bd+'`\x0a\x0a',_0x1e4a87+=_0x501519(0x113),_0x339f4e[_0x501519(0x15e)]((_0x456a38,_0x151d12)=>{const _0x1a7ea6=_0x501519;_0x1e4a87+=_0x151d12+0x1+_0x1a7ea6(0x17a)+_0x456a38[_0x1a7ea6(0x10f)]+'*\x0a',_0x1e4a87+=_0x1a7ea6(0x142)+_0x456a38['username']+'`\x0a',_0x1e4a87+=_0x1a7ea6(0x131)+_0x456a38['status']+'\x0a',_0x1e4a87+=_0x1a7ea6(0x151)+_0x456a38[_0x1a7ea6(0x1a6)][_0x1a7ea6(0x1ce)](0x0,0xf)+'...`\x0a\x0a';}),await this[_0x501519(0x174)]?.[_0x501519(0xf0)](_0x45f559,_0x1e4a87,{'parse_mode':_0x501519(0x15c)});}catch(_0x35c067){console[_0x501519(0x134)](_0x501519(0xfb),_0x35c067),await this[_0x501519(0x174)]?.['sendMessage'](_0x45f559,'❌\x20Error\x20getting\x20debug\x20information.');}}),this[_0x417c13(0x174)]['on']('message',async _0x413095=>{const _0x288353=_0x417c13;if(_0x413095[_0x288353(0x128)]?.[_0x288353(0x184)]('/'))return;const _0x45aa81=_0x413095[_0x288353(0x140)]['id'],_0x52aea9=_0x413095[_0x288353(0x1be)]?.['id'][_0x288353(0x15d)](),_0x153e19=_0x413095['text']?.[_0x288353(0x12f)]();if(!_0x52aea9||!_0x153e19)return;try{const _0x4e22d5=await database_1[_0x288353(0xeb)][_0x288353(0x171)][_0x288353(0x153)]({'where':{'telegramId':_0x52aea9},'include':{'shop':!![]}});if(!_0x4e22d5){await this['bot']?.['sendMessage'](_0x45aa81,_0x288353(0x146));return;}if(_0x4e22d5[_0x288353(0x141)]&&_0x4e22d5['shopId']&&_0x4e22d5[_0x288353(0x147)]){await this[_0x288353(0x174)]?.[_0x288353(0xf0)](_0x45aa81,_0x288353(0x1c8)+_0x4e22d5[_0x288353(0x147)][_0x288353(0x10f)]+_0x288353(0x1ad)+_0x288353(0x1aa),{'parse_mode':_0x288353(0x15c)});return;}const _0x23e3fb=_0x153e19[_0x288353(0x173)]('\x0a')[_0x288353(0x1c6)](_0x5d2ffd=>_0x5d2ffd[_0x288353(0x12f)]())[_0x288353(0x1a9)](_0x66a3f3=>_0x66a3f3[_0x288353(0x172)]>0x0);if(_0x23e3fb[_0x288353(0x172)]===0x2){const [_0x1184e1,_0x28a82a]=_0x23e3fb;await this[_0x288353(0x1bd)](_0x45aa81,_0x52aea9,_0x1184e1,_0x28a82a);}else{if(_0x23e3fb[_0x288353(0x172)]===0x1){const _0x248757=_0x23e3fb[0x0];if(_0x248757[_0x288353(0x172)]>=0x3&&_0x248757['length']<=0x32&&/^[a-zA-Z0-9_]+$/[_0x288353(0x149)](_0x248757))await this[_0x288353(0x1a0)](_0x45aa81,_0x52aea9,_0x248757);else _0x248757[_0x288353(0x184)]('pk_')||_0x248757[_0x288353(0x184)](_0x288353(0xfa))?await this['handleApiKeyVerification'](_0x45aa81,_0x52aea9,_0x248757):await this[_0x288353(0x174)]?.[_0x288353(0xf0)](_0x45aa81,_0x288353(0x143)+_0x288353(0x11e)+_0x288353(0x19e)+_0x288353(0x1ac)+_0x288353(0x187)+_0x288353(0x136)+_0x288353(0x194),{'parse_mode':_0x288353(0x15c)});}else await this['bot']?.[_0x288353(0xf0)](_0x45aa81,'❌\x20Invalid\x20data\x20format.\x0a\x0a'+_0x288353(0x13d)+_0x288353(0x180)+_0x288353(0x136)+_0x288353(0x194),{'parse_mode':_0x288353(0x15c)});}}catch(_0x522f57){console['error'](_0x288353(0x157),_0x522f57),await this['bot']?.[_0x288353(0xf0)](_0x45aa81,_0x288353(0x11f));}}),this[_0x417c13(0x174)]['on'](_0x417c13(0x134),_0x35192e=>{const _0x45634b=_0x417c13;console[_0x45634b(0x134)](_0x45634b(0x11d),_0x35192e);}),this['bot']['on'](_0x417c13(0x125),_0x3e913d=>{const _0x3e648d=_0x417c13;console[_0x3e648d(0x134)](_0x3e648d(0x144),_0x3e913d);});}async[a49_0x57d4b2(0x1bd)](_0x526fcc,_0x3e2628,_0x1127da,_0x1b184a){const _0x35d38b=a49_0x57d4b2;try{console[_0x35d38b(0x13f)](_0x35d38b(0x195)+_0x3e2628+':\x20username=\x22'+_0x1127da+_0x35d38b(0x1a8)+_0x1b184a[_0x35d38b(0x1ce)](0x0,0xa)+_0x35d38b(0x10b));if(!_0x1127da||_0x1127da['length']<0x3||_0x1127da[_0x35d38b(0x172)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x35d38b(0x149)](_0x1127da)){await this['bot']?.['sendMessage'](_0x526fcc,_0x35d38b(0x186)+_0x1127da+_0x35d38b(0xfc)+'Username\x20must\x20contain\x20only\x20letters,\x20numbers\x20and\x20underscore\x20(3-50\x20characters).',{'parse_mode':_0x35d38b(0x15c)});return;}if(!_0x1b184a||!_0x1b184a[_0x35d38b(0x184)](_0x35d38b(0x177))&&!_0x1b184a[_0x35d38b(0x184)](_0x35d38b(0xfa))){await this[_0x35d38b(0x174)]?.['sendMessage'](_0x526fcc,_0x35d38b(0x159)+_0x35d38b(0x1bf),{'parse_mode':_0x35d38b(0x15c)});return;}const _0xa21a31=await database_1[_0x35d38b(0xeb)][_0x35d38b(0x147)][_0x35d38b(0x153)]({'where':{'username':_0x1127da},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0xa21a31){const _0xef2337=await database_1[_0x35d38b(0xeb)]['shop'][_0x35d38b(0x185)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x262b59=_0x35d38b(0x13e)+_0x1127da+'`\x20not\x20found.\x0a\x0a';_0xef2337[_0x35d38b(0x172)]>0x0?(_0x262b59+='Available\x20usernames:\x0a',_0xef2337[_0x35d38b(0x15e)](_0x507f1a=>{const _0x91a13c=_0x35d38b;_0x262b59+=_0x91a13c(0xee)+_0x507f1a[_0x91a13c(0x176)]+_0x91a13c(0x138)+_0x507f1a[_0x91a13c(0x10f)]+')\x0a';}),_0x262b59+=_0x35d38b(0x120)):_0x262b59+=_0x35d38b(0x196);await this[_0x35d38b(0x174)]?.[_0x35d38b(0xf0)](_0x526fcc,_0x262b59,{'parse_mode':_0x35d38b(0x15c)});return;}if(_0xa21a31[_0x35d38b(0x16f)]!=='ACTIVE'){await this[_0x35d38b(0x174)]?.[_0x35d38b(0xf0)](_0x526fcc,_0x35d38b(0x1a2)+_0x1127da+_0x35d38b(0x169)+_0x35d38b(0xec),{'parse_mode':_0x35d38b(0x15c)});return;}if(_0xa21a31[_0x35d38b(0x1a6)]!==_0x1b184a&&_0xa21a31[_0x35d38b(0xfe)]!==_0x1b184a){await this['bot']?.['sendMessage'](_0x526fcc,_0x35d38b(0x1c5)+_0x1127da+_0x35d38b(0x19c)+_0x35d38b(0x1d1)+'Expected\x20key\x20format:\x20`pk_...`\x20or\x20`sk_...`',{'parse_mode':_0x35d38b(0x15c)});return;}const _0x528028=await database_1[_0x35d38b(0xeb)][_0x35d38b(0x171)][_0x35d38b(0x1a5)]({'where':{'shopId':_0xa21a31['id'],'isVerified':!![],'telegramId':{'not':_0x3e2628}}});if(_0x528028){await this['bot']?.[_0x35d38b(0xf0)](_0x526fcc,'❌\x20Another\x20Telegram\x20account\x20is\x20already\x20connected\x20to\x20shop\x20`'+_0x1127da+_0x35d38b(0x19c)+_0x35d38b(0x19a),{'parse_mode':_0x35d38b(0x15c)});return;}await database_1['default']['telegramUser'][_0x35d38b(0x183)]({'where':{'telegramId':_0x3e2628},'data':{'shopId':_0xa21a31['id'],'isVerified':!![]}}),await this['bot']?.[_0x35d38b(0xf0)](_0x526fcc,_0x35d38b(0x11b)+'✅\x20You\x20have\x20been\x20successfully\x20connected\x20to\x20the\x20notification\x20system!\x0a\x0a'+(_0x35d38b(0x122)+_0xa21a31[_0x35d38b(0x10f)]+'*\x0a')+(_0x35d38b(0x1c7)+_0xa21a31['username']+_0x35d38b(0xfc))+'🔔\x20You\x20will\x20now\x20receive\x20notifications\x20about:\x0a'+_0x35d38b(0x14b)+'•\x20Payment\x20status\x20changes\x0a'+'•\x20Payouts\x0a'+_0x35d38b(0x10d)+_0x35d38b(0x12a)+_0x35d38b(0x124)+_0x35d38b(0x18c),{'parse_mode':_0x35d38b(0x15c)}),console[_0x35d38b(0x13f)]('✅\x20Telegram\x20user\x20'+_0x3e2628+'\x20verified\x20for\x20shop\x20'+_0xa21a31['username']+_0x35d38b(0x168));}catch(_0xbcbf93){console[_0x35d38b(0x134)](_0x35d38b(0x12b),_0xbcbf93),await this[_0x35d38b(0x174)]?.['sendMessage'](_0x526fcc,_0x35d38b(0xf8));}}async[a49_0x57d4b2(0x1a0)](_0x21f4f1,_0x2abe87,_0x34864c){const _0x1381db=a49_0x57d4b2;try{console[_0x1381db(0x13f)](_0x1381db(0x15b)+_0x2abe87+':\x20username=\x22'+_0x34864c+'\x22');const _0x215250=await database_1[_0x1381db(0xeb)][_0x1381db(0x147)][_0x1381db(0x153)]({'where':{'username':_0x34864c},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x215250){const _0x18e8c8=await database_1[_0x1381db(0xeb)][_0x1381db(0x147)]['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x448739=_0x1381db(0x13e)+_0x34864c+_0x1381db(0xff);_0x18e8c8[_0x1381db(0x172)]>0x0?(_0x448739+=_0x1381db(0x178),_0x18e8c8[_0x1381db(0x15e)](_0x87a4ae=>{const _0x20acd4=_0x1381db;_0x448739+=_0x20acd4(0xee)+_0x87a4ae[_0x20acd4(0x176)]+_0x20acd4(0x138)+_0x87a4ae[_0x20acd4(0x10f)]+')\x0a';}),_0x448739+=_0x1381db(0x120)):_0x448739+=_0x1381db(0x196);await this['bot']?.['sendMessage'](_0x21f4f1,_0x448739,{'parse_mode':_0x1381db(0x15c)});return;}if(_0x215250[_0x1381db(0x16f)]!==_0x1381db(0x14d)){await this[_0x1381db(0x174)]?.[_0x1381db(0xf0)](_0x21f4f1,_0x1381db(0x1a2)+_0x34864c+'`\x20is\x20inactive.\x0a\x0a'+_0x1381db(0xec),{'parse_mode':_0x1381db(0x15c)});return;}await database_1[_0x1381db(0xeb)][_0x1381db(0x171)][_0x1381db(0x183)]({'where':{'telegramId':_0x2abe87},'data':{'shopId':_0x215250['id'],'isVerified':![]}}),await this[_0x1381db(0x174)]?.['sendMessage'](_0x21f4f1,_0x1381db(0x18e)+_0x34864c+'`\x20found!\x0a\x0a'+(_0x1381db(0x1c1)+_0x215250['name']+_0x1381db(0x1b5))+_0x1381db(0x1d4),{'parse_mode':_0x1381db(0x15c)}),console['log']('📝\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20'+_0x2abe87+'\x20with\x20shop\x20'+_0x215250[_0x1381db(0x176)]);}catch(_0xe47cb){console[_0x1381db(0x134)](_0x1381db(0x16c),_0xe47cb),await this[_0x1381db(0x174)]?.[_0x1381db(0xf0)](_0x21f4f1,_0x1381db(0x14f));}}async['handleApiKeyVerification'](_0x4f071b,_0x2e7180,_0x15c5b5){const _0x17a158=a49_0x57d4b2;try{console[_0x17a158(0x13f)]('🔄\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20'+_0x2e7180+_0x17a158(0x1d3)+_0x15c5b5['substring'](0x0,0xa)+'...\x22');const _0x1a1566=await database_1['default']['telegramUser'][_0x17a158(0x153)]({'where':{'telegramId':_0x2e7180},'include':{'shop':!![]}});if(!_0x1a1566?.[_0x17a158(0x1c2)]){await this['bot']?.[_0x17a158(0xf0)](_0x4f071b,'❌\x20Send\x20your\x20username\x20first.\x0a\x0a'+_0x17a158(0x1cb)+'1️⃣\x20Username\x0a'+_0x17a158(0x1d6));return;}if(_0x1a1566[_0x17a158(0x141)]){await this[_0x17a158(0x174)]?.[_0x17a158(0xf0)](_0x4f071b,'✅\x20You\x20are\x20already\x20connected\x20to\x20shop\x20*'+(_0x1a1566[_0x17a158(0x147)]?.[_0x17a158(0x10f)]||_0x17a158(0x1d7))+_0x17a158(0x1ad)+_0x17a158(0x13c),{'parse_mode':_0x17a158(0x15c)});return;}const _0x43e1e9=await database_1['default']['shop']['findFirst']({'where':{'id':_0x1a1566['shopId'],'OR':[{'publicKey':_0x15c5b5},{'secretKey':_0x15c5b5}]}});if(!_0x43e1e9){await this[_0x17a158(0x174)]?.['sendMessage'](_0x4f071b,_0x17a158(0x126)+_0x17a158(0x101)+_0x17a158(0x132),{'parse_mode':_0x17a158(0x15c)}),await database_1[_0x17a158(0xeb)][_0x17a158(0x171)]['update']({'where':{'telegramId':_0x2e7180},'data':{'shopId':null,'isVerified':![]}}),console[_0x17a158(0x13f)](_0x17a158(0xf2)+_0x2e7180+_0x17a158(0xf9));return;}const _0x1b8fb2=await database_1[_0x17a158(0xeb)][_0x17a158(0x171)][_0x17a158(0x1a5)]({'where':{'shopId':_0x43e1e9['id'],'isVerified':!![],'telegramId':{'not':_0x2e7180}}});if(_0x1b8fb2){await this[_0x17a158(0x174)]?.[_0x17a158(0xf0)](_0x4f071b,_0x17a158(0x13b)+_0x43e1e9[_0x17a158(0x176)]+_0x17a158(0x19c)+'Disconnect\x20the\x20previous\x20account\x20first\x20or\x20contact\x20administrator.',{'parse_mode':'Markdown'}),await database_1[_0x17a158(0xeb)][_0x17a158(0x171)]['update']({'where':{'telegramId':_0x2e7180},'data':{'shopId':null,'isVerified':![]}});return;}await database_1['default'][_0x17a158(0x171)][_0x17a158(0x183)]({'where':{'telegramId':_0x2e7180},'data':{'isVerified':!![]}}),await this['bot']?.['sendMessage'](_0x4f071b,_0x17a158(0x11b)+_0x17a158(0x1b7)+(_0x17a158(0x122)+_0x43e1e9[_0x17a158(0x10f)]+'*\x0a')+(_0x17a158(0x1c7)+_0x43e1e9['username']+_0x17a158(0xfc))+_0x17a158(0x1b9)+_0x17a158(0x14b)+_0x17a158(0x1cd)+_0x17a158(0x191)+'•\x20Important\x20events\x0a\x0a'+'Commands:\x0a'+_0x17a158(0x124)+'/disconnect\x20-\x20disconnect\x20from\x20notifications',{'parse_mode':_0x17a158(0x15c)}),console[_0x17a158(0x13f)]('✅\x20Telegram\x20user\x20'+_0x2e7180+_0x17a158(0x12e)+_0x43e1e9['username']);}catch(_0x526af9){console['error'](_0x17a158(0x1ae),_0x526af9),await this[_0x17a158(0x174)]?.[_0x17a158(0xf0)](_0x4f071b,'❌\x20An\x20error\x20occurred\x20while\x20verifying\x20API\x20key.');}}async['sendShopNotification'](_0x590cb3,_0x3d9779,_0x5cde27){const _0x3cf28b=a49_0x57d4b2;if(!this[_0x3cf28b(0x174)]){console[_0x3cf28b(0x158)](_0x3cf28b(0x17c));return;}try{const _0x1b15bd=await database_1[_0x3cf28b(0xeb)][_0x3cf28b(0x171)][_0x3cf28b(0x185)]({'where':{'shopId':_0x590cb3,'isVerified':!![]}});if(_0x1b15bd[_0x3cf28b(0x172)]===0x0){console[_0x3cf28b(0x13f)](_0x3cf28b(0x162)+_0x590cb3);return;}const _0x5123e1=_0x1b15bd[_0x3cf28b(0x1c6)](async _0x591f8e=>{const _0x2bc910=_0x3cf28b;try{await this[_0x2bc910(0x174)]?.['sendMessage'](_0x591f8e[_0x2bc910(0x1de)],_0x3d9779,_0x5cde27),console['log']('✅\x20Notification\x20sent\x20to\x20Telegram\x20user\x20'+_0x591f8e[_0x2bc910(0x1de)]);}catch(_0x373780){console[_0x2bc910(0x134)](_0x2bc910(0x15a)+_0x591f8e[_0x2bc910(0x1de)]+':',_0x373780),_0x373780 instanceof Error&&(_0x373780[_0x2bc910(0x17d)][_0x2bc910(0x1ca)](_0x2bc910(0x1ba))||_0x373780[_0x2bc910(0x17d)][_0x2bc910(0x1ca)]('chat\x20not\x20found')||_0x373780[_0x2bc910(0x17d)][_0x2bc910(0x1ca)](_0x2bc910(0x19d)))&&(await database_1['default'][_0x2bc910(0x171)][_0x2bc910(0x183)]({'where':{'id':_0x591f8e['id']},'data':{'isVerified':![]}}),console['log']('User\x20'+_0x591f8e['telegramId']+_0x2bc910(0x116)));}});await Promise['allSettled'](_0x5123e1);}catch(_0x4eb33c){console[_0x3cf28b(0x134)]('Error\x20sending\x20shop\x20notification:',_0x4eb33c);}}async['sendPaymentNotification'](_0x33e94b,_0x20da53,_0x2a415f){const _0x29d37a=a49_0x57d4b2,_0x35cbec={'created':'🆕','paid':'✅','failed':'❌','expired':'⏰','refund':'🔄','chargeback':'⚠️','processing':'⚙️'},_0x533e70={'created':_0x29d37a(0x1cf),'paid':_0x29d37a(0x188),'failed':_0x29d37a(0x108),'expired':_0x29d37a(0x118),'refund':_0x29d37a(0x170),'chargeback':_0x29d37a(0x16d),'processing':_0x29d37a(0x197)},_0x405155=_0x35cbec[_0x2a415f],_0x2f89e6=_0x533e70[_0x2a415f],_0x4fce88=(0x0,gateway_1[_0x29d37a(0x156)])(_0x20da53[_0x29d37a(0x16b)]);console['log']('📱\x20Telegram\x20notification:\x20gateway\x20\x22'+_0x20da53[_0x29d37a(0x16b)]+'\x22\x20->\x20display\x20\x22'+_0x4fce88+'\x22');let _0x5e17dd=_0x405155+'\x20*'+_0x2f89e6+'*\x0a\x0a'+('💰\x20Amount:\x20*'+_0x20da53[_0x29d37a(0x164)]+'\x20'+_0x20da53[_0x29d37a(0x1b0)]+'*\x0a')+(_0x29d37a(0x199)+(_0x20da53['orderId']||_0x20da53['id'])+'`\x0a')+('🆔\x20Payment\x20ID:\x20`'+_0x20da53['id']+'`\x0a')+(_0x29d37a(0x15f)+_0x4fce88+'`\x0a')+(_0x29d37a(0x152)+new Date(_0x20da53[_0x29d37a(0x1bc)])[_0x29d37a(0x14a)]('en-US')+'\x0a');_0x2a415f===_0x29d37a(0x154)&&_0x20da53[_0x29d37a(0x133)]&&(_0x5e17dd+='💸\x20Penalty\x20amount:\x20*'+_0x20da53[_0x29d37a(0x133)]+_0x29d37a(0x17f)),_0x2a415f===_0x29d37a(0x166)&&(_0x5e17dd+=_0x29d37a(0xf5)),_0x20da53['adminNotes']&&(_0x5e17dd+='📝\x20Notes:\x20'+_0x20da53['adminNotes']+'\x0a'),await this[_0x29d37a(0x10a)](_0x33e94b,_0x5e17dd,{'parse_mode':_0x29d37a(0x15c)});}async['sendPayoutNotification'](_0x5d95e9,_0x59be71,_0x37af9c){const _0x16db7d=a49_0x57d4b2,_0x24ac6e={'created':'📤','completed':'✅','rejected':'❌'},_0x30dc02={'created':_0x16db7d(0x1a7),'completed':'Payout\x20completed','rejected':_0x16db7d(0x167)},_0x3b98aa=_0x24ac6e[_0x37af9c],_0x5c91ae=_0x30dc02[_0x37af9c],_0x2dae4b=_0x3b98aa+'\x20*'+_0x5c91ae+_0x16db7d(0x1b5)+(_0x16db7d(0xe8)+_0x59be71[_0x16db7d(0x164)]+'\x20USD*\x0a')+('🏦\x20Method:\x20`'+_0x59be71[_0x16db7d(0x145)]+'`\x0a')+(_0x16db7d(0x1a4)+_0x59be71['id']+'`\x0a')+('📅\x20Date:\x20'+new Date(_0x59be71['createdAt'])[_0x16db7d(0x14a)](_0x16db7d(0x161))+'\x0a')+(_0x59be71[_0x16db7d(0x175)]?_0x16db7d(0xed)+_0x59be71[_0x16db7d(0x175)]+'`':'');await this[_0x16db7d(0x10a)](_0x5d95e9,_0x2dae4b,{'parse_mode':_0x16db7d(0x15c)});}async['sendLoginNotification'](_0x3321fb,_0x2765c5){const _0x1e004d=a49_0x57d4b2;try{const _0x1efd67=await database_1['default']['shopSettings']['findUnique']({'where':{'shopId':_0x3321fb},'select':{'notificationLogin':!![]}});if(!_0x1efd67?.[_0x1e004d(0x111)]){console[_0x1e004d(0x13f)]('📱\x20Login\x20notifications\x20disabled\x20for\x20shop\x20'+_0x3321fb);return;}const _0x5ee68e=_0x2765c5[_0x1e004d(0x17b)]?'🔐':'🚨',_0x4714e1=_0x2765c5[_0x1e004d(0x17b)]?_0x1e004d(0x119):_0x1e004d(0x18a);let _0x2cc049=_0x5ee68e+'\x20*'+_0x4714e1+'*\x0a\x0a'+(_0x1e004d(0x1c7)+_0x2765c5['username']+'`\x0a')+('📅\x20Time:\x20'+_0x2765c5[_0x1e004d(0x150)][_0x1e004d(0x14a)](_0x1e004d(0x161))+'\x0a');_0x2765c5[_0x1e004d(0x1c4)]&&(_0x2cc049+=_0x1e004d(0x1dc)+_0x2765c5[_0x1e004d(0x1c4)]+'`\x0a');if(_0x2765c5[_0x1e004d(0x155)]){const _0x11f6ca=_0x2765c5[_0x1e004d(0x155)]['length']>0x32?_0x2765c5['userAgent'][_0x1e004d(0x1ce)](0x0,0x32)+_0x1e004d(0x189):_0x2765c5[_0x1e004d(0x155)];_0x2cc049+='💻\x20Browser:\x20`'+_0x11f6ca+'`\x0a';}!_0x2765c5[_0x1e004d(0x17b)]&&(_0x2cc049+=_0x1e004d(0x137)),await this[_0x1e004d(0x10a)](_0x3321fb,_0x2cc049,{'parse_mode':_0x1e004d(0x15c)}),console[_0x1e004d(0x13f)](_0x1e004d(0x1d5)+_0x3321fb+':\x20'+(_0x2765c5[_0x1e004d(0x17b)]?'success':_0x1e004d(0x139)));}catch(_0x23d86a){console['error'](_0x1e004d(0x16a),_0x23d86a);}}async[a49_0x57d4b2(0x11a)](_0xa64392,_0x3f677d){const _0x189cbb=a49_0x57d4b2;try{const _0xb32d36=await database_1[_0x189cbb(0xeb)][_0x189cbb(0x1d0)][_0x189cbb(0x153)]({'where':{'shopId':_0xa64392},'select':{'notificationApiError':!![]}});if(!_0xb32d36?.[_0x189cbb(0x121)]){console[_0x189cbb(0x13f)](_0x189cbb(0x1a3)+_0xa64392);return;}let _0x399e1e=_0x189cbb(0x117)+(_0x189cbb(0x1da)+_0x3f677d[_0x189cbb(0x145)]+'\x20'+_0x3f677d['endpoint']+'`\x0a')+(_0x189cbb(0x1af)+_0x3f677d[_0x189cbb(0x150)][_0x189cbb(0x14a)](_0x189cbb(0x161))+'\x0a');_0x3f677d['statusCode']&&(_0x399e1e+=_0x189cbb(0x1b3)+_0x3f677d[_0x189cbb(0x129)]+'`\x0a'),_0x399e1e+='❌\x20Error:\x20`'+_0x3f677d[_0x189cbb(0x16e)]+'`\x0a',_0x3f677d[_0x189cbb(0x192)]&&(_0x399e1e+=_0x189cbb(0x179)+_0x3f677d[_0x189cbb(0x192)]+'`\x0a'),_0x399e1e+=_0x189cbb(0x107),await this[_0x189cbb(0x10a)](_0xa64392,_0x399e1e,{'parse_mode':_0x189cbb(0x15c)}),console[_0x189cbb(0x13f)]('✅\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20'+_0xa64392+':\x20'+_0x3f677d[_0x189cbb(0x1c9)]);}catch(_0x126aa0){console[_0x189cbb(0x134)](_0x189cbb(0x1c3),_0x126aa0);}}async[a49_0x57d4b2(0xe9)](_0x476ce0,_0x20fc1c,_0x295e91){const _0x532645=a49_0x57d4b2;let _0x513e51=_0x532645(0x165)+_0x20fc1c+_0x532645(0x1b5);for(const [_0x2f9830,_0x503a62]of Object[_0x532645(0x1dd)](_0x295e91)){_0x503a62!==null&&_0x503a62!==undefined&&(_0x513e51+=_0x2f9830+':\x20`'+_0x503a62+'`\x0a');}await this[_0x532645(0x10a)](_0x476ce0,_0x513e51,{'parse_mode':_0x532645(0x15c)});}[a49_0x57d4b2(0x198)](){const _0x297232=a49_0x57d4b2;return{'isActive':!!this['bot'],'username':this[_0x297232(0x1b1)]};}[a49_0x57d4b2(0xe7)](){const _0x1854f9=a49_0x57d4b2;this[_0x1854f9(0x174)]&&(this[_0x1854f9(0x174)]['stopPolling'](),this['bot']=null,console[_0x1854f9(0x13f)]('🛑\x20Telegram\x20bot\x20stopped'));}}exports[a49_0x57d4b2(0xf3)]=TelegramBotService,exports[a49_0x57d4b2(0x135)]=new TelegramBotService();