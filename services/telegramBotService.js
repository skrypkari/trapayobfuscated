'use strict';const a49_0x432deb=a49_0x4daa;function a49_0x173e(){const _0x4b3dc6=['map','log','username','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a','substring','Error\x20handling\x20/start\x20command:','includes','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','length','telegramId','gateway','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','16912010zpmvya','test','telegramUser','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','telegramBotService','–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','‚Ä¢\x20`','split','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','TELEGRAM_BOT_TOKEN','60PdBKyB','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.','amount','2125140HmQZNt','‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','üÜî\x20Request\x20ID:\x20`','9SLQfYs','findFirst','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20',':\x20`','`appple`\x0a','`.\x0a\x0a','requestId','statusCode','*.\x0a\x0a','chargebackAmount','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','first_name','publicKey','*\x0a\x0a','error','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','bot','secretKey','forEach','sendMessage','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a','createdAt','txid','Error\x20in\x20handleUsernameVerification:','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`','üì±\x20Created\x20new\x20Telegram\x20user:\x20','\x20verified\x20for\x20shop\x20','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','.\x20*','warn','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','update','startsWith','üîå\x20User\x20','ACTIVE','status','stopBot','toString','handleApiKeyVerification','polling_error','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','filter','failed','ipAddress','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`','–ö–æ–º–∞–Ω–¥—ã:\x0a','üè™\x20–®–ª—é–∑:\x20`','isVerified','trim','findUnique','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a','‚ùå\x20–û—à–∏–±–∫–∞:\x20`','botToken','__esModule','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','__importDefault','–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','...\x22','üîó\x20TXID:\x20`','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','2Ô∏è‚É£\x20API\x20–∫–ª—é—á','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','sk_','Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','195565xyhMnK','üîó\x20Endpoint:\x20`','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','Markdown','endpoint','‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','27vkfoKF','üë§\x20Username:\x20`','üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a','Failed\x20to\x20send\x20API\x20error\x20notification:','üõë\x20Telegram\x20bot\x20stopped','\x20\x20\x20Public\x20Key:\x20`','timestamp','\x20(@','TELEGRAM_BOT_USERNAME','node-telegram-bot-api','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','\x20\x20\x20Username:\x20`','success','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.','shop','updatedAt','1633016JOHzpn','pk_','üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','sendLoginNotification','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','\x20with\x20shop\x20','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','Error\x20in\x20handleMultilineVerification:','\x20USD*\x0a','from','–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','toUpperCase','Telegram\x20bot\x20polling\x20error:','shopId','–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','ru-RU','chargeback','üí∞\x20–°—É–º–º–∞:\x20*','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.','default','sendShopNotification','sendCustomNotification','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','env','üìÖ\x20–î–∞—Ç–∞:\x20','`\x20(','`\x0a\x0a','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.','üîî\x20*','User\x20','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`','toLocaleString','findMany','‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!','üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*','setupBotHandlers','message','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a','Failed\x20to\x20send\x20login\x20notification:','üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`','Error\x20sending\x20shop\x20notification:','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','create','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','Error\x20in\x20handleApiKeyVerification:','chat','1315364AjHCaI','üè¶\x20–ú–µ—Ç–æ–¥:\x20`','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','initializeBot','\x22,\x20apiKey=\x22','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.','handleUsernameVerification','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','TelegramBotService','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','entries','34630NxEtfa','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','blocked','üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','–ú–∞–≥–∞–∑–∏–Ω:\x20*','6073272pYihki','handleMultilineVerification','notificationLogin','shopSettings','stopPolling','method','name','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a','trapay_bot','../config/database','userAgent','‚úÖ\x20Telegram\x20user\x20','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a','onText','errorMessage','user\x20is\x20deactivated','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.','Error\x20handling\x20/debug\x20command:','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','...','getBotInfo','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20','botUsername','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','\x20via\x20multiline\x20input','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','üìù\x20Order\x20ID:\x20`','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.'];a49_0x173e=function(){return _0x4b3dc6;};return a49_0x173e();}(function(_0x34cbf1,_0x2e6cb4){const _0x434054=a49_0x4daa,_0x39174b=_0x34cbf1();while(!![]){try{const _0x1f1906=-parseInt(_0x434054(0x13a))/0x1*(-parseInt(_0x434054(0x18d))/0x2)+parseInt(_0x434054(0x1d2))/0x3+parseInt(_0x434054(0x181))/0x4+parseInt(_0x434054(0x134))/0x5*(-parseInt(_0x434054(0x1cf))/0x6)+parseInt(_0x434054(0x14b))/0x7+-parseInt(_0x434054(0x194))/0x8*(-parseInt(_0x434054(0x1d5))/0x9)+-parseInt(_0x434054(0x1c4))/0xa;if(_0x1f1906===_0x2e6cb4)break;else _0x39174b['push'](_0x39174b['shift']());}catch(_0x16ff74){_0x39174b['push'](_0x39174b['shift']());}}}(a49_0x173e,0x6547a));function a49_0x4daa(_0x511929,_0x3f1140){const _0x173ecb=a49_0x173e();return a49_0x4daa=function(_0x4daa0b,_0x2f8aaf){_0x4daa0b=_0x4daa0b-0x124;let _0xe2862d=_0x173ecb[_0x4daa0b];return _0xe2862d;},a49_0x4daa(_0x511929,_0x3f1140);}var __importDefault=this&&this[a49_0x432deb(0x125)]||function(_0x4e50bd){const _0x45c46f=a49_0x432deb;return _0x4e50bd&&_0x4e50bd[_0x45c46f(0x20e)]?_0x4e50bd:{'default':_0x4e50bd};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a49_0x432deb(0x1c8)]=exports[a49_0x432deb(0x18a)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x432deb(0x143))),database_1=__importDefault(require(a49_0x432deb(0x19d)));class TelegramBotService{constructor(){const _0x2c81c1=a49_0x432deb;this[_0x2c81c1(0x1e5)]=null,this[_0x2c81c1(0x20d)]=process[_0x2c81c1(0x169)][_0x2c81c1(0x1ce)]||'',this['botUsername']=process[_0x2c81c1(0x169)][_0x2c81c1(0x142)]||_0x2c81c1(0x19c),this[_0x2c81c1(0x20d)]?this[_0x2c81c1(0x185)]():console[_0x2c81c1(0x1f2)](_0x2c81c1(0x184));}[a49_0x432deb(0x185)](){const _0x2e6280=a49_0x432deb;try{this['bot']=new node_telegram_bot_api_1[(_0x2e6280(0x165))](this[_0x2e6280(0x20d)],{'polling':!![]}),this[_0x2e6280(0x176)](),console['log']('‚úÖ\x20Telegram\x20bot\x20@'+this[_0x2e6280(0x1ac)]+'\x20initialized\x20successfully');}catch(_0x2b42b8){console[_0x2e6280(0x1e3)]('‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:',_0x2b42b8);}}[a49_0x432deb(0x176)](){const _0x8abcbc=a49_0x432deb;if(!this[_0x8abcbc(0x1e5)])return;this[_0x8abcbc(0x1e5)][_0x8abcbc(0x1a1)](/\/start/,async _0x4e429a=>{const _0x3eafc8=_0x8abcbc,_0x2374ae=_0x4e429a['chat']['id'],_0x2a90c8=_0x4e429a['from']?.['id'][_0x3eafc8(0x1fa)](),_0x10a2c1=_0x4e429a['from']?.[_0x3eafc8(0x1b5)],_0x10771e=_0x4e429a[_0x3eafc8(0x15b)]?.[_0x3eafc8(0x1e0)],_0x2f2c9a=_0x4e429a[_0x3eafc8(0x15b)]?.['last_name'];if(!_0x2a90c8)return;try{let _0x2b8a89=await database_1['default'][_0x3eafc8(0x1c6)][_0x3eafc8(0x209)]({'where':{'telegramId':_0x2a90c8},'include':{'shop':!![]}});!_0x2b8a89?(_0x2b8a89=await database_1[_0x3eafc8(0x165)][_0x3eafc8(0x1c6)][_0x3eafc8(0x17d)]({'data':{'telegramId':_0x2a90c8,'username':_0x10a2c1,'firstName':_0x10771e,'lastName':_0x2f2c9a,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console['log'](_0x3eafc8(0x1ee)+_0x2a90c8+_0x3eafc8(0x141)+_0x10a2c1+')')):_0x2b8a89=await database_1[_0x3eafc8(0x165)][_0x3eafc8(0x1c6)]['update']({'where':{'telegramId':_0x2a90c8},'data':{'username':_0x10a2c1,'firstName':_0x10771e,'lastName':_0x2f2c9a},'include':{'shop':!![]}}),_0x2b8a89['isVerified']&&_0x2b8a89['shopId']&&_0x2b8a89[_0x3eafc8(0x149)]?await this[_0x3eafc8(0x1e5)]?.['sendMessage'](_0x2374ae,_0x3eafc8(0x157)+(_0x3eafc8(0x1c2)+_0x2b8a89['shop'][_0x3eafc8(0x19a)]+'*\x0a')+('Username:\x20`'+_0x2b8a89['shop'][_0x3eafc8(0x1b5)]+'`\x0a\x0a')+_0x3eafc8(0x1b6)+'‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a'+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x3eafc8(0x19b)+_0x3eafc8(0x205)+_0x3eafc8(0x168)+_0x3eafc8(0x189),{'parse_mode':_0x3eafc8(0x137)}):(_0x2b8a89['shopId']&&!_0x2b8a89[_0x3eafc8(0x207)]&&(await database_1[_0x3eafc8(0x165)]['telegramUser'][_0x3eafc8(0x1f4)]({'where':{'telegramId':_0x2a90c8},'data':{'shopId':null,'isVerified':![]}}),console[_0x3eafc8(0x1b4)]('üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20'+_0x2a90c8)),await this[_0x3eafc8(0x1e5)]?.[_0x3eafc8(0x1e8)](_0x2374ae,_0x3eafc8(0x1c0)+'–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a'+_0x3eafc8(0x153)+_0x3eafc8(0x1ca)+_0x3eafc8(0x131)+'–ü—Ä–∏–º–µ—Ä:\x0a'+_0x3eafc8(0x1d9)+'`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a'+_0x3eafc8(0x174),{'parse_mode':'Markdown'}));}catch(_0x5678e4){console['error'](_0x3eafc8(0x1b9),_0x5678e4),await this['bot']?.['sendMessage'](_0x2374ae,_0x3eafc8(0x152));}}),this['bot'][_0x8abcbc(0x1a1)](/\/disconnect/,async _0x5401ab=>{const _0x1df350=_0x8abcbc,_0x1b3085=_0x5401ab[_0x1df350(0x180)]['id'],_0x58ba94=_0x5401ab[_0x1df350(0x15b)]?.['id'][_0x1df350(0x1fa)]();if(!_0x58ba94)return;try{const _0x4b6e20=await database_1[_0x1df350(0x165)][_0x1df350(0x1c6)][_0x1df350(0x209)]({'where':{'telegramId':_0x58ba94},'include':{'shop':!![]}});if(!_0x4b6e20||!_0x4b6e20['isVerified']||!_0x4b6e20[_0x1df350(0x15f)]){await this[_0x1df350(0x1e5)]?.[_0x1df350(0x1e8)](_0x1b3085,_0x1df350(0x1d0));return;}const _0x2381c4=_0x4b6e20[_0x1df350(0x149)]?.[_0x1df350(0x19a)]||'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω';await database_1[_0x1df350(0x165)]['telegramUser'][_0x1df350(0x1f4)]({'where':{'telegramId':_0x58ba94},'data':{'shopId':null,'isVerified':![]}}),console[_0x1df350(0x1b4)](_0x1df350(0x1f6)+_0x58ba94+'\x20disconnected\x20from\x20shop\x20'+_0x4b6e20[_0x1df350(0x15f)]),await this['bot']?.[_0x1df350(0x1e8)](_0x1b3085,'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*'+_0x2381c4+_0x1df350(0x1dd)+'–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start',{'parse_mode':'Markdown'});}catch(_0x180664){console['error']('Error\x20handling\x20/disconnect\x20command:',_0x180664),await this[_0x1df350(0x1e5)]?.[_0x1df350(0x1e8)](_0x1b3085,_0x1df350(0x152));}}),this[_0x8abcbc(0x1e5)][_0x8abcbc(0x1a1)](/\/status/,async _0x27d29a=>{const _0x22e563=_0x8abcbc,_0xe91be5=_0x27d29a[_0x22e563(0x180)]['id'],_0x492bdf=_0x27d29a['from']?.['id']['toString']();if(!_0x492bdf)return;try{const _0x1ce20f=await database_1['default'][_0x22e563(0x1c6)][_0x22e563(0x209)]({'where':{'telegramId':_0x492bdf},'include':{'shop':!![]}});if(!_0x1ce20f){await this[_0x22e563(0x1e5)]?.[_0x22e563(0x1e8)](_0xe91be5,_0x22e563(0x1e9)+_0x22e563(0x187));return;}if(!_0x1ce20f['isVerified']||!_0x1ce20f[_0x22e563(0x15f)]||!_0x1ce20f[_0x22e563(0x149)]){await this[_0x22e563(0x1e5)]?.[_0x22e563(0x1e8)](_0xe91be5,_0x22e563(0x12f)+_0x22e563(0x18e));return;}await this[_0x22e563(0x1e5)]?.[_0x22e563(0x1e8)](_0xe91be5,_0x22e563(0x1aa)+(_0x22e563(0x139)+_0x1ce20f[_0x22e563(0x149)][_0x22e563(0x19a)]+'*\x0a')+(_0x22e563(0x13b)+_0x1ce20f[_0x22e563(0x149)][_0x22e563(0x1b5)]+'`\x0a')+('üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20'+_0x1ce20f[_0x22e563(0x14a)]['toLocaleDateString'](_0x22e563(0x161))+'\x0a\x0a')+_0x22e563(0x130)+'–ö–æ–º–∞–Ω–¥—ã:\x0a'+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0x22e563(0x137)});}catch(_0x5ade07){console[_0x22e563(0x1e3)]('Error\x20handling\x20/status\x20command:',_0x5ade07),await this[_0x22e563(0x1e5)]?.[_0x22e563(0x1e8)](_0xe91be5,_0x22e563(0x152));}}),this['bot'][_0x8abcbc(0x1a1)](/\/debug/,async _0x4c470b=>{const _0x37d32b=_0x8abcbc,_0x3812e8=_0x4c470b[_0x37d32b(0x180)]['id'],_0x5e0ecb=_0x4c470b[_0x37d32b(0x15b)]?.['id']['toString']();if(!_0x5e0ecb)return;try{const _0x5bc3aa=await database_1[_0x37d32b(0x165)][_0x37d32b(0x149)][_0x37d32b(0x173)]({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x3ebe13='üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a';_0x3ebe13+=_0x37d32b(0x171)+_0x5e0ecb+_0x37d32b(0x16c),_0x3ebe13+=_0x37d32b(0x13c),_0x5bc3aa[_0x37d32b(0x1e7)]((_0x96ee7d,_0x377b80)=>{const _0x203f4c=_0x37d32b;_0x3ebe13+=_0x377b80+0x1+_0x203f4c(0x1f1)+_0x96ee7d[_0x203f4c(0x19a)]+'*\x0a',_0x3ebe13+=_0x203f4c(0x145)+_0x96ee7d['username']+'`\x0a',_0x3ebe13+='\x20\x20\x20Status:\x20'+_0x96ee7d[_0x203f4c(0x1f8)]+'\x0a',_0x3ebe13+=_0x203f4c(0x13f)+_0x96ee7d[_0x203f4c(0x1e1)]['substring'](0x0,0xf)+'...`\x0a\x0a';}),await this[_0x37d32b(0x1e5)]?.[_0x37d32b(0x1e8)](_0x3812e8,_0x3ebe13,{'parse_mode':_0x37d32b(0x137)});}catch(_0x2e8b92){console[_0x37d32b(0x1e3)](_0x37d32b(0x1a6),_0x2e8b92),await this[_0x37d32b(0x1e5)]?.['sendMessage'](_0x3812e8,_0x37d32b(0x1bb));}}),this['bot']['on']('message',async _0x45f73b=>{const _0x49ae87=_0x8abcbc;if(_0x45f73b['text']?.[_0x49ae87(0x1f5)]('/'))return;const _0x232d88=_0x45f73b[_0x49ae87(0x180)]['id'],_0x3c948a=_0x45f73b[_0x49ae87(0x15b)]?.['id'][_0x49ae87(0x1fa)](),_0x96238f=_0x45f73b['text']?.[_0x49ae87(0x208)]();if(!_0x3c948a||!_0x96238f)return;try{const _0x28cd4c=await database_1[_0x49ae87(0x165)][_0x49ae87(0x1c6)]['findUnique']({'where':{'telegramId':_0x3c948a},'include':{'shop':!![]}});if(!_0x28cd4c){await this[_0x49ae87(0x1e5)]?.['sendMessage'](_0x232d88,_0x49ae87(0x17e));return;}if(_0x28cd4c[_0x49ae87(0x207)]&&_0x28cd4c['shopId']&&_0x28cd4c['shop']){await this[_0x49ae87(0x1e5)]?.['sendMessage'](_0x232d88,_0x49ae87(0x18f)+_0x28cd4c['shop']['name']+_0x49ae87(0x1dd)+_0x49ae87(0x16d),{'parse_mode':'Markdown'});return;}const _0x51872c=_0x96238f[_0x49ae87(0x1cc)]('\x0a')[_0x49ae87(0x1b3)](_0x3bc2c0=>_0x3bc2c0['trim']())[_0x49ae87(0x200)](_0xde08f9=>_0xde08f9[_0x49ae87(0x1bd)]>0x0);if(_0x51872c[_0x49ae87(0x1bd)]===0x2){const [_0x1164e8,_0x2ed6f9]=_0x51872c;await this[_0x49ae87(0x195)](_0x232d88,_0x3c948a,_0x1164e8,_0x2ed6f9);}else{if(_0x51872c[_0x49ae87(0x1bd)]===0x1){const _0x5ed357=_0x51872c[0x0];if(_0x5ed357['length']>=0x3&&_0x5ed357[_0x49ae87(0x1bd)]<=0x32&&/^[a-zA-Z0-9_]+$/[_0x49ae87(0x1c5)](_0x5ed357))await this[_0x49ae87(0x188)](_0x232d88,_0x3c948a,_0x5ed357);else _0x5ed357[_0x49ae87(0x1f5)](_0x49ae87(0x14c))||_0x5ed357[_0x49ae87(0x1f5)](_0x49ae87(0x12d))?await this[_0x49ae87(0x1fb)](_0x232d88,_0x3c948a,_0x5ed357):await this[_0x49ae87(0x1e5)]?.[_0x49ae87(0x1e8)](_0x232d88,_0x49ae87(0x12a)+_0x49ae87(0x20b)+'1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a'+_0x49ae87(0x14f)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a'+_0x49ae87(0x1d9)+_0x49ae87(0x1c7),{'parse_mode':_0x49ae87(0x137)});}else await this[_0x49ae87(0x1e5)]?.[_0x49ae87(0x1e8)](_0x232d88,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a'+_0x49ae87(0x1a0)+'–ü—Ä–∏–º–µ—Ä:\x0a'+_0x49ae87(0x1d9)+_0x49ae87(0x1c7),{'parse_mode':_0x49ae87(0x137)});}}catch(_0xd8268f){console[_0x49ae87(0x1e3)]('Error\x20handling\x20message:',_0xd8268f),await this[_0x49ae87(0x1e5)]?.[_0x49ae87(0x1e8)](_0x232d88,_0x49ae87(0x152));}}),this[_0x8abcbc(0x1e5)]['on'](_0x8abcbc(0x1e3),_0x566545=>{const _0x1c8c0d=_0x8abcbc;console[_0x1c8c0d(0x1e3)]('Telegram\x20bot\x20error:',_0x566545);}),this[_0x8abcbc(0x1e5)]['on'](_0x8abcbc(0x1fc),_0xade951=>{const _0x59a429=_0x8abcbc;console[_0x59a429(0x1e3)](_0x59a429(0x15e),_0xade951);});}async[a49_0x432deb(0x195)](_0x3de7be,_0x5e635b,_0x3d301c,_0x9c467f){const _0x5c93eb=a49_0x432deb;try{console[_0x5c93eb(0x1b4)](_0x5c93eb(0x1ab)+_0x5e635b+':\x20username=\x22'+_0x3d301c+_0x5c93eb(0x186)+_0x9c467f['substring'](0x0,0xa)+_0x5c93eb(0x128));if(!_0x3d301c||_0x3d301c['length']<0x3||_0x3d301c[_0x5c93eb(0x1bd)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x5c93eb(0x1c5)](_0x3d301c)){await this['bot']?.[_0x5c93eb(0x1e8)](_0x3de7be,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`'+_0x3d301c+_0x5c93eb(0x16c)+_0x5c93eb(0x12e),{'parse_mode':_0x5c93eb(0x137)});return;}if(!_0x9c467f||!_0x9c467f[_0x5c93eb(0x1f5)](_0x5c93eb(0x14c))&&!_0x9c467f[_0x5c93eb(0x1f5)](_0x5c93eb(0x12d))){await this[_0x5c93eb(0x1e5)]?.[_0x5c93eb(0x1e8)](_0x3de7be,_0x5c93eb(0x178)+'API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.',{'parse_mode':_0x5c93eb(0x137)});return;}const _0x3bbdde=await database_1[_0x5c93eb(0x165)]['shop'][_0x5c93eb(0x209)]({'where':{'username':_0x3d301c},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x3bbdde){const _0x2c6cd9=await database_1[_0x5c93eb(0x165)][_0x5c93eb(0x149)]['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x5971cf=_0x5c93eb(0x1ed)+_0x3d301c+_0x5c93eb(0x1ff);_0x2c6cd9[_0x5c93eb(0x1bd)]>0x0?(_0x5971cf+=_0x5c93eb(0x132),_0x2c6cd9[_0x5c93eb(0x1e7)](_0x1514cd=>{const _0x32031e=_0x5c93eb;_0x5971cf+=_0x32031e(0x1cb)+_0x1514cd[_0x32031e(0x1b5)]+_0x32031e(0x16b)+_0x1514cd[_0x32031e(0x19a)]+')\x0a';}),_0x5971cf+=_0x5c93eb(0x147)):_0x5971cf+=_0x5c93eb(0x1fd);await this[_0x5c93eb(0x1e5)]?.['sendMessage'](_0x3de7be,_0x5971cf,{'parse_mode':_0x5c93eb(0x137)});return;}if(_0x3bbdde[_0x5c93eb(0x1f8)]!==_0x5c93eb(0x1f7)){await this[_0x5c93eb(0x1e5)]?.[_0x5c93eb(0x1e8)](_0x3de7be,_0x5c93eb(0x127)+_0x3d301c+_0x5c93eb(0x154)+_0x5c93eb(0x1e4),{'parse_mode':_0x5c93eb(0x137)});return;}if(_0x3bbdde[_0x5c93eb(0x1e1)]!==_0x9c467f&&_0x3bbdde[_0x5c93eb(0x1e6)]!==_0x9c467f){await this[_0x5c93eb(0x1e5)]?.[_0x5c93eb(0x1e8)](_0x3de7be,_0x5c93eb(0x1bc)+_0x3d301c+_0x5c93eb(0x1da)+_0x5c93eb(0x1b0)+_0x5c93eb(0x14e),{'parse_mode':'Markdown'});return;}const _0x44e1a3=await database_1[_0x5c93eb(0x165)][_0x5c93eb(0x1c6)][_0x5c93eb(0x1d6)]({'where':{'shopId':_0x3bbdde['id'],'isVerified':!![],'telegramId':{'not':_0x5e635b}}});if(_0x44e1a3){await this[_0x5c93eb(0x1e5)]?.['sendMessage'](_0x3de7be,_0x5c93eb(0x1ad)+_0x3d301c+_0x5c93eb(0x17c)+_0x5c93eb(0x158),{'parse_mode':_0x5c93eb(0x137)});return;}await database_1['default']['telegramUser'][_0x5c93eb(0x1f4)]({'where':{'telegramId':_0x5e635b},'data':{'shopId':_0x3bbdde['id'],'isVerified':!![]}}),await this['bot']?.[_0x5c93eb(0x1e8)](_0x3de7be,'üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a'+_0x5c93eb(0x1df)+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x3bbdde[_0x5c93eb(0x19a)]+'*\x0a')+('üë§\x20Username:\x20`'+_0x3bbdde[_0x5c93eb(0x1b5)]+_0x5c93eb(0x16c))+_0x5c93eb(0x133)+'‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a'+_0x5c93eb(0x203)+_0x5c93eb(0x20a)+_0x5c93eb(0x170)+_0x5c93eb(0x205)+_0x5c93eb(0x168)+_0x5c93eb(0x189),{'parse_mode':_0x5c93eb(0x137)}),console['log'](_0x5c93eb(0x19f)+_0x5e635b+_0x5c93eb(0x1ef)+_0x3bbdde[_0x5c93eb(0x1b5)]+_0x5c93eb(0x1ae));}catch(_0xb2057e){console['error'](_0x5c93eb(0x159),_0xb2057e),await this[_0x5c93eb(0x1e5)]?.['sendMessage'](_0x3de7be,_0x5c93eb(0x136));}}async[a49_0x432deb(0x188)](_0x30a026,_0x402f11,_0x445dad){const _0x5d54dd=a49_0x432deb;try{console['log']('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x402f11+':\x20username=\x22'+_0x445dad+'\x22');const _0x1fff94=await database_1['default'][_0x5d54dd(0x149)][_0x5d54dd(0x209)]({'where':{'username':_0x445dad},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x1fff94){const _0x10dfe1=await database_1[_0x5d54dd(0x165)][_0x5d54dd(0x149)]['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0xdfec8f=_0x5d54dd(0x1ed)+_0x445dad+'`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a';_0x10dfe1[_0x5d54dd(0x1bd)]>0x0?(_0xdfec8f+=_0x5d54dd(0x132),_0x10dfe1[_0x5d54dd(0x1e7)](_0x481bf0=>{const _0x1a348d=_0x5d54dd;_0xdfec8f+=_0x1a348d(0x1cb)+_0x481bf0[_0x1a348d(0x1b5)]+'`\x20('+_0x481bf0[_0x1a348d(0x19a)]+')\x0a';}),_0xdfec8f+=_0x5d54dd(0x147)):_0xdfec8f+=_0x5d54dd(0x1fd);await this['bot']?.[_0x5d54dd(0x1e8)](_0x30a026,_0xdfec8f,{'parse_mode':_0x5d54dd(0x137)});return;}if(_0x1fff94[_0x5d54dd(0x1f8)]!=='ACTIVE'){await this['bot']?.[_0x5d54dd(0x1e8)](_0x30a026,_0x5d54dd(0x127)+_0x445dad+'`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a'+_0x5d54dd(0x1e4),{'parse_mode':_0x5d54dd(0x137)});return;}await database_1['default'][_0x5d54dd(0x1c6)]['update']({'where':{'telegramId':_0x402f11},'data':{'shopId':_0x1fff94['id'],'isVerified':![]}}),await this[_0x5d54dd(0x1e5)]?.[_0x5d54dd(0x1e8)](_0x30a026,'‚úÖ\x20Username\x20`'+_0x445dad+_0x5d54dd(0x1b7)+(_0x5d54dd(0x193)+_0x1fff94[_0x5d54dd(0x19a)]+'*\x0a\x0a')+'–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)',{'parse_mode':_0x5d54dd(0x137)}),console[_0x5d54dd(0x1b4)](_0x5d54dd(0x124)+_0x402f11+_0x5d54dd(0x155)+_0x1fff94['username']);}catch(_0x275945){console[_0x5d54dd(0x1e3)](_0x5d54dd(0x1ec),_0x275945),await this['bot']?.[_0x5d54dd(0x1e8)](_0x30a026,_0x5d54dd(0x1b2));}}async['handleApiKeyVerification'](_0x5c146e,_0x1adf6f,_0xf880e0){const _0x1f7b15=a49_0x432deb;try{console['log']('üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20'+_0x1adf6f+':\x20apiKey=\x22'+_0xf880e0[_0x1f7b15(0x1b8)](0x0,0xa)+_0x1f7b15(0x128));const _0x409478=await database_1[_0x1f7b15(0x165)][_0x1f7b15(0x1c6)]['findUnique']({'where':{'telegramId':_0x1adf6f},'include':{'shop':!![]}});if(!_0x409478?.[_0x1f7b15(0x15f)]){await this[_0x1f7b15(0x1e5)]?.[_0x1f7b15(0x1e8)](_0x5c146e,_0x1f7b15(0x18b)+'–ü–æ—Ä—è–¥–æ–∫:\x0a'+'1Ô∏è‚É£\x20Username\x0a'+_0x1f7b15(0x12b));return;}if(_0x409478[_0x1f7b15(0x207)]){await this[_0x1f7b15(0x1e5)]?.['sendMessage'](_0x5c146e,_0x1f7b15(0x18f)+(_0x409478[_0x1f7b15(0x149)]?.['name']||'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π')+_0x1f7b15(0x1dd)+_0x1f7b15(0x148),{'parse_mode':_0x1f7b15(0x137)});return;}const _0x3ffeaa=await database_1[_0x1f7b15(0x165)][_0x1f7b15(0x149)][_0x1f7b15(0x1d6)]({'where':{'id':_0x409478['shopId'],'OR':[{'publicKey':_0xf880e0},{'secretKey':_0xf880e0}]}});if(!_0x3ffeaa){await this[_0x1f7b15(0x1e5)]?.['sendMessage'](_0x5c146e,_0x1f7b15(0x156)+_0x1f7b15(0x1c3)+_0x1f7b15(0x14e),{'parse_mode':_0x1f7b15(0x137)}),await database_1['default']['telegramUser'][_0x1f7b15(0x1f4)]({'where':{'telegramId':_0x1adf6f},'data':{'shopId':null,'isVerified':![]}}),console[_0x1f7b15(0x1b4)](_0x1f7b15(0x1af)+_0x1adf6f+',\x20reset\x20shop\x20association');return;}const _0x2c2ccb=await database_1['default'][_0x1f7b15(0x1c6)][_0x1f7b15(0x1d6)]({'where':{'shopId':_0x3ffeaa['id'],'isVerified':!![],'telegramId':{'not':_0x1adf6f}}});if(_0x2c2ccb){await this[_0x1f7b15(0x1e5)]?.[_0x1f7b15(0x1e8)](_0x5c146e,_0x1f7b15(0x1ad)+_0x3ffeaa['username']+_0x1f7b15(0x17c)+_0x1f7b15(0x158),{'parse_mode':'Markdown'}),await database_1['default'][_0x1f7b15(0x1c6)][_0x1f7b15(0x1f4)]({'where':{'telegramId':_0x1adf6f},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x1f7b15(0x165)][_0x1f7b15(0x1c6)]['update']({'where':{'telegramId':_0x1adf6f},'data':{'isVerified':!![]}}),await this[_0x1f7b15(0x1e5)]?.['sendMessage'](_0x5c146e,_0x1f7b15(0x1f3)+'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a'+(_0x1f7b15(0x175)+_0x3ffeaa['name']+'*\x0a')+(_0x1f7b15(0x13b)+_0x3ffeaa[_0x1f7b15(0x1b5)]+'`\x0a\x0a')+'üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a'+_0x1f7b15(0x144)+_0x1f7b15(0x203)+_0x1f7b15(0x20a)+_0x1f7b15(0x170)+_0x1f7b15(0x205)+_0x1f7b15(0x168)+_0x1f7b15(0x189),{'parse_mode':_0x1f7b15(0x137)}),console[_0x1f7b15(0x1b4)](_0x1f7b15(0x19f)+_0x1adf6f+_0x1f7b15(0x1ef)+_0x3ffeaa[_0x1f7b15(0x1b5)]);}catch(_0x186040){console[_0x1f7b15(0x1e3)](_0x1f7b15(0x17f),_0x186040),await this[_0x1f7b15(0x1e5)]?.[_0x1f7b15(0x1e8)](_0x5c146e,_0x1f7b15(0x164));}}async[a49_0x432deb(0x166)](_0x19fffb,_0x2d38c9,_0x3c9ffa){const _0x256aab=a49_0x432deb;if(!this[_0x256aab(0x1e5)]){console[_0x256aab(0x1f2)](_0x256aab(0x1c1));return;}try{const _0x48022a=await database_1[_0x256aab(0x165)]['telegramUser'][_0x256aab(0x173)]({'where':{'shopId':_0x19fffb,'isVerified':!![]}});if(_0x48022a[_0x256aab(0x1bd)]===0x0){console[_0x256aab(0x1b4)](_0x256aab(0x1cd)+_0x19fffb);return;}const _0x49644d=_0x48022a['map'](async _0x1fbbb5=>{const _0x2437d1=_0x256aab;try{await this['bot']?.['sendMessage'](_0x1fbbb5[_0x2437d1(0x1be)],_0x2d38c9,_0x3c9ffa),console[_0x2437d1(0x1b4)](_0x2437d1(0x1a7)+_0x1fbbb5[_0x2437d1(0x1be)]);}catch(_0x8b3400){console[_0x2437d1(0x1e3)]('‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20'+_0x1fbbb5['telegramId']+':',_0x8b3400),_0x8b3400 instanceof Error&&(_0x8b3400[_0x2437d1(0x177)]['includes'](_0x2437d1(0x190))||_0x8b3400[_0x2437d1(0x177)]['includes']('chat\x20not\x20found')||_0x8b3400[_0x2437d1(0x177)][_0x2437d1(0x1ba)](_0x2437d1(0x1a3)))&&(await database_1[_0x2437d1(0x165)][_0x2437d1(0x1c6)][_0x2437d1(0x1f4)]({'where':{'id':_0x1fbbb5['id']},'data':{'isVerified':![]}}),console['log'](_0x2437d1(0x16f)+_0x1fbbb5[_0x2437d1(0x1be)]+_0x2437d1(0x1f0)));}});await Promise['allSettled'](_0x49644d);}catch(_0x2d22c9){console['error'](_0x256aab(0x17b),_0x2d22c9);}}async['sendPaymentNotification'](_0x3dad18,_0x13b2ef,_0x2bee10){const _0x45b58d=a49_0x432deb,_0x1358f0={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x5a8c87={'created':_0x45b58d(0x15c),'paid':'–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','failed':_0x45b58d(0x160),'expired':_0x45b58d(0x126),'refund':_0x45b58d(0x150),'chargeback':_0x45b58d(0x1c9)},_0x23970e=_0x1358f0[_0x2bee10],_0x2872d5=_0x5a8c87[_0x2bee10];let _0x5f0a8f=_0x23970e+'\x20*'+_0x2872d5+_0x45b58d(0x1e2)+(_0x45b58d(0x163)+_0x13b2ef[_0x45b58d(0x1d1)]+'\x20'+_0x13b2ef['currency']+'*\x0a')+(_0x45b58d(0x1b1)+(_0x13b2ef['orderId']||_0x13b2ef['id'])+'`\x0a')+(_0x45b58d(0x204)+_0x13b2ef['id']+'`\x0a')+(_0x45b58d(0x206)+_0x13b2ef[_0x45b58d(0x1bf)][_0x45b58d(0x15d)]()+'`\x0a')+(_0x45b58d(0x16a)+new Date(_0x13b2ef[_0x45b58d(0x1ea)])[_0x45b58d(0x172)](_0x45b58d(0x161))+'\x0a');_0x2bee10===_0x45b58d(0x162)&&_0x13b2ef[_0x45b58d(0x1de)]&&(_0x5f0a8f+=_0x45b58d(0x191)+_0x13b2ef[_0x45b58d(0x1de)]+'\x20USDT*\x0a'),_0x13b2ef['adminNotes']&&(_0x5f0a8f+='üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20'+_0x13b2ef['adminNotes']+'\x0a'),await this['sendShopNotification'](_0x3dad18,_0x5f0a8f,{'parse_mode':_0x45b58d(0x137)});}async['sendPayoutNotification'](_0x323cb7,_0x27956b,_0x55772b){const _0xf043fc=a49_0x432deb,_0xd50984={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x52900b={'created':'–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','completed':_0xf043fc(0x12c),'rejected':'–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞'},_0x3bda89=_0xd50984[_0x55772b],_0x526959=_0x52900b[_0x55772b],_0x4c1377=_0x3bda89+'\x20*'+_0x526959+_0xf043fc(0x1e2)+('üí∏\x20–°—É–º–º–∞:\x20*'+_0x27956b[_0xf043fc(0x1d1)]+_0xf043fc(0x15a))+(_0xf043fc(0x182)+_0x27956b[_0xf043fc(0x199)]+'`\x0a')+('üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`'+_0x27956b['id']+'`\x0a')+(_0xf043fc(0x16a)+new Date(_0x27956b[_0xf043fc(0x1ea)])[_0xf043fc(0x172)]('ru-RU')+'\x0a')+(_0x27956b[_0xf043fc(0x1eb)]?_0xf043fc(0x129)+_0x27956b[_0xf043fc(0x1eb)]+'`':'');await this[_0xf043fc(0x166)](_0x323cb7,_0x4c1377,{'parse_mode':_0xf043fc(0x137)});}async[a49_0x432deb(0x151)](_0xc16b45,_0x130fc8){const _0x3e2086=a49_0x432deb;try{const _0x264a9d=await database_1[_0x3e2086(0x165)][_0x3e2086(0x197)][_0x3e2086(0x209)]({'where':{'shopId':_0xc16b45},'select':{'notificationLogin':!![]}});if(!_0x264a9d?.[_0x3e2086(0x196)]){console['log'](_0x3e2086(0x14d)+_0xc16b45);return;}const _0x55bfde=_0x130fc8[_0x3e2086(0x146)]?'üîê':'üö®',_0x1c7158=_0x130fc8['success']?_0x3e2086(0x183):'–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞';let _0x4a2fdb=_0x55bfde+'\x20*'+_0x1c7158+_0x3e2086(0x1e2)+(_0x3e2086(0x13b)+_0x130fc8[_0x3e2086(0x1b5)]+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x130fc8[_0x3e2086(0x140)][_0x3e2086(0x172)](_0x3e2086(0x161))+'\x0a');_0x130fc8[_0x3e2086(0x202)]&&(_0x4a2fdb+=_0x3e2086(0x1a4)+_0x130fc8['ipAddress']+'`\x0a');if(_0x130fc8[_0x3e2086(0x19e)]){const _0x17a990=_0x130fc8[_0x3e2086(0x19e)][_0x3e2086(0x1bd)]>0x32?_0x130fc8[_0x3e2086(0x19e)]['substring'](0x0,0x32)+_0x3e2086(0x1a8):_0x130fc8[_0x3e2086(0x19e)];_0x4a2fdb+=_0x3e2086(0x17a)+_0x17a990+'`\x0a';}!_0x130fc8[_0x3e2086(0x146)]&&(_0x4a2fdb+='\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!'),await this['sendShopNotification'](_0xc16b45,_0x4a2fdb,{'parse_mode':_0x3e2086(0x137)}),console[_0x3e2086(0x1b4)]('‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20'+_0xc16b45+':\x20'+(_0x130fc8[_0x3e2086(0x146)]?_0x3e2086(0x146):_0x3e2086(0x201)));}catch(_0x2b59c5){console[_0x3e2086(0x1e3)](_0x3e2086(0x179),_0x2b59c5);}}async['sendApiErrorNotification'](_0x2cede1,_0x239372){const _0x3d5b97=a49_0x432deb;try{const _0x56d7b1=await database_1[_0x3d5b97(0x165)][_0x3d5b97(0x197)][_0x3d5b97(0x209)]({'where':{'shopId':_0x2cede1},'select':{'notificationApiError':!![]}});if(!_0x56d7b1?.['notificationApiError']){console[_0x3d5b97(0x1b4)](_0x3d5b97(0x1d7)+_0x2cede1);return;}let _0x409e50=_0x3d5b97(0x192)+(_0x3d5b97(0x135)+_0x239372[_0x3d5b97(0x199)]+'\x20'+_0x239372['endpoint']+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x239372[_0x3d5b97(0x140)][_0x3d5b97(0x172)](_0x3d5b97(0x161))+'\x0a');_0x239372[_0x3d5b97(0x1dc)]&&(_0x409e50+=_0x3d5b97(0x1fe)+_0x239372['statusCode']+'`\x0a'),_0x409e50+=_0x3d5b97(0x20c)+_0x239372[_0x3d5b97(0x1a2)]+'`\x0a',_0x239372[_0x3d5b97(0x1db)]&&(_0x409e50+=_0x3d5b97(0x1d4)+_0x239372[_0x3d5b97(0x1db)]+'`\x0a'),_0x409e50+=_0x3d5b97(0x1a5),await this[_0x3d5b97(0x166)](_0x2cede1,_0x409e50,{'parse_mode':'Markdown'}),console[_0x3d5b97(0x1b4)](_0x3d5b97(0x1d3)+_0x2cede1+':\x20'+_0x239372[_0x3d5b97(0x138)]);}catch(_0x16e63c){console[_0x3d5b97(0x1e3)](_0x3d5b97(0x13d),_0x16e63c);}}async[a49_0x432deb(0x167)](_0x2dc2f6,_0x58d308,_0x45cac5){const _0x7e56bb=a49_0x432deb;let _0x4e9e15=_0x7e56bb(0x16e)+_0x58d308+_0x7e56bb(0x1e2);for(const [_0x3c5be6,_0x2e814b]of Object[_0x7e56bb(0x18c)](_0x45cac5)){_0x2e814b!==null&&_0x2e814b!==undefined&&(_0x4e9e15+=_0x3c5be6+_0x7e56bb(0x1d8)+_0x2e814b+'`\x0a');}await this[_0x7e56bb(0x166)](_0x2dc2f6,_0x4e9e15,{'parse_mode':_0x7e56bb(0x137)});}[a49_0x432deb(0x1a9)](){const _0x2142ba=a49_0x432deb;return{'isActive':!!this[_0x2142ba(0x1e5)],'username':this[_0x2142ba(0x1ac)]};}[a49_0x432deb(0x1f9)](){const _0x263158=a49_0x432deb;this[_0x263158(0x1e5)]&&(this['bot'][_0x263158(0x198)](),this[_0x263158(0x1e5)]=null,console[_0x263158(0x1b4)](_0x263158(0x13e)));}}exports['TelegramBotService']=TelegramBotService,exports[a49_0x432deb(0x1c8)]=new TelegramBotService();