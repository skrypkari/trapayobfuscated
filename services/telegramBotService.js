'use strict';const a49_0x46fac1=a49_0x1b4c;(function(_0x1dd2d3,_0x14efd6){const _0x23bfd6=a49_0x1b4c,_0x550b3a=_0x1dd2d3();while(!![]){try{const _0x52eec2=-parseInt(_0x23bfd6(0x201))/0x1*(-parseInt(_0x23bfd6(0x1d7))/0x2)+-parseInt(_0x23bfd6(0x223))/0x3*(-parseInt(_0x23bfd6(0x2b6))/0x4)+-parseInt(_0x23bfd6(0x291))/0x5*(-parseInt(_0x23bfd6(0x205))/0x6)+-parseInt(_0x23bfd6(0x279))/0x7+parseInt(_0x23bfd6(0x1e1))/0x8*(-parseInt(_0x23bfd6(0x2bf))/0x9)+parseInt(_0x23bfd6(0x22b))/0xa*(parseInt(_0x23bfd6(0x20f))/0xb)+-parseInt(_0x23bfd6(0x28f))/0xc;if(_0x52eec2===_0x14efd6)break;else _0x550b3a['push'](_0x550b3a['shift']());}catch(_0x5e7b80){_0x550b3a['push'](_0x550b3a['shift']());}}}(a49_0x4cf9,0x83ef9));function a49_0x4cf9(){const _0x149974=['‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','startsWith','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','env','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','`\x20(','2Ô∏è‚É£\x20API\x20–∫–ª—é—á','‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','üîå\x20User\x20',':\x20username=\x22','ru-RU','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','polling_error','setupBotHandlers','üë§\x20Username:\x20`','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','pk_','üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','sendApiErrorNotification','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','create','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','Error\x20in\x20handleMultilineVerification:','blocked','ACTIVE','telegramBotService','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a','findUnique','trim','...\x22','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','2178540cpVXlk','\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.','notificationApiError','.\x20*','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','updatedAt','üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','shopSettings','__esModule','failed','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','toUpperCase','üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20','forEach','‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','TELEGRAM_BOT_USERNAME','node-telegram-bot-api','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','from','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','8416068vHsfDM','1Ô∏è‚É£\x20Username\x0a','15CoxXPU','üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`','stopBot','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','\x20\x20\x20Status:\x20','telegramUser','üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20','üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*','botToken','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','sendCustomNotification','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a','sk_','includes','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','TelegramBotService','text','1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a','shop','adminNotes','status','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.','API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.','`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a','\x20with\x20shop\x20','chat','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','onText','chat\x20not\x20found',':\x20apiKey=\x22','toLocaleString','üì±\x20Created\x20new\x20Telegram\x20user:\x20','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','68ncdWAv','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','Error\x20in\x20handleApiKeyVerification:','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','`appple`\x0a','timestamp','–ü–æ—Ä—è–¥–æ–∫:\x0a','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','51273qbrIXw','üîó\x20TXID:\x20`','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','method','–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','*\x0a\x0a','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','createdAt','Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).','–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20','Telegram\x20bot\x20error:','handleMultilineVerification','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','warn','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','map','2wqrEXJ','isVerified','\x20verified\x20for\x20shop\x20',':\x20`','üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a','initializeBot','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','üîî\x20*','txid','üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a','856ibtfrh','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`','chargeback','handleApiKeyVerification','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','telegramId','requestId','–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É','...`\x0a\x0a','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','username','amount','stopPolling','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','Error\x20sending\x20shop\x20notification:','üè™\x20–®–ª—é–∑:\x20`','findMany','\x20(@','first_name','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','findFirst','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','‚úÖ\x20Telegram\x20bot\x20@','\x20disconnected\x20from\x20shop\x20','length','userAgent','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a','üõë\x20Telegram\x20bot\x20stopped',',\x20reset\x20shop\x20association','716479ZeyClR','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','üÜî\x20Request\x20ID:\x20`','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','971142nQKfIx','chargebackAmount','Error\x20handling\x20/debug\x20command:','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','sendShopNotification','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','publicKey','secretKey','name','–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞','22qChhfn','statusCode','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.','currency','error','Markdown','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','Error\x20in\x20handleUsernameVerification:','default','üìÖ\x20–í—Ä–µ–º—è:\x20','endpoint','message','toString','ipAddress','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','–ö–æ–º–∞–Ω–¥—ã:\x0a','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a','üè¶\x20–ú–µ—Ç–æ–¥:\x20`','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','59115GXwGJr','\x20initialized\x20successfully','üìù\x20Order\x20ID:\x20`','substring','update','success','üîó\x20Endpoint:\x20`','defineProperty','3127560GrQlpJ','üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','–ü—Ä–∏–º–µ—Ä:\x0a','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','handleUsernameVerification','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','trapay_bot','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','__importDefault','toLocaleDateString','sendMessage','sendLoginNotification','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','‚úÖ\x20Username\x20`','‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.','üìÖ\x20–î–∞—Ç–∞:\x20','`.\x0a\x0a','Error\x20handling\x20message:','Username:\x20`','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a','üí∞\x20–°—É–º–º–∞:\x20*','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','last_name','bot','üí∏\x20–°—É–º–º–∞:\x20*','botUsername','shopId','log','*.\x0a\x0a','entries','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','`\x0a\x0a','Error\x20handling\x20/status\x20command:','\x20USDT*\x0a','split','errorMessage','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','‚Ä¢\x20`','–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a'];a49_0x4cf9=function(){return _0x149974;};return a49_0x4cf9();}var __importDefault=this&&this[a49_0x46fac1(0x234)]||function(_0xb22323){const _0x11b823=a49_0x46fac1;return _0xb22323&&_0xb22323[_0x11b823(0x282)]?_0xb22323:{'default':_0xb22323};};function a49_0x1b4c(_0xf65b69,_0x3deb42){const _0x4cf98d=a49_0x4cf9();return a49_0x1b4c=function(_0x1b4cd4,_0xd0a94d){_0x1b4cd4=_0x1b4cd4-0x1ce;let _0x2468a2=_0x4cf98d[_0x1b4cd4];return _0x2468a2;},a49_0x1b4c(_0xf65b69,_0x3deb42);}Object[a49_0x46fac1(0x22a)](exports,a49_0x46fac1(0x282),{'value':!![]}),exports[a49_0x46fac1(0x272)]=exports[a49_0x46fac1(0x2a2)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0x46fac1(0x28a))),database_1=__importDefault(require('../config/database'));class TelegramBotService{constructor(){const _0x292598=a49_0x46fac1;this[_0x292598(0x244)]=null,this[_0x292598(0x299)]=process[_0x292598(0x258)]['TELEGRAM_BOT_TOKEN']||'',this['botUsername']=process['env'][_0x292598(0x289)]||_0x292598(0x232),this[_0x292598(0x299)]?this['initializeBot']():console['warn'](_0x292598(0x2b9));}[a49_0x46fac1(0x1dc)](){const _0x438bc2=a49_0x46fac1;try{this[_0x438bc2(0x244)]=new node_telegram_bot_api_1[(_0x438bc2(0x217))](this['botToken'],{'polling':!![]}),this[_0x438bc2(0x265)](),console['log'](_0x438bc2(0x1fa)+this[_0x438bc2(0x246)]+_0x438bc2(0x224));}catch(_0x3ce8ef){console[_0x438bc2(0x213)](_0x438bc2(0x2bd),_0x3ce8ef);}}[a49_0x46fac1(0x265)](){const _0x3a9851=a49_0x46fac1;if(!this[_0x3a9851(0x244)])return;this[_0x3a9851(0x244)]['onText'](/\/start/,async _0x540f8d=>{const _0x3d6e90=_0x3a9851,_0x48f9e9=_0x540f8d[_0x3d6e90(0x2ad)]['id'],_0x3c2eb=_0x540f8d[_0x3d6e90(0x28d)]?.['id'][_0x3d6e90(0x21b)](),_0x2315e5=_0x540f8d[_0x3d6e90(0x28d)]?.[_0x3d6e90(0x1ed)],_0x4aaad9=_0x540f8d[_0x3d6e90(0x28d)]?.[_0x3d6e90(0x1f5)],_0xea7a1e=_0x540f8d['from']?.[_0x3d6e90(0x243)];if(!_0x3c2eb)return;try{let _0x4b110e=await database_1[_0x3d6e90(0x217)][_0x3d6e90(0x296)][_0x3d6e90(0x274)]({'where':{'telegramId':_0x3c2eb},'include':{'shop':!![]}});!_0x4b110e?(_0x4b110e=await database_1[_0x3d6e90(0x217)][_0x3d6e90(0x296)][_0x3d6e90(0x26c)]({'data':{'telegramId':_0x3c2eb,'username':_0x2315e5,'firstName':_0x4aaad9,'lastName':_0xea7a1e,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x3d6e90(0x248)](_0x3d6e90(0x2b4)+_0x3c2eb+_0x3d6e90(0x1f4)+_0x2315e5+')')):_0x4b110e=await database_1[_0x3d6e90(0x217)][_0x3d6e90(0x296)]['update']({'where':{'telegramId':_0x3c2eb},'data':{'username':_0x2315e5,'firstName':_0x4aaad9,'lastName':_0xea7a1e},'include':{'shop':!![]}}),_0x4b110e['isVerified']&&_0x4b110e['shopId']&&_0x4b110e[_0x3d6e90(0x2a5)]?await this[_0x3d6e90(0x244)]?.[_0x3d6e90(0x236)](_0x48f9e9,_0x3d6e90(0x222)+(_0x3d6e90(0x278)+_0x4b110e[_0x3d6e90(0x2a5)]['name']+'*\x0a')+(_0x3d6e90(0x23f)+_0x4b110e['shop']['username']+_0x3d6e90(0x24c))+_0x3d6e90(0x280)+'‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a'+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x3d6e90(0x273)+'–ö–æ–º–∞–Ω–¥—ã:\x0a'+_0x3d6e90(0x259)+_0x3d6e90(0x22d),{'parse_mode':_0x3d6e90(0x214)}):(_0x4b110e[_0x3d6e90(0x247)]&&!_0x4b110e['isVerified']&&(await database_1['default']['telegramUser'][_0x3d6e90(0x227)]({'where':{'telegramId':_0x3c2eb},'data':{'shopId':null,'isVerified':![]}}),console[_0x3d6e90(0x248)](_0x3d6e90(0x26e)+_0x3c2eb)),await this[_0x3d6e90(0x244)]?.[_0x3d6e90(0x236)](_0x48f9e9,_0x3d6e90(0x262)+'–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a'+'1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a'+_0x3d6e90(0x2ae)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a'+_0x3d6e90(0x22e)+_0x3d6e90(0x2ba)+_0x3d6e90(0x231)+_0x3d6e90(0x25c),{'parse_mode':_0x3d6e90(0x214)}));}catch(_0x721e8b){console[_0x3d6e90(0x213)]('Error\x20handling\x20/start\x20command:',_0x721e8b),await this['bot']?.[_0x3d6e90(0x236)](_0x48f9e9,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x3a9851(0x244)][_0x3a9851(0x2b0)](/\/disconnect/,async _0x2c31b2=>{const _0x3ca65e=_0x3a9851,_0x5ddbbd=_0x2c31b2[_0x3ca65e(0x2ad)]['id'],_0x732d6f=_0x2c31b2['from']?.['id'][_0x3ca65e(0x21b)]();if(!_0x732d6f)return;try{const _0x264254=await database_1[_0x3ca65e(0x217)]['telegramUser'][_0x3ca65e(0x274)]({'where':{'telegramId':_0x732d6f},'include':{'shop':!![]}});if(!_0x264254||!_0x264254['isVerified']||!_0x264254[_0x3ca65e(0x247)]){await this[_0x3ca65e(0x244)]?.[_0x3ca65e(0x236)](_0x5ddbbd,_0x3ca65e(0x2a9));return;}const _0x4bf0f6=_0x264254[_0x3ca65e(0x2a5)]?.[_0x3ca65e(0x20d)]||'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω';await database_1['default'][_0x3ca65e(0x296)]['update']({'where':{'telegramId':_0x732d6f},'data':{'shopId':null,'isVerified':![]}}),console[_0x3ca65e(0x248)](_0x3ca65e(0x25f)+_0x732d6f+_0x3ca65e(0x1fb)+_0x264254[_0x3ca65e(0x247)]),await this['bot']?.[_0x3ca65e(0x236)](_0x5ddbbd,_0x3ca65e(0x2b5)+_0x4bf0f6+'*.\x0a\x0a'+_0x3ca65e(0x28e),{'parse_mode':'Markdown'});}catch(_0x26f989){console[_0x3ca65e(0x213)]('Error\x20handling\x20/disconnect\x20command:',_0x26f989),await this['bot']?.[_0x3ca65e(0x236)](_0x5ddbbd,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x3a9851(0x244)][_0x3a9851(0x2b0)](/\/status/,async _0xf7fd29=>{const _0x5c505f=_0x3a9851,_0x5077c1=_0xf7fd29[_0x5c505f(0x2ad)]['id'],_0xa055d5=_0xf7fd29['from']?.['id']['toString']();if(!_0xa055d5)return;try{const _0x2cdc21=await database_1[_0x5c505f(0x217)][_0x5c505f(0x296)]['findUnique']({'where':{'telegramId':_0xa055d5},'include':{'shop':!![]}});if(!_0x2cdc21){await this['bot']?.[_0x5c505f(0x236)](_0x5077c1,_0x5c505f(0x29c)+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.');return;}if(!_0x2cdc21[_0x5c505f(0x1d8)]||!_0x2cdc21[_0x5c505f(0x247)]||!_0x2cdc21[_0x5c505f(0x2a5)]){await this[_0x5c505f(0x244)]?.[_0x5c505f(0x236)](_0x5077c1,_0x5c505f(0x2c5)+_0x5c505f(0x1d4));return;}await this[_0x5c505f(0x244)]?.['sendMessage'](_0x5077c1,_0x5c505f(0x2af)+(_0x5c505f(0x23a)+_0x2cdc21['shop'][_0x5c505f(0x20d)]+'*\x0a')+(_0x5c505f(0x266)+_0x2cdc21['shop'][_0x5c505f(0x1ed)]+'`\x0a')+(_0x5c505f(0x27f)+_0x2cdc21[_0x5c505f(0x27e)][_0x5c505f(0x235)](_0x5c505f(0x261))+'\x0a\x0a')+_0x5c505f(0x1db)+_0x5c505f(0x21f)+_0x5c505f(0x22d),{'parse_mode':_0x5c505f(0x214)});}catch(_0x3a28ac){console[_0x5c505f(0x213)](_0x5c505f(0x24d),_0x3a28ac),await this['bot']?.[_0x5c505f(0x236)](_0x5077c1,_0x5c505f(0x1e7));}}),this[_0x3a9851(0x244)][_0x3a9851(0x2b0)](/\/debug/,async _0x38cb07=>{const _0x4b813d=_0x3a9851,_0x1d4d07=_0x38cb07[_0x4b813d(0x2ad)]['id'],_0x546a49=_0x38cb07[_0x4b813d(0x28d)]?.['id']['toString']();if(!_0x546a49)return;try{const _0x129e8b=await database_1[_0x4b813d(0x217)][_0x4b813d(0x2a5)]['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x33c836=_0x4b813d(0x1e0);_0x33c836+=_0x4b813d(0x1e3)+_0x546a49+_0x4b813d(0x24c),_0x33c836+=_0x4b813d(0x254),_0x129e8b[_0x4b813d(0x287)]((_0x403fc5,_0x57a3ad)=>{const _0x4d2c0a=_0x4b813d;_0x33c836+=_0x57a3ad+0x1+_0x4d2c0a(0x27c)+_0x403fc5['name']+'*\x0a',_0x33c836+='\x20\x20\x20Username:\x20`'+_0x403fc5[_0x4d2c0a(0x1ed)]+'`\x0a',_0x33c836+=_0x4d2c0a(0x295)+_0x403fc5[_0x4d2c0a(0x2a7)]+'\x0a',_0x33c836+='\x20\x20\x20Public\x20Key:\x20`'+_0x403fc5['publicKey'][_0x4d2c0a(0x226)](0x0,0xf)+_0x4d2c0a(0x1eb);}),await this[_0x4b813d(0x244)]?.['sendMessage'](_0x1d4d07,_0x33c836,{'parse_mode':_0x4b813d(0x214)});}catch(_0xc02cc0){console['error'](_0x4b813d(0x207),_0xc02cc0),await this[_0x4b813d(0x244)]?.['sendMessage'](_0x1d4d07,_0x4b813d(0x23b));}}),this[_0x3a9851(0x244)]['on']('message',async _0x4b79f3=>{const _0x5b57bf=_0x3a9851;if(_0x4b79f3[_0x5b57bf(0x2a3)]?.['startsWith']('/'))return;const _0x3d1968=_0x4b79f3[_0x5b57bf(0x2ad)]['id'],_0x3a7d91=_0x4b79f3['from']?.['id'][_0x5b57bf(0x21b)](),_0x39dc68=_0x4b79f3[_0x5b57bf(0x2a3)]?.[_0x5b57bf(0x275)]();if(!_0x3a7d91||!_0x39dc68)return;try{const _0x50b9e7=await database_1[_0x5b57bf(0x217)][_0x5b57bf(0x296)][_0x5b57bf(0x274)]({'where':{'telegramId':_0x3a7d91},'include':{'shop':!![]}});if(!_0x50b9e7){await this[_0x5b57bf(0x244)]?.[_0x5b57bf(0x236)](_0x3d1968,_0x5b57bf(0x267));return;}if(_0x50b9e7['isVerified']&&_0x50b9e7['shopId']&&_0x50b9e7[_0x5b57bf(0x2a5)]){await this[_0x5b57bf(0x244)]?.['sendMessage'](_0x3d1968,_0x5b57bf(0x238)+_0x50b9e7[_0x5b57bf(0x2a5)][_0x5b57bf(0x20d)]+_0x5b57bf(0x249)+_0x5b57bf(0x211),{'parse_mode':_0x5b57bf(0x214)});return;}const _0xbcd840=_0x39dc68[_0x5b57bf(0x24f)]('\x0a')['map'](_0x2a2b7b=>_0x2a2b7b[_0x5b57bf(0x275)]())['filter'](_0x47ad6c=>_0x47ad6c[_0x5b57bf(0x1fc)]>0x0);if(_0xbcd840[_0x5b57bf(0x1fc)]===0x2){const [_0x556c86,_0x93d454]=_0xbcd840;await this[_0x5b57bf(0x1d1)](_0x3d1968,_0x3a7d91,_0x556c86,_0x93d454);}else{if(_0xbcd840['length']===0x1){const _0x2b235d=_0xbcd840[0x0];if(_0x2b235d[_0x5b57bf(0x1fc)]>=0x3&&_0x2b235d[_0x5b57bf(0x1fc)]<=0x32&&/^[a-zA-Z0-9_]+$/['test'](_0x2b235d))await this[_0x5b57bf(0x230)](_0x3d1968,_0x3a7d91,_0x2b235d);else _0x2b235d[_0x5b57bf(0x256)](_0x5b57bf(0x268))||_0x2b235d[_0x5b57bf(0x256)](_0x5b57bf(0x29d))?await this[_0x5b57bf(0x1e5)](_0x3d1968,_0x3a7d91,_0x2b235d):await this[_0x5b57bf(0x244)]?.[_0x5b57bf(0x236)](_0x3d1968,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a'+_0x5b57bf(0x240)+_0x5b57bf(0x2a4)+_0x5b57bf(0x2b7)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a'+_0x5b57bf(0x2ba)+_0x5b57bf(0x21d),{'parse_mode':_0x5b57bf(0x214)});}else await this['bot']?.[_0x5b57bf(0x236)](_0x3d1968,_0x5b57bf(0x2c8)+_0x5b57bf(0x1fe)+_0x5b57bf(0x22e)+_0x5b57bf(0x2ba)+_0x5b57bf(0x21d),{'parse_mode':'Markdown'});}}catch(_0x28bd0f){console[_0x5b57bf(0x213)](_0x5b57bf(0x23e),_0x28bd0f),await this[_0x5b57bf(0x244)]?.['sendMessage'](_0x3d1968,_0x5b57bf(0x1e7));}}),this[_0x3a9851(0x244)]['on'](_0x3a9851(0x213),_0x51dda0=>{const _0x3e98d2=_0x3a9851;console[_0x3e98d2(0x213)](_0x3e98d2(0x1d0),_0x51dda0);}),this[_0x3a9851(0x244)]['on'](_0x3a9851(0x264),_0x16a07f=>{const _0x41ab3f=_0x3a9851;console[_0x41ab3f(0x213)]('Telegram\x20bot\x20polling\x20error:',_0x16a07f);});}async[a49_0x46fac1(0x1d1)](_0x58156d,_0x370856,_0x30bfb1,_0x1e8233){const _0x4d1866=a49_0x46fac1;try{console[_0x4d1866(0x248)]('üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20'+_0x370856+_0x4d1866(0x260)+_0x30bfb1+'\x22,\x20apiKey=\x22'+_0x1e8233[_0x4d1866(0x226)](0x0,0xa)+_0x4d1866(0x276));if(!_0x30bfb1||_0x30bfb1[_0x4d1866(0x1fc)]<0x3||_0x30bfb1['length']>0x32||!/^[a-zA-Z0-9_]+$/['test'](_0x30bfb1)){await this[_0x4d1866(0x244)]?.[_0x4d1866(0x236)](_0x58156d,_0x4d1866(0x242)+_0x30bfb1+_0x4d1866(0x24c)+_0x4d1866(0x2ca),{'parse_mode':'Markdown'});return;}if(!_0x1e8233||!_0x1e8233['startsWith'](_0x4d1866(0x268))&&!_0x1e8233[_0x4d1866(0x256)](_0x4d1866(0x29d))){await this[_0x4d1866(0x244)]?.['sendMessage'](_0x58156d,_0x4d1866(0x220)+_0x4d1866(0x2aa),{'parse_mode':_0x4d1866(0x214)});return;}const _0x4f1c94=await database_1[_0x4d1866(0x217)]['shop']['findUnique']({'where':{'username':_0x30bfb1},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x4f1c94){const _0x2c9b4b=await database_1[_0x4d1866(0x217)][_0x4d1866(0x2a5)][_0x4d1866(0x1f3)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x181590=_0x4d1866(0x25d)+_0x30bfb1+_0x4d1866(0x1d2);_0x2c9b4b['length']>0x0?(_0x181590+='–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a',_0x2c9b4b['forEach'](_0x52bb5b=>{const _0x42243a=_0x4d1866;_0x181590+=_0x42243a(0x252)+_0x52bb5b['username']+'`\x20('+_0x52bb5b[_0x42243a(0x20d)]+')\x0a';}),_0x181590+=_0x4d1866(0x1dd)):_0x181590+=_0x4d1866(0x20a);await this[_0x4d1866(0x244)]?.[_0x4d1866(0x236)](_0x58156d,_0x181590,{'parse_mode':_0x4d1866(0x214)});return;}if(_0x4f1c94['status']!==_0x4d1866(0x271)){await this[_0x4d1866(0x244)]?.['sendMessage'](_0x58156d,_0x4d1866(0x1e2)+_0x30bfb1+_0x4d1866(0x24b)+_0x4d1866(0x2be),{'parse_mode':_0x4d1866(0x214)});return;}if(_0x4f1c94[_0x4d1866(0x20b)]!==_0x1e8233&&_0x4f1c94[_0x4d1866(0x20c)]!==_0x1e8233){await this[_0x4d1866(0x244)]?.[_0x4d1866(0x236)](_0x58156d,'‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`'+_0x30bfb1+_0x4d1866(0x23d)+_0x4d1866(0x233)+_0x4d1866(0x25e),{'parse_mode':_0x4d1866(0x214)});return;}const _0x497321=await database_1[_0x4d1866(0x217)]['telegramUser'][_0x4d1866(0x1f8)]({'where':{'shopId':_0x4f1c94['id'],'isVerified':!![],'telegramId':{'not':_0x370856}}});if(_0x497321){await this[_0x4d1866(0x244)]?.['sendMessage'](_0x58156d,_0x4d1866(0x2a0)+_0x30bfb1+'`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a'+'–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':_0x4d1866(0x214)});return;}await database_1[_0x4d1866(0x217)]['telegramUser'][_0x4d1866(0x227)]({'where':{'telegramId':_0x370856},'data':{'shopId':_0x4f1c94['id'],'isVerified':!![]}}),await this[_0x4d1866(0x244)]?.[_0x4d1866(0x236)](_0x58156d,_0x4d1866(0x263)+_0x4d1866(0x1f6)+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x4f1c94[_0x4d1866(0x20d)]+'*\x0a')+(_0x4d1866(0x266)+_0x4f1c94[_0x4d1866(0x1ed)]+'`\x0a\x0a')+_0x4d1866(0x2a1)+'‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a'+_0x4d1866(0x257)+_0x4d1866(0x277)+_0x4d1866(0x28c)+'–ö–æ–º–∞–Ω–¥—ã:\x0a'+_0x4d1866(0x259)+_0x4d1866(0x22d),{'parse_mode':'Markdown'}),console['log']('‚úÖ\x20Telegram\x20user\x20'+_0x370856+_0x4d1866(0x1d9)+_0x4f1c94[_0x4d1866(0x1ed)]+'\x20via\x20multiline\x20input');}catch(_0x2225a1){console['error'](_0x4d1866(0x26f),_0x2225a1),await this[_0x4d1866(0x244)]?.[_0x4d1866(0x236)](_0x58156d,_0x4d1866(0x215));}}async[a49_0x46fac1(0x230)](_0x2cea98,_0x1bd4ed,_0x43f442){const _0x3c9cef=a49_0x46fac1;try{console[_0x3c9cef(0x248)](_0x3c9cef(0x22c)+_0x1bd4ed+_0x3c9cef(0x260)+_0x43f442+'\x22');const _0x11dd44=await database_1[_0x3c9cef(0x217)][_0x3c9cef(0x2a5)][_0x3c9cef(0x274)]({'where':{'username':_0x43f442},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x11dd44){const _0x2d3f13=await database_1[_0x3c9cef(0x217)]['shop']['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x122684='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x43f442+'`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a';_0x2d3f13[_0x3c9cef(0x1fc)]>0x0?(_0x122684+=_0x3c9cef(0x2a8),_0x2d3f13['forEach'](_0x5b2381=>{const _0xb8b8f2=_0x3c9cef;_0x122684+=_0xb8b8f2(0x252)+_0x5b2381[_0xb8b8f2(0x1ed)]+_0xb8b8f2(0x25a)+_0x5b2381['name']+')\x0a';}),_0x122684+=_0x3c9cef(0x1dd)):_0x122684+='–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.';await this['bot']?.[_0x3c9cef(0x236)](_0x2cea98,_0x122684,{'parse_mode':_0x3c9cef(0x214)});return;}if(_0x11dd44['status']!==_0x3c9cef(0x271)){await this[_0x3c9cef(0x244)]?.[_0x3c9cef(0x236)](_0x2cea98,_0x3c9cef(0x1e2)+_0x43f442+_0x3c9cef(0x24b)+'–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':_0x3c9cef(0x214)});return;}await database_1[_0x3c9cef(0x217)]['telegramUser'][_0x3c9cef(0x227)]({'where':{'telegramId':_0x1bd4ed},'data':{'shopId':_0x11dd44['id'],'isVerified':![]}}),await this[_0x3c9cef(0x244)]?.['sendMessage'](_0x2cea98,_0x3c9cef(0x239)+_0x43f442+_0x3c9cef(0x2ab)+('–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x11dd44[_0x3c9cef(0x20d)]+'*\x0a\x0a')+_0x3c9cef(0x26d),{'parse_mode':_0x3c9cef(0x214)}),console['log'](_0x3c9cef(0x1f0)+_0x1bd4ed+_0x3c9cef(0x2ac)+_0x11dd44['username']);}catch(_0x476a06){console[_0x3c9cef(0x213)](_0x3c9cef(0x216),_0x476a06),await this[_0x3c9cef(0x244)]?.[_0x3c9cef(0x236)](_0x2cea98,_0x3c9cef(0x1ec));}}async['handleApiKeyVerification'](_0x53e626,_0x87f423,_0x5ec9b2){const _0x474480=a49_0x46fac1;try{console[_0x474480(0x248)](_0x474480(0x286)+_0x87f423+_0x474480(0x2b2)+_0x5ec9b2['substring'](0x0,0xa)+_0x474480(0x276));const _0x27f8cd=await database_1[_0x474480(0x217)][_0x474480(0x296)][_0x474480(0x274)]({'where':{'telegramId':_0x87f423},'include':{'shop':!![]}});if(!_0x27f8cd?.['shopId']){await this['bot']?.[_0x474480(0x236)](_0x53e626,_0x474480(0x28b)+_0x474480(0x2bc)+_0x474480(0x290)+_0x474480(0x25b));return;}if(_0x27f8cd[_0x474480(0x1d8)]){await this[_0x474480(0x244)]?.[_0x474480(0x236)](_0x53e626,_0x474480(0x238)+(_0x27f8cd['shop']?.[_0x474480(0x20d)]||_0x474480(0x294))+'*.\x0a\x0a'+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.',{'parse_mode':_0x474480(0x214)});return;}const _0x1d20a1=await database_1[_0x474480(0x217)][_0x474480(0x2a5)][_0x474480(0x1f8)]({'where':{'id':_0x27f8cd[_0x474480(0x247)],'OR':[{'publicKey':_0x5ec9b2},{'secretKey':_0x5ec9b2}]}});if(!_0x1d20a1){await this['bot']?.[_0x474480(0x236)](_0x53e626,_0x474480(0x202)+_0x474480(0x284)+'–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`',{'parse_mode':_0x474480(0x214)}),await database_1[_0x474480(0x217)]['telegramUser'][_0x474480(0x227)]({'where':{'telegramId':_0x87f423},'data':{'shopId':null,'isVerified':![]}}),console[_0x474480(0x248)](_0x474480(0x1cf)+_0x87f423+_0x474480(0x200));return;}const _0x480cd5=await database_1[_0x474480(0x217)]['telegramUser'][_0x474480(0x1f8)]({'where':{'shopId':_0x1d20a1['id'],'isVerified':!![],'telegramId':{'not':_0x87f423}}});if(_0x480cd5){await this['bot']?.[_0x474480(0x236)](_0x53e626,_0x474480(0x2a0)+_0x1d20a1[_0x474480(0x1ed)]+_0x474480(0x22f)+_0x474480(0x26b),{'parse_mode':'Markdown'}),await database_1['default'][_0x474480(0x296)][_0x474480(0x227)]({'where':{'telegramId':_0x87f423},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x474480(0x217)]['telegramUser'][_0x474480(0x227)]({'where':{'telegramId':_0x87f423},'data':{'isVerified':!![]}}),await this['bot']?.[_0x474480(0x236)](_0x53e626,_0x474480(0x263)+_0x474480(0x1f6)+(_0x474480(0x298)+_0x1d20a1[_0x474480(0x20d)]+'*\x0a')+('üë§\x20Username:\x20`'+_0x1d20a1[_0x474480(0x1ed)]+'`\x0a\x0a')+_0x474480(0x2a1)+_0x474480(0x29f)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+_0x474480(0x277)+_0x474480(0x28c)+_0x474480(0x21f)+_0x474480(0x259)+_0x474480(0x22d),{'parse_mode':_0x474480(0x214)}),console[_0x474480(0x248)]('‚úÖ\x20Telegram\x20user\x20'+_0x87f423+_0x474480(0x1d9)+_0x1d20a1[_0x474480(0x1ed)]);}catch(_0x35d2fb){console[_0x474480(0x213)](_0x474480(0x2b8),_0x35d2fb),await this[_0x474480(0x244)]?.[_0x474480(0x236)](_0x53e626,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.');}}async['sendShopNotification'](_0xb9d86b,_0x14c4b7,_0x4a18a2){const _0x270f74=a49_0x46fac1;if(!this[_0x270f74(0x244)]){console[_0x270f74(0x1d3)](_0x270f74(0x2c6));return;}try{const _0x31a09c=await database_1[_0x270f74(0x217)][_0x270f74(0x296)]['findMany']({'where':{'shopId':_0xb9d86b,'isVerified':!![]}});if(_0x31a09c[_0x270f74(0x1fc)]===0x0){console[_0x270f74(0x248)](_0x270f74(0x1e6)+_0xb9d86b);return;}const _0xcd6601=_0x31a09c[_0x270f74(0x1d6)](async _0x26255b=>{const _0x5460da=_0x270f74;try{await this[_0x5460da(0x244)]?.[_0x5460da(0x236)](_0x26255b[_0x5460da(0x1e8)],_0x14c4b7,_0x4a18a2),console[_0x5460da(0x248)](_0x5460da(0x255)+_0x26255b[_0x5460da(0x1e8)]);}catch(_0x2d8b7c){console[_0x5460da(0x213)](_0x5460da(0x1f9)+_0x26255b[_0x5460da(0x1e8)]+':',_0x2d8b7c),_0x2d8b7c instanceof Error&&(_0x2d8b7c[_0x5460da(0x21a)]['includes'](_0x5460da(0x270))||_0x2d8b7c[_0x5460da(0x21a)][_0x5460da(0x29e)](_0x5460da(0x2b1))||_0x2d8b7c[_0x5460da(0x21a)]['includes']('user\x20is\x20deactivated'))&&(await database_1[_0x5460da(0x217)][_0x5460da(0x296)][_0x5460da(0x227)]({'where':{'id':_0x26255b['id']},'data':{'isVerified':![]}}),console[_0x5460da(0x248)]('User\x20'+_0x26255b[_0x5460da(0x1e8)]+_0x5460da(0x27d)));}});await Promise['allSettled'](_0xcd6601);}catch(_0x2bef5d){console['error'](_0x270f74(0x1f1),_0x2bef5d);}}async['sendPaymentNotification'](_0x32ba91,_0x43b898,_0x49f62b){const _0x3a46ae=a49_0x46fac1,_0x43cd67={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x4590a4={'created':_0x3a46ae(0x253),'paid':_0x3a46ae(0x2c4),'failed':_0x3a46ae(0x1f7),'expired':_0x3a46ae(0x1ce),'refund':_0x3a46ae(0x204),'chargeback':_0x3a46ae(0x1ea)},_0x1cd48e=_0x43cd67[_0x49f62b],_0x205e7e=_0x4590a4[_0x49f62b];let _0xdedae5=_0x1cd48e+'\x20*'+_0x205e7e+_0x3a46ae(0x2c7)+(_0x3a46ae(0x241)+_0x43b898[_0x3a46ae(0x1ee)]+'\x20'+_0x43b898[_0x3a46ae(0x212)]+'*\x0a')+(_0x3a46ae(0x225)+(_0x43b898['orderId']||_0x43b898['id'])+'`\x0a')+('üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`'+_0x43b898['id']+'`\x0a')+(_0x3a46ae(0x1f2)+_0x43b898['gateway'][_0x3a46ae(0x285)]()+'`\x0a')+(_0x3a46ae(0x23c)+new Date(_0x43b898['createdAt'])[_0x3a46ae(0x2b3)]('ru-RU')+'\x0a');_0x49f62b===_0x3a46ae(0x1e4)&&_0x43b898['chargebackAmount']&&(_0xdedae5+='üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*'+_0x43b898[_0x3a46ae(0x206)]+_0x3a46ae(0x24e)),_0x43b898[_0x3a46ae(0x2a6)]&&(_0xdedae5+=_0x3a46ae(0x297)+_0x43b898[_0x3a46ae(0x2a6)]+'\x0a'),await this[_0x3a46ae(0x209)](_0x32ba91,_0xdedae5,{'parse_mode':_0x3a46ae(0x214)});}async['sendPayoutNotification'](_0x362262,_0x37b4b3,_0x56d758){const _0xc3182a=a49_0x46fac1,_0x3168f9={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x366b4d={'created':'–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','completed':_0xc3182a(0x29a),'rejected':_0xc3182a(0x20e)},_0x466249=_0x3168f9[_0x56d758],_0x550b63=_0x366b4d[_0x56d758],_0x2e69d9=_0x466249+'\x20*'+_0x550b63+_0xc3182a(0x2c7)+(_0xc3182a(0x245)+_0x37b4b3[_0xc3182a(0x1ee)]+'\x20USD*\x0a')+(_0xc3182a(0x221)+_0x37b4b3[_0xc3182a(0x2c3)]+'`\x0a')+(_0xc3182a(0x292)+_0x37b4b3['id']+'`\x0a')+(_0xc3182a(0x23c)+new Date(_0x37b4b3[_0xc3182a(0x2c9)])['toLocaleString'](_0xc3182a(0x261))+'\x0a')+(_0x37b4b3[_0xc3182a(0x1df)]?_0xc3182a(0x2c0)+_0x37b4b3[_0xc3182a(0x1df)]+'`':'');await this[_0xc3182a(0x209)](_0x362262,_0x2e69d9,{'parse_mode':_0xc3182a(0x214)});}async[a49_0x46fac1(0x237)](_0x5584f1,_0x54cfe4){const _0x1fc6b9=a49_0x46fac1;try{const _0x4ab0bc=await database_1[_0x1fc6b9(0x217)][_0x1fc6b9(0x281)][_0x1fc6b9(0x274)]({'where':{'shopId':_0x5584f1},'select':{'notificationLogin':!![]}});if(!_0x4ab0bc?.['notificationLogin']){console['log'](_0x1fc6b9(0x269)+_0x5584f1);return;}const _0x33ea5f=_0x54cfe4[_0x1fc6b9(0x228)]?'üîê':'üö®',_0x5c59e3=_0x54cfe4['success']?_0x1fc6b9(0x2c2):'–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞';let _0x969d15=_0x33ea5f+'\x20*'+_0x5c59e3+_0x1fc6b9(0x2c7)+(_0x1fc6b9(0x266)+_0x54cfe4[_0x1fc6b9(0x1ed)]+'`\x0a')+(_0x1fc6b9(0x218)+_0x54cfe4[_0x1fc6b9(0x2bb)]['toLocaleString']('ru-RU')+'\x0a');_0x54cfe4[_0x1fc6b9(0x21c)]&&(_0x969d15+=_0x1fc6b9(0x21e)+_0x54cfe4[_0x1fc6b9(0x21c)]+'`\x0a');if(_0x54cfe4[_0x1fc6b9(0x1fd)]){const _0x14ca12=_0x54cfe4[_0x1fc6b9(0x1fd)][_0x1fc6b9(0x1fc)]>0x32?_0x54cfe4[_0x1fc6b9(0x1fd)][_0x1fc6b9(0x226)](0x0,0x32)+'...':_0x54cfe4[_0x1fc6b9(0x1fd)];_0x969d15+='üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`'+_0x14ca12+'`\x0a';}!_0x54cfe4['success']&&(_0x969d15+='\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!'),await this[_0x1fc6b9(0x209)](_0x5584f1,_0x969d15,{'parse_mode':_0x1fc6b9(0x214)}),console[_0x1fc6b9(0x248)](_0x1fc6b9(0x1d5)+_0x5584f1+':\x20'+(_0x54cfe4['success']?'success':_0x1fc6b9(0x283)));}catch(_0xd98a25){console[_0x1fc6b9(0x213)]('Failed\x20to\x20send\x20login\x20notification:',_0xd98a25);}}async[a49_0x46fac1(0x26a)](_0xf05ed9,_0x4312c4){const _0x22e1af=a49_0x46fac1;try{const _0x2ff6a0=await database_1[_0x22e1af(0x217)][_0x22e1af(0x281)][_0x22e1af(0x274)]({'where':{'shopId':_0xf05ed9},'select':{'notificationApiError':!![]}});if(!_0x2ff6a0?.[_0x22e1af(0x27b)]){console[_0x22e1af(0x248)](_0x22e1af(0x2c1)+_0xf05ed9);return;}let _0xe3798b=_0x22e1af(0x251)+(_0x22e1af(0x229)+_0x4312c4[_0x22e1af(0x2c3)]+'\x20'+_0x4312c4[_0x22e1af(0x219)]+'`\x0a')+('üìÖ\x20–í—Ä–µ–º—è:\x20'+_0x4312c4[_0x22e1af(0x2bb)][_0x22e1af(0x2b3)](_0x22e1af(0x261))+'\x0a');_0x4312c4['statusCode']&&(_0xe3798b+=_0x22e1af(0x208)+_0x4312c4[_0x22e1af(0x210)]+'`\x0a'),_0xe3798b+='‚ùå\x20–û—à–∏–±–∫–∞:\x20`'+_0x4312c4[_0x22e1af(0x250)]+'`\x0a',_0x4312c4[_0x22e1af(0x1e9)]&&(_0xe3798b+=_0x22e1af(0x203)+_0x4312c4[_0x22e1af(0x1e9)]+'`\x0a'),_0xe3798b+=_0x22e1af(0x27a),await this[_0x22e1af(0x209)](_0xf05ed9,_0xe3798b,{'parse_mode':'Markdown'}),console[_0x22e1af(0x248)](_0x22e1af(0x288)+_0xf05ed9+':\x20'+_0x4312c4[_0x22e1af(0x219)]);}catch(_0x7c83dd){console[_0x22e1af(0x213)]('Failed\x20to\x20send\x20API\x20error\x20notification:',_0x7c83dd);}}async[a49_0x46fac1(0x29b)](_0x59bae4,_0x5242b6,_0x10d8fe){const _0x4130a3=a49_0x46fac1;let _0x2824b0=_0x4130a3(0x1de)+_0x5242b6+'*\x0a\x0a';for(const [_0x2dc15c,_0x103c9d]of Object[_0x4130a3(0x24a)](_0x10d8fe)){_0x103c9d!==null&&_0x103c9d!==undefined&&(_0x2824b0+=_0x2dc15c+_0x4130a3(0x1da)+_0x103c9d+'`\x0a');}await this['sendShopNotification'](_0x59bae4,_0x2824b0,{'parse_mode':'Markdown'});}['getBotInfo'](){const _0x470af7=a49_0x46fac1;return{'isActive':!!this[_0x470af7(0x244)],'username':this['botUsername']};}[a49_0x46fac1(0x293)](){const _0x50b4d5=a49_0x46fac1;this[_0x50b4d5(0x244)]&&(this[_0x50b4d5(0x244)][_0x50b4d5(0x1ef)](),this[_0x50b4d5(0x244)]=null,console['log'](_0x50b4d5(0x1ff)));}}exports['TelegramBotService']=TelegramBotService,exports['telegramBotService']=new TelegramBotService();