'use strict';const a49_0xc37915=a49_0xe5e5;(function(_0x3b7a2f,_0x301e0a){const _0x31d45e=a49_0xe5e5,_0x359f4b=_0x3b7a2f();while(!![]){try{const _0x398220=-parseInt(_0x31d45e(0x224))/0x1+parseInt(_0x31d45e(0x20b))/0x2+parseInt(_0x31d45e(0x19c))/0x3*(-parseInt(_0x31d45e(0x232))/0x4)+parseInt(_0x31d45e(0x1ac))/0x5+parseInt(_0x31d45e(0x207))/0x6+-parseInt(_0x31d45e(0x223))/0x7+-parseInt(_0x31d45e(0x229))/0x8;if(_0x398220===_0x301e0a)break;else _0x359f4b['push'](_0x359f4b['shift']());}catch(_0x102c72){_0x359f4b['push'](_0x359f4b['shift']());}}}(a49_0x51ae,0xe6b39));function a49_0xe5e5(_0x44c82b,_0x5cd598){const _0x51ae16=a49_0x51ae();return a49_0xe5e5=function(_0xe5e546,_0x4b45a2){_0xe5e546=_0xe5e546-0x186;let _0x313d96=_0x51ae16[_0xe5e546];return _0x313d96;},a49_0xe5e5(_0x44c82b,_0x5cd598);}function a49_0x51ae(){const _0x1abc26=['toLocaleString','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','failed','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','shopSettings','\x20\x20\x20Status:\x20','–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É','–ü—Ä–∏–º–µ—Ä:\x0a','üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20','‚Ä¢\x20`','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','5043745xavJaX','`\x20(','üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20','\x20via\x20multiline\x20input','Failed\x20to\x20send\x20API\x20error\x20notification:','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','defineProperty','\x20\x20\x20Public\x20Key:\x20`','\x20initialized\x20successfully','length','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','bot','üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20','botUsername','toString','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.','forEach','üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`','create','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞',':\x20username=\x22','toLocaleDateString','secretKey','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a','log','substring','üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20','Error\x20sending\x20shop\x20notification:','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.','üìÖ\x20–í—Ä–µ–º—è:\x20','`appple`\x0a','\x20USDT*\x0a','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','success','requestId','üîå\x20User\x20','../config/database','findUnique',':\x20apiKey=\x22','–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','TELEGRAM_BOT_USERNAME','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','TelegramBotService','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20','Telegram\x20bot\x20polling\x20error:','chat','allSettled','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a','–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','\x20verified\x20for\x20shop\x20','*\x0a\x0a','–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞','timestamp','telegramUser','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','warn','Error\x20handling\x20/status\x20command:','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','__esModule','Error\x20in\x20handleMultilineVerification:','createdAt','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','adminNotes','Telegram\x20bot\x20error:','toUpperCase','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','statusCode','stopPolling','sendPaymentNotification','Username:\x20`','orderId','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω','üõë\x20Telegram\x20bot\x20stopped','sendMessage','startsWith','findMany','node-telegram-bot-api','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','user\x20is\x20deactivated','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','6557280vdzBUQ','handleApiKeyVerification','Error\x20handling\x20/disconnect\x20command:','stopBot','3490546uHEKuC','‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','Error\x20in\x20handleApiKeyVerification:','ACTIVE','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','üè™\x20–®–ª—é–∑:\x20`','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','Error\x20handling\x20/debug\x20command:','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','üë§\x20Username:\x20`','‚úÖ\x20Telegram\x20user\x20','trim','error','`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a','txid','findFirst','currency','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','gateway','initializeBot','1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a','updatedAt','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','9524550nhYvbR','438455KaNSFB','amount','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','6208712kQYcBW','chat\x20not\x20found','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','message','sk_','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','...','map','118820yqWmEc','status','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a','\x22,\x20apiKey=\x22','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*','polling_error','botToken','`.\x0a\x0a','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables','üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a','API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.','getBotInfo','\x20USD*\x0a','sendCustomNotification','–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a','User\x20','üìù\x20Order\x20ID:\x20`','isVerified','üìÖ\x20–î–∞—Ç–∞:\x20','onText','‚ùå\x20–û—à–∏–±–∫–∞:\x20`','sendApiErrorNotification','üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`','üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','handleMultilineVerification','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','__importDefault','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20','üîó\x20TXID:\x20`','telegramBotService','name','–ö–æ–º–∞–Ω–¥—ã:\x0a','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.','\x20\x20\x20Username:\x20`','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','\x20(@','üÜî\x20Request\x20ID:\x20`','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','Error\x20handling\x20message:','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','*.\x0a\x0a','setupBotHandlers','–ú–∞–≥–∞–∑–∏–Ω:\x20*','includes','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.',':\x20`','pk_','üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`','from','shopId','1Ô∏è‚É£\x20Username\x0a','‚úÖ\x20Username\x20`','`\x0a\x0a','üîó\x20Endpoint:\x20`','filter','endpoint','default','entries','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','...\x22','method','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','publicKey','\x20disconnected\x20from\x20shop\x20','first_name','ru-RU','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','sendShopNotification','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','Failed\x20to\x20send\x20login\x20notification:','‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`','userAgent','env','notificationLogin','handleUsernameVerification','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','chargebackAmount','üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a','Markdown','shop','telegramId','33cKCiXY','update','username','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a'];a49_0x51ae=function(){return _0x1abc26;};return a49_0x51ae();}var __importDefault=this&&this[a49_0xc37915(0x250)]||function(_0x2fc639){const _0x7ada64=a49_0xc37915;return _0x2fc639&&_0x2fc639[_0x7ada64(0x1eb)]?_0x2fc639:{'default':_0x2fc639};};Object[a49_0xc37915(0x1b2)](exports,'__esModule',{'value':!![]}),exports[a49_0xc37915(0x253)]=exports['TelegramBotService']=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a49_0xc37915(0x203))),database_1=__importDefault(require(a49_0xc37915(0x1d2)));class TelegramBotService{constructor(){const _0x332f2f=a49_0xc37915;this[_0x332f2f(0x1b7)]=null,this[_0x332f2f(0x23a)]=process[_0x332f2f(0x193)]['TELEGRAM_BOT_TOKEN']||'',this[_0x332f2f(0x1b9)]=process[_0x332f2f(0x193)][_0x332f2f(0x1d6)]||'trapay_bot',this[_0x332f2f(0x23a)]?this['initializeBot']():console[_0x332f2f(0x1e7)](_0x332f2f(0x23d));}[a49_0xc37915(0x21f)](){const _0x104c3d=a49_0xc37915;try{this['bot']=new node_telegram_bot_api_1['default'](this[_0x104c3d(0x23a)],{'polling':!![]}),this[_0x104c3d(0x25f)](),console[_0x104c3d(0x1c6)]('‚úÖ\x20Telegram\x20bot\x20@'+this['botUsername']+_0x104c3d(0x1b4));}catch(_0x5d8e1f){console[_0x104c3d(0x218)](_0x104c3d(0x22f),_0x5d8e1f);}}[a49_0xc37915(0x25f)](){const _0x14f0d4=a49_0xc37915;if(!this[_0x14f0d4(0x1b7)])return;this[_0x14f0d4(0x1b7)][_0x14f0d4(0x248)](/\/start/,async _0x152426=>{const _0x4de9fe=_0x14f0d4,_0x1dcf63=_0x152426[_0x4de9fe(0x1dc)]['id'],_0x38460f=_0x152426[_0x4de9fe(0x266)]?.['id'][_0x4de9fe(0x1ba)](),_0x3f3b02=_0x152426[_0x4de9fe(0x266)]?.['username'],_0x15c987=_0x152426[_0x4de9fe(0x266)]?.[_0x4de9fe(0x277)],_0x4c8ec7=_0x152426[_0x4de9fe(0x266)]?.['last_name'];if(!_0x38460f)return;try{let _0x2a46bb=await database_1[_0x4de9fe(0x26e)]['telegramUser'][_0x4de9fe(0x1d3)]({'where':{'telegramId':_0x38460f},'include':{'shop':!![]}});!_0x2a46bb?(_0x2a46bb=await database_1[_0x4de9fe(0x26e)][_0x4de9fe(0x1e5)][_0x4de9fe(0x1be)]({'data':{'telegramId':_0x38460f,'username':_0x3f3b02,'firstName':_0x15c987,'lastName':_0x4c8ec7,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console['log']('üì±\x20Created\x20new\x20Telegram\x20user:\x20'+_0x38460f+_0x4de9fe(0x259)+_0x3f3b02+')')):_0x2a46bb=await database_1[_0x4de9fe(0x26e)][_0x4de9fe(0x1e5)][_0x4de9fe(0x19d)]({'where':{'telegramId':_0x38460f},'data':{'username':_0x3f3b02,'firstName':_0x15c987,'lastName':_0x4c8ec7},'include':{'shop':!![]}}),_0x2a46bb[_0x4de9fe(0x246)]&&_0x2a46bb[_0x4de9fe(0x267)]&&_0x2a46bb[_0x4de9fe(0x19a)]?await this['bot']?.[_0x4de9fe(0x200)](_0x1dcf63,_0x4de9fe(0x1de)+(_0x4de9fe(0x1fc)+_0x2a46bb[_0x4de9fe(0x19a)][_0x4de9fe(0x254)]+'*\x0a')+(_0x4de9fe(0x1f8)+_0x2a46bb[_0x4de9fe(0x19a)]['username']+_0x4de9fe(0x26a))+_0x4de9fe(0x18b)+_0x4de9fe(0x22c)+_0x4de9fe(0x22b)+'‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a'+_0x4de9fe(0x255)+_0x4de9fe(0x1ce)+_0x4de9fe(0x18e),{'parse_mode':_0x4de9fe(0x199)}):(_0x2a46bb['shopId']&&!_0x2a46bb[_0x4de9fe(0x246)]&&(await database_1[_0x4de9fe(0x26e)][_0x4de9fe(0x1e5)][_0x4de9fe(0x19d)]({'where':{'telegramId':_0x38460f},'data':{'shopId':null,'isVerified':![]}}),console[_0x4de9fe(0x1c6)](_0x4de9fe(0x1a8)+_0x38460f)),await this['bot']?.[_0x4de9fe(0x200)](_0x1dcf63,_0x4de9fe(0x186)+_0x4de9fe(0x243)+_0x4de9fe(0x1c5)+_0x4de9fe(0x1d7)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a'+_0x4de9fe(0x1a7)+_0x4de9fe(0x1cc)+'`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a'+'‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!',{'parse_mode':'Markdown'}));}catch(_0x55c1e9){console[_0x4de9fe(0x218)]('Error\x20handling\x20/start\x20command:',_0x55c1e9),await this[_0x4de9fe(0x1b7)]?.[_0x4de9fe(0x200)](_0x1dcf63,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.');}}),this[_0x14f0d4(0x1b7)][_0x14f0d4(0x248)](/\/disconnect/,async _0x587a47=>{const _0x5bd00b=_0x14f0d4,_0x3f5d0c=_0x587a47['chat']['id'],_0x30075a=_0x587a47[_0x5bd00b(0x266)]?.['id'][_0x5bd00b(0x1ba)]();if(!_0x30075a)return;try{const _0x3f287b=await database_1[_0x5bd00b(0x26e)][_0x5bd00b(0x1e5)][_0x5bd00b(0x1d3)]({'where':{'telegramId':_0x30075a},'include':{'shop':!![]}});if(!_0x3f287b||!_0x3f287b[_0x5bd00b(0x246)]||!_0x3f287b[_0x5bd00b(0x267)]){await this[_0x5bd00b(0x1b7)]?.[_0x5bd00b(0x200)](_0x3f5d0c,_0x5bd00b(0x256));return;}const _0x2d02b9=_0x3f287b[_0x5bd00b(0x19a)]?.[_0x5bd00b(0x254)]||_0x5bd00b(0x1fe);await database_1[_0x5bd00b(0x26e)][_0x5bd00b(0x1e5)][_0x5bd00b(0x19d)]({'where':{'telegramId':_0x30075a},'data':{'shopId':null,'isVerified':![]}}),console[_0x5bd00b(0x1c6)](_0x5bd00b(0x1d1)+_0x30075a+_0x5bd00b(0x276)+_0x3f287b[_0x5bd00b(0x267)]),await this[_0x5bd00b(0x1b7)]?.[_0x5bd00b(0x200)](_0x3f5d0c,_0x5bd00b(0x214)+_0x2d02b9+_0x5bd00b(0x25e)+_0x5bd00b(0x187),{'parse_mode':'Markdown'});}catch(_0x2199bf){console[_0x5bd00b(0x218)](_0x5bd00b(0x209),_0x2199bf),await this['bot']?.[_0x5bd00b(0x200)](_0x3f5d0c,_0x5bd00b(0x1bb));}}),this['bot'][_0x14f0d4(0x248)](/\/status/,async _0x4fa1f5=>{const _0x4550d6=_0x14f0d4,_0x4d3ca8=_0x4fa1f5[_0x4550d6(0x1dc)]['id'],_0x46f8ac=_0x4fa1f5['from']?.['id']['toString']();if(!_0x46f8ac)return;try{const _0x1ffae7=await database_1[_0x4550d6(0x26e)][_0x4550d6(0x1e5)][_0x4550d6(0x1d3)]({'where':{'telegramId':_0x46f8ac},'include':{'shop':!![]}});if(!_0x1ffae7){await this[_0x4550d6(0x1b7)]?.[_0x4550d6(0x200)](_0x4d3ca8,_0x4550d6(0x235)+_0x4550d6(0x262));return;}if(!_0x1ffae7[_0x4550d6(0x246)]||!_0x1ffae7[_0x4550d6(0x267)]||!_0x1ffae7['shop']){await this[_0x4550d6(0x1b7)]?.[_0x4550d6(0x200)](_0x4d3ca8,'‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a'+'–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.');return;}await this['bot']?.[_0x4550d6(0x200)](_0x4d3ca8,_0x4550d6(0x189)+('‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*'+_0x1ffae7['shop']['name']+'*\x0a')+(_0x4550d6(0x215)+_0x1ffae7['shop'][_0x4550d6(0x19e)]+'`\x0a')+('üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20'+_0x1ffae7[_0x4550d6(0x221)][_0x4550d6(0x1c2)](_0x4550d6(0x278))+'\x0a\x0a')+_0x4550d6(0x198)+_0x4550d6(0x255)+_0x4550d6(0x18e),{'parse_mode':_0x4550d6(0x199)});}catch(_0x529f1c){console[_0x4550d6(0x218)](_0x4550d6(0x1e8),_0x529f1c),await this['bot']?.[_0x4550d6(0x200)](_0x4d3ca8,_0x4550d6(0x1bb));}}),this['bot'][_0x14f0d4(0x248)](/\/debug/,async _0x12b9a1=>{const _0x1ed9d7=_0x14f0d4,_0x57ad1c=_0x12b9a1['chat']['id'],_0x51e7cb=_0x12b9a1[_0x1ed9d7(0x266)]?.['id'][_0x1ed9d7(0x1ba)]();if(!_0x51e7cb)return;try{const _0x2df8a1=await database_1[_0x1ed9d7(0x26e)]['shop']['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x387976=_0x1ed9d7(0x1df);_0x387976+=_0x1ed9d7(0x265)+_0x51e7cb+_0x1ed9d7(0x26a),_0x387976+=_0x1ed9d7(0x23e),_0x2df8a1['forEach']((_0xca947a,_0x12f05b)=>{const _0x23cd92=_0x1ed9d7;_0x387976+=_0x12f05b+0x1+'.\x20*'+_0xca947a[_0x23cd92(0x254)]+'*\x0a',_0x387976+=_0x23cd92(0x257)+_0xca947a['username']+'`\x0a',_0x387976+=_0x23cd92(0x1a5)+_0xca947a[_0x23cd92(0x233)]+'\x0a',_0x387976+=_0x23cd92(0x1b3)+_0xca947a[_0x23cd92(0x275)]['substring'](0x0,0xf)+'...`\x0a\x0a';}),await this[_0x1ed9d7(0x1b7)]?.[_0x1ed9d7(0x200)](_0x57ad1c,_0x387976,{'parse_mode':_0x1ed9d7(0x199)});}catch(_0x3fc15d){console[_0x1ed9d7(0x218)](_0x1ed9d7(0x213),_0x3fc15d),await this[_0x1ed9d7(0x1b7)]?.['sendMessage'](_0x57ad1c,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.');}}),this[_0x14f0d4(0x1b7)]['on'](_0x14f0d4(0x22d),async _0x48b8bd=>{const _0x5526fd=_0x14f0d4;if(_0x48b8bd['text']?.[_0x5526fd(0x201)]('/'))return;const _0x703c76=_0x48b8bd[_0x5526fd(0x1dc)]['id'],_0x13dab5=_0x48b8bd[_0x5526fd(0x266)]?.['id'][_0x5526fd(0x1ba)](),_0x5e6de6=_0x48b8bd['text']?.[_0x5526fd(0x217)]();if(!_0x13dab5||!_0x5e6de6)return;try{const _0x1e850b=await database_1[_0x5526fd(0x26e)][_0x5526fd(0x1e5)][_0x5526fd(0x1d3)]({'where':{'telegramId':_0x13dab5},'include':{'shop':!![]}});if(!_0x1e850b){await this[_0x5526fd(0x1b7)]?.[_0x5526fd(0x200)](_0x703c76,_0x5526fd(0x23c));return;}if(_0x1e850b['isVerified']&&_0x1e850b[_0x5526fd(0x267)]&&_0x1e850b['shop']){await this[_0x5526fd(0x1b7)]?.['sendMessage'](_0x703c76,_0x5526fd(0x274)+_0x1e850b[_0x5526fd(0x19a)]['name']+_0x5526fd(0x25e)+_0x5526fd(0x273),{'parse_mode':_0x5526fd(0x199)});return;}const _0xcbeba2=_0x5e6de6['split']('\x0a')['map'](_0x1ed190=>_0x1ed190[_0x5526fd(0x217)]())[_0x5526fd(0x26c)](_0x11528a=>_0x11528a[_0x5526fd(0x1b5)]>0x0);if(_0xcbeba2['length']===0x2){const [_0x2caa39,_0x1c3058]=_0xcbeba2;await this[_0x5526fd(0x24e)](_0x703c76,_0x13dab5,_0x2caa39,_0x1c3058);}else{if(_0xcbeba2[_0x5526fd(0x1b5)]===0x1){const _0x8d8b5f=_0xcbeba2[0x0];if(_0x8d8b5f['length']>=0x3&&_0x8d8b5f[_0x5526fd(0x1b5)]<=0x32&&/^[a-zA-Z0-9_]+$/['test'](_0x8d8b5f))await this[_0x5526fd(0x195)](_0x703c76,_0x13dab5,_0x8d8b5f);else _0x8d8b5f['startsWith']('pk_')||_0x8d8b5f[_0x5526fd(0x201)](_0x5526fd(0x22e))?await this[_0x5526fd(0x208)](_0x703c76,_0x13dab5,_0x8d8b5f):await this[_0x5526fd(0x1b7)]?.[_0x5526fd(0x200)](_0x703c76,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a'+_0x5526fd(0x18a)+_0x5526fd(0x220)+_0x5526fd(0x1f3)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a'+_0x5526fd(0x1cc)+_0x5526fd(0x1e6),{'parse_mode':_0x5526fd(0x199)});}else await this[_0x5526fd(0x1b7)]?.[_0x5526fd(0x200)](_0x703c76,_0x5526fd(0x204)+_0x5526fd(0x19f)+_0x5526fd(0x1a7)+_0x5526fd(0x1cc)+_0x5526fd(0x1e6),{'parse_mode':_0x5526fd(0x199)});}}catch(_0x3f46a6){console['error'](_0x5526fd(0x25c),_0x3f46a6),await this[_0x5526fd(0x1b7)]?.[_0x5526fd(0x200)](_0x703c76,_0x5526fd(0x1bb));}}),this[_0x14f0d4(0x1b7)]['on'](_0x14f0d4(0x218),_0x69f8c1=>{const _0x212cf0=_0x14f0d4;console[_0x212cf0(0x218)](_0x212cf0(0x1f1),_0x69f8c1);}),this['bot']['on'](_0x14f0d4(0x239),_0x1ebb87=>{const _0x44da17=_0x14f0d4;console[_0x44da17(0x218)](_0x44da17(0x1db),_0x1ebb87);});}async[a49_0xc37915(0x24e)](_0x2be451,_0x12a3ea,_0x594f4d,_0x31de08){const _0x4e37c1=a49_0xc37915;try{console[_0x4e37c1(0x1c6)](_0x4e37c1(0x1c8)+_0x12a3ea+_0x4e37c1(0x1c1)+_0x594f4d+_0x4e37c1(0x236)+_0x31de08[_0x4e37c1(0x1c7)](0x0,0xa)+'...\x22');if(!_0x594f4d||_0x594f4d[_0x4e37c1(0x1b5)]<0x3||_0x594f4d[_0x4e37c1(0x1b5)]>0x32||!/^[a-zA-Z0-9_]+$/['test'](_0x594f4d)){await this[_0x4e37c1(0x1b7)]?.[_0x4e37c1(0x200)](_0x2be451,_0x4e37c1(0x228)+_0x594f4d+_0x4e37c1(0x26a)+'Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).',{'parse_mode':_0x4e37c1(0x199)});return;}if(!_0x31de08||!_0x31de08[_0x4e37c1(0x201)](_0x4e37c1(0x264))&&!_0x31de08[_0x4e37c1(0x201)](_0x4e37c1(0x22e))){await this[_0x4e37c1(0x1b7)]?.['sendMessage'](_0x2be451,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a'+_0x4e37c1(0x23f),{'parse_mode':_0x4e37c1(0x199)});return;}const _0x5f4d25=await database_1[_0x4e37c1(0x26e)][_0x4e37c1(0x19a)][_0x4e37c1(0x1d3)]({'where':{'username':_0x594f4d},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0x5f4d25){const _0x1756ad=await database_1[_0x4e37c1(0x26e)][_0x4e37c1(0x19a)][_0x4e37c1(0x202)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x318ae7=_0x4e37c1(0x191)+_0x594f4d+'`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a';_0x1756ad[_0x4e37c1(0x1b5)]>0x0?(_0x318ae7+=_0x4e37c1(0x18c),_0x1756ad[_0x4e37c1(0x1bc)](_0x3b5d2a=>{const _0x33659e=_0x4e37c1;_0x318ae7+='‚Ä¢\x20`'+_0x3b5d2a[_0x33659e(0x19e)]+_0x33659e(0x1ad)+_0x3b5d2a[_0x33659e(0x254)]+')\x0a';}),_0x318ae7+='\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.'):_0x318ae7+='–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.';await this['bot']?.['sendMessage'](_0x2be451,_0x318ae7,{'parse_mode':_0x4e37c1(0x199)});return;}if(_0x5f4d25[_0x4e37c1(0x233)]!==_0x4e37c1(0x20e)){await this[_0x4e37c1(0x1b7)]?.[_0x4e37c1(0x200)](_0x2be451,_0x4e37c1(0x20f)+_0x594f4d+_0x4e37c1(0x227)+_0x4e37c1(0x1fb),{'parse_mode':'Markdown'});return;}if(_0x5f4d25[_0x4e37c1(0x275)]!==_0x31de08&&_0x5f4d25[_0x4e37c1(0x1c3)]!==_0x31de08){await this[_0x4e37c1(0x1b7)]?.['sendMessage'](_0x2be451,_0x4e37c1(0x25b)+_0x594f4d+_0x4e37c1(0x23b)+_0x4e37c1(0x24d)+'–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`',{'parse_mode':_0x4e37c1(0x199)});return;}const _0x146de1=await database_1[_0x4e37c1(0x26e)][_0x4e37c1(0x1e5)]['findFirst']({'where':{'shopId':_0x5f4d25['id'],'isVerified':!![],'telegramId':{'not':_0x12a3ea}}});if(_0x146de1){await this[_0x4e37c1(0x1b7)]?.[_0x4e37c1(0x200)](_0x2be451,'‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`'+_0x594f4d+'`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a'+_0x4e37c1(0x1b1),{'parse_mode':_0x4e37c1(0x199)});return;}await database_1['default'][_0x4e37c1(0x1e5)]['update']({'where':{'telegramId':_0x12a3ea},'data':{'shopId':_0x5f4d25['id'],'isVerified':!![]}}),await this[_0x4e37c1(0x1b7)]?.[_0x4e37c1(0x200)](_0x2be451,_0x4e37c1(0x1aa)+'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a'+(_0x4e37c1(0x24c)+_0x5f4d25[_0x4e37c1(0x254)]+'*\x0a')+(_0x4e37c1(0x215)+_0x5f4d25[_0x4e37c1(0x19e)]+_0x4e37c1(0x26a))+_0x4e37c1(0x1fa)+_0x4e37c1(0x22c)+_0x4e37c1(0x22b)+'‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a'+_0x4e37c1(0x1ab)+_0x4e37c1(0x255)+'/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a'+'/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π',{'parse_mode':_0x4e37c1(0x199)}),console['log'](_0x4e37c1(0x216)+_0x12a3ea+'\x20verified\x20for\x20shop\x20'+_0x5f4d25[_0x4e37c1(0x19e)]+_0x4e37c1(0x1af));}catch(_0x2b4937){console[_0x4e37c1(0x218)](_0x4e37c1(0x1ec),_0x2b4937),await this[_0x4e37c1(0x1b7)]?.['sendMessage'](_0x2be451,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.');}}async[a49_0xc37915(0x195)](_0x51e373,_0x1f30a0,_0x1dafe6){const _0x28098c=a49_0xc37915;try{console[_0x28098c(0x1c6)]('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x1f30a0+_0x28098c(0x1c1)+_0x1dafe6+'\x22');const _0x16a9e3=await database_1[_0x28098c(0x26e)][_0x28098c(0x19a)][_0x28098c(0x1d3)]({'where':{'username':_0x1dafe6},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x16a9e3){const _0x2de9d2=await database_1['default'][_0x28098c(0x19a)][_0x28098c(0x202)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x1513c8='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x1dafe6+_0x28098c(0x1d9);_0x2de9d2['length']>0x0?(_0x1513c8+='–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a',_0x2de9d2[_0x28098c(0x1bc)](_0x40f983=>{const _0x37b6ee=_0x28098c;_0x1513c8+=_0x37b6ee(0x1a9)+_0x40f983[_0x37b6ee(0x19e)]+_0x37b6ee(0x1ad)+_0x40f983[_0x37b6ee(0x254)]+')\x0a';}),_0x1513c8+=_0x28098c(0x226)):_0x1513c8+=_0x28098c(0x211);await this['bot']?.['sendMessage'](_0x51e373,_0x1513c8,{'parse_mode':_0x28098c(0x199)});return;}if(_0x16a9e3['status']!==_0x28098c(0x20e)){await this[_0x28098c(0x1b7)]?.['sendMessage'](_0x51e373,'‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`'+_0x1dafe6+_0x28098c(0x227)+_0x28098c(0x1fb),{'parse_mode':'Markdown'});return;}await database_1[_0x28098c(0x26e)][_0x28098c(0x1e5)]['update']({'where':{'telegramId':_0x1f30a0},'data':{'shopId':_0x16a9e3['id'],'isVerified':![]}}),await this[_0x28098c(0x1b7)]?.[_0x28098c(0x200)](_0x51e373,_0x28098c(0x269)+_0x1dafe6+_0x28098c(0x219)+(_0x28098c(0x260)+_0x16a9e3['name']+_0x28098c(0x1e2))+_0x28098c(0x24f),{'parse_mode':_0x28098c(0x199)}),console[_0x28098c(0x1c6)](_0x28098c(0x1ef)+_0x1f30a0+'\x20with\x20shop\x20'+_0x16a9e3[_0x28098c(0x19e)]);}catch(_0x59e283){console[_0x28098c(0x218)]('Error\x20in\x20handleUsernameVerification:',_0x59e283),await this[_0x28098c(0x1b7)]?.['sendMessage'](_0x51e373,_0x28098c(0x196));}}async[a49_0xc37915(0x208)](_0x2704cd,_0x3d5468,_0x81e2ed){const _0x1da227=a49_0xc37915;try{console[_0x1da227(0x1c6)](_0x1da227(0x1b8)+_0x3d5468+_0x1da227(0x1d4)+_0x81e2ed[_0x1da227(0x1c7)](0x0,0xa)+_0x1da227(0x271));const _0x1092ac=await database_1[_0x1da227(0x26e)]['telegramUser'][_0x1da227(0x1d3)]({'where':{'telegramId':_0x3d5468},'include':{'shop':!![]}});if(!_0x1092ac?.[_0x1da227(0x267)]){await this[_0x1da227(0x1b7)]?.[_0x1da227(0x200)](_0x2704cd,_0x1da227(0x25d)+'–ü–æ—Ä—è–¥–æ–∫:\x0a'+_0x1da227(0x268)+'2Ô∏è‚É£\x20API\x20–∫–ª—é—á');return;}if(_0x1092ac[_0x1da227(0x246)]){await this[_0x1da227(0x1b7)]?.[_0x1da227(0x200)](_0x2704cd,_0x1da227(0x274)+(_0x1092ac['shop']?.[_0x1da227(0x254)]||'–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π')+_0x1da227(0x25e)+_0x1da227(0x1ca),{'parse_mode':'Markdown'});return;}const _0xed7b15=await database_1['default'][_0x1da227(0x19a)][_0x1da227(0x21b)]({'where':{'id':_0x1092ac[_0x1da227(0x267)],'OR':[{'publicKey':_0x81e2ed},{'secretKey':_0x81e2ed}]}});if(!_0xed7b15){await this[_0x1da227(0x1b7)]?.[_0x1da227(0x200)](_0x2704cd,_0x1da227(0x1ea)+_0x1da227(0x237)+_0x1da227(0x1a3),{'parse_mode':_0x1da227(0x199)}),await database_1[_0x1da227(0x26e)][_0x1da227(0x1e5)]['update']({'where':{'telegramId':_0x3d5468},'data':{'shopId':null,'isVerified':![]}}),console[_0x1da227(0x1c6)](_0x1da227(0x251)+_0x3d5468+',\x20reset\x20shop\x20association');return;}const _0x229250=await database_1['default']['telegramUser'][_0x1da227(0x21b)]({'where':{'shopId':_0xed7b15['id'],'isVerified':!![],'telegramId':{'not':_0x3d5468}}});if(_0x229250){await this[_0x1da227(0x1b7)]?.[_0x1da227(0x200)](_0x2704cd,_0x1da227(0x1bf)+_0xed7b15[_0x1da227(0x19e)]+_0x1da227(0x1a1)+'–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':_0x1da227(0x199)}),await database_1['default'][_0x1da227(0x1e5)][_0x1da227(0x19d)]({'where':{'telegramId':_0x3d5468},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x1da227(0x26e)][_0x1da227(0x1e5)][_0x1da227(0x19d)]({'where':{'telegramId':_0x3d5468},'data':{'isVerified':!![]}}),await this['bot']?.[_0x1da227(0x200)](_0x2704cd,_0x1da227(0x1aa)+'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a'+(_0x1da227(0x24c)+_0xed7b15[_0x1da227(0x254)]+'*\x0a')+(_0x1da227(0x215)+_0xed7b15[_0x1da227(0x19e)]+_0x1da227(0x26a))+'üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a'+_0x1da227(0x22c)+_0x1da227(0x22b)+_0x1da227(0x1b6)+_0x1da227(0x1ab)+_0x1da227(0x255)+_0x1da227(0x1ce)+_0x1da227(0x18e),{'parse_mode':_0x1da227(0x199)}),console['log']('‚úÖ\x20Telegram\x20user\x20'+_0x3d5468+_0x1da227(0x1e1)+_0xed7b15[_0x1da227(0x19e)]);}catch(_0x2ce8a9){console[_0x1da227(0x218)](_0x1da227(0x20d),_0x2ce8a9),await this[_0x1da227(0x1b7)]?.['sendMessage'](_0x2704cd,_0x1da227(0x1e9));}}async['sendShopNotification'](_0x2aedd1,_0x4d75ea,_0x37d5b6){const _0x5b14de=a49_0xc37915;if(!this['bot']){console['warn'](_0x5b14de(0x1fd));return;}try{const _0x35ccf1=await database_1[_0x5b14de(0x26e)][_0x5b14de(0x1e5)][_0x5b14de(0x202)]({'where':{'shopId':_0x2aedd1,'isVerified':!![]}});if(_0x35ccf1[_0x5b14de(0x1b5)]===0x0){console['log']('No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20'+_0x2aedd1);return;}const _0x1be7a0=_0x35ccf1[_0x5b14de(0x231)](async _0x3a2dc1=>{const _0x40939b=_0x5b14de;try{await this[_0x40939b(0x1b7)]?.[_0x40939b(0x200)](_0x3a2dc1['telegramId'],_0x4d75ea,_0x37d5b6),console[_0x40939b(0x1c6)](_0x40939b(0x234)+_0x3a2dc1[_0x40939b(0x19b)]);}catch(_0x480eab){console[_0x40939b(0x218)](_0x40939b(0x190)+_0x3a2dc1['telegramId']+':',_0x480eab),_0x480eab instanceof Error&&(_0x480eab[_0x40939b(0x22d)]['includes']('blocked')||_0x480eab['message'][_0x40939b(0x261)](_0x40939b(0x22a))||_0x480eab[_0x40939b(0x22d)][_0x40939b(0x261)](_0x40939b(0x205)))&&(await database_1[_0x40939b(0x26e)][_0x40939b(0x1e5)][_0x40939b(0x19d)]({'where':{'id':_0x3a2dc1['id']},'data':{'isVerified':![]}}),console[_0x40939b(0x1c6)](_0x40939b(0x244)+_0x3a2dc1[_0x40939b(0x19b)]+_0x40939b(0x206)));}});await Promise[_0x5b14de(0x1dd)](_0x1be7a0);}catch(_0x8b05a5){console[_0x5b14de(0x218)](_0x5b14de(0x1c9),_0x8b05a5);}}async[a49_0xc37915(0x1f7)](_0x495304,_0x3fd7a2,_0x287b27){const _0x13a03c=a49_0xc37915,_0x39dad8={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x1d80b9={'created':'–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','paid':_0x13a03c(0x1f4),'failed':_0x13a03c(0x1d5),'expired':_0x13a03c(0x1e0),'refund':_0x13a03c(0x270),'chargeback':_0x13a03c(0x1a6)},_0x4a336e=_0x39dad8[_0x287b27],_0x2b5525=_0x1d80b9[_0x287b27];let _0x115c1a=_0x4a336e+'\x20*'+_0x2b5525+_0x13a03c(0x1e2)+('üí∞\x20–°—É–º–º–∞:\x20*'+_0x3fd7a2[_0x13a03c(0x225)]+'\x20'+_0x3fd7a2[_0x13a03c(0x21c)]+'*\x0a')+(_0x13a03c(0x245)+(_0x3fd7a2[_0x13a03c(0x1f9)]||_0x3fd7a2['id'])+'`\x0a')+(_0x13a03c(0x24b)+_0x3fd7a2['id']+'`\x0a')+(_0x13a03c(0x210)+_0x3fd7a2[_0x13a03c(0x21e)][_0x13a03c(0x1f2)]()+'`\x0a')+(_0x13a03c(0x247)+new Date(_0x3fd7a2['createdAt'])[_0x13a03c(0x1a0)]('ru-RU')+'\x0a');_0x287b27==='chargeback'&&_0x3fd7a2['chargebackAmount']&&(_0x115c1a+=_0x13a03c(0x238)+_0x3fd7a2[_0x13a03c(0x197)]+_0x13a03c(0x1cd)),_0x3fd7a2[_0x13a03c(0x1f0)]&&(_0x115c1a+=_0x13a03c(0x1ae)+_0x3fd7a2[_0x13a03c(0x1f0)]+'\x0a'),await this[_0x13a03c(0x18d)](_0x495304,_0x115c1a,{'parse_mode':'Markdown'});}async['sendPayoutNotification'](_0x5bd415,_0x14f5e9,_0x3494b5){const _0x5d81e6=a49_0xc37915,_0x5f5b0f={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x14bae3={'created':_0x5d81e6(0x1c0),'completed':_0x5d81e6(0x21d),'rejected':_0x5d81e6(0x1e3)},_0x11f4e6=_0x5f5b0f[_0x3494b5],_0x25751a=_0x14bae3[_0x3494b5],_0x1bda27=_0x11f4e6+'\x20*'+_0x25751a+_0x5d81e6(0x1e2)+('üí∏\x20–°—É–º–º–∞:\x20*'+_0x14f5e9[_0x5d81e6(0x225)]+_0x5d81e6(0x241))+('üè¶\x20–ú–µ—Ç–æ–¥:\x20`'+_0x14f5e9[_0x5d81e6(0x272)]+'`\x0a')+(_0x5d81e6(0x188)+_0x14f5e9['id']+'`\x0a')+('üìÖ\x20–î–∞—Ç–∞:\x20'+new Date(_0x14f5e9[_0x5d81e6(0x1ed)])['toLocaleString'](_0x5d81e6(0x278))+'\x0a')+(_0x14f5e9[_0x5d81e6(0x21a)]?_0x5d81e6(0x252)+_0x14f5e9[_0x5d81e6(0x21a)]+'`':'');await this[_0x5d81e6(0x18d)](_0x5bd415,_0x1bda27,{'parse_mode':_0x5d81e6(0x199)});}async['sendLoginNotification'](_0x2b8820,_0x4c04af){const _0x3c1fca=a49_0xc37915;try{const _0x1be807=await database_1[_0x3c1fca(0x26e)][_0x3c1fca(0x1a4)][_0x3c1fca(0x1d3)]({'where':{'shopId':_0x2b8820},'select':{'notificationLogin':!![]}});if(!_0x1be807?.[_0x3c1fca(0x194)]){console[_0x3c1fca(0x1c6)]('üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20'+_0x2b8820);return;}const _0xcd898c=_0x4c04af[_0x3c1fca(0x1cf)]?'üîê':'üö®',_0xd8227e=_0x4c04af[_0x3c1fca(0x1cf)]?_0x3c1fca(0x1c4):'–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞';let _0x460dd8=_0xcd898c+'\x20*'+_0xd8227e+_0x3c1fca(0x1e2)+(_0x3c1fca(0x215)+_0x4c04af[_0x3c1fca(0x19e)]+'`\x0a')+(_0x3c1fca(0x1cb)+_0x4c04af[_0x3c1fca(0x1e4)]['toLocaleString'](_0x3c1fca(0x278))+'\x0a');_0x4c04af['ipAddress']&&(_0x460dd8+=_0x3c1fca(0x1ee)+_0x4c04af['ipAddress']+'`\x0a');if(_0x4c04af[_0x3c1fca(0x192)]){const _0x2b2c25=_0x4c04af[_0x3c1fca(0x192)]['length']>0x32?_0x4c04af[_0x3c1fca(0x192)][_0x3c1fca(0x1c7)](0x0,0x32)+_0x3c1fca(0x230):_0x4c04af['userAgent'];_0x460dd8+=_0x3c1fca(0x1bd)+_0x2b2c25+'`\x0a';}!_0x4c04af[_0x3c1fca(0x1cf)]&&(_0x460dd8+='\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!'),await this['sendShopNotification'](_0x2b8820,_0x460dd8,{'parse_mode':_0x3c1fca(0x199)}),console['log'](_0x3c1fca(0x222)+_0x2b8820+':\x20'+(_0x4c04af[_0x3c1fca(0x1cf)]?_0x3c1fca(0x1cf):_0x3c1fca(0x1a2)));}catch(_0x838586){console['error'](_0x3c1fca(0x18f),_0x838586);}}async[a49_0xc37915(0x24a)](_0x3e7ee8,_0xda1b7c){const _0x28f9c0=a49_0xc37915;try{const _0x2644d2=await database_1[_0x28f9c0(0x26e)][_0x28f9c0(0x1a4)][_0x28f9c0(0x1d3)]({'where':{'shopId':_0x3e7ee8},'select':{'notificationApiError':!![]}});if(!_0x2644d2?.['notificationApiError']){console['log'](_0x28f9c0(0x1da)+_0x3e7ee8);return;}let _0x22a67b=_0x28f9c0(0x212)+(_0x28f9c0(0x26b)+_0xda1b7c[_0x28f9c0(0x272)]+'\x20'+_0xda1b7c[_0x28f9c0(0x26d)]+'`\x0a')+(_0x28f9c0(0x1cb)+_0xda1b7c[_0x28f9c0(0x1e4)][_0x28f9c0(0x1a0)](_0x28f9c0(0x278))+'\x0a');_0xda1b7c[_0x28f9c0(0x1f5)]&&(_0x22a67b+=_0x28f9c0(0x258)+_0xda1b7c[_0x28f9c0(0x1f5)]+'`\x0a'),_0x22a67b+=_0x28f9c0(0x249)+_0xda1b7c['errorMessage']+'`\x0a',_0xda1b7c[_0x28f9c0(0x1d0)]&&(_0x22a67b+=_0x28f9c0(0x25a)+_0xda1b7c['requestId']+'`\x0a'),_0x22a67b+='\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.',await this['sendShopNotification'](_0x3e7ee8,_0x22a67b,{'parse_mode':_0x28f9c0(0x199)}),console['log'](_0x28f9c0(0x20c)+_0x3e7ee8+':\x20'+_0xda1b7c['endpoint']);}catch(_0x3e7a43){console[_0x28f9c0(0x218)](_0x28f9c0(0x1b0),_0x3e7a43);}}async[a49_0xc37915(0x242)](_0x49c50b,_0x30c167,_0x9b6a07){const _0x21aa38=a49_0xc37915;let _0x3a0450='üîî\x20*'+_0x30c167+_0x21aa38(0x1e2);for(const [_0x44d742,_0x39d2b5]of Object[_0x21aa38(0x26f)](_0x9b6a07)){_0x39d2b5!==null&&_0x39d2b5!==undefined&&(_0x3a0450+=_0x44d742+_0x21aa38(0x263)+_0x39d2b5+'`\x0a');}await this[_0x21aa38(0x18d)](_0x49c50b,_0x3a0450,{'parse_mode':_0x21aa38(0x199)});}[a49_0xc37915(0x240)](){const _0x161096=a49_0xc37915;return{'isActive':!!this[_0x161096(0x1b7)],'username':this['botUsername']};}[a49_0xc37915(0x20a)](){const _0x15e025=a49_0xc37915;this['bot']&&(this[_0x15e025(0x1b7)][_0x15e025(0x1f6)](),this[_0x15e025(0x1b7)]=null,console[_0x15e025(0x1c6)](_0x15e025(0x1ff)));}}exports[a49_0xc37915(0x1d8)]=TelegramBotService,exports['telegramBotService']=new TelegramBotService();