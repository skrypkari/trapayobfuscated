'use strict';const a48_0x2f5b4c=a48_0x192a;(function(_0x34ef27,_0x219a9d){const _0x1c6db8=a48_0x192a,_0x3a99c7=_0x34ef27();while(!![]){try{const _0x373212=parseInt(_0x1c6db8(0x164))/0x1+parseInt(_0x1c6db8(0x183))/0x2+parseInt(_0x1c6db8(0x13a))/0x3+parseInt(_0x1c6db8(0x1be))/0x4+parseInt(_0x1c6db8(0x1f4))/0x5*(parseInt(_0x1c6db8(0x1b3))/0x6)+parseInt(_0x1c6db8(0x1f0))/0x7+-parseInt(_0x1c6db8(0x195))/0x8*(parseInt(_0x1c6db8(0x162))/0x9);if(_0x373212===_0x219a9d)break;else _0x3a99c7['push'](_0x3a99c7['shift']());}catch(_0x5008e1){_0x3a99c7['push'](_0x3a99c7['shift']());}}}(a48_0x1fd7,0x4383b));function a48_0x1fd7(){const _0x1d234d=['–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏–ª–∏\x20–Ω–∞—á–Ω–∏—Ç–µ\x20–∑–∞–Ω–æ–≤–æ\x20—Å\x20–∫–æ–º–∞–Ω–¥—ã\x20/start\x0a\x0a','txid','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`','notificationLogin','üõë\x20Telegram\x20bot\x20stopped','sk_','userAgent','\x20\x20\x20Public\x20Key:\x20`','üÜî\x20ID\x20–ø–ª–∞—Ç–µ–∂–∞:\x20`','handleApiKeyVerification','bot','‚úÖ\x20Notification\x20sent\x20to\x20Telegram\x20user\x20','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–Ω–∞—á–∞–ª–∞\x20—Ä–∞–±–æ—Ç—ã.','‚úÖ\x20Login\x20notification\x20sent\x20for\x20shop\x20','errorMessage','polling_error','üí∏\x20–°—É–º–º–∞:\x20*','435519dcKdoz','‚úÖ\x20Username\x20`','üè™\x20–®–ª—é–∑:\x20`','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20username.\x0a\x0a','createdAt','\x20verified\x20for\x20shop\x20','includes','toUpperCase','__importDefault','create','success','map','–ü–ª–∞—Ç–µ–∂\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω','API\x20–∫–ª—é—á\x20–¥–æ–ª–∂–µ–Ω\x20–Ω–∞—á–∏–Ω–∞—Ç—å—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`.','‚úÖ\x20–ü–æ–¥–∫–ª—é—á–µ–Ω\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','defineProperty','‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a','Failed\x20to\x20send\x20API\x20error\x20notification:','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20API\x20–∫–ª—é—á–∞.\x0a\x0a','üì±\x20Login\x20notifications\x20disabled\x20for\x20shop\x20','\x20via\x20multiline\x20input','–ü–ª–∞—Ç–µ–∂\x20—É—Å–ø–µ—à–Ω–æ\x20–æ–ø–ª–∞—á–µ–Ω','ru-RU',':\x20`','TelegramBotService','endpoint','statusCode','secretKey','*.\x0a\x0a','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–∏–ª–∏\x20/disconnect\x20–¥–ª—è\x20–æ—Ç–∫–ª—é—á–µ–Ω–∏—è.','toString','shopId','substring','üì±\x20Created\x20new\x20Telegram\x20user:\x20','`\x20–Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\x0a\x0a','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/start\x20–¥–ª—è\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.','\x20disconnected\x20from\x20shop\x20','–ù–µ—É–¥–∞—á–Ω–∞—è\x20–ø–æ–ø—ã—Ç–∫–∞\x20–≤—Ö–æ–¥–∞','initializeBot','handleUsernameVerification','210447eCqmDc','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20`','450415GIogwn','‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a','üîÑ\x20Processing\x20multiline\x20verification\x20for\x20user\x20','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∫–ª—é—á–∞\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.\x0a\x0a','üîå\x20User\x20','ACTIVE','‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*','telegramUser','/status\x20-\x20–ø—Ä–æ–≤–µ—Ä–∏—Ç—å\x20—Å—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x0a','Error\x20handling\x20message:','üìä\x20–ö–æ–¥\x20–æ—à–∏–±–∫–∏:\x20`','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a','–ß–∞—Ä–¥–∂–±—ç–∫\x20–ø–æ\x20–ø–ª–∞—Ç–µ–∂—É','sendMessage','No\x20verified\x20Telegram\x20users\x20found\x20for\x20shop\x20','‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–æ—Ç–∫–ª—é—á–µ–Ω—ã\x20–æ—Ç\x20–º–∞–≥–∞–∑–∏–Ω–∞\x20*','forEach','`pk_aa6450d3f57afbefbb0f3f5be5ce6cca13037536afc5ccf14c81a6cbc7a07de5`\x0a\x0a','...','`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a','–û–∂–∏–¥–∞–µ–º—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–∫–ª—é—á–∞:\x20`pk_...`\x20–∏–ª–∏\x20`sk_...`','\x20marked\x20as\x20unverified\x20due\x20to\x20delivery\x20failure','botUsername','/disconnect\x20-\x20–æ—Ç–∫–ª—é—á–∏—Ç—å—Å—è\x20–æ—Ç\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20API\x20–∫–ª—é—á–∞.','Username\x20–¥–æ–ª–∂–µ–Ω\x20—Å–æ–¥–µ—Ä–∂–∞—Ç—å\x20—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ\x20(3-50\x20—Å–∏–º–≤–æ–ª–æ–≤).','ipAddress','‚Ä¢\x20`','sendPayoutNotification','üìù\x20Temporary\x20shop\x20association\x20created\x20for\x20user\x20','üîó\x20Endpoint:\x20`','964256LnxdlJ','‚úÖ\x20API\x20error\x20notification\x20sent\x20for\x20shop\x20','üîî\x20–¢–µ–ø–µ—Ä—å\x20–≤—ã\x20–±—É–¥–µ—Ç–µ\x20–ø–æ–ª—É—á–∞—Ç—å\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','toLocaleString','üìÖ\x20–î–∞—Ç–∞:\x20','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','–ú–∞–≥–∞–∑–∏–Ω:\x20*','method','–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20/status\x20–¥–ª—è\x20–ø—Ä–æ–≤–µ—Ä–∫–∏\x20—Å—Ç–∞—Ç—É—Å–∞.','–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏:\x0a\x0a','\x22,\x20apiKey=\x22','üìÖ\x20–î–∞—Ç–∞\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:\x20','toLocaleDateString','startsWith','üö®\x20*–û—à–∏–±–∫–∞\x20API*\x0a\x0a','‚úÖ\x20Telegram\x20user\x20','chat','–ü–æ—Ä—è–¥–æ–∫:\x0a','520nFPule','`\x20–Ω–µ\x20–Ω–∞–π–¥–µ–Ω.\x0a\x0a','–¢–µ–ø–µ—Ä—å\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x20(–ø—É–±–ª–∏—á–Ω—ã–π\x20–∏–ª–∏\x20—Å–µ–∫—Ä–µ—Ç–Ω—ã–π\x20–∫–ª—é—á,\x20–Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è\x20—Å\x20`pk\x5c_`\x20–∏–ª–∏\x20`sk\x5c_`)','telegramId','*\x0a\x0a',':\x20username=\x22','‚Ä¢\x20–ù–æ–≤—ã—Ö\x20–ø–ª–∞—Ç–µ–∂–∞—Ö\x0a','‚ùå\x20–ö\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','text','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20username:\x20`','–°–æ–∑–¥–∞–Ω–∞\x20–Ω–æ–≤–∞—è\x20–≤—ã–ø–ª–∞—Ç–∞','\x20(@','Error\x20handling\x20/start\x20command:','üí∞\x20–°—É–º–º–∞:\x20*','../config/database','Error\x20in\x20handleApiKeyVerification:','–í–æ–∑–≤—Ä–∞—Ç\x20–ø–ª–∞—Ç–µ–∂–∞','–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É:\x20*','ü§ñ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–≤\x20—Å–∏—Å—Ç–µ–º—É\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20TesSoft\x20Payment!\x0a\x0a','Error\x20in\x20handleMultilineVerification:','Failed\x20to\x20send\x20login\x20notification:','telegramBotService','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a\x0a','Markdown','1Ô∏è‚É£\x20Username\x0a','\x0a–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','–ü–æ–∂–∞–ª—É–π—Å—Ç–∞,\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ:\x0a','üîî\x20*','`\x0a\x0a','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20username.','36726LaOAbJ','status','handleMultilineVerification','‚ùå\x20Failed\x20to\x20initialize\x20Telegram\x20bot:','from','allSettled','error','‚ùå\x20API\x20–∫–ª—é—á\x20–Ω–µ\x20—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç\x20–º–∞–≥–∞–∑–∏–Ω—É\x20`','env',',\x20reset\x20shop\x20association','gateway','590712DwTzev','findMany','amount','timestamp','Error\x20handling\x20/status\x20command:','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.','trim','notificationApiError','publicKey','üíª\x20–ë—Ä–∞—É–∑–µ—Ä:\x20`','Telegram\x20bot\x20error:','node-telegram-bot-api','sendPaymentNotification','Telegram\x20bot\x20not\x20initialized,\x20cannot\x20send\x20notification','entries','test','‚úÖ\x20–î–æ–±—Ä–æ\x20–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å\x20–æ–±—Ä–∞—Ç–Ω–æ!\x0a\x0a','...`\x0a\x0a','`\x20(','–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20username\x20–∏\x20API\x20–∫–ª—é—á\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏\x20–∏–ª–∏\x20–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏\x20—Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.\x0a\x0a','üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a','shop','–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20username:\x0a','sendShopNotification','botToken','\x0aüí°\x20–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–∑–∞–ø—Ä–æ—Å–∞\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–≤\x20–ø–æ–¥–¥–µ—Ä–∂–∫—É.','–£—Å–ø–µ—à–Ω—ã–π\x20–≤—Ö–æ–¥\x20–≤\x20—Å–∏—Å—Ç–µ–º—É','last_name','–î–ª—è\x20–ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','findUnique','name','\x0a‚ö†Ô∏è\x20–ï—Å–ª–∏\x20—ç—Ç–æ\x20–Ω–µ\x20–≤—ã,\x20–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\x20—Å–º–µ–Ω–∏—Ç–µ\x20–ø–∞—Ä–æ–ª—å!','üë§\x20Username:\x20`','findFirst','default','...\x22','sendLoginNotification','‚ùå\x20–°–Ω–∞—á–∞–ª–∞\x20–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ\x20–∫–æ–º–∞–Ω–¥—É\x20/start','‚ùå\x20Invalid\x20API\x20key\x20for\x20user\x20','üìä\x20*–°—Ç–∞—Ç—É—Å\x20–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è*\x0a\x0a','üîç\x20*–û—Ç–ª–∞–¥–æ—á–Ω–∞—è\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è*\x0a\x0a','chargebackAmount','1Ô∏è‚É£\x20–û—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*username*\x20(–ª–æ–≥–∏–Ω\x20–æ—Ç\x20–ø–∞–Ω–µ–ª–∏)\x0a','üè™\x20–î–æ—Å—Ç—É–ø–Ω—ã–µ\x20–º–∞–≥–∞–∑–∏–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ:\x0a','\x20USDT*\x0a','isVerified','‚ùå\x20–í—ã\x20–Ω–µ\x20–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã\x20–≤\x20—Å–∏—Å—Ç–µ–º–µ.\x0a\x0a','message','username','–í—ã–ø–ª–∞—Ç–∞\x20–∑–∞–≤–µ—Ä—à–µ–Ω–∞','826602kmqJyi','\x20with\x20shop\x20','Error\x20sending\x20shop\x20notification:','Telegram\x20bot\x20polling\x20error:','370DtZUrW','__esModule','chargeback','User\x20','‚ùå\x20–û—à–∏–±–∫–∞:\x20`','getBotInfo','–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','üÜî\x20ID\x20–≤—ã–ø–ª–∞—Ç—ã:\x20`','Error\x20handling\x20/disconnect\x20command:','üîÑ\x20Processing\x20API\x20key\x20verification\x20for\x20user\x20','Username:\x20`','pk_','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–≤–∞—à\x20API\x20–∫–ª—é—á\x20(–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\x20—Å\x20pk\x5c_\x20–∏–ª–∏\x20sk\x5c_)\x0a\x0a','–î–ª—è\x20–ø–æ–ª—É—á–µ–Ω–∏—è\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π\x20–æ\x20–ø–ª–∞—Ç–µ–∂–∞—Ö,\x20–ø–æ–∂–∞–ª—É–π—Å—Ç–∞:\x0a\x0a','‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`','–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.','–ü—Ä–∏–º–µ—Ä:\x0a','requestId','–í—ã–ø–ª–∞—Ç–∞\x20–æ—Ç–∫–ª–æ–Ω–µ–Ω–∞','üìÖ\x20–í—Ä–µ–º—è:\x20','update','2Ô∏è‚É£\x20–ó–∞—Ç–µ–º\x20–æ—Ç–ø—Ä–∞–≤—å—Ç–µ\x20–≤–∞—à\x20*API\x20–∫–ª—é—á*\x0a\x0a','2Ô∏è‚É£\x20API\x20–∫–ª—é—á','length','üåê\x20IP\x20–∞–¥—Ä–µ—Å:\x20`','filter','onText','–ö–æ–º–∞–Ω–¥—ã:\x0a','orderId','üîî\x20–í—ã\x20–ø–æ–ª—É—á–∞–µ—Ç–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–æ:\x0a','shopSettings','‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a','adminNotes','setupBotHandlers','Error\x20in\x20handleUsernameVerification:','`\x20–Ω–∞–π–¥–µ–Ω!\x0a\x0a','‚ùå\x20–í—ã\x20–Ω–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É.\x0a\x0a','‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a','üìù\x20–ó–∞–º–µ—Ç–∫–∏:\x20',':\x20apiKey=\x22','log','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π','–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π\x20–º–∞–≥–∞–∑–∏–Ω','–ü—Ä–æ–≤–µ—Ä—å—Ç–µ\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å\x20–Ω–∞–ø–∏—Å–∞–Ω–∏—è\x20–∏\x20–ø–æ–ø—Ä–æ–±—É–π—Ç–µ\x20—Å–Ω–æ–≤–∞.','first_name','warn','sendCustomNotification','chat\x20not\x20found','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø—Ä–æ–≤–µ—Ä–∫–µ\x20–¥–∞–Ω–Ω—ã—Ö.','‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞.\x20–ü–æ–ø—Ä–æ–±—É–π—Ç–µ\x20–ø–æ–∑–∂–µ.'];a48_0x1fd7=function(){return _0x1d234d;};return a48_0x1fd7();}function a48_0x192a(_0x584971,_0x5ddbea){const _0x1fd795=a48_0x1fd7();return a48_0x192a=function(_0x192a67,_0x4fbc3e){_0x192a67=_0x192a67-0x106;let _0x5b615d=_0x1fd795[_0x192a67];return _0x5b615d;},a48_0x192a(_0x584971,_0x5ddbea);}var __importDefault=this&&this[a48_0x2f5b4c(0x142)]||function(_0x315271){return _0x315271&&_0x315271['__esModule']?_0x315271:{'default':_0x315271};};Object[a48_0x2f5b4c(0x149)](exports,a48_0x2f5b4c(0x1f5),{'value':!![]}),exports['telegramBotService']=exports[a48_0x2f5b4c(0x152)]=void 0x0;const node_telegram_bot_api_1=__importDefault(require(a48_0x2f5b4c(0x1c9))),database_1=__importDefault(require(a48_0x2f5b4c(0x1a3)));class TelegramBotService{constructor(){const _0x25edd6=a48_0x2f5b4c;this[_0x25edd6(0x133)]=null,this[_0x25edd6(0x1d6)]=process[_0x25edd6(0x1bb)]['TELEGRAM_BOT_TOKEN']||'',this[_0x25edd6(0x17a)]=process['env']['TELEGRAM_BOT_USERNAME']||'trapay_bot',this[_0x25edd6(0x1d6)]?this[_0x25edd6(0x160)]():console[_0x25edd6(0x124)]('TELEGRAM_BOT_TOKEN\x20not\x20found\x20in\x20environment\x20variables');}[a48_0x2f5b4c(0x160)](){const _0x33378f=a48_0x2f5b4c;try{this[_0x33378f(0x133)]=new node_telegram_bot_api_1[(_0x33378f(0x1e0))](this[_0x33378f(0x1d6)],{'polling':!![]}),this[_0x33378f(0x118)](),console[_0x33378f(0x11f)]('‚úÖ\x20Telegram\x20bot\x20@'+this[_0x33378f(0x17a)]+'\x20initialized\x20successfully');}catch(_0x1939c7){console[_0x33378f(0x1b9)](_0x33378f(0x1b6),_0x1939c7);}}[a48_0x2f5b4c(0x118)](){const _0x35152a=a48_0x2f5b4c;if(!this[_0x35152a(0x133)])return;this[_0x35152a(0x133)][_0x35152a(0x111)](/\/start/,async _0x2227c7=>{const _0x1d6a2f=_0x35152a,_0x147fc4=_0x2227c7[_0x1d6a2f(0x193)]['id'],_0x45691e=_0x2227c7['from']?.['id']['toString'](),_0x196705=_0x2227c7[_0x1d6a2f(0x1b7)]?.[_0x1d6a2f(0x1ee)],_0xe57efa=_0x2227c7[_0x1d6a2f(0x1b7)]?.[_0x1d6a2f(0x123)],_0xeab82=_0x2227c7['from']?.[_0x1d6a2f(0x1d9)];if(!_0x45691e)return;try{let _0x7f3410=await database_1['default']['telegramUser']['findUnique']({'where':{'telegramId':_0x45691e},'include':{'shop':!![]}});!_0x7f3410?(_0x7f3410=await database_1[_0x1d6a2f(0x1e0)][_0x1d6a2f(0x16b)][_0x1d6a2f(0x143)]({'data':{'telegramId':_0x45691e,'username':_0x196705,'firstName':_0xe57efa,'lastName':_0xeab82,'isVerified':![],'shopId':null},'include':{'shop':!![]}}),console[_0x1d6a2f(0x11f)](_0x1d6a2f(0x15b)+_0x45691e+_0x1d6a2f(0x1a0)+_0x196705+')')):_0x7f3410=await database_1[_0x1d6a2f(0x1e0)][_0x1d6a2f(0x16b)][_0x1d6a2f(0x10b)]({'where':{'telegramId':_0x45691e},'data':{'username':_0x196705,'firstName':_0xe57efa,'lastName':_0xeab82},'include':{'shop':!![]}}),_0x7f3410[_0x1d6a2f(0x1eb)]&&_0x7f3410[_0x1d6a2f(0x159)]&&_0x7f3410['shop']?await this[_0x1d6a2f(0x133)]?.[_0x1d6a2f(0x171)](_0x147fc4,_0x1d6a2f(0x1ce)+(_0x1d6a2f(0x1a6)+_0x7f3410[_0x1d6a2f(0x1d3)][_0x1d6a2f(0x1dc)]+'*\x0a')+(_0x1d6a2f(0x1fe)+_0x7f3410[_0x1d6a2f(0x1d3)][_0x1d6a2f(0x1ee)]+'`\x0a\x0a')+_0x1d6a2f(0x114)+_0x1d6a2f(0x19b)+_0x1d6a2f(0x165)+_0x1d6a2f(0x1ab)+_0x1d6a2f(0x112)+_0x1d6a2f(0x16c)+_0x1d6a2f(0x17b),{'parse_mode':_0x1d6a2f(0x1ac)}):(_0x7f3410['shopId']&&!_0x7f3410[_0x1d6a2f(0x1eb)]&&(await database_1[_0x1d6a2f(0x1e0)][_0x1d6a2f(0x16b)][_0x1d6a2f(0x10b)]({'where':{'telegramId':_0x45691e},'data':{'shopId':null,'isVerified':![]}}),console[_0x1d6a2f(0x11f)]('üîÑ\x20Reset\x20incomplete\x20verification\x20for\x20user\x20'+_0x45691e)),await this['bot']?.['sendMessage'](_0x147fc4,_0x1d6a2f(0x1a7)+_0x1d6a2f(0x201)+_0x1d6a2f(0x1e8)+_0x1d6a2f(0x10c)+_0x1d6a2f(0x18c)+'–ü—Ä–∏–º–µ—Ä:\x0a'+'`appple`\x0a'+_0x1d6a2f(0x175)+'‚ùóÔ∏è\x20–£–±–µ–¥–∏—Ç–µ—Å—å,\x20—á—Ç–æ\x20–æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ\x20–¥–∞–Ω–Ω—ã–µ\x20–≤\x20–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º\x20–ø–æ—Ä—è–¥–∫–µ!',{'parse_mode':_0x1d6a2f(0x1ac)}));}catch(_0x4b0f61){console[_0x1d6a2f(0x1b9)](_0x1d6a2f(0x1a1),_0x4b0f61),await this['bot']?.[_0x1d6a2f(0x171)](_0x147fc4,_0x1d6a2f(0x128));}}),this[_0x35152a(0x133)][_0x35152a(0x111)](/\/disconnect/,async _0x451468=>{const _0x583368=_0x35152a,_0x63718d=_0x451468['chat']['id'],_0x275cd9=_0x451468[_0x583368(0x1b7)]?.['id'][_0x583368(0x158)]();if(!_0x275cd9)return;try{const _0x3c2d09=await database_1['default'][_0x583368(0x16b)][_0x583368(0x1db)]({'where':{'telegramId':_0x275cd9},'include':{'shop':!![]}});if(!_0x3c2d09||!_0x3c2d09[_0x583368(0x1eb)]||!_0x3c2d09[_0x583368(0x159)]){await this['bot']?.[_0x583368(0x171)](_0x63718d,_0x583368(0x1c3));return;}const _0xf571d1=_0x3c2d09[_0x583368(0x1d3)]?.['name']||_0x583368(0x121);await database_1[_0x583368(0x1e0)][_0x583368(0x16b)][_0x583368(0x10b)]({'where':{'telegramId':_0x275cd9},'data':{'shopId':null,'isVerified':![]}}),console[_0x583368(0x11f)](_0x583368(0x168)+_0x275cd9+_0x583368(0x15e)+_0x3c2d09[_0x583368(0x159)]),await this[_0x583368(0x133)]?.['sendMessage'](_0x63718d,_0x583368(0x173)+_0xf571d1+_0x583368(0x156)+_0x583368(0x1da),{'parse_mode':_0x583368(0x1ac)});}catch(_0x44b987){console[_0x583368(0x1b9)](_0x583368(0x1fc),_0x44b987),await this[_0x583368(0x133)]?.['sendMessage'](_0x63718d,_0x583368(0x128));}}),this[_0x35152a(0x133)][_0x35152a(0x111)](/\/status/,async _0x37113d=>{const _0x40adb0=_0x35152a,_0x34af25=_0x37113d[_0x40adb0(0x193)]['id'],_0x55525e=_0x37113d[_0x40adb0(0x1b7)]?.['id'][_0x40adb0(0x158)]();if(!_0x55525e)return;try{const _0x1563b6=await database_1[_0x40adb0(0x1e0)]['telegramUser'][_0x40adb0(0x1db)]({'where':{'telegramId':_0x55525e},'include':{'shop':!![]}});if(!_0x1563b6){await this[_0x40adb0(0x133)]?.[_0x40adb0(0x171)](_0x34af25,_0x40adb0(0x1ec)+_0x40adb0(0x135));return;}if(!_0x1563b6[_0x40adb0(0x1eb)]||!_0x1563b6[_0x40adb0(0x159)]||!_0x1563b6[_0x40adb0(0x1d3)]){await this[_0x40adb0(0x133)]?.[_0x40adb0(0x171)](_0x34af25,_0x40adb0(0x11b)+_0x40adb0(0x15d));return;}await this[_0x40adb0(0x133)]?.[_0x40adb0(0x171)](_0x34af25,_0x40adb0(0x1e5)+(_0x40adb0(0x148)+_0x1563b6['shop'][_0x40adb0(0x1dc)]+'*\x0a')+('üë§\x20Username:\x20`'+_0x1563b6[_0x40adb0(0x1d3)][_0x40adb0(0x1ee)]+'`\x0a')+(_0x40adb0(0x18e)+_0x1563b6['updatedAt'][_0x40adb0(0x18f)](_0x40adb0(0x150))+'\x0a\x0a')+'üîî\x20–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\x20–∞–∫—Ç–∏–≤–Ω—ã\x0a\x0a'+_0x40adb0(0x112)+_0x40adb0(0x17b),{'parse_mode':_0x40adb0(0x1ac)});}catch(_0x1a5f4c){console[_0x40adb0(0x1b9)](_0x40adb0(0x1c2),_0x1a5f4c),await this['bot']?.[_0x40adb0(0x171)](_0x34af25,_0x40adb0(0x128));}}),this[_0x35152a(0x133)][_0x35152a(0x111)](/\/debug/,async _0x3eb2df=>{const _0x2f3f2f=_0x35152a,_0x4991da=_0x3eb2df['chat']['id'],_0x3c4328=_0x3eb2df[_0x2f3f2f(0x1b7)]?.['id'][_0x2f3f2f(0x158)]();if(!_0x3c4328)return;try{const _0x52a4a9=await database_1[_0x2f3f2f(0x1e0)][_0x2f3f2f(0x1d3)]['findMany']({'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![]},'take':0xa});let _0x8a4f4a=_0x2f3f2f(0x1e6);_0x8a4f4a+='üì±\x20–í–∞—à\x20Telegram\x20ID:\x20`'+_0x3c4328+_0x2f3f2f(0x1b1),_0x8a4f4a+=_0x2f3f2f(0x1e9),_0x52a4a9[_0x2f3f2f(0x174)]((_0x4d6bf7,_0x2f6e0c)=>{const _0x118c19=_0x2f3f2f;_0x8a4f4a+=_0x2f6e0c+0x1+'.\x20*'+_0x4d6bf7[_0x118c19(0x1dc)]+'*\x0a',_0x8a4f4a+='\x20\x20\x20Username:\x20`'+_0x4d6bf7[_0x118c19(0x1ee)]+'`\x0a',_0x8a4f4a+='\x20\x20\x20Status:\x20'+_0x4d6bf7[_0x118c19(0x1b4)]+'\x0a',_0x8a4f4a+=_0x118c19(0x130)+_0x4d6bf7[_0x118c19(0x1c6)][_0x118c19(0x15a)](0x0,0xf)+_0x118c19(0x1cf);}),await this[_0x2f3f2f(0x133)]?.[_0x2f3f2f(0x171)](_0x4991da,_0x8a4f4a,{'parse_mode':'Markdown'});}catch(_0xde06d5){console[_0x2f3f2f(0x1b9)]('Error\x20handling\x20/debug\x20command:',_0xde06d5),await this[_0x2f3f2f(0x133)]?.[_0x2f3f2f(0x171)](_0x4991da,'‚ùå\x20–ü—Ä–æ–∏–∑–æ—à–ª–∞\x20–æ—à–∏–±–∫–∞\x20–ø—Ä–∏\x20–ø–æ–ª—É—á–µ–Ω–∏–∏\x20–æ—Ç–ª–∞–¥–æ—á–Ω–æ–π\x20–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.');}}),this[_0x35152a(0x133)]['on'](_0x35152a(0x1ed),async _0x5078e6=>{const _0x25b1d5=_0x35152a;if(_0x5078e6[_0x25b1d5(0x19d)]?.[_0x25b1d5(0x190)]('/'))return;const _0xcdcbc=_0x5078e6[_0x25b1d5(0x193)]['id'],_0x5f345a=_0x5078e6[_0x25b1d5(0x1b7)]?.['id'][_0x25b1d5(0x158)](),_0x2410af=_0x5078e6[_0x25b1d5(0x19d)]?.[_0x25b1d5(0x1c4)]();if(!_0x5f345a||!_0x2410af)return;try{const _0x362591=await database_1[_0x25b1d5(0x1e0)][_0x25b1d5(0x16b)]['findUnique']({'where':{'telegramId':_0x5f345a},'include':{'shop':!![]}});if(!_0x362591){await this[_0x25b1d5(0x133)]?.[_0x25b1d5(0x171)](_0xcdcbc,_0x25b1d5(0x1e3));return;}if(_0x362591[_0x25b1d5(0x1eb)]&&_0x362591[_0x25b1d5(0x159)]&&_0x362591[_0x25b1d5(0x1d3)]){await this['bot']?.['sendMessage'](_0xcdcbc,'‚úÖ\x20–í—ã\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20–º–∞–≥–∞–∑–∏–Ω—É\x20*'+_0x362591[_0x25b1d5(0x1d3)][_0x25b1d5(0x1dc)]+_0x25b1d5(0x156)+_0x25b1d5(0x157),{'parse_mode':_0x25b1d5(0x1ac)});return;}const _0x1fda92=_0x2410af['split']('\x0a')[_0x25b1d5(0x145)](_0x2b015f=>_0x2b015f['trim']())[_0x25b1d5(0x110)](_0x3d394e=>_0x3d394e['length']>0x0);if(_0x1fda92[_0x25b1d5(0x10e)]===0x2){const [_0xd44bad,_0x5e9eec]=_0x1fda92;await this[_0x25b1d5(0x1b5)](_0xcdcbc,_0x5f345a,_0xd44bad,_0x5e9eec);}else{if(_0x1fda92[_0x25b1d5(0x10e)]===0x1){const _0x1b161d=_0x1fda92[0x0];if(_0x1b161d['length']>=0x3&&_0x1b161d[_0x25b1d5(0x10e)]<=0x32&&/^[a-zA-Z0-9_]+$/[_0x25b1d5(0x1cd)](_0x1b161d))await this[_0x25b1d5(0x161)](_0xcdcbc,_0x5f345a,_0x1b161d);else _0x1b161d[_0x25b1d5(0x190)](_0x25b1d5(0x1ff))||_0x1b161d['startsWith'](_0x25b1d5(0x12e))?await this[_0x25b1d5(0x132)](_0xcdcbc,_0x5f345a,_0x1b161d):await this[_0x25b1d5(0x133)]?.[_0x25b1d5(0x171)](_0xcdcbc,'‚ùå\x20–ù–µ–≤–µ—Ä–Ω—ã–π\x20—Ñ–æ—Ä–º–∞—Ç\x20–¥–∞–Ω–Ω—ã—Ö.\x0a\x0a'+_0x25b1d5(0x1af)+'1Ô∏è‚É£\x20–°–Ω–∞—á–∞–ª–∞\x20–≤–∞—à\x20username\x20(—Ç–æ–ª—å–∫–æ\x20–±—É–∫–≤—ã,\x20—Ü–∏—Ñ—Ä—ã\x20–∏\x20–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ)\x0a'+_0x25b1d5(0x200)+'–í—ã\x20–º–æ–∂–µ—Ç–µ\x20–æ—Ç–ø—Ä–∞–≤–∏—Ç—å\x20–∏—Ö\x20–≤\x20–æ–¥–Ω–æ–º\x20—Å–æ–æ–±—â–µ–Ω–∏–∏\x20—á–µ—Ä–µ–∑\x20–ø–µ—Ä–µ–Ω–æ—Å\x20—Å—Ç—Ä–æ–∫–∏:\x0a'+'`appple`\x0a'+_0x25b1d5(0x12b),{'parse_mode':_0x25b1d5(0x1ac)});}else await this[_0x25b1d5(0x133)]?.[_0x25b1d5(0x171)](_0xcdcbc,_0x25b1d5(0x11c)+_0x25b1d5(0x1d1)+_0x25b1d5(0x107)+'`appple`\x0a'+_0x25b1d5(0x12b),{'parse_mode':'Markdown'});}}catch(_0x48a2b6){console[_0x25b1d5(0x1b9)](_0x25b1d5(0x16d),_0x48a2b6),await this['bot']?.[_0x25b1d5(0x171)](_0xcdcbc,_0x25b1d5(0x128));}}),this['bot']['on'](_0x35152a(0x1b9),_0x5c437b=>{const _0x3ca48a=_0x35152a;console[_0x3ca48a(0x1b9)](_0x3ca48a(0x1c8),_0x5c437b);}),this[_0x35152a(0x133)]['on'](_0x35152a(0x138),_0x444226=>{const _0x536c42=_0x35152a;console[_0x536c42(0x1b9)](_0x536c42(0x1f3),_0x444226);});}async[a48_0x2f5b4c(0x1b5)](_0x5de9f1,_0x47f9e5,_0x57fdee,_0x24e160){const _0x308561=a48_0x2f5b4c;try{console[_0x308561(0x11f)](_0x308561(0x166)+_0x47f9e5+':\x20username=\x22'+_0x57fdee+_0x308561(0x18d)+_0x24e160[_0x308561(0x15a)](0x0,0xa)+'...\x22');if(!_0x57fdee||_0x57fdee[_0x308561(0x10e)]<0x3||_0x57fdee[_0x308561(0x10e)]>0x32||!/^[a-zA-Z0-9_]+$/[_0x308561(0x1cd)](_0x57fdee)){await this[_0x308561(0x133)]?.[_0x308561(0x171)](_0x5de9f1,_0x308561(0x19e)+_0x57fdee+_0x308561(0x1b1)+_0x308561(0x17d),{'parse_mode':_0x308561(0x1ac)});return;}if(!_0x24e160||!_0x24e160[_0x308561(0x190)](_0x308561(0x1ff))&&!_0x24e160['startsWith']('sk_')){await this[_0x308561(0x133)]?.['sendMessage'](_0x5de9f1,_0x308561(0x14c)+_0x308561(0x147),{'parse_mode':_0x308561(0x1ac)});return;}const _0xff69cc=await database_1['default'][_0x308561(0x1d3)][_0x308561(0x1db)]({'where':{'username':_0x57fdee},'select':{'id':!![],'name':!![],'username':!![],'status':!![],'publicKey':!![],'secretKey':!![]}});if(!_0xff69cc){const _0x87bb1e=await database_1[_0x308561(0x1e0)]['shop']['findMany']({'select':{'username':!![],'name':!![]},'take':0x5});let _0x1aa44d=_0x308561(0x202)+_0x57fdee+_0x308561(0x196);_0x87bb1e['length']>0x0?(_0x1aa44d+=_0x308561(0x1d4),_0x87bb1e[_0x308561(0x174)](_0x2c19ea=>{const _0x5d84d5=_0x308561;_0x1aa44d+=_0x5d84d5(0x17f)+_0x2c19ea['username']+_0x5d84d5(0x1d0)+_0x2c19ea[_0x5d84d5(0x1dc)]+')\x0a';}),_0x1aa44d+=_0x308561(0x1ae)):_0x1aa44d+=_0x308561(0x122);await this[_0x308561(0x133)]?.['sendMessage'](_0x5de9f1,_0x1aa44d,{'parse_mode':_0x308561(0x1ac)});return;}if(_0xff69cc[_0x308561(0x1b4)]!==_0x308561(0x169)){await this[_0x308561(0x133)]?.['sendMessage'](_0x5de9f1,_0x308561(0x163)+_0x57fdee+_0x308561(0x15c)+'–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':'Markdown'});return;}if(_0xff69cc[_0x308561(0x1c6)]!==_0x24e160&&_0xff69cc[_0x308561(0x155)]!==_0x24e160){await this[_0x308561(0x133)]?.[_0x308561(0x171)](_0x5de9f1,_0x308561(0x1ba)+_0x57fdee+'`.\x0a\x0a'+_0x308561(0x167)+_0x308561(0x178),{'parse_mode':_0x308561(0x1ac)});return;}const _0x55dc09=await database_1[_0x308561(0x1e0)][_0x308561(0x16b)]['findFirst']({'where':{'shopId':_0xff69cc['id'],'isVerified':!![],'telegramId':{'not':_0x47f9e5}}});if(_0x55dc09){await this['bot']?.['sendMessage'](_0x5de9f1,_0x308561(0x19c)+_0x57fdee+_0x308561(0x177)+_0x308561(0x106),{'parse_mode':_0x308561(0x1ac)});return;}await database_1['default']['telegramUser'][_0x308561(0x10b)]({'where':{'telegramId':_0x47f9e5},'data':{'shopId':_0xff69cc['id'],'isVerified':!![]}}),await this['bot']?.[_0x308561(0x171)](_0x5de9f1,_0x308561(0x1d2)+_0x308561(0x16f)+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0xff69cc[_0x308561(0x1dc)]+'*\x0a')+('üë§\x20Username:\x20`'+_0xff69cc[_0x308561(0x1ee)]+_0x308561(0x1b1))+_0x308561(0x185)+_0x308561(0x19b)+_0x308561(0x165)+_0x308561(0x116)+_0x308561(0x14a)+_0x308561(0x112)+_0x308561(0x16c)+_0x308561(0x17b),{'parse_mode':'Markdown'}),console[_0x308561(0x11f)](_0x308561(0x192)+_0x47f9e5+_0x308561(0x13f)+_0xff69cc[_0x308561(0x1ee)]+_0x308561(0x14e));}catch(_0x124c1b){console[_0x308561(0x1b9)](_0x308561(0x1a8),_0x124c1b),await this['bot']?.[_0x308561(0x171)](_0x5de9f1,_0x308561(0x127));}}async[a48_0x2f5b4c(0x161)](_0x33c232,_0x168b09,_0x51a135){const _0xda6807=a48_0x2f5b4c;try{console['log']('üîÑ\x20Processing\x20username\x20verification\x20for\x20user\x20'+_0x168b09+_0xda6807(0x19a)+_0x51a135+'\x22');const _0x507792=await database_1[_0xda6807(0x1e0)][_0xda6807(0x1d3)][_0xda6807(0x1db)]({'where':{'username':_0x51a135},'select':{'id':!![],'name':!![],'username':!![],'status':!![]}});if(!_0x507792){const _0x2ec00c=await database_1[_0xda6807(0x1e0)][_0xda6807(0x1d3)][_0xda6807(0x1bf)]({'select':{'username':!![],'name':!![]},'take':0x5});let _0x20ff57='‚ùå\x20–ú–∞–≥–∞–∑–∏–Ω\x20—Å\x20username\x20`'+_0x51a135+_0xda6807(0x196);_0x2ec00c['length']>0x0?(_0x20ff57+=_0xda6807(0x1d4),_0x2ec00c[_0xda6807(0x174)](_0x413e4b=>{const _0x410b1c=_0xda6807;_0x20ff57+=_0x410b1c(0x17f)+_0x413e4b[_0x410b1c(0x1ee)]+'`\x20('+_0x413e4b[_0x410b1c(0x1dc)]+')\x0a';}),_0x20ff57+=_0xda6807(0x1ae)):_0x20ff57+=_0xda6807(0x122);await this[_0xda6807(0x133)]?.['sendMessage'](_0x33c232,_0x20ff57,{'parse_mode':'Markdown'});return;}if(_0x507792[_0xda6807(0x1b4)]!=='ACTIVE'){await this[_0xda6807(0x133)]?.['sendMessage'](_0x33c232,_0xda6807(0x163)+_0x51a135+_0xda6807(0x15c)+_0xda6807(0x1fa),{'parse_mode':_0xda6807(0x1ac)});return;}await database_1[_0xda6807(0x1e0)][_0xda6807(0x16b)][_0xda6807(0x10b)]({'where':{'telegramId':_0x168b09},'data':{'shopId':_0x507792['id'],'isVerified':![]}}),await this[_0xda6807(0x133)]?.[_0xda6807(0x171)](_0x33c232,_0xda6807(0x13b)+_0x51a135+_0xda6807(0x11a)+(_0xda6807(0x189)+_0x507792['name']+'*\x0a\x0a')+_0xda6807(0x197),{'parse_mode':_0xda6807(0x1ac)}),console[_0xda6807(0x11f)](_0xda6807(0x181)+_0x168b09+_0xda6807(0x1f1)+_0x507792['username']);}catch(_0x496652){console[_0xda6807(0x1b9)](_0xda6807(0x119),_0x496652),await this[_0xda6807(0x133)]?.['sendMessage'](_0x33c232,_0xda6807(0x1b2));}}async[a48_0x2f5b4c(0x132)](_0x5c2b33,_0x1ecb11,_0x59ec98){const _0x5ba7ca=a48_0x2f5b4c;try{console[_0x5ba7ca(0x11f)](_0x5ba7ca(0x1fd)+_0x1ecb11+_0x5ba7ca(0x11e)+_0x59ec98[_0x5ba7ca(0x15a)](0x0,0xa)+_0x5ba7ca(0x1e1));const _0x4a0872=await database_1[_0x5ba7ca(0x1e0)][_0x5ba7ca(0x16b)][_0x5ba7ca(0x1db)]({'where':{'telegramId':_0x1ecb11},'include':{'shop':!![]}});if(!_0x4a0872?.['shopId']){await this[_0x5ba7ca(0x133)]?.[_0x5ba7ca(0x171)](_0x5c2b33,_0x5ba7ca(0x13d)+_0x5ba7ca(0x194)+_0x5ba7ca(0x1ad)+_0x5ba7ca(0x10d));return;}if(_0x4a0872['isVerified']){await this[_0x5ba7ca(0x133)]?.[_0x5ba7ca(0x171)](_0x5c2b33,_0x5ba7ca(0x16a)+(_0x4a0872[_0x5ba7ca(0x1d3)]?.[_0x5ba7ca(0x1dc)]||_0x5ba7ca(0x120))+_0x5ba7ca(0x156)+_0x5ba7ca(0x18b),{'parse_mode':_0x5ba7ca(0x1ac)});return;}const _0x377eba=await database_1['default'][_0x5ba7ca(0x1d3)][_0x5ba7ca(0x1df)]({'where':{'id':_0x4a0872[_0x5ba7ca(0x159)],'OR':[{'publicKey':_0x59ec98},{'secretKey':_0x59ec98}]}});if(!_0x377eba){await this[_0x5ba7ca(0x133)]?.[_0x5ba7ca(0x171)](_0x5c2b33,_0x5ba7ca(0x188)+_0x5ba7ca(0x129)+_0x5ba7ca(0x178),{'parse_mode':'Markdown'}),await database_1[_0x5ba7ca(0x1e0)][_0x5ba7ca(0x16b)][_0x5ba7ca(0x10b)]({'where':{'telegramId':_0x1ecb11},'data':{'shopId':null,'isVerified':![]}}),console[_0x5ba7ca(0x11f)](_0x5ba7ca(0x1e4)+_0x1ecb11+_0x5ba7ca(0x1bc));return;}const _0x122507=await database_1[_0x5ba7ca(0x1e0)][_0x5ba7ca(0x16b)][_0x5ba7ca(0x1df)]({'where':{'shopId':_0x377eba['id'],'isVerified':!![],'telegramId':{'not':_0x1ecb11}}});if(_0x122507){await this[_0x5ba7ca(0x133)]?.['sendMessage'](_0x5c2b33,_0x5ba7ca(0x19c)+_0x377eba[_0x5ba7ca(0x1ee)]+'`\x20—É–∂–µ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω\x20–¥—Ä—É–≥–æ–π\x20Telegram\x20–∞–∫–∫–∞—É–Ω—Ç.\x0a\x0a'+'–°–Ω–∞—á–∞–ª–∞\x20–æ—Ç–∫–ª—é—á–∏—Ç–µ\x20–ø—Ä–µ–¥—ã–¥—É—â–∏–π\x20–∞–∫–∫–∞—É–Ω—Ç\x20–∏–ª–∏\x20–æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å\x20–∫\x20–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.',{'parse_mode':'Markdown'}),await database_1[_0x5ba7ca(0x1e0)]['telegramUser'][_0x5ba7ca(0x10b)]({'where':{'telegramId':_0x1ecb11},'data':{'shopId':null,'isVerified':![]}});return;}await database_1[_0x5ba7ca(0x1e0)]['telegramUser'][_0x5ba7ca(0x10b)]({'where':{'telegramId':_0x1ecb11},'data':{'isVerified':!![]}}),await this[_0x5ba7ca(0x133)]?.[_0x5ba7ca(0x171)](_0x5c2b33,'üéâ\x20*–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!*\x0a\x0a'+'‚úÖ\x20–í—ã\x20—É—Å–ø–µ—à–Ω–æ\x20–ø–æ–¥–∫–ª—é—á–µ–Ω—ã\x20–∫\x20—Å–∏—Å—Ç–µ–º–µ\x20—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π!\x0a\x0a'+('üì±\x20–ú–∞–≥–∞–∑–∏–Ω:\x20*'+_0x377eba[_0x5ba7ca(0x1dc)]+'*\x0a')+(_0x5ba7ca(0x1de)+_0x377eba[_0x5ba7ca(0x1ee)]+_0x5ba7ca(0x1b1))+_0x5ba7ca(0x185)+_0x5ba7ca(0x19b)+'‚Ä¢\x20–ò–∑–º–µ–Ω–µ–Ω–∏–∏\x20—Å—Ç–∞—Ç—É—Å–∞\x20–ø–ª–∞—Ç–µ–∂–µ–π\x0a'+'‚Ä¢\x20–í—ã–ø–ª–∞—Ç–∞—Ö\x0a'+'‚Ä¢\x20–í–∞–∂–Ω—ã—Ö\x20—Å–æ–±—ã—Ç–∏—è—Ö\x0a\x0a'+_0x5ba7ca(0x112)+_0x5ba7ca(0x16c)+_0x5ba7ca(0x17b),{'parse_mode':_0x5ba7ca(0x1ac)}),console[_0x5ba7ca(0x11f)](_0x5ba7ca(0x192)+_0x1ecb11+_0x5ba7ca(0x13f)+_0x377eba['username']);}catch(_0x2cb3b7){console[_0x5ba7ca(0x1b9)](_0x5ba7ca(0x1a4),_0x2cb3b7),await this['bot']?.[_0x5ba7ca(0x171)](_0x5c2b33,_0x5ba7ca(0x17c));}}async[a48_0x2f5b4c(0x1d5)](_0x26e583,_0x595f12,_0x51a0c7){const _0x3d60c2=a48_0x2f5b4c;if(!this[_0x3d60c2(0x133)]){console[_0x3d60c2(0x124)](_0x3d60c2(0x1cb));return;}try{const _0x335e06=await database_1[_0x3d60c2(0x1e0)]['telegramUser']['findMany']({'where':{'shopId':_0x26e583,'isVerified':!![]}});if(_0x335e06[_0x3d60c2(0x10e)]===0x0){console[_0x3d60c2(0x11f)](_0x3d60c2(0x172)+_0x26e583);return;}const _0x5c9e5f=_0x335e06[_0x3d60c2(0x145)](async _0xb14a0e=>{const _0x1ae727=_0x3d60c2;try{await this['bot']?.[_0x1ae727(0x171)](_0xb14a0e[_0x1ae727(0x198)],_0x595f12,_0x51a0c7),console['log'](_0x1ae727(0x134)+_0xb14a0e['telegramId']);}catch(_0x162c8a){console[_0x1ae727(0x1b9)]('‚ùå\x20Failed\x20to\x20send\x20notification\x20to\x20Telegram\x20user\x20'+_0xb14a0e[_0x1ae727(0x198)]+':',_0x162c8a),_0x162c8a instanceof Error&&(_0x162c8a[_0x1ae727(0x1ed)][_0x1ae727(0x140)]('blocked')||_0x162c8a['message'][_0x1ae727(0x140)](_0x1ae727(0x126))||_0x162c8a[_0x1ae727(0x1ed)][_0x1ae727(0x140)]('user\x20is\x20deactivated'))&&(await database_1['default'][_0x1ae727(0x16b)]['update']({'where':{'id':_0xb14a0e['id']},'data':{'isVerified':![]}}),console[_0x1ae727(0x11f)](_0x1ae727(0x1f7)+_0xb14a0e[_0x1ae727(0x198)]+_0x1ae727(0x179)));}});await Promise[_0x3d60c2(0x1b8)](_0x5c9e5f);}catch(_0x533328){console[_0x3d60c2(0x1b9)](_0x3d60c2(0x1f2),_0x533328);}}async[a48_0x2f5b4c(0x1ca)](_0x5b83e2,_0x3dbcbb,_0x522d3b){const _0x3e2590=a48_0x2f5b4c,_0x21110b={'created':'üÜï','paid':'‚úÖ','failed':'‚ùå','expired':'‚è∞','refund':'üîÑ','chargeback':'‚ö†Ô∏è'},_0x24ec6a={'created':'–°–æ–∑–¥–∞–Ω\x20–Ω–æ–≤—ã–π\x20–ø–ª–∞—Ç–µ–∂','paid':_0x3e2590(0x14f),'failed':_0x3e2590(0x146),'expired':'–ü–ª–∞—Ç–µ–∂\x20–∏—Å—Ç–µ–∫','refund':_0x3e2590(0x1a5),'chargeback':_0x3e2590(0x170)},_0x10a1ab=_0x21110b[_0x522d3b],_0x2a0a12=_0x24ec6a[_0x522d3b];let _0x5c9037=_0x10a1ab+'\x20*'+_0x2a0a12+_0x3e2590(0x199)+(_0x3e2590(0x1a2)+_0x3dbcbb[_0x3e2590(0x1c0)]+'\x20'+_0x3dbcbb['currency']+'*\x0a')+('üìù\x20Order\x20ID:\x20`'+(_0x3dbcbb[_0x3e2590(0x113)]||_0x3dbcbb['id'])+'`\x0a')+(_0x3e2590(0x131)+_0x3dbcbb['id']+'`\x0a')+(_0x3e2590(0x13c)+_0x3dbcbb[_0x3e2590(0x1bd)][_0x3e2590(0x141)]()+'`\x0a')+(_0x3e2590(0x187)+new Date(_0x3dbcbb[_0x3e2590(0x13e)])[_0x3e2590(0x186)](_0x3e2590(0x150))+'\x0a');_0x522d3b===_0x3e2590(0x1f6)&&_0x3dbcbb[_0x3e2590(0x1e7)]&&(_0x5c9037+='üí∏\x20–°—É–º–º–∞\x20—à—Ç—Ä–∞—Ñ–∞:\x20*'+_0x3dbcbb[_0x3e2590(0x1e7)]+_0x3e2590(0x1ea)),_0x3dbcbb[_0x3e2590(0x117)]&&(_0x5c9037+=_0x3e2590(0x11d)+_0x3dbcbb[_0x3e2590(0x117)]+'\x0a'),await this[_0x3e2590(0x1d5)](_0x5b83e2,_0x5c9037,{'parse_mode':_0x3e2590(0x1ac)});}async[a48_0x2f5b4c(0x180)](_0x402e23,_0x4acf24,_0x43030a){const _0x14e612=a48_0x2f5b4c,_0x12c5e6={'created':'üì§','completed':'‚úÖ','rejected':'‚ùå'},_0x309277={'created':_0x14e612(0x19f),'completed':_0x14e612(0x1ef),'rejected':_0x14e612(0x109)},_0x7401db=_0x12c5e6[_0x43030a],_0x5cb1e8=_0x309277[_0x43030a],_0x2ba41f=_0x7401db+'\x20*'+_0x5cb1e8+_0x14e612(0x199)+(_0x14e612(0x139)+_0x4acf24['amount']+'\x20USD*\x0a')+('üè¶\x20–ú–µ—Ç–æ–¥:\x20`'+_0x4acf24[_0x14e612(0x18a)]+'`\x0a')+(_0x14e612(0x1fb)+_0x4acf24['id']+'`\x0a')+(_0x14e612(0x187)+new Date(_0x4acf24[_0x14e612(0x13e)])[_0x14e612(0x186)]('ru-RU')+'\x0a')+(_0x4acf24[_0x14e612(0x12a)]?'üîó\x20TXID:\x20`'+_0x4acf24[_0x14e612(0x12a)]+'`':'');await this[_0x14e612(0x1d5)](_0x402e23,_0x2ba41f,{'parse_mode':'Markdown'});}async[a48_0x2f5b4c(0x1e2)](_0x34f0a1,_0x551720){const _0x8f27d7=a48_0x2f5b4c;try{const _0x58c2cc=await database_1[_0x8f27d7(0x1e0)]['shopSettings'][_0x8f27d7(0x1db)]({'where':{'shopId':_0x34f0a1},'select':{'notificationLogin':!![]}});if(!_0x58c2cc?.[_0x8f27d7(0x12c)]){console[_0x8f27d7(0x11f)](_0x8f27d7(0x14d)+_0x34f0a1);return;}const _0x4533ab=_0x551720[_0x8f27d7(0x144)]?'üîê':'üö®',_0x39485e=_0x551720[_0x8f27d7(0x144)]?_0x8f27d7(0x1d8):_0x8f27d7(0x15f);let _0x18bf5f=_0x4533ab+'\x20*'+_0x39485e+_0x8f27d7(0x199)+('üë§\x20Username:\x20`'+_0x551720[_0x8f27d7(0x1ee)]+'`\x0a')+(_0x8f27d7(0x10a)+_0x551720['timestamp'][_0x8f27d7(0x186)](_0x8f27d7(0x150))+'\x0a');_0x551720[_0x8f27d7(0x17e)]&&(_0x18bf5f+=_0x8f27d7(0x10f)+_0x551720[_0x8f27d7(0x17e)]+'`\x0a');if(_0x551720[_0x8f27d7(0x12f)]){const _0x252aa8=_0x551720[_0x8f27d7(0x12f)][_0x8f27d7(0x10e)]>0x32?_0x551720['userAgent'][_0x8f27d7(0x15a)](0x0,0x32)+_0x8f27d7(0x176):_0x551720['userAgent'];_0x18bf5f+=_0x8f27d7(0x1c7)+_0x252aa8+'`\x0a';}!_0x551720['success']&&(_0x18bf5f+=_0x8f27d7(0x1dd)),await this['sendShopNotification'](_0x34f0a1,_0x18bf5f,{'parse_mode':_0x8f27d7(0x1ac)}),console[_0x8f27d7(0x11f)](_0x8f27d7(0x136)+_0x34f0a1+':\x20'+(_0x551720[_0x8f27d7(0x144)]?_0x8f27d7(0x144):'failed'));}catch(_0x18944d){console[_0x8f27d7(0x1b9)](_0x8f27d7(0x1a9),_0x18944d);}}async['sendApiErrorNotification'](_0x3947f9,_0x4c522f){const _0x588f34=a48_0x2f5b4c;try{const _0x151158=await database_1[_0x588f34(0x1e0)][_0x588f34(0x115)][_0x588f34(0x1db)]({'where':{'shopId':_0x3947f9},'select':{'notificationApiError':!![]}});if(!_0x151158?.[_0x588f34(0x1c5)]){console[_0x588f34(0x11f)]('üì±\x20API\x20error\x20notifications\x20disabled\x20for\x20shop\x20'+_0x3947f9);return;}let _0x515f8f=_0x588f34(0x191)+(_0x588f34(0x182)+_0x4c522f['method']+'\x20'+_0x4c522f[_0x588f34(0x153)]+'`\x0a')+(_0x588f34(0x10a)+_0x4c522f[_0x588f34(0x1c1)]['toLocaleString'](_0x588f34(0x150))+'\x0a');_0x4c522f[_0x588f34(0x154)]&&(_0x515f8f+=_0x588f34(0x16e)+_0x4c522f[_0x588f34(0x154)]+'`\x0a'),_0x515f8f+=_0x588f34(0x1f8)+_0x4c522f[_0x588f34(0x137)]+'`\x0a',_0x4c522f[_0x588f34(0x108)]&&(_0x515f8f+='üÜî\x20Request\x20ID:\x20`'+_0x4c522f[_0x588f34(0x108)]+'`\x0a'),_0x515f8f+=_0x588f34(0x1d7),await this[_0x588f34(0x1d5)](_0x3947f9,_0x515f8f,{'parse_mode':_0x588f34(0x1ac)}),console[_0x588f34(0x11f)](_0x588f34(0x184)+_0x3947f9+':\x20'+_0x4c522f[_0x588f34(0x153)]);}catch(_0xe77f9f){console['error'](_0x588f34(0x14b),_0xe77f9f);}}async[a48_0x2f5b4c(0x125)](_0x3140c3,_0x24866f,_0x413c77){const _0x53df2d=a48_0x2f5b4c;let _0x23a01c=_0x53df2d(0x1b0)+_0x24866f+'*\x0a\x0a';for(const [_0x52b44c,_0x45b936]of Object[_0x53df2d(0x1cc)](_0x413c77)){_0x45b936!==null&&_0x45b936!==undefined&&(_0x23a01c+=_0x52b44c+_0x53df2d(0x151)+_0x45b936+'`\x0a');}await this[_0x53df2d(0x1d5)](_0x3140c3,_0x23a01c,{'parse_mode':'Markdown'});}[a48_0x2f5b4c(0x1f9)](){const _0x56942c=a48_0x2f5b4c;return{'isActive':!!this[_0x56942c(0x133)],'username':this[_0x56942c(0x17a)]};}['stopBot'](){const _0x2c40e6=a48_0x2f5b4c;this[_0x2c40e6(0x133)]&&(this[_0x2c40e6(0x133)]['stopPolling'](),this[_0x2c40e6(0x133)]=null,console[_0x2c40e6(0x11f)](_0x2c40e6(0x12d)));}}exports[a48_0x2f5b4c(0x152)]=TelegramBotService,exports[a48_0x2f5b4c(0x1aa)]=new TelegramBotService();