'use strict';const a51_0x202f2a=a51_0x4b5f;(function(_0x59705d,_0x319b7c){const _0x3c3fd6=a51_0x4b5f,_0x283547=_0x59705d();while(!![]){try{const _0x134df0=parseInt(_0x3c3fd6(0x19f))/0x1*(parseInt(_0x3c3fd6(0x18f))/0x2)+parseInt(_0x3c3fd6(0x195))/0x3+parseInt(_0x3c3fd6(0x1d8))/0x4+-parseInt(_0x3c3fd6(0x1b6))/0x5*(parseInt(_0x3c3fd6(0x198))/0x6)+-parseInt(_0x3c3fd6(0x1ad))/0x7+-parseInt(_0x3c3fd6(0x1a1))/0x8*(-parseInt(_0x3c3fd6(0x1d4))/0x9)+parseInt(_0x3c3fd6(0x17e))/0xa*(-parseInt(_0x3c3fd6(0x1a5))/0xb);if(_0x134df0===_0x319b7c)break;else _0x283547['push'](_0x283547['shift']());}catch(_0x1c89dd){_0x283547['push'](_0x283547['shift']());}}}(a51_0x484c,0xeaefe));var __importDefault=this&&this[a51_0x202f2a(0x171)]||function(_0x55b152){return _0x55b152&&_0x55b152['__esModule']?_0x55b152:{'default':_0x55b152};};Object[a51_0x202f2a(0x17f)](exports,'__esModule',{'value':!![]}),exports[a51_0x202f2a(0x174)]=exports[a51_0x202f2a(0x1c4)]=void 0x0;function a51_0x4b5f(_0x3d2319,_0x5bea11){const _0x484c89=a51_0x484c();return a51_0x4b5f=function(_0x4b5f73,_0x429fdf){_0x4b5f73=_0x4b5f73-0x154;let _0x4b8f9d=_0x484c89[_0x4b5f73];return _0x4b8f9d;},a51_0x4b5f(_0x3d2319,_0x5bea11);}const rapydService_1=require(a51_0x202f2a(0x18d)),database_1=__importDefault(require('../config/database')),loggerService_1=require(a51_0x202f2a(0x165));class RapydStatusService{constructor(){const _0x17c495=a51_0x202f2a;this['paymentTimers']=new Map(),this['rapydService']=new rapydService_1[(_0x17c495(0x1b9))](),console[_0x17c495(0x1cb)](_0x17c495(0x1bd));}[a51_0x202f2a(0x1ca)](_0x41d11c,_0x133a80){const _0x4448be=a51_0x202f2a;console[_0x4448be(0x1cb)]('üåê\x20[DEBUG]\x20schedulePaymentChecks\x20called\x20with:'),console[_0x4448be(0x1cb)](_0x4448be(0x15a)+_0x41d11c),console[_0x4448be(0x1cb)](_0x4448be(0x1c6)+_0x133a80),this[_0x4448be(0x1bb)](_0x41d11c);const _0x16cee2=[],_0x4e3c01=new Date(),_0x4e9b22=setTimeout(async()=>{const _0x5a58a3=_0x4448be;try{console[_0x5a58a3(0x1cb)]('üåê\x20[30MIN]\x20Starting\x20first\x20check\x20for\x20payment\x20'+_0x41d11c),await this[_0x5a58a3(0x15e)](_0x41d11c);}catch(_0x2b638c){console[_0x5a58a3(0x1a3)](_0x5a58a3(0x160)+_0x41d11c+':',_0x2b638c),this[_0x5a58a3(0x1ab)](_0x41d11c,_0x133a80,_0x2b638c,'first_check');}},0x1e*0x3c*0x3e8);_0x16cee2[_0x4448be(0x183)](_0x4e9b22);const _0x1796d=setTimeout(async()=>{const _0x209da3=_0x4448be;try{console[_0x209da3(0x1cb)]('üåê\x20[60MIN]\x20Starting\x20final\x20check\x20for\x20payment\x20'+_0x41d11c),await this['checkSinglePaymentById'](_0x41d11c),this['clearPaymentTimers'](_0x41d11c),console['log']('üåê\x20[60MIN]\x20Final\x20check\x20completed\x20for\x20payment\x20'+_0x41d11c+_0x209da3(0x199));}catch(_0x8292ce){console[_0x209da3(0x1a3)](_0x209da3(0x16c)+_0x41d11c+':',_0x8292ce),this['logRapydError'](_0x41d11c,_0x133a80,_0x8292ce,'final_check'),this['clearPaymentTimers'](_0x41d11c);}},0x3c*0x3c*0x3e8);_0x16cee2['push'](_0x1796d),this[_0x4448be(0x166)][_0x4448be(0x1bf)](_0x41d11c,{'timers':_0x16cee2,'paymentId':_0x41d11c,'gatewayPaymentId':_0x133a80,'createdAt':_0x4e3c01}),console[_0x4448be(0x1cb)](_0x4448be(0x1cc)+_0x41d11c+_0x4448be(0x172)),console[_0x4448be(0x1cb)]('üìä\x20[DEBUG]\x20Total\x20active\x20payment\x20timers:\x20'+this[_0x4448be(0x166)][_0x4448be(0x1d5)]),this[_0x4448be(0x177)](_0x41d11c,_0x133a80,'PENDING',_0x4448be(0x1cf),_0x4448be(0x19c),{'checks_scheduled':0x2,'first_check_in':'30\x20minutes','final_check_in':_0x4448be(0x1cd),'created_at':_0x4e3c01[_0x4448be(0x1a6)]()});}['clearPaymentTimers'](_0x407a9c){const _0x445379=a51_0x202f2a,_0xbd23fb=this[_0x445379(0x166)]['get'](_0x407a9c);_0xbd23fb&&(console[_0x445379(0x1cb)](_0x445379(0x19d)+_0xbd23fb[_0x445379(0x1c9)][_0x445379(0x18e)]+_0x445379(0x15d)+_0x407a9c),_0xbd23fb[_0x445379(0x1c9)]['forEach'](_0x4075be=>clearTimeout(_0x4075be)),this['paymentTimers']['delete'](_0x407a9c),console[_0x445379(0x1cb)]('‚úÖ\x20[DEBUG]\x20Cleared\x20timers\x20for\x20payment\x20'+_0x407a9c));}async[a51_0x202f2a(0x18a)](_0x569e73){const _0xc7781c=a51_0x202f2a;console[_0xc7781c(0x1cb)]('üåê\x20[MANUAL]\x20Manual\x20check\x20requested\x20for\x20payment\x20'+_0x569e73),await this[_0xc7781c(0x15e)](_0x569e73);}async[a51_0x202f2a(0x15e)](_0x57fe19){const _0x5120fd=a51_0x202f2a;console[_0x5120fd(0x1cb)](_0x5120fd(0x196)+_0x57fe19);const _0x4c2f82=await database_1[_0x5120fd(0x1a8)]['payment'][_0x5120fd(0x16e)]({'where':{'id':_0x57fe19},'select':{'id':!![],'gatewayPaymentId':!![],'amount':!![],'currency':!![],'status':!![],'shopId':!![],'createdAt':!![],'gateway':!![],'shop':{'select':{'id':!![],'name':!![],'settings':{'select':{'webhookUrl':!![],'webhookEvents':!![]}}}}}});if(!_0x4c2f82){console['log']('‚ùå\x20[CHECK]\x20Payment\x20'+_0x57fe19+'\x20not\x20found\x20in\x20database');return;}console[_0x5120fd(0x1cb)](_0x5120fd(0x173)+_0x57fe19+_0x5120fd(0x1ac)),console['log'](_0x5120fd(0x1a2)+_0x4c2f82['gateway']),console[_0x5120fd(0x1cb)](_0x5120fd(0x157)+_0x4c2f82[_0x5120fd(0x17c)]),console[_0x5120fd(0x1cb)](_0x5120fd(0x1b2)+_0x4c2f82[_0x5120fd(0x164)]),console[_0x5120fd(0x1cb)](_0x5120fd(0x18c)+_0x4c2f82[_0x5120fd(0x184)]+'\x20'+_0x4c2f82[_0x5120fd(0x19e)]),console[_0x5120fd(0x1cb)](_0x5120fd(0x176)+_0x4c2f82[_0x5120fd(0x190)]);if(_0x4c2f82[_0x5120fd(0x1b7)]!==_0x5120fd(0x167)){console[_0x5120fd(0x1cb)](_0x5120fd(0x16b)+_0x57fe19+_0x5120fd(0x1ae)+_0x4c2f82[_0x5120fd(0x1b7)]+')');return;}if(_0x4c2f82['status']!==_0x5120fd(0x1cf)){console['log'](_0x5120fd(0x16b)+_0x57fe19+_0x5120fd(0x1aa)+_0x4c2f82[_0x5120fd(0x17c)]+',\x20stopping\x20checks'),this[_0x5120fd(0x1bb)](_0x57fe19);return;}if(!_0x4c2f82[_0x5120fd(0x164)]){console[_0x5120fd(0x1cb)]('‚ö†Ô∏è\x20[CHECK]\x20Payment\x20'+_0x57fe19+_0x5120fd(0x163));return;}console[_0x5120fd(0x1cb)](_0x5120fd(0x1a7)+_0x57fe19+_0x5120fd(0x175)),await this[_0x5120fd(0x168)](_0x4c2f82);}async[a51_0x202f2a(0x168)](_0x3ccfef){const _0x4dbd00=a51_0x202f2a;if(!_0x3ccfef[_0x4dbd00(0x164)]){console[_0x4dbd00(0x1cb)](_0x4dbd00(0x16b)+_0x3ccfef['id']+_0x4dbd00(0x180));return;}console[_0x4dbd00(0x1cb)](_0x4dbd00(0x158)+_0x3ccfef['id']+'\x20('+_0x3ccfef['gatewayPaymentId']+')');try{const _0x3f1482=await this[_0x4dbd00(0x155)][_0x4dbd00(0x170)](_0x3ccfef[_0x4dbd00(0x164)]);console['log']('üìä\x20[CHECK]\x20Payment\x20'+_0x3ccfef['id']+_0x4dbd00(0x185)+_0x3f1482['status']);_0x3f1482[_0x4dbd00(0x1be)]&&console['log'](_0x4dbd00(0x173)+_0x3ccfef['id']+'\x20details:',{'transactionId':_0x3f1482[_0x4dbd00(0x1be)][_0x4dbd00(0x161)],'paymentMethod':_0x3f1482['paymentDetails'][_0x4dbd00(0x194)],'createdAt':_0x3f1482['paymentDetails'][_0x4dbd00(0x1b3)],'paidAt':_0x3f1482[_0x4dbd00(0x1be)][_0x4dbd00(0x179)]||'not\x20paid'});if(_0x3f1482[_0x4dbd00(0x17c)]!==_0x3ccfef[_0x4dbd00(0x17c)]){console[_0x4dbd00(0x1cb)](_0x4dbd00(0x1b4)+_0x3ccfef['id']+_0x4dbd00(0x17b)+_0x3ccfef['status']+'\x20to\x20'+_0x3f1482[_0x4dbd00(0x17c)]),this[_0x4dbd00(0x177)](_0x3ccfef['id'],_0x3ccfef['gatewayPaymentId'],_0x3ccfef[_0x4dbd00(0x17c)],_0x3f1482[_0x4dbd00(0x17c)],_0x4dbd00(0x181),{'paymentDetails':_0x3f1482[_0x4dbd00(0x1be)],'amount':_0x3f1482[_0x4dbd00(0x184)],'currency':_0x3f1482['currency'],'shopId':_0x3ccfef[_0x4dbd00(0x190)],'checkTimestamp':new Date()[_0x4dbd00(0x1a6)]()});const _0x1422a5={'status':_0x3f1482[_0x4dbd00(0x17c)],'updatedAt':new Date()};_0x3f1482[_0x4dbd00(0x17c)]===_0x4dbd00(0x159)&&_0x3ccfef[_0x4dbd00(0x17c)]!==_0x4dbd00(0x159)&&(_0x1422a5[_0x4dbd00(0x179)]=new Date(),console[_0x4dbd00(0x1cb)](_0x4dbd00(0x15c)+_0x3ccfef['id']+_0x4dbd00(0x1bc)+_0x1422a5['paidAt'][_0x4dbd00(0x1a6)]()));if(_0x3f1482['paymentDetails']){const _0x1031f3=_0x3f1482['paymentDetails'];_0x1031f3['transactionId']&&console[_0x4dbd00(0x1cb)](_0x4dbd00(0x18b)+_0x1031f3[_0x4dbd00(0x161)]);if(_0x1031f3['failureMessage']){const _0x64ae6=_0x3ccfef['adminNotes']||'',_0x4b2415=_0x4dbd00(0x188)+_0x1031f3[_0x4dbd00(0x1a9)];_0x1422a5[_0x4dbd00(0x1a4)]=_0x64ae6?_0x64ae6+'\x0a\x0a'+_0x4b2415:_0x4b2415,console[_0x4dbd00(0x1cb)]('‚ùå\x20[CHECK]\x20Saved\x20failure\x20message\x20to\x20admin\x20notes:\x20'+_0x1031f3[_0x4dbd00(0x1a9)]);}_0x1031f3[_0x4dbd00(0x179)]&&console[_0x4dbd00(0x1cb)](_0x4dbd00(0x1c3)+new Date(_0x1031f3['paidAt']*0x3e8)[_0x4dbd00(0x1a6)]());}await database_1[_0x4dbd00(0x1a8)][_0x4dbd00(0x16a)][_0x4dbd00(0x1c7)]({'where':{'id':_0x3ccfef['id']},'data':_0x1422a5}),await database_1['default']['webhookLog'][_0x4dbd00(0x1ba)]({'data':{'paymentId':_0x3ccfef['id'],'shopId':_0x3ccfef[_0x4dbd00(0x190)],'event':'rapyd_status_check_'+_0x3f1482[_0x4dbd00(0x17c)][_0x4dbd00(0x15f)](),'statusCode':0xc8,'responseBody':JSON['stringify']({'oldStatus':_0x3ccfef['status'],'newStatus':_0x3f1482['status'],'paymentDetails':_0x3f1482['paymentDetails'],'checkedAt':new Date()[_0x4dbd00(0x1a6)]()})}}),await this[_0x4dbd00(0x187)](_0x3ccfef,_0x3f1482[_0x4dbd00(0x17c)]),await this['sendPaymentStatusNotification'](_0x3ccfef,_0x3f1482[_0x4dbd00(0x17c)]),_0x3f1482['status']!==_0x4dbd00(0x1cf)&&(console[_0x4dbd00(0x1cb)]('üßπ\x20[CHECK]\x20Payment\x20'+_0x3ccfef['id']+'\x20status\x20changed\x20to\x20'+_0x3f1482[_0x4dbd00(0x17c)]+_0x4dbd00(0x182)),this['clearPaymentTimers'](_0x3ccfef['id'])),console['log'](_0x4dbd00(0x1a7)+_0x3ccfef['id']+_0x4dbd00(0x178));}else console[_0x4dbd00(0x1cb)]('üìä\x20[CHECK]\x20Payment\x20'+_0x3ccfef['id']+_0x4dbd00(0x17d)+_0x3f1482[_0x4dbd00(0x17c)]+')'),this[_0x4dbd00(0x177)](_0x3ccfef['id'],_0x3ccfef[_0x4dbd00(0x164)],_0x3ccfef['status'],_0x3f1482[_0x4dbd00(0x17c)],_0x4dbd00(0x1a0),{'paymentDetails':_0x3f1482[_0x4dbd00(0x1be)],'amount':_0x3f1482['amount'],'currency':_0x3f1482[_0x4dbd00(0x19e)],'shopId':_0x3ccfef[_0x4dbd00(0x190)],'checkTimestamp':new Date()[_0x4dbd00(0x1a6)]()});}catch(_0x441f37){console[_0x4dbd00(0x1a3)]('‚ùå\x20[CHECK]\x20Error\x20checking\x20payment\x20'+_0x3ccfef['id']+':',_0x441f37),this[_0x4dbd00(0x1ab)](_0x3ccfef['id'],_0x3ccfef['gatewayPaymentId'],_0x441f37,_0x4dbd00(0x181),{'shopId':_0x3ccfef['shopId'],'amount':_0x3ccfef[_0x4dbd00(0x184)],'currency':_0x3ccfef[_0x4dbd00(0x19e)],'checkTimestamp':new Date()[_0x4dbd00(0x1a6)]()});}}async['sendShopWebhook'](_0x5e9c20,_0x38b9cb){const _0x4ad6dd=a51_0x202f2a;if(!_0x5e9c20['shop']?.[_0x4ad6dd(0x1b8)]?.[_0x4ad6dd(0x1d6)]||!_0x5e9c20[_0x4ad6dd(0x189)]?.[_0x4ad6dd(0x1b8)]?.[_0x4ad6dd(0x1c5)]){console['log'](_0x4ad6dd(0x1d3)+_0x5e9c20['shopId']);return;}try{const _0x2d460b=JSON[_0x4ad6dd(0x156)](_0x5e9c20[_0x4ad6dd(0x189)]['settings'][_0x4ad6dd(0x1c5)]),_0x45b4e6=_0x4ad6dd(0x1c0)+_0x38b9cb['toLowerCase']();if(!_0x2d460b[_0x4ad6dd(0x1d1)](_0x45b4e6)){console[_0x4ad6dd(0x1cb)]('üîï\x20[WEBHOOK]\x20Event\x20'+_0x45b4e6+_0x4ad6dd(0x16f)+_0x5e9c20['shopId']);return;}console[_0x4ad6dd(0x1cb)](_0x4ad6dd(0x169)+_0x45b4e6+_0x4ad6dd(0x19a)+_0x5e9c20[_0x4ad6dd(0x189)][_0x4ad6dd(0x1b8)][_0x4ad6dd(0x1d6)]);const _0x2c51c4={'event':_0x45b4e6,'payment':{'id':_0x5e9c20['id'],'status':_0x38b9cb,'amount':_0x5e9c20[_0x4ad6dd(0x184)],'currency':_0x5e9c20[_0x4ad6dd(0x19e)],'gateway':_0x5e9c20[_0x4ad6dd(0x1b7)],'gatewayPaymentId':_0x5e9c20[_0x4ad6dd(0x164)],'createdAt':_0x5e9c20['createdAt'],'updatedAt':new Date()}};console['log'](_0x4ad6dd(0x1c8)+_0x5e9c20[_0x4ad6dd(0x190)]);}catch(_0x3d9d98){console[_0x4ad6dd(0x1a3)](_0x4ad6dd(0x1b1)+_0x5e9c20['id']+':',_0x3d9d98);}}async[a51_0x202f2a(0x15b)](_0x464dac,_0x44854e){const _0x2ae98c=a51_0x202f2a;try{console['log'](_0x2ae98c(0x19b)+_0x464dac['id']+'\x20status\x20changed:\x20'+_0x464dac[_0x2ae98c(0x17c)]+_0x2ae98c(0x1c1)+_0x44854e);}catch(_0x255c3a){console[_0x2ae98c(0x1a3)]('‚ùå\x20[TELEGRAM]\x20Failed\x20to\x20send\x20notification\x20for\x20payment\x20'+_0x464dac['id']+':',_0x255c3a);}}[a51_0x202f2a(0x177)](_0x4b6c67,_0x4b8fbe,_0x5a220f,_0x480218,_0x2a9136,_0x1520d0){const _0x351c73=a51_0x202f2a,_0x432127={'paymentId':_0x4b6c67,'gatewayPaymentId':_0x4b8fbe,'oldStatus':_0x5a220f,'newStatus':_0x480218,'action':_0x2a9136,'timestamp':new Date()[_0x351c73(0x1a6)](),..._0x1520d0};console[_0x351c73(0x1cb)](_0x351c73(0x16d),_0x432127),loggerService_1[_0x351c73(0x1c2)][_0x351c73(0x1b5)](_0x351c73(0x167),_0x351c73(0x1d2),'STATUS_UPDATE',_0x432127);}[a51_0x202f2a(0x1ab)](_0x515015,_0x4bccda,_0x436683,_0x327e34,_0x5951a8){const _0x380bdc=a51_0x202f2a,_0x134008={'paymentId':_0x515015,'gatewayPaymentId':_0x4bccda,'action':_0x327e34,'error':_0x436683 instanceof Error?_0x436683[_0x380bdc(0x1d7)]:String(_0x436683),'timestamp':new Date()[_0x380bdc(0x1a6)](),..._0x5951a8};console[_0x380bdc(0x1a3)](_0x380bdc(0x154),_0x134008),loggerService_1[_0x380bdc(0x1c2)][_0x380bdc(0x162)](_0x380bdc(0x167),_0x380bdc(0x1d2),_0x327e34+':\x20'+_0x134008[_0x380bdc(0x1a3)]);}[a51_0x202f2a(0x1ce)](_0x27d17d){const _0x147229=a51_0x202f2a,_0x52128b=this[_0x147229(0x166)][_0x147229(0x1d0)](_0x27d17d);if(!_0x52128b)return{'hasTimers':![],'message':'No\x20active\x20timers\x20for\x20this\x20payment'};return{'hasTimers':!![],'paymentId':_0x52128b['paymentId'],'gatewayPaymentId':_0x52128b[_0x147229(0x164)],'createdAt':_0x52128b[_0x147229(0x1b3)],'activeTimers':_0x52128b[_0x147229(0x1c9)][_0x147229(0x18e)],'message':_0x52128b[_0x147229(0x1c9)]['length']+_0x147229(0x197)};}['getServiceStats'](){const _0x41204d=a51_0x202f2a;return{'activeTimers':this[_0x41204d(0x166)][_0x41204d(0x1d5)],'totalChecksScheduled':Array[_0x41204d(0x17a)](this[_0x41204d(0x166)][_0x41204d(0x1af)]())[_0x41204d(0x191)]((_0x29553c,_0x5096c1)=>_0x29553c+_0x5096c1['timers']['length'],0x0)};}[a51_0x202f2a(0x193)](){const _0x20f1f6=a51_0x202f2a;console[_0x20f1f6(0x1cb)](_0x20f1f6(0x192));for(const [_0x4e5345,_0x5bb025]of this[_0x20f1f6(0x166)]){_0x5bb025[_0x20f1f6(0x1c9)][_0x20f1f6(0x1b0)](_0x1139cb=>clearTimeout(_0x1139cb)),console[_0x20f1f6(0x1cb)]('üßπ\x20[SHUTDOWN]\x20Cleared\x20timers\x20for\x20payment\x20'+_0x4e5345);}this[_0x20f1f6(0x166)][_0x20f1f6(0x186)](),console[_0x20f1f6(0x1cb)]('‚úÖ\x20[SHUTDOWN]\x20RapydStatusService\x20stopped');}}exports[a51_0x202f2a(0x1c4)]=RapydStatusService,exports['rapydStatusService']=new RapydStatusService();function a51_0x484c(){const _0x51d391=['\x20marked\x20as\x20paid\x20at:\x20','üåê\x20RapydStatusService\x20initialized','paymentDetails','set','payment.','\x20‚Üí\x20','loggerService','‚úÖ\x20[CHECK]\x20Payment\x20confirmed\x20at:\x20','RapydStatusService','webhookEvents','\x20\x20\x20-\x20gatewayPaymentId:\x20','update','‚úÖ\x20[WEBHOOK]\x20Webhook\x20payload\x20prepared\x20for\x20shop\x20','timers','schedulePaymentChecks','log','‚úÖ\x20[DEBUG]\x20Successfully\x20scheduled\x202\x20checks\x20for\x20payment\x20','60\x20minutes','getPaymentTimerInfo','PENDING','get','includes','/status-service','üîï\x20[WEBHOOK]\x20No\x20webhook\x20configured\x20for\x20shop\x20','666QiOOSl','size','webhookUrl','message','7137952TckOkg','‚ùå\x20[RAPYD_ERROR]\x20Payment\x20error:','rapydService','parse','\x20\x20\x20-\x20Status:\x20','üîç\x20[CHECK]\x20Checking\x20Rapyd\x20payment\x20','PAID','\x20\x20\x20-\x20paymentId:\x20','sendPaymentStatusNotification','üí∞\x20[CHECK]\x20Payment\x20','\x20timers\x20for\x20payment\x20','checkSinglePaymentById','toLowerCase','‚ùå\x20[30MIN]\x20Failed\x20first\x20check\x20for\x20payment\x20','transactionId','logWhiteDomainError','\x20has\x20no\x20gatewayPaymentId','gatewayPaymentId','./loggerService','paymentTimers','rapyd','checkSinglePayment','üì°\x20[WEBHOOK]\x20Sending\x20','payment','‚ö†Ô∏è\x20[CHECK]\x20Payment\x20','‚ùå\x20[60MIN]\x20Failed\x20final\x20check\x20for\x20payment\x20','üìä\x20[RAPYD_STATUS]\x20Payment\x20status\x20update:','findUnique','\x20not\x20enabled\x20for\x20shop\x20','checkPaymentStatus','__importDefault','\x20(30min,\x2060min)','üìä\x20[CHECK]\x20Payment\x20','rapydStatusService','\x20is\x20valid\x20for\x20checking,\x20proceeding...','\x20\x20\x20-\x20ShopId:\x20','logRapydStatus','\x20updated\x20successfully','paidAt','from','\x20status\x20from\x20','status','\x20status\x20unchanged\x20(','27980qBpqRI','defineProperty','\x20has\x20no\x20gatewayPaymentId,\x20skipping','status_check',',\x20clearing\x20timers','push','amount','\x20status:\x20','clear','sendShopWebhook','Failure:\x20','shop','checkPaymentById','üÜî\x20[CHECK]\x20Transaction\x20ID:\x20','\x20\x20\x20-\x20Amount:\x20','./gateways/rapydService','length','247586VhBIsu','shopId','reduce','üõë\x20[SHUTDOWN]\x20Stopping\x20RapydStatusService...','shutdown','paymentMethodType','5188266mYrdsF','üîç\x20[CHECK]\x20Starting\x20check\x20for\x20payment\x20ID:\x20','\x20active\x20timers','19212MWgkwL',',\x20timers\x20cleared','\x20webhook\x20to\x20','üì±\x20[TELEGRAM]\x20Payment\x20','schedule_created','üßπ\x20[DEBUG]\x20Clearing\x20','currency','6nYwliv','status_check_no_change','186640WXlIsP','\x20\x20\x20-\x20Gateway:\x20','error','adminNotes','12540ythAji','toISOString','‚úÖ\x20[CHECK]\x20Payment\x20','default','failureMessage','\x20status\x20is\x20','logRapydError','\x20found:','2663920KnvtgC','\x20is\x20not\x20a\x20Rapyd\x20payment\x20(gateway:\x20','values','forEach','‚ùå\x20[WEBHOOK]\x20Failed\x20to\x20send\x20webhook\x20for\x20payment\x20','\x20\x20\x20-\x20GatewayPaymentId:\x20','createdAt','üîÑ\x20[CHECK]\x20Updating\x20payment\x20','logWhiteDomainRequest','2265RswEWQ','gateway','settings','RapydService','create','clearPaymentTimers'];a51_0x484c=function(){return _0x51d391;};return a51_0x484c();}