'use strict';const a51_0x9acb5=a51_0x378e;(function(_0x58cc2f,_0x4a7b25){const _0x5e8e30=a51_0x378e,_0x46adbd=_0x58cc2f();while(!![]){try{const _0x114018=parseInt(_0x5e8e30(0x241))/0x1*(parseInt(_0x5e8e30(0x1e7))/0x2)+parseInt(_0x5e8e30(0x1f2))/0x3+parseInt(_0x5e8e30(0x1ed))/0x4+parseInt(_0x5e8e30(0x248))/0x5*(-parseInt(_0x5e8e30(0x210))/0x6)+-parseInt(_0x5e8e30(0x1db))/0x7+parseInt(_0x5e8e30(0x1d8))/0x8*(-parseInt(_0x5e8e30(0x1f8))/0x9)+parseInt(_0x5e8e30(0x23b))/0xa;if(_0x114018===_0x4a7b25)break;else _0x46adbd['push'](_0x46adbd['shift']());}catch(_0x43f096){_0x46adbd['push'](_0x46adbd['shift']());}}}(a51_0x1822,0xd10b4));var __importDefault=this&&this[a51_0x9acb5(0x1ce)]||function(_0x2b36ea){const _0x5e13c3=a51_0x9acb5;return _0x2b36ea&&_0x2b36ea[_0x5e13c3(0x245)]?_0x2b36ea:{'default':_0x2b36ea};};Object['defineProperty'](exports,a51_0x9acb5(0x245),{'value':!![]}),exports[a51_0x9acb5(0x1de)]=exports[a51_0x9acb5(0x1f4)]=void 0x0;function a51_0x378e(_0x2f96ae,_0x51577d){const _0x182250=a51_0x1822();return a51_0x378e=function(_0x378e27,_0x318c72){_0x378e27=_0x378e27-0x1c3;let _0x2d0f70=_0x182250[_0x378e27];return _0x2d0f70;},a51_0x378e(_0x2f96ae,_0x51577d);}const rapydService_1=require(a51_0x9acb5(0x1f9)),database_1=__importDefault(require(a51_0x9acb5(0x226))),loggerService_1=require('./loggerService');class RapydStatusService{constructor(){const _0xc45a6a=a51_0x9acb5;this[_0xc45a6a(0x239)]=new Map(),this[_0xc45a6a(0x1f7)]=new rapydService_1[(_0xc45a6a(0x1d4))](),console[_0xc45a6a(0x209)]('üåê\x20RapydStatusService\x20initialized');}[a51_0x9acb5(0x1ca)](_0x48fc67,_0x31a44d){const _0x47ebc2=a51_0x9acb5;console[_0x47ebc2(0x209)]('üåê\x20[DEBUG]\x20schedulePaymentChecks\x20called\x20with:'),console['log'](_0x47ebc2(0x212)+_0x48fc67),console[_0x47ebc2(0x209)](_0x47ebc2(0x20a)+_0x31a44d),this['clearPaymentTimers'](_0x48fc67);const _0x5d0db4=[],_0x32b246=new Date(),_0x3b3240=setTimeout(async()=>{const _0x50320b=_0x47ebc2;try{console[_0x50320b(0x209)]('üåê\x20[30MIN]\x20Starting\x20first\x20check\x20for\x20payment\x20'+_0x48fc67),await this[_0x50320b(0x1f1)](_0x48fc67);}catch(_0x473346){console[_0x50320b(0x1c5)](_0x50320b(0x21a)+_0x48fc67+':',_0x473346),this[_0x50320b(0x221)](_0x48fc67,_0x31a44d,_0x473346,_0x50320b(0x22b));}},0x1e*0x3c*0x3e8);_0x5d0db4[_0x47ebc2(0x222)](_0x3b3240);const _0x534c95=setTimeout(async()=>{const _0x24ff4f=_0x47ebc2;try{console['log'](_0x24ff4f(0x220)+_0x48fc67),await this[_0x24ff4f(0x1f1)](_0x48fc67),this['clearPaymentTimers'](_0x48fc67),console[_0x24ff4f(0x209)]('üåê\x20[60MIN]\x20Final\x20check\x20completed\x20for\x20payment\x20'+_0x48fc67+_0x24ff4f(0x203));}catch(_0x5ed4bc){console[_0x24ff4f(0x1c5)](_0x24ff4f(0x234)+_0x48fc67+':',_0x5ed4bc),this[_0x24ff4f(0x221)](_0x48fc67,_0x31a44d,_0x5ed4bc,_0x24ff4f(0x204)),this[_0x24ff4f(0x213)](_0x48fc67);}},0x3c*0x3c*0x3e8);_0x5d0db4[_0x47ebc2(0x222)](_0x534c95),this[_0x47ebc2(0x239)][_0x47ebc2(0x1cf)](_0x48fc67,{'timers':_0x5d0db4,'paymentId':_0x48fc67,'gatewayPaymentId':_0x31a44d,'createdAt':_0x32b246}),console[_0x47ebc2(0x209)](_0x47ebc2(0x1c8)+_0x48fc67+_0x47ebc2(0x22c)),console[_0x47ebc2(0x209)]('üìä\x20[DEBUG]\x20Total\x20active\x20payment\x20timers:\x20'+this['paymentTimers'][_0x47ebc2(0x1d2)]),this[_0x47ebc2(0x1ef)](_0x48fc67,_0x31a44d,_0x47ebc2(0x1e5),_0x47ebc2(0x1e5),_0x47ebc2(0x1d7),{'checks_scheduled':0x2,'first_check_in':_0x47ebc2(0x1ff),'final_check_in':'60\x20minutes','created_at':_0x32b246['toISOString']()});}[a51_0x9acb5(0x213)](_0x471767){const _0x1dd274=a51_0x9acb5,_0x15c4b1=this[_0x1dd274(0x239)][_0x1dd274(0x1e1)](_0x471767);_0x15c4b1&&(console['log'](_0x1dd274(0x237)+_0x15c4b1[_0x1dd274(0x21f)][_0x1dd274(0x1cd)]+'\x20timers\x20for\x20payment\x20'+_0x471767),_0x15c4b1[_0x1dd274(0x21f)][_0x1dd274(0x225)](_0x37db62=>clearTimeout(_0x37db62)),this[_0x1dd274(0x239)][_0x1dd274(0x1f3)](_0x471767),console[_0x1dd274(0x209)](_0x1dd274(0x1f5)+_0x471767));}async[a51_0x9acb5(0x1f6)](_0x154c29){const _0x1d19a6=a51_0x9acb5;console[_0x1d19a6(0x209)](_0x1d19a6(0x1e9)+_0x154c29),await this['checkSinglePaymentById'](_0x154c29);}async['checkSinglePaymentById'](_0x39c5f1){const _0x1a56fe=a51_0x9acb5;console[_0x1a56fe(0x209)](_0x1a56fe(0x233)+_0x39c5f1);const _0x234dfb=await database_1['default']['payment'][_0x1a56fe(0x218)]({'where':{'id':_0x39c5f1},'select':{'id':!![],'gatewayPaymentId':!![],'amount':!![],'currency':!![],'status':!![],'shopId':!![],'createdAt':!![],'gateway':!![],'shop':{'select':{'id':!![],'name':!![],'settings':{'select':{'webhookUrl':!![],'webhookEvents':!![]}}}}}});if(!_0x234dfb){console['log']('‚ùå\x20[CHECK]\x20Payment\x20'+_0x39c5f1+'\x20not\x20found\x20in\x20database');return;}console[_0x1a56fe(0x209)](_0x1a56fe(0x1c6)+_0x39c5f1+_0x1a56fe(0x1e0)),console[_0x1a56fe(0x209)]('\x20\x20\x20-\x20Gateway:\x20'+_0x234dfb[_0x1a56fe(0x211)]),console[_0x1a56fe(0x209)](_0x1a56fe(0x229)+_0x234dfb[_0x1a56fe(0x1da)]),console[_0x1a56fe(0x209)](_0x1a56fe(0x208)+_0x234dfb[_0x1a56fe(0x22d)]),console[_0x1a56fe(0x209)]('\x20\x20\x20-\x20Amount:\x20'+_0x234dfb[_0x1a56fe(0x20e)]+'\x20'+_0x234dfb['currency']),console[_0x1a56fe(0x209)](_0x1a56fe(0x21e)+_0x234dfb[_0x1a56fe(0x1fb)]);if(_0x234dfb[_0x1a56fe(0x211)]!==_0x1a56fe(0x1e6)){console[_0x1a56fe(0x209)](_0x1a56fe(0x1ee)+_0x39c5f1+_0x1a56fe(0x20d)+_0x234dfb[_0x1a56fe(0x211)]+')');return;}if(_0x234dfb[_0x1a56fe(0x1da)]!==_0x1a56fe(0x1e5)){console[_0x1a56fe(0x209)](_0x1a56fe(0x1ee)+_0x39c5f1+_0x1a56fe(0x215)+_0x234dfb[_0x1a56fe(0x1da)]+_0x1a56fe(0x240)),this[_0x1a56fe(0x213)](_0x39c5f1);return;}if(!_0x234dfb[_0x1a56fe(0x22d)]){console[_0x1a56fe(0x209)]('‚ö†Ô∏è\x20[CHECK]\x20Payment\x20'+_0x39c5f1+_0x1a56fe(0x1eb));return;}console[_0x1a56fe(0x209)]('‚úÖ\x20[CHECK]\x20Payment\x20'+_0x39c5f1+_0x1a56fe(0x21b)),await this['checkSinglePayment'](_0x234dfb);}async[a51_0x9acb5(0x1e3)](_0x79dfd5){const _0x25800e=a51_0x9acb5;if(!_0x79dfd5[_0x25800e(0x22d)]){console[_0x25800e(0x209)](_0x25800e(0x1ee)+_0x79dfd5['id']+'\x20has\x20no\x20gatewayPaymentId,\x20skipping');return;}console[_0x25800e(0x209)](_0x25800e(0x1e8)+_0x79dfd5['id']+'\x20('+_0x79dfd5[_0x25800e(0x22d)]+')');try{const _0xb935b0=await this[_0x25800e(0x1f7)][_0x25800e(0x1fa)](_0x79dfd5['gatewayPaymentId']);console['log'](_0x25800e(0x1c6)+_0x79dfd5['id']+_0x25800e(0x1fe)+_0xb935b0[_0x25800e(0x1da)]);_0xb935b0['paymentDetails']&&console['log']('üìä\x20[CHECK]\x20Payment\x20'+_0x79dfd5['id']+'\x20details:',{'transactionId':_0xb935b0[_0x25800e(0x22a)][_0x25800e(0x23a)],'paymentMethod':_0xb935b0[_0x25800e(0x22a)][_0x25800e(0x1dc)],'createdAt':_0xb935b0[_0x25800e(0x22a)][_0x25800e(0x223)],'paidAt':_0xb935b0[_0x25800e(0x22a)][_0x25800e(0x238)]||_0x25800e(0x205)});if(_0xb935b0[_0x25800e(0x1da)]!==_0x79dfd5[_0x25800e(0x1da)]){console[_0x25800e(0x209)]('üîÑ\x20[CHECK]\x20Updating\x20payment\x20'+_0x79dfd5['id']+_0x25800e(0x20c)+_0x79dfd5[_0x25800e(0x1da)]+_0x25800e(0x217)+_0xb935b0[_0x25800e(0x1da)]),this['logRapydStatus'](_0x79dfd5['id'],_0x79dfd5[_0x25800e(0x22d)],_0x79dfd5[_0x25800e(0x1da)],_0xb935b0[_0x25800e(0x1da)],_0x25800e(0x1cb),{'paymentDetails':_0xb935b0[_0x25800e(0x22a)],'amount':_0xb935b0[_0x25800e(0x20e)],'currency':_0xb935b0[_0x25800e(0x232)],'shopId':_0x79dfd5[_0x25800e(0x1fb)],'checkTimestamp':new Date()[_0x25800e(0x216)]()});const _0x31834f={'status':_0xb935b0[_0x25800e(0x1da)],'updatedAt':new Date()};_0xb935b0[_0x25800e(0x1da)]===_0x25800e(0x22e)&&_0x79dfd5[_0x25800e(0x1da)]!==_0x25800e(0x22e)&&(_0x31834f['paidAt']=new Date(),console['log'](_0x25800e(0x224)+_0x79dfd5['id']+'\x20marked\x20as\x20paid\x20at:\x20'+_0x31834f[_0x25800e(0x238)][_0x25800e(0x216)]()));if(_0xb935b0[_0x25800e(0x22a)]){const _0x4f78db=_0xb935b0[_0x25800e(0x22a)];_0x4f78db[_0x25800e(0x23a)]&&console['log'](_0x25800e(0x231)+_0x4f78db['transactionId']);if(_0x4f78db[_0x25800e(0x1ea)]){const _0x24da41=_0x79dfd5['adminNotes']||'',_0x6cda86=_0x25800e(0x230)+_0x4f78db[_0x25800e(0x1ea)];_0x31834f['adminNotes']=_0x24da41?_0x24da41+'\x0a\x0a'+_0x6cda86:_0x6cda86,console[_0x25800e(0x209)](_0x25800e(0x1df)+_0x4f78db[_0x25800e(0x1ea)]);}_0x4f78db[_0x25800e(0x238)]&&console[_0x25800e(0x209)]('‚úÖ\x20[CHECK]\x20Payment\x20confirmed\x20at:\x20'+new Date(_0x4f78db['paidAt']*0x3e8)['toISOString']());}await database_1[_0x25800e(0x201)]['payment'][_0x25800e(0x1d3)]({'where':{'id':_0x79dfd5['id']},'data':_0x31834f}),await database_1[_0x25800e(0x201)][_0x25800e(0x1d5)][_0x25800e(0x236)]({'data':{'paymentId':_0x79dfd5['id'],'shopId':_0x79dfd5[_0x25800e(0x1fb)],'event':'rapyd_status_check_'+_0xb935b0[_0x25800e(0x1da)]['toLowerCase'](),'statusCode':0xc8,'responseBody':JSON['stringify']({'oldStatus':_0x79dfd5['status'],'newStatus':_0xb935b0[_0x25800e(0x1da)],'paymentDetails':_0xb935b0[_0x25800e(0x22a)],'checkedAt':new Date()['toISOString']()})}}),await this['sendShopWebhook'](_0x79dfd5,_0xb935b0[_0x25800e(0x1da)]),await this['sendPaymentStatusNotification'](_0x79dfd5,_0xb935b0[_0x25800e(0x1da)]),_0xb935b0[_0x25800e(0x1da)]!==_0x25800e(0x1e5)&&(console[_0x25800e(0x209)]('üßπ\x20[CHECK]\x20Payment\x20'+_0x79dfd5['id']+_0x25800e(0x1dd)+_0xb935b0[_0x25800e(0x1da)]+_0x25800e(0x214)),this[_0x25800e(0x213)](_0x79dfd5['id'])),console[_0x25800e(0x209)]('‚úÖ\x20[CHECK]\x20Payment\x20'+_0x79dfd5['id']+_0x25800e(0x1d9));}else console[_0x25800e(0x209)]('üìä\x20[CHECK]\x20Payment\x20'+_0x79dfd5['id']+_0x25800e(0x1fc)+_0xb935b0[_0x25800e(0x1da)]+')'),this[_0x25800e(0x1ef)](_0x79dfd5['id'],_0x79dfd5[_0x25800e(0x22d)],_0x79dfd5['status'],_0xb935b0[_0x25800e(0x1da)],_0x25800e(0x1c4),{'paymentDetails':_0xb935b0[_0x25800e(0x22a)],'amount':_0xb935b0[_0x25800e(0x20e)],'currency':_0xb935b0[_0x25800e(0x232)],'shopId':_0x79dfd5[_0x25800e(0x1fb)],'checkTimestamp':new Date()[_0x25800e(0x216)]()});}catch(_0x385e9c){console[_0x25800e(0x1c5)](_0x25800e(0x1d0)+_0x79dfd5['id']+':',_0x385e9c),this[_0x25800e(0x221)](_0x79dfd5['id'],_0x79dfd5[_0x25800e(0x22d)],_0x385e9c,_0x25800e(0x1cb),{'shopId':_0x79dfd5['shopId'],'amount':_0x79dfd5['amount'],'currency':_0x79dfd5['currency'],'checkTimestamp':new Date()[_0x25800e(0x216)]()});}}async[a51_0x9acb5(0x207)](_0x5e0dbd,_0x22e610){const _0x2d6633=a51_0x9acb5;if(!_0x5e0dbd['shop']?.[_0x2d6633(0x1d6)]?.['webhookUrl']||!_0x5e0dbd['shop']?.[_0x2d6633(0x1d6)]?.[_0x2d6633(0x20b)]){console['log'](_0x2d6633(0x235)+_0x5e0dbd[_0x2d6633(0x1fb)]);return;}try{const _0x3f4f28=JSON[_0x2d6633(0x1fd)](_0x5e0dbd[_0x2d6633(0x246)][_0x2d6633(0x1d6)][_0x2d6633(0x20b)]),_0x58ead5='payment.'+_0x22e610[_0x2d6633(0x21c)]();if(!_0x3f4f28[_0x2d6633(0x1c3)](_0x58ead5)){console[_0x2d6633(0x209)](_0x2d6633(0x228)+_0x58ead5+_0x2d6633(0x23d)+_0x5e0dbd[_0x2d6633(0x1fb)]);return;}console[_0x2d6633(0x209)](_0x2d6633(0x1e2)+_0x58ead5+_0x2d6633(0x23e)+_0x5e0dbd['shop']['settings']['webhookUrl']);const _0x5dd008={'event':_0x58ead5,'payment':{'id':_0x5e0dbd['id'],'status':_0x22e610,'amount':_0x5e0dbd['amount'],'currency':_0x5e0dbd['currency'],'gateway':_0x5e0dbd[_0x2d6633(0x211)],'gatewayPaymentId':_0x5e0dbd[_0x2d6633(0x22d)],'createdAt':_0x5e0dbd[_0x2d6633(0x223)],'updatedAt':new Date()}};console['log'](_0x2d6633(0x1f0)+_0x5e0dbd[_0x2d6633(0x1fb)]);}catch(_0x2f9b92){console['error'](_0x2d6633(0x1c9)+_0x5e0dbd['id']+':',_0x2f9b92);}}async[a51_0x9acb5(0x1d1)](_0x454640,_0x3eec53){const _0x53c168=a51_0x9acb5;try{console[_0x53c168(0x209)]('üì±\x20[TELEGRAM]\x20Payment\x20'+_0x454640['id']+_0x53c168(0x1c7)+_0x454640['status']+'\x20‚Üí\x20'+_0x3eec53);}catch(_0x569338){console['error'](_0x53c168(0x21d)+_0x454640['id']+':',_0x569338);}}['logRapydStatus'](_0x2ef9c6,_0x2d97d6,_0x265b7e,_0x33cf99,_0x41d3da,_0x307066){const _0x23b8b6=a51_0x9acb5,_0x7964a8={'paymentId':_0x2ef9c6,'gatewayPaymentId':_0x2d97d6,'oldStatus':_0x265b7e,'newStatus':_0x33cf99,'action':_0x41d3da,'timestamp':new Date()[_0x23b8b6(0x216)](),..._0x307066};console[_0x23b8b6(0x209)](_0x23b8b6(0x249),_0x7964a8),loggerService_1[_0x23b8b6(0x23f)][_0x23b8b6(0x20f)](_0x23b8b6(0x1e6),_0x23b8b6(0x206),_0x23b8b6(0x202),_0x7964a8);}['logRapydError'](_0x5b195c,_0x2ea3e2,_0x304fdb,_0x26c8b7,_0x173ccd){const _0x16c637=a51_0x9acb5,_0x300873={'paymentId':_0x5b195c,'gatewayPaymentId':_0x2ea3e2,'action':_0x26c8b7,'error':_0x304fdb instanceof Error?_0x304fdb['message']:String(_0x304fdb),'timestamp':new Date()['toISOString'](),..._0x173ccd};console[_0x16c637(0x1c5)](_0x16c637(0x1cc),_0x300873),loggerService_1['loggerService'][_0x16c637(0x243)]('rapyd','/status-service',_0x26c8b7+':\x20'+_0x300873[_0x16c637(0x1c5)]);}[a51_0x9acb5(0x244)](_0x13c107){const _0x1eeaeb=a51_0x9acb5,_0x2b1e5e=this[_0x1eeaeb(0x239)]['get'](_0x13c107);if(!_0x2b1e5e)return{'hasTimers':![],'message':_0x1eeaeb(0x1ec)};return{'hasTimers':!![],'paymentId':_0x2b1e5e[_0x1eeaeb(0x1e4)],'gatewayPaymentId':_0x2b1e5e[_0x1eeaeb(0x22d)],'createdAt':_0x2b1e5e['createdAt'],'activeTimers':_0x2b1e5e['timers'][_0x1eeaeb(0x1cd)],'message':_0x2b1e5e[_0x1eeaeb(0x21f)][_0x1eeaeb(0x1cd)]+_0x1eeaeb(0x219)};}[a51_0x9acb5(0x242)](){const _0x334984=a51_0x9acb5;return{'activeTimers':this['paymentTimers'][_0x334984(0x1d2)],'totalChecksScheduled':Array[_0x334984(0x23c)](this[_0x334984(0x239)][_0x334984(0x200)]())[_0x334984(0x247)]((_0x22ce3b,_0x597074)=>_0x22ce3b+_0x597074[_0x334984(0x21f)][_0x334984(0x1cd)],0x0)};}['shutdown'](){const _0x46a409=a51_0x9acb5;console[_0x46a409(0x209)]('üõë\x20[SHUTDOWN]\x20Stopping\x20RapydStatusService...');for(const [_0x25694a,_0x5ae60f]of this[_0x46a409(0x239)]){_0x5ae60f[_0x46a409(0x21f)][_0x46a409(0x225)](_0x2f4d31=>clearTimeout(_0x2f4d31)),console['log'](_0x46a409(0x22f)+_0x25694a);}this['paymentTimers']['clear'](),console[_0x46a409(0x209)](_0x46a409(0x227));}}function a51_0x1822(){const _0x4b8772=['forEach','../config/database','‚úÖ\x20[SHUTDOWN]\x20RapydStatusService\x20stopped','üîï\x20[WEBHOOK]\x20Event\x20','\x20\x20\x20-\x20Status:\x20','paymentDetails','first_check','\x20(30min,\x2060min)','gatewayPaymentId','PAID','üßπ\x20[SHUTDOWN]\x20Cleared\x20timers\x20for\x20payment\x20','Failure:\x20','üÜî\x20[CHECK]\x20Transaction\x20ID:\x20','currency','üîç\x20[CHECK]\x20Starting\x20check\x20for\x20payment\x20ID:\x20','‚ùå\x20[60MIN]\x20Failed\x20final\x20check\x20for\x20payment\x20','üîï\x20[WEBHOOK]\x20No\x20webhook\x20configured\x20for\x20shop\x20','create','üßπ\x20[DEBUG]\x20Clearing\x20','paidAt','paymentTimers','transactionId','11417870cztpmW','from','\x20not\x20enabled\x20for\x20shop\x20','\x20webhook\x20to\x20','loggerService',',\x20stopping\x20checks','1532461MmVuzk','getServiceStats','logWhiteDomainError','getPaymentTimerInfo','__esModule','shop','reduce','4755785eXdWBg','üìä\x20[RAPYD_STATUS]\x20Payment\x20status\x20update:','includes','status_check_no_change','error','üìä\x20[CHECK]\x20Payment\x20','\x20status\x20changed:\x20','‚úÖ\x20[DEBUG]\x20Successfully\x20scheduled\x202\x20checks\x20for\x20payment\x20','‚ùå\x20[WEBHOOK]\x20Failed\x20to\x20send\x20webhook\x20for\x20payment\x20','schedulePaymentChecks','status_check','‚ùå\x20[RAPYD_ERROR]\x20Payment\x20error:','length','__importDefault','set','‚ùå\x20[CHECK]\x20Error\x20checking\x20payment\x20','sendPaymentStatusNotification','size','update','RapydService','webhookLog','settings','schedule_created','64WsjtWW','\x20updated\x20successfully','status','8414070tYalbT','paymentMethodType','\x20status\x20changed\x20to\x20','rapydStatusService','‚ùå\x20[CHECK]\x20Saved\x20failure\x20message\x20to\x20admin\x20notes:\x20','\x20found:','get','üì°\x20[WEBHOOK]\x20Sending\x20','checkSinglePayment','paymentId','PENDING','rapyd','2fmVbLN','üîç\x20[CHECK]\x20Checking\x20Rapyd\x20payment\x20','üåê\x20[MANUAL]\x20Manual\x20check\x20requested\x20for\x20payment\x20','failureMessage','\x20has\x20no\x20gatewayPaymentId','No\x20active\x20timers\x20for\x20this\x20payment','3387572QkquTt','‚ö†Ô∏è\x20[CHECK]\x20Payment\x20','logRapydStatus','‚úÖ\x20[WEBHOOK]\x20Webhook\x20payload\x20prepared\x20for\x20shop\x20','checkSinglePaymentById','2862618GEkVmI','delete','RapydStatusService','‚úÖ\x20[DEBUG]\x20Cleared\x20timers\x20for\x20payment\x20','checkPaymentById','rapydService','1649178nkrgft','./gateways/rapydService','checkPaymentStatus','shopId','\x20status\x20unchanged\x20(','parse','\x20status:\x20','30\x20minutes','values','default','STATUS_UPDATE',',\x20timers\x20cleared','final_check','not\x20paid','/status-service','sendShopWebhook','\x20\x20\x20-\x20GatewayPaymentId:\x20','log','\x20\x20\x20-\x20gatewayPaymentId:\x20','webhookEvents','\x20status\x20from\x20','\x20is\x20not\x20a\x20Rapyd\x20payment\x20(gateway:\x20','amount','logWhiteDomainRequest','6IGEnox','gateway','\x20\x20\x20-\x20paymentId:\x20','clearPaymentTimers',',\x20clearing\x20timers','\x20status\x20is\x20','toISOString','\x20to\x20','findUnique','\x20active\x20timers','‚ùå\x20[30MIN]\x20Failed\x20first\x20check\x20for\x20payment\x20','\x20is\x20valid\x20for\x20checking,\x20proceeding...','toLowerCase','‚ùå\x20[TELEGRAM]\x20Failed\x20to\x20send\x20notification\x20for\x20payment\x20','\x20\x20\x20-\x20ShopId:\x20','timers','üåê\x20[60MIN]\x20Starting\x20final\x20check\x20for\x20payment\x20','logRapydError','push','createdAt','üí∞\x20[CHECK]\x20Payment\x20'];a51_0x1822=function(){return _0x4b8772;};return a51_0x1822();}exports['RapydStatusService']=RapydStatusService,exports[a51_0x9acb5(0x1de)]=new RapydStatusService();