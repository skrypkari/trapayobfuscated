'use strict';const a3_0x11c54c=a3_0x3fa5;(function(_0x14eeae,_0x46088e){const _0x208d54=a3_0x3fa5,_0x1c3024=_0x14eeae();while(!![]){try{const _0x21ae88=parseInt(_0x208d54(0x19c))/0x1+parseInt(_0x208d54(0x1cc))/0x2+-parseInt(_0x208d54(0x1b0))/0x3*(parseInt(_0x208d54(0x1c7))/0x4)+-parseInt(_0x208d54(0x1d2))/0x5*(parseInt(_0x208d54(0x1c9))/0x6)+parseInt(_0x208d54(0x1a9))/0x7+parseInt(_0x208d54(0x1b3))/0x8+-parseInt(_0x208d54(0x1bf))/0x9;if(_0x21ae88===_0x46088e)break;else _0x1c3024['push'](_0x1c3024['shift']());}catch(_0x55a856){_0x1c3024['push'](_0x1c3024['shift']());}}}(a3_0x3803,0xcfed1));var __createBinding=this&&this[a3_0x11c54c(0x1a4)]||(Object['create']?function(_0x16fc39,_0x2c3b74,_0x4c0bd9,_0x1f04eb){const _0x57fce0=a3_0x11c54c;if(_0x1f04eb===undefined)_0x1f04eb=_0x4c0bd9;var _0x19cb95=Object[_0x57fce0(0x1a1)](_0x2c3b74,_0x4c0bd9);(!_0x19cb95||(_0x57fce0(0x1d7)in _0x19cb95?!_0x2c3b74[_0x57fce0(0x1c8)]:_0x19cb95[_0x57fce0(0x1c5)]||_0x19cb95[_0x57fce0(0x1ca)]))&&(_0x19cb95={'enumerable':!![],'get':function(){return _0x2c3b74[_0x4c0bd9];}}),Object[_0x57fce0(0x1d9)](_0x16fc39,_0x1f04eb,_0x19cb95);}:function(_0x1ec19b,_0x2fa45d,_0x3b0a6d,_0x550d83){if(_0x550d83===undefined)_0x550d83=_0x3b0a6d;_0x1ec19b[_0x550d83]=_0x2fa45d[_0x3b0a6d];}),__setModuleDefault=this&&this[a3_0x11c54c(0x1be)]||(Object[a3_0x11c54c(0x1bd)]?function(_0x5b499a,_0x27557b){const _0x2bd96c=a3_0x11c54c;Object['defineProperty'](_0x5b499a,_0x2bd96c(0x1bc),{'enumerable':!![],'value':_0x27557b});}:function(_0x5e84f7,_0x56645e){_0x5e84f7['default']=_0x56645e;}),__importStar=this&&this[a3_0x11c54c(0x1b5)]||(function(){var _0x36617b=function(_0x5cf96b){return _0x36617b=Object['getOwnPropertyNames']||function(_0x52e75e){const _0x1973ec=a3_0x3fa5;var _0x1561fa=[];for(var _0x25c9df in _0x52e75e)if(Object['prototype'][_0x1973ec(0x1b1)][_0x1973ec(0x1d5)](_0x52e75e,_0x25c9df))_0x1561fa[_0x1561fa[_0x1973ec(0x1af)]]=_0x25c9df;return _0x1561fa;},_0x36617b(_0x5cf96b);};return function(_0x5dfa07){const _0x3befbe=a3_0x3fa5;if(_0x5dfa07&&_0x5dfa07['__esModule'])return _0x5dfa07;var _0x2bd91c={};if(_0x5dfa07!=null){for(var _0x445202=_0x36617b(_0x5dfa07),_0x39a780=0x0;_0x39a780<_0x445202[_0x3befbe(0x1af)];_0x39a780++)if(_0x445202[_0x39a780]!=='default')__createBinding(_0x2bd91c,_0x5dfa07,_0x445202[_0x39a780]);}return __setModuleDefault(_0x2bd91c,_0x5dfa07),_0x2bd91c;};}()),__importDefault=this&&this[a3_0x11c54c(0x1a7)]||function(_0x1383e5){const _0x65a87e=a3_0x11c54c;return _0x1383e5&&_0x1383e5[_0x65a87e(0x1c8)]?_0x1383e5:{'default':_0x1383e5};};Object['defineProperty'](exports,a3_0x11c54c(0x1c8),{'value':!![]}),exports['getAdminBotSettings']=exports['updateAdminBotSettings']=void 0x0;const adminBotService_1=require(a3_0x11c54c(0x1d4)),speakeasy_1=__importDefault(require(a3_0x11c54c(0x1ab))),bcryptjs_1=__importDefault(require('bcryptjs')),config_1=require('../config/config'),updateAdminBotSettings=async(_0x5cf98e,_0x229867)=>{const _0x44b23a=a3_0x11c54c;try{const {telegramId1:_0x34beba,telegramId2:_0x544cbe,twoFactorToken:_0x595b4e}=_0x5cf98e[_0x44b23a(0x1bb)],_0x511a33=_0x5cf98e[_0x44b23a(0x1a6)]?.['id'];if(!_0x511a33)return _0x229867[_0x44b23a(0x1ce)](0x191)['json']({'success':![],'message':_0x44b23a(0x1c2)});if(config_1['config'][_0x44b23a(0x1c1)][_0x44b23a(0x1c4)]){if(!_0x595b4e)return _0x229867['status'](0x190)['json']({'success':![],'message':_0x44b23a(0x1ac)});const _0x44cebb=speakeasy_1[_0x44b23a(0x1bc)][_0x44b23a(0x1a5)][_0x44b23a(0x1ba)]({'secret':config_1[_0x44b23a(0x199)]['admin']['twoFactorSecret'],'encoding':_0x44b23a(0x1c6),'token':_0x595b4e,'window':0x2});if(!_0x44cebb){let _0x4a4967=![];if(config_1['config'][_0x44b23a(0x1c1)][_0x44b23a(0x1b4)]){const _0x46c955=JSON[_0x44b23a(0x1ae)](config_1[_0x44b23a(0x199)][_0x44b23a(0x1c1)][_0x44b23a(0x1b4)]);for(let _0x18d437=0x0;_0x18d437<_0x46c955[_0x44b23a(0x1af)];_0x18d437++){const _0x27d920=await bcryptjs_1[_0x44b23a(0x1bc)][_0x44b23a(0x1a8)](_0x595b4e,_0x46c955[_0x18d437]);if(_0x27d920){_0x4a4967=!![],_0x46c955['splice'](_0x18d437,0x1);const _0x1698ef=await Promise[_0x44b23a(0x1d3)]()[_0x44b23a(0x1b2)](()=>__importStar(require('fs'))),_0x57abc6=await Promise[_0x44b23a(0x1d3)]()['then'](()=>__importStar(require(_0x44b23a(0x1d1)))),_0x7a58d7=_0x57abc6[_0x44b23a(0x1a3)](process['cwd'](),_0x44b23a(0x19e));if(_0x1698ef[_0x44b23a(0x1b9)](_0x7a58d7)){let _0x22d12f=_0x1698ef[_0x44b23a(0x1ad)](_0x7a58d7,_0x44b23a(0x1cf));const _0x44273b=_0x22d12f[_0x44b23a(0x1cd)]('\x0a');for(let _0x21c1bd=0x0;_0x21c1bd<_0x44273b[_0x44b23a(0x1af)];_0x21c1bd++){if(_0x44273b[_0x21c1bd][_0x44b23a(0x1a2)](_0x44b23a(0x1cb))){_0x44273b[_0x21c1bd]=_0x44b23a(0x1cb)+JSON[_0x44b23a(0x198)](_0x46c955);break;}}_0x1698ef[_0x44b23a(0x1b6)](_0x7a58d7,_0x44273b[_0x44b23a(0x1a3)]('\x0a'),_0x44b23a(0x1cf));}break;}}}if(!_0x4a4967)return _0x229867[_0x44b23a(0x1ce)](0x190)[_0x44b23a(0x1da)]({'success':![],'message':_0x44b23a(0x1c3)});}}const _0x1a9e94=[];_0x34beba&&_0x34beba[_0x44b23a(0x1d6)]()&&_0x1a9e94['push'](_0x34beba['trim']()),_0x544cbe&&_0x544cbe[_0x44b23a(0x1d6)]()&&_0x1a9e94['push'](_0x544cbe['trim']()),adminBotService_1[_0x44b23a(0x19d)][_0x44b23a(0x1b8)](_0x1a9e94),_0x229867['json']({'success':!![],'message':'Admin\x20bot\x20settings\x20updated\x20successfully','result':{'adminIds':_0x1a9e94,'botActive':adminBotService_1[_0x44b23a(0x19d)][_0x44b23a(0x1b7)]()[_0x44b23a(0x19f)]}});}catch(_0x236c51){console[_0x44b23a(0x19a)](_0x44b23a(0x1d0),_0x236c51),_0x229867[_0x44b23a(0x1ce)](0x1f4)['json']({'success':![],'message':'Failed\x20to\x20update\x20admin\x20bot\x20settings'});}};function a3_0x3fa5(_0x586f67,_0x36071c){_0x586f67=_0x586f67-0x198;const _0x380307=a3_0x3803();let _0x3fa596=_0x380307[_0x586f67];return _0x3fa596;}exports[a3_0x11c54c(0x1aa)]=updateAdminBotSettings;const getAdminBotSettings=async(_0x1b9fcb,_0x233615)=>{const _0x3a12be=a3_0x11c54c;try{const _0x39d253=adminBotService_1['adminBotService'][_0x3a12be(0x1a0)](),_0x3248d7=adminBotService_1[_0x3a12be(0x19d)][_0x3a12be(0x1b7)]();_0x233615['json']({'success':!![],'result':{'telegramId1':_0x39d253[0x0]||'','telegramId2':_0x39d253[0x1]||'',..._0x3248d7}});}catch(_0x26c504){console[_0x3a12be(0x19a)](_0x3a12be(0x1d8),_0x26c504),_0x233615[_0x3a12be(0x1ce)](0x1f4)[_0x3a12be(0x1da)]({'success':![],'message':_0x3a12be(0x19b)});}};exports[a3_0x11c54c(0x1c0)]=getAdminBotSettings;function a3_0x3803(){const _0x23f2cc=['__importStar','writeFileSync','getBotInfo','updateAdminIds','existsSync','verify','body','default','create','__setModuleDefault','22308354VYxKCX','getAdminBotSettings','admin','Unauthorized','Invalid\x202FA\x20token\x20or\x20backup\x20code','twoFactorEnabled','writable','base32','4RizXdg','__esModule','6XfRqTW','configurable','ADMIN_BACKUP_CODES=','1386308mHGmjh','split','status','utf8','Error\x20updating\x20admin\x20bot\x20settings:','path','3512755xLLYPx','resolve','../services/adminBotService','call','trim','get','Error\x20getting\x20admin\x20bot\x20settings:','defineProperty','json','stringify','config','error','Failed\x20to\x20get\x20admin\x20bot\x20settings','1454899vxumnv','adminBotService','.env','isActive','getAdminIds','getOwnPropertyDescriptor','startsWith','join','__createBinding','totp','user','__importDefault','compare','2437722cjYoFA','updateAdminBotSettings','speakeasy','2FA\x20token\x20is\x20required','readFileSync','parse','length','91362NuFiNS','hasOwnProperty','then','12536616NLRVfJ','backupCodes'];a3_0x3803=function(){return _0x23f2cc;};return a3_0x3803();}