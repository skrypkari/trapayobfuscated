'use strict';function a3_0x34ac(_0x576d5e,_0x448b61){_0x576d5e=_0x576d5e-0x10a;const _0x9acb9a=a3_0x9acb();let _0x34ac8a=_0x9acb9a[_0x576d5e];return _0x34ac8a;}function a3_0x9acb(){const _0x27b1a2=['call','adminBotService','error','startsWith','2FA\x20token\x20is\x20required','ADMIN_BACKUP_CODES=','getOwnPropertyDescriptor','length','getBotInfo','verify','writeFileSync','configurable','body','twoFactorEnabled','totp','7074120lIFmJj','1rzRGXk','config','.env','Unauthorized','parse','__importDefault','readFileSync','3ZUDjkG','default','Failed\x20to\x20update\x20admin\x20bot\x20settings','get','defineProperty','11062051ElfUXz','backupCodes','compare','base32','getAdminIds','updateAdminBotSettings','utf8','splice','status','75LrJRBD','create','1095936LXnjfc','join','trim','../services/adminBotService','then','1076301FVzVEi','existsSync','__esModule','Admin\x20bot\x20settings\x20updated\x20successfully','384216MFDDtD','911056zEZkEQ','Failed\x20to\x20get\x20admin\x20bot\x20settings','json','__setModuleDefault','isActive','stringify','push','getAdminBotSettings','speakeasy','100iHXdnn','12jfECxK','user','admin','7731164macqru'];a3_0x9acb=function(){return _0x27b1a2;};return a3_0x9acb();}const a3_0x199521=a3_0x34ac;(function(_0x2e0e44,_0x426e49){const _0x5bcff0=a3_0x34ac,_0x45e741=_0x2e0e44();while(!![]){try{const _0x2e387d=parseInt(_0x5bcff0(0x12f))/0x1*(-parseInt(_0x5bcff0(0x146))/0x2)+-parseInt(_0x5bcff0(0x136))/0x3*(parseInt(_0x5bcff0(0x111))/0x4)+parseInt(_0x5bcff0(0x144))/0x5*(-parseInt(_0x5bcff0(0x110))/0x6)+parseInt(_0x5bcff0(0x11e))/0x7+-parseInt(_0x5bcff0(0x12e))/0x8+parseInt(_0x5bcff0(0x10c))/0x9*(parseInt(_0x5bcff0(0x11a))/0xa)+-parseInt(_0x5bcff0(0x13b))/0xb*(-parseInt(_0x5bcff0(0x11b))/0xc);if(_0x2e387d===_0x426e49)break;else _0x45e741['push'](_0x45e741['shift']());}catch(_0x60d439){_0x45e741['push'](_0x45e741['shift']());}}}(a3_0x9acb,0xa7586));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x31cee8,_0x51f832,_0x5234ce,_0x301ef4){const _0x39b331=a3_0x34ac;if(_0x301ef4===undefined)_0x301ef4=_0x5234ce;var _0x15a63b=Object[_0x39b331(0x125)](_0x51f832,_0x5234ce);(!_0x15a63b||(_0x39b331(0x139)in _0x15a63b?!_0x51f832[_0x39b331(0x10e)]:_0x15a63b['writable']||_0x15a63b[_0x39b331(0x12a)]))&&(_0x15a63b={'enumerable':!![],'get':function(){return _0x51f832[_0x5234ce];}}),Object[_0x39b331(0x13a)](_0x31cee8,_0x301ef4,_0x15a63b);}:function(_0x3a295d,_0x18c654,_0x44d600,_0x1ad6b8){if(_0x1ad6b8===undefined)_0x1ad6b8=_0x44d600;_0x3a295d[_0x1ad6b8]=_0x18c654[_0x44d600];}),__setModuleDefault=this&&this[a3_0x199521(0x114)]||(Object[a3_0x199521(0x145)]?function(_0x1f0272,_0x36cc9a){Object['defineProperty'](_0x1f0272,'default',{'enumerable':!![],'value':_0x36cc9a});}:function(_0x41dcc4,_0x166542){const _0x5b432f=a3_0x199521;_0x41dcc4[_0x5b432f(0x137)]=_0x166542;}),__importStar=this&&this['__importStar']||(function(){var _0x378276=function(_0x4435af){return _0x378276=Object['getOwnPropertyNames']||function(_0x57c471){const _0x2924f7=a3_0x34ac;var _0x347ebc=[];for(var _0x5d93c2 in _0x57c471)if(Object['prototype']['hasOwnProperty'][_0x2924f7(0x11f)](_0x57c471,_0x5d93c2))_0x347ebc[_0x347ebc[_0x2924f7(0x126)]]=_0x5d93c2;return _0x347ebc;},_0x378276(_0x4435af);};return function(_0x5b2947){const _0x3fa083=a3_0x34ac;if(_0x5b2947&&_0x5b2947[_0x3fa083(0x10e)])return _0x5b2947;var _0x14d440={};if(_0x5b2947!=null){for(var _0x4c8e44=_0x378276(_0x5b2947),_0x451832=0x0;_0x451832<_0x4c8e44[_0x3fa083(0x126)];_0x451832++)if(_0x4c8e44[_0x451832]!==_0x3fa083(0x137))__createBinding(_0x14d440,_0x5b2947,_0x4c8e44[_0x451832]);}return __setModuleDefault(_0x14d440,_0x5b2947),_0x14d440;};}()),__importDefault=this&&this[a3_0x199521(0x134)]||function(_0x2416c3){const _0x58f3e2=a3_0x199521;return _0x2416c3&&_0x2416c3[_0x58f3e2(0x10e)]?_0x2416c3:{'default':_0x2416c3};};Object[a3_0x199521(0x13a)](exports,a3_0x199521(0x10e),{'value':!![]}),exports[a3_0x199521(0x118)]=exports[a3_0x199521(0x140)]=void 0x0;const adminBotService_1=require(a3_0x199521(0x10a)),speakeasy_1=__importDefault(require(a3_0x199521(0x119))),bcryptjs_1=__importDefault(require('bcryptjs')),config_1=require('../config/config'),updateAdminBotSettings=async(_0x1d360d,_0x3ba402)=>{const _0x242562=a3_0x199521;try{const {telegramId1:_0x2b817b,telegramId2:_0x277ab0,twoFactorToken:_0xf4a997}=_0x1d360d[_0x242562(0x12b)],_0x18d0f1=_0x1d360d[_0x242562(0x11c)]?.['id'];if(!_0x18d0f1)return _0x3ba402[_0x242562(0x143)](0x191)[_0x242562(0x113)]({'success':![],'message':_0x242562(0x132)});if(config_1['config']['admin'][_0x242562(0x12c)]){if(!_0xf4a997)return _0x3ba402['status'](0x190)[_0x242562(0x113)]({'success':![],'message':_0x242562(0x123)});const _0x280a55=speakeasy_1[_0x242562(0x137)][_0x242562(0x12d)][_0x242562(0x128)]({'secret':config_1[_0x242562(0x130)][_0x242562(0x11d)]['twoFactorSecret'],'encoding':_0x242562(0x13e),'token':_0xf4a997,'window':0x2});if(!_0x280a55){let _0xe4a00b=![];if(config_1['config'][_0x242562(0x11d)][_0x242562(0x13c)]){const _0x1c98aa=JSON[_0x242562(0x133)](config_1[_0x242562(0x130)]['admin'][_0x242562(0x13c)]);for(let _0x2c02fc=0x0;_0x2c02fc<_0x1c98aa[_0x242562(0x126)];_0x2c02fc++){const _0x7bec0b=await bcryptjs_1[_0x242562(0x137)][_0x242562(0x13d)](_0xf4a997,_0x1c98aa[_0x2c02fc]);if(_0x7bec0b){_0xe4a00b=!![],_0x1c98aa[_0x242562(0x142)](_0x2c02fc,0x1);const _0x9f65aa=await Promise['resolve']()[_0x242562(0x10b)](()=>__importStar(require('fs'))),_0x44c2c4=await Promise['resolve']()[_0x242562(0x10b)](()=>__importStar(require('path'))),_0x4fc577=_0x44c2c4[_0x242562(0x147)](process['cwd'](),_0x242562(0x131));if(_0x9f65aa[_0x242562(0x10d)](_0x4fc577)){let _0x2a619b=_0x9f65aa[_0x242562(0x135)](_0x4fc577,_0x242562(0x141));const _0x5444d4=_0x2a619b['split']('\x0a');for(let _0x5e93ef=0x0;_0x5e93ef<_0x5444d4[_0x242562(0x126)];_0x5e93ef++){if(_0x5444d4[_0x5e93ef][_0x242562(0x122)](_0x242562(0x124))){_0x5444d4[_0x5e93ef]=_0x242562(0x124)+JSON[_0x242562(0x116)](_0x1c98aa);break;}}_0x9f65aa[_0x242562(0x129)](_0x4fc577,_0x5444d4[_0x242562(0x147)]('\x0a'),'utf8');}break;}}}if(!_0xe4a00b)return _0x3ba402['status'](0x190)[_0x242562(0x113)]({'success':![],'message':'Invalid\x202FA\x20token\x20or\x20backup\x20code'});}}const _0x5359fa=[];_0x2b817b&&_0x2b817b[_0x242562(0x148)]()&&_0x5359fa[_0x242562(0x117)](_0x2b817b[_0x242562(0x148)]()),_0x277ab0&&_0x277ab0[_0x242562(0x148)]()&&_0x5359fa[_0x242562(0x117)](_0x277ab0[_0x242562(0x148)]()),adminBotService_1[_0x242562(0x120)]['updateAdminIds'](_0x5359fa),_0x3ba402[_0x242562(0x113)]({'success':!![],'message':_0x242562(0x10f),'result':{'adminIds':_0x5359fa,'botActive':adminBotService_1[_0x242562(0x120)][_0x242562(0x127)]()[_0x242562(0x115)]}});}catch(_0x350d4d){console[_0x242562(0x121)]('Error\x20updating\x20admin\x20bot\x20settings:',_0x350d4d),_0x3ba402[_0x242562(0x143)](0x1f4)[_0x242562(0x113)]({'success':![],'message':_0x242562(0x138)});}};exports['updateAdminBotSettings']=updateAdminBotSettings;const getAdminBotSettings=async(_0x41f80f,_0x4e115e)=>{const _0x18aa0f=a3_0x199521;try{const _0x221a34=adminBotService_1[_0x18aa0f(0x120)][_0x18aa0f(0x13f)](),_0x342835=adminBotService_1[_0x18aa0f(0x120)][_0x18aa0f(0x127)]();_0x4e115e[_0x18aa0f(0x113)]({'success':!![],'result':{'telegramId1':_0x221a34[0x0]||'','telegramId2':_0x221a34[0x1]||'',..._0x342835}});}catch(_0x2ca3d8){console[_0x18aa0f(0x121)]('Error\x20getting\x20admin\x20bot\x20settings:',_0x2ca3d8),_0x4e115e[_0x18aa0f(0x143)](0x1f4)[_0x18aa0f(0x113)]({'success':![],'message':_0x18aa0f(0x112)});}};exports['getAdminBotSettings']=getAdminBotSettings;