'use strict';const a3_0x48336f=a3_0x28fc;function a3_0x361b(){const _0x66ba79=['2FA\x20token\x20is\x20required','totp','trim','3PpJJmK','464141PXxwal','getOwnPropertyDescriptor','default','body','Admin\x20bot\x20settings\x20updated\x20successfully','config','join','adminBotService','then','verify','getBotInfo','startsWith','twoFactorEnabled','1305340KaJzbQ','__setModuleDefault','hasOwnProperty','../config/config','2172960wTypcf','splice','speakeasy','Failed\x20to\x20update\x20admin\x20bot\x20settings','__esModule','configurable','Error\x20getting\x20admin\x20bot\x20settings:','.env','backupCodes','writable','getAdminIds','614782AFFCTE','isActive','readFileSync','102pelmTx','getAdminBotSettings','existsSync','__importStar','207543GLieyj','base32','Invalid\x202FA\x20token\x20or\x20backup\x20code','updateAdminBotSettings','bcryptjs','cwd','status','push','ADMIN_BACKUP_CODES=','get','__importDefault','defineProperty','__createBinding','path','error','getOwnPropertyNames','length','16987581XiKrhx','Unauthorized','../services/adminBotService','utf8','json','updateAdminIds','split','stringify','user','1552656uCOiHa','create','Error\x20updating\x20admin\x20bot\x20settings:','admin','writeFileSync'];a3_0x361b=function(){return _0x66ba79;};return a3_0x361b();}(function(_0x1f72c0,_0x40b0f1){const _0x3a0f96=a3_0x28fc,_0x266f30=_0x1f72c0();while(!![]){try{const _0x58b129=parseInt(_0x3a0f96(0x184))/0x1+-parseInt(_0x3a0f96(0x15a))/0x2*(-parseInt(_0x3a0f96(0x183))/0x3)+parseInt(_0x3a0f96(0x17b))/0x4+parseInt(_0x3a0f96(0x14b))/0x5+parseInt(_0x3a0f96(0x15d))/0x6*(parseInt(_0x3a0f96(0x161))/0x7)+parseInt(_0x3a0f96(0x14f))/0x8+-parseInt(_0x3a0f96(0x172))/0x9;if(_0x58b129===_0x40b0f1)break;else _0x266f30['push'](_0x266f30['shift']());}catch(_0x401ed0){_0x266f30['push'](_0x266f30['shift']());}}}(a3_0x361b,0x4b6ac));function a3_0x28fc(_0x24b27c,_0x5384cb){_0x24b27c=_0x24b27c-0x145;const _0x361ba5=a3_0x361b();let _0x28fc50=_0x361ba5[_0x24b27c];return _0x28fc50;}var __createBinding=this&&this[a3_0x48336f(0x16d)]||(Object[a3_0x48336f(0x17c)]?function(_0x336423,_0x160205,_0x5543ff,_0x586b42){const _0x110cbf=a3_0x48336f;if(_0x586b42===undefined)_0x586b42=_0x5543ff;var _0x123868=Object[_0x110cbf(0x185)](_0x160205,_0x5543ff);(!_0x123868||(_0x110cbf(0x16a)in _0x123868?!_0x160205[_0x110cbf(0x153)]:_0x123868[_0x110cbf(0x158)]||_0x123868[_0x110cbf(0x154)]))&&(_0x123868={'enumerable':!![],'get':function(){return _0x160205[_0x5543ff];}}),Object['defineProperty'](_0x336423,_0x586b42,_0x123868);}:function(_0x38912b,_0x31640f,_0x197ed3,_0x194ff2){if(_0x194ff2===undefined)_0x194ff2=_0x197ed3;_0x38912b[_0x194ff2]=_0x31640f[_0x197ed3];}),__setModuleDefault=this&&this[a3_0x48336f(0x14c)]||(Object[a3_0x48336f(0x17c)]?function(_0x3b0e18,_0x392748){const _0x27b38f=a3_0x48336f;Object['defineProperty'](_0x3b0e18,_0x27b38f(0x186),{'enumerable':!![],'value':_0x392748});}:function(_0x3fe6ef,_0x45a461){const _0x3f7eca=a3_0x48336f;_0x3fe6ef[_0x3f7eca(0x186)]=_0x45a461;}),__importStar=this&&this[a3_0x48336f(0x160)]||(function(){var _0x257704=function(_0x1f42c6){const _0x425ffc=a3_0x28fc;return _0x257704=Object[_0x425ffc(0x170)]||function(_0x1ca530){const _0x425b75=_0x425ffc;var _0x3981c4=[];for(var _0xcfd1d9 in _0x1ca530)if(Object['prototype'][_0x425b75(0x14d)]['call'](_0x1ca530,_0xcfd1d9))_0x3981c4[_0x3981c4[_0x425b75(0x171)]]=_0xcfd1d9;return _0x3981c4;},_0x257704(_0x1f42c6);};return function(_0x270b31){const _0x16148c=a3_0x28fc;if(_0x270b31&&_0x270b31[_0x16148c(0x153)])return _0x270b31;var _0x4d2bbb={};if(_0x270b31!=null){for(var _0x3f7d4e=_0x257704(_0x270b31),_0x35dd21=0x0;_0x35dd21<_0x3f7d4e[_0x16148c(0x171)];_0x35dd21++)if(_0x3f7d4e[_0x35dd21]!=='default')__createBinding(_0x4d2bbb,_0x270b31,_0x3f7d4e[_0x35dd21]);}return __setModuleDefault(_0x4d2bbb,_0x270b31),_0x4d2bbb;};}()),__importDefault=this&&this[a3_0x48336f(0x16b)]||function(_0x253bad){const _0x1edaf5=a3_0x48336f;return _0x253bad&&_0x253bad[_0x1edaf5(0x153)]?_0x253bad:{'default':_0x253bad};};Object[a3_0x48336f(0x16c)](exports,a3_0x48336f(0x153),{'value':!![]}),exports[a3_0x48336f(0x15e)]=exports[a3_0x48336f(0x164)]=void 0x0;const adminBotService_1=require(a3_0x48336f(0x174)),speakeasy_1=__importDefault(require(a3_0x48336f(0x151))),bcryptjs_1=__importDefault(require(a3_0x48336f(0x165))),config_1=require(a3_0x48336f(0x14e)),updateAdminBotSettings=async(_0x4673db,_0x1e79c2)=>{const _0x20a7c6=a3_0x48336f;try{const {telegramId1:_0x32f852,telegramId2:_0x5517ce,twoFactorToken:_0x145af4}=_0x4673db[_0x20a7c6(0x187)],_0x38b608=_0x4673db[_0x20a7c6(0x17a)]?.['id'];if(!_0x38b608)return _0x1e79c2['status'](0x191)[_0x20a7c6(0x176)]({'success':![],'message':_0x20a7c6(0x173)});if(config_1['config'][_0x20a7c6(0x17e)][_0x20a7c6(0x14a)]){if(!_0x145af4)return _0x1e79c2[_0x20a7c6(0x167)](0x190)[_0x20a7c6(0x176)]({'success':![],'message':_0x20a7c6(0x180)});const _0x4c4f59=speakeasy_1[_0x20a7c6(0x186)][_0x20a7c6(0x181)][_0x20a7c6(0x147)]({'secret':config_1[_0x20a7c6(0x189)]['admin']['twoFactorSecret'],'encoding':_0x20a7c6(0x162),'token':_0x145af4,'window':0x2});if(!_0x4c4f59){let _0x2fc26d=![];if(config_1[_0x20a7c6(0x189)][_0x20a7c6(0x17e)][_0x20a7c6(0x157)]){const _0x520f9e=JSON['parse'](config_1['config']['admin'][_0x20a7c6(0x157)]);for(let _0x4830f2=0x0;_0x4830f2<_0x520f9e[_0x20a7c6(0x171)];_0x4830f2++){const _0x124d39=await bcryptjs_1['default']['compare'](_0x145af4,_0x520f9e[_0x4830f2]);if(_0x124d39){_0x2fc26d=!![],_0x520f9e[_0x20a7c6(0x150)](_0x4830f2,0x1);const _0x23b787=await Promise['resolve']()['then'](()=>__importStar(require('fs'))),_0x29d230=await Promise['resolve']()[_0x20a7c6(0x146)](()=>__importStar(require(_0x20a7c6(0x16e)))),_0x20c872=_0x29d230[_0x20a7c6(0x18a)](process[_0x20a7c6(0x166)](),_0x20a7c6(0x156));if(_0x23b787[_0x20a7c6(0x15f)](_0x20c872)){let _0x28a34e=_0x23b787[_0x20a7c6(0x15c)](_0x20c872,_0x20a7c6(0x175));const _0x2bb476=_0x28a34e[_0x20a7c6(0x178)]('\x0a');for(let _0x58f61d=0x0;_0x58f61d<_0x2bb476['length'];_0x58f61d++){if(_0x2bb476[_0x58f61d][_0x20a7c6(0x149)](_0x20a7c6(0x169))){_0x2bb476[_0x58f61d]='ADMIN_BACKUP_CODES='+JSON[_0x20a7c6(0x179)](_0x520f9e);break;}}_0x23b787[_0x20a7c6(0x17f)](_0x20c872,_0x2bb476[_0x20a7c6(0x18a)]('\x0a'),_0x20a7c6(0x175));}break;}}}if(!_0x2fc26d)return _0x1e79c2[_0x20a7c6(0x167)](0x190)[_0x20a7c6(0x176)]({'success':![],'message':_0x20a7c6(0x163)});}}const _0x2e0d9b=[];_0x32f852&&_0x32f852[_0x20a7c6(0x182)]()&&_0x2e0d9b[_0x20a7c6(0x168)](_0x32f852[_0x20a7c6(0x182)]()),_0x5517ce&&_0x5517ce[_0x20a7c6(0x182)]()&&_0x2e0d9b['push'](_0x5517ce[_0x20a7c6(0x182)]()),adminBotService_1['adminBotService'][_0x20a7c6(0x177)](_0x2e0d9b),_0x1e79c2['json']({'success':!![],'message':_0x20a7c6(0x188),'result':{'adminIds':_0x2e0d9b,'botActive':adminBotService_1[_0x20a7c6(0x145)][_0x20a7c6(0x148)]()[_0x20a7c6(0x15b)]}});}catch(_0x29cec0){console[_0x20a7c6(0x16f)](_0x20a7c6(0x17d),_0x29cec0),_0x1e79c2['status'](0x1f4)['json']({'success':![],'message':_0x20a7c6(0x152)});}};exports[a3_0x48336f(0x164)]=updateAdminBotSettings;const getAdminBotSettings=async(_0x48098f,_0x122234)=>{const _0x494a57=a3_0x48336f;try{const _0x5cb0c7=adminBotService_1[_0x494a57(0x145)][_0x494a57(0x159)](),_0x4d8218=adminBotService_1[_0x494a57(0x145)][_0x494a57(0x148)]();_0x122234[_0x494a57(0x176)]({'success':!![],'result':{'telegramId1':_0x5cb0c7[0x0]||'','telegramId2':_0x5cb0c7[0x1]||'',..._0x4d8218}});}catch(_0xf15a23){console[_0x494a57(0x16f)](_0x494a57(0x155),_0xf15a23),_0x122234[_0x494a57(0x167)](0x1f4)[_0x494a57(0x176)]({'success':![],'message':'Failed\x20to\x20get\x20admin\x20bot\x20settings'});}};exports[a3_0x48336f(0x15e)]=getAdminBotSettings;