'use strict';const a3_0x3d6051=a3_0x4826;function a3_0x16b4(){const _0x70507d=['setup2FA','cleanupStaleProcessingPayments','Payout\x20deleted\x20successfully','processed','chargeback','getShopWallets','paymentLinkService','activateUser','defineProperty','users','updateCustomerData','updateUser','suspendUser','FAILED','../services/paymentLinkService','json','PENDING\x20payment\x20cleanup\x20completed\x20successfully','\x20->\x20','createUser','cleanupStalePaymentsWithReport','\x20to\x20PAID,\x20updating\x20payment\x20link\x20counter','57163bVXBcc','status','cleanupStalePendingPayments','../services/telegramBotService','getPayoutById','expirePaymentLinks','summary','1433370FOFYoA','EXPIRED','1345gPJzNV','updatePaymentStatus','error','deletePayout','total','failed','Failed\x20to\x20send\x20Telegram\x20notification\x20for\x20status\x20change:','2FA\x20disabled\x20successfully','updatePayout','adminService','ðŸŽ¯\x20[CONTROLLER]\x20Creating\x20payout\x20with\x20data:','getUsers','30643459kAOuQp','45GZHhOk','role','5087226OUsYMv','getPayoutStats','getAllPayments','Payment\x20not\x20found','expireSinglePaymentLinks','refund','getMerchantsSelection','ðŸ”„\x20Admin\x20updating\x20customer\x20data\x20for\x20payment\x20','30d','handleSuccessfulPayment','processing','ðŸ§¹\x20Manual\x20PROCESSING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','ðŸ“Š\x20Admin\x20requesting\x20merchant\x20statistics\x20with\x20filters:','ðŸŽ¯\x20[CONTROLLER]\x20Updating\x20payout\x20','\x20with\x20data:','Payment\x20link\x20expiration\x20check\x20completed\x20successfully','516084OrZwMp','gateway','username','Payout\x20not\x20found','errors','telegramBotService','getMerchantsAwaitingPayout','log','getSystemStatistics','createPayout','createdAt','statistics','deleteUser','toUpperCase','REFUND','getPaymentById','month','true','7PdRLcx','PAID','CHARGEBACK','getMerchantStatistics','../services/paymentCleanupService','User\x20activated\x20successfully','disable2FA','User\x20not\x20found','getProcessingPaymentsStats','expired','getStatistics','Payout\x20created\x20successfully','getUserById','\x20status\x20changed\x20from\x20','body','getAllPayouts','user','getPayments','updatePayment','getPayouts',',\x20sending\x20Telegram\x20notification','ðŸ“Š\x20Manual\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20initiated\x20by\x20admin:\x20','Payout\x20updated\x20successfully','12040872ruZLtM','\x20to\x20','shopId','payments','params','Payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20completed\x20successfully','cleanupStalePayments','PROCESSING\x20payment\x20cleanup\x20completed\x20successfully','ðŸ“ˆ\x20Admin\x20changed\x20payment\x20','enable2FA','Payment\x20updated\x20successfully','User\x20suspended\x20successfully','â°\x20Manual\x20PENDING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','checkAuth','sendPaymentNotification','pagination','2FUJNoO','PROCESSING','query','paymentCleanupService','User\x20deleted\x20successfully','User\x20created\x20successfully','AdminController','6380AgbuAd'];a3_0x16b4=function(){return _0x70507d;};return a3_0x16b4();}(function(_0x38ba60,_0x4f8a0c){const _0x242c81=a3_0x4826,_0x4293cf=_0x38ba60();while(!![]){try{const _0x66838d=parseInt(_0x242c81(0x1ad))/0x1*(-parseInt(_0x242c81(0x190))/0x2)+parseInt(_0x242c81(0x157))/0x3+parseInt(_0x242c81(0x197))/0x4*(parseInt(_0x242c81(0x1b6))/0x5)+-parseInt(_0x242c81(0x147))/0x6*(-parseInt(_0x242c81(0x169))/0x7)+parseInt(_0x242c81(0x180))/0x8+parseInt(_0x242c81(0x145))/0x9*(parseInt(_0x242c81(0x1b4))/0xa)+-parseInt(_0x242c81(0x144))/0xb;if(_0x66838d===_0x4f8a0c)break;else _0x4293cf['push'](_0x4293cf['shift']());}catch(_0x17103c){_0x4293cf['push'](_0x4293cf['shift']());}}}(a3_0x16b4,0xca1a8));Object[a3_0x3d6051(0x1a0)](exports,'__esModule',{'value':!![]}),exports[a3_0x3d6051(0x196)]=void 0x0;function a3_0x4826(_0xb5c71c,_0x43e0ec){_0xb5c71c=_0xb5c71c-0x144;const _0x16b408=a3_0x16b4();let _0x48265=_0x16b408[_0xb5c71c];return _0x48265;}const adminService_1=require('../services/adminService'),paymentLinkService_1=require(a3_0x3d6051(0x1a6)),paymentCleanupService_1=require(a3_0x3d6051(0x16d)),telegramBotService_1=require(a3_0x3d6051(0x1b0));class AdminController{constructor(){const _0x433a41=a3_0x3d6051;this[_0x433a41(0x18d)]=async(_0x36f31c,_0x2edcff,_0x540525)=>{const _0x589b8f=_0x433a41;try{const _0x940e10=_0x36f31c[_0x589b8f(0x179)];_0x2edcff[_0x589b8f(0x1a7)]({'success':!![],'message':'Admin\x20access\x20confirmed','user':{'id':_0x940e10?.['id'],'username':_0x940e10?.[_0x589b8f(0x159)],'role':_0x940e10?.[_0x589b8f(0x146)]}});}catch(_0x314fab){_0x540525(_0x314fab);}},this[_0x433a41(0x173)]=async(_0x37bd6f,_0x310d4b,_0x275aeb)=>{const _0x28a9ad=_0x433a41;try{const {period:period=_0x28a9ad(0x14f),currentDate:_0x5778ba}=_0x37bd6f['query'],_0x553db0=await this[_0x28a9ad(0x1bf)][_0x28a9ad(0x15f)](period,_0x5778ba);_0x310d4b[_0x28a9ad(0x1a7)]({'success':!![],'result':_0x553db0});}catch(_0x586279){_0x275aeb(_0x586279);}},this[_0x433a41(0x16c)]=async(_0x557d7d,_0x24f26e,_0x57bec4)=>{const _0xcd028f=_0x433a41;try{const {shopId:_0x44ff51,period:period=_0xcd028f(0x167),dateFrom:_0x270c00,dateTo:_0x2b8619}=_0x557d7d[_0xcd028f(0x192)],_0x5279cd={'shopId':_0x44ff51,'period':period,'dateFrom':_0x270c00,'dateTo':_0x2b8619};console[_0xcd028f(0x15e)](_0xcd028f(0x153),_0x5279cd);const _0x5d9fac=await this[_0xcd028f(0x1bf)][_0xcd028f(0x16c)](_0x5279cd);_0x24f26e[_0xcd028f(0x1a7)]({'success':!![],'result':_0x5d9fac});}catch(_0x4ada0e){_0x57bec4(_0x4ada0e);}},this['getPayoutStats']=async(_0x3b5139,_0x1b9890,_0x30648a)=>{const _0x1b67a9=_0x433a41;try{const _0x5e456e=await this['adminService'][_0x1b67a9(0x148)]();_0x1b9890[_0x1b67a9(0x1a7)]({'success':!![],'result':_0x5e456e});}catch(_0x546dfe){_0x30648a(_0x546dfe);}},this[_0x433a41(0x15d)]=async(_0x32250f,_0x468382,_0x450f84)=>{const _0x1527c9=_0x433a41;try{const {page:page=0x1,limit:limit=0x14,minAmount:_0x53051e,search:_0x113ca3}=_0x32250f['query'],_0x1da0a6={'page':Number(page),'limit':Number(limit),'minAmount':_0x53051e?Number(_0x53051e):undefined,'search':_0x113ca3},_0x4f2626=await this[_0x1527c9(0x1bf)][_0x1527c9(0x15d)](_0x1da0a6);_0x468382[_0x1527c9(0x1a7)]({'success':!![],'merchants':_0x4f2626['merchants'],'pagination':_0x4f2626[_0x1527c9(0x18f)],'summary':_0x4f2626[_0x1527c9(0x1b3)]});}catch(_0x5b1833){_0x450f84(_0x5b1833);}},this[_0x433a41(0x14d)]=async(_0x436be1,_0x48c4ff,_0x199afa)=>{const _0x18985d=_0x433a41;try{const _0x48ccbb=_0x436be1[_0x18985d(0x192)]['hasPayoutHistory']===_0x18985d(0x168),_0x33a7f2=await this[_0x18985d(0x1bf)][_0x18985d(0x14d)](_0x48ccbb);_0x48c4ff[_0x18985d(0x1a7)]({'success':!![],'result':_0x33a7f2});}catch(_0x9afae5){_0x199afa(_0x9afae5);}},this[_0x433a41(0x160)]=async(_0x4c1d26,_0x3d84be,_0x2c057b)=>{const _0x259aa1=_0x433a41;try{const _0x17f303=_0x4c1d26[_0x259aa1(0x177)];console[_0x259aa1(0x15e)](_0x259aa1(0x1c0),_0x17f303);const _0x579325=await this['adminService'][_0x259aa1(0x160)](_0x17f303);_0x3d84be[_0x259aa1(0x1ae)](0xc9)['json']({'success':!![],'message':_0x259aa1(0x174),'result':_0x579325});}catch(_0x2db1e2){_0x2c057b(_0x2db1e2);}},this[_0x433a41(0x1be)]=async(_0xeb167a,_0x5b90fe,_0x621188)=>{const _0x2eff8e=_0x433a41;try{const {id:_0x3dbe5f}=_0xeb167a[_0x2eff8e(0x184)],_0x3ae750=_0xeb167a[_0x2eff8e(0x177)];console[_0x2eff8e(0x15e)](_0x2eff8e(0x154)+_0x3dbe5f+_0x2eff8e(0x155),_0x3ae750);const _0x2a5b7d=await this[_0x2eff8e(0x1bf)]['updatePayout'](_0x3dbe5f,_0x3ae750);_0x5b90fe['json']({'success':!![],'message':_0x2eff8e(0x17f),'result':_0x2a5b7d});}catch(_0xab5e3){_0x621188(_0xab5e3);}},this[_0x433a41(0x17c)]=async(_0x14d62b,_0x583007,_0x150d51)=>{const _0x4cd9e3=_0x433a41;try{const {page:page=0x1,limit:limit=0x14,shopId:_0x3e60d1,network:_0x1b87fa,dateFrom:_0x7ae305,dateTo:_0x125999,search:_0x2d924f}=_0x14d62b[_0x4cd9e3(0x192)],_0x2d43f7={'page':Number(page),'limit':Number(limit),'shopId':_0x3e60d1,'network':_0x1b87fa,'dateFrom':_0x7ae305,'dateTo':_0x125999,'search':_0x2d924f},_0x6cf90d=await this[_0x4cd9e3(0x1bf)][_0x4cd9e3(0x178)](_0x2d43f7);_0x583007[_0x4cd9e3(0x1a7)]({'success':!![],'payouts':_0x6cf90d['payouts'],'pagination':_0x6cf90d[_0x4cd9e3(0x18f)]});}catch(_0x21ba92){_0x150d51(_0x21ba92);}},this[_0x433a41(0x1b1)]=async(_0x290a30,_0x118961,_0x307207)=>{const _0x50540b=_0x433a41;try{const {id:_0x63c642}=_0x290a30[_0x50540b(0x184)],_0x58f0cb=await this[_0x50540b(0x1bf)][_0x50540b(0x1b1)](_0x63c642);if(!_0x58f0cb)return _0x118961[_0x50540b(0x1ae)](0x194)[_0x50540b(0x1a7)]({'success':![],'message':_0x50540b(0x15a)});_0x118961[_0x50540b(0x1a7)]({'success':!![],'result':_0x58f0cb});}catch(_0x41a8c3){_0x307207(_0x41a8c3);}},this[_0x433a41(0x1b9)]=async(_0x2a4860,_0x3af6f3,_0x59679f)=>{const _0x10b0ea=_0x433a41;try{const {id:_0xadcc73}=_0x2a4860[_0x10b0ea(0x184)];await this['adminService'][_0x10b0ea(0x1b9)](_0xadcc73),_0x3af6f3['json']({'success':!![],'message':_0x10b0ea(0x19a)});}catch(_0x3fd3b6){_0x59679f(_0x3fd3b6);}},this[_0x433a41(0x17a)]=async(_0x322987,_0x38558f,_0x12011e)=>{const _0xcad4c9=_0x433a41;try{const {page:page=0x1,limit:limit=0x14,status:_0x2cff56,gateway:_0x40fb15,shopId:_0x14b22f,dateFrom:_0x111aa9,dateTo:_0x33162b,search:_0x2d9956,currency:_0x3e6b0e,sortBy:_0x408462,sortOrder:_0x463840}=_0x322987[_0xcad4c9(0x192)],_0x3bd765={'page':Number(page),'limit':Number(limit),'status':_0x2cff56,'gateway':_0x40fb15,'shopId':_0x14b22f,'dateFrom':_0x111aa9,'dateTo':_0x33162b,'search':_0x2d9956,'currency':_0x3e6b0e,'sortBy':_0x408462,'sortOrder':_0x463840},_0x4c60cf=await this[_0xcad4c9(0x1bf)][_0xcad4c9(0x149)](_0x3bd765);_0x38558f[_0xcad4c9(0x1a7)]({'success':!![],'payments':_0x4c60cf[_0xcad4c9(0x183)],'pagination':_0x4c60cf[_0xcad4c9(0x18f)],'statistics':_0x4c60cf[_0xcad4c9(0x162)]});}catch(_0x646c6d){_0x12011e(_0x646c6d);}},this[_0x433a41(0x166)]=async(_0xf3fea6,_0x36e1ad,_0x317404)=>{const _0x232a45=_0x433a41;try{const {id:_0x2be154}=_0xf3fea6['params'],_0x50fbe7=await this[_0x232a45(0x1bf)]['getPaymentById'](_0x2be154);if(!_0x50fbe7)return _0x36e1ad[_0x232a45(0x1ae)](0x194)[_0x232a45(0x1a7)]({'success':![],'message':_0x232a45(0x14a)});_0x36e1ad[_0x232a45(0x1a7)]({'success':!![],'result':_0x50fbe7});}catch(_0x366de1){_0x317404(_0x366de1);}},this[_0x433a41(0x17b)]=async(_0x162c7c,_0x52ac3c,_0x10a88e)=>{const _0x153f1e=_0x433a41;try{const {id:_0x3e534a}=_0x162c7c[_0x153f1e(0x184)],{status:_0x2fdd3e,notes:_0x4cb33b,chargebackAmount:_0x55c378}=_0x162c7c[_0x153f1e(0x177)],_0x11dc9a=await this[_0x153f1e(0x1bf)]['getPaymentById'](_0x3e534a);if(!_0x11dc9a)return _0x52ac3c[_0x153f1e(0x1ae)](0x194)[_0x153f1e(0x1a7)]({'success':![],'message':'Payment\x20not\x20found'});const _0x1ec7eb=await this[_0x153f1e(0x1bf)][_0x153f1e(0x1b7)](_0x3e534a,_0x2fdd3e,_0x4cb33b,_0x55c378);if(_0x11dc9a['status']!==_0x2fdd3e&&_0x2fdd3e['toUpperCase']()===_0x153f1e(0x16a)){console[_0x153f1e(0x15e)](_0x153f1e(0x188)+_0x3e534a+_0x153f1e(0x1ac));try{await this[_0x153f1e(0x19e)][_0x153f1e(0x150)](_0x3e534a),console[_0x153f1e(0x15e)]('âœ…\x20Payment\x20link\x20counter\x20updated\x20for\x20payment\x20'+_0x3e534a);}catch(_0x49e7ca){console['error']('Failed\x20to\x20update\x20payment\x20link\x20counter:',_0x49e7ca);}}if(_0x11dc9a[_0x153f1e(0x1ae)]!==_0x2fdd3e){console[_0x153f1e(0x15e)]('ðŸ“±\x20Payment\x20'+_0x3e534a+_0x153f1e(0x176)+_0x11dc9a[_0x153f1e(0x1ae)]+_0x153f1e(0x181)+_0x2fdd3e+_0x153f1e(0x17d));try{let _0x16816e;switch(_0x2fdd3e[_0x153f1e(0x164)]()){case _0x153f1e(0x16a):_0x16816e='paid';break;case _0x153f1e(0x191):_0x16816e=_0x153f1e(0x151);break;case _0x153f1e(0x1a5):_0x16816e=_0x153f1e(0x1bb);break;case _0x153f1e(0x1b5):_0x16816e=_0x153f1e(0x172);break;case _0x153f1e(0x165):_0x16816e=_0x153f1e(0x14c);break;case _0x153f1e(0x16b):_0x16816e=_0x153f1e(0x19c);break;default:console[_0x153f1e(0x15e)]('ðŸ“±\x20Skipping\x20Telegram\x20notification\x20for\x20status\x20change\x20to:\x20'+_0x2fdd3e);break;}if(_0x16816e){const _0x36f895={..._0x1ec7eb,'shopId':_0x11dc9a[_0x153f1e(0x182)],'gateway':_0x11dc9a[_0x153f1e(0x158)],'createdAt':_0x11dc9a[_0x153f1e(0x161)],'chargebackAmount':_0x55c378};await telegramBotService_1[_0x153f1e(0x15c)][_0x153f1e(0x18e)](_0x11dc9a['shopId'],_0x36f895,_0x16816e),console[_0x153f1e(0x15e)]('âœ…\x20Telegram\x20notification\x20sent\x20for\x20status\x20change:\x20'+_0x11dc9a[_0x153f1e(0x1ae)]+_0x153f1e(0x1a9)+_0x2fdd3e);}}catch(_0x512d96){console[_0x153f1e(0x1b8)](_0x153f1e(0x1bc),_0x512d96);}}_0x52ac3c[_0x153f1e(0x1a7)]({'success':!![],'message':_0x153f1e(0x18a),'result':_0x1ec7eb});}catch(_0x4c78a3){_0x10a88e(_0x4c78a3);}},this['updateCustomerData']=async(_0x7874c7,_0x34ee51,_0x1b1102)=>{const _0x522df5=_0x433a41;try{const {id:_0x26a4da}=_0x7874c7[_0x522df5(0x184)],_0x250f07=_0x7874c7[_0x522df5(0x177)];console[_0x522df5(0x15e)](_0x522df5(0x14e)+_0x26a4da+':',_0x250f07);const _0x311a78=await this[_0x522df5(0x1bf)][_0x522df5(0x1a2)](_0x26a4da,_0x250f07);_0x34ee51[_0x522df5(0x1a7)]({'success':!![],'message':'Customer\x20data\x20updated\x20successfully','result':_0x311a78});}catch(_0x54c3f1){_0x1b1102(_0x54c3f1);}},this[_0x433a41(0x1a3)]=async(_0x271153,_0x5b03c2,_0x5e84f9)=>{const _0x2eb12d=_0x433a41;try{const {id:_0x26df72}=_0x271153[_0x2eb12d(0x184)],_0x4d819e=_0x271153[_0x2eb12d(0x177)],_0x51c5ba=await this[_0x2eb12d(0x1bf)][_0x2eb12d(0x1a3)](_0x26df72,_0x4d819e);_0x5b03c2[_0x2eb12d(0x1a7)]({'success':!![],'message':'User\x20updated\x20successfully','result':_0x51c5ba});}catch(_0x51ff42){_0x5e84f9(_0x51ff42);}},this['suspendUser']=async(_0x1bdc75,_0x5e35da,_0x4a6133)=>{const _0x476d43=_0x433a41;try{const {id:_0x1e8bbd}=_0x1bdc75[_0x476d43(0x184)],_0x1ebb00=await this[_0x476d43(0x1bf)][_0x476d43(0x1a4)](_0x1e8bbd);_0x5e35da['json']({'success':!![],'message':_0x476d43(0x18b),'result':_0x1ebb00});}catch(_0x1db4d2){_0x4a6133(_0x1db4d2);}},this['activateUser']=async(_0x285f1b,_0xb02b85,_0x33e480)=>{const _0x350432=_0x433a41;try{const {id:_0x4befed}=_0x285f1b[_0x350432(0x184)],_0x496fd6=await this[_0x350432(0x1bf)][_0x350432(0x19f)](_0x4befed);_0xb02b85[_0x350432(0x1a7)]({'success':!![],'message':_0x350432(0x16e),'result':_0x496fd6});}catch(_0x1cc2b5){_0x33e480(_0x1cc2b5);}},this[_0x433a41(0x1c1)]=async(_0x398881,_0x13e9b5,_0x3c7fdb)=>{const _0x157ee3=_0x433a41;try{const {page:page=0x1,limit:limit=0x14,status:_0x1362f5}=_0x398881[_0x157ee3(0x192)],_0x28fe01={'page':Number(page),'limit':Number(limit),'status':_0x1362f5},_0x33af72=await this[_0x157ee3(0x1bf)]['getAllUsers'](_0x28fe01);_0x13e9b5[_0x157ee3(0x1a7)]({'success':!![],'users':_0x33af72[_0x157ee3(0x1a1)],'pagination':_0x33af72[_0x157ee3(0x18f)]});}catch(_0x436bcd){_0x3c7fdb(_0x436bcd);}},this[_0x433a41(0x175)]=async(_0xdce40e,_0x167366,_0x132851)=>{const _0x3cb39d=_0x433a41;try{const {id:_0xe8e900}=_0xdce40e[_0x3cb39d(0x184)],_0x3746a1=await this[_0x3cb39d(0x1bf)][_0x3cb39d(0x175)](_0xe8e900);if(!_0x3746a1)return _0x167366[_0x3cb39d(0x1ae)](0x194)[_0x3cb39d(0x1a7)]({'success':![],'message':_0x3cb39d(0x170)});_0x167366['json']({'success':!![],'result':_0x3746a1});}catch(_0x1713bb){_0x132851(_0x1713bb);}},this[_0x433a41(0x1aa)]=async(_0x29c156,_0x1d41b1,_0x5a0a1e)=>{const _0x475fd9=_0x433a41;try{const _0x13cbba=_0x29c156['body'],_0x25aec5=await this[_0x475fd9(0x1bf)]['createUser'](_0x13cbba);_0x1d41b1[_0x475fd9(0x1ae)](0xc9)['json']({'success':!![],'message':_0x475fd9(0x195),'result':_0x25aec5});}catch(_0x44e22a){_0x5a0a1e(_0x44e22a);}},this[_0x433a41(0x163)]=async(_0x596bb5,_0x187b80,_0x26e6c3)=>{const _0x3a4cd0=_0x433a41;try{const {id:_0x6e3424}=_0x596bb5['params'];await this[_0x3a4cd0(0x1bf)][_0x3a4cd0(0x163)](_0x6e3424),_0x187b80[_0x3a4cd0(0x1a7)]({'success':!![],'message':_0x3a4cd0(0x194)});}catch(_0x2afec7){_0x26e6c3(_0x2afec7);}},this[_0x433a41(0x19d)]=async(_0x490015,_0x221e5a,_0xc8a2d1)=>{const _0x4e37b8=_0x433a41;try{const {shopId:_0x478358}=_0x490015[_0x4e37b8(0x184)],_0x4d2cd1=await this['adminService'][_0x4e37b8(0x19d)](_0x478358);_0x221e5a[_0x4e37b8(0x1a7)]({'success':!![],'wallets':_0x4d2cd1});}catch(_0x4fcc4e){_0xc8a2d1(_0x4fcc4e);}},this[_0x433a41(0x198)]=async(_0x336c24,_0x3ee0a6,_0x274208)=>{const _0x30f72c=_0x433a41;try{const {shopId:_0xb04c22}=_0x336c24[_0x30f72c(0x184)],_0x14773d=await this[_0x30f72c(0x1bf)][_0x30f72c(0x198)](_0xb04c22);_0x3ee0a6[_0x30f72c(0x1a7)]({'success':!![],'result':_0x14773d});}catch(_0x35f2b1){_0x274208(_0x35f2b1);}},this[_0x433a41(0x189)]=async(_0x2af7d6,_0x29257d,_0x3f0ac5)=>{const _0x4103e2=_0x433a41;try{const {shopId:_0x40efec}=_0x2af7d6[_0x4103e2(0x184)],{token:_0x4c7928}=_0x2af7d6[_0x4103e2(0x177)];if(!_0x4c7928)return _0x29257d[_0x4103e2(0x1ae)](0x190)[_0x4103e2(0x1a7)]({'success':![],'message':'Token\x20is\x20required'});const _0x317723=await this['adminService']['enable2FA'](_0x40efec,_0x4c7928);_0x29257d[_0x4103e2(0x1a7)]({'success':!![],'message':'2FA\x20enabled\x20successfully','result':_0x317723});}catch(_0x5e8467){_0x3f0ac5(_0x5e8467);}},this[_0x433a41(0x16f)]=async(_0x5aca91,_0x596609,_0x787da2)=>{const _0x3f5a63=_0x433a41;try{const {shopId:_0x1bf62a}=_0x5aca91[_0x3f5a63(0x184)];await this[_0x3f5a63(0x1bf)][_0x3f5a63(0x16f)](_0x1bf62a),_0x596609[_0x3f5a63(0x1a7)]({'success':!![],'message':_0x3f5a63(0x1bd)});}catch(_0x5a018e){_0x787da2(_0x5a018e);}},this[_0x433a41(0x171)]=async(_0x50da7e,_0x237c20,_0x1ef606)=>{const _0x2e7918=_0x433a41;try{const _0x29235b=await paymentCleanupService_1[_0x2e7918(0x193)][_0x2e7918(0x171)]();_0x237c20['json']({'success':!![],'result':_0x29235b});}catch(_0x32e9db){_0x1ef606(_0x32e9db);}},this[_0x433a41(0x186)]=async(_0x5d2b88,_0x1ea687,_0x387e8b)=>{const _0x2f18dc=_0x433a41;try{console[_0x2f18dc(0x15e)](_0x2f18dc(0x152)+_0x5d2b88[_0x2f18dc(0x179)]?.[_0x2f18dc(0x159)]+'\x20('+_0x5d2b88[_0x2f18dc(0x179)]?.['id']+')');const _0x503094=await paymentCleanupService_1[_0x2f18dc(0x193)]['cleanupStaleProcessingPayments']();_0x1ea687[_0x2f18dc(0x1a7)]({'success':!![],'message':_0x2f18dc(0x187),'result':{'processed':_0x503094['processed'],'failed':_0x503094[_0x2f18dc(0x1bb)],'errors':_0x503094['errors']}});}catch(_0x13a97b){_0x387e8b(_0x13a97b);}},this[_0x433a41(0x1af)]=async(_0x75c4d6,_0x1576d8,_0x1e3c7a)=>{const _0x2a3227=_0x433a41;try{console[_0x2a3227(0x15e)](_0x2a3227(0x18c)+_0x75c4d6[_0x2a3227(0x179)]?.['username']+'\x20('+_0x75c4d6[_0x2a3227(0x179)]?.['id']+')');const _0x16528f=await paymentCleanupService_1['paymentCleanupService'][_0x2a3227(0x1af)]();_0x1576d8[_0x2a3227(0x1a7)]({'success':!![],'message':_0x2a3227(0x1a8),'result':{'processed':_0x16528f[_0x2a3227(0x19b)],'failed':_0x16528f[_0x2a3227(0x1bb)],'errors':_0x16528f['errors']}});}catch(_0x75bad0){_0x1e3c7a(_0x75bad0);}},this[_0x433a41(0x1ab)]=async(_0x441d56,_0x14fc6b,_0x37abb3)=>{const _0x3d324a=_0x433a41;try{console[_0x3d324a(0x15e)](_0x3d324a(0x17e)+_0x441d56[_0x3d324a(0x179)]?.[_0x3d324a(0x159)]+'\x20('+_0x441d56[_0x3d324a(0x179)]?.['id']+')');const _0xc7d7df=await paymentCleanupService_1[_0x3d324a(0x193)][_0x3d324a(0x171)](),_0x177356=await paymentCleanupService_1[_0x3d324a(0x193)][_0x3d324a(0x199)](),_0x1643e8=await paymentCleanupService_1[_0x3d324a(0x193)][_0x3d324a(0x1af)](),_0xb0af71=await paymentCleanupService_1['paymentCleanupService'][_0x3d324a(0x171)]();_0x14fc6b[_0x3d324a(0x1a7)]({'success':!![],'message':_0x3d324a(0x185),'result':{'cleanup':{'processing':{'processed':_0x177356[_0x3d324a(0x19b)],'failed':_0x177356[_0x3d324a(0x1bb)],'errors':_0x177356[_0x3d324a(0x15b)]},'pending':{'processed':_0x1643e8[_0x3d324a(0x19b)],'failed':_0x1643e8[_0x3d324a(0x1bb)],'errors':_0x1643e8[_0x3d324a(0x15b)]},'total':{'processed':_0x177356[_0x3d324a(0x19b)]+_0x1643e8[_0x3d324a(0x19b)],'failed':_0x177356['failed']+_0x1643e8[_0x3d324a(0x1bb)],'errors':[..._0x177356['errors'],..._0x1643e8[_0x3d324a(0x15b)]]}},'statistics':{'before':_0xc7d7df,'after':_0xb0af71,'reduced':_0xc7d7df[_0x3d324a(0x1ba)]-_0xb0af71[_0x3d324a(0x1ba)]}}});}catch(_0x2b81de){_0x37abb3(_0x2b81de);}},this[_0x433a41(0x1b2)]=async(_0x2fc432,_0x21df5f,_0xabbda8)=>{const _0x355e78=_0x433a41;try{const _0x43ec58=await paymentCleanupService_1[_0x355e78(0x193)][_0x355e78(0x14b)]();_0x21df5f[_0x355e78(0x1a7)]({'success':!![],'message':_0x355e78(0x156),'result':{'expired':_0x43ec58['expired'],'errors':_0x43ec58[_0x355e78(0x15b)]}});}catch(_0x47d858){_0xabbda8(_0x47d858);}},this[_0x433a41(0x1bf)]=new adminService_1['AdminService'](),this[_0x433a41(0x19e)]=new paymentLinkService_1['PaymentLinkService']();}}exports[a3_0x3d6051(0x196)]=AdminController;