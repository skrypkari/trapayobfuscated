'use strict';const a3_0x12c71d=a3_0x3699;(function(_0x5e9893,_0x18f221){const _0x53b186=a3_0x3699,_0x483cd4=_0x5e9893();while(!![]){try{const _0x33b6d3=-parseInt(_0x53b186(0x1e2))/0x1+parseInt(_0x53b186(0x1cd))/0x2+parseInt(_0x53b186(0x1cb))/0x3*(parseInt(_0x53b186(0x1ee))/0x4)+parseInt(_0x53b186(0x1af))/0x5*(parseInt(_0x53b186(0x1ba))/0x6)+parseInt(_0x53b186(0x1b2))/0x7+parseInt(_0x53b186(0x1f8))/0x8*(-parseInt(_0x53b186(0x1c3))/0x9)+-parseInt(_0x53b186(0x1c0))/0xa*(parseInt(_0x53b186(0x1e8))/0xb);if(_0x33b6d3===_0x18f221)break;else _0x483cd4['push'](_0x483cd4['shift']());}catch(_0x4446db){_0x483cd4['push'](_0x483cd4['shift']());}}}(a3_0x49e0,0xa1935));function a3_0x49e0(){const _0x5d91e4=['activateUser','ðŸ“±\x20Payment\x20','processed','450714qoVIvC','User\x20deleted\x20successfully','query','ðŸ”„\x20Admin\x20updating\x20customer\x20data\x20for\x20payment\x20','PROCESSING\x20payment\x20cleanup\x20completed\x20successfully','PAID','3118588kcAfkY','getAllPayments','getMerchantsSelection','cleanupStalePaymentsWithReport','PROCESSING','status','1357652qcAWyi','ðŸŽ¯\x20[CONTROLLER]\x20Creating\x20payout\x20with\x20data:','pagination','AdminService','users','handleSuccessfulPayment','Failed\x20to\x20send\x20Telegram\x20notification\x20for\x20status\x20change:','getSystemStatistics','ðŸ“Š\x20Admin\x20requesting\x20merchant\x20statistics\x20with\x20filters:','failed','22976sQdeaw','hasPayoutHistory','adminService','paymentCleanupService','â°\x20Manual\x20PENDING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','getPayouts','json','createdAt','\x20to\x20PAID,\x20updating\x20payment\x20link\x20counter','Payment\x20not\x20found','cleanupStalePendingPayments','30d','username','\x20->\x20','\x20to\x20','../services/telegramBotService','expireSinglePaymentLinks','statistics','getUserById','Customer\x20data\x20updated\x20successfully','deletePayout','getUsers','error','total','expired','updatePaymentStatus','âœ…\x20Telegram\x20notification\x20sent\x20for\x20status\x20change:\x20','errors','cleanupStaleProcessingPayments','merchants','../services/adminService','ðŸ“±\x20Skipping\x20Telegram\x20notification\x20for\x20status\x20change\x20to:\x20','shopId','paid','../services/paymentCleanupService','Payment\x20updated\x20successfully','payments','updatePayment','gateway','getPayoutById','Payout\x20not\x20found','1090VNoZqJ','month','body','3029985NnDMYF','params',',\x20sending\x20Telegram\x20notification','true','summary','âœ…\x20Payment\x20link\x20counter\x20updated\x20for\x20payment\x20','PaymentLinkService','CHARGEBACK','26922adpIut','suspendUser','paymentLinkService','Payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20completed\x20successfully','role','createPayout','20kTIvyW','user','getMerchantsAwaitingPayout','3951AVVOVb','User\x20updated\x20successfully','User\x20created\x20successfully','Admin\x20access\x20confirmed','getMerchantStatistics','getPayoutStats','ðŸ“Š\x20Manual\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20initiated\x20by\x20admin:\x20','getProcessingPaymentsStats','6inmIWb','getStatistics','1701008vIDPvb','refund','telegramBotService','toUpperCase','User\x20suspended\x20successfully','../services/paymentLinkService','User\x20activated\x20successfully','getPaymentById','log','getAllPayouts','getAllUsers','updateCustomerData','deleteUser','AdminController','updateUser','Payout\x20deleted\x20successfully','PENDING\x20payment\x20cleanup\x20completed\x20successfully','createUser'];a3_0x49e0=function(){return _0x5d91e4;};return a3_0x49e0();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a3_0x12c71d(0x1da)]=void 0x0;const adminService_1=require(a3_0x12c71d(0x1a4)),paymentLinkService_1=require(a3_0x12c71d(0x1d2)),paymentCleanupService_1=require(a3_0x12c71d(0x1a8)),telegramBotService_1=require(a3_0x12c71d(0x207));function a3_0x3699(_0x252426,_0x3aa421){_0x252426=_0x252426-0x197;const _0x49e058=a3_0x49e0();let _0x369981=_0x49e058[_0x252426];return _0x369981;}class AdminController{constructor(){const _0x1bc7d2=a3_0x12c71d;this['checkAuth']=async(_0x3d0433,_0xc01b6c,_0x279ee7)=>{const _0x18d162=a3_0x3699;try{const _0x43fc86=_0x3d0433[_0x18d162(0x1c1)];_0xc01b6c['json']({'success':!![],'message':_0x18d162(0x1c6),'user':{'id':_0x43fc86?.['id'],'username':_0x43fc86?.[_0x18d162(0x204)],'role':_0x43fc86?.[_0x18d162(0x1be)]}});}catch(_0x2b43f6){_0x279ee7(_0x2b43f6);}},this[_0x1bc7d2(0x1cc)]=async(_0x45b9d6,_0x4ebdce,_0x4abd51)=>{const _0x30bcd9=_0x1bc7d2;try{const {period:period=_0x30bcd9(0x203),currentDate:_0x25a2cf}=_0x45b9d6[_0x30bcd9(0x1e4)],_0x4b2f3c=await this[_0x30bcd9(0x1fa)][_0x30bcd9(0x1f5)](period,_0x25a2cf);_0x4ebdce[_0x30bcd9(0x1fe)]({'success':!![],'result':_0x4b2f3c});}catch(_0x10cf37){_0x4abd51(_0x10cf37);}},this['getMerchantStatistics']=async(_0x576dca,_0x40d955,_0x38f16c)=>{const _0x1a1f28=_0x1bc7d2;try{const {shopId:_0x130ad3,period:period=_0x1a1f28(0x1b0),dateFrom:_0x43b099,dateTo:_0x3d3e14}=_0x576dca[_0x1a1f28(0x1e4)],_0xe74fae={'shopId':_0x130ad3,'period':period,'dateFrom':_0x43b099,'dateTo':_0x3d3e14};console['log'](_0x1a1f28(0x1f6),_0xe74fae);const _0x3d2772=await this[_0x1a1f28(0x1fa)][_0x1a1f28(0x1c7)](_0xe74fae);_0x40d955[_0x1a1f28(0x1fe)]({'success':!![],'result':_0x3d2772});}catch(_0x5dafd7){_0x38f16c(_0x5dafd7);}},this[_0x1bc7d2(0x1c8)]=async(_0x344341,_0x3c3dca,_0x17aa02)=>{const _0x25c78f=_0x1bc7d2;try{const _0x2021fc=await this[_0x25c78f(0x1fa)][_0x25c78f(0x1c8)]();_0x3c3dca['json']({'success':!![],'result':_0x2021fc});}catch(_0x4d0065){_0x17aa02(_0x4d0065);}},this[_0x1bc7d2(0x1c2)]=async(_0x1317cc,_0x31e303,_0x543286)=>{const _0x445b84=_0x1bc7d2;try{const {page:page=0x1,limit:limit=0x14,minAmount:_0x454347,search:_0x18e663}=_0x1317cc['query'],_0x32485b={'page':Number(page),'limit':Number(limit),'minAmount':_0x454347?Number(_0x454347):undefined,'search':_0x18e663},_0x350d72=await this[_0x445b84(0x1fa)][_0x445b84(0x1c2)](_0x32485b);_0x31e303[_0x445b84(0x1fe)]({'success':!![],'merchants':_0x350d72[_0x445b84(0x1a3)],'pagination':_0x350d72[_0x445b84(0x1f0)],'summary':_0x350d72[_0x445b84(0x1b6)]});}catch(_0x31a9a4){_0x543286(_0x31a9a4);}},this[_0x1bc7d2(0x1ea)]=async(_0x3733bd,_0x13854f,_0x1ab7c2)=>{const _0x36ec1c=_0x1bc7d2;try{const _0x41afd1=_0x3733bd[_0x36ec1c(0x1e4)][_0x36ec1c(0x1f9)]===_0x36ec1c(0x1b5),_0x1f0199=await this[_0x36ec1c(0x1fa)][_0x36ec1c(0x1ea)](_0x41afd1);_0x13854f[_0x36ec1c(0x1fe)]({'success':!![],'result':_0x1f0199});}catch(_0x1a2d06){_0x1ab7c2(_0x1a2d06);}},this[_0x1bc7d2(0x1bf)]=async(_0x2a06a9,_0x58b1,_0x40d370)=>{const _0x1b75ee=_0x1bc7d2;try{const _0x1ee742=_0x2a06a9[_0x1b75ee(0x1b1)];console[_0x1b75ee(0x1d5)](_0x1b75ee(0x1ef),_0x1ee742);const _0x4874b8=await this[_0x1b75ee(0x1fa)][_0x1b75ee(0x1bf)](_0x1ee742);_0x58b1[_0x1b75ee(0x1ed)](0xc9)['json']({'success':!![],'message':'Payout\x20created\x20successfully','result':_0x4874b8});}catch(_0x18f668){_0x40d370(_0x18f668);}},this[_0x1bc7d2(0x1fd)]=async(_0x13fa3b,_0x384871,_0x514f6c)=>{const _0xe9391b=_0x1bc7d2;try{const {page:page=0x1,limit:limit=0x14,shopId:_0x47c71d,network:_0x22b059,dateFrom:_0x1f571a,dateTo:_0x4e2439,search:_0x1056bc}=_0x13fa3b[_0xe9391b(0x1e4)],_0x51c022={'page':Number(page),'limit':Number(limit),'shopId':_0x47c71d,'network':_0x22b059,'dateFrom':_0x1f571a,'dateTo':_0x4e2439,'search':_0x1056bc},_0x52fefc=await this[_0xe9391b(0x1fa)][_0xe9391b(0x1d6)](_0x51c022);_0x384871[_0xe9391b(0x1fe)]({'success':!![],'payouts':_0x52fefc['payouts'],'pagination':_0x52fefc[_0xe9391b(0x1f0)]});}catch(_0xf77063){_0x514f6c(_0xf77063);}},this[_0x1bc7d2(0x1ad)]=async(_0x1e8427,_0x4996c5,_0x4dfc50)=>{const _0x375087=_0x1bc7d2;try{const {id:_0x2ff1}=_0x1e8427[_0x375087(0x1b3)],_0x497615=await this['adminService'][_0x375087(0x1ad)](_0x2ff1);if(!_0x497615)return _0x4996c5['status'](0x194)[_0x375087(0x1fe)]({'success':![],'message':_0x375087(0x1ae)});_0x4996c5[_0x375087(0x1fe)]({'success':!![],'result':_0x497615});}catch(_0x24e272){_0x4dfc50(_0x24e272);}},this[_0x1bc7d2(0x19a)]=async(_0x49cfba,_0x51979e,_0x27f87e)=>{const _0x33da49=_0x1bc7d2;try{const {id:_0x587b19}=_0x49cfba[_0x33da49(0x1b3)];await this['adminService'][_0x33da49(0x19a)](_0x587b19),_0x51979e[_0x33da49(0x1fe)]({'success':!![],'message':_0x33da49(0x1dc)});}catch(_0x466d80){_0x27f87e(_0x466d80);}},this['getPayments']=async(_0xd5cdf,_0x2f6fd8,_0x40bc14)=>{const _0x36a623=_0x1bc7d2;try{const {page:page=0x1,limit:limit=0x14,status:_0x3f8166,gateway:_0x18be0b,shopId:_0x216f0c,dateFrom:_0x36ec57,dateTo:_0x11d82b,search:_0x5ac95b,currency:_0x124873,sortBy:_0x4785ff,sortOrder:_0x9ed251}=_0xd5cdf[_0x36a623(0x1e4)],_0x4fbaf7={'page':Number(page),'limit':Number(limit),'status':_0x3f8166,'gateway':_0x18be0b,'shopId':_0x216f0c,'dateFrom':_0x36ec57,'dateTo':_0x11d82b,'search':_0x5ac95b,'currency':_0x124873,'sortBy':_0x4785ff,'sortOrder':_0x9ed251},_0xd7a54e=await this[_0x36a623(0x1fa)][_0x36a623(0x1e9)](_0x4fbaf7);_0x2f6fd8[_0x36a623(0x1fe)]({'success':!![],'payments':_0xd7a54e[_0x36a623(0x1aa)],'pagination':_0xd7a54e[_0x36a623(0x1f0)],'statistics':_0xd7a54e[_0x36a623(0x197)]});}catch(_0x514de1){_0x40bc14(_0x514de1);}},this['getPaymentById']=async(_0x199a81,_0xe1512e,_0x3617c5)=>{const _0x35d60d=_0x1bc7d2;try{const {id:_0x4b9b94}=_0x199a81[_0x35d60d(0x1b3)],_0x1f3190=await this[_0x35d60d(0x1fa)]['getPaymentById'](_0x4b9b94);if(!_0x1f3190)return _0xe1512e[_0x35d60d(0x1ed)](0x194)[_0x35d60d(0x1fe)]({'success':![],'message':_0x35d60d(0x201)});_0xe1512e[_0x35d60d(0x1fe)]({'success':!![],'result':_0x1f3190});}catch(_0xac9fe2){_0x3617c5(_0xac9fe2);}},this[_0x1bc7d2(0x1ab)]=async(_0x403a08,_0x54f731,_0xef68e2)=>{const _0x599b36=_0x1bc7d2;try{const {id:_0x369256}=_0x403a08[_0x599b36(0x1b3)],{status:_0x292cea,notes:_0x10cd37,chargebackAmount:_0x59a80a}=_0x403a08[_0x599b36(0x1b1)],_0x4c4a5c=await this[_0x599b36(0x1fa)][_0x599b36(0x1d4)](_0x369256);if(!_0x4c4a5c)return _0x54f731['status'](0x194)[_0x599b36(0x1fe)]({'success':![],'message':_0x599b36(0x201)});const _0x4ea447=await this['adminService'][_0x599b36(0x19f)](_0x369256,_0x292cea,_0x10cd37,_0x59a80a);if(_0x4c4a5c[_0x599b36(0x1ed)]!==_0x292cea&&_0x292cea[_0x599b36(0x1d0)]()===_0x599b36(0x1e7)){console[_0x599b36(0x1d5)]('ðŸ“ˆ\x20Admin\x20changed\x20payment\x20'+_0x369256+_0x599b36(0x200));try{await this[_0x599b36(0x1bc)][_0x599b36(0x1f3)](_0x369256),console[_0x599b36(0x1d5)](_0x599b36(0x1b7)+_0x369256);}catch(_0x170491){console[_0x599b36(0x19c)]('Failed\x20to\x20update\x20payment\x20link\x20counter:',_0x170491);}}if(_0x4c4a5c[_0x599b36(0x1ed)]!==_0x292cea){console['log'](_0x599b36(0x1e0)+_0x369256+'\x20status\x20changed\x20from\x20'+_0x4c4a5c[_0x599b36(0x1ed)]+_0x599b36(0x206)+_0x292cea+_0x599b36(0x1b4));try{let _0x454167;switch(_0x292cea[_0x599b36(0x1d0)]()){case _0x599b36(0x1e7):_0x454167=_0x599b36(0x1a7);break;case _0x599b36(0x1ec):_0x454167='processing';break;case'FAILED':_0x454167='failed';break;case'EXPIRED':_0x454167=_0x599b36(0x19e);break;case'REFUND':_0x454167=_0x599b36(0x1ce);break;case _0x599b36(0x1b9):_0x454167='chargeback';break;default:console['log'](_0x599b36(0x1a5)+_0x292cea);break;}if(_0x454167){const _0x13e477={..._0x4ea447,'shopId':_0x4c4a5c[_0x599b36(0x1a6)],'gateway':_0x4c4a5c[_0x599b36(0x1ac)],'createdAt':_0x4c4a5c[_0x599b36(0x1ff)],'chargebackAmount':_0x59a80a};await telegramBotService_1[_0x599b36(0x1cf)]['sendPaymentNotification'](_0x4c4a5c[_0x599b36(0x1a6)],_0x13e477,_0x454167),console[_0x599b36(0x1d5)](_0x599b36(0x1a0)+_0x4c4a5c[_0x599b36(0x1ed)]+_0x599b36(0x205)+_0x292cea);}}catch(_0x416af9){console[_0x599b36(0x19c)](_0x599b36(0x1f4),_0x416af9);}}_0x54f731[_0x599b36(0x1fe)]({'success':!![],'message':_0x599b36(0x1a9),'result':_0x4ea447});}catch(_0x5dfb5b){_0xef68e2(_0x5dfb5b);}},this[_0x1bc7d2(0x1d8)]=async(_0x2308ed,_0x21e9b2,_0x3bcb8b)=>{const _0xe08d0e=_0x1bc7d2;try{const {id:_0x5a4fc2}=_0x2308ed['params'],_0x2dc89b=_0x2308ed[_0xe08d0e(0x1b1)];console['log'](_0xe08d0e(0x1e5)+_0x5a4fc2+':',_0x2dc89b);const _0x46dbf3=await this[_0xe08d0e(0x1fa)][_0xe08d0e(0x1d8)](_0x5a4fc2,_0x2dc89b);_0x21e9b2['json']({'success':!![],'message':_0xe08d0e(0x199),'result':_0x46dbf3});}catch(_0x20a15e){_0x3bcb8b(_0x20a15e);}},this['updateUser']=async(_0x2ff221,_0x5e91a6,_0x1744ca)=>{const _0x183559=_0x1bc7d2;try{const {id:_0x337a01}=_0x2ff221[_0x183559(0x1b3)],_0x309475=_0x2ff221[_0x183559(0x1b1)],_0x2caf2a=await this[_0x183559(0x1fa)][_0x183559(0x1db)](_0x337a01,_0x309475);_0x5e91a6['json']({'success':!![],'message':_0x183559(0x1c4),'result':_0x2caf2a});}catch(_0x79efab){_0x1744ca(_0x79efab);}},this['suspendUser']=async(_0x2f4492,_0x2c3ea9,_0x5bb371)=>{const _0x2964ab=_0x1bc7d2;try{const {id:_0x51d30b}=_0x2f4492[_0x2964ab(0x1b3)],_0x3b1d6b=await this[_0x2964ab(0x1fa)][_0x2964ab(0x1bb)](_0x51d30b);_0x2c3ea9[_0x2964ab(0x1fe)]({'success':!![],'message':_0x2964ab(0x1d1),'result':_0x3b1d6b});}catch(_0x5cefb4){_0x5bb371(_0x5cefb4);}},this[_0x1bc7d2(0x1df)]=async(_0x4163dd,_0x19e409,_0x568c7a)=>{const _0x411704=_0x1bc7d2;try{const {id:_0x235f90}=_0x4163dd['params'],_0x4907c3=await this['adminService'][_0x411704(0x1df)](_0x235f90);_0x19e409[_0x411704(0x1fe)]({'success':!![],'message':_0x411704(0x1d3),'result':_0x4907c3});}catch(_0x410aa3){_0x568c7a(_0x410aa3);}},this[_0x1bc7d2(0x19b)]=async(_0x314753,_0x55a512,_0x1378a0)=>{const _0x1885c0=_0x1bc7d2;try{const {page:page=0x1,limit:limit=0x14,status:_0x3eae16}=_0x314753[_0x1885c0(0x1e4)],_0x463116={'page':Number(page),'limit':Number(limit),'status':_0x3eae16},_0xabf1aa=await this[_0x1885c0(0x1fa)][_0x1885c0(0x1d7)](_0x463116);_0x55a512[_0x1885c0(0x1fe)]({'success':!![],'users':_0xabf1aa[_0x1885c0(0x1f2)],'pagination':_0xabf1aa['pagination']});}catch(_0x130a3d){_0x1378a0(_0x130a3d);}},this['getUserById']=async(_0x3ce563,_0x5e25e7,_0x290649)=>{const _0x1e1029=_0x1bc7d2;try{const {id:_0x27acd8}=_0x3ce563[_0x1e1029(0x1b3)],_0x3e736f=await this[_0x1e1029(0x1fa)][_0x1e1029(0x198)](_0x27acd8);if(!_0x3e736f)return _0x5e25e7['status'](0x194)[_0x1e1029(0x1fe)]({'success':![],'message':'User\x20not\x20found'});_0x5e25e7[_0x1e1029(0x1fe)]({'success':!![],'result':_0x3e736f});}catch(_0x422704){_0x290649(_0x422704);}},this[_0x1bc7d2(0x1de)]=async(_0x123516,_0x4f9bbf,_0xec4533)=>{const _0x3f8f92=_0x1bc7d2;try{const _0x230da1=_0x123516['body'],_0x1a5b8d=await this[_0x3f8f92(0x1fa)][_0x3f8f92(0x1de)](_0x230da1);_0x4f9bbf[_0x3f8f92(0x1ed)](0xc9)[_0x3f8f92(0x1fe)]({'success':!![],'message':_0x3f8f92(0x1c5),'result':_0x1a5b8d});}catch(_0x3397bf){_0xec4533(_0x3397bf);}},this['deleteUser']=async(_0x129531,_0x586f76,_0x54bba8)=>{const _0x1dc861=_0x1bc7d2;try{const {id:_0x4eb7da}=_0x129531[_0x1dc861(0x1b3)];await this[_0x1dc861(0x1fa)][_0x1dc861(0x1d9)](_0x4eb7da),_0x586f76['json']({'success':!![],'message':_0x1dc861(0x1e3)});}catch(_0x5117f8){_0x54bba8(_0x5117f8);}},this[_0x1bc7d2(0x1ca)]=async(_0x5c078d,_0x33c900,_0x5533be)=>{const _0x39099e=_0x1bc7d2;try{const _0x93aead=await paymentCleanupService_1[_0x39099e(0x1fb)]['getProcessingPaymentsStats']();_0x33c900[_0x39099e(0x1fe)]({'success':!![],'result':_0x93aead});}catch(_0x5a941b){_0x5533be(_0x5a941b);}},this['cleanupStalePayments']=async(_0x38dd84,_0x30298c,_0x25796a)=>{const _0x349182=_0x1bc7d2;try{console[_0x349182(0x1d5)]('ðŸ§¹\x20Manual\x20PROCESSING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20'+_0x38dd84[_0x349182(0x1c1)]?.[_0x349182(0x204)]+'\x20('+_0x38dd84[_0x349182(0x1c1)]?.['id']+')');const _0x3704be=await paymentCleanupService_1[_0x349182(0x1fb)][_0x349182(0x1a2)]();_0x30298c['json']({'success':!![],'message':_0x349182(0x1e6),'result':{'processed':_0x3704be[_0x349182(0x1e1)],'failed':_0x3704be[_0x349182(0x1f7)],'errors':_0x3704be['errors']}});}catch(_0x44aad8){_0x25796a(_0x44aad8);}},this[_0x1bc7d2(0x202)]=async(_0x13079b,_0x586319,_0x290267)=>{const _0x3d8a7d=_0x1bc7d2;try{console[_0x3d8a7d(0x1d5)](_0x3d8a7d(0x1fc)+_0x13079b[_0x3d8a7d(0x1c1)]?.[_0x3d8a7d(0x204)]+'\x20('+_0x13079b['user']?.['id']+')');const _0x5e816d=await paymentCleanupService_1[_0x3d8a7d(0x1fb)][_0x3d8a7d(0x202)]();_0x586319[_0x3d8a7d(0x1fe)]({'success':!![],'message':_0x3d8a7d(0x1dd),'result':{'processed':_0x5e816d[_0x3d8a7d(0x1e1)],'failed':_0x5e816d[_0x3d8a7d(0x1f7)],'errors':_0x5e816d[_0x3d8a7d(0x1a1)]}});}catch(_0x38d86f){_0x290267(_0x38d86f);}},this[_0x1bc7d2(0x1eb)]=async(_0x2422b4,_0x45a44b,_0x32711f)=>{const _0x279ce=_0x1bc7d2;try{console[_0x279ce(0x1d5)](_0x279ce(0x1c9)+_0x2422b4['user']?.['username']+'\x20('+_0x2422b4[_0x279ce(0x1c1)]?.['id']+')');const _0x29b675=await paymentCleanupService_1[_0x279ce(0x1fb)][_0x279ce(0x1ca)](),_0x43635c=await paymentCleanupService_1[_0x279ce(0x1fb)][_0x279ce(0x1a2)](),_0x1be5c6=await paymentCleanupService_1[_0x279ce(0x1fb)]['cleanupStalePendingPayments'](),_0x3aa90e=await paymentCleanupService_1['paymentCleanupService'][_0x279ce(0x1ca)]();_0x45a44b[_0x279ce(0x1fe)]({'success':!![],'message':_0x279ce(0x1bd),'result':{'cleanup':{'processing':{'processed':_0x43635c[_0x279ce(0x1e1)],'failed':_0x43635c['failed'],'errors':_0x43635c[_0x279ce(0x1a1)]},'pending':{'processed':_0x1be5c6[_0x279ce(0x1e1)],'failed':_0x1be5c6[_0x279ce(0x1f7)],'errors':_0x1be5c6[_0x279ce(0x1a1)]},'total':{'processed':_0x43635c[_0x279ce(0x1e1)]+_0x1be5c6[_0x279ce(0x1e1)],'failed':_0x43635c['failed']+_0x1be5c6[_0x279ce(0x1f7)],'errors':[..._0x43635c['errors'],..._0x1be5c6['errors']]}},'statistics':{'before':_0x29b675,'after':_0x3aa90e,'reduced':_0x29b675[_0x279ce(0x19d)]-_0x3aa90e[_0x279ce(0x19d)]}}});}catch(_0x157b9a){_0x32711f(_0x157b9a);}},this['expirePaymentLinks']=async(_0x45e229,_0x297aec,_0x33203d)=>{const _0x19b2d3=_0x1bc7d2;try{const _0x1f4c12=await paymentCleanupService_1[_0x19b2d3(0x1fb)][_0x19b2d3(0x208)]();_0x297aec[_0x19b2d3(0x1fe)]({'success':!![],'message':'Payment\x20link\x20expiration\x20check\x20completed\x20successfully','result':{'expired':_0x1f4c12[_0x19b2d3(0x19e)],'errors':_0x1f4c12[_0x19b2d3(0x1a1)]}});}catch(_0x1345c0){_0x33203d(_0x1345c0);}},this['adminService']=new adminService_1[(_0x1bc7d2(0x1f1))](),this[_0x1bc7d2(0x1bc)]=new paymentLinkService_1[(_0x1bc7d2(0x1b8))]();}}exports[a3_0x12c71d(0x1da)]=AdminController;