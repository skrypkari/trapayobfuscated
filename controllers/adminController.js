'use strict';const a3_0x6c5e68=a3_0x522f;function a3_0x522f(_0x6dc76d,_0x337b0b){_0x6dc76d=_0x6dc76d-0x6f;const _0x37f6a8=a3_0x37f6();let _0x522f49=_0x37f6a8[_0x6dc76d];return _0x522f49;}(function(_0x4b159b,_0x766a5f){const _0x2e137a=a3_0x522f,_0x40fa33=_0x4b159b();while(!![]){try{const _0x1bb1ee=parseInt(_0x2e137a(0xdc))/0x1+parseInt(_0x2e137a(0xae))/0x2*(parseInt(_0x2e137a(0x99))/0x3)+parseInt(_0x2e137a(0xa1))/0x4*(parseInt(_0x2e137a(0x73))/0x5)+-parseInt(_0x2e137a(0xdf))/0x6+parseInt(_0x2e137a(0xa3))/0x7+parseInt(_0x2e137a(0x91))/0x8+-parseInt(_0x2e137a(0xe4))/0x9;if(_0x1bb1ee===_0x766a5f)break;else _0x40fa33['push'](_0x40fa33['shift']());}catch(_0x2dff90){_0x40fa33['push'](_0x40fa33['shift']());}}}(a3_0x37f6,0xeaced));function a3_0x37f6(){const _0x3d4d7b=['updatePaymentStatus','Payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20completed\x20successfully','shopId','\x20with\x20data:','createPayout','params','deleteUser','body','payments','Payout\x20deleted\x20successfully','Failed\x20to\x20update\x20payment\x20link\x20counter:','3929912MyjbUB','true','getUsers','Failed\x20to\x20send\x20Telegram\x20notification\x20for\x20status\x20change:','error','getAllUsers','Payout\x20created\x20successfully','CHARGEBACK','78ubWWIP','getMerchantsAwaitingPayout','payouts','PROCESSING\x20payment\x20cleanup\x20completed\x20successfully','Payout\x20not\x20found','ðŸ“Š\x20Manual\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20initiated\x20by\x20admin:\x20','\x20to\x20','../services/telegramBotService','20xtLnKC','âœ…\x20Telegram\x20notification\x20sent\x20for\x20status\x20change:\x20','1753332ruVcaU','AdminController','pagination','cleanupStalePendingPayments','ðŸ“±\x20Skipping\x20Telegram\x20notification\x20for\x20status\x20change\x20to:\x20','getPayoutById','username','updateCustomerData','getAllPayouts','query','2FA\x20enabled\x20successfully','131676mYZYMT','PENDING\x20payment\x20cleanup\x20completed\x20successfully','EXPIRED','\x20status\x20changed\x20from\x20','updatePayout','cleanupStalePaymentsWithReport','merchants','refund','processed','ðŸ“ˆ\x20Admin\x20changed\x20payment\x20','\x20to\x20PAID,\x20updating\x20payment\x20link\x20counter','paymentLinkService','cleanupStalePayments','createdAt','getPaymentById','cleanupStaleProcessingPayments','activateUser','../services/adminService','Payment\x20link\x20expiration\x20check\x20completed\x20successfully','deletePayout','json','ðŸŽ¯\x20[CONTROLLER]\x20Creating\x20payout\x20with\x20data:','status','disable2FA','User\x20deleted\x20successfully','gateway','expired','getStatistics','User\x20not\x20found','â°\x20Manual\x20PENDING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','FAILED','User\x20created\x20successfully',',\x20sending\x20Telegram\x20notification','AdminService','failed','toUpperCase','User\x20updated\x20successfully','ðŸ“Š\x20Admin\x20requesting\x20merchant\x20statistics\x20with\x20filters:','suspendUser','getPayoutStats','getShopWallets','updateUser','getProcessingPaymentsStats','PaymentLinkService','log','PAID','1232006RBpNZf','expireSinglePaymentLinks','Customer\x20data\x20updated\x20successfully','4235676fJlkRO','getMerchantsSelection','month','2FA\x20disabled\x20successfully','../services/paymentCleanupService','29379915uBWfXg','Payment\x20not\x20found','telegramBotService','user','âœ…\x20Payment\x20link\x20counter\x20updated\x20for\x20payment\x20','paymentCleanupService','User\x20activated\x20successfully','errors','getMerchantStatistics','1246645mABHkb','getPayments','setup2FA','../services/paymentLinkService','updatePayment','adminService','processing','chargeback','getAllPayments','getSystemStatistics','\x20->\x20','hasPayoutHistory','getUserById','summary','expirePaymentLinks','createUser','total','defineProperty','enable2FA'];a3_0x37f6=function(){return _0x3d4d7b;};return a3_0x37f6();}Object[a3_0x6c5e68(0x84)](exports,'__esModule',{'value':!![]}),exports['AdminController']=void 0x0;const adminService_1=require(a3_0x6c5e68(0xbf)),paymentLinkService_1=require(a3_0x6c5e68(0x76)),paymentCleanupService_1=require(a3_0x6c5e68(0xe3)),telegramBotService_1=require(a3_0x6c5e68(0xa0));class AdminController{constructor(){const _0x4791f3=a3_0x6c5e68;this['checkAuth']=async(_0x208005,_0x20baaf,_0x53e3c)=>{const _0x58cfb7=a3_0x522f;try{const _0x47a5ec=_0x208005['user'];_0x20baaf[_0x58cfb7(0xc2)]({'success':!![],'message':'Admin\x20access\x20confirmed','user':{'id':_0x47a5ec?.['id'],'username':_0x47a5ec?.[_0x58cfb7(0xa9)],'role':_0x47a5ec?.['role']}});}catch(_0x210d4a){_0x53e3c(_0x210d4a);}},this[_0x4791f3(0xc9)]=async(_0x20387e,_0x223974,_0x25b88f)=>{const _0x1856ba=_0x4791f3;try{const {period:period='30d',currentDate:_0x35f5fe}=_0x20387e[_0x1856ba(0xac)],_0x1e97f3=await this['adminService'][_0x1856ba(0x7c)](period,_0x35f5fe);_0x223974[_0x1856ba(0xc2)]({'success':!![],'result':_0x1e97f3});}catch(_0x5cda21){_0x25b88f(_0x5cda21);}},this[_0x4791f3(0x72)]=async(_0x3d87fa,_0x29dd50,_0x334c58)=>{const _0x3e7a14=_0x4791f3;try{const {shopId:_0x3ed5f1,period:period=_0x3e7a14(0xe1),dateFrom:_0x963805,dateTo:_0x2178ee}=_0x3d87fa[_0x3e7a14(0xac)],_0x3ff3bf={'shopId':_0x3ed5f1,'period':period,'dateFrom':_0x963805,'dateTo':_0x2178ee};console[_0x3e7a14(0xda)](_0x3e7a14(0xd3),_0x3ff3bf);const _0x6c693a=await this['adminService'][_0x3e7a14(0x72)](_0x3ff3bf);_0x29dd50['json']({'success':!![],'result':_0x6c693a});}catch(_0x2d10b6){_0x334c58(_0x2d10b6);}},this[_0x4791f3(0xd5)]=async(_0x39e610,_0xd9f5e2,_0x36ef43)=>{const _0x19baea=_0x4791f3;try{const _0x5b79b6=await this[_0x19baea(0x78)][_0x19baea(0xd5)]();_0xd9f5e2[_0x19baea(0xc2)]({'success':!![],'result':_0x5b79b6});}catch(_0xcf940){_0x36ef43(_0xcf940);}},this['getMerchantsAwaitingPayout']=async(_0x664105,_0x3a97de,_0x3c93ef)=>{const _0x5263c4=_0x4791f3;try{const {page:page=0x1,limit:limit=0x14,minAmount:_0x2dcf16,search:_0x1cb5ff}=_0x664105['query'],_0x579595={'page':Number(page),'limit':Number(limit),'minAmount':_0x2dcf16?Number(_0x2dcf16):undefined,'search':_0x1cb5ff},_0x1d0476=await this[_0x5263c4(0x78)][_0x5263c4(0x9a)](_0x579595);_0x3a97de[_0x5263c4(0xc2)]({'success':!![],'merchants':_0x1d0476[_0x5263c4(0xb4)],'pagination':_0x1d0476[_0x5263c4(0xa5)],'summary':_0x1d0476[_0x5263c4(0x80)]});}catch(_0x5a0d5d){_0x3c93ef(_0x5a0d5d);}},this[_0x4791f3(0xe0)]=async(_0x23eaf9,_0x2abc97,_0x5e2c2d)=>{const _0x4db738=_0x4791f3;try{const _0x22b570=_0x23eaf9[_0x4db738(0xac)][_0x4db738(0x7e)]===_0x4db738(0x92),_0x3a6ee5=await this[_0x4db738(0x78)][_0x4db738(0xe0)](_0x22b570);_0x2abc97[_0x4db738(0xc2)]({'success':!![],'result':_0x3a6ee5});}catch(_0x2e6b30){_0x5e2c2d(_0x2e6b30);}},this['createPayout']=async(_0x1f7c56,_0x1200f2,_0x4b4329)=>{const _0x57b1af=_0x4791f3;try{const _0x2dc24c=_0x1f7c56[_0x57b1af(0x8d)];console[_0x57b1af(0xda)](_0x57b1af(0xc3),_0x2dc24c);const _0x753fa7=await this[_0x57b1af(0x78)][_0x57b1af(0x8a)](_0x2dc24c);_0x1200f2['status'](0xc9)['json']({'success':!![],'message':_0x57b1af(0x97),'result':_0x753fa7});}catch(_0x63f339){_0x4b4329(_0x63f339);}},this[_0x4791f3(0xb2)]=async(_0xefc203,_0x160711,_0x21b672)=>{const _0x505350=_0x4791f3;try{const {id:_0xa4e4a3}=_0xefc203[_0x505350(0x8b)],_0x1c8b82=_0xefc203['body'];console[_0x505350(0xda)]('ðŸŽ¯\x20[CONTROLLER]\x20Updating\x20payout\x20'+_0xa4e4a3+_0x505350(0x89),_0x1c8b82);const _0x55529a=await this[_0x505350(0x78)]['updatePayout'](_0xa4e4a3,_0x1c8b82);_0x160711[_0x505350(0xc2)]({'success':!![],'message':'Payout\x20updated\x20successfully','result':_0x55529a});}catch(_0x1001ee){_0x21b672(_0x1001ee);}},this['getPayouts']=async(_0x4a97a3,_0x19929e,_0x174a2a)=>{const _0x5731ec=_0x4791f3;try{const {page:page=0x1,limit:limit=0x14,shopId:_0x4c21b7,network:_0x476b7c,dateFrom:_0x4d4656,dateTo:_0xeb24c1,search:_0x126891}=_0x4a97a3[_0x5731ec(0xac)],_0x37eec7={'page':Number(page),'limit':Number(limit),'shopId':_0x4c21b7,'network':_0x476b7c,'dateFrom':_0x4d4656,'dateTo':_0xeb24c1,'search':_0x126891},_0x147a26=await this[_0x5731ec(0x78)][_0x5731ec(0xab)](_0x37eec7);_0x19929e[_0x5731ec(0xc2)]({'success':!![],'payouts':_0x147a26[_0x5731ec(0x9b)],'pagination':_0x147a26[_0x5731ec(0xa5)]});}catch(_0x10baff){_0x174a2a(_0x10baff);}},this[_0x4791f3(0xa8)]=async(_0x3d5319,_0x11cf56,_0x59a32d)=>{const _0x4b84b4=_0x4791f3;try{const {id:_0x3f6d28}=_0x3d5319[_0x4b84b4(0x8b)],_0x9587a4=await this[_0x4b84b4(0x78)]['getPayoutById'](_0x3f6d28);if(!_0x9587a4)return _0x11cf56['status'](0x194)[_0x4b84b4(0xc2)]({'success':![],'message':_0x4b84b4(0x9d)});_0x11cf56[_0x4b84b4(0xc2)]({'success':!![],'result':_0x9587a4});}catch(_0x35c9c8){_0x59a32d(_0x35c9c8);}},this[_0x4791f3(0xc1)]=async(_0x1a5bf1,_0x4df004,_0x5b8e2b)=>{const _0x1d2980=_0x4791f3;try{const {id:_0x59b8b6}=_0x1a5bf1[_0x1d2980(0x8b)];await this['adminService'][_0x1d2980(0xc1)](_0x59b8b6),_0x4df004[_0x1d2980(0xc2)]({'success':!![],'message':_0x1d2980(0x8f)});}catch(_0x34ddd2){_0x5b8e2b(_0x34ddd2);}},this[_0x4791f3(0x74)]=async(_0x276d6f,_0x7b8a23,_0x14d83a)=>{const _0x4a177f=_0x4791f3;try{const {page:page=0x1,limit:limit=0x14,status:_0x16c3f6,gateway:_0x3e06a4,shopId:_0x48a55d,dateFrom:_0x53332f,dateTo:_0x4de1d0,search:_0x22b032,currency:_0xbe4faa,sortBy:_0xf97789,sortOrder:_0x591651}=_0x276d6f[_0x4a177f(0xac)],_0x2805d0={'page':Number(page),'limit':Number(limit),'status':_0x16c3f6,'gateway':_0x3e06a4,'shopId':_0x48a55d,'dateFrom':_0x53332f,'dateTo':_0x4de1d0,'search':_0x22b032,'currency':_0xbe4faa,'sortBy':_0xf97789,'sortOrder':_0x591651},_0x2a8cb4=await this[_0x4a177f(0x78)][_0x4a177f(0x7b)](_0x2805d0);_0x7b8a23['json']({'success':!![],'payments':_0x2a8cb4[_0x4a177f(0x8e)],'pagination':_0x2a8cb4['pagination'],'statistics':_0x2a8cb4['statistics']});}catch(_0x4b4e80){_0x14d83a(_0x4b4e80);}},this[_0x4791f3(0xbc)]=async(_0x1183ec,_0x194350,_0x551918)=>{const _0x10f955=_0x4791f3;try{const {id:_0x17afdc}=_0x1183ec['params'],_0x1ae4c1=await this['adminService']['getPaymentById'](_0x17afdc);if(!_0x1ae4c1)return _0x194350[_0x10f955(0xc4)](0x194)['json']({'success':![],'message':_0x10f955(0xe5)});_0x194350[_0x10f955(0xc2)]({'success':!![],'result':_0x1ae4c1});}catch(_0x1ed583){_0x551918(_0x1ed583);}},this[_0x4791f3(0x77)]=async(_0x3d5e9e,_0x5acde1,_0x3a956b)=>{const _0x28afd1=_0x4791f3;try{const {id:_0x584464}=_0x3d5e9e['params'],{status:_0x955046,notes:_0x257c1a,chargebackAmount:_0x4ead93}=_0x3d5e9e[_0x28afd1(0x8d)],_0xd69194=await this['adminService'][_0x28afd1(0xbc)](_0x584464);if(!_0xd69194)return _0x5acde1[_0x28afd1(0xc4)](0x194)[_0x28afd1(0xc2)]({'success':![],'message':_0x28afd1(0xe5)});const _0x44480f=await this['adminService'][_0x28afd1(0x86)](_0x584464,_0x955046,_0x257c1a,_0x4ead93);if(_0xd69194[_0x28afd1(0xc4)]!==_0x955046&&_0x955046[_0x28afd1(0xd1)]()==='PAID'){console[_0x28afd1(0xda)](_0x28afd1(0xb7)+_0x584464+_0x28afd1(0xb8));try{await this[_0x28afd1(0xb9)]['handleSuccessfulPayment'](_0x584464),console[_0x28afd1(0xda)](_0x28afd1(0xe8)+_0x584464);}catch(_0x51abed){console['error'](_0x28afd1(0x90),_0x51abed);}}if(_0xd69194[_0x28afd1(0xc4)]!==_0x955046){console['log']('ðŸ“±\x20Payment\x20'+_0x584464+_0x28afd1(0xb1)+_0xd69194[_0x28afd1(0xc4)]+_0x28afd1(0x9f)+_0x955046+_0x28afd1(0xce));try{let _0x5d3691;switch(_0x955046[_0x28afd1(0xd1)]()){case _0x28afd1(0xdb):_0x5d3691='paid';break;case'PROCESSING':_0x5d3691=_0x28afd1(0x79);break;case _0x28afd1(0xcc):_0x5d3691=_0x28afd1(0xd0);break;case _0x28afd1(0xb0):_0x5d3691=_0x28afd1(0xc8);break;case'REFUND':_0x5d3691=_0x28afd1(0xb5);break;case _0x28afd1(0x98):_0x5d3691=_0x28afd1(0x7a);break;default:console[_0x28afd1(0xda)](_0x28afd1(0xa7)+_0x955046);break;}if(_0x5d3691){const _0x1d3621={..._0x44480f,'shopId':_0xd69194[_0x28afd1(0x88)],'gateway':_0xd69194[_0x28afd1(0xc7)],'createdAt':_0xd69194[_0x28afd1(0xbb)],'chargebackAmount':_0x4ead93};await telegramBotService_1[_0x28afd1(0xe6)]['sendPaymentNotification'](_0xd69194[_0x28afd1(0x88)],_0x1d3621,_0x5d3691),console[_0x28afd1(0xda)](_0x28afd1(0xa2)+_0xd69194[_0x28afd1(0xc4)]+_0x28afd1(0x7d)+_0x955046);}}catch(_0x3810f0){console[_0x28afd1(0x95)](_0x28afd1(0x94),_0x3810f0);}}_0x5acde1[_0x28afd1(0xc2)]({'success':!![],'message':'Payment\x20updated\x20successfully','result':_0x44480f});}catch(_0x58db1f){_0x3a956b(_0x58db1f);}},this[_0x4791f3(0xaa)]=async(_0x5ecb36,_0x16bc5a,_0x557e3f)=>{const _0xc76530=_0x4791f3;try{const {id:_0x2ddc45}=_0x5ecb36[_0xc76530(0x8b)],_0x550d23=_0x5ecb36[_0xc76530(0x8d)];console[_0xc76530(0xda)]('ðŸ”„\x20Admin\x20updating\x20customer\x20data\x20for\x20payment\x20'+_0x2ddc45+':',_0x550d23);const _0x144258=await this['adminService'][_0xc76530(0xaa)](_0x2ddc45,_0x550d23);_0x16bc5a[_0xc76530(0xc2)]({'success':!![],'message':_0xc76530(0xde),'result':_0x144258});}catch(_0x137058){_0x557e3f(_0x137058);}},this[_0x4791f3(0xd7)]=async(_0x14f4fa,_0x173dcd,_0x25ab2e)=>{const _0x421edc=_0x4791f3;try{const {id:_0x443ebf}=_0x14f4fa[_0x421edc(0x8b)],_0x21c053=_0x14f4fa[_0x421edc(0x8d)],_0xabc8e9=await this['adminService'][_0x421edc(0xd7)](_0x443ebf,_0x21c053);_0x173dcd[_0x421edc(0xc2)]({'success':!![],'message':_0x421edc(0xd2),'result':_0xabc8e9});}catch(_0x5755eb){_0x25ab2e(_0x5755eb);}},this['suspendUser']=async(_0x538dde,_0x463271,_0x3b9a88)=>{const _0x4a75cd=_0x4791f3;try{const {id:_0x44da8b}=_0x538dde['params'],_0x43d74c=await this[_0x4a75cd(0x78)][_0x4a75cd(0xd4)](_0x44da8b);_0x463271[_0x4a75cd(0xc2)]({'success':!![],'message':'User\x20suspended\x20successfully','result':_0x43d74c});}catch(_0x44e023){_0x3b9a88(_0x44e023);}},this[_0x4791f3(0xbe)]=async(_0x2e9fa6,_0x5c4432,_0x4fa354)=>{const _0x3358b0=_0x4791f3;try{const {id:_0x476bc0}=_0x2e9fa6['params'],_0x5dd784=await this[_0x3358b0(0x78)][_0x3358b0(0xbe)](_0x476bc0);_0x5c4432[_0x3358b0(0xc2)]({'success':!![],'message':_0x3358b0(0x70),'result':_0x5dd784});}catch(_0x117350){_0x4fa354(_0x117350);}},this[_0x4791f3(0x93)]=async(_0x385b91,_0x1e991a,_0x3102e7)=>{const _0x27b45f=_0x4791f3;try{const {page:page=0x1,limit:limit=0x14,status:_0x217dc7}=_0x385b91['query'],_0x361fc1={'page':Number(page),'limit':Number(limit),'status':_0x217dc7},_0x68a302=await this[_0x27b45f(0x78)][_0x27b45f(0x96)](_0x361fc1);_0x1e991a[_0x27b45f(0xc2)]({'success':!![],'users':_0x68a302['users'],'pagination':_0x68a302[_0x27b45f(0xa5)]});}catch(_0x2051f3){_0x3102e7(_0x2051f3);}},this[_0x4791f3(0x7f)]=async(_0x2b55b7,_0x1d721e,_0x47f12d)=>{const _0x233d77=_0x4791f3;try{const {id:_0x17804e}=_0x2b55b7[_0x233d77(0x8b)],_0x10bb8a=await this['adminService'][_0x233d77(0x7f)](_0x17804e);if(!_0x10bb8a)return _0x1d721e[_0x233d77(0xc4)](0x194)[_0x233d77(0xc2)]({'success':![],'message':_0x233d77(0xca)});_0x1d721e[_0x233d77(0xc2)]({'success':!![],'result':_0x10bb8a});}catch(_0x354055){_0x47f12d(_0x354055);}},this['createUser']=async(_0xa06f2c,_0x47e26c,_0x27583d)=>{const _0x42ae22=_0x4791f3;try{const _0xd79182=_0xa06f2c[_0x42ae22(0x8d)],_0x5949f4=await this['adminService'][_0x42ae22(0x82)](_0xd79182);_0x47e26c[_0x42ae22(0xc4)](0xc9)[_0x42ae22(0xc2)]({'success':!![],'message':_0x42ae22(0xcd),'result':_0x5949f4});}catch(_0x2e5b66){_0x27583d(_0x2e5b66);}},this[_0x4791f3(0x8c)]=async(_0x350ddf,_0x22fa2c,_0x7e0edf)=>{const _0x2d506f=_0x4791f3;try{const {id:_0x5b74ba}=_0x350ddf[_0x2d506f(0x8b)];await this[_0x2d506f(0x78)]['deleteUser'](_0x5b74ba),_0x22fa2c[_0x2d506f(0xc2)]({'success':!![],'message':_0x2d506f(0xc6)});}catch(_0x3af5ea){_0x7e0edf(_0x3af5ea);}},this[_0x4791f3(0xd6)]=async(_0x5d2e61,_0x3c031b,_0x3264cf)=>{const _0x41cc2c=_0x4791f3;try{const {shopId:_0x3f2a26}=_0x5d2e61['params'],_0x1657c1=await this['adminService'][_0x41cc2c(0xd6)](_0x3f2a26);_0x3c031b[_0x41cc2c(0xc2)]({'success':!![],'wallets':_0x1657c1});}catch(_0x1d8725){_0x3264cf(_0x1d8725);}},this['setup2FA']=async(_0x2f8c11,_0x2098d7,_0x305270)=>{const _0x2e155d=_0x4791f3;try{const {shopId:_0x4079dc}=_0x2f8c11['params'],_0x28ac24=await this[_0x2e155d(0x78)][_0x2e155d(0x75)](_0x4079dc);_0x2098d7[_0x2e155d(0xc2)]({'success':!![],'result':_0x28ac24});}catch(_0x41c72e){_0x305270(_0x41c72e);}},this['enable2FA']=async(_0x16d281,_0x235a17,_0x1aa609)=>{const _0x2cc2a6=_0x4791f3;try{const {shopId:_0xa4d1b4}=_0x16d281[_0x2cc2a6(0x8b)],{token:_0x52176b}=_0x16d281[_0x2cc2a6(0x8d)];if(!_0x52176b)return _0x235a17[_0x2cc2a6(0xc4)](0x190)[_0x2cc2a6(0xc2)]({'success':![],'message':'Token\x20is\x20required'});const _0x29feb3=await this[_0x2cc2a6(0x78)][_0x2cc2a6(0x85)](_0xa4d1b4,_0x52176b);_0x235a17[_0x2cc2a6(0xc2)]({'success':!![],'message':_0x2cc2a6(0xad),'result':_0x29feb3});}catch(_0x556eae){_0x1aa609(_0x556eae);}},this[_0x4791f3(0xc5)]=async(_0x15c14d,_0x473cfa,_0x3103d9)=>{const _0x4af158=_0x4791f3;try{const {shopId:_0x1d54bc}=_0x15c14d[_0x4af158(0x8b)];await this[_0x4af158(0x78)][_0x4af158(0xc5)](_0x1d54bc),_0x473cfa[_0x4af158(0xc2)]({'success':!![],'message':_0x4af158(0xe2)});}catch(_0x3bdc1c){_0x3103d9(_0x3bdc1c);}},this['getProcessingPaymentsStats']=async(_0x1929b9,_0x1f5719,_0x5140ae)=>{const _0x33fdf4=_0x4791f3;try{const _0x1c1f4d=await paymentCleanupService_1[_0x33fdf4(0x6f)][_0x33fdf4(0xd8)]();_0x1f5719[_0x33fdf4(0xc2)]({'success':!![],'result':_0x1c1f4d});}catch(_0x39da7e){_0x5140ae(_0x39da7e);}},this[_0x4791f3(0xba)]=async(_0x3c3816,_0x3bd4c9,_0x59f2ea)=>{const _0x90570a=_0x4791f3;try{console[_0x90570a(0xda)]('ðŸ§¹\x20Manual\x20PROCESSING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20'+_0x3c3816['user']?.[_0x90570a(0xa9)]+'\x20('+_0x3c3816['user']?.['id']+')');const _0x32705a=await paymentCleanupService_1[_0x90570a(0x6f)]['cleanupStaleProcessingPayments']();_0x3bd4c9[_0x90570a(0xc2)]({'success':!![],'message':_0x90570a(0x9c),'result':{'processed':_0x32705a[_0x90570a(0xb6)],'failed':_0x32705a[_0x90570a(0xd0)],'errors':_0x32705a[_0x90570a(0x71)]}});}catch(_0x477a67){_0x59f2ea(_0x477a67);}},this[_0x4791f3(0xa6)]=async(_0x329aa3,_0x18d96c,_0x2dcb68)=>{const _0x40d7f7=_0x4791f3;try{console[_0x40d7f7(0xda)](_0x40d7f7(0xcb)+_0x329aa3[_0x40d7f7(0xe7)]?.[_0x40d7f7(0xa9)]+'\x20('+_0x329aa3['user']?.['id']+')');const _0x418b5f=await paymentCleanupService_1[_0x40d7f7(0x6f)][_0x40d7f7(0xa6)]();_0x18d96c['json']({'success':!![],'message':_0x40d7f7(0xaf),'result':{'processed':_0x418b5f[_0x40d7f7(0xb6)],'failed':_0x418b5f['failed'],'errors':_0x418b5f['errors']}});}catch(_0x4356a3){_0x2dcb68(_0x4356a3);}},this[_0x4791f3(0xb3)]=async(_0x16e483,_0x2d4938,_0x114627)=>{const _0x2349b5=_0x4791f3;try{console['log'](_0x2349b5(0x9e)+_0x16e483[_0x2349b5(0xe7)]?.[_0x2349b5(0xa9)]+'\x20('+_0x16e483['user']?.['id']+')');const _0x4c40fa=await paymentCleanupService_1['paymentCleanupService']['getProcessingPaymentsStats'](),_0x6f0b3d=await paymentCleanupService_1[_0x2349b5(0x6f)][_0x2349b5(0xbd)](),_0xa7c05d=await paymentCleanupService_1[_0x2349b5(0x6f)][_0x2349b5(0xa6)](),_0x3eb99f=await paymentCleanupService_1['paymentCleanupService'][_0x2349b5(0xd8)]();_0x2d4938[_0x2349b5(0xc2)]({'success':!![],'message':_0x2349b5(0x87),'result':{'cleanup':{'processing':{'processed':_0x6f0b3d[_0x2349b5(0xb6)],'failed':_0x6f0b3d['failed'],'errors':_0x6f0b3d[_0x2349b5(0x71)]},'pending':{'processed':_0xa7c05d[_0x2349b5(0xb6)],'failed':_0xa7c05d[_0x2349b5(0xd0)],'errors':_0xa7c05d[_0x2349b5(0x71)]},'total':{'processed':_0x6f0b3d[_0x2349b5(0xb6)]+_0xa7c05d[_0x2349b5(0xb6)],'failed':_0x6f0b3d[_0x2349b5(0xd0)]+_0xa7c05d['failed'],'errors':[..._0x6f0b3d[_0x2349b5(0x71)],..._0xa7c05d[_0x2349b5(0x71)]]}},'statistics':{'before':_0x4c40fa,'after':_0x3eb99f,'reduced':_0x4c40fa['total']-_0x3eb99f[_0x2349b5(0x83)]}}});}catch(_0x54d82d){_0x114627(_0x54d82d);}},this[_0x4791f3(0x81)]=async(_0x2f1156,_0x33c67e,_0x29527d)=>{const _0x1f1226=_0x4791f3;try{const _0x9cd71b=await paymentCleanupService_1[_0x1f1226(0x6f)][_0x1f1226(0xdd)]();_0x33c67e[_0x1f1226(0xc2)]({'success':!![],'message':_0x1f1226(0xc0),'result':{'expired':_0x9cd71b[_0x1f1226(0xc8)],'errors':_0x9cd71b[_0x1f1226(0x71)]}});}catch(_0x12cc0e){_0x29527d(_0x12cc0e);}},this['adminService']=new adminService_1[(_0x4791f3(0xcf))](),this[_0x4791f3(0xb9)]=new paymentLinkService_1[(_0x4791f3(0xd9))]();}}exports[a3_0x6c5e68(0xa4)]=AdminController;