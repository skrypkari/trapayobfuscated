'use strict';const a3_0x339e86=a3_0x1927;(function(_0x291c4e,_0x27b91e){const _0x5b5116=a3_0x1927,_0x4482fb=_0x291c4e();while(!![]){try{const _0xbad7c9=-parseInt(_0x5b5116(0x1ef))/0x1*(-parseInt(_0x5b5116(0x1ee))/0x2)+parseInt(_0x5b5116(0x1d2))/0x3+-parseInt(_0x5b5116(0x1d9))/0x4*(parseInt(_0x5b5116(0x1cb))/0x5)+parseInt(_0x5b5116(0x1c5))/0x6*(parseInt(_0x5b5116(0x1df))/0x7)+-parseInt(_0x5b5116(0x204))/0x8*(-parseInt(_0x5b5116(0x1d0))/0x9)+-parseInt(_0x5b5116(0x1b1))/0xa*(parseInt(_0x5b5116(0x21e))/0xb)+parseInt(_0x5b5116(0x1b8))/0xc*(-parseInt(_0x5b5116(0x20d))/0xd);if(_0xbad7c9===_0x27b91e)break;else _0x4482fb['push'](_0x4482fb['shift']());}catch(_0x431a29){_0x4482fb['push'](_0x4482fb['shift']());}}}(a3_0x3164,0xa551a));function a3_0x1927(_0x49405d,_0x3319bf){_0x49405d=_0x49405d-0x1af;const _0x316429=a3_0x3164();let _0x1927da=_0x316429[_0x49405d];return _0x1927da;}Object[a3_0x339e86(0x210)](exports,a3_0x339e86(0x1ec),{'value':!![]}),exports[a3_0x339e86(0x202)]=void 0x0;const adminService_1=require('../services/adminService'),paymentLinkService_1=require(a3_0x339e86(0x20f)),paymentCleanupService_1=require(a3_0x339e86(0x1d1)),telegramBotService_1=require(a3_0x339e86(0x1cd));function a3_0x3164(){const _0x6d910b=['pagination','createUser','toUpperCase','11294107UQFEyG','processed','âœ…\x20Telegram\x20notification\x20sent\x20for\x20status\x20change:\x20','Payout\x20deleted\x20successfully','User\x20deleted\x20successfully','10NqeduN','ðŸ“±\x20Payment\x20','Payment\x20not\x20found','ðŸ“ˆ\x20Admin\x20changed\x20payment\x20','errors','getUsers','getPayouts','384852IPWtPR','expired','getPayoutStats','gateway','EXPIRED','json','role','status','Payment\x20link\x20expiration\x20check\x20completed\x20successfully','log','query','getUserById','getAllPayments','4224bcEWXT','processing','getPayoutById','User\x20activated\x20successfully','PENDING\x20payment\x20cleanup\x20completed\x20successfully','\x20to\x20','794900nPPlqn','ðŸ§¹\x20Manual\x20PROCESSING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','../services/telegramBotService','telegramBotService','params','1413kXIqCk','../services/paymentCleanupService','3308610VzFwmy','user','PROCESSING\x20payment\x20cleanup\x20completed\x20successfully','Payout\x20created\x20successfully','cleanupStaleProcessingPayments','total','getAllPayouts','16PRGkOz','statistics','merchants','handleSuccessfulPayment','Failed\x20to\x20send\x20Telegram\x20notification\x20for\x20status\x20change:','Customer\x20data\x20updated\x20successfully','8281clsOnt','checkAuth','Failed\x20to\x20update\x20payment\x20link\x20counter:','paymentCleanupService','User\x20created\x20successfully','payments','getPayments','createPayout','getStatistics','ðŸŽ¯\x20[CONTROLLER]\x20Creating\x20payout\x20with\x20data:','adminService','\x20to\x20PAID,\x20updating\x20payment\x20link\x20counter','getAllUsers','__esModule','getProcessingPaymentsStats','45218qMTBGQ','47LUcjPl','updateUser','PAID','getMerchantsSelection','month','sendPaymentNotification','getMerchantStatistics','updatePayment','â°\x20Manual\x20PENDING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','true','summary','updateCustomerData','cleanupStalePaymentsWithReport','error','User\x20suspended\x20successfully','refund','getPaymentById','deletePayout','AdminService','AdminController','Admin\x20access\x20confirmed','28544vOHJDl','getMerchantsAwaitingPayout','Payment\x20updated\x20successfully','body','\x20status\x20changed\x20from\x20','failed','activateUser','shopId','cleanupStalePendingPayments','494pAzHoU','PROCESSING','../services/paymentLinkService','defineProperty','getSystemStatistics','CHARGEBACK','username','ðŸ“Š\x20Admin\x20requesting\x20merchant\x20statistics\x20with\x20filters:',',\x20sending\x20Telegram\x20notification','createdAt','Payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20completed\x20successfully','PaymentLinkService','suspendUser','Payout\x20not\x20found'];a3_0x3164=function(){return _0x6d910b;};return a3_0x3164();}class AdminController{constructor(){const _0x2cc0ac=a3_0x339e86;this[_0x2cc0ac(0x1e0)]=async(_0x5cc37e,_0x540cb8,_0x2078e3)=>{const _0x589774=_0x2cc0ac;try{const _0x34bf58=_0x5cc37e[_0x589774(0x1d3)];_0x540cb8[_0x589774(0x1bd)]({'success':!![],'message':_0x589774(0x203),'user':{'id':_0x34bf58?.['id'],'username':_0x34bf58?.[_0x589774(0x213)],'role':_0x34bf58?.[_0x589774(0x1be)]}});}catch(_0x1febce){_0x2078e3(_0x1febce);}},this[_0x2cc0ac(0x1e7)]=async(_0x231829,_0x587f7e,_0x4ec136)=>{const _0x4f49e4=_0x2cc0ac;try{const {period:period='30d',currentDate:_0x41b376}=_0x231829[_0x4f49e4(0x1c2)],_0x5ed094=await this[_0x4f49e4(0x1e9)][_0x4f49e4(0x211)](period,_0x41b376);_0x587f7e['json']({'success':!![],'result':_0x5ed094});}catch(_0x14053f){_0x4ec136(_0x14053f);}},this[_0x2cc0ac(0x1f5)]=async(_0x5378c5,_0x102281,_0x5338ab)=>{const _0x50470d=_0x2cc0ac;try{const {shopId:_0x47327b,period:period=_0x50470d(0x1f3),dateFrom:_0x584d51,dateTo:_0x237ef7}=_0x5378c5[_0x50470d(0x1c2)],_0x3d945a={'shopId':_0x47327b,'period':period,'dateFrom':_0x584d51,'dateTo':_0x237ef7};console['log'](_0x50470d(0x214),_0x3d945a);const _0x38b82d=await this['adminService'][_0x50470d(0x1f5)](_0x3d945a);_0x102281[_0x50470d(0x1bd)]({'success':!![],'result':_0x38b82d});}catch(_0x504adc){_0x5338ab(_0x504adc);}},this[_0x2cc0ac(0x1ba)]=async(_0x4542a9,_0x4914f9,_0x461450)=>{const _0x1b4fca=_0x2cc0ac;try{const _0x139b6e=await this[_0x1b4fca(0x1e9)]['getPayoutStats']();_0x4914f9[_0x1b4fca(0x1bd)]({'success':!![],'result':_0x139b6e});}catch(_0x282702){_0x461450(_0x282702);}},this[_0x2cc0ac(0x205)]=async(_0x5e31c8,_0x5867dc,_0x41351b)=>{const _0x2467ac=_0x2cc0ac;try{const {page:page=0x1,limit:limit=0x14,minAmount:_0x1f4965,search:_0x1baffd}=_0x5e31c8[_0x2467ac(0x1c2)],_0x4b1ca9={'page':Number(page),'limit':Number(limit),'minAmount':_0x1f4965?Number(_0x1f4965):undefined,'search':_0x1baffd},_0x58cb91=await this[_0x2467ac(0x1e9)][_0x2467ac(0x205)](_0x4b1ca9);_0x5867dc['json']({'success':!![],'merchants':_0x58cb91[_0x2467ac(0x1db)],'pagination':_0x58cb91[_0x2467ac(0x21b)],'summary':_0x58cb91[_0x2467ac(0x1f9)]});}catch(_0x55e1dd){_0x41351b(_0x55e1dd);}},this[_0x2cc0ac(0x1f2)]=async(_0x553de9,_0x487d13,_0x7f2e6f)=>{const _0x21ea69=_0x2cc0ac;try{const _0x242592=_0x553de9[_0x21ea69(0x1c2)]['hasPayoutHistory']===_0x21ea69(0x1f8),_0x56e5b5=await this[_0x21ea69(0x1e9)]['getMerchantsSelection'](_0x242592);_0x487d13[_0x21ea69(0x1bd)]({'success':!![],'result':_0x56e5b5});}catch(_0x3dc611){_0x7f2e6f(_0x3dc611);}},this[_0x2cc0ac(0x1e6)]=async(_0x5d4bc5,_0x35e21b,_0x4a5258)=>{const _0x37ff28=_0x2cc0ac;try{const _0x3c1014=_0x5d4bc5[_0x37ff28(0x207)];console[_0x37ff28(0x1c1)](_0x37ff28(0x1e8),_0x3c1014);const _0x5999c2=await this['adminService'][_0x37ff28(0x1e6)](_0x3c1014);_0x35e21b['status'](0xc9)[_0x37ff28(0x1bd)]({'success':!![],'message':_0x37ff28(0x1d5),'result':_0x5999c2});}catch(_0x20e5e4){_0x4a5258(_0x20e5e4);}},this[_0x2cc0ac(0x1b7)]=async(_0x82c85e,_0x29e8ea,_0x4e9aec)=>{const _0x28b558=_0x2cc0ac;try{const {page:page=0x1,limit:limit=0x14,shopId:_0x23b524,network:_0x3390a4,dateFrom:_0x40138b,dateTo:_0x5cac83,search:_0x5f59f7}=_0x82c85e[_0x28b558(0x1c2)],_0x1e6e0e={'page':Number(page),'limit':Number(limit),'shopId':_0x23b524,'network':_0x3390a4,'dateFrom':_0x40138b,'dateTo':_0x5cac83,'search':_0x5f59f7},_0x4c9b73=await this[_0x28b558(0x1e9)][_0x28b558(0x1d8)](_0x1e6e0e);_0x29e8ea[_0x28b558(0x1bd)]({'success':!![],'payouts':_0x4c9b73['payouts'],'pagination':_0x4c9b73['pagination']});}catch(_0x5362bb){_0x4e9aec(_0x5362bb);}},this[_0x2cc0ac(0x1c7)]=async(_0x515efc,_0xe5bd17,_0xef403a)=>{const _0x4bbbaa=_0x2cc0ac;try{const {id:_0x46743b}=_0x515efc[_0x4bbbaa(0x1cf)],_0x3eef70=await this[_0x4bbbaa(0x1e9)][_0x4bbbaa(0x1c7)](_0x46743b);if(!_0x3eef70)return _0xe5bd17[_0x4bbbaa(0x1bf)](0x194)[_0x4bbbaa(0x1bd)]({'success':![],'message':_0x4bbbaa(0x21a)});_0xe5bd17[_0x4bbbaa(0x1bd)]({'success':!![],'result':_0x3eef70});}catch(_0x507686){_0xef403a(_0x507686);}},this['deletePayout']=async(_0x83bfd0,_0x3379aa,_0x46179c)=>{const _0x58f102=_0x2cc0ac;try{const {id:_0x127cc2}=_0x83bfd0[_0x58f102(0x1cf)];await this[_0x58f102(0x1e9)][_0x58f102(0x200)](_0x127cc2),_0x3379aa['json']({'success':!![],'message':_0x58f102(0x1af)});}catch(_0x22acb4){_0x46179c(_0x22acb4);}},this[_0x2cc0ac(0x1e5)]=async(_0x2ae4fc,_0x44ff39,_0x28df50)=>{const _0x6cb197=_0x2cc0ac;try{const {page:page=0x1,limit:limit=0x14,status:_0x4b327f,gateway:_0x5e2177,shopId:_0x543ab5,dateFrom:_0x150cce,dateTo:_0x592db4,search:_0x3b582f,currency:_0x40b2d5,sortBy:_0x330af1,sortOrder:_0x53011f}=_0x2ae4fc[_0x6cb197(0x1c2)],_0xae01e0={'page':Number(page),'limit':Number(limit),'status':_0x4b327f,'gateway':_0x5e2177,'shopId':_0x543ab5,'dateFrom':_0x150cce,'dateTo':_0x592db4,'search':_0x3b582f,'currency':_0x40b2d5,'sortBy':_0x330af1,'sortOrder':_0x53011f},_0x52f68a=await this[_0x6cb197(0x1e9)][_0x6cb197(0x1c4)](_0xae01e0);_0x44ff39['json']({'success':!![],'payments':_0x52f68a[_0x6cb197(0x1e4)],'pagination':_0x52f68a[_0x6cb197(0x21b)],'statistics':_0x52f68a[_0x6cb197(0x1da)]});}catch(_0x436af5){_0x28df50(_0x436af5);}},this[_0x2cc0ac(0x1ff)]=async(_0x7f07e2,_0x21d96f,_0x1fb882)=>{const _0x66259=_0x2cc0ac;try{const {id:_0x2c45bc}=_0x7f07e2[_0x66259(0x1cf)],_0x4b0381=await this['adminService'][_0x66259(0x1ff)](_0x2c45bc);if(!_0x4b0381)return _0x21d96f[_0x66259(0x1bf)](0x194)[_0x66259(0x1bd)]({'success':![],'message':_0x66259(0x1b3)});_0x21d96f[_0x66259(0x1bd)]({'success':!![],'result':_0x4b0381});}catch(_0x1e1a80){_0x1fb882(_0x1e1a80);}},this[_0x2cc0ac(0x1f6)]=async(_0x12b8b9,_0x47edca,_0x441435)=>{const _0x1109b8=_0x2cc0ac;try{const {id:_0x429a1e}=_0x12b8b9['params'],{status:_0x2223b9,notes:_0x5b56b9,chargebackAmount:_0xd17dc3}=_0x12b8b9[_0x1109b8(0x207)],_0x280469=await this[_0x1109b8(0x1e9)][_0x1109b8(0x1ff)](_0x429a1e);if(!_0x280469)return _0x47edca['status'](0x194)[_0x1109b8(0x1bd)]({'success':![],'message':_0x1109b8(0x1b3)});const _0x4f5b00=await this[_0x1109b8(0x1e9)]['updatePaymentStatus'](_0x429a1e,_0x2223b9,_0x5b56b9,_0xd17dc3);if(_0x280469[_0x1109b8(0x1bf)]!==_0x2223b9&&_0x2223b9[_0x1109b8(0x21d)]()===_0x1109b8(0x1f1)){console[_0x1109b8(0x1c1)](_0x1109b8(0x1b4)+_0x429a1e+_0x1109b8(0x1ea));try{await this['paymentLinkService'][_0x1109b8(0x1dc)](_0x429a1e),console['log']('âœ…\x20Payment\x20link\x20counter\x20updated\x20for\x20payment\x20'+_0x429a1e);}catch(_0x566b4d){console[_0x1109b8(0x1fc)](_0x1109b8(0x1e1),_0x566b4d);}}if(_0x280469[_0x1109b8(0x1bf)]!==_0x2223b9){console[_0x1109b8(0x1c1)](_0x1109b8(0x1b2)+_0x429a1e+_0x1109b8(0x208)+_0x280469['status']+_0x1109b8(0x1ca)+_0x2223b9+_0x1109b8(0x215));try{let _0x5a08d5;switch(_0x2223b9[_0x1109b8(0x21d)]()){case _0x1109b8(0x1f1):_0x5a08d5='paid';break;case _0x1109b8(0x20e):_0x5a08d5=_0x1109b8(0x1c6);break;case'FAILED':_0x5a08d5=_0x1109b8(0x209);break;case _0x1109b8(0x1bc):_0x5a08d5=_0x1109b8(0x1b9);break;case'REFUND':_0x5a08d5=_0x1109b8(0x1fe);break;case _0x1109b8(0x212):_0x5a08d5='chargeback';break;default:console['log']('ðŸ“±\x20Skipping\x20Telegram\x20notification\x20for\x20status\x20change\x20to:\x20'+_0x2223b9);break;}if(_0x5a08d5){const _0x20d051={..._0x4f5b00,'shopId':_0x280469['shopId'],'gateway':_0x280469[_0x1109b8(0x1bb)],'createdAt':_0x280469[_0x1109b8(0x216)],'chargebackAmount':_0xd17dc3};await telegramBotService_1[_0x1109b8(0x1ce)][_0x1109b8(0x1f4)](_0x280469[_0x1109b8(0x20b)],_0x20d051,_0x5a08d5),console[_0x1109b8(0x1c1)](_0x1109b8(0x220)+_0x280469[_0x1109b8(0x1bf)]+'\x20->\x20'+_0x2223b9);}}catch(_0x59ee61){console[_0x1109b8(0x1fc)](_0x1109b8(0x1dd),_0x59ee61);}}_0x47edca['json']({'success':!![],'message':_0x1109b8(0x206),'result':_0x4f5b00});}catch(_0x22867c){_0x441435(_0x22867c);}},this['updateCustomerData']=async(_0x2d0a82,_0x1fec12,_0x57fc5d)=>{const _0x240d98=_0x2cc0ac;try{const {id:_0xf3106}=_0x2d0a82[_0x240d98(0x1cf)],_0x578130=_0x2d0a82[_0x240d98(0x207)];console[_0x240d98(0x1c1)]('ðŸ”„\x20Admin\x20updating\x20customer\x20data\x20for\x20payment\x20'+_0xf3106+':',_0x578130);const _0x5cc538=await this[_0x240d98(0x1e9)][_0x240d98(0x1fa)](_0xf3106,_0x578130);_0x1fec12['json']({'success':!![],'message':_0x240d98(0x1de),'result':_0x5cc538});}catch(_0x1eabc4){_0x57fc5d(_0x1eabc4);}},this[_0x2cc0ac(0x1f0)]=async(_0x26fae4,_0x3c6a2f,_0x4623d4)=>{const _0x430e74=_0x2cc0ac;try{const {id:_0x111809}=_0x26fae4[_0x430e74(0x1cf)],_0x5c163f=_0x26fae4[_0x430e74(0x207)],_0x107e4f=await this[_0x430e74(0x1e9)][_0x430e74(0x1f0)](_0x111809,_0x5c163f);_0x3c6a2f[_0x430e74(0x1bd)]({'success':!![],'message':'User\x20updated\x20successfully','result':_0x107e4f});}catch(_0x7ae408){_0x4623d4(_0x7ae408);}},this['suspendUser']=async(_0xd6166f,_0x2a763a,_0x45531b)=>{const _0x33ef8a=_0x2cc0ac;try{const {id:_0x57db39}=_0xd6166f[_0x33ef8a(0x1cf)],_0x518f35=await this[_0x33ef8a(0x1e9)][_0x33ef8a(0x219)](_0x57db39);_0x2a763a[_0x33ef8a(0x1bd)]({'success':!![],'message':_0x33ef8a(0x1fd),'result':_0x518f35});}catch(_0x3799fa){_0x45531b(_0x3799fa);}},this[_0x2cc0ac(0x20a)]=async(_0x4d111d,_0x1d75cb,_0xb24db6)=>{const _0x5aee1f=_0x2cc0ac;try{const {id:_0x207192}=_0x4d111d[_0x5aee1f(0x1cf)],_0x1cb41e=await this[_0x5aee1f(0x1e9)][_0x5aee1f(0x20a)](_0x207192);_0x1d75cb['json']({'success':!![],'message':_0x5aee1f(0x1c8),'result':_0x1cb41e});}catch(_0x3cbe1f){_0xb24db6(_0x3cbe1f);}},this[_0x2cc0ac(0x1b6)]=async(_0x659052,_0x154fef,_0x8834b8)=>{const _0x251896=_0x2cc0ac;try{const {page:page=0x1,limit:limit=0x14,status:_0xb43083}=_0x659052[_0x251896(0x1c2)],_0x28bdbf={'page':Number(page),'limit':Number(limit),'status':_0xb43083},_0x4a7cba=await this[_0x251896(0x1e9)][_0x251896(0x1eb)](_0x28bdbf);_0x154fef[_0x251896(0x1bd)]({'success':!![],'users':_0x4a7cba['users'],'pagination':_0x4a7cba[_0x251896(0x21b)]});}catch(_0x3f52de){_0x8834b8(_0x3f52de);}},this['getUserById']=async(_0x12b829,_0xf0a9e6,_0x20641b)=>{const _0x376f8d=_0x2cc0ac;try{const {id:_0x4700e1}=_0x12b829['params'],_0x1b3a67=await this[_0x376f8d(0x1e9)][_0x376f8d(0x1c3)](_0x4700e1);if(!_0x1b3a67)return _0xf0a9e6['status'](0x194)['json']({'success':![],'message':'User\x20not\x20found'});_0xf0a9e6['json']({'success':!![],'result':_0x1b3a67});}catch(_0x4e194c){_0x20641b(_0x4e194c);}},this[_0x2cc0ac(0x21c)]=async(_0xaf6255,_0x3d9be2,_0x87beca)=>{const _0x201f9e=_0x2cc0ac;try{const _0x2cd91f=_0xaf6255[_0x201f9e(0x207)],_0x13cecf=await this[_0x201f9e(0x1e9)][_0x201f9e(0x21c)](_0x2cd91f);_0x3d9be2[_0x201f9e(0x1bf)](0xc9)[_0x201f9e(0x1bd)]({'success':!![],'message':_0x201f9e(0x1e3),'result':_0x13cecf});}catch(_0x57aa91){_0x87beca(_0x57aa91);}},this['deleteUser']=async(_0x50a19b,_0xec800c,_0x111592)=>{const _0x1e681f=_0x2cc0ac;try{const {id:_0x29b6b8}=_0x50a19b[_0x1e681f(0x1cf)];await this[_0x1e681f(0x1e9)]['deleteUser'](_0x29b6b8),_0xec800c['json']({'success':!![],'message':_0x1e681f(0x1b0)});}catch(_0x631dd1){_0x111592(_0x631dd1);}},this[_0x2cc0ac(0x1ed)]=async(_0x2ab37e,_0x2836f4,_0x3277b0)=>{const _0x4b22ba=_0x2cc0ac;try{const _0x257f7d=await paymentCleanupService_1[_0x4b22ba(0x1e2)]['getProcessingPaymentsStats']();_0x2836f4['json']({'success':!![],'result':_0x257f7d});}catch(_0x4c3688){_0x3277b0(_0x4c3688);}},this['cleanupStalePayments']=async(_0x4a6a01,_0x4ace5d,_0x54c3a1)=>{const _0x533bb0=_0x2cc0ac;try{console[_0x533bb0(0x1c1)](_0x533bb0(0x1cc)+_0x4a6a01[_0x533bb0(0x1d3)]?.['username']+'\x20('+_0x4a6a01['user']?.['id']+')');const _0x9e9367=await paymentCleanupService_1['paymentCleanupService'][_0x533bb0(0x1d6)]();_0x4ace5d['json']({'success':!![],'message':_0x533bb0(0x1d4),'result':{'processed':_0x9e9367[_0x533bb0(0x21f)],'failed':_0x9e9367[_0x533bb0(0x209)],'errors':_0x9e9367[_0x533bb0(0x1b5)]}});}catch(_0x55d8b2){_0x54c3a1(_0x55d8b2);}},this[_0x2cc0ac(0x20c)]=async(_0x31b067,_0x26f994,_0x1f56f4)=>{const _0x3bf73c=_0x2cc0ac;try{console[_0x3bf73c(0x1c1)](_0x3bf73c(0x1f7)+_0x31b067[_0x3bf73c(0x1d3)]?.['username']+'\x20('+_0x31b067[_0x3bf73c(0x1d3)]?.['id']+')');const _0x51a42d=await paymentCleanupService_1[_0x3bf73c(0x1e2)]['cleanupStalePendingPayments']();_0x26f994[_0x3bf73c(0x1bd)]({'success':!![],'message':_0x3bf73c(0x1c9),'result':{'processed':_0x51a42d[_0x3bf73c(0x21f)],'failed':_0x51a42d['failed'],'errors':_0x51a42d[_0x3bf73c(0x1b5)]}});}catch(_0x2d96ee){_0x1f56f4(_0x2d96ee);}},this[_0x2cc0ac(0x1fb)]=async(_0x425a71,_0x3db83e,_0x48a846)=>{const _0xe26ed1=_0x2cc0ac;try{console['log']('ðŸ“Š\x20Manual\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20initiated\x20by\x20admin:\x20'+_0x425a71[_0xe26ed1(0x1d3)]?.[_0xe26ed1(0x213)]+'\x20('+_0x425a71[_0xe26ed1(0x1d3)]?.['id']+')');const _0x2d2fe2=await paymentCleanupService_1[_0xe26ed1(0x1e2)][_0xe26ed1(0x1ed)](),_0x1d9a0c=await paymentCleanupService_1[_0xe26ed1(0x1e2)]['cleanupStaleProcessingPayments'](),_0x51379f=await paymentCleanupService_1[_0xe26ed1(0x1e2)][_0xe26ed1(0x20c)](),_0x473864=await paymentCleanupService_1[_0xe26ed1(0x1e2)][_0xe26ed1(0x1ed)]();_0x3db83e[_0xe26ed1(0x1bd)]({'success':!![],'message':_0xe26ed1(0x217),'result':{'cleanup':{'processing':{'processed':_0x1d9a0c['processed'],'failed':_0x1d9a0c[_0xe26ed1(0x209)],'errors':_0x1d9a0c['errors']},'pending':{'processed':_0x51379f[_0xe26ed1(0x21f)],'failed':_0x51379f[_0xe26ed1(0x209)],'errors':_0x51379f[_0xe26ed1(0x1b5)]},'total':{'processed':_0x1d9a0c[_0xe26ed1(0x21f)]+_0x51379f['processed'],'failed':_0x1d9a0c[_0xe26ed1(0x209)]+_0x51379f[_0xe26ed1(0x209)],'errors':[..._0x1d9a0c[_0xe26ed1(0x1b5)],..._0x51379f[_0xe26ed1(0x1b5)]]}},'statistics':{'before':_0x2d2fe2,'after':_0x473864,'reduced':_0x2d2fe2['total']-_0x473864[_0xe26ed1(0x1d7)]}}});}catch(_0xe20b67){_0x48a846(_0xe20b67);}},this['expirePaymentLinks']=async(_0x49d1a1,_0x4ee28f,_0x246ebd)=>{const _0x1de066=_0x2cc0ac;try{const _0x90daaa=await paymentCleanupService_1[_0x1de066(0x1e2)]['expireSinglePaymentLinks']();_0x4ee28f['json']({'success':!![],'message':_0x1de066(0x1c0),'result':{'expired':_0x90daaa[_0x1de066(0x1b9)],'errors':_0x90daaa[_0x1de066(0x1b5)]}});}catch(_0x45af26){_0x246ebd(_0x45af26);}},this[_0x2cc0ac(0x1e9)]=new adminService_1[(_0x2cc0ac(0x201))](),this['paymentLinkService']=new paymentLinkService_1[(_0x2cc0ac(0x218))]();}}exports[a3_0x339e86(0x202)]=AdminController;