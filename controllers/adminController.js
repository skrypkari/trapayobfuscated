'use strict';function a3_0x112f(){const _0x32c744=['Failed\x20to\x20update\x20payment\x20link\x20counter:','expired','User\x20not\x20found','getProcessingPaymentsStats','User\x20created\x20successfully','298736pyqpWf','createPayout','getPayouts','Payment\x20not\x20found','username','defineProperty','getPayoutStats','shopId','errors','PENDING\x20payment\x20cleanup\x20completed\x20successfully','ðŸ“ˆ\x20Admin\x20changed\x20payment\x20','failed','\x20with\x20data:','Payout\x20created\x20successfully','deletePayout','Admin\x20access\x20confirmed','\x20status\x20changed\x20from\x20','summary','4XDMNBc','FAILED','setup2FA','processing','telegramBotService','PROCESSING\x20payment\x20cleanup\x20completed\x20successfully','role','Customer\x20data\x20updated\x20successfully','ðŸ“Š\x20Manual\x20payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20initiated\x20by\x20admin:\x20','getMerchantsSelection','expireSinglePaymentLinks','body','28UNDBfD','ðŸŽ¯\x20[CONTROLLER]\x20Updating\x20payout\x20','ðŸŽ¯\x20[CONTROLLER]\x20Creating\x20payout\x20with\x20data:','updateUser','getMerchantStatistics','1354851OGDUfr','user','â°\x20Manual\x20PENDING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','../services/paymentCleanupService','updatePayout','Payment\x20cleanup\x20(PROCESSING\x20+\x20PENDING)\x20with\x20report\x20completed\x20successfully','\x20to\x20','cleanupStalePendingPayments','total','merchants','Failed\x20to\x20send\x20Telegram\x20notification\x20for\x20status\x20change:','AdminService','User\x20activated\x20successfully','getPayoutById','ðŸ“±\x20Payment\x20','expirePaymentLinks','paymentCleanupService','pagination','hasPayoutHistory','âœ…\x20Telegram\x20notification\x20sent\x20for\x20status\x20change:\x20','month','\x20->\x20','disable2FA','toUpperCase','createUser','6jdFwcB','EXPIRED','Payment\x20updated\x20successfully','CHARGEBACK','status','log','119944wPPkRV','User\x20updated\x20successfully','1045890mmkUie','users','2FA\x20enabled\x20successfully','activateUser','getAllPayments','AdminController','806630UOPwrA','ðŸ”„\x20Admin\x20updating\x20customer\x20data\x20for\x20payment\x20','paymentLinkService','getShopWallets','gateway','adminService','User\x20suspended\x20successfully','getAllUsers','233032FGFZCl','chargeback','getStatistics','processed','getPaymentById','REFUND','ðŸ“±\x20Skipping\x20Telegram\x20notification\x20for\x20status\x20change\x20to:\x20','cleanupStaleProcessingPayments','Payout\x20updated\x20successfully','PROCESSING','checkAuth','Token\x20is\x20required','query','getUserById','enable2FA','deleteUser','65634TYuBzR','paid','cleanupStalePayments','params','getSystemStatistics','Payout\x20not\x20found','suspendUser','updateCustomerData','../services/paymentLinkService','ðŸ§¹\x20Manual\x20PROCESSING\x20payment\x20cleanup\x20initiated\x20by\x20admin:\x20','Payment\x20link\x20expiration\x20check\x20completed\x20successfully','json','handleSuccessfulPayment','updatePayment'];a3_0x112f=function(){return _0x32c744;};return a3_0x112f();}const a3_0x58027=a3_0x3c0e;(function(_0x5d8acc,_0x5e6436){const _0x4099c5=a3_0x3c0e,_0x388025=_0x5d8acc();while(!![]){try{const _0x24d52a=-parseInt(_0x4099c5(0x224))/0x1+-parseInt(_0x4099c5(0x234))/0x2+parseInt(_0x4099c5(0x244))/0x3*(parseInt(_0x4099c5(0x1f4))/0x4)+parseInt(_0x4099c5(0x22c))/0x5*(parseInt(_0x4099c5(0x21e))/0x6)+parseInt(_0x4099c5(0x200))/0x7*(parseInt(_0x4099c5(0x257))/0x8)+parseInt(_0x4099c5(0x205))/0x9+-parseInt(_0x4099c5(0x226))/0xa;if(_0x24d52a===_0x5e6436)break;else _0x388025['push'](_0x388025['shift']());}catch(_0x5f42c1){_0x388025['push'](_0x388025['shift']());}}}(a3_0x112f,0x22aee));function a3_0x3c0e(_0x2b9eb1,_0x122ade){_0x2b9eb1=_0x2b9eb1-0x1e9;const _0x112f37=a3_0x112f();let _0x3c0e20=_0x112f37[_0x2b9eb1];return _0x3c0e20;}Object[a3_0x58027(0x25c)](exports,'__esModule',{'value':!![]}),exports['AdminController']=void 0x0;const adminService_1=require('../services/adminService'),paymentLinkService_1=require(a3_0x58027(0x24c)),paymentCleanupService_1=require(a3_0x58027(0x208)),telegramBotService_1=require('../services/telegramBotService');class AdminController{constructor(){const _0xefd9e1=a3_0x58027;this[_0xefd9e1(0x23e)]=async(_0x55a311,_0x2c50c,_0x35c7bc)=>{const _0x135a9c=_0xefd9e1;try{const _0x56a931=_0x55a311[_0x135a9c(0x206)];_0x2c50c[_0x135a9c(0x24f)]({'success':!![],'message':_0x135a9c(0x1f1),'user':{'id':_0x56a931?.['id'],'username':_0x56a931?.[_0x135a9c(0x25b)],'role':_0x56a931?.[_0x135a9c(0x1fa)]}});}catch(_0x4040bd){_0x35c7bc(_0x4040bd);}},this[_0xefd9e1(0x236)]=async(_0x18bfea,_0x3eed74,_0x52995b)=>{const _0x2cf8cf=_0xefd9e1;try{const {period:period='30d',currentDate:_0x9bb399}=_0x18bfea['query'],_0xcdb0bb=await this[_0x2cf8cf(0x231)][_0x2cf8cf(0x248)](period,_0x9bb399);_0x3eed74['json']({'success':!![],'result':_0xcdb0bb});}catch(_0x68c00c){_0x52995b(_0x68c00c);}},this[_0xefd9e1(0x204)]=async(_0x39db01,_0x42efc2,_0x19395e)=>{const _0x6a409c=_0xefd9e1;try{const {shopId:_0x2a1f33,period:period=_0x6a409c(0x219),dateFrom:_0x3d256c,dateTo:_0x560dde}=_0x39db01[_0x6a409c(0x240)],_0xfad32d={'shopId':_0x2a1f33,'period':period,'dateFrom':_0x3d256c,'dateTo':_0x560dde};console[_0x6a409c(0x223)]('ðŸ“Š\x20Admin\x20requesting\x20merchant\x20statistics\x20with\x20filters:',_0xfad32d);const _0x3830f7=await this['adminService']['getMerchantStatistics'](_0xfad32d);_0x42efc2[_0x6a409c(0x24f)]({'success':!![],'result':_0x3830f7});}catch(_0x33df8b){_0x19395e(_0x33df8b);}},this[_0xefd9e1(0x25d)]=async(_0x274850,_0x51cce3,_0xf1ce3a)=>{const _0x524a16=_0xefd9e1;try{const _0x4e0a45=await this[_0x524a16(0x231)][_0x524a16(0x25d)]();_0x51cce3['json']({'success':!![],'result':_0x4e0a45});}catch(_0x3f6974){_0xf1ce3a(_0x3f6974);}},this['getMerchantsAwaitingPayout']=async(_0xc7656b,_0x196296,_0x33a085)=>{const _0x1f671d=_0xefd9e1;try{const {page:page=0x1,limit:limit=0x14,minAmount:_0x35b160,search:_0x15cf8c}=_0xc7656b[_0x1f671d(0x240)],_0x1f435e={'page':Number(page),'limit':Number(limit),'minAmount':_0x35b160?Number(_0x35b160):undefined,'search':_0x15cf8c},_0x4bbbf6=await this[_0x1f671d(0x231)]['getMerchantsAwaitingPayout'](_0x1f435e);_0x196296[_0x1f671d(0x24f)]({'success':!![],'merchants':_0x4bbbf6[_0x1f671d(0x20e)],'pagination':_0x4bbbf6[_0x1f671d(0x216)],'summary':_0x4bbbf6[_0x1f671d(0x1f3)]});}catch(_0x178675){_0x33a085(_0x178675);}},this[_0xefd9e1(0x1fd)]=async(_0x439df1,_0x48d85d,_0x105d49)=>{const _0x1c3f0e=_0xefd9e1;try{const _0x4111e3=_0x439df1[_0x1c3f0e(0x240)][_0x1c3f0e(0x217)]==='true',_0x53b39c=await this[_0x1c3f0e(0x231)][_0x1c3f0e(0x1fd)](_0x4111e3);_0x48d85d[_0x1c3f0e(0x24f)]({'success':!![],'result':_0x53b39c});}catch(_0x1a63b8){_0x105d49(_0x1a63b8);}},this[_0xefd9e1(0x258)]=async(_0x51d6dd,_0x2ef81b,_0x5b3413)=>{const _0x1229e8=_0xefd9e1;try{const _0xf5c14=_0x51d6dd[_0x1229e8(0x1ff)];console['log'](_0x1229e8(0x202),_0xf5c14);const _0x4c9b7a=await this[_0x1229e8(0x231)]['createPayout'](_0xf5c14);_0x2ef81b[_0x1229e8(0x222)](0xc9)[_0x1229e8(0x24f)]({'success':!![],'message':_0x1229e8(0x1ef),'result':_0x4c9b7a});}catch(_0x2a10c5){_0x5b3413(_0x2a10c5);}},this[_0xefd9e1(0x209)]=async(_0x346b6c,_0x2f1c59,_0x1853c9)=>{const _0xecdeaf=_0xefd9e1;try{const {id:_0x49e47f}=_0x346b6c[_0xecdeaf(0x247)],_0x390f59=_0x346b6c[_0xecdeaf(0x1ff)];console[_0xecdeaf(0x223)](_0xecdeaf(0x201)+_0x49e47f+_0xecdeaf(0x1ee),_0x390f59);const _0x4194b9=await this['adminService'][_0xecdeaf(0x209)](_0x49e47f,_0x390f59);_0x2f1c59[_0xecdeaf(0x24f)]({'success':!![],'message':_0xecdeaf(0x23c),'result':_0x4194b9});}catch(_0x5dadc5){_0x1853c9(_0x5dadc5);}},this[_0xefd9e1(0x259)]=async(_0x5b15ed,_0x2c9493,_0x321078)=>{const _0x7d8e87=_0xefd9e1;try{const {page:page=0x1,limit:limit=0x14,shopId:_0x217a34,network:_0x575943,dateFrom:_0x4d3d7d,dateTo:_0x26acce,search:_0x49b268}=_0x5b15ed[_0x7d8e87(0x240)],_0xf8d660={'page':Number(page),'limit':Number(limit),'shopId':_0x217a34,'network':_0x575943,'dateFrom':_0x4d3d7d,'dateTo':_0x26acce,'search':_0x49b268},_0x478501=await this[_0x7d8e87(0x231)]['getAllPayouts'](_0xf8d660);_0x2c9493[_0x7d8e87(0x24f)]({'success':!![],'payouts':_0x478501['payouts'],'pagination':_0x478501[_0x7d8e87(0x216)]});}catch(_0x23d407){_0x321078(_0x23d407);}},this[_0xefd9e1(0x212)]=async(_0x27a86a,_0x3bff06,_0x4cffa9)=>{const _0x10b917=_0xefd9e1;try{const {id:_0x43195b}=_0x27a86a['params'],_0xabfe89=await this[_0x10b917(0x231)][_0x10b917(0x212)](_0x43195b);if(!_0xabfe89)return _0x3bff06[_0x10b917(0x222)](0x194)['json']({'success':![],'message':_0x10b917(0x249)});_0x3bff06[_0x10b917(0x24f)]({'success':!![],'result':_0xabfe89});}catch(_0x11be18){_0x4cffa9(_0x11be18);}},this[_0xefd9e1(0x1f0)]=async(_0x8c9f9f,_0x5db188,_0x2fa52)=>{const _0x3db404=_0xefd9e1;try{const {id:_0x17d42e}=_0x8c9f9f[_0x3db404(0x247)];await this['adminService'][_0x3db404(0x1f0)](_0x17d42e),_0x5db188[_0x3db404(0x24f)]({'success':!![],'message':'Payout\x20deleted\x20successfully'});}catch(_0x644262){_0x2fa52(_0x644262);}},this['getPayments']=async(_0x22d84e,_0x43b0db,_0xc04ac0)=>{const _0x575f61=_0xefd9e1;try{const {page:page=0x1,limit:limit=0x14,status:_0x36046b,gateway:_0x99ff3,shopId:_0x20cc56,dateFrom:_0x120f1c,dateTo:_0x57c30f,search:_0x3c1227,currency:_0xac659c,sortBy:_0x4506fb,sortOrder:_0x42ddc0}=_0x22d84e[_0x575f61(0x240)],_0x201f14={'page':Number(page),'limit':Number(limit),'status':_0x36046b,'gateway':_0x99ff3,'shopId':_0x20cc56,'dateFrom':_0x120f1c,'dateTo':_0x57c30f,'search':_0x3c1227,'currency':_0xac659c,'sortBy':_0x4506fb,'sortOrder':_0x42ddc0},_0x58da18=await this[_0x575f61(0x231)][_0x575f61(0x22a)](_0x201f14);_0x43b0db[_0x575f61(0x24f)]({'success':!![],'payments':_0x58da18['payments'],'pagination':_0x58da18[_0x575f61(0x216)],'statistics':_0x58da18['statistics']});}catch(_0xaef7f){_0xc04ac0(_0xaef7f);}},this[_0xefd9e1(0x238)]=async(_0x583cfd,_0x14d816,_0x1b215e)=>{const _0x2332ef=_0xefd9e1;try{const {id:_0x417689}=_0x583cfd[_0x2332ef(0x247)],_0xc0a679=await this['adminService'][_0x2332ef(0x238)](_0x417689);if(!_0xc0a679)return _0x14d816[_0x2332ef(0x222)](0x194)[_0x2332ef(0x24f)]({'success':![],'message':'Payment\x20not\x20found'});_0x14d816[_0x2332ef(0x24f)]({'success':!![],'result':_0xc0a679});}catch(_0x5d02e3){_0x1b215e(_0x5d02e3);}},this[_0xefd9e1(0x251)]=async(_0x351104,_0x2912a6,_0x1607eb)=>{const _0x23e519=_0xefd9e1;try{const {id:_0x17ad1e}=_0x351104[_0x23e519(0x247)],{status:_0x5b845e,notes:_0x52ef65,chargebackAmount:_0x2e424f}=_0x351104[_0x23e519(0x1ff)],_0x3872eb=await this[_0x23e519(0x231)]['getPaymentById'](_0x17ad1e);if(!_0x3872eb)return _0x2912a6[_0x23e519(0x222)](0x194)['json']({'success':![],'message':_0x23e519(0x25a)});const _0x1669bc=await this['adminService']['updatePaymentStatus'](_0x17ad1e,_0x5b845e,_0x52ef65,_0x2e424f);if(_0x3872eb[_0x23e519(0x222)]!==_0x5b845e&&_0x5b845e['toUpperCase']()==='PAID'){console[_0x23e519(0x223)](_0x23e519(0x1ec)+_0x17ad1e+'\x20to\x20PAID,\x20updating\x20payment\x20link\x20counter');try{await this[_0x23e519(0x22e)][_0x23e519(0x250)](_0x17ad1e),console[_0x23e519(0x223)]('âœ…\x20Payment\x20link\x20counter\x20updated\x20for\x20payment\x20'+_0x17ad1e);}catch(_0x223f39){console['error'](_0x23e519(0x252),_0x223f39);}}if(_0x3872eb['status']!==_0x5b845e){console[_0x23e519(0x223)](_0x23e519(0x213)+_0x17ad1e+_0x23e519(0x1f2)+_0x3872eb['status']+_0x23e519(0x20b)+_0x5b845e+',\x20sending\x20Telegram\x20notification');try{let _0x43cf22;switch(_0x5b845e[_0x23e519(0x21c)]()){case'PAID':_0x43cf22=_0x23e519(0x245);break;case _0x23e519(0x23d):_0x43cf22=_0x23e519(0x1f7);break;case _0x23e519(0x1f5):_0x43cf22=_0x23e519(0x1ed);break;case _0x23e519(0x21f):_0x43cf22='expired';break;case _0x23e519(0x239):_0x43cf22='refund';break;case _0x23e519(0x221):_0x43cf22=_0x23e519(0x235);break;default:console[_0x23e519(0x223)](_0x23e519(0x23a)+_0x5b845e);break;}if(_0x43cf22){const _0x3fee31={..._0x1669bc,'shopId':_0x3872eb[_0x23e519(0x1e9)],'gateway':_0x3872eb[_0x23e519(0x230)],'createdAt':_0x3872eb['createdAt'],'chargebackAmount':_0x2e424f};await telegramBotService_1[_0x23e519(0x1f8)]['sendPaymentNotification'](_0x3872eb['shopId'],_0x3fee31,_0x43cf22),console['log'](_0x23e519(0x218)+_0x3872eb[_0x23e519(0x222)]+_0x23e519(0x21a)+_0x5b845e);}}catch(_0x5e1d18){console['error'](_0x23e519(0x20f),_0x5e1d18);}}_0x2912a6[_0x23e519(0x24f)]({'success':!![],'message':_0x23e519(0x220),'result':_0x1669bc});}catch(_0x2a8861){_0x1607eb(_0x2a8861);}},this['updateCustomerData']=async(_0x73940,_0x4cd4a6,_0x212f47)=>{const _0x7382ed=_0xefd9e1;try{const {id:_0x55ed9f}=_0x73940[_0x7382ed(0x247)],_0x431bd0=_0x73940[_0x7382ed(0x1ff)];console['log'](_0x7382ed(0x22d)+_0x55ed9f+':',_0x431bd0);const _0x4d2a52=await this[_0x7382ed(0x231)][_0x7382ed(0x24b)](_0x55ed9f,_0x431bd0);_0x4cd4a6[_0x7382ed(0x24f)]({'success':!![],'message':_0x7382ed(0x1fb),'result':_0x4d2a52});}catch(_0x20e269){_0x212f47(_0x20e269);}},this[_0xefd9e1(0x203)]=async(_0x15b726,_0xf9b1de,_0xd67cd1)=>{const _0x51bd8d=_0xefd9e1;try{const {id:_0x2f4e32}=_0x15b726[_0x51bd8d(0x247)],_0x56a5cb=_0x15b726[_0x51bd8d(0x1ff)],_0x903633=await this[_0x51bd8d(0x231)][_0x51bd8d(0x203)](_0x2f4e32,_0x56a5cb);_0xf9b1de['json']({'success':!![],'message':_0x51bd8d(0x225),'result':_0x903633});}catch(_0x4ed6a0){_0xd67cd1(_0x4ed6a0);}},this[_0xefd9e1(0x24a)]=async(_0x24826d,_0xb783f3,_0x40ef67)=>{const _0x2d85cc=_0xefd9e1;try{const {id:_0x11cf06}=_0x24826d[_0x2d85cc(0x247)],_0x5b6075=await this['adminService'][_0x2d85cc(0x24a)](_0x11cf06);_0xb783f3[_0x2d85cc(0x24f)]({'success':!![],'message':_0x2d85cc(0x232),'result':_0x5b6075});}catch(_0x57b53){_0x40ef67(_0x57b53);}},this['activateUser']=async(_0x26adf0,_0x4a5d40,_0x48b229)=>{const _0x53c24d=_0xefd9e1;try{const {id:_0x1d663e}=_0x26adf0[_0x53c24d(0x247)],_0x2eeafd=await this[_0x53c24d(0x231)][_0x53c24d(0x229)](_0x1d663e);_0x4a5d40[_0x53c24d(0x24f)]({'success':!![],'message':_0x53c24d(0x211),'result':_0x2eeafd});}catch(_0x49c923){_0x48b229(_0x49c923);}},this['getUsers']=async(_0x152c84,_0x564b1b,_0x3a3066)=>{const _0xecb35a=_0xefd9e1;try{const {page:page=0x1,limit:limit=0x14,status:_0x514d7e}=_0x152c84[_0xecb35a(0x240)],_0x40ddcf={'page':Number(page),'limit':Number(limit),'status':_0x514d7e},_0x5f3b48=await this[_0xecb35a(0x231)][_0xecb35a(0x233)](_0x40ddcf);_0x564b1b[_0xecb35a(0x24f)]({'success':!![],'users':_0x5f3b48[_0xecb35a(0x227)],'pagination':_0x5f3b48['pagination']});}catch(_0x358f40){_0x3a3066(_0x358f40);}},this[_0xefd9e1(0x241)]=async(_0x2f8f0d,_0x35b827,_0x361f1e)=>{const _0x24c4e1=_0xefd9e1;try{const {id:_0x390e6a}=_0x2f8f0d[_0x24c4e1(0x247)],_0x489c26=await this[_0x24c4e1(0x231)][_0x24c4e1(0x241)](_0x390e6a);if(!_0x489c26)return _0x35b827[_0x24c4e1(0x222)](0x194)[_0x24c4e1(0x24f)]({'success':![],'message':_0x24c4e1(0x254)});_0x35b827[_0x24c4e1(0x24f)]({'success':!![],'result':_0x489c26});}catch(_0x3c689a){_0x361f1e(_0x3c689a);}},this[_0xefd9e1(0x21d)]=async(_0x23f68c,_0x1aa7a9,_0x22a514)=>{const _0xabf00b=_0xefd9e1;try{const _0x151d3a=_0x23f68c[_0xabf00b(0x1ff)],_0x21eb61=await this['adminService'][_0xabf00b(0x21d)](_0x151d3a);_0x1aa7a9[_0xabf00b(0x222)](0xc9)[_0xabf00b(0x24f)]({'success':!![],'message':_0xabf00b(0x256),'result':_0x21eb61});}catch(_0x275f63){_0x22a514(_0x275f63);}},this['deleteUser']=async(_0x2f7a2b,_0x2c558d,_0x325dfb)=>{const _0x4f93d3=_0xefd9e1;try{const {id:_0x35fa3}=_0x2f7a2b[_0x4f93d3(0x247)];await this[_0x4f93d3(0x231)][_0x4f93d3(0x243)](_0x35fa3),_0x2c558d[_0x4f93d3(0x24f)]({'success':!![],'message':'User\x20deleted\x20successfully'});}catch(_0x2d7cba){_0x325dfb(_0x2d7cba);}},this['getShopWallets']=async(_0x395422,_0x52bdb0,_0x3af72c)=>{const _0x56b6ed=_0xefd9e1;try{const {shopId:_0x3697cd}=_0x395422[_0x56b6ed(0x247)],_0x5abf1b=await this['adminService'][_0x56b6ed(0x22f)](_0x3697cd);_0x52bdb0[_0x56b6ed(0x24f)]({'success':!![],'wallets':_0x5abf1b});}catch(_0x539ae4){_0x3af72c(_0x539ae4);}},this[_0xefd9e1(0x1f6)]=async(_0x4f866,_0x491564,_0xff4de5)=>{const _0x38aed3=_0xefd9e1;try{const {shopId:_0xf196f4}=_0x4f866[_0x38aed3(0x247)],_0x2e5a8d=await this[_0x38aed3(0x231)][_0x38aed3(0x1f6)](_0xf196f4);_0x491564[_0x38aed3(0x24f)]({'success':!![],'result':_0x2e5a8d});}catch(_0x51a4cc){_0xff4de5(_0x51a4cc);}},this['enable2FA']=async(_0x532da5,_0x195db2,_0x512962)=>{const _0x3e0a54=_0xefd9e1;try{const {shopId:_0x1ff023}=_0x532da5[_0x3e0a54(0x247)],{token:_0x58c420}=_0x532da5[_0x3e0a54(0x1ff)];if(!_0x58c420)return _0x195db2[_0x3e0a54(0x222)](0x190)[_0x3e0a54(0x24f)]({'success':![],'message':_0x3e0a54(0x23f)});const _0x32f995=await this[_0x3e0a54(0x231)][_0x3e0a54(0x242)](_0x1ff023,_0x58c420);_0x195db2['json']({'success':!![],'message':_0x3e0a54(0x228),'result':_0x32f995});}catch(_0x1d9faa){_0x512962(_0x1d9faa);}},this['disable2FA']=async(_0x4ab606,_0x4f09bc,_0x29394e)=>{const _0x4852e8=_0xefd9e1;try{const {shopId:_0x2bc009}=_0x4ab606[_0x4852e8(0x247)];await this[_0x4852e8(0x231)][_0x4852e8(0x21b)](_0x2bc009),_0x4f09bc[_0x4852e8(0x24f)]({'success':!![],'message':'2FA\x20disabled\x20successfully'});}catch(_0x2cc72f){_0x29394e(_0x2cc72f);}},this[_0xefd9e1(0x255)]=async(_0x3ac754,_0x47365b,_0x4a54fd)=>{const _0x49af5b=_0xefd9e1;try{const _0xea4a9d=await paymentCleanupService_1[_0x49af5b(0x215)][_0x49af5b(0x255)]();_0x47365b[_0x49af5b(0x24f)]({'success':!![],'result':_0xea4a9d});}catch(_0x2a37fe){_0x4a54fd(_0x2a37fe);}},this[_0xefd9e1(0x246)]=async(_0x3f15cb,_0x26f035,_0x4ac5c1)=>{const _0x229f21=_0xefd9e1;try{console[_0x229f21(0x223)](_0x229f21(0x24d)+_0x3f15cb[_0x229f21(0x206)]?.['username']+'\x20('+_0x3f15cb[_0x229f21(0x206)]?.['id']+')');const _0x22918d=await paymentCleanupService_1[_0x229f21(0x215)][_0x229f21(0x23b)]();_0x26f035[_0x229f21(0x24f)]({'success':!![],'message':_0x229f21(0x1f9),'result':{'processed':_0x22918d[_0x229f21(0x237)],'failed':_0x22918d[_0x229f21(0x1ed)],'errors':_0x22918d['errors']}});}catch(_0x365c45){_0x4ac5c1(_0x365c45);}},this[_0xefd9e1(0x20c)]=async(_0x36553a,_0x47cc9d,_0x299d5b)=>{const _0x3da41b=_0xefd9e1;try{console[_0x3da41b(0x223)](_0x3da41b(0x207)+_0x36553a[_0x3da41b(0x206)]?.[_0x3da41b(0x25b)]+'\x20('+_0x36553a['user']?.['id']+')');const _0x1ca4b1=await paymentCleanupService_1[_0x3da41b(0x215)][_0x3da41b(0x20c)]();_0x47cc9d[_0x3da41b(0x24f)]({'success':!![],'message':_0x3da41b(0x1eb),'result':{'processed':_0x1ca4b1['processed'],'failed':_0x1ca4b1[_0x3da41b(0x1ed)],'errors':_0x1ca4b1[_0x3da41b(0x1ea)]}});}catch(_0x5279f6){_0x299d5b(_0x5279f6);}},this['cleanupStalePaymentsWithReport']=async(_0x5c0fdb,_0x596e86,_0x5f424f)=>{const _0x5b29af=_0xefd9e1;try{console['log'](_0x5b29af(0x1fc)+_0x5c0fdb[_0x5b29af(0x206)]?.['username']+'\x20('+_0x5c0fdb[_0x5b29af(0x206)]?.['id']+')');const _0x5b2c77=await paymentCleanupService_1[_0x5b29af(0x215)][_0x5b29af(0x255)](),_0x29a5f4=await paymentCleanupService_1[_0x5b29af(0x215)][_0x5b29af(0x23b)](),_0x4ff2a1=await paymentCleanupService_1[_0x5b29af(0x215)]['cleanupStalePendingPayments'](),_0x2130e9=await paymentCleanupService_1[_0x5b29af(0x215)][_0x5b29af(0x255)]();_0x596e86[_0x5b29af(0x24f)]({'success':!![],'message':_0x5b29af(0x20a),'result':{'cleanup':{'processing':{'processed':_0x29a5f4[_0x5b29af(0x237)],'failed':_0x29a5f4[_0x5b29af(0x1ed)],'errors':_0x29a5f4[_0x5b29af(0x1ea)]},'pending':{'processed':_0x4ff2a1[_0x5b29af(0x237)],'failed':_0x4ff2a1[_0x5b29af(0x1ed)],'errors':_0x4ff2a1['errors']},'total':{'processed':_0x29a5f4[_0x5b29af(0x237)]+_0x4ff2a1[_0x5b29af(0x237)],'failed':_0x29a5f4['failed']+_0x4ff2a1[_0x5b29af(0x1ed)],'errors':[..._0x29a5f4['errors'],..._0x4ff2a1[_0x5b29af(0x1ea)]]}},'statistics':{'before':_0x5b2c77,'after':_0x2130e9,'reduced':_0x5b2c77[_0x5b29af(0x20d)]-_0x2130e9[_0x5b29af(0x20d)]}}});}catch(_0x414a54){_0x5f424f(_0x414a54);}},this[_0xefd9e1(0x214)]=async(_0x168529,_0x54424d,_0x516f50)=>{const _0x2ee117=_0xefd9e1;try{const _0x361461=await paymentCleanupService_1['paymentCleanupService'][_0x2ee117(0x1fe)]();_0x54424d['json']({'success':!![],'message':_0x2ee117(0x24e),'result':{'expired':_0x361461[_0x2ee117(0x253)],'errors':_0x361461[_0x2ee117(0x1ea)]}});}catch(_0x1ec196){_0x516f50(_0x1ec196);}},this[_0xefd9e1(0x231)]=new adminService_1[(_0xefd9e1(0x210))](),this[_0xefd9e1(0x22e)]=new paymentLinkService_1['PaymentLinkService']();}}exports[a3_0x58027(0x22b)]=AdminController;