'use strict';const a8_0x2d8790=a8_0xab20;function a8_0x309a(){const _0x8e711a=['defineProperty','18482mVbYkM','remotePort','localAddress','getDetailedIPInfo','482384ytPexK','../utils/ipHelper','6675820WzTzHT','1507776WmKLgC','getIPInfo','__esModule','localPort','hostname','protocol','remoteFamily','43128afIDxk','url','9VEcgHG','remoteAddress','toISOString','IPController','getAllHeaders','3868500tIRmds','369KkiGqF','secure','10065dwuydS','connection','headers','getClientIP','255294mCswOi','json','socket','10EvRGnx','72TwzwVz'];a8_0x309a=function(){return _0x8e711a;};return a8_0x309a();}(function(_0x333579,_0xb96776){const _0x40fc9e=a8_0xab20,_0x58ee7a=_0x333579();while(!![]){try{const _0x326de9=parseInt(_0x40fc9e(0x154))/0x1+-parseInt(_0x40fc9e(0x15a))/0x2*(parseInt(_0x40fc9e(0x170))/0x3)+-parseInt(_0x40fc9e(0x16f))/0x4+-parseInt(_0x40fc9e(0x157))/0x5*(-parseInt(_0x40fc9e(0x161))/0x6)+-parseInt(_0x40fc9e(0x15e))/0x7*(parseInt(_0x40fc9e(0x158))/0x8)+-parseInt(_0x40fc9e(0x16a))/0x9*(parseInt(_0x40fc9e(0x160))/0xa)+parseInt(_0x40fc9e(0x172))/0xb*(parseInt(_0x40fc9e(0x168))/0xc);if(_0x326de9===_0xb96776)break;else _0x58ee7a['push'](_0x58ee7a['shift']());}catch(_0x48a056){_0x58ee7a['push'](_0x58ee7a['shift']());}}}(a8_0x309a,0x9fdf6));Object[a8_0x2d8790(0x159)](exports,a8_0x2d8790(0x163),{'value':!![]}),exports[a8_0x2d8790(0x16d)]=void 0x0;const ipHelper_1=require(a8_0x2d8790(0x15f));function a8_0xab20(_0x2023fd,_0x289106){_0x2023fd=_0x2023fd-0x151;const _0x309a88=a8_0x309a();let _0xab204c=_0x309a88[_0x2023fd];return _0xab204c;}class IPController{constructor(){const _0x1c1bf0=a8_0x2d8790;this['getIP']=async(_0x2711a4,_0x5cd6f3,_0x1a579a)=>{const _0x134bda=a8_0xab20;try{const _0x220915=(0x0,ipHelper_1[_0x134bda(0x153)])(_0x2711a4);_0x5cd6f3['json']({'success':!![],'result':{'ip':_0x220915,'timestamp':new Date()[_0x134bda(0x16c)]()}});}catch(_0x3fbc05){_0x1a579a(_0x3fbc05);}},this[_0x1c1bf0(0x162)]=async(_0x539d08,_0x2d77b0,_0x5a6895)=>{const _0x1e1aea=_0x1c1bf0;try{const _0x1ec335=(0x0,ipHelper_1[_0x1e1aea(0x15d)])(_0x539d08);_0x2d77b0['json']({'success':!![],'result':{..._0x1ec335,'timestamp':new Date()[_0x1e1aea(0x16c)](),'requestInfo':{'method':_0x539d08['method'],'url':_0x539d08[_0x1e1aea(0x169)],'protocol':_0x539d08[_0x1e1aea(0x166)],'secure':_0x539d08[_0x1e1aea(0x171)],'hostname':_0x539d08[_0x1e1aea(0x165)]}}});}catch(_0x449fea){_0x5a6895(_0x449fea);}},this[_0x1c1bf0(0x16e)]=async(_0x1f7c75,_0x180b93,_0x316f8d)=>{const _0x15f05e=_0x1c1bf0;try{_0x180b93[_0x15f05e(0x155)]({'success':!![],'result':{'ip':(0x0,ipHelper_1['getClientIP'])(_0x1f7c75),'allHeaders':_0x1f7c75[_0x15f05e(0x152)],'connection':{'remoteAddress':_0x1f7c75[_0x15f05e(0x151)]?.[_0x15f05e(0x16b)],'remoteFamily':_0x1f7c75[_0x15f05e(0x151)]?.[_0x15f05e(0x167)],'remotePort':_0x1f7c75[_0x15f05e(0x151)]?.[_0x15f05e(0x15b)],'localAddress':_0x1f7c75[_0x15f05e(0x151)]?.[_0x15f05e(0x15c)],'localPort':_0x1f7c75[_0x15f05e(0x151)]?.[_0x15f05e(0x164)]},'socket':{'remoteAddress':_0x1f7c75['socket']?.[_0x15f05e(0x16b)],'remoteFamily':_0x1f7c75[_0x15f05e(0x156)]?.[_0x15f05e(0x167)],'remotePort':_0x1f7c75[_0x15f05e(0x156)]?.[_0x15f05e(0x15b)]},'timestamp':new Date()[_0x15f05e(0x16c)]()}});}catch(_0x5ab3c7){_0x316f8d(_0x5ab3c7);}};}}exports[a8_0x2d8790(0x16d)]=IPController;