'use strict';const a15_0x38801d=a15_0x235c;(function(_0x57fdd4,_0x1b8091){const _0x589f25=a15_0x235c,_0x27e2fd=_0x57fdd4();while(!![]){try{const _0x4151e8=parseInt(_0x589f25(0x9f))/0x1*(-parseInt(_0x589f25(0xe2))/0x2)+parseInt(_0x589f25(0xc9))/0x3+-parseInt(_0x589f25(0xa6))/0x4*(parseInt(_0x589f25(0xcf))/0x5)+parseInt(_0x589f25(0xa4))/0x6*(-parseInt(_0x589f25(0xa8))/0x7)+parseInt(_0x589f25(0xce))/0x8+parseInt(_0x589f25(0xb7))/0x9*(-parseInt(_0x589f25(0xac))/0xa)+-parseInt(_0x589f25(0xd8))/0xb*(-parseInt(_0x589f25(0xda))/0xc);if(_0x4151e8===_0x1b8091)break;else _0x27e2fd['push'](_0x27e2fd['shift']());}catch(_0x1ea9a3){_0x27e2fd['push'](_0x27e2fd['shift']());}}}(a15_0x2701,0x66626));Object[a15_0x38801d(0xc5)](exports,a15_0x38801d(0xcc),{'value':!![]}),exports[a15_0x38801d(0xe1)]=void 0x0;function a15_0x2701(){const _0x3002b7=['__esModule','loggerService','3153560mNAveC','514135bdpsPM','Raw\x20body\x20type:','Received\x20KLYME\x20webhook:','processPlisioWebhook','Webhook\x20processed\x20successfully','cointopay','processKlymeWebhook','CoinToPay\x20webhook\x20processing\x20failed','handleNodaWebhook','10739971OGebMt','rapyd','12qtzFwT','noda','logWebhookReceived','handleRapydWebhook','json','processCoinToPayWebhook','status','WebhookController','2iNcIpg','get','KLYME\x20webhook\x20processing\x20failed','log','webhookService','../services/webhookService','Webhook\x20processing\x20failed','61899NfTtex','message','handlePlisioGatewayWebhook','logWebhookError','Rapyd\x20webhook\x20processing\x20error:','4044vIugfN','Gateway\x20webhook\x20processing\x20error:','8rJHlGa','MasterCard\x20webhook\x20processed\x20successfully','3815cUGSKG','Rapyd\x20webhook\x20processing\x20failed','body','KLYME\x20webhook\x20processing\x20error:','150iRaQmM','Noda\x20webhook\x20processing\x20failed','handlePlisioWebhook','plisio','Body\x20content:','plisio_gateway','Webhook\x20processing\x20error:','Noda\x20webhook\x20processed\x20successfully','error','headers','MasterCard\x20webhook\x20processing\x20error:','375327vEsRaG','mastercard','processNodaWebhook','Gateway\x20webhook\x20processing\x20failed','Body\x20keys:','Content-Type','KLYME\x20webhook\x20processed\x20successfully','Content-Type:','klyme','CoinToPay\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20error:','WebhookService','../services/loggerService','defineProperty','handleCoinToPayWebhook','processPlisioGatewayWebhook','Rapyd\x20webhook\x20processed\x20successfully','927714AfpQwD','Gateway\x20webhook\x20processed\x20successfully','handleMasterCardWebhook'];a15_0x2701=function(){return _0x3002b7;};return a15_0x2701();}const webhookService_1=require(a15_0x38801d(0xe7)),loggerService_1=require(a15_0x38801d(0xc4));class WebhookController{constructor(){const _0x597edd=a15_0x38801d;this[_0x597edd(0xae)]=async(_0x24c09c,_0x3ba802,_0x1a51a3)=>{const _0x32f92e=_0x597edd;try{console['log']('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0x32f92e(0xbe),_0x24c09c[_0x32f92e(0xe3)](_0x32f92e(0xbc))),console[_0x32f92e(0xe5)]('Raw\x20body\x20type:',typeof _0x24c09c['body']),console[_0x32f92e(0xe5)]('Body\x20keys:',Object['keys'](_0x24c09c['body']||{})),console['log'](_0x32f92e(0xb0),_0x24c09c[_0x32f92e(0xaa)]),loggerService_1[_0x32f92e(0xcd)]['logWebhookReceived'](_0x32f92e(0xaf),_0x24c09c[_0x32f92e(0xaa)],_0x24c09c[_0x32f92e(0xb5)]);const _0x3e8510=await this[_0x32f92e(0xe6)][_0x32f92e(0xd2)](_0x24c09c['body']);_0x3ba802['status'](0xc8)[_0x32f92e(0xde)]({'success':!![],'message':_0x32f92e(0xd3)});}catch(_0x4de098){console[_0x32f92e(0xb4)](_0x32f92e(0xb2),_0x4de098),loggerService_1[_0x32f92e(0xcd)][_0x32f92e(0xa2)](_0x32f92e(0xaf),_0x4de098,_0x24c09c[_0x32f92e(0xaa)]),_0x3ba802[_0x32f92e(0xe0)](0xc8)[_0x32f92e(0xde)]({'success':![],'message':_0x4de098 instanceof Error?_0x4de098[_0x32f92e(0xa0)]:_0x32f92e(0xe8)});}},this[_0x597edd(0xa1)]=async(_0x388727,_0x147825,_0x1a12e3)=>{const _0x7aac6=_0x597edd;try{console[_0x7aac6(0xe5)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x7aac6(0xe5)](_0x7aac6(0xbe),_0x388727[_0x7aac6(0xe3)](_0x7aac6(0xbc))),console[_0x7aac6(0xe5)](_0x7aac6(0xd0),typeof _0x388727[_0x7aac6(0xaa)]),console[_0x7aac6(0xe5)](_0x7aac6(0xbb),Object['keys'](_0x388727[_0x7aac6(0xaa)]||{})),console[_0x7aac6(0xe5)](_0x7aac6(0xb0),_0x388727[_0x7aac6(0xaa)]),loggerService_1[_0x7aac6(0xcd)][_0x7aac6(0xdc)]('plisio_gateway',_0x388727[_0x7aac6(0xaa)],_0x388727[_0x7aac6(0xb5)]);const _0x1c1f41=await this[_0x7aac6(0xe6)][_0x7aac6(0xc7)](_0x388727['body']);_0x147825[_0x7aac6(0xe0)](0xc8)[_0x7aac6(0xde)]({'success':!![],'message':_0x7aac6(0xca)});}catch(_0x1ea674){console[_0x7aac6(0xb4)](_0x7aac6(0xa5),_0x1ea674),loggerService_1[_0x7aac6(0xcd)][_0x7aac6(0xa2)](_0x7aac6(0xb1),_0x1ea674,_0x388727[_0x7aac6(0xaa)]),_0x147825[_0x7aac6(0xe0)](0xc8)[_0x7aac6(0xde)]({'success':![],'message':_0x1ea674 instanceof Error?_0x1ea674[_0x7aac6(0xa0)]:_0x7aac6(0xba)});}},this[_0x597edd(0xdd)]=async(_0x2641ef,_0x266f7d,_0x17b0ba)=>{const _0x4e7457=_0x597edd;try{console[_0x4e7457(0xe5)]('Received\x20Rapyd\x20webhook:',_0x2641ef[_0x4e7457(0xaa)]),loggerService_1[_0x4e7457(0xcd)]['logWebhookReceived'](_0x4e7457(0xd9),_0x2641ef[_0x4e7457(0xaa)],_0x2641ef['headers']);const _0x2f1d8f=await this['webhookService']['processRapydWebhook'](_0x2641ef[_0x4e7457(0xaa)]);_0x266f7d[_0x4e7457(0xe0)](0xc8)[_0x4e7457(0xde)]({'success':!![],'message':_0x4e7457(0xc8)});}catch(_0x900d7d){console[_0x4e7457(0xb4)](_0x4e7457(0xa3),_0x900d7d),loggerService_1[_0x4e7457(0xcd)][_0x4e7457(0xa2)]('rapyd',_0x900d7d,_0x2641ef[_0x4e7457(0xaa)]),_0x266f7d[_0x4e7457(0xe0)](0xc8)[_0x4e7457(0xde)]({'success':![],'message':_0x900d7d instanceof Error?_0x900d7d[_0x4e7457(0xa0)]:_0x4e7457(0xa9)});}},this[_0x597edd(0xd7)]=async(_0x3b3478,_0x130624,_0x20aa4a)=>{const _0x50c2c4=_0x597edd;try{console[_0x50c2c4(0xe5)]('Received\x20Noda\x20webhook:',_0x3b3478[_0x50c2c4(0xaa)]),loggerService_1['loggerService'][_0x50c2c4(0xdc)](_0x50c2c4(0xdb),_0x3b3478[_0x50c2c4(0xaa)],_0x3b3478['headers']);const _0x172c0d=await this[_0x50c2c4(0xe6)][_0x50c2c4(0xb9)](_0x3b3478['body']);_0x130624[_0x50c2c4(0xe0)](0xc8)[_0x50c2c4(0xde)]({'success':!![],'message':_0x50c2c4(0xb3)});}catch(_0x30d754){console['error']('Noda\x20webhook\x20processing\x20error:',_0x30d754),loggerService_1['loggerService'][_0x50c2c4(0xa2)](_0x50c2c4(0xdb),_0x30d754,_0x3b3478[_0x50c2c4(0xaa)]),_0x130624[_0x50c2c4(0xe0)](0xc8)[_0x50c2c4(0xde)]({'success':![],'message':_0x30d754 instanceof Error?_0x30d754['message']:_0x50c2c4(0xad)});}},this[_0x597edd(0xc6)]=async(_0x489797,_0x5c7845,_0x29c017)=>{const _0x4a39b2=_0x597edd;try{console['log']('Received\x20CoinToPay\x20webhook:',_0x489797['body']),loggerService_1['loggerService'][_0x4a39b2(0xdc)](_0x4a39b2(0xd4),_0x489797['body'],_0x489797[_0x4a39b2(0xb5)]);const _0x13ec46=await this[_0x4a39b2(0xe6)][_0x4a39b2(0xdf)](_0x489797[_0x4a39b2(0xaa)]);_0x5c7845[_0x4a39b2(0xe0)](0xc8)['json']({'success':!![],'message':_0x4a39b2(0xc0)});}catch(_0x592da6){console[_0x4a39b2(0xb4)](_0x4a39b2(0xc2),_0x592da6),loggerService_1['loggerService'][_0x4a39b2(0xa2)](_0x4a39b2(0xd4),_0x592da6,_0x489797['body']),_0x5c7845[_0x4a39b2(0xe0)](0xc8)[_0x4a39b2(0xde)]({'success':![],'message':_0x592da6 instanceof Error?_0x592da6[_0x4a39b2(0xa0)]:_0x4a39b2(0xd6)});}},this['handleKlymeWebhook']=async(_0x5a495,_0x1b1fb7,_0x30a8b3)=>{const _0x174208=_0x597edd;try{console[_0x174208(0xe5)](_0x174208(0xd1),_0x5a495[_0x174208(0xaa)]),loggerService_1[_0x174208(0xcd)][_0x174208(0xdc)](_0x174208(0xbf),_0x5a495[_0x174208(0xaa)],_0x5a495[_0x174208(0xb5)]);const _0x4ca542=await this[_0x174208(0xe6)][_0x174208(0xd5)](_0x5a495[_0x174208(0xaa)]);_0x1b1fb7[_0x174208(0xe0)](0xc8)[_0x174208(0xde)]({'success':!![],'message':_0x174208(0xbd)});}catch(_0x2e5235){console[_0x174208(0xb4)](_0x174208(0xab),_0x2e5235),loggerService_1[_0x174208(0xcd)]['logWebhookError'](_0x174208(0xbf),_0x2e5235,_0x5a495[_0x174208(0xaa)]),_0x1b1fb7[_0x174208(0xe0)](0xc8)[_0x174208(0xde)]({'success':![],'message':_0x2e5235 instanceof Error?_0x2e5235[_0x174208(0xa0)]:_0x174208(0xe4)});}},this[_0x597edd(0xcb)]=async(_0xe1949e,_0x22533f,_0x3dff74)=>{const _0x41d5d0=_0x597edd;try{console[_0x41d5d0(0xe5)]('Received\x20MasterCard\x20webhook:',_0xe1949e[_0x41d5d0(0xaa)]),loggerService_1[_0x41d5d0(0xcd)][_0x41d5d0(0xdc)](_0x41d5d0(0xb8),_0xe1949e[_0x41d5d0(0xaa)],_0xe1949e[_0x41d5d0(0xb5)]);const _0x1ac15e=await this[_0x41d5d0(0xe6)]['processMasterCardWebhook'](_0xe1949e[_0x41d5d0(0xaa)]);_0x22533f[_0x41d5d0(0xe0)](0xc8)['json']({'success':!![],'message':_0x41d5d0(0xa7)});}catch(_0x4b8b76){console['error'](_0x41d5d0(0xb6),_0x4b8b76),loggerService_1[_0x41d5d0(0xcd)][_0x41d5d0(0xa2)](_0x41d5d0(0xb8),_0x4b8b76,_0xe1949e[_0x41d5d0(0xaa)]),_0x22533f[_0x41d5d0(0xe0)](0xc8)[_0x41d5d0(0xde)]({'success':![],'message':_0x4b8b76 instanceof Error?_0x4b8b76[_0x41d5d0(0xa0)]:_0x41d5d0(0xc1)});}},this[_0x597edd(0xe6)]=new webhookService_1[(_0x597edd(0xc3))]();}}function a15_0x235c(_0x1877a0,_0x1c2cdd){const _0x27014f=a15_0x2701();return a15_0x235c=function(_0x235c51,_0x44af7f){_0x235c51=_0x235c51-0x9f;let _0xfd8f1a=_0x27014f[_0x235c51];return _0xfd8f1a;},a15_0x235c(_0x1877a0,_0x1c2cdd);}exports[a15_0x38801d(0xe1)]=WebhookController;