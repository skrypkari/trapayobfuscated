'use strict';const a15_0x164af0=a15_0x395b;function a15_0x395b(_0x2e2013,_0x41b207){const _0x3f5457=a15_0x3f54();return a15_0x395b=function(_0x395b38,_0x22dba4){_0x395b38=_0x395b38-0x66;let _0x2128e8=_0x3f5457[_0x395b38];return _0x2128e8;},a15_0x395b(_0x2e2013,_0x41b207);}(function(_0x5aef99,_0x3c85f8){const _0x144f39=a15_0x395b,_0x32ec36=_0x5aef99();while(!![]){try{const _0x27039f=parseInt(_0x144f39(0x9f))/0x1*(parseInt(_0x144f39(0x9c))/0x2)+-parseInt(_0x144f39(0x95))/0x3+parseInt(_0x144f39(0x76))/0x4+-parseInt(_0x144f39(0x66))/0x5*(parseInt(_0x144f39(0x8d))/0x6)+-parseInt(_0x144f39(0xa6))/0x7+parseInt(_0x144f39(0x7a))/0x8+-parseInt(_0x144f39(0x89))/0x9*(-parseInt(_0x144f39(0x93))/0xa);if(_0x27039f===_0x3c85f8)break;else _0x32ec36['push'](_0x32ec36['shift']());}catch(_0x2ea76e){_0x32ec36['push'](_0x32ec36['shift']());}}}(a15_0x3f54,0x96bd5));Object[a15_0x164af0(0xa0)](exports,a15_0x164af0(0x9b),{'value':!![]}),exports[a15_0x164af0(0x82)]=void 0x0;const webhookService_1=require(a15_0x164af0(0x96)),loggerService_1=require(a15_0x164af0(0x98));class WebhookController{constructor(){const _0x53e033=a15_0x164af0;this[_0x53e033(0x8a)]=async(_0x59dc0a,_0xe226dc,_0x1aec37)=>{const _0x11fd8f=_0x53e033;try{console['log'](_0x11fd8f(0xa3)),console['log']('Content-Type:',_0x59dc0a[_0x11fd8f(0x7e)](_0x11fd8f(0x79))),console['log'](_0x11fd8f(0x6e),typeof _0x59dc0a['body']),console[_0x11fd8f(0x97)](_0x11fd8f(0x75),Object[_0x11fd8f(0x6a)](_0x59dc0a['body']||{})),console[_0x11fd8f(0x97)](_0x11fd8f(0x9d),_0x59dc0a[_0x11fd8f(0x7f)]),loggerService_1[_0x11fd8f(0x88)]['logWebhookReceived'](_0x11fd8f(0x72),_0x59dc0a[_0x11fd8f(0x7f)],_0x59dc0a['headers']);const _0x375a63=await this[_0x11fd8f(0x7b)][_0x11fd8f(0x90)](_0x59dc0a['body']);_0xe226dc[_0x11fd8f(0x6f)](0xc8)['json']({'success':!![],'message':_0x11fd8f(0x9e)});}catch(_0x27baa0){console[_0x11fd8f(0x77)](_0x11fd8f(0x6d),_0x27baa0),loggerService_1[_0x11fd8f(0x88)][_0x11fd8f(0xa2)](_0x11fd8f(0x72),_0x27baa0,_0x59dc0a['body']),_0xe226dc[_0x11fd8f(0x6f)](0xc8)[_0x11fd8f(0xa9)]({'success':![],'message':_0x27baa0 instanceof Error?_0x27baa0[_0x11fd8f(0xa7)]:_0x11fd8f(0xa1)});}},this['handlePlisioGatewayWebhook']=async(_0x4cdf35,_0x253e88,_0x33f7b1)=>{const _0x17663a=_0x53e033;try{console[_0x17663a(0x97)](_0x17663a(0x86)),console[_0x17663a(0x97)](_0x17663a(0x71),_0x4cdf35[_0x17663a(0x7e)](_0x17663a(0x79))),console['log']('Raw\x20body\x20type:',typeof _0x4cdf35[_0x17663a(0x7f)]),console[_0x17663a(0x97)](_0x17663a(0x75),Object['keys'](_0x4cdf35[_0x17663a(0x7f)]||{})),console['log'](_0x17663a(0x9d),_0x4cdf35[_0x17663a(0x7f)]),loggerService_1[_0x17663a(0x88)]['logWebhookReceived'](_0x17663a(0xa4),_0x4cdf35[_0x17663a(0x7f)],_0x4cdf35[_0x17663a(0x80)]);const _0x3fa5b5=await this['webhookService'][_0x17663a(0x73)](_0x4cdf35[_0x17663a(0x7f)]);_0x253e88[_0x17663a(0x6f)](0xc8)[_0x17663a(0xa9)]({'success':!![],'message':_0x17663a(0xa5)});}catch(_0x5ed92e){console[_0x17663a(0x77)](_0x17663a(0x8f),_0x5ed92e),loggerService_1[_0x17663a(0x88)][_0x17663a(0xa2)](_0x17663a(0xa4),_0x5ed92e,_0x4cdf35[_0x17663a(0x7f)]),_0x253e88['status'](0xc8)[_0x17663a(0xa9)]({'success':![],'message':_0x5ed92e instanceof Error?_0x5ed92e[_0x17663a(0xa7)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x53e033(0x7c)]=async(_0x2a3caf,_0x5ad071,_0x2609b5)=>{const _0x241731=_0x53e033;try{console[_0x241731(0x97)]('Received\x20Rapyd\x20webhook:',_0x2a3caf['body']),loggerService_1[_0x241731(0x88)][_0x241731(0x7d)](_0x241731(0x68),_0x2a3caf[_0x241731(0x7f)],_0x2a3caf['headers']);const _0x2d1c12=await this[_0x241731(0x7b)][_0x241731(0x87)](_0x2a3caf['body']);_0x5ad071[_0x241731(0x6f)](0xc8)[_0x241731(0xa9)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x2f8de1){console[_0x241731(0x77)](_0x241731(0x8c),_0x2f8de1),loggerService_1['loggerService'][_0x241731(0xa2)](_0x241731(0x68),_0x2f8de1,_0x2a3caf[_0x241731(0x7f)]),_0x5ad071[_0x241731(0x6f)](0xc8)[_0x241731(0xa9)]({'success':![],'message':_0x2f8de1 instanceof Error?_0x2f8de1[_0x241731(0xa7)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this['handleNodaWebhook']=async(_0x47551e,_0x2a1a09,_0x3914d0)=>{const _0x4ec914=_0x53e033;try{console[_0x4ec914(0x97)](_0x4ec914(0x74),_0x47551e[_0x4ec914(0x7f)]),loggerService_1['loggerService'][_0x4ec914(0x7d)](_0x4ec914(0x6c),_0x47551e[_0x4ec914(0x7f)],_0x47551e['headers']);const _0x3bc61d=await this[_0x4ec914(0x7b)][_0x4ec914(0x91)](_0x47551e[_0x4ec914(0x7f)]);_0x2a1a09[_0x4ec914(0x6f)](0xc8)[_0x4ec914(0xa9)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x5ef283){console[_0x4ec914(0x77)](_0x4ec914(0x78),_0x5ef283),loggerService_1[_0x4ec914(0x88)][_0x4ec914(0xa2)](_0x4ec914(0x6c),_0x5ef283,_0x47551e[_0x4ec914(0x7f)]),_0x2a1a09['status'](0xc8)[_0x4ec914(0xa9)]({'success':![],'message':_0x5ef283 instanceof Error?_0x5ef283[_0x4ec914(0xa7)]:_0x4ec914(0x69)});}},this['handleCoinToPayWebhook']=async(_0x462ffd,_0x3c88db,_0x4ceeb3)=>{const _0x18c4c0=_0x53e033;try{console[_0x18c4c0(0x97)](_0x18c4c0(0x81),_0x462ffd[_0x18c4c0(0x7f)]),loggerService_1[_0x18c4c0(0x88)]['logWebhookReceived'](_0x18c4c0(0x83),_0x462ffd[_0x18c4c0(0x7f)],_0x462ffd[_0x18c4c0(0x80)]);const _0x151c4c=await this[_0x18c4c0(0x7b)]['processCoinToPayWebhook'](_0x462ffd[_0x18c4c0(0x7f)]);_0x3c88db[_0x18c4c0(0x6f)](0xc8)[_0x18c4c0(0xa9)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x37c182){console[_0x18c4c0(0x77)]('CoinToPay\x20webhook\x20processing\x20error:',_0x37c182),loggerService_1['loggerService'][_0x18c4c0(0xa2)](_0x18c4c0(0x83),_0x37c182,_0x462ffd[_0x18c4c0(0x7f)]),_0x3c88db[_0x18c4c0(0x6f)](0xc8)[_0x18c4c0(0xa9)]({'success':![],'message':_0x37c182 instanceof Error?_0x37c182['message']:_0x18c4c0(0xa8)});}},this['handleKlymeWebhook']=async(_0x286956,_0x13e935,_0x526c4d)=>{const _0x1cc46d=_0x53e033;try{console[_0x1cc46d(0x97)](_0x1cc46d(0x8b),_0x286956[_0x1cc46d(0x7f)]),loggerService_1[_0x1cc46d(0x88)][_0x1cc46d(0x7d)](_0x1cc46d(0x9a),_0x286956[_0x1cc46d(0x7f)],_0x286956[_0x1cc46d(0x80)]);const _0x1dbd3e=await this[_0x1cc46d(0x7b)][_0x1cc46d(0x94)](_0x286956['body']);_0x13e935[_0x1cc46d(0x6f)](0xc8)[_0x1cc46d(0xa9)]({'success':!![],'message':_0x1cc46d(0x84)});}catch(_0x266bce){console[_0x1cc46d(0x77)](_0x1cc46d(0x99),_0x266bce),loggerService_1['loggerService']['logWebhookError']('klyme',_0x266bce,_0x286956[_0x1cc46d(0x7f)]),_0x13e935['status'](0xc8)[_0x1cc46d(0xa9)]({'success':![],'message':_0x266bce instanceof Error?_0x266bce[_0x1cc46d(0xa7)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x53e033(0x92)]=async(_0x34f185,_0x1abdf6,_0x2c77d4)=>{const _0x2cbdcc=_0x53e033;try{console[_0x2cbdcc(0x97)]('Received\x20MasterCard\x20webhook:',_0x34f185[_0x2cbdcc(0x7f)]),loggerService_1['loggerService'][_0x2cbdcc(0x7d)](_0x2cbdcc(0x6b),_0x34f185[_0x2cbdcc(0x7f)],_0x34f185[_0x2cbdcc(0x80)]);const _0x56b622=await this[_0x2cbdcc(0x7b)][_0x2cbdcc(0x8e)](_0x34f185[_0x2cbdcc(0x7f)]);_0x1abdf6[_0x2cbdcc(0x6f)](0xc8)[_0x2cbdcc(0xa9)]({'success':!![],'message':_0x2cbdcc(0x85)});}catch(_0x1207d3){console[_0x2cbdcc(0x77)](_0x2cbdcc(0x70),_0x1207d3),loggerService_1[_0x2cbdcc(0x88)][_0x2cbdcc(0xa2)](_0x2cbdcc(0x6b),_0x1207d3,_0x34f185[_0x2cbdcc(0x7f)]),_0x1abdf6[_0x2cbdcc(0x6f)](0xc8)['json']({'success':![],'message':_0x1207d3 instanceof Error?_0x1207d3[_0x2cbdcc(0xa7)]:_0x2cbdcc(0x67)});}},this[_0x53e033(0x7b)]=new webhookService_1['WebhookService']();}}exports['WebhookController']=WebhookController;function a15_0x3f54(){const _0x27559b=['KLYME\x20webhook\x20processing\x20error:','klyme','__esModule','4BGAMyo','Body\x20content:','Webhook\x20processed\x20successfully','182239HMSZHU','defineProperty','Webhook\x20processing\x20failed','logWebhookError','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','plisio_gateway','Gateway\x20webhook\x20processed\x20successfully','5515720UNJZJr','message','CoinToPay\x20webhook\x20processing\x20failed','json','5lciFvw','MasterCard\x20webhook\x20processing\x20failed','rapyd','Noda\x20webhook\x20processing\x20failed','keys','mastercard','noda','Webhook\x20processing\x20error:','Raw\x20body\x20type:','status','MasterCard\x20webhook\x20processing\x20error:','Content-Type:','plisio','processPlisioGatewayWebhook','Received\x20Noda\x20webhook:','Body\x20keys:','4873220IBoxnZ','error','Noda\x20webhook\x20processing\x20error:','Content-Type','9018304rceMOa','webhookService','handleRapydWebhook','logWebhookReceived','get','body','headers','Received\x20CoinToPay\x20webhook:','WebhookController','cointopay','KLYME\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processRapydWebhook','loggerService','3883041tEPfPO','handlePlisioWebhook','Received\x20KLYME\x20webhook:','Rapyd\x20webhook\x20processing\x20error:','3684882fhFCxA','processMasterCardWebhook','Gateway\x20webhook\x20processing\x20error:','processPlisioWebhook','processNodaWebhook','handleMasterCardWebhook','10NCPAOi','processKlymeWebhook','3365952dOpSTC','../services/webhookService','log','../services/loggerService'];a15_0x3f54=function(){return _0x27559b;};return a15_0x3f54();}