'use strict';const a15_0xff12a2=a15_0x5d5d;(function(_0x27c586,_0x1c57e1){const _0x2f89cf=a15_0x5d5d,_0x13fb63=_0x27c586();while(!![]){try{const _0x23f16c=-parseInt(_0x2f89cf(0x22d))/0x1*(parseInt(_0x2f89cf(0x21c))/0x2)+-parseInt(_0x2f89cf(0x202))/0x3+parseInt(_0x2f89cf(0x1ef))/0x4*(parseInt(_0x2f89cf(0x1f6))/0x5)+-parseInt(_0x2f89cf(0x218))/0x6*(-parseInt(_0x2f89cf(0x239))/0x7)+-parseInt(_0x2f89cf(0x205))/0x8+-parseInt(_0x2f89cf(0x23a))/0x9*(parseInt(_0x2f89cf(0x233))/0xa)+-parseInt(_0x2f89cf(0x1f1))/0xb*(-parseInt(_0x2f89cf(0x20f))/0xc);if(_0x23f16c===_0x1c57e1)break;else _0x13fb63['push'](_0x13fb63['shift']());}catch(_0x34a3c7){_0x13fb63['push'](_0x13fb63['shift']());}}}(a15_0x181c,0x59998));Object['defineProperty'](exports,a15_0xff12a2(0x212),{'value':!![]}),exports[a15_0xff12a2(0x1f9)]=void 0x0;function a15_0x181c(){const _0x5d9adc=['body','processCoinToPayWebhook','Received\x20CoinToPay2\x20webhook:','processRapydWebhook','CoinToPay2\x20webhook\x20processed\x20successfully','message','handleNodaWebhook','processMasterCardWebhook','logWebhookReceived','Raw\x20body\x20type:','Gateway\x20webhook\x20processing\x20error:','webhookService','handleRapydWebhook','rapyd','CoinToPay2\x20webhook\x20processing\x20error:','handlePlisioGatewayWebhook','41AVnVuc','headers','Received\x20Noda\x20webhook:','keys','Noda\x20webhook\x20processing\x20failed','../services/loggerService','814970EzZrta','Received\x20KLYME\x20webhook:','handlePlisioWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Noda\x20webhook\x20processing\x20error:','mastercard','28tjpwiH','63LCIXKC','Content-Type:','processPlisioGatewayWebhook','processCoinToPay2Webhook','processPlisioWebhook','MasterCard\x20webhook\x20processing\x20error:','Content-Type','12mcoOTc','get','11GPIFrM','CoinToPay\x20webhook\x20processing\x20error:','noda','Webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','843705nQCIDT','handleCoinToPay2Webhook','MasterCard\x20webhook\x20processed\x20successfully','WebhookController','json','Rapyd\x20webhook\x20processed\x20successfully','error','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','cointopay2','Rapyd\x20webhook\x20processing\x20failed','handleMasterCardWebhook','logWebhookError','16974DccVad','loggerService','status','2751560AclsqD','KLYME\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','CoinToPay2\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processed\x20successfully','Received\x20CoinToPay\x20webhook:','Rapyd\x20webhook\x20processing\x20error:','klyme','plisio_gateway','processKlymeWebhook','11320344HqlQxM','Gateway\x20webhook\x20processing\x20failed','cointopay','__esModule','MasterCard\x20webhook\x20processing\x20failed','Received\x20MasterCard\x20webhook:','log','Body\x20keys:','plisio','216noCavw','WebhookService','KLYME\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processed\x20successfully','7934ELxQkF'];a15_0x181c=function(){return _0x5d9adc;};return a15_0x181c();}function a15_0x5d5d(_0x92ffa8,_0x515ec4){const _0x181c66=a15_0x181c();return a15_0x5d5d=function(_0x5d5df1,_0x27c665){_0x5d5df1=_0x5d5df1-0x1eb;let _0x3c63e9=_0x181c66[_0x5d5df1];return _0x3c63e9;},a15_0x5d5d(_0x92ffa8,_0x515ec4);}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0xff12a2(0x232));class WebhookController{constructor(){const _0x361c4a=a15_0xff12a2;this[_0x361c4a(0x235)]=async(_0x34b4cc,_0x10640c,_0x52ce18)=>{const _0x3b4444=_0x361c4a;try{console[_0x3b4444(0x215)](_0x3b4444(0x236)),console[_0x3b4444(0x215)](_0x3b4444(0x23b),_0x34b4cc[_0x3b4444(0x1f0)](_0x3b4444(0x1ee))),console[_0x3b4444(0x215)](_0x3b4444(0x226),typeof _0x34b4cc['body']),console[_0x3b4444(0x215)](_0x3b4444(0x216),Object['keys'](_0x34b4cc[_0x3b4444(0x21d)]||{})),console['log']('Body\x20content:',_0x34b4cc[_0x3b4444(0x21d)]),loggerService_1['loggerService'][_0x3b4444(0x225)](_0x3b4444(0x217),_0x34b4cc[_0x3b4444(0x21d)],_0x34b4cc['headers']);const _0x194bfb=await this[_0x3b4444(0x228)][_0x3b4444(0x1ec)](_0x34b4cc[_0x3b4444(0x21d)]);_0x10640c[_0x3b4444(0x204)](0xc8)[_0x3b4444(0x1fa)]({'success':!![],'message':_0x3b4444(0x1f5)});}catch(_0x41d647){console[_0x3b4444(0x1fc)](_0x3b4444(0x207),_0x41d647),loggerService_1[_0x3b4444(0x203)][_0x3b4444(0x201)](_0x3b4444(0x217),_0x41d647,_0x34b4cc[_0x3b4444(0x21d)]),_0x10640c[_0x3b4444(0x204)](0xc8)[_0x3b4444(0x1fa)]({'success':![],'message':_0x41d647 instanceof Error?_0x41d647[_0x3b4444(0x222)]:_0x3b4444(0x1f4)});}},this[_0x361c4a(0x22c)]=async(_0x1b4974,_0x55397c,_0x300633)=>{const _0x5dcc02=_0x361c4a;try{console[_0x5dcc02(0x215)](_0x5dcc02(0x1fd)),console[_0x5dcc02(0x215)](_0x5dcc02(0x23b),_0x1b4974[_0x5dcc02(0x1f0)](_0x5dcc02(0x1ee))),console['log'](_0x5dcc02(0x226),typeof _0x1b4974[_0x5dcc02(0x21d)]),console[_0x5dcc02(0x215)](_0x5dcc02(0x216),Object[_0x5dcc02(0x230)](_0x1b4974[_0x5dcc02(0x21d)]||{})),console[_0x5dcc02(0x215)]('Body\x20content:',_0x1b4974[_0x5dcc02(0x21d)]),loggerService_1[_0x5dcc02(0x203)][_0x5dcc02(0x225)](_0x5dcc02(0x20d),_0x1b4974['body'],_0x1b4974[_0x5dcc02(0x22e)]);const _0x4f0fbe=await this[_0x5dcc02(0x228)][_0x5dcc02(0x23c)](_0x1b4974[_0x5dcc02(0x21d)]);_0x55397c[_0x5dcc02(0x204)](0xc8)['json']({'success':!![],'message':_0x5dcc02(0x209)});}catch(_0x22c497){console[_0x5dcc02(0x1fc)](_0x5dcc02(0x227),_0x22c497),loggerService_1[_0x5dcc02(0x203)]['logWebhookError'](_0x5dcc02(0x20d),_0x22c497,_0x1b4974[_0x5dcc02(0x21d)]),_0x55397c[_0x5dcc02(0x204)](0xc8)[_0x5dcc02(0x1fa)]({'success':![],'message':_0x22c497 instanceof Error?_0x22c497[_0x5dcc02(0x222)]:_0x5dcc02(0x210)});}},this[_0x361c4a(0x229)]=async(_0x3c0aff,_0x39b48f,_0x4da8ef)=>{const _0x1c335a=_0x361c4a;try{console[_0x1c335a(0x215)]('Received\x20Rapyd\x20webhook:',_0x3c0aff[_0x1c335a(0x21d)]),loggerService_1[_0x1c335a(0x203)][_0x1c335a(0x225)](_0x1c335a(0x22a),_0x3c0aff[_0x1c335a(0x21d)],_0x3c0aff[_0x1c335a(0x22e)]);const _0x4ecce9=await this[_0x1c335a(0x228)][_0x1c335a(0x220)](_0x3c0aff[_0x1c335a(0x21d)]);_0x39b48f[_0x1c335a(0x204)](0xc8)[_0x1c335a(0x1fa)]({'success':!![],'message':_0x1c335a(0x1fb)});}catch(_0x7cc6cc){console[_0x1c335a(0x1fc)](_0x1c335a(0x20b),_0x7cc6cc),loggerService_1[_0x1c335a(0x203)][_0x1c335a(0x201)]('rapyd',_0x7cc6cc,_0x3c0aff[_0x1c335a(0x21d)]),_0x39b48f['status'](0xc8)[_0x1c335a(0x1fa)]({'success':![],'message':_0x7cc6cc instanceof Error?_0x7cc6cc[_0x1c335a(0x222)]:_0x1c335a(0x1ff)});}},this[_0x361c4a(0x223)]=async(_0x371829,_0x4d7c9e,_0x20c335)=>{const _0x4aa350=_0x361c4a;try{console['log'](_0x4aa350(0x22f),_0x371829[_0x4aa350(0x21d)]),loggerService_1[_0x4aa350(0x203)][_0x4aa350(0x225)]('noda',_0x371829[_0x4aa350(0x21d)],_0x371829['headers']);const _0x9a15a1=await this['webhookService']['processNodaWebhook'](_0x371829[_0x4aa350(0x21d)]);_0x4d7c9e['status'](0xc8)[_0x4aa350(0x1fa)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x931602){console['error'](_0x4aa350(0x237),_0x931602),loggerService_1[_0x4aa350(0x203)][_0x4aa350(0x201)](_0x4aa350(0x1f3),_0x931602,_0x371829[_0x4aa350(0x21d)]),_0x4d7c9e[_0x4aa350(0x204)](0xc8)[_0x4aa350(0x1fa)]({'success':![],'message':_0x931602 instanceof Error?_0x931602[_0x4aa350(0x222)]:_0x4aa350(0x231)});}},this['handleCoinToPayWebhook']=async(_0x1ec463,_0x5cf238,_0xc489ea)=>{const _0x25c37d=_0x361c4a;try{console[_0x25c37d(0x215)](_0x25c37d(0x20a),_0x1ec463[_0x25c37d(0x21d)]),loggerService_1[_0x25c37d(0x203)][_0x25c37d(0x225)](_0x25c37d(0x211),_0x1ec463['body'],_0x1ec463['headers']);const _0x1711e3=await this[_0x25c37d(0x228)][_0x25c37d(0x21e)](_0x1ec463['body']);_0x5cf238[_0x25c37d(0x204)](0xc8)['json']({'success':!![],'message':_0x25c37d(0x21b)});}catch(_0x4b18ef){console[_0x25c37d(0x1fc)](_0x25c37d(0x1f2),_0x4b18ef),loggerService_1['loggerService'][_0x25c37d(0x201)](_0x25c37d(0x211),_0x4b18ef,_0x1ec463[_0x25c37d(0x21d)]),_0x5cf238[_0x25c37d(0x204)](0xc8)['json']({'success':![],'message':_0x4b18ef instanceof Error?_0x4b18ef['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x361c4a(0x1f7)]=async(_0x7cc8e3,_0x5a8b44,_0x1b5465)=>{const _0x276120=_0x361c4a;try{console['log'](_0x276120(0x21f),_0x7cc8e3[_0x276120(0x21d)]),loggerService_1[_0x276120(0x203)][_0x276120(0x225)](_0x276120(0x1fe),_0x7cc8e3[_0x276120(0x21d)],_0x7cc8e3['headers']);const _0x1817b6=await this['webhookService'][_0x276120(0x1eb)](_0x7cc8e3[_0x276120(0x21d)]);_0x5a8b44[_0x276120(0x204)](0xc8)[_0x276120(0x1fa)]({'success':!![],'message':_0x276120(0x221)});}catch(_0x3d2c13){console[_0x276120(0x1fc)](_0x276120(0x22b),_0x3d2c13),loggerService_1[_0x276120(0x203)][_0x276120(0x201)]('cointopay2',_0x3d2c13,_0x7cc8e3[_0x276120(0x21d)]),_0x5a8b44[_0x276120(0x204)](0xc8)['json']({'success':![],'message':_0x3d2c13 instanceof Error?_0x3d2c13[_0x276120(0x222)]:_0x276120(0x208)});}},this['handleKlymeWebhook']=async(_0x220479,_0x28e526,_0x580324)=>{const _0x244092=_0x361c4a;try{console['log'](_0x244092(0x234),_0x220479[_0x244092(0x21d)]),loggerService_1['loggerService'][_0x244092(0x225)](_0x244092(0x20c),_0x220479[_0x244092(0x21d)],_0x220479[_0x244092(0x22e)]);const _0x15e66d=await this[_0x244092(0x228)][_0x244092(0x20e)](_0x220479[_0x244092(0x21d)]);_0x28e526[_0x244092(0x204)](0xc8)['json']({'success':!![],'message':_0x244092(0x21a)});}catch(_0x4ff533){console['error'](_0x244092(0x206),_0x4ff533),loggerService_1['loggerService']['logWebhookError'](_0x244092(0x20c),_0x4ff533,_0x220479[_0x244092(0x21d)]),_0x28e526[_0x244092(0x204)](0xc8)[_0x244092(0x1fa)]({'success':![],'message':_0x4ff533 instanceof Error?_0x4ff533['message']:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x361c4a(0x200)]=async(_0x22f913,_0x2e07f4,_0x3538b6)=>{const _0x3adc3d=_0x361c4a;try{console[_0x3adc3d(0x215)](_0x3adc3d(0x214),_0x22f913[_0x3adc3d(0x21d)]),loggerService_1[_0x3adc3d(0x203)][_0x3adc3d(0x225)](_0x3adc3d(0x238),_0x22f913[_0x3adc3d(0x21d)],_0x22f913[_0x3adc3d(0x22e)]);const _0x1f88d2=await this[_0x3adc3d(0x228)][_0x3adc3d(0x224)](_0x22f913[_0x3adc3d(0x21d)]);_0x2e07f4['status'](0xc8)['json']({'success':!![],'message':_0x3adc3d(0x1f8)});}catch(_0x468988){console['error'](_0x3adc3d(0x1ed),_0x468988),loggerService_1[_0x3adc3d(0x203)]['logWebhookError'](_0x3adc3d(0x238),_0x468988,_0x22f913[_0x3adc3d(0x21d)]),_0x2e07f4[_0x3adc3d(0x204)](0xc8)['json']({'success':![],'message':_0x468988 instanceof Error?_0x468988[_0x3adc3d(0x222)]:_0x3adc3d(0x213)});}},this[_0x361c4a(0x228)]=new webhookService_1[(_0x361c4a(0x219))]();}}exports[a15_0xff12a2(0x1f9)]=WebhookController;