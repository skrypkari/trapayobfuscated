'use strict';const a15_0x8f2728=a15_0x3140;function a15_0x3117(){const _0x34f9d2=['rapyd','Webhook\x20processing\x20failed','handleMasterCardWebhook','Rapyd\x20webhook\x20processing\x20failed','json','__esModule','Body\x20content:','204782JRLqLt','CoinToPay\x20webhook\x20processed\x20successfully','Received\x20MasterCard\x20webhook:','log','17807697YIFrFx','KLYME\x20webhook\x20processed\x20successfully','../services/loggerService','body','plisio_gateway','Webhook\x20processing\x20error:','Rapyd\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','Content-Type:','Gateway\x20webhook\x20processing\x20failed','cointopay','processPlisioWebhook','error','Received\x20Rapyd\x20webhook:','noda','handleNodaWebhook','MasterCard\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','processRapydWebhook','KLYME\x20webhook\x20processing\x20error:','plisio','processPlisioGatewayWebhook','Received\x20Noda\x20webhook:','get','loggerService','Noda\x20webhook\x20processing\x20failed','logWebhookError','logWebhookReceived','1185456oatZTU','processMasterCardWebhook','CoinToPay\x20webhook\x20processing\x20error:','4306530EtxXzV','mastercard','klyme','status','WebhookController','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','8iEUEDw','webhookService','100349nBgeeF','WebhookService','Content-Type','Body\x20keys:','Raw\x20body\x20type:','processNodaWebhook','MasterCard\x20webhook\x20processing\x20error:','12SqCGnz','Gateway\x20webhook\x20processed\x20successfully','1720856YCpYJU','headers','message','Noda\x20webhook\x20processed\x20successfully','264012FWzjax','Webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20error:','keys'];a15_0x3117=function(){return _0x34f9d2;};return a15_0x3117();}function a15_0x3140(_0xc3b83b,_0x284f7b){const _0x3117a6=a15_0x3117();return a15_0x3140=function(_0x314082,_0x4e059d){_0x314082=_0x314082-0x11c;let _0x49ff0c=_0x3117a6[_0x314082];return _0x49ff0c;},a15_0x3140(_0xc3b83b,_0x284f7b);}(function(_0x418bef,_0x401d56){const _0x185b25=a15_0x3140,_0x59818d=_0x418bef();while(!![]){try{const _0x5b6896=-parseInt(_0x185b25(0x15a))/0x1+-parseInt(_0x185b25(0x12f))/0x2+parseInt(_0x185b25(0x14f))/0x3+-parseInt(_0x185b25(0x120))/0x4+-parseInt(_0x185b25(0x152))/0x5+-parseInt(_0x185b25(0x11e))/0x6*(parseInt(_0x185b25(0x124))/0x7)+-parseInt(_0x185b25(0x158))/0x8*(-parseInt(_0x185b25(0x133))/0x9);if(_0x5b6896===_0x401d56)break;else _0x59818d['push'](_0x59818d['shift']());}catch(_0x34d524){_0x59818d['push'](_0x59818d['shift']());}}}(a15_0x3117,0xc44fd));Object['defineProperty'](exports,a15_0x8f2728(0x12d),{'value':!![]}),exports[a15_0x8f2728(0x156)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x8f2728(0x135));class WebhookController{constructor(){const _0x236d52=a15_0x8f2728;this['handlePlisioWebhook']=async(_0x55ca54,_0x2befd3,_0x4d7147)=>{const _0x241d91=a15_0x3140;try{console[_0x241d91(0x132)](_0x241d91(0x157)),console['log'](_0x241d91(0x13b),_0x55ca54[_0x241d91(0x14a)](_0x241d91(0x15c))),console[_0x241d91(0x132)](_0x241d91(0x15e),typeof _0x55ca54[_0x241d91(0x136)]),console[_0x241d91(0x132)](_0x241d91(0x15d),Object[_0x241d91(0x127)](_0x55ca54[_0x241d91(0x136)]||{})),console[_0x241d91(0x132)](_0x241d91(0x12e),_0x55ca54[_0x241d91(0x136)]),loggerService_1[_0x241d91(0x14b)]['logWebhookReceived']('plisio',_0x55ca54[_0x241d91(0x136)],_0x55ca54[_0x241d91(0x121)]);const _0x20b9c1=await this[_0x241d91(0x159)][_0x241d91(0x13e)](_0x55ca54[_0x241d91(0x136)]);_0x2befd3[_0x241d91(0x155)](0xc8)['json']({'success':!![],'message':_0x241d91(0x125)});}catch(_0x2101c2){console[_0x241d91(0x13f)](_0x241d91(0x138),_0x2101c2),loggerService_1[_0x241d91(0x14b)][_0x241d91(0x14d)](_0x241d91(0x147),_0x2101c2,_0x55ca54[_0x241d91(0x136)]),_0x2befd3[_0x241d91(0x155)](0xc8)[_0x241d91(0x12c)]({'success':![],'message':_0x2101c2 instanceof Error?_0x2101c2[_0x241d91(0x122)]:_0x241d91(0x129)});}},this['handlePlisioGatewayWebhook']=async(_0x4046f5,_0x23f21c,_0x1c4c5e)=>{const _0x20d852=a15_0x3140;try{console[_0x20d852(0x132)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0x20d852(0x13b),_0x4046f5[_0x20d852(0x14a)](_0x20d852(0x15c))),console[_0x20d852(0x132)](_0x20d852(0x15e),typeof _0x4046f5['body']),console[_0x20d852(0x132)]('Body\x20keys:',Object[_0x20d852(0x127)](_0x4046f5['body']||{})),console[_0x20d852(0x132)](_0x20d852(0x12e),_0x4046f5[_0x20d852(0x136)]),loggerService_1[_0x20d852(0x14b)][_0x20d852(0x14e)](_0x20d852(0x137),_0x4046f5['body'],_0x4046f5['headers']);const _0x479c7d=await this[_0x20d852(0x159)][_0x20d852(0x148)](_0x4046f5[_0x20d852(0x136)]);_0x23f21c[_0x20d852(0x155)](0xc8)[_0x20d852(0x12c)]({'success':!![],'message':_0x20d852(0x11f)});}catch(_0x25950b){console[_0x20d852(0x13f)](_0x20d852(0x126),_0x25950b),loggerService_1[_0x20d852(0x14b)][_0x20d852(0x14d)](_0x20d852(0x137),_0x25950b,_0x4046f5[_0x20d852(0x136)]),_0x23f21c[_0x20d852(0x155)](0xc8)['json']({'success':![],'message':_0x25950b instanceof Error?_0x25950b[_0x20d852(0x122)]:_0x20d852(0x13c)});}},this['handleRapydWebhook']=async(_0x5bc642,_0x2d1972,_0x4cf266)=>{const _0xd38e5=a15_0x3140;try{console['log'](_0xd38e5(0x140),_0x5bc642['body']),loggerService_1[_0xd38e5(0x14b)][_0xd38e5(0x14e)]('rapyd',_0x5bc642[_0xd38e5(0x136)],_0x5bc642[_0xd38e5(0x121)]);const _0x4d7a69=await this[_0xd38e5(0x159)][_0xd38e5(0x145)](_0x5bc642[_0xd38e5(0x136)]);_0x2d1972[_0xd38e5(0x155)](0xc8)[_0xd38e5(0x12c)]({'success':!![],'message':_0xd38e5(0x139)});}catch(_0x55d8a5){console[_0xd38e5(0x13f)]('Rapyd\x20webhook\x20processing\x20error:',_0x55d8a5),loggerService_1['loggerService'][_0xd38e5(0x14d)](_0xd38e5(0x128),_0x55d8a5,_0x5bc642[_0xd38e5(0x136)]),_0x2d1972[_0xd38e5(0x155)](0xc8)[_0xd38e5(0x12c)]({'success':![],'message':_0x55d8a5 instanceof Error?_0x55d8a5['message']:_0xd38e5(0x12b)});}},this[_0x236d52(0x142)]=async(_0x1bdd4e,_0x152e45,_0x58971e)=>{const _0x29d0a9=_0x236d52;try{console[_0x29d0a9(0x132)](_0x29d0a9(0x149),_0x1bdd4e['body']),loggerService_1['loggerService'][_0x29d0a9(0x14e)]('noda',_0x1bdd4e[_0x29d0a9(0x136)],_0x1bdd4e[_0x29d0a9(0x121)]);const _0x4c161b=await this[_0x29d0a9(0x159)][_0x29d0a9(0x11c)](_0x1bdd4e[_0x29d0a9(0x136)]);_0x152e45['status'](0xc8)[_0x29d0a9(0x12c)]({'success':!![],'message':_0x29d0a9(0x123)});}catch(_0x44ef23){console['error']('Noda\x20webhook\x20processing\x20error:',_0x44ef23),loggerService_1['loggerService'][_0x29d0a9(0x14d)](_0x29d0a9(0x141),_0x44ef23,_0x1bdd4e[_0x29d0a9(0x136)]),_0x152e45['status'](0xc8)[_0x29d0a9(0x12c)]({'success':![],'message':_0x44ef23 instanceof Error?_0x44ef23['message']:_0x29d0a9(0x14c)});}},this[_0x236d52(0x13a)]=async(_0x4f7ab7,_0x15f7e0,_0x26238b)=>{const _0x10e8db=_0x236d52;try{console[_0x10e8db(0x132)]('Received\x20CoinToPay\x20webhook:',_0x4f7ab7[_0x10e8db(0x136)]),loggerService_1[_0x10e8db(0x14b)][_0x10e8db(0x14e)](_0x10e8db(0x13d),_0x4f7ab7[_0x10e8db(0x136)],_0x4f7ab7[_0x10e8db(0x121)]);const _0x25fdf8=await this[_0x10e8db(0x159)]['processCoinToPayWebhook'](_0x4f7ab7[_0x10e8db(0x136)]);_0x15f7e0[_0x10e8db(0x155)](0xc8)[_0x10e8db(0x12c)]({'success':!![],'message':_0x10e8db(0x130)});}catch(_0x18f6cd){console[_0x10e8db(0x13f)](_0x10e8db(0x151),_0x18f6cd),loggerService_1['loggerService'][_0x10e8db(0x14d)](_0x10e8db(0x13d),_0x18f6cd,_0x4f7ab7[_0x10e8db(0x136)]),_0x15f7e0[_0x10e8db(0x155)](0xc8)[_0x10e8db(0x12c)]({'success':![],'message':_0x18f6cd instanceof Error?_0x18f6cd[_0x10e8db(0x122)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x40f147,_0x2eb5ca,_0x2a2e9c)=>{const _0x585815=_0x236d52;try{console[_0x585815(0x132)]('Received\x20KLYME\x20webhook:',_0x40f147['body']),loggerService_1[_0x585815(0x14b)][_0x585815(0x14e)](_0x585815(0x154),_0x40f147[_0x585815(0x136)],_0x40f147[_0x585815(0x121)]);const _0x3ec621=await this[_0x585815(0x159)]['processKlymeWebhook'](_0x40f147[_0x585815(0x136)]);_0x2eb5ca[_0x585815(0x155)](0xc8)[_0x585815(0x12c)]({'success':!![],'message':_0x585815(0x134)});}catch(_0x5552d7){console['error'](_0x585815(0x146),_0x5552d7),loggerService_1[_0x585815(0x14b)][_0x585815(0x14d)]('klyme',_0x5552d7,_0x40f147[_0x585815(0x136)]),_0x2eb5ca[_0x585815(0x155)](0xc8)[_0x585815(0x12c)]({'success':![],'message':_0x5552d7 instanceof Error?_0x5552d7['message']:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x236d52(0x12a)]=async(_0x15cdb5,_0x31ef21,_0x1313a8)=>{const _0x1d2aea=_0x236d52;try{console[_0x1d2aea(0x132)](_0x1d2aea(0x131),_0x15cdb5[_0x1d2aea(0x136)]),loggerService_1['loggerService'][_0x1d2aea(0x14e)](_0x1d2aea(0x153),_0x15cdb5[_0x1d2aea(0x136)],_0x15cdb5[_0x1d2aea(0x121)]);const _0x54cda5=await this[_0x1d2aea(0x159)][_0x1d2aea(0x150)](_0x15cdb5[_0x1d2aea(0x136)]);_0x31ef21[_0x1d2aea(0x155)](0xc8)['json']({'success':!![],'message':_0x1d2aea(0x144)});}catch(_0x2a30d2){console[_0x1d2aea(0x13f)](_0x1d2aea(0x11d),_0x2a30d2),loggerService_1[_0x1d2aea(0x14b)][_0x1d2aea(0x14d)](_0x1d2aea(0x153),_0x2a30d2,_0x15cdb5[_0x1d2aea(0x136)]),_0x31ef21['status'](0xc8)[_0x1d2aea(0x12c)]({'success':![],'message':_0x2a30d2 instanceof Error?_0x2a30d2[_0x1d2aea(0x122)]:_0x1d2aea(0x143)});}},this[_0x236d52(0x159)]=new webhookService_1[(_0x236d52(0x15b))]();}}exports[a15_0x8f2728(0x156)]=WebhookController;