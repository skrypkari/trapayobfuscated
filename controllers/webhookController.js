'use strict';const a15_0x181a50=a15_0x467d;function a15_0x11d3(){const _0x4e51b5=['20UGdkOB','705919RpwzuK','5hZoUMu','Raw\x20body\x20type:','message','processPlisioWebhook','KLYME\x20webhook\x20processing\x20failed','logWebhookError','plisio_gateway','Content-Type','Gateway\x20webhook\x20processing\x20failed','1549900roJjrh','cointopay','__esModule','Noda\x20webhook\x20processed\x20successfully','get','Content-Type:','2317sbPvGf','Webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20error:','headers','processCoinToPayWebhook','loggerService','../services/loggerService','Body\x20content:','handleNodaWebhook','plisio','WebhookService','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','handlePlisioGatewayWebhook','processKlymeWebhook','log','CoinToPay\x20webhook\x20processing\x20failed','json','Webhook\x20processed\x20successfully','180yxWOAX','handlePlisioWebhook','processNodaWebhook','WebhookController','376923MSLcrF','error','28617644VCiGWP','processPlisioGatewayWebhook','KLYME\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20error:','webhookService','keys','3528FonwON','2200902QkDUeM','Received\x20CoinToPay\x20webhook:','body','383530VWzDjj','logWebhookReceived','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','rapyd','processRapydWebhook','Body\x20keys:','Received\x20Rapyd\x20webhook:','Noda\x20webhook\x20processing\x20failed','status','klyme'];a15_0x11d3=function(){return _0x4e51b5;};return a15_0x11d3();}(function(_0x383ed8,_0x54b371){const _0x2b298b=a15_0x467d,_0x117ee7=_0x383ed8();while(!![]){try{const _0x5025ff=parseInt(_0x2b298b(0x14a))/0x1+parseInt(_0x2b298b(0x154))/0x2+-parseInt(_0x2b298b(0x133))/0x3*(-parseInt(_0x2b298b(0x149))/0x4)+-parseInt(_0x2b298b(0x14b))/0x5*(-parseInt(_0x2b298b(0x13c))/0x6)+parseInt(_0x2b298b(0x11d))/0x7*(-parseInt(_0x2b298b(0x13b))/0x8)+-parseInt(_0x2b298b(0x12f))/0x9*(-parseInt(_0x2b298b(0x13f))/0xa)+-parseInt(_0x2b298b(0x135))/0xb;if(_0x5025ff===_0x54b371)break;else _0x117ee7['push'](_0x117ee7['shift']());}catch(_0x517e22){_0x117ee7['push'](_0x117ee7['shift']());}}}(a15_0x11d3,0x78f10));Object['defineProperty'](exports,a15_0x181a50(0x156),{'value':!![]}),exports[a15_0x181a50(0x132)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x181a50(0x123));function a15_0x467d(_0x1a2df0,_0x3ea675){const _0x11d360=a15_0x11d3();return a15_0x467d=function(_0x467d40,_0x4fb491){_0x467d40=_0x467d40-0x11a;let _0x40f73f=_0x11d360[_0x467d40];return _0x40f73f;},a15_0x467d(_0x1a2df0,_0x3ea675);}class WebhookController{constructor(){const _0x24545=a15_0x181a50;this[_0x24545(0x130)]=async(_0x1e0b5b,_0x13db2a,_0x127eb2)=>{const _0xc9609d=_0x24545;try{console[_0xc9609d(0x12b)](_0xc9609d(0x141)),console['log'](_0xc9609d(0x11c),_0x1e0b5b[_0xc9609d(0x11b)]('Content-Type')),console[_0xc9609d(0x12b)](_0xc9609d(0x14c),typeof _0x1e0b5b[_0xc9609d(0x13e)]),console[_0xc9609d(0x12b)](_0xc9609d(0x144),Object[_0xc9609d(0x13a)](_0x1e0b5b[_0xc9609d(0x13e)]||{})),console[_0xc9609d(0x12b)](_0xc9609d(0x124),_0x1e0b5b[_0xc9609d(0x13e)]),loggerService_1['loggerService'][_0xc9609d(0x140)]('plisio',_0x1e0b5b['body'],_0x1e0b5b['headers']);const _0x224119=await this[_0xc9609d(0x139)][_0xc9609d(0x14e)](_0x1e0b5b[_0xc9609d(0x13e)]);_0x13db2a[_0xc9609d(0x147)](0xc8)[_0xc9609d(0x12d)]({'success':!![],'message':_0xc9609d(0x12e)});}catch(_0x48754b){console['error']('Webhook\x20processing\x20error:',_0x48754b),loggerService_1[_0xc9609d(0x122)][_0xc9609d(0x150)](_0xc9609d(0x126),_0x48754b,_0x1e0b5b[_0xc9609d(0x13e)]),_0x13db2a['status'](0xc8)[_0xc9609d(0x12d)]({'success':![],'message':_0x48754b instanceof Error?_0x48754b[_0xc9609d(0x14d)]:_0xc9609d(0x11e)});}},this[_0x24545(0x129)]=async(_0x18e376,_0x20d6e6,_0x91bbf8)=>{const _0x63e571=_0x24545;try{console[_0x63e571(0x12b)](_0x63e571(0x128)),console[_0x63e571(0x12b)]('Content-Type:',_0x18e376[_0x63e571(0x11b)](_0x63e571(0x152))),console[_0x63e571(0x12b)](_0x63e571(0x14c),typeof _0x18e376[_0x63e571(0x13e)]),console['log'](_0x63e571(0x144),Object[_0x63e571(0x13a)](_0x18e376[_0x63e571(0x13e)]||{})),console[_0x63e571(0x12b)](_0x63e571(0x124),_0x18e376['body']),loggerService_1[_0x63e571(0x122)][_0x63e571(0x140)]('plisio_gateway',_0x18e376[_0x63e571(0x13e)],_0x18e376[_0x63e571(0x120)]);const _0x58704f=await this[_0x63e571(0x139)][_0x63e571(0x136)](_0x18e376[_0x63e571(0x13e)]);_0x20d6e6['status'](0xc8)[_0x63e571(0x12d)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x2fc425){console[_0x63e571(0x134)](_0x63e571(0x138),_0x2fc425),loggerService_1[_0x63e571(0x122)][_0x63e571(0x150)](_0x63e571(0x151),_0x2fc425,_0x18e376['body']),_0x20d6e6[_0x63e571(0x147)](0xc8)[_0x63e571(0x12d)]({'success':![],'message':_0x2fc425 instanceof Error?_0x2fc425[_0x63e571(0x14d)]:_0x63e571(0x153)});}},this['handleRapydWebhook']=async(_0x72d8a1,_0x4e34c3,_0x5e01b5)=>{const _0x1070d0=_0x24545;try{console[_0x1070d0(0x12b)](_0x1070d0(0x145),_0x72d8a1['body']),loggerService_1['loggerService'][_0x1070d0(0x140)](_0x1070d0(0x142),_0x72d8a1[_0x1070d0(0x13e)],_0x72d8a1['headers']);const _0x22cd0d=await this[_0x1070d0(0x139)][_0x1070d0(0x143)](_0x72d8a1[_0x1070d0(0x13e)]);_0x4e34c3['status'](0xc8)[_0x1070d0(0x12d)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0xc03c35){console[_0x1070d0(0x134)](_0x1070d0(0x11f),_0xc03c35),loggerService_1['loggerService'][_0x1070d0(0x150)](_0x1070d0(0x142),_0xc03c35,_0x72d8a1[_0x1070d0(0x13e)]),_0x4e34c3[_0x1070d0(0x147)](0xc8)[_0x1070d0(0x12d)]({'success':![],'message':_0xc03c35 instanceof Error?_0xc03c35['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x24545(0x125)]=async(_0xa01012,_0x4d41e7,_0x2fb861)=>{const _0x30e1f9=_0x24545;try{console[_0x30e1f9(0x12b)]('Received\x20Noda\x20webhook:',_0xa01012[_0x30e1f9(0x13e)]),loggerService_1[_0x30e1f9(0x122)]['logWebhookReceived']('noda',_0xa01012[_0x30e1f9(0x13e)],_0xa01012[_0x30e1f9(0x120)]);const _0x23806d=await this[_0x30e1f9(0x139)][_0x30e1f9(0x131)](_0xa01012['body']);_0x4d41e7[_0x30e1f9(0x147)](0xc8)['json']({'success':!![],'message':_0x30e1f9(0x11a)});}catch(_0x5f21a3){console[_0x30e1f9(0x134)]('Noda\x20webhook\x20processing\x20error:',_0x5f21a3),loggerService_1['loggerService'][_0x30e1f9(0x150)]('noda',_0x5f21a3,_0xa01012['body']),_0x4d41e7['status'](0xc8)[_0x30e1f9(0x12d)]({'success':![],'message':_0x5f21a3 instanceof Error?_0x5f21a3['message']:_0x30e1f9(0x146)});}},this['handleCoinToPayWebhook']=async(_0x2d8f9a,_0x2c5999,_0x33c1c0)=>{const _0x20188b=_0x24545;try{console['log'](_0x20188b(0x13d),_0x2d8f9a[_0x20188b(0x13e)]),loggerService_1[_0x20188b(0x122)][_0x20188b(0x140)](_0x20188b(0x155),_0x2d8f9a[_0x20188b(0x13e)],_0x2d8f9a[_0x20188b(0x120)]);const _0x560239=await this['webhookService'][_0x20188b(0x121)](_0x2d8f9a[_0x20188b(0x13e)]);_0x2c5999[_0x20188b(0x147)](0xc8)[_0x20188b(0x12d)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x3124df){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0x3124df),loggerService_1['loggerService']['logWebhookError'](_0x20188b(0x155),_0x3124df,_0x2d8f9a[_0x20188b(0x13e)]),_0x2c5999[_0x20188b(0x147)](0xc8)[_0x20188b(0x12d)]({'success':![],'message':_0x3124df instanceof Error?_0x3124df['message']:_0x20188b(0x12c)});}},this['handleKlymeWebhook']=async(_0x3e392b,_0x328208,_0x557dd8)=>{const _0x47fd14=_0x24545;try{console[_0x47fd14(0x12b)]('Received\x20KLYME\x20webhook:',_0x3e392b[_0x47fd14(0x13e)]),loggerService_1[_0x47fd14(0x122)][_0x47fd14(0x140)](_0x47fd14(0x148),_0x3e392b[_0x47fd14(0x13e)],_0x3e392b[_0x47fd14(0x120)]);const _0x19cbfa=await this[_0x47fd14(0x139)][_0x47fd14(0x12a)](_0x3e392b[_0x47fd14(0x13e)]);_0x328208[_0x47fd14(0x147)](0xc8)[_0x47fd14(0x12d)]({'success':!![],'message':_0x47fd14(0x137)});}catch(_0x1769ed){console['error']('KLYME\x20webhook\x20processing\x20error:',_0x1769ed),loggerService_1[_0x47fd14(0x122)][_0x47fd14(0x150)](_0x47fd14(0x148),_0x1769ed,_0x3e392b[_0x47fd14(0x13e)]),_0x328208['status'](0xc8)[_0x47fd14(0x12d)]({'success':![],'message':_0x1769ed instanceof Error?_0x1769ed['message']:_0x47fd14(0x14f)});}},this['webhookService']=new webhookService_1[(_0x24545(0x127))]();}}exports[a15_0x181a50(0x132)]=WebhookController;