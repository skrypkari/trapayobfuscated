'use strict';const a15_0x44f37c=a15_0x2a00;(function(_0x3f6f16,_0x168751){const _0x5768ef=a15_0x2a00,_0x28a4c7=_0x3f6f16();while(!![]){try{const _0x3b4abf=-parseInt(_0x5768ef(0x19f))/0x1+parseInt(_0x5768ef(0x190))/0x2*(-parseInt(_0x5768ef(0x1a8))/0x3)+-parseInt(_0x5768ef(0x1ab))/0x4+parseInt(_0x5768ef(0x16d))/0x5+parseInt(_0x5768ef(0x181))/0x6*(-parseInt(_0x5768ef(0x1a7))/0x7)+parseInt(_0x5768ef(0x195))/0x8+-parseInt(_0x5768ef(0x19c))/0x9*(-parseInt(_0x5768ef(0x1a4))/0xa);if(_0x3b4abf===_0x168751)break;else _0x28a4c7['push'](_0x28a4c7['shift']());}catch(_0x22debd){_0x28a4c7['push'](_0x28a4c7['shift']());}}}(a15_0x2912,0xa9f73));function a15_0x2a00(_0x5e8fb3,_0x558514){const _0x29122e=a15_0x2912();return a15_0x2a00=function(_0x2a001f,_0x2db6f4){_0x2a001f=_0x2a001f-0x16b;let _0x124b5b=_0x29122e[_0x2a001f];return _0x124b5b;},a15_0x2a00(_0x5e8fb3,_0x558514);}function a15_0x2912(){const _0x4d2064=['Gateway\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processed\x20successfully','handleAmerWebhook','message','processNodaWebhook','MasterCard\x20webhook\x20processing\x20error:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','MasterCard\x20webhook\x20processing\x20failed','handlePlisioGatewayWebhook','KLYME\x20webhook\x20processing\x20error:','get','Noda\x20webhook\x20processed\x20successfully','handleCoinToPay2Webhook','processRapydWebhook','noda','Raw\x20body\x20type:','MasterCard\x20webhook\x20processed\x20successfully','loggerService','2863755aSlpyB','Amer\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','rapyd','Received\x20Amer\x20webhook:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','amer','handleKlymeWebhook','processPlisioWebhook','klyme','defineProperty','log','Amer\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','plisio','cointopay2','handleCoinToPayWebhook','cointopay','Rapyd\x20webhook\x20processing\x20failed','error','1320jyZUYW','status','headers','CoinToPay2\x20webhook\x20processing\x20error:','Received\x20KLYME\x20webhook:','Rapyd\x20webhook\x20processed\x20successfully','logWebhookReceived','Received\x20MasterCard\x20webhook:','processKlymeWebhook','Noda\x20webhook\x20processing\x20failed','WebhookController','Content-Type:','../services/loggerService','Received\x20Noda\x20webhook:','handleNodaWebhook','1384586VZAFlh','logWebhookError','Body\x20keys:','Body\x20content:','json','4735016PaFIRb','plisio_gateway','Gateway\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20error:','handleMasterCardWebhook','keys','Amer\x20webhook\x20processed\x20successfully','45afyTGE','Received\x20CoinToPay\x20webhook:','mastercard','937149QDDHrp','Received\x20CoinToPay2\x20webhook:','CoinToPay2\x20webhook\x20processed\x20successfully','handlePlisioWebhook','processAmerWebhook','7003830nULcpU','KLYME\x20webhook\x20processing\x20failed','webhookService','38122KXmgSR','6CPIMge','body','CoinToPay2\x20webhook\x20processing\x20failed','1802036rUeBqh'];a15_0x2912=function(){return _0x4d2064;};return a15_0x2912();}Object[a15_0x44f37c(0x177)](exports,'__esModule',{'value':!![]}),exports[a15_0x44f37c(0x18b)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x44f37c(0x18d));class WebhookController{constructor(){const _0x49e3d5=a15_0x44f37c;this[_0x49e3d5(0x1a2)]=async(_0x3e8026,_0x234cd1,_0x6cbcac)=>{const _0x434ca1=_0x49e3d5;try{console[_0x434ca1(0x178)](_0x434ca1(0x172)),console[_0x434ca1(0x178)](_0x434ca1(0x18c),_0x3e8026[_0x434ca1(0x1b6)]('Content-Type')),console[_0x434ca1(0x178)](_0x434ca1(0x1bb),typeof _0x3e8026[_0x434ca1(0x1a9)]),console['log'](_0x434ca1(0x192),Object[_0x434ca1(0x19a)](_0x3e8026[_0x434ca1(0x1a9)]||{})),console['log']('Body\x20content:',_0x3e8026[_0x434ca1(0x1a9)]),loggerService_1['loggerService'][_0x434ca1(0x187)](_0x434ca1(0x17b),_0x3e8026['body'],_0x3e8026[_0x434ca1(0x183)]);const _0x174b5d=await this[_0x434ca1(0x1a6)][_0x434ca1(0x175)](_0x3e8026[_0x434ca1(0x1a9)]);_0x234cd1[_0x434ca1(0x182)](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x47e7e9){console[_0x434ca1(0x180)](_0x434ca1(0x17a),_0x47e7e9),loggerService_1[_0x434ca1(0x16c)][_0x434ca1(0x191)](_0x434ca1(0x17b),_0x47e7e9,_0x3e8026['body']),_0x234cd1[_0x434ca1(0x182)](0xc8)[_0x434ca1(0x194)]({'success':![],'message':_0x47e7e9 instanceof Error?_0x47e7e9[_0x434ca1(0x1af)]:_0x434ca1(0x16f)});}},this[_0x49e3d5(0x1b4)]=async(_0x3a2141,_0x72e370,_0x3edaa1)=>{const _0xe927be=_0x49e3d5;try{console[_0xe927be(0x178)](_0xe927be(0x1b2)),console[_0xe927be(0x178)](_0xe927be(0x18c),_0x3a2141['get']('Content-Type')),console['log'](_0xe927be(0x1bb),typeof _0x3a2141[_0xe927be(0x1a9)]),console[_0xe927be(0x178)](_0xe927be(0x192),Object[_0xe927be(0x19a)](_0x3a2141[_0xe927be(0x1a9)]||{})),console[_0xe927be(0x178)](_0xe927be(0x193),_0x3a2141['body']),loggerService_1['loggerService'][_0xe927be(0x187)](_0xe927be(0x196),_0x3a2141[_0xe927be(0x1a9)],_0x3a2141[_0xe927be(0x183)]);const _0x4178de=await this[_0xe927be(0x1a6)]['processPlisioGatewayWebhook'](_0x3a2141[_0xe927be(0x1a9)]);_0x72e370['status'](0xc8)[_0xe927be(0x194)]({'success':!![],'message':_0xe927be(0x1ad)});}catch(_0x2638b2){console[_0xe927be(0x180)](_0xe927be(0x1ac),_0x2638b2),loggerService_1[_0xe927be(0x16c)][_0xe927be(0x191)]('plisio_gateway',_0x2638b2,_0x3a2141[_0xe927be(0x1a9)]),_0x72e370[_0xe927be(0x182)](0xc8)['json']({'success':![],'message':_0x2638b2 instanceof Error?_0x2638b2[_0xe927be(0x1af)]:_0xe927be(0x197)});}},this['handleRapydWebhook']=async(_0x3864c1,_0x1ce301,_0x3d0e65)=>{const _0x12ddab=_0x49e3d5;try{console[_0x12ddab(0x178)]('Received\x20Rapyd\x20webhook:',_0x3864c1[_0x12ddab(0x1a9)]),loggerService_1[_0x12ddab(0x16c)]['logWebhookReceived'](_0x12ddab(0x170),_0x3864c1[_0x12ddab(0x1a9)],_0x3864c1['headers']);const _0x151c16=await this[_0x12ddab(0x1a6)][_0x12ddab(0x1b9)](_0x3864c1[_0x12ddab(0x1a9)]);_0x1ce301[_0x12ddab(0x182)](0xc8)[_0x12ddab(0x194)]({'success':!![],'message':_0x12ddab(0x186)});}catch(_0x53a74e){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x53a74e),loggerService_1[_0x12ddab(0x16c)]['logWebhookError'](_0x12ddab(0x170),_0x53a74e,_0x3864c1[_0x12ddab(0x1a9)]),_0x1ce301[_0x12ddab(0x182)](0xc8)['json']({'success':![],'message':_0x53a74e instanceof Error?_0x53a74e[_0x12ddab(0x1af)]:_0x12ddab(0x17f)});}},this[_0x49e3d5(0x18f)]=async(_0x15e238,_0x1403ca,_0x19c690)=>{const _0x29ab15=_0x49e3d5;try{console['log'](_0x29ab15(0x18e),_0x15e238[_0x29ab15(0x1a9)]),loggerService_1[_0x29ab15(0x16c)][_0x29ab15(0x187)](_0x29ab15(0x1ba),_0x15e238[_0x29ab15(0x1a9)],_0x15e238[_0x29ab15(0x183)]);const _0x41d2c0=await this[_0x29ab15(0x1a6)][_0x29ab15(0x1b0)](_0x15e238[_0x29ab15(0x1a9)]);_0x1403ca['status'](0xc8)['json']({'success':!![],'message':_0x29ab15(0x1b7)});}catch(_0x167265){console[_0x29ab15(0x180)]('Noda\x20webhook\x20processing\x20error:',_0x167265),loggerService_1['loggerService'][_0x29ab15(0x191)](_0x29ab15(0x1ba),_0x167265,_0x15e238[_0x29ab15(0x1a9)]),_0x1403ca['status'](0xc8)['json']({'success':![],'message':_0x167265 instanceof Error?_0x167265[_0x29ab15(0x1af)]:_0x29ab15(0x18a)});}},this[_0x49e3d5(0x17d)]=async(_0x4066a9,_0x12ada7,_0x1887ac)=>{const _0x4c1842=_0x49e3d5;try{console[_0x4c1842(0x178)](_0x4c1842(0x19d),_0x4066a9[_0x4c1842(0x1a9)]),loggerService_1[_0x4c1842(0x16c)][_0x4c1842(0x187)](_0x4c1842(0x17e),_0x4066a9[_0x4c1842(0x1a9)],_0x4066a9[_0x4c1842(0x183)]);const _0x5cb1af=await this[_0x4c1842(0x1a6)]['processCoinToPayWebhook'](_0x4066a9['body']);_0x12ada7['status'](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x24ff69){console[_0x4c1842(0x180)](_0x4c1842(0x198),_0x24ff69),loggerService_1[_0x4c1842(0x16c)][_0x4c1842(0x191)](_0x4c1842(0x17e),_0x24ff69,_0x4066a9['body']),_0x12ada7[_0x4c1842(0x182)](0xc8)[_0x4c1842(0x194)]({'success':![],'message':_0x24ff69 instanceof Error?_0x24ff69[_0x4c1842(0x1af)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x49e3d5(0x1b8)]=async(_0x2416cb,_0x2a10c6,_0x527788)=>{const _0x325467=_0x49e3d5;try{console[_0x325467(0x178)](_0x325467(0x1a0),_0x2416cb[_0x325467(0x1a9)]),loggerService_1[_0x325467(0x16c)][_0x325467(0x187)](_0x325467(0x17c),_0x2416cb[_0x325467(0x1a9)],_0x2416cb[_0x325467(0x183)]);const _0x233180=await this[_0x325467(0x1a6)]['processCoinToPay2Webhook'](_0x2416cb[_0x325467(0x1a9)]);_0x2a10c6['status'](0xc8)[_0x325467(0x194)]({'success':!![],'message':_0x325467(0x1a1)});}catch(_0x4aa547){console[_0x325467(0x180)](_0x325467(0x184),_0x4aa547),loggerService_1[_0x325467(0x16c)]['logWebhookError'](_0x325467(0x17c),_0x4aa547,_0x2416cb[_0x325467(0x1a9)]),_0x2a10c6['status'](0xc8)['json']({'success':![],'message':_0x4aa547 instanceof Error?_0x4aa547[_0x325467(0x1af)]:_0x325467(0x1aa)});}},this[_0x49e3d5(0x174)]=async(_0x5e99e9,_0x313613,_0x36c2e4)=>{const _0x5e3e97=_0x49e3d5;try{console[_0x5e3e97(0x178)](_0x5e3e97(0x185),_0x5e99e9[_0x5e3e97(0x1a9)]),loggerService_1['loggerService'][_0x5e3e97(0x187)](_0x5e3e97(0x176),_0x5e99e9[_0x5e3e97(0x1a9)],_0x5e99e9['headers']);const _0x131ef5=await this[_0x5e3e97(0x1a6)][_0x5e3e97(0x189)](_0x5e99e9[_0x5e3e97(0x1a9)]);_0x313613[_0x5e3e97(0x182)](0xc8)[_0x5e3e97(0x194)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4b278c){console[_0x5e3e97(0x180)](_0x5e3e97(0x1b5),_0x4b278c),loggerService_1[_0x5e3e97(0x16c)][_0x5e3e97(0x191)](_0x5e3e97(0x176),_0x4b278c,_0x5e99e9[_0x5e3e97(0x1a9)]),_0x313613[_0x5e3e97(0x182)](0xc8)['json']({'success':![],'message':_0x4b278c instanceof Error?_0x4b278c[_0x5e3e97(0x1af)]:_0x5e3e97(0x1a5)});}},this[_0x49e3d5(0x199)]=async(_0x593f63,_0x5f0905,_0x258ae9)=>{const _0x1450a9=_0x49e3d5;try{console[_0x1450a9(0x178)](_0x1450a9(0x188),_0x593f63[_0x1450a9(0x1a9)]),loggerService_1[_0x1450a9(0x16c)][_0x1450a9(0x187)]('mastercard',_0x593f63[_0x1450a9(0x1a9)],_0x593f63[_0x1450a9(0x183)]);const _0x33e16b=await this[_0x1450a9(0x1a6)]['processMasterCardWebhook'](_0x593f63[_0x1450a9(0x1a9)]);_0x5f0905[_0x1450a9(0x182)](0xc8)[_0x1450a9(0x194)]({'success':!![],'message':_0x1450a9(0x16b)});}catch(_0x2a9ce9){console[_0x1450a9(0x180)](_0x1450a9(0x1b1),_0x2a9ce9),loggerService_1[_0x1450a9(0x16c)]['logWebhookError'](_0x1450a9(0x19e),_0x2a9ce9,_0x593f63[_0x1450a9(0x1a9)]),_0x5f0905[_0x1450a9(0x182)](0xc8)[_0x1450a9(0x194)]({'success':![],'message':_0x2a9ce9 instanceof Error?_0x2a9ce9[_0x1450a9(0x1af)]:_0x1450a9(0x1b3)});}},this[_0x49e3d5(0x1ae)]=async(_0x196250,_0xc82d31,_0x4c608b)=>{const _0x256187=_0x49e3d5;try{console[_0x256187(0x178)](_0x256187(0x171),_0x196250[_0x256187(0x1a9)]),loggerService_1[_0x256187(0x16c)][_0x256187(0x187)]('amer',_0x196250[_0x256187(0x1a9)],_0x196250['headers']);const _0x373597=await this[_0x256187(0x1a6)][_0x256187(0x1a3)](_0x196250[_0x256187(0x1a9)]);_0xc82d31[_0x256187(0x182)](0xc8)['json']({'success':!![],'message':_0x256187(0x19b)});}catch(_0x524889){console[_0x256187(0x180)](_0x256187(0x179),_0x524889),loggerService_1[_0x256187(0x16c)][_0x256187(0x191)](_0x256187(0x173),_0x524889,_0x196250[_0x256187(0x1a9)]),_0xc82d31[_0x256187(0x182)](0xc8)[_0x256187(0x194)]({'success':![],'message':_0x524889 instanceof Error?_0x524889[_0x256187(0x1af)]:_0x256187(0x16e)});}},this[_0x49e3d5(0x1a6)]=new webhookService_1['WebhookService']();}}exports['WebhookController']=WebhookController;