'use strict';function a14_0x5c36(){const _0x20c2ee=['22216xtKxjA','70rFEmMb','KLYME\x20webhook\x20processed\x20successfully','log','logWebhookReceived','error','7477nnxMsa','WebhookService','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','cointopay','headers','502536KfCldI','noda','keys','8847370zpwXCm','plisio','handlePlisioWebhook','status','Content-Type:','processPlisioGatewayWebhook','plisio_gateway','Received\x20CoinToPay\x20webhook:','Noda\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','Webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','Rapyd\x20webhook\x20processed\x20successfully','21mdSMFE','defineProperty','message','processRapydWebhook','Received\x20Noda\x20webhook:','Rapyd\x20webhook\x20processing\x20error:','loggerService','handleKlymeWebhook','processCoinToPayWebhook','json','Noda\x20webhook\x20processing\x20error:','Raw\x20body\x20type:','processNodaWebhook','get','2092608fPIUaS','Noda\x20webhook\x20processed\x20successfully','webhookService','Gateway\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20error:','body','logWebhookError','Body\x20content:','3059896IrbmjR','10370475unAgME','handleNodaWebhook','KLYME\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20failed','Body\x20keys:','handlePlisioGatewayWebhook','__esModule','WebhookController','CoinToPay\x20webhook\x20processing\x20failed','Content-Type','rapyd','308jEUwYM','processPlisioWebhook'];a14_0x5c36=function(){return _0x20c2ee;};return a14_0x5c36();}const a14_0x53754a=a14_0x4f3a;(function(_0x4d4567,_0x36acb7){const _0x24b4e5=a14_0x4f3a,_0x6ebb5c=_0x4d4567();while(!![]){try{const _0x5ca7cb=parseInt(_0x24b4e5(0x12c))/0x1*(parseInt(_0x24b4e5(0x124))/0x2)+-parseInt(_0x24b4e5(0x110))/0x3+-parseInt(_0x24b4e5(0x118))/0x4+-parseInt(_0x24b4e5(0x127))/0x5*(-parseInt(_0x24b4e5(0xf1))/0x6)+parseInt(_0x24b4e5(0x102))/0x7*(parseInt(_0x24b4e5(0x126))/0x8)+-parseInt(_0x24b4e5(0x119))/0x9+parseInt(_0x24b4e5(0xf4))/0xa;if(_0x5ca7cb===_0x36acb7)break;else _0x6ebb5c['push'](_0x6ebb5c['shift']());}catch(_0x513627){_0x6ebb5c['push'](_0x6ebb5c['shift']());}}}(a14_0x5c36,0x930d5));Object[a14_0x53754a(0x103)](exports,a14_0x53754a(0x11f),{'value':!![]}),exports[a14_0x53754a(0x120)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x573d25=a14_0x53754a;this[_0x573d25(0xf6)]=async(_0x3eae70,_0x394370,_0x438b77)=>{const _0x3b4fb9=_0x573d25;try{console[_0x3b4fb9(0x129)](_0x3b4fb9(0x12e)),console[_0x3b4fb9(0x129)](_0x3b4fb9(0xf8),_0x3eae70[_0x3b4fb9(0x10f)](_0x3b4fb9(0x122))),console[_0x3b4fb9(0x129)](_0x3b4fb9(0x10d),typeof _0x3eae70[_0x3b4fb9(0x115)]),console['log'](_0x3b4fb9(0x11d),Object[_0x3b4fb9(0xf3)](_0x3eae70[_0x3b4fb9(0x115)]||{})),console[_0x3b4fb9(0x129)](_0x3b4fb9(0x117),_0x3eae70[_0x3b4fb9(0x115)]),loggerService_1[_0x3b4fb9(0x108)]['logWebhookReceived'](_0x3b4fb9(0xf5),_0x3eae70['body'],_0x3eae70[_0x3b4fb9(0x130)]);const _0x38cc60=await this['webhookService'][_0x3b4fb9(0x125)](_0x3eae70[_0x3b4fb9(0x115)]);_0x394370['status'](0xc8)[_0x3b4fb9(0x10b)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x35b296){console[_0x3b4fb9(0x12b)]('Webhook\x20processing\x20error:',_0x35b296),loggerService_1['loggerService'][_0x3b4fb9(0x116)]('plisio',_0x35b296,_0x3eae70[_0x3b4fb9(0x115)]),_0x394370['status'](0xc8)[_0x3b4fb9(0x10b)]({'success':![],'message':_0x35b296 instanceof Error?_0x35b296[_0x3b4fb9(0x104)]:_0x3b4fb9(0xff)});}},this[_0x573d25(0x11e)]=async(_0x35296e,_0x7dd5cd,_0x3dfd2d)=>{const _0x4059e6=_0x573d25;try{console[_0x4059e6(0x129)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x4059e6(0x129)](_0x4059e6(0xf8),_0x35296e[_0x4059e6(0x10f)]('Content-Type')),console[_0x4059e6(0x129)](_0x4059e6(0x10d),typeof _0x35296e['body']),console[_0x4059e6(0x129)](_0x4059e6(0x11d),Object[_0x4059e6(0xf3)](_0x35296e[_0x4059e6(0x115)]||{})),console[_0x4059e6(0x129)]('Body\x20content:',_0x35296e[_0x4059e6(0x115)]),loggerService_1['loggerService'][_0x4059e6(0x12a)](_0x4059e6(0xfa),_0x35296e['body'],_0x35296e['headers']);const _0x1e0bc1=await this[_0x4059e6(0x112)][_0x4059e6(0xf9)](_0x35296e[_0x4059e6(0x115)]);_0x7dd5cd[_0x4059e6(0xf7)](0xc8)[_0x4059e6(0x10b)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x8f081d){console['error'](_0x4059e6(0x113),_0x8f081d),loggerService_1[_0x4059e6(0x108)][_0x4059e6(0x116)](_0x4059e6(0xfa),_0x8f081d,_0x35296e[_0x4059e6(0x115)]),_0x7dd5cd[_0x4059e6(0xf7)](0xc8)[_0x4059e6(0x10b)]({'success':![],'message':_0x8f081d instanceof Error?_0x8f081d[_0x4059e6(0x104)]:_0x4059e6(0x11c)});}},this['handleRapydWebhook']=async(_0x3d96f6,_0x270dd9,_0x2a9170)=>{const _0x290e93=_0x573d25;try{console[_0x290e93(0x129)]('Received\x20Rapyd\x20webhook:',_0x3d96f6[_0x290e93(0x115)]),loggerService_1[_0x290e93(0x108)][_0x290e93(0x12a)](_0x290e93(0x123),_0x3d96f6[_0x290e93(0x115)],_0x3d96f6[_0x290e93(0x130)]);const _0x4dd92d=await this[_0x290e93(0x112)][_0x290e93(0x105)](_0x3d96f6['body']);_0x270dd9[_0x290e93(0xf7)](0xc8)['json']({'success':!![],'message':_0x290e93(0x101)});}catch(_0x1f2d5a){console[_0x290e93(0x12b)](_0x290e93(0x107),_0x1f2d5a),loggerService_1[_0x290e93(0x108)][_0x290e93(0x116)](_0x290e93(0x123),_0x1f2d5a,_0x3d96f6[_0x290e93(0x115)]),_0x270dd9[_0x290e93(0xf7)](0xc8)[_0x290e93(0x10b)]({'success':![],'message':_0x1f2d5a instanceof Error?_0x1f2d5a[_0x290e93(0x104)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x573d25(0x11a)]=async(_0x15a762,_0x176214,_0x588c0e)=>{const _0x217a7c=_0x573d25;try{console[_0x217a7c(0x129)](_0x217a7c(0x106),_0x15a762[_0x217a7c(0x115)]),loggerService_1[_0x217a7c(0x108)][_0x217a7c(0x12a)](_0x217a7c(0xf2),_0x15a762[_0x217a7c(0x115)],_0x15a762[_0x217a7c(0x130)]);const _0x2e6cfe=await this[_0x217a7c(0x112)][_0x217a7c(0x10e)](_0x15a762[_0x217a7c(0x115)]);_0x176214[_0x217a7c(0xf7)](0xc8)[_0x217a7c(0x10b)]({'success':!![],'message':_0x217a7c(0x111)});}catch(_0x588050){console['error'](_0x217a7c(0x10c),_0x588050),loggerService_1[_0x217a7c(0x108)][_0x217a7c(0x116)](_0x217a7c(0xf2),_0x588050,_0x15a762[_0x217a7c(0x115)]),_0x176214[_0x217a7c(0xf7)](0xc8)['json']({'success':![],'message':_0x588050 instanceof Error?_0x588050[_0x217a7c(0x104)]:_0x217a7c(0xfc)});}},this['handleCoinToPayWebhook']=async(_0x2e8e70,_0x2e1fbe,_0x427fc9)=>{const _0x318766=_0x573d25;try{console[_0x318766(0x129)](_0x318766(0xfb),_0x2e8e70[_0x318766(0x115)]),loggerService_1[_0x318766(0x108)][_0x318766(0x12a)](_0x318766(0x12f),_0x2e8e70[_0x318766(0x115)],_0x2e8e70[_0x318766(0x130)]);const _0x15f33f=await this['webhookService'][_0x318766(0x10a)](_0x2e8e70[_0x318766(0x115)]);_0x2e1fbe['status'](0xc8)[_0x318766(0x10b)]({'success':!![],'message':_0x318766(0xfe)});}catch(_0x5de093){console['error'](_0x318766(0x114),_0x5de093),loggerService_1['loggerService']['logWebhookError'](_0x318766(0x12f),_0x5de093,_0x2e8e70[_0x318766(0x115)]),_0x2e1fbe[_0x318766(0xf7)](0xc8)['json']({'success':![],'message':_0x5de093 instanceof Error?_0x5de093[_0x318766(0x104)]:_0x318766(0x121)});}},this[_0x573d25(0x109)]=async(_0x1aa6f9,_0x3e4ac9,_0x2cbf27)=>{const _0x4aea0c=_0x573d25;try{console[_0x4aea0c(0x129)](_0x4aea0c(0x100),_0x1aa6f9['body']),loggerService_1[_0x4aea0c(0x108)][_0x4aea0c(0x12a)]('klyme',_0x1aa6f9[_0x4aea0c(0x115)],_0x1aa6f9['headers']);const _0x5a9290=await this[_0x4aea0c(0x112)]['processKlymeWebhook'](_0x1aa6f9[_0x4aea0c(0x115)]);_0x3e4ac9['status'](0xc8)[_0x4aea0c(0x10b)]({'success':!![],'message':_0x4aea0c(0x128)});}catch(_0x165522){console[_0x4aea0c(0x12b)](_0x4aea0c(0x11b),_0x165522),loggerService_1[_0x4aea0c(0x108)][_0x4aea0c(0x116)]('klyme',_0x165522,_0x1aa6f9['body']),_0x3e4ac9[_0x4aea0c(0xf7)](0xc8)['json']({'success':![],'message':_0x165522 instanceof Error?_0x165522[_0x4aea0c(0x104)]:_0x4aea0c(0xfd)});}},this[_0x573d25(0x112)]=new webhookService_1[(_0x573d25(0x12d))]();}}function a14_0x4f3a(_0x18010a,_0x409f42){const _0x5c3650=a14_0x5c36();return a14_0x4f3a=function(_0x4f3a2e,_0x2e4df6){_0x4f3a2e=_0x4f3a2e-0xf1;let _0x269c6a=_0x5c3650[_0x4f3a2e];return _0x269c6a;},a14_0x4f3a(_0x18010a,_0x409f42);}exports['WebhookController']=WebhookController;