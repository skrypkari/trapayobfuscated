'use strict';const a15_0x1b3988=a15_0x4320;(function(_0x31a75c,_0x5359af){const _0x46569c=a15_0x4320,_0x225b74=_0x31a75c();while(!![]){try{const _0x501ea6=-parseInt(_0x46569c(0x1e5))/0x1+parseInt(_0x46569c(0x1da))/0x2+-parseInt(_0x46569c(0x1ed))/0x3+-parseInt(_0x46569c(0x1ce))/0x4*(-parseInt(_0x46569c(0x1d6))/0x5)+-parseInt(_0x46569c(0x20b))/0x6*(parseInt(_0x46569c(0x1fb))/0x7)+-parseInt(_0x46569c(0x200))/0x8+parseInt(_0x46569c(0x1db))/0x9*(parseInt(_0x46569c(0x1cd))/0xa);if(_0x501ea6===_0x5359af)break;else _0x225b74['push'](_0x225b74['shift']());}catch(_0x32b494){_0x225b74['push'](_0x225b74['shift']());}}}(a15_0x5820,0xe0feb));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a15_0x1b3988(0x1d7)]=void 0x0;function a15_0x5820(){const _0x1bb348=['CoinToPay\x20webhook\x20processed\x20successfully','get','Noda\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20failed','CoinToPay2\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processing\x20error:','Received\x20MasterCard\x20webhook:','Raw\x20body\x20type:','processNodaWebhook','800545NJUGfg','processKlymeWebhook','handlePlisioWebhook','Rapyd\x20webhook\x20processed\x20successfully','WebhookService','MasterCard\x20webhook\x20processing\x20error:','handleMasterCardWebhook','plisio_gateway','2138673SbGgcA','klyme','plisio','body','rapyd','Body\x20keys:','logWebhookError','Content-Type','KLYME\x20webhook\x20processed\x20successfully','noda','message','MasterCard\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processed\x20successfully','329yZquyv','cointopay','Webhook\x20processed\x20successfully','KLYME\x20webhook\x20processing\x20failed','Received\x20Rapyd\x20webhook:','10630760zGdyLb','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','../services/webhookService','Gateway\x20webhook\x20processing\x20failed','processPlisioWebhook','processMasterCardWebhook','processPlisioGatewayWebhook','mastercard','handleRapydWebhook','json','processCoinToPay2Webhook','60162NEtXyp','loggerService','Content-Type:','log','cointopay2','logWebhookReceived','handleNodaWebhook','19274620tWPqlC','2498232crwoJL','keys','error','Body\x20content:','headers','KLYME\x20webhook\x20processing\x20error:','webhookService','Received\x20CoinToPay2\x20webhook:','10DXNdko','WebhookController','../services/loggerService','status','2117102YAgbrG','9kCthti'];a15_0x5820=function(){return _0x1bb348;};return a15_0x5820();}const webhookService_1=require(a15_0x1b3988(0x202)),loggerService_1=require(a15_0x1b3988(0x1d8));class WebhookController{constructor(){const _0x345e13=a15_0x1b3988;this[_0x345e13(0x1e7)]=async(_0x3a0b59,_0x131cc1,_0x273cfa)=>{const _0x444efd=_0x345e13;try{console[_0x444efd(0x1c9)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0x444efd(0x1c8),_0x3a0b59[_0x444efd(0x1dd)](_0x444efd(0x1f4))),console[_0x444efd(0x1c9)](_0x444efd(0x1e3),typeof _0x3a0b59[_0x444efd(0x1f0)]),console['log'](_0x444efd(0x1f2),Object['keys'](_0x3a0b59[_0x444efd(0x1f0)]||{})),console[_0x444efd(0x1c9)](_0x444efd(0x1d1),_0x3a0b59[_0x444efd(0x1f0)]),loggerService_1['loggerService'][_0x444efd(0x1cb)](_0x444efd(0x1ef),_0x3a0b59[_0x444efd(0x1f0)],_0x3a0b59['headers']);const _0x3c6b12=await this[_0x444efd(0x1d4)][_0x444efd(0x204)](_0x3a0b59['body']);_0x131cc1[_0x444efd(0x1d9)](0xc8)[_0x444efd(0x209)]({'success':!![],'message':_0x444efd(0x1fd)});}catch(_0x57153f){console[_0x444efd(0x1d0)]('Webhook\x20processing\x20error:',_0x57153f),loggerService_1['loggerService']['logWebhookError'](_0x444efd(0x1ef),_0x57153f,_0x3a0b59['body']),_0x131cc1[_0x444efd(0x1d9)](0xc8)[_0x444efd(0x209)]({'success':![],'message':_0x57153f instanceof Error?_0x57153f[_0x444efd(0x1f7)]:'Webhook\x20processing\x20failed'});}},this['handlePlisioGatewayWebhook']=async(_0x4855e2,_0x415e08,_0x5870a6)=>{const _0x1fdc14=_0x345e13;try{console[_0x1fdc14(0x1c9)](_0x1fdc14(0x201)),console[_0x1fdc14(0x1c9)](_0x1fdc14(0x1c8),_0x4855e2['get'](_0x1fdc14(0x1f4))),console[_0x1fdc14(0x1c9)](_0x1fdc14(0x1e3),typeof _0x4855e2[_0x1fdc14(0x1f0)]),console[_0x1fdc14(0x1c9)]('Body\x20keys:',Object[_0x1fdc14(0x1cf)](_0x4855e2[_0x1fdc14(0x1f0)]||{})),console[_0x1fdc14(0x1c9)](_0x1fdc14(0x1d1),_0x4855e2['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x1fdc14(0x1ec),_0x4855e2[_0x1fdc14(0x1f0)],_0x4855e2[_0x1fdc14(0x1d2)]);const _0x47b300=await this['webhookService'][_0x1fdc14(0x206)](_0x4855e2['body']);_0x415e08[_0x1fdc14(0x1d9)](0xc8)[_0x1fdc14(0x209)]({'success':!![],'message':_0x1fdc14(0x1fa)});}catch(_0x3f8e75){console['error']('Gateway\x20webhook\x20processing\x20error:',_0x3f8e75),loggerService_1['loggerService']['logWebhookError'](_0x1fdc14(0x1ec),_0x3f8e75,_0x4855e2[_0x1fdc14(0x1f0)]),_0x415e08[_0x1fdc14(0x1d9)](0xc8)[_0x1fdc14(0x209)]({'success':![],'message':_0x3f8e75 instanceof Error?_0x3f8e75[_0x1fdc14(0x1f7)]:_0x1fdc14(0x203)});}},this[_0x345e13(0x208)]=async(_0x1d4ef9,_0x5d8b8b,_0x14e6d0)=>{const _0x26f754=_0x345e13;try{console[_0x26f754(0x1c9)](_0x26f754(0x1ff),_0x1d4ef9[_0x26f754(0x1f0)]),loggerService_1[_0x26f754(0x1c7)][_0x26f754(0x1cb)](_0x26f754(0x1f1),_0x1d4ef9['body'],_0x1d4ef9[_0x26f754(0x1d2)]);const _0x2b75b5=await this[_0x26f754(0x1d4)]['processRapydWebhook'](_0x1d4ef9[_0x26f754(0x1f0)]);_0x5d8b8b['status'](0xc8)[_0x26f754(0x209)]({'success':!![],'message':_0x26f754(0x1e8)});}catch(_0x3ff472){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x3ff472),loggerService_1[_0x26f754(0x1c7)][_0x26f754(0x1f3)](_0x26f754(0x1f1),_0x3ff472,_0x1d4ef9[_0x26f754(0x1f0)]),_0x5d8b8b[_0x26f754(0x1d9)](0xc8)[_0x26f754(0x209)]({'success':![],'message':_0x3ff472 instanceof Error?_0x3ff472[_0x26f754(0x1f7)]:_0x26f754(0x1df)});}},this[_0x345e13(0x1cc)]=async(_0x245f08,_0x2097de,_0x547e30)=>{const _0xb430b5=_0x345e13;try{console[_0xb430b5(0x1c9)]('Received\x20Noda\x20webhook:',_0x245f08[_0xb430b5(0x1f0)]),loggerService_1[_0xb430b5(0x1c7)][_0xb430b5(0x1cb)](_0xb430b5(0x1f6),_0x245f08[_0xb430b5(0x1f0)],_0x245f08[_0xb430b5(0x1d2)]);const _0x1fff4e=await this[_0xb430b5(0x1d4)][_0xb430b5(0x1e4)](_0x245f08[_0xb430b5(0x1f0)]);_0x2097de['status'](0xc8)[_0xb430b5(0x209)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x24b423){console['error'](_0xb430b5(0x1e1),_0x24b423),loggerService_1[_0xb430b5(0x1c7)][_0xb430b5(0x1f3)]('noda',_0x24b423,_0x245f08[_0xb430b5(0x1f0)]),_0x2097de[_0xb430b5(0x1d9)](0xc8)[_0xb430b5(0x209)]({'success':![],'message':_0x24b423 instanceof Error?_0x24b423[_0xb430b5(0x1f7)]:_0xb430b5(0x1de)});}},this['handleCoinToPayWebhook']=async(_0x72b29f,_0x5d52e7,_0x562e6d)=>{const _0x2a13b5=_0x345e13;try{console[_0x2a13b5(0x1c9)]('Received\x20CoinToPay\x20webhook:',_0x72b29f[_0x2a13b5(0x1f0)]),loggerService_1['loggerService'][_0x2a13b5(0x1cb)](_0x2a13b5(0x1fc),_0x72b29f[_0x2a13b5(0x1f0)],_0x72b29f[_0x2a13b5(0x1d2)]);const _0x350687=await this[_0x2a13b5(0x1d4)]['processCoinToPayWebhook'](_0x72b29f[_0x2a13b5(0x1f0)]);_0x5d52e7[_0x2a13b5(0x1d9)](0xc8)[_0x2a13b5(0x209)]({'success':!![],'message':_0x2a13b5(0x1dc)});}catch(_0x268134){console[_0x2a13b5(0x1d0)]('CoinToPay\x20webhook\x20processing\x20error:',_0x268134),loggerService_1[_0x2a13b5(0x1c7)]['logWebhookError'](_0x2a13b5(0x1fc),_0x268134,_0x72b29f['body']),_0x5d52e7[_0x2a13b5(0x1d9)](0xc8)[_0x2a13b5(0x209)]({'success':![],'message':_0x268134 instanceof Error?_0x268134[_0x2a13b5(0x1f7)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this['handleCoinToPay2Webhook']=async(_0x14c955,_0x17d579,_0x53d705)=>{const _0xa2f68f=_0x345e13;try{console[_0xa2f68f(0x1c9)](_0xa2f68f(0x1d5),_0x14c955['body']),loggerService_1[_0xa2f68f(0x1c7)][_0xa2f68f(0x1cb)]('cointopay2',_0x14c955['body'],_0x14c955[_0xa2f68f(0x1d2)]);const _0xa851b2=await this[_0xa2f68f(0x1d4)][_0xa2f68f(0x20a)](_0x14c955[_0xa2f68f(0x1f0)]);_0x17d579['status'](0xc8)[_0xa2f68f(0x209)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x579ef5){console[_0xa2f68f(0x1d0)]('CoinToPay2\x20webhook\x20processing\x20error:',_0x579ef5),loggerService_1[_0xa2f68f(0x1c7)][_0xa2f68f(0x1f3)](_0xa2f68f(0x1ca),_0x579ef5,_0x14c955[_0xa2f68f(0x1f0)]),_0x17d579[_0xa2f68f(0x1d9)](0xc8)[_0xa2f68f(0x209)]({'success':![],'message':_0x579ef5 instanceof Error?_0x579ef5['message']:_0xa2f68f(0x1e0)});}},this['handleKlymeWebhook']=async(_0xb21e5e,_0x5e337b,_0x5a2931)=>{const _0x4e6397=_0x345e13;try{console[_0x4e6397(0x1c9)]('Received\x20KLYME\x20webhook:',_0xb21e5e[_0x4e6397(0x1f0)]),loggerService_1['loggerService'][_0x4e6397(0x1cb)]('klyme',_0xb21e5e[_0x4e6397(0x1f0)],_0xb21e5e[_0x4e6397(0x1d2)]);const _0x1768af=await this['webhookService'][_0x4e6397(0x1e6)](_0xb21e5e['body']);_0x5e337b[_0x4e6397(0x1d9)](0xc8)['json']({'success':!![],'message':_0x4e6397(0x1f5)});}catch(_0x4d9cac){console[_0x4e6397(0x1d0)](_0x4e6397(0x1d3),_0x4d9cac),loggerService_1['loggerService'][_0x4e6397(0x1f3)](_0x4e6397(0x1ee),_0x4d9cac,_0xb21e5e[_0x4e6397(0x1f0)]),_0x5e337b[_0x4e6397(0x1d9)](0xc8)[_0x4e6397(0x209)]({'success':![],'message':_0x4d9cac instanceof Error?_0x4d9cac['message']:_0x4e6397(0x1fe)});}},this[_0x345e13(0x1eb)]=async(_0x24a452,_0x4acec1,_0x22695c)=>{const _0x5272fb=_0x345e13;try{console[_0x5272fb(0x1c9)](_0x5272fb(0x1e2),_0x24a452['body']),loggerService_1[_0x5272fb(0x1c7)]['logWebhookReceived'](_0x5272fb(0x207),_0x24a452[_0x5272fb(0x1f0)],_0x24a452[_0x5272fb(0x1d2)]);const _0x1642a6=await this[_0x5272fb(0x1d4)][_0x5272fb(0x205)](_0x24a452[_0x5272fb(0x1f0)]);_0x4acec1[_0x5272fb(0x1d9)](0xc8)[_0x5272fb(0x209)]({'success':!![],'message':_0x5272fb(0x1f9)});}catch(_0x515493){console['error'](_0x5272fb(0x1ea),_0x515493),loggerService_1[_0x5272fb(0x1c7)]['logWebhookError'](_0x5272fb(0x207),_0x515493,_0x24a452[_0x5272fb(0x1f0)]),_0x4acec1[_0x5272fb(0x1d9)](0xc8)[_0x5272fb(0x209)]({'success':![],'message':_0x515493 instanceof Error?_0x515493[_0x5272fb(0x1f7)]:_0x5272fb(0x1f8)});}},this[_0x345e13(0x1d4)]=new webhookService_1[(_0x345e13(0x1e9))]();}}function a15_0x4320(_0x6db4b3,_0x3eeab7){const _0x58208f=a15_0x5820();return a15_0x4320=function(_0x43202a,_0x5a2df2){_0x43202a=_0x43202a-0x1c7;let _0x35be03=_0x58208f[_0x43202a];return _0x35be03;},a15_0x4320(_0x6db4b3,_0x3eeab7);}exports['WebhookController']=WebhookController;