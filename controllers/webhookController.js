'use strict';const a16_0x2f59bc=a16_0x3e87;(function(_0x141966,_0x2094ef){const _0x28b3a3=a16_0x3e87,_0x2a0aba=_0x141966();while(!![]){try{const _0x4e0419=-parseInt(_0x28b3a3(0x1b9))/0x1+parseInt(_0x28b3a3(0x1ae))/0x2+-parseInt(_0x28b3a3(0x166))/0x3+parseInt(_0x28b3a3(0x19e))/0x4+parseInt(_0x28b3a3(0x192))/0x5*(-parseInt(_0x28b3a3(0x185))/0x6)+parseInt(_0x28b3a3(0x175))/0x7+parseInt(_0x28b3a3(0x1c0))/0x8;if(_0x4e0419===_0x2094ef)break;else _0x2a0aba['push'](_0x2a0aba['shift']());}catch(_0x3f45a3){_0x2a0aba['push'](_0x2a0aba['shift']());}}}(a16_0x2c3b,0x484c1));function a16_0x3e87(_0x3b7337,_0x220f85){const _0x2c3bf4=a16_0x2c3b();return a16_0x3e87=function(_0x3e8796,_0x5b3e26){_0x3e8796=_0x3e8796-0x156;let _0x5a8961=_0x2c3bf4[_0x3e8796];return _0x5a8961;},a16_0x3e87(_0x3b7337,_0x220f85);}function a16_0x2c3b(){const _0x8b3984=['handlePlisioGatewayWebhook','visa','KLYME\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20failed','Query\x20params:','MyXSpend\x20webhook\x20processing\x20error:','handleNodaWebhook','Received\x20Amer\x20webhook:','handleAmerWebhook','316288cGdLKe','processMyXSpendWebhook','Received\x20VISA\x20webhook:','Noda\x20webhook\x20processing\x20failed','__esModule','keys','Gateway\x20webhook\x20processing\x20error:','Received\x20MasterCard\x20webhook:','===\x20MyXSpend\x20Webhook\x20Received\x20===','logWebhookReceived','Received\x20Noda\x20webhook:','69901zoeRTF','../services/webhookService','Headers:','Webhook\x20processing\x20error:','VISA\x20webhook\x20processing\x20failed','cointopay','CoinToPay\x20webhook\x20processing\x20failed','1482736FfFhVC','logWebhookError','Body\x20keys:','Rapyd\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','processAmerWebhook','CoinToPay\x20webhook\x20processed\x20successfully','myxspend','loggerService','handleCoinToPay2Webhook','processAmPayWebhook','json','get','VISA\x20webhook\x20processing\x20error:','Content-Type','status','Received\x20KLYME\x20webhook:','Body\x20content:','processNodaWebhook','1222584AdQdfn','method','AmPay\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','log','CoinToPay2\x20webhook\x20processing\x20error:','Received\x20CoinToPay2\x20webhook:','Gateway\x20webhook\x20processing\x20failed','handleMasterCardWebhook','handleVisaWebhook','ampay','rapyd','webhookService','Amer\x20webhook\x20processing\x20failed','MyXSpend\x20webhook\x20processed\x20successfully','3056305YtsTNt','Received\x20CoinToPay\x20webhook:','plisio_gateway','processVisaWebhook','processKlymeWebhook','processRapydWebhook','message','handleKlymeWebhook','handleMyXSpendWebhook','CoinToPay2\x20webhook\x20processed\x20successfully','WebhookController','VISA\x20webhook\x20processed\x20successfully','headers','Noda\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','defineProperty','2015934zhHFCE','query','klyme','noda','../services/loggerService','handlePlisioWebhook','Gateway\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processing\x20error:','AmPay\x20webhook\x20processed\x20successfully','mastercard','processCoinToPay2Webhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','cointopay2','5faJPSI','KLYME\x20webhook\x20processed\x20successfully','plisio','===\x20AmPay\x20Webhook\x20Received\x20===','processPlisioWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Received\x20Rapyd\x20webhook:','Amer\x20webhook\x20processing\x20error:','processMasterCardWebhook','Amer\x20webhook\x20processed\x20successfully','handleAmPayWebhook','Body:','1317784PyCNDg','MyXSpend\x20webhook\x20processing\x20failed','body','error','Raw\x20body\x20type:','Rapyd\x20webhook\x20processed\x20successfully','Content-Type:'];a16_0x2c3b=function(){return _0x8b3984;};return a16_0x2c3b();}Object[a16_0x2f59bc(0x184)](exports,a16_0x2f59bc(0x1b2),{'value':!![]}),exports[a16_0x2f59bc(0x17f)]=void 0x0;const webhookService_1=require(a16_0x2f59bc(0x1ba)),loggerService_1=require(a16_0x2f59bc(0x189));class WebhookController{constructor(){const _0x33aac5=a16_0x2f59bc;this[_0x33aac5(0x18a)]=async(_0x503ed2,_0x168b53,_0x586d3f)=>{const _0x21bf89=_0x33aac5;try{console[_0x21bf89(0x16a)](_0x21bf89(0x190)),console['log'](_0x21bf89(0x1a4),_0x503ed2[_0x21bf89(0x15f)](_0x21bf89(0x161))),console[_0x21bf89(0x16a)](_0x21bf89(0x1a2),typeof _0x503ed2[_0x21bf89(0x1a0)]),console[_0x21bf89(0x16a)]('Body\x20keys:',Object[_0x21bf89(0x1b3)](_0x503ed2[_0x21bf89(0x1a0)]||{})),console[_0x21bf89(0x16a)]('Body\x20content:',_0x503ed2[_0x21bf89(0x1a0)]),loggerService_1[_0x21bf89(0x15b)][_0x21bf89(0x1b7)](_0x21bf89(0x194),_0x503ed2[_0x21bf89(0x1a0)],_0x503ed2[_0x21bf89(0x181)]);const _0x48a641=await this['webhookService'][_0x21bf89(0x196)](_0x503ed2[_0x21bf89(0x1a0)]);_0x168b53[_0x21bf89(0x162)](0xc8)[_0x21bf89(0x15e)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x409dc2){console[_0x21bf89(0x1a1)](_0x21bf89(0x1bc),_0x409dc2),loggerService_1[_0x21bf89(0x15b)][_0x21bf89(0x1c1)](_0x21bf89(0x194),_0x409dc2,_0x503ed2[_0x21bf89(0x1a0)]),_0x168b53[_0x21bf89(0x162)](0xc8)[_0x21bf89(0x15e)]({'success':![],'message':_0x409dc2 instanceof Error?_0x409dc2[_0x21bf89(0x17b)]:'Webhook\x20processing\x20failed'});}},this[_0x33aac5(0x1a5)]=async(_0x18b8b3,_0x3fae81,_0x47dfe4)=>{const _0x4d4f6e=_0x33aac5;try{console[_0x4d4f6e(0x16a)](_0x4d4f6e(0x197)),console['log'](_0x4d4f6e(0x1a4),_0x18b8b3[_0x4d4f6e(0x15f)](_0x4d4f6e(0x161))),console[_0x4d4f6e(0x16a)]('Raw\x20body\x20type:',typeof _0x18b8b3[_0x4d4f6e(0x1a0)]),console[_0x4d4f6e(0x16a)]('Body\x20keys:',Object[_0x4d4f6e(0x1b3)](_0x18b8b3[_0x4d4f6e(0x1a0)]||{})),console[_0x4d4f6e(0x16a)](_0x4d4f6e(0x164),_0x18b8b3[_0x4d4f6e(0x1a0)]),loggerService_1[_0x4d4f6e(0x15b)][_0x4d4f6e(0x1b7)](_0x4d4f6e(0x177),_0x18b8b3[_0x4d4f6e(0x1a0)],_0x18b8b3[_0x4d4f6e(0x181)]);const _0x11f10e=await this[_0x4d4f6e(0x172)][_0x4d4f6e(0x169)](_0x18b8b3[_0x4d4f6e(0x1a0)]);_0x3fae81[_0x4d4f6e(0x162)](0xc8)[_0x4d4f6e(0x15e)]({'success':!![],'message':_0x4d4f6e(0x18b)});}catch(_0x2d16ad){console[_0x4d4f6e(0x1a1)](_0x4d4f6e(0x1b4),_0x2d16ad),loggerService_1[_0x4d4f6e(0x15b)]['logWebhookError'](_0x4d4f6e(0x177),_0x2d16ad,_0x18b8b3['body']),_0x3fae81[_0x4d4f6e(0x162)](0xc8)[_0x4d4f6e(0x15e)]({'success':![],'message':_0x2d16ad instanceof Error?_0x2d16ad[_0x4d4f6e(0x17b)]:_0x4d4f6e(0x16d)});}},this['handleRapydWebhook']=async(_0x533117,_0x33182d,_0x1f34ce)=>{const _0x55ad67=_0x33aac5;try{console[_0x55ad67(0x16a)](_0x55ad67(0x198),_0x533117['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x55ad67(0x171),_0x533117[_0x55ad67(0x1a0)],_0x533117[_0x55ad67(0x181)]);const _0x5298ce=await this[_0x55ad67(0x172)][_0x55ad67(0x17a)](_0x533117[_0x55ad67(0x1a0)]);_0x33182d[_0x55ad67(0x162)](0xc8)[_0x55ad67(0x15e)]({'success':!![],'message':_0x55ad67(0x1a3)});}catch(_0x3d8ffc){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x3d8ffc),loggerService_1[_0x55ad67(0x15b)][_0x55ad67(0x1c1)]('rapyd',_0x3d8ffc,_0x533117[_0x55ad67(0x1a0)]),_0x33182d[_0x55ad67(0x162)](0xc8)[_0x55ad67(0x15e)]({'success':![],'message':_0x3d8ffc instanceof Error?_0x3d8ffc['message']:_0x55ad67(0x156)});}},this[_0x33aac5(0x1ab)]=async(_0x2181fd,_0x3b0f04,_0x1af7ce)=>{const _0x9554b=_0x33aac5;try{console[_0x9554b(0x16a)](_0x9554b(0x1b8),_0x2181fd[_0x9554b(0x1a0)]),loggerService_1[_0x9554b(0x15b)][_0x9554b(0x1b7)]('noda',_0x2181fd['body'],_0x2181fd[_0x9554b(0x181)]);const _0x3a1a39=await this[_0x9554b(0x172)][_0x9554b(0x165)](_0x2181fd['body']);_0x3b0f04[_0x9554b(0x162)](0xc8)[_0x9554b(0x15e)]({'success':!![],'message':_0x9554b(0x182)});}catch(_0x3d4865){console['error']('Noda\x20webhook\x20processing\x20error:',_0x3d4865),loggerService_1[_0x9554b(0x15b)][_0x9554b(0x1c1)](_0x9554b(0x188),_0x3d4865,_0x2181fd[_0x9554b(0x1a0)]),_0x3b0f04['status'](0xc8)[_0x9554b(0x15e)]({'success':![],'message':_0x3d4865 instanceof Error?_0x3d4865[_0x9554b(0x17b)]:_0x9554b(0x1b1)});}},this[_0x33aac5(0x183)]=async(_0x5c107e,_0x44691b,_0x7e4403)=>{const _0x3e727d=_0x33aac5;try{console[_0x3e727d(0x16a)](_0x3e727d(0x176),_0x5c107e[_0x3e727d(0x1a0)]),loggerService_1['loggerService'][_0x3e727d(0x1b7)](_0x3e727d(0x1be),_0x5c107e[_0x3e727d(0x1a0)],_0x5c107e[_0x3e727d(0x181)]);const _0xf663ba=await this[_0x3e727d(0x172)]['processCoinToPayWebhook'](_0x5c107e[_0x3e727d(0x1a0)]);_0x44691b[_0x3e727d(0x162)](0xc8)['json']({'success':!![],'message':_0x3e727d(0x159)});}catch(_0x302e8b){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0x302e8b),loggerService_1['loggerService'][_0x3e727d(0x1c1)](_0x3e727d(0x1be),_0x302e8b,_0x5c107e[_0x3e727d(0x1a0)]),_0x44691b[_0x3e727d(0x162)](0xc8)[_0x3e727d(0x15e)]({'success':![],'message':_0x302e8b instanceof Error?_0x302e8b[_0x3e727d(0x17b)]:_0x3e727d(0x1bf)});}},this[_0x33aac5(0x15c)]=async(_0x5f10d1,_0x47daae,_0x567a27)=>{const _0x51208f=_0x33aac5;try{console['log'](_0x51208f(0x16c),_0x5f10d1[_0x51208f(0x1a0)]),loggerService_1[_0x51208f(0x15b)][_0x51208f(0x1b7)](_0x51208f(0x191),_0x5f10d1[_0x51208f(0x1a0)],_0x5f10d1[_0x51208f(0x181)]);const _0x46e586=await this[_0x51208f(0x172)][_0x51208f(0x18f)](_0x5f10d1[_0x51208f(0x1a0)]);_0x47daae[_0x51208f(0x162)](0xc8)[_0x51208f(0x15e)]({'success':!![],'message':_0x51208f(0x17e)});}catch(_0x31c97c){console[_0x51208f(0x1a1)](_0x51208f(0x16b),_0x31c97c),loggerService_1['loggerService'][_0x51208f(0x1c1)]('cointopay2',_0x31c97c,_0x5f10d1[_0x51208f(0x1a0)]),_0x47daae['status'](0xc8)[_0x51208f(0x15e)]({'success':![],'message':_0x31c97c instanceof Error?_0x31c97c['message']:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x33aac5(0x17c)]=async(_0x102c0e,_0x176e0f,_0x324cd5)=>{const _0x32cfea=_0x33aac5;try{console[_0x32cfea(0x16a)](_0x32cfea(0x163),_0x102c0e[_0x32cfea(0x1a0)]),loggerService_1[_0x32cfea(0x15b)][_0x32cfea(0x1b7)](_0x32cfea(0x187),_0x102c0e[_0x32cfea(0x1a0)],_0x102c0e[_0x32cfea(0x181)]);const _0xa02614=await this[_0x32cfea(0x172)][_0x32cfea(0x179)](_0x102c0e[_0x32cfea(0x1a0)]);_0x176e0f[_0x32cfea(0x162)](0xc8)[_0x32cfea(0x15e)]({'success':!![],'message':_0x32cfea(0x193)});}catch(_0x17e7b5){console[_0x32cfea(0x1a1)](_0x32cfea(0x18c),_0x17e7b5),loggerService_1[_0x32cfea(0x15b)][_0x32cfea(0x1c1)](_0x32cfea(0x187),_0x17e7b5,_0x102c0e[_0x32cfea(0x1a0)]),_0x176e0f['status'](0xc8)[_0x32cfea(0x15e)]({'success':![],'message':_0x17e7b5 instanceof Error?_0x17e7b5[_0x32cfea(0x17b)]:_0x32cfea(0x1a7)});}},this[_0x33aac5(0x16f)]=async(_0x34a07b,_0x4ba806,_0xe82042)=>{const _0x4dba45=_0x33aac5;try{console[_0x4dba45(0x16a)](_0x4dba45(0x1b0),_0x34a07b['body']),loggerService_1['loggerService'][_0x4dba45(0x1b7)](_0x4dba45(0x1a6),_0x34a07b[_0x4dba45(0x1a0)],_0x34a07b['headers']);const _0x3475d2=await this['webhookService'][_0x4dba45(0x178)](_0x34a07b['body']);_0x4ba806['status'](0xc8)[_0x4dba45(0x15e)]({'success':!![],'message':_0x4dba45(0x180)});}catch(_0x1e0736){console[_0x4dba45(0x1a1)](_0x4dba45(0x160),_0x1e0736),loggerService_1['loggerService'][_0x4dba45(0x1c1)](_0x4dba45(0x1a6),_0x1e0736,_0x34a07b['body']),_0x4ba806['status'](0xc8)[_0x4dba45(0x15e)]({'success':![],'message':_0x1e0736 instanceof Error?_0x1e0736[_0x4dba45(0x17b)]:_0x4dba45(0x1bd)});}},this[_0x33aac5(0x16e)]=async(_0x3901ae,_0x15f29d,_0x3604fb)=>{const _0x255d3a=_0x33aac5;try{console[_0x255d3a(0x16a)](_0x255d3a(0x1b5),_0x3901ae[_0x255d3a(0x1a0)]),loggerService_1[_0x255d3a(0x15b)][_0x255d3a(0x1b7)](_0x255d3a(0x18e),_0x3901ae[_0x255d3a(0x1a0)],_0x3901ae[_0x255d3a(0x181)]);const _0x2b5b79=await this[_0x255d3a(0x172)][_0x255d3a(0x19a)](_0x3901ae[_0x255d3a(0x1a0)]);_0x15f29d['status'](0xc8)[_0x255d3a(0x15e)]({'success':!![],'message':_0x255d3a(0x157)});}catch(_0x3c325f){console[_0x255d3a(0x1a1)]('MasterCard\x20webhook\x20processing\x20error:',_0x3c325f),loggerService_1[_0x255d3a(0x15b)][_0x255d3a(0x1c1)](_0x255d3a(0x18e),_0x3c325f,_0x3901ae[_0x255d3a(0x1a0)]),_0x15f29d[_0x255d3a(0x162)](0xc8)[_0x255d3a(0x15e)]({'success':![],'message':_0x3c325f instanceof Error?_0x3c325f['message']:_0x255d3a(0x1a8)});}},this[_0x33aac5(0x1ad)]=async(_0x293484,_0x31aea4,_0x422eae)=>{const _0x52b687=_0x33aac5;try{console[_0x52b687(0x16a)](_0x52b687(0x1ac),_0x293484[_0x52b687(0x1a0)]),loggerService_1[_0x52b687(0x15b)][_0x52b687(0x1b7)]('amer',_0x293484[_0x52b687(0x1a0)],_0x293484['headers']);const _0x503b83=await this[_0x52b687(0x172)][_0x52b687(0x158)](_0x293484[_0x52b687(0x1a0)]);_0x31aea4[_0x52b687(0x162)](0xc8)['json']({'success':!![],'message':_0x52b687(0x19b)});}catch(_0x99933f){console[_0x52b687(0x1a1)](_0x52b687(0x199),_0x99933f),loggerService_1[_0x52b687(0x15b)][_0x52b687(0x1c1)]('amer',_0x99933f,_0x293484['body']),_0x31aea4[_0x52b687(0x162)](0xc8)[_0x52b687(0x15e)]({'success':![],'message':_0x99933f instanceof Error?_0x99933f['message']:_0x52b687(0x173)});}},this[_0x33aac5(0x19c)]=async(_0x71821e,_0x5c5cee,_0x1b1e47)=>{const _0x375935=_0x33aac5;try{console[_0x375935(0x16a)](_0x375935(0x195)),console[_0x375935(0x16a)](_0x375935(0x1bb),_0x71821e[_0x375935(0x181)]),console[_0x375935(0x16a)](_0x375935(0x19d),_0x71821e[_0x375935(0x1a0)]),console[_0x375935(0x16a)]('Body\x20type:',typeof _0x71821e[_0x375935(0x1a0)]),console['log'](_0x375935(0x1c2),Object[_0x375935(0x1b3)](_0x71821e['body']||{})),loggerService_1[_0x375935(0x15b)][_0x375935(0x1b7)](_0x375935(0x170),_0x71821e['body'],_0x71821e['headers']);const _0xadd6d6=await this[_0x375935(0x172)][_0x375935(0x15d)](_0x71821e['body']);_0x5c5cee[_0x375935(0x162)](0xc8)[_0x375935(0x15e)]({'success':!![],'message':_0x375935(0x18d)});}catch(_0xd9227f){console[_0x375935(0x1a1)]('AmPay\x20webhook\x20processing\x20error:',_0xd9227f),loggerService_1[_0x375935(0x15b)][_0x375935(0x1c1)](_0x375935(0x170),_0xd9227f,_0x71821e[_0x375935(0x1a0)]),_0x5c5cee[_0x375935(0x162)](0xc8)[_0x375935(0x15e)]({'success':![],'message':_0xd9227f instanceof Error?_0xd9227f[_0x375935(0x17b)]:_0x375935(0x168)});}},this[_0x33aac5(0x17d)]=async(_0xcb781b,_0x199873,_0x367e1f)=>{const _0x1b245b=_0x33aac5;try{console[_0x1b245b(0x16a)](_0x1b245b(0x1b6)),console['log'](_0x1b245b(0x1bb),_0xcb781b[_0x1b245b(0x181)]),console[_0x1b245b(0x16a)](_0x1b245b(0x1a9),_0xcb781b[_0x1b245b(0x186)]),console[_0x1b245b(0x16a)](_0x1b245b(0x19d),_0xcb781b[_0x1b245b(0x1a0)]),console[_0x1b245b(0x16a)]('Method:',_0xcb781b[_0x1b245b(0x167)]),loggerService_1[_0x1b245b(0x15b)][_0x1b245b(0x1b7)](_0x1b245b(0x15a),_0xcb781b[_0x1b245b(0x1a0)]||_0xcb781b['query'],_0xcb781b[_0x1b245b(0x181)]);const _0x54eec3=await this[_0x1b245b(0x172)][_0x1b245b(0x1af)](_0xcb781b[_0x1b245b(0x186)],_0xcb781b[_0x1b245b(0x1a0)]);_0x199873[_0x1b245b(0x162)](0xc8)['json']({'success':!![],'message':_0x1b245b(0x174)});}catch(_0x5c63dc){console[_0x1b245b(0x1a1)](_0x1b245b(0x1aa),_0x5c63dc),loggerService_1['loggerService'][_0x1b245b(0x1c1)](_0x1b245b(0x15a),_0x5c63dc,_0xcb781b[_0x1b245b(0x1a0)]||_0xcb781b[_0x1b245b(0x186)]),_0x199873[_0x1b245b(0x162)](0xc8)['json']({'success':![],'message':_0x5c63dc instanceof Error?_0x5c63dc[_0x1b245b(0x17b)]:_0x1b245b(0x19f)});}},this['webhookService']=new webhookService_1['WebhookService']();}}exports[a16_0x2f59bc(0x17f)]=WebhookController;