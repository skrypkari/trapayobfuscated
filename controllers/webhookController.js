'use strict';function a15_0x5911(_0x46553e,_0x408d32){const _0x2bd620=a15_0x2bd6();return a15_0x5911=function(_0x591109,_0x32d37e){_0x591109=_0x591109-0x6c;let _0x4c7461=_0x2bd620[_0x591109];return _0x4c7461;},a15_0x5911(_0x46553e,_0x408d32);}const a15_0x4be39b=a15_0x5911;(function(_0x4e8c02,_0x43edd3){const _0x465547=a15_0x5911,_0x1fe361=_0x4e8c02();while(!![]){try{const _0x4eea1b=parseInt(_0x465547(0x83))/0x1*(parseInt(_0x465547(0x7d))/0x2)+parseInt(_0x465547(0xa4))/0x3+parseInt(_0x465547(0x89))/0x4+-parseInt(_0x465547(0xa2))/0x5+-parseInt(_0x465547(0x7b))/0x6*(parseInt(_0x465547(0x87))/0x7)+-parseInt(_0x465547(0x6f))/0x8+parseInt(_0x465547(0x9b))/0x9;if(_0x4eea1b===_0x43edd3)break;else _0x1fe361['push'](_0x1fe361['shift']());}catch(_0x4e1653){_0x1fe361['push'](_0x1fe361['shift']());}}}(a15_0x2bd6,0x74d11));Object[a15_0x4be39b(0x72)](exports,a15_0x4be39b(0xa1),{'value':!![]}),exports[a15_0x4be39b(0x76)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x4be39b(0xac));function a15_0x2bd6(){const _0x236cbc=['KLYME\x20webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','plisio','6518416qSbKgy','processRapydWebhook','handlePlisioGatewayWebhook','defineProperty','handlePlisioWebhook','logWebhookError','processCoinToPayWebhook','WebhookController','error','body','processKlymeWebhook','cointopay','12eLBMDf','handleCoinToPayWebhook','1746646AmxWpB','Noda\x20webhook\x20processed\x20successfully','log','json','Rapyd\x20webhook\x20processed\x20successfully','Received\x20CoinToPay\x20webhook:','1LtjfEC','CoinToPay\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20failed','klyme','900655DhSqzz','Received\x20Noda\x20webhook:','3756388VQpZWz','WebhookService','Rapyd\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20error:','Body\x20content:','processPlisioWebhook','Content-Type','noda','loggerService','get','MasterCard\x20webhook\x20processing\x20failed','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','webhookService','handleNodaWebhook','CoinToPay\x20webhook\x20processed\x20successfully','Received\x20KLYME\x20webhook:','MasterCard\x20webhook\x20processing\x20error:','2836719mEcHdX','Gateway\x20webhook\x20processed\x20successfully','processPlisioGatewayWebhook','logWebhookReceived','message','mastercard','__esModule','3108895MqIiQs','Gateway\x20webhook\x20processing\x20error:','134343BZcjJH','Gateway\x20webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','Content-Type:','Received\x20MasterCard\x20webhook:','headers','Body\x20keys:','handleRapydWebhook','../services/loggerService','Webhook\x20processing\x20failed','keys','status'];a15_0x2bd6=function(){return _0x236cbc;};return a15_0x2bd6();}class WebhookController{constructor(){const _0xa483d7=a15_0x4be39b;this[_0xa483d7(0x73)]=async(_0x27d13f,_0x459dd2,_0x5b7eea)=>{const _0x97107c=_0xa483d7;try{console['log'](_0x97107c(0x6d)),console[_0x97107c(0x7f)]('Content-Type:',_0x27d13f[_0x97107c(0x93)](_0x97107c(0x90))),console[_0x97107c(0x7f)]('Raw\x20body\x20type:',typeof _0x27d13f['body']),console[_0x97107c(0x7f)](_0x97107c(0xaa),Object[_0x97107c(0xae)](_0x27d13f[_0x97107c(0x78)]||{})),console[_0x97107c(0x7f)](_0x97107c(0x8e),_0x27d13f[_0x97107c(0x78)]),loggerService_1['loggerService'][_0x97107c(0x9e)](_0x97107c(0x6e),_0x27d13f[_0x97107c(0x78)],_0x27d13f['headers']);const _0x2f8583=await this[_0x97107c(0x96)][_0x97107c(0x8f)](_0x27d13f[_0x97107c(0x78)]);_0x459dd2[_0x97107c(0xaf)](0xc8)['json']({'success':!![],'message':_0x97107c(0xa6)});}catch(_0x58e51e){console[_0x97107c(0x77)]('Webhook\x20processing\x20error:',_0x58e51e),loggerService_1[_0x97107c(0x92)]['logWebhookError']('plisio',_0x58e51e,_0x27d13f[_0x97107c(0x78)]),_0x459dd2['status'](0xc8)['json']({'success':![],'message':_0x58e51e instanceof Error?_0x58e51e[_0x97107c(0x9f)]:_0x97107c(0xad)});}},this[_0xa483d7(0x71)]=async(_0x1d4a4f,_0x238794,_0x1745a3)=>{const _0x399611=_0xa483d7;try{console[_0x399611(0x7f)](_0x399611(0x95)),console['log'](_0x399611(0xa7),_0x1d4a4f[_0x399611(0x93)]('Content-Type')),console['log']('Raw\x20body\x20type:',typeof _0x1d4a4f[_0x399611(0x78)]),console[_0x399611(0x7f)]('Body\x20keys:',Object[_0x399611(0xae)](_0x1d4a4f[_0x399611(0x78)]||{})),console['log'](_0x399611(0x8e),_0x1d4a4f[_0x399611(0x78)]),loggerService_1[_0x399611(0x92)][_0x399611(0x9e)]('plisio_gateway',_0x1d4a4f[_0x399611(0x78)],_0x1d4a4f[_0x399611(0xa9)]);const _0x595c86=await this[_0x399611(0x96)][_0x399611(0x9d)](_0x1d4a4f[_0x399611(0x78)]);_0x238794['status'](0xc8)[_0x399611(0x80)]({'success':!![],'message':_0x399611(0x9c)});}catch(_0x296d0c){console[_0x399611(0x77)](_0x399611(0xa3),_0x296d0c),loggerService_1['loggerService'][_0x399611(0x74)]('plisio_gateway',_0x296d0c,_0x1d4a4f[_0x399611(0x78)]),_0x238794[_0x399611(0xaf)](0xc8)[_0x399611(0x80)]({'success':![],'message':_0x296d0c instanceof Error?_0x296d0c[_0x399611(0x9f)]:_0x399611(0xa5)});}},this[_0xa483d7(0xab)]=async(_0x400630,_0x42c83d,_0x20df06)=>{const _0x49a855=_0xa483d7;try{console[_0x49a855(0x7f)]('Received\x20Rapyd\x20webhook:',_0x400630[_0x49a855(0x78)]),loggerService_1[_0x49a855(0x92)][_0x49a855(0x9e)]('rapyd',_0x400630[_0x49a855(0x78)],_0x400630[_0x49a855(0xa9)]);const _0x23cc1e=await this[_0x49a855(0x96)][_0x49a855(0x70)](_0x400630[_0x49a855(0x78)]);_0x42c83d[_0x49a855(0xaf)](0xc8)['json']({'success':!![],'message':_0x49a855(0x81)});}catch(_0x4dbfe1){console[_0x49a855(0x77)](_0x49a855(0x8d),_0x4dbfe1),loggerService_1[_0x49a855(0x92)]['logWebhookError']('rapyd',_0x4dbfe1,_0x400630[_0x49a855(0x78)]),_0x42c83d['status'](0xc8)[_0x49a855(0x80)]({'success':![],'message':_0x4dbfe1 instanceof Error?_0x4dbfe1[_0x49a855(0x9f)]:_0x49a855(0x8b)});}},this[_0xa483d7(0x97)]=async(_0x3392a7,_0x314ccd,_0x59cd64)=>{const _0x147afe=_0xa483d7;try{console[_0x147afe(0x7f)](_0x147afe(0x88),_0x3392a7[_0x147afe(0x78)]),loggerService_1[_0x147afe(0x92)][_0x147afe(0x9e)](_0x147afe(0x91),_0x3392a7[_0x147afe(0x78)],_0x3392a7[_0x147afe(0xa9)]);const _0x4fd930=await this[_0x147afe(0x96)]['processNodaWebhook'](_0x3392a7[_0x147afe(0x78)]);_0x314ccd[_0x147afe(0xaf)](0xc8)['json']({'success':!![],'message':_0x147afe(0x7e)});}catch(_0x558452){console[_0x147afe(0x77)]('Noda\x20webhook\x20processing\x20error:',_0x558452),loggerService_1[_0x147afe(0x92)]['logWebhookError'](_0x147afe(0x91),_0x558452,_0x3392a7[_0x147afe(0x78)]),_0x314ccd['status'](0xc8)['json']({'success':![],'message':_0x558452 instanceof Error?_0x558452[_0x147afe(0x9f)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0xa483d7(0x7c)]=async(_0x28ccf4,_0x37caef,_0x109cbc)=>{const _0x90a937=_0xa483d7;try{console[_0x90a937(0x7f)](_0x90a937(0x82),_0x28ccf4[_0x90a937(0x78)]),loggerService_1['loggerService'][_0x90a937(0x9e)](_0x90a937(0x7a),_0x28ccf4[_0x90a937(0x78)],_0x28ccf4[_0x90a937(0xa9)]);const _0xd9e902=await this[_0x90a937(0x96)][_0x90a937(0x75)](_0x28ccf4[_0x90a937(0x78)]);_0x37caef[_0x90a937(0xaf)](0xc8)[_0x90a937(0x80)]({'success':!![],'message':_0x90a937(0x98)});}catch(_0xbf9cb4){console[_0x90a937(0x77)](_0x90a937(0x84),_0xbf9cb4),loggerService_1['loggerService']['logWebhookError'](_0x90a937(0x7a),_0xbf9cb4,_0x28ccf4[_0x90a937(0x78)]),_0x37caef[_0x90a937(0xaf)](0xc8)[_0x90a937(0x80)]({'success':![],'message':_0xbf9cb4 instanceof Error?_0xbf9cb4['message']:_0x90a937(0x85)});}},this['handleKlymeWebhook']=async(_0x21dc51,_0x23754e,_0x14abae)=>{const _0x13bc69=_0xa483d7;try{console[_0x13bc69(0x7f)](_0x13bc69(0x99),_0x21dc51[_0x13bc69(0x78)]),loggerService_1[_0x13bc69(0x92)][_0x13bc69(0x9e)](_0x13bc69(0x86),_0x21dc51[_0x13bc69(0x78)],_0x21dc51['headers']);const _0x55127a=await this[_0x13bc69(0x96)][_0x13bc69(0x79)](_0x21dc51[_0x13bc69(0x78)]);_0x23754e[_0x13bc69(0xaf)](0xc8)[_0x13bc69(0x80)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x909882){console[_0x13bc69(0x77)]('KLYME\x20webhook\x20processing\x20error:',_0x909882),loggerService_1['loggerService'][_0x13bc69(0x74)](_0x13bc69(0x86),_0x909882,_0x21dc51[_0x13bc69(0x78)]),_0x23754e[_0x13bc69(0xaf)](0xc8)[_0x13bc69(0x80)]({'success':![],'message':_0x909882 instanceof Error?_0x909882['message']:_0x13bc69(0x6c)});}},this['handleMasterCardWebhook']=async(_0x623f84,_0x43a047,_0x459fbe)=>{const _0x53ceff=_0xa483d7;try{console[_0x53ceff(0x7f)](_0x53ceff(0xa8),_0x623f84[_0x53ceff(0x78)]),loggerService_1[_0x53ceff(0x92)]['logWebhookReceived'](_0x53ceff(0xa0),_0x623f84[_0x53ceff(0x78)],_0x623f84[_0x53ceff(0xa9)]);const _0x325c4e=await this[_0x53ceff(0x96)]['processMasterCardWebhook'](_0x623f84[_0x53ceff(0x78)]);_0x43a047['status'](0xc8)['json']({'success':!![],'message':_0x53ceff(0x8c)});}catch(_0x116b10){console[_0x53ceff(0x77)](_0x53ceff(0x9a),_0x116b10),loggerService_1[_0x53ceff(0x92)][_0x53ceff(0x74)](_0x53ceff(0xa0),_0x116b10,_0x623f84[_0x53ceff(0x78)]),_0x43a047['status'](0xc8)['json']({'success':![],'message':_0x116b10 instanceof Error?_0x116b10[_0x53ceff(0x9f)]:_0x53ceff(0x94)});}},this[_0xa483d7(0x96)]=new webhookService_1[(_0xa483d7(0x8a))]();}}exports[a15_0x4be39b(0x76)]=WebhookController;