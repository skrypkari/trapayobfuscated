'use strict';const a15_0x419a27=a15_0x2678;(function(_0x35aa20,_0x1c1052){const _0x46782a=a15_0x2678,_0x472759=_0x35aa20();while(!![]){try{const _0x2db201=parseInt(_0x46782a(0xc0))/0x1+-parseInt(_0x46782a(0xcc))/0x2*(parseInt(_0x46782a(0xb9))/0x3)+-parseInt(_0x46782a(0xd5))/0x4+-parseInt(_0x46782a(0xc9))/0x5+parseInt(_0x46782a(0xcd))/0x6+parseInt(_0x46782a(0xb6))/0x7*(-parseInt(_0x46782a(0xb1))/0x8)+parseInt(_0x46782a(0xa9))/0x9;if(_0x2db201===_0x1c1052)break;else _0x472759['push'](_0x472759['shift']());}catch(_0x1b400c){_0x472759['push'](_0x472759['shift']());}}}(a15_0x14c7,0x336ab));function a15_0x2678(_0x156e8f,_0x36dc67){const _0x14c74e=a15_0x14c7();return a15_0x2678=function(_0x26785a,_0x12fca6){_0x26785a=_0x26785a-0x9c;let _0x592ec5=_0x14c74e[_0x26785a];return _0x592ec5;},a15_0x2678(_0x156e8f,_0x36dc67);}Object['defineProperty'](exports,a15_0x419a27(0xae),{'value':!![]}),exports[a15_0x419a27(0xb2)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x302938=a15_0x419a27;this[_0x302938(0xb4)]=async(_0x36b8e0,_0x72010b,_0x4d0e9f)=>{const _0x41796c=_0x302938;try{console[_0x41796c(0xc6)](_0x41796c(0xaa)),console['log']('Content-Type:',_0x36b8e0[_0x41796c(0xbb)](_0x41796c(0xa1))),console[_0x41796c(0xc6)]('Raw\x20body\x20type:',typeof _0x36b8e0[_0x41796c(0xe5)]),console['log'](_0x41796c(0xb3),Object[_0x41796c(0xac)](_0x36b8e0[_0x41796c(0xe5)]||{})),console[_0x41796c(0xc6)](_0x41796c(0xab),_0x36b8e0[_0x41796c(0xe5)]),loggerService_1[_0x41796c(0xd0)][_0x41796c(0xe1)](_0x41796c(0xc3),_0x36b8e0[_0x41796c(0xe5)],_0x36b8e0[_0x41796c(0xc5)]);const _0x3d4113=await this[_0x41796c(0xc4)][_0x41796c(0xdf)](_0x36b8e0[_0x41796c(0xe5)]);_0x72010b[_0x41796c(0xc2)](0xc8)[_0x41796c(0xc7)]({'success':!![],'message':_0x41796c(0xca)});}catch(_0x484dd6){console[_0x41796c(0xda)](_0x41796c(0xd7),_0x484dd6),loggerService_1[_0x41796c(0xd0)][_0x41796c(0x9f)](_0x41796c(0xc3),_0x484dd6,_0x36b8e0[_0x41796c(0xe5)]),_0x72010b[_0x41796c(0xc2)](0xc8)[_0x41796c(0xc7)]({'success':![],'message':_0x484dd6 instanceof Error?_0x484dd6[_0x41796c(0xe6)]:_0x41796c(0x9e)});}},this['handlePlisioGatewayWebhook']=async(_0x4681d4,_0x36d25e,_0x535634)=>{const _0x29b0ae=_0x302938;try{console['log'](_0x29b0ae(0xdc)),console['log'](_0x29b0ae(0xba),_0x4681d4[_0x29b0ae(0xbb)](_0x29b0ae(0xa1))),console[_0x29b0ae(0xc6)](_0x29b0ae(0xa4),typeof _0x4681d4['body']),console[_0x29b0ae(0xc6)]('Body\x20keys:',Object[_0x29b0ae(0xac)](_0x4681d4['body']||{})),console[_0x29b0ae(0xc6)](_0x29b0ae(0xab),_0x4681d4[_0x29b0ae(0xe5)]),loggerService_1[_0x29b0ae(0xd0)]['logWebhookReceived'](_0x29b0ae(0xd2),_0x4681d4[_0x29b0ae(0xe5)],_0x4681d4['headers']);const _0x1d1027=await this['webhookService'][_0x29b0ae(0xbe)](_0x4681d4[_0x29b0ae(0xe5)]);_0x36d25e[_0x29b0ae(0xc2)](0xc8)['json']({'success':!![],'message':_0x29b0ae(0xcf)});}catch(_0x4e4f1b){console[_0x29b0ae(0xda)](_0x29b0ae(0xd8),_0x4e4f1b),loggerService_1[_0x29b0ae(0xd0)][_0x29b0ae(0x9f)](_0x29b0ae(0xd2),_0x4e4f1b,_0x4681d4[_0x29b0ae(0xe5)]),_0x36d25e[_0x29b0ae(0xc2)](0xc8)[_0x29b0ae(0xc7)]({'success':![],'message':_0x4e4f1b instanceof Error?_0x4e4f1b[_0x29b0ae(0xe6)]:_0x29b0ae(0xbc)});}},this[_0x302938(0xad)]=async(_0x36eaa0,_0x36b8d8,_0x333143)=>{const _0x5e9ab0=_0x302938;try{console[_0x5e9ab0(0xc6)](_0x5e9ab0(0xe3),_0x36eaa0['body']),loggerService_1[_0x5e9ab0(0xd0)][_0x5e9ab0(0xe1)](_0x5e9ab0(0x9d),_0x36eaa0[_0x5e9ab0(0xe5)],_0x36eaa0[_0x5e9ab0(0xc5)]);const _0x1d3de5=await this[_0x5e9ab0(0xc4)][_0x5e9ab0(0xb8)](_0x36eaa0[_0x5e9ab0(0xe5)]);_0x36b8d8[_0x5e9ab0(0xc2)](0xc8)[_0x5e9ab0(0xc7)]({'success':!![],'message':_0x5e9ab0(0xdb)});}catch(_0x4c8102){console['error'](_0x5e9ab0(0xe2),_0x4c8102),loggerService_1[_0x5e9ab0(0xd0)][_0x5e9ab0(0x9f)]('rapyd',_0x4c8102,_0x36eaa0[_0x5e9ab0(0xe5)]),_0x36b8d8[_0x5e9ab0(0xc2)](0xc8)[_0x5e9ab0(0xc7)]({'success':![],'message':_0x4c8102 instanceof Error?_0x4c8102[_0x5e9ab0(0xe6)]:_0x5e9ab0(0xbd)});}},this[_0x302938(0xb0)]=async(_0xec54bf,_0x4afb24,_0x4094d4)=>{const _0x434c26=_0x302938;try{console[_0x434c26(0xc6)](_0x434c26(0xb7),_0xec54bf[_0x434c26(0xe5)]),loggerService_1[_0x434c26(0xd0)]['logWebhookReceived'](_0x434c26(0xdd),_0xec54bf['body'],_0xec54bf[_0x434c26(0xc5)]);const _0x487cfa=await this['webhookService'][_0x434c26(0xa2)](_0xec54bf['body']);_0x4afb24[_0x434c26(0xc2)](0xc8)[_0x434c26(0xc7)]({'success':!![],'message':_0x434c26(0xa8)});}catch(_0x364385){console['error'](_0x434c26(0x9c),_0x364385),loggerService_1['loggerService']['logWebhookError'](_0x434c26(0xdd),_0x364385,_0xec54bf[_0x434c26(0xe5)]),_0x4afb24[_0x434c26(0xc2)](0xc8)[_0x434c26(0xc7)]({'success':![],'message':_0x364385 instanceof Error?_0x364385['message']:_0x434c26(0xce)});}},this['handleCoinToPayWebhook']=async(_0x50daaf,_0x347be6,_0x1ae6c8)=>{const _0x3a72ee=_0x302938;try{console[_0x3a72ee(0xc6)](_0x3a72ee(0xd3),_0x50daaf[_0x3a72ee(0xe5)]),loggerService_1[_0x3a72ee(0xd0)]['logWebhookReceived'](_0x3a72ee(0xde),_0x50daaf[_0x3a72ee(0xe5)],_0x50daaf['headers']);const _0x5274b5=await this['webhookService'][_0x3a72ee(0xd9)](_0x50daaf[_0x3a72ee(0xe5)]);_0x347be6[_0x3a72ee(0xc2)](0xc8)[_0x3a72ee(0xc7)]({'success':!![],'message':_0x3a72ee(0xaf)});}catch(_0x546e26){console['error'](_0x3a72ee(0xa0),_0x546e26),loggerService_1['loggerService']['logWebhookError'](_0x3a72ee(0xde),_0x546e26,_0x50daaf[_0x3a72ee(0xe5)]),_0x347be6['status'](0xc8)[_0x3a72ee(0xc7)]({'success':![],'message':_0x546e26 instanceof Error?_0x546e26[_0x3a72ee(0xe6)]:_0x3a72ee(0xe0)});}},this[_0x302938(0xcb)]=async(_0x1fd36b,_0x47176f,_0x4d6488)=>{const _0x10057d=_0x302938;try{console[_0x10057d(0xc6)](_0x10057d(0xa5),_0x1fd36b['body']),loggerService_1['loggerService'][_0x10057d(0xe1)](_0x10057d(0xd4),_0x1fd36b[_0x10057d(0xe5)],_0x1fd36b[_0x10057d(0xc5)]);const _0x315212=await this['webhookService']['processKlymeWebhook'](_0x1fd36b[_0x10057d(0xe5)]);_0x47176f[_0x10057d(0xc2)](0xc8)[_0x10057d(0xc7)]({'success':!![],'message':_0x10057d(0xbf)});}catch(_0x318ce7){console[_0x10057d(0xda)](_0x10057d(0xb5),_0x318ce7),loggerService_1[_0x10057d(0xd0)]['logWebhookError'](_0x10057d(0xd4),_0x318ce7,_0x1fd36b[_0x10057d(0xe5)]),_0x47176f[_0x10057d(0xc2)](0xc8)['json']({'success':![],'message':_0x318ce7 instanceof Error?_0x318ce7[_0x10057d(0xe6)]:_0x10057d(0xe4)});}},this[_0x302938(0xa3)]=async(_0x5e5ac5,_0x47ca76,_0x43528c)=>{const _0x4ac20b=_0x302938;try{console[_0x4ac20b(0xc6)](_0x4ac20b(0xc8),_0x5e5ac5[_0x4ac20b(0xe5)]),loggerService_1[_0x4ac20b(0xd0)][_0x4ac20b(0xe1)](_0x4ac20b(0xc1),_0x5e5ac5[_0x4ac20b(0xe5)],_0x5e5ac5[_0x4ac20b(0xc5)]);const _0x550b11=await this['webhookService']['processMasterCardWebhook'](_0x5e5ac5['body']);_0x47ca76[_0x4ac20b(0xc2)](0xc8)[_0x4ac20b(0xc7)]({'success':!![],'message':_0x4ac20b(0xa7)});}catch(_0x4645e8){console[_0x4ac20b(0xda)](_0x4ac20b(0xa6),_0x4645e8),loggerService_1[_0x4ac20b(0xd0)][_0x4ac20b(0x9f)]('mastercard',_0x4645e8,_0x5e5ac5[_0x4ac20b(0xe5)]),_0x47ca76[_0x4ac20b(0xc2)](0xc8)[_0x4ac20b(0xc7)]({'success':![],'message':_0x4645e8 instanceof Error?_0x4645e8[_0x4ac20b(0xe6)]:_0x4ac20b(0xd6)});}},this[_0x302938(0xc4)]=new webhookService_1[(_0x302938(0xd1))]();}}exports['WebhookController']=WebhookController;function a15_0x14c7(){const _0x3a04f4=['Gateway\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','KLYME\x20webhook\x20processed\x20successfully','94684JkRQKw','mastercard','status','plisio','webhookService','headers','log','json','Received\x20MasterCard\x20webhook:','557030scAnaN','Webhook\x20processed\x20successfully','handleKlymeWebhook','10voAPwI','2171718VSMbze','Noda\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processed\x20successfully','loggerService','WebhookService','plisio_gateway','Received\x20CoinToPay\x20webhook:','klyme','341296RCBnvQ','MasterCard\x20webhook\x20processing\x20failed','Webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','processCoinToPayWebhook','error','Rapyd\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','noda','cointopay','processPlisioWebhook','CoinToPay\x20webhook\x20processing\x20failed','logWebhookReceived','Rapyd\x20webhook\x20processing\x20error:','Received\x20Rapyd\x20webhook:','KLYME\x20webhook\x20processing\x20failed','body','message','Noda\x20webhook\x20processing\x20error:','rapyd','Webhook\x20processing\x20failed','logWebhookError','CoinToPay\x20webhook\x20processing\x20error:','Content-Type','processNodaWebhook','handleMasterCardWebhook','Raw\x20body\x20type:','Received\x20KLYME\x20webhook:','MasterCard\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','4944699BbvPCa','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Body\x20content:','keys','handleRapydWebhook','__esModule','CoinToPay\x20webhook\x20processed\x20successfully','handleNodaWebhook','40pcQgCJ','WebhookController','Body\x20keys:','handlePlisioWebhook','KLYME\x20webhook\x20processing\x20error:','395507Wcpied','Received\x20Noda\x20webhook:','processRapydWebhook','189726AREJtE','Content-Type:','get'];a15_0x14c7=function(){return _0x3a04f4;};return a15_0x14c7();}