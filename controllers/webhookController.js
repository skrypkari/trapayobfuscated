'use strict';const a15_0x595d80=a15_0x55ce;function a15_0x1733(){const _0x534d78=['get','KLYME\x20webhook\x20processed\x20successfully','6880419fdVISI','Rapyd\x20webhook\x20processed\x20successfully','processKlymeWebhook','handleCoinToPay2Webhook','10564614sEdhpJ','plisio_gateway','4371688SxsoZP','KLYME\x20webhook\x20processing\x20error:','webhookService','CoinToPay\x20webhook\x20processing\x20error:','processCoinToPay2Webhook','Content-Type','rapyd','MasterCard\x20webhook\x20processing\x20failed','handleAmerWebhook','Received\x20Noda\x20webhook:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Received\x20MasterCard\x20webhook:','handleCoinToPayWebhook','Received\x20KLYME\x20webhook:','Received\x20Amer\x20webhook:','error','MasterCard\x20webhook\x20processed\x20successfully','Webhook\x20processing\x20failed','../services/webhookService','Webhook\x20processing\x20error:','klyme','processPlisioGatewayWebhook','Rapyd\x20webhook\x20processing\x20failed','keys','Body\x20content:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Amer\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20failed','logWebhookError','body','Raw\x20body\x20type:','Rapyd\x20webhook\x20processing\x20error:','WebhookController','WebhookService','message','2535486tMekHe','Gateway\x20webhook\x20processed\x20successfully','Amer\x20webhook\x20processed\x20successfully','Webhook\x20processed\x20successfully','loggerService','log','status','handleNodaWebhook','CoinToPay\x20webhook\x20processing\x20failed','cointopay2','14574RhJZqn','CoinToPay2\x20webhook\x20processed\x20successfully','cointopay','Gateway\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','Received\x20CoinToPay2\x20webhook:','amer','Amer\x20webhook\x20processing\x20error:','noda','plisio','logWebhookReceived','headers','handlePlisioWebhook','__esModule','json','handleMasterCardWebhook','Noda\x20webhook\x20processed\x20successfully','3NiBTOu','Content-Type:','MasterCard\x20webhook\x20processing\x20error:','defineProperty','1559954DlhEiN','Received\x20Rapyd\x20webhook:','665mQRBsb','6131812RDpRUN','Body\x20keys:'];a15_0x1733=function(){return _0x534d78;};return a15_0x1733();}(function(_0x124bd6,_0x738571){const _0x234db4=a15_0x55ce,_0xcc4de8=_0x124bd6();while(!![]){try{const _0xb54cc7=-parseInt(_0x234db4(0x215))/0x1+-parseInt(_0x234db4(0x1f6))/0x2*(-parseInt(_0x234db4(0x211))/0x3)+parseInt(_0x234db4(0x218))/0x4+-parseInt(_0x234db4(0x217))/0x5*(-parseInt(_0x234db4(0x200))/0x6)+parseInt(_0x234db4(0x21c))/0x7+-parseInt(_0x234db4(0x222))/0x8+-parseInt(_0x234db4(0x220))/0x9;if(_0xb54cc7===_0x738571)break;else _0xcc4de8['push'](_0xcc4de8['shift']());}catch(_0x54bcb2){_0xcc4de8['push'](_0xcc4de8['shift']());}}}(a15_0x1733,0xc9c29));Object[a15_0x595d80(0x214)](exports,a15_0x595d80(0x20d),{'value':!![]}),exports[a15_0x595d80(0x1f3)]=void 0x0;const webhookService_1=require(a15_0x595d80(0x1e5)),loggerService_1=require('../services/loggerService');function a15_0x55ce(_0x2cbf3e,_0x129109){const _0x173337=a15_0x1733();return a15_0x55ce=function(_0x55ce5b,_0x34f2df){_0x55ce5b=_0x55ce5b-0x1da;let _0x3089cc=_0x173337[_0x55ce5b];return _0x3089cc;},a15_0x55ce(_0x2cbf3e,_0x129109);}class WebhookController{constructor(){const _0x40d672=a15_0x595d80;this[_0x40d672(0x20c)]=async(_0x237b8a,_0x24df3e,_0x4739e4)=>{const _0xe70edf=_0x40d672;try{console[_0xe70edf(0x1fb)](_0xe70edf(0x1ec)),console['log'](_0xe70edf(0x212),_0x237b8a[_0xe70edf(0x21a)](_0xe70edf(0x227))),console[_0xe70edf(0x1fb)]('Raw\x20body\x20type:',typeof _0x237b8a['body']),console['log']('Body\x20keys:',Object[_0xe70edf(0x1ea)](_0x237b8a[_0xe70edf(0x1f0)]||{})),console['log'](_0xe70edf(0x1eb),_0x237b8a[_0xe70edf(0x1f0)]),loggerService_1[_0xe70edf(0x1fa)][_0xe70edf(0x20a)](_0xe70edf(0x209),_0x237b8a[_0xe70edf(0x1f0)],_0x237b8a[_0xe70edf(0x20b)]);const _0x52cafb=await this[_0xe70edf(0x224)]['processPlisioWebhook'](_0x237b8a['body']);_0x24df3e[_0xe70edf(0x1fc)](0xc8)['json']({'success':!![],'message':_0xe70edf(0x1f9)});}catch(_0x3965ac){console[_0xe70edf(0x1e2)](_0xe70edf(0x1e6),_0x3965ac),loggerService_1[_0xe70edf(0x1fa)][_0xe70edf(0x1ef)]('plisio',_0x3965ac,_0x237b8a[_0xe70edf(0x1f0)]),_0x24df3e[_0xe70edf(0x1fc)](0xc8)[_0xe70edf(0x20e)]({'success':![],'message':_0x3965ac instanceof Error?_0x3965ac[_0xe70edf(0x1f5)]:_0xe70edf(0x1e4)});}},this['handlePlisioGatewayWebhook']=async(_0x2eeedf,_0x30b8f5,_0x4a7736)=>{const _0x43726c=_0x40d672;try{console['log'](_0x43726c(0x1dd)),console[_0x43726c(0x1fb)](_0x43726c(0x212),_0x2eeedf[_0x43726c(0x21a)](_0x43726c(0x227))),console[_0x43726c(0x1fb)](_0x43726c(0x1f1),typeof _0x2eeedf[_0x43726c(0x1f0)]),console[_0x43726c(0x1fb)](_0x43726c(0x219),Object[_0x43726c(0x1ea)](_0x2eeedf[_0x43726c(0x1f0)]||{})),console[_0x43726c(0x1fb)](_0x43726c(0x1eb),_0x2eeedf['body']),loggerService_1['loggerService'][_0x43726c(0x20a)](_0x43726c(0x221),_0x2eeedf['body'],_0x2eeedf[_0x43726c(0x20b)]);const _0x45d8a6=await this['webhookService'][_0x43726c(0x1e8)](_0x2eeedf[_0x43726c(0x1f0)]);_0x30b8f5[_0x43726c(0x1fc)](0xc8)['json']({'success':!![],'message':_0x43726c(0x1f7)});}catch(_0x105a8e){console[_0x43726c(0x1e2)]('Gateway\x20webhook\x20processing\x20error:',_0x105a8e),loggerService_1[_0x43726c(0x1fa)][_0x43726c(0x1ef)]('plisio_gateway',_0x105a8e,_0x2eeedf['body']),_0x30b8f5[_0x43726c(0x1fc)](0xc8)[_0x43726c(0x20e)]({'success':![],'message':_0x105a8e instanceof Error?_0x105a8e[_0x43726c(0x1f5)]:_0x43726c(0x203)});}},this['handleRapydWebhook']=async(_0x47d048,_0x3f02c4,_0x24649b)=>{const _0x99bf72=_0x40d672;try{console[_0x99bf72(0x1fb)](_0x99bf72(0x216),_0x47d048[_0x99bf72(0x1f0)]),loggerService_1[_0x99bf72(0x1fa)][_0x99bf72(0x20a)]('rapyd',_0x47d048[_0x99bf72(0x1f0)],_0x47d048[_0x99bf72(0x20b)]);const _0x43d62d=await this['webhookService']['processRapydWebhook'](_0x47d048['body']);_0x3f02c4[_0x99bf72(0x1fc)](0xc8)[_0x99bf72(0x20e)]({'success':!![],'message':_0x99bf72(0x21d)});}catch(_0x12654b){console[_0x99bf72(0x1e2)](_0x99bf72(0x1f2),_0x12654b),loggerService_1[_0x99bf72(0x1fa)]['logWebhookError'](_0x99bf72(0x228),_0x12654b,_0x47d048[_0x99bf72(0x1f0)]),_0x3f02c4[_0x99bf72(0x1fc)](0xc8)['json']({'success':![],'message':_0x12654b instanceof Error?_0x12654b['message']:_0x99bf72(0x1e9)});}},this[_0x40d672(0x1fd)]=async(_0x546233,_0x412bcb,_0x344fe9)=>{const _0x521ef4=_0x40d672;try{console[_0x521ef4(0x1fb)](_0x521ef4(0x1dc),_0x546233[_0x521ef4(0x1f0)]),loggerService_1[_0x521ef4(0x1fa)][_0x521ef4(0x20a)](_0x521ef4(0x208),_0x546233[_0x521ef4(0x1f0)],_0x546233[_0x521ef4(0x20b)]);const _0x4ec657=await this[_0x521ef4(0x224)]['processNodaWebhook'](_0x546233['body']);_0x412bcb[_0x521ef4(0x1fc)](0xc8)[_0x521ef4(0x20e)]({'success':!![],'message':_0x521ef4(0x210)});}catch(_0x4c5a02){console['error']('Noda\x20webhook\x20processing\x20error:',_0x4c5a02),loggerService_1[_0x521ef4(0x1fa)][_0x521ef4(0x1ef)](_0x521ef4(0x208),_0x4c5a02,_0x546233[_0x521ef4(0x1f0)]),_0x412bcb[_0x521ef4(0x1fc)](0xc8)[_0x521ef4(0x20e)]({'success':![],'message':_0x4c5a02 instanceof Error?_0x4c5a02[_0x521ef4(0x1f5)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x40d672(0x1df)]=async(_0x515ec0,_0xba5a15,_0x4b575b)=>{const _0x2a2c38=_0x40d672;try{console[_0x2a2c38(0x1fb)]('Received\x20CoinToPay\x20webhook:',_0x515ec0[_0x2a2c38(0x1f0)]),loggerService_1['loggerService'][_0x2a2c38(0x20a)](_0x2a2c38(0x202),_0x515ec0[_0x2a2c38(0x1f0)],_0x515ec0[_0x2a2c38(0x20b)]);const _0x448a44=await this[_0x2a2c38(0x224)]['processCoinToPayWebhook'](_0x515ec0[_0x2a2c38(0x1f0)]);_0xba5a15[_0x2a2c38(0x1fc)](0xc8)[_0x2a2c38(0x20e)]({'success':!![],'message':_0x2a2c38(0x204)});}catch(_0x200b51){console['error'](_0x2a2c38(0x225),_0x200b51),loggerService_1[_0x2a2c38(0x1fa)][_0x2a2c38(0x1ef)]('cointopay',_0x200b51,_0x515ec0[_0x2a2c38(0x1f0)]),_0xba5a15[_0x2a2c38(0x1fc)](0xc8)[_0x2a2c38(0x20e)]({'success':![],'message':_0x200b51 instanceof Error?_0x200b51[_0x2a2c38(0x1f5)]:_0x2a2c38(0x1fe)});}},this[_0x40d672(0x21f)]=async(_0x4d3748,_0x4a1aa2,_0x603d67)=>{const _0x2c52bd=_0x40d672;try{console['log'](_0x2c52bd(0x205),_0x4d3748[_0x2c52bd(0x1f0)]),loggerService_1[_0x2c52bd(0x1fa)][_0x2c52bd(0x20a)]('cointopay2',_0x4d3748[_0x2c52bd(0x1f0)],_0x4d3748[_0x2c52bd(0x20b)]);const _0x1b669f=await this['webhookService'][_0x2c52bd(0x226)](_0x4d3748[_0x2c52bd(0x1f0)]);_0x4a1aa2[_0x2c52bd(0x1fc)](0xc8)[_0x2c52bd(0x20e)]({'success':!![],'message':_0x2c52bd(0x201)});}catch(_0x524822){console[_0x2c52bd(0x1e2)]('CoinToPay2\x20webhook\x20processing\x20error:',_0x524822),loggerService_1[_0x2c52bd(0x1fa)]['logWebhookError'](_0x2c52bd(0x1ff),_0x524822,_0x4d3748['body']),_0x4a1aa2[_0x2c52bd(0x1fc)](0xc8)[_0x2c52bd(0x20e)]({'success':![],'message':_0x524822 instanceof Error?_0x524822[_0x2c52bd(0x1f5)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x1cd213,_0x4caf42,_0x3fd558)=>{const _0x3bf337=_0x40d672;try{console[_0x3bf337(0x1fb)](_0x3bf337(0x1e0),_0x1cd213[_0x3bf337(0x1f0)]),loggerService_1[_0x3bf337(0x1fa)][_0x3bf337(0x20a)](_0x3bf337(0x1e7),_0x1cd213[_0x3bf337(0x1f0)],_0x1cd213['headers']);const _0x202fb0=await this['webhookService'][_0x3bf337(0x21e)](_0x1cd213[_0x3bf337(0x1f0)]);_0x4caf42[_0x3bf337(0x1fc)](0xc8)[_0x3bf337(0x20e)]({'success':!![],'message':_0x3bf337(0x21b)});}catch(_0x203841){console[_0x3bf337(0x1e2)](_0x3bf337(0x223),_0x203841),loggerService_1[_0x3bf337(0x1fa)]['logWebhookError'](_0x3bf337(0x1e7),_0x203841,_0x1cd213[_0x3bf337(0x1f0)]),_0x4caf42[_0x3bf337(0x1fc)](0xc8)[_0x3bf337(0x20e)]({'success':![],'message':_0x203841 instanceof Error?_0x203841['message']:_0x3bf337(0x1ee)});}},this[_0x40d672(0x20f)]=async(_0x5b127b,_0x2a1fe4,_0x3ddfc2)=>{const _0x3fd6f8=_0x40d672;try{console[_0x3fd6f8(0x1fb)](_0x3fd6f8(0x1de),_0x5b127b[_0x3fd6f8(0x1f0)]),loggerService_1['loggerService'][_0x3fd6f8(0x20a)]('mastercard',_0x5b127b['body'],_0x5b127b[_0x3fd6f8(0x20b)]);const _0x1bcb61=await this[_0x3fd6f8(0x224)]['processMasterCardWebhook'](_0x5b127b[_0x3fd6f8(0x1f0)]);_0x2a1fe4[_0x3fd6f8(0x1fc)](0xc8)[_0x3fd6f8(0x20e)]({'success':!![],'message':_0x3fd6f8(0x1e3)});}catch(_0x279a5e){console[_0x3fd6f8(0x1e2)](_0x3fd6f8(0x213),_0x279a5e),loggerService_1[_0x3fd6f8(0x1fa)]['logWebhookError']('mastercard',_0x279a5e,_0x5b127b['body']),_0x2a1fe4[_0x3fd6f8(0x1fc)](0xc8)[_0x3fd6f8(0x20e)]({'success':![],'message':_0x279a5e instanceof Error?_0x279a5e[_0x3fd6f8(0x1f5)]:_0x3fd6f8(0x1da)});}},this[_0x40d672(0x1db)]=async(_0x453cf7,_0xa91057,_0x4e5163)=>{const _0x48c0db=_0x40d672;try{console[_0x48c0db(0x1fb)](_0x48c0db(0x1e1),_0x453cf7[_0x48c0db(0x1f0)]),loggerService_1[_0x48c0db(0x1fa)]['logWebhookReceived'](_0x48c0db(0x206),_0x453cf7[_0x48c0db(0x1f0)],_0x453cf7['headers']);const _0x5e7da0=await this[_0x48c0db(0x224)]['processAmerWebhook'](_0x453cf7[_0x48c0db(0x1f0)]);_0xa91057[_0x48c0db(0x1fc)](0xc8)[_0x48c0db(0x20e)]({'success':!![],'message':_0x48c0db(0x1f8)});}catch(_0x459a61){console[_0x48c0db(0x1e2)](_0x48c0db(0x207),_0x459a61),loggerService_1[_0x48c0db(0x1fa)][_0x48c0db(0x1ef)](_0x48c0db(0x206),_0x459a61,_0x453cf7['body']),_0xa91057[_0x48c0db(0x1fc)](0xc8)[_0x48c0db(0x20e)]({'success':![],'message':_0x459a61 instanceof Error?_0x459a61[_0x48c0db(0x1f5)]:_0x48c0db(0x1ed)});}},this[_0x40d672(0x224)]=new webhookService_1[(_0x40d672(0x1f4))]();}}exports[a15_0x595d80(0x1f3)]=WebhookController;