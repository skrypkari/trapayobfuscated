'use strict';const a15_0x50835e=a15_0x4343;(function(_0x362661,_0x2bd3f3){const _0x7ec419=a15_0x4343,_0x17d051=_0x362661();while(!![]){try{const _0x4e60ba=-parseInt(_0x7ec419(0x119))/0x1+-parseInt(_0x7ec419(0x159))/0x2*(parseInt(_0x7ec419(0x116))/0x3)+parseInt(_0x7ec419(0x126))/0x4*(-parseInt(_0x7ec419(0x12b))/0x5)+-parseInt(_0x7ec419(0x11d))/0x6*(parseInt(_0x7ec419(0x11c))/0x7)+-parseInt(_0x7ec419(0x143))/0x8*(parseInt(_0x7ec419(0x14a))/0x9)+parseInt(_0x7ec419(0x136))/0xa+parseInt(_0x7ec419(0x125))/0xb;if(_0x4e60ba===_0x2bd3f3)break;else _0x17d051['push'](_0x17d051['shift']());}catch(_0x4428c9){_0x17d051['push'](_0x17d051['shift']());}}}(a15_0x232a,0x522cb));Object[a15_0x50835e(0x12d)](exports,a15_0x50835e(0x139),{'value':!![]}),exports[a15_0x50835e(0x122)]=void 0x0;function a15_0x232a(){const _0x5eaaf8=['KLYME\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','Content-Type','handleKlymeWebhook','../services/webhookService','KLYME\x20webhook\x20processing\x20error:','Raw\x20body\x20type:','message','WebhookService','MasterCard\x20webhook\x20processing\x20failed','processRapydWebhook','log','21242TEEWnm','Webhook\x20processing\x20error:','logWebhookError','Body\x20content:','rapyd','CoinToPay2\x20webhook\x20processed\x20successfully','webhookService','handlePlisioGatewayWebhook','Webhook\x20processed\x20successfully','cointopay','Received\x20Amer\x20webhook:','noda','84UWYKsH','processAmerWebhook','Noda\x20webhook\x20processing\x20error:','98377hJzPvk','Received\x20MasterCard\x20webhook:','processMasterCardWebhook','185626EjSRfr','12UAoLwx','error','Noda\x20webhook\x20processed\x20successfully','loggerService','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','WebhookController','body','keys','16087456gJPOeZ','4cvaEtO','status','Amer\x20webhook\x20processing\x20error:','plisio','CoinToPay\x20webhook\x20processing\x20failed','2499470OTNJWh','klyme','defineProperty','Received\x20Rapyd\x20webhook:','Rapyd\x20webhook\x20processed\x20successfully','handleAmerWebhook','logWebhookReceived','CoinToPay2\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','headers','amer','3108740yeEIwk','Rapyd\x20webhook\x20processing\x20error:','json','__esModule','plisio_gateway','Received\x20Noda\x20webhook:','get','CoinToPay\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','CoinToPay2\x20webhook\x20processing\x20failed','processPlisioWebhook','Rapyd\x20webhook\x20processing\x20failed','handleCoinToPay2Webhook','976176KoXzKn','MasterCard\x20webhook\x20processing\x20error:','mastercard','cointopay2','Webhook\x20processing\x20failed','Content-Type:','processCoinToPayWebhook','36HTcNJx','handleMasterCardWebhook'];a15_0x232a=function(){return _0x5eaaf8;};return a15_0x232a();}const webhookService_1=require(a15_0x50835e(0x151)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x31c06c=a15_0x50835e;this['handlePlisioWebhook']=async(_0x3e59c2,_0x24f10a,_0x28e975)=>{const _0x3f1617=a15_0x4343;try{console['log'](_0x3f1617(0x13e)),console['log'](_0x3f1617(0x148),_0x3e59c2[_0x3f1617(0x13c)](_0x3f1617(0x14f))),console['log']('Raw\x20body\x20type:',typeof _0x3e59c2[_0x3f1617(0x123)]),console[_0x3f1617(0x158)]('Body\x20keys:',Object['keys'](_0x3e59c2[_0x3f1617(0x123)]||{})),console[_0x3f1617(0x158)](_0x3f1617(0x15c),_0x3e59c2[_0x3f1617(0x123)]),loggerService_1[_0x3f1617(0x120)][_0x3f1617(0x131)]('plisio',_0x3e59c2[_0x3f1617(0x123)],_0x3e59c2[_0x3f1617(0x134)]);const _0x47534c=await this['webhookService'][_0x3f1617(0x140)](_0x3e59c2[_0x3f1617(0x123)]);_0x24f10a[_0x3f1617(0x127)](0xc8)[_0x3f1617(0x138)]({'success':!![],'message':_0x3f1617(0x112)});}catch(_0x4f7cc4){console[_0x3f1617(0x11e)](_0x3f1617(0x15a),_0x4f7cc4),loggerService_1[_0x3f1617(0x120)][_0x3f1617(0x15b)](_0x3f1617(0x129),_0x4f7cc4,_0x3e59c2[_0x3f1617(0x123)]),_0x24f10a['status'](0xc8)[_0x3f1617(0x138)]({'success':![],'message':_0x4f7cc4 instanceof Error?_0x4f7cc4['message']:_0x3f1617(0x147)});}},this[_0x31c06c(0x111)]=async(_0x2d2b5d,_0x451f9d,_0x2af169)=>{const _0x1d72f3=_0x31c06c;try{console[_0x1d72f3(0x158)](_0x1d72f3(0x121)),console[_0x1d72f3(0x158)](_0x1d72f3(0x148),_0x2d2b5d['get'](_0x1d72f3(0x14f))),console['log'](_0x1d72f3(0x153),typeof _0x2d2b5d[_0x1d72f3(0x123)]),console[_0x1d72f3(0x158)]('Body\x20keys:',Object[_0x1d72f3(0x124)](_0x2d2b5d[_0x1d72f3(0x123)]||{})),console[_0x1d72f3(0x158)]('Body\x20content:',_0x2d2b5d['body']),loggerService_1['loggerService'][_0x1d72f3(0x131)](_0x1d72f3(0x13a),_0x2d2b5d[_0x1d72f3(0x123)],_0x2d2b5d[_0x1d72f3(0x134)]);const _0x2c1dd8=await this['webhookService'][_0x1d72f3(0x14e)](_0x2d2b5d[_0x1d72f3(0x123)]);_0x451f9d[_0x1d72f3(0x127)](0xc8)[_0x1d72f3(0x138)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x42919d){console['error']('Gateway\x20webhook\x20processing\x20error:',_0x42919d),loggerService_1[_0x1d72f3(0x120)][_0x1d72f3(0x15b)](_0x1d72f3(0x13a),_0x42919d,_0x2d2b5d[_0x1d72f3(0x123)]),_0x451f9d[_0x1d72f3(0x127)](0xc8)[_0x1d72f3(0x138)]({'success':![],'message':_0x42919d instanceof Error?_0x42919d[_0x1d72f3(0x154)]:_0x1d72f3(0x14d)});}},this['handleRapydWebhook']=async(_0x1e68d6,_0x3dd156,_0x5eb165)=>{const _0x3613f9=_0x31c06c;try{console[_0x3613f9(0x158)](_0x3613f9(0x12e),_0x1e68d6[_0x3613f9(0x123)]),loggerService_1[_0x3613f9(0x120)][_0x3613f9(0x131)]('rapyd',_0x1e68d6[_0x3613f9(0x123)],_0x1e68d6[_0x3613f9(0x134)]);const _0x4a65c9=await this[_0x3613f9(0x110)][_0x3613f9(0x157)](_0x1e68d6['body']);_0x3dd156[_0x3613f9(0x127)](0xc8)['json']({'success':!![],'message':_0x3613f9(0x12f)});}catch(_0xd86446){console[_0x3613f9(0x11e)](_0x3613f9(0x137),_0xd86446),loggerService_1[_0x3613f9(0x120)][_0x3613f9(0x15b)](_0x3613f9(0x15d),_0xd86446,_0x1e68d6[_0x3613f9(0x123)]),_0x3dd156[_0x3613f9(0x127)](0xc8)[_0x3613f9(0x138)]({'success':![],'message':_0xd86446 instanceof Error?_0xd86446[_0x3613f9(0x154)]:_0x3613f9(0x141)});}},this['handleNodaWebhook']=async(_0x1b170f,_0x368772,_0x3e2c0d)=>{const _0x5853c7=_0x31c06c;try{console['log'](_0x5853c7(0x13b),_0x1b170f[_0x5853c7(0x123)]),loggerService_1[_0x5853c7(0x120)][_0x5853c7(0x131)](_0x5853c7(0x115),_0x1b170f['body'],_0x1b170f[_0x5853c7(0x134)]);const _0x421a25=await this[_0x5853c7(0x110)]['processNodaWebhook'](_0x1b170f[_0x5853c7(0x123)]);_0x368772[_0x5853c7(0x127)](0xc8)['json']({'success':!![],'message':_0x5853c7(0x11f)});}catch(_0x30e3cd){console[_0x5853c7(0x11e)](_0x5853c7(0x118),_0x30e3cd),loggerService_1[_0x5853c7(0x120)][_0x5853c7(0x15b)](_0x5853c7(0x115),_0x30e3cd,_0x1b170f[_0x5853c7(0x123)]),_0x368772['status'](0xc8)['json']({'success':![],'message':_0x30e3cd instanceof Error?_0x30e3cd['message']:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x28f22d,_0x2bd9bd,_0x4d181f)=>{const _0x6e4289=_0x31c06c;try{console[_0x6e4289(0x158)]('Received\x20CoinToPay\x20webhook:',_0x28f22d[_0x6e4289(0x123)]),loggerService_1[_0x6e4289(0x120)][_0x6e4289(0x131)](_0x6e4289(0x113),_0x28f22d[_0x6e4289(0x123)],_0x28f22d[_0x6e4289(0x134)]);const _0x38d4e2=await this[_0x6e4289(0x110)][_0x6e4289(0x149)](_0x28f22d['body']);_0x2bd9bd[_0x6e4289(0x127)](0xc8)['json']({'success':!![],'message':_0x6e4289(0x13d)});}catch(_0x57ec20){console[_0x6e4289(0x11e)]('CoinToPay\x20webhook\x20processing\x20error:',_0x57ec20),loggerService_1[_0x6e4289(0x120)][_0x6e4289(0x15b)](_0x6e4289(0x113),_0x57ec20,_0x28f22d['body']),_0x2bd9bd[_0x6e4289(0x127)](0xc8)[_0x6e4289(0x138)]({'success':![],'message':_0x57ec20 instanceof Error?_0x57ec20[_0x6e4289(0x154)]:_0x6e4289(0x12a)});}},this[_0x31c06c(0x142)]=async(_0x3b1a25,_0x271756,_0x422c54)=>{const _0x813376=_0x31c06c;try{console[_0x813376(0x158)]('Received\x20CoinToPay2\x20webhook:',_0x3b1a25['body']),loggerService_1[_0x813376(0x120)][_0x813376(0x131)](_0x813376(0x146),_0x3b1a25[_0x813376(0x123)],_0x3b1a25[_0x813376(0x134)]);const _0x5977bd=await this[_0x813376(0x110)]['processCoinToPay2Webhook'](_0x3b1a25[_0x813376(0x123)]);_0x271756[_0x813376(0x127)](0xc8)[_0x813376(0x138)]({'success':!![],'message':_0x813376(0x10f)});}catch(_0x1cfb0c){console[_0x813376(0x11e)](_0x813376(0x132),_0x1cfb0c),loggerService_1[_0x813376(0x120)][_0x813376(0x15b)](_0x813376(0x146),_0x1cfb0c,_0x3b1a25[_0x813376(0x123)]),_0x271756['status'](0xc8)[_0x813376(0x138)]({'success':![],'message':_0x1cfb0c instanceof Error?_0x1cfb0c[_0x813376(0x154)]:_0x813376(0x13f)});}},this[_0x31c06c(0x150)]=async(_0x4d71be,_0x58ec52,_0x51a3b5)=>{const _0x5982a4=_0x31c06c;try{console[_0x5982a4(0x158)]('Received\x20KLYME\x20webhook:',_0x4d71be[_0x5982a4(0x123)]),loggerService_1['loggerService'][_0x5982a4(0x131)](_0x5982a4(0x12c),_0x4d71be[_0x5982a4(0x123)],_0x4d71be[_0x5982a4(0x134)]);const _0x2c13fe=await this['webhookService']['processKlymeWebhook'](_0x4d71be[_0x5982a4(0x123)]);_0x58ec52['status'](0xc8)[_0x5982a4(0x138)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4f7711){console[_0x5982a4(0x11e)](_0x5982a4(0x152),_0x4f7711),loggerService_1[_0x5982a4(0x120)]['logWebhookError'](_0x5982a4(0x12c),_0x4f7711,_0x4d71be[_0x5982a4(0x123)]),_0x58ec52[_0x5982a4(0x127)](0xc8)[_0x5982a4(0x138)]({'success':![],'message':_0x4f7711 instanceof Error?_0x4f7711[_0x5982a4(0x154)]:_0x5982a4(0x14c)});}},this[_0x31c06c(0x14b)]=async(_0x3194f6,_0x41aa84,_0x49bb9)=>{const _0x11b602=_0x31c06c;try{console[_0x11b602(0x158)](_0x11b602(0x11a),_0x3194f6[_0x11b602(0x123)]),loggerService_1[_0x11b602(0x120)]['logWebhookReceived'](_0x11b602(0x145),_0x3194f6[_0x11b602(0x123)],_0x3194f6[_0x11b602(0x134)]);const _0x5f55b1=await this[_0x11b602(0x110)][_0x11b602(0x11b)](_0x3194f6[_0x11b602(0x123)]);_0x41aa84[_0x11b602(0x127)](0xc8)['json']({'success':!![],'message':_0x11b602(0x133)});}catch(_0x31af51){console['error'](_0x11b602(0x144),_0x31af51),loggerService_1[_0x11b602(0x120)][_0x11b602(0x15b)]('mastercard',_0x31af51,_0x3194f6['body']),_0x41aa84[_0x11b602(0x127)](0xc8)['json']({'success':![],'message':_0x31af51 instanceof Error?_0x31af51['message']:_0x11b602(0x156)});}},this[_0x31c06c(0x130)]=async(_0x22a4c3,_0x4fbcf6,_0x2ccf65)=>{const _0x53a07e=_0x31c06c;try{console[_0x53a07e(0x158)](_0x53a07e(0x114),_0x22a4c3[_0x53a07e(0x123)]),loggerService_1[_0x53a07e(0x120)][_0x53a07e(0x131)](_0x53a07e(0x135),_0x22a4c3['body'],_0x22a4c3[_0x53a07e(0x134)]);const _0x3ec418=await this['webhookService'][_0x53a07e(0x117)](_0x22a4c3[_0x53a07e(0x123)]);_0x4fbcf6[_0x53a07e(0x127)](0xc8)[_0x53a07e(0x138)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x47ce75){console['error'](_0x53a07e(0x128),_0x47ce75),loggerService_1[_0x53a07e(0x120)][_0x53a07e(0x15b)](_0x53a07e(0x135),_0x47ce75,_0x22a4c3[_0x53a07e(0x123)]),_0x4fbcf6[_0x53a07e(0x127)](0xc8)[_0x53a07e(0x138)]({'success':![],'message':_0x47ce75 instanceof Error?_0x47ce75['message']:'Amer\x20webhook\x20processing\x20failed'});}},this[_0x31c06c(0x110)]=new webhookService_1[(_0x31c06c(0x155))]();}}function a15_0x4343(_0x3a1913,_0x3ece31){const _0x232a72=a15_0x232a();return a15_0x4343=function(_0x434395,_0x9dc3d7){_0x434395=_0x434395-0x10f;let _0x56630a=_0x232a72[_0x434395];return _0x56630a;},a15_0x4343(_0x3a1913,_0x3ece31);}exports[a15_0x50835e(0x122)]=WebhookController;