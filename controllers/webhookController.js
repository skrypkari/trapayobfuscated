'use strict';const a15_0x1a3237=a15_0x3c40;(function(_0x315160,_0x592e00){const _0x517fd0=a15_0x3c40,_0x27f2f4=_0x315160();while(!![]){try{const _0x1278c1=parseInt(_0x517fd0(0x167))/0x1+-parseInt(_0x517fd0(0x159))/0x2*(-parseInt(_0x517fd0(0x18f))/0x3)+parseInt(_0x517fd0(0x187))/0x4+-parseInt(_0x517fd0(0x192))/0x5+parseInt(_0x517fd0(0x190))/0x6*(parseInt(_0x517fd0(0x17c))/0x7)+-parseInt(_0x517fd0(0x182))/0x8+parseInt(_0x517fd0(0x178))/0x9;if(_0x1278c1===_0x592e00)break;else _0x27f2f4['push'](_0x27f2f4['shift']());}catch(_0x318e59){_0x27f2f4['push'](_0x27f2f4['shift']());}}}(a15_0x5d6d,0x6cb04));Object['defineProperty'](exports,a15_0x1a3237(0x163),{'value':!![]}),exports[a15_0x1a3237(0x155)]=void 0x0;function a15_0x3c40(_0x4731a2,_0x200e76){const _0x5d6d0b=a15_0x5d6d();return a15_0x3c40=function(_0x3c4053,_0x3869aa){_0x3c4053=_0x3c4053-0x152;let _0x6203be=_0x5d6d0b[_0x3c4053];return _0x6203be;},a15_0x3c40(_0x4731a2,_0x200e76);}function a15_0x5d6d(){const _0x4ec35e=['1211484xWgfYz','plisio_gateway','KLYME\x20webhook\x20processing\x20error:','processNodaWebhook','handleRapydWebhook','Noda\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processed\x20successfully','Received\x20Noda\x20webhook:','303rUmRiJ','12bVDSSp','Webhook\x20processed\x20successfully','4165555yIDGpg','Body\x20keys:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','noda','MasterCard\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20failed','webhookService','get','WebhookController','Webhook\x20processing\x20failed','body','Gateway\x20webhook\x20processing\x20failed','13378mcZnTd','rapyd','error','handleCoinToPayWebhook','Gateway\x20webhook\x20processing\x20error:','headers','log','loggerService','../services/webhookService','processPlisioWebhook','__esModule','handleKlymeWebhook','Rapyd\x20webhook\x20processing\x20failed','Content-Type:','515500yyUXEn','processRapydWebhook','klyme','message','json','handlePlisioWebhook','handlePlisioGatewayWebhook','Received\x20CoinToPay\x20webhook:','Content-Type','Received\x20MasterCard\x20webhook:','Raw\x20body\x20type:','Rapyd\x20webhook\x20processed\x20successfully','logWebhookError','plisio','MasterCard\x20webhook\x20processed\x20successfully','keys','status','363672zzNqbA','MasterCard\x20webhook\x20processing\x20failed','logWebhookReceived','handleNodaWebhook','1531691rNwoDW','processMasterCardWebhook','CoinToPay\x20webhook\x20processing\x20failed','../services/loggerService','processPlisioGatewayWebhook','WebhookService','5549560bncsVE','Body\x20content:','mastercard','Webhook\x20processing\x20error:','Received\x20Rapyd\x20webhook:'];a15_0x5d6d=function(){return _0x4ec35e;};return a15_0x5d6d();}const webhookService_1=require(a15_0x1a3237(0x161)),loggerService_1=require(a15_0x1a3237(0x17f));class WebhookController{constructor(){const _0x5217b5=a15_0x1a3237;this[_0x5217b5(0x16c)]=async(_0x31d5b1,_0x77340,_0x16d024)=>{const _0xad072=_0x5217b5;try{console[_0xad072(0x15f)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0xad072(0x15f)](_0xad072(0x166),_0x31d5b1[_0xad072(0x154)](_0xad072(0x16f))),console[_0xad072(0x15f)](_0xad072(0x171),typeof _0x31d5b1['body']),console['log'](_0xad072(0x193),Object[_0xad072(0x176)](_0x31d5b1[_0xad072(0x157)]||{})),console[_0xad072(0x15f)](_0xad072(0x183),_0x31d5b1[_0xad072(0x157)]),loggerService_1['loggerService']['logWebhookReceived'](_0xad072(0x174),_0x31d5b1[_0xad072(0x157)],_0x31d5b1[_0xad072(0x15e)]);const _0x1934ee=await this[_0xad072(0x153)][_0xad072(0x162)](_0x31d5b1[_0xad072(0x157)]);_0x77340[_0xad072(0x177)](0xc8)[_0xad072(0x16b)]({'success':!![],'message':_0xad072(0x191)});}catch(_0x1d4ff8){console[_0xad072(0x15b)](_0xad072(0x185),_0x1d4ff8),loggerService_1[_0xad072(0x160)][_0xad072(0x173)](_0xad072(0x174),_0x1d4ff8,_0x31d5b1['body']),_0x77340['status'](0xc8)['json']({'success':![],'message':_0x1d4ff8 instanceof Error?_0x1d4ff8['message']:_0xad072(0x156)});}},this[_0x5217b5(0x16d)]=async(_0x4dc5de,_0x34c1d4,_0x24ca23)=>{const _0x31ae75=_0x5217b5;try{console[_0x31ae75(0x15f)](_0x31ae75(0x194)),console['log']('Content-Type:',_0x4dc5de[_0x31ae75(0x154)](_0x31ae75(0x16f))),console['log'](_0x31ae75(0x171),typeof _0x4dc5de[_0x31ae75(0x157)]),console[_0x31ae75(0x15f)](_0x31ae75(0x193),Object[_0x31ae75(0x176)](_0x4dc5de['body']||{})),console['log'](_0x31ae75(0x183),_0x4dc5de[_0x31ae75(0x157)]),loggerService_1[_0x31ae75(0x160)]['logWebhookReceived'](_0x31ae75(0x188),_0x4dc5de['body'],_0x4dc5de['headers']);const _0x5d54f5=await this['webhookService'][_0x31ae75(0x180)](_0x4dc5de[_0x31ae75(0x157)]);_0x34c1d4[_0x31ae75(0x177)](0xc8)[_0x31ae75(0x16b)]({'success':!![],'message':_0x31ae75(0x18d)});}catch(_0x40f21c){console[_0x31ae75(0x15b)](_0x31ae75(0x15d),_0x40f21c),loggerService_1[_0x31ae75(0x160)][_0x31ae75(0x173)](_0x31ae75(0x188),_0x40f21c,_0x4dc5de['body']),_0x34c1d4[_0x31ae75(0x177)](0xc8)[_0x31ae75(0x16b)]({'success':![],'message':_0x40f21c instanceof Error?_0x40f21c[_0x31ae75(0x16a)]:_0x31ae75(0x158)});}},this[_0x5217b5(0x18b)]=async(_0x37a11a,_0x2f1d5,_0x5a6a1c)=>{const _0xf05992=_0x5217b5;try{console[_0xf05992(0x15f)](_0xf05992(0x186),_0x37a11a[_0xf05992(0x157)]),loggerService_1[_0xf05992(0x160)][_0xf05992(0x17a)](_0xf05992(0x15a),_0x37a11a[_0xf05992(0x157)],_0x37a11a[_0xf05992(0x15e)]);const _0x539f04=await this[_0xf05992(0x153)][_0xf05992(0x168)](_0x37a11a['body']);_0x2f1d5[_0xf05992(0x177)](0xc8)['json']({'success':!![],'message':_0xf05992(0x172)});}catch(_0x260547){console[_0xf05992(0x15b)]('Rapyd\x20webhook\x20processing\x20error:',_0x260547),loggerService_1[_0xf05992(0x160)][_0xf05992(0x173)](_0xf05992(0x15a),_0x260547,_0x37a11a[_0xf05992(0x157)]),_0x2f1d5['status'](0xc8)[_0xf05992(0x16b)]({'success':![],'message':_0x260547 instanceof Error?_0x260547[_0xf05992(0x16a)]:_0xf05992(0x165)});}},this[_0x5217b5(0x17b)]=async(_0x4c81d7,_0x5ce2cd,_0x550e06)=>{const _0xd843f7=_0x5217b5;try{console[_0xd843f7(0x15f)](_0xd843f7(0x18e),_0x4c81d7[_0xd843f7(0x157)]),loggerService_1[_0xd843f7(0x160)][_0xd843f7(0x17a)](_0xd843f7(0x195),_0x4c81d7[_0xd843f7(0x157)],_0x4c81d7[_0xd843f7(0x15e)]);const _0x38ec07=await this[_0xd843f7(0x153)][_0xd843f7(0x18a)](_0x4c81d7[_0xd843f7(0x157)]);_0x5ce2cd[_0xd843f7(0x177)](0xc8)[_0xd843f7(0x16b)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x3a1f29){console[_0xd843f7(0x15b)](_0xd843f7(0x18c),_0x3a1f29),loggerService_1['loggerService'][_0xd843f7(0x173)]('noda',_0x3a1f29,_0x4c81d7['body']),_0x5ce2cd[_0xd843f7(0x177)](0xc8)['json']({'success':![],'message':_0x3a1f29 instanceof Error?_0x3a1f29[_0xd843f7(0x16a)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x5217b5(0x15c)]=async(_0x39d110,_0x126d7a,_0x3b290b)=>{const _0x41231e=_0x5217b5;try{console[_0x41231e(0x15f)](_0x41231e(0x16e),_0x39d110[_0x41231e(0x157)]),loggerService_1[_0x41231e(0x160)]['logWebhookReceived']('cointopay',_0x39d110['body'],_0x39d110[_0x41231e(0x15e)]);const _0x4ecef3=await this[_0x41231e(0x153)]['processCoinToPayWebhook'](_0x39d110[_0x41231e(0x157)]);_0x126d7a[_0x41231e(0x177)](0xc8)[_0x41231e(0x16b)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x49f0e3){console[_0x41231e(0x15b)]('CoinToPay\x20webhook\x20processing\x20error:',_0x49f0e3),loggerService_1[_0x41231e(0x160)][_0x41231e(0x173)]('cointopay',_0x49f0e3,_0x39d110[_0x41231e(0x157)]),_0x126d7a['status'](0xc8)[_0x41231e(0x16b)]({'success':![],'message':_0x49f0e3 instanceof Error?_0x49f0e3[_0x41231e(0x16a)]:_0x41231e(0x17e)});}},this[_0x5217b5(0x164)]=async(_0x1192ca,_0x31684b,_0x5e3b17)=>{const _0x1487d8=_0x5217b5;try{console[_0x1487d8(0x15f)]('Received\x20KLYME\x20webhook:',_0x1192ca['body']),loggerService_1[_0x1487d8(0x160)][_0x1487d8(0x17a)]('klyme',_0x1192ca[_0x1487d8(0x157)],_0x1192ca[_0x1487d8(0x15e)]);const _0x239f21=await this[_0x1487d8(0x153)]['processKlymeWebhook'](_0x1192ca['body']);_0x31684b[_0x1487d8(0x177)](0xc8)[_0x1487d8(0x16b)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x22fe96){console['error'](_0x1487d8(0x189),_0x22fe96),loggerService_1[_0x1487d8(0x160)][_0x1487d8(0x173)](_0x1487d8(0x169),_0x22fe96,_0x1192ca[_0x1487d8(0x157)]),_0x31684b[_0x1487d8(0x177)](0xc8)[_0x1487d8(0x16b)]({'success':![],'message':_0x22fe96 instanceof Error?_0x22fe96['message']:_0x1487d8(0x152)});}},this['handleMasterCardWebhook']=async(_0x5c08f6,_0x238b1b,_0x4baef3)=>{const _0x189776=_0x5217b5;try{console[_0x189776(0x15f)](_0x189776(0x170),_0x5c08f6['body']),loggerService_1[_0x189776(0x160)][_0x189776(0x17a)](_0x189776(0x184),_0x5c08f6['body'],_0x5c08f6['headers']);const _0xfce4a2=await this['webhookService'][_0x189776(0x17d)](_0x5c08f6['body']);_0x238b1b[_0x189776(0x177)](0xc8)[_0x189776(0x16b)]({'success':!![],'message':_0x189776(0x175)});}catch(_0x315e72){console[_0x189776(0x15b)](_0x189776(0x196),_0x315e72),loggerService_1[_0x189776(0x160)][_0x189776(0x173)]('mastercard',_0x315e72,_0x5c08f6[_0x189776(0x157)]),_0x238b1b['status'](0xc8)[_0x189776(0x16b)]({'success':![],'message':_0x315e72 instanceof Error?_0x315e72['message']:_0x189776(0x179)});}},this[_0x5217b5(0x153)]=new webhookService_1[(_0x5217b5(0x181))]();}}exports['WebhookController']=WebhookController;