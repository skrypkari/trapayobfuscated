'use strict';const a15_0x343d3b=a15_0x7991;(function(_0x1b72d0,_0x53a801){const _0x5c86b6=a15_0x7991,_0x49a6f1=_0x1b72d0();while(!![]){try{const _0xc3b54e=-parseInt(_0x5c86b6(0xe3))/0x1+parseInt(_0x5c86b6(0xb5))/0x2*(parseInt(_0x5c86b6(0xef))/0x3)+-parseInt(_0x5c86b6(0xce))/0x4+parseInt(_0x5c86b6(0x102))/0x5+-parseInt(_0x5c86b6(0xc0))/0x6*(-parseInt(_0x5c86b6(0xae))/0x7)+parseInt(_0x5c86b6(0x107))/0x8+parseInt(_0x5c86b6(0xcc))/0x9*(-parseInt(_0x5c86b6(0xc9))/0xa);if(_0xc3b54e===_0x53a801)break;else _0x49a6f1['push'](_0x49a6f1['shift']());}catch(_0x39a88a){_0x49a6f1['push'](_0x49a6f1['shift']());}}}(a15_0x3f0a,0xf317d));Object[a15_0x343d3b(0xee)](exports,a15_0x343d3b(0xba),{'value':!![]}),exports[a15_0x343d3b(0xf1)]=void 0x0;function a15_0x7991(_0x53417c,_0x5ca225){const _0x3f0a4=a15_0x3f0a();return a15_0x7991=function(_0x799151,_0x2330cc){_0x799151=_0x799151-0xad;let _0x4b9b58=_0x3f0a4[_0x799151];return _0x4b9b58;},a15_0x7991(_0x53417c,_0x5ca225);}function a15_0x3f0a(){const _0x2c1e7f=['handleCoinToPay2Webhook','===\x20AmPay\x20Webhook\x20Received\x20===','CoinToPay\x20webhook\x20processing\x20failed','handleNodaWebhook','Body\x20content:','22805fdfkLp','logWebhookError','../services/loggerService','../services/webhookService','CoinToPay\x20webhook\x20processed\x20successfully','status','Gateway\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','Webhook\x20processing\x20error:','plisio_gateway','Amer\x20webhook\x20processed\x20successfully','defineProperty','3CQNxmX','Body:','WebhookController','klyme','CoinToPay2\x20webhook\x20processing\x20error:','cointopay','visa','KLYME\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','processAmPayWebhook','Noda\x20webhook\x20processed\x20successfully','amer','rapyd','handleMasterCardWebhook','Amer\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20failed','noda','cointopay2','processPlisioGatewayWebhook','3602170oJDfuw','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','CoinToPay\x20webhook\x20processing\x20error:','CoinToPay2\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20failed','12927344INdcTn','handleAmPayWebhook','loggerService','21Gkuguf','get','Amer\x20webhook\x20processing\x20failed','VISA\x20webhook\x20processing\x20error:','message','Webhook\x20processing\x20failed','Received\x20Amer\x20webhook:','1702982kQZcPN','Noda\x20webhook\x20processing\x20error:','processAmerWebhook','KLYME\x20webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','__esModule','handleRapydWebhook','processNodaWebhook','body','plisio','Rapyd\x20webhook\x20processing\x20failed','2689578KPYooi','error','handleKlymeWebhook','logWebhookReceived','Received\x20Rapyd\x20webhook:','Content-Type:','processRapydWebhook','AmPay\x20webhook\x20processing\x20failed','json','9033280jOIxqM','Content-Type','mastercard','27rsIzzl','Received\x20CoinToPay2\x20webhook:','3216536TBMimW','AmPay\x20webhook\x20processed\x20successfully','processPlisioWebhook','ampay','headers','Headers:','Received\x20MasterCard\x20webhook:','AmPay\x20webhook\x20processing\x20error:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','webhookService','handlePlisioWebhook','Received\x20VISA\x20webhook:','keys','Body\x20keys:','log','processVisaWebhook'];a15_0x3f0a=function(){return _0x2c1e7f;};return a15_0x3f0a();}const webhookService_1=require(a15_0x343d3b(0xe6)),loggerService_1=require(a15_0x343d3b(0xe5));class WebhookController{constructor(){const _0x40cc95=a15_0x343d3b;this[_0x40cc95(0xd8)]=async(_0x991835,_0x2ad8be,_0x17c060)=>{const _0x1637f5=_0x40cc95;try{console['log'](_0x1637f5(0xd6)),console[_0x1637f5(0xdc)](_0x1637f5(0xc5),_0x991835[_0x1637f5(0xaf)](_0x1637f5(0xca))),console[_0x1637f5(0xdc)]('Raw\x20body\x20type:',typeof _0x991835[_0x1637f5(0xbd)]),console['log']('Body\x20keys:',Object[_0x1637f5(0xda)](_0x991835[_0x1637f5(0xbd)]||{})),console[_0x1637f5(0xdc)]('Body\x20content:',_0x991835[_0x1637f5(0xbd)]),loggerService_1[_0x1637f5(0xad)][_0x1637f5(0xc3)](_0x1637f5(0xbe),_0x991835[_0x1637f5(0xbd)],_0x991835[_0x1637f5(0xd2)]);const _0xf11762=await this[_0x1637f5(0xd7)][_0x1637f5(0xd0)](_0x991835[_0x1637f5(0xbd)]);_0x2ad8be[_0x1637f5(0xe8)](0xc8)[_0x1637f5(0xc8)]({'success':!![],'message':_0x1637f5(0xb9)});}catch(_0x76c110){console[_0x1637f5(0xc1)](_0x1637f5(0xeb),_0x76c110),loggerService_1[_0x1637f5(0xad)]['logWebhookError'](_0x1637f5(0xbe),_0x76c110,_0x991835[_0x1637f5(0xbd)]),_0x2ad8be[_0x1637f5(0xe8)](0xc8)[_0x1637f5(0xc8)]({'success':![],'message':_0x76c110 instanceof Error?_0x76c110['message']:_0x1637f5(0xb3)});}},this['handlePlisioGatewayWebhook']=async(_0x10c89d,_0x27da7c,_0x300e4a)=>{const _0x4d15af=_0x40cc95;try{console['log'](_0x4d15af(0x103)),console[_0x4d15af(0xdc)](_0x4d15af(0xc5),_0x10c89d[_0x4d15af(0xaf)](_0x4d15af(0xca))),console[_0x4d15af(0xdc)]('Raw\x20body\x20type:',typeof _0x10c89d[_0x4d15af(0xbd)]),console['log']('Body\x20keys:',Object[_0x4d15af(0xda)](_0x10c89d[_0x4d15af(0xbd)]||{})),console[_0x4d15af(0xdc)](_0x4d15af(0xe2),_0x10c89d[_0x4d15af(0xbd)]),loggerService_1[_0x4d15af(0xad)][_0x4d15af(0xc3)](_0x4d15af(0xec),_0x10c89d['body'],_0x10c89d['headers']);const _0x428569=await this[_0x4d15af(0xd7)][_0x4d15af(0x101)](_0x10c89d['body']);_0x27da7c['status'](0xc8)[_0x4d15af(0xc8)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x278bbf){console['error']('Gateway\x20webhook\x20processing\x20error:',_0x278bbf),loggerService_1[_0x4d15af(0xad)][_0x4d15af(0xe4)](_0x4d15af(0xec),_0x278bbf,_0x10c89d['body']),_0x27da7c[_0x4d15af(0xe8)](0xc8)['json']({'success':![],'message':_0x278bbf instanceof Error?_0x278bbf[_0x4d15af(0xb2)]:_0x4d15af(0xe9)});}},this[_0x40cc95(0xbb)]=async(_0x4ed0d0,_0x555a0f,_0x5ba205)=>{const _0x266756=_0x40cc95;try{console['log'](_0x266756(0xc4),_0x4ed0d0[_0x266756(0xbd)]),loggerService_1[_0x266756(0xad)]['logWebhookReceived']('rapyd',_0x4ed0d0['body'],_0x4ed0d0[_0x266756(0xd2)]);const _0x424301=await this[_0x266756(0xd7)][_0x266756(0xc6)](_0x4ed0d0[_0x266756(0xbd)]);_0x555a0f[_0x266756(0xe8)](0xc8)[_0x266756(0xc8)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x30a4cd){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x30a4cd),loggerService_1[_0x266756(0xad)][_0x266756(0xe4)](_0x266756(0xfb),_0x30a4cd,_0x4ed0d0[_0x266756(0xbd)]),_0x555a0f['status'](0xc8)[_0x266756(0xc8)]({'success':![],'message':_0x30a4cd instanceof Error?_0x30a4cd['message']:_0x266756(0xbf)});}},this[_0x40cc95(0xe1)]=async(_0x49491,_0x162b0f,_0xec0aaa)=>{const _0x20df09=_0x40cc95;try{console[_0x20df09(0xdc)]('Received\x20Noda\x20webhook:',_0x49491[_0x20df09(0xbd)]),loggerService_1[_0x20df09(0xad)][_0x20df09(0xc3)](_0x20df09(0xff),_0x49491[_0x20df09(0xbd)],_0x49491[_0x20df09(0xd2)]);const _0x24490a=await this[_0x20df09(0xd7)][_0x20df09(0xbc)](_0x49491[_0x20df09(0xbd)]);_0x162b0f[_0x20df09(0xe8)](0xc8)['json']({'success':!![],'message':_0x20df09(0xf9)});}catch(_0xea8d46){console[_0x20df09(0xc1)](_0x20df09(0xb6),_0xea8d46),loggerService_1[_0x20df09(0xad)]['logWebhookError']('noda',_0xea8d46,_0x49491[_0x20df09(0xbd)]),_0x162b0f[_0x20df09(0xe8)](0xc8)[_0x20df09(0xc8)]({'success':![],'message':_0xea8d46 instanceof Error?_0xea8d46['message']:_0x20df09(0x106)});}},this[_0x40cc95(0xf7)]=async(_0x489361,_0x2c36b0,_0x50de4e)=>{const _0x8c3362=_0x40cc95;try{console[_0x8c3362(0xdc)]('Received\x20CoinToPay\x20webhook:',_0x489361[_0x8c3362(0xbd)]),loggerService_1['loggerService'][_0x8c3362(0xc3)](_0x8c3362(0xf4),_0x489361[_0x8c3362(0xbd)],_0x489361[_0x8c3362(0xd2)]);const _0x44b088=await this[_0x8c3362(0xd7)]['processCoinToPayWebhook'](_0x489361['body']);_0x2c36b0[_0x8c3362(0xe8)](0xc8)[_0x8c3362(0xc8)]({'success':!![],'message':_0x8c3362(0xe7)});}catch(_0x2e49b9){console[_0x8c3362(0xc1)](_0x8c3362(0x104),_0x2e49b9),loggerService_1[_0x8c3362(0xad)][_0x8c3362(0xe4)](_0x8c3362(0xf4),_0x2e49b9,_0x489361[_0x8c3362(0xbd)]),_0x2c36b0[_0x8c3362(0xe8)](0xc8)[_0x8c3362(0xc8)]({'success':![],'message':_0x2e49b9 instanceof Error?_0x2e49b9[_0x8c3362(0xb2)]:_0x8c3362(0xe0)});}},this[_0x40cc95(0xde)]=async(_0x2fd821,_0x15dada,_0x297242)=>{const _0x1762f4=_0x40cc95;try{console[_0x1762f4(0xdc)](_0x1762f4(0xcd),_0x2fd821[_0x1762f4(0xbd)]),loggerService_1[_0x1762f4(0xad)][_0x1762f4(0xc3)](_0x1762f4(0x100),_0x2fd821['body'],_0x2fd821['headers']);const _0x265a5e=await this['webhookService']['processCoinToPay2Webhook'](_0x2fd821['body']);_0x15dada[_0x1762f4(0xe8)](0xc8)['json']({'success':!![],'message':_0x1762f4(0x105)});}catch(_0x1e734f){console[_0x1762f4(0xc1)](_0x1762f4(0xf3),_0x1e734f),loggerService_1[_0x1762f4(0xad)]['logWebhookError']('cointopay2',_0x1e734f,_0x2fd821['body']),_0x15dada[_0x1762f4(0xe8)](0xc8)[_0x1762f4(0xc8)]({'success':![],'message':_0x1e734f instanceof Error?_0x1e734f[_0x1762f4(0xb2)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x40cc95(0xc2)]=async(_0x5abfe7,_0x4941b1,_0x28435f)=>{const _0x26e809=_0x40cc95;try{console[_0x26e809(0xdc)]('Received\x20KLYME\x20webhook:',_0x5abfe7[_0x26e809(0xbd)]),loggerService_1[_0x26e809(0xad)][_0x26e809(0xc3)](_0x26e809(0xf2),_0x5abfe7[_0x26e809(0xbd)],_0x5abfe7[_0x26e809(0xd2)]);const _0xa2baf5=await this[_0x26e809(0xd7)]['processKlymeWebhook'](_0x5abfe7[_0x26e809(0xbd)]);_0x4941b1['status'](0xc8)[_0x26e809(0xc8)]({'success':!![],'message':_0x26e809(0xf6)});}catch(_0x423404){console[_0x26e809(0xc1)]('KLYME\x20webhook\x20processing\x20error:',_0x423404),loggerService_1[_0x26e809(0xad)][_0x26e809(0xe4)](_0x26e809(0xf2),_0x423404,_0x5abfe7['body']),_0x4941b1[_0x26e809(0xe8)](0xc8)[_0x26e809(0xc8)]({'success':![],'message':_0x423404 instanceof Error?_0x423404[_0x26e809(0xb2)]:_0x26e809(0xb8)});}},this['handleVisaWebhook']=async(_0x23b3f5,_0xeb1491,_0x3d12bd)=>{const _0x305303=_0x40cc95;try{console[_0x305303(0xdc)](_0x305303(0xd9),_0x23b3f5[_0x305303(0xbd)]),loggerService_1[_0x305303(0xad)]['logWebhookReceived']('visa',_0x23b3f5['body'],_0x23b3f5['headers']);const _0x42f3a6=await this['webhookService'][_0x305303(0xdd)](_0x23b3f5[_0x305303(0xbd)]);_0xeb1491[_0x305303(0xe8)](0xc8)[_0x305303(0xc8)]({'success':!![],'message':'VISA\x20webhook\x20processed\x20successfully'});}catch(_0x1abf95){console[_0x305303(0xc1)](_0x305303(0xb1),_0x1abf95),loggerService_1['loggerService'][_0x305303(0xe4)](_0x305303(0xf5),_0x1abf95,_0x23b3f5[_0x305303(0xbd)]),_0xeb1491[_0x305303(0xe8)](0xc8)['json']({'success':![],'message':_0x1abf95 instanceof Error?_0x1abf95[_0x305303(0xb2)]:'VISA\x20webhook\x20processing\x20failed'});}},this[_0x40cc95(0xfc)]=async(_0x258c0d,_0x3e75be,_0x10c267)=>{const _0x3645d0=_0x40cc95;try{console[_0x3645d0(0xdc)](_0x3645d0(0xd4),_0x258c0d['body']),loggerService_1[_0x3645d0(0xad)][_0x3645d0(0xc3)]('mastercard',_0x258c0d[_0x3645d0(0xbd)],_0x258c0d[_0x3645d0(0xd2)]);const _0x247181=await this[_0x3645d0(0xd7)]['processMasterCardWebhook'](_0x258c0d[_0x3645d0(0xbd)]);_0x3e75be[_0x3645d0(0xe8)](0xc8)[_0x3645d0(0xc8)]({'success':!![],'message':_0x3645d0(0xea)});}catch(_0x93756c){console['error']('MasterCard\x20webhook\x20processing\x20error:',_0x93756c),loggerService_1[_0x3645d0(0xad)][_0x3645d0(0xe4)](_0x3645d0(0xcb),_0x93756c,_0x258c0d[_0x3645d0(0xbd)]),_0x3e75be[_0x3645d0(0xe8)](0xc8)['json']({'success':![],'message':_0x93756c instanceof Error?_0x93756c[_0x3645d0(0xb2)]:_0x3645d0(0xfe)});}},this['handleAmerWebhook']=async(_0x2268bd,_0x65a9ff,_0x1a93e7)=>{const _0x30ce6d=_0x40cc95;try{console[_0x30ce6d(0xdc)](_0x30ce6d(0xb4),_0x2268bd[_0x30ce6d(0xbd)]),loggerService_1[_0x30ce6d(0xad)][_0x30ce6d(0xc3)](_0x30ce6d(0xfa),_0x2268bd[_0x30ce6d(0xbd)],_0x2268bd['headers']);const _0x515a56=await this['webhookService'][_0x30ce6d(0xb7)](_0x2268bd[_0x30ce6d(0xbd)]);_0x65a9ff[_0x30ce6d(0xe8)](0xc8)[_0x30ce6d(0xc8)]({'success':!![],'message':_0x30ce6d(0xed)});}catch(_0x6cd7ab){console[_0x30ce6d(0xc1)](_0x30ce6d(0xfd),_0x6cd7ab),loggerService_1[_0x30ce6d(0xad)]['logWebhookError'](_0x30ce6d(0xfa),_0x6cd7ab,_0x2268bd['body']),_0x65a9ff['status'](0xc8)['json']({'success':![],'message':_0x6cd7ab instanceof Error?_0x6cd7ab[_0x30ce6d(0xb2)]:_0x30ce6d(0xb0)});}},this[_0x40cc95(0x108)]=async(_0x4219fb,_0x1b11ec,_0x1f6323)=>{const _0x117890=_0x40cc95;try{console[_0x117890(0xdc)](_0x117890(0xdf)),console[_0x117890(0xdc)](_0x117890(0xd3),_0x4219fb[_0x117890(0xd2)]),console[_0x117890(0xdc)](_0x117890(0xf0),_0x4219fb[_0x117890(0xbd)]),console[_0x117890(0xdc)]('Body\x20type:',typeof _0x4219fb[_0x117890(0xbd)]),console['log'](_0x117890(0xdb),Object[_0x117890(0xda)](_0x4219fb[_0x117890(0xbd)]||{})),loggerService_1['loggerService'][_0x117890(0xc3)](_0x117890(0xd1),_0x4219fb[_0x117890(0xbd)],_0x4219fb[_0x117890(0xd2)]);const _0x1df285=await this[_0x117890(0xd7)][_0x117890(0xf8)](_0x4219fb[_0x117890(0xbd)]);_0x1b11ec[_0x117890(0xe8)](0xc8)[_0x117890(0xc8)]({'success':!![],'message':_0x117890(0xcf)});}catch(_0x1a4027){console[_0x117890(0xc1)](_0x117890(0xd5),_0x1a4027),loggerService_1[_0x117890(0xad)][_0x117890(0xe4)](_0x117890(0xd1),_0x1a4027,_0x4219fb['body']),_0x1b11ec[_0x117890(0xe8)](0xc8)[_0x117890(0xc8)]({'success':![],'message':_0x1a4027 instanceof Error?_0x1a4027[_0x117890(0xb2)]:_0x117890(0xc7)});}},this[_0x40cc95(0xd7)]=new webhookService_1['WebhookService']();}}exports[a15_0x343d3b(0xf1)]=WebhookController;