'use strict';const a15_0x2f053=a15_0x1281;(function(_0x4b8d11,_0x2d7d19){const _0x26e547=a15_0x1281,_0x15eba4=_0x4b8d11();while(!![]){try{const _0x4e17cb=parseInt(_0x26e547(0x11e))/0x1*(-parseInt(_0x26e547(0x136))/0x2)+-parseInt(_0x26e547(0x120))/0x3+-parseInt(_0x26e547(0x109))/0x4+-parseInt(_0x26e547(0x11f))/0x5*(parseInt(_0x26e547(0x12b))/0x6)+parseInt(_0x26e547(0x115))/0x7*(-parseInt(_0x26e547(0xfe))/0x8)+-parseInt(_0x26e547(0xfb))/0x9*(parseInt(_0x26e547(0x11a))/0xa)+parseInt(_0x26e547(0x116))/0xb*(parseInt(_0x26e547(0xff))/0xc);if(_0x4e17cb===_0x2d7d19)break;else _0x15eba4['push'](_0x15eba4['shift']());}catch(_0x35c9a9){_0x15eba4['push'](_0x15eba4['shift']());}}}(a15_0x5432,0xa0d8c));Object[a15_0x2f053(0xed)](exports,a15_0x2f053(0x131),{'value':!![]}),exports[a15_0x2f053(0x10c)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x2f053(0x121));class WebhookController{constructor(){const _0x381193=a15_0x2f053;this['handlePlisioWebhook']=async(_0x22d8ef,_0x4814e0,_0x144315)=>{const _0x437919=a15_0x1281;try{console[_0x437919(0x10a)](_0x437919(0x117)),console[_0x437919(0x10a)]('Content-Type:',_0x22d8ef[_0x437919(0x10b)]('Content-Type')),console[_0x437919(0x10a)](_0x437919(0xf9),typeof _0x22d8ef[_0x437919(0x129)]),console[_0x437919(0x10a)](_0x437919(0xf2),Object[_0x437919(0x113)](_0x22d8ef[_0x437919(0x129)]||{})),console[_0x437919(0x10a)]('Body\x20content:',_0x22d8ef[_0x437919(0x129)]),loggerService_1['loggerService']['logWebhookReceived'](_0x437919(0x119),_0x22d8ef[_0x437919(0x129)],_0x22d8ef[_0x437919(0x105)]);const _0x3bc54a=await this[_0x437919(0x110)][_0x437919(0x126)](_0x22d8ef[_0x437919(0x129)]);_0x4814e0[_0x437919(0x134)](0xc8)[_0x437919(0x10d)]({'success':!![],'message':_0x437919(0x132)});}catch(_0x49505e){console[_0x437919(0xf7)](_0x437919(0x135),_0x49505e),loggerService_1[_0x437919(0xf6)][_0x437919(0x102)]('plisio',_0x49505e,_0x22d8ef[_0x437919(0x129)]),_0x4814e0[_0x437919(0x134)](0xc8)[_0x437919(0x10d)]({'success':![],'message':_0x49505e instanceof Error?_0x49505e['message']:_0x437919(0x10f)});}},this[_0x381193(0x106)]=async(_0x36acbe,_0x5d0ee1,_0x2b0cd1)=>{const _0x2c30d0=_0x381193;try{console[_0x2c30d0(0x10a)](_0x2c30d0(0x12e)),console[_0x2c30d0(0x10a)]('Content-Type:',_0x36acbe[_0x2c30d0(0x10b)](_0x2c30d0(0xfc))),console['log'](_0x2c30d0(0xf9),typeof _0x36acbe[_0x2c30d0(0x129)]),console[_0x2c30d0(0x10a)](_0x2c30d0(0xf2),Object[_0x2c30d0(0x113)](_0x36acbe[_0x2c30d0(0x129)]||{})),console['log'](_0x2c30d0(0x10e),_0x36acbe[_0x2c30d0(0x129)]),loggerService_1[_0x2c30d0(0xf6)][_0x2c30d0(0xf8)](_0x2c30d0(0x11b),_0x36acbe['body'],_0x36acbe[_0x2c30d0(0x105)]);const _0x5048fd=await this[_0x2c30d0(0x110)]['processPlisioGatewayWebhook'](_0x36acbe['body']);_0x5d0ee1['status'](0xc8)['json']({'success':!![],'message':_0x2c30d0(0x11d)});}catch(_0x59ab0c){console[_0x2c30d0(0xf7)](_0x2c30d0(0x112),_0x59ab0c),loggerService_1[_0x2c30d0(0xf6)][_0x2c30d0(0x102)]('plisio_gateway',_0x59ab0c,_0x36acbe[_0x2c30d0(0x129)]),_0x5d0ee1[_0x2c30d0(0x134)](0xc8)[_0x2c30d0(0x10d)]({'success':![],'message':_0x59ab0c instanceof Error?_0x59ab0c[_0x2c30d0(0x118)]:_0x2c30d0(0x101)});}},this[_0x381193(0x114)]=async(_0xd5a96a,_0x53db7a,_0x45eabf)=>{const _0x3841fc=_0x381193;try{console[_0x3841fc(0x10a)](_0x3841fc(0x124),_0xd5a96a['body']),loggerService_1[_0x3841fc(0xf6)][_0x3841fc(0xf8)](_0x3841fc(0xf5),_0xd5a96a['body'],_0xd5a96a[_0x3841fc(0x105)]);const _0x18fb4a=await this[_0x3841fc(0x110)]['processRapydWebhook'](_0xd5a96a['body']);_0x53db7a[_0x3841fc(0x134)](0xc8)[_0x3841fc(0x10d)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x4ca20c){console[_0x3841fc(0xf7)](_0x3841fc(0x104),_0x4ca20c),loggerService_1[_0x3841fc(0xf6)]['logWebhookError'](_0x3841fc(0xf5),_0x4ca20c,_0xd5a96a['body']),_0x53db7a[_0x3841fc(0x134)](0xc8)[_0x3841fc(0x10d)]({'success':![],'message':_0x4ca20c instanceof Error?_0x4ca20c[_0x3841fc(0x118)]:_0x3841fc(0x103)});}},this[_0x381193(0x111)]=async(_0x32274a,_0x240427,_0x5e9acf)=>{const _0x16d855=_0x381193;try{console[_0x16d855(0x10a)](_0x16d855(0x125),_0x32274a[_0x16d855(0x129)]),loggerService_1[_0x16d855(0xf6)][_0x16d855(0xf8)](_0x16d855(0xf3),_0x32274a[_0x16d855(0x129)],_0x32274a['headers']);const _0x4cf738=await this[_0x16d855(0x110)]['processNodaWebhook'](_0x32274a[_0x16d855(0x129)]);_0x240427['status'](0xc8)['json']({'success':!![],'message':_0x16d855(0x12f)});}catch(_0x221df0){console[_0x16d855(0xf7)](_0x16d855(0x133),_0x221df0),loggerService_1[_0x16d855(0xf6)][_0x16d855(0x102)](_0x16d855(0xf3),_0x221df0,_0x32274a[_0x16d855(0x129)]),_0x240427['status'](0xc8)['json']({'success':![],'message':_0x221df0 instanceof Error?_0x221df0['message']:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x3d0495,_0x19fe65,_0x2ac07f)=>{const _0x4d662b=_0x381193;try{console[_0x4d662b(0x10a)](_0x4d662b(0x130),_0x3d0495[_0x4d662b(0x129)]),loggerService_1[_0x4d662b(0xf6)][_0x4d662b(0xf8)](_0x4d662b(0x107),_0x3d0495[_0x4d662b(0x129)],_0x3d0495[_0x4d662b(0x105)]);const _0x230aa0=await this[_0x4d662b(0x110)]['processCoinToPayWebhook'](_0x3d0495[_0x4d662b(0x129)]);_0x19fe65[_0x4d662b(0x134)](0xc8)[_0x4d662b(0x10d)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x18094c){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0x18094c),loggerService_1[_0x4d662b(0xf6)][_0x4d662b(0x102)](_0x4d662b(0x107),_0x18094c,_0x3d0495['body']),_0x19fe65[_0x4d662b(0x134)](0xc8)['json']({'success':![],'message':_0x18094c instanceof Error?_0x18094c[_0x4d662b(0x118)]:_0x4d662b(0x127)});}},this['handleCoinToPay2Webhook']=async(_0x1b0652,_0x46ce97,_0x4ab162)=>{const _0xb14b9f=_0x381193;try{console[_0xb14b9f(0x10a)]('Received\x20CoinToPay2\x20webhook:',_0x1b0652[_0xb14b9f(0x129)]),loggerService_1[_0xb14b9f(0xf6)][_0xb14b9f(0xf8)](_0xb14b9f(0x11c),_0x1b0652[_0xb14b9f(0x129)],_0x1b0652[_0xb14b9f(0x105)]);const _0x5e020a=await this[_0xb14b9f(0x110)][_0xb14b9f(0xec)](_0x1b0652['body']);_0x46ce97[_0xb14b9f(0x134)](0xc8)[_0xb14b9f(0x10d)]({'success':!![],'message':_0xb14b9f(0x123)});}catch(_0x246cce){console[_0xb14b9f(0xf7)](_0xb14b9f(0x12c),_0x246cce),loggerService_1[_0xb14b9f(0xf6)][_0xb14b9f(0x102)]('cointopay2',_0x246cce,_0x1b0652[_0xb14b9f(0x129)]),_0x46ce97[_0xb14b9f(0x134)](0xc8)['json']({'success':![],'message':_0x246cce instanceof Error?_0x246cce['message']:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x4fc70e,_0x27f35e,_0x138b29)=>{const _0x303449=_0x381193;try{console[_0x303449(0x10a)](_0x303449(0x100),_0x4fc70e[_0x303449(0x129)]),loggerService_1['loggerService']['logWebhookReceived']('klyme',_0x4fc70e['body'],_0x4fc70e['headers']);const _0x22fa5d=await this[_0x303449(0x110)][_0x303449(0xfd)](_0x4fc70e[_0x303449(0x129)]);_0x27f35e['status'](0xc8)[_0x303449(0x10d)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4a07ab){console[_0x303449(0xf7)](_0x303449(0x12a),_0x4a07ab),loggerService_1[_0x303449(0xf6)][_0x303449(0x102)](_0x303449(0xf4),_0x4a07ab,_0x4fc70e[_0x303449(0x129)]),_0x27f35e[_0x303449(0x134)](0xc8)[_0x303449(0x10d)]({'success':![],'message':_0x4a07ab instanceof Error?_0x4a07ab['message']:_0x303449(0xee)});}},this[_0x381193(0xfa)]=async(_0x438ee7,_0x5aa0f0,_0x322bf5)=>{const _0x33a804=_0x381193;try{console['log'](_0x33a804(0x128),_0x438ee7[_0x33a804(0x129)]),loggerService_1[_0x33a804(0xf6)][_0x33a804(0xf8)](_0x33a804(0xf1),_0x438ee7[_0x33a804(0x129)],_0x438ee7[_0x33a804(0x105)]);const _0x5947e2=await this[_0x33a804(0x110)][_0x33a804(0x12d)](_0x438ee7[_0x33a804(0x129)]);_0x5aa0f0['status'](0xc8)['json']({'success':!![],'message':_0x33a804(0x122)});}catch(_0x3c8422){console['error'](_0x33a804(0x108),_0x3c8422),loggerService_1[_0x33a804(0xf6)][_0x33a804(0x102)](_0x33a804(0xf1),_0x3c8422,_0x438ee7[_0x33a804(0x129)]),_0x5aa0f0[_0x33a804(0x134)](0xc8)['json']({'success':![],'message':_0x3c8422 instanceof Error?_0x3c8422[_0x33a804(0x118)]:_0x33a804(0xf0)});}},this[_0x381193(0x110)]=new webhookService_1[(_0x381193(0xef))]();}}function a15_0x5432(){const _0x5dc75a=['Received\x20CoinToPay\x20webhook:','__esModule','Webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20error:','status','Webhook\x20processing\x20error:','2GxIdul','processCoinToPay2Webhook','defineProperty','KLYME\x20webhook\x20processing\x20failed','WebhookService','MasterCard\x20webhook\x20processing\x20failed','mastercard','Body\x20keys:','noda','klyme','rapyd','loggerService','error','logWebhookReceived','Raw\x20body\x20type:','handleMasterCardWebhook','169353wTUOHM','Content-Type','processKlymeWebhook','80rbuBII','96LdUcCP','Received\x20KLYME\x20webhook:','Gateway\x20webhook\x20processing\x20failed','logWebhookError','Rapyd\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20error:','headers','handlePlisioGatewayWebhook','cointopay','MasterCard\x20webhook\x20processing\x20error:','3874124djgEQC','log','get','WebhookController','json','Body\x20content:','Webhook\x20processing\x20failed','webhookService','handleNodaWebhook','Gateway\x20webhook\x20processing\x20error:','keys','handleRapydWebhook','548282RVtAqg','7183924WWiCPh','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','message','plisio','110FGDzDm','plisio_gateway','cointopay2','Gateway\x20webhook\x20processed\x20successfully','817421LqSGbq','1320LejXzE','2634951XBfXfM','../services/loggerService','MasterCard\x20webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processed\x20successfully','Received\x20Rapyd\x20webhook:','Received\x20Noda\x20webhook:','processPlisioWebhook','CoinToPay\x20webhook\x20processing\x20failed','Received\x20MasterCard\x20webhook:','body','KLYME\x20webhook\x20processing\x20error:','20712ZTiehd','CoinToPay2\x20webhook\x20processing\x20error:','processMasterCardWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Noda\x20webhook\x20processed\x20successfully'];a15_0x5432=function(){return _0x5dc75a;};return a15_0x5432();}function a15_0x1281(_0xf41431,_0x59031b){const _0x543201=a15_0x5432();return a15_0x1281=function(_0x1281b3,_0x187bf5){_0x1281b3=_0x1281b3-0xec;let _0x173320=_0x543201[_0x1281b3];return _0x173320;},a15_0x1281(_0xf41431,_0x59031b);}exports[a15_0x2f053(0x10c)]=WebhookController;