'use strict';const a15_0x2e2040=a15_0x1156;(function(_0x3f78d9,_0x5b6f28){const _0x35e73c=a15_0x1156,_0x5ee5d9=_0x3f78d9();while(!![]){try{const _0x4640a5=-parseInt(_0x35e73c(0x18a))/0x1+-parseInt(_0x35e73c(0x1a7))/0x2+-parseInt(_0x35e73c(0x1a8))/0x3+parseInt(_0x35e73c(0x19e))/0x4+-parseInt(_0x35e73c(0x1b7))/0x5+-parseInt(_0x35e73c(0x1bd))/0x6*(-parseInt(_0x35e73c(0x197))/0x7)+parseInt(_0x35e73c(0x1b5))/0x8;if(_0x4640a5===_0x5b6f28)break;else _0x5ee5d9['push'](_0x5ee5d9['shift']());}catch(_0x5945f1){_0x5ee5d9['push'](_0x5ee5d9['shift']());}}}(a15_0x10a7,0x9710f));Object[a15_0x2e2040(0x1a1)](exports,'__esModule',{'value':!![]}),exports[a15_0x2e2040(0x1a3)]=void 0x0;const webhookService_1=require(a15_0x2e2040(0x1c7)),loggerService_1=require(a15_0x2e2040(0x1b8));function a15_0x1156(_0x4301b2,_0x4ec96d){const _0x10a723=a15_0x10a7();return a15_0x1156=function(_0x11562a,_0x37eb7f){_0x11562a=_0x11562a-0x184;let _0x56326e=_0x10a723[_0x11562a];return _0x56326e;},a15_0x1156(_0x4301b2,_0x4ec96d);}class WebhookController{constructor(){const _0x8672b5=a15_0x2e2040;this[_0x8672b5(0x1b0)]=async(_0x8aef07,_0x1d01de,_0x92613d)=>{const _0x5567b9=_0x8672b5;try{console[_0x5567b9(0x1ac)](_0x5567b9(0x1bb)),console['log']('Content-Type:',_0x8aef07[_0x5567b9(0x1a9)](_0x5567b9(0x1b1))),console[_0x5567b9(0x1ac)](_0x5567b9(0x1aa),typeof _0x8aef07[_0x5567b9(0x187)]),console[_0x5567b9(0x1ac)](_0x5567b9(0x1ba),Object[_0x5567b9(0x186)](_0x8aef07[_0x5567b9(0x187)]||{})),console[_0x5567b9(0x1ac)](_0x5567b9(0x192),_0x8aef07[_0x5567b9(0x187)]),loggerService_1['loggerService'][_0x5567b9(0x1b3)](_0x5567b9(0x1b2),_0x8aef07[_0x5567b9(0x187)],_0x8aef07[_0x5567b9(0x1be)]);const _0x338950=await this[_0x5567b9(0x1b9)]['processPlisioWebhook'](_0x8aef07[_0x5567b9(0x187)]);_0x1d01de[_0x5567b9(0x18c)](0xc8)['json']({'success':!![],'message':_0x5567b9(0x1cb)});}catch(_0x453dd0){console[_0x5567b9(0x1c3)]('Webhook\x20processing\x20error:',_0x453dd0),loggerService_1['loggerService'][_0x5567b9(0x189)](_0x5567b9(0x1b2),_0x453dd0,_0x8aef07[_0x5567b9(0x187)]),_0x1d01de[_0x5567b9(0x18c)](0xc8)[_0x5567b9(0x194)]({'success':![],'message':_0x453dd0 instanceof Error?_0x453dd0[_0x5567b9(0x18f)]:_0x5567b9(0x19d)});}},this['handlePlisioGatewayWebhook']=async(_0x5904a7,_0xa8a9d3,_0x4d70b9)=>{const _0x67c181=_0x8672b5;try{console[_0x67c181(0x1ac)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x67c181(0x1ac)](_0x67c181(0x195),_0x5904a7[_0x67c181(0x1a9)]('Content-Type')),console[_0x67c181(0x1ac)](_0x67c181(0x1aa),typeof _0x5904a7['body']),console[_0x67c181(0x1ac)](_0x67c181(0x1ba),Object[_0x67c181(0x186)](_0x5904a7[_0x67c181(0x187)]||{})),console['log'](_0x67c181(0x192),_0x5904a7[_0x67c181(0x187)]),loggerService_1[_0x67c181(0x1a6)][_0x67c181(0x1b3)](_0x67c181(0x18b),_0x5904a7[_0x67c181(0x187)],_0x5904a7['headers']);const _0x440146=await this[_0x67c181(0x1b9)][_0x67c181(0x185)](_0x5904a7[_0x67c181(0x187)]);_0xa8a9d3[_0x67c181(0x18c)](0xc8)[_0x67c181(0x194)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x22e16a){console['error'](_0x67c181(0x188),_0x22e16a),loggerService_1[_0x67c181(0x1a6)][_0x67c181(0x189)](_0x67c181(0x18b),_0x22e16a,_0x5904a7[_0x67c181(0x187)]),_0xa8a9d3['status'](0xc8)[_0x67c181(0x194)]({'success':![],'message':_0x22e16a instanceof Error?_0x22e16a[_0x67c181(0x18f)]:_0x67c181(0x1ca)});}},this[_0x8672b5(0x1c5)]=async(_0x8796c8,_0x2c5d7e,_0x242fe4)=>{const _0x40ae42=_0x8672b5;try{console[_0x40ae42(0x1ac)](_0x40ae42(0x1ae),_0x8796c8['body']),loggerService_1[_0x40ae42(0x1a6)][_0x40ae42(0x1b3)]('rapyd',_0x8796c8[_0x40ae42(0x187)],_0x8796c8[_0x40ae42(0x1be)]);const _0x2ea5ab=await this[_0x40ae42(0x1b9)][_0x40ae42(0x1a5)](_0x8796c8[_0x40ae42(0x187)]);_0x2c5d7e[_0x40ae42(0x18c)](0xc8)[_0x40ae42(0x194)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x23740a){console['error'](_0x40ae42(0x19c),_0x23740a),loggerService_1[_0x40ae42(0x1a6)]['logWebhookError']('rapyd',_0x23740a,_0x8796c8['body']),_0x2c5d7e[_0x40ae42(0x18c)](0xc8)['json']({'success':![],'message':_0x23740a instanceof Error?_0x23740a[_0x40ae42(0x18f)]:_0x40ae42(0x1c4)});}},this[_0x8672b5(0x1b6)]=async(_0x496630,_0x566385,_0x47c1f4)=>{const _0x1c7a4b=_0x8672b5;try{console[_0x1c7a4b(0x1ac)](_0x1c7a4b(0x19f),_0x496630['body']),loggerService_1['loggerService'][_0x1c7a4b(0x1b3)](_0x1c7a4b(0x18d),_0x496630[_0x1c7a4b(0x187)],_0x496630[_0x1c7a4b(0x1be)]);const _0x1cd5fd=await this['webhookService'][_0x1c7a4b(0x1c8)](_0x496630['body']);_0x566385[_0x1c7a4b(0x18c)](0xc8)[_0x1c7a4b(0x194)]({'success':!![],'message':_0x1c7a4b(0x1a2)});}catch(_0x2e8467){console[_0x1c7a4b(0x1c3)]('Noda\x20webhook\x20processing\x20error:',_0x2e8467),loggerService_1[_0x1c7a4b(0x1a6)][_0x1c7a4b(0x189)]('noda',_0x2e8467,_0x496630[_0x1c7a4b(0x187)]),_0x566385[_0x1c7a4b(0x18c)](0xc8)[_0x1c7a4b(0x194)]({'success':![],'message':_0x2e8467 instanceof Error?_0x2e8467['message']:_0x1c7a4b(0x196)});}},this[_0x8672b5(0x1ad)]=async(_0x128fa9,_0x3f6cb6,_0x490024)=>{const _0x4d274f=_0x8672b5;try{console[_0x4d274f(0x1ac)](_0x4d274f(0x1bc),_0x128fa9[_0x4d274f(0x187)]),loggerService_1[_0x4d274f(0x1a6)][_0x4d274f(0x1b3)](_0x4d274f(0x19a),_0x128fa9[_0x4d274f(0x187)],_0x128fa9['headers']);const _0x25dc96=await this['webhookService'][_0x4d274f(0x191)](_0x128fa9[_0x4d274f(0x187)]);_0x3f6cb6['status'](0xc8)['json']({'success':!![],'message':_0x4d274f(0x1a0)});}catch(_0x58c353){console[_0x4d274f(0x1c3)](_0x4d274f(0x1af),_0x58c353),loggerService_1[_0x4d274f(0x1a6)][_0x4d274f(0x189)]('cointopay',_0x58c353,_0x128fa9[_0x4d274f(0x187)]),_0x3f6cb6[_0x4d274f(0x18c)](0xc8)['json']({'success':![],'message':_0x58c353 instanceof Error?_0x58c353['message']:_0x4d274f(0x1a4)});}},this[_0x8672b5(0x1c9)]=async(_0x26f7d1,_0x1c6f6e,_0x37014b)=>{const _0x13fd7b=_0x8672b5;try{console['log']('Received\x20CoinToPay2\x20webhook:',_0x26f7d1[_0x13fd7b(0x187)]),loggerService_1[_0x13fd7b(0x1a6)]['logWebhookReceived'](_0x13fd7b(0x1c2),_0x26f7d1[_0x13fd7b(0x187)],_0x26f7d1[_0x13fd7b(0x1be)]);const _0x5460e4=await this[_0x13fd7b(0x1b9)][_0x13fd7b(0x1b4)](_0x26f7d1[_0x13fd7b(0x187)]);_0x1c6f6e[_0x13fd7b(0x18c)](0xc8)[_0x13fd7b(0x194)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0xe39514){console[_0x13fd7b(0x1c3)](_0x13fd7b(0x193),_0xe39514),loggerService_1[_0x13fd7b(0x1a6)][_0x13fd7b(0x189)](_0x13fd7b(0x1c2),_0xe39514,_0x26f7d1[_0x13fd7b(0x187)]),_0x1c6f6e[_0x13fd7b(0x18c)](0xc8)[_0x13fd7b(0x194)]({'success':![],'message':_0xe39514 instanceof Error?_0xe39514[_0x13fd7b(0x18f)]:_0x13fd7b(0x1c1)});}},this[_0x8672b5(0x1c6)]=async(_0x28bfb1,_0x42669d,_0x189b93)=>{const _0x61fb67=_0x8672b5;try{console[_0x61fb67(0x1ac)]('Received\x20KLYME\x20webhook:',_0x28bfb1[_0x61fb67(0x187)]),loggerService_1[_0x61fb67(0x1a6)][_0x61fb67(0x1b3)]('klyme',_0x28bfb1[_0x61fb67(0x187)],_0x28bfb1['headers']);const _0x52e14d=await this[_0x61fb67(0x1b9)]['processKlymeWebhook'](_0x28bfb1[_0x61fb67(0x187)]);_0x42669d['status'](0xc8)[_0x61fb67(0x194)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4caa4f){console[_0x61fb67(0x1c3)](_0x61fb67(0x1c0),_0x4caa4f),loggerService_1[_0x61fb67(0x1a6)][_0x61fb67(0x189)](_0x61fb67(0x190),_0x4caa4f,_0x28bfb1[_0x61fb67(0x187)]),_0x42669d['status'](0xc8)[_0x61fb67(0x194)]({'success':![],'message':_0x4caa4f instanceof Error?_0x4caa4f[_0x61fb67(0x18f)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x8672b5(0x198)]=async(_0x30e2c7,_0x1cee53,_0xb39eb1)=>{const _0x43345b=_0x8672b5;try{console[_0x43345b(0x1ac)](_0x43345b(0x1bf),_0x30e2c7[_0x43345b(0x187)]),loggerService_1[_0x43345b(0x1a6)][_0x43345b(0x1b3)](_0x43345b(0x184),_0x30e2c7['body'],_0x30e2c7[_0x43345b(0x1be)]);const _0x2649b4=await this[_0x43345b(0x1b9)][_0x43345b(0x199)](_0x30e2c7['body']);_0x1cee53[_0x43345b(0x18c)](0xc8)[_0x43345b(0x194)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x2fb608){console['error'](_0x43345b(0x19b),_0x2fb608),loggerService_1[_0x43345b(0x1a6)]['logWebhookError'](_0x43345b(0x184),_0x2fb608,_0x30e2c7[_0x43345b(0x187)]),_0x1cee53[_0x43345b(0x18c)](0xc8)[_0x43345b(0x194)]({'success':![],'message':_0x2fb608 instanceof Error?_0x2fb608[_0x43345b(0x18f)]:_0x43345b(0x18e)});}},this['webhookService']=new webhookService_1[(_0x8672b5(0x1ab))]();}}function a15_0x10a7(){const _0x25fa95=['170086lasfmR','handleMasterCardWebhook','processMasterCardWebhook','cointopay','MasterCard\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20error:','Webhook\x20processing\x20failed','2173548HSzNEH','Received\x20Noda\x20webhook:','CoinToPay\x20webhook\x20processed\x20successfully','defineProperty','Noda\x20webhook\x20processed\x20successfully','WebhookController','CoinToPay\x20webhook\x20processing\x20failed','processRapydWebhook','loggerService','290122TAXSLH','1631553DUQnnM','get','Raw\x20body\x20type:','WebhookService','log','handleCoinToPayWebhook','Received\x20Rapyd\x20webhook:','CoinToPay\x20webhook\x20processing\x20error:','handlePlisioWebhook','Content-Type','plisio','logWebhookReceived','processCoinToPay2Webhook','10677792ZqCQgs','handleNodaWebhook','1430195ZrmyOd','../services/loggerService','webhookService','Body\x20keys:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Received\x20CoinToPay\x20webhook:','174qJxhYL','headers','Received\x20MasterCard\x20webhook:','KLYME\x20webhook\x20processing\x20error:','CoinToPay2\x20webhook\x20processing\x20failed','cointopay2','error','Rapyd\x20webhook\x20processing\x20failed','handleRapydWebhook','handleKlymeWebhook','../services/webhookService','processNodaWebhook','handleCoinToPay2Webhook','Gateway\x20webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','mastercard','processPlisioGatewayWebhook','keys','body','Gateway\x20webhook\x20processing\x20error:','logWebhookError','989035cPjoKp','plisio_gateway','status','noda','MasterCard\x20webhook\x20processing\x20failed','message','klyme','processCoinToPayWebhook','Body\x20content:','CoinToPay2\x20webhook\x20processing\x20error:','json','Content-Type:','Noda\x20webhook\x20processing\x20failed'];a15_0x10a7=function(){return _0x25fa95;};return a15_0x10a7();}exports[a15_0x2e2040(0x1a3)]=WebhookController;