'use strict';const a14_0x5cf48d=a14_0x3798;(function(_0x31ff9b,_0x537bd3){const _0x5a368e=a14_0x3798,_0x4ad5d0=_0x31ff9b();while(!![]){try{const _0x449efb=-parseInt(_0x5a368e(0x128))/0x1+parseInt(_0x5a368e(0x10e))/0x2+-parseInt(_0x5a368e(0x11c))/0x3*(parseInt(_0x5a368e(0xf7))/0x4)+-parseInt(_0x5a368e(0xf4))/0x5*(-parseInt(_0x5a368e(0xf8))/0x6)+parseInt(_0x5a368e(0x12c))/0x7*(-parseInt(_0x5a368e(0x11d))/0x8)+parseInt(_0x5a368e(0x126))/0x9*(parseInt(_0x5a368e(0x123))/0xa)+parseInt(_0x5a368e(0xf3))/0xb;if(_0x449efb===_0x537bd3)break;else _0x4ad5d0['push'](_0x4ad5d0['shift']());}catch(_0x413b9a){_0x4ad5d0['push'](_0x4ad5d0['shift']());}}}(a14_0x1ff1,0x37f4a));function a14_0x1ff1(){const _0x4e326d=['1750WwltCc','handleCoinToPayWebhook','webhookService','1350fTdEWY','handleRapydWebhook','255884XWKdqZ','Received\x20Noda\x20webhook:','Received\x20Plisio\x20gateway\x20webhook:','body','5194LFWJqN','Received\x20Plisio\x20webhook:','Noda\x20webhook\x20processed\x20successfully','8621899MLIHbm','5dQjBtO','CoinToPay\x20webhook\x20processing\x20failed','processPlisioWebhook','675032Fbokqs','2116230RiOUoV','error','CoinToPay\x20webhook\x20processing\x20error:','Received\x20KLYME\x20webhook:','KLYME\x20webhook\x20processed\x20successfully','processNodaWebhook','rapyd','handlePlisioGatewayWebhook','processCoinToPayWebhook','KLYME\x20webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','noda','log','WebhookController','handleNodaWebhook','headers','klyme','WebhookService','processRapydWebhook','__esModule','Rapyd\x20webhook\x20processing\x20error:','../services/loggerService','18624ndrotO','logWebhookReceived','Received\x20Rapyd\x20webhook:','Received\x20CoinToPay\x20webhook:','Noda\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','plisio_gateway','Webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processed\x20successfully','message','Noda\x20webhook\x20processing\x20failed','loggerService','plisio','6DmGEzN','3768SHGYAk','logWebhookError','status','cointopay','processPlisioGatewayWebhook','json'];a14_0x1ff1=function(){return _0x4e326d;};return a14_0x1ff1();}Object['defineProperty'](exports,a14_0x5cf48d(0x10b),{'value':!![]}),exports[a14_0x5cf48d(0x105)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a14_0x5cf48d(0x10d));class WebhookController{constructor(){const _0x5dbe80=a14_0x5cf48d;this['handlePlisioWebhook']=async(_0x3a7740,_0x2ffd7f,_0x285beb)=>{const _0x291c32=a14_0x3798;try{console[_0x291c32(0x104)](_0x291c32(0x12d),_0x3a7740[_0x291c32(0x12b)]),loggerService_1['loggerService'][_0x291c32(0x10f)](_0x291c32(0x11b),_0x3a7740[_0x291c32(0x12b)],_0x3a7740[_0x291c32(0x107)]);const _0x4c2323=await this['webhookService'][_0x291c32(0xf6)](_0x3a7740[_0x291c32(0x12b)]);_0x2ffd7f['status'](0xc8)['json']({'success':!![],'message':_0x291c32(0x102)});}catch(_0x122e19){console['error']('Webhook\x20processing\x20error:',_0x122e19),loggerService_1[_0x291c32(0x11a)][_0x291c32(0x11e)](_0x291c32(0x11b),_0x122e19,_0x3a7740['body']),_0x2ffd7f[_0x291c32(0x11f)](0xc8)[_0x291c32(0x122)]({'success':![],'message':_0x122e19 instanceof Error?_0x122e19['message']:_0x291c32(0x115)});}},this[_0x5dbe80(0xff)]=async(_0x12a442,_0x48c4d7,_0x39785a)=>{const _0x3441c7=_0x5dbe80;try{console[_0x3441c7(0x104)](_0x3441c7(0x12a),_0x12a442[_0x3441c7(0x12b)]),loggerService_1[_0x3441c7(0x11a)][_0x3441c7(0x10f)](_0x3441c7(0x114),_0x12a442[_0x3441c7(0x12b)],_0x12a442['headers']);const _0x2207c4=await this['webhookService'][_0x3441c7(0x121)](_0x12a442[_0x3441c7(0x12b)]);_0x48c4d7[_0x3441c7(0x11f)](0xc8)[_0x3441c7(0x122)]({'success':!![],'message':_0x3441c7(0x117)});}catch(_0xd854cc){console[_0x3441c7(0xf9)]('Gateway\x20webhook\x20processing\x20error:',_0xd854cc),loggerService_1[_0x3441c7(0x11a)]['logWebhookError'](_0x3441c7(0x114),_0xd854cc,_0x12a442[_0x3441c7(0x12b)]),_0x48c4d7[_0x3441c7(0x11f)](0xc8)[_0x3441c7(0x122)]({'success':![],'message':_0xd854cc instanceof Error?_0xd854cc[_0x3441c7(0x118)]:_0x3441c7(0x116)});}},this[_0x5dbe80(0x127)]=async(_0x5849ce,_0xdc77f2,_0x417a86)=>{const _0x5c77e7=_0x5dbe80;try{console[_0x5c77e7(0x104)](_0x5c77e7(0x110),_0x5849ce[_0x5c77e7(0x12b)]),loggerService_1['loggerService']['logWebhookReceived'](_0x5c77e7(0xfe),_0x5849ce[_0x5c77e7(0x12b)],_0x5849ce[_0x5c77e7(0x107)]);const _0x1b7c40=await this[_0x5c77e7(0x125)][_0x5c77e7(0x10a)](_0x5849ce[_0x5c77e7(0x12b)]);_0xdc77f2[_0x5c77e7(0x11f)](0xc8)[_0x5c77e7(0x122)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x24f446){console[_0x5c77e7(0xf9)](_0x5c77e7(0x10c),_0x24f446),loggerService_1['loggerService'][_0x5c77e7(0x11e)](_0x5c77e7(0xfe),_0x24f446,_0x5849ce[_0x5c77e7(0x12b)]),_0xdc77f2['status'](0xc8)[_0x5c77e7(0x122)]({'success':![],'message':_0x24f446 instanceof Error?_0x24f446[_0x5c77e7(0x118)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x5dbe80(0x106)]=async(_0x590bf9,_0x3d4a3a,_0x2d5ce5)=>{const _0x2ba990=_0x5dbe80;try{console[_0x2ba990(0x104)](_0x2ba990(0x129),_0x590bf9['body']),loggerService_1[_0x2ba990(0x11a)][_0x2ba990(0x10f)]('noda',_0x590bf9['body'],_0x590bf9['headers']);const _0xa79221=await this['webhookService'][_0x2ba990(0xfd)](_0x590bf9[_0x2ba990(0x12b)]);_0x3d4a3a[_0x2ba990(0x11f)](0xc8)[_0x2ba990(0x122)]({'success':!![],'message':_0x2ba990(0xf2)});}catch(_0x1cda51){console[_0x2ba990(0xf9)](_0x2ba990(0x112),_0x1cda51),loggerService_1['loggerService'][_0x2ba990(0x11e)](_0x2ba990(0x103),_0x1cda51,_0x590bf9[_0x2ba990(0x12b)]),_0x3d4a3a[_0x2ba990(0x11f)](0xc8)['json']({'success':![],'message':_0x1cda51 instanceof Error?_0x1cda51[_0x2ba990(0x118)]:_0x2ba990(0x119)});}},this[_0x5dbe80(0x124)]=async(_0x2f2737,_0x448569,_0x52f8f7)=>{const _0x2c20a1=_0x5dbe80;try{console[_0x2c20a1(0x104)](_0x2c20a1(0x111),_0x2f2737[_0x2c20a1(0x12b)]),loggerService_1[_0x2c20a1(0x11a)]['logWebhookReceived'](_0x2c20a1(0x120),_0x2f2737[_0x2c20a1(0x12b)],_0x2f2737['headers']);const _0x31fa25=await this['webhookService'][_0x2c20a1(0x100)](_0x2f2737[_0x2c20a1(0x12b)]);_0x448569[_0x2c20a1(0x11f)](0xc8)[_0x2c20a1(0x122)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x35cdd3){console[_0x2c20a1(0xf9)](_0x2c20a1(0xfa),_0x35cdd3),loggerService_1[_0x2c20a1(0x11a)][_0x2c20a1(0x11e)](_0x2c20a1(0x120),_0x35cdd3,_0x2f2737[_0x2c20a1(0x12b)]),_0x448569[_0x2c20a1(0x11f)](0xc8)[_0x2c20a1(0x122)]({'success':![],'message':_0x35cdd3 instanceof Error?_0x35cdd3[_0x2c20a1(0x118)]:_0x2c20a1(0xf5)});}},this['handleKlymeWebhook']=async(_0x141b9c,_0x32af57,_0x202e14)=>{const _0x341b6a=_0x5dbe80;try{console['log'](_0x341b6a(0xfb),_0x141b9c[_0x341b6a(0x12b)]),loggerService_1[_0x341b6a(0x11a)]['logWebhookReceived'](_0x341b6a(0x108),_0x141b9c['body'],_0x141b9c[_0x341b6a(0x107)]);const _0x587b9b=await this['webhookService']['processKlymeWebhook'](_0x141b9c[_0x341b6a(0x12b)]);_0x32af57['status'](0xc8)[_0x341b6a(0x122)]({'success':!![],'message':_0x341b6a(0xfc)});}catch(_0x2fca4c){console['error'](_0x341b6a(0x113),_0x2fca4c),loggerService_1[_0x341b6a(0x11a)]['logWebhookError'](_0x341b6a(0x108),_0x2fca4c,_0x141b9c[_0x341b6a(0x12b)]),_0x32af57[_0x341b6a(0x11f)](0xc8)[_0x341b6a(0x122)]({'success':![],'message':_0x2fca4c instanceof Error?_0x2fca4c[_0x341b6a(0x118)]:_0x341b6a(0x101)});}},this[_0x5dbe80(0x125)]=new webhookService_1[(_0x5dbe80(0x109))]();}}function a14_0x3798(_0x58e375,_0x55e7c6){const _0x1ff135=a14_0x1ff1();return a14_0x3798=function(_0x379879,_0x42960e){_0x379879=_0x379879-0xf2;let _0x51459a=_0x1ff135[_0x379879];return _0x51459a;},a14_0x3798(_0x58e375,_0x55e7c6);}exports[a14_0x5cf48d(0x105)]=WebhookController;