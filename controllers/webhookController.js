'use strict';const a15_0xafdd45=a15_0x43bc;(function(_0x7e13eb,_0x584561){const _0x351d16=a15_0x43bc,_0x32dcb9=_0x7e13eb();while(!![]){try{const _0x4bc86e=-parseInt(_0x351d16(0x15e))/0x1+parseInt(_0x351d16(0x18f))/0x2*(parseInt(_0x351d16(0x14d))/0x3)+parseInt(_0x351d16(0x17c))/0x4*(-parseInt(_0x351d16(0x164))/0x5)+parseInt(_0x351d16(0x187))/0x6+-parseInt(_0x351d16(0x178))/0x7+parseInt(_0x351d16(0x196))/0x8*(parseInt(_0x351d16(0x157))/0x9)+parseInt(_0x351d16(0x18e))/0xa;if(_0x4bc86e===_0x584561)break;else _0x32dcb9['push'](_0x32dcb9['shift']());}catch(_0x46c256){_0x32dcb9['push'](_0x32dcb9['shift']());}}}(a15_0x2a45,0x68c80));Object[a15_0xafdd45(0x16c)](exports,a15_0xafdd45(0x151),{'value':!![]}),exports[a15_0xafdd45(0x193)]=void 0x0;function a15_0x43bc(_0x309378,_0x50226d){const _0x2a4548=a15_0x2a45();return a15_0x43bc=function(_0x43bc1,_0x1f20b1){_0x43bc1=_0x43bc1-0x14d;let _0x5bf76d=_0x2a4548[_0x43bc1];return _0x5bf76d;},a15_0x43bc(_0x309378,_0x50226d);}const webhookService_1=require(a15_0xafdd45(0x186)),loggerService_1=require('../services/loggerService');function a15_0x2a45(){const _0x310406=['Amer\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','message','logWebhookReceived','75sVllUB','Received\x20Rapyd\x20webhook:','CoinToPay\x20webhook\x20processing\x20failed','Content-Type','Body\x20content:','Amer\x20webhook\x20processing\x20failed','Webhook\x20processing\x20error:','WebhookService','defineProperty','handleRapydWebhook','Gateway\x20webhook\x20processing\x20error:','Received\x20Amer\x20webhook:','handlePlisioWebhook','Webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20error:','processCoinToPayWebhook','Rapyd\x20webhook\x20processed\x20successfully','headers','CoinToPay\x20webhook\x20processed\x20successfully','processKlymeWebhook','758688zaeyzE','handleMasterCardWebhook','get','body','62900jmIvwD','klyme','log','processCoinToPay2Webhook','MasterCard\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processed\x20successfully','handleKlymeWebhook','processNodaWebhook','Content-Type:','../services/webhookService','2252790KnvtjL','Raw\x20body\x20type:','CoinToPay2\x20webhook\x20processed\x20successfully','json','noda','cointopay','KLYME\x20webhook\x20processed\x20successfully','3926500GVcAZT','18710QNVjUd','Noda\x20webhook\x20processing\x20failed','amer','Body\x20keys:','WebhookController','processRapydWebhook','handleNodaWebhook','25328iMDoSo','204fZhwXk','processMasterCardWebhook','processPlisioGatewayWebhook','Rapyd\x20webhook\x20processing\x20failed','__esModule','plisio_gateway','loggerService','handlePlisioGatewayWebhook','Received\x20CoinToPay\x20webhook:','status','171PTjcUT','Webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','Received\x20Noda\x20webhook:','Gateway\x20webhook\x20processed\x20successfully','error','logWebhookError','690966xzEkVh','webhookService'];a15_0x2a45=function(){return _0x310406;};return a15_0x2a45();}class WebhookController{constructor(){const _0x2e21b9=a15_0xafdd45;this[_0x2e21b9(0x170)]=async(_0x27b346,_0x2a1e97,_0x5c6fb1)=>{const _0x2b0d32=_0x2e21b9;try{console[_0x2b0d32(0x17e)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x2b0d32(0x17e)](_0x2b0d32(0x185),_0x27b346['get'](_0x2b0d32(0x167))),console[_0x2b0d32(0x17e)](_0x2b0d32(0x188),typeof _0x27b346[_0x2b0d32(0x17b)]),console['log'](_0x2b0d32(0x192),Object['keys'](_0x27b346[_0x2b0d32(0x17b)]||{})),console[_0x2b0d32(0x17e)](_0x2b0d32(0x168),_0x27b346[_0x2b0d32(0x17b)]),loggerService_1[_0x2b0d32(0x153)][_0x2b0d32(0x163)]('plisio',_0x27b346[_0x2b0d32(0x17b)],_0x27b346['headers']);const _0x5dfea8=await this[_0x2b0d32(0x15f)]['processPlisioWebhook'](_0x27b346['body']);_0x2a1e97[_0x2b0d32(0x156)](0xc8)['json']({'success':!![],'message':_0x2b0d32(0x171)});}catch(_0x3fafc6){console[_0x2b0d32(0x15c)](_0x2b0d32(0x16a),_0x3fafc6),loggerService_1[_0x2b0d32(0x153)]['logWebhookError']('plisio',_0x3fafc6,_0x27b346[_0x2b0d32(0x17b)]),_0x2a1e97[_0x2b0d32(0x156)](0xc8)[_0x2b0d32(0x18a)]({'success':![],'message':_0x3fafc6 instanceof Error?_0x3fafc6[_0x2b0d32(0x162)]:_0x2b0d32(0x158)});}},this[_0x2e21b9(0x154)]=async(_0x4f3b95,_0x52a338,_0x26e430)=>{const _0x4da644=_0x2e21b9;try{console[_0x4da644(0x17e)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0x4da644(0x185),_0x4f3b95[_0x4da644(0x17a)]('Content-Type')),console[_0x4da644(0x17e)](_0x4da644(0x188),typeof _0x4f3b95[_0x4da644(0x17b)]),console[_0x4da644(0x17e)](_0x4da644(0x192),Object['keys'](_0x4f3b95[_0x4da644(0x17b)]||{})),console['log']('Body\x20content:',_0x4f3b95[_0x4da644(0x17b)]),loggerService_1['loggerService'][_0x4da644(0x163)](_0x4da644(0x152),_0x4f3b95[_0x4da644(0x17b)],_0x4f3b95[_0x4da644(0x175)]);const _0x33d45c=await this[_0x4da644(0x15f)][_0x4da644(0x14f)](_0x4f3b95[_0x4da644(0x17b)]);_0x52a338[_0x4da644(0x156)](0xc8)[_0x4da644(0x18a)]({'success':!![],'message':_0x4da644(0x15b)});}catch(_0x550a48){console['error'](_0x4da644(0x16e),_0x550a48),loggerService_1[_0x4da644(0x153)][_0x4da644(0x15d)](_0x4da644(0x152),_0x550a48,_0x4f3b95[_0x4da644(0x17b)]),_0x52a338['status'](0xc8)[_0x4da644(0x18a)]({'success':![],'message':_0x550a48 instanceof Error?_0x550a48['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x2e21b9(0x16d)]=async(_0x132fbe,_0x31aa44,_0x3826c1)=>{const _0xc18eaf=_0x2e21b9;try{console[_0xc18eaf(0x17e)](_0xc18eaf(0x165),_0x132fbe[_0xc18eaf(0x17b)]),loggerService_1['loggerService']['logWebhookReceived']('rapyd',_0x132fbe['body'],_0x132fbe[_0xc18eaf(0x175)]);const _0x2c01a4=await this[_0xc18eaf(0x15f)][_0xc18eaf(0x194)](_0x132fbe[_0xc18eaf(0x17b)]);_0x31aa44[_0xc18eaf(0x156)](0xc8)['json']({'success':!![],'message':_0xc18eaf(0x174)});}catch(_0x4fcdf5){console[_0xc18eaf(0x15c)](_0xc18eaf(0x181),_0x4fcdf5),loggerService_1[_0xc18eaf(0x153)][_0xc18eaf(0x15d)]('rapyd',_0x4fcdf5,_0x132fbe['body']),_0x31aa44['status'](0xc8)[_0xc18eaf(0x18a)]({'success':![],'message':_0x4fcdf5 instanceof Error?_0x4fcdf5['message']:_0xc18eaf(0x150)});}},this[_0x2e21b9(0x195)]=async(_0x385abd,_0x2adb05,_0x1af974)=>{const _0x36e44b=_0x2e21b9;try{console[_0x36e44b(0x17e)](_0x36e44b(0x15a),_0x385abd[_0x36e44b(0x17b)]),loggerService_1['loggerService'][_0x36e44b(0x163)](_0x36e44b(0x18b),_0x385abd['body'],_0x385abd[_0x36e44b(0x175)]);const _0x1e3f18=await this[_0x36e44b(0x15f)][_0x36e44b(0x184)](_0x385abd['body']);_0x2adb05['status'](0xc8)[_0x36e44b(0x18a)]({'success':!![],'message':_0x36e44b(0x182)});}catch(_0x2d91ff){console[_0x36e44b(0x15c)]('Noda\x20webhook\x20processing\x20error:',_0x2d91ff),loggerService_1['loggerService'][_0x36e44b(0x15d)](_0x36e44b(0x18b),_0x2d91ff,_0x385abd[_0x36e44b(0x17b)]),_0x2adb05['status'](0xc8)[_0x36e44b(0x18a)]({'success':![],'message':_0x2d91ff instanceof Error?_0x2d91ff[_0x36e44b(0x162)]:_0x36e44b(0x190)});}},this[_0x2e21b9(0x161)]=async(_0x3811cc,_0x1a0323,_0x4a4634)=>{const _0xf41fdb=_0x2e21b9;try{console[_0xf41fdb(0x17e)](_0xf41fdb(0x155),_0x3811cc[_0xf41fdb(0x17b)]),loggerService_1[_0xf41fdb(0x153)][_0xf41fdb(0x163)](_0xf41fdb(0x18c),_0x3811cc['body'],_0x3811cc[_0xf41fdb(0x175)]);const _0x3a1971=await this[_0xf41fdb(0x15f)][_0xf41fdb(0x173)](_0x3811cc['body']);_0x1a0323['status'](0xc8)[_0xf41fdb(0x18a)]({'success':!![],'message':_0xf41fdb(0x176)});}catch(_0x483838){console[_0xf41fdb(0x15c)](_0xf41fdb(0x172),_0x483838),loggerService_1[_0xf41fdb(0x153)][_0xf41fdb(0x15d)]('cointopay',_0x483838,_0x3811cc[_0xf41fdb(0x17b)]),_0x1a0323[_0xf41fdb(0x156)](0xc8)[_0xf41fdb(0x18a)]({'success':![],'message':_0x483838 instanceof Error?_0x483838[_0xf41fdb(0x162)]:_0xf41fdb(0x166)});}},this['handleCoinToPay2Webhook']=async(_0x43a956,_0x412a4f,_0x412782)=>{const _0x3c9ba1=_0x2e21b9;try{console[_0x3c9ba1(0x17e)]('Received\x20CoinToPay2\x20webhook:',_0x43a956[_0x3c9ba1(0x17b)]),loggerService_1[_0x3c9ba1(0x153)][_0x3c9ba1(0x163)]('cointopay2',_0x43a956[_0x3c9ba1(0x17b)],_0x43a956[_0x3c9ba1(0x175)]);const _0x3a29f6=await this['webhookService'][_0x3c9ba1(0x17f)](_0x43a956[_0x3c9ba1(0x17b)]);_0x412a4f['status'](0xc8)[_0x3c9ba1(0x18a)]({'success':!![],'message':_0x3c9ba1(0x189)});}catch(_0x1687e0){console['error']('CoinToPay2\x20webhook\x20processing\x20error:',_0x1687e0),loggerService_1[_0x3c9ba1(0x153)][_0x3c9ba1(0x15d)]('cointopay2',_0x1687e0,_0x43a956[_0x3c9ba1(0x17b)]),_0x412a4f[_0x3c9ba1(0x156)](0xc8)[_0x3c9ba1(0x18a)]({'success':![],'message':_0x1687e0 instanceof Error?_0x1687e0[_0x3c9ba1(0x162)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x2e21b9(0x183)]=async(_0x15ab65,_0x10df99,_0x144869)=>{const _0x9785f0=_0x2e21b9;try{console[_0x9785f0(0x17e)](_0x9785f0(0x159),_0x15ab65[_0x9785f0(0x17b)]),loggerService_1[_0x9785f0(0x153)][_0x9785f0(0x163)](_0x9785f0(0x17d),_0x15ab65[_0x9785f0(0x17b)],_0x15ab65['headers']);const _0x1d3f7e=await this['webhookService'][_0x9785f0(0x177)](_0x15ab65[_0x9785f0(0x17b)]);_0x10df99[_0x9785f0(0x156)](0xc8)[_0x9785f0(0x18a)]({'success':!![],'message':_0x9785f0(0x18d)});}catch(_0x3da10a){console[_0x9785f0(0x15c)]('KLYME\x20webhook\x20processing\x20error:',_0x3da10a),loggerService_1['loggerService'][_0x9785f0(0x15d)](_0x9785f0(0x17d),_0x3da10a,_0x15ab65['body']),_0x10df99[_0x9785f0(0x156)](0xc8)['json']({'success':![],'message':_0x3da10a instanceof Error?_0x3da10a['message']:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x2e21b9(0x179)]=async(_0x4e4c3f,_0xc3acc5,_0x15c18e)=>{const _0x1ddf66=_0x2e21b9;try{console[_0x1ddf66(0x17e)]('Received\x20MasterCard\x20webhook:',_0x4e4c3f[_0x1ddf66(0x17b)]),loggerService_1[_0x1ddf66(0x153)][_0x1ddf66(0x163)]('mastercard',_0x4e4c3f[_0x1ddf66(0x17b)],_0x4e4c3f[_0x1ddf66(0x175)]);const _0x37b62c=await this['webhookService'][_0x1ddf66(0x14e)](_0x4e4c3f[_0x1ddf66(0x17b)]);_0xc3acc5[_0x1ddf66(0x156)](0xc8)[_0x1ddf66(0x18a)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0xe71362){console[_0x1ddf66(0x15c)]('MasterCard\x20webhook\x20processing\x20error:',_0xe71362),loggerService_1[_0x1ddf66(0x153)]['logWebhookError']('mastercard',_0xe71362,_0x4e4c3f[_0x1ddf66(0x17b)]),_0xc3acc5['status'](0xc8)[_0x1ddf66(0x18a)]({'success':![],'message':_0xe71362 instanceof Error?_0xe71362[_0x1ddf66(0x162)]:_0x1ddf66(0x180)});}},this['handleAmerWebhook']=async(_0xbba742,_0x43ea99,_0x54be87)=>{const _0x3afb25=_0x2e21b9;try{console[_0x3afb25(0x17e)](_0x3afb25(0x16f),_0xbba742[_0x3afb25(0x17b)]),loggerService_1[_0x3afb25(0x153)][_0x3afb25(0x163)](_0x3afb25(0x191),_0xbba742[_0x3afb25(0x17b)],_0xbba742[_0x3afb25(0x175)]);const _0x1c4e22=await this[_0x3afb25(0x15f)]['processAmerWebhook'](_0xbba742['body']);_0x43ea99[_0x3afb25(0x156)](0xc8)[_0x3afb25(0x18a)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x2091eb){console[_0x3afb25(0x15c)](_0x3afb25(0x160),_0x2091eb),loggerService_1[_0x3afb25(0x153)][_0x3afb25(0x15d)]('amer',_0x2091eb,_0xbba742[_0x3afb25(0x17b)]),_0x43ea99[_0x3afb25(0x156)](0xc8)[_0x3afb25(0x18a)]({'success':![],'message':_0x2091eb instanceof Error?_0x2091eb[_0x3afb25(0x162)]:_0x3afb25(0x169)});}},this[_0x2e21b9(0x15f)]=new webhookService_1[(_0x2e21b9(0x16b))]();}}exports[a15_0xafdd45(0x193)]=WebhookController;