'use strict';function a15_0x4766(_0x4290d2,_0x1996c2){const _0x3087d4=a15_0x3087();return a15_0x4766=function(_0x476651,_0x347bdc){_0x476651=_0x476651-0xca;let _0x214592=_0x3087d4[_0x476651];return _0x214592;},a15_0x4766(_0x4290d2,_0x1996c2);}const a15_0x2a2d63=a15_0x4766;function a15_0x3087(){const _0x1d0dca=['Content-Type:','Webhook\x20processing\x20error:','323907urRRwX','Body\x20keys:','error','handleCoinToPay2Webhook','handleRapydWebhook','Content-Type','Received\x20Rapyd\x20webhook:','160MJnAoT','WebhookController','loggerService','handleAmerWebhook','WebhookService','processAmerWebhook','Received\x20Amer\x20webhook:','CoinToPay2\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processed\x20successfully','handleMasterCardWebhook','logWebhookReceived','get','logWebhookError','log','897648nWpiWh','noda','Raw\x20body\x20type:','Received\x20CoinToPay\x20webhook:','keys','Webhook\x20processing\x20failed','handleNodaWebhook','rapyd','Received\x20MasterCard\x20webhook:','processRapydWebhook','5GvBmMv','defineProperty','processCoinToPay2Webhook','6926920aEVhSh','CoinToPay\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','body','processMasterCardWebhook','json','../services/webhookService','3803934LOIFFl','Body\x20content:','processNodaWebhook','MasterCard\x20webhook\x20processing\x20failed','Amer\x20webhook\x20processing\x20error:','Webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20error:','CoinToPay2\x20webhook\x20processed\x20successfully','amer','13533mfeyUi','2029528zwzDex','CoinToPay2\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processed\x20successfully','cointopay2','CoinToPay\x20webhook\x20processing\x20error:','webhookService','Noda\x20webhook\x20processing\x20failed','message','KLYME\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20error:','plisio_gateway','status','CoinToPay\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','headers','plisio','cointopay','Gateway\x20webhook\x20processing\x20error:','klyme','processPlisioWebhook','processKlymeWebhook','handleKlymeWebhook','30111921MFIZQg'];a15_0x3087=function(){return _0x1d0dca;};return a15_0x3087();}(function(_0x517cab,_0xee7ea0){const _0x449914=a15_0x4766,_0x36dd4b=_0x517cab();while(!![]){try{const _0x522b74=-parseInt(_0x449914(0x106))/0x1+-parseInt(_0x449914(0x10d))/0x2*(parseInt(_0x449914(0xeb))/0x3)+parseInt(_0x449914(0xec))/0x4*(-parseInt(_0x449914(0xd8))/0x5)+-parseInt(_0x449914(0xe2))/0x6+-parseInt(_0x449914(0xdb))/0x7+parseInt(_0x449914(0xce))/0x8+parseInt(_0x449914(0x103))/0x9;if(_0x522b74===_0xee7ea0)break;else _0x36dd4b['push'](_0x36dd4b['shift']());}catch(_0x866f6c){_0x36dd4b['push'](_0x36dd4b['shift']());}}}(a15_0x3087,0x9ccd1));Object[a15_0x2a2d63(0xd9)](exports,'__esModule',{'value':!![]}),exports[a15_0x2a2d63(0x10e)]=void 0x0;const webhookService_1=require(a15_0x2a2d63(0xe1)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0xa84358=a15_0x2a2d63;this['handlePlisioWebhook']=async(_0x34ded8,_0x3ca14e,_0x48c7a0)=>{const _0x53cc13=a15_0x4766;try{console[_0x53cc13(0xcd)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x53cc13(0xcd)]('Content-Type:',_0x34ded8[_0x53cc13(0xcb)](_0x53cc13(0x10b))),console['log']('Raw\x20body\x20type:',typeof _0x34ded8['body']),console[_0x53cc13(0xcd)](_0x53cc13(0x107),Object[_0x53cc13(0xd2)](_0x34ded8[_0x53cc13(0xde)]||{})),console[_0x53cc13(0xcd)](_0x53cc13(0xe3),_0x34ded8[_0x53cc13(0xde)]),loggerService_1[_0x53cc13(0x10f)][_0x53cc13(0xca)](_0x53cc13(0xfc),_0x34ded8[_0x53cc13(0xde)],_0x34ded8[_0x53cc13(0xfb)]);const _0x361eb5=await this['webhookService'][_0x53cc13(0x100)](_0x34ded8[_0x53cc13(0xde)]);_0x3ca14e['status'](0xc8)['json']({'success':!![],'message':_0x53cc13(0xe7)});}catch(_0x2a5924){console[_0x53cc13(0x108)](_0x53cc13(0x105),_0x2a5924),loggerService_1[_0x53cc13(0x10f)][_0x53cc13(0xcc)](_0x53cc13(0xfc),_0x2a5924,_0x34ded8[_0x53cc13(0xde)]),_0x3ca14e[_0x53cc13(0xf7)](0xc8)['json']({'success':![],'message':_0x2a5924 instanceof Error?_0x2a5924[_0x53cc13(0xf3)]:_0x53cc13(0xd3)});}},this['handlePlisioGatewayWebhook']=async(_0x138e49,_0x18ec80,_0x5ed170)=>{const _0x38289c=a15_0x4766;try{console[_0x38289c(0xcd)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0x38289c(0x104),_0x138e49[_0x38289c(0xcb)](_0x38289c(0x10b))),console['log'](_0x38289c(0xd0),typeof _0x138e49[_0x38289c(0xde)]),console[_0x38289c(0xcd)]('Body\x20keys:',Object[_0x38289c(0xd2)](_0x138e49[_0x38289c(0xde)]||{})),console[_0x38289c(0xcd)](_0x38289c(0xe3),_0x138e49[_0x38289c(0xde)]),loggerService_1[_0x38289c(0x10f)][_0x38289c(0xca)](_0x38289c(0xf6),_0x138e49[_0x38289c(0xde)],_0x138e49['headers']);const _0x26fdc2=await this[_0x38289c(0xf1)]['processPlisioGatewayWebhook'](_0x138e49['body']);_0x18ec80['status'](0xc8)[_0x38289c(0xe0)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0xd47d21){console[_0x38289c(0x108)](_0x38289c(0xfe),_0xd47d21),loggerService_1['loggerService'][_0x38289c(0xcc)](_0x38289c(0xf6),_0xd47d21,_0x138e49[_0x38289c(0xde)]),_0x18ec80[_0x38289c(0xf7)](0xc8)['json']({'success':![],'message':_0xd47d21 instanceof Error?_0xd47d21[_0x38289c(0xf3)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0xa84358(0x10a)]=async(_0x6132ac,_0x26c5c2,_0x12aec)=>{const _0x49f7f8=_0xa84358;try{console[_0x49f7f8(0xcd)](_0x49f7f8(0x10c),_0x6132ac[_0x49f7f8(0xde)]),loggerService_1[_0x49f7f8(0x10f)][_0x49f7f8(0xca)](_0x49f7f8(0xd5),_0x6132ac[_0x49f7f8(0xde)],_0x6132ac[_0x49f7f8(0xfb)]);const _0x5c2920=await this[_0x49f7f8(0xf1)][_0x49f7f8(0xd7)](_0x6132ac['body']);_0x26c5c2[_0x49f7f8(0xf7)](0xc8)['json']({'success':!![],'message':_0x49f7f8(0xee)});}catch(_0xfb300d){console[_0x49f7f8(0x108)](_0x49f7f8(0xf9),_0xfb300d),loggerService_1[_0x49f7f8(0x10f)][_0x49f7f8(0xcc)](_0x49f7f8(0xd5),_0xfb300d,_0x6132ac['body']),_0x26c5c2[_0x49f7f8(0xf7)](0xc8)[_0x49f7f8(0xe0)]({'success':![],'message':_0xfb300d instanceof Error?_0xfb300d['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0xa84358(0xd4)]=async(_0x4500b6,_0x5489c8,_0x2ddfc8)=>{const _0x4d2317=_0xa84358;try{console[_0x4d2317(0xcd)]('Received\x20Noda\x20webhook:',_0x4500b6[_0x4d2317(0xde)]),loggerService_1[_0x4d2317(0x10f)][_0x4d2317(0xca)](_0x4d2317(0xcf),_0x4500b6[_0x4d2317(0xde)],_0x4500b6[_0x4d2317(0xfb)]);const _0x3a6ea5=await this[_0x4d2317(0xf1)][_0x4d2317(0xe4)](_0x4500b6['body']);_0x5489c8[_0x4d2317(0xf7)](0xc8)[_0x4d2317(0xe0)]({'success':!![],'message':_0x4d2317(0x115)});}catch(_0x5f15ad){console[_0x4d2317(0x108)](_0x4d2317(0xf5),_0x5f15ad),loggerService_1[_0x4d2317(0x10f)][_0x4d2317(0xcc)](_0x4d2317(0xcf),_0x5f15ad,_0x4500b6[_0x4d2317(0xde)]),_0x5489c8[_0x4d2317(0xf7)](0xc8)['json']({'success':![],'message':_0x5f15ad instanceof Error?_0x5f15ad[_0x4d2317(0xf3)]:_0x4d2317(0xf2)});}},this[_0xa84358(0xdd)]=async(_0x136721,_0x1ad7cc,_0x5dca27)=>{const _0x4f2fa6=_0xa84358;try{console[_0x4f2fa6(0xcd)](_0x4f2fa6(0xd1),_0x136721[_0x4f2fa6(0xde)]),loggerService_1[_0x4f2fa6(0x10f)][_0x4f2fa6(0xca)](_0x4f2fa6(0xfd),_0x136721[_0x4f2fa6(0xde)],_0x136721['headers']);const _0x3c100d=await this[_0x4f2fa6(0xf1)]['processCoinToPayWebhook'](_0x136721[_0x4f2fa6(0xde)]);_0x1ad7cc[_0x4f2fa6(0xf7)](0xc8)[_0x4f2fa6(0xe0)]({'success':!![],'message':_0x4f2fa6(0xdc)});}catch(_0x43b94a){console[_0x4f2fa6(0x108)](_0x4f2fa6(0xf0),_0x43b94a),loggerService_1[_0x4f2fa6(0x10f)][_0x4f2fa6(0xcc)]('cointopay',_0x43b94a,_0x136721[_0x4f2fa6(0xde)]),_0x1ad7cc[_0x4f2fa6(0xf7)](0xc8)[_0x4f2fa6(0xe0)]({'success':![],'message':_0x43b94a instanceof Error?_0x43b94a[_0x4f2fa6(0xf3)]:_0x4f2fa6(0xf8)});}},this[_0xa84358(0x109)]=async(_0x180470,_0x1d0a45,_0x3ca6d7)=>{const _0x33a4a6=_0xa84358;try{console[_0x33a4a6(0xcd)]('Received\x20CoinToPay2\x20webhook:',_0x180470[_0x33a4a6(0xde)]),loggerService_1['loggerService'][_0x33a4a6(0xca)](_0x33a4a6(0xef),_0x180470['body'],_0x180470[_0x33a4a6(0xfb)]);const _0x401044=await this[_0x33a4a6(0xf1)][_0x33a4a6(0xda)](_0x180470[_0x33a4a6(0xde)]);_0x1d0a45[_0x33a4a6(0xf7)](0xc8)['json']({'success':!![],'message':_0x33a4a6(0xe9)});}catch(_0x223003){console[_0x33a4a6(0x108)](_0x33a4a6(0x114),_0x223003),loggerService_1['loggerService'][_0x33a4a6(0xcc)](_0x33a4a6(0xef),_0x223003,_0x180470[_0x33a4a6(0xde)]),_0x1d0a45[_0x33a4a6(0xf7)](0xc8)['json']({'success':![],'message':_0x223003 instanceof Error?_0x223003[_0x33a4a6(0xf3)]:_0x33a4a6(0xed)});}},this[_0xa84358(0x102)]=async(_0x5f330a,_0x20a162,_0x47a037)=>{const _0x17e450=_0xa84358;try{console[_0x17e450(0xcd)]('Received\x20KLYME\x20webhook:',_0x5f330a['body']),loggerService_1['loggerService'][_0x17e450(0xca)](_0x17e450(0xff),_0x5f330a[_0x17e450(0xde)],_0x5f330a[_0x17e450(0xfb)]);const _0x3d755f=await this[_0x17e450(0xf1)][_0x17e450(0x101)](_0x5f330a['body']);_0x20a162['status'](0xc8)['json']({'success':!![],'message':_0x17e450(0xf4)});}catch(_0x5e5307){console[_0x17e450(0x108)]('KLYME\x20webhook\x20processing\x20error:',_0x5e5307),loggerService_1[_0x17e450(0x10f)][_0x17e450(0xcc)](_0x17e450(0xff),_0x5e5307,_0x5f330a[_0x17e450(0xde)]),_0x20a162[_0x17e450(0xf7)](0xc8)['json']({'success':![],'message':_0x5e5307 instanceof Error?_0x5e5307[_0x17e450(0xf3)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0xa84358(0x116)]=async(_0x343941,_0x5c6093,_0x162984)=>{const _0x1b1db4=_0xa84358;try{console[_0x1b1db4(0xcd)](_0x1b1db4(0xd6),_0x343941['body']),loggerService_1[_0x1b1db4(0x10f)][_0x1b1db4(0xca)]('mastercard',_0x343941[_0x1b1db4(0xde)],_0x343941['headers']);const _0xe8c2db=await this[_0x1b1db4(0xf1)][_0x1b1db4(0xdf)](_0x343941[_0x1b1db4(0xde)]);_0x5c6093[_0x1b1db4(0xf7)](0xc8)[_0x1b1db4(0xe0)]({'success':!![],'message':_0x1b1db4(0xfa)});}catch(_0x42d2ab){console[_0x1b1db4(0x108)](_0x1b1db4(0xe8),_0x42d2ab),loggerService_1[_0x1b1db4(0x10f)][_0x1b1db4(0xcc)]('mastercard',_0x42d2ab,_0x343941[_0x1b1db4(0xde)]),_0x5c6093[_0x1b1db4(0xf7)](0xc8)[_0x1b1db4(0xe0)]({'success':![],'message':_0x42d2ab instanceof Error?_0x42d2ab[_0x1b1db4(0xf3)]:_0x1b1db4(0xe5)});}},this[_0xa84358(0x110)]=async(_0x46a9bf,_0x1573f0,_0x493c42)=>{const _0x4cdd47=_0xa84358;try{console[_0x4cdd47(0xcd)](_0x4cdd47(0x113),_0x46a9bf[_0x4cdd47(0xde)]),loggerService_1[_0x4cdd47(0x10f)]['logWebhookReceived'](_0x4cdd47(0xea),_0x46a9bf[_0x4cdd47(0xde)],_0x46a9bf['headers']);const _0x39fbbf=await this[_0x4cdd47(0xf1)][_0x4cdd47(0x112)](_0x46a9bf[_0x4cdd47(0xde)]);_0x1573f0[_0x4cdd47(0xf7)](0xc8)['json']({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x2d01ac){console[_0x4cdd47(0x108)](_0x4cdd47(0xe6),_0x2d01ac),loggerService_1[_0x4cdd47(0x10f)]['logWebhookError']('amer',_0x2d01ac,_0x46a9bf[_0x4cdd47(0xde)]),_0x1573f0[_0x4cdd47(0xf7)](0xc8)['json']({'success':![],'message':_0x2d01ac instanceof Error?_0x2d01ac[_0x4cdd47(0xf3)]:'Amer\x20webhook\x20processing\x20failed'});}},this[_0xa84358(0xf1)]=new webhookService_1[(_0xa84358(0x111))]();}}exports['WebhookController']=WebhookController;