'use strict';const a15_0x57217c=a15_0x1727;function a15_0x1727(_0x2c1dd4,_0x1d115){const _0x1c679e=a15_0x1c67();return a15_0x1727=function(_0x17274b,_0xc77e7e){_0x17274b=_0x17274b-0x14f;let _0x264128=_0x1c679e[_0x17274b];return _0x264128;},a15_0x1727(_0x2c1dd4,_0x1d115);}(function(_0x5bdde8,_0x59a29f){const _0x869581=a15_0x1727,_0x5c0aab=_0x5bdde8();while(!![]){try{const _0x5ef352=-parseInt(_0x869581(0x15a))/0x1*(-parseInt(_0x869581(0x193))/0x2)+parseInt(_0x869581(0x167))/0x3*(parseInt(_0x869581(0x199))/0x4)+parseInt(_0x869581(0x156))/0x5*(parseInt(_0x869581(0x197))/0x6)+-parseInt(_0x869581(0x154))/0x7*(parseInt(_0x869581(0x152))/0x8)+parseInt(_0x869581(0x187))/0x9+parseInt(_0x869581(0x17a))/0xa+-parseInt(_0x869581(0x17c))/0xb;if(_0x5ef352===_0x59a29f)break;else _0x5c0aab['push'](_0x5c0aab['shift']());}catch(_0x3f2086){_0x5c0aab['push'](_0x5c0aab['shift']());}}}(a15_0x1c67,0x88d75));Object[a15_0x57217c(0x17e)](exports,a15_0x57217c(0x159),{'value':!![]}),exports[a15_0x57217c(0x18a)]=void 0x0;const webhookService_1=require(a15_0x57217c(0x168)),loggerService_1=require(a15_0x57217c(0x179));function a15_0x1c67(){const _0x450380=['Gateway\x20webhook\x20processing\x20failed','processPlisioWebhook','log','handlePlisioWebhook','Received\x20KLYME\x20webhook:','Noda\x20webhook\x20processing\x20failed','Received\x20Noda\x20webhook:','CoinToPay\x20webhook\x20processing\x20error:','logWebhookError','handleKlymeWebhook','Webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20failed','processKlymeWebhook','Body\x20keys:','../services/loggerService','7795570cJErry','CoinToPay\x20webhook\x20processed\x20successfully','30483134aIcFRs','message','defineProperty','rapyd','processNodaWebhook','processCoinToPayWebhook','webhookService','handleRapydWebhook','get','KLYME\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','7862391VHIlOr','MasterCard\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20error:','WebhookController','klyme','error','KLYME\x20webhook\x20processed\x20successfully','cointopay','Rapyd\x20webhook\x20processed\x20successfully','body','Rapyd\x20webhook\x20processing\x20error:','headers','2ZPcioz','Received\x20MasterCard\x20webhook:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Webhook\x20processing\x20failed','5112474qGAYFR','keys','40520aovJMu','Gateway\x20webhook\x20processed\x20successfully','Raw\x20body\x20type:','KLYME\x20webhook\x20processing\x20failed','plisio_gateway','8lArEgs','processMasterCardWebhook','887012XPhoFz','status','5JZiGpU','mastercard','logWebhookReceived','__esModule','922786lZlLrP','Received\x20Rapyd\x20webhook:','Noda\x20webhook\x20processed\x20successfully','loggerService','Gateway\x20webhook\x20processing\x20error:','json','WebhookService','CoinToPay\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processing\x20error:','Body\x20content:','MasterCard\x20webhook\x20processed\x20successfully','Content-Type','noda','9lNqMvl','../services/webhookService','Content-Type:','Received\x20CoinToPay\x20webhook:'];a15_0x1c67=function(){return _0x450380;};return a15_0x1c67();}class WebhookController{constructor(){const _0x37ab30=a15_0x57217c;this[_0x37ab30(0x16e)]=async(_0x37fc31,_0xaca317,_0x3042b5)=>{const _0x1c231a=_0x37ab30;try{console[_0x1c231a(0x16d)](_0x1c231a(0x195)),console[_0x1c231a(0x16d)](_0x1c231a(0x169),_0x37fc31[_0x1c231a(0x184)]('Content-Type')),console[_0x1c231a(0x16d)](_0x1c231a(0x14f),typeof _0x37fc31[_0x1c231a(0x190)]),console['log'](_0x1c231a(0x178),Object['keys'](_0x37fc31[_0x1c231a(0x190)]||{})),console['log'](_0x1c231a(0x163),_0x37fc31[_0x1c231a(0x190)]),loggerService_1['loggerService'][_0x1c231a(0x158)]('plisio',_0x37fc31['body'],_0x37fc31[_0x1c231a(0x192)]);const _0x87414a=await this[_0x1c231a(0x182)][_0x1c231a(0x16c)](_0x37fc31[_0x1c231a(0x190)]);_0xaca317['status'](0xc8)[_0x1c231a(0x15f)]({'success':!![],'message':_0x1c231a(0x175)});}catch(_0x317925){console['error']('Webhook\x20processing\x20error:',_0x317925),loggerService_1[_0x1c231a(0x15d)]['logWebhookError']('plisio',_0x317925,_0x37fc31[_0x1c231a(0x190)]),_0xaca317[_0x1c231a(0x155)](0xc8)[_0x1c231a(0x15f)]({'success':![],'message':_0x317925 instanceof Error?_0x317925['message']:_0x1c231a(0x196)});}},this['handlePlisioGatewayWebhook']=async(_0x63b28c,_0x10a5cc,_0x4e6364)=>{const _0x3aaef2=_0x37ab30;try{console[_0x3aaef2(0x16d)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x3aaef2(0x16d)]('Content-Type:',_0x63b28c[_0x3aaef2(0x184)](_0x3aaef2(0x165))),console[_0x3aaef2(0x16d)](_0x3aaef2(0x14f),typeof _0x63b28c[_0x3aaef2(0x190)]),console[_0x3aaef2(0x16d)](_0x3aaef2(0x178),Object[_0x3aaef2(0x198)](_0x63b28c[_0x3aaef2(0x190)]||{})),console['log'](_0x3aaef2(0x163),_0x63b28c['body']),loggerService_1[_0x3aaef2(0x15d)][_0x3aaef2(0x158)](_0x3aaef2(0x151),_0x63b28c['body'],_0x63b28c[_0x3aaef2(0x192)]);const _0x41faee=await this[_0x3aaef2(0x182)]['processPlisioGatewayWebhook'](_0x63b28c[_0x3aaef2(0x190)]);_0x10a5cc[_0x3aaef2(0x155)](0xc8)[_0x3aaef2(0x15f)]({'success':!![],'message':_0x3aaef2(0x19a)});}catch(_0x282c93){console[_0x3aaef2(0x18c)](_0x3aaef2(0x15e),_0x282c93),loggerService_1['loggerService']['logWebhookError'](_0x3aaef2(0x151),_0x282c93,_0x63b28c[_0x3aaef2(0x190)]),_0x10a5cc[_0x3aaef2(0x155)](0xc8)[_0x3aaef2(0x15f)]({'success':![],'message':_0x282c93 instanceof Error?_0x282c93['message']:_0x3aaef2(0x16b)});}},this[_0x37ab30(0x183)]=async(_0x4f021e,_0x583e85,_0x547de3)=>{const _0x1c7a23=_0x37ab30;try{console['log'](_0x1c7a23(0x15b),_0x4f021e[_0x1c7a23(0x190)]),loggerService_1['loggerService'][_0x1c7a23(0x158)](_0x1c7a23(0x17f),_0x4f021e[_0x1c7a23(0x190)],_0x4f021e[_0x1c7a23(0x192)]);const _0x443235=await this[_0x1c7a23(0x182)]['processRapydWebhook'](_0x4f021e['body']);_0x583e85[_0x1c7a23(0x155)](0xc8)['json']({'success':!![],'message':_0x1c7a23(0x18f)});}catch(_0x3ef156){console[_0x1c7a23(0x18c)](_0x1c7a23(0x191),_0x3ef156),loggerService_1[_0x1c7a23(0x15d)][_0x1c7a23(0x173)](_0x1c7a23(0x17f),_0x3ef156,_0x4f021e['body']),_0x583e85[_0x1c7a23(0x155)](0xc8)[_0x1c7a23(0x15f)]({'success':![],'message':_0x3ef156 instanceof Error?_0x3ef156[_0x1c7a23(0x17d)]:_0x1c7a23(0x176)});}},this['handleNodaWebhook']=async(_0x3a92cb,_0x360962,_0x46efc6)=>{const _0x42964b=_0x37ab30;try{console[_0x42964b(0x16d)](_0x42964b(0x171),_0x3a92cb[_0x42964b(0x190)]),loggerService_1[_0x42964b(0x15d)][_0x42964b(0x158)](_0x42964b(0x166),_0x3a92cb[_0x42964b(0x190)],_0x3a92cb[_0x42964b(0x192)]);const _0x114225=await this[_0x42964b(0x182)][_0x42964b(0x180)](_0x3a92cb['body']);_0x360962[_0x42964b(0x155)](0xc8)[_0x42964b(0x15f)]({'success':!![],'message':_0x42964b(0x15c)});}catch(_0x5d6ade){console['error'](_0x42964b(0x162),_0x5d6ade),loggerService_1[_0x42964b(0x15d)][_0x42964b(0x173)]('noda',_0x5d6ade,_0x3a92cb[_0x42964b(0x190)]),_0x360962[_0x42964b(0x155)](0xc8)[_0x42964b(0x15f)]({'success':![],'message':_0x5d6ade instanceof Error?_0x5d6ade[_0x42964b(0x17d)]:_0x42964b(0x170)});}},this[_0x37ab30(0x186)]=async(_0x345e7b,_0x3fec86,_0xd6014a)=>{const _0x171492=_0x37ab30;try{console['log'](_0x171492(0x16a),_0x345e7b['body']),loggerService_1[_0x171492(0x15d)]['logWebhookReceived']('cointopay',_0x345e7b[_0x171492(0x190)],_0x345e7b['headers']);const _0x198a32=await this[_0x171492(0x182)][_0x171492(0x181)](_0x345e7b['body']);_0x3fec86['status'](0xc8)[_0x171492(0x15f)]({'success':!![],'message':_0x171492(0x17b)});}catch(_0x2b6fce){console[_0x171492(0x18c)](_0x171492(0x172),_0x2b6fce),loggerService_1['loggerService'][_0x171492(0x173)](_0x171492(0x18e),_0x2b6fce,_0x345e7b[_0x171492(0x190)]),_0x3fec86[_0x171492(0x155)](0xc8)[_0x171492(0x15f)]({'success':![],'message':_0x2b6fce instanceof Error?_0x2b6fce[_0x171492(0x17d)]:_0x171492(0x161)});}},this[_0x37ab30(0x174)]=async(_0x35ff2f,_0xccd459,_0x431989)=>{const _0x45edb3=_0x37ab30;try{console['log'](_0x45edb3(0x16f),_0x35ff2f['body']),loggerService_1[_0x45edb3(0x15d)][_0x45edb3(0x158)](_0x45edb3(0x18b),_0x35ff2f['body'],_0x35ff2f['headers']);const _0x5ed971=await this[_0x45edb3(0x182)][_0x45edb3(0x177)](_0x35ff2f[_0x45edb3(0x190)]);_0xccd459[_0x45edb3(0x155)](0xc8)['json']({'success':!![],'message':_0x45edb3(0x18d)});}catch(_0x191676){console[_0x45edb3(0x18c)](_0x45edb3(0x185),_0x191676),loggerService_1[_0x45edb3(0x15d)][_0x45edb3(0x173)](_0x45edb3(0x18b),_0x191676,_0x35ff2f[_0x45edb3(0x190)]),_0xccd459['status'](0xc8)['json']({'success':![],'message':_0x191676 instanceof Error?_0x191676['message']:_0x45edb3(0x150)});}},this['handleMasterCardWebhook']=async(_0x46e464,_0x5130fe,_0x32b2c6)=>{const _0x395e87=_0x37ab30;try{console[_0x395e87(0x16d)](_0x395e87(0x194),_0x46e464['body']),loggerService_1[_0x395e87(0x15d)]['logWebhookReceived']('mastercard',_0x46e464[_0x395e87(0x190)],_0x46e464[_0x395e87(0x192)]);const _0x40d6ec=await this[_0x395e87(0x182)][_0x395e87(0x153)](_0x46e464[_0x395e87(0x190)]);_0x5130fe[_0x395e87(0x155)](0xc8)[_0x395e87(0x15f)]({'success':!![],'message':_0x395e87(0x164)});}catch(_0x564dc0){console['error'](_0x395e87(0x189),_0x564dc0),loggerService_1[_0x395e87(0x15d)][_0x395e87(0x173)](_0x395e87(0x157),_0x564dc0,_0x46e464['body']),_0x5130fe[_0x395e87(0x155)](0xc8)[_0x395e87(0x15f)]({'success':![],'message':_0x564dc0 instanceof Error?_0x564dc0[_0x395e87(0x17d)]:_0x395e87(0x188)});}},this[_0x37ab30(0x182)]=new webhookService_1[(_0x37ab30(0x160))]();}}exports[a15_0x57217c(0x18a)]=WebhookController;