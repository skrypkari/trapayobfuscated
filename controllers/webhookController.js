'use strict';const a15_0x55935a=a15_0x59ee;(function(_0x1a8eb7,_0x42a377){const _0x2f5b26=a15_0x59ee,_0x169864=_0x1a8eb7();while(!![]){try{const _0x130493=parseInt(_0x2f5b26(0x1a7))/0x1*(-parseInt(_0x2f5b26(0x196))/0x2)+-parseInt(_0x2f5b26(0x193))/0x3+parseInt(_0x2f5b26(0x187))/0x4*(-parseInt(_0x2f5b26(0x19c))/0x5)+parseInt(_0x2f5b26(0x18b))/0x6+parseInt(_0x2f5b26(0x1a4))/0x7*(-parseInt(_0x2f5b26(0x173))/0x8)+-parseInt(_0x2f5b26(0x16f))/0x9+parseInt(_0x2f5b26(0x19e))/0xa;if(_0x130493===_0x42a377)break;else _0x169864['push'](_0x169864['shift']());}catch(_0x31fad9){_0x169864['push'](_0x169864['shift']());}}}(a15_0x2824,0x4078c));function a15_0x59ee(_0x26d241,_0x41048f){const _0x282406=a15_0x2824();return a15_0x59ee=function(_0x59eeff,_0x14b636){_0x59eeff=_0x59eeff-0x166;let _0x369a38=_0x282406[_0x59eeff];return _0x369a38;},a15_0x59ee(_0x26d241,_0x41048f);}Object['defineProperty'](exports,a15_0x55935a(0x168),{'value':!![]}),exports[a15_0x55935a(0x195)]=void 0x0;function a15_0x2824(){const _0x36d453=['noda','5tSqBfb','Noda\x20webhook\x20processed\x20successfully','8663030qpYrYp','Content-Type','handleCoinToPayWebhook','handleNodaWebhook','CoinToPay\x20webhook\x20processing\x20error:','processPlisioWebhook','56pBHYTM','Raw\x20body\x20type:','CoinToPay\x20webhook\x20processing\x20failed','1WShqWN','Gateway\x20webhook\x20processed\x20successfully','json','Received\x20KLYME\x20webhook:','Noda\x20webhook\x20processing\x20error:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Webhook\x20processing\x20failed','headers','log','__esModule','processNodaWebhook','Received\x20Noda\x20webhook:','webhookService','KLYME\x20webhook\x20processing\x20failed','message','rapyd','1964655ZxhKqo','logWebhookReceived','mastercard','loggerService','205384TNHapC','status','Webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','plisio_gateway','Gateway\x20webhook\x20processing\x20error:','keys','Rapyd\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20error:','Content-Type:','get','Body\x20keys:','Webhook\x20processing\x20error:','error','processKlymeWebhook','plisio','handlePlisioWebhook','handleKlymeWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','675388bwrWKl','handlePlisioGatewayWebhook','processRapydWebhook','Body\x20content:','1554144nMSixn','CoinToPay\x20webhook\x20processed\x20successfully','WebhookService','handleRapydWebhook','logWebhookError','Received\x20CoinToPay\x20webhook:','cointopay','Gateway\x20webhook\x20processing\x20failed','155598NKuEbq','body','WebhookController','433718iSHZmw','klyme','Rapyd\x20webhook\x20processing\x20error:','processCoinToPayWebhook','../services/loggerService'];a15_0x2824=function(){return _0x36d453;};return a15_0x2824();}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x55935a(0x19a));class WebhookController{constructor(){const _0x861a48=a15_0x55935a;this[_0x861a48(0x184)]=async(_0x37d4a2,_0x2f1c06,_0x4ff71f)=>{const _0xc5e792=_0x861a48;try{console[_0xc5e792(0x167)](_0xc5e792(0x1ac)),console[_0xc5e792(0x167)](_0xc5e792(0x17d),_0x37d4a2[_0xc5e792(0x17e)](_0xc5e792(0x19f))),console[_0xc5e792(0x167)](_0xc5e792(0x1a5),typeof _0x37d4a2['body']),console[_0xc5e792(0x167)](_0xc5e792(0x17f),Object[_0xc5e792(0x17a)](_0x37d4a2[_0xc5e792(0x194)]||{})),console[_0xc5e792(0x167)](_0xc5e792(0x18a),_0x37d4a2[_0xc5e792(0x194)]),loggerService_1['loggerService']['logWebhookReceived']('plisio',_0x37d4a2[_0xc5e792(0x194)],_0x37d4a2[_0xc5e792(0x166)]);const _0x45e927=await this['webhookService'][_0xc5e792(0x1a3)](_0x37d4a2[_0xc5e792(0x194)]);_0x2f1c06[_0xc5e792(0x174)](0xc8)[_0xc5e792(0x1a9)]({'success':!![],'message':_0xc5e792(0x175)});}catch(_0x417cb4){console[_0xc5e792(0x181)](_0xc5e792(0x180),_0x417cb4),loggerService_1['loggerService'][_0xc5e792(0x18f)](_0xc5e792(0x183),_0x417cb4,_0x37d4a2[_0xc5e792(0x194)]),_0x2f1c06['status'](0xc8)[_0xc5e792(0x1a9)]({'success':![],'message':_0x417cb4 instanceof Error?_0x417cb4[_0xc5e792(0x16d)]:_0xc5e792(0x1ad)});}},this[_0x861a48(0x188)]=async(_0x5c0fea,_0x499d89,_0x3afee9)=>{const _0xf5b572=_0x861a48;try{console['log'](_0xf5b572(0x186)),console[_0xf5b572(0x167)]('Content-Type:',_0x5c0fea['get'](_0xf5b572(0x19f))),console[_0xf5b572(0x167)](_0xf5b572(0x1a5),typeof _0x5c0fea[_0xf5b572(0x194)]),console[_0xf5b572(0x167)]('Body\x20keys:',Object[_0xf5b572(0x17a)](_0x5c0fea[_0xf5b572(0x194)]||{})),console[_0xf5b572(0x167)]('Body\x20content:',_0x5c0fea[_0xf5b572(0x194)]),loggerService_1['loggerService'][_0xf5b572(0x170)]('plisio_gateway',_0x5c0fea[_0xf5b572(0x194)],_0x5c0fea[_0xf5b572(0x166)]);const _0x3b768a=await this['webhookService']['processPlisioGatewayWebhook'](_0x5c0fea[_0xf5b572(0x194)]);_0x499d89['status'](0xc8)[_0xf5b572(0x1a9)]({'success':!![],'message':_0xf5b572(0x1a8)});}catch(_0x17da17){console[_0xf5b572(0x181)](_0xf5b572(0x179),_0x17da17),loggerService_1[_0xf5b572(0x172)]['logWebhookError'](_0xf5b572(0x178),_0x17da17,_0x5c0fea[_0xf5b572(0x194)]),_0x499d89[_0xf5b572(0x174)](0xc8)[_0xf5b572(0x1a9)]({'success':![],'message':_0x17da17 instanceof Error?_0x17da17[_0xf5b572(0x16d)]:_0xf5b572(0x192)});}},this[_0x861a48(0x18e)]=async(_0x33ae6b,_0xf1f8cc,_0x19a4af)=>{const _0x33925c=_0x861a48;try{console[_0x33925c(0x167)]('Received\x20Rapyd\x20webhook:',_0x33ae6b[_0x33925c(0x194)]),loggerService_1[_0x33925c(0x172)]['logWebhookReceived'](_0x33925c(0x16e),_0x33ae6b[_0x33925c(0x194)],_0x33ae6b[_0x33925c(0x166)]);const _0x4059a0=await this[_0x33925c(0x16b)][_0x33925c(0x189)](_0x33ae6b[_0x33925c(0x194)]);_0xf1f8cc[_0x33925c(0x174)](0xc8)[_0x33925c(0x1a9)]({'success':!![],'message':_0x33925c(0x17b)});}catch(_0x189cb8){console[_0x33925c(0x181)](_0x33925c(0x198),_0x189cb8),loggerService_1[_0x33925c(0x172)]['logWebhookError'](_0x33925c(0x16e),_0x189cb8,_0x33ae6b['body']),_0xf1f8cc[_0x33925c(0x174)](0xc8)[_0x33925c(0x1a9)]({'success':![],'message':_0x189cb8 instanceof Error?_0x189cb8[_0x33925c(0x16d)]:_0x33925c(0x176)});}},this[_0x861a48(0x1a1)]=async(_0x4d6d67,_0x562988,_0x512865)=>{const _0x3e17aa=_0x861a48;try{console[_0x3e17aa(0x167)](_0x3e17aa(0x16a),_0x4d6d67['body']),loggerService_1[_0x3e17aa(0x172)][_0x3e17aa(0x170)](_0x3e17aa(0x19b),_0x4d6d67[_0x3e17aa(0x194)],_0x4d6d67[_0x3e17aa(0x166)]);const _0x58a300=await this[_0x3e17aa(0x16b)][_0x3e17aa(0x169)](_0x4d6d67['body']);_0x562988[_0x3e17aa(0x174)](0xc8)[_0x3e17aa(0x1a9)]({'success':!![],'message':_0x3e17aa(0x19d)});}catch(_0x1c9154){console[_0x3e17aa(0x181)](_0x3e17aa(0x1ab),_0x1c9154),loggerService_1[_0x3e17aa(0x172)][_0x3e17aa(0x18f)](_0x3e17aa(0x19b),_0x1c9154,_0x4d6d67[_0x3e17aa(0x194)]),_0x562988[_0x3e17aa(0x174)](0xc8)[_0x3e17aa(0x1a9)]({'success':![],'message':_0x1c9154 instanceof Error?_0x1c9154[_0x3e17aa(0x16d)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x861a48(0x1a0)]=async(_0x6b6143,_0x262203,_0x22d1fa)=>{const _0x3285f6=_0x861a48;try{console[_0x3285f6(0x167)](_0x3285f6(0x190),_0x6b6143[_0x3285f6(0x194)]),loggerService_1['loggerService'][_0x3285f6(0x170)](_0x3285f6(0x191),_0x6b6143['body'],_0x6b6143[_0x3285f6(0x166)]);const _0x36dfee=await this[_0x3285f6(0x16b)][_0x3285f6(0x199)](_0x6b6143['body']);_0x262203['status'](0xc8)['json']({'success':!![],'message':_0x3285f6(0x18c)});}catch(_0x24d113){console[_0x3285f6(0x181)](_0x3285f6(0x1a2),_0x24d113),loggerService_1[_0x3285f6(0x172)][_0x3285f6(0x18f)]('cointopay',_0x24d113,_0x6b6143['body']),_0x262203['status'](0xc8)[_0x3285f6(0x1a9)]({'success':![],'message':_0x24d113 instanceof Error?_0x24d113[_0x3285f6(0x16d)]:_0x3285f6(0x1a6)});}},this[_0x861a48(0x185)]=async(_0x223b05,_0x2fdb30,_0x1918da)=>{const _0x210623=_0x861a48;try{console['log'](_0x210623(0x1aa),_0x223b05[_0x210623(0x194)]),loggerService_1[_0x210623(0x172)]['logWebhookReceived'](_0x210623(0x197),_0x223b05[_0x210623(0x194)],_0x223b05[_0x210623(0x166)]);const _0x392e41=await this['webhookService'][_0x210623(0x182)](_0x223b05[_0x210623(0x194)]);_0x2fdb30[_0x210623(0x174)](0xc8)[_0x210623(0x1a9)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4bc48c){console[_0x210623(0x181)]('KLYME\x20webhook\x20processing\x20error:',_0x4bc48c),loggerService_1[_0x210623(0x172)][_0x210623(0x18f)](_0x210623(0x197),_0x4bc48c,_0x223b05['body']),_0x2fdb30[_0x210623(0x174)](0xc8)[_0x210623(0x1a9)]({'success':![],'message':_0x4bc48c instanceof Error?_0x4bc48c[_0x210623(0x16d)]:_0x210623(0x16c)});}},this['handleMasterCardWebhook']=async(_0x4c3a9c,_0x44d4da,_0x27854e)=>{const _0x185a80=_0x861a48;try{console['log']('Received\x20MasterCard\x20webhook:',_0x4c3a9c[_0x185a80(0x194)]),loggerService_1[_0x185a80(0x172)][_0x185a80(0x170)](_0x185a80(0x171),_0x4c3a9c['body'],_0x4c3a9c[_0x185a80(0x166)]);const _0x5ad3f0=await this[_0x185a80(0x16b)]['processMasterCardWebhook'](_0x4c3a9c[_0x185a80(0x194)]);_0x44d4da[_0x185a80(0x174)](0xc8)[_0x185a80(0x1a9)]({'success':!![],'message':_0x185a80(0x177)});}catch(_0x1ac824){console[_0x185a80(0x181)](_0x185a80(0x17c),_0x1ac824),loggerService_1['loggerService'][_0x185a80(0x18f)]('mastercard',_0x1ac824,_0x4c3a9c[_0x185a80(0x194)]),_0x44d4da['status'](0xc8)[_0x185a80(0x1a9)]({'success':![],'message':_0x1ac824 instanceof Error?_0x1ac824[_0x185a80(0x16d)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this['webhookService']=new webhookService_1[(_0x861a48(0x18d))]();}}exports[a15_0x55935a(0x195)]=WebhookController;