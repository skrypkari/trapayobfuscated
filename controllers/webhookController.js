'use strict';function a14_0x410b(_0x261610,_0x402508){const _0x2a6cba=a14_0x2a6c();return a14_0x410b=function(_0x410b12,_0x31240e){_0x410b12=_0x410b12-0x1a4;let _0x4505fe=_0x2a6cba[_0x410b12];return _0x4505fe;},a14_0x410b(_0x261610,_0x402508);}const a14_0x19fae2=a14_0x410b;(function(_0x57b0ba,_0xb9694f){const _0x1b162b=a14_0x410b,_0x206e3f=_0x57b0ba();while(!![]){try{const _0x491766=parseInt(_0x1b162b(0x1ae))/0x1+parseInt(_0x1b162b(0x1b0))/0x2+-parseInt(_0x1b162b(0x1b9))/0x3+-parseInt(_0x1b162b(0x1ce))/0x4*(-parseInt(_0x1b162b(0x1c0))/0x5)+-parseInt(_0x1b162b(0x1cc))/0x6+parseInt(_0x1b162b(0x1a8))/0x7+-parseInt(_0x1b162b(0x1c4))/0x8;if(_0x491766===_0xb9694f)break;else _0x206e3f['push'](_0x206e3f['shift']());}catch(_0x3893c5){_0x206e3f['push'](_0x206e3f['shift']());}}}(a14_0x2a6c,0xd4d7a));Object[a14_0x19fae2(0x1b7)](exports,a14_0x19fae2(0x1be),{'value':!![]}),exports[a14_0x19fae2(0x1b4)]=void 0x0;const webhookService_1=require(a14_0x19fae2(0x1d8)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x46794c=a14_0x19fae2;this['handlePlisioWebhook']=async(_0x4183d5,_0xdf0eaa,_0x4b7725)=>{const _0xa6eb80=a14_0x410b;try{console['log']('Received\x20Plisio\x20webhook:',_0x4183d5[_0xa6eb80(0x1cf)]),loggerService_1[_0xa6eb80(0x1c6)]['logWebhookReceived'](_0xa6eb80(0x1c8),_0x4183d5[_0xa6eb80(0x1cf)],_0x4183d5['headers']);const _0x48b18b=await this[_0xa6eb80(0x1bf)][_0xa6eb80(0x1d4)](_0x4183d5[_0xa6eb80(0x1cf)]);_0xdf0eaa['status'](0xc8)[_0xa6eb80(0x1d2)]({'success':!![],'message':_0xa6eb80(0x1a6)});}catch(_0x1b1af1){console[_0xa6eb80(0x1bd)](_0xa6eb80(0x1d1),_0x1b1af1),loggerService_1[_0xa6eb80(0x1c6)]['logWebhookError']('plisio',_0x1b1af1,_0x4183d5[_0xa6eb80(0x1cf)]),_0xdf0eaa[_0xa6eb80(0x1b3)](0xc8)[_0xa6eb80(0x1d2)]({'success':![],'message':_0x1b1af1 instanceof Error?_0x1b1af1[_0xa6eb80(0x1a7)]:'Webhook\x20processing\x20failed'});}},this[_0x46794c(0x1c2)]=async(_0x15bb8d,_0xe6a3,_0x3bcd2f)=>{const _0x422e6c=_0x46794c;try{console[_0x422e6c(0x1ca)]('Received\x20Plisio\x20gateway\x20webhook:',_0x15bb8d[_0x422e6c(0x1cf)]),loggerService_1[_0x422e6c(0x1c6)][_0x422e6c(0x1c3)](_0x422e6c(0x1aa),_0x15bb8d['body'],_0x15bb8d[_0x422e6c(0x1bb)]);const _0x465e28=await this[_0x422e6c(0x1bf)][_0x422e6c(0x1d3)](_0x15bb8d['body']);_0xe6a3[_0x422e6c(0x1b3)](0xc8)['json']({'success':!![],'message':_0x422e6c(0x1b6)});}catch(_0x40595c){console[_0x422e6c(0x1bd)](_0x422e6c(0x1d0),_0x40595c),loggerService_1['loggerService']['logWebhookError'](_0x422e6c(0x1aa),_0x40595c,_0x15bb8d[_0x422e6c(0x1cf)]),_0xe6a3[_0x422e6c(0x1b3)](0xc8)[_0x422e6c(0x1d2)]({'success':![],'message':_0x40595c instanceof Error?_0x40595c[_0x422e6c(0x1a7)]:_0x422e6c(0x1c7)});}},this[_0x46794c(0x1cb)]=async(_0x1815ea,_0x1b7c0d,_0x111bbb)=>{const _0x59007a=_0x46794c;try{console['log'](_0x59007a(0x1c5),_0x1815ea['body']),loggerService_1[_0x59007a(0x1c6)]['logWebhookReceived'](_0x59007a(0x1c1),_0x1815ea[_0x59007a(0x1cf)],_0x1815ea[_0x59007a(0x1bb)]);const _0x56f4b6=await this['webhookService'][_0x59007a(0x1a9)](_0x1815ea[_0x59007a(0x1cf)]);_0x1b7c0d['status'](0xc8)[_0x59007a(0x1d2)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x9b5300){console['error'](_0x59007a(0x1ac),_0x9b5300),loggerService_1[_0x59007a(0x1c6)][_0x59007a(0x1d5)](_0x59007a(0x1c1),_0x9b5300,_0x1815ea[_0x59007a(0x1cf)]),_0x1b7c0d['status'](0xc8)[_0x59007a(0x1d2)]({'success':![],'message':_0x9b5300 instanceof Error?_0x9b5300[_0x59007a(0x1a7)]:_0x59007a(0x1d7)});}},this[_0x46794c(0x1ab)]=async(_0xe41f08,_0x3b6873,_0x4384ba)=>{const _0x2b4dc4=_0x46794c;try{console['log']('Received\x20Noda\x20webhook:',_0xe41f08[_0x2b4dc4(0x1cf)]),loggerService_1[_0x2b4dc4(0x1c6)][_0x2b4dc4(0x1c3)](_0x2b4dc4(0x1a5),_0xe41f08[_0x2b4dc4(0x1cf)],_0xe41f08['headers']);const _0x501af2=await this[_0x2b4dc4(0x1bf)][_0x2b4dc4(0x1bc)](_0xe41f08['body']);_0x3b6873[_0x2b4dc4(0x1b3)](0xc8)[_0x2b4dc4(0x1d2)]({'success':!![],'message':_0x2b4dc4(0x1b1)});}catch(_0x1b1e9e){console[_0x2b4dc4(0x1bd)](_0x2b4dc4(0x1c9),_0x1b1e9e),loggerService_1[_0x2b4dc4(0x1c6)][_0x2b4dc4(0x1d5)](_0x2b4dc4(0x1a5),_0x1b1e9e,_0xe41f08['body']),_0x3b6873[_0x2b4dc4(0x1b3)](0xc8)[_0x2b4dc4(0x1d2)]({'success':![],'message':_0x1b1e9e instanceof Error?_0x1b1e9e['message']:_0x2b4dc4(0x1b8)});}},this[_0x46794c(0x1cd)]=async(_0x388c18,_0xe5b56,_0x5671f2)=>{const _0x311f75=_0x46794c;try{console[_0x311f75(0x1ca)](_0x311f75(0x1a4),_0x388c18[_0x311f75(0x1cf)]),loggerService_1[_0x311f75(0x1c6)]['logWebhookReceived'](_0x311f75(0x1b2),_0x388c18['body'],_0x388c18['headers']);const _0x579449=await this[_0x311f75(0x1bf)]['processCoinToPayWebhook'](_0x388c18[_0x311f75(0x1cf)]);_0xe5b56[_0x311f75(0x1b3)](0xc8)[_0x311f75(0x1d2)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x394256){console['error'](_0x311f75(0x1af),_0x394256),loggerService_1['loggerService']['logWebhookError'](_0x311f75(0x1b2),_0x394256,_0x388c18[_0x311f75(0x1cf)]),_0xe5b56[_0x311f75(0x1b3)](0xc8)[_0x311f75(0x1d2)]({'success':![],'message':_0x394256 instanceof Error?_0x394256[_0x311f75(0x1a7)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x44e9d9,_0xab331c,_0x708457)=>{const _0x18f72c=_0x46794c;try{console['log'](_0x18f72c(0x1ad),_0x44e9d9[_0x18f72c(0x1cf)]),loggerService_1[_0x18f72c(0x1c6)][_0x18f72c(0x1c3)](_0x18f72c(0x1ba),_0x44e9d9[_0x18f72c(0x1cf)],_0x44e9d9[_0x18f72c(0x1bb)]);const _0x2c8cd0=await this[_0x18f72c(0x1bf)][_0x18f72c(0x1b5)](_0x44e9d9[_0x18f72c(0x1cf)]);_0xab331c[_0x18f72c(0x1b3)](0xc8)[_0x18f72c(0x1d2)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0xe3f203){console[_0x18f72c(0x1bd)]('KLYME\x20webhook\x20processing\x20error:',_0xe3f203),loggerService_1[_0x18f72c(0x1c6)]['logWebhookError'](_0x18f72c(0x1ba),_0xe3f203,_0x44e9d9[_0x18f72c(0x1cf)]),_0xab331c['status'](0xc8)[_0x18f72c(0x1d2)]({'success':![],'message':_0xe3f203 instanceof Error?_0xe3f203[_0x18f72c(0x1a7)]:_0x18f72c(0x1d6)});}},this[_0x46794c(0x1bf)]=new webhookService_1['WebhookService']();}}exports[a14_0x19fae2(0x1b4)]=WebhookController;function a14_0x2a6c(){const _0x2529b9=['loggerService','Gateway\x20webhook\x20processing\x20failed','plisio','Noda\x20webhook\x20processing\x20error:','log','handleRapydWebhook','8177796chnRHu','handleCoinToPayWebhook','1491608ncGXks','body','Gateway\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','json','processPlisioGatewayWebhook','processPlisioWebhook','logWebhookError','KLYME\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20failed','../services/webhookService','Received\x20CoinToPay\x20webhook:','noda','Webhook\x20processed\x20successfully','message','1915599yKiYQT','processRapydWebhook','plisio_gateway','handleNodaWebhook','Rapyd\x20webhook\x20processing\x20error:','Received\x20KLYME\x20webhook:','468379DZHSzU','CoinToPay\x20webhook\x20processing\x20error:','3466412BxiVsx','Noda\x20webhook\x20processed\x20successfully','cointopay','status','WebhookController','processKlymeWebhook','Gateway\x20webhook\x20processed\x20successfully','defineProperty','Noda\x20webhook\x20processing\x20failed','155379IzZBvu','klyme','headers','processNodaWebhook','error','__esModule','webhookService','15CDpriF','rapyd','handlePlisioGatewayWebhook','logWebhookReceived','10459096hnHWDa','Received\x20Rapyd\x20webhook:'];a14_0x2a6c=function(){return _0x2529b9;};return a14_0x2a6c();}