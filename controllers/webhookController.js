'use strict';const a15_0x4b0f88=a15_0x3574;(function(_0x2c6a18,_0x564b2f){const _0x1e322b=a15_0x3574,_0x571a2e=_0x2c6a18();while(!![]){try{const _0x1a50e2=-parseInt(_0x1e322b(0x15f))/0x1+-parseInt(_0x1e322b(0x156))/0x2*(parseInt(_0x1e322b(0x165))/0x3)+-parseInt(_0x1e322b(0x171))/0x4+parseInt(_0x1e322b(0x178))/0x5*(-parseInt(_0x1e322b(0x16f))/0x6)+parseInt(_0x1e322b(0x183))/0x7+-parseInt(_0x1e322b(0x195))/0x8+parseInt(_0x1e322b(0x16c))/0x9*(parseInt(_0x1e322b(0x18c))/0xa);if(_0x1a50e2===_0x564b2f)break;else _0x571a2e['push'](_0x571a2e['shift']());}catch(_0x34fb2c){_0x571a2e['push'](_0x571a2e['shift']());}}}(a15_0x4690,0x6cff1));function a15_0x4690(){const _0x300834=['KLYME\x20webhook\x20processing\x20failed','mastercard','keys','logWebhookReceived','processNodaWebhook','processKlymeWebhook','Raw\x20body\x20type:','4073860DCfOcz','__esModule','../services/webhookService','CoinToPay\x20webhook\x20processing\x20error:','status','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','log','processPlisioWebhook','get','10SkVpky','handlePlisioWebhook','webhookService','Received\x20KLYME\x20webhook:','processPlisioGatewayWebhook','Body\x20content:','loggerService','Webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','7101320hlJmlU','rapyd','Noda\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20failed','message','MasterCard\x20webhook\x20processed\x20successfully','body','8TFFHVx','headers','Received\x20MasterCard\x20webhook:','Received\x20Rapyd\x20webhook:','Received\x20Noda\x20webhook:','Noda\x20webhook\x20processing\x20failed','WebhookService','KLYME\x20webhook\x20processed\x20successfully','noda','143604QXKTlL','CoinToPay\x20webhook\x20processed\x20successfully','klyme','handlePlisioGatewayWebhook','json','handleRapydWebhook','292827VIfVut','logWebhookError','Rapyd\x20webhook\x20processing\x20error:','Content-Type:','plisio','handleKlymeWebhook','Body\x20keys:','18321921IcezSj','Content-Type','CoinToPay\x20webhook\x20processing\x20failed','30DeMJDh','Gateway\x20webhook\x20processing\x20error:','2792240MLBhgY','Rapyd\x20webhook\x20processing\x20failed','plisio_gateway','MasterCard\x20webhook\x20processing\x20failed','processRapydWebhook','WebhookController','handleMasterCardWebhook','51535lvxpuG','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','handleNodaWebhook','error'];a15_0x4690=function(){return _0x300834;};return a15_0x4690();}Object['defineProperty'](exports,a15_0x4b0f88(0x184),{'value':!![]}),exports[a15_0x4b0f88(0x176)]=void 0x0;function a15_0x3574(_0x209dd2,_0x57c039){const _0x4690b4=a15_0x4690();return a15_0x3574=function(_0x3574a4,_0xada770){_0x3574a4=_0x3574a4-0x153;let _0x30372b=_0x4690b4[_0x3574a4];return _0x30372b;},a15_0x3574(_0x209dd2,_0x57c039);}const webhookService_1=require(a15_0x4b0f88(0x185)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x4fcc0c=a15_0x4b0f88;this[_0x4fcc0c(0x18d)]=async(_0x1cd2b3,_0x80c788,_0x7b4273)=>{const _0x27e671=_0x4fcc0c;try{console[_0x27e671(0x189)](_0x27e671(0x179)),console[_0x27e671(0x189)](_0x27e671(0x168),_0x1cd2b3[_0x27e671(0x18b)](_0x27e671(0x16d))),console[_0x27e671(0x189)](_0x27e671(0x182),typeof _0x1cd2b3[_0x27e671(0x155)]),console['log'](_0x27e671(0x16b),Object[_0x27e671(0x17e)](_0x1cd2b3[_0x27e671(0x155)]||{})),console['log'](_0x27e671(0x191),_0x1cd2b3[_0x27e671(0x155)]),loggerService_1['loggerService']['logWebhookReceived']('plisio',_0x1cd2b3[_0x27e671(0x155)],_0x1cd2b3[_0x27e671(0x157)]);const _0x609ecb=await this[_0x27e671(0x18e)][_0x27e671(0x18a)](_0x1cd2b3['body']);_0x80c788[_0x27e671(0x187)](0xc8)[_0x27e671(0x163)]({'success':!![],'message':_0x27e671(0x194)});}catch(_0x4e944f){console['error']('Webhook\x20processing\x20error:',_0x4e944f),loggerService_1[_0x27e671(0x192)]['logWebhookError'](_0x27e671(0x169),_0x4e944f,_0x1cd2b3[_0x27e671(0x155)]),_0x80c788[_0x27e671(0x187)](0xc8)[_0x27e671(0x163)]({'success':![],'message':_0x4e944f instanceof Error?_0x4e944f['message']:_0x27e671(0x193)});}},this[_0x4fcc0c(0x162)]=async(_0x5681dc,_0x12a525,_0x3773fa)=>{const _0x1cbc6f=_0x4fcc0c;try{console[_0x1cbc6f(0x189)](_0x1cbc6f(0x188)),console[_0x1cbc6f(0x189)](_0x1cbc6f(0x168),_0x5681dc[_0x1cbc6f(0x18b)](_0x1cbc6f(0x16d))),console[_0x1cbc6f(0x189)]('Raw\x20body\x20type:',typeof _0x5681dc[_0x1cbc6f(0x155)]),console[_0x1cbc6f(0x189)](_0x1cbc6f(0x16b),Object[_0x1cbc6f(0x17e)](_0x5681dc[_0x1cbc6f(0x155)]||{})),console[_0x1cbc6f(0x189)]('Body\x20content:',_0x5681dc[_0x1cbc6f(0x155)]),loggerService_1[_0x1cbc6f(0x192)][_0x1cbc6f(0x17f)](_0x1cbc6f(0x173),_0x5681dc[_0x1cbc6f(0x155)],_0x5681dc['headers']);const _0x5b2861=await this[_0x1cbc6f(0x18e)][_0x1cbc6f(0x190)](_0x5681dc[_0x1cbc6f(0x155)]);_0x12a525[_0x1cbc6f(0x187)](0xc8)['json']({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x143d91){console[_0x1cbc6f(0x17b)](_0x1cbc6f(0x170),_0x143d91),loggerService_1[_0x1cbc6f(0x192)][_0x1cbc6f(0x166)](_0x1cbc6f(0x173),_0x143d91,_0x5681dc[_0x1cbc6f(0x155)]),_0x12a525[_0x1cbc6f(0x187)](0xc8)['json']({'success':![],'message':_0x143d91 instanceof Error?_0x143d91['message']:_0x1cbc6f(0x198)});}},this[_0x4fcc0c(0x164)]=async(_0x13c2fb,_0x180943,_0x15462a)=>{const _0x5132ba=_0x4fcc0c;try{console[_0x5132ba(0x189)](_0x5132ba(0x159),_0x13c2fb[_0x5132ba(0x155)]),loggerService_1['loggerService']['logWebhookReceived'](_0x5132ba(0x196),_0x13c2fb['body'],_0x13c2fb[_0x5132ba(0x157)]);const _0x38c681=await this['webhookService'][_0x5132ba(0x175)](_0x13c2fb['body']);_0x180943[_0x5132ba(0x187)](0xc8)[_0x5132ba(0x163)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x2de08e){console[_0x5132ba(0x17b)](_0x5132ba(0x167),_0x2de08e),loggerService_1[_0x5132ba(0x192)][_0x5132ba(0x166)](_0x5132ba(0x196),_0x2de08e,_0x13c2fb[_0x5132ba(0x155)]),_0x180943[_0x5132ba(0x187)](0xc8)[_0x5132ba(0x163)]({'success':![],'message':_0x2de08e instanceof Error?_0x2de08e['message']:_0x5132ba(0x172)});}},this[_0x4fcc0c(0x17a)]=async(_0x4eaac5,_0x4d0d8d,_0x1c6918)=>{const _0x527009=_0x4fcc0c;try{console['log'](_0x527009(0x15a),_0x4eaac5[_0x527009(0x155)]),loggerService_1[_0x527009(0x192)]['logWebhookReceived']('noda',_0x4eaac5[_0x527009(0x155)],_0x4eaac5[_0x527009(0x157)]);const _0x4c3fdd=await this[_0x527009(0x18e)][_0x527009(0x180)](_0x4eaac5['body']);_0x4d0d8d[_0x527009(0x187)](0xc8)['json']({'success':!![],'message':_0x527009(0x197)});}catch(_0x906a1d){console[_0x527009(0x17b)]('Noda\x20webhook\x20processing\x20error:',_0x906a1d),loggerService_1[_0x527009(0x192)]['logWebhookError'](_0x527009(0x15e),_0x906a1d,_0x4eaac5[_0x527009(0x155)]),_0x4d0d8d['status'](0xc8)[_0x527009(0x163)]({'success':![],'message':_0x906a1d instanceof Error?_0x906a1d['message']:_0x527009(0x15b)});}},this['handleCoinToPayWebhook']=async(_0x1c8d6d,_0x584397,_0x1636aa)=>{const _0x280ded=_0x4fcc0c;try{console[_0x280ded(0x189)]('Received\x20CoinToPay\x20webhook:',_0x1c8d6d[_0x280ded(0x155)]),loggerService_1[_0x280ded(0x192)]['logWebhookReceived']('cointopay',_0x1c8d6d['body'],_0x1c8d6d['headers']);const _0x1eede7=await this[_0x280ded(0x18e)]['processCoinToPayWebhook'](_0x1c8d6d['body']);_0x584397['status'](0xc8)[_0x280ded(0x163)]({'success':!![],'message':_0x280ded(0x160)});}catch(_0x4c2a5f){console[_0x280ded(0x17b)](_0x280ded(0x186),_0x4c2a5f),loggerService_1[_0x280ded(0x192)]['logWebhookError']('cointopay',_0x4c2a5f,_0x1c8d6d[_0x280ded(0x155)]),_0x584397['status'](0xc8)[_0x280ded(0x163)]({'success':![],'message':_0x4c2a5f instanceof Error?_0x4c2a5f[_0x280ded(0x153)]:_0x280ded(0x16e)});}},this[_0x4fcc0c(0x16a)]=async(_0x46bbb8,_0x452b3a,_0x2d220b)=>{const _0x2756b5=_0x4fcc0c;try{console[_0x2756b5(0x189)](_0x2756b5(0x18f),_0x46bbb8[_0x2756b5(0x155)]),loggerService_1[_0x2756b5(0x192)][_0x2756b5(0x17f)](_0x2756b5(0x161),_0x46bbb8[_0x2756b5(0x155)],_0x46bbb8[_0x2756b5(0x157)]);const _0x22908d=await this[_0x2756b5(0x18e)][_0x2756b5(0x181)](_0x46bbb8[_0x2756b5(0x155)]);_0x452b3a[_0x2756b5(0x187)](0xc8)[_0x2756b5(0x163)]({'success':!![],'message':_0x2756b5(0x15d)});}catch(_0x43c124){console[_0x2756b5(0x17b)]('KLYME\x20webhook\x20processing\x20error:',_0x43c124),loggerService_1[_0x2756b5(0x192)][_0x2756b5(0x166)]('klyme',_0x43c124,_0x46bbb8['body']),_0x452b3a[_0x2756b5(0x187)](0xc8)[_0x2756b5(0x163)]({'success':![],'message':_0x43c124 instanceof Error?_0x43c124[_0x2756b5(0x153)]:_0x2756b5(0x17c)});}},this[_0x4fcc0c(0x177)]=async(_0x5185a9,_0x4a8bf9,_0x4ac954)=>{const _0x23922e=_0x4fcc0c;try{console[_0x23922e(0x189)](_0x23922e(0x158),_0x5185a9['body']),loggerService_1[_0x23922e(0x192)][_0x23922e(0x17f)](_0x23922e(0x17d),_0x5185a9['body'],_0x5185a9['headers']);const _0x3165b0=await this[_0x23922e(0x18e)]['processMasterCardWebhook'](_0x5185a9['body']);_0x4a8bf9[_0x23922e(0x187)](0xc8)[_0x23922e(0x163)]({'success':!![],'message':_0x23922e(0x154)});}catch(_0x5cf717){console[_0x23922e(0x17b)]('MasterCard\x20webhook\x20processing\x20error:',_0x5cf717),loggerService_1['loggerService'][_0x23922e(0x166)](_0x23922e(0x17d),_0x5cf717,_0x5185a9['body']),_0x4a8bf9[_0x23922e(0x187)](0xc8)['json']({'success':![],'message':_0x5cf717 instanceof Error?_0x5cf717['message']:_0x23922e(0x174)});}},this[_0x4fcc0c(0x18e)]=new webhookService_1[(_0x4fcc0c(0x15c))]();}}exports[a15_0x4b0f88(0x176)]=WebhookController;