'use strict';const a16_0x1f57cc=a16_0x4c4c;(function(_0x4fd941,_0x5505df){const _0x5bbf6e=a16_0x4c4c,_0x1018b4=_0x4fd941();while(!![]){try{const _0x55220c=parseInt(_0x5bbf6e(0x72))/0x1*(-parseInt(_0x5bbf6e(0x93))/0x2)+parseInt(_0x5bbf6e(0x6e))/0x3*(parseInt(_0x5bbf6e(0x98))/0x4)+-parseInt(_0x5bbf6e(0xa9))/0x5*(-parseInt(_0x5bbf6e(0x6a))/0x6)+parseInt(_0x5bbf6e(0xac))/0x7*(-parseInt(_0x5bbf6e(0x7a))/0x8)+parseInt(_0x5bbf6e(0xab))/0x9+-parseInt(_0x5bbf6e(0x74))/0xa*(parseInt(_0x5bbf6e(0xc9))/0xb)+parseInt(_0x5bbf6e(0x79))/0xc;if(_0x55220c===_0x5505df)break;else _0x1018b4['push'](_0x1018b4['shift']());}catch(_0x80b387){_0x1018b4['push'](_0x1018b4['shift']());}}}(a16_0x3f4d,0x95cf2));function a16_0x3f4d(){const _0x23acc8=['Headers:','processVisaWebhook','cointopay2','3zPjihe','CoinToPay2\x20webhook\x20processing\x20error:','processCoinToPayWebhook','Gateway\x20webhook\x20processing\x20error:','29577CcmbXS','VISA\x20webhook\x20processing\x20failed','320Fobexd','message','Received\x20Rapyd\x20webhook:','processAmPayWebhook','Amer\x20webhook\x20processing\x20error:','12278676SJhDeM','56juCJKz','Received\x20CoinToPay2\x20webhook:','processAmerWebhook','Received\x20KLYME\x20webhook:','processPlisioGatewayWebhook','processMyXSpendWebhook','noda','status','handleCoinToPay2Webhook','MyXSpend\x20webhook\x20processed\x20successfully','AmPay\x20webhook\x20processing\x20failed','Content-Type','rapyd','../services/loggerService','KLYME\x20webhook\x20processing\x20failed','===\x20AmPay\x20Webhook\x20Received\x20===','error','logWebhookReceived','handleMyXSpendWebhook','plisio_gateway','processMasterCardWebhook','VISA\x20webhook\x20processing\x20error:','processCoinToPay2Webhook','Body\x20content:','AmPay\x20webhook\x20processing\x20error:','16cXauEY','Gateway\x20webhook\x20processed\x20successfully','headers','Webhook\x20processed\x20successfully','MyXSpend\x20webhook\x20processing\x20error:','3569604pbIsjp','webhookService','MyXSpend\x20webhook\x20processing\x20failed','body','Method:','handlePlisioGatewayWebhook','Query\x20params:','Rapyd\x20webhook\x20processed\x20successfully','Raw\x20body\x20type:','defineProperty','WebhookService','CoinToPay\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20failed','plisio','Body\x20keys:','processNodaWebhook','Rapyd\x20webhook\x20processing\x20error:','2244030yTJcEL','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','2684673ffuMUd','893837XJVtbE','Amer\x20webhook\x20processed\x20successfully','Body\x20type:','Webhook\x20processing\x20failed','get','MasterCard\x20webhook\x20processing\x20failed','processKlymeWebhook','query','logWebhookError','log','klyme','AmPay\x20webhook\x20processed\x20successfully','handleVisaWebhook','ampay','__esModule','handleCoinToPayWebhook','WebhookController','CoinToPay\x20webhook\x20processing\x20failed','handleMasterCardWebhook','Amer\x20webhook\x20processing\x20failed','processPlisioWebhook','amer','Body:','Received\x20Noda\x20webhook:','json','VISA\x20webhook\x20processed\x20successfully','Content-Type:','mastercard','Rapyd\x20webhook\x20processing\x20failed','315788zMnHFZ','Received\x20Amer\x20webhook:','visa','keys','handleKlymeWebhook','loggerService','6Woaxqi'];a16_0x3f4d=function(){return _0x23acc8;};return a16_0x3f4d();}Object[a16_0x1f57cc(0xa1)](exports,a16_0x1f57cc(0xba),{'value':!![]}),exports[a16_0x1f57cc(0xbc)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a16_0x1f57cc(0x87));class WebhookController{constructor(){const _0x494b08=a16_0x1f57cc;this['handlePlisioWebhook']=async(_0x5d7dd2,_0x860017,_0x395c5e)=>{const _0x2b6291=a16_0x4c4c;try{console[_0x2b6291(0xb5)](_0x2b6291(0xaa)),console[_0x2b6291(0xb5)](_0x2b6291(0xc6),_0x5d7dd2[_0x2b6291(0xb0)]('Content-Type')),console[_0x2b6291(0xb5)](_0x2b6291(0xa0),typeof _0x5d7dd2[_0x2b6291(0x9b)]),console[_0x2b6291(0xb5)](_0x2b6291(0xa6),Object[_0x2b6291(0x67)](_0x5d7dd2[_0x2b6291(0x9b)]||{})),console['log'](_0x2b6291(0x91),_0x5d7dd2[_0x2b6291(0x9b)]),loggerService_1['loggerService'][_0x2b6291(0x8b)](_0x2b6291(0xa5),_0x5d7dd2[_0x2b6291(0x9b)],_0x5d7dd2[_0x2b6291(0x95)]);const _0x54b0d5=await this[_0x2b6291(0x99)][_0x2b6291(0xc0)](_0x5d7dd2['body']);_0x860017[_0x2b6291(0x81)](0xc8)[_0x2b6291(0xc4)]({'success':!![],'message':_0x2b6291(0x96)});}catch(_0x234426){console[_0x2b6291(0x8a)]('Webhook\x20processing\x20error:',_0x234426),loggerService_1['loggerService'][_0x2b6291(0xb4)](_0x2b6291(0xa5),_0x234426,_0x5d7dd2['body']),_0x860017['status'](0xc8)[_0x2b6291(0xc4)]({'success':![],'message':_0x234426 instanceof Error?_0x234426[_0x2b6291(0x75)]:_0x2b6291(0xaf)});}},this[_0x494b08(0x9d)]=async(_0x18eaaa,_0x25472c,_0x1cba2d)=>{const _0x7e6369=_0x494b08;try{console['log']('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x7e6369(0xb5)]('Content-Type:',_0x18eaaa[_0x7e6369(0xb0)](_0x7e6369(0x85))),console[_0x7e6369(0xb5)]('Raw\x20body\x20type:',typeof _0x18eaaa[_0x7e6369(0x9b)]),console['log'](_0x7e6369(0xa6),Object['keys'](_0x18eaaa[_0x7e6369(0x9b)]||{})),console['log'](_0x7e6369(0x91),_0x18eaaa['body']),loggerService_1[_0x7e6369(0x69)][_0x7e6369(0x8b)](_0x7e6369(0x8d),_0x18eaaa[_0x7e6369(0x9b)],_0x18eaaa[_0x7e6369(0x95)]);const _0x4f99e4=await this[_0x7e6369(0x99)][_0x7e6369(0x7e)](_0x18eaaa['body']);_0x25472c[_0x7e6369(0x81)](0xc8)[_0x7e6369(0xc4)]({'success':!![],'message':_0x7e6369(0x94)});}catch(_0x36a5e4){console[_0x7e6369(0x8a)](_0x7e6369(0x71),_0x36a5e4),loggerService_1['loggerService'][_0x7e6369(0xb4)]('plisio_gateway',_0x36a5e4,_0x18eaaa[_0x7e6369(0x9b)]),_0x25472c[_0x7e6369(0x81)](0xc8)[_0x7e6369(0xc4)]({'success':![],'message':_0x36a5e4 instanceof Error?_0x36a5e4['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this['handleRapydWebhook']=async(_0x15304b,_0x8beea,_0xd3bf1d)=>{const _0x50faa5=_0x494b08;try{console['log'](_0x50faa5(0x76),_0x15304b['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x50faa5(0x86),_0x15304b[_0x50faa5(0x9b)],_0x15304b[_0x50faa5(0x95)]);const _0x316d24=await this[_0x50faa5(0x99)]['processRapydWebhook'](_0x15304b[_0x50faa5(0x9b)]);_0x8beea[_0x50faa5(0x81)](0xc8)['json']({'success':!![],'message':_0x50faa5(0x9f)});}catch(_0xd75e3e){console[_0x50faa5(0x8a)](_0x50faa5(0xa8),_0xd75e3e),loggerService_1[_0x50faa5(0x69)][_0x50faa5(0xb4)]('rapyd',_0xd75e3e,_0x15304b[_0x50faa5(0x9b)]),_0x8beea[_0x50faa5(0x81)](0xc8)[_0x50faa5(0xc4)]({'success':![],'message':_0xd75e3e instanceof Error?_0xd75e3e[_0x50faa5(0x75)]:_0x50faa5(0xc8)});}},this['handleNodaWebhook']=async(_0x2d00f8,_0x156809,_0x4c160a)=>{const _0x82e024=_0x494b08;try{console[_0x82e024(0xb5)](_0x82e024(0xc3),_0x2d00f8[_0x82e024(0x9b)]),loggerService_1[_0x82e024(0x69)][_0x82e024(0x8b)]('noda',_0x2d00f8[_0x82e024(0x9b)],_0x2d00f8['headers']);const _0x1dac23=await this['webhookService'][_0x82e024(0xa7)](_0x2d00f8[_0x82e024(0x9b)]);_0x156809[_0x82e024(0x81)](0xc8)['json']({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x2e0066){console[_0x82e024(0x8a)]('Noda\x20webhook\x20processing\x20error:',_0x2e0066),loggerService_1[_0x82e024(0x69)][_0x82e024(0xb4)](_0x82e024(0x80),_0x2e0066,_0x2d00f8[_0x82e024(0x9b)]),_0x156809[_0x82e024(0x81)](0xc8)[_0x82e024(0xc4)]({'success':![],'message':_0x2e0066 instanceof Error?_0x2e0066[_0x82e024(0x75)]:_0x82e024(0xa4)});}},this[_0x494b08(0xbb)]=async(_0x4541d8,_0x3e641a,_0x4a94c9)=>{const _0x137365=_0x494b08;try{console[_0x137365(0xb5)]('Received\x20CoinToPay\x20webhook:',_0x4541d8[_0x137365(0x9b)]),loggerService_1['loggerService']['logWebhookReceived']('cointopay',_0x4541d8['body'],_0x4541d8[_0x137365(0x95)]);const _0x563fd4=await this[_0x137365(0x99)][_0x137365(0x70)](_0x4541d8['body']);_0x3e641a[_0x137365(0x81)](0xc8)[_0x137365(0xc4)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x54b39b){console['error'](_0x137365(0xa3),_0x54b39b),loggerService_1[_0x137365(0x69)][_0x137365(0xb4)]('cointopay',_0x54b39b,_0x4541d8['body']),_0x3e641a[_0x137365(0x81)](0xc8)[_0x137365(0xc4)]({'success':![],'message':_0x54b39b instanceof Error?_0x54b39b[_0x137365(0x75)]:_0x137365(0xbd)});}},this[_0x494b08(0x82)]=async(_0x288854,_0xc9ff10,_0xbabd0a)=>{const _0x19220e=_0x494b08;try{console[_0x19220e(0xb5)](_0x19220e(0x7b),_0x288854[_0x19220e(0x9b)]),loggerService_1[_0x19220e(0x69)][_0x19220e(0x8b)](_0x19220e(0x6d),_0x288854[_0x19220e(0x9b)],_0x288854[_0x19220e(0x95)]);const _0x38460b=await this[_0x19220e(0x99)][_0x19220e(0x90)](_0x288854[_0x19220e(0x9b)]);_0xc9ff10[_0x19220e(0x81)](0xc8)[_0x19220e(0xc4)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x5bd8b1){console[_0x19220e(0x8a)](_0x19220e(0x6f),_0x5bd8b1),loggerService_1[_0x19220e(0x69)][_0x19220e(0xb4)](_0x19220e(0x6d),_0x5bd8b1,_0x288854[_0x19220e(0x9b)]),_0xc9ff10[_0x19220e(0x81)](0xc8)['json']({'success':![],'message':_0x5bd8b1 instanceof Error?_0x5bd8b1['message']:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x494b08(0x68)]=async(_0x450366,_0x51a2c8,_0x2409ce)=>{const _0x6d7810=_0x494b08;try{console['log'](_0x6d7810(0x7d),_0x450366[_0x6d7810(0x9b)]),loggerService_1['loggerService']['logWebhookReceived'](_0x6d7810(0xb6),_0x450366[_0x6d7810(0x9b)],_0x450366[_0x6d7810(0x95)]);const _0x1a1090=await this[_0x6d7810(0x99)][_0x6d7810(0xb2)](_0x450366[_0x6d7810(0x9b)]);_0x51a2c8[_0x6d7810(0x81)](0xc8)[_0x6d7810(0xc4)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x3b6599){console[_0x6d7810(0x8a)]('KLYME\x20webhook\x20processing\x20error:',_0x3b6599),loggerService_1[_0x6d7810(0x69)][_0x6d7810(0xb4)](_0x6d7810(0xb6),_0x3b6599,_0x450366[_0x6d7810(0x9b)]),_0x51a2c8[_0x6d7810(0x81)](0xc8)['json']({'success':![],'message':_0x3b6599 instanceof Error?_0x3b6599[_0x6d7810(0x75)]:_0x6d7810(0x88)});}},this[_0x494b08(0xb8)]=async(_0x2beec0,_0x15965a,_0x3bf144)=>{const _0x44eb38=_0x494b08;try{console[_0x44eb38(0xb5)]('Received\x20VISA\x20webhook:',_0x2beec0[_0x44eb38(0x9b)]),loggerService_1[_0x44eb38(0x69)][_0x44eb38(0x8b)](_0x44eb38(0x66),_0x2beec0[_0x44eb38(0x9b)],_0x2beec0[_0x44eb38(0x95)]);const _0x11be60=await this[_0x44eb38(0x99)][_0x44eb38(0x6c)](_0x2beec0['body']);_0x15965a[_0x44eb38(0x81)](0xc8)[_0x44eb38(0xc4)]({'success':!![],'message':_0x44eb38(0xc5)});}catch(_0x241489){console[_0x44eb38(0x8a)](_0x44eb38(0x8f),_0x241489),loggerService_1[_0x44eb38(0x69)]['logWebhookError'](_0x44eb38(0x66),_0x241489,_0x2beec0[_0x44eb38(0x9b)]),_0x15965a[_0x44eb38(0x81)](0xc8)[_0x44eb38(0xc4)]({'success':![],'message':_0x241489 instanceof Error?_0x241489[_0x44eb38(0x75)]:_0x44eb38(0x73)});}},this[_0x494b08(0xbe)]=async(_0x2da6fd,_0x312923,_0x12d5f5)=>{const _0x57adfa=_0x494b08;try{console['log']('Received\x20MasterCard\x20webhook:',_0x2da6fd[_0x57adfa(0x9b)]),loggerService_1[_0x57adfa(0x69)][_0x57adfa(0x8b)]('mastercard',_0x2da6fd[_0x57adfa(0x9b)],_0x2da6fd[_0x57adfa(0x95)]);const _0x45523d=await this['webhookService'][_0x57adfa(0x8e)](_0x2da6fd[_0x57adfa(0x9b)]);_0x312923['status'](0xc8)[_0x57adfa(0xc4)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x73c3e3){console[_0x57adfa(0x8a)]('MasterCard\x20webhook\x20processing\x20error:',_0x73c3e3),loggerService_1[_0x57adfa(0x69)][_0x57adfa(0xb4)](_0x57adfa(0xc7),_0x73c3e3,_0x2da6fd[_0x57adfa(0x9b)]),_0x312923[_0x57adfa(0x81)](0xc8)[_0x57adfa(0xc4)]({'success':![],'message':_0x73c3e3 instanceof Error?_0x73c3e3[_0x57adfa(0x75)]:_0x57adfa(0xb1)});}},this['handleAmerWebhook']=async(_0x361c87,_0x1af2e5,_0x5832eb)=>{const _0x656f4a=_0x494b08;try{console[_0x656f4a(0xb5)](_0x656f4a(0x65),_0x361c87[_0x656f4a(0x9b)]),loggerService_1[_0x656f4a(0x69)]['logWebhookReceived'](_0x656f4a(0xc1),_0x361c87['body'],_0x361c87[_0x656f4a(0x95)]);const _0x1178e7=await this['webhookService'][_0x656f4a(0x7c)](_0x361c87[_0x656f4a(0x9b)]);_0x1af2e5[_0x656f4a(0x81)](0xc8)[_0x656f4a(0xc4)]({'success':!![],'message':_0x656f4a(0xad)});}catch(_0x51d70c){console[_0x656f4a(0x8a)](_0x656f4a(0x78),_0x51d70c),loggerService_1['loggerService'][_0x656f4a(0xb4)](_0x656f4a(0xc1),_0x51d70c,_0x361c87[_0x656f4a(0x9b)]),_0x1af2e5[_0x656f4a(0x81)](0xc8)['json']({'success':![],'message':_0x51d70c instanceof Error?_0x51d70c['message']:_0x656f4a(0xbf)});}},this['handleAmPayWebhook']=async(_0x42d31a,_0x122b33,_0x162d3b)=>{const _0x4195ba=_0x494b08;try{console[_0x4195ba(0xb5)](_0x4195ba(0x89)),console[_0x4195ba(0xb5)](_0x4195ba(0x6b),_0x42d31a['headers']),console[_0x4195ba(0xb5)](_0x4195ba(0xc2),_0x42d31a[_0x4195ba(0x9b)]),console['log'](_0x4195ba(0xae),typeof _0x42d31a[_0x4195ba(0x9b)]),console[_0x4195ba(0xb5)](_0x4195ba(0xa6),Object[_0x4195ba(0x67)](_0x42d31a[_0x4195ba(0x9b)]||{})),loggerService_1[_0x4195ba(0x69)][_0x4195ba(0x8b)](_0x4195ba(0xb9),_0x42d31a['body'],_0x42d31a[_0x4195ba(0x95)]);const _0x6ea224=await this[_0x4195ba(0x99)][_0x4195ba(0x77)](_0x42d31a[_0x4195ba(0x9b)]);_0x122b33['status'](0xc8)[_0x4195ba(0xc4)]({'success':!![],'message':_0x4195ba(0xb7)});}catch(_0x21d244){console[_0x4195ba(0x8a)](_0x4195ba(0x92),_0x21d244),loggerService_1[_0x4195ba(0x69)][_0x4195ba(0xb4)](_0x4195ba(0xb9),_0x21d244,_0x42d31a[_0x4195ba(0x9b)]),_0x122b33[_0x4195ba(0x81)](0xc8)[_0x4195ba(0xc4)]({'success':![],'message':_0x21d244 instanceof Error?_0x21d244['message']:_0x4195ba(0x84)});}},this[_0x494b08(0x8c)]=async(_0x4c2e74,_0x386058,_0x581b14)=>{const _0x800d78=_0x494b08;try{console['log']('===\x20MyXSpend\x20Webhook\x20Received\x20==='),console[_0x800d78(0xb5)](_0x800d78(0x6b),_0x4c2e74['headers']),console[_0x800d78(0xb5)](_0x800d78(0x9e),_0x4c2e74[_0x800d78(0xb3)]),console[_0x800d78(0xb5)](_0x800d78(0xc2),_0x4c2e74[_0x800d78(0x9b)]),console[_0x800d78(0xb5)](_0x800d78(0x9c),_0x4c2e74['method']),loggerService_1[_0x800d78(0x69)][_0x800d78(0x8b)]('myxspend',_0x4c2e74[_0x800d78(0x9b)]||_0x4c2e74[_0x800d78(0xb3)],_0x4c2e74['headers']);const _0xad6b90=await this[_0x800d78(0x99)][_0x800d78(0x7f)](_0x4c2e74[_0x800d78(0xb3)],_0x4c2e74[_0x800d78(0x9b)]);_0x386058[_0x800d78(0x81)](0xc8)[_0x800d78(0xc4)]({'success':!![],'message':_0x800d78(0x83)});}catch(_0x1ed101){console[_0x800d78(0x8a)](_0x800d78(0x97),_0x1ed101),loggerService_1[_0x800d78(0x69)][_0x800d78(0xb4)]('myxspend',_0x1ed101,_0x4c2e74[_0x800d78(0x9b)]||_0x4c2e74[_0x800d78(0xb3)]),_0x386058[_0x800d78(0x81)](0xc8)[_0x800d78(0xc4)]({'success':![],'message':_0x1ed101 instanceof Error?_0x1ed101[_0x800d78(0x75)]:_0x800d78(0x9a)});}},this[_0x494b08(0x99)]=new webhookService_1[(_0x494b08(0xa2))]();}}function a16_0x4c4c(_0x30a6bb,_0x208bf5){const _0x3f4d96=a16_0x3f4d();return a16_0x4c4c=function(_0x4c4c09,_0xa478d6){_0x4c4c09=_0x4c4c09-0x65;let _0xf3b68e=_0x3f4d96[_0x4c4c09];return _0xf3b68e;},a16_0x4c4c(_0x30a6bb,_0x208bf5);}exports[a16_0x1f57cc(0xbc)]=WebhookController;