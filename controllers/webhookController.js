'use strict';const a14_0x1ba50b=a14_0x30d3;(function(_0x28f83d,_0x305b4d){const _0x253755=a14_0x30d3,_0x294f42=_0x28f83d();while(!![]){try{const _0x4ca1a2=parseInt(_0x253755(0x208))/0x1+parseInt(_0x253755(0x1f9))/0x2+-parseInt(_0x253755(0x202))/0x3+parseInt(_0x253755(0x1f7))/0x4*(parseInt(_0x253755(0x209))/0x5)+-parseInt(_0x253755(0x206))/0x6+parseInt(_0x253755(0x1ef))/0x7*(parseInt(_0x253755(0x1f0))/0x8)+-parseInt(_0x253755(0x20a))/0x9*(parseInt(_0x253755(0x1f3))/0xa);if(_0x4ca1a2===_0x305b4d)break;else _0x294f42['push'](_0x294f42['shift']());}catch(_0x5a767){_0x294f42['push'](_0x294f42['shift']());}}}(a14_0x3269,0x21f61));Object[a14_0x1ba50b(0x207)](exports,a14_0x1ba50b(0x210),{'value':!![]}),exports[a14_0x1ba50b(0x1f2)]=void 0x0;function a14_0x3269(){const _0x5ed387=['log','noda','CoinToPay\x20webhook\x20processing\x20failed','Received\x20Noda\x20webhook:','handlePlisioGatewayWebhook','processPlisioGatewayWebhook','logWebhookError','WebhookService','message','Received\x20Plisio\x20gateway\x20webhook:','7IhRqFl','99888sXkyHs','processRapydWebhook','WebhookController','10nPtboW','loggerService','../services/webhookService','plisio','2092GOWGRT','processPlisioWebhook','545200lmWPLr','KLYME\x20webhook\x20processed\x20successfully','cointopay','headers','status','body','Received\x20Plisio\x20webhook:','Rapyd\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processed\x20successfully','707463nsXoUx','Noda\x20webhook\x20processing\x20error:','klyme','handleKlymeWebhook','162774bgthhE','defineProperty','236291QHqHzQ','725dIPQLP','1756413eMnuDd','Received\x20CoinToPay\x20webhook:','Received\x20Rapyd\x20webhook:','webhookService','Gateway\x20webhook\x20processed\x20successfully','processCoinToPayWebhook','__esModule','CoinToPay\x20webhook\x20processing\x20error:','logWebhookReceived','Gateway\x20webhook\x20processing\x20failed','error','handlePlisioWebhook','plisio_gateway','json','KLYME\x20webhook\x20processing\x20error:','rapyd'];a14_0x3269=function(){return _0x5ed387;};return a14_0x3269();}const webhookService_1=require(a14_0x1ba50b(0x1f5)),loggerService_1=require('../services/loggerService');function a14_0x30d3(_0xee79d2,_0x15cb9a){const _0x326916=a14_0x3269();return a14_0x30d3=function(_0x30d3b0,_0x1720c7){_0x30d3b0=_0x30d3b0-0x1de;let _0x123059=_0x326916[_0x30d3b0];return _0x123059;},a14_0x30d3(_0xee79d2,_0x15cb9a);}class WebhookController{constructor(){const _0x2ed913=a14_0x1ba50b;this[_0x2ed913(0x1e0)]=async(_0x20b99a,_0x48cef8,_0x35d6e7)=>{const _0x43448b=_0x2ed913;try{console[_0x43448b(0x1e5)](_0x43448b(0x1ff),_0x20b99a['body']),loggerService_1[_0x43448b(0x1f4)][_0x43448b(0x212)]('plisio',_0x20b99a[_0x43448b(0x1fe)],_0x20b99a[_0x43448b(0x1fc)]);const _0x18f014=await this['webhookService'][_0x43448b(0x1f8)](_0x20b99a[_0x43448b(0x1fe)]);_0x48cef8[_0x43448b(0x1fd)](0xc8)[_0x43448b(0x1e2)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x530018){console['error']('Webhook\x20processing\x20error:',_0x530018),loggerService_1[_0x43448b(0x1f4)]['logWebhookError'](_0x43448b(0x1f6),_0x530018,_0x20b99a[_0x43448b(0x1fe)]),_0x48cef8[_0x43448b(0x1fd)](0xc8)[_0x43448b(0x1e2)]({'success':![],'message':_0x530018 instanceof Error?_0x530018['message']:'Webhook\x20processing\x20failed'});}},this[_0x2ed913(0x1e9)]=async(_0x2508e0,_0x1f3170,_0x846e1)=>{const _0x2ae675=_0x2ed913;try{console[_0x2ae675(0x1e5)](_0x2ae675(0x1ee),_0x2508e0['body']),loggerService_1['loggerService'][_0x2ae675(0x212)](_0x2ae675(0x1e1),_0x2508e0[_0x2ae675(0x1fe)],_0x2508e0[_0x2ae675(0x1fc)]);const _0x5f1218=await this[_0x2ae675(0x20d)][_0x2ae675(0x1ea)](_0x2508e0[_0x2ae675(0x1fe)]);_0x1f3170[_0x2ae675(0x1fd)](0xc8)[_0x2ae675(0x1e2)]({'success':!![],'message':_0x2ae675(0x20e)});}catch(_0x4b9ae8){console[_0x2ae675(0x1df)]('Gateway\x20webhook\x20processing\x20error:',_0x4b9ae8),loggerService_1[_0x2ae675(0x1f4)]['logWebhookError'](_0x2ae675(0x1e1),_0x4b9ae8,_0x2508e0['body']),_0x1f3170['status'](0xc8)[_0x2ae675(0x1e2)]({'success':![],'message':_0x4b9ae8 instanceof Error?_0x4b9ae8[_0x2ae675(0x1ed)]:_0x2ae675(0x1de)});}},this['handleRapydWebhook']=async(_0x36163c,_0x296dad,_0x12cd6b)=>{const _0x566a82=_0x2ed913;try{console[_0x566a82(0x1e5)](_0x566a82(0x20c),_0x36163c[_0x566a82(0x1fe)]),loggerService_1[_0x566a82(0x1f4)][_0x566a82(0x212)](_0x566a82(0x1e4),_0x36163c[_0x566a82(0x1fe)],_0x36163c['headers']);const _0x42f268=await this[_0x566a82(0x20d)][_0x566a82(0x1f1)](_0x36163c['body']);_0x296dad[_0x566a82(0x1fd)](0xc8)[_0x566a82(0x1e2)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x2f9ff8){console[_0x566a82(0x1df)](_0x566a82(0x200),_0x2f9ff8),loggerService_1['loggerService'][_0x566a82(0x1eb)](_0x566a82(0x1e4),_0x2f9ff8,_0x36163c[_0x566a82(0x1fe)]),_0x296dad['status'](0xc8)[_0x566a82(0x1e2)]({'success':![],'message':_0x2f9ff8 instanceof Error?_0x2f9ff8[_0x566a82(0x1ed)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this['handleNodaWebhook']=async(_0x1c46e8,_0xd370ef,_0x4ab3aa)=>{const _0x55d90f=_0x2ed913;try{console[_0x55d90f(0x1e5)](_0x55d90f(0x1e8),_0x1c46e8[_0x55d90f(0x1fe)]),loggerService_1[_0x55d90f(0x1f4)][_0x55d90f(0x212)](_0x55d90f(0x1e6),_0x1c46e8[_0x55d90f(0x1fe)],_0x1c46e8[_0x55d90f(0x1fc)]);const _0x1f9a53=await this[_0x55d90f(0x20d)]['processNodaWebhook'](_0x1c46e8[_0x55d90f(0x1fe)]);_0xd370ef['status'](0xc8)[_0x55d90f(0x1e2)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x5c6dd9){console['error'](_0x55d90f(0x203),_0x5c6dd9),loggerService_1[_0x55d90f(0x1f4)][_0x55d90f(0x1eb)](_0x55d90f(0x1e6),_0x5c6dd9,_0x1c46e8[_0x55d90f(0x1fe)]),_0xd370ef[_0x55d90f(0x1fd)](0xc8)[_0x55d90f(0x1e2)]({'success':![],'message':_0x5c6dd9 instanceof Error?_0x5c6dd9[_0x55d90f(0x1ed)]:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x171ceb,_0xb30c71,_0x4bb41f)=>{const _0x60b6e1=_0x2ed913;try{console[_0x60b6e1(0x1e5)](_0x60b6e1(0x20b),_0x171ceb[_0x60b6e1(0x1fe)]),loggerService_1[_0x60b6e1(0x1f4)][_0x60b6e1(0x212)](_0x60b6e1(0x1fb),_0x171ceb[_0x60b6e1(0x1fe)],_0x171ceb[_0x60b6e1(0x1fc)]);const _0x1546cd=await this[_0x60b6e1(0x20d)][_0x60b6e1(0x20f)](_0x171ceb[_0x60b6e1(0x1fe)]);_0xb30c71[_0x60b6e1(0x1fd)](0xc8)[_0x60b6e1(0x1e2)]({'success':!![],'message':_0x60b6e1(0x201)});}catch(_0x35be38){console[_0x60b6e1(0x1df)](_0x60b6e1(0x211),_0x35be38),loggerService_1[_0x60b6e1(0x1f4)][_0x60b6e1(0x1eb)](_0x60b6e1(0x1fb),_0x35be38,_0x171ceb['body']),_0xb30c71[_0x60b6e1(0x1fd)](0xc8)['json']({'success':![],'message':_0x35be38 instanceof Error?_0x35be38['message']:_0x60b6e1(0x1e7)});}},this[_0x2ed913(0x205)]=async(_0x264b4e,_0xa13eb7,_0x179139)=>{const _0x4e1c09=_0x2ed913;try{console[_0x4e1c09(0x1e5)]('Received\x20KLYME\x20webhook:',_0x264b4e['body']),loggerService_1[_0x4e1c09(0x1f4)]['logWebhookReceived']('klyme',_0x264b4e[_0x4e1c09(0x1fe)],_0x264b4e['headers']);const _0x5cb399=await this['webhookService']['processKlymeWebhook'](_0x264b4e[_0x4e1c09(0x1fe)]);_0xa13eb7[_0x4e1c09(0x1fd)](0xc8)[_0x4e1c09(0x1e2)]({'success':!![],'message':_0x4e1c09(0x1fa)});}catch(_0x1b8068){console[_0x4e1c09(0x1df)](_0x4e1c09(0x1e3),_0x1b8068),loggerService_1['loggerService'][_0x4e1c09(0x1eb)](_0x4e1c09(0x204),_0x1b8068,_0x264b4e[_0x4e1c09(0x1fe)]),_0xa13eb7[_0x4e1c09(0x1fd)](0xc8)[_0x4e1c09(0x1e2)]({'success':![],'message':_0x1b8068 instanceof Error?_0x1b8068[_0x4e1c09(0x1ed)]:'KLYME\x20webhook\x20processing\x20failed'});}},this['webhookService']=new webhookService_1[(_0x2ed913(0x1ec))]();}}exports['WebhookController']=WebhookController;