'use strict';const a15_0x36e2d7=a15_0x3386;(function(_0x5e4be1,_0x4c968c){const _0x1a15bd=a15_0x3386,_0x74bb3a=_0x5e4be1();while(!![]){try{const _0x3e9876=-parseInt(_0x1a15bd(0x1ef))/0x1+parseInt(_0x1a15bd(0x20e))/0x2+-parseInt(_0x1a15bd(0x20a))/0x3*(parseInt(_0x1a15bd(0x1f3))/0x4)+-parseInt(_0x1a15bd(0x219))/0x5+-parseInt(_0x1a15bd(0x1ff))/0x6+parseInt(_0x1a15bd(0x1e1))/0x7*(-parseInt(_0x1a15bd(0x1ec))/0x8)+parseInt(_0x1a15bd(0x200))/0x9;if(_0x3e9876===_0x4c968c)break;else _0x74bb3a['push'](_0x74bb3a['shift']());}catch(_0xd2a000){_0x74bb3a['push'](_0x74bb3a['shift']());}}}(a15_0x3785,0xcfb58));function a15_0x3386(_0x24bb4f,_0x833c8b){const _0x3785b2=a15_0x3785();return a15_0x3386=function(_0x33867e,_0x1aaf4e){_0x33867e=_0x33867e-0x1d9;let _0x4db714=_0x3785b2[_0x33867e];return _0x4db714;},a15_0x3386(_0x24bb4f,_0x833c8b);}Object['defineProperty'](exports,a15_0x36e2d7(0x1df),{'value':!![]}),exports[a15_0x36e2d7(0x209)]=void 0x0;const webhookService_1=require(a15_0x36e2d7(0x1d9)),loggerService_1=require(a15_0x36e2d7(0x1e0));class WebhookController{constructor(){const _0x11a991=a15_0x36e2d7;this[_0x11a991(0x1fe)]=async(_0x1e9adc,_0x5320a3,_0x193acd)=>{const _0x1cd760=_0x11a991;try{console['log'](_0x1cd760(0x1f8)),console[_0x1cd760(0x1f9)](_0x1cd760(0x1dd),_0x1e9adc[_0x1cd760(0x1fb)](_0x1cd760(0x1e9))),console['log']('Raw\x20body\x20type:',typeof _0x1e9adc[_0x1cd760(0x1da)]),console[_0x1cd760(0x1f9)]('Body\x20keys:',Object[_0x1cd760(0x201)](_0x1e9adc[_0x1cd760(0x1da)]||{})),console[_0x1cd760(0x1f9)](_0x1cd760(0x1f4),_0x1e9adc[_0x1cd760(0x1da)]),loggerService_1[_0x1cd760(0x1f6)]['logWebhookReceived'](_0x1cd760(0x208),_0x1e9adc[_0x1cd760(0x1da)],_0x1e9adc['headers']);const _0x3ce7d0=await this[_0x1cd760(0x218)][_0x1cd760(0x207)](_0x1e9adc[_0x1cd760(0x1da)]);_0x5320a3[_0x1cd760(0x206)](0xc8)[_0x1cd760(0x212)]({'success':!![],'message':_0x1cd760(0x1e3)});}catch(_0xe230f0){console['error'](_0x1cd760(0x211),_0xe230f0),loggerService_1[_0x1cd760(0x1f6)]['logWebhookError'](_0x1cd760(0x208),_0xe230f0,_0x1e9adc[_0x1cd760(0x1da)]),_0x5320a3['status'](0xc8)[_0x1cd760(0x212)]({'success':![],'message':_0xe230f0 instanceof Error?_0xe230f0[_0x1cd760(0x217)]:'Webhook\x20processing\x20failed'});}},this[_0x11a991(0x1eb)]=async(_0x3561b5,_0x5cc5ab,_0x34f510)=>{const _0x56c082=_0x11a991;try{console[_0x56c082(0x1f9)](_0x56c082(0x1f1)),console[_0x56c082(0x1f9)](_0x56c082(0x1dd),_0x3561b5[_0x56c082(0x1fb)]('Content-Type')),console[_0x56c082(0x1f9)]('Raw\x20body\x20type:',typeof _0x3561b5[_0x56c082(0x1da)]),console['log']('Body\x20keys:',Object[_0x56c082(0x201)](_0x3561b5['body']||{})),console['log']('Body\x20content:',_0x3561b5[_0x56c082(0x1da)]),loggerService_1[_0x56c082(0x1f6)][_0x56c082(0x1ea)](_0x56c082(0x1fc),_0x3561b5['body'],_0x3561b5[_0x56c082(0x21c)]);const _0x4448ac=await this['webhookService'][_0x56c082(0x202)](_0x3561b5[_0x56c082(0x1da)]);_0x5cc5ab[_0x56c082(0x206)](0xc8)[_0x56c082(0x212)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x55e5b7){console[_0x56c082(0x20b)]('Gateway\x20webhook\x20processing\x20error:',_0x55e5b7),loggerService_1[_0x56c082(0x1f6)]['logWebhookError'](_0x56c082(0x1fc),_0x55e5b7,_0x3561b5[_0x56c082(0x1da)]),_0x5cc5ab[_0x56c082(0x206)](0xc8)[_0x56c082(0x212)]({'success':![],'message':_0x55e5b7 instanceof Error?_0x55e5b7['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x11a991(0x215)]=async(_0x219318,_0x345d8c,_0x5918ae)=>{const _0x4e42a4=_0x11a991;try{console[_0x4e42a4(0x1f9)](_0x4e42a4(0x1dc),_0x219318[_0x4e42a4(0x1da)]),loggerService_1[_0x4e42a4(0x1f6)][_0x4e42a4(0x1ea)](_0x4e42a4(0x214),_0x219318[_0x4e42a4(0x1da)],_0x219318[_0x4e42a4(0x21c)]);const _0x2e91b3=await this[_0x4e42a4(0x218)]['processRapydWebhook'](_0x219318[_0x4e42a4(0x1da)]);_0x345d8c[_0x4e42a4(0x206)](0xc8)[_0x4e42a4(0x212)]({'success':!![],'message':_0x4e42a4(0x216)});}catch(_0x21f44e){console['error'](_0x4e42a4(0x1ed),_0x21f44e),loggerService_1[_0x4e42a4(0x1f6)][_0x4e42a4(0x1e8)](_0x4e42a4(0x214),_0x21f44e,_0x219318[_0x4e42a4(0x1da)]),_0x345d8c['status'](0xc8)[_0x4e42a4(0x212)]({'success':![],'message':_0x21f44e instanceof Error?_0x21f44e[_0x4e42a4(0x217)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this['handleNodaWebhook']=async(_0x4e1c41,_0x4e111f,_0x1c0892)=>{const _0x501708=_0x11a991;try{console[_0x501708(0x1f9)](_0x501708(0x1ee),_0x4e1c41[_0x501708(0x1da)]),loggerService_1[_0x501708(0x1f6)][_0x501708(0x1ea)](_0x501708(0x213),_0x4e1c41['body'],_0x4e1c41['headers']);const _0x414fac=await this[_0x501708(0x218)][_0x501708(0x1fd)](_0x4e1c41[_0x501708(0x1da)]);_0x4e111f[_0x501708(0x206)](0xc8)[_0x501708(0x212)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x43d516){console[_0x501708(0x20b)](_0x501708(0x1e4),_0x43d516),loggerService_1[_0x501708(0x1f6)][_0x501708(0x1e8)](_0x501708(0x213),_0x43d516,_0x4e1c41[_0x501708(0x1da)]),_0x4e111f[_0x501708(0x206)](0xc8)['json']({'success':![],'message':_0x43d516 instanceof Error?_0x43d516[_0x501708(0x217)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x11a991(0x1f0)]=async(_0x3014ab,_0x2a5afa,_0x2611c7)=>{const _0x4e240b=_0x11a991;try{console[_0x4e240b(0x1f9)]('Received\x20CoinToPay\x20webhook:',_0x3014ab['body']),loggerService_1[_0x4e240b(0x1f6)][_0x4e240b(0x1ea)](_0x4e240b(0x21b),_0x3014ab[_0x4e240b(0x1da)],_0x3014ab[_0x4e240b(0x21c)]);const _0x265568=await this[_0x4e240b(0x218)][_0x4e240b(0x20d)](_0x3014ab[_0x4e240b(0x1da)]);_0x2a5afa[_0x4e240b(0x206)](0xc8)[_0x4e240b(0x212)]({'success':!![],'message':_0x4e240b(0x1e2)});}catch(_0x50cea3){console[_0x4e240b(0x20b)](_0x4e240b(0x210),_0x50cea3),loggerService_1[_0x4e240b(0x1f6)][_0x4e240b(0x1e8)]('cointopay',_0x50cea3,_0x3014ab[_0x4e240b(0x1da)]),_0x2a5afa[_0x4e240b(0x206)](0xc8)['json']({'success':![],'message':_0x50cea3 instanceof Error?_0x50cea3[_0x4e240b(0x217)]:_0x4e240b(0x21a)});}},this[_0x11a991(0x20f)]=async(_0x5df258,_0x1ea6a4,_0x5cf68d)=>{const _0x285c1e=_0x11a991;try{console[_0x285c1e(0x1f9)]('Received\x20CoinToPay2\x20webhook:',_0x5df258['body']),loggerService_1[_0x285c1e(0x1f6)]['logWebhookReceived'](_0x285c1e(0x204),_0x5df258['body'],_0x5df258[_0x285c1e(0x21c)]);const _0x4725dc=await this[_0x285c1e(0x218)]['processCoinToPay2Webhook'](_0x5df258['body']);_0x1ea6a4['status'](0xc8)[_0x285c1e(0x212)]({'success':!![],'message':_0x285c1e(0x1db)});}catch(_0x51435c){console[_0x285c1e(0x20b)](_0x285c1e(0x1fa),_0x51435c),loggerService_1[_0x285c1e(0x1f6)][_0x285c1e(0x1e8)]('cointopay2',_0x51435c,_0x5df258[_0x285c1e(0x1da)]),_0x1ea6a4[_0x285c1e(0x206)](0xc8)[_0x285c1e(0x212)]({'success':![],'message':_0x51435c instanceof Error?_0x51435c[_0x285c1e(0x217)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x133ca9,_0xa2fa43,_0x4eb4a8)=>{const _0x5e725b=_0x11a991;try{console[_0x5e725b(0x1f9)](_0x5e725b(0x1de),_0x133ca9[_0x5e725b(0x1da)]),loggerService_1[_0x5e725b(0x1f6)][_0x5e725b(0x1ea)](_0x5e725b(0x20c),_0x133ca9[_0x5e725b(0x1da)],_0x133ca9[_0x5e725b(0x21c)]);const _0x3309e7=await this[_0x5e725b(0x218)][_0x5e725b(0x1f2)](_0x133ca9[_0x5e725b(0x1da)]);_0xa2fa43[_0x5e725b(0x206)](0xc8)[_0x5e725b(0x212)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x3ff7b5){console[_0x5e725b(0x20b)](_0x5e725b(0x1e6),_0x3ff7b5),loggerService_1[_0x5e725b(0x1f6)][_0x5e725b(0x1e8)](_0x5e725b(0x20c),_0x3ff7b5,_0x133ca9['body']),_0xa2fa43['status'](0xc8)[_0x5e725b(0x212)]({'success':![],'message':_0x3ff7b5 instanceof Error?_0x3ff7b5[_0x5e725b(0x217)]:_0x5e725b(0x203)});}},this[_0x11a991(0x205)]=async(_0x166484,_0xf2fac2,_0x3d0d6c)=>{const _0x2ac166=_0x11a991;try{console[_0x2ac166(0x1f9)](_0x2ac166(0x1e7),_0x166484[_0x2ac166(0x1da)]),loggerService_1['loggerService'][_0x2ac166(0x1ea)](_0x2ac166(0x1f5),_0x166484[_0x2ac166(0x1da)],_0x166484[_0x2ac166(0x21c)]);const _0x399743=await this[_0x2ac166(0x218)][_0x2ac166(0x1f7)](_0x166484[_0x2ac166(0x1da)]);_0xf2fac2[_0x2ac166(0x206)](0xc8)[_0x2ac166(0x212)]({'success':!![],'message':_0x2ac166(0x1e5)});}catch(_0x26432c){console[_0x2ac166(0x20b)]('MasterCard\x20webhook\x20processing\x20error:',_0x26432c),loggerService_1['loggerService'][_0x2ac166(0x1e8)](_0x2ac166(0x1f5),_0x26432c,_0x166484[_0x2ac166(0x1da)]),_0xf2fac2['status'](0xc8)[_0x2ac166(0x212)]({'success':![],'message':_0x26432c instanceof Error?_0x26432c[_0x2ac166(0x217)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x11a991(0x218)]=new webhookService_1['WebhookService']();}}function a15_0x3785(){const _0x299b61=['message','webhookService','3846875SwYOSj','CoinToPay\x20webhook\x20processing\x20failed','cointopay','headers','../services/webhookService','body','CoinToPay2\x20webhook\x20processed\x20successfully','Received\x20Rapyd\x20webhook:','Content-Type:','Received\x20KLYME\x20webhook:','__esModule','../services/loggerService','42574QDoKMP','CoinToPay\x20webhook\x20processed\x20successfully','Webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processing\x20error:','Received\x20MasterCard\x20webhook:','logWebhookError','Content-Type','logWebhookReceived','handlePlisioGatewayWebhook','328EDdYYZ','Rapyd\x20webhook\x20processing\x20error:','Received\x20Noda\x20webhook:','2197nITUOx','handleCoinToPayWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processKlymeWebhook','2020GrESjd','Body\x20content:','mastercard','loggerService','processMasterCardWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','log','CoinToPay2\x20webhook\x20processing\x20error:','get','plisio_gateway','processNodaWebhook','handlePlisioWebhook','856914IKdSiX','21007503ajLJdx','keys','processPlisioGatewayWebhook','KLYME\x20webhook\x20processing\x20failed','cointopay2','handleMasterCardWebhook','status','processPlisioWebhook','plisio','WebhookController','7683WiCOGF','error','klyme','processCoinToPayWebhook','1947334DpkzQq','handleCoinToPay2Webhook','CoinToPay\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','json','noda','rapyd','handleRapydWebhook','Rapyd\x20webhook\x20processed\x20successfully'];a15_0x3785=function(){return _0x299b61;};return a15_0x3785();}exports['WebhookController']=WebhookController;