'use strict';const a15_0x2eb93e=a15_0x15f8;function a15_0xcc73(){const _0x266625=['get','CoinToPay\x20webhook\x20processed\x20successfully','processMasterCardWebhook','rapyd','processNodaWebhook','processKlymeWebhook','klyme','body','error','Gateway\x20webhook\x20processing\x20failed','handleCoinToPayWebhook','MasterCard\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processed\x20successfully','logWebhookError','210LusBLl','processPlisioGatewayWebhook','plisio','CoinToPay2\x20webhook\x20processing\x20error:','headers','handleCoinToPay2Webhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','7960460CtvXif','status','Received\x20Noda\x20webhook:','113755WuEtui','cointopay','2728544agsbMY','webhookService','Raw\x20body\x20type:','cointopay2','noda','CoinToPay\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20error:','handlePlisioWebhook','handleNodaWebhook','logWebhookReceived','CoinToPay2\x20webhook\x20processed\x20successfully','log','processCoinToPayWebhook','Content-Type:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Body\x20keys:','MasterCard\x20webhook\x20processed\x20successfully','processPlisioWebhook','__esModule','159608byfDXo','Noda\x20webhook\x20processing\x20error:','plisio_gateway','Received\x20CoinToPay\x20webhook:','9GhNqob','Rapyd\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20error:','handleKlymeWebhook','processRapydWebhook','message','KLYME\x20webhook\x20processed\x20successfully','../services/webhookService','handlePlisioGatewayWebhook','Noda\x20webhook\x20processing\x20failed','handleMasterCardWebhook','Received\x20MasterCard\x20webhook:','Webhook\x20processing\x20error:','Body\x20content:','json','mastercard','KLYME\x20webhook\x20processing\x20failed','defineProperty','CoinToPay2\x20webhook\x20processing\x20failed','loggerService','WebhookController','3EnLzcK','keys','679887sjtumR','Content-Type','2237480jHzZDV','1968688eylzgG','Received\x20KLYME\x20webhook:','WebhookService'];a15_0xcc73=function(){return _0x266625;};return a15_0xcc73();}(function(_0x28aac9,_0x3aa108){const _0x498f6a=a15_0x15f8,_0x2309eb=_0x28aac9();while(!![]){try{const _0x5cc3f7=-parseInt(_0x498f6a(0x18c))/0x1*(-parseInt(_0x498f6a(0x173))/0x2)+-parseInt(_0x498f6a(0x18e))/0x3+parseInt(_0x498f6a(0x190))/0x4+-parseInt(_0x498f6a(0x15d))/0x5*(parseInt(_0x498f6a(0x153))/0x6)+-parseInt(_0x498f6a(0x15f))/0x7+parseInt(_0x498f6a(0x191))/0x8+-parseInt(_0x498f6a(0x177))/0x9*(-parseInt(_0x498f6a(0x15a))/0xa);if(_0x5cc3f7===_0x3aa108)break;else _0x2309eb['push'](_0x2309eb['shift']());}catch(_0xf79111){_0x2309eb['push'](_0x2309eb['shift']());}}}(a15_0xcc73,0x688b0));Object[a15_0x2eb93e(0x188)](exports,a15_0x2eb93e(0x172),{'value':!![]}),exports[a15_0x2eb93e(0x18b)]=void 0x0;function a15_0x15f8(_0x474ebb,_0x1174a1){const _0xcc73c0=a15_0xcc73();return a15_0x15f8=function(_0x15f8f5,_0x5d9381){_0x15f8f5=_0x15f8f5-0x149;let _0x1c93bc=_0xcc73c0[_0x15f8f5];return _0x1c93bc;},a15_0x15f8(_0x474ebb,_0x1174a1);}const webhookService_1=require(a15_0x2eb93e(0x17e)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x2d7cd3=a15_0x2eb93e;this[_0x2d7cd3(0x167)]=async(_0x37170c,_0xf499e2,_0xdb801b)=>{const _0x157eb4=_0x2d7cd3;try{console[_0x157eb4(0x16b)](_0x157eb4(0x16e)),console[_0x157eb4(0x16b)](_0x157eb4(0x16d),_0x37170c[_0x157eb4(0x194)](_0x157eb4(0x18f))),console[_0x157eb4(0x16b)](_0x157eb4(0x161),typeof _0x37170c[_0x157eb4(0x14c)]),console[_0x157eb4(0x16b)]('Body\x20keys:',Object[_0x157eb4(0x18d)](_0x37170c[_0x157eb4(0x14c)]||{})),console[_0x157eb4(0x16b)]('Body\x20content:',_0x37170c['body']),loggerService_1[_0x157eb4(0x18a)]['logWebhookReceived']('plisio',_0x37170c[_0x157eb4(0x14c)],_0x37170c['headers']);const _0x56f41f=await this[_0x157eb4(0x160)][_0x157eb4(0x171)](_0x37170c[_0x157eb4(0x14c)]);_0xf499e2['status'](0xc8)[_0x157eb4(0x185)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x4266ca){console['error'](_0x157eb4(0x183),_0x4266ca),loggerService_1['loggerService']['logWebhookError'](_0x157eb4(0x155),_0x4266ca,_0x37170c[_0x157eb4(0x14c)]),_0xf499e2[_0x157eb4(0x15b)](0xc8)['json']({'success':![],'message':_0x4266ca instanceof Error?_0x4266ca[_0x157eb4(0x17c)]:'Webhook\x20processing\x20failed'});}},this[_0x2d7cd3(0x17f)]=async(_0x4577e0,_0x36ec59,_0x12e734)=>{const _0x106375=_0x2d7cd3;try{console[_0x106375(0x16b)](_0x106375(0x159)),console[_0x106375(0x16b)](_0x106375(0x16d),_0x4577e0[_0x106375(0x194)](_0x106375(0x18f))),console[_0x106375(0x16b)](_0x106375(0x161),typeof _0x4577e0[_0x106375(0x14c)]),console[_0x106375(0x16b)](_0x106375(0x16f),Object['keys'](_0x4577e0['body']||{})),console[_0x106375(0x16b)](_0x106375(0x184),_0x4577e0[_0x106375(0x14c)]),loggerService_1[_0x106375(0x18a)][_0x106375(0x169)]('plisio_gateway',_0x4577e0[_0x106375(0x14c)],_0x4577e0[_0x106375(0x157)]);const _0x3d104d=await this[_0x106375(0x160)][_0x106375(0x154)](_0x4577e0[_0x106375(0x14c)]);_0x36ec59[_0x106375(0x15b)](0xc8)[_0x106375(0x185)]({'success':!![],'message':_0x106375(0x151)});}catch(_0x1a37bf){console[_0x106375(0x14d)](_0x106375(0x166),_0x1a37bf),loggerService_1[_0x106375(0x18a)][_0x106375(0x152)](_0x106375(0x175),_0x1a37bf,_0x4577e0[_0x106375(0x14c)]),_0x36ec59[_0x106375(0x15b)](0xc8)[_0x106375(0x185)]({'success':![],'message':_0x1a37bf instanceof Error?_0x1a37bf[_0x106375(0x17c)]:_0x106375(0x14e)});}},this['handleRapydWebhook']=async(_0x478174,_0x5b9f95,_0x43ff30)=>{const _0x2e1500=_0x2d7cd3;try{console[_0x2e1500(0x16b)]('Received\x20Rapyd\x20webhook:',_0x478174[_0x2e1500(0x14c)]),loggerService_1['loggerService'][_0x2e1500(0x169)](_0x2e1500(0x197),_0x478174[_0x2e1500(0x14c)],_0x478174[_0x2e1500(0x157)]);const _0x32a83d=await this[_0x2e1500(0x160)][_0x2e1500(0x17b)](_0x478174[_0x2e1500(0x14c)]);_0x5b9f95[_0x2e1500(0x15b)](0xc8)[_0x2e1500(0x185)]({'success':!![],'message':_0x2e1500(0x165)});}catch(_0x2428dd){console['error'](_0x2e1500(0x178),_0x2428dd),loggerService_1['loggerService']['logWebhookError'](_0x2e1500(0x197),_0x2428dd,_0x478174['body']),_0x5b9f95[_0x2e1500(0x15b)](0xc8)[_0x2e1500(0x185)]({'success':![],'message':_0x2428dd instanceof Error?_0x2428dd['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x2d7cd3(0x168)]=async(_0x4cfb99,_0x4360b2,_0x384f97)=>{const _0xf18d5c=_0x2d7cd3;try{console['log'](_0xf18d5c(0x15c),_0x4cfb99['body']),loggerService_1[_0xf18d5c(0x18a)][_0xf18d5c(0x169)](_0xf18d5c(0x163),_0x4cfb99[_0xf18d5c(0x14c)],_0x4cfb99[_0xf18d5c(0x157)]);const _0x23cabd=await this[_0xf18d5c(0x160)][_0xf18d5c(0x149)](_0x4cfb99[_0xf18d5c(0x14c)]);_0x4360b2[_0xf18d5c(0x15b)](0xc8)[_0xf18d5c(0x185)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x5186f3){console[_0xf18d5c(0x14d)](_0xf18d5c(0x174),_0x5186f3),loggerService_1['loggerService']['logWebhookError']('noda',_0x5186f3,_0x4cfb99[_0xf18d5c(0x14c)]),_0x4360b2[_0xf18d5c(0x15b)](0xc8)[_0xf18d5c(0x185)]({'success':![],'message':_0x5186f3 instanceof Error?_0x5186f3[_0xf18d5c(0x17c)]:_0xf18d5c(0x180)});}},this[_0x2d7cd3(0x14f)]=async(_0x1e5ffb,_0x25f574,_0x5d2506)=>{const _0x5d3056=_0x2d7cd3;try{console['log'](_0x5d3056(0x176),_0x1e5ffb[_0x5d3056(0x14c)]),loggerService_1[_0x5d3056(0x18a)][_0x5d3056(0x169)](_0x5d3056(0x15e),_0x1e5ffb[_0x5d3056(0x14c)],_0x1e5ffb[_0x5d3056(0x157)]);const _0x572fc6=await this[_0x5d3056(0x160)][_0x5d3056(0x16c)](_0x1e5ffb[_0x5d3056(0x14c)]);_0x25f574[_0x5d3056(0x15b)](0xc8)[_0x5d3056(0x185)]({'success':!![],'message':_0x5d3056(0x195)});}catch(_0x1a87c0){console[_0x5d3056(0x14d)](_0x5d3056(0x179),_0x1a87c0),loggerService_1[_0x5d3056(0x18a)][_0x5d3056(0x152)](_0x5d3056(0x15e),_0x1a87c0,_0x1e5ffb['body']),_0x25f574[_0x5d3056(0x15b)](0xc8)['json']({'success':![],'message':_0x1a87c0 instanceof Error?_0x1a87c0[_0x5d3056(0x17c)]:_0x5d3056(0x164)});}},this[_0x2d7cd3(0x158)]=async(_0x42202e,_0x415102,_0x39fc8d)=>{const _0x57c080=_0x2d7cd3;try{console['log']('Received\x20CoinToPay2\x20webhook:',_0x42202e[_0x57c080(0x14c)]),loggerService_1[_0x57c080(0x18a)]['logWebhookReceived'](_0x57c080(0x162),_0x42202e[_0x57c080(0x14c)],_0x42202e[_0x57c080(0x157)]);const _0x528d06=await this['webhookService']['processCoinToPay2Webhook'](_0x42202e[_0x57c080(0x14c)]);_0x415102['status'](0xc8)[_0x57c080(0x185)]({'success':!![],'message':_0x57c080(0x16a)});}catch(_0x319fe5){console[_0x57c080(0x14d)](_0x57c080(0x156),_0x319fe5),loggerService_1[_0x57c080(0x18a)][_0x57c080(0x152)](_0x57c080(0x162),_0x319fe5,_0x42202e[_0x57c080(0x14c)]),_0x415102[_0x57c080(0x15b)](0xc8)['json']({'success':![],'message':_0x319fe5 instanceof Error?_0x319fe5[_0x57c080(0x17c)]:_0x57c080(0x189)});}},this[_0x2d7cd3(0x17a)]=async(_0x158055,_0x320ffe,_0x19d237)=>{const _0x5789cd=_0x2d7cd3;try{console[_0x5789cd(0x16b)](_0x5789cd(0x192),_0x158055['body']),loggerService_1[_0x5789cd(0x18a)]['logWebhookReceived']('klyme',_0x158055[_0x5789cd(0x14c)],_0x158055[_0x5789cd(0x157)]);const _0x1b61eb=await this[_0x5789cd(0x160)][_0x5789cd(0x14a)](_0x158055[_0x5789cd(0x14c)]);_0x320ffe['status'](0xc8)[_0x5789cd(0x185)]({'success':!![],'message':_0x5789cd(0x17d)});}catch(_0x99c010){console[_0x5789cd(0x14d)]('KLYME\x20webhook\x20processing\x20error:',_0x99c010),loggerService_1[_0x5789cd(0x18a)]['logWebhookError'](_0x5789cd(0x14b),_0x99c010,_0x158055[_0x5789cd(0x14c)]),_0x320ffe[_0x5789cd(0x15b)](0xc8)[_0x5789cd(0x185)]({'success':![],'message':_0x99c010 instanceof Error?_0x99c010['message']:_0x5789cd(0x187)});}},this[_0x2d7cd3(0x181)]=async(_0x1d1018,_0x45256e,_0x232a08)=>{const _0x1d21e6=_0x2d7cd3;try{console[_0x1d21e6(0x16b)](_0x1d21e6(0x182),_0x1d1018[_0x1d21e6(0x14c)]),loggerService_1[_0x1d21e6(0x18a)][_0x1d21e6(0x169)]('mastercard',_0x1d1018[_0x1d21e6(0x14c)],_0x1d1018['headers']);const _0xaac59f=await this['webhookService'][_0x1d21e6(0x196)](_0x1d1018[_0x1d21e6(0x14c)]);_0x45256e[_0x1d21e6(0x15b)](0xc8)['json']({'success':!![],'message':_0x1d21e6(0x170)});}catch(_0x3f8d00){console['error']('MasterCard\x20webhook\x20processing\x20error:',_0x3f8d00),loggerService_1[_0x1d21e6(0x18a)][_0x1d21e6(0x152)](_0x1d21e6(0x186),_0x3f8d00,_0x1d1018['body']),_0x45256e[_0x1d21e6(0x15b)](0xc8)['json']({'success':![],'message':_0x3f8d00 instanceof Error?_0x3f8d00[_0x1d21e6(0x17c)]:_0x1d21e6(0x150)});}},this[_0x2d7cd3(0x160)]=new webhookService_1[(_0x2d7cd3(0x193))]();}}exports[a15_0x2eb93e(0x18b)]=WebhookController;