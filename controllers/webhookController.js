'use strict';function a15_0x8c30(){const _0x113e7f=['get','Gateway\x20webhook\x20processing\x20failed','processMasterCardWebhook','processPlisioGatewayWebhook','handlePlisioGatewayWebhook','MasterCard\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20failed','plisio','2870704rUVuNC','19422mgSZda','handleMasterCardWebhook','Received\x20KLYME\x20webhook:','47CzHaFg','mastercard','15575LZfQGe','CoinToPay\x20webhook\x20processed\x20successfully','Webhook\x20processed\x20successfully','processNodaWebhook','processKlymeWebhook','CoinToPay\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','cointopay','2325366KUGHSj','logWebhookReceived','error','150CUvdJm','status','handleCoinToPayWebhook','json','defineProperty','plisio_gateway','Rapyd\x20webhook\x20processed\x20successfully','noda','webhookService','Content-Type','WebhookService','keys','processPlisioWebhook','688446LlQaRG','headers','1567190eeioQT','handleNodaWebhook','Noda\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processed\x20successfully','WebhookController','Received\x20Noda\x20webhook:','Webhook\x20processing\x20failed','Received\x20CoinToPay\x20webhook:','Noda\x20webhook\x20processing\x20error:','Body\x20content:','16364EkmUUR','Gateway\x20webhook\x20processed\x20successfully','log','Raw\x20body\x20type:','Rapyd\x20webhook\x20processing\x20error:','processCoinToPayWebhook','logWebhookError','160zfWCid','MasterCard\x20webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','klyme','message','loggerService','Content-Type:','rapyd','handleRapydWebhook','MasterCard\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20failed','body'];a15_0x8c30=function(){return _0x113e7f;};return a15_0x8c30();}const a15_0x2d6c50=a15_0x3e21;function a15_0x3e21(_0x7ef760,_0x50c5d4){const _0x8c30e=a15_0x8c30();return a15_0x3e21=function(_0x3e2134,_0x2a890d){_0x3e2134=_0x3e2134-0x8e;let _0x5a4596=_0x8c30e[_0x3e2134];return _0x5a4596;},a15_0x3e21(_0x7ef760,_0x50c5d4);}(function(_0x524555,_0x430b99){const _0x2e0fff=a15_0x3e21,_0x53702d=_0x524555();while(!![]){try{const _0x42db61=-parseInt(_0x2e0fff(0xb2))/0x1*(parseInt(_0x2e0fff(0x93))/0x2)+parseInt(_0x2e0fff(0xcc))/0x3+parseInt(_0x2e0fff(0xae))/0x4+parseInt(_0x2e0fff(0xbf))/0x5*(parseInt(_0x2e0fff(0xaf))/0x6)+parseInt(_0x2e0fff(0xb4))/0x7*(-parseInt(_0x2e0fff(0x9a))/0x8)+-parseInt(_0x2e0fff(0xbc))/0x9+parseInt(_0x2e0fff(0xce))/0xa;if(_0x42db61===_0x430b99)break;else _0x53702d['push'](_0x53702d['shift']());}catch(_0x339c3f){_0x53702d['push'](_0x53702d['shift']());}}}(a15_0x8c30,0x7d617));Object[a15_0x2d6c50(0xc3)](exports,'__esModule',{'value':!![]}),exports[a15_0x2d6c50(0xd2)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x53fdb8=a15_0x2d6c50;this['handlePlisioWebhook']=async(_0x2b54ad,_0x2427ac,_0x4dd212)=>{const _0x374499=a15_0x3e21;try{console[_0x374499(0x95)](_0x374499(0x9c)),console[_0x374499(0x95)](_0x374499(0xa0),_0x2b54ad[_0x374499(0xa6)](_0x374499(0xc8))),console[_0x374499(0x95)](_0x374499(0x96),typeof _0x2b54ad[_0x374499(0xa5)]),console[_0x374499(0x95)]('Body\x20keys:',Object[_0x374499(0xca)](_0x2b54ad[_0x374499(0xa5)]||{})),console['log'](_0x374499(0x92),_0x2b54ad[_0x374499(0xa5)]),loggerService_1[_0x374499(0x9f)]['logWebhookReceived']('plisio',_0x2b54ad['body'],_0x2b54ad[_0x374499(0xcd)]);const _0x535c0f=await this[_0x374499(0xc7)][_0x374499(0xcb)](_0x2b54ad['body']);_0x2427ac['status'](0xc8)['json']({'success':!![],'message':_0x374499(0xb6)});}catch(_0x5b4ad8){console[_0x374499(0xbe)]('Webhook\x20processing\x20error:',_0x5b4ad8),loggerService_1[_0x374499(0x9f)]['logWebhookError'](_0x374499(0xad),_0x5b4ad8,_0x2b54ad[_0x374499(0xa5)]),_0x2427ac[_0x374499(0xc0)](0xc8)[_0x374499(0xc2)]({'success':![],'message':_0x5b4ad8 instanceof Error?_0x5b4ad8[_0x374499(0x9e)]:_0x374499(0x8f)});}},this[_0x53fdb8(0xaa)]=async(_0x21f29f,_0x2ccd7d,_0x7b2aa6)=>{const _0x12a3c8=_0x53fdb8;try{console[_0x12a3c8(0x95)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x12a3c8(0x95)](_0x12a3c8(0xa0),_0x21f29f[_0x12a3c8(0xa6)](_0x12a3c8(0xc8))),console['log'](_0x12a3c8(0x96),typeof _0x21f29f[_0x12a3c8(0xa5)]),console[_0x12a3c8(0x95)]('Body\x20keys:',Object[_0x12a3c8(0xca)](_0x21f29f['body']||{})),console[_0x12a3c8(0x95)](_0x12a3c8(0x92),_0x21f29f[_0x12a3c8(0xa5)]),loggerService_1[_0x12a3c8(0x9f)]['logWebhookReceived'](_0x12a3c8(0xc4),_0x21f29f[_0x12a3c8(0xa5)],_0x21f29f[_0x12a3c8(0xcd)]);const _0x133685=await this[_0x12a3c8(0xc7)][_0x12a3c8(0xa9)](_0x21f29f['body']);_0x2ccd7d[_0x12a3c8(0xc0)](0xc8)[_0x12a3c8(0xc2)]({'success':!![],'message':_0x12a3c8(0x94)});}catch(_0x307d79){console[_0x12a3c8(0xbe)]('Gateway\x20webhook\x20processing\x20error:',_0x307d79),loggerService_1[_0x12a3c8(0x9f)][_0x12a3c8(0x99)]('plisio_gateway',_0x307d79,_0x21f29f[_0x12a3c8(0xa5)]),_0x2ccd7d[_0x12a3c8(0xc0)](0xc8)[_0x12a3c8(0xc2)]({'success':![],'message':_0x307d79 instanceof Error?_0x307d79[_0x12a3c8(0x9e)]:_0x12a3c8(0xa7)});}},this[_0x53fdb8(0xa2)]=async(_0x2de8ab,_0x56bd82,_0x9f3cb8)=>{const _0x5276e0=_0x53fdb8;try{console[_0x5276e0(0x95)]('Received\x20Rapyd\x20webhook:',_0x2de8ab[_0x5276e0(0xa5)]),loggerService_1[_0x5276e0(0x9f)][_0x5276e0(0xbd)](_0x5276e0(0xa1),_0x2de8ab[_0x5276e0(0xa5)],_0x2de8ab[_0x5276e0(0xcd)]);const _0x14f34c=await this['webhookService']['processRapydWebhook'](_0x2de8ab[_0x5276e0(0xa5)]);_0x56bd82[_0x5276e0(0xc0)](0xc8)[_0x5276e0(0xc2)]({'success':!![],'message':_0x5276e0(0xc5)});}catch(_0xa4d661){console[_0x5276e0(0xbe)](_0x5276e0(0x97),_0xa4d661),loggerService_1[_0x5276e0(0x9f)][_0x5276e0(0x99)]('rapyd',_0xa4d661,_0x2de8ab['body']),_0x56bd82[_0x5276e0(0xc0)](0xc8)[_0x5276e0(0xc2)]({'success':![],'message':_0xa4d661 instanceof Error?_0xa4d661[_0x5276e0(0x9e)]:_0x5276e0(0xba)});}},this[_0x53fdb8(0xcf)]=async(_0x378c1d,_0x212703,_0x72c351)=>{const _0x324d15=_0x53fdb8;try{console['log'](_0x324d15(0x8e),_0x378c1d['body']),loggerService_1[_0x324d15(0x9f)][_0x324d15(0xbd)](_0x324d15(0xc6),_0x378c1d['body'],_0x378c1d['headers']);const _0x5e6eaf=await this[_0x324d15(0xc7)][_0x324d15(0xb7)](_0x378c1d[_0x324d15(0xa5)]);_0x212703['status'](0xc8)[_0x324d15(0xc2)]({'success':!![],'message':_0x324d15(0xd1)});}catch(_0xc84baf){console[_0x324d15(0xbe)](_0x324d15(0x91),_0xc84baf),loggerService_1['loggerService'][_0x324d15(0x99)](_0x324d15(0xc6),_0xc84baf,_0x378c1d['body']),_0x212703[_0x324d15(0xc0)](0xc8)[_0x324d15(0xc2)]({'success':![],'message':_0xc84baf instanceof Error?_0xc84baf[_0x324d15(0x9e)]:_0x324d15(0xd0)});}},this[_0x53fdb8(0xc1)]=async(_0x10ce19,_0x4f35d8,_0x490c57)=>{const _0x1a2d8a=_0x53fdb8;try{console[_0x1a2d8a(0x95)](_0x1a2d8a(0x90),_0x10ce19['body']),loggerService_1[_0x1a2d8a(0x9f)]['logWebhookReceived']('cointopay',_0x10ce19['body'],_0x10ce19['headers']);const _0x1b1346=await this['webhookService'][_0x1a2d8a(0x98)](_0x10ce19['body']);_0x4f35d8[_0x1a2d8a(0xc0)](0xc8)[_0x1a2d8a(0xc2)]({'success':!![],'message':_0x1a2d8a(0xb5)});}catch(_0x1f0565){console[_0x1a2d8a(0xbe)](_0x1a2d8a(0xb9),_0x1f0565),loggerService_1[_0x1a2d8a(0x9f)][_0x1a2d8a(0x99)](_0x1a2d8a(0xbb),_0x1f0565,_0x10ce19[_0x1a2d8a(0xa5)]),_0x4f35d8[_0x1a2d8a(0xc0)](0xc8)[_0x1a2d8a(0xc2)]({'success':![],'message':_0x1f0565 instanceof Error?_0x1f0565[_0x1a2d8a(0x9e)]:_0x1a2d8a(0xa4)});}},this['handleKlymeWebhook']=async(_0x2a884f,_0x27e542,_0x15b109)=>{const _0x5d1d71=_0x53fdb8;try{console['log'](_0x5d1d71(0xb1),_0x2a884f[_0x5d1d71(0xa5)]),loggerService_1['loggerService'][_0x5d1d71(0xbd)](_0x5d1d71(0x9d),_0x2a884f[_0x5d1d71(0xa5)],_0x2a884f[_0x5d1d71(0xcd)]);const _0x4774ed=await this[_0x5d1d71(0xc7)][_0x5d1d71(0xb8)](_0x2a884f['body']);_0x27e542[_0x5d1d71(0xc0)](0xc8)[_0x5d1d71(0xc2)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x39825a){console['error']('KLYME\x20webhook\x20processing\x20error:',_0x39825a),loggerService_1[_0x5d1d71(0x9f)]['logWebhookError'](_0x5d1d71(0x9d),_0x39825a,_0x2a884f['body']),_0x27e542[_0x5d1d71(0xc0)](0xc8)[_0x5d1d71(0xc2)]({'success':![],'message':_0x39825a instanceof Error?_0x39825a[_0x5d1d71(0x9e)]:_0x5d1d71(0xac)});}},this[_0x53fdb8(0xb0)]=async(_0x2908b8,_0x41a938,_0x230bf7)=>{const _0x3881a3=_0x53fdb8;try{console[_0x3881a3(0x95)]('Received\x20MasterCard\x20webhook:',_0x2908b8[_0x3881a3(0xa5)]),loggerService_1['loggerService'][_0x3881a3(0xbd)](_0x3881a3(0xb3),_0x2908b8[_0x3881a3(0xa5)],_0x2908b8[_0x3881a3(0xcd)]);const _0x53cb82=await this[_0x3881a3(0xc7)][_0x3881a3(0xa8)](_0x2908b8[_0x3881a3(0xa5)]);_0x41a938['status'](0xc8)[_0x3881a3(0xc2)]({'success':!![],'message':_0x3881a3(0xa3)});}catch(_0x3b1ece){console[_0x3881a3(0xbe)](_0x3881a3(0xab),_0x3b1ece),loggerService_1[_0x3881a3(0x9f)][_0x3881a3(0x99)](_0x3881a3(0xb3),_0x3b1ece,_0x2908b8[_0x3881a3(0xa5)]),_0x41a938[_0x3881a3(0xc0)](0xc8)['json']({'success':![],'message':_0x3b1ece instanceof Error?_0x3b1ece['message']:_0x3881a3(0x9b)});}},this[_0x53fdb8(0xc7)]=new webhookService_1[(_0x53fdb8(0xc9))]();}}exports['WebhookController']=WebhookController;