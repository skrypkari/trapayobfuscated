'use strict';function a15_0x1756(_0x51343a,_0xf9a51e){const _0x250213=a15_0x2502();return a15_0x1756=function(_0x175678,_0x503bc2){_0x175678=_0x175678-0x1df;let _0x4ba6fe=_0x250213[_0x175678];return _0x4ba6fe;},a15_0x1756(_0x51343a,_0xf9a51e);}const a15_0x56a235=a15_0x1756;(function(_0x3dc722,_0x1a4e30){const _0x10d0ce=a15_0x1756,_0x3e4299=_0x3dc722();while(!![]){try{const _0x29203e=-parseInt(_0x10d0ce(0x1f9))/0x1+-parseInt(_0x10d0ce(0x1fa))/0x2*(parseInt(_0x10d0ce(0x1f1))/0x3)+-parseInt(_0x10d0ce(0x1e9))/0x4*(parseInt(_0x10d0ce(0x224))/0x5)+parseInt(_0x10d0ce(0x208))/0x6+-parseInt(_0x10d0ce(0x20e))/0x7*(parseInt(_0x10d0ce(0x1ea))/0x8)+-parseInt(_0x10d0ce(0x219))/0x9*(parseInt(_0x10d0ce(0x1f2))/0xa)+parseInt(_0x10d0ce(0x1e5))/0xb*(parseInt(_0x10d0ce(0x1ee))/0xc);if(_0x29203e===_0x1a4e30)break;else _0x3e4299['push'](_0x3e4299['shift']());}catch(_0x581497){_0x3e4299['push'](_0x3e4299['shift']());}}}(a15_0x2502,0x93edf));Object[a15_0x56a235(0x21d)](exports,a15_0x56a235(0x21a),{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x56a235(0x20c));function a15_0x2502(){const _0x566430=['Content-Type:','noda','Received\x20KLYME\x20webhook:','KLYME\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','Received\x20CoinToPay\x20webhook:','body','Content-Type','processNodaWebhook','WebhookService','7100826DQWTVK','processPlisioGatewayWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Received\x20Noda\x20webhook:','../services/loggerService','error','7CfFPal','handlePlisioGatewayWebhook','plisio_gateway','status','Body\x20keys:','headers','Gateway\x20webhook\x20processing\x20failed','processKlymeWebhook','log','keys','get','2313NddjnE','__esModule','rapyd','json','defineProperty','webhookService','Noda\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processed\x20successfully','handleKlymeWebhook','10eMkbwj','Body\x20content:','MasterCard\x20webhook\x20processed\x20successfully','loggerService','WebhookController','CoinToPay\x20webhook\x20processing\x20failed','klyme','processRapydWebhook','handlePlisioWebhook','11EjEaIA','MasterCard\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','Noda\x20webhook\x20processed\x20successfully','385156tGofrA','8798936ExFOux','Raw\x20body\x20type:','processMasterCardWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','26854668ysKXyl','mastercard','logWebhookReceived','1086270tCDirU','32470KObvpE','handleNodaWebhook','Noda\x20webhook\x20processing\x20failed','logWebhookError','handleMasterCardWebhook','message','processPlisioWebhook','326427gHlinu','2rLKXSE','plisio','Received\x20MasterCard\x20webhook:'];a15_0x2502=function(){return _0x566430;};return a15_0x2502();}class WebhookController{constructor(){const _0x2dc375=a15_0x56a235;this[_0x2dc375(0x1e4)]=async(_0x221a08,_0x224233,_0x55755e)=>{const _0x5aeb6d=_0x2dc375;try{console[_0x5aeb6d(0x216)](_0x5aeb6d(0x20a)),console[_0x5aeb6d(0x216)](_0x5aeb6d(0x1fd),_0x221a08[_0x5aeb6d(0x218)](_0x5aeb6d(0x205))),console['log'](_0x5aeb6d(0x1eb),typeof _0x221a08[_0x5aeb6d(0x204)]),console[_0x5aeb6d(0x216)](_0x5aeb6d(0x212),Object[_0x5aeb6d(0x217)](_0x221a08[_0x5aeb6d(0x204)]||{})),console['log'](_0x5aeb6d(0x225),_0x221a08[_0x5aeb6d(0x204)]),loggerService_1['loggerService'][_0x5aeb6d(0x1f0)](_0x5aeb6d(0x1fb),_0x221a08[_0x5aeb6d(0x204)],_0x221a08[_0x5aeb6d(0x213)]);const _0x68c4dc=await this['webhookService'][_0x5aeb6d(0x1f8)](_0x221a08[_0x5aeb6d(0x204)]);_0x224233['status'](0xc8)[_0x5aeb6d(0x21c)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x7f0c3c){console[_0x5aeb6d(0x20d)]('Webhook\x20processing\x20error:',_0x7f0c3c),loggerService_1[_0x5aeb6d(0x1df)]['logWebhookError'](_0x5aeb6d(0x1fb),_0x7f0c3c,_0x221a08['body']),_0x224233[_0x5aeb6d(0x211)](0xc8)['json']({'success':![],'message':_0x7f0c3c instanceof Error?_0x7f0c3c[_0x5aeb6d(0x1f7)]:_0x5aeb6d(0x1e7)});}},this[_0x2dc375(0x20f)]=async(_0x285675,_0x2edd76,_0x58ab4e)=>{const _0x43f523=_0x2dc375;try{console[_0x43f523(0x216)](_0x43f523(0x1ed)),console['log'](_0x43f523(0x1fd),_0x285675[_0x43f523(0x218)]('Content-Type')),console['log'](_0x43f523(0x1eb),typeof _0x285675['body']),console[_0x43f523(0x216)](_0x43f523(0x212),Object[_0x43f523(0x217)](_0x285675[_0x43f523(0x204)]||{})),console[_0x43f523(0x216)](_0x43f523(0x225),_0x285675[_0x43f523(0x204)]),loggerService_1[_0x43f523(0x1df)][_0x43f523(0x1f0)](_0x43f523(0x210),_0x285675[_0x43f523(0x204)],_0x285675[_0x43f523(0x213)]);const _0x4d278b=await this['webhookService'][_0x43f523(0x209)](_0x285675[_0x43f523(0x204)]);_0x2edd76[_0x43f523(0x211)](0xc8)[_0x43f523(0x21c)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x5f590c){console[_0x43f523(0x20d)](_0x43f523(0x202),_0x5f590c),loggerService_1['loggerService'][_0x43f523(0x1f5)](_0x43f523(0x210),_0x5f590c,_0x285675[_0x43f523(0x204)]),_0x2edd76['status'](0xc8)[_0x43f523(0x21c)]({'success':![],'message':_0x5f590c instanceof Error?_0x5f590c[_0x43f523(0x1f7)]:_0x43f523(0x214)});}},this['handleRapydWebhook']=async(_0xe3f3dc,_0x194b5e,_0xf496dc)=>{const _0x3de805=_0x2dc375;try{console['log']('Received\x20Rapyd\x20webhook:',_0xe3f3dc['body']),loggerService_1[_0x3de805(0x1df)][_0x3de805(0x1f0)]('rapyd',_0xe3f3dc[_0x3de805(0x204)],_0xe3f3dc[_0x3de805(0x213)]);const _0x4945a2=await this[_0x3de805(0x21e)][_0x3de805(0x1e3)](_0xe3f3dc[_0x3de805(0x204)]);_0x194b5e['status'](0xc8)[_0x3de805(0x21c)]({'success':!![],'message':_0x3de805(0x222)});}catch(_0x5edef7){console['error'](_0x3de805(0x220),_0x5edef7),loggerService_1[_0x3de805(0x1df)][_0x3de805(0x1f5)](_0x3de805(0x21b),_0x5edef7,_0xe3f3dc['body']),_0x194b5e[_0x3de805(0x211)](0xc8)[_0x3de805(0x21c)]({'success':![],'message':_0x5edef7 instanceof Error?_0x5edef7['message']:_0x3de805(0x221)});}},this[_0x2dc375(0x1f3)]=async(_0x4b7245,_0x36c00c,_0x250f3d)=>{const _0x582639=_0x2dc375;try{console[_0x582639(0x216)](_0x582639(0x20b),_0x4b7245[_0x582639(0x204)]),loggerService_1[_0x582639(0x1df)][_0x582639(0x1f0)](_0x582639(0x1fe),_0x4b7245[_0x582639(0x204)],_0x4b7245[_0x582639(0x213)]);const _0x5cfba3=await this['webhookService'][_0x582639(0x206)](_0x4b7245[_0x582639(0x204)]);_0x36c00c['status'](0xc8)[_0x582639(0x21c)]({'success':!![],'message':_0x582639(0x1e8)});}catch(_0x6a6ead){console[_0x582639(0x20d)](_0x582639(0x21f),_0x6a6ead),loggerService_1[_0x582639(0x1df)][_0x582639(0x1f5)](_0x582639(0x1fe),_0x6a6ead,_0x4b7245[_0x582639(0x204)]),_0x36c00c[_0x582639(0x211)](0xc8)[_0x582639(0x21c)]({'success':![],'message':_0x6a6ead instanceof Error?_0x6a6ead[_0x582639(0x1f7)]:_0x582639(0x1f4)});}},this['handleCoinToPayWebhook']=async(_0x2db0bb,_0x3a39bf,_0x38069d)=>{const _0x57bdc5=_0x2dc375;try{console[_0x57bdc5(0x216)](_0x57bdc5(0x203),_0x2db0bb[_0x57bdc5(0x204)]),loggerService_1[_0x57bdc5(0x1df)][_0x57bdc5(0x1f0)]('cointopay',_0x2db0bb[_0x57bdc5(0x204)],_0x2db0bb[_0x57bdc5(0x213)]);const _0x1be75c=await this[_0x57bdc5(0x21e)]['processCoinToPayWebhook'](_0x2db0bb['body']);_0x3a39bf['status'](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0xe3fe64){console[_0x57bdc5(0x20d)]('CoinToPay\x20webhook\x20processing\x20error:',_0xe3fe64),loggerService_1['loggerService'][_0x57bdc5(0x1f5)]('cointopay',_0xe3fe64,_0x2db0bb[_0x57bdc5(0x204)]),_0x3a39bf[_0x57bdc5(0x211)](0xc8)[_0x57bdc5(0x21c)]({'success':![],'message':_0xe3fe64 instanceof Error?_0xe3fe64['message']:_0x57bdc5(0x1e1)});}},this[_0x2dc375(0x223)]=async(_0x46bb1c,_0x597829,_0x382a3b)=>{const _0x3d7619=_0x2dc375;try{console[_0x3d7619(0x216)](_0x3d7619(0x1ff),_0x46bb1c['body']),loggerService_1['loggerService'][_0x3d7619(0x1f0)](_0x3d7619(0x1e2),_0x46bb1c[_0x3d7619(0x204)],_0x46bb1c['headers']);const _0x2ded47=await this[_0x3d7619(0x21e)][_0x3d7619(0x215)](_0x46bb1c[_0x3d7619(0x204)]);_0x597829[_0x3d7619(0x211)](0xc8)['json']({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x1c10c8){console[_0x3d7619(0x20d)](_0x3d7619(0x201),_0x1c10c8),loggerService_1[_0x3d7619(0x1df)][_0x3d7619(0x1f5)]('klyme',_0x1c10c8,_0x46bb1c[_0x3d7619(0x204)]),_0x597829['status'](0xc8)[_0x3d7619(0x21c)]({'success':![],'message':_0x1c10c8 instanceof Error?_0x1c10c8[_0x3d7619(0x1f7)]:_0x3d7619(0x200)});}},this[_0x2dc375(0x1f6)]=async(_0x4f689b,_0x5dfb3a,_0xfa220d)=>{const _0x28b7d9=_0x2dc375;try{console[_0x28b7d9(0x216)](_0x28b7d9(0x1fc),_0x4f689b['body']),loggerService_1[_0x28b7d9(0x1df)][_0x28b7d9(0x1f0)](_0x28b7d9(0x1ef),_0x4f689b['body'],_0x4f689b[_0x28b7d9(0x213)]);const _0x52ed7d=await this[_0x28b7d9(0x21e)][_0x28b7d9(0x1ec)](_0x4f689b['body']);_0x5dfb3a['status'](0xc8)[_0x28b7d9(0x21c)]({'success':!![],'message':_0x28b7d9(0x226)});}catch(_0xf7e72c){console[_0x28b7d9(0x20d)]('MasterCard\x20webhook\x20processing\x20error:',_0xf7e72c),loggerService_1[_0x28b7d9(0x1df)][_0x28b7d9(0x1f5)](_0x28b7d9(0x1ef),_0xf7e72c,_0x4f689b['body']),_0x5dfb3a[_0x28b7d9(0x211)](0xc8)[_0x28b7d9(0x21c)]({'success':![],'message':_0xf7e72c instanceof Error?_0xf7e72c[_0x28b7d9(0x1f7)]:_0x28b7d9(0x1e6)});}},this[_0x2dc375(0x21e)]=new webhookService_1[(_0x2dc375(0x207))]();}}exports[a15_0x56a235(0x1e0)]=WebhookController;