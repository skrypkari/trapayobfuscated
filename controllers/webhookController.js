'use strict';const a15_0x28be4b=a15_0x2493;(function(_0x1ca2dd,_0x5028ff){const _0x3344d4=a15_0x2493,_0x3aad98=_0x1ca2dd();while(!![]){try{const _0x79542a=parseInt(_0x3344d4(0xfd))/0x1+parseInt(_0x3344d4(0x111))/0x2+-parseInt(_0x3344d4(0x10d))/0x3+-parseInt(_0x3344d4(0x125))/0x4+parseInt(_0x3344d4(0x12e))/0x5+-parseInt(_0x3344d4(0x137))/0x6+parseInt(_0x3344d4(0x12f))/0x7*(parseInt(_0x3344d4(0x138))/0x8);if(_0x79542a===_0x5028ff)break;else _0x3aad98['push'](_0x3aad98['shift']());}catch(_0x58a9b9){_0x3aad98['push'](_0x3aad98['shift']());}}}(a15_0x1c84,0xe38da));Object[a15_0x28be4b(0x131)](exports,a15_0x28be4b(0x108),{'value':!![]}),exports[a15_0x28be4b(0x12a)]=void 0x0;const webhookService_1=require(a15_0x28be4b(0x117)),loggerService_1=require(a15_0x28be4b(0x11e));function a15_0x1c84(){const _0x413ff2=['1580736HqSEGH','Body\x20keys:','cointopay','logWebhookReceived','23530PvKBIa','Webhook\x20processing\x20error:','mastercard','Webhook\x20processed\x20successfully','handleCoinToPay2Webhook','Received\x20MasterCard\x20webhook:','../services/webhookService','Raw\x20body\x20type:','message','webhookService','CoinToPay\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','MasterCard\x20webhook\x20processing\x20failed','../services/loggerService','CoinToPay\x20webhook\x20processed\x20successfully','cointopay2','Received\x20CoinToPay2\x20webhook:','handlePlisioGatewayWebhook','CoinToPay\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','3539612uVLZxd','processRapydWebhook','noda','logWebhookError','processMasterCardWebhook','WebhookController','status','KLYME\x20webhook\x20processing\x20error:','plisio','3579955qJlbsY','763kKKMBE','body','defineProperty','CoinToPay2\x20webhook\x20processing\x20failed','klyme','json','KLYME\x20webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processed\x20successfully','638022MtuHaw','24232LudEcl','KLYME\x20webhook\x20processing\x20failed','error','loggerService','headers','handleNodaWebhook','Gateway\x20webhook\x20processing\x20error:','Content-Type:','1392293TMfKkP','Body\x20content:','handleRapydWebhook','Gateway\x20webhook\x20processing\x20failed','processKlymeWebhook','Content-Type','log','Received\x20Rapyd\x20webhook:','CoinToPay2\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20error:','rapyd','__esModule','plisio_gateway','get','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Webhook\x20processing\x20failed'];a15_0x1c84=function(){return _0x413ff2;};return a15_0x1c84();}function a15_0x2493(_0x345ef0,_0x246ed4){const _0x1c8460=a15_0x1c84();return a15_0x2493=function(_0x24934d,_0x3d194b){_0x24934d=_0x24934d-0xfc;let _0x5b500a=_0x1c8460[_0x24934d];return _0x5b500a;},a15_0x2493(_0x345ef0,_0x246ed4);}class WebhookController{constructor(){const _0x15e66e=a15_0x28be4b;this['handlePlisioWebhook']=async(_0x2c0bf4,_0x2012ec,_0x48c4b9)=>{const _0x160583=a15_0x2493;try{console[_0x160583(0x103)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x160583(0x103)](_0x160583(0xfc),_0x2c0bf4[_0x160583(0x10a)](_0x160583(0x102))),console['log'](_0x160583(0x118),typeof _0x2c0bf4[_0x160583(0x130)]),console[_0x160583(0x103)](_0x160583(0x10e),Object['keys'](_0x2c0bf4[_0x160583(0x130)]||{})),console[_0x160583(0x103)](_0x160583(0xfe),_0x2c0bf4[_0x160583(0x130)]),loggerService_1[_0x160583(0x13b)]['logWebhookReceived'](_0x160583(0x12d),_0x2c0bf4[_0x160583(0x130)],_0x2c0bf4[_0x160583(0x13c)]);const _0x1c781c=await this[_0x160583(0x11a)]['processPlisioWebhook'](_0x2c0bf4[_0x160583(0x130)]);_0x2012ec[_0x160583(0x12b)](0xc8)[_0x160583(0x134)]({'success':!![],'message':_0x160583(0x114)});}catch(_0x376f48){console[_0x160583(0x13a)](_0x160583(0x112),_0x376f48),loggerService_1[_0x160583(0x13b)][_0x160583(0x128)](_0x160583(0x12d),_0x376f48,_0x2c0bf4[_0x160583(0x130)]),_0x2012ec['status'](0xc8)[_0x160583(0x134)]({'success':![],'message':_0x376f48 instanceof Error?_0x376f48[_0x160583(0x119)]:_0x160583(0x10c)});}},this[_0x15e66e(0x122)]=async(_0x23e13b,_0x142568,_0x4ab078)=>{const _0x4403d5=_0x15e66e;try{console['log'](_0x4403d5(0x10b)),console[_0x4403d5(0x103)](_0x4403d5(0xfc),_0x23e13b[_0x4403d5(0x10a)](_0x4403d5(0x102))),console['log'](_0x4403d5(0x118),typeof _0x23e13b['body']),console[_0x4403d5(0x103)]('Body\x20keys:',Object['keys'](_0x23e13b[_0x4403d5(0x130)]||{})),console[_0x4403d5(0x103)](_0x4403d5(0xfe),_0x23e13b['body']),loggerService_1[_0x4403d5(0x13b)][_0x4403d5(0x110)](_0x4403d5(0x109),_0x23e13b[_0x4403d5(0x130)],_0x23e13b['headers']);const _0x41e666=await this['webhookService']['processPlisioGatewayWebhook'](_0x23e13b['body']);_0x142568[_0x4403d5(0x12b)](0xc8)[_0x4403d5(0x134)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x430d34){console[_0x4403d5(0x13a)](_0x4403d5(0x13e),_0x430d34),loggerService_1[_0x4403d5(0x13b)][_0x4403d5(0x128)](_0x4403d5(0x109),_0x430d34,_0x23e13b['body']),_0x142568[_0x4403d5(0x12b)](0xc8)[_0x4403d5(0x134)]({'success':![],'message':_0x430d34 instanceof Error?_0x430d34[_0x4403d5(0x119)]:_0x4403d5(0x100)});}},this[_0x15e66e(0xff)]=async(_0xbf0d3e,_0x2fcd22,_0x221f88)=>{const _0x489f5f=_0x15e66e;try{console[_0x489f5f(0x103)](_0x489f5f(0x104),_0xbf0d3e[_0x489f5f(0x130)]),loggerService_1[_0x489f5f(0x13b)]['logWebhookReceived']('rapyd',_0xbf0d3e['body'],_0xbf0d3e[_0x489f5f(0x13c)]);const _0x199276=await this[_0x489f5f(0x11a)][_0x489f5f(0x126)](_0xbf0d3e[_0x489f5f(0x130)]);_0x2fcd22[_0x489f5f(0x12b)](0xc8)[_0x489f5f(0x134)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0xe004b3){console[_0x489f5f(0x13a)]('Rapyd\x20webhook\x20processing\x20error:',_0xe004b3),loggerService_1[_0x489f5f(0x13b)][_0x489f5f(0x128)](_0x489f5f(0x107),_0xe004b3,_0xbf0d3e['body']),_0x2fcd22[_0x489f5f(0x12b)](0xc8)['json']({'success':![],'message':_0xe004b3 instanceof Error?_0xe004b3['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x15e66e(0x13d)]=async(_0x437b4b,_0xafe8c5,_0x1f3ff8)=>{const _0x47cca5=_0x15e66e;try{console['log']('Received\x20Noda\x20webhook:',_0x437b4b[_0x47cca5(0x130)]),loggerService_1['loggerService'][_0x47cca5(0x110)](_0x47cca5(0x127),_0x437b4b[_0x47cca5(0x130)],_0x437b4b[_0x47cca5(0x13c)]);const _0x2c26cc=await this[_0x47cca5(0x11a)]['processNodaWebhook'](_0x437b4b['body']);_0xafe8c5['status'](0xc8)['json']({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x519ea0){console[_0x47cca5(0x13a)]('Noda\x20webhook\x20processing\x20error:',_0x519ea0),loggerService_1[_0x47cca5(0x13b)]['logWebhookError'](_0x47cca5(0x127),_0x519ea0,_0x437b4b['body']),_0xafe8c5[_0x47cca5(0x12b)](0xc8)['json']({'success':![],'message':_0x519ea0 instanceof Error?_0x519ea0[_0x47cca5(0x119)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x15e66e(0x11c)]=async(_0x58e929,_0xeebd73,_0x139e7f)=>{const _0x4083a6=_0x15e66e;try{console[_0x4083a6(0x103)]('Received\x20CoinToPay\x20webhook:',_0x58e929[_0x4083a6(0x130)]),loggerService_1[_0x4083a6(0x13b)][_0x4083a6(0x110)](_0x4083a6(0x10f),_0x58e929[_0x4083a6(0x130)],_0x58e929[_0x4083a6(0x13c)]);const _0x20e361=await this['webhookService']['processCoinToPayWebhook'](_0x58e929[_0x4083a6(0x130)]);_0xeebd73[_0x4083a6(0x12b)](0xc8)[_0x4083a6(0x134)]({'success':!![],'message':_0x4083a6(0x11f)});}catch(_0x49078c){console[_0x4083a6(0x13a)](_0x4083a6(0x11b),_0x49078c),loggerService_1[_0x4083a6(0x13b)][_0x4083a6(0x128)](_0x4083a6(0x10f),_0x49078c,_0x58e929[_0x4083a6(0x130)]),_0xeebd73[_0x4083a6(0x12b)](0xc8)[_0x4083a6(0x134)]({'success':![],'message':_0x49078c instanceof Error?_0x49078c['message']:_0x4083a6(0x123)});}},this[_0x15e66e(0x115)]=async(_0x4b073f,_0x3aa1bc,_0x1c06c2)=>{const _0x11691f=_0x15e66e;try{console[_0x11691f(0x103)](_0x11691f(0x121),_0x4b073f[_0x11691f(0x130)]),loggerService_1[_0x11691f(0x13b)][_0x11691f(0x110)](_0x11691f(0x120),_0x4b073f['body'],_0x4b073f[_0x11691f(0x13c)]);const _0x51240c=await this[_0x11691f(0x11a)]['processCoinToPay2Webhook'](_0x4b073f[_0x11691f(0x130)]);_0x3aa1bc['status'](0xc8)[_0x11691f(0x134)]({'success':!![],'message':_0x11691f(0x136)});}catch(_0x4a97a5){console[_0x11691f(0x13a)](_0x11691f(0x105),_0x4a97a5),loggerService_1[_0x11691f(0x13b)][_0x11691f(0x128)](_0x11691f(0x120),_0x4a97a5,_0x4b073f[_0x11691f(0x130)]),_0x3aa1bc[_0x11691f(0x12b)](0xc8)[_0x11691f(0x134)]({'success':![],'message':_0x4a97a5 instanceof Error?_0x4a97a5['message']:_0x11691f(0x132)});}},this['handleKlymeWebhook']=async(_0x265261,_0x2e5166,_0x4e532f)=>{const _0x530aa4=_0x15e66e;try{console[_0x530aa4(0x103)]('Received\x20KLYME\x20webhook:',_0x265261[_0x530aa4(0x130)]),loggerService_1[_0x530aa4(0x13b)][_0x530aa4(0x110)](_0x530aa4(0x133),_0x265261[_0x530aa4(0x130)],_0x265261[_0x530aa4(0x13c)]);const _0x46ac48=await this[_0x530aa4(0x11a)][_0x530aa4(0x101)](_0x265261[_0x530aa4(0x130)]);_0x2e5166[_0x530aa4(0x12b)](0xc8)['json']({'success':!![],'message':_0x530aa4(0x135)});}catch(_0x137e21){console[_0x530aa4(0x13a)](_0x530aa4(0x12c),_0x137e21),loggerService_1[_0x530aa4(0x13b)][_0x530aa4(0x128)](_0x530aa4(0x133),_0x137e21,_0x265261['body']),_0x2e5166['status'](0xc8)[_0x530aa4(0x134)]({'success':![],'message':_0x137e21 instanceof Error?_0x137e21[_0x530aa4(0x119)]:_0x530aa4(0x139)});}},this['handleMasterCardWebhook']=async(_0x3155db,_0x3c040a,_0x46c348)=>{const _0x3692fe=_0x15e66e;try{console[_0x3692fe(0x103)](_0x3692fe(0x116),_0x3155db[_0x3692fe(0x130)]),loggerService_1[_0x3692fe(0x13b)][_0x3692fe(0x110)](_0x3692fe(0x113),_0x3155db[_0x3692fe(0x130)],_0x3155db[_0x3692fe(0x13c)]);const _0x46e9a8=await this[_0x3692fe(0x11a)][_0x3692fe(0x129)](_0x3155db['body']);_0x3c040a['status'](0xc8)[_0x3692fe(0x134)]({'success':!![],'message':_0x3692fe(0x124)});}catch(_0x528af3){console[_0x3692fe(0x13a)](_0x3692fe(0x106),_0x528af3),loggerService_1['loggerService'][_0x3692fe(0x128)](_0x3692fe(0x113),_0x528af3,_0x3155db[_0x3692fe(0x130)]),_0x3c040a['status'](0xc8)[_0x3692fe(0x134)]({'success':![],'message':_0x528af3 instanceof Error?_0x528af3[_0x3692fe(0x119)]:_0x3692fe(0x11d)});}},this[_0x15e66e(0x11a)]=new webhookService_1['WebhookService']();}}exports[a15_0x28be4b(0x12a)]=WebhookController;