'use strict';const a15_0x570b73=a15_0x4973;function a15_0x4973(_0x44c17b,_0x3eca1b){const _0x73fab6=a15_0x73fa();return a15_0x4973=function(_0x497357,_0x1a3c6e){_0x497357=_0x497357-0x11f;let _0x19ac26=_0x73fab6[_0x497357];return _0x19ac26;},a15_0x4973(_0x44c17b,_0x3eca1b);}(function(_0x4c8844,_0x12540e){const _0x4625a4=a15_0x4973,_0x2bfb61=_0x4c8844();while(!![]){try{const _0x3e8db3=parseInt(_0x4625a4(0x13a))/0x1*(parseInt(_0x4625a4(0x148))/0x2)+parseInt(_0x4625a4(0x160))/0x3*(parseInt(_0x4625a4(0x13b))/0x4)+-parseInt(_0x4625a4(0x159))/0x5*(parseInt(_0x4625a4(0x126))/0x6)+-parseInt(_0x4625a4(0x12c))/0x7*(-parseInt(_0x4625a4(0x140))/0x8)+-parseInt(_0x4625a4(0x15b))/0x9*(-parseInt(_0x4625a4(0x165))/0xa)+-parseInt(_0x4625a4(0x137))/0xb+parseInt(_0x4625a4(0x14f))/0xc*(-parseInt(_0x4625a4(0x14a))/0xd);if(_0x3e8db3===_0x12540e)break;else _0x2bfb61['push'](_0x2bfb61['shift']());}catch(_0x4011cb){_0x2bfb61['push'](_0x2bfb61['shift']());}}}(a15_0x73fa,0x1f2cf));function a15_0x73fa(){const _0x2f39d3=['handleNodaWebhook','body','json','Received\x20KLYME\x20webhook:','564aCIIOa','Webhook\x20processing\x20failed','handlePlisioGatewayWebhook','Content-Type','plisio','get','7eQekHd','Gateway\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20failed','error','processPlisioGatewayWebhook','Received\x20Noda\x20webhook:','keys','processRapydWebhook','handlePlisioWebhook','webhookService','plisio_gateway','2568159byswcz','Body\x20content:','mastercard','4639iGrXlQ','6020pYngLI','Raw\x20body\x20type:','Received\x20CoinToPay\x20webhook:','logWebhookError','cointopay','1794416oRSqof','KLYME\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20failed','Body\x20keys:','noda','log','Webhook\x20processed\x20successfully','status','14yXPKUI','processNodaWebhook','13gSHNNt','KLYME\x20webhook\x20processing\x20error:','klyme','Gateway\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','711204ybQlgX','WebhookController','../services/loggerService','handleKlymeWebhook','Content-Type:','headers','rapyd','Received\x20MasterCard\x20webhook:','__esModule','CoinToPay\x20webhook\x20processed\x20successfully','40HqJBic','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','2547Olwncq','CoinToPay\x20webhook\x20processing\x20error:','../services/webhookService','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','handleMasterCardWebhook','141ToGDYb','Noda\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','logWebhookReceived','MasterCard\x20webhook\x20processed\x20successfully','3310foJKFu','handleCoinToPayWebhook','Rapyd\x20webhook\x20processed\x20successfully','processKlymeWebhook','message','loggerService'];a15_0x73fa=function(){return _0x2f39d3;};return a15_0x73fa();}Object['defineProperty'](exports,a15_0x570b73(0x157),{'value':!![]}),exports[a15_0x570b73(0x150)]=void 0x0;const webhookService_1=require(a15_0x570b73(0x15d)),loggerService_1=require(a15_0x570b73(0x151));class WebhookController{constructor(){const _0x420788=a15_0x570b73;this[_0x420788(0x134)]=async(_0x8e9eab,_0x3976a4,_0x1b6c34)=>{const _0x2c9ee4=_0x420788;try{console[_0x2c9ee4(0x145)](_0x2c9ee4(0x15a)),console[_0x2c9ee4(0x145)](_0x2c9ee4(0x153),_0x8e9eab[_0x2c9ee4(0x12b)]('Content-Type')),console[_0x2c9ee4(0x145)](_0x2c9ee4(0x13c),typeof _0x8e9eab[_0x2c9ee4(0x123)]),console[_0x2c9ee4(0x145)](_0x2c9ee4(0x143),Object[_0x2c9ee4(0x132)](_0x8e9eab[_0x2c9ee4(0x123)]||{})),console['log'](_0x2c9ee4(0x138),_0x8e9eab[_0x2c9ee4(0x123)]),loggerService_1[_0x2c9ee4(0x121)][_0x2c9ee4(0x163)](_0x2c9ee4(0x12a),_0x8e9eab['body'],_0x8e9eab['headers']);const _0x541318=await this[_0x2c9ee4(0x135)]['processPlisioWebhook'](_0x8e9eab[_0x2c9ee4(0x123)]);_0x3976a4['status'](0xc8)['json']({'success':!![],'message':_0x2c9ee4(0x146)});}catch(_0x17bfce){console[_0x2c9ee4(0x12f)]('Webhook\x20processing\x20error:',_0x17bfce),loggerService_1[_0x2c9ee4(0x121)][_0x2c9ee4(0x13e)](_0x2c9ee4(0x12a),_0x17bfce,_0x8e9eab[_0x2c9ee4(0x123)]),_0x3976a4['status'](0xc8)[_0x2c9ee4(0x124)]({'success':![],'message':_0x17bfce instanceof Error?_0x17bfce[_0x2c9ee4(0x120)]:_0x2c9ee4(0x127)});}},this[_0x420788(0x128)]=async(_0x4ecff9,_0x2a669c,_0x35be72)=>{const _0x2d9743=_0x420788;try{console[_0x2d9743(0x145)](_0x2d9743(0x15e)),console[_0x2d9743(0x145)](_0x2d9743(0x153),_0x4ecff9[_0x2d9743(0x12b)](_0x2d9743(0x129))),console['log'](_0x2d9743(0x13c),typeof _0x4ecff9[_0x2d9743(0x123)]),console[_0x2d9743(0x145)]('Body\x20keys:',Object[_0x2d9743(0x132)](_0x4ecff9['body']||{})),console[_0x2d9743(0x145)]('Body\x20content:',_0x4ecff9[_0x2d9743(0x123)]),loggerService_1[_0x2d9743(0x121)]['logWebhookReceived'](_0x2d9743(0x136),_0x4ecff9[_0x2d9743(0x123)],_0x4ecff9[_0x2d9743(0x154)]);const _0x324814=await this['webhookService'][_0x2d9743(0x130)](_0x4ecff9[_0x2d9743(0x123)]);_0x2a669c[_0x2d9743(0x147)](0xc8)[_0x2d9743(0x124)]({'success':!![],'message':_0x2d9743(0x14d)});}catch(_0x9762a3){console[_0x2d9743(0x12f)](_0x2d9743(0x12d),_0x9762a3),loggerService_1[_0x2d9743(0x121)][_0x2d9743(0x13e)]('plisio_gateway',_0x9762a3,_0x4ecff9[_0x2d9743(0x123)]),_0x2a669c[_0x2d9743(0x147)](0xc8)['json']({'success':![],'message':_0x9762a3 instanceof Error?_0x9762a3[_0x2d9743(0x120)]:'Gateway\x20webhook\x20processing\x20failed'});}},this['handleRapydWebhook']=async(_0x13ba3f,_0x297bee,_0x1cb482)=>{const _0x3d8b1e=_0x420788;try{console['log']('Received\x20Rapyd\x20webhook:',_0x13ba3f['body']),loggerService_1['loggerService'][_0x3d8b1e(0x163)](_0x3d8b1e(0x155),_0x13ba3f['body'],_0x13ba3f[_0x3d8b1e(0x154)]);const _0x3a0e55=await this[_0x3d8b1e(0x135)][_0x3d8b1e(0x133)](_0x13ba3f[_0x3d8b1e(0x123)]);_0x297bee['status'](0xc8)[_0x3d8b1e(0x124)]({'success':!![],'message':_0x3d8b1e(0x167)});}catch(_0x41809d){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x41809d),loggerService_1[_0x3d8b1e(0x121)][_0x3d8b1e(0x13e)](_0x3d8b1e(0x155),_0x41809d,_0x13ba3f['body']),_0x297bee[_0x3d8b1e(0x147)](0xc8)['json']({'success':![],'message':_0x41809d instanceof Error?_0x41809d[_0x3d8b1e(0x120)]:_0x3d8b1e(0x162)});}},this[_0x420788(0x122)]=async(_0x556cf4,_0x564c60,_0xfb8bbb)=>{const _0x5e031c=_0x420788;try{console[_0x5e031c(0x145)](_0x5e031c(0x131),_0x556cf4[_0x5e031c(0x123)]),loggerService_1[_0x5e031c(0x121)][_0x5e031c(0x163)](_0x5e031c(0x144),_0x556cf4[_0x5e031c(0x123)],_0x556cf4[_0x5e031c(0x154)]);const _0x59ff9d=await this['webhookService'][_0x5e031c(0x149)](_0x556cf4[_0x5e031c(0x123)]);_0x564c60[_0x5e031c(0x147)](0xc8)['json']({'success':!![],'message':_0x5e031c(0x14e)});}catch(_0x414bbb){console['error'](_0x5e031c(0x161),_0x414bbb),loggerService_1[_0x5e031c(0x121)][_0x5e031c(0x13e)](_0x5e031c(0x144),_0x414bbb,_0x556cf4[_0x5e031c(0x123)]),_0x564c60[_0x5e031c(0x147)](0xc8)['json']({'success':![],'message':_0x414bbb instanceof Error?_0x414bbb['message']:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x420788(0x166)]=async(_0x42647a,_0x254971,_0x594b36)=>{const _0x1eddc5=_0x420788;try{console[_0x1eddc5(0x145)](_0x1eddc5(0x13d),_0x42647a[_0x1eddc5(0x123)]),loggerService_1['loggerService'][_0x1eddc5(0x163)](_0x1eddc5(0x13f),_0x42647a['body'],_0x42647a[_0x1eddc5(0x154)]);const _0x3fda9=await this['webhookService']['processCoinToPayWebhook'](_0x42647a[_0x1eddc5(0x123)]);_0x254971['status'](0xc8)[_0x1eddc5(0x124)]({'success':!![],'message':_0x1eddc5(0x158)});}catch(_0x3174ee){console[_0x1eddc5(0x12f)](_0x1eddc5(0x15c),_0x3174ee),loggerService_1[_0x1eddc5(0x121)][_0x1eddc5(0x13e)](_0x1eddc5(0x13f),_0x3174ee,_0x42647a[_0x1eddc5(0x123)]),_0x254971[_0x1eddc5(0x147)](0xc8)[_0x1eddc5(0x124)]({'success':![],'message':_0x3174ee instanceof Error?_0x3174ee[_0x1eddc5(0x120)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x420788(0x152)]=async(_0xb37815,_0x4ca32b,_0x43e5b1)=>{const _0x2d0430=_0x420788;try{console[_0x2d0430(0x145)](_0x2d0430(0x125),_0xb37815[_0x2d0430(0x123)]),loggerService_1[_0x2d0430(0x121)]['logWebhookReceived'](_0x2d0430(0x14c),_0xb37815[_0x2d0430(0x123)],_0xb37815[_0x2d0430(0x154)]);const _0x498a5d=await this[_0x2d0430(0x135)][_0x2d0430(0x11f)](_0xb37815[_0x2d0430(0x123)]);_0x4ca32b[_0x2d0430(0x147)](0xc8)['json']({'success':!![],'message':_0x2d0430(0x141)});}catch(_0x499d91){console['error'](_0x2d0430(0x14b),_0x499d91),loggerService_1['loggerService'][_0x2d0430(0x13e)](_0x2d0430(0x14c),_0x499d91,_0xb37815['body']),_0x4ca32b[_0x2d0430(0x147)](0xc8)[_0x2d0430(0x124)]({'success':![],'message':_0x499d91 instanceof Error?_0x499d91[_0x2d0430(0x120)]:_0x2d0430(0x12e)});}},this[_0x420788(0x15f)]=async(_0x3549bd,_0x545c6c,_0x2a76a7)=>{const _0x51511f=_0x420788;try{console[_0x51511f(0x145)](_0x51511f(0x156),_0x3549bd[_0x51511f(0x123)]),loggerService_1['loggerService'][_0x51511f(0x163)](_0x51511f(0x139),_0x3549bd['body'],_0x3549bd[_0x51511f(0x154)]);const _0x2405b4=await this[_0x51511f(0x135)]['processMasterCardWebhook'](_0x3549bd['body']);_0x545c6c[_0x51511f(0x147)](0xc8)[_0x51511f(0x124)]({'success':!![],'message':_0x51511f(0x164)});}catch(_0xe912b4){console[_0x51511f(0x12f)]('MasterCard\x20webhook\x20processing\x20error:',_0xe912b4),loggerService_1[_0x51511f(0x121)][_0x51511f(0x13e)](_0x51511f(0x139),_0xe912b4,_0x3549bd[_0x51511f(0x123)]),_0x545c6c[_0x51511f(0x147)](0xc8)[_0x51511f(0x124)]({'success':![],'message':_0xe912b4 instanceof Error?_0xe912b4[_0x51511f(0x120)]:_0x51511f(0x142)});}},this['webhookService']=new webhookService_1['WebhookService']();}}exports['WebhookController']=WebhookController;