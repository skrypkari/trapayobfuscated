'use strict';function a16_0x4dec(){const _0x12754c=['Received\x20Rapyd\x20webhook:','Amer\x20webhook\x20processed\x20successfully','klyme','Received\x20MasterCard\x20webhook:','===\x20AmPay\x20Webhook\x20Received\x20===','message','Webhook\x20processing\x20failed','Received\x20VISA\x20webhook:','myxspend','AmPay\x20webhook\x20processed\x20successfully','../services/webhookService','Body:','Content-Type','handleMasterCardWebhook','Amer\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processing\x20error:','MyXSpend\x20webhook\x20processing\x20failed','3601298ZRzvBQ','body','WebhookService','visa','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','logWebhookError','Rapyd\x20webhook\x20processing\x20failed','1543109teRQrz','2855AsiFTj','processAmPayWebhook','Method:','Rapyd\x20webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processing\x20error:','5402136fTIrgP','CoinToPay\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20error:','60omTIgX','query','Received\x20CoinToPay2\x20webhook:','processKlymeWebhook','plisio_gateway','Noda\x20webhook\x20processing\x20failed','json','CoinToPay2\x20webhook\x20processed\x20successfully','plisio','MasterCard\x20webhook\x20processing\x20failed','1648sUsDEw','noda','3032JWQeVH','processNodaWebhook','Headers:','AmPay\x20webhook\x20processing\x20failed','Received\x20CoinToPay\x20webhook:','processVisaWebhook','6342940BKMWPJ','VISA\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','handleKlymeWebhook','10311GiNBGF','handleAmPayWebhook','handlePlisioGatewayWebhook','processRapydWebhook','KLYME\x20webhook\x20processing\x20failed','WebhookController','status','__esModule','Noda\x20webhook\x20processed\x20successfully','3uwDJzk','processCoinToPayWebhook','loggerService','Raw\x20body\x20type:','Webhook\x20processed\x20successfully','mastercard','18ltRYTk','Gateway\x20webhook\x20processing\x20failed','handlePlisioWebhook','VISA\x20webhook\x20processing\x20failed','CoinToPay2\x20webhook\x20processing\x20failed','logWebhookReceived','cointopay2','Body\x20keys:','log','3779523SpBStF','get','webhookService','method','../services/loggerService','Webhook\x20processing\x20error:','defineProperty','amer','keys','error','headers','Received\x20Amer\x20webhook:','processPlisioGatewayWebhook','Content-Type:','MasterCard\x20webhook\x20processed\x20successfully','===\x20MyXSpend\x20Webhook\x20Received\x20===','processMasterCardWebhook','processCoinToPay2Webhook','handleCoinToPayWebhook','CoinToPay\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20error:','Body\x20content:','cointopay'];a16_0x4dec=function(){return _0x12754c;};return a16_0x4dec();}function a16_0x3507(_0x5ed8e9,_0x30adb5){const _0x4dec3d=a16_0x4dec();return a16_0x3507=function(_0x3507a8,_0x300753){_0x3507a8=_0x3507a8-0x12a;let _0x259f60=_0x4dec3d[_0x3507a8];return _0x259f60;},a16_0x3507(_0x5ed8e9,_0x30adb5);}const a16_0x41c748=a16_0x3507;(function(_0x245308,_0x3a3287){const _0x3a0d7c=a16_0x3507,_0x240eeb=_0x245308();while(!![]){try{const _0x450ae3=parseInt(_0x3a0d7c(0x14f))/0x1+parseInt(_0x3a0d7c(0x148))/0x2*(parseInt(_0x3a0d7c(0x177))/0x3)+-parseInt(_0x3a0d7c(0x162))/0x4*(-parseInt(_0x3a0d7c(0x150))/0x5)+parseInt(_0x3a0d7c(0x155))/0x6+-parseInt(_0x3a0d7c(0x16e))/0x7*(parseInt(_0x3a0d7c(0x164))/0x8)+parseInt(_0x3a0d7c(0x17d))/0x9*(-parseInt(_0x3a0d7c(0x16a))/0xa)+parseInt(_0x3a0d7c(0x186))/0xb*(-parseInt(_0x3a0d7c(0x158))/0xc);if(_0x450ae3===_0x3a3287)break;else _0x240eeb['push'](_0x240eeb['shift']());}catch(_0x31331b){_0x240eeb['push'](_0x240eeb['shift']());}}}(a16_0x4dec,0xe4292));Object[a16_0x41c748(0x18c)](exports,a16_0x41c748(0x175),{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require(a16_0x41c748(0x141)),loggerService_1=require(a16_0x41c748(0x18a));class WebhookController{constructor(){const _0x5547b0=a16_0x41c748;this[_0x5547b0(0x17f)]=async(_0x12d245,_0xc7b98,_0x1326d6)=>{const _0x1b8847=_0x5547b0;try{console[_0x1b8847(0x185)](_0x1b8847(0x14c)),console[_0x1b8847(0x185)](_0x1b8847(0x12d),_0x12d245[_0x1b8847(0x187)](_0x1b8847(0x143))),console['log'](_0x1b8847(0x17a),typeof _0x12d245['body']),console[_0x1b8847(0x185)](_0x1b8847(0x184),Object[_0x1b8847(0x18e)](_0x12d245[_0x1b8847(0x149)]||{})),console[_0x1b8847(0x185)](_0x1b8847(0x135),_0x12d245[_0x1b8847(0x149)]),loggerService_1[_0x1b8847(0x179)][_0x1b8847(0x182)](_0x1b8847(0x160),_0x12d245[_0x1b8847(0x149)],_0x12d245['headers']);const _0x5af312=await this[_0x1b8847(0x188)]['processPlisioWebhook'](_0x12d245[_0x1b8847(0x149)]);_0xc7b98[_0x1b8847(0x174)](0xc8)[_0x1b8847(0x15e)]({'success':!![],'message':_0x1b8847(0x17b)});}catch(_0x20a236){console[_0x1b8847(0x18f)](_0x1b8847(0x18b),_0x20a236),loggerService_1['loggerService'][_0x1b8847(0x14d)](_0x1b8847(0x160),_0x20a236,_0x12d245[_0x1b8847(0x149)]),_0xc7b98[_0x1b8847(0x174)](0xc8)[_0x1b8847(0x15e)]({'success':![],'message':_0x20a236 instanceof Error?_0x20a236['message']:_0x1b8847(0x13d)});}},this[_0x5547b0(0x170)]=async(_0x35d5f9,_0x266e8d,_0x2b36d9)=>{const _0x2d2df8=_0x5547b0;try{console[_0x2d2df8(0x185)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x2d2df8(0x185)](_0x2d2df8(0x12d),_0x35d5f9[_0x2d2df8(0x187)]('Content-Type')),console[_0x2d2df8(0x185)](_0x2d2df8(0x17a),typeof _0x35d5f9[_0x2d2df8(0x149)]),console['log'](_0x2d2df8(0x184),Object[_0x2d2df8(0x18e)](_0x35d5f9[_0x2d2df8(0x149)]||{})),console[_0x2d2df8(0x185)](_0x2d2df8(0x135),_0x35d5f9[_0x2d2df8(0x149)]),loggerService_1[_0x2d2df8(0x179)][_0x2d2df8(0x182)](_0x2d2df8(0x15c),_0x35d5f9[_0x2d2df8(0x149)],_0x35d5f9[_0x2d2df8(0x12a)]);const _0x2c49ec=await this[_0x2d2df8(0x188)][_0x2d2df8(0x12c)](_0x35d5f9[_0x2d2df8(0x149)]);_0x266e8d[_0x2d2df8(0x174)](0xc8)[_0x2d2df8(0x15e)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x218f79){console[_0x2d2df8(0x18f)](_0x2d2df8(0x134),_0x218f79),loggerService_1[_0x2d2df8(0x179)][_0x2d2df8(0x14d)](_0x2d2df8(0x15c),_0x218f79,_0x35d5f9[_0x2d2df8(0x149)]),_0x266e8d[_0x2d2df8(0x174)](0xc8)[_0x2d2df8(0x15e)]({'success':![],'message':_0x218f79 instanceof Error?_0x218f79[_0x2d2df8(0x13c)]:_0x2d2df8(0x17e)});}},this['handleRapydWebhook']=async(_0x385176,_0x725867,_0x195c74)=>{const _0x559532=_0x5547b0;try{console[_0x559532(0x185)](_0x559532(0x137),_0x385176[_0x559532(0x149)]),loggerService_1[_0x559532(0x179)]['logWebhookReceived']('rapyd',_0x385176[_0x559532(0x149)],_0x385176[_0x559532(0x12a)]);const _0x3d43b8=await this[_0x559532(0x188)][_0x559532(0x171)](_0x385176[_0x559532(0x149)]);_0x725867[_0x559532(0x174)](0xc8)['json']({'success':!![],'message':_0x559532(0x153)});}catch(_0x3564fd){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x3564fd),loggerService_1[_0x559532(0x179)]['logWebhookError']('rapyd',_0x3564fd,_0x385176['body']),_0x725867['status'](0xc8)['json']({'success':![],'message':_0x3564fd instanceof Error?_0x3564fd['message']:_0x559532(0x14e)});}},this['handleNodaWebhook']=async(_0x51bfbf,_0x2de141,_0x94936f)=>{const _0x2ed9f7=_0x5547b0;try{console['log']('Received\x20Noda\x20webhook:',_0x51bfbf[_0x2ed9f7(0x149)]),loggerService_1[_0x2ed9f7(0x179)][_0x2ed9f7(0x182)](_0x2ed9f7(0x163),_0x51bfbf['body'],_0x51bfbf['headers']);const _0x404787=await this[_0x2ed9f7(0x188)][_0x2ed9f7(0x165)](_0x51bfbf[_0x2ed9f7(0x149)]);_0x2de141[_0x2ed9f7(0x174)](0xc8)[_0x2ed9f7(0x15e)]({'success':!![],'message':_0x2ed9f7(0x176)});}catch(_0x1a34b7){console[_0x2ed9f7(0x18f)](_0x2ed9f7(0x146),_0x1a34b7),loggerService_1[_0x2ed9f7(0x179)][_0x2ed9f7(0x14d)]('noda',_0x1a34b7,_0x51bfbf['body']),_0x2de141[_0x2ed9f7(0x174)](0xc8)[_0x2ed9f7(0x15e)]({'success':![],'message':_0x1a34b7 instanceof Error?_0x1a34b7[_0x2ed9f7(0x13c)]:_0x2ed9f7(0x15d)});}},this[_0x5547b0(0x132)]=async(_0x9df8f2,_0x2c7e67,_0x4ad0d2)=>{const _0x244ff1=_0x5547b0;try{console[_0x244ff1(0x185)](_0x244ff1(0x168),_0x9df8f2[_0x244ff1(0x149)]),loggerService_1[_0x244ff1(0x179)]['logWebhookReceived'](_0x244ff1(0x136),_0x9df8f2[_0x244ff1(0x149)],_0x9df8f2['headers']);const _0x2f3bde=await this[_0x244ff1(0x188)][_0x244ff1(0x178)](_0x9df8f2['body']);_0x2c7e67[_0x244ff1(0x174)](0xc8)[_0x244ff1(0x15e)]({'success':!![],'message':_0x244ff1(0x133)});}catch(_0x10de54){console[_0x244ff1(0x18f)](_0x244ff1(0x156),_0x10de54),loggerService_1[_0x244ff1(0x179)][_0x244ff1(0x14d)]('cointopay',_0x10de54,_0x9df8f2[_0x244ff1(0x149)]),_0x2c7e67[_0x244ff1(0x174)](0xc8)[_0x244ff1(0x15e)]({'success':![],'message':_0x10de54 instanceof Error?_0x10de54[_0x244ff1(0x13c)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this['handleCoinToPay2Webhook']=async(_0x5adf2e,_0x42f8d8,_0x5a6297)=>{const _0x1358e1=_0x5547b0;try{console[_0x1358e1(0x185)](_0x1358e1(0x15a),_0x5adf2e[_0x1358e1(0x149)]),loggerService_1['loggerService'][_0x1358e1(0x182)](_0x1358e1(0x183),_0x5adf2e[_0x1358e1(0x149)],_0x5adf2e[_0x1358e1(0x12a)]);const _0x42e9ba=await this[_0x1358e1(0x188)][_0x1358e1(0x131)](_0x5adf2e[_0x1358e1(0x149)]);_0x42f8d8[_0x1358e1(0x174)](0xc8)[_0x1358e1(0x15e)]({'success':!![],'message':_0x1358e1(0x15f)});}catch(_0x12da30){console[_0x1358e1(0x18f)](_0x1358e1(0x154),_0x12da30),loggerService_1[_0x1358e1(0x179)][_0x1358e1(0x14d)]('cointopay2',_0x12da30,_0x5adf2e[_0x1358e1(0x149)]),_0x42f8d8[_0x1358e1(0x174)](0xc8)[_0x1358e1(0x15e)]({'success':![],'message':_0x12da30 instanceof Error?_0x12da30[_0x1358e1(0x13c)]:_0x1358e1(0x181)});}},this[_0x5547b0(0x16d)]=async(_0x42e7ce,_0x539a46,_0xc91cbf)=>{const _0x534dc9=_0x5547b0;try{console['log']('Received\x20KLYME\x20webhook:',_0x42e7ce[_0x534dc9(0x149)]),loggerService_1[_0x534dc9(0x179)][_0x534dc9(0x182)](_0x534dc9(0x139),_0x42e7ce[_0x534dc9(0x149)],_0x42e7ce[_0x534dc9(0x12a)]);const _0x3718bd=await this[_0x534dc9(0x188)][_0x534dc9(0x15b)](_0x42e7ce[_0x534dc9(0x149)]);_0x539a46[_0x534dc9(0x174)](0xc8)['json']({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4fd5bb){console[_0x534dc9(0x18f)](_0x534dc9(0x16c),_0x4fd5bb),loggerService_1[_0x534dc9(0x179)]['logWebhookError'](_0x534dc9(0x139),_0x4fd5bb,_0x42e7ce['body']),_0x539a46[_0x534dc9(0x174)](0xc8)[_0x534dc9(0x15e)]({'success':![],'message':_0x4fd5bb instanceof Error?_0x4fd5bb[_0x534dc9(0x13c)]:_0x534dc9(0x172)});}},this['handleVisaWebhook']=async(_0x5df43a,_0x4b7e5f,_0x3b8f26)=>{const _0x2933b6=_0x5547b0;try{console[_0x2933b6(0x185)](_0x2933b6(0x13e),_0x5df43a['body']),loggerService_1['loggerService'][_0x2933b6(0x182)](_0x2933b6(0x14b),_0x5df43a['body'],_0x5df43a[_0x2933b6(0x12a)]);const _0x5e618c=await this['webhookService'][_0x2933b6(0x169)](_0x5df43a[_0x2933b6(0x149)]);_0x4b7e5f['status'](0xc8)[_0x2933b6(0x15e)]({'success':!![],'message':'VISA\x20webhook\x20processed\x20successfully'});}catch(_0xea828e){console[_0x2933b6(0x18f)](_0x2933b6(0x16b),_0xea828e),loggerService_1[_0x2933b6(0x179)][_0x2933b6(0x14d)](_0x2933b6(0x14b),_0xea828e,_0x5df43a['body']),_0x4b7e5f[_0x2933b6(0x174)](0xc8)[_0x2933b6(0x15e)]({'success':![],'message':_0xea828e instanceof Error?_0xea828e[_0x2933b6(0x13c)]:_0x2933b6(0x180)});}},this[_0x5547b0(0x144)]=async(_0x9a40bf,_0x28a053,_0x24e09a)=>{const _0x4b51bc=_0x5547b0;try{console[_0x4b51bc(0x185)](_0x4b51bc(0x13a),_0x9a40bf[_0x4b51bc(0x149)]),loggerService_1[_0x4b51bc(0x179)][_0x4b51bc(0x182)](_0x4b51bc(0x17c),_0x9a40bf[_0x4b51bc(0x149)],_0x9a40bf[_0x4b51bc(0x12a)]);const _0x53e888=await this['webhookService'][_0x4b51bc(0x130)](_0x9a40bf[_0x4b51bc(0x149)]);_0x28a053[_0x4b51bc(0x174)](0xc8)[_0x4b51bc(0x15e)]({'success':!![],'message':_0x4b51bc(0x12e)});}catch(_0x47976c){console[_0x4b51bc(0x18f)](_0x4b51bc(0x157),_0x47976c),loggerService_1[_0x4b51bc(0x179)][_0x4b51bc(0x14d)](_0x4b51bc(0x17c),_0x47976c,_0x9a40bf['body']),_0x28a053[_0x4b51bc(0x174)](0xc8)[_0x4b51bc(0x15e)]({'success':![],'message':_0x47976c instanceof Error?_0x47976c[_0x4b51bc(0x13c)]:_0x4b51bc(0x161)});}},this['handleAmerWebhook']=async(_0x1218f7,_0x1d5cfd,_0x53f611)=>{const _0x46d9fe=_0x5547b0;try{console[_0x46d9fe(0x185)](_0x46d9fe(0x12b),_0x1218f7[_0x46d9fe(0x149)]),loggerService_1[_0x46d9fe(0x179)]['logWebhookReceived'](_0x46d9fe(0x18d),_0x1218f7['body'],_0x1218f7['headers']);const _0x2b5598=await this['webhookService']['processAmerWebhook'](_0x1218f7[_0x46d9fe(0x149)]);_0x1d5cfd[_0x46d9fe(0x174)](0xc8)[_0x46d9fe(0x15e)]({'success':!![],'message':_0x46d9fe(0x138)});}catch(_0x593453){console[_0x46d9fe(0x18f)]('Amer\x20webhook\x20processing\x20error:',_0x593453),loggerService_1[_0x46d9fe(0x179)][_0x46d9fe(0x14d)](_0x46d9fe(0x18d),_0x593453,_0x1218f7[_0x46d9fe(0x149)]),_0x1d5cfd[_0x46d9fe(0x174)](0xc8)[_0x46d9fe(0x15e)]({'success':![],'message':_0x593453 instanceof Error?_0x593453['message']:_0x46d9fe(0x145)});}},this[_0x5547b0(0x16f)]=async(_0x52b584,_0x56c31e,_0x174ab4)=>{const _0x3f68d9=_0x5547b0;try{console[_0x3f68d9(0x185)](_0x3f68d9(0x13b)),console['log'](_0x3f68d9(0x166),_0x52b584[_0x3f68d9(0x12a)]),console[_0x3f68d9(0x185)](_0x3f68d9(0x142),_0x52b584[_0x3f68d9(0x149)]),console[_0x3f68d9(0x185)]('Body\x20type:',typeof _0x52b584[_0x3f68d9(0x149)]),console[_0x3f68d9(0x185)](_0x3f68d9(0x184),Object[_0x3f68d9(0x18e)](_0x52b584[_0x3f68d9(0x149)]||{})),loggerService_1[_0x3f68d9(0x179)][_0x3f68d9(0x182)]('ampay',_0x52b584[_0x3f68d9(0x149)],_0x52b584[_0x3f68d9(0x12a)]);const _0x31ff92=await this[_0x3f68d9(0x188)][_0x3f68d9(0x151)](_0x52b584[_0x3f68d9(0x149)]);_0x56c31e[_0x3f68d9(0x174)](0xc8)[_0x3f68d9(0x15e)]({'success':!![],'message':_0x3f68d9(0x140)});}catch(_0x13639e){console[_0x3f68d9(0x18f)]('AmPay\x20webhook\x20processing\x20error:',_0x13639e),loggerService_1[_0x3f68d9(0x179)][_0x3f68d9(0x14d)]('ampay',_0x13639e,_0x52b584[_0x3f68d9(0x149)]),_0x56c31e[_0x3f68d9(0x174)](0xc8)['json']({'success':![],'message':_0x13639e instanceof Error?_0x13639e['message']:_0x3f68d9(0x167)});}},this['handleMyXSpendWebhook']=async(_0x57946d,_0x46b793,_0x115a32)=>{const _0x40a590=_0x5547b0;try{console[_0x40a590(0x185)](_0x40a590(0x12f)),console[_0x40a590(0x185)]('Headers:',_0x57946d[_0x40a590(0x12a)]),console[_0x40a590(0x185)]('Query\x20params:',_0x57946d[_0x40a590(0x159)]),console[_0x40a590(0x185)]('Body:',_0x57946d[_0x40a590(0x149)]),console['log'](_0x40a590(0x152),_0x57946d[_0x40a590(0x189)]),loggerService_1[_0x40a590(0x179)][_0x40a590(0x182)](_0x40a590(0x13f),_0x57946d[_0x40a590(0x149)]||_0x57946d[_0x40a590(0x159)],_0x57946d[_0x40a590(0x12a)]);const _0x11bcaf=await this[_0x40a590(0x188)]['processMyXSpendWebhook'](_0x57946d[_0x40a590(0x159)],_0x57946d[_0x40a590(0x149)]);_0x46b793['status'](0xc8)[_0x40a590(0x15e)]({'success':!![],'message':'MyXSpend\x20webhook\x20processed\x20successfully'});}catch(_0x3ee4d5){console[_0x40a590(0x18f)]('MyXSpend\x20webhook\x20processing\x20error:',_0x3ee4d5),loggerService_1[_0x40a590(0x179)][_0x40a590(0x14d)]('myxspend',_0x3ee4d5,_0x57946d[_0x40a590(0x149)]||_0x57946d[_0x40a590(0x159)]),_0x46b793[_0x40a590(0x174)](0xc8)['json']({'success':![],'message':_0x3ee4d5 instanceof Error?_0x3ee4d5['message']:_0x40a590(0x147)});}},this[_0x5547b0(0x188)]=new webhookService_1[(_0x5547b0(0x14a))]();}}exports[a16_0x41c748(0x173)]=WebhookController;