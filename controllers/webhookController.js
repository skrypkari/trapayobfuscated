'use strict';function a14_0x1025(){const _0x13909e=['json','968200dkShwa','Received\x20Rapyd\x20webhook:','Received\x20CoinToPay\x20webhook:','processPlisioGatewayWebhook','Content-Type:','status','40lwBdwx','Raw\x20body\x20type:','processKlymeWebhook','webhookService','Webhook\x20processed\x20successfully','369yaqXib','plisio','210147tqApxw','handleNodaWebhook','plisio_gateway','handleKlymeWebhook','102640DXsPTs','Rapyd\x20webhook\x20processed\x20successfully','body','24XTxyrp','88636lCxivf','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','KLYME\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','WebhookService','message','Body\x20keys:','138873IhHucU','processCoinToPayWebhook','error','handlePlisioGatewayWebhook','cointopay','processPlisioWebhook','CoinToPay\x20webhook\x20processing\x20error:','../services/loggerService','5361114vOUTks','log','Rapyd\x20webhook\x20processing\x20failed','klyme','KLYME\x20webhook\x20processing\x20failed','loggerService','get','8UEIJar','processRapydWebhook','KLYME\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20failed','rapyd','defineProperty','Content-Type','Gateway\x20webhook\x20processed\x20successfully','headers','processNodaWebhook','keys','WebhookController','Noda\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','logWebhookError','32192xZUWSE','logWebhookReceived','Noda\x20webhook\x20processing\x20error:','noda'];a14_0x1025=function(){return _0x13909e;};return a14_0x1025();}function a14_0x3fb2(_0x169a57,_0x333ce4){const _0x102584=a14_0x1025();return a14_0x3fb2=function(_0x3fb261,_0x457bd8){_0x3fb261=_0x3fb261-0x109;let _0x52a64e=_0x102584[_0x3fb261];return _0x52a64e;},a14_0x3fb2(_0x169a57,_0x333ce4);}const a14_0x21d3c4=a14_0x3fb2;(function(_0x44367d,_0x5df527){const _0x5ba7b7=a14_0x3fb2,_0x1e492c=_0x44367d();while(!![]){try{const _0x4cd15a=parseInt(_0x5ba7b7(0x11a))/0x1*(-parseInt(_0x5ba7b7(0x146))/0x2)+parseInt(_0x5ba7b7(0x13e))/0x3+-parseInt(_0x5ba7b7(0x12c))/0x4*(parseInt(_0x5ba7b7(0x137))/0x5)+-parseInt(_0x5ba7b7(0x145))/0x6*(parseInt(_0x5ba7b7(0x10b))/0x7)+-parseInt(_0x5ba7b7(0x131))/0x8+-parseInt(_0x5ba7b7(0x13c))/0x9*(-parseInt(_0x5ba7b7(0x142))/0xa)+parseInt(_0x5ba7b7(0x113))/0xb;if(_0x4cd15a===_0x5df527)break;else _0x1e492c['push'](_0x1e492c['shift']());}catch(_0x8c92f7){_0x1e492c['push'](_0x1e492c['shift']());}}}(a14_0x1025,0x57a1a));Object[a14_0x21d3c4(0x120)](exports,'__esModule',{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a14_0x21d3c4(0x112));class WebhookController{constructor(){const _0x5f38d6=a14_0x21d3c4;this['handlePlisioWebhook']=async(_0x38a04e,_0x1bc7ed,_0x252331)=>{const _0x5eb226=a14_0x3fb2;try{console[_0x5eb226(0x114)](_0x5eb226(0x147)),console['log']('Content-Type:',_0x38a04e[_0x5eb226(0x119)](_0x5eb226(0x121))),console[_0x5eb226(0x114)](_0x5eb226(0x138),typeof _0x38a04e['body']),console[_0x5eb226(0x114)](_0x5eb226(0x10a),Object[_0x5eb226(0x125)](_0x38a04e['body']||{})),console['log']('Body\x20content:',_0x38a04e[_0x5eb226(0x144)]),loggerService_1[_0x5eb226(0x118)]['logWebhookReceived'](_0x5eb226(0x13d),_0x38a04e[_0x5eb226(0x144)],_0x38a04e[_0x5eb226(0x123)]);const _0x1329fa=await this['webhookService'][_0x5eb226(0x110)](_0x38a04e[_0x5eb226(0x144)]);_0x1bc7ed[_0x5eb226(0x136)](0xc8)[_0x5eb226(0x130)]({'success':!![],'message':_0x5eb226(0x13b)});}catch(_0x32e581){console[_0x5eb226(0x10d)](_0x5eb226(0x12a),_0x32e581),loggerService_1[_0x5eb226(0x118)][_0x5eb226(0x12b)]('plisio',_0x32e581,_0x38a04e[_0x5eb226(0x144)]),_0x1bc7ed[_0x5eb226(0x136)](0xc8)[_0x5eb226(0x130)]({'success':![],'message':_0x32e581 instanceof Error?_0x32e581[_0x5eb226(0x109)]:'Webhook\x20processing\x20failed'});}},this[_0x5f38d6(0x10e)]=async(_0x47e4a5,_0x492366,_0x32407b)=>{const _0x13b931=_0x5f38d6;try{console[_0x13b931(0x114)](_0x13b931(0x149)),console['log'](_0x13b931(0x135),_0x47e4a5['get'](_0x13b931(0x121))),console[_0x13b931(0x114)](_0x13b931(0x138),typeof _0x47e4a5['body']),console[_0x13b931(0x114)](_0x13b931(0x10a),Object[_0x13b931(0x125)](_0x47e4a5[_0x13b931(0x144)]||{})),console[_0x13b931(0x114)]('Body\x20content:',_0x47e4a5['body']),loggerService_1[_0x13b931(0x118)][_0x13b931(0x12d)]('plisio_gateway',_0x47e4a5['body'],_0x47e4a5[_0x13b931(0x123)]);const _0x513051=await this['webhookService'][_0x13b931(0x134)](_0x47e4a5[_0x13b931(0x144)]);_0x492366['status'](0xc8)[_0x13b931(0x130)]({'success':!![],'message':_0x13b931(0x122)});}catch(_0x22e9d9){console[_0x13b931(0x10d)](_0x13b931(0x129),_0x22e9d9),loggerService_1[_0x13b931(0x118)][_0x13b931(0x12b)](_0x13b931(0x140),_0x22e9d9,_0x47e4a5[_0x13b931(0x144)]),_0x492366[_0x13b931(0x136)](0xc8)[_0x13b931(0x130)]({'success':![],'message':_0x22e9d9 instanceof Error?_0x22e9d9[_0x13b931(0x109)]:_0x13b931(0x11d)});}},this['handleRapydWebhook']=async(_0x2551fd,_0x3bfd07,_0x2877dd)=>{const _0x3d0be1=_0x5f38d6;try{console[_0x3d0be1(0x114)](_0x3d0be1(0x132),_0x2551fd['body']),loggerService_1['loggerService'][_0x3d0be1(0x12d)](_0x3d0be1(0x11f),_0x2551fd[_0x3d0be1(0x144)],_0x2551fd[_0x3d0be1(0x123)]);const _0x477cc5=await this[_0x3d0be1(0x13a)][_0x3d0be1(0x11b)](_0x2551fd[_0x3d0be1(0x144)]);_0x3bfd07[_0x3d0be1(0x136)](0xc8)['json']({'success':!![],'message':_0x3d0be1(0x143)});}catch(_0x19d540){console['error'](_0x3d0be1(0x128),_0x19d540),loggerService_1[_0x3d0be1(0x118)][_0x3d0be1(0x12b)]('rapyd',_0x19d540,_0x2551fd[_0x3d0be1(0x144)]),_0x3bfd07[_0x3d0be1(0x136)](0xc8)[_0x3d0be1(0x130)]({'success':![],'message':_0x19d540 instanceof Error?_0x19d540[_0x3d0be1(0x109)]:_0x3d0be1(0x115)});}},this[_0x5f38d6(0x13f)]=async(_0x286704,_0x20c1d7,_0x2f13e8)=>{const _0x268941=_0x5f38d6;try{console['log']('Received\x20Noda\x20webhook:',_0x286704[_0x268941(0x144)]),loggerService_1[_0x268941(0x118)][_0x268941(0x12d)]('noda',_0x286704[_0x268941(0x144)],_0x286704['headers']);const _0x417d9e=await this[_0x268941(0x13a)][_0x268941(0x124)](_0x286704['body']);_0x20c1d7['status'](0xc8)[_0x268941(0x130)]({'success':!![],'message':_0x268941(0x127)});}catch(_0x13f86e){console[_0x268941(0x10d)](_0x268941(0x12e),_0x13f86e),loggerService_1[_0x268941(0x118)]['logWebhookError'](_0x268941(0x12f),_0x13f86e,_0x286704[_0x268941(0x144)]),_0x20c1d7['status'](0xc8)[_0x268941(0x130)]({'success':![],'message':_0x13f86e instanceof Error?_0x13f86e[_0x268941(0x109)]:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x20bf49,_0x319601,_0x236ed4)=>{const _0x105272=_0x5f38d6;try{console[_0x105272(0x114)](_0x105272(0x133),_0x20bf49[_0x105272(0x144)]),loggerService_1[_0x105272(0x118)][_0x105272(0x12d)](_0x105272(0x10f),_0x20bf49[_0x105272(0x144)],_0x20bf49[_0x105272(0x123)]);const _0x565f5a=await this[_0x105272(0x13a)][_0x105272(0x10c)](_0x20bf49[_0x105272(0x144)]);_0x319601[_0x105272(0x136)](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x5e3ce7){console[_0x105272(0x10d)](_0x105272(0x111),_0x5e3ce7),loggerService_1[_0x105272(0x118)][_0x105272(0x12b)]('cointopay',_0x5e3ce7,_0x20bf49[_0x105272(0x144)]),_0x319601[_0x105272(0x136)](0xc8)[_0x105272(0x130)]({'success':![],'message':_0x5e3ce7 instanceof Error?_0x5e3ce7[_0x105272(0x109)]:_0x105272(0x11e)});}},this[_0x5f38d6(0x141)]=async(_0x14eb54,_0x4abe79,_0x40704a)=>{const _0x375571=_0x5f38d6;try{console['log']('Received\x20KLYME\x20webhook:',_0x14eb54[_0x375571(0x144)]),loggerService_1[_0x375571(0x118)][_0x375571(0x12d)]('klyme',_0x14eb54[_0x375571(0x144)],_0x14eb54[_0x375571(0x123)]);const _0x537d0d=await this['webhookService'][_0x375571(0x139)](_0x14eb54[_0x375571(0x144)]);_0x4abe79[_0x375571(0x136)](0xc8)[_0x375571(0x130)]({'success':!![],'message':_0x375571(0x148)});}catch(_0x5160e5){console[_0x375571(0x10d)](_0x375571(0x11c),_0x5160e5),loggerService_1[_0x375571(0x118)][_0x375571(0x12b)](_0x375571(0x116),_0x5160e5,_0x14eb54['body']),_0x4abe79[_0x375571(0x136)](0xc8)['json']({'success':![],'message':_0x5160e5 instanceof Error?_0x5160e5[_0x375571(0x109)]:_0x375571(0x117)});}},this[_0x5f38d6(0x13a)]=new webhookService_1[(_0x5f38d6(0x14a))]();}}exports[a14_0x21d3c4(0x126)]=WebhookController;