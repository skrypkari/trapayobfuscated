'use strict';function a15_0x2ccd(_0x5b4dbd,_0x17f174){const _0x3a7ab7=a15_0x3a7a();return a15_0x2ccd=function(_0x2ccdcb,_0x82bd65){_0x2ccdcb=_0x2ccdcb-0x135;let _0x5271c6=_0x3a7ab7[_0x2ccdcb];return _0x5271c6;},a15_0x2ccd(_0x5b4dbd,_0x17f174);}const a15_0x55e47f=a15_0x2ccd;(function(_0x1391d5,_0xa7ea85){const _0x4e838f=a15_0x2ccd,_0x2f3367=_0x1391d5();while(!![]){try{const _0x38218b=-parseInt(_0x4e838f(0x162))/0x1*(parseInt(_0x4e838f(0x144))/0x2)+parseInt(_0x4e838f(0x139))/0x3*(parseInt(_0x4e838f(0x136))/0x4)+-parseInt(_0x4e838f(0x174))/0x5*(parseInt(_0x4e838f(0x16d))/0x6)+-parseInt(_0x4e838f(0x17a))/0x7+-parseInt(_0x4e838f(0x146))/0x8+-parseInt(_0x4e838f(0x160))/0x9+parseInt(_0x4e838f(0x16f))/0xa;if(_0x38218b===_0xa7ea85)break;else _0x2f3367['push'](_0x2f3367['shift']());}catch(_0x19bc88){_0x2f3367['push'](_0x2f3367['shift']());}}}(a15_0x3a7a,0x95305));function a15_0x3a7a(){const _0x156015=['246530QLDGge','plisio_gateway','get','mastercard','processPlisioWebhook','processMasterCardWebhook','59675qAOqSn','log','handleMasterCardWebhook','4VRtnDy','Raw\x20body\x20type:','handleRapydWebhook','140799durTWv','loggerService','Content-Type:','logWebhookReceived','KLYME\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processed\x20successfully','Body\x20content:','klyme','logWebhookError','Noda\x20webhook\x20processing\x20failed','rapyd','1414NEXaFR','handleCoinToPayWebhook','6815688teNkEU','status','Content-Type','Webhook\x20processing\x20failed','handlePlisioGatewayWebhook','KLYME\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','processKlymeWebhook','handleKlymeWebhook','body','headers','Rapyd\x20webhook\x20processing\x20error:','noda','../services/loggerService','WebhookController','error','Received\x20MasterCard\x20webhook:','plisio','KLYME\x20webhook\x20processing\x20error:','webhookService','MasterCard\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','message','keys','Body\x20keys:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','4722876ESMcvG','Noda\x20webhook\x20processed\x20successfully','22KhdcQe','defineProperty','Gateway\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20error:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Received\x20KLYME\x20webhook:','json','processNodaWebhook','Rapyd\x20webhook\x20processing\x20failed','processRapydWebhook','CoinToPay\x20webhook\x20processed\x20successfully','30nHfWaH','Received\x20Noda\x20webhook:','22114780MRjioL','Received\x20CoinToPay\x20webhook:','cointopay','Gateway\x20webhook\x20processed\x20successfully','WebhookService'];a15_0x3a7a=function(){return _0x156015;};return a15_0x3a7a();}Object[a15_0x55e47f(0x163)](exports,'__esModule',{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x55e47f(0x153));class WebhookController{constructor(){const _0x4fe351=a15_0x55e47f;this['handlePlisioWebhook']=async(_0x41b45f,_0x51c7c0,_0x396a7c)=>{const _0x4e91a2=a15_0x2ccd;try{console[_0x4e91a2(0x17b)](_0x4e91a2(0x166)),console[_0x4e91a2(0x17b)](_0x4e91a2(0x13b),_0x41b45f['get'](_0x4e91a2(0x148))),console['log'](_0x4e91a2(0x137),typeof _0x41b45f[_0x4e91a2(0x14f)]),console[_0x4e91a2(0x17b)](_0x4e91a2(0x15e),Object[_0x4e91a2(0x15d)](_0x41b45f[_0x4e91a2(0x14f)]||{})),console[_0x4e91a2(0x17b)](_0x4e91a2(0x13f),_0x41b45f[_0x4e91a2(0x14f)]),loggerService_1['loggerService'][_0x4e91a2(0x13c)]('plisio',_0x41b45f[_0x4e91a2(0x14f)],_0x41b45f[_0x4e91a2(0x150)]);const _0x1035c2=await this[_0x4e91a2(0x159)][_0x4e91a2(0x178)](_0x41b45f[_0x4e91a2(0x14f)]);_0x51c7c0[_0x4e91a2(0x147)](0xc8)[_0x4e91a2(0x168)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x42335a){console[_0x4e91a2(0x155)](_0x4e91a2(0x15b),_0x42335a),loggerService_1[_0x4e91a2(0x13a)]['logWebhookError'](_0x4e91a2(0x157),_0x42335a,_0x41b45f[_0x4e91a2(0x14f)]),_0x51c7c0[_0x4e91a2(0x147)](0xc8)[_0x4e91a2(0x168)]({'success':![],'message':_0x42335a instanceof Error?_0x42335a[_0x4e91a2(0x15c)]:_0x4e91a2(0x149)});}},this[_0x4fe351(0x14a)]=async(_0x68f70,_0x4179b8,_0x447d0b)=>{const _0x2b11e6=_0x4fe351;try{console['log'](_0x2b11e6(0x15f)),console[_0x2b11e6(0x17b)]('Content-Type:',_0x68f70[_0x2b11e6(0x176)](_0x2b11e6(0x148))),console['log'](_0x2b11e6(0x137),typeof _0x68f70[_0x2b11e6(0x14f)]),console[_0x2b11e6(0x17b)]('Body\x20keys:',Object['keys'](_0x68f70[_0x2b11e6(0x14f)]||{})),console[_0x2b11e6(0x17b)](_0x2b11e6(0x13f),_0x68f70[_0x2b11e6(0x14f)]),loggerService_1['loggerService']['logWebhookReceived'](_0x2b11e6(0x175),_0x68f70[_0x2b11e6(0x14f)],_0x68f70[_0x2b11e6(0x150)]);const _0x263143=await this[_0x2b11e6(0x159)][_0x2b11e6(0x14c)](_0x68f70[_0x2b11e6(0x14f)]);_0x4179b8[_0x2b11e6(0x147)](0xc8)[_0x2b11e6(0x168)]({'success':!![],'message':_0x2b11e6(0x172)});}catch(_0x11f0cc){console['error'](_0x2b11e6(0x165),_0x11f0cc),loggerService_1[_0x2b11e6(0x13a)][_0x2b11e6(0x141)](_0x2b11e6(0x175),_0x11f0cc,_0x68f70[_0x2b11e6(0x14f)]),_0x4179b8[_0x2b11e6(0x147)](0xc8)[_0x2b11e6(0x168)]({'success':![],'message':_0x11f0cc instanceof Error?_0x11f0cc['message']:_0x2b11e6(0x164)});}},this[_0x4fe351(0x138)]=async(_0x569e58,_0x181a55,_0x1c3d88)=>{const _0x13856d=_0x4fe351;try{console['log']('Received\x20Rapyd\x20webhook:',_0x569e58[_0x13856d(0x14f)]),loggerService_1[_0x13856d(0x13a)][_0x13856d(0x13c)](_0x13856d(0x143),_0x569e58['body'],_0x569e58[_0x13856d(0x150)]);const _0x854a42=await this[_0x13856d(0x159)][_0x13856d(0x16b)](_0x569e58['body']);_0x181a55['status'](0xc8)[_0x13856d(0x168)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x3e3642){console['error'](_0x13856d(0x151),_0x3e3642),loggerService_1[_0x13856d(0x13a)]['logWebhookError'](_0x13856d(0x143),_0x3e3642,_0x569e58[_0x13856d(0x14f)]),_0x181a55[_0x13856d(0x147)](0xc8)[_0x13856d(0x168)]({'success':![],'message':_0x3e3642 instanceof Error?_0x3e3642[_0x13856d(0x15c)]:_0x13856d(0x16a)});}},this['handleNodaWebhook']=async(_0x29e114,_0x4ec7b8,_0x5571cd)=>{const _0x2f0909=_0x4fe351;try{console[_0x2f0909(0x17b)](_0x2f0909(0x16e),_0x29e114[_0x2f0909(0x14f)]),loggerService_1['loggerService']['logWebhookReceived'](_0x2f0909(0x152),_0x29e114[_0x2f0909(0x14f)],_0x29e114[_0x2f0909(0x150)]);const _0x59cb0a=await this[_0x2f0909(0x159)][_0x2f0909(0x169)](_0x29e114[_0x2f0909(0x14f)]);_0x4ec7b8['status'](0xc8)[_0x2f0909(0x168)]({'success':!![],'message':_0x2f0909(0x161)});}catch(_0x1981d){console['error']('Noda\x20webhook\x20processing\x20error:',_0x1981d),loggerService_1[_0x2f0909(0x13a)]['logWebhookError'](_0x2f0909(0x152),_0x1981d,_0x29e114['body']),_0x4ec7b8[_0x2f0909(0x147)](0xc8)[_0x2f0909(0x168)]({'success':![],'message':_0x1981d instanceof Error?_0x1981d['message']:_0x2f0909(0x142)});}},this[_0x4fe351(0x145)]=async(_0xcbfeb6,_0x191dbe,_0x38a59b)=>{const _0x1b22e9=_0x4fe351;try{console[_0x1b22e9(0x17b)](_0x1b22e9(0x170),_0xcbfeb6[_0x1b22e9(0x14f)]),loggerService_1[_0x1b22e9(0x13a)][_0x1b22e9(0x13c)](_0x1b22e9(0x171),_0xcbfeb6[_0x1b22e9(0x14f)],_0xcbfeb6[_0x1b22e9(0x150)]);const _0x34ee00=await this[_0x1b22e9(0x159)]['processCoinToPayWebhook'](_0xcbfeb6[_0x1b22e9(0x14f)]);_0x191dbe[_0x1b22e9(0x147)](0xc8)[_0x1b22e9(0x168)]({'success':!![],'message':_0x1b22e9(0x16c)});}catch(_0x571324){console[_0x1b22e9(0x155)]('CoinToPay\x20webhook\x20processing\x20error:',_0x571324),loggerService_1['loggerService'][_0x1b22e9(0x141)](_0x1b22e9(0x171),_0x571324,_0xcbfeb6['body']),_0x191dbe[_0x1b22e9(0x147)](0xc8)[_0x1b22e9(0x168)]({'success':![],'message':_0x571324 instanceof Error?_0x571324['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x4fe351(0x14e)]=async(_0x4c1423,_0x224cbd,_0x3ce62b)=>{const _0xe8ea48=_0x4fe351;try{console[_0xe8ea48(0x17b)](_0xe8ea48(0x167),_0x4c1423[_0xe8ea48(0x14f)]),loggerService_1[_0xe8ea48(0x13a)][_0xe8ea48(0x13c)](_0xe8ea48(0x140),_0x4c1423[_0xe8ea48(0x14f)],_0x4c1423['headers']);const _0x1ec763=await this['webhookService'][_0xe8ea48(0x14d)](_0x4c1423[_0xe8ea48(0x14f)]);_0x224cbd[_0xe8ea48(0x147)](0xc8)['json']({'success':!![],'message':_0xe8ea48(0x13d)});}catch(_0x4a6a11){console['error'](_0xe8ea48(0x158),_0x4a6a11),loggerService_1[_0xe8ea48(0x13a)][_0xe8ea48(0x141)](_0xe8ea48(0x140),_0x4a6a11,_0x4c1423[_0xe8ea48(0x14f)]),_0x224cbd['status'](0xc8)[_0xe8ea48(0x168)]({'success':![],'message':_0x4a6a11 instanceof Error?_0x4a6a11[_0xe8ea48(0x15c)]:_0xe8ea48(0x14b)});}},this[_0x4fe351(0x135)]=async(_0x7315c7,_0x33c2a8,_0x53cb7b)=>{const _0x5165d5=_0x4fe351;try{console[_0x5165d5(0x17b)](_0x5165d5(0x156),_0x7315c7[_0x5165d5(0x14f)]),loggerService_1['loggerService'][_0x5165d5(0x13c)](_0x5165d5(0x177),_0x7315c7[_0x5165d5(0x14f)],_0x7315c7['headers']);const _0x177432=await this[_0x5165d5(0x159)][_0x5165d5(0x179)](_0x7315c7[_0x5165d5(0x14f)]);_0x33c2a8[_0x5165d5(0x147)](0xc8)['json']({'success':!![],'message':_0x5165d5(0x13e)});}catch(_0x26a801){console['error'](_0x5165d5(0x15a),_0x26a801),loggerService_1['loggerService']['logWebhookError'](_0x5165d5(0x177),_0x26a801,_0x7315c7[_0x5165d5(0x14f)]),_0x33c2a8['status'](0xc8)[_0x5165d5(0x168)]({'success':![],'message':_0x26a801 instanceof Error?_0x26a801['message']:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x4fe351(0x159)]=new webhookService_1[(_0x4fe351(0x173))]();}}exports[a15_0x55e47f(0x154)]=WebhookController;