'use strict';function a15_0x5779(_0xd44e20,_0x48d1b8){const _0x392d4c=a15_0x392d();return a15_0x5779=function(_0x577977,_0x1ddf2a){_0x577977=_0x577977-0x15f;let _0x3278ad=_0x392d4c[_0x577977];return _0x3278ad;},a15_0x5779(_0xd44e20,_0x48d1b8);}function a15_0x392d(){const _0x1ff2c2=['===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','CoinToPay2\x20webhook\x20processing\x20error:','keys','Noda\x20webhook\x20processing\x20error:','loggerService','processAmerWebhook','Received\x20Amer\x20webhook:','MasterCard\x20webhook\x20processing\x20error:','handlePlisioGatewayWebhook','100614KEPnJw','handleKlymeWebhook','Noda\x20webhook\x20processing\x20failed','noda','Rapyd\x20webhook\x20processing\x20error:','20gbngUv','message','get','logWebhookReceived','Gateway\x20webhook\x20processing\x20failed','../services/loggerService','log','CoinToPay2\x20webhook\x20processed\x20successfully','handleAmerWebhook','processKlymeWebhook','Body\x20keys:','plisio_gateway','processCoinToPay2Webhook','KLYME\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','headers','error','handleNodaWebhook','1392PkreAX','json','16600276NRxAFf','Received\x20Noda\x20webhook:','Amer\x20webhook\x20processing\x20failed','../services/webhookService','body','Content-Type:','rapyd','Webhook\x20processing\x20failed','cointopay2','1455150TrFoby','Body\x20content:','97776EpzxeG','logWebhookError','status','processRapydWebhook','MasterCard\x20webhook\x20processed\x20successfully','Received\x20CoinToPay\x20webhook:','amer','WebhookController','Amer\x20webhook\x20processing\x20error:','plisio','Rapyd\x20webhook\x20processed\x20successfully','defineProperty','cointopay','Received\x20CoinToPay2\x20webhook:','handleCoinToPay2Webhook','handlePlisioWebhook','18bygtBB','processPlisioGatewayWebhook','Content-Type','__esModule','466524DWUVku','webhookService','Gateway\x20webhook\x20processed\x20successfully','Received\x20KLYME\x20webhook:','58oLRORI','processPlisioWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','mastercard','processCoinToPayWebhook','CoinToPay2\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20error:','Raw\x20body\x20type:','3866233GumxcC','16295sFUUxA','Webhook\x20processed\x20successfully','KLYME\x20webhook\x20processed\x20successfully','handleMasterCardWebhook','MasterCard\x20webhook\x20processing\x20failed','Amer\x20webhook\x20processed\x20successfully'];a15_0x392d=function(){return _0x1ff2c2;};return a15_0x392d();}const a15_0x5a7190=a15_0x5779;(function(_0x3af515,_0x35aa3b){const _0x102930=a15_0x5779,_0xbdffd3=_0x3af515();while(!![]){try{const _0x177607=-parseInt(_0x102930(0x173))/0x1+parseInt(_0x102930(0x18d))/0x2*(-parseInt(_0x102930(0x1a5))/0x3)+parseInt(_0x102930(0x189))/0x4+-parseInt(_0x102930(0x196))/0x5*(-parseInt(_0x102930(0x168))/0x6)+-parseInt(_0x102930(0x195))/0x7+-parseInt(_0x102930(0x175))/0x8*(-parseInt(_0x102930(0x185))/0x9)+-parseInt(_0x102930(0x1aa))/0xa*(-parseInt(_0x102930(0x16a))/0xb);if(_0x177607===_0x35aa3b)break;else _0xbdffd3['push'](_0xbdffd3['shift']());}catch(_0x36f2ae){_0xbdffd3['push'](_0xbdffd3['shift']());}}}(a15_0x392d,0xe459c));Object[a15_0x5a7190(0x180)](exports,a15_0x5a7190(0x188),{'value':!![]}),exports[a15_0x5a7190(0x17c)]=void 0x0;const webhookService_1=require(a15_0x5a7190(0x16d)),loggerService_1=require(a15_0x5a7190(0x1af));class WebhookController{constructor(){const _0x332aa5=a15_0x5a7190;this[_0x332aa5(0x184)]=async(_0x41125f,_0x4d7ad4,_0xc1f1a6)=>{const _0x6f03d2=_0x332aa5;try{console[_0x6f03d2(0x1b0)](_0x6f03d2(0x18f)),console[_0x6f03d2(0x1b0)]('Content-Type:',_0x41125f['get'](_0x6f03d2(0x187))),console[_0x6f03d2(0x1b0)](_0x6f03d2(0x194),typeof _0x41125f[_0x6f03d2(0x16e)]),console[_0x6f03d2(0x1b0)](_0x6f03d2(0x160),Object['keys'](_0x41125f[_0x6f03d2(0x16e)]||{})),console[_0x6f03d2(0x1b0)](_0x6f03d2(0x174),_0x41125f[_0x6f03d2(0x16e)]),loggerService_1[_0x6f03d2(0x1a0)][_0x6f03d2(0x1ad)]('plisio',_0x41125f[_0x6f03d2(0x16e)],_0x41125f[_0x6f03d2(0x165)]);const _0x47575b=await this[_0x6f03d2(0x18a)][_0x6f03d2(0x18e)](_0x41125f[_0x6f03d2(0x16e)]);_0x4d7ad4[_0x6f03d2(0x177)](0xc8)[_0x6f03d2(0x169)]({'success':!![],'message':_0x6f03d2(0x197)});}catch(_0x6c3924){console[_0x6f03d2(0x166)]('Webhook\x20processing\x20error:',_0x6c3924),loggerService_1[_0x6f03d2(0x1a0)][_0x6f03d2(0x176)](_0x6f03d2(0x17e),_0x6c3924,_0x41125f[_0x6f03d2(0x16e)]),_0x4d7ad4[_0x6f03d2(0x177)](0xc8)[_0x6f03d2(0x169)]({'success':![],'message':_0x6c3924 instanceof Error?_0x6c3924['message']:_0x6f03d2(0x171)});}},this[_0x332aa5(0x1a4)]=async(_0x5202e8,_0x5d4819,_0x32a941)=>{const _0x573488=_0x332aa5;try{console[_0x573488(0x1b0)](_0x573488(0x19c)),console[_0x573488(0x1b0)](_0x573488(0x16f),_0x5202e8[_0x573488(0x1ac)](_0x573488(0x187))),console[_0x573488(0x1b0)](_0x573488(0x194),typeof _0x5202e8[_0x573488(0x16e)]),console[_0x573488(0x1b0)]('Body\x20keys:',Object[_0x573488(0x19e)](_0x5202e8[_0x573488(0x16e)]||{})),console[_0x573488(0x1b0)](_0x573488(0x174),_0x5202e8[_0x573488(0x16e)]),loggerService_1[_0x573488(0x1a0)][_0x573488(0x1ad)](_0x573488(0x161),_0x5202e8[_0x573488(0x16e)],_0x5202e8[_0x573488(0x165)]);const _0x2618c9=await this[_0x573488(0x18a)][_0x573488(0x186)](_0x5202e8[_0x573488(0x16e)]);_0x5d4819['status'](0xc8)[_0x573488(0x169)]({'success':!![],'message':_0x573488(0x18b)});}catch(_0x1cee1e){console[_0x573488(0x166)](_0x573488(0x193),_0x1cee1e),loggerService_1[_0x573488(0x1a0)][_0x573488(0x176)](_0x573488(0x161),_0x1cee1e,_0x5202e8['body']),_0x5d4819[_0x573488(0x177)](0xc8)[_0x573488(0x169)]({'success':![],'message':_0x1cee1e instanceof Error?_0x1cee1e['message']:_0x573488(0x1ae)});}},this['handleRapydWebhook']=async(_0x407885,_0x53d178,_0x296847)=>{const _0x5c15e7=_0x332aa5;try{console[_0x5c15e7(0x1b0)]('Received\x20Rapyd\x20webhook:',_0x407885[_0x5c15e7(0x16e)]),loggerService_1[_0x5c15e7(0x1a0)][_0x5c15e7(0x1ad)](_0x5c15e7(0x170),_0x407885[_0x5c15e7(0x16e)],_0x407885[_0x5c15e7(0x165)]);const _0x2d2d97=await this[_0x5c15e7(0x18a)][_0x5c15e7(0x178)](_0x407885[_0x5c15e7(0x16e)]);_0x53d178[_0x5c15e7(0x177)](0xc8)[_0x5c15e7(0x169)]({'success':!![],'message':_0x5c15e7(0x17f)});}catch(_0x44cb15){console[_0x5c15e7(0x166)](_0x5c15e7(0x1a9),_0x44cb15),loggerService_1[_0x5c15e7(0x1a0)]['logWebhookError']('rapyd',_0x44cb15,_0x407885[_0x5c15e7(0x16e)]),_0x53d178[_0x5c15e7(0x177)](0xc8)[_0x5c15e7(0x169)]({'success':![],'message':_0x44cb15 instanceof Error?_0x44cb15[_0x5c15e7(0x1ab)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x332aa5(0x167)]=async(_0x5d8278,_0x2cd3b3,_0x12be13)=>{const _0x2559b8=_0x332aa5;try{console[_0x2559b8(0x1b0)](_0x2559b8(0x16b),_0x5d8278[_0x2559b8(0x16e)]),loggerService_1[_0x2559b8(0x1a0)]['logWebhookReceived'](_0x2559b8(0x1a8),_0x5d8278[_0x2559b8(0x16e)],_0x5d8278[_0x2559b8(0x165)]);const _0x2b50e1=await this['webhookService']['processNodaWebhook'](_0x5d8278[_0x2559b8(0x16e)]);_0x2cd3b3[_0x2559b8(0x177)](0xc8)['json']({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x10c76d){console[_0x2559b8(0x166)](_0x2559b8(0x19f),_0x10c76d),loggerService_1[_0x2559b8(0x1a0)][_0x2559b8(0x176)](_0x2559b8(0x1a8),_0x10c76d,_0x5d8278[_0x2559b8(0x16e)]),_0x2cd3b3['status'](0xc8)['json']({'success':![],'message':_0x10c76d instanceof Error?_0x10c76d[_0x2559b8(0x1ab)]:_0x2559b8(0x1a7)});}},this['handleCoinToPayWebhook']=async(_0x17f746,_0xed7a3a,_0x10baac)=>{const _0x5b4e9d=_0x332aa5;try{console[_0x5b4e9d(0x1b0)](_0x5b4e9d(0x17a),_0x17f746[_0x5b4e9d(0x16e)]),loggerService_1['loggerService'][_0x5b4e9d(0x1ad)](_0x5b4e9d(0x181),_0x17f746['body'],_0x17f746[_0x5b4e9d(0x165)]);const _0x5062b5=await this[_0x5b4e9d(0x18a)][_0x5b4e9d(0x191)](_0x17f746[_0x5b4e9d(0x16e)]);_0xed7a3a[_0x5b4e9d(0x177)](0xc8)['json']({'success':!![],'message':_0x5b4e9d(0x164)});}catch(_0x3f97e4){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0x3f97e4),loggerService_1[_0x5b4e9d(0x1a0)]['logWebhookError'](_0x5b4e9d(0x181),_0x3f97e4,_0x17f746[_0x5b4e9d(0x16e)]),_0xed7a3a['status'](0xc8)[_0x5b4e9d(0x169)]({'success':![],'message':_0x3f97e4 instanceof Error?_0x3f97e4[_0x5b4e9d(0x1ab)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x332aa5(0x183)]=async(_0x4e61a9,_0x3affb9,_0x1a08a4)=>{const _0xbb0e1f=_0x332aa5;try{console[_0xbb0e1f(0x1b0)](_0xbb0e1f(0x182),_0x4e61a9['body']),loggerService_1[_0xbb0e1f(0x1a0)][_0xbb0e1f(0x1ad)](_0xbb0e1f(0x172),_0x4e61a9[_0xbb0e1f(0x16e)],_0x4e61a9[_0xbb0e1f(0x165)]);const _0xc8b970=await this['webhookService'][_0xbb0e1f(0x162)](_0x4e61a9[_0xbb0e1f(0x16e)]);_0x3affb9[_0xbb0e1f(0x177)](0xc8)[_0xbb0e1f(0x169)]({'success':!![],'message':_0xbb0e1f(0x1b1)});}catch(_0x183451){console[_0xbb0e1f(0x166)](_0xbb0e1f(0x19d),_0x183451),loggerService_1[_0xbb0e1f(0x1a0)][_0xbb0e1f(0x176)]('cointopay2',_0x183451,_0x4e61a9[_0xbb0e1f(0x16e)]),_0x3affb9[_0xbb0e1f(0x177)](0xc8)[_0xbb0e1f(0x169)]({'success':![],'message':_0x183451 instanceof Error?_0x183451[_0xbb0e1f(0x1ab)]:_0xbb0e1f(0x192)});}},this[_0x332aa5(0x1a6)]=async(_0x3965b3,_0x169223,_0x42ca9f)=>{const _0x21de2b=_0x332aa5;try{console[_0x21de2b(0x1b0)](_0x21de2b(0x18c),_0x3965b3[_0x21de2b(0x16e)]),loggerService_1[_0x21de2b(0x1a0)][_0x21de2b(0x1ad)]('klyme',_0x3965b3[_0x21de2b(0x16e)],_0x3965b3[_0x21de2b(0x165)]);const _0x4fe92e=await this[_0x21de2b(0x18a)][_0x21de2b(0x15f)](_0x3965b3[_0x21de2b(0x16e)]);_0x169223[_0x21de2b(0x177)](0xc8)['json']({'success':!![],'message':_0x21de2b(0x198)});}catch(_0x1e34e0){console[_0x21de2b(0x166)]('KLYME\x20webhook\x20processing\x20error:',_0x1e34e0),loggerService_1[_0x21de2b(0x1a0)][_0x21de2b(0x176)]('klyme',_0x1e34e0,_0x3965b3[_0x21de2b(0x16e)]),_0x169223[_0x21de2b(0x177)](0xc8)['json']({'success':![],'message':_0x1e34e0 instanceof Error?_0x1e34e0['message']:_0x21de2b(0x163)});}},this[_0x332aa5(0x199)]=async(_0x523a48,_0x29a5bf,_0x448312)=>{const _0x568459=_0x332aa5;try{console[_0x568459(0x1b0)]('Received\x20MasterCard\x20webhook:',_0x523a48['body']),loggerService_1[_0x568459(0x1a0)][_0x568459(0x1ad)](_0x568459(0x190),_0x523a48[_0x568459(0x16e)],_0x523a48[_0x568459(0x165)]);const _0x4ad879=await this[_0x568459(0x18a)]['processMasterCardWebhook'](_0x523a48[_0x568459(0x16e)]);_0x29a5bf['status'](0xc8)[_0x568459(0x169)]({'success':!![],'message':_0x568459(0x179)});}catch(_0x2b09de){console['error'](_0x568459(0x1a3),_0x2b09de),loggerService_1[_0x568459(0x1a0)]['logWebhookError'](_0x568459(0x190),_0x2b09de,_0x523a48[_0x568459(0x16e)]),_0x29a5bf[_0x568459(0x177)](0xc8)[_0x568459(0x169)]({'success':![],'message':_0x2b09de instanceof Error?_0x2b09de[_0x568459(0x1ab)]:_0x568459(0x19a)});}},this[_0x332aa5(0x1b2)]=async(_0x70cfd0,_0x5e8c08,_0x47af0c)=>{const _0x54c589=_0x332aa5;try{console[_0x54c589(0x1b0)](_0x54c589(0x1a2),_0x70cfd0[_0x54c589(0x16e)]),loggerService_1[_0x54c589(0x1a0)][_0x54c589(0x1ad)](_0x54c589(0x17b),_0x70cfd0['body'],_0x70cfd0['headers']);const _0x4598c9=await this[_0x54c589(0x18a)][_0x54c589(0x1a1)](_0x70cfd0[_0x54c589(0x16e)]);_0x5e8c08[_0x54c589(0x177)](0xc8)[_0x54c589(0x169)]({'success':!![],'message':_0x54c589(0x19b)});}catch(_0x185291){console[_0x54c589(0x166)](_0x54c589(0x17d),_0x185291),loggerService_1['loggerService']['logWebhookError'](_0x54c589(0x17b),_0x185291,_0x70cfd0[_0x54c589(0x16e)]),_0x5e8c08[_0x54c589(0x177)](0xc8)['json']({'success':![],'message':_0x185291 instanceof Error?_0x185291[_0x54c589(0x1ab)]:_0x54c589(0x16c)});}},this[_0x332aa5(0x18a)]=new webhookService_1['WebhookService']();}}exports['WebhookController']=WebhookController;