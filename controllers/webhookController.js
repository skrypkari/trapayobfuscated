'use strict';const a15_0x11518d=a15_0x5087;function a15_0x5087(_0x126c20,_0x2de1dd){const _0x21feae=a15_0x21fe();return a15_0x5087=function(_0x50873b,_0x4db9b7){_0x50873b=_0x50873b-0xd2;let _0x5d49ec=_0x21feae[_0x50873b];return _0x5d49ec;},a15_0x5087(_0x126c20,_0x2de1dd);}function a15_0x21fe(){const _0x126b65=['error','processNodaWebhook','775842KnTnEh','handleKlymeWebhook','Webhook\x20processing\x20failed','body','KLYME\x20webhook\x20processing\x20failed','23056dWUAqi','webhookService','KLYME\x20webhook\x20processing\x20error:','__esModule','Rapyd\x20webhook\x20processed\x20successfully','Webhook\x20processing\x20error:','445440bwJkEf','Body\x20keys:','Received\x20KLYME\x20webhook:','MasterCard\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','keys','handleRapydWebhook','MasterCard\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20error:','1042265yMkDSf','processMasterCardWebhook','json','plisio','get','logWebhookError','noda','defineProperty','processCoinToPayWebhook','handlePlisioGatewayWebhook','loggerService','Content-Type','processPlisioGatewayWebhook','processRapydWebhook','log','message','75644YtJCxw','Received\x20CoinToPay\x20webhook:','logWebhookReceived','Gateway\x20webhook\x20processed\x20successfully','mastercard','Noda\x20webhook\x20processed\x20successfully','headers','738pArJkS','plisio_gateway','112251eDXWAO','../services/loggerService','WebhookController','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','520971jJaVgQ','status','Gateway\x20webhook\x20processing\x20error:','handleNodaWebhook','Raw\x20body\x20type:','processPlisioWebhook','CoinToPay\x20webhook\x20processing\x20failed','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','rapyd','cointopay','Content-Type:','Body\x20content:','Gateway\x20webhook\x20processing\x20failed','Received\x20MasterCard\x20webhook:','klyme','Rapyd\x20webhook\x20processing\x20error:','handleMasterCardWebhook','CoinToPay\x20webhook\x20processing\x20error:','WebhookService','KLYME\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','5Plqtal'];a15_0x21fe=function(){return _0x126b65;};return a15_0x21fe();}(function(_0x1e261f,_0x1311ac){const _0xe5d34b=a15_0x5087,_0xaf67d8=_0x1e261f();while(!![]){try{const _0x3b91f2=-parseInt(_0xe5d34b(0xf1))/0x1+-parseInt(_0xe5d34b(0x118))/0x2+parseInt(_0xe5d34b(0xf5))/0x3+-parseInt(_0xe5d34b(0xe8))/0x4*(-parseInt(_0xe5d34b(0x10a))/0x5)+-parseInt(_0xe5d34b(0x10d))/0x6+parseInt(_0xe5d34b(0xd8))/0x7+-parseInt(_0xe5d34b(0x112))/0x8*(-parseInt(_0xe5d34b(0xef))/0x9);if(_0x3b91f2===_0x1311ac)break;else _0xaf67d8['push'](_0xaf67d8['shift']());}catch(_0x4d2c34){_0xaf67d8['push'](_0xaf67d8['shift']());}}}(a15_0x21fe,0x1bb65));Object[a15_0x11518d(0xdf)](exports,a15_0x11518d(0x115),{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x11518d(0xf2));class WebhookController{constructor(){const _0x3beaaf=a15_0x11518d;this['handlePlisioWebhook']=async(_0x3b92d5,_0x2a20b4,_0x53bca5)=>{const _0x4262c6=a15_0x5087;try{console[_0x4262c6(0xe6)](_0x4262c6(0xf4)),console['log'](_0x4262c6(0xff),_0x3b92d5[_0x4262c6(0xdc)](_0x4262c6(0xe3))),console[_0x4262c6(0xe6)](_0x4262c6(0xf9),typeof _0x3b92d5[_0x4262c6(0x110)]),console[_0x4262c6(0xe6)](_0x4262c6(0x119),Object[_0x4262c6(0xd4)](_0x3b92d5['body']||{})),console[_0x4262c6(0xe6)](_0x4262c6(0x100),_0x3b92d5[_0x4262c6(0x110)]),loggerService_1[_0x4262c6(0xe2)][_0x4262c6(0xea)]('plisio',_0x3b92d5[_0x4262c6(0x110)],_0x3b92d5['headers']);const _0x245490=await this[_0x4262c6(0x113)][_0x4262c6(0xfa)](_0x3b92d5[_0x4262c6(0x110)]);_0x2a20b4[_0x4262c6(0xf6)](0xc8)[_0x4262c6(0xda)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x55016a){console[_0x4262c6(0x10b)](_0x4262c6(0x117),_0x55016a),loggerService_1[_0x4262c6(0xe2)][_0x4262c6(0xdd)](_0x4262c6(0xdb),_0x55016a,_0x3b92d5[_0x4262c6(0x110)]),_0x2a20b4['status'](0xc8)['json']({'success':![],'message':_0x55016a instanceof Error?_0x55016a['message']:_0x4262c6(0x10f)});}},this[_0x3beaaf(0xe1)]=async(_0x19078a,_0x462e53,_0x53c7f5)=>{const _0x2f868d=_0x3beaaf;try{console[_0x2f868d(0xe6)](_0x2f868d(0xfc)),console[_0x2f868d(0xe6)](_0x2f868d(0xff),_0x19078a[_0x2f868d(0xdc)](_0x2f868d(0xe3))),console[_0x2f868d(0xe6)]('Raw\x20body\x20type:',typeof _0x19078a[_0x2f868d(0x110)]),console['log'](_0x2f868d(0x119),Object[_0x2f868d(0xd4)](_0x19078a[_0x2f868d(0x110)]||{})),console[_0x2f868d(0xe6)](_0x2f868d(0x100),_0x19078a[_0x2f868d(0x110)]),loggerService_1[_0x2f868d(0xe2)][_0x2f868d(0xea)](_0x2f868d(0xf0),_0x19078a[_0x2f868d(0x110)],_0x19078a[_0x2f868d(0xee)]);const _0x3cef6a=await this[_0x2f868d(0x113)][_0x2f868d(0xe4)](_0x19078a[_0x2f868d(0x110)]);_0x462e53[_0x2f868d(0xf6)](0xc8)['json']({'success':!![],'message':_0x2f868d(0xeb)});}catch(_0x46e9fb){console[_0x2f868d(0x10b)](_0x2f868d(0xf7),_0x46e9fb),loggerService_1[_0x2f868d(0xe2)]['logWebhookError'](_0x2f868d(0xf0),_0x46e9fb,_0x19078a[_0x2f868d(0x110)]),_0x462e53[_0x2f868d(0xf6)](0xc8)[_0x2f868d(0xda)]({'success':![],'message':_0x46e9fb instanceof Error?_0x46e9fb[_0x2f868d(0xe7)]:_0x2f868d(0x101)});}},this[_0x3beaaf(0xd5)]=async(_0x350ef8,_0x5a77ed,_0x40d508)=>{const _0xa14ad7=_0x3beaaf;try{console[_0xa14ad7(0xe6)]('Received\x20Rapyd\x20webhook:',_0x350ef8[_0xa14ad7(0x110)]),loggerService_1[_0xa14ad7(0xe2)][_0xa14ad7(0xea)](_0xa14ad7(0xfd),_0x350ef8[_0xa14ad7(0x110)],_0x350ef8['headers']);const _0x19337b=await this['webhookService'][_0xa14ad7(0xe5)](_0x350ef8['body']);_0x5a77ed[_0xa14ad7(0xf6)](0xc8)[_0xa14ad7(0xda)]({'success':!![],'message':_0xa14ad7(0x116)});}catch(_0x399e53){console[_0xa14ad7(0x10b)](_0xa14ad7(0x104),_0x399e53),loggerService_1['loggerService'][_0xa14ad7(0xdd)](_0xa14ad7(0xfd),_0x399e53,_0x350ef8[_0xa14ad7(0x110)]),_0x5a77ed[_0xa14ad7(0xf6)](0xc8)[_0xa14ad7(0xda)]({'success':![],'message':_0x399e53 instanceof Error?_0x399e53[_0xa14ad7(0xe7)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x3beaaf(0xf8)]=async(_0x26dc2b,_0x4c9751,_0xa1a136)=>{const _0x2d0134=_0x3beaaf;try{console['log']('Received\x20Noda\x20webhook:',_0x26dc2b[_0x2d0134(0x110)]),loggerService_1['loggerService'][_0x2d0134(0xea)]('noda',_0x26dc2b[_0x2d0134(0x110)],_0x26dc2b[_0x2d0134(0xee)]);const _0x4e1e85=await this[_0x2d0134(0x113)][_0x2d0134(0x10c)](_0x26dc2b[_0x2d0134(0x110)]);_0x4c9751[_0x2d0134(0xf6)](0xc8)[_0x2d0134(0xda)]({'success':!![],'message':_0x2d0134(0xed)});}catch(_0x4d9521){console[_0x2d0134(0x10b)](_0x2d0134(0xd7),_0x4d9521),loggerService_1[_0x2d0134(0xe2)][_0x2d0134(0xdd)](_0x2d0134(0xde),_0x4d9521,_0x26dc2b[_0x2d0134(0x110)]),_0x4c9751[_0x2d0134(0xf6)](0xc8)[_0x2d0134(0xda)]({'success':![],'message':_0x4d9521 instanceof Error?_0x4d9521[_0x2d0134(0xe7)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x3beaaf(0x109)]=async(_0x24462c,_0x271981,_0x4dbff3)=>{const _0x14f8b1=_0x3beaaf;try{console['log'](_0x14f8b1(0xe9),_0x24462c[_0x14f8b1(0x110)]),loggerService_1[_0x14f8b1(0xe2)][_0x14f8b1(0xea)](_0x14f8b1(0xfe),_0x24462c['body'],_0x24462c[_0x14f8b1(0xee)]);const _0x14415e=await this[_0x14f8b1(0x113)][_0x14f8b1(0xe0)](_0x24462c[_0x14f8b1(0x110)]);_0x271981[_0x14f8b1(0xf6)](0xc8)['json']({'success':!![],'message':_0x14f8b1(0xd3)});}catch(_0x3be9ed){console[_0x14f8b1(0x10b)](_0x14f8b1(0x106),_0x3be9ed),loggerService_1[_0x14f8b1(0xe2)][_0x14f8b1(0xdd)](_0x14f8b1(0xfe),_0x3be9ed,_0x24462c[_0x14f8b1(0x110)]),_0x271981[_0x14f8b1(0xf6)](0xc8)[_0x14f8b1(0xda)]({'success':![],'message':_0x3be9ed instanceof Error?_0x3be9ed['message']:_0x14f8b1(0xfb)});}},this[_0x3beaaf(0x10e)]=async(_0x1cf1c2,_0x451150,_0x472b9d)=>{const _0x1bbfe1=_0x3beaaf;try{console[_0x1bbfe1(0xe6)](_0x1bbfe1(0x11a),_0x1cf1c2['body']),loggerService_1[_0x1bbfe1(0xe2)][_0x1bbfe1(0xea)]('klyme',_0x1cf1c2['body'],_0x1cf1c2[_0x1bbfe1(0xee)]);const _0x596db4=await this[_0x1bbfe1(0x113)]['processKlymeWebhook'](_0x1cf1c2[_0x1bbfe1(0x110)]);_0x451150[_0x1bbfe1(0xf6)](0xc8)[_0x1bbfe1(0xda)]({'success':!![],'message':_0x1bbfe1(0x108)});}catch(_0x1836ed){console['error'](_0x1bbfe1(0x114),_0x1836ed),loggerService_1[_0x1bbfe1(0xe2)]['logWebhookError'](_0x1bbfe1(0x103),_0x1836ed,_0x1cf1c2[_0x1bbfe1(0x110)]),_0x451150[_0x1bbfe1(0xf6)](0xc8)[_0x1bbfe1(0xda)]({'success':![],'message':_0x1836ed instanceof Error?_0x1836ed[_0x1bbfe1(0xe7)]:_0x1bbfe1(0x111)});}},this[_0x3beaaf(0x105)]=async(_0x76ec4a,_0x90be51,_0x5badb8)=>{const _0x44bfd9=_0x3beaaf;try{console['log'](_0x44bfd9(0x102),_0x76ec4a[_0x44bfd9(0x110)]),loggerService_1[_0x44bfd9(0xe2)][_0x44bfd9(0xea)](_0x44bfd9(0xec),_0x76ec4a['body'],_0x76ec4a[_0x44bfd9(0xee)]);const _0x27139f=await this['webhookService'][_0x44bfd9(0xd9)](_0x76ec4a[_0x44bfd9(0x110)]);_0x90be51[_0x44bfd9(0xf6)](0xc8)[_0x44bfd9(0xda)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x1371d1){console[_0x44bfd9(0x10b)](_0x44bfd9(0xd6),_0x1371d1),loggerService_1[_0x44bfd9(0xe2)][_0x44bfd9(0xdd)](_0x44bfd9(0xec),_0x1371d1,_0x76ec4a[_0x44bfd9(0x110)]),_0x90be51[_0x44bfd9(0xf6)](0xc8)[_0x44bfd9(0xda)]({'success':![],'message':_0x1371d1 instanceof Error?_0x1371d1['message']:_0x44bfd9(0xd2)});}},this[_0x3beaaf(0x113)]=new webhookService_1[(_0x3beaaf(0x107))]();}}exports[a15_0x11518d(0xf3)]=WebhookController;