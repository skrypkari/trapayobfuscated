'use strict';const a15_0x1dac0b=a15_0x2875;function a15_0x2875(_0x55fb92,_0x541b08){const _0x1ebc82=a15_0x1ebc();return a15_0x2875=function(_0x287521,_0x199901){_0x287521=_0x287521-0x88;let _0x1e6929=_0x1ebc82[_0x287521];return _0x1e6929;},a15_0x2875(_0x55fb92,_0x541b08);}(function(_0x5f6ce2,_0x592e79){const _0x1e7dd3=a15_0x2875,_0x4ec7e6=_0x5f6ce2();while(!![]){try{const _0x23fc0f=parseInt(_0x1e7dd3(0x8b))/0x1+parseInt(_0x1e7dd3(0x95))/0x2+-parseInt(_0x1e7dd3(0x9a))/0x3*(parseInt(_0x1e7dd3(0x99))/0x4)+parseInt(_0x1e7dd3(0xcd))/0x5*(-parseInt(_0x1e7dd3(0xcc))/0x6)+parseInt(_0x1e7dd3(0xaa))/0x7+-parseInt(_0x1e7dd3(0xde))/0x8*(parseInt(_0x1e7dd3(0x94))/0x9)+parseInt(_0x1e7dd3(0xdb))/0xa*(parseInt(_0x1e7dd3(0xd0))/0xb);if(_0x23fc0f===_0x592e79)break;else _0x4ec7e6['push'](_0x4ec7e6['shift']());}catch(_0x2f666e){_0x4ec7e6['push'](_0x4ec7e6['shift']());}}}(a15_0x1ebc,0xc3e4b));Object[a15_0x1dac0b(0xba)](exports,a15_0x1dac0b(0x8a),{'value':!![]}),exports[a15_0x1dac0b(0xa6)]=void 0x0;const webhookService_1=require(a15_0x1dac0b(0xe5)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x260ea3=a15_0x1dac0b;this[_0x260ea3(0xa2)]=async(_0x5a1b98,_0x5a08f4,_0x52f351)=>{const _0xc0357b=_0x260ea3;try{console[_0xc0357b(0xc1)](_0xc0357b(0xab)),console[_0xc0357b(0xc1)](_0xc0357b(0x9c),_0x5a1b98[_0xc0357b(0xbd)]('Content-Type')),console['log']('Raw\x20body\x20type:',typeof _0x5a1b98['body']),console['log'](_0xc0357b(0xe7),Object[_0xc0357b(0xac)](_0x5a1b98[_0xc0357b(0x92)]||{})),console['log'](_0xc0357b(0xda),_0x5a1b98[_0xc0357b(0x92)]),loggerService_1[_0xc0357b(0xe6)][_0xc0357b(0x8d)](_0xc0357b(0x9e),_0x5a1b98[_0xc0357b(0x92)],_0x5a1b98['headers']);const _0x11a53d=await this[_0xc0357b(0xbf)][_0xc0357b(0xe2)](_0x5a1b98[_0xc0357b(0x92)]);_0x5a08f4['status'](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x37233a){console[_0xc0357b(0xca)]('Webhook\x20processing\x20error:',_0x37233a),loggerService_1[_0xc0357b(0xe6)][_0xc0357b(0x9d)](_0xc0357b(0x9e),_0x37233a,_0x5a1b98[_0xc0357b(0x92)]),_0x5a08f4[_0xc0357b(0xe0)](0xc8)['json']({'success':![],'message':_0x37233a instanceof Error?_0x37233a[_0xc0357b(0xb4)]:_0xc0357b(0xc5)});}},this[_0x260ea3(0xb3)]=async(_0x301777,_0x1500e5,_0x354601)=>{const _0x4de6c3=_0x260ea3;try{console['log'](_0x4de6c3(0x98)),console[_0x4de6c3(0xc1)](_0x4de6c3(0x9c),_0x301777['get'](_0x4de6c3(0xd8))),console['log']('Raw\x20body\x20type:',typeof _0x301777[_0x4de6c3(0x92)]),console[_0x4de6c3(0xc1)](_0x4de6c3(0xe7),Object[_0x4de6c3(0xac)](_0x301777[_0x4de6c3(0x92)]||{})),console[_0x4de6c3(0xc1)](_0x4de6c3(0xda),_0x301777[_0x4de6c3(0x92)]),loggerService_1[_0x4de6c3(0xe6)][_0x4de6c3(0x8d)](_0x4de6c3(0x9b),_0x301777[_0x4de6c3(0x92)],_0x301777[_0x4de6c3(0xa8)]);const _0x175451=await this['webhookService'][_0x4de6c3(0xe1)](_0x301777[_0x4de6c3(0x92)]);_0x1500e5[_0x4de6c3(0xe0)](0xc8)[_0x4de6c3(0x90)]({'success':!![],'message':_0x4de6c3(0x93)});}catch(_0x9f58e6){console['error'](_0x4de6c3(0xc0),_0x9f58e6),loggerService_1[_0x4de6c3(0xe6)][_0x4de6c3(0x9d)](_0x4de6c3(0x9b),_0x9f58e6,_0x301777[_0x4de6c3(0x92)]),_0x1500e5[_0x4de6c3(0xe0)](0xc8)['json']({'success':![],'message':_0x9f58e6 instanceof Error?_0x9f58e6['message']:_0x4de6c3(0x8e)});}},this['handleRapydWebhook']=async(_0x23d36b,_0x4ea619,_0x4a3fa5)=>{const _0x464a16=_0x260ea3;try{console[_0x464a16(0xc1)](_0x464a16(0x9f),_0x23d36b[_0x464a16(0x92)]),loggerService_1[_0x464a16(0xe6)][_0x464a16(0x8d)]('rapyd',_0x23d36b[_0x464a16(0x92)],_0x23d36b[_0x464a16(0xa8)]);const _0x9a580f=await this[_0x464a16(0xbf)][_0x464a16(0xd1)](_0x23d36b[_0x464a16(0x92)]);_0x4ea619[_0x464a16(0xe0)](0xc8)[_0x464a16(0x90)]({'success':!![],'message':_0x464a16(0x89)});}catch(_0x219c54){console[_0x464a16(0xca)]('Rapyd\x20webhook\x20processing\x20error:',_0x219c54),loggerService_1[_0x464a16(0xe6)][_0x464a16(0x9d)](_0x464a16(0xb0),_0x219c54,_0x23d36b['body']),_0x4ea619[_0x464a16(0xe0)](0xc8)[_0x464a16(0x90)]({'success':![],'message':_0x219c54 instanceof Error?_0x219c54[_0x464a16(0xb4)]:_0x464a16(0xc4)});}},this[_0x260ea3(0xa7)]=async(_0x55a06c,_0x2a874f,_0x503534)=>{const _0x98f886=_0x260ea3;try{console[_0x98f886(0xc1)](_0x98f886(0xc2),_0x55a06c[_0x98f886(0x92)]),loggerService_1[_0x98f886(0xe6)]['logWebhookReceived']('noda',_0x55a06c[_0x98f886(0x92)],_0x55a06c[_0x98f886(0xa8)]);const _0x3236ad=await this['webhookService'][_0x98f886(0xdc)](_0x55a06c[_0x98f886(0x92)]);_0x2a874f['status'](0xc8)[_0x98f886(0x90)]({'success':!![],'message':_0x98f886(0xc9)});}catch(_0x280902){console[_0x98f886(0xca)]('Noda\x20webhook\x20processing\x20error:',_0x280902),loggerService_1[_0x98f886(0xe6)]['logWebhookError'](_0x98f886(0xae),_0x280902,_0x55a06c[_0x98f886(0x92)]),_0x2a874f[_0x98f886(0xe0)](0xc8)[_0x98f886(0x90)]({'success':![],'message':_0x280902 instanceof Error?_0x280902['message']:_0x98f886(0xa3)});}},this[_0x260ea3(0xd6)]=async(_0x184bd6,_0x14a3f6,_0x17c19e)=>{const _0x109e42=_0x260ea3;try{console['log'](_0x109e42(0xbb),_0x184bd6[_0x109e42(0x92)]),loggerService_1[_0x109e42(0xe6)][_0x109e42(0x8d)](_0x109e42(0x96),_0x184bd6['body'],_0x184bd6['headers']);const _0x4ecd20=await this[_0x109e42(0xbf)][_0x109e42(0xb9)](_0x184bd6['body']);_0x14a3f6['status'](0xc8)[_0x109e42(0x90)]({'success':!![],'message':_0x109e42(0xa0)});}catch(_0x55d38f){console['error'](_0x109e42(0x88),_0x55d38f),loggerService_1[_0x109e42(0xe6)][_0x109e42(0x9d)](_0x109e42(0x96),_0x55d38f,_0x184bd6[_0x109e42(0x92)]),_0x14a3f6[_0x109e42(0xe0)](0xc8)[_0x109e42(0x90)]({'success':![],'message':_0x55d38f instanceof Error?_0x55d38f[_0x109e42(0xb4)]:_0x109e42(0xd5)});}},this[_0x260ea3(0xdf)]=async(_0x14057b,_0x5a6127,_0x13fa2d)=>{const _0x48af09=_0x260ea3;try{console[_0x48af09(0xc1)]('Received\x20CoinToPay2\x20webhook:',_0x14057b[_0x48af09(0x92)]),loggerService_1[_0x48af09(0xe6)][_0x48af09(0x8d)](_0x48af09(0xb2),_0x14057b[_0x48af09(0x92)],_0x14057b['headers']);const _0x3f181d=await this['webhookService']['processCoinToPay2Webhook'](_0x14057b['body']);_0x5a6127[_0x48af09(0xe0)](0xc8)[_0x48af09(0x90)]({'success':!![],'message':_0x48af09(0xbc)});}catch(_0xd5fa89){console[_0x48af09(0xca)](_0x48af09(0xe3),_0xd5fa89),loggerService_1['loggerService'][_0x48af09(0x9d)](_0x48af09(0xb2),_0xd5fa89,_0x14057b['body']),_0x5a6127['status'](0xc8)[_0x48af09(0x90)]({'success':![],'message':_0xd5fa89 instanceof Error?_0xd5fa89[_0x48af09(0xb4)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x260ea3(0xb1)]=async(_0x53b058,_0x81a6e9,_0x521fa9)=>{const _0x292ba9=_0x260ea3;try{console[_0x292ba9(0xc1)](_0x292ba9(0xce),_0x53b058[_0x292ba9(0x92)]),loggerService_1['loggerService'][_0x292ba9(0x8d)](_0x292ba9(0xd2),_0x53b058[_0x292ba9(0x92)],_0x53b058[_0x292ba9(0xa8)]);const _0x5f2bc8=await this[_0x292ba9(0xbf)][_0x292ba9(0xd4)](_0x53b058['body']);_0x81a6e9['status'](0xc8)['json']({'success':!![],'message':_0x292ba9(0xc6)});}catch(_0x4f413b){console['error'](_0x292ba9(0xe9),_0x4f413b),loggerService_1[_0x292ba9(0xe6)]['logWebhookError'](_0x292ba9(0xd2),_0x4f413b,_0x53b058['body']),_0x81a6e9[_0x292ba9(0xe0)](0xc8)[_0x292ba9(0x90)]({'success':![],'message':_0x4f413b instanceof Error?_0x4f413b[_0x292ba9(0xb4)]:_0x292ba9(0xe8)});}},this[_0x260ea3(0xb6)]=async(_0xcbda60,_0x19df9a,_0x4db556)=>{const _0x8d3045=_0x260ea3;try{console[_0x8d3045(0xc1)](_0x8d3045(0x8c),_0xcbda60['body']),loggerService_1[_0x8d3045(0xe6)]['logWebhookReceived'](_0x8d3045(0xa5),_0xcbda60[_0x8d3045(0x92)],_0xcbda60[_0x8d3045(0xa8)]);const _0x8dc0af=await this[_0x8d3045(0xbf)]['processVisaWebhook'](_0xcbda60[_0x8d3045(0x92)]);_0x19df9a['status'](0xc8)[_0x8d3045(0x90)]({'success':!![],'message':_0x8d3045(0x8f)});}catch(_0x53d6bc){console[_0x8d3045(0xca)](_0x8d3045(0xa1),_0x53d6bc),loggerService_1['loggerService'][_0x8d3045(0x9d)](_0x8d3045(0xa5),_0x53d6bc,_0xcbda60[_0x8d3045(0x92)]),_0x19df9a[_0x8d3045(0xe0)](0xc8)[_0x8d3045(0x90)]({'success':![],'message':_0x53d6bc instanceof Error?_0x53d6bc['message']:_0x8d3045(0xe4)});}},this[_0x260ea3(0x97)]=async(_0x5a3522,_0xd366e4,_0x3af256)=>{const _0x283ecd=_0x260ea3;try{console[_0x283ecd(0xc1)]('Received\x20MasterCard\x20webhook:',_0x5a3522['body']),loggerService_1[_0x283ecd(0xe6)][_0x283ecd(0x8d)](_0x283ecd(0xd3),_0x5a3522[_0x283ecd(0x92)],_0x5a3522[_0x283ecd(0xa8)]);const _0x57b8cf=await this[_0x283ecd(0xbf)][_0x283ecd(0x91)](_0x5a3522[_0x283ecd(0x92)]);_0xd366e4[_0x283ecd(0xe0)](0xc8)[_0x283ecd(0x90)]({'success':!![],'message':_0x283ecd(0xc8)});}catch(_0x23bfae){console[_0x283ecd(0xca)](_0x283ecd(0xb8),_0x23bfae),loggerService_1[_0x283ecd(0xe6)][_0x283ecd(0x9d)](_0x283ecd(0xd3),_0x23bfae,_0x5a3522[_0x283ecd(0x92)]),_0xd366e4[_0x283ecd(0xe0)](0xc8)[_0x283ecd(0x90)]({'success':![],'message':_0x23bfae instanceof Error?_0x23bfae[_0x283ecd(0xb4)]:_0x283ecd(0xa9)});}},this[_0x260ea3(0xbe)]=async(_0x30e413,_0x1a5d1e,_0x2396e3)=>{const _0x50c7d0=_0x260ea3;try{console[_0x50c7d0(0xc1)](_0x50c7d0(0xc7),_0x30e413[_0x50c7d0(0x92)]),loggerService_1[_0x50c7d0(0xe6)][_0x50c7d0(0x8d)]('amer',_0x30e413[_0x50c7d0(0x92)],_0x30e413[_0x50c7d0(0xa8)]);const _0x25ae28=await this['webhookService']['processAmerWebhook'](_0x30e413['body']);_0x1a5d1e[_0x50c7d0(0xe0)](0xc8)[_0x50c7d0(0x90)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x23365d){console[_0x50c7d0(0xca)](_0x50c7d0(0xdd),_0x23365d),loggerService_1[_0x50c7d0(0xe6)]['logWebhookError'](_0x50c7d0(0xd7),_0x23365d,_0x30e413[_0x50c7d0(0x92)]),_0x1a5d1e[_0x50c7d0(0xe0)](0xc8)[_0x50c7d0(0x90)]({'success':![],'message':_0x23365d instanceof Error?_0x23365d['message']:_0x50c7d0(0xd9)});}},this[_0x260ea3(0xea)]=async(_0x1010c7,_0xb67724,_0x5ccea7)=>{const _0x1575bf=_0x260ea3;try{console[_0x1575bf(0xc1)](_0x1575bf(0xb7)),console[_0x1575bf(0xc1)](_0x1575bf(0xb5),_0x1010c7[_0x1575bf(0xa8)]),console[_0x1575bf(0xc1)](_0x1575bf(0xc3),_0x1010c7[_0x1575bf(0x92)]),console[_0x1575bf(0xc1)]('Body\x20type:',typeof _0x1010c7[_0x1575bf(0x92)]),console['log'](_0x1575bf(0xe7),Object[_0x1575bf(0xac)](_0x1010c7[_0x1575bf(0x92)]||{})),loggerService_1[_0x1575bf(0xe6)][_0x1575bf(0x8d)](_0x1575bf(0xa4),_0x1010c7['body'],_0x1010c7['headers']);const _0x3f0852=await this['webhookService']['processAmPayWebhook'](_0x1010c7[_0x1575bf(0x92)]);_0xb67724[_0x1575bf(0xe0)](0xc8)[_0x1575bf(0x90)]({'success':!![],'message':_0x1575bf(0xcf)});}catch(_0x492680){console[_0x1575bf(0xca)](_0x1575bf(0xad),_0x492680),loggerService_1[_0x1575bf(0xe6)][_0x1575bf(0x9d)](_0x1575bf(0xa4),_0x492680,_0x1010c7['body']),_0xb67724[_0x1575bf(0xe0)](0xc8)[_0x1575bf(0x90)]({'success':![],'message':_0x492680 instanceof Error?_0x492680[_0x1575bf(0xb4)]:_0x1575bf(0xaf)});}},this[_0x260ea3(0xbf)]=new webhookService_1[(_0x260ea3(0xcb))]();}}exports['WebhookController']=WebhookController;function a15_0x1ebc(){const _0x4132d2=['processKlymeWebhook','CoinToPay\x20webhook\x20processing\x20failed','handleCoinToPayWebhook','amer','Content-Type','Amer\x20webhook\x20processing\x20failed','Body\x20content:','110kiJddE','processNodaWebhook','Amer\x20webhook\x20processing\x20error:','176jaCDIh','handleCoinToPay2Webhook','status','processPlisioGatewayWebhook','processPlisioWebhook','CoinToPay2\x20webhook\x20processing\x20error:','VISA\x20webhook\x20processing\x20failed','../services/webhookService','loggerService','Body\x20keys:','KLYME\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20error:','handleAmPayWebhook','CoinToPay\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processed\x20successfully','__esModule','504050UyMaZA','Received\x20VISA\x20webhook:','logWebhookReceived','Gateway\x20webhook\x20processing\x20failed','VISA\x20webhook\x20processed\x20successfully','json','processMasterCardWebhook','body','Gateway\x20webhook\x20processed\x20successfully','213354jHpTpg','38546nTcGjU','cointopay','handleMasterCardWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','852qrfMlN','12354gTTsbd','plisio_gateway','Content-Type:','logWebhookError','plisio','Received\x20Rapyd\x20webhook:','CoinToPay\x20webhook\x20processed\x20successfully','VISA\x20webhook\x20processing\x20error:','handlePlisioWebhook','Noda\x20webhook\x20processing\x20failed','ampay','visa','WebhookController','handleNodaWebhook','headers','MasterCard\x20webhook\x20processing\x20failed','11063619VscGhL','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','keys','AmPay\x20webhook\x20processing\x20error:','noda','AmPay\x20webhook\x20processing\x20failed','rapyd','handleKlymeWebhook','cointopay2','handlePlisioGatewayWebhook','message','Headers:','handleVisaWebhook','===\x20AmPay\x20Webhook\x20Received\x20===','MasterCard\x20webhook\x20processing\x20error:','processCoinToPayWebhook','defineProperty','Received\x20CoinToPay\x20webhook:','CoinToPay2\x20webhook\x20processed\x20successfully','get','handleAmerWebhook','webhookService','Gateway\x20webhook\x20processing\x20error:','log','Received\x20Noda\x20webhook:','Body:','Rapyd\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','KLYME\x20webhook\x20processed\x20successfully','Received\x20Amer\x20webhook:','MasterCard\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','error','WebhookService','102NQNhGk','424345fYZIlB','Received\x20KLYME\x20webhook:','AmPay\x20webhook\x20processed\x20successfully','1539978IukaFG','processRapydWebhook','klyme','mastercard'];a15_0x1ebc=function(){return _0x4132d2;};return a15_0x1ebc();}