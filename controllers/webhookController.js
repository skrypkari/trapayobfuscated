'use strict';const a15_0x2eb27f=a15_0x126b;(function(_0x5e77e4,_0x1dea6e){const _0x35ef9f=a15_0x126b,_0x31cb67=_0x5e77e4();while(!![]){try{const _0x512801=-parseInt(_0x35ef9f(0xce))/0x1*(-parseInt(_0x35ef9f(0xb8))/0x2)+-parseInt(_0x35ef9f(0xde))/0x3+-parseInt(_0x35ef9f(0xfd))/0x4+parseInt(_0x35ef9f(0x10a))/0x5*(-parseInt(_0x35ef9f(0xcf))/0x6)+parseInt(_0x35ef9f(0xba))/0x7*(parseInt(_0x35ef9f(0xdc))/0x8)+parseInt(_0x35ef9f(0x109))/0x9*(parseInt(_0x35ef9f(0xe8))/0xa)+parseInt(_0x35ef9f(0x104))/0xb*(parseInt(_0x35ef9f(0xb3))/0xc);if(_0x512801===_0x1dea6e)break;else _0x31cb67['push'](_0x31cb67['shift']());}catch(_0x5700d9){_0x31cb67['push'](_0x31cb67['shift']());}}}(a15_0x166a,0x1fe06));Object['defineProperty'](exports,a15_0x2eb27f(0xd8),{'value':!![]}),exports['WebhookController']=void 0x0;function a15_0x126b(_0x417cb0,_0x34ac63){const _0x166aac=a15_0x166a();return a15_0x126b=function(_0x126bd4,_0x501c01){_0x126bd4=_0x126bd4-0xb1;let _0x559c94=_0x166aac[_0x126bd4];return _0x559c94;},a15_0x126b(_0x417cb0,_0x34ac63);}function a15_0x166a(){const _0x3cbff7=['WebhookController','Raw\x20body\x20type:','handleRapydWebhook','logWebhookError','Body:','Received\x20Noda\x20webhook:','Content-Type:','AmPay\x20webhook\x20processed\x20successfully','rapyd','203230bpOckB','WebhookService','get','plisio_gateway','CoinToPay2\x20webhook\x20processed\x20successfully','Received\x20CoinToPay2\x20webhook:','Body\x20content:','Received\x20CoinToPay\x20webhook:','Webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processed\x20successfully','loggerService','log','cointopay2','headers','handlePlisioWebhook','processVisaWebhook','Headers:','ampay','VISA\x20webhook\x20processing\x20error:','message','797324zytStg','processRapydWebhook','status','visa','json','handleCoinToPayWebhook','webhookService','1276dBoHVM','Amer\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','18poykMC','939650nClrwc','processAmPayWebhook','amer','Noda\x20webhook\x20processing\x20error:','Received\x20Rapyd\x20webhook:','klyme','Gateway\x20webhook\x20processing\x20error:','28932ZkJSTD','body','keys','VISA\x20webhook\x20processed\x20successfully','error','58SjOgYh','handleVisaWebhook','7Hmjwvu','noda','MasterCard\x20webhook\x20processing\x20error:','cointopay','logWebhookReceived','VISA\x20webhook\x20processing\x20failed','AmPay\x20webhook\x20processing\x20failed','plisio','KLYME\x20webhook\x20processing\x20error:','processCoinToPay2Webhook','Noda\x20webhook\x20processed\x20successfully','Body\x20keys:','Rapyd\x20webhook\x20processing\x20error:','CoinToPay2\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20failed','handleAmPayWebhook','Amer\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20error:','AmPay\x20webhook\x20processing\x20error:','processAmerWebhook','5748OrIvNX','6dYAgOy','processPlisioWebhook','Received\x20KLYME\x20webhook:','Content-Type','processCoinToPayWebhook','Received\x20Amer\x20webhook:','Amer\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Received\x20MasterCard\x20webhook:','__esModule','processKlymeWebhook','Body\x20type:','Received\x20VISA\x20webhook:','1390936DQBvOJ','Rapyd\x20webhook\x20processing\x20failed','429162SJxzuN'];a15_0x166a=function(){return _0x3cbff7;};return a15_0x166a();}const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x38619d=a15_0x2eb27f;this[_0x38619d(0xf7)]=async(_0x491fb3,_0x51b94d,_0x401818)=>{const _0x445d9f=_0x38619d;try{console['log'](_0x445d9f(0xd6)),console[_0x445d9f(0xf4)]('Content-Type:',_0x491fb3[_0x445d9f(0xea)](_0x445d9f(0xd2))),console[_0x445d9f(0xf4)](_0x445d9f(0xe0),typeof _0x491fb3[_0x445d9f(0xb4)]),console[_0x445d9f(0xf4)](_0x445d9f(0xc5),Object['keys'](_0x491fb3['body']||{})),console[_0x445d9f(0xf4)](_0x445d9f(0xee),_0x491fb3[_0x445d9f(0xb4)]),loggerService_1[_0x445d9f(0xf3)][_0x445d9f(0xbe)]('plisio',_0x491fb3[_0x445d9f(0xb4)],_0x491fb3['headers']);const _0x679457=await this[_0x445d9f(0x103)][_0x445d9f(0xd0)](_0x491fb3[_0x445d9f(0xb4)]);_0x51b94d[_0x445d9f(0xff)](0xc8)[_0x445d9f(0x101)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x57952e){console[_0x445d9f(0xb7)]('Webhook\x20processing\x20error:',_0x57952e),loggerService_1['loggerService'][_0x445d9f(0xe2)](_0x445d9f(0xc1),_0x57952e,_0x491fb3[_0x445d9f(0xb4)]),_0x51b94d[_0x445d9f(0xff)](0xc8)['json']({'success':![],'message':_0x57952e instanceof Error?_0x57952e[_0x445d9f(0xfc)]:_0x445d9f(0xf0)});}},this['handlePlisioGatewayWebhook']=async(_0xbe1322,_0x24593c,_0x3ca487)=>{const _0x2c106d=_0x38619d;try{console[_0x2c106d(0xf4)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x2c106d(0xf4)](_0x2c106d(0xe5),_0xbe1322['get'](_0x2c106d(0xd2))),console[_0x2c106d(0xf4)](_0x2c106d(0xe0),typeof _0xbe1322['body']),console['log']('Body\x20keys:',Object['keys'](_0xbe1322[_0x2c106d(0xb4)]||{})),console[_0x2c106d(0xf4)]('Body\x20content:',_0xbe1322['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x2c106d(0xeb),_0xbe1322['body'],_0xbe1322[_0x2c106d(0xf6)]);const _0xd37db6=await this['webhookService'][_0x2c106d(0x108)](_0xbe1322['body']);_0x24593c[_0x2c106d(0xff)](0xc8)[_0x2c106d(0x101)]({'success':!![],'message':_0x2c106d(0xf2)});}catch(_0x3bca68){console['error'](_0x2c106d(0xb2),_0x3bca68),loggerService_1[_0x2c106d(0xf3)][_0x2c106d(0xe2)](_0x2c106d(0xeb),_0x3bca68,_0xbe1322[_0x2c106d(0xb4)]),_0x24593c['status'](0xc8)['json']({'success':![],'message':_0x3bca68 instanceof Error?_0x3bca68[_0x2c106d(0xfc)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x38619d(0xe1)]=async(_0x36aef8,_0x98ff2e,_0x2e594d)=>{const _0x2af9a1=_0x38619d;try{console['log'](_0x2af9a1(0x10e),_0x36aef8[_0x2af9a1(0xb4)]),loggerService_1['loggerService'][_0x2af9a1(0xbe)](_0x2af9a1(0xe7),_0x36aef8['body'],_0x36aef8[_0x2af9a1(0xf6)]);const _0x58bb0d=await this[_0x2af9a1(0x103)][_0x2af9a1(0xfe)](_0x36aef8[_0x2af9a1(0xb4)]);_0x98ff2e[_0x2af9a1(0xff)](0xc8)[_0x2af9a1(0x101)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x378909){console[_0x2af9a1(0xb7)](_0x2af9a1(0xc6),_0x378909),loggerService_1[_0x2af9a1(0xf3)][_0x2af9a1(0xe2)](_0x2af9a1(0xe7),_0x378909,_0x36aef8[_0x2af9a1(0xb4)]),_0x98ff2e[_0x2af9a1(0xff)](0xc8)[_0x2af9a1(0x101)]({'success':![],'message':_0x378909 instanceof Error?_0x378909[_0x2af9a1(0xfc)]:_0x2af9a1(0xdd)});}},this['handleNodaWebhook']=async(_0x59cdde,_0x3deb30,_0x48ed97)=>{const _0x42e664=_0x38619d;try{console['log'](_0x42e664(0xe4),_0x59cdde[_0x42e664(0xb4)]),loggerService_1[_0x42e664(0xf3)][_0x42e664(0xbe)](_0x42e664(0xbb),_0x59cdde['body'],_0x59cdde['headers']);const _0x7a3abc=await this[_0x42e664(0x103)]['processNodaWebhook'](_0x59cdde[_0x42e664(0xb4)]);_0x3deb30['status'](0xc8)[_0x42e664(0x101)]({'success':!![],'message':_0x42e664(0xc4)});}catch(_0x1e0347){console[_0x42e664(0xb7)](_0x42e664(0x10d),_0x1e0347),loggerService_1[_0x42e664(0xf3)][_0x42e664(0xe2)](_0x42e664(0xbb),_0x1e0347,_0x59cdde[_0x42e664(0xb4)]),_0x3deb30[_0x42e664(0xff)](0xc8)['json']({'success':![],'message':_0x1e0347 instanceof Error?_0x1e0347[_0x42e664(0xfc)]:_0x42e664(0x107)});}},this[_0x38619d(0x102)]=async(_0x5e2b83,_0x531a81,_0x20a28f)=>{const _0x3236f1=_0x38619d;try{console[_0x3236f1(0xf4)](_0x3236f1(0xef),_0x5e2b83['body']),loggerService_1['loggerService'][_0x3236f1(0xbe)](_0x3236f1(0xbd),_0x5e2b83[_0x3236f1(0xb4)],_0x5e2b83[_0x3236f1(0xf6)]);const _0x89b4fa=await this[_0x3236f1(0x103)][_0x3236f1(0xd3)](_0x5e2b83['body']);_0x531a81[_0x3236f1(0xff)](0xc8)[_0x3236f1(0x101)]({'success':!![],'message':_0x3236f1(0xf1)});}catch(_0x4e9a43){console[_0x3236f1(0xb7)](_0x3236f1(0xcb),_0x4e9a43),loggerService_1[_0x3236f1(0xf3)]['logWebhookError'](_0x3236f1(0xbd),_0x4e9a43,_0x5e2b83[_0x3236f1(0xb4)]),_0x531a81[_0x3236f1(0xff)](0xc8)[_0x3236f1(0x101)]({'success':![],'message':_0x4e9a43 instanceof Error?_0x4e9a43['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this['handleCoinToPay2Webhook']=async(_0x502c18,_0x2482d9,_0x44c332)=>{const _0x3d4d79=_0x38619d;try{console[_0x3d4d79(0xf4)](_0x3d4d79(0xed),_0x502c18[_0x3d4d79(0xb4)]),loggerService_1['loggerService'][_0x3d4d79(0xbe)](_0x3d4d79(0xf5),_0x502c18[_0x3d4d79(0xb4)],_0x502c18['headers']);const _0x34ddc1=await this[_0x3d4d79(0x103)][_0x3d4d79(0xc3)](_0x502c18[_0x3d4d79(0xb4)]);_0x2482d9[_0x3d4d79(0xff)](0xc8)[_0x3d4d79(0x101)]({'success':!![],'message':_0x3d4d79(0xec)});}catch(_0x589aac){console[_0x3d4d79(0xb7)](_0x3d4d79(0xc7),_0x589aac),loggerService_1['loggerService'][_0x3d4d79(0xe2)](_0x3d4d79(0xf5),_0x589aac,_0x502c18[_0x3d4d79(0xb4)]),_0x2482d9[_0x3d4d79(0xff)](0xc8)[_0x3d4d79(0x101)]({'success':![],'message':_0x589aac instanceof Error?_0x589aac[_0x3d4d79(0xfc)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x4bc1ae,_0x4d8063,_0x22cdf5)=>{const _0xe703d8=_0x38619d;try{console['log'](_0xe703d8(0xd1),_0x4bc1ae[_0xe703d8(0xb4)]),loggerService_1[_0xe703d8(0xf3)]['logWebhookReceived']('klyme',_0x4bc1ae[_0xe703d8(0xb4)],_0x4bc1ae['headers']);const _0x290390=await this[_0xe703d8(0x103)][_0xe703d8(0xd9)](_0x4bc1ae['body']);_0x4d8063['status'](0xc8)[_0xe703d8(0x101)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x3671a7){console[_0xe703d8(0xb7)](_0xe703d8(0xc2),_0x3671a7),loggerService_1[_0xe703d8(0xf3)]['logWebhookError'](_0xe703d8(0xb1),_0x3671a7,_0x4bc1ae[_0xe703d8(0xb4)]),_0x4d8063[_0xe703d8(0xff)](0xc8)['json']({'success':![],'message':_0x3671a7 instanceof Error?_0x3671a7[_0xe703d8(0xfc)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x38619d(0xb9)]=async(_0x3bf203,_0x303a1f,_0x3dec7a)=>{const _0x1c4590=_0x38619d;try{console['log'](_0x1c4590(0xdb),_0x3bf203[_0x1c4590(0xb4)]),loggerService_1['loggerService'][_0x1c4590(0xbe)]('visa',_0x3bf203[_0x1c4590(0xb4)],_0x3bf203['headers']);const _0x975425=await this['webhookService'][_0x1c4590(0xf8)](_0x3bf203[_0x1c4590(0xb4)]);_0x303a1f[_0x1c4590(0xff)](0xc8)[_0x1c4590(0x101)]({'success':!![],'message':_0x1c4590(0xb6)});}catch(_0x791091){console[_0x1c4590(0xb7)](_0x1c4590(0xfb),_0x791091),loggerService_1['loggerService'][_0x1c4590(0xe2)](_0x1c4590(0x100),_0x791091,_0x3bf203[_0x1c4590(0xb4)]),_0x303a1f[_0x1c4590(0xff)](0xc8)[_0x1c4590(0x101)]({'success':![],'message':_0x791091 instanceof Error?_0x791091['message']:_0x1c4590(0xbf)});}},this['handleMasterCardWebhook']=async(_0xbc90cf,_0x120247,_0x1578a5)=>{const _0xe5568e=_0x38619d;try{console[_0xe5568e(0xf4)](_0xe5568e(0xd7),_0xbc90cf[_0xe5568e(0xb4)]),loggerService_1['loggerService'][_0xe5568e(0xbe)]('mastercard',_0xbc90cf[_0xe5568e(0xb4)],_0xbc90cf[_0xe5568e(0xf6)]);const _0x4eae5e=await this[_0xe5568e(0x103)]['processMasterCardWebhook'](_0xbc90cf[_0xe5568e(0xb4)]);_0x120247[_0xe5568e(0xff)](0xc8)[_0xe5568e(0x101)]({'success':!![],'message':_0xe5568e(0x106)});}catch(_0x3e7ce7){console[_0xe5568e(0xb7)](_0xe5568e(0xbc),_0x3e7ce7),loggerService_1['loggerService']['logWebhookError']('mastercard',_0x3e7ce7,_0xbc90cf['body']),_0x120247[_0xe5568e(0xff)](0xc8)[_0xe5568e(0x101)]({'success':![],'message':_0x3e7ce7 instanceof Error?_0x3e7ce7['message']:_0xe5568e(0xc8)});}},this['handleAmerWebhook']=async(_0x6d6045,_0x4d3303,_0x5f5bfa)=>{const _0x46f060=_0x38619d;try{console['log'](_0x46f060(0xd4),_0x6d6045['body']),loggerService_1[_0x46f060(0xf3)]['logWebhookReceived'](_0x46f060(0x10c),_0x6d6045[_0x46f060(0xb4)],_0x6d6045[_0x46f060(0xf6)]);const _0x139639=await this['webhookService'][_0x46f060(0xcd)](_0x6d6045[_0x46f060(0xb4)]);_0x4d3303[_0x46f060(0xff)](0xc8)[_0x46f060(0x101)]({'success':!![],'message':_0x46f060(0xd5)});}catch(_0x3dd885){console[_0x46f060(0xb7)](_0x46f060(0x105),_0x3dd885),loggerService_1[_0x46f060(0xf3)]['logWebhookError'](_0x46f060(0x10c),_0x3dd885,_0x6d6045[_0x46f060(0xb4)]),_0x4d3303['status'](0xc8)[_0x46f060(0x101)]({'success':![],'message':_0x3dd885 instanceof Error?_0x3dd885[_0x46f060(0xfc)]:_0x46f060(0xca)});}},this[_0x38619d(0xc9)]=async(_0x104404,_0x2a1582,_0x504c65)=>{const _0x40b2c2=_0x38619d;try{console[_0x40b2c2(0xf4)]('===\x20AmPay\x20Webhook\x20Received\x20==='),console[_0x40b2c2(0xf4)](_0x40b2c2(0xf9),_0x104404[_0x40b2c2(0xf6)]),console[_0x40b2c2(0xf4)](_0x40b2c2(0xe3),_0x104404['body']),console[_0x40b2c2(0xf4)](_0x40b2c2(0xda),typeof _0x104404['body']),console[_0x40b2c2(0xf4)]('Body\x20keys:',Object[_0x40b2c2(0xb5)](_0x104404[_0x40b2c2(0xb4)]||{})),loggerService_1[_0x40b2c2(0xf3)][_0x40b2c2(0xbe)]('ampay',_0x104404['body'],_0x104404[_0x40b2c2(0xf6)]);const _0x1a65f9=await this['webhookService'][_0x40b2c2(0x10b)](_0x104404[_0x40b2c2(0xb4)]);_0x2a1582[_0x40b2c2(0xff)](0xc8)['json']({'success':!![],'message':_0x40b2c2(0xe6)});}catch(_0x41fcdf){console[_0x40b2c2(0xb7)](_0x40b2c2(0xcc),_0x41fcdf),loggerService_1[_0x40b2c2(0xf3)][_0x40b2c2(0xe2)](_0x40b2c2(0xfa),_0x41fcdf,_0x104404[_0x40b2c2(0xb4)]),_0x2a1582[_0x40b2c2(0xff)](0xc8)[_0x40b2c2(0x101)]({'success':![],'message':_0x41fcdf instanceof Error?_0x41fcdf['message']:_0x40b2c2(0xc0)});}},this[_0x38619d(0x103)]=new webhookService_1[(_0x38619d(0xe9))]();}}exports[a15_0x2eb27f(0xdf)]=WebhookController;