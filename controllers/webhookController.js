'use strict';const a15_0x169e5a=a15_0x3384;function a15_0x3384(_0x5f1437,_0xa05f1e){const _0x297f28=a15_0x297f();return a15_0x3384=function(_0x3384e9,_0x263732){_0x3384e9=_0x3384e9-0x115;let _0x38a37a=_0x297f28[_0x3384e9];return _0x38a37a;},a15_0x3384(_0x5f1437,_0xa05f1e);}(function(_0x95e3b0,_0x47ebd6){const _0x4790ae=a15_0x3384,_0x122f78=_0x95e3b0();while(!![]){try{const _0x357921=parseInt(_0x4790ae(0x156))/0x1*(parseInt(_0x4790ae(0x12c))/0x2)+-parseInt(_0x4790ae(0x126))/0x3*(parseInt(_0x4790ae(0x12e))/0x4)+parseInt(_0x4790ae(0x129))/0x5*(-parseInt(_0x4790ae(0x121))/0x6)+parseInt(_0x4790ae(0x139))/0x7*(-parseInt(_0x4790ae(0x127))/0x8)+parseInt(_0x4790ae(0x13d))/0x9+parseInt(_0x4790ae(0x128))/0xa+parseInt(_0x4790ae(0x12b))/0xb*(parseInt(_0x4790ae(0x133))/0xc);if(_0x357921===_0x47ebd6)break;else _0x122f78['push'](_0x122f78['shift']());}catch(_0x411c9e){_0x122f78['push'](_0x122f78['shift']());}}}(a15_0x297f,0xcde54));Object['defineProperty'](exports,a15_0x169e5a(0x153),{'value':!![]}),exports[a15_0x169e5a(0x124)]=void 0x0;const webhookService_1=require(a15_0x169e5a(0x118)),loggerService_1=require(a15_0x169e5a(0x12f));class WebhookController{constructor(){const _0x21e998=a15_0x169e5a;this[_0x21e998(0x11a)]=async(_0x858f31,_0x50363e,_0x597f73)=>{const _0x21d525=_0x21e998;try{console[_0x21d525(0x144)](_0x21d525(0x11d)),console[_0x21d525(0x144)](_0x21d525(0x151),_0x858f31['get'](_0x21d525(0x143))),console[_0x21d525(0x144)](_0x21d525(0x125),typeof _0x858f31['body']),console['log'](_0x21d525(0x122),Object[_0x21d525(0x14a)](_0x858f31[_0x21d525(0x136)]||{})),console[_0x21d525(0x144)](_0x21d525(0x134),_0x858f31[_0x21d525(0x136)]),loggerService_1[_0x21d525(0x159)][_0x21d525(0x150)](_0x21d525(0x14b),_0x858f31[_0x21d525(0x136)],_0x858f31[_0x21d525(0x15a)]);const _0x3e033c=await this[_0x21d525(0x11e)]['processPlisioWebhook'](_0x858f31['body']);_0x50363e[_0x21d525(0x120)](0xc8)[_0x21d525(0x135)]({'success':!![],'message':_0x21d525(0x155)});}catch(_0xa27f01){console['error'](_0x21d525(0x141),_0xa27f01),loggerService_1[_0x21d525(0x159)][_0x21d525(0x119)]('plisio',_0xa27f01,_0x858f31['body']),_0x50363e[_0x21d525(0x120)](0xc8)[_0x21d525(0x135)]({'success':![],'message':_0xa27f01 instanceof Error?_0xa27f01[_0x21d525(0x11f)]:'Webhook\x20processing\x20failed'});}},this[_0x21e998(0x13c)]=async(_0x1bcfd7,_0x75f1b9,_0x3b9f32)=>{const _0x436a20=_0x21e998;try{console['log'](_0x436a20(0x13b)),console[_0x436a20(0x144)](_0x436a20(0x151),_0x1bcfd7[_0x436a20(0x157)]('Content-Type')),console['log'](_0x436a20(0x125),typeof _0x1bcfd7[_0x436a20(0x136)]),console['log'](_0x436a20(0x122),Object[_0x436a20(0x14a)](_0x1bcfd7[_0x436a20(0x136)]||{})),console[_0x436a20(0x144)](_0x436a20(0x134),_0x1bcfd7['body']),loggerService_1[_0x436a20(0x159)]['logWebhookReceived'](_0x436a20(0x149),_0x1bcfd7[_0x436a20(0x136)],_0x1bcfd7[_0x436a20(0x15a)]);const _0xcc86e3=await this[_0x436a20(0x11e)]['processPlisioGatewayWebhook'](_0x1bcfd7[_0x436a20(0x136)]);_0x75f1b9['status'](0xc8)[_0x436a20(0x135)]({'success':!![],'message':_0x436a20(0x137)});}catch(_0x4f0684){console[_0x436a20(0x152)](_0x436a20(0x13f),_0x4f0684),loggerService_1[_0x436a20(0x159)][_0x436a20(0x119)]('plisio_gateway',_0x4f0684,_0x1bcfd7[_0x436a20(0x136)]),_0x75f1b9['status'](0xc8)[_0x436a20(0x135)]({'success':![],'message':_0x4f0684 instanceof Error?_0x4f0684['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x21e998(0x140)]=async(_0x26df98,_0x17a87c,_0x5c6096)=>{const _0x3e0e61=_0x21e998;try{console[_0x3e0e61(0x144)](_0x3e0e61(0x11c),_0x26df98[_0x3e0e61(0x136)]),loggerService_1[_0x3e0e61(0x159)]['logWebhookReceived'](_0x3e0e61(0x14d),_0x26df98['body'],_0x26df98[_0x3e0e61(0x15a)]);const _0x60cda8=await this[_0x3e0e61(0x11e)][_0x3e0e61(0x12d)](_0x26df98['body']);_0x17a87c['status'](0xc8)['json']({'success':!![],'message':_0x3e0e61(0x146)});}catch(_0x3f3804){console[_0x3e0e61(0x152)](_0x3e0e61(0x154),_0x3f3804),loggerService_1[_0x3e0e61(0x159)][_0x3e0e61(0x119)](_0x3e0e61(0x14d),_0x3f3804,_0x26df98[_0x3e0e61(0x136)]),_0x17a87c[_0x3e0e61(0x120)](0xc8)['json']({'success':![],'message':_0x3f3804 instanceof Error?_0x3f3804['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x21e998(0x14e)]=async(_0x50fb3b,_0x21f777,_0xbb5718)=>{const _0x3563a2=_0x21e998;try{console[_0x3563a2(0x144)](_0x3563a2(0x115),_0x50fb3b[_0x3563a2(0x136)]),loggerService_1['loggerService'][_0x3563a2(0x150)](_0x3563a2(0x116),_0x50fb3b[_0x3563a2(0x136)],_0x50fb3b[_0x3563a2(0x15a)]);const _0x212830=await this['webhookService'][_0x3563a2(0x145)](_0x50fb3b[_0x3563a2(0x136)]);_0x21f777['status'](0xc8)[_0x3563a2(0x135)]({'success':!![],'message':_0x3563a2(0x13a)});}catch(_0x1feb41){console[_0x3563a2(0x152)](_0x3563a2(0x130),_0x1feb41),loggerService_1[_0x3563a2(0x159)][_0x3563a2(0x119)](_0x3563a2(0x116),_0x1feb41,_0x50fb3b[_0x3563a2(0x136)]),_0x21f777[_0x3563a2(0x120)](0xc8)['json']({'success':![],'message':_0x1feb41 instanceof Error?_0x1feb41[_0x3563a2(0x11f)]:_0x3563a2(0x14f)});}},this[_0x21e998(0x117)]=async(_0x46bcce,_0x12ef2d,_0x3f3b2b)=>{const _0x4ab106=_0x21e998;try{console[_0x4ab106(0x144)](_0x4ab106(0x158),_0x46bcce[_0x4ab106(0x136)]),loggerService_1[_0x4ab106(0x159)]['logWebhookReceived']('cointopay',_0x46bcce[_0x4ab106(0x136)],_0x46bcce['headers']);const _0xe7eb76=await this[_0x4ab106(0x11e)][_0x4ab106(0x11b)](_0x46bcce[_0x4ab106(0x136)]);_0x12ef2d[_0x4ab106(0x120)](0xc8)[_0x4ab106(0x135)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x2df150){console['error'](_0x4ab106(0x13e),_0x2df150),loggerService_1[_0x4ab106(0x159)][_0x4ab106(0x119)](_0x4ab106(0x132),_0x2df150,_0x46bcce[_0x4ab106(0x136)]),_0x12ef2d[_0x4ab106(0x120)](0xc8)[_0x4ab106(0x135)]({'success':![],'message':_0x2df150 instanceof Error?_0x2df150[_0x4ab106(0x11f)]:_0x4ab106(0x12a)});}},this[_0x21e998(0x142)]=async(_0x33284e,_0x509c68,_0x1f9ded)=>{const _0x2e7992=_0x21e998;try{console['log']('Received\x20KLYME\x20webhook:',_0x33284e[_0x2e7992(0x136)]),loggerService_1[_0x2e7992(0x159)][_0x2e7992(0x150)](_0x2e7992(0x131),_0x33284e[_0x2e7992(0x136)],_0x33284e[_0x2e7992(0x15a)]);const _0x40963e=await this['webhookService'][_0x2e7992(0x147)](_0x33284e[_0x2e7992(0x136)]);_0x509c68[_0x2e7992(0x120)](0xc8)[_0x2e7992(0x135)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x4ae0a4){console[_0x2e7992(0x152)](_0x2e7992(0x14c),_0x4ae0a4),loggerService_1[_0x2e7992(0x159)][_0x2e7992(0x119)](_0x2e7992(0x131),_0x4ae0a4,_0x33284e['body']),_0x509c68[_0x2e7992(0x120)](0xc8)[_0x2e7992(0x135)]({'success':![],'message':_0x4ae0a4 instanceof Error?_0x4ae0a4[_0x2e7992(0x11f)]:_0x2e7992(0x123)});}},this['handleMasterCardWebhook']=async(_0x11f49c,_0x57ec5e,_0x5a3f73)=>{const _0x262a78=_0x21e998;try{console[_0x262a78(0x144)]('Received\x20MasterCard\x20webhook:',_0x11f49c[_0x262a78(0x136)]),loggerService_1[_0x262a78(0x159)]['logWebhookReceived']('mastercard',_0x11f49c['body'],_0x11f49c[_0x262a78(0x15a)]);const _0x351091=await this[_0x262a78(0x11e)]['processMasterCardWebhook'](_0x11f49c[_0x262a78(0x136)]);_0x57ec5e['status'](0xc8)[_0x262a78(0x135)]({'success':!![],'message':_0x262a78(0x148)});}catch(_0x5502bc){console['error'](_0x262a78(0x138),_0x5502bc),loggerService_1[_0x262a78(0x159)]['logWebhookError']('mastercard',_0x5502bc,_0x11f49c[_0x262a78(0x136)]),_0x57ec5e[_0x262a78(0x120)](0xc8)[_0x262a78(0x135)]({'success':![],'message':_0x5502bc instanceof Error?_0x5502bc[_0x262a78(0x11f)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x21e998(0x11e)]=new webhookService_1['WebhookService']();}}exports[a15_0x169e5a(0x124)]=WebhookController;function a15_0x297f(){const _0x5926de=['Webhook\x20processing\x20error:','handleKlymeWebhook','Content-Type','log','processNodaWebhook','Rapyd\x20webhook\x20processed\x20successfully','processKlymeWebhook','MasterCard\x20webhook\x20processed\x20successfully','plisio_gateway','keys','plisio','KLYME\x20webhook\x20processing\x20error:','rapyd','handleNodaWebhook','Noda\x20webhook\x20processing\x20failed','logWebhookReceived','Content-Type:','error','__esModule','Rapyd\x20webhook\x20processing\x20error:','Webhook\x20processed\x20successfully','654521vlBBdr','get','Received\x20CoinToPay\x20webhook:','loggerService','headers','Received\x20Noda\x20webhook:','noda','handleCoinToPayWebhook','../services/webhookService','logWebhookError','handlePlisioWebhook','processCoinToPayWebhook','Received\x20Rapyd\x20webhook:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','webhookService','message','status','2262FAHwry','Body\x20keys:','KLYME\x20webhook\x20processing\x20failed','WebhookController','Raw\x20body\x20type:','12WxHFDO','344iIQwnj','13972650svXoth','19515IKHgEN','CoinToPay\x20webhook\x20processing\x20failed','12386iPuawc','4rKXXob','processRapydWebhook','1393424gVXrVl','../services/loggerService','Noda\x20webhook\x20processing\x20error:','klyme','cointopay','10008kZeFLG','Body\x20content:','json','body','Gateway\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20error:','154805lKBhJa','Noda\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','handlePlisioGatewayWebhook','9123813YTGHSt','CoinToPay\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','handleRapydWebhook'];a15_0x297f=function(){return _0x5926de;};return a15_0x297f();}