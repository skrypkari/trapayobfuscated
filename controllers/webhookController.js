'use strict';function a14_0x3986(){const _0x34b56b=['defineProperty','Body\x20keys:','logWebhookReceived','CoinToPay\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','processPlisioGatewayWebhook','Noda\x20webhook\x20processing\x20failed','1053726SeySef','noda','CoinToPay\x20webhook\x20processing\x20failed','headers','63dQacgI','json','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Noda\x20webhook\x20processing\x20error:','processRapydWebhook','1083243obvQMN','klyme','5bXBsKt','Webhook\x20processed\x20successfully','56058jnYTcH','KLYME\x20webhook\x20processed\x20successfully','Content-Type','webhookService','KLYME\x20webhook\x20processing\x20failed','message','745192iCROPI','logWebhookError','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','body','../services/webhookService','Body\x20content:','processNodaWebhook','keys','cointopay','Received\x20CoinToPay\x20webhook:','handleCoinToPayWebhook','Webhook\x20processing\x20failed','WebhookController','Raw\x20body\x20type:','handlePlisioGatewayWebhook','Noda\x20webhook\x20processed\x20successfully','Received\x20Noda\x20webhook:','1014704qJeWUR','log','Gateway\x20webhook\x20processing\x20failed','handleNodaWebhook','478195mtGivC','plisio_gateway','status','processKlymeWebhook','plisio','rapyd','Content-Type:','handleRapydWebhook','loggerService','get','handleKlymeWebhook','error','Rapyd\x20webhook\x20processing\x20error:','621501tziXzJ','Received\x20Rapyd\x20webhook:','Rapyd\x20webhook\x20processed\x20successfully'];a14_0x3986=function(){return _0x34b56b;};return a14_0x3986();}const a14_0x28371c=a14_0xb4da;(function(_0x1dcce8,_0xdd82eb){const _0x4ba452=a14_0xb4da,_0x100452=_0x1dcce8();while(!![]){try{const _0x16d35e=parseInt(_0x4ba452(0xc1))/0x1*(parseInt(_0x4ba452(0xc3))/0x2)+-parseInt(_0x4ba452(0xeb))/0x3+-parseInt(_0x4ba452(0xc9))/0x4+-parseInt(_0x4ba452(0xde))/0x5+-parseInt(_0x4ba452(0xf5))/0x6+-parseInt(_0x4ba452(0xfe))/0x7+-parseInt(_0x4ba452(0xda))/0x8*(-parseInt(_0x4ba452(0xf9))/0x9);if(_0x16d35e===_0xdd82eb)break;else _0x100452['push'](_0x100452['shift']());}catch(_0xdabb0d){_0x100452['push'](_0x100452['shift']());}}}(a14_0x3986,0x32e99));function a14_0xb4da(_0xa78817,_0x183003){const _0x398677=a14_0x3986();return a14_0xb4da=function(_0xb4da2d,_0x472c61){_0xb4da2d=_0xb4da2d-0xc0;let _0x4b681c=_0x398677[_0xb4da2d];return _0x4b681c;},a14_0xb4da(_0xa78817,_0x183003);}Object[a14_0x28371c(0xee)](exports,'__esModule',{'value':!![]}),exports[a14_0x28371c(0xd5)]=void 0x0;const webhookService_1=require(a14_0x28371c(0xcd)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x2124cb=a14_0x28371c;this['handlePlisioWebhook']=async(_0x5494c5,_0x54b4fc,_0x5e5865)=>{const _0x1b1078=a14_0xb4da;try{console['log'](_0x1b1078(0xcb)),console[_0x1b1078(0xdb)](_0x1b1078(0xe4),_0x5494c5[_0x1b1078(0xe7)](_0x1b1078(0xc5))),console['log']('Raw\x20body\x20type:',typeof _0x5494c5[_0x1b1078(0xcc)]),console[_0x1b1078(0xdb)](_0x1b1078(0xef),Object[_0x1b1078(0xd0)](_0x5494c5['body']||{})),console['log'](_0x1b1078(0xce),_0x5494c5[_0x1b1078(0xcc)]),loggerService_1[_0x1b1078(0xe6)][_0x1b1078(0xf0)](_0x1b1078(0xe2),_0x5494c5['body'],_0x5494c5[_0x1b1078(0xf8)]);const _0x387825=await this['webhookService']['processPlisioWebhook'](_0x5494c5[_0x1b1078(0xcc)]);_0x54b4fc[_0x1b1078(0xe0)](0xc8)[_0x1b1078(0xfa)]({'success':!![],'message':_0x1b1078(0xc2)});}catch(_0x2383fa){console[_0x1b1078(0xe9)]('Webhook\x20processing\x20error:',_0x2383fa),loggerService_1[_0x1b1078(0xe6)][_0x1b1078(0xca)](_0x1b1078(0xe2),_0x2383fa,_0x5494c5[_0x1b1078(0xcc)]),_0x54b4fc[_0x1b1078(0xe0)](0xc8)[_0x1b1078(0xfa)]({'success':![],'message':_0x2383fa instanceof Error?_0x2383fa['message']:_0x1b1078(0xd4)});}},this[_0x2124cb(0xd7)]=async(_0x50743b,_0x575e46,_0x4d396f)=>{const _0x9ab7c6=_0x2124cb;try{console[_0x9ab7c6(0xdb)](_0x9ab7c6(0xfb)),console[_0x9ab7c6(0xdb)](_0x9ab7c6(0xe4),_0x50743b[_0x9ab7c6(0xe7)](_0x9ab7c6(0xc5))),console[_0x9ab7c6(0xdb)](_0x9ab7c6(0xd6),typeof _0x50743b[_0x9ab7c6(0xcc)]),console[_0x9ab7c6(0xdb)]('Body\x20keys:',Object[_0x9ab7c6(0xd0)](_0x50743b['body']||{})),console[_0x9ab7c6(0xdb)](_0x9ab7c6(0xce),_0x50743b[_0x9ab7c6(0xcc)]),loggerService_1['loggerService'][_0x9ab7c6(0xf0)](_0x9ab7c6(0xdf),_0x50743b[_0x9ab7c6(0xcc)],_0x50743b[_0x9ab7c6(0xf8)]);const _0x23cfb4=await this[_0x9ab7c6(0xc6)][_0x9ab7c6(0xf3)](_0x50743b['body']);_0x575e46[_0x9ab7c6(0xe0)](0xc8)['json']({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x1bd256){console[_0x9ab7c6(0xe9)](_0x9ab7c6(0xf2),_0x1bd256),loggerService_1[_0x9ab7c6(0xe6)][_0x9ab7c6(0xca)]('plisio_gateway',_0x1bd256,_0x50743b[_0x9ab7c6(0xcc)]),_0x575e46[_0x9ab7c6(0xe0)](0xc8)[_0x9ab7c6(0xfa)]({'success':![],'message':_0x1bd256 instanceof Error?_0x1bd256[_0x9ab7c6(0xc8)]:_0x9ab7c6(0xdc)});}},this[_0x2124cb(0xe5)]=async(_0x57cc56,_0x1af0e3,_0xf1da38)=>{const _0x935f14=_0x2124cb;try{console[_0x935f14(0xdb)](_0x935f14(0xec),_0x57cc56[_0x935f14(0xcc)]),loggerService_1[_0x935f14(0xe6)][_0x935f14(0xf0)](_0x935f14(0xe3),_0x57cc56[_0x935f14(0xcc)],_0x57cc56['headers']);const _0x4fbc4d=await this['webhookService'][_0x935f14(0xfd)](_0x57cc56[_0x935f14(0xcc)]);_0x1af0e3[_0x935f14(0xe0)](0xc8)[_0x935f14(0xfa)]({'success':!![],'message':_0x935f14(0xed)});}catch(_0x573b4c){console[_0x935f14(0xe9)](_0x935f14(0xea),_0x573b4c),loggerService_1[_0x935f14(0xe6)][_0x935f14(0xca)]('rapyd',_0x573b4c,_0x57cc56[_0x935f14(0xcc)]),_0x1af0e3[_0x935f14(0xe0)](0xc8)[_0x935f14(0xfa)]({'success':![],'message':_0x573b4c instanceof Error?_0x573b4c[_0x935f14(0xc8)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x2124cb(0xdd)]=async(_0x6d21b1,_0x5a8c29,_0x4e9424)=>{const _0x5cf223=_0x2124cb;try{console[_0x5cf223(0xdb)](_0x5cf223(0xd9),_0x6d21b1[_0x5cf223(0xcc)]),loggerService_1['loggerService']['logWebhookReceived'](_0x5cf223(0xf6),_0x6d21b1[_0x5cf223(0xcc)],_0x6d21b1[_0x5cf223(0xf8)]);const _0x3c2b21=await this[_0x5cf223(0xc6)][_0x5cf223(0xcf)](_0x6d21b1[_0x5cf223(0xcc)]);_0x5a8c29[_0x5cf223(0xe0)](0xc8)[_0x5cf223(0xfa)]({'success':!![],'message':_0x5cf223(0xd8)});}catch(_0x5c735b){console[_0x5cf223(0xe9)](_0x5cf223(0xfc),_0x5c735b),loggerService_1['loggerService'][_0x5cf223(0xca)](_0x5cf223(0xf6),_0x5c735b,_0x6d21b1[_0x5cf223(0xcc)]),_0x5a8c29[_0x5cf223(0xe0)](0xc8)[_0x5cf223(0xfa)]({'success':![],'message':_0x5c735b instanceof Error?_0x5c735b[_0x5cf223(0xc8)]:_0x5cf223(0xf4)});}},this[_0x2124cb(0xd3)]=async(_0x13a8b2,_0xe5e85b,_0x5b8f2a)=>{const _0x53974f=_0x2124cb;try{console[_0x53974f(0xdb)](_0x53974f(0xd2),_0x13a8b2['body']),loggerService_1[_0x53974f(0xe6)][_0x53974f(0xf0)](_0x53974f(0xd1),_0x13a8b2[_0x53974f(0xcc)],_0x13a8b2['headers']);const _0x32f0ed=await this[_0x53974f(0xc6)]['processCoinToPayWebhook'](_0x13a8b2['body']);_0xe5e85b[_0x53974f(0xe0)](0xc8)[_0x53974f(0xfa)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x3b0fd0){console['error'](_0x53974f(0xf1),_0x3b0fd0),loggerService_1[_0x53974f(0xe6)][_0x53974f(0xca)](_0x53974f(0xd1),_0x3b0fd0,_0x13a8b2[_0x53974f(0xcc)]),_0xe5e85b[_0x53974f(0xe0)](0xc8)[_0x53974f(0xfa)]({'success':![],'message':_0x3b0fd0 instanceof Error?_0x3b0fd0[_0x53974f(0xc8)]:_0x53974f(0xf7)});}},this[_0x2124cb(0xe8)]=async(_0x29d94f,_0xf4df47,_0x37cdb7)=>{const _0x102942=_0x2124cb;try{console['log']('Received\x20KLYME\x20webhook:',_0x29d94f[_0x102942(0xcc)]),loggerService_1[_0x102942(0xe6)]['logWebhookReceived']('klyme',_0x29d94f['body'],_0x29d94f[_0x102942(0xf8)]);const _0x30bded=await this[_0x102942(0xc6)][_0x102942(0xe1)](_0x29d94f[_0x102942(0xcc)]);_0xf4df47[_0x102942(0xe0)](0xc8)[_0x102942(0xfa)]({'success':!![],'message':_0x102942(0xc4)});}catch(_0x22936f){console[_0x102942(0xe9)]('KLYME\x20webhook\x20processing\x20error:',_0x22936f),loggerService_1[_0x102942(0xe6)][_0x102942(0xca)](_0x102942(0xc0),_0x22936f,_0x29d94f[_0x102942(0xcc)]),_0xf4df47['status'](0xc8)[_0x102942(0xfa)]({'success':![],'message':_0x22936f instanceof Error?_0x22936f[_0x102942(0xc8)]:_0x102942(0xc7)});}},this[_0x2124cb(0xc6)]=new webhookService_1['WebhookService']();}}exports[a14_0x28371c(0xd5)]=WebhookController;