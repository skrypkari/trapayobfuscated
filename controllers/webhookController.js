'use strict';function a15_0x4fd2(_0x5e9f8e,_0x8c75ab){const _0x383325=a15_0x3833();return a15_0x4fd2=function(_0x4fd21b,_0x350512){_0x4fd21b=_0x4fd21b-0xd1;let _0x5e618b=_0x383325[_0x4fd21b];return _0x5e618b;},a15_0x4fd2(_0x5e9f8e,_0x8c75ab);}const a15_0x417415=a15_0x4fd2;(function(_0x2c7ad3,_0x92beb8){const _0x32d247=a15_0x4fd2,_0x43e4b5=_0x2c7ad3();while(!![]){try{const _0x31dd33=parseInt(_0x32d247(0x115))/0x1+-parseInt(_0x32d247(0x111))/0x2+parseInt(_0x32d247(0xe8))/0x3*(-parseInt(_0x32d247(0xff))/0x4)+-parseInt(_0x32d247(0xf7))/0x5+-parseInt(_0x32d247(0x109))/0x6*(-parseInt(_0x32d247(0x105))/0x7)+parseInt(_0x32d247(0xd9))/0x8+-parseInt(_0x32d247(0x101))/0x9*(-parseInt(_0x32d247(0xf0))/0xa);if(_0x31dd33===_0x92beb8)break;else _0x43e4b5['push'](_0x43e4b5['shift']());}catch(_0x589ebe){_0x43e4b5['push'](_0x43e4b5['shift']());}}}(a15_0x3833,0x33b55));Object['defineProperty'](exports,a15_0x417415(0xed),{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require(a15_0x417415(0xf3)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x117020=a15_0x417415;this['handlePlisioWebhook']=async(_0x315a9b,_0x3676ec,_0x282f43)=>{const _0x3941ee=a15_0x4fd2;try{console[_0x3941ee(0xf9)](_0x3941ee(0x10e)),console[_0x3941ee(0xf9)](_0x3941ee(0x113),_0x315a9b[_0x3941ee(0xf2)](_0x3941ee(0xdf))),console[_0x3941ee(0xf9)](_0x3941ee(0xe6),typeof _0x315a9b['body']),console['log'](_0x3941ee(0xd4),Object[_0x3941ee(0xe7)](_0x315a9b[_0x3941ee(0xd5)]||{})),console[_0x3941ee(0xf9)](_0x3941ee(0x108),_0x315a9b[_0x3941ee(0xd5)]),loggerService_1[_0x3941ee(0xfe)][_0x3941ee(0xec)]('plisio',_0x315a9b['body'],_0x315a9b[_0x3941ee(0x104)]);const _0x112587=await this[_0x3941ee(0xeb)][_0x3941ee(0xd6)](_0x315a9b[_0x3941ee(0xd5)]);_0x3676ec[_0x3941ee(0xdc)](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x3ec88d){console[_0x3941ee(0xf1)]('Webhook\x20processing\x20error:',_0x3ec88d),loggerService_1['loggerService'][_0x3941ee(0xe1)](_0x3941ee(0xfd),_0x3ec88d,_0x315a9b['body']),_0x3676ec[_0x3941ee(0xdc)](0xc8)[_0x3941ee(0x10c)]({'success':![],'message':_0x3ec88d instanceof Error?_0x3ec88d[_0x3941ee(0x10f)]:_0x3941ee(0x110)});}},this['handlePlisioGatewayWebhook']=async(_0x9340be,_0x3673a3,_0x21778c)=>{const _0x55f1c9=a15_0x4fd2;try{console['log'](_0x55f1c9(0xf5)),console[_0x55f1c9(0xf9)](_0x55f1c9(0x113),_0x9340be['get']('Content-Type')),console[_0x55f1c9(0xf9)](_0x55f1c9(0xe6),typeof _0x9340be[_0x55f1c9(0xd5)]),console[_0x55f1c9(0xf9)](_0x55f1c9(0xd4),Object['keys'](_0x9340be['body']||{})),console[_0x55f1c9(0xf9)](_0x55f1c9(0x108),_0x9340be[_0x55f1c9(0xd5)]),loggerService_1['loggerService'][_0x55f1c9(0xec)](_0x55f1c9(0xe4),_0x9340be[_0x55f1c9(0xd5)],_0x9340be[_0x55f1c9(0x104)]);const _0x24c7fd=await this['webhookService'][_0x55f1c9(0xdd)](_0x9340be[_0x55f1c9(0xd5)]);_0x3673a3['status'](0xc8)[_0x55f1c9(0x10c)]({'success':!![],'message':_0x55f1c9(0x107)});}catch(_0x104eb1){console[_0x55f1c9(0xf1)]('Gateway\x20webhook\x20processing\x20error:',_0x104eb1),loggerService_1[_0x55f1c9(0xfe)][_0x55f1c9(0xe1)](_0x55f1c9(0xe4),_0x104eb1,_0x9340be[_0x55f1c9(0xd5)]),_0x3673a3[_0x55f1c9(0xdc)](0xc8)['json']({'success':![],'message':_0x104eb1 instanceof Error?_0x104eb1[_0x55f1c9(0x10f)]:_0x55f1c9(0x114)});}},this[_0x117020(0xe2)]=async(_0x23191f,_0x1c6afb,_0x2d08b0)=>{const _0x7a1e5d=_0x117020;try{console[_0x7a1e5d(0xf9)](_0x7a1e5d(0xd7),_0x23191f[_0x7a1e5d(0xd5)]),loggerService_1[_0x7a1e5d(0xfe)][_0x7a1e5d(0xec)](_0x7a1e5d(0xd2),_0x23191f[_0x7a1e5d(0xd5)],_0x23191f[_0x7a1e5d(0x104)]);const _0x5bda73=await this['webhookService'][_0x7a1e5d(0x103)](_0x23191f[_0x7a1e5d(0xd5)]);_0x1c6afb[_0x7a1e5d(0xdc)](0xc8)['json']({'success':!![],'message':_0x7a1e5d(0x106)});}catch(_0x36ccc7){console['error'](_0x7a1e5d(0xd3),_0x36ccc7),loggerService_1[_0x7a1e5d(0xfe)][_0x7a1e5d(0xe1)](_0x7a1e5d(0xd2),_0x36ccc7,_0x23191f[_0x7a1e5d(0xd5)]),_0x1c6afb[_0x7a1e5d(0xdc)](0xc8)[_0x7a1e5d(0x10c)]({'success':![],'message':_0x36ccc7 instanceof Error?_0x36ccc7['message']:_0x7a1e5d(0xee)});}},this['handleNodaWebhook']=async(_0x4c0161,_0x42bcea,_0x1daaa3)=>{const _0x1819c4=_0x117020;try{console[_0x1819c4(0xf9)]('Received\x20Noda\x20webhook:',_0x4c0161[_0x1819c4(0xd5)]),loggerService_1[_0x1819c4(0xfe)][_0x1819c4(0xec)](_0x1819c4(0xe3),_0x4c0161[_0x1819c4(0xd5)],_0x4c0161[_0x1819c4(0x104)]);const _0x58f706=await this[_0x1819c4(0xeb)]['processNodaWebhook'](_0x4c0161[_0x1819c4(0xd5)]);_0x42bcea[_0x1819c4(0xdc)](0xc8)['json']({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x41ef80){console['error'](_0x1819c4(0x112),_0x41ef80),loggerService_1[_0x1819c4(0xfe)]['logWebhookError'](_0x1819c4(0xe3),_0x41ef80,_0x4c0161[_0x1819c4(0xd5)]),_0x42bcea[_0x1819c4(0xdc)](0xc8)[_0x1819c4(0x10c)]({'success':![],'message':_0x41ef80 instanceof Error?_0x41ef80[_0x1819c4(0x10f)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x117020(0x10a)]=async(_0x4c5ba4,_0x1d2b55,_0x18fb6b)=>{const _0x533be4=_0x117020;try{console[_0x533be4(0xf9)]('Received\x20CoinToPay\x20webhook:',_0x4c5ba4['body']),loggerService_1[_0x533be4(0xfe)]['logWebhookReceived'](_0x533be4(0xe0),_0x4c5ba4[_0x533be4(0xd5)],_0x4c5ba4[_0x533be4(0x104)]);const _0x5a00f2=await this[_0x533be4(0xeb)][_0x533be4(0xe5)](_0x4c5ba4[_0x533be4(0xd5)]);_0x1d2b55['status'](0xc8)['json']({'success':!![],'message':_0x533be4(0xfa)});}catch(_0x60e7c1){console[_0x533be4(0xf1)]('CoinToPay\x20webhook\x20processing\x20error:',_0x60e7c1),loggerService_1['loggerService'][_0x533be4(0xe1)](_0x533be4(0xe0),_0x60e7c1,_0x4c5ba4[_0x533be4(0xd5)]),_0x1d2b55[_0x533be4(0xdc)](0xc8)[_0x533be4(0x10c)]({'success':![],'message':_0x60e7c1 instanceof Error?_0x60e7c1[_0x533be4(0x10f)]:_0x533be4(0xd8)});}},this[_0x117020(0x100)]=async(_0xe4a71b,_0x2cb80b,_0x1cee0e)=>{const _0x2a7c62=_0x117020;try{console['log'](_0x2a7c62(0xea),_0xe4a71b[_0x2a7c62(0xd5)]),loggerService_1[_0x2a7c62(0xfe)]['logWebhookReceived'](_0x2a7c62(0xd1),_0xe4a71b[_0x2a7c62(0xd5)],_0xe4a71b['headers']);const _0x365145=await this[_0x2a7c62(0xeb)][_0x2a7c62(0xdb)](_0xe4a71b[_0x2a7c62(0xd5)]);_0x2cb80b[_0x2a7c62(0xdc)](0xc8)[_0x2a7c62(0x10c)]({'success':!![],'message':_0x2a7c62(0x10d)});}catch(_0x3a268f){console[_0x2a7c62(0xf1)](_0x2a7c62(0xf4),_0x3a268f),loggerService_1[_0x2a7c62(0xfe)][_0x2a7c62(0xe1)](_0x2a7c62(0xd1),_0x3a268f,_0xe4a71b[_0x2a7c62(0xd5)]),_0x2cb80b['status'](0xc8)[_0x2a7c62(0x10c)]({'success':![],'message':_0x3a268f instanceof Error?_0x3a268f[_0x2a7c62(0x10f)]:_0x2a7c62(0xf8)});}},this[_0x117020(0xe9)]=async(_0xb83637,_0x17f2f0,_0x819e00)=>{const _0x4cd8ba=_0x117020;try{console[_0x4cd8ba(0xf9)](_0x4cd8ba(0xde),_0xb83637[_0x4cd8ba(0xd5)]),loggerService_1[_0x4cd8ba(0xfe)][_0x4cd8ba(0xec)](_0x4cd8ba(0xfb),_0xb83637[_0x4cd8ba(0xd5)],_0xb83637['headers']);const _0x20ccb6=await this[_0x4cd8ba(0xeb)][_0x4cd8ba(0x10b)](_0xb83637[_0x4cd8ba(0xd5)]);_0x17f2f0[_0x4cd8ba(0xdc)](0xc8)['json']({'success':!![],'message':_0x4cd8ba(0xf6)});}catch(_0x5c5403){console[_0x4cd8ba(0xf1)](_0x4cd8ba(0xef),_0x5c5403),loggerService_1[_0x4cd8ba(0xfe)][_0x4cd8ba(0xe1)](_0x4cd8ba(0xfb),_0x5c5403,_0xb83637[_0x4cd8ba(0xd5)]),_0x17f2f0['status'](0xc8)[_0x4cd8ba(0x10c)]({'success':![],'message':_0x5c5403 instanceof Error?_0x5c5403['message']:_0x4cd8ba(0xfc)});}},this[_0x117020(0xeb)]=new webhookService_1[(_0x117020(0xda))]();}}exports[a15_0x417415(0x102)]=WebhookController;function a15_0x3833(){const _0xa2cbc4=['logWebhookReceived','__esModule','Rapyd\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20error:','2630wvmWcl','error','get','../services/webhookService','KLYME\x20webhook\x20processing\x20error:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','MasterCard\x20webhook\x20processed\x20successfully','844450aPsgSp','KLYME\x20webhook\x20processing\x20failed','log','CoinToPay\x20webhook\x20processed\x20successfully','mastercard','MasterCard\x20webhook\x20processing\x20failed','plisio','loggerService','528hwwsmX','handleKlymeWebhook','8577yZIXjc','WebhookController','processRapydWebhook','headers','7iQNNZy','Rapyd\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processed\x20successfully','Body\x20content:','1982424xQpGgX','handleCoinToPayWebhook','processMasterCardWebhook','json','KLYME\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','message','Webhook\x20processing\x20failed','514876ItVGQw','Noda\x20webhook\x20processing\x20error:','Content-Type:','Gateway\x20webhook\x20processing\x20failed','173084pfTtWk','klyme','rapyd','Rapyd\x20webhook\x20processing\x20error:','Body\x20keys:','body','processPlisioWebhook','Received\x20Rapyd\x20webhook:','CoinToPay\x20webhook\x20processing\x20failed','916816mEvWvu','WebhookService','processKlymeWebhook','status','processPlisioGatewayWebhook','Received\x20MasterCard\x20webhook:','Content-Type','cointopay','logWebhookError','handleRapydWebhook','noda','plisio_gateway','processCoinToPayWebhook','Raw\x20body\x20type:','keys','5241ZjYYoQ','handleMasterCardWebhook','Received\x20KLYME\x20webhook:','webhookService'];a15_0x3833=function(){return _0xa2cbc4;};return a15_0x3833();}