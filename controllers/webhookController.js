'use strict';const a15_0x26e572=a15_0x5501;(function(_0x1eade5,_0x2ffa1c){const _0x47aeb3=a15_0x5501,_0x2972e5=_0x1eade5();while(!![]){try{const _0x5da64a=parseInt(_0x47aeb3(0x1b9))/0x1*(parseInt(_0x47aeb3(0x1a9))/0x2)+-parseInt(_0x47aeb3(0x1a5))/0x3+-parseInt(_0x47aeb3(0x19b))/0x4+-parseInt(_0x47aeb3(0x1ab))/0x5*(parseInt(_0x47aeb3(0x19e))/0x6)+-parseInt(_0x47aeb3(0x1cf))/0x7+parseInt(_0x47aeb3(0x1b2))/0x8+-parseInt(_0x47aeb3(0x1a8))/0x9*(-parseInt(_0x47aeb3(0x1c4))/0xa);if(_0x5da64a===_0x2ffa1c)break;else _0x2972e5['push'](_0x2972e5['shift']());}catch(_0x37777c){_0x2972e5['push'](_0x2972e5['shift']());}}}(a15_0x50d5,0x9cb03));Object[a15_0x26e572(0x1b8)](exports,'__esModule',{'value':!![]}),exports['WebhookController']=void 0x0;function a15_0x5501(_0x1aab45,_0x2c9b6c){const _0x50d553=a15_0x50d5();return a15_0x5501=function(_0x55011f,_0x2b29b7){_0x55011f=_0x55011f-0x18e;let _0x3e7b86=_0x50d553[_0x55011f];return _0x3e7b86;},a15_0x5501(_0x1aab45,_0x2c9b6c);}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x26e572(0x1b5));class WebhookController{constructor(){const _0x14c9c9=a15_0x26e572;this[_0x14c9c9(0x1c0)]=async(_0x534680,_0x2fceae,_0x5eb169)=>{const _0x48c0d3=_0x14c9c9;try{console['log'](_0x48c0d3(0x1b7)),console[_0x48c0d3(0x1c3)](_0x48c0d3(0x1c7),_0x534680[_0x48c0d3(0x1b6)](_0x48c0d3(0x1bb))),console[_0x48c0d3(0x1c3)](_0x48c0d3(0x1a6),typeof _0x534680[_0x48c0d3(0x19a)]),console[_0x48c0d3(0x1c3)](_0x48c0d3(0x1ad),Object[_0x48c0d3(0x1a4)](_0x534680[_0x48c0d3(0x19a)]||{})),console[_0x48c0d3(0x1c3)](_0x48c0d3(0x1af),_0x534680[_0x48c0d3(0x19a)]),loggerService_1[_0x48c0d3(0x190)][_0x48c0d3(0x19f)](_0x48c0d3(0x1bd),_0x534680[_0x48c0d3(0x19a)],_0x534680[_0x48c0d3(0x1a7)]);const _0x3dfe3c=await this[_0x48c0d3(0x1d5)][_0x48c0d3(0x1d1)](_0x534680['body']);_0x2fceae['status'](0xc8)[_0x48c0d3(0x1c5)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0xe6aa4e){console[_0x48c0d3(0x1a3)]('Webhook\x20processing\x20error:',_0xe6aa4e),loggerService_1[_0x48c0d3(0x190)][_0x48c0d3(0x1d7)]('plisio',_0xe6aa4e,_0x534680[_0x48c0d3(0x19a)]),_0x2fceae['status'](0xc8)[_0x48c0d3(0x1c5)]({'success':![],'message':_0xe6aa4e instanceof Error?_0xe6aa4e[_0x48c0d3(0x1ba)]:'Webhook\x20processing\x20failed'});}},this['handlePlisioGatewayWebhook']=async(_0x5a1800,_0x14528d,_0x4e43e4)=>{const _0xcaee9c=_0x14c9c9;try{console[_0xcaee9c(0x1c3)](_0xcaee9c(0x1cc)),console[_0xcaee9c(0x1c3)](_0xcaee9c(0x1c7),_0x5a1800[_0xcaee9c(0x1b6)](_0xcaee9c(0x1bb))),console[_0xcaee9c(0x1c3)](_0xcaee9c(0x1a6),typeof _0x5a1800['body']),console[_0xcaee9c(0x1c3)](_0xcaee9c(0x1ad),Object[_0xcaee9c(0x1a4)](_0x5a1800[_0xcaee9c(0x19a)]||{})),console[_0xcaee9c(0x1c3)](_0xcaee9c(0x1af),_0x5a1800[_0xcaee9c(0x19a)]),loggerService_1[_0xcaee9c(0x190)][_0xcaee9c(0x19f)](_0xcaee9c(0x1c9),_0x5a1800[_0xcaee9c(0x19a)],_0x5a1800['headers']);const _0x4856c7=await this['webhookService'][_0xcaee9c(0x1b3)](_0x5a1800[_0xcaee9c(0x19a)]);_0x14528d['status'](0xc8)[_0xcaee9c(0x1c5)]({'success':!![],'message':_0xcaee9c(0x1a2)});}catch(_0x470cef){console['error'](_0xcaee9c(0x198),_0x470cef),loggerService_1[_0xcaee9c(0x190)][_0xcaee9c(0x1d7)](_0xcaee9c(0x1c9),_0x470cef,_0x5a1800[_0xcaee9c(0x19a)]),_0x14528d[_0xcaee9c(0x1c8)](0xc8)['json']({'success':![],'message':_0x470cef instanceof Error?_0x470cef['message']:_0xcaee9c(0x193)});}},this[_0x14c9c9(0x1d9)]=async(_0xb51410,_0x1eda61,_0x36121a)=>{const _0x21475e=_0x14c9c9;try{console[_0x21475e(0x1c3)](_0x21475e(0x1cd),_0xb51410[_0x21475e(0x19a)]),loggerService_1['loggerService'][_0x21475e(0x19f)]('rapyd',_0xb51410[_0x21475e(0x19a)],_0xb51410[_0x21475e(0x1a7)]);const _0x59f5df=await this[_0x21475e(0x1d5)][_0x21475e(0x19c)](_0xb51410[_0x21475e(0x19a)]);_0x1eda61[_0x21475e(0x1c8)](0xc8)[_0x21475e(0x1c5)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x1a11f3){console['error'](_0x21475e(0x194),_0x1a11f3),loggerService_1[_0x21475e(0x190)][_0x21475e(0x1d7)](_0x21475e(0x191),_0x1a11f3,_0xb51410[_0x21475e(0x19a)]),_0x1eda61[_0x21475e(0x1c8)](0xc8)[_0x21475e(0x1c5)]({'success':![],'message':_0x1a11f3 instanceof Error?_0x1a11f3[_0x21475e(0x1ba)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x14c9c9(0x1d0)]=async(_0x27c492,_0x32c5b8,_0x168adf)=>{const _0x15f65a=_0x14c9c9;try{console[_0x15f65a(0x1c3)](_0x15f65a(0x197),_0x27c492[_0x15f65a(0x19a)]),loggerService_1[_0x15f65a(0x190)][_0x15f65a(0x19f)]('noda',_0x27c492[_0x15f65a(0x19a)],_0x27c492[_0x15f65a(0x1a7)]);const _0x2b51f3=await this[_0x15f65a(0x1d5)][_0x15f65a(0x1d3)](_0x27c492['body']);_0x32c5b8[_0x15f65a(0x1c8)](0xc8)[_0x15f65a(0x1c5)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0xa2d900){console['error'](_0x15f65a(0x1c2),_0xa2d900),loggerService_1[_0x15f65a(0x190)][_0x15f65a(0x1d7)](_0x15f65a(0x1b4),_0xa2d900,_0x27c492['body']),_0x32c5b8[_0x15f65a(0x1c8)](0xc8)[_0x15f65a(0x1c5)]({'success':![],'message':_0xa2d900 instanceof Error?_0xa2d900[_0x15f65a(0x1ba)]:_0x15f65a(0x1ce)});}},this[_0x14c9c9(0x1d2)]=async(_0x11510e,_0x2dc2d3,_0x37db56)=>{const _0x3c10e5=_0x14c9c9;try{console[_0x3c10e5(0x1c3)]('Received\x20CoinToPay\x20webhook:',_0x11510e[_0x3c10e5(0x19a)]),loggerService_1[_0x3c10e5(0x190)][_0x3c10e5(0x19f)](_0x3c10e5(0x192),_0x11510e[_0x3c10e5(0x19a)],_0x11510e[_0x3c10e5(0x1a7)]);const _0x32827f=await this[_0x3c10e5(0x1d5)][_0x3c10e5(0x1d4)](_0x11510e[_0x3c10e5(0x19a)]);_0x2dc2d3[_0x3c10e5(0x1c8)](0xc8)[_0x3c10e5(0x1c5)]({'success':!![],'message':_0x3c10e5(0x1cb)});}catch(_0x5cb04c){console[_0x3c10e5(0x1a3)](_0x3c10e5(0x1b1),_0x5cb04c),loggerService_1[_0x3c10e5(0x190)]['logWebhookError'](_0x3c10e5(0x192),_0x5cb04c,_0x11510e['body']),_0x2dc2d3[_0x3c10e5(0x1c8)](0xc8)[_0x3c10e5(0x1c5)]({'success':![],'message':_0x5cb04c instanceof Error?_0x5cb04c[_0x3c10e5(0x1ba)]:_0x3c10e5(0x19d)});}},this[_0x14c9c9(0x199)]=async(_0x38d6e3,_0x61b03b,_0x1997fe)=>{const _0x1d850a=_0x14c9c9;try{console['log'](_0x1d850a(0x1b0),_0x38d6e3['body']),loggerService_1[_0x1d850a(0x190)][_0x1d850a(0x19f)](_0x1d850a(0x1bf),_0x38d6e3[_0x1d850a(0x19a)],_0x38d6e3[_0x1d850a(0x1a7)]);const _0xc1bc5a=await this['webhookService'][_0x1d850a(0x1c6)](_0x38d6e3[_0x1d850a(0x19a)]);_0x61b03b['status'](0xc8)[_0x1d850a(0x1c5)]({'success':!![],'message':_0x1d850a(0x1ac)});}catch(_0x262bed){console['error'](_0x1d850a(0x1d6),_0x262bed),loggerService_1[_0x1d850a(0x190)]['logWebhookError'](_0x1d850a(0x1bf),_0x262bed,_0x38d6e3[_0x1d850a(0x19a)]),_0x61b03b[_0x1d850a(0x1c8)](0xc8)['json']({'success':![],'message':_0x262bed instanceof Error?_0x262bed['message']:_0x1d850a(0x1ae)});}},this[_0x14c9c9(0x1d8)]=async(_0x3616cd,_0x57db09,_0x52f008)=>{const _0x23d0fb=_0x14c9c9;try{console['log'](_0x23d0fb(0x1bc),_0x3616cd[_0x23d0fb(0x19a)]),loggerService_1[_0x23d0fb(0x190)]['logWebhookReceived'](_0x23d0fb(0x1a0),_0x3616cd[_0x23d0fb(0x19a)],_0x3616cd[_0x23d0fb(0x1a7)]);const _0x17ff2a=await this['webhookService']['processKlymeWebhook'](_0x3616cd[_0x23d0fb(0x19a)]);_0x57db09[_0x23d0fb(0x1c8)](0xc8)['json']({'success':!![],'message':_0x23d0fb(0x18e)});}catch(_0x196efd){console['error'](_0x23d0fb(0x1be),_0x196efd),loggerService_1[_0x23d0fb(0x190)][_0x23d0fb(0x1d7)](_0x23d0fb(0x1a0),_0x196efd,_0x3616cd[_0x23d0fb(0x19a)]),_0x57db09[_0x23d0fb(0x1c8)](0xc8)[_0x23d0fb(0x1c5)]({'success':![],'message':_0x196efd instanceof Error?_0x196efd['message']:_0x23d0fb(0x1aa)});}},this[_0x14c9c9(0x1c1)]=async(_0x261146,_0x1ee7be,_0x136faa)=>{const _0x40a314=_0x14c9c9;try{console[_0x40a314(0x1c3)]('Received\x20MasterCard\x20webhook:',_0x261146['body']),loggerService_1[_0x40a314(0x190)][_0x40a314(0x19f)](_0x40a314(0x1ca),_0x261146[_0x40a314(0x19a)],_0x261146[_0x40a314(0x1a7)]);const _0x46a5f6=await this[_0x40a314(0x1d5)][_0x40a314(0x1a1)](_0x261146[_0x40a314(0x19a)]);_0x1ee7be[_0x40a314(0x1c8)](0xc8)['json']({'success':!![],'message':_0x40a314(0x18f)});}catch(_0x2c77be){console[_0x40a314(0x1a3)](_0x40a314(0x196),_0x2c77be),loggerService_1[_0x40a314(0x190)]['logWebhookError'](_0x40a314(0x1ca),_0x2c77be,_0x261146[_0x40a314(0x19a)]),_0x1ee7be['status'](0xc8)[_0x40a314(0x1c5)]({'success':![],'message':_0x2c77be instanceof Error?_0x2c77be[_0x40a314(0x1ba)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x14c9c9(0x1d5)]=new webhookService_1['WebhookService']();}}function a15_0x50d5(){const _0x2bd573=['loggerService','rapyd','cointopay','Gateway\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20error:','WebhookController','MasterCard\x20webhook\x20processing\x20error:','Received\x20Noda\x20webhook:','Gateway\x20webhook\x20processing\x20error:','handleCoinToPay2Webhook','body','766372AOibOh','processRapydWebhook','CoinToPay\x20webhook\x20processing\x20failed','48htqXKf','logWebhookReceived','klyme','processMasterCardWebhook','Gateway\x20webhook\x20processed\x20successfully','error','keys','248007VQNvVO','Raw\x20body\x20type:','headers','1170KucWkv','22XZDDaO','KLYME\x20webhook\x20processing\x20failed','765130AlKCOs','CoinToPay2\x20webhook\x20processed\x20successfully','Body\x20keys:','CoinToPay2\x20webhook\x20processing\x20failed','Body\x20content:','Received\x20CoinToPay2\x20webhook:','CoinToPay\x20webhook\x20processing\x20error:','8519104fNpXVg','processPlisioGatewayWebhook','noda','../services/loggerService','get','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','defineProperty','69543WnHKUD','message','Content-Type','Received\x20KLYME\x20webhook:','plisio','KLYME\x20webhook\x20processing\x20error:','cointopay2','handlePlisioWebhook','handleMasterCardWebhook','Noda\x20webhook\x20processing\x20error:','log','75340KMBdBS','json','processCoinToPay2Webhook','Content-Type:','status','plisio_gateway','mastercard','CoinToPay\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Received\x20Rapyd\x20webhook:','Noda\x20webhook\x20processing\x20failed','4683112raBtwi','handleNodaWebhook','processPlisioWebhook','handleCoinToPayWebhook','processNodaWebhook','processCoinToPayWebhook','webhookService','CoinToPay2\x20webhook\x20processing\x20error:','logWebhookError','handleKlymeWebhook','handleRapydWebhook','KLYME\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processed\x20successfully'];a15_0x50d5=function(){return _0x2bd573;};return a15_0x50d5();}exports[a15_0x26e572(0x195)]=WebhookController;