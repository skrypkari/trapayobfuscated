'use strict';const a14_0x217e51=a14_0x2895;(function(_0x24881b,_0x4264f3){const _0x263984=a14_0x2895,_0x5cbefa=_0x24881b();while(!![]){try{const _0x30b83c=-parseInt(_0x263984(0xbe))/0x1+parseInt(_0x263984(0xbd))/0x2+-parseInt(_0x263984(0x96))/0x3+parseInt(_0x263984(0xb2))/0x4*(-parseInt(_0x263984(0xaf))/0x5)+-parseInt(_0x263984(0x94))/0x6*(parseInt(_0x263984(0xb9))/0x7)+-parseInt(_0x263984(0xbf))/0x8+parseInt(_0x263984(0x90))/0x9;if(_0x30b83c===_0x4264f3)break;else _0x5cbefa['push'](_0x5cbefa['shift']());}catch(_0x2b042e){_0x5cbefa['push'](_0x5cbefa['shift']());}}}(a14_0x1029,0x717f7));function a14_0x2895(_0x49a17c,_0x43026f){const _0x102982=a14_0x1029();return a14_0x2895=function(_0x2895db,_0x3f8902){_0x2895db=_0x2895db-0x8c;let _0x2320e3=_0x102982[_0x2895db];return _0x2320e3;},a14_0x2895(_0x49a17c,_0x43026f);}function a14_0x1029(){const _0x243716=['processRapydWebhook','Webhook\x20processing\x20failed','loggerService','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','handleRapydWebhook','klyme','handleKlymeWebhook','processNodaWebhook','Rapyd\x20webhook\x20processing\x20failed','Content-Type','KLYME\x20webhook\x20processing\x20failed','Webhook\x20processing\x20error:','headers','../services/loggerService','3095uHNHMj','json','processKlymeWebhook','3256WAAvMo','CoinToPay\x20webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','body','handleNodaWebhook','CoinToPay\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','2360911pFyAGT','handlePlisioWebhook','rapyd','log','1773908GSTUim','741464ZSMnrA','2296144GQuAby','../services/webhookService','noda','webhookService','Received\x20Rapyd\x20webhook:','processPlisioGatewayWebhook','logWebhookError','status','WebhookController','Content-Type:','processCoinToPayWebhook','error','handlePlisioGatewayWebhook','__esModule','CoinToPay\x20webhook\x20processing\x20error:','21545541bwVakw','Body\x20content:','defineProperty','handleCoinToPayWebhook','12JnzXMD','Gateway\x20webhook\x20processing\x20error:','1827366BfGago','Rapyd\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20error:','keys','plisio_gateway','KLYME\x20webhook\x20processing\x20error:','message','cointopay','Gateway\x20webhook\x20processing\x20failed','logWebhookReceived','plisio'];a14_0x1029=function(){return _0x243716;};return a14_0x1029();}Object[a14_0x217e51(0x92)](exports,a14_0x217e51(0x8e),{'value':!![]}),exports[a14_0x217e51(0xc7)]=void 0x0;const webhookService_1=require(a14_0x217e51(0xc0)),loggerService_1=require(a14_0x217e51(0xae));class WebhookController{constructor(){const _0x1c9ab9=a14_0x217e51;this[_0x1c9ab9(0xba)]=async(_0x45bae3,_0x8fb716,_0x532abc)=>{const _0x4e519a=_0x1c9ab9;try{console[_0x4e519a(0xbc)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x4e519a(0xbc)](_0x4e519a(0xc8),_0x45bae3['get']('Content-Type')),console[_0x4e519a(0xbc)]('Raw\x20body\x20type:',typeof _0x45bae3[_0x4e519a(0xb5)]),console['log']('Body\x20keys:',Object['keys'](_0x45bae3[_0x4e519a(0xb5)]||{})),console[_0x4e519a(0xbc)](_0x4e519a(0x91),_0x45bae3[_0x4e519a(0xb5)]),loggerService_1[_0x4e519a(0xa3)][_0x4e519a(0x9f)]('plisio',_0x45bae3[_0x4e519a(0xb5)],_0x45bae3[_0x4e519a(0xad)]);const _0x29c909=await this[_0x4e519a(0xc2)]['processPlisioWebhook'](_0x45bae3[_0x4e519a(0xb5)]);_0x8fb716[_0x4e519a(0xc6)](0xc8)[_0x4e519a(0xb0)]({'success':!![],'message':_0x4e519a(0xb4)});}catch(_0x54000a){console['error'](_0x4e519a(0xac),_0x54000a),loggerService_1['loggerService'][_0x4e519a(0xc5)](_0x4e519a(0xa0),_0x54000a,_0x45bae3[_0x4e519a(0xb5)]),_0x8fb716['status'](0xc8)[_0x4e519a(0xb0)]({'success':![],'message':_0x54000a instanceof Error?_0x54000a['message']:_0x4e519a(0xa2)});}},this[_0x1c9ab9(0x8d)]=async(_0x59c385,_0x28d80c,_0x167f4c)=>{const _0xdae992=_0x1c9ab9;try{console['log'](_0xdae992(0xa4)),console[_0xdae992(0xbc)](_0xdae992(0xc8),_0x59c385['get'](_0xdae992(0xaa))),console[_0xdae992(0xbc)]('Raw\x20body\x20type:',typeof _0x59c385[_0xdae992(0xb5)]),console[_0xdae992(0xbc)]('Body\x20keys:',Object[_0xdae992(0x99)](_0x59c385[_0xdae992(0xb5)]||{})),console['log'](_0xdae992(0x91),_0x59c385[_0xdae992(0xb5)]),loggerService_1[_0xdae992(0xa3)]['logWebhookReceived']('plisio_gateway',_0x59c385[_0xdae992(0xb5)],_0x59c385['headers']);const _0x4454a7=await this['webhookService'][_0xdae992(0xc4)](_0x59c385[_0xdae992(0xb5)]);_0x28d80c[_0xdae992(0xc6)](0xc8)['json']({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x190ed2){console[_0xdae992(0x8c)](_0xdae992(0x95),_0x190ed2),loggerService_1[_0xdae992(0xa3)]['logWebhookError'](_0xdae992(0x9a),_0x190ed2,_0x59c385[_0xdae992(0xb5)]),_0x28d80c['status'](0xc8)[_0xdae992(0xb0)]({'success':![],'message':_0x190ed2 instanceof Error?_0x190ed2[_0xdae992(0x9c)]:_0xdae992(0x9e)});}},this[_0x1c9ab9(0xa5)]=async(_0x17730c,_0x1744b4,_0x40dbe4)=>{const _0x13add6=_0x1c9ab9;try{console[_0x13add6(0xbc)](_0x13add6(0xc3),_0x17730c['body']),loggerService_1[_0x13add6(0xa3)][_0x13add6(0x9f)](_0x13add6(0xbb),_0x17730c[_0x13add6(0xb5)],_0x17730c[_0x13add6(0xad)]);const _0x257d36=await this[_0x13add6(0xc2)][_0x13add6(0xa1)](_0x17730c[_0x13add6(0xb5)]);_0x1744b4[_0x13add6(0xc6)](0xc8)[_0x13add6(0xb0)]({'success':!![],'message':_0x13add6(0x97)});}catch(_0x530820){console[_0x13add6(0x8c)](_0x13add6(0x98),_0x530820),loggerService_1[_0x13add6(0xa3)][_0x13add6(0xc5)](_0x13add6(0xbb),_0x530820,_0x17730c[_0x13add6(0xb5)]),_0x1744b4[_0x13add6(0xc6)](0xc8)[_0x13add6(0xb0)]({'success':![],'message':_0x530820 instanceof Error?_0x530820[_0x13add6(0x9c)]:_0x13add6(0xa9)});}},this[_0x1c9ab9(0xb6)]=async(_0x4e048b,_0x1fd560,_0x2c9469)=>{const _0x2dde11=_0x1c9ab9;try{console[_0x2dde11(0xbc)]('Received\x20Noda\x20webhook:',_0x4e048b['body']),loggerService_1['loggerService'][_0x2dde11(0x9f)]('noda',_0x4e048b[_0x2dde11(0xb5)],_0x4e048b[_0x2dde11(0xad)]);const _0x1e3e18=await this[_0x2dde11(0xc2)][_0x2dde11(0xa8)](_0x4e048b[_0x2dde11(0xb5)]);_0x1fd560[_0x2dde11(0xc6)](0xc8)[_0x2dde11(0xb0)]({'success':!![],'message':_0x2dde11(0xb8)});}catch(_0x598054){console[_0x2dde11(0x8c)]('Noda\x20webhook\x20processing\x20error:',_0x598054),loggerService_1['loggerService'][_0x2dde11(0xc5)](_0x2dde11(0xc1),_0x598054,_0x4e048b[_0x2dde11(0xb5)]),_0x1fd560[_0x2dde11(0xc6)](0xc8)[_0x2dde11(0xb0)]({'success':![],'message':_0x598054 instanceof Error?_0x598054[_0x2dde11(0x9c)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x1c9ab9(0x93)]=async(_0x5be961,_0x258563,_0xfc300a)=>{const _0x3e207e=_0x1c9ab9;try{console[_0x3e207e(0xbc)]('Received\x20CoinToPay\x20webhook:',_0x5be961[_0x3e207e(0xb5)]),loggerService_1[_0x3e207e(0xa3)]['logWebhookReceived'](_0x3e207e(0x9d),_0x5be961['body'],_0x5be961[_0x3e207e(0xad)]);const _0x503d55=await this[_0x3e207e(0xc2)][_0x3e207e(0xc9)](_0x5be961[_0x3e207e(0xb5)]);_0x258563[_0x3e207e(0xc6)](0xc8)['json']({'success':!![],'message':_0x3e207e(0xb7)});}catch(_0x2fbba8){console[_0x3e207e(0x8c)](_0x3e207e(0x8f),_0x2fbba8),loggerService_1['loggerService'][_0x3e207e(0xc5)](_0x3e207e(0x9d),_0x2fbba8,_0x5be961[_0x3e207e(0xb5)]),_0x258563[_0x3e207e(0xc6)](0xc8)[_0x3e207e(0xb0)]({'success':![],'message':_0x2fbba8 instanceof Error?_0x2fbba8[_0x3e207e(0x9c)]:_0x3e207e(0xb3)});}},this[_0x1c9ab9(0xa7)]=async(_0x1ec9a1,_0x3e9e31,_0xe7c780)=>{const _0x28c5b7=_0x1c9ab9;try{console[_0x28c5b7(0xbc)]('Received\x20KLYME\x20webhook:',_0x1ec9a1[_0x28c5b7(0xb5)]),loggerService_1[_0x28c5b7(0xa3)][_0x28c5b7(0x9f)](_0x28c5b7(0xa6),_0x1ec9a1['body'],_0x1ec9a1[_0x28c5b7(0xad)]);const _0x56d9c1=await this[_0x28c5b7(0xc2)][_0x28c5b7(0xb1)](_0x1ec9a1[_0x28c5b7(0xb5)]);_0x3e9e31['status'](0xc8)[_0x28c5b7(0xb0)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x53e0f9){console['error'](_0x28c5b7(0x9b),_0x53e0f9),loggerService_1[_0x28c5b7(0xa3)][_0x28c5b7(0xc5)](_0x28c5b7(0xa6),_0x53e0f9,_0x1ec9a1[_0x28c5b7(0xb5)]),_0x3e9e31['status'](0xc8)['json']({'success':![],'message':_0x53e0f9 instanceof Error?_0x53e0f9[_0x28c5b7(0x9c)]:_0x28c5b7(0xab)});}},this['webhookService']=new webhookService_1['WebhookService']();}}exports[a14_0x217e51(0xc7)]=WebhookController;