'use strict';function a16_0x3587(_0x247493,_0x2452db){const _0x347d7f=a16_0x347d();return a16_0x3587=function(_0x3587c0,_0x22c20f){_0x3587c0=_0x3587c0-0x157;let _0x31fe36=_0x347d7f[_0x3587c0];return _0x31fe36;},a16_0x3587(_0x247493,_0x2452db);}const a16_0xa6b533=a16_0x3587;(function(_0x326fae,_0x564d3d){const _0x37bcd5=a16_0x3587,_0x2b355c=_0x326fae();while(!![]){try{const _0x71adbd=-parseInt(_0x37bcd5(0x169))/0x1+parseInt(_0x37bcd5(0x196))/0x2+-parseInt(_0x37bcd5(0x172))/0x3+parseInt(_0x37bcd5(0x19a))/0x4+-parseInt(_0x37bcd5(0x17c))/0x5*(parseInt(_0x37bcd5(0x1a4))/0x6)+parseInt(_0x37bcd5(0x183))/0x7*(-parseInt(_0x37bcd5(0x16d))/0x8)+parseInt(_0x37bcd5(0x189))/0x9;if(_0x71adbd===_0x564d3d)break;else _0x2b355c['push'](_0x2b355c['shift']());}catch(_0x3795f6){_0x2b355c['push'](_0x2b355c['shift']());}}}(a16_0x347d,0xd26f2));function a16_0x347d(){const _0x18511e=['Received\x20MasterCard\x20webhook:','plisio_gateway','handleMasterCardWebhook','Gateway\x20webhook\x20processing\x20error:','26435115QmVPUm','handleKlymeWebhook','status','Webhook\x20processing\x20error:','plisio','json','Amer\x20webhook\x20processed\x20successfully','VISA\x20webhook\x20processed\x20successfully','keys','handlePlisioWebhook','Content-Type:','handleCoinToPay2Webhook','Body:','3063594rHhaMi','Webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','===\x20AmPay\x20Webhook\x20Received\x20===','2189160knOFbf','processMasterCardWebhook','processCoinToPay2Webhook','===\x20MyXSpend\x20Webhook\x20Received\x20===','Gateway\x20webhook\x20processing\x20failed','processAmPayWebhook','../services/loggerService','Received\x20Rapyd\x20webhook:','CoinToPay\x20webhook\x20processing\x20failed','ampay','1224906rpbkcG','myxspend','visa','cointopay2','Headers:','handleAmPayWebhook','processRapydWebhook','Body\x20content:','amer','Raw\x20body\x20type:','headers','log','Gateway\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20error:','Webhook\x20processing\x20failed','logWebhookError','CoinToPay\x20webhook\x20processed\x20successfully','loggerService','processMyXSpendWebhook','processVisaWebhook','Noda\x20webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','Query\x20params:','body','MyXSpend\x20webhook\x20processing\x20failed','Received\x20CoinToPay\x20webhook:','Received\x20Amer\x20webhook:','get','handleRapydWebhook','rapyd','Method:','Body\x20keys:','processCoinToPayWebhook','message','handleAmerWebhook','Amer\x20webhook\x20processing\x20error:','AmPay\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processed\x20successfully','processKlymeWebhook','processPlisioWebhook','../services/webhookService','CoinToPay2\x20webhook\x20processing\x20error:','logWebhookReceived','Rapyd\x20webhook\x20processing\x20failed','processAmerWebhook','1631519vCBLda','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','KLYME\x20webhook\x20processing\x20failed','VISA\x20webhook\x20processing\x20failed','8rRBhMS','WebhookController','query','Received\x20VISA\x20webhook:','handleMyXSpendWebhook','2964177nFunKx','KLYME\x20webhook\x20processing\x20error:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','MyXSpend\x20webhook\x20processed\x20successfully','noda','error','Content-Type','AmPay\x20webhook\x20processing\x20failed','klyme','Body\x20type:','5CCjPVr','Amer\x20webhook\x20processing\x20failed','handleCoinToPayWebhook','MasterCard\x20webhook\x20processed\x20successfully','cointopay','webhookService','Received\x20Noda\x20webhook:','9314585TdjjwP','mastercard'];a16_0x347d=function(){return _0x18511e;};return a16_0x347d();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a16_0xa6b533(0x16e)]=void 0x0;const webhookService_1=require(a16_0xa6b533(0x164)),loggerService_1=require(a16_0xa6b533(0x1a0));class WebhookController{constructor(){const _0xbe0f94=a16_0xa6b533;this[_0xbe0f94(0x192)]=async(_0x46839f,_0x53e0a1,_0x49b092)=>{const _0x29fd5c=_0xbe0f94;try{console[_0x29fd5c(0x1af)](_0x29fd5c(0x16a)),console[_0x29fd5c(0x1af)](_0x29fd5c(0x193),_0x46839f['get'](_0x29fd5c(0x178))),console[_0x29fd5c(0x1af)](_0x29fd5c(0x1ad),typeof _0x46839f['body']),console[_0x29fd5c(0x1af)](_0x29fd5c(0x15b),Object['keys'](_0x46839f[_0x29fd5c(0x1bb)]||{})),console[_0x29fd5c(0x1af)](_0x29fd5c(0x1ab),_0x46839f[_0x29fd5c(0x1bb)]),loggerService_1[_0x29fd5c(0x1b5)]['logWebhookReceived'](_0x29fd5c(0x18d),_0x46839f[_0x29fd5c(0x1bb)],_0x46839f[_0x29fd5c(0x1ae)]);const _0x5ad019=await this[_0x29fd5c(0x181)][_0x29fd5c(0x163)](_0x46839f['body']);_0x53e0a1[_0x29fd5c(0x18b)](0xc8)[_0x29fd5c(0x18e)]({'success':!![],'message':_0x29fd5c(0x197)});}catch(_0x2007ce){console['error'](_0x29fd5c(0x18c),_0x2007ce),loggerService_1[_0x29fd5c(0x1b5)]['logWebhookError'](_0x29fd5c(0x18d),_0x2007ce,_0x46839f['body']),_0x53e0a1['status'](0xc8)[_0x29fd5c(0x18e)]({'success':![],'message':_0x2007ce instanceof Error?_0x2007ce[_0x29fd5c(0x15d)]:_0x29fd5c(0x1b2)});}},this['handlePlisioGatewayWebhook']=async(_0x21904b,_0x37de8c,_0x1ab76a)=>{const _0x115400=_0xbe0f94;try{console[_0x115400(0x1af)](_0x115400(0x174)),console[_0x115400(0x1af)](_0x115400(0x193),_0x21904b[_0x115400(0x157)](_0x115400(0x178))),console[_0x115400(0x1af)]('Raw\x20body\x20type:',typeof _0x21904b[_0x115400(0x1bb)]),console[_0x115400(0x1af)]('Body\x20keys:',Object[_0x115400(0x191)](_0x21904b[_0x115400(0x1bb)]||{})),console[_0x115400(0x1af)](_0x115400(0x1ab),_0x21904b['body']),loggerService_1[_0x115400(0x1b5)]['logWebhookReceived'](_0x115400(0x186),_0x21904b[_0x115400(0x1bb)],_0x21904b[_0x115400(0x1ae)]);const _0x1d4c9b=await this[_0x115400(0x181)]['processPlisioGatewayWebhook'](_0x21904b[_0x115400(0x1bb)]);_0x37de8c['status'](0xc8)[_0x115400(0x18e)]({'success':!![],'message':_0x115400(0x1b0)});}catch(_0x569bf6){console[_0x115400(0x177)](_0x115400(0x188),_0x569bf6),loggerService_1[_0x115400(0x1b5)][_0x115400(0x1b3)](_0x115400(0x186),_0x569bf6,_0x21904b['body']),_0x37de8c[_0x115400(0x18b)](0xc8)['json']({'success':![],'message':_0x569bf6 instanceof Error?_0x569bf6['message']:_0x115400(0x19e)});}},this[_0xbe0f94(0x158)]=async(_0x33454b,_0x4bc023,_0x175cf8)=>{const _0x361d2f=_0xbe0f94;try{console[_0x361d2f(0x1af)](_0x361d2f(0x1a1),_0x33454b[_0x361d2f(0x1bb)]),loggerService_1['loggerService'][_0x361d2f(0x166)](_0x361d2f(0x159),_0x33454b['body'],_0x33454b['headers']);const _0x2ab9d3=await this[_0x361d2f(0x181)][_0x361d2f(0x1aa)](_0x33454b[_0x361d2f(0x1bb)]);_0x4bc023[_0x361d2f(0x18b)](0xc8)[_0x361d2f(0x18e)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x5b6c48){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x5b6c48),loggerService_1['loggerService']['logWebhookError'](_0x361d2f(0x159),_0x5b6c48,_0x33454b[_0x361d2f(0x1bb)]),_0x4bc023[_0x361d2f(0x18b)](0xc8)[_0x361d2f(0x18e)]({'success':![],'message':_0x5b6c48 instanceof Error?_0x5b6c48['message']:_0x361d2f(0x167)});}},this['handleNodaWebhook']=async(_0x4ac852,_0x144ad5,_0x29982e)=>{const _0x22bec4=_0xbe0f94;try{console[_0x22bec4(0x1af)](_0x22bec4(0x182),_0x4ac852[_0x22bec4(0x1bb)]),loggerService_1[_0x22bec4(0x1b5)][_0x22bec4(0x166)](_0x22bec4(0x176),_0x4ac852[_0x22bec4(0x1bb)],_0x4ac852[_0x22bec4(0x1ae)]);const _0x26f77f=await this[_0x22bec4(0x181)]['processNodaWebhook'](_0x4ac852[_0x22bec4(0x1bb)]);_0x144ad5[_0x22bec4(0x18b)](0xc8)[_0x22bec4(0x18e)]({'success':!![],'message':_0x22bec4(0x198)});}catch(_0x1b4cda){console['error']('Noda\x20webhook\x20processing\x20error:',_0x1b4cda),loggerService_1[_0x22bec4(0x1b5)][_0x22bec4(0x1b3)]('noda',_0x1b4cda,_0x4ac852[_0x22bec4(0x1bb)]),_0x144ad5[_0x22bec4(0x18b)](0xc8)[_0x22bec4(0x18e)]({'success':![],'message':_0x1b4cda instanceof Error?_0x1b4cda[_0x22bec4(0x15d)]:_0x22bec4(0x1b8)});}},this[_0xbe0f94(0x17e)]=async(_0x3631b1,_0x356242,_0x476e3b)=>{const _0x434b54=_0xbe0f94;try{console['log'](_0x434b54(0x1bd),_0x3631b1[_0x434b54(0x1bb)]),loggerService_1['loggerService'][_0x434b54(0x166)](_0x434b54(0x180),_0x3631b1[_0x434b54(0x1bb)],_0x3631b1[_0x434b54(0x1ae)]);const _0x47d258=await this[_0x434b54(0x181)][_0x434b54(0x15c)](_0x3631b1[_0x434b54(0x1bb)]);_0x356242[_0x434b54(0x18b)](0xc8)[_0x434b54(0x18e)]({'success':!![],'message':_0x434b54(0x1b4)});}catch(_0x51d7aa){console[_0x434b54(0x177)]('CoinToPay\x20webhook\x20processing\x20error:',_0x51d7aa),loggerService_1[_0x434b54(0x1b5)]['logWebhookError'](_0x434b54(0x180),_0x51d7aa,_0x3631b1['body']),_0x356242[_0x434b54(0x18b)](0xc8)[_0x434b54(0x18e)]({'success':![],'message':_0x51d7aa instanceof Error?_0x51d7aa[_0x434b54(0x15d)]:_0x434b54(0x1a2)});}},this[_0xbe0f94(0x194)]=async(_0x5b0e62,_0x1d4426,_0x4ca96e)=>{const _0x3b9f45=_0xbe0f94;try{console[_0x3b9f45(0x1af)]('Received\x20CoinToPay2\x20webhook:',_0x5b0e62['body']),loggerService_1[_0x3b9f45(0x1b5)]['logWebhookReceived'](_0x3b9f45(0x1a7),_0x5b0e62[_0x3b9f45(0x1bb)],_0x5b0e62[_0x3b9f45(0x1ae)]);const _0x5d44f9=await this[_0x3b9f45(0x181)][_0x3b9f45(0x19c)](_0x5b0e62['body']);_0x1d4426['status'](0xc8)['json']({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x58c20b){console[_0x3b9f45(0x177)](_0x3b9f45(0x165),_0x58c20b),loggerService_1['loggerService']['logWebhookError'](_0x3b9f45(0x1a7),_0x58c20b,_0x5b0e62[_0x3b9f45(0x1bb)]),_0x1d4426['status'](0xc8)[_0x3b9f45(0x18e)]({'success':![],'message':_0x58c20b instanceof Error?_0x58c20b[_0x3b9f45(0x15d)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0xbe0f94(0x18a)]=async(_0x35c66a,_0x493403,_0x387e95)=>{const _0x5f3685=_0xbe0f94;try{console['log'](_0x5f3685(0x1b9),_0x35c66a[_0x5f3685(0x1bb)]),loggerService_1[_0x5f3685(0x1b5)][_0x5f3685(0x166)](_0x5f3685(0x17a),_0x35c66a[_0x5f3685(0x1bb)],_0x35c66a[_0x5f3685(0x1ae)]);const _0x3bb0fb=await this['webhookService'][_0x5f3685(0x162)](_0x35c66a[_0x5f3685(0x1bb)]);_0x493403[_0x5f3685(0x18b)](0xc8)[_0x5f3685(0x18e)]({'success':!![],'message':_0x5f3685(0x161)});}catch(_0x337229){console['error'](_0x5f3685(0x173),_0x337229),loggerService_1[_0x5f3685(0x1b5)][_0x5f3685(0x1b3)]('klyme',_0x337229,_0x35c66a[_0x5f3685(0x1bb)]),_0x493403[_0x5f3685(0x18b)](0xc8)[_0x5f3685(0x18e)]({'success':![],'message':_0x337229 instanceof Error?_0x337229['message']:_0x5f3685(0x16b)});}},this['handleVisaWebhook']=async(_0x48b9eb,_0x1dab96,_0x1818ee)=>{const _0x2f4c07=_0xbe0f94;try{console[_0x2f4c07(0x1af)](_0x2f4c07(0x170),_0x48b9eb['body']),loggerService_1[_0x2f4c07(0x1b5)]['logWebhookReceived'](_0x2f4c07(0x1a6),_0x48b9eb[_0x2f4c07(0x1bb)],_0x48b9eb[_0x2f4c07(0x1ae)]);const _0x5b1674=await this[_0x2f4c07(0x181)][_0x2f4c07(0x1b7)](_0x48b9eb['body']);_0x1dab96['status'](0xc8)[_0x2f4c07(0x18e)]({'success':!![],'message':_0x2f4c07(0x190)});}catch(_0x30dcd1){console[_0x2f4c07(0x177)]('VISA\x20webhook\x20processing\x20error:',_0x30dcd1),loggerService_1[_0x2f4c07(0x1b5)][_0x2f4c07(0x1b3)](_0x2f4c07(0x1a6),_0x30dcd1,_0x48b9eb[_0x2f4c07(0x1bb)]),_0x1dab96[_0x2f4c07(0x18b)](0xc8)[_0x2f4c07(0x18e)]({'success':![],'message':_0x30dcd1 instanceof Error?_0x30dcd1[_0x2f4c07(0x15d)]:_0x2f4c07(0x16c)});}},this[_0xbe0f94(0x187)]=async(_0x1176fc,_0x10c1c4,_0x31c1aa)=>{const _0x3ce104=_0xbe0f94;try{console[_0x3ce104(0x1af)](_0x3ce104(0x185),_0x1176fc[_0x3ce104(0x1bb)]),loggerService_1[_0x3ce104(0x1b5)][_0x3ce104(0x166)](_0x3ce104(0x184),_0x1176fc['body'],_0x1176fc[_0x3ce104(0x1ae)]);const _0x135f53=await this['webhookService'][_0x3ce104(0x19b)](_0x1176fc[_0x3ce104(0x1bb)]);_0x10c1c4[_0x3ce104(0x18b)](0xc8)['json']({'success':!![],'message':_0x3ce104(0x17f)});}catch(_0x5482ef){console[_0x3ce104(0x177)](_0x3ce104(0x1b1),_0x5482ef),loggerService_1[_0x3ce104(0x1b5)]['logWebhookError']('mastercard',_0x5482ef,_0x1176fc[_0x3ce104(0x1bb)]),_0x10c1c4['status'](0xc8)[_0x3ce104(0x18e)]({'success':![],'message':_0x5482ef instanceof Error?_0x5482ef[_0x3ce104(0x15d)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0xbe0f94(0x15e)]=async(_0xb48a51,_0x4fd7e4,_0x1f8b25)=>{const _0x1cf9dc=_0xbe0f94;try{console[_0x1cf9dc(0x1af)](_0x1cf9dc(0x1be),_0xb48a51['body']),loggerService_1[_0x1cf9dc(0x1b5)]['logWebhookReceived']('amer',_0xb48a51[_0x1cf9dc(0x1bb)],_0xb48a51['headers']);const _0x52d31f=await this[_0x1cf9dc(0x181)][_0x1cf9dc(0x168)](_0xb48a51['body']);_0x4fd7e4[_0x1cf9dc(0x18b)](0xc8)[_0x1cf9dc(0x18e)]({'success':!![],'message':_0x1cf9dc(0x18f)});}catch(_0x3e4c91){console[_0x1cf9dc(0x177)](_0x1cf9dc(0x15f),_0x3e4c91),loggerService_1[_0x1cf9dc(0x1b5)][_0x1cf9dc(0x1b3)](_0x1cf9dc(0x1ac),_0x3e4c91,_0xb48a51['body']),_0x4fd7e4[_0x1cf9dc(0x18b)](0xc8)[_0x1cf9dc(0x18e)]({'success':![],'message':_0x3e4c91 instanceof Error?_0x3e4c91[_0x1cf9dc(0x15d)]:_0x1cf9dc(0x17d)});}},this[_0xbe0f94(0x1a9)]=async(_0x1031ca,_0x1975e6,_0x4d38b9)=>{const _0x257be5=_0xbe0f94;try{console[_0x257be5(0x1af)](_0x257be5(0x199)),console[_0x257be5(0x1af)](_0x257be5(0x1a8),_0x1031ca['headers']),console['log'](_0x257be5(0x195),_0x1031ca[_0x257be5(0x1bb)]),console[_0x257be5(0x1af)](_0x257be5(0x17b),typeof _0x1031ca[_0x257be5(0x1bb)]),console[_0x257be5(0x1af)](_0x257be5(0x15b),Object['keys'](_0x1031ca[_0x257be5(0x1bb)]||{})),loggerService_1[_0x257be5(0x1b5)][_0x257be5(0x166)]('ampay',_0x1031ca[_0x257be5(0x1bb)],_0x1031ca[_0x257be5(0x1ae)]);const _0xa7a852=await this[_0x257be5(0x181)][_0x257be5(0x19f)](_0x1031ca[_0x257be5(0x1bb)]);_0x1975e6[_0x257be5(0x18b)](0xc8)['json']({'success':!![],'message':_0x257be5(0x160)});}catch(_0x54ae3b){console[_0x257be5(0x177)]('AmPay\x20webhook\x20processing\x20error:',_0x54ae3b),loggerService_1[_0x257be5(0x1b5)]['logWebhookError'](_0x257be5(0x1a3),_0x54ae3b,_0x1031ca[_0x257be5(0x1bb)]),_0x1975e6['status'](0xc8)['json']({'success':![],'message':_0x54ae3b instanceof Error?_0x54ae3b[_0x257be5(0x15d)]:_0x257be5(0x179)});}},this[_0xbe0f94(0x171)]=async(_0x26e2a6,_0x5b4cd3,_0x331d6d)=>{const _0x5e23c3=_0xbe0f94;try{console[_0x5e23c3(0x1af)](_0x5e23c3(0x19d)),console[_0x5e23c3(0x1af)](_0x5e23c3(0x1a8),_0x26e2a6[_0x5e23c3(0x1ae)]),console[_0x5e23c3(0x1af)](_0x5e23c3(0x1ba),_0x26e2a6['query']),console['log'](_0x5e23c3(0x195),_0x26e2a6['body']),console[_0x5e23c3(0x1af)](_0x5e23c3(0x15a),_0x26e2a6['method']),loggerService_1['loggerService'][_0x5e23c3(0x166)](_0x5e23c3(0x1a5),_0x26e2a6[_0x5e23c3(0x1bb)]||_0x26e2a6['query'],_0x26e2a6[_0x5e23c3(0x1ae)]);const _0x5034ee=await this['webhookService'][_0x5e23c3(0x1b6)](_0x26e2a6[_0x5e23c3(0x16f)],_0x26e2a6[_0x5e23c3(0x1bb)]);_0x5b4cd3[_0x5e23c3(0x18b)](0xc8)[_0x5e23c3(0x18e)]({'success':!![],'message':_0x5e23c3(0x175)});}catch(_0x52c68c){console[_0x5e23c3(0x177)]('MyXSpend\x20webhook\x20processing\x20error:',_0x52c68c),loggerService_1[_0x5e23c3(0x1b5)]['logWebhookError']('myxspend',_0x52c68c,_0x26e2a6['body']||_0x26e2a6['query']),_0x5b4cd3[_0x5e23c3(0x18b)](0xc8)['json']({'success':![],'message':_0x52c68c instanceof Error?_0x52c68c[_0x5e23c3(0x15d)]:_0x5e23c3(0x1bc)});}},this[_0xbe0f94(0x181)]=new webhookService_1['WebhookService']();}}exports[a16_0xa6b533(0x16e)]=WebhookController;