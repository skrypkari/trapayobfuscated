'use strict';const a15_0x334ba9=a15_0x2ef4;(function(_0xadef5c,_0x320895){const _0x545ade=a15_0x2ef4,_0x58d27a=_0xadef5c();while(!![]){try{const _0x194c77=-parseInt(_0x545ade(0x1e2))/0x1+-parseInt(_0x545ade(0x1e6))/0x2*(-parseInt(_0x545ade(0x1f9))/0x3)+parseInt(_0x545ade(0x1f2))/0x4+parseInt(_0x545ade(0x1f1))/0x5+-parseInt(_0x545ade(0x1ad))/0x6*(-parseInt(_0x545ade(0x1e9))/0x7)+-parseInt(_0x545ade(0x1c4))/0x8+-parseInt(_0x545ade(0x1a5))/0x9;if(_0x194c77===_0x320895)break;else _0x58d27a['push'](_0x58d27a['shift']());}catch(_0x3f8828){_0x58d27a['push'](_0x58d27a['shift']());}}}(a15_0x10a7,0xe5ce6));Object['defineProperty'](exports,a15_0x334ba9(0x1db),{'value':!![]}),exports[a15_0x334ba9(0x1f8)]=void 0x0;function a15_0x2ef4(_0x284def,_0x461c85){const _0x10a76e=a15_0x10a7();return a15_0x2ef4=function(_0x2ef4ea,_0x25e4df){_0x2ef4ea=_0x2ef4ea-0x1a4;let _0x37dced=_0x10a76e[_0x2ef4ea];return _0x37dced;},a15_0x2ef4(_0x284def,_0x461c85);}const webhookService_1=require(a15_0x334ba9(0x1cf)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x27552f=a15_0x334ba9;this[_0x27552f(0x1cb)]=async(_0x53164c,_0x29381a,_0x4d3a41)=>{const _0x57e112=_0x27552f;try{console[_0x57e112(0x1ef)](_0x57e112(0x1d9)),console[_0x57e112(0x1ef)](_0x57e112(0x1d8),_0x53164c['get'](_0x57e112(0x1ee))),console[_0x57e112(0x1ef)](_0x57e112(0x1a6),typeof _0x53164c[_0x57e112(0x1ed)]),console[_0x57e112(0x1ef)](_0x57e112(0x1c5),Object[_0x57e112(0x1fc)](_0x53164c[_0x57e112(0x1ed)]||{})),console[_0x57e112(0x1ef)](_0x57e112(0x1d3),_0x53164c['body']),loggerService_1[_0x57e112(0x1e7)][_0x57e112(0x1bc)](_0x57e112(0x1c3),_0x53164c[_0x57e112(0x1ed)],_0x53164c[_0x57e112(0x1d2)]);const _0x566995=await this['webhookService'][_0x57e112(0x1f4)](_0x53164c[_0x57e112(0x1ed)]);_0x29381a['status'](0xc8)[_0x57e112(0x201)]({'success':!![],'message':_0x57e112(0x1b9)});}catch(_0x46ba0d){console[_0x57e112(0x1d5)]('Webhook\x20processing\x20error:',_0x46ba0d),loggerService_1[_0x57e112(0x1e7)][_0x57e112(0x1dc)](_0x57e112(0x1c3),_0x46ba0d,_0x53164c['body']),_0x29381a[_0x57e112(0x1ab)](0xc8)[_0x57e112(0x201)]({'success':![],'message':_0x46ba0d instanceof Error?_0x46ba0d['message']:_0x57e112(0x1eb)});}},this[_0x27552f(0x1e1)]=async(_0x306691,_0x29e9f9,_0x472f50)=>{const _0x24a2eb=_0x27552f;try{console['log'](_0x24a2eb(0x1f3)),console['log'](_0x24a2eb(0x1d8),_0x306691[_0x24a2eb(0x1af)](_0x24a2eb(0x1ee))),console['log'](_0x24a2eb(0x1a6),typeof _0x306691[_0x24a2eb(0x1ed)]),console[_0x24a2eb(0x1ef)](_0x24a2eb(0x1c5),Object[_0x24a2eb(0x1fc)](_0x306691[_0x24a2eb(0x1ed)]||{})),console[_0x24a2eb(0x1ef)](_0x24a2eb(0x1d3),_0x306691[_0x24a2eb(0x1ed)]),loggerService_1[_0x24a2eb(0x1e7)][_0x24a2eb(0x1bc)]('plisio_gateway',_0x306691[_0x24a2eb(0x1ed)],_0x306691[_0x24a2eb(0x1d2)]);const _0x3a7291=await this[_0x24a2eb(0x1fb)]['processPlisioGatewayWebhook'](_0x306691[_0x24a2eb(0x1ed)]);_0x29e9f9[_0x24a2eb(0x1ab)](0xc8)['json']({'success':!![],'message':_0x24a2eb(0x1ff)});}catch(_0x1a4df2){console[_0x24a2eb(0x1d5)](_0x24a2eb(0x1b0),_0x1a4df2),loggerService_1[_0x24a2eb(0x1e7)][_0x24a2eb(0x1dc)]('plisio_gateway',_0x1a4df2,_0x306691[_0x24a2eb(0x1ed)]),_0x29e9f9[_0x24a2eb(0x1ab)](0xc8)[_0x24a2eb(0x201)]({'success':![],'message':_0x1a4df2 instanceof Error?_0x1a4df2[_0x24a2eb(0x1fa)]:_0x24a2eb(0x1b7)});}},this[_0x27552f(0x1f0)]=async(_0x2fbbc3,_0x238eb0,_0x21e887)=>{const _0x39f715=_0x27552f;try{console[_0x39f715(0x1ef)](_0x39f715(0x1d4),_0x2fbbc3[_0x39f715(0x1ed)]),loggerService_1[_0x39f715(0x1e7)][_0x39f715(0x1bc)]('rapyd',_0x2fbbc3[_0x39f715(0x1ed)],_0x2fbbc3[_0x39f715(0x1d2)]);const _0x59ccc7=await this[_0x39f715(0x1fb)][_0x39f715(0x1ba)](_0x2fbbc3[_0x39f715(0x1ed)]);_0x238eb0[_0x39f715(0x1ab)](0xc8)['json']({'success':!![],'message':_0x39f715(0x1a7)});}catch(_0x58e912){console[_0x39f715(0x1d5)](_0x39f715(0x1e0),_0x58e912),loggerService_1[_0x39f715(0x1e7)][_0x39f715(0x1dc)](_0x39f715(0x1ea),_0x58e912,_0x2fbbc3[_0x39f715(0x1ed)]),_0x238eb0[_0x39f715(0x1ab)](0xc8)[_0x39f715(0x201)]({'success':![],'message':_0x58e912 instanceof Error?_0x58e912[_0x39f715(0x1fa)]:_0x39f715(0x1c7)});}},this[_0x27552f(0x1b8)]=async(_0x4823a6,_0x118a54,_0x5c7140)=>{const _0x2e9a38=_0x27552f;try{console['log'](_0x2e9a38(0x1ca),_0x4823a6['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x2e9a38(0x1c6),_0x4823a6[_0x2e9a38(0x1ed)],_0x4823a6[_0x2e9a38(0x1d2)]);const _0x397b9f=await this[_0x2e9a38(0x1fb)][_0x2e9a38(0x1e8)](_0x4823a6['body']);_0x118a54['status'](0xc8)['json']({'success':!![],'message':_0x2e9a38(0x1aa)});}catch(_0x5884b8){console[_0x2e9a38(0x1d5)](_0x2e9a38(0x1d6),_0x5884b8),loggerService_1['loggerService'][_0x2e9a38(0x1dc)](_0x2e9a38(0x1c6),_0x5884b8,_0x4823a6[_0x2e9a38(0x1ed)]),_0x118a54[_0x2e9a38(0x1ab)](0xc8)['json']({'success':![],'message':_0x5884b8 instanceof Error?_0x5884b8['message']:_0x2e9a38(0x1cd)});}},this[_0x27552f(0x1fe)]=async(_0x24e75e,_0x137e75,_0x5ae733)=>{const _0x5d0dd1=_0x27552f;try{console[_0x5d0dd1(0x1ef)](_0x5d0dd1(0x1fd),_0x24e75e[_0x5d0dd1(0x1ed)]),loggerService_1[_0x5d0dd1(0x1e7)][_0x5d0dd1(0x1bc)](_0x5d0dd1(0x1b1),_0x24e75e[_0x5d0dd1(0x1ed)],_0x24e75e['headers']);const _0x567403=await this[_0x5d0dd1(0x1fb)][_0x5d0dd1(0x1a4)](_0x24e75e[_0x5d0dd1(0x1ed)]);_0x137e75[_0x5d0dd1(0x1ab)](0xc8)['json']({'success':!![],'message':_0x5d0dd1(0x1ae)});}catch(_0x5e07e1){console[_0x5d0dd1(0x1d5)](_0x5d0dd1(0x1f5),_0x5e07e1),loggerService_1[_0x5d0dd1(0x1e7)][_0x5d0dd1(0x1dc)]('cointopay',_0x5e07e1,_0x24e75e[_0x5d0dd1(0x1ed)]),_0x137e75[_0x5d0dd1(0x1ab)](0xc8)['json']({'success':![],'message':_0x5e07e1 instanceof Error?_0x5e07e1[_0x5d0dd1(0x1fa)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x27552f(0x1e4)]=async(_0x18f752,_0x26bb4c,_0x352b38)=>{const _0xdc1d0f=_0x27552f;try{console[_0xdc1d0f(0x1ef)](_0xdc1d0f(0x1c8),_0x18f752[_0xdc1d0f(0x1ed)]),loggerService_1['loggerService'][_0xdc1d0f(0x1bc)](_0xdc1d0f(0x1b3),_0x18f752[_0xdc1d0f(0x1ed)],_0x18f752['headers']);const _0x86274f=await this[_0xdc1d0f(0x1fb)][_0xdc1d0f(0x1a9)](_0x18f752[_0xdc1d0f(0x1ed)]);_0x26bb4c[_0xdc1d0f(0x1ab)](0xc8)[_0xdc1d0f(0x201)]({'success':!![],'message':_0xdc1d0f(0x1ac)});}catch(_0x3d4c62){console[_0xdc1d0f(0x1d5)]('CoinToPay2\x20webhook\x20processing\x20error:',_0x3d4c62),loggerService_1[_0xdc1d0f(0x1e7)][_0xdc1d0f(0x1dc)](_0xdc1d0f(0x1b3),_0x3d4c62,_0x18f752[_0xdc1d0f(0x1ed)]),_0x26bb4c[_0xdc1d0f(0x1ab)](0xc8)[_0xdc1d0f(0x201)]({'success':![],'message':_0x3d4c62 instanceof Error?_0x3d4c62[_0xdc1d0f(0x1fa)]:_0xdc1d0f(0x1de)});}},this[_0x27552f(0x1b4)]=async(_0xc0ad4b,_0x292769,_0x1ead86)=>{const _0x59f003=_0x27552f;try{console[_0x59f003(0x1ef)]('Received\x20KLYME\x20webhook:',_0xc0ad4b[_0x59f003(0x1ed)]),loggerService_1[_0x59f003(0x1e7)][_0x59f003(0x1bc)](_0x59f003(0x1da),_0xc0ad4b[_0x59f003(0x1ed)],_0xc0ad4b[_0x59f003(0x1d2)]);const _0x37cb5f=await this[_0x59f003(0x1fb)][_0x59f003(0x1b6)](_0xc0ad4b[_0x59f003(0x1ed)]);_0x292769[_0x59f003(0x1ab)](0xc8)[_0x59f003(0x201)]({'success':!![],'message':_0x59f003(0x1c0)});}catch(_0x32e5c1){console[_0x59f003(0x1d5)]('KLYME\x20webhook\x20processing\x20error:',_0x32e5c1),loggerService_1[_0x59f003(0x1e7)][_0x59f003(0x1dc)](_0x59f003(0x1da),_0x32e5c1,_0xc0ad4b[_0x59f003(0x1ed)]),_0x292769[_0x59f003(0x1ab)](0xc8)[_0x59f003(0x201)]({'success':![],'message':_0x32e5c1 instanceof Error?_0x32e5c1[_0x59f003(0x1fa)]:'KLYME\x20webhook\x20processing\x20failed'});}},this['handleVisaWebhook']=async(_0x53b210,_0x1b3049,_0x84b4b8)=>{const _0xa0b2a0=_0x27552f;try{console[_0xa0b2a0(0x1ef)]('Received\x20VISA\x20webhook:',_0x53b210[_0xa0b2a0(0x1ed)]),loggerService_1['loggerService']['logWebhookReceived']('visa',_0x53b210[_0xa0b2a0(0x1ed)],_0x53b210[_0xa0b2a0(0x1d2)]);const _0x130abf=await this[_0xa0b2a0(0x1fb)]['processVisaWebhook'](_0x53b210[_0xa0b2a0(0x1ed)]);_0x1b3049['status'](0xc8)[_0xa0b2a0(0x201)]({'success':!![],'message':_0xa0b2a0(0x1a8)});}catch(_0x36ba66){console[_0xa0b2a0(0x1d5)](_0xa0b2a0(0x1cc),_0x36ba66),loggerService_1['loggerService']['logWebhookError'](_0xa0b2a0(0x1e3),_0x36ba66,_0x53b210[_0xa0b2a0(0x1ed)]),_0x1b3049[_0xa0b2a0(0x1ab)](0xc8)[_0xa0b2a0(0x201)]({'success':![],'message':_0x36ba66 instanceof Error?_0x36ba66[_0xa0b2a0(0x1fa)]:_0xa0b2a0(0x1ce)});}},this[_0x27552f(0x1c1)]=async(_0x4cb42b,_0x451646,_0x13970a)=>{const _0x49d112=_0x27552f;try{console[_0x49d112(0x1ef)](_0x49d112(0x200),_0x4cb42b[_0x49d112(0x1ed)]),loggerService_1[_0x49d112(0x1e7)][_0x49d112(0x1bc)](_0x49d112(0x1c9),_0x4cb42b[_0x49d112(0x1ed)],_0x4cb42b['headers']);const _0x337a2c=await this[_0x49d112(0x1fb)]['processMasterCardWebhook'](_0x4cb42b[_0x49d112(0x1ed)]);_0x451646[_0x49d112(0x1ab)](0xc8)[_0x49d112(0x201)]({'success':!![],'message':_0x49d112(0x1d7)});}catch(_0x323b72){console['error'](_0x49d112(0x1df),_0x323b72),loggerService_1[_0x49d112(0x1e7)][_0x49d112(0x1dc)](_0x49d112(0x1c9),_0x323b72,_0x4cb42b[_0x49d112(0x1ed)]),_0x451646['status'](0xc8)[_0x49d112(0x201)]({'success':![],'message':_0x323b72 instanceof Error?_0x323b72[_0x49d112(0x1fa)]:_0x49d112(0x1b2)});}},this['handleAmerWebhook']=async(_0x4036a4,_0x102571,_0x519433)=>{const _0x5f070e=_0x27552f;try{console[_0x5f070e(0x1ef)](_0x5f070e(0x1e5),_0x4036a4['body']),loggerService_1[_0x5f070e(0x1e7)]['logWebhookReceived'](_0x5f070e(0x1ec),_0x4036a4['body'],_0x4036a4['headers']);const _0x3abf66=await this[_0x5f070e(0x1fb)][_0x5f070e(0x1f6)](_0x4036a4[_0x5f070e(0x1ed)]);_0x102571['status'](0xc8)[_0x5f070e(0x201)]({'success':!![],'message':_0x5f070e(0x1bf)});}catch(_0x135e42){console[_0x5f070e(0x1d5)](_0x5f070e(0x1be),_0x135e42),loggerService_1[_0x5f070e(0x1e7)][_0x5f070e(0x1dc)](_0x5f070e(0x1ec),_0x135e42,_0x4036a4[_0x5f070e(0x1ed)]),_0x102571[_0x5f070e(0x1ab)](0xc8)[_0x5f070e(0x201)]({'success':![],'message':_0x135e42 instanceof Error?_0x135e42['message']:_0x5f070e(0x1d0)});}},this['handleAmPayWebhook']=async(_0x35b6dc,_0x25e0f5,_0x356d2d)=>{const _0x5f2dba=_0x27552f;try{console[_0x5f2dba(0x1ef)](_0x5f2dba(0x1b5)),console['log']('Headers:',_0x35b6dc[_0x5f2dba(0x1d2)]),console['log']('Body:',_0x35b6dc[_0x5f2dba(0x1ed)]),console['log']('Body\x20type:',typeof _0x35b6dc['body']),console[_0x5f2dba(0x1ef)]('Body\x20keys:',Object[_0x5f2dba(0x1fc)](_0x35b6dc['body']||{})),loggerService_1['loggerService'][_0x5f2dba(0x1bc)](_0x5f2dba(0x1d1),_0x35b6dc[_0x5f2dba(0x1ed)],_0x35b6dc['headers']);const _0x4ab65b=await this[_0x5f2dba(0x1fb)][_0x5f2dba(0x1dd)](_0x35b6dc[_0x5f2dba(0x1ed)]);_0x25e0f5[_0x5f2dba(0x1ab)](0xc8)['json']({'success':!![],'message':_0x5f2dba(0x1c2)});}catch(_0x36f4f6){console[_0x5f2dba(0x1d5)](_0x5f2dba(0x1bd),_0x36f4f6),loggerService_1['loggerService'][_0x5f2dba(0x1dc)]('ampay',_0x36f4f6,_0x35b6dc[_0x5f2dba(0x1ed)]),_0x25e0f5['status'](0xc8)['json']({'success':![],'message':_0x36f4f6 instanceof Error?_0x36f4f6[_0x5f2dba(0x1fa)]:_0x5f2dba(0x1bb)});}},this[_0x27552f(0x1fb)]=new webhookService_1[(_0x27552f(0x1f7))]();}}function a15_0x10a7(){const _0xa188a=['message','webhookService','keys','Received\x20CoinToPay\x20webhook:','handleCoinToPayWebhook','Gateway\x20webhook\x20processed\x20successfully','Received\x20MasterCard\x20webhook:','json','processCoinToPayWebhook','24826734znpOyK','Raw\x20body\x20type:','Rapyd\x20webhook\x20processed\x20successfully','VISA\x20webhook\x20processed\x20successfully','processCoinToPay2Webhook','Noda\x20webhook\x20processed\x20successfully','status','CoinToPay2\x20webhook\x20processed\x20successfully','6IUsLJl','CoinToPay\x20webhook\x20processed\x20successfully','get','Gateway\x20webhook\x20processing\x20error:','cointopay','MasterCard\x20webhook\x20processing\x20failed','cointopay2','handleKlymeWebhook','===\x20AmPay\x20Webhook\x20Received\x20===','processKlymeWebhook','Gateway\x20webhook\x20processing\x20failed','handleNodaWebhook','Webhook\x20processed\x20successfully','processRapydWebhook','AmPay\x20webhook\x20processing\x20failed','logWebhookReceived','AmPay\x20webhook\x20processing\x20error:','Amer\x20webhook\x20processing\x20error:','Amer\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processed\x20successfully','handleMasterCardWebhook','AmPay\x20webhook\x20processed\x20successfully','plisio','2114336MATKWc','Body\x20keys:','noda','Rapyd\x20webhook\x20processing\x20failed','Received\x20CoinToPay2\x20webhook:','mastercard','Received\x20Noda\x20webhook:','handlePlisioWebhook','VISA\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20failed','VISA\x20webhook\x20processing\x20failed','../services/webhookService','Amer\x20webhook\x20processing\x20failed','ampay','headers','Body\x20content:','Received\x20Rapyd\x20webhook:','error','Noda\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','Content-Type:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','klyme','__esModule','logWebhookError','processAmPayWebhook','CoinToPay2\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20error:','handlePlisioGatewayWebhook','142003iUzUAj','visa','handleCoinToPay2Webhook','Received\x20Amer\x20webhook:','80516GHITuf','loggerService','processNodaWebhook','11743711piFqaW','rapyd','Webhook\x20processing\x20failed','amer','body','Content-Type','log','handleRapydWebhook','5617355ReIqJq','2160244BhIIPm','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processPlisioWebhook','CoinToPay\x20webhook\x20processing\x20error:','processAmerWebhook','WebhookService','WebhookController','57UwvpEU'];a15_0x10a7=function(){return _0xa188a;};return a15_0x10a7();}exports[a15_0x334ba9(0x1f8)]=WebhookController;