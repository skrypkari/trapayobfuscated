'use strict';const a15_0x2a348d=a15_0x3b24;(function(_0x2efd81,_0x1bc371){const _0x10db3d=a15_0x3b24,_0x1e8ebf=_0x2efd81();while(!![]){try{const _0xe34aa9=parseInt(_0x10db3d(0x192))/0x1+parseInt(_0x10db3d(0x19d))/0x2+parseInt(_0x10db3d(0x1b7))/0x3+parseInt(_0x10db3d(0x18a))/0x4+-parseInt(_0x10db3d(0x1b6))/0x5*(parseInt(_0x10db3d(0x1a1))/0x6)+-parseInt(_0x10db3d(0x18f))/0x7+parseInt(_0x10db3d(0x17b))/0x8*(-parseInt(_0x10db3d(0x1a7))/0x9);if(_0xe34aa9===_0x1bc371)break;else _0x1e8ebf['push'](_0x1e8ebf['shift']());}catch(_0x3ffeb8){_0x1e8ebf['push'](_0x1e8ebf['shift']());}}}(a15_0x76ee,0x73b27));function a15_0x76ee(){const _0x15939f=['handleMasterCardWebhook','WebhookController','2856QAmvsk','Received\x20Rapyd\x20webhook:','Raw\x20body\x20type:','Content-Type:','handleCoinToPayWebhook','processRapydWebhook','9RtqlOv','MasterCard\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20failed','handlePlisioGatewayWebhook','defineProperty','body','message','MasterCard\x20webhook\x20processing\x20error:','get','processPlisioWebhook','Received\x20KLYME\x20webhook:','Webhook\x20processing\x20error:','Noda\x20webhook\x20processed\x20successfully','handlePlisioWebhook','55HCBVrh','1214892vJJAIC','Gateway\x20webhook\x20processed\x20successfully','Body\x20content:','json','CoinToPay\x20webhook\x20processing\x20failed','error','logWebhookReceived','Content-Type','processKlymeWebhook','mastercard','Rapyd\x20webhook\x20processed\x20successfully','rapyd','__esModule','3636464cKKUur','WebhookService','Noda\x20webhook\x20processing\x20failed','log','processNodaWebhook','MasterCard\x20webhook\x20processed\x20successfully','Body\x20keys:','headers','KLYME\x20webhook\x20processed\x20successfully','klyme','processCoinToPayWebhook','webhookService','loggerService','handleKlymeWebhook','../services/webhookService','661628BmjRhe','Noda\x20webhook\x20processing\x20error:','Received\x20CoinToPay\x20webhook:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','handleNodaWebhook','66605uNtAQA','Received\x20Noda\x20webhook:','status','155118YElekI','keys','logWebhookError','plisio_gateway','Rapyd\x20webhook\x20processing\x20error:','Webhook\x20processing\x20failed','noda','Gateway\x20webhook\x20processing\x20error:','Webhook\x20processed\x20successfully','cointopay','Received\x20MasterCard\x20webhook:','435430eDkLUC','handleRapydWebhook'];a15_0x76ee=function(){return _0x15939f;};return a15_0x76ee();}Object[a15_0x2a348d(0x1ac)](exports,a15_0x2a348d(0x17a),{'value':!![]}),exports[a15_0x2a348d(0x1a0)]=void 0x0;const webhookService_1=require(a15_0x2a348d(0x189)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x39ee39=a15_0x2a348d;this[_0x39ee39(0x1b5)]=async(_0x3ec2c1,_0x43efd6,_0x35dc40)=>{const _0x3532e0=_0x39ee39;try{console['log'](_0x3532e0(0x18d)),console[_0x3532e0(0x17e)]('Content-Type:',_0x3ec2c1[_0x3532e0(0x1b0)](_0x3532e0(0x1be))),console[_0x3532e0(0x17e)](_0x3532e0(0x1a3),typeof _0x3ec2c1[_0x3532e0(0x1ad)]),console['log'](_0x3532e0(0x181),Object['keys'](_0x3ec2c1[_0x3532e0(0x1ad)]||{})),console[_0x3532e0(0x17e)](_0x3532e0(0x1b9),_0x3ec2c1['body']),loggerService_1['loggerService'][_0x3532e0(0x1bd)]('plisio',_0x3ec2c1[_0x3532e0(0x1ad)],_0x3ec2c1['headers']);const _0x4181c3=await this['webhookService'][_0x3532e0(0x1b1)](_0x3ec2c1[_0x3532e0(0x1ad)]);_0x43efd6[_0x3532e0(0x191)](0xc8)['json']({'success':!![],'message':_0x3532e0(0x19a)});}catch(_0x492fd9){console[_0x3532e0(0x1bc)](_0x3532e0(0x1b3),_0x492fd9),loggerService_1[_0x3532e0(0x187)][_0x3532e0(0x194)]('plisio',_0x492fd9,_0x3ec2c1[_0x3532e0(0x1ad)]),_0x43efd6[_0x3532e0(0x191)](0xc8)['json']({'success':![],'message':_0x492fd9 instanceof Error?_0x492fd9[_0x3532e0(0x1ae)]:_0x3532e0(0x197)});}},this[_0x39ee39(0x1ab)]=async(_0x5d9b8e,_0x3d8514,_0x5d8a3d)=>{const _0x3700c1=_0x39ee39;try{console['log']('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x3700c1(0x17e)](_0x3700c1(0x1a4),_0x5d9b8e['get'](_0x3700c1(0x1be))),console[_0x3700c1(0x17e)]('Raw\x20body\x20type:',typeof _0x5d9b8e['body']),console[_0x3700c1(0x17e)]('Body\x20keys:',Object[_0x3700c1(0x193)](_0x5d9b8e['body']||{})),console[_0x3700c1(0x17e)]('Body\x20content:',_0x5d9b8e[_0x3700c1(0x1ad)]),loggerService_1[_0x3700c1(0x187)][_0x3700c1(0x1bd)](_0x3700c1(0x195),_0x5d9b8e[_0x3700c1(0x1ad)],_0x5d9b8e[_0x3700c1(0x182)]);const _0x3ede52=await this[_0x3700c1(0x186)]['processPlisioGatewayWebhook'](_0x5d9b8e[_0x3700c1(0x1ad)]);_0x3d8514[_0x3700c1(0x191)](0xc8)['json']({'success':!![],'message':_0x3700c1(0x1b8)});}catch(_0x468a6a){console['error'](_0x3700c1(0x199),_0x468a6a),loggerService_1[_0x3700c1(0x187)]['logWebhookError'](_0x3700c1(0x195),_0x468a6a,_0x5d9b8e[_0x3700c1(0x1ad)]),_0x3d8514[_0x3700c1(0x191)](0xc8)[_0x3700c1(0x1ba)]({'success':![],'message':_0x468a6a instanceof Error?_0x468a6a['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x39ee39(0x19e)]=async(_0x222785,_0x2635db,_0x196a80)=>{const _0x198520=_0x39ee39;try{console[_0x198520(0x17e)](_0x198520(0x1a2),_0x222785['body']),loggerService_1['loggerService'][_0x198520(0x1bd)](_0x198520(0x179),_0x222785['body'],_0x222785[_0x198520(0x182)]);const _0x5bdc16=await this[_0x198520(0x186)][_0x198520(0x1a6)](_0x222785[_0x198520(0x1ad)]);_0x2635db[_0x198520(0x191)](0xc8)['json']({'success':!![],'message':_0x198520(0x178)});}catch(_0x50e038){console['error'](_0x198520(0x196),_0x50e038),loggerService_1[_0x198520(0x187)]['logWebhookError'](_0x198520(0x179),_0x50e038,_0x222785['body']),_0x2635db[_0x198520(0x191)](0xc8)[_0x198520(0x1ba)]({'success':![],'message':_0x50e038 instanceof Error?_0x50e038[_0x198520(0x1ae)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x39ee39(0x18e)]=async(_0x168287,_0xfd8a73,_0x5911cf)=>{const _0x2ec265=_0x39ee39;try{console[_0x2ec265(0x17e)](_0x2ec265(0x190),_0x168287[_0x2ec265(0x1ad)]),loggerService_1[_0x2ec265(0x187)][_0x2ec265(0x1bd)](_0x2ec265(0x198),_0x168287['body'],_0x168287[_0x2ec265(0x182)]);const _0x1c29ad=await this[_0x2ec265(0x186)][_0x2ec265(0x17f)](_0x168287[_0x2ec265(0x1ad)]);_0xfd8a73['status'](0xc8)[_0x2ec265(0x1ba)]({'success':!![],'message':_0x2ec265(0x1b4)});}catch(_0x4273cf){console[_0x2ec265(0x1bc)](_0x2ec265(0x18b),_0x4273cf),loggerService_1[_0x2ec265(0x187)]['logWebhookError'](_0x2ec265(0x198),_0x4273cf,_0x168287[_0x2ec265(0x1ad)]),_0xfd8a73[_0x2ec265(0x191)](0xc8)[_0x2ec265(0x1ba)]({'success':![],'message':_0x4273cf instanceof Error?_0x4273cf['message']:_0x2ec265(0x17d)});}},this[_0x39ee39(0x1a5)]=async(_0x502e6a,_0xcc85bb,_0x5313b5)=>{const _0x157f60=_0x39ee39;try{console[_0x157f60(0x17e)](_0x157f60(0x18c),_0x502e6a[_0x157f60(0x1ad)]),loggerService_1['loggerService'][_0x157f60(0x1bd)](_0x157f60(0x19b),_0x502e6a[_0x157f60(0x1ad)],_0x502e6a[_0x157f60(0x182)]);const _0x837db=await this[_0x157f60(0x186)][_0x157f60(0x185)](_0x502e6a['body']);_0xcc85bb[_0x157f60(0x191)](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x380e21){console[_0x157f60(0x1bc)]('CoinToPay\x20webhook\x20processing\x20error:',_0x380e21),loggerService_1[_0x157f60(0x187)][_0x157f60(0x194)]('cointopay',_0x380e21,_0x502e6a[_0x157f60(0x1ad)]),_0xcc85bb[_0x157f60(0x191)](0xc8)[_0x157f60(0x1ba)]({'success':![],'message':_0x380e21 instanceof Error?_0x380e21[_0x157f60(0x1ae)]:_0x157f60(0x1bb)});}},this[_0x39ee39(0x188)]=async(_0x65f69f,_0x55e588,_0x409d64)=>{const _0x5510d7=_0x39ee39;try{console[_0x5510d7(0x17e)](_0x5510d7(0x1b2),_0x65f69f['body']),loggerService_1[_0x5510d7(0x187)][_0x5510d7(0x1bd)](_0x5510d7(0x184),_0x65f69f['body'],_0x65f69f[_0x5510d7(0x182)]);const _0x33aad9=await this[_0x5510d7(0x186)][_0x5510d7(0x1bf)](_0x65f69f[_0x5510d7(0x1ad)]);_0x55e588[_0x5510d7(0x191)](0xc8)[_0x5510d7(0x1ba)]({'success':!![],'message':_0x5510d7(0x183)});}catch(_0x5b7646){console[_0x5510d7(0x1bc)](_0x5510d7(0x1a9),_0x5b7646),loggerService_1['loggerService']['logWebhookError'](_0x5510d7(0x184),_0x5b7646,_0x65f69f['body']),_0x55e588[_0x5510d7(0x191)](0xc8)[_0x5510d7(0x1ba)]({'success':![],'message':_0x5b7646 instanceof Error?_0x5b7646[_0x5510d7(0x1ae)]:_0x5510d7(0x1aa)});}},this[_0x39ee39(0x19f)]=async(_0x503f28,_0x50cbdc,_0x1084ad)=>{const _0x1c9149=_0x39ee39;try{console[_0x1c9149(0x17e)](_0x1c9149(0x19c),_0x503f28[_0x1c9149(0x1ad)]),loggerService_1[_0x1c9149(0x187)][_0x1c9149(0x1bd)](_0x1c9149(0x1c0),_0x503f28['body'],_0x503f28[_0x1c9149(0x182)]);const _0x56191e=await this[_0x1c9149(0x186)]['processMasterCardWebhook'](_0x503f28[_0x1c9149(0x1ad)]);_0x50cbdc[_0x1c9149(0x191)](0xc8)[_0x1c9149(0x1ba)]({'success':!![],'message':_0x1c9149(0x180)});}catch(_0x14cc36){console[_0x1c9149(0x1bc)](_0x1c9149(0x1af),_0x14cc36),loggerService_1[_0x1c9149(0x187)][_0x1c9149(0x194)](_0x1c9149(0x1c0),_0x14cc36,_0x503f28[_0x1c9149(0x1ad)]),_0x50cbdc[_0x1c9149(0x191)](0xc8)[_0x1c9149(0x1ba)]({'success':![],'message':_0x14cc36 instanceof Error?_0x14cc36['message']:_0x1c9149(0x1a8)});}},this[_0x39ee39(0x186)]=new webhookService_1[(_0x39ee39(0x17c))]();}}function a15_0x3b24(_0x3e5416,_0x203f48){const _0x76eef3=a15_0x76ee();return a15_0x3b24=function(_0x3b2435,_0x50cfd9){_0x3b2435=_0x3b2435-0x178;let _0x576298=_0x76eef3[_0x3b2435];return _0x576298;},a15_0x3b24(_0x3e5416,_0x203f48);}exports[a15_0x2a348d(0x1a0)]=WebhookController;