'use strict';const a15_0x242a66=a15_0x4a1f;(function(_0x21a2c7,_0x263935){const _0x59d2c3=a15_0x4a1f,_0x2f2c3e=_0x21a2c7();while(!![]){try{const _0x397bac=parseInt(_0x59d2c3(0xf9))/0x1+-parseInt(_0x59d2c3(0x109))/0x2+-parseInt(_0x59d2c3(0x101))/0x3+parseInt(_0x59d2c3(0xf4))/0x4+parseInt(_0x59d2c3(0x11b))/0x5+parseInt(_0x59d2c3(0x11e))/0x6+-parseInt(_0x59d2c3(0x11f))/0x7;if(_0x397bac===_0x263935)break;else _0x2f2c3e['push'](_0x2f2c3e['shift']());}catch(_0x53a9e6){_0x2f2c3e['push'](_0x2f2c3e['shift']());}}}(a15_0x242a,0x46d4a));Object['defineProperty'](exports,a15_0x242a66(0xfe),{'value':!![]}),exports[a15_0x242a66(0x115)]=void 0x0;const webhookService_1=require(a15_0x242a66(0xf5)),loggerService_1=require(a15_0x242a66(0x11c));function a15_0x242a(){const _0x596464=['Body\x20content:','processKlymeWebhook','Received\x20Rapyd\x20webhook:','Gateway\x20webhook\x20processing\x20error:','log','Gateway\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','Webhook\x20processing\x20error:','Noda\x20webhook\x20processed\x20successfully','handleKlymeWebhook','Received\x20Noda\x20webhook:','Gateway\x20webhook\x20processing\x20failed','get','1451876yHQkiT','../services/webhookService','logWebhookReceived','Content-Type','plisio_gateway','404409prWKgA','Content-Type:','error','json','processMasterCardWebhook','__esModule','Noda\x20webhook\x20processing\x20error:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','387672sMtzVM','Noda\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','body','processCoinToPayWebhook','status','Body\x20keys:','noda','582098nHnEzG','processNodaWebhook','Rapyd\x20webhook\x20processed\x20successfully','processRapydWebhook','headers','rapyd','logWebhookError','keys','plisio','Raw\x20body\x20type:','webhookService','MasterCard\x20webhook\x20processed\x20successfully','WebhookController','cointopay','Received\x20CoinToPay\x20webhook:','Received\x20KLYME\x20webhook:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','message','1202085aPNmXk','../services/loggerService','loggerService','1135758ODlgrD','3406851QFvHuC','CoinToPay\x20webhook\x20processing\x20error:','handlePlisioWebhook','CoinToPay\x20webhook\x20processed\x20successfully','Webhook\x20processed\x20successfully','handlePlisioGatewayWebhook','processPlisioWebhook','WebhookService','klyme','Rapyd\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','handleNodaWebhook'];a15_0x242a=function(){return _0x596464;};return a15_0x242a();}function a15_0x4a1f(_0x597642,_0x3cf5f1){const _0x242a1f=a15_0x242a();return a15_0x4a1f=function(_0x4a1f40,_0x42650d){_0x4a1f40=_0x4a1f40-0xf2;let _0x390415=_0x242a1f[_0x4a1f40];return _0x390415;},a15_0x4a1f(_0x597642,_0x3cf5f1);}class WebhookController{constructor(){const _0x45aeb7=a15_0x242a66;this[_0x45aeb7(0x121)]=async(_0x3b73d3,_0x39112b,_0x585794)=>{const _0x577d42=_0x45aeb7;try{console[_0x577d42(0x12f)](_0x577d42(0x119)),console[_0x577d42(0x12f)](_0x577d42(0xfa),_0x3b73d3[_0x577d42(0xf3)](_0x577d42(0xf7))),console['log']('Raw\x20body\x20type:',typeof _0x3b73d3[_0x577d42(0x104)]),console[_0x577d42(0x12f)](_0x577d42(0x107),Object[_0x577d42(0x110)](_0x3b73d3['body']||{})),console[_0x577d42(0x12f)](_0x577d42(0x12b),_0x3b73d3[_0x577d42(0x104)]),loggerService_1[_0x577d42(0x11d)][_0x577d42(0xf6)](_0x577d42(0x111),_0x3b73d3['body'],_0x3b73d3['headers']);const _0x2ddfa2=await this[_0x577d42(0x113)][_0x577d42(0x125)](_0x3b73d3[_0x577d42(0x104)]);_0x39112b[_0x577d42(0x106)](0xc8)[_0x577d42(0xfc)]({'success':!![],'message':_0x577d42(0x123)});}catch(_0x2c30b1){console[_0x577d42(0xfb)](_0x577d42(0x132),_0x2c30b1),loggerService_1[_0x577d42(0x11d)][_0x577d42(0x10f)](_0x577d42(0x111),_0x2c30b1,_0x3b73d3[_0x577d42(0x104)]),_0x39112b[_0x577d42(0x106)](0xc8)[_0x577d42(0xfc)]({'success':![],'message':_0x2c30b1 instanceof Error?_0x2c30b1[_0x577d42(0x11a)]:_0x577d42(0x103)});}},this[_0x45aeb7(0x124)]=async(_0x5596de,_0x406611,_0x1ec764)=>{const _0x549df6=_0x45aeb7;try{console[_0x549df6(0x12f)](_0x549df6(0x100)),console['log']('Content-Type:',_0x5596de[_0x549df6(0xf3)](_0x549df6(0xf7))),console[_0x549df6(0x12f)](_0x549df6(0x112),typeof _0x5596de[_0x549df6(0x104)]),console[_0x549df6(0x12f)](_0x549df6(0x107),Object[_0x549df6(0x110)](_0x5596de[_0x549df6(0x104)]||{})),console[_0x549df6(0x12f)](_0x549df6(0x12b),_0x5596de[_0x549df6(0x104)]),loggerService_1[_0x549df6(0x11d)][_0x549df6(0xf6)](_0x549df6(0xf8),_0x5596de[_0x549df6(0x104)],_0x5596de[_0x549df6(0x10d)]);const _0x2d0974=await this[_0x549df6(0x113)]['processPlisioGatewayWebhook'](_0x5596de[_0x549df6(0x104)]);_0x406611[_0x549df6(0x106)](0xc8)[_0x549df6(0xfc)]({'success':!![],'message':_0x549df6(0x130)});}catch(_0x50fd8c){console[_0x549df6(0xfb)](_0x549df6(0x12e),_0x50fd8c),loggerService_1[_0x549df6(0x11d)][_0x549df6(0x10f)](_0x549df6(0xf8),_0x50fd8c,_0x5596de[_0x549df6(0x104)]),_0x406611['status'](0xc8)[_0x549df6(0xfc)]({'success':![],'message':_0x50fd8c instanceof Error?_0x50fd8c[_0x549df6(0x11a)]:_0x549df6(0xf2)});}},this['handleRapydWebhook']=async(_0x597fe1,_0x4a0fdf,_0x1a2b7b)=>{const _0x13e2a5=_0x45aeb7;try{console[_0x13e2a5(0x12f)](_0x13e2a5(0x12d),_0x597fe1[_0x13e2a5(0x104)]),loggerService_1['loggerService'][_0x13e2a5(0xf6)](_0x13e2a5(0x10e),_0x597fe1[_0x13e2a5(0x104)],_0x597fe1[_0x13e2a5(0x10d)]);const _0x2253c5=await this[_0x13e2a5(0x113)][_0x13e2a5(0x10c)](_0x597fe1[_0x13e2a5(0x104)]);_0x4a0fdf['status'](0xc8)['json']({'success':!![],'message':_0x13e2a5(0x10b)});}catch(_0x1b9747){console['error'](_0x13e2a5(0x128),_0x1b9747),loggerService_1[_0x13e2a5(0x11d)][_0x13e2a5(0x10f)]('rapyd',_0x1b9747,_0x597fe1[_0x13e2a5(0x104)]),_0x4a0fdf['status'](0xc8)[_0x13e2a5(0xfc)]({'success':![],'message':_0x1b9747 instanceof Error?_0x1b9747['message']:_0x13e2a5(0x129)});}},this[_0x45aeb7(0x12a)]=async(_0x235de9,_0xcabdce,_0xe0c09b)=>{const _0x22b649=_0x45aeb7;try{console[_0x22b649(0x12f)](_0x22b649(0x135),_0x235de9[_0x22b649(0x104)]),loggerService_1[_0x22b649(0x11d)][_0x22b649(0xf6)]('noda',_0x235de9[_0x22b649(0x104)],_0x235de9['headers']);const _0x15e148=await this[_0x22b649(0x113)][_0x22b649(0x10a)](_0x235de9[_0x22b649(0x104)]);_0xcabdce[_0x22b649(0x106)](0xc8)['json']({'success':!![],'message':_0x22b649(0x133)});}catch(_0x550ab7){console['error'](_0x22b649(0xff),_0x550ab7),loggerService_1[_0x22b649(0x11d)][_0x22b649(0x10f)](_0x22b649(0x108),_0x550ab7,_0x235de9['body']),_0xcabdce[_0x22b649(0x106)](0xc8)['json']({'success':![],'message':_0x550ab7 instanceof Error?_0x550ab7[_0x22b649(0x11a)]:_0x22b649(0x102)});}},this[_0x45aeb7(0x131)]=async(_0x3a58ff,_0x3d29d2,_0x276e87)=>{const _0x12644a=_0x45aeb7;try{console[_0x12644a(0x12f)](_0x12644a(0x117),_0x3a58ff['body']),loggerService_1[_0x12644a(0x11d)][_0x12644a(0xf6)](_0x12644a(0x116),_0x3a58ff[_0x12644a(0x104)],_0x3a58ff[_0x12644a(0x10d)]);const _0x310eac=await this[_0x12644a(0x113)][_0x12644a(0x105)](_0x3a58ff['body']);_0x3d29d2[_0x12644a(0x106)](0xc8)[_0x12644a(0xfc)]({'success':!![],'message':_0x12644a(0x122)});}catch(_0x3e2491){console[_0x12644a(0xfb)](_0x12644a(0x120),_0x3e2491),loggerService_1[_0x12644a(0x11d)][_0x12644a(0x10f)](_0x12644a(0x116),_0x3e2491,_0x3a58ff[_0x12644a(0x104)]),_0x3d29d2[_0x12644a(0x106)](0xc8)[_0x12644a(0xfc)]({'success':![],'message':_0x3e2491 instanceof Error?_0x3e2491[_0x12644a(0x11a)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x45aeb7(0x134)]=async(_0x43c857,_0x57fbf6,_0x26884f)=>{const _0x2a018e=_0x45aeb7;try{console[_0x2a018e(0x12f)](_0x2a018e(0x118),_0x43c857['body']),loggerService_1['loggerService'][_0x2a018e(0xf6)](_0x2a018e(0x127),_0x43c857['body'],_0x43c857[_0x2a018e(0x10d)]);const _0x134331=await this[_0x2a018e(0x113)][_0x2a018e(0x12c)](_0x43c857[_0x2a018e(0x104)]);_0x57fbf6[_0x2a018e(0x106)](0xc8)['json']({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x2d9cd8){console[_0x2a018e(0xfb)]('KLYME\x20webhook\x20processing\x20error:',_0x2d9cd8),loggerService_1['loggerService'][_0x2a018e(0x10f)]('klyme',_0x2d9cd8,_0x43c857[_0x2a018e(0x104)]),_0x57fbf6[_0x2a018e(0x106)](0xc8)[_0x2a018e(0xfc)]({'success':![],'message':_0x2d9cd8 instanceof Error?_0x2d9cd8[_0x2a018e(0x11a)]:'KLYME\x20webhook\x20processing\x20failed'});}},this['handleMasterCardWebhook']=async(_0xf49d83,_0x36e3a9,_0x5de591)=>{const _0x20b6fe=_0x45aeb7;try{console[_0x20b6fe(0x12f)]('Received\x20MasterCard\x20webhook:',_0xf49d83[_0x20b6fe(0x104)]),loggerService_1[_0x20b6fe(0x11d)][_0x20b6fe(0xf6)]('mastercard',_0xf49d83[_0x20b6fe(0x104)],_0xf49d83[_0x20b6fe(0x10d)]);const _0x53393a=await this[_0x20b6fe(0x113)][_0x20b6fe(0xfd)](_0xf49d83[_0x20b6fe(0x104)]);_0x36e3a9['status'](0xc8)[_0x20b6fe(0xfc)]({'success':!![],'message':_0x20b6fe(0x114)});}catch(_0x2c7faf){console['error']('MasterCard\x20webhook\x20processing\x20error:',_0x2c7faf),loggerService_1[_0x20b6fe(0x11d)]['logWebhookError']('mastercard',_0x2c7faf,_0xf49d83[_0x20b6fe(0x104)]),_0x36e3a9[_0x20b6fe(0x106)](0xc8)['json']({'success':![],'message':_0x2c7faf instanceof Error?_0x2c7faf['message']:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x45aeb7(0x113)]=new webhookService_1[(_0x45aeb7(0x126))]();}}exports[a15_0x242a66(0x115)]=WebhookController;