'use strict';const a15_0x15dba9=a15_0x5757;(function(_0x508be7,_0x69e641){const _0x503ca0=a15_0x5757,_0x349c0f=_0x508be7();while(!![]){try{const _0x36bd95=parseInt(_0x503ca0(0xd1))/0x1*(parseInt(_0x503ca0(0xed))/0x2)+-parseInt(_0x503ca0(0xec))/0x3*(-parseInt(_0x503ca0(0xce))/0x4)+-parseInt(_0x503ca0(0xbd))/0x5*(parseInt(_0x503ca0(0xc5))/0x6)+parseInt(_0x503ca0(0xc9))/0x7+-parseInt(_0x503ca0(0xe0))/0x8+-parseInt(_0x503ca0(0xdd))/0x9*(parseInt(_0x503ca0(0xf3))/0xa)+-parseInt(_0x503ca0(0xde))/0xb*(-parseInt(_0x503ca0(0xf7))/0xc);if(_0x36bd95===_0x69e641)break;else _0x349c0f['push'](_0x349c0f['shift']());}catch(_0x4d7ab9){_0x349c0f['push'](_0x349c0f['shift']());}}}(a15_0x1e75,0x471a3));function a15_0x1e75(){const _0x38c419=['webhookService','Gateway\x20webhook\x20processing\x20failed','processMasterCardWebhook','Noda\x20webhook\x20processing\x20error:','log','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','3qHQAWp','2gfVKSG','../services/webhookService','processPlisioGatewayWebhook','MasterCard\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','body','5483150yuvnbQ','Rapyd\x20webhook\x20processed\x20successfully','processKlymeWebhook','mastercard','120zGiuoT','message','CoinToPay\x20webhook\x20processed\x20successfully','Raw\x20body\x20type:','handleMasterCardWebhook','cointopay','Rapyd\x20webhook\x20processing\x20failed','klyme','rapyd','handleKlymeWebhook','KLYME\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20failed','Received\x20Noda\x20webhook:','Rapyd\x20webhook\x20processing\x20error:','Body\x20content:','1627545SMknNS','get','processNodaWebhook','handlePlisioWebhook','keys','Content-Type','handleNodaWebhook','handleCoinToPayWebhook','6UwjRpi','WebhookController','Received\x20CoinToPay\x20webhook:','Body\x20keys:','3474786Oiuhbx','Webhook\x20processed\x20successfully','noda','processCoinToPayWebhook','WebhookService','1216312vyyCNX','MasterCard\x20webhook\x20processing\x20error:','logWebhookError','195557WQlagv','Gateway\x20webhook\x20processing\x20error:','logWebhookReceived','Noda\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20failed','json','KLYME\x20webhook\x20processed\x20successfully','headers','__esModule','status','../services/loggerService','loggerService','9xKcKkX','540408lEJKjt','Content-Type:','2578032whrlwH','MasterCard\x20webhook\x20processed\x20successfully','error','plisio','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processRapydWebhook'];a15_0x1e75=function(){return _0x38c419;};return a15_0x1e75();}Object['defineProperty'](exports,a15_0x15dba9(0xd9),{'value':!![]}),exports[a15_0x15dba9(0xc6)]=void 0x0;function a15_0x5757(_0x38a39f,_0x2fdf0d){const _0x1e7575=a15_0x1e75();return a15_0x5757=function(_0x5757fc,_0x261ac7){_0x5757fc=_0x5757fc-0xb6;let _0x30a73b=_0x1e7575[_0x5757fc];return _0x30a73b;},a15_0x5757(_0x38a39f,_0x2fdf0d);}const webhookService_1=require(a15_0x15dba9(0xee)),loggerService_1=require(a15_0x15dba9(0xdb));class WebhookController{constructor(){const _0x5b1ca9=a15_0x15dba9;this[_0x5b1ca9(0xc0)]=async(_0x34a3ba,_0x4442ef,_0x6f126c)=>{const _0x2a4778=_0x5b1ca9;try{console['log'](_0x2a4778(0xeb)),console[_0x2a4778(0xea)]('Content-Type:',_0x34a3ba[_0x2a4778(0xbe)](_0x2a4778(0xc2))),console[_0x2a4778(0xea)](_0x2a4778(0xfa),typeof _0x34a3ba[_0x2a4778(0xf2)]),console['log']('Body\x20keys:',Object['keys'](_0x34a3ba['body']||{})),console[_0x2a4778(0xea)](_0x2a4778(0xbc),_0x34a3ba['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x2a4778(0xe3),_0x34a3ba[_0x2a4778(0xf2)],_0x34a3ba[_0x2a4778(0xd8)]);const _0x5cb9dc=await this[_0x2a4778(0xe6)]['processPlisioWebhook'](_0x34a3ba[_0x2a4778(0xf2)]);_0x4442ef[_0x2a4778(0xda)](0xc8)[_0x2a4778(0xd6)]({'success':!![],'message':_0x2a4778(0xca)});}catch(_0x3d3df0){console['error']('Webhook\x20processing\x20error:',_0x3d3df0),loggerService_1['loggerService'][_0x2a4778(0xd0)](_0x2a4778(0xe3),_0x3d3df0,_0x34a3ba[_0x2a4778(0xf2)]),_0x4442ef[_0x2a4778(0xda)](0xc8)[_0x2a4778(0xd6)]({'success':![],'message':_0x3d3df0 instanceof Error?_0x3d3df0[_0x2a4778(0xf8)]:_0x2a4778(0xf1)});}},this['handlePlisioGatewayWebhook']=async(_0xab7f2f,_0xd29891,_0x5a45e9)=>{const _0x165e86=_0x5b1ca9;try{console[_0x165e86(0xea)](_0x165e86(0xe4)),console[_0x165e86(0xea)](_0x165e86(0xdf),_0xab7f2f['get'](_0x165e86(0xc2))),console[_0x165e86(0xea)](_0x165e86(0xfa),typeof _0xab7f2f[_0x165e86(0xf2)]),console['log'](_0x165e86(0xc8),Object[_0x165e86(0xc1)](_0xab7f2f[_0x165e86(0xf2)]||{})),console[_0x165e86(0xea)](_0x165e86(0xbc),_0xab7f2f['body']),loggerService_1[_0x165e86(0xdc)][_0x165e86(0xd3)]('plisio_gateway',_0xab7f2f[_0x165e86(0xf2)],_0xab7f2f['headers']);const _0x3cb0c0=await this['webhookService'][_0x165e86(0xef)](_0xab7f2f['body']);_0xd29891['status'](0xc8)[_0x165e86(0xd6)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x277275){console[_0x165e86(0xe2)](_0x165e86(0xd2),_0x277275),loggerService_1[_0x165e86(0xdc)][_0x165e86(0xd0)]('plisio_gateway',_0x277275,_0xab7f2f[_0x165e86(0xf2)]),_0xd29891[_0x165e86(0xda)](0xc8)[_0x165e86(0xd6)]({'success':![],'message':_0x277275 instanceof Error?_0x277275[_0x165e86(0xf8)]:_0x165e86(0xe7)});}},this['handleRapydWebhook']=async(_0x1ea048,_0x50ef3c,_0xdf3623)=>{const _0x48fdec=_0x5b1ca9;try{console['log']('Received\x20Rapyd\x20webhook:',_0x1ea048[_0x48fdec(0xf2)]),loggerService_1[_0x48fdec(0xdc)][_0x48fdec(0xd3)](_0x48fdec(0xb6),_0x1ea048[_0x48fdec(0xf2)],_0x1ea048['headers']);const _0x2fdd0c=await this[_0x48fdec(0xe6)][_0x48fdec(0xe5)](_0x1ea048['body']);_0x50ef3c[_0x48fdec(0xda)](0xc8)['json']({'success':!![],'message':_0x48fdec(0xf4)});}catch(_0x2caaf1){console[_0x48fdec(0xe2)](_0x48fdec(0xbb),_0x2caaf1),loggerService_1['loggerService'][_0x48fdec(0xd0)](_0x48fdec(0xb6),_0x2caaf1,_0x1ea048[_0x48fdec(0xf2)]),_0x50ef3c[_0x48fdec(0xda)](0xc8)[_0x48fdec(0xd6)]({'success':![],'message':_0x2caaf1 instanceof Error?_0x2caaf1['message']:_0x48fdec(0xfd)});}},this[_0x5b1ca9(0xc3)]=async(_0x890a7,_0x18b850,_0x166b16)=>{const _0x10c080=_0x5b1ca9;try{console[_0x10c080(0xea)](_0x10c080(0xba),_0x890a7[_0x10c080(0xf2)]),loggerService_1[_0x10c080(0xdc)]['logWebhookReceived'](_0x10c080(0xcb),_0x890a7['body'],_0x890a7[_0x10c080(0xd8)]);const _0x2f863c=await this[_0x10c080(0xe6)][_0x10c080(0xbf)](_0x890a7[_0x10c080(0xf2)]);_0x18b850[_0x10c080(0xda)](0xc8)[_0x10c080(0xd6)]({'success':!![],'message':_0x10c080(0xd4)});}catch(_0x26609f){console[_0x10c080(0xe2)](_0x10c080(0xe9),_0x26609f),loggerService_1[_0x10c080(0xdc)][_0x10c080(0xd0)](_0x10c080(0xcb),_0x26609f,_0x890a7[_0x10c080(0xf2)]),_0x18b850[_0x10c080(0xda)](0xc8)[_0x10c080(0xd6)]({'success':![],'message':_0x26609f instanceof Error?_0x26609f[_0x10c080(0xf8)]:_0x10c080(0xb9)});}},this[_0x5b1ca9(0xc4)]=async(_0x46af6b,_0xce955e,_0x2c8e56)=>{const _0x2882e4=_0x5b1ca9;try{console[_0x2882e4(0xea)](_0x2882e4(0xc7),_0x46af6b[_0x2882e4(0xf2)]),loggerService_1[_0x2882e4(0xdc)][_0x2882e4(0xd3)]('cointopay',_0x46af6b['body'],_0x46af6b[_0x2882e4(0xd8)]);const _0x4a21bf=await this[_0x2882e4(0xe6)][_0x2882e4(0xcc)](_0x46af6b['body']);_0xce955e[_0x2882e4(0xda)](0xc8)[_0x2882e4(0xd6)]({'success':!![],'message':_0x2882e4(0xf9)});}catch(_0x5bae43){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0x5bae43),loggerService_1['loggerService'][_0x2882e4(0xd0)](_0x2882e4(0xfc),_0x5bae43,_0x46af6b[_0x2882e4(0xf2)]),_0xce955e[_0x2882e4(0xda)](0xc8)[_0x2882e4(0xd6)]({'success':![],'message':_0x5bae43 instanceof Error?_0x5bae43[_0x2882e4(0xf8)]:_0x2882e4(0xd5)});}},this[_0x5b1ca9(0xb7)]=async(_0x1c4f85,_0x3da203,_0x2195ba)=>{const _0x4088a7=_0x5b1ca9;try{console['log']('Received\x20KLYME\x20webhook:',_0x1c4f85[_0x4088a7(0xf2)]),loggerService_1[_0x4088a7(0xdc)]['logWebhookReceived']('klyme',_0x1c4f85[_0x4088a7(0xf2)],_0x1c4f85['headers']);const _0x258000=await this[_0x4088a7(0xe6)][_0x4088a7(0xf5)](_0x1c4f85[_0x4088a7(0xf2)]);_0x3da203[_0x4088a7(0xda)](0xc8)['json']({'success':!![],'message':_0x4088a7(0xd7)});}catch(_0x135480){console[_0x4088a7(0xe2)](_0x4088a7(0xb8),_0x135480),loggerService_1['loggerService'][_0x4088a7(0xd0)](_0x4088a7(0xfe),_0x135480,_0x1c4f85[_0x4088a7(0xf2)]),_0x3da203['status'](0xc8)[_0x4088a7(0xd6)]({'success':![],'message':_0x135480 instanceof Error?_0x135480['message']:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x5b1ca9(0xfb)]=async(_0x3f774d,_0x594ba0,_0x50181e)=>{const _0x1193b7=_0x5b1ca9;try{console[_0x1193b7(0xea)]('Received\x20MasterCard\x20webhook:',_0x3f774d[_0x1193b7(0xf2)]),loggerService_1[_0x1193b7(0xdc)][_0x1193b7(0xd3)](_0x1193b7(0xf6),_0x3f774d[_0x1193b7(0xf2)],_0x3f774d[_0x1193b7(0xd8)]);const _0x367149=await this[_0x1193b7(0xe6)][_0x1193b7(0xe8)](_0x3f774d[_0x1193b7(0xf2)]);_0x594ba0[_0x1193b7(0xda)](0xc8)[_0x1193b7(0xd6)]({'success':!![],'message':_0x1193b7(0xe1)});}catch(_0x3b715b){console[_0x1193b7(0xe2)](_0x1193b7(0xcf),_0x3b715b),loggerService_1[_0x1193b7(0xdc)][_0x1193b7(0xd0)](_0x1193b7(0xf6),_0x3b715b,_0x3f774d[_0x1193b7(0xf2)]),_0x594ba0[_0x1193b7(0xda)](0xc8)['json']({'success':![],'message':_0x3b715b instanceof Error?_0x3b715b[_0x1193b7(0xf8)]:_0x1193b7(0xf0)});}},this[_0x5b1ca9(0xe6)]=new webhookService_1[(_0x5b1ca9(0xcd))]();}}exports[a15_0x15dba9(0xc6)]=WebhookController;