'use strict';const a15_0xaf3bef=a15_0x609d;(function(_0x1eee12,_0x42cb0a){const _0x1704ca=a15_0x609d,_0x3ca240=_0x1eee12();while(!![]){try{const _0x3b937d=parseInt(_0x1704ca(0x202))/0x1*(-parseInt(_0x1704ca(0x228))/0x2)+parseInt(_0x1704ca(0x222))/0x3+-parseInt(_0x1704ca(0x22f))/0x4+parseInt(_0x1704ca(0x1f6))/0x5+-parseInt(_0x1704ca(0x224))/0x6*(parseInt(_0x1704ca(0x1f8))/0x7)+-parseInt(_0x1704ca(0x20c))/0x8*(-parseInt(_0x1704ca(0x22a))/0x9)+parseInt(_0x1704ca(0x20a))/0xa*(parseInt(_0x1704ca(0x209))/0xb);if(_0x3b937d===_0x42cb0a)break;else _0x3ca240['push'](_0x3ca240['shift']());}catch(_0x632b54){_0x3ca240['push'](_0x3ca240['shift']());}}}(a15_0x1032,0xe61fb));function a15_0x1032(){const _0x3d249a=['error','plisio_gateway','processRapydWebhook','Raw\x20body\x20type:','Noda\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processing\x20error:','message','Webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','4373355wyiMtS','processPlisioWebhook','20364NFcRGk','Body\x20keys:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','body','34rNbyWF','klyme','10659717BFfjpW','MasterCard\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','handleRapydWebhook','cointopay','4641292zqVEeZ','CoinToPay\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processed\x20successfully','status','webhookService','Content-Type:','WebhookController','__esModule','Received\x20MasterCard\x20webhook:','processNodaWebhook','handleMasterCardWebhook','json','plisio','log','CoinToPay\x20webhook\x20processed\x20successfully','418095Sjqskp','Noda\x20webhook\x20processing\x20error:','3157BBWsUJ','handleNodaWebhook','MasterCard\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Rapyd\x20webhook\x20processing\x20failed','rapyd','Gateway\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processed\x20successfully','headers','33526vpbFII','MasterCard\x20webhook\x20processing\x20failed','../services/loggerService','Received\x20Rapyd\x20webhook:','Received\x20Noda\x20webhook:','get','processCoinToPayWebhook','16255019cQcLks','10bTYaNl','processKlymeWebhook','8wjjcAq','keys','CoinToPay\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','processMasterCardWebhook','Gateway\x20webhook\x20processing\x20failed','logWebhookReceived','Content-Type','loggerService','mastercard','noda','handlePlisioWebhook','logWebhookError'];a15_0x1032=function(){return _0x3d249a;};return a15_0x1032();}Object['defineProperty'](exports,a15_0xaf3bef(0x1ee),{'value':!![]}),exports[a15_0xaf3bef(0x1ed)]=void 0x0;function a15_0x609d(_0xe2a4dd,_0x1f262b){const _0x1032a7=a15_0x1032();return a15_0x609d=function(_0x609d71,_0x108b7a){_0x609d71=_0x609d71-0x1eb;let _0x3318db=_0x1032a7[_0x609d71];return _0x3318db;},a15_0x609d(_0xe2a4dd,_0x1f262b);}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0xaf3bef(0x204));class WebhookController{constructor(){const _0x47e692=a15_0xaf3bef;this[_0x47e692(0x217)]=async(_0x1f04f3,_0x3f744a,_0x82b9dd)=>{const _0xc579b4=_0x47e692;try{console[_0xc579b4(0x1f4)](_0xc579b4(0x226)),console[_0xc579b4(0x1f4)](_0xc579b4(0x1ec),_0x1f04f3[_0xc579b4(0x207)](_0xc579b4(0x213))),console[_0xc579b4(0x1f4)](_0xc579b4(0x21c),typeof _0x1f04f3[_0xc579b4(0x227)]),console['log'](_0xc579b4(0x225),Object[_0xc579b4(0x20d)](_0x1f04f3[_0xc579b4(0x227)]||{})),console[_0xc579b4(0x1f4)]('Body\x20content:',_0x1f04f3[_0xc579b4(0x227)]),loggerService_1[_0xc579b4(0x214)][_0xc579b4(0x212)](_0xc579b4(0x1f3),_0x1f04f3[_0xc579b4(0x227)],_0x1f04f3[_0xc579b4(0x201)]);const _0x529f9e=await this[_0xc579b4(0x1eb)][_0xc579b4(0x223)](_0x1f04f3['body']);_0x3f744a['status'](0xc8)['json']({'success':!![],'message':_0xc579b4(0x221)});}catch(_0x54e9eb){console[_0xc579b4(0x219)](_0xc579b4(0x22c),_0x54e9eb),loggerService_1[_0xc579b4(0x214)]['logWebhookError']('plisio',_0x54e9eb,_0x1f04f3[_0xc579b4(0x227)]),_0x3f744a[_0xc579b4(0x232)](0xc8)[_0xc579b4(0x1f2)]({'success':![],'message':_0x54e9eb instanceof Error?_0x54e9eb['message']:_0xc579b4(0x220)});}},this['handlePlisioGatewayWebhook']=async(_0x41639d,_0x4dfe27,_0x5a1169)=>{const _0x3df22d=_0x47e692;try{console[_0x3df22d(0x1f4)](_0x3df22d(0x1fc)),console[_0x3df22d(0x1f4)]('Content-Type:',_0x41639d['get'](_0x3df22d(0x213))),console[_0x3df22d(0x1f4)](_0x3df22d(0x21c),typeof _0x41639d[_0x3df22d(0x227)]),console[_0x3df22d(0x1f4)](_0x3df22d(0x225),Object[_0x3df22d(0x20d)](_0x41639d[_0x3df22d(0x227)]||{})),console[_0x3df22d(0x1f4)]('Body\x20content:',_0x41639d[_0x3df22d(0x227)]),loggerService_1['loggerService']['logWebhookReceived'](_0x3df22d(0x21a),_0x41639d['body'],_0x41639d[_0x3df22d(0x201)]);const _0x2ef137=await this[_0x3df22d(0x1eb)]['processPlisioGatewayWebhook'](_0x41639d[_0x3df22d(0x227)]);_0x4dfe27[_0x3df22d(0x232)](0xc8)[_0x3df22d(0x1f2)]({'success':!![],'message':_0x3df22d(0x1fb)});}catch(_0x71cdc8){console[_0x3df22d(0x219)](_0x3df22d(0x1ff),_0x71cdc8),loggerService_1['loggerService'][_0x3df22d(0x218)](_0x3df22d(0x21a),_0x71cdc8,_0x41639d[_0x3df22d(0x227)]),_0x4dfe27[_0x3df22d(0x232)](0xc8)[_0x3df22d(0x1f2)]({'success':![],'message':_0x71cdc8 instanceof Error?_0x71cdc8[_0x3df22d(0x21f)]:_0x3df22d(0x211)});}},this[_0x47e692(0x22d)]=async(_0x3e2c8b,_0x134977,_0xdb6d9d)=>{const _0x4886f5=_0x47e692;try{console[_0x4886f5(0x1f4)](_0x4886f5(0x205),_0x3e2c8b['body']),loggerService_1[_0x4886f5(0x214)]['logWebhookReceived']('rapyd',_0x3e2c8b['body'],_0x3e2c8b['headers']);const _0x161b5a=await this[_0x4886f5(0x1eb)][_0x4886f5(0x21b)](_0x3e2c8b['body']);_0x134977[_0x4886f5(0x232)](0xc8)[_0x4886f5(0x1f2)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x21268b){console['error'](_0x4886f5(0x21e),_0x21268b),loggerService_1[_0x4886f5(0x214)][_0x4886f5(0x218)](_0x4886f5(0x1fe),_0x21268b,_0x3e2c8b[_0x4886f5(0x227)]),_0x134977[_0x4886f5(0x232)](0xc8)['json']({'success':![],'message':_0x21268b instanceof Error?_0x21268b['message']:_0x4886f5(0x1fd)});}},this[_0x47e692(0x1f9)]=async(_0x98a7c0,_0x493433,_0x452fd9)=>{const _0x1a740f=_0x47e692;try{console[_0x1a740f(0x1f4)](_0x1a740f(0x206),_0x98a7c0[_0x1a740f(0x227)]),loggerService_1[_0x1a740f(0x214)][_0x1a740f(0x212)](_0x1a740f(0x216),_0x98a7c0[_0x1a740f(0x227)],_0x98a7c0[_0x1a740f(0x201)]);const _0x2c9c18=await this['webhookService'][_0x1a740f(0x1f0)](_0x98a7c0[_0x1a740f(0x227)]);_0x493433[_0x1a740f(0x232)](0xc8)['json']({'success':!![],'message':_0x1a740f(0x231)});}catch(_0x549c58){console[_0x1a740f(0x219)](_0x1a740f(0x1f7),_0x549c58),loggerService_1['loggerService'][_0x1a740f(0x218)](_0x1a740f(0x216),_0x549c58,_0x98a7c0[_0x1a740f(0x227)]),_0x493433[_0x1a740f(0x232)](0xc8)['json']({'success':![],'message':_0x549c58 instanceof Error?_0x549c58[_0x1a740f(0x21f)]:_0x1a740f(0x21d)});}},this[_0x47e692(0x20f)]=async(_0x41a046,_0xf35a5a,_0x4809f9)=>{const _0x3e6c3a=_0x47e692;try{console[_0x3e6c3a(0x1f4)]('Received\x20CoinToPay\x20webhook:',_0x41a046[_0x3e6c3a(0x227)]),loggerService_1[_0x3e6c3a(0x214)][_0x3e6c3a(0x212)](_0x3e6c3a(0x22e),_0x41a046[_0x3e6c3a(0x227)],_0x41a046[_0x3e6c3a(0x201)]);const _0x43741f=await this['webhookService'][_0x3e6c3a(0x208)](_0x41a046[_0x3e6c3a(0x227)]);_0xf35a5a['status'](0xc8)[_0x3e6c3a(0x1f2)]({'success':!![],'message':_0x3e6c3a(0x1f5)});}catch(_0x5361a5){console[_0x3e6c3a(0x219)](_0x3e6c3a(0x20e),_0x5361a5),loggerService_1[_0x3e6c3a(0x214)][_0x3e6c3a(0x218)](_0x3e6c3a(0x22e),_0x5361a5,_0x41a046['body']),_0xf35a5a[_0x3e6c3a(0x232)](0xc8)[_0x3e6c3a(0x1f2)]({'success':![],'message':_0x5361a5 instanceof Error?_0x5361a5[_0x3e6c3a(0x21f)]:_0x3e6c3a(0x230)});}},this['handleKlymeWebhook']=async(_0x28b759,_0x898844,_0xd06e41)=>{const _0x1593ae=_0x47e692;try{console['log']('Received\x20KLYME\x20webhook:',_0x28b759[_0x1593ae(0x227)]),loggerService_1[_0x1593ae(0x214)]['logWebhookReceived'](_0x1593ae(0x229),_0x28b759[_0x1593ae(0x227)],_0x28b759['headers']);const _0xb3d96f=await this['webhookService'][_0x1593ae(0x20b)](_0x28b759['body']);_0x898844['status'](0xc8)[_0x1593ae(0x1f2)]({'success':!![],'message':_0x1593ae(0x200)});}catch(_0x1797a6){console['error']('KLYME\x20webhook\x20processing\x20error:',_0x1797a6),loggerService_1[_0x1593ae(0x214)]['logWebhookError']('klyme',_0x1797a6,_0x28b759['body']),_0x898844[_0x1593ae(0x232)](0xc8)['json']({'success':![],'message':_0x1797a6 instanceof Error?_0x1797a6['message']:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x47e692(0x1f1)]=async(_0x30b933,_0x3a9b2f,_0x1a695c)=>{const _0x490f9d=_0x47e692;try{console[_0x490f9d(0x1f4)](_0x490f9d(0x1ef),_0x30b933['body']),loggerService_1['loggerService'][_0x490f9d(0x212)](_0x490f9d(0x215),_0x30b933[_0x490f9d(0x227)],_0x30b933[_0x490f9d(0x201)]);const _0x5bed81=await this[_0x490f9d(0x1eb)][_0x490f9d(0x210)](_0x30b933[_0x490f9d(0x227)]);_0x3a9b2f['status'](0xc8)[_0x490f9d(0x1f2)]({'success':!![],'message':_0x490f9d(0x1fa)});}catch(_0x57d968){console['error'](_0x490f9d(0x22b),_0x57d968),loggerService_1['loggerService'][_0x490f9d(0x218)](_0x490f9d(0x215),_0x57d968,_0x30b933[_0x490f9d(0x227)]),_0x3a9b2f[_0x490f9d(0x232)](0xc8)[_0x490f9d(0x1f2)]({'success':![],'message':_0x57d968 instanceof Error?_0x57d968[_0x490f9d(0x21f)]:_0x490f9d(0x203)});}},this[_0x47e692(0x1eb)]=new webhookService_1['WebhookService']();}}exports[a15_0xaf3bef(0x1ed)]=WebhookController;