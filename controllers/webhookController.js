'use strict';const a15_0x53192a=a15_0x55fd;(function(_0x2bfc2e,_0x18be61){const _0x2332c5=a15_0x55fd,_0x138cba=_0x2bfc2e();while(!![]){try{const _0x5595ab=parseInt(_0x2332c5(0xfe))/0x1*(-parseInt(_0x2332c5(0x120))/0x2)+parseInt(_0x2332c5(0x127))/0x3+parseInt(_0x2332c5(0xef))/0x4*(parseInt(_0x2332c5(0xe2))/0x5)+-parseInt(_0x2332c5(0x125))/0x6+-parseInt(_0x2332c5(0x129))/0x7+-parseInt(_0x2332c5(0x115))/0x8+parseInt(_0x2332c5(0x101))/0x9;if(_0x5595ab===_0x18be61)break;else _0x138cba['push'](_0x138cba['shift']());}catch(_0x4e2c83){_0x138cba['push'](_0x138cba['shift']());}}}(a15_0x5b93,0xc1d95));function a15_0x55fd(_0x275769,_0x1c31d9){const _0x5b93a2=a15_0x5b93();return a15_0x55fd=function(_0x55fd9b,_0x13e383){_0x55fd9b=_0x55fd9b-0xdc;let _0x40f98d=_0x5b93a2[_0x55fd9b];return _0x40f98d;},a15_0x55fd(_0x275769,_0x1c31d9);}Object[a15_0x53192a(0xf9)](exports,a15_0x53192a(0xee),{'value':!![]}),exports[a15_0x53192a(0x121)]=void 0x0;function a15_0x5b93(){const _0xda78c2=['body','Amer\x20webhook\x20processing\x20failed','Raw\x20body\x20type:','CoinToPay\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','cointopay','plisio_gateway','Webhook\x20processing\x20failed','136sLlPQz','WebhookController','CoinToPay\x20webhook\x20processing\x20failed','Rapyd\x20webhook\x20processed\x20successfully','json','4901412lsMPtS','Amer\x20webhook\x20processed\x20successfully','739890BpewIk','Content-Type:','6231127QuPzMo','Gateway\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20error:','noda','WebhookService','Noda\x20webhook\x20processed\x20successfully','Body\x20keys:','loggerService','log','handleKlymeWebhook','Webhook\x20processed\x20successfully','5FfqyBT','Gateway\x20webhook\x20processing\x20failed','processNodaWebhook','Received\x20Amer\x20webhook:','../services/loggerService','handleMasterCardWebhook','klyme','rapyd','handlePlisioWebhook','handleCoinToPayWebhook','amer','logWebhookError','__esModule','3781112woIGSy','handleRapydWebhook','MasterCard\x20webhook\x20processing\x20failed','keys','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','plisio','processAmerWebhook','Received\x20CoinToPay\x20webhook:','processCoinToPayWebhook','cointopay2','defineProperty','headers','mastercard','error','Rapyd\x20webhook\x20processing\x20error:','13491ZIdeEN','Received\x20CoinToPay2\x20webhook:','get','28739826sDGhJD','Received\x20MasterCard\x20webhook:','Noda\x20webhook\x20processing\x20error:','Content-Type','KLYME\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20failed','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','KLYME\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20failed','webhookService','CoinToPay\x20webhook\x20processed\x20successfully','processKlymeWebhook','Body\x20content:','processCoinToPay2Webhook','logWebhookReceived','message','Received\x20Noda\x20webhook:','processMasterCardWebhook','processPlisioGatewayWebhook','MasterCard\x20webhook\x20processed\x20successfully','7734128DOpDIv','Received\x20KLYME\x20webhook:','status'];a15_0x5b93=function(){return _0xda78c2;};return a15_0x5b93();}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x53192a(0xe6));class WebhookController{constructor(){const _0x357e2a=a15_0x53192a;this[_0x357e2a(0xea)]=async(_0x33f675,_0x1a40d1,_0xb90267)=>{const _0x2eb82a=_0x357e2a;try{console[_0x2eb82a(0xdf)](_0x2eb82a(0xf3)),console[_0x2eb82a(0xdf)]('Content-Type:',_0x33f675[_0x2eb82a(0x100)](_0x2eb82a(0x104))),console[_0x2eb82a(0xdf)](_0x2eb82a(0x11a),typeof _0x33f675['body']),console[_0x2eb82a(0xdf)](_0x2eb82a(0xdd),Object[_0x2eb82a(0xf2)](_0x33f675[_0x2eb82a(0x118)]||{})),console[_0x2eb82a(0xdf)](_0x2eb82a(0x10d),_0x33f675[_0x2eb82a(0x118)]),loggerService_1[_0x2eb82a(0xde)]['logWebhookReceived'](_0x2eb82a(0xf4),_0x33f675[_0x2eb82a(0x118)],_0x33f675[_0x2eb82a(0xfa)]);const _0x1d37d7=await this['webhookService']['processPlisioWebhook'](_0x33f675[_0x2eb82a(0x118)]);_0x1a40d1[_0x2eb82a(0x117)](0xc8)['json']({'success':!![],'message':_0x2eb82a(0xe1)});}catch(_0x5208fd){console[_0x2eb82a(0xfc)]('Webhook\x20processing\x20error:',_0x5208fd),loggerService_1[_0x2eb82a(0xde)][_0x2eb82a(0xed)]('plisio',_0x5208fd,_0x33f675[_0x2eb82a(0x118)]),_0x1a40d1['status'](0xc8)[_0x2eb82a(0x124)]({'success':![],'message':_0x5208fd instanceof Error?_0x5208fd[_0x2eb82a(0x110)]:_0x2eb82a(0x11f)});}},this['handlePlisioGatewayWebhook']=async(_0x69902c,_0x2845ad,_0x38f38b)=>{const _0x5c8b68=_0x357e2a;try{console[_0x5c8b68(0xdf)](_0x5c8b68(0x107)),console[_0x5c8b68(0xdf)](_0x5c8b68(0x128),_0x69902c[_0x5c8b68(0x100)](_0x5c8b68(0x104))),console[_0x5c8b68(0xdf)]('Raw\x20body\x20type:',typeof _0x69902c[_0x5c8b68(0x118)]),console[_0x5c8b68(0xdf)]('Body\x20keys:',Object[_0x5c8b68(0xf2)](_0x69902c['body']||{})),console[_0x5c8b68(0xdf)](_0x5c8b68(0x10d),_0x69902c['body']),loggerService_1[_0x5c8b68(0xde)][_0x5c8b68(0x10f)](_0x5c8b68(0x11e),_0x69902c['body'],_0x69902c[_0x5c8b68(0xfa)]);const _0x2ebd0c=await this['webhookService'][_0x5c8b68(0x113)](_0x69902c[_0x5c8b68(0x118)]);_0x2845ad['status'](0xc8)['json']({'success':!![],'message':_0x5c8b68(0x12a)});}catch(_0x1d6ca3){console['error'](_0x5c8b68(0x11c),_0x1d6ca3),loggerService_1[_0x5c8b68(0xde)][_0x5c8b68(0xed)]('plisio_gateway',_0x1d6ca3,_0x69902c[_0x5c8b68(0x118)]),_0x2845ad[_0x5c8b68(0x117)](0xc8)[_0x5c8b68(0x124)]({'success':![],'message':_0x1d6ca3 instanceof Error?_0x1d6ca3[_0x5c8b68(0x110)]:_0x5c8b68(0xe3)});}},this[_0x357e2a(0xf0)]=async(_0x4b9843,_0x5e6364,_0x37c27c)=>{const _0x2fa971=_0x357e2a;try{console['log']('Received\x20Rapyd\x20webhook:',_0x4b9843['body']),loggerService_1[_0x2fa971(0xde)][_0x2fa971(0x10f)](_0x2fa971(0xe9),_0x4b9843[_0x2fa971(0x118)],_0x4b9843[_0x2fa971(0xfa)]);const _0x12d1c9=await this[_0x2fa971(0x10a)]['processRapydWebhook'](_0x4b9843[_0x2fa971(0x118)]);_0x5e6364[_0x2fa971(0x117)](0xc8)[_0x2fa971(0x124)]({'success':!![],'message':_0x2fa971(0x123)});}catch(_0x401f51){console[_0x2fa971(0xfc)](_0x2fa971(0xfd),_0x401f51),loggerService_1[_0x2fa971(0xde)][_0x2fa971(0xed)](_0x2fa971(0xe9),_0x401f51,_0x4b9843[_0x2fa971(0x118)]),_0x5e6364[_0x2fa971(0x117)](0xc8)[_0x2fa971(0x124)]({'success':![],'message':_0x401f51 instanceof Error?_0x401f51[_0x2fa971(0x110)]:_0x2fa971(0x106)});}},this['handleNodaWebhook']=async(_0x553f3a,_0x3c9b4d,_0x10c3b4)=>{const _0x4906b9=_0x357e2a;try{console['log'](_0x4906b9(0x111),_0x553f3a[_0x4906b9(0x118)]),loggerService_1[_0x4906b9(0xde)]['logWebhookReceived'](_0x4906b9(0x12c),_0x553f3a[_0x4906b9(0x118)],_0x553f3a['headers']);const _0x57fbe4=await this['webhookService'][_0x4906b9(0xe4)](_0x553f3a[_0x4906b9(0x118)]);_0x3c9b4d['status'](0xc8)[_0x4906b9(0x124)]({'success':!![],'message':_0x4906b9(0xdc)});}catch(_0xac13e){console[_0x4906b9(0xfc)](_0x4906b9(0x103),_0xac13e),loggerService_1[_0x4906b9(0xde)][_0x4906b9(0xed)]('noda',_0xac13e,_0x553f3a[_0x4906b9(0x118)]),_0x3c9b4d[_0x4906b9(0x117)](0xc8)['json']({'success':![],'message':_0xac13e instanceof Error?_0xac13e['message']:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x357e2a(0xeb)]=async(_0x4463c4,_0x314edb,_0xffdf7b)=>{const _0x4ee139=_0x357e2a;try{console['log'](_0x4ee139(0xf6),_0x4463c4[_0x4ee139(0x118)]),loggerService_1[_0x4ee139(0xde)][_0x4ee139(0x10f)](_0x4ee139(0x11d),_0x4463c4['body'],_0x4463c4[_0x4ee139(0xfa)]);const _0x4e5be2=await this[_0x4ee139(0x10a)][_0x4ee139(0xf7)](_0x4463c4[_0x4ee139(0x118)]);_0x314edb[_0x4ee139(0x117)](0xc8)['json']({'success':!![],'message':_0x4ee139(0x10b)});}catch(_0x3292b1){console['error'](_0x4ee139(0x11b),_0x3292b1),loggerService_1[_0x4ee139(0xde)]['logWebhookError'](_0x4ee139(0x11d),_0x3292b1,_0x4463c4['body']),_0x314edb['status'](0xc8)['json']({'success':![],'message':_0x3292b1 instanceof Error?_0x3292b1[_0x4ee139(0x110)]:_0x4ee139(0x122)});}},this['handleCoinToPay2Webhook']=async(_0x1b1cc4,_0x67209b,_0x2c6941)=>{const _0x213bb0=_0x357e2a;try{console[_0x213bb0(0xdf)](_0x213bb0(0xff),_0x1b1cc4[_0x213bb0(0x118)]),loggerService_1[_0x213bb0(0xde)][_0x213bb0(0x10f)](_0x213bb0(0xf8),_0x1b1cc4[_0x213bb0(0x118)],_0x1b1cc4[_0x213bb0(0xfa)]);const _0x45a205=await this[_0x213bb0(0x10a)][_0x213bb0(0x10e)](_0x1b1cc4[_0x213bb0(0x118)]);_0x67209b[_0x213bb0(0x117)](0xc8)[_0x213bb0(0x124)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x11dbc4){console[_0x213bb0(0xfc)]('CoinToPay2\x20webhook\x20processing\x20error:',_0x11dbc4),loggerService_1[_0x213bb0(0xde)][_0x213bb0(0xed)](_0x213bb0(0xf8),_0x11dbc4,_0x1b1cc4[_0x213bb0(0x118)]),_0x67209b[_0x213bb0(0x117)](0xc8)['json']({'success':![],'message':_0x11dbc4 instanceof Error?_0x11dbc4[_0x213bb0(0x110)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x357e2a(0xe0)]=async(_0x1f92a0,_0x2b2a4f,_0x6bbfe6)=>{const _0x5a3f1b=_0x357e2a;try{console[_0x5a3f1b(0xdf)](_0x5a3f1b(0x116),_0x1f92a0[_0x5a3f1b(0x118)]),loggerService_1[_0x5a3f1b(0xde)][_0x5a3f1b(0x10f)](_0x5a3f1b(0xe8),_0x1f92a0['body'],_0x1f92a0['headers']);const _0x284d01=await this[_0x5a3f1b(0x10a)][_0x5a3f1b(0x10c)](_0x1f92a0[_0x5a3f1b(0x118)]);_0x2b2a4f[_0x5a3f1b(0x117)](0xc8)[_0x5a3f1b(0x124)]({'success':!![],'message':_0x5a3f1b(0x105)});}catch(_0x4e0425){console[_0x5a3f1b(0xfc)](_0x5a3f1b(0x108),_0x4e0425),loggerService_1[_0x5a3f1b(0xde)]['logWebhookError'](_0x5a3f1b(0xe8),_0x4e0425,_0x1f92a0[_0x5a3f1b(0x118)]),_0x2b2a4f[_0x5a3f1b(0x117)](0xc8)[_0x5a3f1b(0x124)]({'success':![],'message':_0x4e0425 instanceof Error?_0x4e0425['message']:_0x5a3f1b(0x109)});}},this[_0x357e2a(0xe7)]=async(_0x3858b8,_0x4d8f9a,_0x4e6bae)=>{const _0x227929=_0x357e2a;try{console[_0x227929(0xdf)](_0x227929(0x102),_0x3858b8[_0x227929(0x118)]),loggerService_1[_0x227929(0xde)][_0x227929(0x10f)]('mastercard',_0x3858b8[_0x227929(0x118)],_0x3858b8['headers']);const _0xe9bdd8=await this['webhookService'][_0x227929(0x112)](_0x3858b8['body']);_0x4d8f9a[_0x227929(0x117)](0xc8)[_0x227929(0x124)]({'success':!![],'message':_0x227929(0x114)});}catch(_0x420850){console['error'](_0x227929(0x12b),_0x420850),loggerService_1[_0x227929(0xde)][_0x227929(0xed)](_0x227929(0xfb),_0x420850,_0x3858b8[_0x227929(0x118)]),_0x4d8f9a[_0x227929(0x117)](0xc8)['json']({'success':![],'message':_0x420850 instanceof Error?_0x420850[_0x227929(0x110)]:_0x227929(0xf1)});}},this['handleAmerWebhook']=async(_0x415ee9,_0x23357b,_0x71803e)=>{const _0x548caf=_0x357e2a;try{console[_0x548caf(0xdf)](_0x548caf(0xe5),_0x415ee9[_0x548caf(0x118)]),loggerService_1[_0x548caf(0xde)][_0x548caf(0x10f)](_0x548caf(0xec),_0x415ee9[_0x548caf(0x118)],_0x415ee9[_0x548caf(0xfa)]);const _0x3f6dcc=await this[_0x548caf(0x10a)][_0x548caf(0xf5)](_0x415ee9[_0x548caf(0x118)]);_0x23357b[_0x548caf(0x117)](0xc8)['json']({'success':!![],'message':_0x548caf(0x126)});}catch(_0x159beb){console[_0x548caf(0xfc)]('Amer\x20webhook\x20processing\x20error:',_0x159beb),loggerService_1[_0x548caf(0xde)][_0x548caf(0xed)](_0x548caf(0xec),_0x159beb,_0x415ee9[_0x548caf(0x118)]),_0x23357b[_0x548caf(0x117)](0xc8)[_0x548caf(0x124)]({'success':![],'message':_0x159beb instanceof Error?_0x159beb[_0x548caf(0x110)]:_0x548caf(0x119)});}},this[_0x357e2a(0x10a)]=new webhookService_1[(_0x357e2a(0x12d))]();}}exports[a15_0x53192a(0x121)]=WebhookController;