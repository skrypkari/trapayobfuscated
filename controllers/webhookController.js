'use strict';const a14_0x2d013b=a14_0x440f;function a14_0x40c6(){const _0x1930a5=['===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','WebhookController','Gateway\x20webhook\x20processed\x20successfully','logWebhookError','6chRQXT','body','processCoinToPayWebhook','processPlisioWebhook','4mKuFRD','Raw\x20body\x20type:','24150016Nxxhsc','Noda\x20webhook\x20processing\x20failed','processNodaWebhook','loggerService','Content-Type:','Body\x20keys:','4004PfZspq','noda','Rapyd\x20webhook\x20processed\x20successfully','processRapydWebhook','message','headers','13wsolsy','klyme','handleNodaWebhook','processKlymeWebhook','Webhook\x20processing\x20error:','handlePlisioWebhook','KLYME\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','2810655rDNkkI','webhookService','KLYME\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20failed','handlePlisioGatewayWebhook','log','95409AouzhE','Body\x20content:','handleRapydWebhook','190lVtbuK','KLYME\x20webhook\x20processing\x20failed','get','error','plisio_gateway','processPlisioGatewayWebhook','WebhookService','__esModule','json','5001448mBaETa','defineProperty','Rapyd\x20webhook\x20processing\x20error:','rapyd','Content-Type','641145PwUeCz','../services/webhookService','status','plisio','Rapyd\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20failed','cointopay','logWebhookReceived','32272QHvpsu'];a14_0x40c6=function(){return _0x1930a5;};return a14_0x40c6();}function a14_0x440f(_0x5b17e4,_0x1c609a){const _0x40c63b=a14_0x40c6();return a14_0x440f=function(_0x440f4b,_0x3bf658){_0x440f4b=_0x440f4b-0xfc;let _0x2277d8=_0x40c63b[_0x440f4b];return _0x2277d8;},a14_0x440f(_0x5b17e4,_0x1c609a);}(function(_0x59781b,_0x11c46d){const _0x10d886=a14_0x440f,_0x2a5f39=_0x59781b();while(!![]){try{const _0x6ecd74=parseInt(_0x10d886(0x132))/0x1*(-parseInt(_0x10d886(0x11b))/0x2)+-parseInt(_0x10d886(0x113))/0x3*(parseInt(_0x10d886(0x124))/0x4)+-parseInt(_0x10d886(0xfc))/0x5*(parseInt(_0x10d886(0x120))/0x6)+parseInt(_0x10d886(0x12c))/0x7+-parseInt(_0x10d886(0x10e))/0x8+-parseInt(_0x10d886(0x102))/0x9*(parseInt(_0x10d886(0x105))/0xa)+parseInt(_0x10d886(0x126))/0xb;if(_0x6ecd74===_0x11c46d)break;else _0x2a5f39['push'](_0x2a5f39['shift']());}catch(_0x5594ce){_0x2a5f39['push'](_0x2a5f39['shift']());}}}(a14_0x40c6,0x5db46));Object[a14_0x2d013b(0x10f)](exports,a14_0x2d013b(0x10c),{'value':!![]}),exports[a14_0x2d013b(0x11d)]=void 0x0;const webhookService_1=require(a14_0x2d013b(0x114)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x313c3a=a14_0x2d013b;this[_0x313c3a(0x137)]=async(_0x98a517,_0xae3445,_0x17e390)=>{const _0x1e2883=_0x313c3a;try{console[_0x1e2883(0x101)](_0x1e2883(0x11c)),console[_0x1e2883(0x101)](_0x1e2883(0x12a),_0x98a517[_0x1e2883(0x107)](_0x1e2883(0x112))),console[_0x1e2883(0x101)](_0x1e2883(0x125),typeof _0x98a517[_0x1e2883(0x121)]),console['log'](_0x1e2883(0x12b),Object['keys'](_0x98a517[_0x1e2883(0x121)]||{})),console[_0x1e2883(0x101)](_0x1e2883(0x103),_0x98a517['body']),loggerService_1[_0x1e2883(0x129)][_0x1e2883(0x11a)]('plisio',_0x98a517[_0x1e2883(0x121)],_0x98a517[_0x1e2883(0x131)]);const _0x28df24=await this[_0x1e2883(0xfd)][_0x1e2883(0x123)](_0x98a517[_0x1e2883(0x121)]);_0xae3445[_0x1e2883(0x115)](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x26e7ed){console[_0x1e2883(0x108)](_0x1e2883(0x136),_0x26e7ed),loggerService_1[_0x1e2883(0x129)][_0x1e2883(0x11f)](_0x1e2883(0x116),_0x26e7ed,_0x98a517[_0x1e2883(0x121)]),_0xae3445['status'](0xc8)[_0x1e2883(0x10d)]({'success':![],'message':_0x26e7ed instanceof Error?_0x26e7ed[_0x1e2883(0x130)]:'Webhook\x20processing\x20failed'});}},this[_0x313c3a(0x100)]=async(_0x748f9e,_0x3c87e4,_0x5c6d03)=>{const _0xa33b24=_0x313c3a;try{console['log']('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0xa33b24(0x12a),_0x748f9e[_0xa33b24(0x107)]('Content-Type')),console[_0xa33b24(0x101)](_0xa33b24(0x125),typeof _0x748f9e[_0xa33b24(0x121)]),console[_0xa33b24(0x101)](_0xa33b24(0x12b),Object['keys'](_0x748f9e[_0xa33b24(0x121)]||{})),console[_0xa33b24(0x101)](_0xa33b24(0x103),_0x748f9e[_0xa33b24(0x121)]),loggerService_1['loggerService'][_0xa33b24(0x11a)](_0xa33b24(0x109),_0x748f9e['body'],_0x748f9e[_0xa33b24(0x131)]);const _0x57e712=await this[_0xa33b24(0xfd)][_0xa33b24(0x10a)](_0x748f9e[_0xa33b24(0x121)]);_0x3c87e4[_0xa33b24(0x115)](0xc8)[_0xa33b24(0x10d)]({'success':!![],'message':_0xa33b24(0x11e)});}catch(_0x4c4e57){console[_0xa33b24(0x108)]('Gateway\x20webhook\x20processing\x20error:',_0x4c4e57),loggerService_1[_0xa33b24(0x129)][_0xa33b24(0x11f)](_0xa33b24(0x109),_0x4c4e57,_0x748f9e['body']),_0x3c87e4[_0xa33b24(0x115)](0xc8)[_0xa33b24(0x10d)]({'success':![],'message':_0x4c4e57 instanceof Error?_0x4c4e57['message']:_0xa33b24(0x118)});}},this[_0x313c3a(0x104)]=async(_0x38cf58,_0x32bd96,_0x3c5162)=>{const _0xe4533b=_0x313c3a;try{console[_0xe4533b(0x101)]('Received\x20Rapyd\x20webhook:',_0x38cf58[_0xe4533b(0x121)]),loggerService_1[_0xe4533b(0x129)][_0xe4533b(0x11a)](_0xe4533b(0x111),_0x38cf58['body'],_0x38cf58[_0xe4533b(0x131)]);const _0x5c3d36=await this[_0xe4533b(0xfd)][_0xe4533b(0x12f)](_0x38cf58[_0xe4533b(0x121)]);_0x32bd96['status'](0xc8)[_0xe4533b(0x10d)]({'success':!![],'message':_0xe4533b(0x12e)});}catch(_0x1110a5){console[_0xe4533b(0x108)](_0xe4533b(0x110),_0x1110a5),loggerService_1['loggerService'][_0xe4533b(0x11f)]('rapyd',_0x1110a5,_0x38cf58[_0xe4533b(0x121)]),_0x32bd96[_0xe4533b(0x115)](0xc8)['json']({'success':![],'message':_0x1110a5 instanceof Error?_0x1110a5['message']:_0xe4533b(0x117)});}},this[_0x313c3a(0x134)]=async(_0x356449,_0x51cf19,_0x41e1bd)=>{const _0x2fffc5=_0x313c3a;try{console[_0x2fffc5(0x101)]('Received\x20Noda\x20webhook:',_0x356449[_0x2fffc5(0x121)]),loggerService_1[_0x2fffc5(0x129)][_0x2fffc5(0x11a)](_0x2fffc5(0x12d),_0x356449[_0x2fffc5(0x121)],_0x356449['headers']);const _0x308428=await this[_0x2fffc5(0xfd)][_0x2fffc5(0x128)](_0x356449[_0x2fffc5(0x121)]);_0x51cf19[_0x2fffc5(0x115)](0xc8)[_0x2fffc5(0x10d)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x5bc40a){console['error']('Noda\x20webhook\x20processing\x20error:',_0x5bc40a),loggerService_1[_0x2fffc5(0x129)][_0x2fffc5(0x11f)]('noda',_0x5bc40a,_0x356449['body']),_0x51cf19[_0x2fffc5(0x115)](0xc8)['json']({'success':![],'message':_0x5bc40a instanceof Error?_0x5bc40a['message']:_0x2fffc5(0x127)});}},this[_0x313c3a(0x139)]=async(_0x5effc5,_0x1968ff,_0x334be9)=>{const _0x559afd=_0x313c3a;try{console[_0x559afd(0x101)]('Received\x20CoinToPay\x20webhook:',_0x5effc5[_0x559afd(0x121)]),loggerService_1[_0x559afd(0x129)][_0x559afd(0x11a)](_0x559afd(0x119),_0x5effc5[_0x559afd(0x121)],_0x5effc5['headers']);const _0x138f29=await this[_0x559afd(0xfd)][_0x559afd(0x122)](_0x5effc5['body']);_0x1968ff[_0x559afd(0x115)](0xc8)[_0x559afd(0x10d)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x2e8169){console[_0x559afd(0x108)]('CoinToPay\x20webhook\x20processing\x20error:',_0x2e8169),loggerService_1[_0x559afd(0x129)][_0x559afd(0x11f)]('cointopay',_0x2e8169,_0x5effc5['body']),_0x1968ff['status'](0xc8)[_0x559afd(0x10d)]({'success':![],'message':_0x2e8169 instanceof Error?_0x2e8169['message']:_0x559afd(0xff)});}},this['handleKlymeWebhook']=async(_0x478731,_0x82dfc2,_0x434cfe)=>{const _0x6e363c=_0x313c3a;try{console['log']('Received\x20KLYME\x20webhook:',_0x478731[_0x6e363c(0x121)]),loggerService_1[_0x6e363c(0x129)][_0x6e363c(0x11a)](_0x6e363c(0x133),_0x478731[_0x6e363c(0x121)],_0x478731['headers']);const _0x5122c6=await this['webhookService'][_0x6e363c(0x135)](_0x478731[_0x6e363c(0x121)]);_0x82dfc2[_0x6e363c(0x115)](0xc8)[_0x6e363c(0x10d)]({'success':!![],'message':_0x6e363c(0xfe)});}catch(_0x2d324c){console['error'](_0x6e363c(0x138),_0x2d324c),loggerService_1['loggerService'][_0x6e363c(0x11f)](_0x6e363c(0x133),_0x2d324c,_0x478731[_0x6e363c(0x121)]),_0x82dfc2['status'](0xc8)['json']({'success':![],'message':_0x2d324c instanceof Error?_0x2d324c[_0x6e363c(0x130)]:_0x6e363c(0x106)});}},this['webhookService']=new webhookService_1[(_0x313c3a(0x10b))]();}}exports['WebhookController']=WebhookController;