'use strict';const a16_0x229b90=a16_0x1f4c;function a16_0x31c9(){const _0x15e956=['CoinToPay\x20webhook\x20processing\x20error:','AmPay\x20TRY\x20webhook\x20processed\x20successfully','Content-Type','AmPay\x20TRY\x20webhook\x20processing\x20error:','processCoinToPayWebhook','Headers:','error','AmPay\x20TRY\x20webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Gateway\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20failed','loggerService','24110080tSIacU','Gateway\x20webhook\x20processed\x20successfully','processAmPayWebhook','handlePlisioWebhook','handleNodaWebhook','VISA\x20webhook\x20processing\x20failed','12079270XPxyQU','9179829yzqoic','KLYME\x20webhook\x20processing\x20failed','processPlisioWebhook','handleCoinToPay2Webhook','processKlymeWebhook','__esModule','handleAmPayWebhook','rapyd','Received\x20CoinToPay2\x20webhook:','get','482hTtfMH','CoinToPay2\x20webhook\x20processed\x20successfully','status','447DVCAzf','processNodaWebhook','handlePlisioGatewayWebhook','MyXSpend\x20webhook\x20processed\x20successfully','processMasterCardWebhook','Body:','handleKlymeWebhook','MasterCard\x20webhook\x20processing\x20error:','6353RVgpSX','noda','handleAmerWebhook','json','processCoinToPay2Webhook','Webhook\x20processing\x20failed','Received\x20VISA\x20webhook:','headers','VISA\x20webhook\x20processed\x20successfully','Method:','handleMyXSpendWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Noda\x20webhook\x20processed\x20successfully','35vgsFEO','processAmPayTRYWebhook','../services/loggerService','WebhookController','28164IacgsC','===\x20MyXSpend\x20Webhook\x20Received\x20===','VISA\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20error:','log','ampay','cointopay2','Raw\x20body\x20type:','Amer\x20webhook\x20processing\x20failed','Webhook\x20processing\x20error:','cointopay','processMyXSpendWebhook','amer','logWebhookError','Webhook\x20processed\x20successfully','102318PtSurl','handleMasterCardWebhook','Amer\x20webhook\x20processing\x20error:','processPlisioGatewayWebhook','processRapydWebhook','processAmerWebhook','CoinToPay2\x20webhook\x20processing\x20error:','ampay_try','MasterCard\x20webhook\x20processed\x20successfully','Body\x20type:','message','Received\x20KLYME\x20webhook:','query','MyXSpend\x20webhook\x20processing\x20failed','AmPay\x20webhook\x20processing\x20error:','mastercard','keys','plisio','Body\x20content:','MasterCard\x20webhook\x20processing\x20failed','../services/webhookService','handleAmPayTRYWebhook','KLYME\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processed\x20successfully','AmPay\x20webhook\x20processing\x20failed','webhookService','plisio_gateway','Content-Type:','Rapyd\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','logWebhookReceived','716592eGoIjw','Body\x20keys:','Received\x20Noda\x20webhook:','body','CoinToPay\x20webhook\x20processed\x20successfully','visa'];a16_0x31c9=function(){return _0x15e956;};return a16_0x31c9();}(function(_0x2ccbb9,_0xde96e3){const _0x5804be=a16_0x1f4c,_0x3ec42a=_0x2ccbb9();while(!![]){try{const _0x4b05a9=parseInt(_0x5804be(0x20a))/0x1*(parseInt(_0x5804be(0x1ff))/0x2)+-parseInt(_0x5804be(0x202))/0x3*(-parseInt(_0x5804be(0x21b))/0x4)+-parseInt(_0x5804be(0x217))/0x5*(-parseInt(_0x5804be(0x22a))/0x6)+parseInt(_0x5804be(0x1f4))/0x7+-parseInt(_0x5804be(0x1dc))/0x8+-parseInt(_0x5804be(0x1f5))/0x9+-parseInt(_0x5804be(0x1ee))/0xa;if(_0x4b05a9===_0xde96e3)break;else _0x3ec42a['push'](_0x3ec42a['shift']());}catch(_0x232be6){_0x3ec42a['push'](_0x3ec42a['shift']());}}}(a16_0x31c9,0xdcd98));function a16_0x1f4c(_0x43b680,_0x1d6003){const _0x31c940=a16_0x31c9();return a16_0x1f4c=function(_0x1f4c0e,_0x1fccd2){_0x1f4c0e=_0x1f4c0e-0x1be;let _0x347950=_0x31c940[_0x1f4c0e];return _0x347950;},a16_0x1f4c(_0x43b680,_0x1d6003);}Object['defineProperty'](exports,a16_0x229b90(0x1fa),{'value':!![]}),exports[a16_0x229b90(0x21a)]=void 0x0;const webhookService_1=require(a16_0x229b90(0x1d1)),loggerService_1=require(a16_0x229b90(0x219));class WebhookController{constructor(){const _0x5bbefd=a16_0x229b90;this[_0x5bbefd(0x1f1)]=async(_0x24f256,_0x5f04fb,_0x301bee)=>{const _0x59b998=_0x5bbefd;try{console[_0x59b998(0x21f)](_0x59b998(0x1ea)),console[_0x59b998(0x21f)](_0x59b998(0x1d8),_0x24f256['get'](_0x59b998(0x1e4))),console[_0x59b998(0x21f)](_0x59b998(0x222),typeof _0x24f256[_0x59b998(0x1df)]),console[_0x59b998(0x21f)]('Body\x20keys:',Object['keys'](_0x24f256[_0x59b998(0x1df)]||{})),console[_0x59b998(0x21f)]('Body\x20content:',_0x24f256[_0x59b998(0x1df)]),loggerService_1['loggerService'][_0x59b998(0x1db)](_0x59b998(0x1ce),_0x24f256[_0x59b998(0x1df)],_0x24f256[_0x59b998(0x211)]);const _0x5b1d4d=await this['webhookService'][_0x59b998(0x1f7)](_0x24f256[_0x59b998(0x1df)]);_0x5f04fb[_0x59b998(0x201)](0xc8)[_0x59b998(0x20d)]({'success':!![],'message':_0x59b998(0x229)});}catch(_0x434d99){console['error'](_0x59b998(0x224),_0x434d99),loggerService_1[_0x59b998(0x1ed)][_0x59b998(0x228)]('plisio',_0x434d99,_0x24f256[_0x59b998(0x1df)]),_0x5f04fb[_0x59b998(0x201)](0xc8)[_0x59b998(0x20d)]({'success':![],'message':_0x434d99 instanceof Error?_0x434d99['message']:_0x59b998(0x20f)});}},this[_0x5bbefd(0x204)]=async(_0x1ead92,_0x1c5f9e,_0x2cb475)=>{const _0xf24440=_0x5bbefd;try{console[_0xf24440(0x21f)](_0xf24440(0x215)),console[_0xf24440(0x21f)](_0xf24440(0x1d8),_0x1ead92[_0xf24440(0x1fe)](_0xf24440(0x1e4))),console['log'](_0xf24440(0x222),typeof _0x1ead92[_0xf24440(0x1df)]),console[_0xf24440(0x21f)](_0xf24440(0x1dd),Object[_0xf24440(0x1cd)](_0x1ead92[_0xf24440(0x1df)]||{})),console['log'](_0xf24440(0x1cf),_0x1ead92[_0xf24440(0x1df)]),loggerService_1[_0xf24440(0x1ed)][_0xf24440(0x1db)](_0xf24440(0x1d7),_0x1ead92['body'],_0x1ead92[_0xf24440(0x211)]);const _0x5128bb=await this[_0xf24440(0x1d6)][_0xf24440(0x1c0)](_0x1ead92[_0xf24440(0x1df)]);_0x1c5f9e[_0xf24440(0x201)](0xc8)['json']({'success':!![],'message':_0xf24440(0x1ef)});}catch(_0x59f00b){console[_0xf24440(0x1e8)](_0xf24440(0x1eb),_0x59f00b),loggerService_1['loggerService'][_0xf24440(0x228)](_0xf24440(0x1d7),_0x59f00b,_0x1ead92[_0xf24440(0x1df)]),_0x1c5f9e['status'](0xc8)[_0xf24440(0x20d)]({'success':![],'message':_0x59f00b instanceof Error?_0x59f00b[_0xf24440(0x1c7)]:_0xf24440(0x1ec)});}},this['handleRapydWebhook']=async(_0x23069e,_0x42dd5f,_0x12e60b)=>{const _0x4c0e53=_0x5bbefd;try{console['log']('Received\x20Rapyd\x20webhook:',_0x23069e[_0x4c0e53(0x1df)]),loggerService_1[_0x4c0e53(0x1ed)][_0x4c0e53(0x1db)](_0x4c0e53(0x1fc),_0x23069e[_0x4c0e53(0x1df)],_0x23069e[_0x4c0e53(0x211)]);const _0x11c1b8=await this[_0x4c0e53(0x1d6)][_0x4c0e53(0x1c1)](_0x23069e[_0x4c0e53(0x1df)]);_0x42dd5f['status'](0xc8)[_0x4c0e53(0x20d)]({'success':!![],'message':_0x4c0e53(0x1d4)});}catch(_0x58712e){console[_0x4c0e53(0x1e8)](_0x4c0e53(0x1d9),_0x58712e),loggerService_1[_0x4c0e53(0x1ed)][_0x4c0e53(0x228)](_0x4c0e53(0x1fc),_0x58712e,_0x23069e[_0x4c0e53(0x1df)]),_0x42dd5f[_0x4c0e53(0x201)](0xc8)[_0x4c0e53(0x20d)]({'success':![],'message':_0x58712e instanceof Error?_0x58712e[_0x4c0e53(0x1c7)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x5bbefd(0x1f2)]=async(_0x55af7d,_0x30d19b,_0x14a031)=>{const _0x1f7cdc=_0x5bbefd;try{console['log'](_0x1f7cdc(0x1de),_0x55af7d[_0x1f7cdc(0x1df)]),loggerService_1[_0x1f7cdc(0x1ed)][_0x1f7cdc(0x1db)](_0x1f7cdc(0x20b),_0x55af7d[_0x1f7cdc(0x1df)],_0x55af7d[_0x1f7cdc(0x211)]);const _0x6fbc97=await this[_0x1f7cdc(0x1d6)][_0x1f7cdc(0x203)](_0x55af7d['body']);_0x30d19b[_0x1f7cdc(0x201)](0xc8)[_0x1f7cdc(0x20d)]({'success':!![],'message':_0x1f7cdc(0x216)});}catch(_0x358f83){console[_0x1f7cdc(0x1e8)](_0x1f7cdc(0x21e),_0x358f83),loggerService_1[_0x1f7cdc(0x1ed)]['logWebhookError'](_0x1f7cdc(0x20b),_0x358f83,_0x55af7d[_0x1f7cdc(0x1df)]),_0x30d19b[_0x1f7cdc(0x201)](0xc8)[_0x1f7cdc(0x20d)]({'success':![],'message':_0x358f83 instanceof Error?_0x358f83[_0x1f7cdc(0x1c7)]:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x3d0038,_0x330d8d,_0x3b268b)=>{const _0x19ee27=_0x5bbefd;try{console[_0x19ee27(0x21f)]('Received\x20CoinToPay\x20webhook:',_0x3d0038[_0x19ee27(0x1df)]),loggerService_1[_0x19ee27(0x1ed)][_0x19ee27(0x1db)](_0x19ee27(0x225),_0x3d0038['body'],_0x3d0038[_0x19ee27(0x211)]);const _0x3bb190=await this['webhookService'][_0x19ee27(0x1e6)](_0x3d0038['body']);_0x330d8d['status'](0xc8)[_0x19ee27(0x20d)]({'success':!![],'message':_0x19ee27(0x1e0)});}catch(_0x195332){console[_0x19ee27(0x1e8)](_0x19ee27(0x1e2),_0x195332),loggerService_1['loggerService']['logWebhookError'](_0x19ee27(0x225),_0x195332,_0x3d0038[_0x19ee27(0x1df)]),_0x330d8d[_0x19ee27(0x201)](0xc8)[_0x19ee27(0x20d)]({'success':![],'message':_0x195332 instanceof Error?_0x195332[_0x19ee27(0x1c7)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x5bbefd(0x1f8)]=async(_0x11f14f,_0x3798b9,_0x2f80ea)=>{const _0x5774a8=_0x5bbefd;try{console['log'](_0x5774a8(0x1fd),_0x11f14f[_0x5774a8(0x1df)]),loggerService_1[_0x5774a8(0x1ed)][_0x5774a8(0x1db)](_0x5774a8(0x221),_0x11f14f[_0x5774a8(0x1df)],_0x11f14f[_0x5774a8(0x211)]);const _0xeb448d=await this['webhookService'][_0x5774a8(0x20e)](_0x11f14f[_0x5774a8(0x1df)]);_0x3798b9['status'](0xc8)[_0x5774a8(0x20d)]({'success':!![],'message':_0x5774a8(0x200)});}catch(_0x179fa7){console[_0x5774a8(0x1e8)](_0x5774a8(0x1c3),_0x179fa7),loggerService_1['loggerService'][_0x5774a8(0x228)]('cointopay2',_0x179fa7,_0x11f14f[_0x5774a8(0x1df)]),_0x3798b9[_0x5774a8(0x201)](0xc8)[_0x5774a8(0x20d)]({'success':![],'message':_0x179fa7 instanceof Error?_0x179fa7[_0x5774a8(0x1c7)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x5bbefd(0x208)]=async(_0x398790,_0x58518a,_0x281caa)=>{const _0x3712d8=_0x5bbefd;try{console[_0x3712d8(0x21f)](_0x3712d8(0x1c8),_0x398790[_0x3712d8(0x1df)]),loggerService_1['loggerService'][_0x3712d8(0x1db)]('klyme',_0x398790[_0x3712d8(0x1df)],_0x398790[_0x3712d8(0x211)]);const _0x5623ab=await this['webhookService'][_0x3712d8(0x1f9)](_0x398790['body']);_0x58518a['status'](0xc8)[_0x3712d8(0x20d)]({'success':!![],'message':_0x3712d8(0x1d3)});}catch(_0xeb20a0){console['error'](_0x3712d8(0x1da),_0xeb20a0),loggerService_1['loggerService'][_0x3712d8(0x228)]('klyme',_0xeb20a0,_0x398790['body']),_0x58518a[_0x3712d8(0x201)](0xc8)[_0x3712d8(0x20d)]({'success':![],'message':_0xeb20a0 instanceof Error?_0xeb20a0[_0x3712d8(0x1c7)]:_0x3712d8(0x1f6)});}},this['handleVisaWebhook']=async(_0xb986e7,_0x42fbbd,_0x27942e)=>{const _0x246238=_0x5bbefd;try{console['log'](_0x246238(0x210),_0xb986e7[_0x246238(0x1df)]),loggerService_1['loggerService'][_0x246238(0x1db)](_0x246238(0x1e1),_0xb986e7['body'],_0xb986e7[_0x246238(0x211)]);const _0x2686fa=await this[_0x246238(0x1d6)]['processVisaWebhook'](_0xb986e7[_0x246238(0x1df)]);_0x42fbbd[_0x246238(0x201)](0xc8)[_0x246238(0x20d)]({'success':!![],'message':_0x246238(0x212)});}catch(_0x30af5f){console[_0x246238(0x1e8)](_0x246238(0x21d),_0x30af5f),loggerService_1[_0x246238(0x1ed)][_0x246238(0x228)](_0x246238(0x1e1),_0x30af5f,_0xb986e7[_0x246238(0x1df)]),_0x42fbbd[_0x246238(0x201)](0xc8)['json']({'success':![],'message':_0x30af5f instanceof Error?_0x30af5f[_0x246238(0x1c7)]:_0x246238(0x1f3)});}},this[_0x5bbefd(0x1be)]=async(_0x5804d6,_0x1e7b1e,_0x30fc59)=>{const _0x1eeaea=_0x5bbefd;try{console[_0x1eeaea(0x21f)]('Received\x20MasterCard\x20webhook:',_0x5804d6[_0x1eeaea(0x1df)]),loggerService_1[_0x1eeaea(0x1ed)][_0x1eeaea(0x1db)](_0x1eeaea(0x1cc),_0x5804d6[_0x1eeaea(0x1df)],_0x5804d6['headers']);const _0x2abe4d=await this[_0x1eeaea(0x1d6)][_0x1eeaea(0x206)](_0x5804d6[_0x1eeaea(0x1df)]);_0x1e7b1e['status'](0xc8)[_0x1eeaea(0x20d)]({'success':!![],'message':_0x1eeaea(0x1c5)});}catch(_0x509177){console['error'](_0x1eeaea(0x209),_0x509177),loggerService_1['loggerService']['logWebhookError'](_0x1eeaea(0x1cc),_0x509177,_0x5804d6[_0x1eeaea(0x1df)]),_0x1e7b1e[_0x1eeaea(0x201)](0xc8)[_0x1eeaea(0x20d)]({'success':![],'message':_0x509177 instanceof Error?_0x509177[_0x1eeaea(0x1c7)]:_0x1eeaea(0x1d0)});}},this[_0x5bbefd(0x20c)]=async(_0x147080,_0x18dab5,_0x59e6ea)=>{const _0x154699=_0x5bbefd;try{console['log']('Received\x20Amer\x20webhook:',_0x147080['body']),loggerService_1[_0x154699(0x1ed)][_0x154699(0x1db)](_0x154699(0x227),_0x147080[_0x154699(0x1df)],_0x147080[_0x154699(0x211)]);const _0xeea2ea=await this[_0x154699(0x1d6)][_0x154699(0x1c2)](_0x147080['body']);_0x18dab5[_0x154699(0x201)](0xc8)[_0x154699(0x20d)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x1715b0){console[_0x154699(0x1e8)](_0x154699(0x1bf),_0x1715b0),loggerService_1[_0x154699(0x1ed)]['logWebhookError'](_0x154699(0x227),_0x1715b0,_0x147080[_0x154699(0x1df)]),_0x18dab5[_0x154699(0x201)](0xc8)[_0x154699(0x20d)]({'success':![],'message':_0x1715b0 instanceof Error?_0x1715b0[_0x154699(0x1c7)]:_0x154699(0x223)});}},this[_0x5bbefd(0x1fb)]=async(_0x543a72,_0x3f2ed7,_0x21a721)=>{const _0x4a56e1=_0x5bbefd;try{console['log']('===\x20AmPay\x20Webhook\x20Received\x20==='),console[_0x4a56e1(0x21f)]('Headers:',_0x543a72[_0x4a56e1(0x211)]),console[_0x4a56e1(0x21f)](_0x4a56e1(0x207),_0x543a72['body']),console[_0x4a56e1(0x21f)](_0x4a56e1(0x1c6),typeof _0x543a72[_0x4a56e1(0x1df)]),console[_0x4a56e1(0x21f)]('Body\x20keys:',Object[_0x4a56e1(0x1cd)](_0x543a72['body']||{})),loggerService_1[_0x4a56e1(0x1ed)][_0x4a56e1(0x1db)](_0x4a56e1(0x220),_0x543a72[_0x4a56e1(0x1df)],_0x543a72[_0x4a56e1(0x211)]);const _0x50e819=await this[_0x4a56e1(0x1d6)][_0x4a56e1(0x1f0)](_0x543a72['body']);_0x3f2ed7['status'](0xc8)['json']({'success':!![],'message':'AmPay\x20webhook\x20processed\x20successfully'});}catch(_0x38ada4){console[_0x4a56e1(0x1e8)](_0x4a56e1(0x1cb),_0x38ada4),loggerService_1[_0x4a56e1(0x1ed)][_0x4a56e1(0x228)](_0x4a56e1(0x220),_0x38ada4,_0x543a72[_0x4a56e1(0x1df)]),_0x3f2ed7[_0x4a56e1(0x201)](0xc8)[_0x4a56e1(0x20d)]({'success':![],'message':_0x38ada4 instanceof Error?_0x38ada4[_0x4a56e1(0x1c7)]:_0x4a56e1(0x1d5)});}},this[_0x5bbefd(0x1d2)]=async(_0x1cdfc9,_0x57f530,_0x36a624)=>{const _0x2e3c6b=_0x5bbefd;try{console[_0x2e3c6b(0x21f)]('===\x20AmPay\x20TRY\x20Webhook\x20Received\x20==='),console[_0x2e3c6b(0x21f)]('Headers:',_0x1cdfc9[_0x2e3c6b(0x211)]),console[_0x2e3c6b(0x21f)](_0x2e3c6b(0x207),_0x1cdfc9['body']),console[_0x2e3c6b(0x21f)](_0x2e3c6b(0x1c6),typeof _0x1cdfc9[_0x2e3c6b(0x1df)]),console['log'](_0x2e3c6b(0x1dd),Object[_0x2e3c6b(0x1cd)](_0x1cdfc9[_0x2e3c6b(0x1df)]||{})),loggerService_1[_0x2e3c6b(0x1ed)]['logWebhookReceived']('ampay_try',_0x1cdfc9[_0x2e3c6b(0x1df)],_0x1cdfc9[_0x2e3c6b(0x211)]);const _0x202fb0=await this[_0x2e3c6b(0x1d6)][_0x2e3c6b(0x218)](_0x1cdfc9[_0x2e3c6b(0x1df)]);_0x57f530[_0x2e3c6b(0x201)](0xc8)['json']({'success':!![],'message':_0x2e3c6b(0x1e3)});}catch(_0x30b0d2){console[_0x2e3c6b(0x1e8)](_0x2e3c6b(0x1e5),_0x30b0d2),loggerService_1[_0x2e3c6b(0x1ed)]['logWebhookError'](_0x2e3c6b(0x1c4),_0x30b0d2,_0x1cdfc9[_0x2e3c6b(0x1df)]),_0x57f530['status'](0xc8)['json']({'success':![],'message':_0x30b0d2 instanceof Error?_0x30b0d2[_0x2e3c6b(0x1c7)]:_0x2e3c6b(0x1e9)});}},this[_0x5bbefd(0x214)]=async(_0x381e58,_0x4e41ef,_0x46624f)=>{const _0x178b80=_0x5bbefd;try{console[_0x178b80(0x21f)](_0x178b80(0x21c)),console[_0x178b80(0x21f)](_0x178b80(0x1e7),_0x381e58[_0x178b80(0x211)]),console[_0x178b80(0x21f)]('Query\x20params:',_0x381e58[_0x178b80(0x1c9)]),console[_0x178b80(0x21f)](_0x178b80(0x207),_0x381e58[_0x178b80(0x1df)]),console['log'](_0x178b80(0x213),_0x381e58['method']),loggerService_1['loggerService'][_0x178b80(0x1db)]('myxspend',_0x381e58[_0x178b80(0x1df)]||_0x381e58[_0x178b80(0x1c9)],_0x381e58[_0x178b80(0x211)]);const _0xd8fc6b=await this[_0x178b80(0x1d6)][_0x178b80(0x226)](_0x381e58['query'],_0x381e58[_0x178b80(0x1df)]);_0x4e41ef[_0x178b80(0x201)](0xc8)['json']({'success':!![],'message':_0x178b80(0x205)});}catch(_0x215ebd){console[_0x178b80(0x1e8)]('MyXSpend\x20webhook\x20processing\x20error:',_0x215ebd),loggerService_1['loggerService']['logWebhookError']('myxspend',_0x215ebd,_0x381e58['body']||_0x381e58[_0x178b80(0x1c9)]),_0x4e41ef[_0x178b80(0x201)](0xc8)[_0x178b80(0x20d)]({'success':![],'message':_0x215ebd instanceof Error?_0x215ebd[_0x178b80(0x1c7)]:_0x178b80(0x1ca)});}},this[_0x5bbefd(0x1d6)]=new webhookService_1['WebhookService']();}}exports[a16_0x229b90(0x21a)]=WebhookController;