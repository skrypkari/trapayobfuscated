'use strict';const a15_0x295a7e=a15_0x4a45;(function(_0x356643,_0x321bd1){const _0x44e141=a15_0x4a45,_0x13bedc=_0x356643();while(!![]){try{const _0x4ff491=parseInt(_0x44e141(0x9d))/0x1*(-parseInt(_0x44e141(0xad))/0x2)+-parseInt(_0x44e141(0x81))/0x3*(parseInt(_0x44e141(0xc1))/0x4)+parseInt(_0x44e141(0xb5))/0x5+-parseInt(_0x44e141(0xcd))/0x6+-parseInt(_0x44e141(0xb1))/0x7*(-parseInt(_0x44e141(0x8c))/0x8)+-parseInt(_0x44e141(0xb0))/0x9*(-parseInt(_0x44e141(0xce))/0xa)+parseInt(_0x44e141(0x80))/0xb;if(_0x4ff491===_0x321bd1)break;else _0x13bedc['push'](_0x13bedc['shift']());}catch(_0xdd36af){_0x13bedc['push'](_0x13bedc['shift']());}}}(a15_0x14af,0x6d329));function a15_0x14af(){const _0xdb0ed8=['VISA\x20webhook\x20processing\x20failed','Received\x20Noda\x20webhook:','Webhook\x20processing\x20error:','processPlisioWebhook','AmPay\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','cointopay','6GOIZxQ','AmPay\x20webhook\x20processing\x20failed','CoinToPay2\x20webhook\x20processed\x20successfully','17451nGLXZi','1172591kxIpUi','klyme','processVisaWebhook','KLYME\x20webhook\x20processing\x20failed','2451675RAynHn','VISA\x20webhook\x20processing\x20error:','amer','ampay','logWebhookError','===\x20AmPay\x20Webhook\x20Received\x20===','Body\x20content:','Gateway\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','loggerService','noda','plisio','120040ItatEz','headers','handleCoinToPay2Webhook','WebhookController','rapyd','processAmPayWebhook','webhookService','MasterCard\x20webhook\x20processed\x20successfully','Received\x20Rapyd\x20webhook:','processMasterCardWebhook','Noda\x20webhook\x20processing\x20error:','handleAmPayWebhook','1748844dPSiIV','70OZoHPN','handleMasterCardWebhook','../services/webhookService','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','logWebhookReceived','body','plisio_gateway','processCoinToPay2Webhook','handlePlisioGatewayWebhook','keys','Webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processing\x20error:','5253666AlxayY','69NCXbFz','Amer\x20webhook\x20processing\x20error:','processNodaWebhook','AmPay\x20webhook\x20processed\x20successfully','mastercard','CoinToPay\x20webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','message','Rapyd\x20webhook\x20processing\x20failed','Received\x20Amer\x20webhook:','cointopay2','40dYCWDL','status','processKlymeWebhook','Received\x20MasterCard\x20webhook:','../services/loggerService','Gateway\x20webhook\x20processing\x20failed','visa','processRapydWebhook','log','handlePlisioWebhook','processPlisioGatewayWebhook','Noda\x20webhook\x20processed\x20successfully','Content-Type','__esModule','CoinToPay2\x20webhook\x20processing\x20failed','Amer\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processed\x20successfully','130034BaKiAW','Body\x20keys:','Received\x20VISA\x20webhook:','error','CoinToPay\x20webhook\x20processing\x20error:','Raw\x20body\x20type:','json','handleVisaWebhook','get'];a15_0x14af=function(){return _0xdb0ed8;};return a15_0x14af();}function a15_0x4a45(_0x576e8b,_0x205e43){const _0x14af50=a15_0x14af();return a15_0x4a45=function(_0x4a45ff,_0x1bfcee){_0x4a45ff=_0x4a45ff-0x79;let _0x2e71c5=_0x14af50[_0x4a45ff];return _0x2e71c5;},a15_0x4a45(_0x576e8b,_0x205e43);}Object['defineProperty'](exports,a15_0x295a7e(0x99),{'value':!![]}),exports[a15_0x295a7e(0xc4)]=void 0x0;const webhookService_1=require(a15_0x295a7e(0xd0)),loggerService_1=require(a15_0x295a7e(0x90));class WebhookController{constructor(){const _0x5ea40b=a15_0x295a7e;this[_0x5ea40b(0x95)]=async(_0x3fad0a,_0x192f15,_0x2a42a7)=>{const _0x1253fe=_0x5ea40b;try{console[_0x1253fe(0x94)](_0x1253fe(0xd1)),console[_0x1253fe(0x94)]('Content-Type:',_0x3fad0a[_0x1253fe(0xa5)](_0x1253fe(0x98))),console[_0x1253fe(0x94)]('Raw\x20body\x20type:',typeof _0x3fad0a[_0x1253fe(0x79)]),console['log'](_0x1253fe(0x9e),Object[_0x1253fe(0x7d)](_0x3fad0a['body']||{})),console[_0x1253fe(0x94)](_0x1253fe(0xbb),_0x3fad0a[_0x1253fe(0x79)]),loggerService_1['loggerService']['logWebhookReceived'](_0x1253fe(0xc0),_0x3fad0a[_0x1253fe(0x79)],_0x3fad0a[_0x1253fe(0xc2)]);const _0x1b9488=await this[_0x1253fe(0xc7)][_0x1253fe(0xa9)](_0x3fad0a[_0x1253fe(0x79)]);_0x192f15[_0x1253fe(0x8d)](0xc8)[_0x1253fe(0xa3)]({'success':!![],'message':_0x1253fe(0x7e)});}catch(_0x4b827c){console[_0x1253fe(0xa0)](_0x1253fe(0xa8),_0x4b827c),loggerService_1[_0x1253fe(0xbe)][_0x1253fe(0xb9)](_0x1253fe(0xc0),_0x4b827c,_0x3fad0a['body']),_0x192f15[_0x1253fe(0x8d)](0xc8)['json']({'success':![],'message':_0x4b827c instanceof Error?_0x4b827c[_0x1253fe(0x88)]:'Webhook\x20processing\x20failed'});}},this[_0x5ea40b(0x7c)]=async(_0x2cf03a,_0x5023e3,_0x4692a1)=>{const _0x4331a3=_0x5ea40b;try{console['log']('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x4331a3(0x94)]('Content-Type:',_0x2cf03a[_0x4331a3(0xa5)](_0x4331a3(0x98))),console['log'](_0x4331a3(0xa2),typeof _0x2cf03a['body']),console[_0x4331a3(0x94)]('Body\x20keys:',Object[_0x4331a3(0x7d)](_0x2cf03a['body']||{})),console[_0x4331a3(0x94)](_0x4331a3(0xbb),_0x2cf03a['body']),loggerService_1[_0x4331a3(0xbe)][_0x4331a3(0xd2)](_0x4331a3(0x7a),_0x2cf03a[_0x4331a3(0x79)],_0x2cf03a['headers']);const _0x25e16a=await this[_0x4331a3(0xc7)][_0x4331a3(0x96)](_0x2cf03a[_0x4331a3(0x79)]);_0x5023e3[_0x4331a3(0x8d)](0xc8)[_0x4331a3(0xa3)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x14f5b0){console[_0x4331a3(0xa0)](_0x4331a3(0xbc),_0x14f5b0),loggerService_1[_0x4331a3(0xbe)]['logWebhookError']('plisio_gateway',_0x14f5b0,_0x2cf03a[_0x4331a3(0x79)]),_0x5023e3['status'](0xc8)[_0x4331a3(0xa3)]({'success':![],'message':_0x14f5b0 instanceof Error?_0x14f5b0[_0x4331a3(0x88)]:_0x4331a3(0x91)});}},this['handleRapydWebhook']=async(_0x5d9ca6,_0x453654,_0x3f96cf)=>{const _0x5ced70=_0x5ea40b;try{console['log'](_0x5ced70(0xc9),_0x5d9ca6['body']),loggerService_1[_0x5ced70(0xbe)]['logWebhookReceived']('rapyd',_0x5d9ca6[_0x5ced70(0x79)],_0x5d9ca6['headers']);const _0x57b404=await this[_0x5ced70(0xc7)][_0x5ced70(0x93)](_0x5d9ca6[_0x5ced70(0x79)]);_0x453654[_0x5ced70(0x8d)](0xc8)[_0x5ced70(0xa3)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x3dd8b6){console[_0x5ced70(0xa0)]('Rapyd\x20webhook\x20processing\x20error:',_0x3dd8b6),loggerService_1['loggerService'][_0x5ced70(0xb9)](_0x5ced70(0xc5),_0x3dd8b6,_0x5d9ca6[_0x5ced70(0x79)]),_0x453654[_0x5ced70(0x8d)](0xc8)['json']({'success':![],'message':_0x3dd8b6 instanceof Error?_0x3dd8b6[_0x5ced70(0x88)]:_0x5ced70(0x89)});}},this['handleNodaWebhook']=async(_0x167cdf,_0x39bfc3,_0x2a4e34)=>{const _0x348b3c=_0x5ea40b;try{console[_0x348b3c(0x94)](_0x348b3c(0xa7),_0x167cdf[_0x348b3c(0x79)]),loggerService_1[_0x348b3c(0xbe)][_0x348b3c(0xd2)](_0x348b3c(0xbf),_0x167cdf[_0x348b3c(0x79)],_0x167cdf['headers']);const _0x1157d6=await this[_0x348b3c(0xc7)][_0x348b3c(0x83)](_0x167cdf[_0x348b3c(0x79)]);_0x39bfc3[_0x348b3c(0x8d)](0xc8)['json']({'success':!![],'message':_0x348b3c(0x97)});}catch(_0x4c68f3){console['error'](_0x348b3c(0xcb),_0x4c68f3),loggerService_1[_0x348b3c(0xbe)]['logWebhookError'](_0x348b3c(0xbf),_0x4c68f3,_0x167cdf[_0x348b3c(0x79)]),_0x39bfc3[_0x348b3c(0x8d)](0xc8)['json']({'success':![],'message':_0x4c68f3 instanceof Error?_0x4c68f3['message']:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x5ea40b(0xbd)]=async(_0x461741,_0x27899e,_0xe9be85)=>{const _0x31f744=_0x5ea40b;try{console[_0x31f744(0x94)]('Received\x20CoinToPay\x20webhook:',_0x461741[_0x31f744(0x79)]),loggerService_1[_0x31f744(0xbe)][_0x31f744(0xd2)](_0x31f744(0xac),_0x461741[_0x31f744(0x79)],_0x461741['headers']);const _0x1fc1a5=await this[_0x31f744(0xc7)]['processCoinToPayWebhook'](_0x461741[_0x31f744(0x79)]);_0x27899e['status'](0xc8)[_0x31f744(0xa3)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x1c54d1){console[_0x31f744(0xa0)](_0x31f744(0xa1),_0x1c54d1),loggerService_1[_0x31f744(0xbe)][_0x31f744(0xb9)](_0x31f744(0xac),_0x1c54d1,_0x461741[_0x31f744(0x79)]),_0x27899e['status'](0xc8)['json']({'success':![],'message':_0x1c54d1 instanceof Error?_0x1c54d1[_0x31f744(0x88)]:_0x31f744(0x86)});}},this[_0x5ea40b(0xc3)]=async(_0x843df,_0x5bd752,_0x40f947)=>{const _0x3d5ebc=_0x5ea40b;try{console[_0x3d5ebc(0x94)]('Received\x20CoinToPay2\x20webhook:',_0x843df['body']),loggerService_1['loggerService'][_0x3d5ebc(0xd2)](_0x3d5ebc(0x8b),_0x843df[_0x3d5ebc(0x79)],_0x843df[_0x3d5ebc(0xc2)]);const _0x16c8cf=await this[_0x3d5ebc(0xc7)][_0x3d5ebc(0x7b)](_0x843df[_0x3d5ebc(0x79)]);_0x5bd752[_0x3d5ebc(0x8d)](0xc8)[_0x3d5ebc(0xa3)]({'success':!![],'message':_0x3d5ebc(0xaf)});}catch(_0xc25db5){console[_0x3d5ebc(0xa0)](_0x3d5ebc(0x7f),_0xc25db5),loggerService_1[_0x3d5ebc(0xbe)][_0x3d5ebc(0xb9)](_0x3d5ebc(0x8b),_0xc25db5,_0x843df[_0x3d5ebc(0x79)]),_0x5bd752[_0x3d5ebc(0x8d)](0xc8)['json']({'success':![],'message':_0xc25db5 instanceof Error?_0xc25db5['message']:_0x3d5ebc(0x9a)});}},this['handleKlymeWebhook']=async(_0x1eb3f1,_0x3744cd,_0x2e0bfd)=>{const _0x2bf33a=_0x5ea40b;try{console[_0x2bf33a(0x94)](_0x2bf33a(0x87),_0x1eb3f1[_0x2bf33a(0x79)]),loggerService_1[_0x2bf33a(0xbe)]['logWebhookReceived'](_0x2bf33a(0xb2),_0x1eb3f1['body'],_0x1eb3f1[_0x2bf33a(0xc2)]);const _0xfa4349=await this[_0x2bf33a(0xc7)][_0x2bf33a(0x8e)](_0x1eb3f1[_0x2bf33a(0x79)]);_0x3744cd[_0x2bf33a(0x8d)](0xc8)[_0x2bf33a(0xa3)]({'success':!![],'message':_0x2bf33a(0x9c)});}catch(_0x415738){console['error'](_0x2bf33a(0xab),_0x415738),loggerService_1['loggerService'][_0x2bf33a(0xb9)](_0x2bf33a(0xb2),_0x415738,_0x1eb3f1[_0x2bf33a(0x79)]),_0x3744cd['status'](0xc8)[_0x2bf33a(0xa3)]({'success':![],'message':_0x415738 instanceof Error?_0x415738[_0x2bf33a(0x88)]:_0x2bf33a(0xb4)});}},this[_0x5ea40b(0xa4)]=async(_0x27afae,_0x36660f,_0x3bd999)=>{const _0x18e2d9=_0x5ea40b;try{console[_0x18e2d9(0x94)](_0x18e2d9(0x9f),_0x27afae[_0x18e2d9(0x79)]),loggerService_1[_0x18e2d9(0xbe)][_0x18e2d9(0xd2)](_0x18e2d9(0x92),_0x27afae[_0x18e2d9(0x79)],_0x27afae[_0x18e2d9(0xc2)]);const _0x1bed7f=await this[_0x18e2d9(0xc7)][_0x18e2d9(0xb3)](_0x27afae[_0x18e2d9(0x79)]);_0x36660f['status'](0xc8)['json']({'success':!![],'message':'VISA\x20webhook\x20processed\x20successfully'});}catch(_0x11af6b){console['error'](_0x18e2d9(0xb6),_0x11af6b),loggerService_1['loggerService'][_0x18e2d9(0xb9)](_0x18e2d9(0x92),_0x11af6b,_0x27afae[_0x18e2d9(0x79)]),_0x36660f[_0x18e2d9(0x8d)](0xc8)[_0x18e2d9(0xa3)]({'success':![],'message':_0x11af6b instanceof Error?_0x11af6b['message']:_0x18e2d9(0xa6)});}},this[_0x5ea40b(0xcf)]=async(_0x3e4333,_0x8013c5,_0x34ba6e)=>{const _0x4f691d=_0x5ea40b;try{console[_0x4f691d(0x94)](_0x4f691d(0x8f),_0x3e4333[_0x4f691d(0x79)]),loggerService_1[_0x4f691d(0xbe)][_0x4f691d(0xd2)](_0x4f691d(0x85),_0x3e4333[_0x4f691d(0x79)],_0x3e4333[_0x4f691d(0xc2)]);const _0x355de7=await this['webhookService'][_0x4f691d(0xca)](_0x3e4333[_0x4f691d(0x79)]);_0x8013c5[_0x4f691d(0x8d)](0xc8)['json']({'success':!![],'message':_0x4f691d(0xc8)});}catch(_0x386ef8){console[_0x4f691d(0xa0)]('MasterCard\x20webhook\x20processing\x20error:',_0x386ef8),loggerService_1[_0x4f691d(0xbe)][_0x4f691d(0xb9)](_0x4f691d(0x85),_0x386ef8,_0x3e4333[_0x4f691d(0x79)]),_0x8013c5['status'](0xc8)['json']({'success':![],'message':_0x386ef8 instanceof Error?_0x386ef8['message']:'MasterCard\x20webhook\x20processing\x20failed'});}},this['handleAmerWebhook']=async(_0x2ad89c,_0xf7e56,_0x20ebab)=>{const _0x4b6a9c=_0x5ea40b;try{console[_0x4b6a9c(0x94)](_0x4b6a9c(0x8a),_0x2ad89c[_0x4b6a9c(0x79)]),loggerService_1['loggerService'][_0x4b6a9c(0xd2)](_0x4b6a9c(0xb7),_0x2ad89c['body'],_0x2ad89c['headers']);const _0x1e1b94=await this[_0x4b6a9c(0xc7)]['processAmerWebhook'](_0x2ad89c[_0x4b6a9c(0x79)]);_0xf7e56[_0x4b6a9c(0x8d)](0xc8)[_0x4b6a9c(0xa3)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x5512f2){console[_0x4b6a9c(0xa0)](_0x4b6a9c(0x82),_0x5512f2),loggerService_1[_0x4b6a9c(0xbe)][_0x4b6a9c(0xb9)]('amer',_0x5512f2,_0x2ad89c[_0x4b6a9c(0x79)]),_0xf7e56[_0x4b6a9c(0x8d)](0xc8)[_0x4b6a9c(0xa3)]({'success':![],'message':_0x5512f2 instanceof Error?_0x5512f2[_0x4b6a9c(0x88)]:_0x4b6a9c(0x9b)});}},this[_0x5ea40b(0xcc)]=async(_0x1cfe63,_0x346977,_0x1ac324)=>{const _0x543ccd=_0x5ea40b;try{console['log'](_0x543ccd(0xba)),console['log']('Headers:',_0x1cfe63['headers']),console[_0x543ccd(0x94)]('Body:',_0x1cfe63[_0x543ccd(0x79)]),console[_0x543ccd(0x94)]('Body\x20type:',typeof _0x1cfe63['body']),console['log']('Body\x20keys:',Object['keys'](_0x1cfe63[_0x543ccd(0x79)]||{})),loggerService_1[_0x543ccd(0xbe)][_0x543ccd(0xd2)]('ampay',_0x1cfe63[_0x543ccd(0x79)],_0x1cfe63['headers']);const _0xcb9883=await this[_0x543ccd(0xc7)][_0x543ccd(0xc6)](_0x1cfe63[_0x543ccd(0x79)]);_0x346977[_0x543ccd(0x8d)](0xc8)[_0x543ccd(0xa3)]({'success':!![],'message':_0x543ccd(0x84)});}catch(_0x2c1c21){console['error'](_0x543ccd(0xaa),_0x2c1c21),loggerService_1[_0x543ccd(0xbe)][_0x543ccd(0xb9)](_0x543ccd(0xb8),_0x2c1c21,_0x1cfe63[_0x543ccd(0x79)]),_0x346977[_0x543ccd(0x8d)](0xc8)[_0x543ccd(0xa3)]({'success':![],'message':_0x2c1c21 instanceof Error?_0x2c1c21[_0x543ccd(0x88)]:_0x543ccd(0xae)});}},this[_0x5ea40b(0xc7)]=new webhookService_1['WebhookService']();}}exports[a15_0x295a7e(0xc4)]=WebhookController;