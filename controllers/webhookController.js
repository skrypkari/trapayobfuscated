'use strict';function a15_0x2b65(){const _0x1ff340=['Webhook\x20processing\x20failed','Noda\x20webhook\x20processing\x20error:','handleRapydWebhook','headers','MasterCard\x20webhook\x20processing\x20error:','handleCoinToPay2Webhook','processRapydWebhook','Gateway\x20webhook\x20processing\x20error:','510172LUrISP','../services/webhookService','4701039sjELcW','json','logWebhookError','MasterCard\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processed\x20successfully','message','loggerService','CoinToPay2\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20failed','Raw\x20body\x20type:','processCoinToPayWebhook','noda','logWebhookReceived','Webhook\x20processing\x20error:','status','KLYME\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','KLYME\x20webhook\x20processed\x20successfully','230SedtXN','amer','Amer\x20webhook\x20processing\x20error:','Content-Type','Webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20error:','processCoinToPay2Webhook','processNodaWebhook','KLYME\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20error:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Received\x20Noda\x20webhook:','log','496755bIrgRP','3mQguTh','handleCoinToPayWebhook','get','MasterCard\x20webhook\x20processing\x20failed','1322414WAprgb','cointopay','defineProperty','body','Received\x20MasterCard\x20webhook:','Body\x20content:','CoinToPay\x20webhook\x20processed\x20successfully','mastercard','2735HVkvBp','Content-Type:','keys','CoinToPay2\x20webhook\x20processed\x20successfully','handleNodaWebhook','Received\x20CoinToPay\x20webhook:','plisio','../services/loggerService','handleAmerWebhook','Received\x20CoinToPay2\x20webhook:','plisio_gateway','webhookService','53055QTKCAk','Received\x20Rapyd\x20webhook:','Received\x20Amer\x20webhook:','klyme','cointopay2','WebhookController','Rapyd\x20webhook\x20processed\x20successfully','error','7062128wYCwEV','6618vMpiOb','rapyd'];a15_0x2b65=function(){return _0x1ff340;};return a15_0x2b65();}const a15_0x24482b=a15_0x23a4;(function(_0x21babe,_0x2aa5f8){const _0x1eb757=a15_0x23a4,_0x1de604=_0x21babe();while(!![]){try{const _0x52f4a0=parseInt(_0x1eb757(0x13d))/0x1+-parseInt(_0x1eb757(0x142))/0x2*(parseInt(_0x1eb757(0x13e))/0x3)+parseInt(_0x1eb757(0x169))/0x4+parseInt(_0x1eb757(0x14a))/0x5*(parseInt(_0x1eb757(0x15f))/0x6)+parseInt(_0x1eb757(0x16b))/0x7+-parseInt(_0x1eb757(0x15e))/0x8+-parseInt(_0x1eb757(0x156))/0x9*(-parseInt(_0x1eb757(0x130))/0xa);if(_0x52f4a0===_0x2aa5f8)break;else _0x1de604['push'](_0x1de604['shift']());}catch(_0x5bcafd){_0x1de604['push'](_0x1de604['shift']());}}}(a15_0x2b65,0x77d4c));function a15_0x23a4(_0x126f5b,_0x1bd53d){const _0x2b65f2=a15_0x2b65();return a15_0x23a4=function(_0x23a452,_0x460471){_0x23a452=_0x23a452-0x130;let _0x121eba=_0x2b65f2[_0x23a452];return _0x121eba;},a15_0x23a4(_0x126f5b,_0x1bd53d);}Object[a15_0x24482b(0x144)](exports,'__esModule',{'value':!![]}),exports[a15_0x24482b(0x15b)]=void 0x0;const webhookService_1=require(a15_0x24482b(0x16a)),loggerService_1=require(a15_0x24482b(0x151));class WebhookController{constructor(){const _0x35d159=a15_0x24482b;this['handlePlisioWebhook']=async(_0x40857c,_0x433205,_0x154d30)=>{const _0x20b97e=a15_0x23a4;try{console[_0x20b97e(0x13c)](_0x20b97e(0x13a)),console['log'](_0x20b97e(0x14b),_0x40857c['get'](_0x20b97e(0x133))),console[_0x20b97e(0x13c)](_0x20b97e(0x174),typeof _0x40857c[_0x20b97e(0x145)]),console['log']('Body\x20keys:',Object[_0x20b97e(0x14c)](_0x40857c[_0x20b97e(0x145)]||{})),console[_0x20b97e(0x13c)](_0x20b97e(0x147),_0x40857c[_0x20b97e(0x145)]),loggerService_1[_0x20b97e(0x171)][_0x20b97e(0x177)](_0x20b97e(0x150),_0x40857c['body'],_0x40857c['headers']);const _0x5ba3ce=await this[_0x20b97e(0x155)]['processPlisioWebhook'](_0x40857c['body']);_0x433205[_0x20b97e(0x179)](0xc8)[_0x20b97e(0x16c)]({'success':!![],'message':_0x20b97e(0x134)});}catch(_0x296539){console[_0x20b97e(0x15d)](_0x20b97e(0x178),_0x296539),loggerService_1[_0x20b97e(0x171)][_0x20b97e(0x16d)]('plisio',_0x296539,_0x40857c[_0x20b97e(0x145)]),_0x433205['status'](0xc8)[_0x20b97e(0x16c)]({'success':![],'message':_0x296539 instanceof Error?_0x296539['message']:_0x20b97e(0x161)});}},this['handlePlisioGatewayWebhook']=async(_0x57bb5,_0x559800,_0x3fb7d0)=>{const _0x517814=a15_0x23a4;try{console[_0x517814(0x13c)](_0x517814(0x17c)),console[_0x517814(0x13c)](_0x517814(0x14b),_0x57bb5[_0x517814(0x140)](_0x517814(0x133))),console[_0x517814(0x13c)]('Raw\x20body\x20type:',typeof _0x57bb5['body']),console[_0x517814(0x13c)]('Body\x20keys:',Object['keys'](_0x57bb5[_0x517814(0x145)]||{})),console['log'](_0x517814(0x147),_0x57bb5[_0x517814(0x145)]),loggerService_1['loggerService']['logWebhookReceived']('plisio_gateway',_0x57bb5[_0x517814(0x145)],_0x57bb5['headers']);const _0x2c12dd=await this['webhookService']['processPlisioGatewayWebhook'](_0x57bb5[_0x517814(0x145)]);_0x559800[_0x517814(0x179)](0xc8)[_0x517814(0x16c)]({'success':!![],'message':_0x517814(0x16f)});}catch(_0x2b5b96){console[_0x517814(0x15d)](_0x517814(0x168),_0x2b5b96),loggerService_1[_0x517814(0x171)]['logWebhookError'](_0x517814(0x154),_0x2b5b96,_0x57bb5[_0x517814(0x145)]),_0x559800[_0x517814(0x179)](0xc8)[_0x517814(0x16c)]({'success':![],'message':_0x2b5b96 instanceof Error?_0x2b5b96[_0x517814(0x170)]:_0x517814(0x173)});}},this[_0x35d159(0x163)]=async(_0x43c1ec,_0x2f382b,_0x4cb4fb)=>{const _0x46d173=_0x35d159;try{console[_0x46d173(0x13c)](_0x46d173(0x157),_0x43c1ec[_0x46d173(0x145)]),loggerService_1[_0x46d173(0x171)]['logWebhookReceived'](_0x46d173(0x160),_0x43c1ec['body'],_0x43c1ec[_0x46d173(0x164)]);const _0x3d4052=await this[_0x46d173(0x155)][_0x46d173(0x167)](_0x43c1ec[_0x46d173(0x145)]);_0x2f382b[_0x46d173(0x179)](0xc8)[_0x46d173(0x16c)]({'success':!![],'message':_0x46d173(0x15c)});}catch(_0xd25f9a){console[_0x46d173(0x15d)](_0x46d173(0x135),_0xd25f9a),loggerService_1['loggerService'][_0x46d173(0x16d)](_0x46d173(0x160),_0xd25f9a,_0x43c1ec[_0x46d173(0x145)]),_0x2f382b[_0x46d173(0x179)](0xc8)[_0x46d173(0x16c)]({'success':![],'message':_0xd25f9a instanceof Error?_0xd25f9a[_0x46d173(0x170)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x35d159(0x14e)]=async(_0x5b3ef4,_0x46ec52,_0x4ec3bf)=>{const _0x4eee21=_0x35d159;try{console['log'](_0x4eee21(0x13b),_0x5b3ef4[_0x4eee21(0x145)]),loggerService_1['loggerService']['logWebhookReceived'](_0x4eee21(0x176),_0x5b3ef4[_0x4eee21(0x145)],_0x5b3ef4[_0x4eee21(0x164)]);const _0x14263b=await this[_0x4eee21(0x155)][_0x4eee21(0x137)](_0x5b3ef4[_0x4eee21(0x145)]);_0x46ec52['status'](0xc8)[_0x4eee21(0x16c)]({'success':!![],'message':_0x4eee21(0x17b)});}catch(_0x43b11e){console[_0x4eee21(0x15d)](_0x4eee21(0x162),_0x43b11e),loggerService_1[_0x4eee21(0x171)][_0x4eee21(0x16d)]('noda',_0x43b11e,_0x5b3ef4[_0x4eee21(0x145)]),_0x46ec52[_0x4eee21(0x179)](0xc8)[_0x4eee21(0x16c)]({'success':![],'message':_0x43b11e instanceof Error?_0x43b11e[_0x4eee21(0x170)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x35d159(0x13f)]=async(_0x51ad62,_0x231f50,_0x2c7292)=>{const _0x1b1e7a=_0x35d159;try{console[_0x1b1e7a(0x13c)](_0x1b1e7a(0x14f),_0x51ad62['body']),loggerService_1['loggerService'][_0x1b1e7a(0x177)](_0x1b1e7a(0x143),_0x51ad62[_0x1b1e7a(0x145)],_0x51ad62[_0x1b1e7a(0x164)]);const _0x1cc834=await this['webhookService'][_0x1b1e7a(0x175)](_0x51ad62['body']);_0x231f50[_0x1b1e7a(0x179)](0xc8)[_0x1b1e7a(0x16c)]({'success':!![],'message':_0x1b1e7a(0x148)});}catch(_0x103a2e){console[_0x1b1e7a(0x15d)](_0x1b1e7a(0x139),_0x103a2e),loggerService_1['loggerService'][_0x1b1e7a(0x16d)](_0x1b1e7a(0x143),_0x103a2e,_0x51ad62[_0x1b1e7a(0x145)]),_0x231f50['status'](0xc8)[_0x1b1e7a(0x16c)]({'success':![],'message':_0x103a2e instanceof Error?_0x103a2e[_0x1b1e7a(0x170)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x35d159(0x166)]=async(_0x242896,_0x4f124b,_0x106c03)=>{const _0x5c413f=_0x35d159;try{console[_0x5c413f(0x13c)](_0x5c413f(0x153),_0x242896[_0x5c413f(0x145)]),loggerService_1[_0x5c413f(0x171)][_0x5c413f(0x177)](_0x5c413f(0x15a),_0x242896[_0x5c413f(0x145)],_0x242896[_0x5c413f(0x164)]);const _0x5698af=await this[_0x5c413f(0x155)][_0x5c413f(0x136)](_0x242896['body']);_0x4f124b[_0x5c413f(0x179)](0xc8)['json']({'success':!![],'message':_0x5c413f(0x14d)});}catch(_0x2b817c){console['error'](_0x5c413f(0x172),_0x2b817c),loggerService_1[_0x5c413f(0x171)][_0x5c413f(0x16d)](_0x5c413f(0x15a),_0x2b817c,_0x242896[_0x5c413f(0x145)]),_0x4f124b[_0x5c413f(0x179)](0xc8)[_0x5c413f(0x16c)]({'success':![],'message':_0x2b817c instanceof Error?_0x2b817c[_0x5c413f(0x170)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x133e80,_0x2f8991,_0x1d0674)=>{const _0x5c716d=_0x35d159;try{console[_0x5c716d(0x13c)]('Received\x20KLYME\x20webhook:',_0x133e80[_0x5c716d(0x145)]),loggerService_1['loggerService'][_0x5c716d(0x177)](_0x5c716d(0x159),_0x133e80[_0x5c716d(0x145)],_0x133e80[_0x5c716d(0x164)]);const _0x2bf5fa=await this[_0x5c716d(0x155)]['processKlymeWebhook'](_0x133e80[_0x5c716d(0x145)]);_0x2f8991[_0x5c716d(0x179)](0xc8)[_0x5c716d(0x16c)]({'success':!![],'message':_0x5c716d(0x17d)});}catch(_0x4a0637){console[_0x5c716d(0x15d)](_0x5c716d(0x138),_0x4a0637),loggerService_1[_0x5c716d(0x171)][_0x5c716d(0x16d)](_0x5c716d(0x159),_0x4a0637,_0x133e80[_0x5c716d(0x145)]),_0x2f8991[_0x5c716d(0x179)](0xc8)[_0x5c716d(0x16c)]({'success':![],'message':_0x4a0637 instanceof Error?_0x4a0637['message']:_0x5c716d(0x17a)});}},this['handleMasterCardWebhook']=async(_0x454e07,_0x34fd46,_0x46679a)=>{const _0x429b7c=_0x35d159;try{console[_0x429b7c(0x13c)](_0x429b7c(0x146),_0x454e07[_0x429b7c(0x145)]),loggerService_1[_0x429b7c(0x171)][_0x429b7c(0x177)]('mastercard',_0x454e07[_0x429b7c(0x145)],_0x454e07[_0x429b7c(0x164)]);const _0x3d7749=await this[_0x429b7c(0x155)]['processMasterCardWebhook'](_0x454e07['body']);_0x34fd46['status'](0xc8)['json']({'success':!![],'message':_0x429b7c(0x16e)});}catch(_0x3532df){console[_0x429b7c(0x15d)](_0x429b7c(0x165),_0x3532df),loggerService_1[_0x429b7c(0x171)][_0x429b7c(0x16d)](_0x429b7c(0x149),_0x3532df,_0x454e07[_0x429b7c(0x145)]),_0x34fd46[_0x429b7c(0x179)](0xc8)[_0x429b7c(0x16c)]({'success':![],'message':_0x3532df instanceof Error?_0x3532df['message']:_0x429b7c(0x141)});}},this[_0x35d159(0x152)]=async(_0x2286b3,_0x35775b,_0x114819)=>{const _0x25aefd=_0x35d159;try{console[_0x25aefd(0x13c)](_0x25aefd(0x158),_0x2286b3[_0x25aefd(0x145)]),loggerService_1[_0x25aefd(0x171)][_0x25aefd(0x177)]('amer',_0x2286b3[_0x25aefd(0x145)],_0x2286b3[_0x25aefd(0x164)]);const _0x228b19=await this[_0x25aefd(0x155)]['processAmerWebhook'](_0x2286b3[_0x25aefd(0x145)]);_0x35775b['status'](0xc8)[_0x25aefd(0x16c)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x1c6bb6){console[_0x25aefd(0x15d)](_0x25aefd(0x132),_0x1c6bb6),loggerService_1['loggerService'][_0x25aefd(0x16d)](_0x25aefd(0x131),_0x1c6bb6,_0x2286b3['body']),_0x35775b[_0x25aefd(0x179)](0xc8)[_0x25aefd(0x16c)]({'success':![],'message':_0x1c6bb6 instanceof Error?_0x1c6bb6['message']:'Amer\x20webhook\x20processing\x20failed'});}},this[_0x35d159(0x155)]=new webhookService_1['WebhookService']();}}exports['WebhookController']=WebhookController;