'use strict';const a15_0x3122fc=a15_0x1b01;function a15_0x3d5d(){const _0x5bc540=['Webhook\x20processed\x20successfully','Received\x20CoinToPay\x20webhook:','defineProperty','processPlisioWebhook','handlePlisioWebhook','handleCoinToPayWebhook','CoinToPay\x20webhook\x20processing\x20failed','22096iEivxl','834825qaiVJy','Content-Type:','Received\x20Rapyd\x20webhook:','handleKlymeWebhook','Gateway\x20webhook\x20processed\x20successfully','logWebhookError','Rapyd\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','Raw\x20body\x20type:','webhookService','handleMasterCardWebhook','cointopay2','4dkYpov','keys','cointopay','Received\x20CoinToPay2\x20webhook:','processRapydWebhook','../services/loggerService','Body\x20keys:','processMasterCardWebhook','Gateway\x20webhook\x20processing\x20error:','body','CoinToPay2\x20webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20error:','46812HlwYlu','Gateway\x20webhook\x20processing\x20failed','7xSagcy','CoinToPay\x20webhook\x20processed\x20successfully','354447wnjBty','message','134TVbMoE','Webhook\x20processing\x20failed','processCoinToPayWebhook','error','loggerService','get','handleCoinToPay2Webhook','plisio','WebhookService','__esModule','processPlisioGatewayWebhook','Received\x20MasterCard\x20webhook:','MasterCard\x20webhook\x20processed\x20successfully','../services/webhookService','plisio_gateway','WebhookController','4282656vRhBrD','KLYME\x20webhook\x20processing\x20failed','processNodaWebhook','Noda\x20webhook\x20processing\x20error:','headers','Noda\x20webhook\x20processed\x20successfully','rapyd','2142260GRqUmi','logWebhookReceived','handleNodaWebhook','43795iWJkjW','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','log','72tygTkr','noda','Received\x20KLYME\x20webhook:','CoinToPay2\x20webhook\x20processing\x20failed','3465NiWCbn','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','status','klyme','json','mastercard','Noda\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:'];a15_0x3d5d=function(){return _0x5bc540;};return a15_0x3d5d();}function a15_0x1b01(_0x26b7f1,_0x5d4824){const _0x3d5d83=a15_0x3d5d();return a15_0x1b01=function(_0x1b01c7,_0x5af14f){_0x1b01c7=_0x1b01c7-0x178;let _0x5b73d1=_0x3d5d83[_0x1b01c7];return _0x5b73d1;},a15_0x1b01(_0x26b7f1,_0x5d4824);}(function(_0x587e0c,_0x48b63b){const _0x3e3908=a15_0x1b01,_0x5e9310=_0x587e0c();while(!![]){try{const _0x35a446=-parseInt(_0x3e3908(0x17d))/0x1*(-parseInt(_0x3e3908(0x1ae))/0x2)+-parseInt(_0x3e3908(0x1af))/0x3+parseInt(_0x3e3908(0x1bb))/0x4*(-parseInt(_0x3e3908(0x197))/0x5)+parseInt(_0x3e3908(0x18d))/0x6*(parseInt(_0x3e3908(0x179))/0x7)+-parseInt(_0x3e3908(0x19a))/0x8*(-parseInt(_0x3e3908(0x17b))/0x9)+-parseInt(_0x3e3908(0x194))/0xa+parseInt(_0x3e3908(0x19e))/0xb*(-parseInt(_0x3e3908(0x1c8))/0xc);if(_0x35a446===_0x48b63b)break;else _0x5e9310['push'](_0x5e9310['shift']());}catch(_0xf3a69){_0x5e9310['push'](_0x5e9310['shift']());}}}(a15_0x3d5d,0xc7d94));Object[a15_0x3122fc(0x1a9)](exports,a15_0x3122fc(0x186),{'value':!![]}),exports[a15_0x3122fc(0x18c)]=void 0x0;const webhookService_1=require(a15_0x3122fc(0x18a)),loggerService_1=require(a15_0x3122fc(0x1c0));class WebhookController{constructor(){const _0x3f9126=a15_0x3122fc;this[_0x3f9126(0x1ab)]=async(_0x955225,_0x44e71f,_0x4d2e43)=>{const _0x2a4532=_0x3f9126;try{console[_0x2a4532(0x199)](_0x2a4532(0x19f)),console['log'](_0x2a4532(0x1b0),_0x955225[_0x2a4532(0x182)]('Content-Type')),console[_0x2a4532(0x199)](_0x2a4532(0x1b7),typeof _0x955225[_0x2a4532(0x1c4)]),console[_0x2a4532(0x199)](_0x2a4532(0x1c1),Object['keys'](_0x955225[_0x2a4532(0x1c4)]||{})),console[_0x2a4532(0x199)]('Body\x20content:',_0x955225[_0x2a4532(0x1c4)]),loggerService_1[_0x2a4532(0x181)][_0x2a4532(0x195)](_0x2a4532(0x184),_0x955225['body'],_0x955225['headers']);const _0x5044b0=await this[_0x2a4532(0x1b8)][_0x2a4532(0x1aa)](_0x955225['body']);_0x44e71f[_0x2a4532(0x1a0)](0xc8)[_0x2a4532(0x1a2)]({'success':!![],'message':_0x2a4532(0x1a7)});}catch(_0x365d71){console[_0x2a4532(0x180)](_0x2a4532(0x1b6),_0x365d71),loggerService_1[_0x2a4532(0x181)][_0x2a4532(0x1b4)](_0x2a4532(0x184),_0x365d71,_0x955225['body']),_0x44e71f['status'](0xc8)[_0x2a4532(0x1a2)]({'success':![],'message':_0x365d71 instanceof Error?_0x365d71[_0x2a4532(0x17c)]:_0x2a4532(0x17e)});}},this['handlePlisioGatewayWebhook']=async(_0x44792c,_0x5ef89e,_0x1081ca)=>{const _0x4c8b47=_0x3f9126;try{console[_0x4c8b47(0x199)](_0x4c8b47(0x198)),console['log']('Content-Type:',_0x44792c[_0x4c8b47(0x182)]('Content-Type')),console[_0x4c8b47(0x199)](_0x4c8b47(0x1b7),typeof _0x44792c[_0x4c8b47(0x1c4)]),console['log'](_0x4c8b47(0x1c1),Object[_0x4c8b47(0x1bc)](_0x44792c[_0x4c8b47(0x1c4)]||{})),console[_0x4c8b47(0x199)]('Body\x20content:',_0x44792c[_0x4c8b47(0x1c4)]),loggerService_1[_0x4c8b47(0x181)][_0x4c8b47(0x195)](_0x4c8b47(0x18b),_0x44792c[_0x4c8b47(0x1c4)],_0x44792c['headers']);const _0x11f3d9=await this[_0x4c8b47(0x1b8)][_0x4c8b47(0x187)](_0x44792c['body']);_0x5ef89e[_0x4c8b47(0x1a0)](0xc8)[_0x4c8b47(0x1a2)]({'success':!![],'message':_0x4c8b47(0x1b3)});}catch(_0xb4e4f4){console[_0x4c8b47(0x180)](_0x4c8b47(0x1c3),_0xb4e4f4),loggerService_1[_0x4c8b47(0x181)]['logWebhookError'](_0x4c8b47(0x18b),_0xb4e4f4,_0x44792c[_0x4c8b47(0x1c4)]),_0x5ef89e[_0x4c8b47(0x1a0)](0xc8)[_0x4c8b47(0x1a2)]({'success':![],'message':_0xb4e4f4 instanceof Error?_0xb4e4f4[_0x4c8b47(0x17c)]:_0x4c8b47(0x178)});}},this['handleRapydWebhook']=async(_0x4ed802,_0x5bb99c,_0x3dd1d4)=>{const _0x2a73d7=_0x3f9126;try{console['log'](_0x2a73d7(0x1b1),_0x4ed802[_0x2a73d7(0x1c4)]),loggerService_1['loggerService'][_0x2a73d7(0x195)](_0x2a73d7(0x193),_0x4ed802[_0x2a73d7(0x1c4)],_0x4ed802['headers']);const _0x1d4969=await this['webhookService'][_0x2a73d7(0x1bf)](_0x4ed802[_0x2a73d7(0x1c4)]);_0x5bb99c[_0x2a73d7(0x1a0)](0xc8)['json']({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x240e22){console[_0x2a73d7(0x180)](_0x2a73d7(0x1b5),_0x240e22),loggerService_1['loggerService'][_0x2a73d7(0x1b4)](_0x2a73d7(0x193),_0x240e22,_0x4ed802[_0x2a73d7(0x1c4)]),_0x5bb99c[_0x2a73d7(0x1a0)](0xc8)[_0x2a73d7(0x1a2)]({'success':![],'message':_0x240e22 instanceof Error?_0x240e22[_0x2a73d7(0x17c)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x3f9126(0x196)]=async(_0x40fdd2,_0x3d44ce,_0x5761e8)=>{const _0x38a043=_0x3f9126;try{console[_0x38a043(0x199)]('Received\x20Noda\x20webhook:',_0x40fdd2[_0x38a043(0x1c4)]),loggerService_1['loggerService'][_0x38a043(0x195)](_0x38a043(0x19b),_0x40fdd2[_0x38a043(0x1c4)],_0x40fdd2[_0x38a043(0x191)]);const _0xda731e=await this[_0x38a043(0x1b8)][_0x38a043(0x18f)](_0x40fdd2['body']);_0x3d44ce['status'](0xc8)[_0x38a043(0x1a2)]({'success':!![],'message':_0x38a043(0x192)});}catch(_0x2447cd){console[_0x38a043(0x180)](_0x38a043(0x190),_0x2447cd),loggerService_1[_0x38a043(0x181)][_0x38a043(0x1b4)](_0x38a043(0x19b),_0x2447cd,_0x40fdd2[_0x38a043(0x1c4)]),_0x3d44ce[_0x38a043(0x1a0)](0xc8)['json']({'success':![],'message':_0x2447cd instanceof Error?_0x2447cd[_0x38a043(0x17c)]:_0x38a043(0x1a4)});}},this[_0x3f9126(0x1ac)]=async(_0x2724d9,_0x1c6445,_0x38a4df)=>{const _0x22e333=_0x3f9126;try{console[_0x22e333(0x199)](_0x22e333(0x1a8),_0x2724d9[_0x22e333(0x1c4)]),loggerService_1[_0x22e333(0x181)]['logWebhookReceived']('cointopay',_0x2724d9['body'],_0x2724d9[_0x22e333(0x191)]);const _0x837995=await this['webhookService'][_0x22e333(0x17f)](_0x2724d9[_0x22e333(0x1c4)]);_0x1c6445['status'](0xc8)[_0x22e333(0x1a2)]({'success':!![],'message':_0x22e333(0x17a)});}catch(_0x1068fa){console[_0x22e333(0x180)](_0x22e333(0x1a5),_0x1068fa),loggerService_1[_0x22e333(0x181)][_0x22e333(0x1b4)](_0x22e333(0x1bd),_0x1068fa,_0x2724d9[_0x22e333(0x1c4)]),_0x1c6445[_0x22e333(0x1a0)](0xc8)[_0x22e333(0x1a2)]({'success':![],'message':_0x1068fa instanceof Error?_0x1068fa[_0x22e333(0x17c)]:_0x22e333(0x1ad)});}},this[_0x3f9126(0x183)]=async(_0x15eaba,_0x2e4d79,_0x4c0e0a)=>{const _0x25e4a1=_0x3f9126;try{console[_0x25e4a1(0x199)](_0x25e4a1(0x1be),_0x15eaba[_0x25e4a1(0x1c4)]),loggerService_1[_0x25e4a1(0x181)][_0x25e4a1(0x195)](_0x25e4a1(0x1ba),_0x15eaba[_0x25e4a1(0x1c4)],_0x15eaba['headers']);const _0x1fce09=await this[_0x25e4a1(0x1b8)]['processCoinToPay2Webhook'](_0x15eaba[_0x25e4a1(0x1c4)]);_0x2e4d79[_0x25e4a1(0x1a0)](0xc8)['json']({'success':!![],'message':_0x25e4a1(0x1c5)});}catch(_0x1500d8){console[_0x25e4a1(0x180)](_0x25e4a1(0x1c6),_0x1500d8),loggerService_1[_0x25e4a1(0x181)]['logWebhookError'](_0x25e4a1(0x1ba),_0x1500d8,_0x15eaba[_0x25e4a1(0x1c4)]),_0x2e4d79[_0x25e4a1(0x1a0)](0xc8)[_0x25e4a1(0x1a2)]({'success':![],'message':_0x1500d8 instanceof Error?_0x1500d8[_0x25e4a1(0x17c)]:_0x25e4a1(0x19d)});}},this[_0x3f9126(0x1b2)]=async(_0x391a91,_0x17d91d,_0x30098f)=>{const _0x24f03e=_0x3f9126;try{console[_0x24f03e(0x199)](_0x24f03e(0x19c),_0x391a91[_0x24f03e(0x1c4)]),loggerService_1[_0x24f03e(0x181)]['logWebhookReceived'](_0x24f03e(0x1a1),_0x391a91[_0x24f03e(0x1c4)],_0x391a91[_0x24f03e(0x191)]);const _0x3e695c=await this['webhookService']['processKlymeWebhook'](_0x391a91[_0x24f03e(0x1c4)]);_0x17d91d[_0x24f03e(0x1a0)](0xc8)[_0x24f03e(0x1a2)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x2d5310){console[_0x24f03e(0x180)](_0x24f03e(0x1a6),_0x2d5310),loggerService_1[_0x24f03e(0x181)]['logWebhookError'](_0x24f03e(0x1a1),_0x2d5310,_0x391a91[_0x24f03e(0x1c4)]),_0x17d91d[_0x24f03e(0x1a0)](0xc8)[_0x24f03e(0x1a2)]({'success':![],'message':_0x2d5310 instanceof Error?_0x2d5310[_0x24f03e(0x17c)]:_0x24f03e(0x18e)});}},this[_0x3f9126(0x1b9)]=async(_0x1c0755,_0x1e0dd3,_0x55b831)=>{const _0x5996f5=_0x3f9126;try{console['log'](_0x5996f5(0x188),_0x1c0755[_0x5996f5(0x1c4)]),loggerService_1[_0x5996f5(0x181)]['logWebhookReceived'](_0x5996f5(0x1a3),_0x1c0755[_0x5996f5(0x1c4)],_0x1c0755[_0x5996f5(0x191)]);const _0x44d1fd=await this[_0x5996f5(0x1b8)][_0x5996f5(0x1c2)](_0x1c0755[_0x5996f5(0x1c4)]);_0x1e0dd3[_0x5996f5(0x1a0)](0xc8)[_0x5996f5(0x1a2)]({'success':!![],'message':_0x5996f5(0x189)});}catch(_0x519d09){console[_0x5996f5(0x180)](_0x5996f5(0x1c7),_0x519d09),loggerService_1[_0x5996f5(0x181)][_0x5996f5(0x1b4)]('mastercard',_0x519d09,_0x1c0755[_0x5996f5(0x1c4)]),_0x1e0dd3['status'](0xc8)['json']({'success':![],'message':_0x519d09 instanceof Error?_0x519d09[_0x5996f5(0x17c)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x3f9126(0x1b8)]=new webhookService_1[(_0x3f9126(0x185))]();}}exports[a15_0x3122fc(0x18c)]=WebhookController;