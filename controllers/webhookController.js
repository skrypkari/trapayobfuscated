'use strict';function a14_0x26c5(_0x1c585f,_0x48e3a5){const _0x7c677e=a14_0x7c67();return a14_0x26c5=function(_0x26c56c,_0x39bfe5){_0x26c56c=_0x26c56c-0xae;let _0x51cf20=_0x7c677e[_0x26c56c];return _0x51cf20;},a14_0x26c5(_0x1c585f,_0x48e3a5);}const a14_0x2e8606=a14_0x26c5;(function(_0x492f14,_0x2cdc6c){const _0x47f6ad=a14_0x26c5,_0x5716f1=_0x492f14();while(!![]){try{const _0x570d03=-parseInt(_0x47f6ad(0xbc))/0x1*(-parseInt(_0x47f6ad(0xd4))/0x2)+parseInt(_0x47f6ad(0xce))/0x3*(parseInt(_0x47f6ad(0xd0))/0x4)+-parseInt(_0x47f6ad(0xd3))/0x5+-parseInt(_0x47f6ad(0xb9))/0x6+parseInt(_0x47f6ad(0xc4))/0x7+parseInt(_0x47f6ad(0xd6))/0x8*(parseInt(_0x47f6ad(0xdd))/0x9)+parseInt(_0x47f6ad(0xde))/0xa*(-parseInt(_0x47f6ad(0xbb))/0xb);if(_0x570d03===_0x2cdc6c)break;else _0x5716f1['push'](_0x5716f1['shift']());}catch(_0x302665){_0x5716f1['push'](_0x5716f1['shift']());}}}(a14_0x7c67,0x63b27));Object['defineProperty'](exports,a14_0x2e8606(0xd1),{'value':!![]}),exports[a14_0x2e8606(0xcc)]=void 0x0;const webhookService_1=require(a14_0x2e8606(0xbf)),loggerService_1=require(a14_0x2e8606(0xca));class WebhookController{constructor(){const _0x4ced52=a14_0x2e8606;this[_0x4ced52(0xdb)]=async(_0x124a81,_0x454484,_0xf370ab)=>{const _0x3b6585=_0x4ced52;try{console[_0x3b6585(0xcb)]('Received\x20Plisio\x20webhook:',_0x124a81['body']),loggerService_1['loggerService']['logWebhookReceived']('plisio',_0x124a81[_0x3b6585(0xc2)],_0x124a81[_0x3b6585(0xd8)]);const _0x4cfa50=await this['webhookService'][_0x3b6585(0xc5)](_0x124a81[_0x3b6585(0xc2)]);_0x454484['status'](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x4b6389){console['error'](_0x3b6585(0xc1),_0x4b6389),loggerService_1[_0x3b6585(0xc0)][_0x3b6585(0xbd)](_0x3b6585(0xda),_0x4b6389,_0x124a81[_0x3b6585(0xc2)]),_0x454484[_0x3b6585(0xb6)](0xc8)[_0x3b6585(0xdc)]({'success':![],'message':_0x4b6389 instanceof Error?_0x4b6389[_0x3b6585(0xc6)]:'Webhook\x20processing\x20failed'});}},this['handlePlisioGatewayWebhook']=async(_0x5813d4,_0x3e9d40,_0xcd6f43)=>{const _0x2a6073=_0x4ced52;try{console[_0x2a6073(0xcb)](_0x2a6073(0xe1),_0x5813d4[_0x2a6073(0xc2)]),loggerService_1[_0x2a6073(0xc0)][_0x2a6073(0xd5)](_0x2a6073(0xe0),_0x5813d4[_0x2a6073(0xc2)],_0x5813d4['headers']);const _0x33334c=await this['webhookService']['processPlisioGatewayWebhook'](_0x5813d4[_0x2a6073(0xc2)]);_0x3e9d40[_0x2a6073(0xb6)](0xc8)[_0x2a6073(0xdc)]({'success':!![],'message':_0x2a6073(0xdf)});}catch(_0x5074e1){console[_0x2a6073(0xcf)]('Gateway\x20webhook\x20processing\x20error:',_0x5074e1),loggerService_1[_0x2a6073(0xc0)][_0x2a6073(0xbd)](_0x2a6073(0xe0),_0x5074e1,_0x5813d4[_0x2a6073(0xc2)]),_0x3e9d40[_0x2a6073(0xb6)](0xc8)[_0x2a6073(0xdc)]({'success':![],'message':_0x5074e1 instanceof Error?_0x5074e1[_0x2a6073(0xc6)]:_0x2a6073(0xb8)});}},this[_0x4ced52(0xaf)]=async(_0xa96958,_0x22ffd0,_0x5d107b)=>{const _0x46194e=_0x4ced52;try{console[_0x46194e(0xcb)](_0x46194e(0xcd),_0xa96958[_0x46194e(0xc2)]),loggerService_1[_0x46194e(0xc0)]['logWebhookReceived'](_0x46194e(0xc3),_0xa96958['body'],_0xa96958[_0x46194e(0xd8)]);const _0x40b728=await this['webhookService']['processRapydWebhook'](_0xa96958['body']);_0x22ffd0[_0x46194e(0xb6)](0xc8)[_0x46194e(0xdc)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x1d87a9){console[_0x46194e(0xcf)]('Rapyd\x20webhook\x20processing\x20error:',_0x1d87a9),loggerService_1[_0x46194e(0xc0)][_0x46194e(0xbd)](_0x46194e(0xc3),_0x1d87a9,_0xa96958[_0x46194e(0xc2)]),_0x22ffd0[_0x46194e(0xb6)](0xc8)['json']({'success':![],'message':_0x1d87a9 instanceof Error?_0x1d87a9['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this['handleNodaWebhook']=async(_0x551a9,_0x4b701c,_0x1d12a9)=>{const _0xd29f5c=_0x4ced52;try{console['log']('Received\x20Noda\x20webhook:',_0x551a9['body']),loggerService_1[_0xd29f5c(0xc0)]['logWebhookReceived'](_0xd29f5c(0xb4),_0x551a9[_0xd29f5c(0xc2)],_0x551a9[_0xd29f5c(0xd8)]);const _0x11d03e=await this[_0xd29f5c(0xb5)][_0xd29f5c(0xb3)](_0x551a9[_0xd29f5c(0xc2)]);_0x4b701c[_0xd29f5c(0xb6)](0xc8)[_0xd29f5c(0xdc)]({'success':!![],'message':_0xd29f5c(0xd7)});}catch(_0x4a75d4){console['error'](_0xd29f5c(0xb7),_0x4a75d4),loggerService_1[_0xd29f5c(0xc0)][_0xd29f5c(0xbd)](_0xd29f5c(0xb4),_0x4a75d4,_0x551a9[_0xd29f5c(0xc2)]),_0x4b701c[_0xd29f5c(0xb6)](0xc8)[_0xd29f5c(0xdc)]({'success':![],'message':_0x4a75d4 instanceof Error?_0x4a75d4['message']:_0xd29f5c(0xc7)});}},this[_0x4ced52(0xbe)]=async(_0x378c12,_0x4186cb,_0x384c1f)=>{const _0x3884e8=_0x4ced52;try{console[_0x3884e8(0xcb)](_0x3884e8(0xae),_0x378c12[_0x3884e8(0xc2)]),loggerService_1[_0x3884e8(0xc0)][_0x3884e8(0xd5)]('cointopay',_0x378c12[_0x3884e8(0xc2)],_0x378c12['headers']);const _0x2b9a29=await this[_0x3884e8(0xb5)][_0x3884e8(0xd9)](_0x378c12[_0x3884e8(0xc2)]);_0x4186cb[_0x3884e8(0xb6)](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x27a099){console[_0x3884e8(0xcf)]('CoinToPay\x20webhook\x20processing\x20error:',_0x27a099),loggerService_1[_0x3884e8(0xc0)]['logWebhookError'](_0x3884e8(0xd2),_0x27a099,_0x378c12[_0x3884e8(0xc2)]),_0x4186cb[_0x3884e8(0xb6)](0xc8)[_0x3884e8(0xdc)]({'success':![],'message':_0x27a099 instanceof Error?_0x27a099['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0xeb2e63,_0x14a40c,_0x3d61dc)=>{const _0x4a91cb=_0x4ced52;try{console[_0x4a91cb(0xcb)](_0x4a91cb(0xb2),_0xeb2e63[_0x4a91cb(0xc2)]),loggerService_1[_0x4a91cb(0xc0)][_0x4a91cb(0xd5)](_0x4a91cb(0xb1),_0xeb2e63[_0x4a91cb(0xc2)],_0xeb2e63[_0x4a91cb(0xd8)]);const _0x1b8aa4=await this[_0x4a91cb(0xb5)]['processKlymeWebhook'](_0xeb2e63[_0x4a91cb(0xc2)]);_0x14a40c['status'](0xc8)[_0x4a91cb(0xdc)]({'success':!![],'message':_0x4a91cb(0xba)});}catch(_0x41caf8){console[_0x4a91cb(0xcf)](_0x4a91cb(0xc8),_0x41caf8),loggerService_1['loggerService'][_0x4a91cb(0xbd)](_0x4a91cb(0xb1),_0x41caf8,_0xeb2e63[_0x4a91cb(0xc2)]),_0x14a40c[_0x4a91cb(0xb6)](0xc8)[_0x4a91cb(0xdc)]({'success':![],'message':_0x41caf8 instanceof Error?_0x41caf8['message']:_0x4a91cb(0xc9)});}},this[_0x4ced52(0xb5)]=new webhookService_1[(_0x4ced52(0xb0))]();}}exports[a14_0x2e8606(0xcc)]=WebhookController;function a14_0x7c67(){const _0x2bef3c=['plisio_gateway','Received\x20Plisio\x20gateway\x20webhook:','Received\x20CoinToPay\x20webhook:','handleRapydWebhook','WebhookService','klyme','Received\x20KLYME\x20webhook:','processNodaWebhook','noda','webhookService','status','Noda\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20failed','736092ZzORWa','KLYME\x20webhook\x20processed\x20successfully','33LrxxSd','25795zIDotA','logWebhookError','handleCoinToPayWebhook','../services/webhookService','loggerService','Webhook\x20processing\x20error:','body','rapyd','3193057pMBpCy','processPlisioWebhook','message','Noda\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20failed','../services/loggerService','log','WebhookController','Received\x20Rapyd\x20webhook:','519ypAYXr','error','7692dDehuk','__esModule','cointopay','3861685gBxdOB','10suzCMT','logWebhookReceived','56uixaFy','Noda\x20webhook\x20processed\x20successfully','headers','processCoinToPayWebhook','plisio','handlePlisioWebhook','json','586773OnISVT','236020JCxmrC','Gateway\x20webhook\x20processed\x20successfully'];a14_0x7c67=function(){return _0x2bef3c;};return a14_0x7c67();}