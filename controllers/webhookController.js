'use strict';function a15_0x170f(){const _0x2f5ef1=['MasterCard\x20webhook\x20processing\x20failed','processCoinToPayWebhook','processMasterCardWebhook','WebhookController','Webhook\x20processing\x20error:','Content-Type:','message','Rapyd\x20webhook\x20processing\x20error:','processKlymeWebhook','11566436ivSLtv','error','Body\x20keys:','Received\x20MasterCard\x20webhook:','Noda\x20webhook\x20processed\x20successfully','processNodaWebhook','get','KLYME\x20webhook\x20processing\x20error:','45960DNvzQt','4elVvKE','CoinToPay\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20failed','rapyd','body','Gateway\x20webhook\x20processing\x20error:','log','handleRapydWebhook','handleMasterCardWebhook','loggerService','handleKlymeWebhook','processRapydWebhook','status','6103085vrggUT','KLYME\x20webhook\x20processed\x20successfully','handlePlisioGatewayWebhook','handleNodaWebhook','processPlisioGatewayWebhook','klyme','logWebhookReceived','2869899QDptSq','Gateway\x20webhook\x20processing\x20failed','Content-Type','Received\x20Rapyd\x20webhook:','32363620aYtbTX','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','plisio_gateway','Noda\x20webhook\x20processing\x20error:','plisio','MasterCard\x20webhook\x20processing\x20error:','defineProperty','WebhookService','webhookService','KLYME\x20webhook\x20processing\x20failed','__esModule','keys','Raw\x20body\x20type:','Rapyd\x20webhook\x20processed\x20successfully','noda','Body\x20content:','2VTeSsX','cointopay','../services/webhookService','Noda\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','../services/loggerService','Webhook\x20processed\x20successfully','3937128AYkxLO','json','1376723RZfspL','846GDEUKJ','mastercard','logWebhookError','headers'];a15_0x170f=function(){return _0x2f5ef1;};return a15_0x170f();}const a15_0x2db0fc=a15_0x57bf;(function(_0x398c4a,_0x50ed1e){const _0x4d6339=a15_0x57bf,_0x1ec683=_0x398c4a();while(!![]){try{const _0x359864=-parseInt(_0x4d6339(0x117))/0x1*(-parseInt(_0x4d6339(0x156))/0x2)+-parseInt(_0x4d6339(0x142))/0x3+-parseInt(_0x4d6339(0x12e))/0x4*(parseInt(_0x4d6339(0x13b))/0x5)+parseInt(_0x4d6339(0x15d))/0x6+-parseInt(_0x4d6339(0x125))/0x7+parseInt(_0x4d6339(0x12d))/0x8*(-parseInt(_0x4d6339(0x118))/0x9)+parseInt(_0x4d6339(0x146))/0xa;if(_0x359864===_0x50ed1e)break;else _0x1ec683['push'](_0x1ec683['shift']());}catch(_0x40b2dd){_0x1ec683['push'](_0x1ec683['shift']());}}}(a15_0x170f,0xdba3d));Object[a15_0x2db0fc(0x14c)](exports,a15_0x2db0fc(0x150),{'value':!![]}),exports[a15_0x2db0fc(0x11f)]=void 0x0;const webhookService_1=require(a15_0x2db0fc(0x158)),loggerService_1=require(a15_0x2db0fc(0x15b));function a15_0x57bf(_0x35ac9e,_0x35fdd8){const _0x170f68=a15_0x170f();return a15_0x57bf=function(_0x57bfe2,_0x4e310c){_0x57bfe2=_0x57bfe2-0x117;let _0x355190=_0x170f68[_0x57bfe2];return _0x355190;},a15_0x57bf(_0x35ac9e,_0x35fdd8);}class WebhookController{constructor(){const _0x1cc7ba=a15_0x2db0fc;this['handlePlisioWebhook']=async(_0x5ac3ba,_0x599d6d,_0x158853)=>{const _0x1b5a0c=a15_0x57bf;try{console[_0x1b5a0c(0x134)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x1b5a0c(0x134)](_0x1b5a0c(0x121),_0x5ac3ba[_0x1b5a0c(0x12b)](_0x1b5a0c(0x144))),console[_0x1b5a0c(0x134)](_0x1b5a0c(0x152),typeof _0x5ac3ba['body']),console[_0x1b5a0c(0x134)]('Body\x20keys:',Object['keys'](_0x5ac3ba['body']||{})),console[_0x1b5a0c(0x134)]('Body\x20content:',_0x5ac3ba['body']),loggerService_1[_0x1b5a0c(0x137)][_0x1b5a0c(0x141)](_0x1b5a0c(0x14a),_0x5ac3ba['body'],_0x5ac3ba['headers']);const _0x6db7b9=await this[_0x1b5a0c(0x14e)]['processPlisioWebhook'](_0x5ac3ba['body']);_0x599d6d['status'](0xc8)['json']({'success':!![],'message':_0x1b5a0c(0x15c)});}catch(_0x13b1a1){console[_0x1b5a0c(0x126)](_0x1b5a0c(0x120),_0x13b1a1),loggerService_1[_0x1b5a0c(0x137)][_0x1b5a0c(0x11a)]('plisio',_0x13b1a1,_0x5ac3ba[_0x1b5a0c(0x132)]),_0x599d6d['status'](0xc8)[_0x1b5a0c(0x15e)]({'success':![],'message':_0x13b1a1 instanceof Error?_0x13b1a1[_0x1b5a0c(0x122)]:'Webhook\x20processing\x20failed'});}},this[_0x1cc7ba(0x13d)]=async(_0xb82cd9,_0x2edbd1,_0x5cc54e)=>{const _0x3f1472=_0x1cc7ba;try{console[_0x3f1472(0x134)](_0x3f1472(0x147)),console[_0x3f1472(0x134)]('Content-Type:',_0xb82cd9[_0x3f1472(0x12b)]('Content-Type')),console[_0x3f1472(0x134)]('Raw\x20body\x20type:',typeof _0xb82cd9['body']),console['log'](_0x3f1472(0x127),Object[_0x3f1472(0x151)](_0xb82cd9[_0x3f1472(0x132)]||{})),console['log'](_0x3f1472(0x155),_0xb82cd9[_0x3f1472(0x132)]),loggerService_1['loggerService']['logWebhookReceived'](_0x3f1472(0x148),_0xb82cd9['body'],_0xb82cd9[_0x3f1472(0x11b)]);const _0x5e206c=await this[_0x3f1472(0x14e)][_0x3f1472(0x13f)](_0xb82cd9[_0x3f1472(0x132)]);_0x2edbd1[_0x3f1472(0x13a)](0xc8)[_0x3f1472(0x15e)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x5d9b05){console[_0x3f1472(0x126)](_0x3f1472(0x133),_0x5d9b05),loggerService_1[_0x3f1472(0x137)]['logWebhookError']('plisio_gateway',_0x5d9b05,_0xb82cd9['body']),_0x2edbd1[_0x3f1472(0x13a)](0xc8)[_0x3f1472(0x15e)]({'success':![],'message':_0x5d9b05 instanceof Error?_0x5d9b05[_0x3f1472(0x122)]:_0x3f1472(0x143)});}},this[_0x1cc7ba(0x135)]=async(_0x389f4a,_0x491f38,_0x1cf9ab)=>{const _0x2c3834=_0x1cc7ba;try{console[_0x2c3834(0x134)](_0x2c3834(0x145),_0x389f4a[_0x2c3834(0x132)]),loggerService_1[_0x2c3834(0x137)][_0x2c3834(0x141)](_0x2c3834(0x131),_0x389f4a['body'],_0x389f4a[_0x2c3834(0x11b)]);const _0x3e3174=await this[_0x2c3834(0x14e)][_0x2c3834(0x139)](_0x389f4a[_0x2c3834(0x132)]);_0x491f38[_0x2c3834(0x13a)](0xc8)[_0x2c3834(0x15e)]({'success':!![],'message':_0x2c3834(0x153)});}catch(_0x5bf83e){console[_0x2c3834(0x126)](_0x2c3834(0x123),_0x5bf83e),loggerService_1[_0x2c3834(0x137)][_0x2c3834(0x11a)]('rapyd',_0x5bf83e,_0x389f4a[_0x2c3834(0x132)]),_0x491f38[_0x2c3834(0x13a)](0xc8)[_0x2c3834(0x15e)]({'success':![],'message':_0x5bf83e instanceof Error?_0x5bf83e[_0x2c3834(0x122)]:_0x2c3834(0x130)});}},this[_0x1cc7ba(0x13e)]=async(_0x26edc7,_0x388084,_0x3d4ac2)=>{const _0x38ba47=_0x1cc7ba;try{console[_0x38ba47(0x134)]('Received\x20Noda\x20webhook:',_0x26edc7[_0x38ba47(0x132)]),loggerService_1[_0x38ba47(0x137)][_0x38ba47(0x141)]('noda',_0x26edc7[_0x38ba47(0x132)],_0x26edc7[_0x38ba47(0x11b)]);const _0x343800=await this['webhookService'][_0x38ba47(0x12a)](_0x26edc7['body']);_0x388084['status'](0xc8)[_0x38ba47(0x15e)]({'success':!![],'message':_0x38ba47(0x129)});}catch(_0x3bc767){console['error'](_0x38ba47(0x149),_0x3bc767),loggerService_1['loggerService'][_0x38ba47(0x11a)](_0x38ba47(0x154),_0x3bc767,_0x26edc7[_0x38ba47(0x132)]),_0x388084[_0x38ba47(0x13a)](0xc8)[_0x38ba47(0x15e)]({'success':![],'message':_0x3bc767 instanceof Error?_0x3bc767[_0x38ba47(0x122)]:_0x38ba47(0x159)});}},this['handleCoinToPayWebhook']=async(_0x3ae01b,_0x327f95,_0x3cca52)=>{const _0x20fdfb=_0x1cc7ba;try{console['log']('Received\x20CoinToPay\x20webhook:',_0x3ae01b[_0x20fdfb(0x132)]),loggerService_1['loggerService'][_0x20fdfb(0x141)](_0x20fdfb(0x157),_0x3ae01b[_0x20fdfb(0x132)],_0x3ae01b[_0x20fdfb(0x11b)]);const _0x1d5d66=await this[_0x20fdfb(0x14e)][_0x20fdfb(0x11d)](_0x3ae01b['body']);_0x327f95[_0x20fdfb(0x13a)](0xc8)[_0x20fdfb(0x15e)]({'success':!![],'message':_0x20fdfb(0x12f)});}catch(_0x1f1235){console[_0x20fdfb(0x126)]('CoinToPay\x20webhook\x20processing\x20error:',_0x1f1235),loggerService_1[_0x20fdfb(0x137)][_0x20fdfb(0x11a)]('cointopay',_0x1f1235,_0x3ae01b[_0x20fdfb(0x132)]),_0x327f95[_0x20fdfb(0x13a)](0xc8)[_0x20fdfb(0x15e)]({'success':![],'message':_0x1f1235 instanceof Error?_0x1f1235['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x1cc7ba(0x138)]=async(_0x5364be,_0x4c3ce8,_0x2dc425)=>{const _0x2dc75e=_0x1cc7ba;try{console['log']('Received\x20KLYME\x20webhook:',_0x5364be[_0x2dc75e(0x132)]),loggerService_1[_0x2dc75e(0x137)][_0x2dc75e(0x141)]('klyme',_0x5364be['body'],_0x5364be['headers']);const _0x188ea8=await this[_0x2dc75e(0x14e)][_0x2dc75e(0x124)](_0x5364be['body']);_0x4c3ce8['status'](0xc8)[_0x2dc75e(0x15e)]({'success':!![],'message':_0x2dc75e(0x13c)});}catch(_0x434114){console['error'](_0x2dc75e(0x12c),_0x434114),loggerService_1['loggerService'][_0x2dc75e(0x11a)](_0x2dc75e(0x140),_0x434114,_0x5364be[_0x2dc75e(0x132)]),_0x4c3ce8[_0x2dc75e(0x13a)](0xc8)[_0x2dc75e(0x15e)]({'success':![],'message':_0x434114 instanceof Error?_0x434114[_0x2dc75e(0x122)]:_0x2dc75e(0x14f)});}},this[_0x1cc7ba(0x136)]=async(_0xe58b88,_0x2a83ce,_0x1551f6)=>{const _0x555f5d=_0x1cc7ba;try{console[_0x555f5d(0x134)](_0x555f5d(0x128),_0xe58b88[_0x555f5d(0x132)]),loggerService_1[_0x555f5d(0x137)][_0x555f5d(0x141)](_0x555f5d(0x119),_0xe58b88[_0x555f5d(0x132)],_0xe58b88['headers']);const _0x11972e=await this['webhookService'][_0x555f5d(0x11e)](_0xe58b88[_0x555f5d(0x132)]);_0x2a83ce[_0x555f5d(0x13a)](0xc8)['json']({'success':!![],'message':_0x555f5d(0x15a)});}catch(_0x48310e){console[_0x555f5d(0x126)](_0x555f5d(0x14b),_0x48310e),loggerService_1[_0x555f5d(0x137)][_0x555f5d(0x11a)](_0x555f5d(0x119),_0x48310e,_0xe58b88[_0x555f5d(0x132)]),_0x2a83ce[_0x555f5d(0x13a)](0xc8)['json']({'success':![],'message':_0x48310e instanceof Error?_0x48310e[_0x555f5d(0x122)]:_0x555f5d(0x11c)});}},this['webhookService']=new webhookService_1[(_0x1cc7ba(0x14d))]();}}exports['WebhookController']=WebhookController;