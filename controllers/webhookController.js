'use strict';function a15_0x77f8(_0x45c5c8,_0x460a8c){const _0x65f684=a15_0x65f6();return a15_0x77f8=function(_0x77f86d,_0x464b84){_0x77f86d=_0x77f86d-0x9c;let _0x10eac1=_0x65f684[_0x77f86d];return _0x10eac1;},a15_0x77f8(_0x45c5c8,_0x460a8c);}const a15_0x325842=a15_0x77f8;(function(_0x4d5ede,_0xf8862b){const _0x346048=a15_0x77f8,_0x31ddd8=_0x4d5ede();while(!![]){try{const _0xf746a8=-parseInt(_0x346048(0xc1))/0x1+parseInt(_0x346048(0xc2))/0x2*(parseInt(_0x346048(0xb0))/0x3)+-parseInt(_0x346048(0xa2))/0x4+-parseInt(_0x346048(0xa8))/0x5+parseInt(_0x346048(0xc7))/0x6+parseInt(_0x346048(0xcf))/0x7+parseInt(_0x346048(0xbd))/0x8;if(_0xf746a8===_0xf8862b)break;else _0x31ddd8['push'](_0x31ddd8['shift']());}catch(_0x10830f){_0x31ddd8['push'](_0x31ddd8['shift']());}}}(a15_0x65f6,0x89a99));Object[a15_0x325842(0xad)](exports,'__esModule',{'value':!![]}),exports[a15_0x325842(0xce)]=void 0x0;const webhookService_1=require(a15_0x325842(0xda)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x36b04a=a15_0x325842;this[_0x36b04a(0xa4)]=async(_0x57e0e0,_0x5346fb,_0x33956c)=>{const _0x245f40=_0x36b04a;try{console[_0x245f40(0xd8)](_0x245f40(0xb1)),console[_0x245f40(0xd8)](_0x245f40(0xd6),_0x57e0e0['get'](_0x245f40(0xc6))),console[_0x245f40(0xd8)](_0x245f40(0xc5),typeof _0x57e0e0[_0x245f40(0xcc)]),console[_0x245f40(0xd8)](_0x245f40(0x9c),Object[_0x245f40(0x9f)](_0x57e0e0['body']||{})),console[_0x245f40(0xd8)]('Body\x20content:',_0x57e0e0[_0x245f40(0xcc)]),loggerService_1[_0x245f40(0xc8)][_0x245f40(0x9d)](_0x245f40(0xc0),_0x57e0e0[_0x245f40(0xcc)],_0x57e0e0[_0x245f40(0xa7)]);const _0xc6d9f9=await this[_0x245f40(0xb6)][_0x245f40(0xb7)](_0x57e0e0[_0x245f40(0xcc)]);_0x5346fb[_0x245f40(0xab)](0xc8)[_0x245f40(0xdc)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0xbc7188){console[_0x245f40(0xdb)]('Webhook\x20processing\x20error:',_0xbc7188),loggerService_1[_0x245f40(0xc8)][_0x245f40(0xc4)](_0x245f40(0xc0),_0xbc7188,_0x57e0e0[_0x245f40(0xcc)]),_0x5346fb[_0x245f40(0xab)](0xc8)[_0x245f40(0xdc)]({'success':![],'message':_0xbc7188 instanceof Error?_0xbc7188[_0x245f40(0xdd)]:_0x245f40(0xd9)});}},this[_0x36b04a(0xb8)]=async(_0x29d4dd,_0x6ebd11,_0x3cfa96)=>{const _0x446c6f=_0x36b04a;try{console['log'](_0x446c6f(0xbf)),console[_0x446c6f(0xd8)](_0x446c6f(0xd6),_0x29d4dd[_0x446c6f(0xcd)]('Content-Type')),console[_0x446c6f(0xd8)](_0x446c6f(0xc5),typeof _0x29d4dd[_0x446c6f(0xcc)]),console[_0x446c6f(0xd8)](_0x446c6f(0x9c),Object[_0x446c6f(0x9f)](_0x29d4dd['body']||{})),console[_0x446c6f(0xd8)](_0x446c6f(0xba),_0x29d4dd[_0x446c6f(0xcc)]),loggerService_1[_0x446c6f(0xc8)][_0x446c6f(0x9d)]('plisio_gateway',_0x29d4dd[_0x446c6f(0xcc)],_0x29d4dd[_0x446c6f(0xa7)]);const _0x1e4374=await this['webhookService'][_0x446c6f(0xa6)](_0x29d4dd[_0x446c6f(0xcc)]);_0x6ebd11[_0x446c6f(0xab)](0xc8)[_0x446c6f(0xdc)]({'success':!![],'message':_0x446c6f(0xb3)});}catch(_0x24e006){console[_0x446c6f(0xdb)](_0x446c6f(0xac),_0x24e006),loggerService_1[_0x446c6f(0xc8)]['logWebhookError'](_0x446c6f(0xd3),_0x24e006,_0x29d4dd[_0x446c6f(0xcc)]),_0x6ebd11[_0x446c6f(0xab)](0xc8)[_0x446c6f(0xdc)]({'success':![],'message':_0x24e006 instanceof Error?_0x24e006['message']:_0x446c6f(0xaf)});}},this['handleRapydWebhook']=async(_0x44cbbf,_0x506510,_0x1d8525)=>{const _0x26a0bf=_0x36b04a;try{console['log']('Received\x20Rapyd\x20webhook:',_0x44cbbf[_0x26a0bf(0xcc)]),loggerService_1[_0x26a0bf(0xc8)][_0x26a0bf(0x9d)](_0x26a0bf(0xc9),_0x44cbbf[_0x26a0bf(0xcc)],_0x44cbbf[_0x26a0bf(0xa7)]);const _0x3f63d7=await this[_0x26a0bf(0xb6)][_0x26a0bf(0xbb)](_0x44cbbf[_0x26a0bf(0xcc)]);_0x506510[_0x26a0bf(0xab)](0xc8)[_0x26a0bf(0xdc)]({'success':!![],'message':_0x26a0bf(0xbc)});}catch(_0x1453da){console[_0x26a0bf(0xdb)]('Rapyd\x20webhook\x20processing\x20error:',_0x1453da),loggerService_1[_0x26a0bf(0xc8)]['logWebhookError'](_0x26a0bf(0xc9),_0x1453da,_0x44cbbf[_0x26a0bf(0xcc)]),_0x506510[_0x26a0bf(0xab)](0xc8)[_0x26a0bf(0xdc)]({'success':![],'message':_0x1453da instanceof Error?_0x1453da[_0x26a0bf(0xdd)]:_0x26a0bf(0xa3)});}},this[_0x36b04a(0xb4)]=async(_0x4784ad,_0x39d80c,_0x1af4c4)=>{const _0x37aa64=_0x36b04a;try{console[_0x37aa64(0xd8)](_0x37aa64(0xa0),_0x4784ad[_0x37aa64(0xcc)]),loggerService_1[_0x37aa64(0xc8)][_0x37aa64(0x9d)]('noda',_0x4784ad[_0x37aa64(0xcc)],_0x4784ad[_0x37aa64(0xa7)]);const _0x1e902f=await this[_0x37aa64(0xb6)][_0x37aa64(0xc3)](_0x4784ad[_0x37aa64(0xcc)]);_0x39d80c[_0x37aa64(0xab)](0xc8)[_0x37aa64(0xdc)]({'success':!![],'message':_0x37aa64(0xbe)});}catch(_0x2557e4){console[_0x37aa64(0xdb)](_0x37aa64(0xcb),_0x2557e4),loggerService_1[_0x37aa64(0xc8)]['logWebhookError'](_0x37aa64(0xb2),_0x2557e4,_0x4784ad[_0x37aa64(0xcc)]),_0x39d80c['status'](0xc8)[_0x37aa64(0xdc)]({'success':![],'message':_0x2557e4 instanceof Error?_0x2557e4['message']:_0x37aa64(0xb9)});}},this[_0x36b04a(0x9e)]=async(_0x1de41,_0x1e1783,_0x8f4269)=>{const _0x557c01=_0x36b04a;try{console[_0x557c01(0xd8)](_0x557c01(0xa9),_0x1de41[_0x557c01(0xcc)]),loggerService_1[_0x557c01(0xc8)][_0x557c01(0x9d)](_0x557c01(0xb5),_0x1de41[_0x557c01(0xcc)],_0x1de41['headers']);const _0x2397db=await this['webhookService'][_0x557c01(0xd1)](_0x1de41[_0x557c01(0xcc)]);_0x1e1783[_0x557c01(0xab)](0xc8)['json']({'success':!![],'message':_0x557c01(0xd7)});}catch(_0x411701){console[_0x557c01(0xdb)](_0x557c01(0xd4),_0x411701),loggerService_1[_0x557c01(0xc8)][_0x557c01(0xc4)](_0x557c01(0xb5),_0x411701,_0x1de41[_0x557c01(0xcc)]),_0x1e1783[_0x557c01(0xab)](0xc8)[_0x557c01(0xdc)]({'success':![],'message':_0x411701 instanceof Error?_0x411701[_0x557c01(0xdd)]:_0x557c01(0xd0)});}},this['handleKlymeWebhook']=async(_0xa38ca5,_0x111806,_0x27e8a7)=>{const _0x267c4f=_0x36b04a;try{console[_0x267c4f(0xd8)]('Received\x20KLYME\x20webhook:',_0xa38ca5[_0x267c4f(0xcc)]),loggerService_1['loggerService'][_0x267c4f(0x9d)]('klyme',_0xa38ca5['body'],_0xa38ca5['headers']);const _0x14f581=await this[_0x267c4f(0xb6)]['processKlymeWebhook'](_0xa38ca5['body']);_0x111806[_0x267c4f(0xab)](0xc8)[_0x267c4f(0xdc)]({'success':!![],'message':_0x267c4f(0xde)});}catch(_0x299973){console[_0x267c4f(0xdb)](_0x267c4f(0xaa),_0x299973),loggerService_1[_0x267c4f(0xc8)][_0x267c4f(0xc4)]('klyme',_0x299973,_0xa38ca5[_0x267c4f(0xcc)]),_0x111806[_0x267c4f(0xab)](0xc8)[_0x267c4f(0xdc)]({'success':![],'message':_0x299973 instanceof Error?_0x299973[_0x267c4f(0xdd)]:_0x267c4f(0xa5)});}},this[_0x36b04a(0xae)]=async(_0x817ab9,_0x4dd2ef,_0x323f84)=>{const _0x2625d7=_0x36b04a;try{console['log']('Received\x20MasterCard\x20webhook:',_0x817ab9[_0x2625d7(0xcc)]),loggerService_1[_0x2625d7(0xc8)][_0x2625d7(0x9d)](_0x2625d7(0xd2),_0x817ab9[_0x2625d7(0xcc)],_0x817ab9[_0x2625d7(0xa7)]);const _0x37e514=await this[_0x2625d7(0xb6)][_0x2625d7(0xca)](_0x817ab9[_0x2625d7(0xcc)]);_0x4dd2ef[_0x2625d7(0xab)](0xc8)[_0x2625d7(0xdc)]({'success':!![],'message':_0x2625d7(0xa1)});}catch(_0x38d652){console[_0x2625d7(0xdb)]('MasterCard\x20webhook\x20processing\x20error:',_0x38d652),loggerService_1['loggerService'][_0x2625d7(0xc4)](_0x2625d7(0xd2),_0x38d652,_0x817ab9[_0x2625d7(0xcc)]),_0x4dd2ef[_0x2625d7(0xab)](0xc8)['json']({'success':![],'message':_0x38d652 instanceof Error?_0x38d652['message']:_0x2625d7(0xd5)});}},this[_0x36b04a(0xb6)]=new webhookService_1['WebhookService']();}}exports['WebhookController']=WebhookController;function a15_0x65f6(){const _0x45a658=['handlePlisioGatewayWebhook','Noda\x20webhook\x20processing\x20failed','Body\x20content:','processRapydWebhook','Rapyd\x20webhook\x20processed\x20successfully','8218800ubCkFg','Noda\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','plisio','787571wJrfKR','22QGopOZ','processNodaWebhook','logWebhookError','Raw\x20body\x20type:','Content-Type','2273664vpYYpf','loggerService','rapyd','processMasterCardWebhook','Noda\x20webhook\x20processing\x20error:','body','get','WebhookController','3686046COeSBd','CoinToPay\x20webhook\x20processing\x20failed','processCoinToPayWebhook','mastercard','plisio_gateway','CoinToPay\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20failed','Content-Type:','CoinToPay\x20webhook\x20processed\x20successfully','log','Webhook\x20processing\x20failed','../services/webhookService','error','json','message','KLYME\x20webhook\x20processed\x20successfully','Body\x20keys:','logWebhookReceived','handleCoinToPayWebhook','keys','Received\x20Noda\x20webhook:','MasterCard\x20webhook\x20processed\x20successfully','579572vDxyor','Rapyd\x20webhook\x20processing\x20failed','handlePlisioWebhook','KLYME\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','headers','4770960GSjexv','Received\x20CoinToPay\x20webhook:','KLYME\x20webhook\x20processing\x20error:','status','Gateway\x20webhook\x20processing\x20error:','defineProperty','handleMasterCardWebhook','Gateway\x20webhook\x20processing\x20failed','141177vVrSKC','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','noda','Gateway\x20webhook\x20processed\x20successfully','handleNodaWebhook','cointopay','webhookService','processPlisioWebhook'];a15_0x65f6=function(){return _0x45a658;};return a15_0x65f6();}