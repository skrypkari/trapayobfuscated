'use strict';const a15_0x5b0ca0=a15_0x99dd;function a15_0x99dd(_0x2d9225,_0x11aea1){const _0x23469a=a15_0x2346();return a15_0x99dd=function(_0x99dd1d,_0x7231f8){_0x99dd1d=_0x99dd1d-0x129;let _0x4c8597=_0x23469a[_0x99dd1d];return _0x4c8597;},a15_0x99dd(_0x2d9225,_0x11aea1);}function a15_0x2346(){const _0x5b25a1=['Received\x20Rapyd\x20webhook:','Received\x20CoinToPay\x20webhook:','MasterCard\x20webhook\x20processed\x20successfully','noda','Content-Type:','Raw\x20body\x20type:','Received\x20Noda\x20webhook:','Rapyd\x20webhook\x20processed\x20successfully','WebhookController','cointopay','processAmerWebhook','plisio','headers','4767740HsOztO','webhookService','CoinToPay\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','keys','../services/webhookService','processPlisioWebhook','processCoinToPay2Webhook','get','klyme','CoinToPay\x20webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20error:','plisio_gateway','Content-Type','loggerService','handleCoinToPayWebhook','processCoinToPayWebhook','body','1300383VXDXPK','json','Body\x20content:','CoinToPay2\x20webhook\x20processing\x20failed','Received\x20Amer\x20webhook:','3752hzONoB','KLYME\x20webhook\x20processed\x20successfully','logWebhookError','24113060sgReJc','processMasterCardWebhook','Body\x20keys:','handleMasterCardWebhook','status','Amer\x20webhook\x20processing\x20failed','error','101874FtuSVj','Received\x20MasterCard\x20webhook:','Received\x20KLYME\x20webhook:','MasterCard\x20webhook\x20processing\x20error:','../services/loggerService','KLYME\x20webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','CoinToPay\x20webhook\x20processing\x20failed','11jcIAtL','processPlisioGatewayWebhook','Gateway\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20failed','amer','Webhook\x20processed\x20successfully','68MnZmHa','1068XUeSXP','Webhook\x20processing\x20failed','message','rapyd','processNodaWebhook','mastercard','__esModule','Amer\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20failed','1414568pMqDsP','logWebhookReceived','cointopay2','handleNodaWebhook','302aXdnnJ','processRapydWebhook','log','24619KGeyXY'];a15_0x2346=function(){return _0x5b25a1;};return a15_0x2346();}(function(_0x149d6d,_0x1a6833){const _0xb7a867=a15_0x99dd,_0x9dea01=_0x149d6d();while(!![]){try{const _0x13bee6=-parseInt(_0xb7a867(0x133))/0x1*(-parseInt(_0xb7a867(0x15c))/0x2)+-parseInt(_0xb7a867(0x166))/0x3*(parseInt(_0xb7a867(0x174))/0x4)+-parseInt(_0xb7a867(0x144))/0x5+-parseInt(_0xb7a867(0x175))/0x6*(parseInt(_0xb7a867(0x136))/0x7)+-parseInt(_0xb7a867(0x12f))/0x8+-parseInt(_0xb7a867(0x157))/0x9+parseInt(_0xb7a867(0x15f))/0xa*(parseInt(_0xb7a867(0x16e))/0xb);if(_0x13bee6===_0x1a6833)break;else _0x9dea01['push'](_0x9dea01['shift']());}catch(_0x2984dc){_0x9dea01['push'](_0x9dea01['shift']());}}}(a15_0x2346,0x79fea));Object['defineProperty'](exports,a15_0x5b0ca0(0x12b),{'value':!![]}),exports[a15_0x5b0ca0(0x13f)]=void 0x0;const webhookService_1=require(a15_0x5b0ca0(0x149)),loggerService_1=require(a15_0x5b0ca0(0x16a));class WebhookController{constructor(){const _0x6efa82=a15_0x5b0ca0;this['handlePlisioWebhook']=async(_0x4a2a70,_0x5c94ea,_0x17dd16)=>{const _0x37485=a15_0x99dd;try{console[_0x37485(0x135)](_0x37485(0x16c)),console[_0x37485(0x135)](_0x37485(0x13b),_0x4a2a70[_0x37485(0x14c)](_0x37485(0x152))),console[_0x37485(0x135)](_0x37485(0x13c),typeof _0x4a2a70[_0x37485(0x156)]),console[_0x37485(0x135)](_0x37485(0x161),Object[_0x37485(0x148)](_0x4a2a70[_0x37485(0x156)]||{})),console[_0x37485(0x135)]('Body\x20content:',_0x4a2a70['body']),loggerService_1[_0x37485(0x153)]['logWebhookReceived']('plisio',_0x4a2a70[_0x37485(0x156)],_0x4a2a70['headers']);const _0x4a0377=await this['webhookService'][_0x37485(0x14a)](_0x4a2a70[_0x37485(0x156)]);_0x5c94ea['status'](0xc8)[_0x37485(0x158)]({'success':!![],'message':_0x37485(0x173)});}catch(_0x23b280){console[_0x37485(0x165)]('Webhook\x20processing\x20error:',_0x23b280),loggerService_1[_0x37485(0x153)][_0x37485(0x15e)](_0x37485(0x142),_0x23b280,_0x4a2a70['body']),_0x5c94ea[_0x37485(0x163)](0xc8)[_0x37485(0x158)]({'success':![],'message':_0x23b280 instanceof Error?_0x23b280[_0x37485(0x177)]:_0x37485(0x176)});}},this['handlePlisioGatewayWebhook']=async(_0x27d1ae,_0x3d2796,_0x62d103)=>{const _0xf045b0=a15_0x99dd;try{console[_0xf045b0(0x135)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0xf045b0(0x135)]('Content-Type:',_0x27d1ae['get']('Content-Type')),console[_0xf045b0(0x135)](_0xf045b0(0x13c),typeof _0x27d1ae[_0xf045b0(0x156)]),console[_0xf045b0(0x135)]('Body\x20keys:',Object[_0xf045b0(0x148)](_0x27d1ae[_0xf045b0(0x156)]||{})),console[_0xf045b0(0x135)](_0xf045b0(0x159),_0x27d1ae[_0xf045b0(0x156)]),loggerService_1[_0xf045b0(0x153)][_0xf045b0(0x130)](_0xf045b0(0x151),_0x27d1ae[_0xf045b0(0x156)],_0x27d1ae[_0xf045b0(0x143)]);const _0x5c429b=await this[_0xf045b0(0x145)][_0xf045b0(0x16f)](_0x27d1ae[_0xf045b0(0x156)]);_0x3d2796[_0xf045b0(0x163)](0xc8)[_0xf045b0(0x158)]({'success':!![],'message':_0xf045b0(0x170)});}catch(_0x41cc75){console[_0xf045b0(0x165)]('Gateway\x20webhook\x20processing\x20error:',_0x41cc75),loggerService_1[_0xf045b0(0x153)][_0xf045b0(0x15e)]('plisio_gateway',_0x41cc75,_0x27d1ae['body']),_0x3d2796['status'](0xc8)[_0xf045b0(0x158)]({'success':![],'message':_0x41cc75 instanceof Error?_0x41cc75[_0xf045b0(0x177)]:_0xf045b0(0x171)});}},this['handleRapydWebhook']=async(_0x1ea02f,_0x497c0d,_0x180e9b)=>{const _0x56be94=a15_0x99dd;try{console[_0x56be94(0x135)](_0x56be94(0x137),_0x1ea02f['body']),loggerService_1[_0x56be94(0x153)][_0x56be94(0x130)]('rapyd',_0x1ea02f[_0x56be94(0x156)],_0x1ea02f[_0x56be94(0x143)]);const _0x3efc48=await this[_0x56be94(0x145)][_0x56be94(0x134)](_0x1ea02f['body']);_0x497c0d['status'](0xc8)['json']({'success':!![],'message':_0x56be94(0x13e)});}catch(_0x533215){console[_0x56be94(0x165)](_0x56be94(0x150),_0x533215),loggerService_1['loggerService'][_0x56be94(0x15e)](_0x56be94(0x178),_0x533215,_0x1ea02f[_0x56be94(0x156)]),_0x497c0d[_0x56be94(0x163)](0xc8)[_0x56be94(0x158)]({'success':![],'message':_0x533215 instanceof Error?_0x533215[_0x56be94(0x177)]:_0x56be94(0x12d)});}},this[_0x6efa82(0x132)]=async(_0x5942de,_0x4fca87,_0x42e34b)=>{const _0x1c8883=_0x6efa82;try{console[_0x1c8883(0x135)](_0x1c8883(0x13d),_0x5942de['body']),loggerService_1[_0x1c8883(0x153)]['logWebhookReceived'](_0x1c8883(0x13a),_0x5942de['body'],_0x5942de[_0x1c8883(0x143)]);const _0xcfc63e=await this[_0x1c8883(0x145)][_0x1c8883(0x129)](_0x5942de['body']);_0x4fca87[_0x1c8883(0x163)](0xc8)['json']({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x43af4a){console[_0x1c8883(0x165)]('Noda\x20webhook\x20processing\x20error:',_0x43af4a),loggerService_1['loggerService']['logWebhookError']('noda',_0x43af4a,_0x5942de['body']),_0x4fca87[_0x1c8883(0x163)](0xc8)[_0x1c8883(0x158)]({'success':![],'message':_0x43af4a instanceof Error?_0x43af4a[_0x1c8883(0x177)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x6efa82(0x154)]=async(_0x269d8d,_0x4071dc,_0x2253ba)=>{const _0x195d48=_0x6efa82;try{console[_0x195d48(0x135)](_0x195d48(0x138),_0x269d8d['body']),loggerService_1[_0x195d48(0x153)][_0x195d48(0x130)](_0x195d48(0x140),_0x269d8d[_0x195d48(0x156)],_0x269d8d[_0x195d48(0x143)]);const _0x31dfd6=await this[_0x195d48(0x145)][_0x195d48(0x155)](_0x269d8d[_0x195d48(0x156)]);_0x4071dc[_0x195d48(0x163)](0xc8)[_0x195d48(0x158)]({'success':!![],'message':_0x195d48(0x14e)});}catch(_0x28710d){console[_0x195d48(0x165)](_0x195d48(0x146),_0x28710d),loggerService_1[_0x195d48(0x153)][_0x195d48(0x15e)](_0x195d48(0x140),_0x28710d,_0x269d8d[_0x195d48(0x156)]),_0x4071dc[_0x195d48(0x163)](0xc8)['json']({'success':![],'message':_0x28710d instanceof Error?_0x28710d['message']:_0x195d48(0x16d)});}},this['handleCoinToPay2Webhook']=async(_0x1fb5f8,_0x5ac9c1,_0x4123f7)=>{const _0x3e62f7=_0x6efa82;try{console['log']('Received\x20CoinToPay2\x20webhook:',_0x1fb5f8[_0x3e62f7(0x156)]),loggerService_1[_0x3e62f7(0x153)][_0x3e62f7(0x130)](_0x3e62f7(0x131),_0x1fb5f8['body'],_0x1fb5f8[_0x3e62f7(0x143)]);const _0x631275=await this[_0x3e62f7(0x145)][_0x3e62f7(0x14b)](_0x1fb5f8[_0x3e62f7(0x156)]);_0x5ac9c1['status'](0xc8)['json']({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x230d00){console[_0x3e62f7(0x165)](_0x3e62f7(0x14f),_0x230d00),loggerService_1[_0x3e62f7(0x153)][_0x3e62f7(0x15e)](_0x3e62f7(0x131),_0x230d00,_0x1fb5f8[_0x3e62f7(0x156)]),_0x5ac9c1[_0x3e62f7(0x163)](0xc8)['json']({'success':![],'message':_0x230d00 instanceof Error?_0x230d00[_0x3e62f7(0x177)]:_0x3e62f7(0x15a)});}},this['handleKlymeWebhook']=async(_0x50acf2,_0x3af753,_0x247df6)=>{const _0x5668b5=_0x6efa82;try{console[_0x5668b5(0x135)](_0x5668b5(0x168),_0x50acf2[_0x5668b5(0x156)]),loggerService_1[_0x5668b5(0x153)][_0x5668b5(0x130)](_0x5668b5(0x14d),_0x50acf2[_0x5668b5(0x156)],_0x50acf2['headers']);const _0x56074b=await this[_0x5668b5(0x145)]['processKlymeWebhook'](_0x50acf2[_0x5668b5(0x156)]);_0x3af753[_0x5668b5(0x163)](0xc8)[_0x5668b5(0x158)]({'success':!![],'message':_0x5668b5(0x15d)});}catch(_0x2879ae){console[_0x5668b5(0x165)](_0x5668b5(0x147),_0x2879ae),loggerService_1[_0x5668b5(0x153)][_0x5668b5(0x15e)]('klyme',_0x2879ae,_0x50acf2[_0x5668b5(0x156)]),_0x3af753[_0x5668b5(0x163)](0xc8)[_0x5668b5(0x158)]({'success':![],'message':_0x2879ae instanceof Error?_0x2879ae['message']:_0x5668b5(0x16b)});}},this[_0x6efa82(0x162)]=async(_0x23fa33,_0x25ed87,_0x2ffc8f)=>{const _0xc3f9a7=_0x6efa82;try{console['log'](_0xc3f9a7(0x167),_0x23fa33['body']),loggerService_1[_0xc3f9a7(0x153)]['logWebhookReceived'](_0xc3f9a7(0x12a),_0x23fa33[_0xc3f9a7(0x156)],_0x23fa33[_0xc3f9a7(0x143)]);const _0x44c886=await this[_0xc3f9a7(0x145)][_0xc3f9a7(0x160)](_0x23fa33[_0xc3f9a7(0x156)]);_0x25ed87['status'](0xc8)[_0xc3f9a7(0x158)]({'success':!![],'message':_0xc3f9a7(0x139)});}catch(_0x5efbdf){console[_0xc3f9a7(0x165)](_0xc3f9a7(0x169),_0x5efbdf),loggerService_1[_0xc3f9a7(0x153)][_0xc3f9a7(0x15e)](_0xc3f9a7(0x12a),_0x5efbdf,_0x23fa33['body']),_0x25ed87[_0xc3f9a7(0x163)](0xc8)['json']({'success':![],'message':_0x5efbdf instanceof Error?_0x5efbdf[_0xc3f9a7(0x177)]:_0xc3f9a7(0x12e)});}},this['handleAmerWebhook']=async(_0x2b31a2,_0x4859d3,_0x4e14e2)=>{const _0x2b7a6b=_0x6efa82;try{console[_0x2b7a6b(0x135)](_0x2b7a6b(0x15b),_0x2b31a2['body']),loggerService_1['loggerService'][_0x2b7a6b(0x130)](_0x2b7a6b(0x172),_0x2b31a2[_0x2b7a6b(0x156)],_0x2b31a2[_0x2b7a6b(0x143)]);const _0x5692ac=await this[_0x2b7a6b(0x145)][_0x2b7a6b(0x141)](_0x2b31a2[_0x2b7a6b(0x156)]);_0x4859d3[_0x2b7a6b(0x163)](0xc8)['json']({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x1e4d00){console[_0x2b7a6b(0x165)](_0x2b7a6b(0x12c),_0x1e4d00),loggerService_1[_0x2b7a6b(0x153)][_0x2b7a6b(0x15e)](_0x2b7a6b(0x172),_0x1e4d00,_0x2b31a2['body']),_0x4859d3['status'](0xc8)[_0x2b7a6b(0x158)]({'success':![],'message':_0x1e4d00 instanceof Error?_0x1e4d00[_0x2b7a6b(0x177)]:_0x2b7a6b(0x164)});}},this[_0x6efa82(0x145)]=new webhookService_1['WebhookService']();}}exports[a15_0x5b0ca0(0x13f)]=WebhookController;