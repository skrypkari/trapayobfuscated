'use strict';function a15_0x1675(){const _0x125fd3=['keys','10mtwQpd','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','MasterCard\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20failed','88qSCNaI','__esModule','rapyd','Received\x20KLYME\x20webhook:','Body\x20content:','Raw\x20body\x20type:','Rapyd\x20webhook\x20processing\x20failed','Content-Type:','loggerService','logWebhookError','plisio','Received\x20CoinToPay\x20webhook:','handleCoinToPayWebhook','body','WebhookController','handleNodaWebhook','12533148hNXIfs','11461538zGYXMc','mastercard','noda','klyme','Rapyd\x20webhook\x20processed\x20successfully','webhookService','716346SSfntn','Noda\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20failed','processCoinToPayWebhook','processMasterCardWebhook','Gateway\x20webhook\x20processing\x20error:','handleRapydWebhook','log','Rapyd\x20webhook\x20processing\x20error:','7410DsIUYJ','Webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','processPlisioWebhook','cointopay','Body\x20keys:','json','headers','Received\x20Noda\x20webhook:','Webhook\x20processed\x20successfully','342DGvqAP','610028EyATPF','handleKlymeWebhook','CoinToPay\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20error:','logWebhookReceived','plisio_gateway','CoinToPay\x20webhook\x20processing\x20failed','processRapydWebhook','Content-Type','status','defineProperty','error','KLYME\x20webhook\x20processing\x20error:','get','476596uLsCid','MasterCard\x20webhook\x20processing\x20error:','../services/loggerService','WebhookService','handleMasterCardWebhook','message','processNodaWebhook','18knSkXX','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','466354onOAYc','handlePlisioGatewayWebhook'];a15_0x1675=function(){return _0x125fd3;};return a15_0x1675();}const a15_0x2227ac=a15_0x4903;(function(_0x39074e,_0x43460e){const _0x244254=a15_0x4903,_0x203688=_0x39074e();while(!![]){try{const _0x340a7d=parseInt(_0x244254(0x14a))/0x1+parseInt(_0x244254(0x127))/0x2+parseInt(_0x244254(0x151))/0x3*(parseInt(_0x244254(0x13c))/0x4)+parseInt(_0x244254(0x130))/0x5*(parseInt(_0x244254(0x13b))/0x6)+-parseInt(_0x244254(0x153))/0x7*(parseInt(_0x244254(0x15a))/0x8)+-parseInt(_0x244254(0x120))/0x9*(parseInt(_0x244254(0x156))/0xa)+parseInt(_0x244254(0x121))/0xb;if(_0x340a7d===_0x43460e)break;else _0x203688['push'](_0x203688['shift']());}catch(_0x39bc32){_0x203688['push'](_0x203688['shift']());}}}(a15_0x1675,0xb74ed));Object[a15_0x2227ac(0x146)](exports,a15_0x2227ac(0x15b),{'value':!![]}),exports[a15_0x2227ac(0x11e)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x2227ac(0x14c));function a15_0x4903(_0x1cf7d1,_0x5e7cd5){const _0x1675a2=a15_0x1675();return a15_0x4903=function(_0x490335,_0x3976cd){_0x490335=_0x490335-0x117;let _0x2578a2=_0x1675a2[_0x490335];return _0x2578a2;},a15_0x4903(_0x1cf7d1,_0x5e7cd5);}class WebhookController{constructor(){const _0x11aa19=a15_0x2227ac;this['handlePlisioWebhook']=async(_0x431c2c,_0x3524e8,_0x2dc99c)=>{const _0x3926a5=a15_0x4903;try{console[_0x3926a5(0x12e)](_0x3926a5(0x152)),console[_0x3926a5(0x12e)]('Content-Type:',_0x431c2c['get'](_0x3926a5(0x144))),console['log']('Raw\x20body\x20type:',typeof _0x431c2c[_0x3926a5(0x11d)]),console[_0x3926a5(0x12e)](_0x3926a5(0x136),Object['keys'](_0x431c2c['body']||{})),console[_0x3926a5(0x12e)](_0x3926a5(0x15e),_0x431c2c[_0x3926a5(0x11d)]),loggerService_1[_0x3926a5(0x118)][_0x3926a5(0x140)](_0x3926a5(0x11a),_0x431c2c[_0x3926a5(0x11d)],_0x431c2c['headers']);const _0x1425a1=await this['webhookService'][_0x3926a5(0x134)](_0x431c2c[_0x3926a5(0x11d)]);_0x3524e8[_0x3926a5(0x145)](0xc8)[_0x3926a5(0x137)]({'success':!![],'message':_0x3926a5(0x13a)});}catch(_0x30788f){console[_0x3926a5(0x147)]('Webhook\x20processing\x20error:',_0x30788f),loggerService_1[_0x3926a5(0x118)][_0x3926a5(0x119)](_0x3926a5(0x11a),_0x30788f,_0x431c2c[_0x3926a5(0x11d)]),_0x3524e8[_0x3926a5(0x145)](0xc8)[_0x3926a5(0x137)]({'success':![],'message':_0x30788f instanceof Error?_0x30788f[_0x3926a5(0x14f)]:_0x3926a5(0x131)});}},this[_0x11aa19(0x154)]=async(_0x4718d,_0x341f0f,_0x18cd6d)=>{const _0x1eb8ce=_0x11aa19;try{console[_0x1eb8ce(0x12e)](_0x1eb8ce(0x157)),console[_0x1eb8ce(0x12e)](_0x1eb8ce(0x117),_0x4718d[_0x1eb8ce(0x149)](_0x1eb8ce(0x144))),console[_0x1eb8ce(0x12e)](_0x1eb8ce(0x15f),typeof _0x4718d[_0x1eb8ce(0x11d)]),console[_0x1eb8ce(0x12e)](_0x1eb8ce(0x136),Object[_0x1eb8ce(0x155)](_0x4718d[_0x1eb8ce(0x11d)]||{})),console[_0x1eb8ce(0x12e)](_0x1eb8ce(0x15e),_0x4718d[_0x1eb8ce(0x11d)]),loggerService_1[_0x1eb8ce(0x118)]['logWebhookReceived']('plisio_gateway',_0x4718d[_0x1eb8ce(0x11d)],_0x4718d[_0x1eb8ce(0x138)]);const _0x5893b4=await this[_0x1eb8ce(0x126)]['processPlisioGatewayWebhook'](_0x4718d['body']);_0x341f0f['status'](0xc8)[_0x1eb8ce(0x137)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x41e4b6){console['error'](_0x1eb8ce(0x12c),_0x41e4b6),loggerService_1[_0x1eb8ce(0x118)][_0x1eb8ce(0x119)](_0x1eb8ce(0x141),_0x41e4b6,_0x4718d[_0x1eb8ce(0x11d)]),_0x341f0f[_0x1eb8ce(0x145)](0xc8)[_0x1eb8ce(0x137)]({'success':![],'message':_0x41e4b6 instanceof Error?_0x41e4b6['message']:_0x1eb8ce(0x129)});}},this[_0x11aa19(0x12d)]=async(_0x2fc53f,_0x518241,_0x290bea)=>{const _0x3020a5=_0x11aa19;try{console['log']('Received\x20Rapyd\x20webhook:',_0x2fc53f[_0x3020a5(0x11d)]),loggerService_1['loggerService'][_0x3020a5(0x140)](_0x3020a5(0x15c),_0x2fc53f[_0x3020a5(0x11d)],_0x2fc53f[_0x3020a5(0x138)]);const _0x293df7=await this[_0x3020a5(0x126)][_0x3020a5(0x143)](_0x2fc53f[_0x3020a5(0x11d)]);_0x518241[_0x3020a5(0x145)](0xc8)['json']({'success':!![],'message':_0x3020a5(0x125)});}catch(_0x33100c){console['error'](_0x3020a5(0x12f),_0x33100c),loggerService_1[_0x3020a5(0x118)]['logWebhookError'](_0x3020a5(0x15c),_0x33100c,_0x2fc53f[_0x3020a5(0x11d)]),_0x518241[_0x3020a5(0x145)](0xc8)[_0x3020a5(0x137)]({'success':![],'message':_0x33100c instanceof Error?_0x33100c['message']:_0x3020a5(0x160)});}},this[_0x11aa19(0x11f)]=async(_0x58a0ab,_0x5a1261,_0x274f33)=>{const _0x4c577f=_0x11aa19;try{console[_0x4c577f(0x12e)](_0x4c577f(0x139),_0x58a0ab[_0x4c577f(0x11d)]),loggerService_1[_0x4c577f(0x118)][_0x4c577f(0x140)](_0x4c577f(0x123),_0x58a0ab[_0x4c577f(0x11d)],_0x58a0ab[_0x4c577f(0x138)]);const _0x487ab9=await this[_0x4c577f(0x126)][_0x4c577f(0x150)](_0x58a0ab[_0x4c577f(0x11d)]);_0x5a1261[_0x4c577f(0x145)](0xc8)[_0x4c577f(0x137)]({'success':!![],'message':_0x4c577f(0x128)});}catch(_0xe8fcb9){console[_0x4c577f(0x147)](_0x4c577f(0x13f),_0xe8fcb9),loggerService_1[_0x4c577f(0x118)]['logWebhookError'](_0x4c577f(0x123),_0xe8fcb9,_0x58a0ab['body']),_0x5a1261[_0x4c577f(0x145)](0xc8)[_0x4c577f(0x137)]({'success':![],'message':_0xe8fcb9 instanceof Error?_0xe8fcb9[_0x4c577f(0x14f)]:_0x4c577f(0x159)});}},this[_0x11aa19(0x11c)]=async(_0x3d9fb2,_0x4188f0,_0x4e65ac)=>{const _0x329241=_0x11aa19;try{console[_0x329241(0x12e)](_0x329241(0x11b),_0x3d9fb2[_0x329241(0x11d)]),loggerService_1['loggerService'][_0x329241(0x140)]('cointopay',_0x3d9fb2['body'],_0x3d9fb2['headers']);const _0x301ba4=await this[_0x329241(0x126)][_0x329241(0x12a)](_0x3d9fb2[_0x329241(0x11d)]);_0x4188f0[_0x329241(0x145)](0xc8)[_0x329241(0x137)]({'success':!![],'message':_0x329241(0x133)});}catch(_0x2c333a){console['error'](_0x329241(0x13e),_0x2c333a),loggerService_1[_0x329241(0x118)][_0x329241(0x119)](_0x329241(0x135),_0x2c333a,_0x3d9fb2['body']),_0x4188f0[_0x329241(0x145)](0xc8)[_0x329241(0x137)]({'success':![],'message':_0x2c333a instanceof Error?_0x2c333a[_0x329241(0x14f)]:_0x329241(0x142)});}},this[_0x11aa19(0x13d)]=async(_0x53ee72,_0x45f6ef,_0x27e5f3)=>{const _0x3314be=_0x11aa19;try{console[_0x3314be(0x12e)](_0x3314be(0x15d),_0x53ee72[_0x3314be(0x11d)]),loggerService_1['loggerService'][_0x3314be(0x140)](_0x3314be(0x124),_0x53ee72[_0x3314be(0x11d)],_0x53ee72[_0x3314be(0x138)]);const _0xf7b6ef=await this[_0x3314be(0x126)]['processKlymeWebhook'](_0x53ee72['body']);_0x45f6ef['status'](0xc8)[_0x3314be(0x137)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x32f345){console['error'](_0x3314be(0x148),_0x32f345),loggerService_1['loggerService'][_0x3314be(0x119)]('klyme',_0x32f345,_0x53ee72['body']),_0x45f6ef[_0x3314be(0x145)](0xc8)[_0x3314be(0x137)]({'success':![],'message':_0x32f345 instanceof Error?_0x32f345[_0x3314be(0x14f)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x11aa19(0x14e)]=async(_0x44e388,_0x470e97,_0x5395c2)=>{const _0xb8cd84=_0x11aa19;try{console[_0xb8cd84(0x12e)]('Received\x20MasterCard\x20webhook:',_0x44e388[_0xb8cd84(0x11d)]),loggerService_1[_0xb8cd84(0x118)][_0xb8cd84(0x140)](_0xb8cd84(0x122),_0x44e388[_0xb8cd84(0x11d)],_0x44e388[_0xb8cd84(0x138)]);const _0xfc14d0=await this[_0xb8cd84(0x126)][_0xb8cd84(0x12b)](_0x44e388['body']);_0x470e97[_0xb8cd84(0x145)](0xc8)[_0xb8cd84(0x137)]({'success':!![],'message':_0xb8cd84(0x158)});}catch(_0x3986f4){console[_0xb8cd84(0x147)](_0xb8cd84(0x14b),_0x3986f4),loggerService_1[_0xb8cd84(0x118)][_0xb8cd84(0x119)](_0xb8cd84(0x122),_0x3986f4,_0x44e388[_0xb8cd84(0x11d)]),_0x470e97[_0xb8cd84(0x145)](0xc8)[_0xb8cd84(0x137)]({'success':![],'message':_0x3986f4 instanceof Error?_0x3986f4[_0xb8cd84(0x14f)]:_0xb8cd84(0x132)});}},this[_0x11aa19(0x126)]=new webhookService_1[(_0x11aa19(0x14d))]();}}exports['WebhookController']=WebhookController;