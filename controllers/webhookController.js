'use strict';function a14_0x5d5f(_0x3a6d2f,_0x21fa71){const _0x270d6b=a14_0x270d();return a14_0x5d5f=function(_0x5d5fda,_0x26c40b){_0x5d5fda=_0x5d5fda-0x17d;let _0x109b78=_0x270d6b[_0x5d5fda];return _0x109b78;},a14_0x5d5f(_0x3a6d2f,_0x21fa71);}const a14_0x2542a2=a14_0x5d5f;(function(_0x1b67ae,_0x463c56){const _0x54e598=a14_0x5d5f,_0x4f7ae1=_0x1b67ae();while(!![]){try{const _0x150216=parseInt(_0x54e598(0x186))/0x1*(parseInt(_0x54e598(0x190))/0x2)+-parseInt(_0x54e598(0x1a5))/0x3*(parseInt(_0x54e598(0x199))/0x4)+parseInt(_0x54e598(0x198))/0x5+-parseInt(_0x54e598(0x1ad))/0x6+parseInt(_0x54e598(0x1ba))/0x7+parseInt(_0x54e598(0x197))/0x8*(parseInt(_0x54e598(0x1b4))/0x9)+parseInt(_0x54e598(0x17e))/0xa*(-parseInt(_0x54e598(0x184))/0xb);if(_0x150216===_0x463c56)break;else _0x4f7ae1['push'](_0x4f7ae1['shift']());}catch(_0x226033){_0x4f7ae1['push'](_0x4f7ae1['shift']());}}}(a14_0x270d,0x3c203));Object[a14_0x2542a2(0x1b9)](exports,a14_0x2542a2(0x193),{'value':!![]}),exports[a14_0x2542a2(0x196)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a14_0x2542a2(0x187));function a14_0x270d(){const _0x12403e=['1634910qrfjBm','80404dCqNqi','plisio','Rapyd\x20webhook\x20processing\x20failed','WebhookService','log','status','processNodaWebhook','CoinToPay\x20webhook\x20processed\x20successfully','Received\x20Noda\x20webhook:','KLYME\x20webhook\x20processed\x20successfully','logWebhookError','Webhook\x20processing\x20error:','15KCEYFU','Gateway\x20webhook\x20processed\x20successfully','headers','Noda\x20webhook\x20processing\x20failed','handleCoinToPayWebhook','logWebhookReceived','rapyd','webhookService','690582oDFKom','CoinToPay\x20webhook\x20processing\x20error:','Webhook\x20processed\x20successfully','Received\x20KLYME\x20webhook:','message','Body\x20keys:','CoinToPay\x20webhook\x20processing\x20failed','9UGPNOx','Content-Type:','processPlisioGatewayWebhook','loggerService','processKlymeWebhook','defineProperty','464086WStznU','keys','cointopay','180CutOfa','Rapyd\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20error:','get','plisio_gateway','Webhook\x20processing\x20failed','524777nBUYQF','body','12HoAIBq','../services/loggerService','Raw\x20body\x20type:','Rapyd\x20webhook\x20processed\x20successfully','error','handleKlymeWebhook','KLYME\x20webhook\x20processing\x20failed','Content-Type','Received\x20CoinToPay\x20webhook:','Body\x20content:','72498YsARnt','Noda\x20webhook\x20processing\x20error:','json','__esModule','handleNodaWebhook','noda','WebhookController','3938680NmaEiN'];a14_0x270d=function(){return _0x12403e;};return a14_0x270d();}class WebhookController{constructor(){const _0x5e6730=a14_0x2542a2;this['handlePlisioWebhook']=async(_0x37f4b4,_0x41ebd9,_0x2daa90)=>{const _0x2eb3c9=a14_0x5d5f;try{console['log']('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x2eb3c9(0x19d)](_0x2eb3c9(0x1b5),_0x37f4b4['get'](_0x2eb3c9(0x18d))),console[_0x2eb3c9(0x19d)](_0x2eb3c9(0x188),typeof _0x37f4b4['body']),console[_0x2eb3c9(0x19d)](_0x2eb3c9(0x1b2),Object[_0x2eb3c9(0x1bb)](_0x37f4b4[_0x2eb3c9(0x185)]||{})),console[_0x2eb3c9(0x19d)](_0x2eb3c9(0x18f),_0x37f4b4[_0x2eb3c9(0x185)]),loggerService_1[_0x2eb3c9(0x1b7)][_0x2eb3c9(0x1aa)](_0x2eb3c9(0x19a),_0x37f4b4[_0x2eb3c9(0x185)],_0x37f4b4['headers']);const _0xc085=await this[_0x2eb3c9(0x1ac)]['processPlisioWebhook'](_0x37f4b4[_0x2eb3c9(0x185)]);_0x41ebd9[_0x2eb3c9(0x19e)](0xc8)[_0x2eb3c9(0x192)]({'success':!![],'message':_0x2eb3c9(0x1af)});}catch(_0x481794){console[_0x2eb3c9(0x18a)](_0x2eb3c9(0x1a4),_0x481794),loggerService_1[_0x2eb3c9(0x1b7)][_0x2eb3c9(0x1a3)](_0x2eb3c9(0x19a),_0x481794,_0x37f4b4[_0x2eb3c9(0x185)]),_0x41ebd9[_0x2eb3c9(0x19e)](0xc8)['json']({'success':![],'message':_0x481794 instanceof Error?_0x481794[_0x2eb3c9(0x1b1)]:_0x2eb3c9(0x183)});}},this['handlePlisioGatewayWebhook']=async(_0x36168f,_0x803e6f,_0x1181ee)=>{const _0x4f8975=a14_0x5d5f;try{console['log']('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x4f8975(0x19d)]('Content-Type:',_0x36168f[_0x4f8975(0x181)](_0x4f8975(0x18d))),console[_0x4f8975(0x19d)](_0x4f8975(0x188),typeof _0x36168f[_0x4f8975(0x185)]),console['log']('Body\x20keys:',Object[_0x4f8975(0x1bb)](_0x36168f['body']||{})),console['log'](_0x4f8975(0x18f),_0x36168f[_0x4f8975(0x185)]),loggerService_1[_0x4f8975(0x1b7)][_0x4f8975(0x1aa)]('plisio_gateway',_0x36168f[_0x4f8975(0x185)],_0x36168f[_0x4f8975(0x1a7)]);const _0x42c61c=await this[_0x4f8975(0x1ac)][_0x4f8975(0x1b6)](_0x36168f[_0x4f8975(0x185)]);_0x803e6f[_0x4f8975(0x19e)](0xc8)[_0x4f8975(0x192)]({'success':!![],'message':_0x4f8975(0x1a6)});}catch(_0x1f6ad9){console[_0x4f8975(0x18a)](_0x4f8975(0x180),_0x1f6ad9),loggerService_1[_0x4f8975(0x1b7)]['logWebhookError'](_0x4f8975(0x182),_0x1f6ad9,_0x36168f[_0x4f8975(0x185)]),_0x803e6f[_0x4f8975(0x19e)](0xc8)[_0x4f8975(0x192)]({'success':![],'message':_0x1f6ad9 instanceof Error?_0x1f6ad9['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this['handleRapydWebhook']=async(_0x117ccf,_0x135f17,_0x12d399)=>{const _0x33226e=a14_0x5d5f;try{console[_0x33226e(0x19d)]('Received\x20Rapyd\x20webhook:',_0x117ccf[_0x33226e(0x185)]),loggerService_1[_0x33226e(0x1b7)][_0x33226e(0x1aa)]('rapyd',_0x117ccf[_0x33226e(0x185)],_0x117ccf['headers']);const _0xb9ab60=await this[_0x33226e(0x1ac)]['processRapydWebhook'](_0x117ccf['body']);_0x135f17['status'](0xc8)[_0x33226e(0x192)]({'success':!![],'message':_0x33226e(0x189)});}catch(_0x5283c1){console['error'](_0x33226e(0x17f),_0x5283c1),loggerService_1['loggerService']['logWebhookError'](_0x33226e(0x1ab),_0x5283c1,_0x117ccf[_0x33226e(0x185)]),_0x135f17[_0x33226e(0x19e)](0xc8)[_0x33226e(0x192)]({'success':![],'message':_0x5283c1 instanceof Error?_0x5283c1[_0x33226e(0x1b1)]:_0x33226e(0x19b)});}},this[_0x5e6730(0x194)]=async(_0x48e426,_0x7b14a,_0x42ef25)=>{const _0x85ce3=_0x5e6730;try{console[_0x85ce3(0x19d)](_0x85ce3(0x1a1),_0x48e426[_0x85ce3(0x185)]),loggerService_1[_0x85ce3(0x1b7)]['logWebhookReceived'](_0x85ce3(0x195),_0x48e426['body'],_0x48e426['headers']);const _0x4ff02b=await this['webhookService'][_0x85ce3(0x19f)](_0x48e426[_0x85ce3(0x185)]);_0x7b14a[_0x85ce3(0x19e)](0xc8)[_0x85ce3(0x192)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0xd2c894){console[_0x85ce3(0x18a)](_0x85ce3(0x191),_0xd2c894),loggerService_1['loggerService'][_0x85ce3(0x1a3)]('noda',_0xd2c894,_0x48e426['body']),_0x7b14a[_0x85ce3(0x19e)](0xc8)[_0x85ce3(0x192)]({'success':![],'message':_0xd2c894 instanceof Error?_0xd2c894['message']:_0x85ce3(0x1a8)});}},this[_0x5e6730(0x1a9)]=async(_0x2d8fcf,_0x3d0f9b,_0x5d87f1)=>{const _0x136239=_0x5e6730;try{console['log'](_0x136239(0x18e),_0x2d8fcf['body']),loggerService_1[_0x136239(0x1b7)][_0x136239(0x1aa)](_0x136239(0x17d),_0x2d8fcf['body'],_0x2d8fcf[_0x136239(0x1a7)]);const _0xd569c6=await this[_0x136239(0x1ac)]['processCoinToPayWebhook'](_0x2d8fcf[_0x136239(0x185)]);_0x3d0f9b['status'](0xc8)[_0x136239(0x192)]({'success':!![],'message':_0x136239(0x1a0)});}catch(_0x4bc9cc){console['error'](_0x136239(0x1ae),_0x4bc9cc),loggerService_1['loggerService'][_0x136239(0x1a3)](_0x136239(0x17d),_0x4bc9cc,_0x2d8fcf['body']),_0x3d0f9b[_0x136239(0x19e)](0xc8)[_0x136239(0x192)]({'success':![],'message':_0x4bc9cc instanceof Error?_0x4bc9cc[_0x136239(0x1b1)]:_0x136239(0x1b3)});}},this[_0x5e6730(0x18b)]=async(_0x2275e1,_0x2b3a88,_0x5b2e8d)=>{const _0x487292=_0x5e6730;try{console['log'](_0x487292(0x1b0),_0x2275e1[_0x487292(0x185)]),loggerService_1[_0x487292(0x1b7)]['logWebhookReceived']('klyme',_0x2275e1[_0x487292(0x185)],_0x2275e1[_0x487292(0x1a7)]);const _0x5ae21b=await this[_0x487292(0x1ac)][_0x487292(0x1b8)](_0x2275e1[_0x487292(0x185)]);_0x2b3a88['status'](0xc8)[_0x487292(0x192)]({'success':!![],'message':_0x487292(0x1a2)});}catch(_0x5854ac){console['error']('KLYME\x20webhook\x20processing\x20error:',_0x5854ac),loggerService_1[_0x487292(0x1b7)]['logWebhookError']('klyme',_0x5854ac,_0x2275e1['body']),_0x2b3a88[_0x487292(0x19e)](0xc8)[_0x487292(0x192)]({'success':![],'message':_0x5854ac instanceof Error?_0x5854ac[_0x487292(0x1b1)]:_0x487292(0x18c)});}},this[_0x5e6730(0x1ac)]=new webhookService_1[(_0x5e6730(0x19c))]();}}exports[a14_0x2542a2(0x196)]=WebhookController;