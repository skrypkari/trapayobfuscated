'use strict';function a15_0x2b94(){const _0x1d3c41=['handlePlisioGatewayWebhook','1229848ibYzHM','json','logWebhookReceived','processPlisioGatewayWebhook','MasterCard\x20webhook\x20processed\x20successfully','14748VItrkV','CoinToPay\x20webhook\x20processed\x20successfully','message','CoinToPay\x20webhook\x20processing\x20error:','processCoinToPayWebhook','WebhookService','status','processKlymeWebhook','834ClBQTH','handleKlymeWebhook','Body\x20content:','processNodaWebhook','handleCoinToPayWebhook','mastercard','plisio','log','5544798ragUuS','logWebhookError','KLYME\x20webhook\x20processing\x20error:','497225crMggF','loggerService','Body\x20keys:','webhookService','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','keys','handlePlisioWebhook','../services/webhookService','Noda\x20webhook\x20processing\x20error:','Received\x20Noda\x20webhook:','error','defineProperty','393502RpxWLV','plisio_gateway','noda','headers','Gateway\x20webhook\x20processed\x20successfully','get','13251078MVlxzn','Received\x20CoinToPay\x20webhook:','body','2398oFcWPg','handleNodaWebhook','Content-Type','Received\x20KLYME\x20webhook:','Webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processed\x20successfully','60IRfcuN','handleMasterCardWebhook','KLYME\x20webhook\x20processed\x20successfully','processMasterCardWebhook','cointopay','klyme','Content-Type:','processRapydWebhook'];a15_0x2b94=function(){return _0x1d3c41;};return a15_0x2b94();}function a15_0x289e(_0x3ba85e,_0x2fe838){const _0x2b94ff=a15_0x2b94();return a15_0x289e=function(_0x289ee5,_0x376f37){_0x289ee5=_0x289ee5-0x18c;let _0x49040d=_0x2b94ff[_0x289ee5];return _0x49040d;},a15_0x289e(_0x3ba85e,_0x2fe838);}const a15_0x28ec08=a15_0x289e;(function(_0xaf524c,_0xb4dcf3){const _0x35a9c3=a15_0x289e,_0x78079f=_0xaf524c();while(!![]){try{const _0x121e2b=parseInt(_0x35a9c3(0x18f))/0x1+parseInt(_0x35a9c3(0x198))/0x2*(-parseInt(_0x35a9c3(0x1b5))/0x3)+parseInt(_0x35a9c3(0x1ad))/0x4+-parseInt(_0x35a9c3(0x1c0))/0x5*(-parseInt(_0x35a9c3(0x19f))/0x6)+parseInt(_0x35a9c3(0x1bd))/0x7+parseInt(_0x35a9c3(0x1a8))/0x8+-parseInt(_0x35a9c3(0x195))/0x9;if(_0x121e2b===_0xb4dcf3)break;else _0x78079f['push'](_0x78079f['shift']());}catch(_0xccc48){_0x78079f['push'](_0x78079f['shift']());}}}(a15_0x2b94,0x81d6c));Object[a15_0x28ec08(0x18e)](exports,'__esModule',{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require(a15_0x28ec08(0x1c7)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x9b86ea=a15_0x28ec08;this[_0x9b86ea(0x1c6)]=async(_0x39e50d,_0x176212,_0x404323)=>{const _0x3a3142=_0x9b86ea;try{console[_0x3a3142(0x1bc)](_0x3a3142(0x1c4)),console['log'](_0x3a3142(0x1a5),_0x39e50d[_0x3a3142(0x194)]('Content-Type')),console[_0x3a3142(0x1bc)]('Raw\x20body\x20type:',typeof _0x39e50d['body']),console[_0x3a3142(0x1bc)](_0x3a3142(0x1c2),Object[_0x3a3142(0x1c5)](_0x39e50d[_0x3a3142(0x197)]||{})),console['log'](_0x3a3142(0x1b7),_0x39e50d[_0x3a3142(0x197)]),loggerService_1['loggerService']['logWebhookReceived'](_0x3a3142(0x1bb),_0x39e50d['body'],_0x39e50d[_0x3a3142(0x192)]);const _0x31e4b8=await this[_0x3a3142(0x1c3)]['processPlisioWebhook'](_0x39e50d['body']);_0x176212[_0x3a3142(0x1b3)](0xc8)[_0x3a3142(0x1a9)]({'success':!![],'message':_0x3a3142(0x19c)});}catch(_0x1ffc97){console[_0x3a3142(0x18d)]('Webhook\x20processing\x20error:',_0x1ffc97),loggerService_1['loggerService']['logWebhookError'](_0x3a3142(0x1bb),_0x1ffc97,_0x39e50d[_0x3a3142(0x197)]),_0x176212[_0x3a3142(0x1b3)](0xc8)['json']({'success':![],'message':_0x1ffc97 instanceof Error?_0x1ffc97[_0x3a3142(0x1af)]:'Webhook\x20processing\x20failed'});}},this[_0x9b86ea(0x1a7)]=async(_0x28e405,_0x3199e2,_0x451e88)=>{const _0x5a7f64=_0x9b86ea;try{console[_0x5a7f64(0x1bc)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x5a7f64(0x1bc)]('Content-Type:',_0x28e405[_0x5a7f64(0x194)](_0x5a7f64(0x19a))),console[_0x5a7f64(0x1bc)]('Raw\x20body\x20type:',typeof _0x28e405[_0x5a7f64(0x197)]),console[_0x5a7f64(0x1bc)]('Body\x20keys:',Object[_0x5a7f64(0x1c5)](_0x28e405[_0x5a7f64(0x197)]||{})),console[_0x5a7f64(0x1bc)](_0x5a7f64(0x1b7),_0x28e405[_0x5a7f64(0x197)]),loggerService_1[_0x5a7f64(0x1c1)][_0x5a7f64(0x1aa)](_0x5a7f64(0x190),_0x28e405[_0x5a7f64(0x197)],_0x28e405[_0x5a7f64(0x192)]);const _0x28af60=await this[_0x5a7f64(0x1c3)][_0x5a7f64(0x1ab)](_0x28e405[_0x5a7f64(0x197)]);_0x3199e2['status'](0xc8)['json']({'success':!![],'message':_0x5a7f64(0x193)});}catch(_0xcfe957){console[_0x5a7f64(0x18d)]('Gateway\x20webhook\x20processing\x20error:',_0xcfe957),loggerService_1[_0x5a7f64(0x1c1)]['logWebhookError'](_0x5a7f64(0x190),_0xcfe957,_0x28e405[_0x5a7f64(0x197)]),_0x3199e2[_0x5a7f64(0x1b3)](0xc8)[_0x5a7f64(0x1a9)]({'success':![],'message':_0xcfe957 instanceof Error?_0xcfe957[_0x5a7f64(0x1af)]:'Gateway\x20webhook\x20processing\x20failed'});}},this['handleRapydWebhook']=async(_0xa77746,_0x36b9e4,_0x513ab6)=>{const _0x392ad8=_0x9b86ea;try{console[_0x392ad8(0x1bc)]('Received\x20Rapyd\x20webhook:',_0xa77746['body']),loggerService_1['loggerService']['logWebhookReceived']('rapyd',_0xa77746['body'],_0xa77746[_0x392ad8(0x192)]);const _0x3b3c66=await this[_0x392ad8(0x1c3)][_0x392ad8(0x1a6)](_0xa77746['body']);_0x36b9e4[_0x392ad8(0x1b3)](0xc8)['json']({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x2bee5f){console[_0x392ad8(0x18d)]('Rapyd\x20webhook\x20processing\x20error:',_0x2bee5f),loggerService_1['loggerService']['logWebhookError']('rapyd',_0x2bee5f,_0xa77746[_0x392ad8(0x197)]),_0x36b9e4['status'](0xc8)[_0x392ad8(0x1a9)]({'success':![],'message':_0x2bee5f instanceof Error?_0x2bee5f['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x9b86ea(0x199)]=async(_0x4d250c,_0x8fffbe,_0x58685e)=>{const _0x3b3a5f=_0x9b86ea;try{console['log'](_0x3b3a5f(0x18c),_0x4d250c[_0x3b3a5f(0x197)]),loggerService_1[_0x3b3a5f(0x1c1)][_0x3b3a5f(0x1aa)](_0x3b3a5f(0x191),_0x4d250c[_0x3b3a5f(0x197)],_0x4d250c[_0x3b3a5f(0x192)]);const _0x33568d=await this[_0x3b3a5f(0x1c3)][_0x3b3a5f(0x1b8)](_0x4d250c[_0x3b3a5f(0x197)]);_0x8fffbe[_0x3b3a5f(0x1b3)](0xc8)[_0x3b3a5f(0x1a9)]({'success':!![],'message':_0x3b3a5f(0x19e)});}catch(_0x2d0894){console[_0x3b3a5f(0x18d)](_0x3b3a5f(0x1c8),_0x2d0894),loggerService_1['loggerService'][_0x3b3a5f(0x1be)](_0x3b3a5f(0x191),_0x2d0894,_0x4d250c[_0x3b3a5f(0x197)]),_0x8fffbe[_0x3b3a5f(0x1b3)](0xc8)['json']({'success':![],'message':_0x2d0894 instanceof Error?_0x2d0894[_0x3b3a5f(0x1af)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x9b86ea(0x1b9)]=async(_0x3d26bd,_0x67c6e0,_0x3a2d24)=>{const _0x3d738d=_0x9b86ea;try{console[_0x3d738d(0x1bc)](_0x3d738d(0x196),_0x3d26bd[_0x3d738d(0x197)]),loggerService_1[_0x3d738d(0x1c1)][_0x3d738d(0x1aa)](_0x3d738d(0x1a3),_0x3d26bd['body'],_0x3d26bd[_0x3d738d(0x192)]);const _0x5d1939=await this[_0x3d738d(0x1c3)][_0x3d738d(0x1b1)](_0x3d26bd[_0x3d738d(0x197)]);_0x67c6e0[_0x3d738d(0x1b3)](0xc8)[_0x3d738d(0x1a9)]({'success':!![],'message':_0x3d738d(0x1ae)});}catch(_0x31936d){console[_0x3d738d(0x18d)](_0x3d738d(0x1b0),_0x31936d),loggerService_1[_0x3d738d(0x1c1)][_0x3d738d(0x1be)]('cointopay',_0x31936d,_0x3d26bd[_0x3d738d(0x197)]),_0x67c6e0[_0x3d738d(0x1b3)](0xc8)['json']({'success':![],'message':_0x31936d instanceof Error?_0x31936d['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x9b86ea(0x1b6)]=async(_0x55c5c3,_0x173a59,_0x4565bc)=>{const _0x272fd1=_0x9b86ea;try{console[_0x272fd1(0x1bc)](_0x272fd1(0x19b),_0x55c5c3[_0x272fd1(0x197)]),loggerService_1[_0x272fd1(0x1c1)][_0x272fd1(0x1aa)](_0x272fd1(0x1a4),_0x55c5c3[_0x272fd1(0x197)],_0x55c5c3[_0x272fd1(0x192)]);const _0x15e131=await this[_0x272fd1(0x1c3)][_0x272fd1(0x1b4)](_0x55c5c3[_0x272fd1(0x197)]);_0x173a59[_0x272fd1(0x1b3)](0xc8)[_0x272fd1(0x1a9)]({'success':!![],'message':_0x272fd1(0x1a1)});}catch(_0x5dd2d3){console[_0x272fd1(0x18d)](_0x272fd1(0x1bf),_0x5dd2d3),loggerService_1[_0x272fd1(0x1c1)][_0x272fd1(0x1be)](_0x272fd1(0x1a4),_0x5dd2d3,_0x55c5c3[_0x272fd1(0x197)]),_0x173a59[_0x272fd1(0x1b3)](0xc8)['json']({'success':![],'message':_0x5dd2d3 instanceof Error?_0x5dd2d3[_0x272fd1(0x1af)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x9b86ea(0x1a0)]=async(_0x3410cb,_0x4854ff,_0x4af1ba)=>{const _0x36479c=_0x9b86ea;try{console[_0x36479c(0x1bc)]('Received\x20MasterCard\x20webhook:',_0x3410cb[_0x36479c(0x197)]),loggerService_1[_0x36479c(0x1c1)][_0x36479c(0x1aa)](_0x36479c(0x1ba),_0x3410cb['body'],_0x3410cb[_0x36479c(0x192)]);const _0xa0a2fc=await this['webhookService'][_0x36479c(0x1a2)](_0x3410cb[_0x36479c(0x197)]);_0x4854ff[_0x36479c(0x1b3)](0xc8)[_0x36479c(0x1a9)]({'success':!![],'message':_0x36479c(0x1ac)});}catch(_0x2ad2ba){console[_0x36479c(0x18d)]('MasterCard\x20webhook\x20processing\x20error:',_0x2ad2ba),loggerService_1[_0x36479c(0x1c1)][_0x36479c(0x1be)]('mastercard',_0x2ad2ba,_0x3410cb['body']),_0x4854ff['status'](0xc8)[_0x36479c(0x1a9)]({'success':![],'message':_0x2ad2ba instanceof Error?_0x2ad2ba[_0x36479c(0x1af)]:_0x36479c(0x19d)});}},this[_0x9b86ea(0x1c3)]=new webhookService_1[(_0x9b86ea(0x1b2))]();}}exports['WebhookController']=WebhookController;