'use strict';const a15_0x3872e1=a15_0x133b;(function(_0x10e72c,_0x19c7ca){const _0xb7ed3a=a15_0x133b,_0x14323d=_0x10e72c();while(!![]){try{const _0x22f115=-parseInt(_0xb7ed3a(0x14b))/0x1*(parseInt(_0xb7ed3a(0x134))/0x2)+-parseInt(_0xb7ed3a(0x14e))/0x3*(-parseInt(_0xb7ed3a(0x119))/0x4)+-parseInt(_0xb7ed3a(0x139))/0x5*(-parseInt(_0xb7ed3a(0x13a))/0x6)+parseInt(_0xb7ed3a(0x12f))/0x7+-parseInt(_0xb7ed3a(0x13f))/0x8*(parseInt(_0xb7ed3a(0x114))/0x9)+parseInt(_0xb7ed3a(0x11b))/0xa+-parseInt(_0xb7ed3a(0x138))/0xb;if(_0x22f115===_0x19c7ca)break;else _0x14323d['push'](_0x14323d['shift']());}catch(_0x54aa2b){_0x14323d['push'](_0x14323d['shift']());}}}(a15_0x35eb,0xcf627));Object[a15_0x3872e1(0x14f)](exports,'__esModule',{'value':!![]}),exports[a15_0x3872e1(0x151)]=void 0x0;function a15_0x35eb(){const _0x2cb621=['klyme','get','message','2351Syhwgh','Received\x20CoinToPay\x20webhook:','cointopay2','3JpUuwh','defineProperty','Body\x20keys:','WebhookController','Webhook\x20processing\x20failed','Received\x20CoinToPay2\x20webhook:','KLYME\x20webhook\x20processing\x20error:','Raw\x20body\x20type:','Content-Type','../services/loggerService','handleCoinToPayWebhook','mastercard','Rapyd\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20error:','4419hIwNhx','rapyd','status','logWebhookReceived','loggerService','2156332iLZiHB','Content-Type:','6155980tfLaOG','KLYME\x20webhook\x20processing\x20failed','processPlisioWebhook','Body\x20content:','noda','logWebhookError','processPlisioGatewayWebhook','Received\x20Rapyd\x20webhook:','CoinToPay2\x20webhook\x20processing\x20failed','cointopay','Webhook\x20processed\x20successfully','json','Received\x20Noda\x20webhook:','Noda\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processing\x20failed','plisio_gateway','CoinToPay2\x20webhook\x20processed\x20successfully','processCoinToPayWebhook','processNodaWebhook','log','4262489sFyiOt','headers','handlePlisioWebhook','CoinToPay\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processing\x20error:','302DcgTXR','handleCoinToPay2Webhook','Received\x20MasterCard\x20webhook:','Gateway\x20webhook\x20processing\x20error:','1548030OpDZvS','19615RNQctp','1296FERTfy','CoinToPay\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20failed','handleRapydWebhook','MasterCard\x20webhook\x20processing\x20error:','20624YWtsQB','Webhook\x20processing\x20error:','keys','Noda\x20webhook\x20processed\x20successfully','plisio','body','handleNodaWebhook','error','webhookService'];a15_0x35eb=function(){return _0x2cb621;};return a15_0x35eb();}function a15_0x133b(_0x2dd697,_0x3f4085){const _0x35eb16=a15_0x35eb();return a15_0x133b=function(_0x133b29,_0x5cb432){_0x133b29=_0x133b29-0x10c;let _0x2c9ac4=_0x35eb16[_0x133b29];return _0x2c9ac4;},a15_0x133b(_0x2dd697,_0x3f4085);}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x3872e1(0x10f));class WebhookController{constructor(){const _0xa3ee27=a15_0x3872e1;this[_0xa3ee27(0x131)]=async(_0x485ed0,_0x357eef,_0x481c26)=>{const _0x4c0004=_0xa3ee27;try{console[_0x4c0004(0x12e)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x4c0004(0x12e)](_0x4c0004(0x11a),_0x485ed0[_0x4c0004(0x149)](_0x4c0004(0x10e))),console[_0x4c0004(0x12e)](_0x4c0004(0x10d),typeof _0x485ed0[_0x4c0004(0x144)]),console[_0x4c0004(0x12e)](_0x4c0004(0x150),Object['keys'](_0x485ed0['body']||{})),console[_0x4c0004(0x12e)](_0x4c0004(0x11e),_0x485ed0['body']),loggerService_1[_0x4c0004(0x118)][_0x4c0004(0x117)](_0x4c0004(0x143),_0x485ed0['body'],_0x485ed0[_0x4c0004(0x130)]);const _0x3b71ec=await this['webhookService'][_0x4c0004(0x11d)](_0x485ed0[_0x4c0004(0x144)]);_0x357eef[_0x4c0004(0x116)](0xc8)[_0x4c0004(0x126)]({'success':!![],'message':_0x4c0004(0x125)});}catch(_0x8c0ad1){console[_0x4c0004(0x146)](_0x4c0004(0x140),_0x8c0ad1),loggerService_1[_0x4c0004(0x118)][_0x4c0004(0x120)](_0x4c0004(0x143),_0x8c0ad1,_0x485ed0[_0x4c0004(0x144)]),_0x357eef[_0x4c0004(0x116)](0xc8)[_0x4c0004(0x126)]({'success':![],'message':_0x8c0ad1 instanceof Error?_0x8c0ad1[_0x4c0004(0x14a)]:_0x4c0004(0x152)});}},this['handlePlisioGatewayWebhook']=async(_0x40e0e0,_0x54d9b3,_0x54bc6c)=>{const _0x267cc5=_0xa3ee27;try{console[_0x267cc5(0x12e)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console['log'](_0x267cc5(0x11a),_0x40e0e0[_0x267cc5(0x149)](_0x267cc5(0x10e))),console['log'](_0x267cc5(0x10d),typeof _0x40e0e0[_0x267cc5(0x144)]),console[_0x267cc5(0x12e)](_0x267cc5(0x150),Object[_0x267cc5(0x141)](_0x40e0e0[_0x267cc5(0x144)]||{})),console[_0x267cc5(0x12e)](_0x267cc5(0x11e),_0x40e0e0[_0x267cc5(0x144)]),loggerService_1[_0x267cc5(0x118)]['logWebhookReceived'](_0x267cc5(0x12a),_0x40e0e0[_0x267cc5(0x144)],_0x40e0e0[_0x267cc5(0x130)]);const _0x2b9c75=await this['webhookService'][_0x267cc5(0x121)](_0x40e0e0[_0x267cc5(0x144)]);_0x54d9b3[_0x267cc5(0x116)](0xc8)[_0x267cc5(0x126)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x557c90){console['error'](_0x267cc5(0x137),_0x557c90),loggerService_1['loggerService'][_0x267cc5(0x120)]('plisio_gateway',_0x557c90,_0x40e0e0[_0x267cc5(0x144)]),_0x54d9b3[_0x267cc5(0x116)](0xc8)[_0x267cc5(0x126)]({'success':![],'message':_0x557c90 instanceof Error?_0x557c90['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0xa3ee27(0x13d)]=async(_0xcde346,_0x23e197,_0x4b209c)=>{const _0x5d8f8c=_0xa3ee27;try{console[_0x5d8f8c(0x12e)](_0x5d8f8c(0x122),_0xcde346[_0x5d8f8c(0x144)]),loggerService_1[_0x5d8f8c(0x118)][_0x5d8f8c(0x117)]('rapyd',_0xcde346[_0x5d8f8c(0x144)],_0xcde346[_0x5d8f8c(0x130)]);const _0x3e87d4=await this[_0x5d8f8c(0x147)]['processRapydWebhook'](_0xcde346['body']);_0x23e197[_0x5d8f8c(0x116)](0xc8)[_0x5d8f8c(0x126)]({'success':!![],'message':_0x5d8f8c(0x112)});}catch(_0x18a76e){console[_0x5d8f8c(0x146)](_0x5d8f8c(0x113),_0x18a76e),loggerService_1[_0x5d8f8c(0x118)][_0x5d8f8c(0x120)](_0x5d8f8c(0x115),_0x18a76e,_0xcde346[_0x5d8f8c(0x144)]),_0x23e197[_0x5d8f8c(0x116)](0xc8)[_0x5d8f8c(0x126)]({'success':![],'message':_0x18a76e instanceof Error?_0x18a76e[_0x5d8f8c(0x14a)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0xa3ee27(0x145)]=async(_0x4a3edf,_0x462df6,_0x6073f2)=>{const _0x3a6401=_0xa3ee27;try{console['log'](_0x3a6401(0x127),_0x4a3edf['body']),loggerService_1[_0x3a6401(0x118)][_0x3a6401(0x117)](_0x3a6401(0x11f),_0x4a3edf[_0x3a6401(0x144)],_0x4a3edf['headers']);const _0xc1677b=await this[_0x3a6401(0x147)][_0x3a6401(0x12d)](_0x4a3edf[_0x3a6401(0x144)]);_0x462df6['status'](0xc8)[_0x3a6401(0x126)]({'success':!![],'message':_0x3a6401(0x142)});}catch(_0x55750d){console['error'](_0x3a6401(0x133),_0x55750d),loggerService_1[_0x3a6401(0x118)][_0x3a6401(0x120)](_0x3a6401(0x11f),_0x55750d,_0x4a3edf[_0x3a6401(0x144)]),_0x462df6[_0x3a6401(0x116)](0xc8)[_0x3a6401(0x126)]({'success':![],'message':_0x55750d instanceof Error?_0x55750d[_0x3a6401(0x14a)]:_0x3a6401(0x128)});}},this[_0xa3ee27(0x110)]=async(_0x35e859,_0x59474b,_0x23ba4d)=>{const _0x350165=_0xa3ee27;try{console[_0x350165(0x12e)](_0x350165(0x14c),_0x35e859[_0x350165(0x144)]),loggerService_1[_0x350165(0x118)][_0x350165(0x117)](_0x350165(0x124),_0x35e859[_0x350165(0x144)],_0x35e859['headers']);const _0x52dab6=await this[_0x350165(0x147)][_0x350165(0x12c)](_0x35e859[_0x350165(0x144)]);_0x59474b[_0x350165(0x116)](0xc8)[_0x350165(0x126)]({'success':!![],'message':_0x350165(0x13b)});}catch(_0x30ffd6){console['error'](_0x350165(0x132),_0x30ffd6),loggerService_1[_0x350165(0x118)][_0x350165(0x120)](_0x350165(0x124),_0x30ffd6,_0x35e859['body']),_0x59474b['status'](0xc8)['json']({'success':![],'message':_0x30ffd6 instanceof Error?_0x30ffd6[_0x350165(0x14a)]:_0x350165(0x13c)});}},this[_0xa3ee27(0x135)]=async(_0x1d9de1,_0x5cdfcb,_0xd37b30)=>{const _0x20847a=_0xa3ee27;try{console[_0x20847a(0x12e)](_0x20847a(0x153),_0x1d9de1[_0x20847a(0x144)]),loggerService_1[_0x20847a(0x118)][_0x20847a(0x117)](_0x20847a(0x14d),_0x1d9de1[_0x20847a(0x144)],_0x1d9de1[_0x20847a(0x130)]);const _0x43538f=await this[_0x20847a(0x147)]['processCoinToPay2Webhook'](_0x1d9de1[_0x20847a(0x144)]);_0x5cdfcb[_0x20847a(0x116)](0xc8)[_0x20847a(0x126)]({'success':!![],'message':_0x20847a(0x12b)});}catch(_0x30ddd7){console[_0x20847a(0x146)]('CoinToPay2\x20webhook\x20processing\x20error:',_0x30ddd7),loggerService_1['loggerService']['logWebhookError'](_0x20847a(0x14d),_0x30ddd7,_0x1d9de1[_0x20847a(0x144)]),_0x5cdfcb[_0x20847a(0x116)](0xc8)[_0x20847a(0x126)]({'success':![],'message':_0x30ddd7 instanceof Error?_0x30ddd7['message']:_0x20847a(0x123)});}},this['handleKlymeWebhook']=async(_0x2640ab,_0x16956f,_0x553e50)=>{const _0x481e99=_0xa3ee27;try{console[_0x481e99(0x12e)]('Received\x20KLYME\x20webhook:',_0x2640ab['body']),loggerService_1[_0x481e99(0x118)]['logWebhookReceived']('klyme',_0x2640ab[_0x481e99(0x144)],_0x2640ab[_0x481e99(0x130)]);const _0x2a260d=await this[_0x481e99(0x147)]['processKlymeWebhook'](_0x2640ab[_0x481e99(0x144)]);_0x16956f[_0x481e99(0x116)](0xc8)['json']({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x561aae){console['error'](_0x481e99(0x10c),_0x561aae),loggerService_1[_0x481e99(0x118)][_0x481e99(0x120)](_0x481e99(0x148),_0x561aae,_0x2640ab[_0x481e99(0x144)]),_0x16956f[_0x481e99(0x116)](0xc8)['json']({'success':![],'message':_0x561aae instanceof Error?_0x561aae[_0x481e99(0x14a)]:_0x481e99(0x11c)});}},this['handleMasterCardWebhook']=async(_0x2a41aa,_0x203b59,_0x331b4b)=>{const _0x12f599=_0xa3ee27;try{console[_0x12f599(0x12e)](_0x12f599(0x136),_0x2a41aa[_0x12f599(0x144)]),loggerService_1[_0x12f599(0x118)][_0x12f599(0x117)](_0x12f599(0x111),_0x2a41aa[_0x12f599(0x144)],_0x2a41aa[_0x12f599(0x130)]);const _0x234636=await this['webhookService']['processMasterCardWebhook'](_0x2a41aa[_0x12f599(0x144)]);_0x203b59[_0x12f599(0x116)](0xc8)[_0x12f599(0x126)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0xb326e5){console['error'](_0x12f599(0x13e),_0xb326e5),loggerService_1['loggerService']['logWebhookError'](_0x12f599(0x111),_0xb326e5,_0x2a41aa['body']),_0x203b59[_0x12f599(0x116)](0xc8)[_0x12f599(0x126)]({'success':![],'message':_0xb326e5 instanceof Error?_0xb326e5[_0x12f599(0x14a)]:_0x12f599(0x129)});}},this[_0xa3ee27(0x147)]=new webhookService_1['WebhookService']();}}exports[a15_0x3872e1(0x151)]=WebhookController;