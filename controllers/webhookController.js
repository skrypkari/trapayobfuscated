'use strict';function a15_0x4a9e(){const _0x31f388=['243162HFosoi','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','plisio','body','Gateway\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','get','handleNodaWebhook','3782982hDJopD','125797UMPoLm','CoinToPay2\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processed\x20successfully','processMasterCardWebhook','87225WALfvg','webhookService','6iGLBGc','handleMasterCardWebhook','KLYME\x20webhook\x20processing\x20error:','1387239NFjcGR','Content-Type:','handlePlisioWebhook','136APNsVr','processAmerWebhook','handleCoinToPay2Webhook','CoinToPay\x20webhook\x20processing\x20error:','processNodaWebhook','logWebhookError','error','WebhookController','40xSUtIW','rapyd','WebhookService','Rapyd\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20failed','cointopay2','Amer\x20webhook\x20processed\x20successfully','1145WQMaHu','MasterCard\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20failed','Received\x20MasterCard\x20webhook:','loggerService','handleCoinToPayWebhook','processCoinToPayWebhook','../services/loggerService','Body\x20content:','CoinToPay2\x20webhook\x20processing\x20failed','mastercard','Gateway\x20webhook\x20processed\x20successfully','processPlisioGatewayWebhook','log','Body\x20keys:','Noda\x20webhook\x20processed\x20successfully','processCoinToPay2Webhook','cointopay','amer','Received\x20CoinToPay\x20webhook:','Noda\x20webhook\x20processing\x20failed','noda','4177107dfjVyL','processKlymeWebhook','logWebhookReceived','json','message','Webhook\x20processing\x20failed','Received\x20CoinToPay2\x20webhook:','handleAmerWebhook','headers','CoinToPay\x20webhook\x20processed\x20successfully','../services/webhookService','MasterCard\x20webhook\x20processing\x20error:','Amer\x20webhook\x20processing\x20failed','status','12508hKLFDL','processRapydWebhook','Received\x20Amer\x20webhook:','CoinToPay2\x20webhook\x20processed\x20successfully'];a15_0x4a9e=function(){return _0x31f388;};return a15_0x4a9e();}const a15_0x295844=a15_0xdc76;(function(_0x4c6ca6,_0x5d66c8){const _0x419b77=a15_0xdc76,_0xe0cfcc=_0x4c6ca6();while(!![]){try{const _0x14fd7f=-parseInt(_0x419b77(0xd4))/0x1*(parseInt(_0x419b77(0xd6))/0x2)+parseInt(_0x419b77(0xd9))/0x3+parseInt(_0x419b77(0xc3))/0x4*(parseInt(_0x419b77(0xeb))/0x5)+parseInt(_0x419b77(0xcf))/0x6+-parseInt(_0x419b77(0xd0))/0x7*(-parseInt(_0x419b77(0xdc))/0x8)+parseInt(_0x419b77(0xc7))/0x9+parseInt(_0x419b77(0xe4))/0xa*(-parseInt(_0x419b77(0xb5))/0xb);if(_0x14fd7f===_0x5d66c8)break;else _0xe0cfcc['push'](_0xe0cfcc['shift']());}catch(_0x2cb534){_0xe0cfcc['push'](_0xe0cfcc['shift']());}}}(a15_0x4a9e,0x581bf));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a15_0x295844(0xe3)]=void 0x0;const webhookService_1=require(a15_0x295844(0xbf)),loggerService_1=require(a15_0x295844(0xa6));function a15_0xdc76(_0x1542da,_0x3356b3){const _0x4a9eb2=a15_0x4a9e();return a15_0xdc76=function(_0xdc765c,_0x163b40){_0xdc765c=_0xdc765c-0xa6;let _0x413b37=_0x4a9eb2[_0xdc765c];return _0x413b37;},a15_0xdc76(_0x1542da,_0x3356b3);}class WebhookController{constructor(){const _0x3237c9=a15_0x295844;this[_0x3237c9(0xdb)]=async(_0x3ba290,_0x4a4c32,_0x4b1692)=>{const _0x21c5f2=_0x3237c9;try{console[_0x21c5f2(0xac)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x21c5f2(0xac)]('Content-Type:',_0x3ba290['get']('Content-Type')),console[_0x21c5f2(0xac)]('Raw\x20body\x20type:',typeof _0x3ba290[_0x21c5f2(0xca)]),console[_0x21c5f2(0xac)](_0x21c5f2(0xad),Object['keys'](_0x3ba290['body']||{})),console[_0x21c5f2(0xac)](_0x21c5f2(0xa7),_0x3ba290['body']),loggerService_1[_0x21c5f2(0xef)]['logWebhookReceived'](_0x21c5f2(0xc9),_0x3ba290[_0x21c5f2(0xca)],_0x3ba290[_0x21c5f2(0xbd)]);const _0x2d2acd=await this[_0x21c5f2(0xd5)]['processPlisioWebhook'](_0x3ba290[_0x21c5f2(0xca)]);_0x4a4c32[_0x21c5f2(0xc2)](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x31166d){console[_0x21c5f2(0xe2)]('Webhook\x20processing\x20error:',_0x31166d),loggerService_1[_0x21c5f2(0xef)][_0x21c5f2(0xe1)](_0x21c5f2(0xc9),_0x31166d,_0x3ba290['body']),_0x4a4c32['status'](0xc8)[_0x21c5f2(0xb8)]({'success':![],'message':_0x31166d instanceof Error?_0x31166d[_0x21c5f2(0xb9)]:_0x21c5f2(0xba)});}},this['handlePlisioGatewayWebhook']=async(_0x572665,_0x10dd01,_0x15154b)=>{const _0x4acee5=_0x3237c9;try{console[_0x4acee5(0xac)](_0x4acee5(0xc8)),console['log'](_0x4acee5(0xda),_0x572665[_0x4acee5(0xcd)]('Content-Type')),console[_0x4acee5(0xac)]('Raw\x20body\x20type:',typeof _0x572665[_0x4acee5(0xca)]),console[_0x4acee5(0xac)](_0x4acee5(0xad),Object['keys'](_0x572665['body']||{})),console[_0x4acee5(0xac)](_0x4acee5(0xa7),_0x572665[_0x4acee5(0xca)]),loggerService_1[_0x4acee5(0xef)][_0x4acee5(0xb7)]('plisio_gateway',_0x572665[_0x4acee5(0xca)],_0x572665['headers']);const _0x28d837=await this[_0x4acee5(0xd5)][_0x4acee5(0xab)](_0x572665['body']);_0x10dd01[_0x4acee5(0xc2)](0xc8)[_0x4acee5(0xb8)]({'success':!![],'message':_0x4acee5(0xaa)});}catch(_0x4bd3ba){console[_0x4acee5(0xe2)](_0x4acee5(0xcb),_0x4bd3ba),loggerService_1[_0x4acee5(0xef)][_0x4acee5(0xe1)]('plisio_gateway',_0x4bd3ba,_0x572665[_0x4acee5(0xca)]),_0x10dd01[_0x4acee5(0xc2)](0xc8)[_0x4acee5(0xb8)]({'success':![],'message':_0x4bd3ba instanceof Error?_0x4bd3ba['message']:_0x4acee5(0xed)});}},this['handleRapydWebhook']=async(_0x181058,_0x5e562d,_0x2cc404)=>{const _0x310184=_0x3237c9;try{console[_0x310184(0xac)]('Received\x20Rapyd\x20webhook:',_0x181058[_0x310184(0xca)]),loggerService_1['loggerService'][_0x310184(0xb7)](_0x310184(0xe5),_0x181058[_0x310184(0xca)],_0x181058[_0x310184(0xbd)]);const _0x21bbfe=await this[_0x310184(0xd5)][_0x310184(0xc4)](_0x181058[_0x310184(0xca)]);_0x5e562d['status'](0xc8)[_0x310184(0xb8)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x1ba46b){console[_0x310184(0xe2)]('Rapyd\x20webhook\x20processing\x20error:',_0x1ba46b),loggerService_1[_0x310184(0xef)]['logWebhookError']('rapyd',_0x1ba46b,_0x181058[_0x310184(0xca)]),_0x5e562d['status'](0xc8)[_0x310184(0xb8)]({'success':![],'message':_0x1ba46b instanceof Error?_0x1ba46b['message']:_0x310184(0xe7)});}},this[_0x3237c9(0xce)]=async(_0x331b68,_0x438c06,_0x33613a)=>{const _0x5597fa=_0x3237c9;try{console[_0x5597fa(0xac)]('Received\x20Noda\x20webhook:',_0x331b68[_0x5597fa(0xca)]),loggerService_1[_0x5597fa(0xef)][_0x5597fa(0xb7)](_0x5597fa(0xb4),_0x331b68[_0x5597fa(0xca)],_0x331b68[_0x5597fa(0xbd)]);const _0x38f76a=await this['webhookService'][_0x5597fa(0xe0)](_0x331b68[_0x5597fa(0xca)]);_0x438c06[_0x5597fa(0xc2)](0xc8)[_0x5597fa(0xb8)]({'success':!![],'message':_0x5597fa(0xae)});}catch(_0x97626d){console['error']('Noda\x20webhook\x20processing\x20error:',_0x97626d),loggerService_1['loggerService'][_0x5597fa(0xe1)]('noda',_0x97626d,_0x331b68[_0x5597fa(0xca)]),_0x438c06[_0x5597fa(0xc2)](0xc8)[_0x5597fa(0xb8)]({'success':![],'message':_0x97626d instanceof Error?_0x97626d['message']:_0x5597fa(0xb3)});}},this[_0x3237c9(0xf0)]=async(_0x567cc1,_0xe2ffcf,_0x35b47d)=>{const _0x3c7448=_0x3237c9;try{console[_0x3c7448(0xac)](_0x3c7448(0xb2),_0x567cc1['body']),loggerService_1['loggerService'][_0x3c7448(0xb7)](_0x3c7448(0xb0),_0x567cc1[_0x3c7448(0xca)],_0x567cc1[_0x3c7448(0xbd)]);const _0x3179c3=await this[_0x3c7448(0xd5)][_0x3c7448(0xf1)](_0x567cc1[_0x3c7448(0xca)]);_0xe2ffcf[_0x3c7448(0xc2)](0xc8)[_0x3c7448(0xb8)]({'success':!![],'message':_0x3c7448(0xbe)});}catch(_0x449c21){console['error'](_0x3c7448(0xdf),_0x449c21),loggerService_1[_0x3c7448(0xef)]['logWebhookError'](_0x3c7448(0xb0),_0x449c21,_0x567cc1['body']),_0xe2ffcf[_0x3c7448(0xc2)](0xc8)[_0x3c7448(0xb8)]({'success':![],'message':_0x449c21 instanceof Error?_0x449c21['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x3237c9(0xde)]=async(_0x4eac1d,_0x5385cf,_0x301b86)=>{const _0x381dc5=_0x3237c9;try{console['log'](_0x381dc5(0xbb),_0x4eac1d['body']),loggerService_1['loggerService'][_0x381dc5(0xb7)](_0x381dc5(0xe9),_0x4eac1d[_0x381dc5(0xca)],_0x4eac1d[_0x381dc5(0xbd)]);const _0x10779e=await this[_0x381dc5(0xd5)][_0x381dc5(0xaf)](_0x4eac1d[_0x381dc5(0xca)]);_0x5385cf['status'](0xc8)['json']({'success':!![],'message':_0x381dc5(0xc6)});}catch(_0x19be4e){console[_0x381dc5(0xe2)](_0x381dc5(0xd1),_0x19be4e),loggerService_1[_0x381dc5(0xef)][_0x381dc5(0xe1)](_0x381dc5(0xe9),_0x19be4e,_0x4eac1d[_0x381dc5(0xca)]),_0x5385cf[_0x381dc5(0xc2)](0xc8)[_0x381dc5(0xb8)]({'success':![],'message':_0x19be4e instanceof Error?_0x19be4e[_0x381dc5(0xb9)]:_0x381dc5(0xa8)});}},this['handleKlymeWebhook']=async(_0x5fb0f7,_0x23bae8,_0x29b9be)=>{const _0x4e057c=_0x3237c9;try{console[_0x4e057c(0xac)]('Received\x20KLYME\x20webhook:',_0x5fb0f7[_0x4e057c(0xca)]),loggerService_1[_0x4e057c(0xef)][_0x4e057c(0xb7)]('klyme',_0x5fb0f7['body'],_0x5fb0f7[_0x4e057c(0xbd)]);const _0x4fd034=await this[_0x4e057c(0xd5)][_0x4e057c(0xb6)](_0x5fb0f7[_0x4e057c(0xca)]);_0x23bae8['status'](0xc8)['json']({'success':!![],'message':_0x4e057c(0xd2)});}catch(_0x590725){console['error'](_0x4e057c(0xd8),_0x590725),loggerService_1[_0x4e057c(0xef)][_0x4e057c(0xe1)]('klyme',_0x590725,_0x5fb0f7[_0x4e057c(0xca)]),_0x23bae8[_0x4e057c(0xc2)](0xc8)['json']({'success':![],'message':_0x590725 instanceof Error?_0x590725[_0x4e057c(0xb9)]:_0x4e057c(0xe8)});}},this[_0x3237c9(0xd7)]=async(_0x31131d,_0x7905a9,_0x1794af)=>{const _0x4edb9c=_0x3237c9;try{console[_0x4edb9c(0xac)](_0x4edb9c(0xee),_0x31131d[_0x4edb9c(0xca)]),loggerService_1[_0x4edb9c(0xef)]['logWebhookReceived'](_0x4edb9c(0xa9),_0x31131d[_0x4edb9c(0xca)],_0x31131d[_0x4edb9c(0xbd)]);const _0x421787=await this[_0x4edb9c(0xd5)][_0x4edb9c(0xd3)](_0x31131d[_0x4edb9c(0xca)]);_0x7905a9['status'](0xc8)[_0x4edb9c(0xb8)]({'success':!![],'message':_0x4edb9c(0xcc)});}catch(_0x1feb51){console[_0x4edb9c(0xe2)](_0x4edb9c(0xc0),_0x1feb51),loggerService_1[_0x4edb9c(0xef)][_0x4edb9c(0xe1)](_0x4edb9c(0xa9),_0x1feb51,_0x31131d['body']),_0x7905a9[_0x4edb9c(0xc2)](0xc8)[_0x4edb9c(0xb8)]({'success':![],'message':_0x1feb51 instanceof Error?_0x1feb51['message']:_0x4edb9c(0xec)});}},this[_0x3237c9(0xbc)]=async(_0x22ac9a,_0xcc4d41,_0x19fe55)=>{const _0x399448=_0x3237c9;try{console[_0x399448(0xac)](_0x399448(0xc5),_0x22ac9a[_0x399448(0xca)]),loggerService_1['loggerService']['logWebhookReceived']('amer',_0x22ac9a[_0x399448(0xca)],_0x22ac9a[_0x399448(0xbd)]);const _0x360eba=await this[_0x399448(0xd5)][_0x399448(0xdd)](_0x22ac9a[_0x399448(0xca)]);_0xcc4d41[_0x399448(0xc2)](0xc8)[_0x399448(0xb8)]({'success':!![],'message':_0x399448(0xea)});}catch(_0x3c79c7){console['error']('Amer\x20webhook\x20processing\x20error:',_0x3c79c7),loggerService_1[_0x399448(0xef)][_0x399448(0xe1)](_0x399448(0xb1),_0x3c79c7,_0x22ac9a['body']),_0xcc4d41[_0x399448(0xc2)](0xc8)[_0x399448(0xb8)]({'success':![],'message':_0x3c79c7 instanceof Error?_0x3c79c7[_0x399448(0xb9)]:_0x399448(0xc1)});}},this['webhookService']=new webhookService_1[(_0x3237c9(0xe6))]();}}exports[a15_0x295844(0xe3)]=WebhookController;