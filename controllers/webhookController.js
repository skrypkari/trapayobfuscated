'use strict';const a15_0x1d6dde=a15_0x4d2c;(function(_0xedb561,_0x3a3124){const _0x3701e8=a15_0x4d2c,_0x2fef08=_0xedb561();while(!![]){try{const _0x10f153=parseInt(_0x3701e8(0x1c9))/0x1+-parseInt(_0x3701e8(0x1e9))/0x2*(parseInt(_0x3701e8(0x1e2))/0x3)+parseInt(_0x3701e8(0x1ce))/0x4+-parseInt(_0x3701e8(0x1d7))/0x5*(-parseInt(_0x3701e8(0x1d1))/0x6)+parseInt(_0x3701e8(0x1cc))/0x7*(parseInt(_0x3701e8(0x1ff))/0x8)+-parseInt(_0x3701e8(0x1f2))/0x9+-parseInt(_0x3701e8(0x1eb))/0xa;if(_0x10f153===_0x3a3124)break;else _0x2fef08['push'](_0x2fef08['shift']());}catch(_0x45ed10){_0x2fef08['push'](_0x2fef08['shift']());}}}(a15_0x4b7c,0x7c2fa));function a15_0x4b7c(){const _0x3563db=['plisio','327QQxHvI','Rapyd\x20webhook\x20processing\x20error:','handlePlisioGatewayWebhook','get','Body\x20content:','Webhook\x20processing\x20failed','WebhookService','4358UbgGKt','logWebhookReceived','1356760HyXeJx','../services/webhookService','CoinToPay\x20webhook\x20processing\x20failed','noda','Gateway\x20webhook\x20processing\x20failed','webhookService','body','8459712bexBbl','processNodaWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','handleCoinToPayWebhook','__esModule','Webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processed\x20successfully','Raw\x20body\x20type:','log','Received\x20MasterCard\x20webhook:','mastercard','rapyd','MasterCard\x20webhook\x20processing\x20failed','336952FTzaVB','Webhook\x20processing\x20error:','Received\x20Noda\x20webhook:','Gateway\x20webhook\x20processing\x20error:','handleRapydWebhook','KLYME\x20webhook\x20processed\x20successfully','message','processPlisioWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','cointopay','MasterCard\x20webhook\x20processing\x20error:','Received\x20Rapyd\x20webhook:','handleNodaWebhook','status','processMasterCardWebhook','Received\x20KLYME\x20webhook:','Noda\x20webhook\x20processing\x20failed','klyme','plisio_gateway','Noda\x20webhook\x20processing\x20error:','error','885548KndHor','MasterCard\x20webhook\x20processed\x20successfully','processRapydWebhook','70UIszUI','Body\x20keys:','1362968YgpmOM','handleMasterCardWebhook','processPlisioGatewayWebhook','1046046aqmAbJ','Content-Type:','WebhookController','Noda\x20webhook\x20processed\x20successfully','headers','keys','5SlRMRt','handleKlymeWebhook','Content-Type','loggerService','handlePlisioWebhook','logWebhookError','json','Gateway\x20webhook\x20processed\x20successfully','processCoinToPayWebhook','CoinToPay\x20webhook\x20processing\x20error:'];a15_0x4b7c=function(){return _0x3563db;};return a15_0x4b7c();}Object['defineProperty'](exports,a15_0x1d6dde(0x1f6),{'value':!![]}),exports[a15_0x1d6dde(0x1d3)]=void 0x0;function a15_0x4d2c(_0x162f39,_0x33af99){const _0x4b7c8e=a15_0x4b7c();return a15_0x4d2c=function(_0x4d2c44,_0x2778c4){_0x4d2c44=_0x4d2c44-0x1b8;let _0x5d2d3a=_0x4b7c8e[_0x4d2c44];return _0x5d2d3a;},a15_0x4d2c(_0x162f39,_0x33af99);}const webhookService_1=require(a15_0x1d6dde(0x1ec)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x34f28d=a15_0x1d6dde;this[_0x34f28d(0x1db)]=async(_0x3e01a4,_0x3e0ea2,_0x468eae)=>{const _0x369398=_0x34f28d;try{console[_0x369398(0x1fa)](_0x369398(0x1bc)),console['log'](_0x369398(0x1d2),_0x3e01a4['get'](_0x369398(0x1d9))),console[_0x369398(0x1fa)](_0x369398(0x1f9),typeof _0x3e01a4[_0x369398(0x1f1)]),console[_0x369398(0x1fa)](_0x369398(0x1cd),Object[_0x369398(0x1d6)](_0x3e01a4['body']||{})),console['log'](_0x369398(0x1e6),_0x3e01a4[_0x369398(0x1f1)]),loggerService_1['loggerService'][_0x369398(0x1ea)](_0x369398(0x1e1),_0x3e01a4['body'],_0x3e01a4[_0x369398(0x1d5)]);const _0x3e285e=await this['webhookService'][_0x369398(0x1bb)](_0x3e01a4[_0x369398(0x1f1)]);_0x3e0ea2['status'](0xc8)[_0x369398(0x1dd)]({'success':!![],'message':_0x369398(0x1f7)});}catch(_0x10367d){console[_0x369398(0x1c8)](_0x369398(0x200),_0x10367d),loggerService_1[_0x369398(0x1da)][_0x369398(0x1dc)](_0x369398(0x1e1),_0x10367d,_0x3e01a4['body']),_0x3e0ea2[_0x369398(0x1c1)](0xc8)[_0x369398(0x1dd)]({'success':![],'message':_0x10367d instanceof Error?_0x10367d['message']:_0x369398(0x1e7)});}},this[_0x34f28d(0x1e4)]=async(_0x4de93b,_0x14bb7d,_0x36473a)=>{const _0x4284d4=_0x34f28d;try{console[_0x4284d4(0x1fa)](_0x4284d4(0x1f4)),console[_0x4284d4(0x1fa)](_0x4284d4(0x1d2),_0x4de93b[_0x4284d4(0x1e5)](_0x4284d4(0x1d9))),console[_0x4284d4(0x1fa)]('Raw\x20body\x20type:',typeof _0x4de93b[_0x4284d4(0x1f1)]),console[_0x4284d4(0x1fa)]('Body\x20keys:',Object[_0x4284d4(0x1d6)](_0x4de93b[_0x4284d4(0x1f1)]||{})),console['log']('Body\x20content:',_0x4de93b[_0x4284d4(0x1f1)]),loggerService_1['loggerService'][_0x4284d4(0x1ea)](_0x4284d4(0x1c6),_0x4de93b[_0x4284d4(0x1f1)],_0x4de93b[_0x4284d4(0x1d5)]);const _0x360f27=await this[_0x4284d4(0x1f0)][_0x4284d4(0x1d0)](_0x4de93b[_0x4284d4(0x1f1)]);_0x14bb7d[_0x4284d4(0x1c1)](0xc8)[_0x4284d4(0x1dd)]({'success':!![],'message':_0x4284d4(0x1de)});}catch(_0x4c5531){console['error'](_0x4284d4(0x202),_0x4c5531),loggerService_1[_0x4284d4(0x1da)][_0x4284d4(0x1dc)](_0x4284d4(0x1c6),_0x4c5531,_0x4de93b[_0x4284d4(0x1f1)]),_0x14bb7d[_0x4284d4(0x1c1)](0xc8)[_0x4284d4(0x1dd)]({'success':![],'message':_0x4c5531 instanceof Error?_0x4c5531[_0x4284d4(0x1ba)]:_0x4284d4(0x1ef)});}},this[_0x34f28d(0x1b8)]=async(_0x451f41,_0x409063,_0x3a0839)=>{const _0x2e9c6c=_0x34f28d;try{console[_0x2e9c6c(0x1fa)](_0x2e9c6c(0x1bf),_0x451f41[_0x2e9c6c(0x1f1)]),loggerService_1[_0x2e9c6c(0x1da)][_0x2e9c6c(0x1ea)](_0x2e9c6c(0x1fd),_0x451f41[_0x2e9c6c(0x1f1)],_0x451f41['headers']);const _0x40670e=await this[_0x2e9c6c(0x1f0)][_0x2e9c6c(0x1cb)](_0x451f41[_0x2e9c6c(0x1f1)]);_0x409063[_0x2e9c6c(0x1c1)](0xc8)['json']({'success':!![],'message':_0x2e9c6c(0x1f8)});}catch(_0x2a1839){console[_0x2e9c6c(0x1c8)](_0x2e9c6c(0x1e3),_0x2a1839),loggerService_1[_0x2e9c6c(0x1da)][_0x2e9c6c(0x1dc)](_0x2e9c6c(0x1fd),_0x2a1839,_0x451f41['body']),_0x409063[_0x2e9c6c(0x1c1)](0xc8)[_0x2e9c6c(0x1dd)]({'success':![],'message':_0x2a1839 instanceof Error?_0x2a1839[_0x2e9c6c(0x1ba)]:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x34f28d(0x1c0)]=async(_0x4f5260,_0xd32878,_0x26aff8)=>{const _0x451f65=_0x34f28d;try{console[_0x451f65(0x1fa)](_0x451f65(0x201),_0x4f5260['body']),loggerService_1[_0x451f65(0x1da)][_0x451f65(0x1ea)]('noda',_0x4f5260['body'],_0x4f5260[_0x451f65(0x1d5)]);const _0x4eebcf=await this[_0x451f65(0x1f0)][_0x451f65(0x1f3)](_0x4f5260['body']);_0xd32878[_0x451f65(0x1c1)](0xc8)[_0x451f65(0x1dd)]({'success':!![],'message':_0x451f65(0x1d4)});}catch(_0x362dfd){console[_0x451f65(0x1c8)](_0x451f65(0x1c7),_0x362dfd),loggerService_1[_0x451f65(0x1da)][_0x451f65(0x1dc)](_0x451f65(0x1ee),_0x362dfd,_0x4f5260['body']),_0xd32878[_0x451f65(0x1c1)](0xc8)['json']({'success':![],'message':_0x362dfd instanceof Error?_0x362dfd['message']:_0x451f65(0x1c4)});}},this[_0x34f28d(0x1f5)]=async(_0x3049f4,_0x106368,_0x583f35)=>{const _0x82ec99=_0x34f28d;try{console[_0x82ec99(0x1fa)]('Received\x20CoinToPay\x20webhook:',_0x3049f4['body']),loggerService_1['loggerService'][_0x82ec99(0x1ea)](_0x82ec99(0x1bd),_0x3049f4[_0x82ec99(0x1f1)],_0x3049f4['headers']);const _0x5c835b=await this[_0x82ec99(0x1f0)][_0x82ec99(0x1df)](_0x3049f4[_0x82ec99(0x1f1)]);_0x106368[_0x82ec99(0x1c1)](0xc8)[_0x82ec99(0x1dd)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x460773){console[_0x82ec99(0x1c8)](_0x82ec99(0x1e0),_0x460773),loggerService_1[_0x82ec99(0x1da)][_0x82ec99(0x1dc)](_0x82ec99(0x1bd),_0x460773,_0x3049f4['body']),_0x106368[_0x82ec99(0x1c1)](0xc8)['json']({'success':![],'message':_0x460773 instanceof Error?_0x460773[_0x82ec99(0x1ba)]:_0x82ec99(0x1ed)});}},this[_0x34f28d(0x1d8)]=async(_0x3057a8,_0x21c228,_0x2c6e14)=>{const _0x3773bc=_0x34f28d;try{console[_0x3773bc(0x1fa)](_0x3773bc(0x1c3),_0x3057a8['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x3773bc(0x1c5),_0x3057a8['body'],_0x3057a8['headers']);const _0x561e12=await this['webhookService']['processKlymeWebhook'](_0x3057a8[_0x3773bc(0x1f1)]);_0x21c228['status'](0xc8)[_0x3773bc(0x1dd)]({'success':!![],'message':_0x3773bc(0x1b9)});}catch(_0x26f252){console[_0x3773bc(0x1c8)]('KLYME\x20webhook\x20processing\x20error:',_0x26f252),loggerService_1['loggerService']['logWebhookError']('klyme',_0x26f252,_0x3057a8[_0x3773bc(0x1f1)]),_0x21c228[_0x3773bc(0x1c1)](0xc8)[_0x3773bc(0x1dd)]({'success':![],'message':_0x26f252 instanceof Error?_0x26f252[_0x3773bc(0x1ba)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x34f28d(0x1cf)]=async(_0xf901ba,_0x20a116,_0x49ba40)=>{const _0x5af04a=_0x34f28d;try{console['log'](_0x5af04a(0x1fb),_0xf901ba[_0x5af04a(0x1f1)]),loggerService_1[_0x5af04a(0x1da)][_0x5af04a(0x1ea)](_0x5af04a(0x1fc),_0xf901ba[_0x5af04a(0x1f1)],_0xf901ba[_0x5af04a(0x1d5)]);const _0x534ebb=await this[_0x5af04a(0x1f0)][_0x5af04a(0x1c2)](_0xf901ba['body']);_0x20a116[_0x5af04a(0x1c1)](0xc8)[_0x5af04a(0x1dd)]({'success':!![],'message':_0x5af04a(0x1ca)});}catch(_0x6c8724){console['error'](_0x5af04a(0x1be),_0x6c8724),loggerService_1[_0x5af04a(0x1da)]['logWebhookError'](_0x5af04a(0x1fc),_0x6c8724,_0xf901ba['body']),_0x20a116[_0x5af04a(0x1c1)](0xc8)[_0x5af04a(0x1dd)]({'success':![],'message':_0x6c8724 instanceof Error?_0x6c8724[_0x5af04a(0x1ba)]:_0x5af04a(0x1fe)});}},this[_0x34f28d(0x1f0)]=new webhookService_1[(_0x34f28d(0x1e8))]();}}exports['WebhookController']=WebhookController;