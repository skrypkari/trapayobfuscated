'use strict';const a15_0x1c8c8e=a15_0x47af;(function(_0x185607,_0x57c4fe){const _0x23e425=a15_0x47af,_0x71b933=_0x185607();while(!![]){try{const _0x39077e=-parseInt(_0x23e425(0xfd))/0x1*(parseInt(_0x23e425(0x112))/0x2)+-parseInt(_0x23e425(0xfb))/0x3+parseInt(_0x23e425(0x10a))/0x4+-parseInt(_0x23e425(0xe5))/0x5+parseInt(_0x23e425(0xed))/0x6+parseInt(_0x23e425(0x115))/0x7*(-parseInt(_0x23e425(0x106))/0x8)+parseInt(_0x23e425(0xe0))/0x9*(parseInt(_0x23e425(0x101))/0xa);if(_0x39077e===_0x57c4fe)break;else _0x71b933['push'](_0x71b933['shift']());}catch(_0x2b1fab){_0x71b933['push'](_0x71b933['shift']());}}}(a15_0x81ca,0xbf1a5));Object['defineProperty'](exports,a15_0x1c8c8e(0x116),{'value':!![]}),exports[a15_0x1c8c8e(0x10f)]=void 0x0;function a15_0x47af(_0x417497,_0xadda72){const _0x81ca9b=a15_0x81ca();return a15_0x47af=function(_0x47afe0,_0x2bffd8){_0x47afe0=_0x47afe0-0xd7;let _0x6a3318=_0x81ca9b[_0x47afe0];return _0x6a3318;},a15_0x47af(_0x417497,_0xadda72);}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x1c8c8e(0xf6));class WebhookController{constructor(){const _0x1ea4a0=a15_0x1c8c8e;this[_0x1ea4a0(0x11a)]=async(_0x4bbb85,_0x2fe10c,_0x4e2a0e)=>{const _0x4fb445=_0x1ea4a0;try{console['log'](_0x4fb445(0xe7)),console['log'](_0x4fb445(0xeb),_0x4bbb85[_0x4fb445(0xe8)](_0x4fb445(0xf1))),console['log'](_0x4fb445(0xe6),typeof _0x4bbb85[_0x4fb445(0x102)]),console[_0x4fb445(0x11c)](_0x4fb445(0xd7),Object['keys'](_0x4bbb85[_0x4fb445(0x102)]||{})),console[_0x4fb445(0x11c)]('Body\x20content:',_0x4bbb85[_0x4fb445(0x102)]),loggerService_1['loggerService'][_0x4fb445(0xf8)]('plisio',_0x4bbb85[_0x4fb445(0x102)],_0x4bbb85[_0x4fb445(0xea)]);const _0x5e7242=await this['webhookService']['processPlisioWebhook'](_0x4bbb85[_0x4fb445(0x102)]);_0x2fe10c['status'](0xc8)[_0x4fb445(0x10e)]({'success':!![],'message':_0x4fb445(0xfa)});}catch(_0x8ba5b2){console['error']('Webhook\x20processing\x20error:',_0x8ba5b2),loggerService_1['loggerService'][_0x4fb445(0xe1)](_0x4fb445(0x104),_0x8ba5b2,_0x4bbb85[_0x4fb445(0x102)]),_0x2fe10c[_0x4fb445(0xdf)](0xc8)[_0x4fb445(0x10e)]({'success':![],'message':_0x8ba5b2 instanceof Error?_0x8ba5b2[_0x4fb445(0x103)]:'Webhook\x20processing\x20failed'});}},this[_0x1ea4a0(0xfe)]=async(_0x536823,_0x381a41,_0x1270ec)=>{const _0x18fed2=_0x1ea4a0;try{console[_0x18fed2(0x11c)](_0x18fed2(0x107)),console[_0x18fed2(0x11c)]('Content-Type:',_0x536823[_0x18fed2(0xe8)]('Content-Type')),console[_0x18fed2(0x11c)](_0x18fed2(0xe6),typeof _0x536823[_0x18fed2(0x102)]),console[_0x18fed2(0x11c)](_0x18fed2(0xd7),Object['keys'](_0x536823['body']||{})),console[_0x18fed2(0x11c)](_0x18fed2(0xf7),_0x536823[_0x18fed2(0x102)]),loggerService_1['loggerService']['logWebhookReceived'](_0x18fed2(0x111),_0x536823[_0x18fed2(0x102)],_0x536823[_0x18fed2(0xea)]);const _0x30d4cb=await this['webhookService'][_0x18fed2(0xd8)](_0x536823[_0x18fed2(0x102)]);_0x381a41['status'](0xc8)['json']({'success':!![],'message':_0x18fed2(0xee)});}catch(_0x3601a0){console[_0x18fed2(0xf5)](_0x18fed2(0x109),_0x3601a0),loggerService_1[_0x18fed2(0xe9)]['logWebhookError'](_0x18fed2(0x111),_0x3601a0,_0x536823[_0x18fed2(0x102)]),_0x381a41[_0x18fed2(0xdf)](0xc8)[_0x18fed2(0x10e)]({'success':![],'message':_0x3601a0 instanceof Error?_0x3601a0[_0x18fed2(0x103)]:_0x18fed2(0xec)});}},this[_0x1ea4a0(0x113)]=async(_0x3cb4f4,_0x5b565b,_0x52fb4b)=>{const _0x43ba36=_0x1ea4a0;try{console[_0x43ba36(0x11c)](_0x43ba36(0xdc),_0x3cb4f4[_0x43ba36(0x102)]),loggerService_1[_0x43ba36(0xe9)]['logWebhookReceived'](_0x43ba36(0x10b),_0x3cb4f4[_0x43ba36(0x102)],_0x3cb4f4['headers']);const _0x413d44=await this[_0x43ba36(0x11b)][_0x43ba36(0xf9)](_0x3cb4f4['body']);_0x5b565b[_0x43ba36(0xdf)](0xc8)[_0x43ba36(0x10e)]({'success':!![],'message':_0x43ba36(0x110)});}catch(_0x422ac8){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x422ac8),loggerService_1[_0x43ba36(0xe9)]['logWebhookError'](_0x43ba36(0x10b),_0x422ac8,_0x3cb4f4['body']),_0x5b565b['status'](0xc8)[_0x43ba36(0x10e)]({'success':![],'message':_0x422ac8 instanceof Error?_0x422ac8['message']:_0x43ba36(0x119)});}},this['handleNodaWebhook']=async(_0x2f7308,_0x29fc99,_0xd7023f)=>{const _0x46eafb=_0x1ea4a0;try{console[_0x46eafb(0x11c)](_0x46eafb(0xde),_0x2f7308[_0x46eafb(0x102)]),loggerService_1[_0x46eafb(0xe9)][_0x46eafb(0xf8)]('noda',_0x2f7308[_0x46eafb(0x102)],_0x2f7308[_0x46eafb(0xea)]);const _0x1a17f8=await this[_0x46eafb(0x11b)][_0x46eafb(0x105)](_0x2f7308[_0x46eafb(0x102)]);_0x29fc99[_0x46eafb(0xdf)](0xc8)['json']({'success':!![],'message':_0x46eafb(0x117)});}catch(_0x378035){console[_0x46eafb(0xf5)]('Noda\x20webhook\x20processing\x20error:',_0x378035),loggerService_1[_0x46eafb(0xe9)][_0x46eafb(0xe1)](_0x46eafb(0x108),_0x378035,_0x2f7308[_0x46eafb(0x102)]),_0x29fc99[_0x46eafb(0xdf)](0xc8)[_0x46eafb(0x10e)]({'success':![],'message':_0x378035 instanceof Error?_0x378035['message']:_0x46eafb(0xf0)});}},this[_0x1ea4a0(0x100)]=async(_0x30609b,_0x11bb8d,_0x3ee003)=>{const _0x41feb8=_0x1ea4a0;try{console[_0x41feb8(0x11c)](_0x41feb8(0xef),_0x30609b[_0x41feb8(0x102)]),loggerService_1[_0x41feb8(0xe9)][_0x41feb8(0xf8)](_0x41feb8(0xd9),_0x30609b[_0x41feb8(0x102)],_0x30609b[_0x41feb8(0xea)]);const _0x53d56c=await this[_0x41feb8(0x11b)][_0x41feb8(0xfc)](_0x30609b[_0x41feb8(0x102)]);_0x11bb8d['status'](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x36b152){console['error'](_0x41feb8(0xdd),_0x36b152),loggerService_1[_0x41feb8(0xe9)]['logWebhookError'](_0x41feb8(0xd9),_0x36b152,_0x30609b[_0x41feb8(0x102)]),_0x11bb8d[_0x41feb8(0xdf)](0xc8)[_0x41feb8(0x10e)]({'success':![],'message':_0x36b152 instanceof Error?_0x36b152['message']:_0x41feb8(0xe3)});}},this[_0x1ea4a0(0xda)]=async(_0x59fce7,_0x387163,_0x42ebf1)=>{const _0x367aa0=_0x1ea4a0;try{console[_0x367aa0(0x11c)](_0x367aa0(0xe4),_0x59fce7['body']),loggerService_1[_0x367aa0(0xe9)]['logWebhookReceived'](_0x367aa0(0x10c),_0x59fce7[_0x367aa0(0x102)],_0x59fce7[_0x367aa0(0xea)]);const _0x318f64=await this[_0x367aa0(0x11b)][_0x367aa0(0xe2)](_0x59fce7[_0x367aa0(0x102)]);_0x387163[_0x367aa0(0xdf)](0xc8)['json']({'success':!![],'message':_0x367aa0(0xf4)});}catch(_0x15c8b6){console[_0x367aa0(0xf5)](_0x367aa0(0xf2),_0x15c8b6),loggerService_1[_0x367aa0(0xe9)]['logWebhookError'](_0x367aa0(0x10c),_0x15c8b6,_0x59fce7[_0x367aa0(0x102)]),_0x387163[_0x367aa0(0xdf)](0xc8)[_0x367aa0(0x10e)]({'success':![],'message':_0x15c8b6 instanceof Error?_0x15c8b6[_0x367aa0(0x103)]:_0x367aa0(0xdb)});}},this['handleMasterCardWebhook']=async(_0x3d107e,_0x400cd9,_0x41d53f)=>{const _0x1e5ffe=_0x1ea4a0;try{console['log'](_0x1e5ffe(0xf3),_0x3d107e[_0x1e5ffe(0x102)]),loggerService_1['loggerService'][_0x1e5ffe(0xf8)](_0x1e5ffe(0x118),_0x3d107e[_0x1e5ffe(0x102)],_0x3d107e['headers']);const _0x15a22c=await this[_0x1e5ffe(0x11b)]['processMasterCardWebhook'](_0x3d107e[_0x1e5ffe(0x102)]);_0x400cd9['status'](0xc8)[_0x1e5ffe(0x10e)]({'success':!![],'message':_0x1e5ffe(0x10d)});}catch(_0x2544a8){console[_0x1e5ffe(0xf5)](_0x1e5ffe(0xff),_0x2544a8),loggerService_1[_0x1e5ffe(0xe9)][_0x1e5ffe(0xe1)](_0x1e5ffe(0x118),_0x2544a8,_0x3d107e['body']),_0x400cd9[_0x1e5ffe(0xdf)](0xc8)[_0x1e5ffe(0x10e)]({'success':![],'message':_0x2544a8 instanceof Error?_0x2544a8[_0x1e5ffe(0x103)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this['webhookService']=new webhookService_1[(_0x1ea4a0(0x114))]();}}function a15_0x81ca(){const _0x14c05c=['handlePlisioGatewayWebhook','MasterCard\x20webhook\x20processing\x20error:','handleCoinToPayWebhook','10PpqalQ','body','message','plisio','processNodaWebhook','5946304SiysvP','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','noda','Gateway\x20webhook\x20processing\x20error:','3023224oftkZz','rapyd','klyme','MasterCard\x20webhook\x20processed\x20successfully','json','WebhookController','Rapyd\x20webhook\x20processed\x20successfully','plisio_gateway','72zsLNaB','handleRapydWebhook','WebhookService','14LOlZpm','__esModule','Noda\x20webhook\x20processed\x20successfully','mastercard','Rapyd\x20webhook\x20processing\x20failed','handlePlisioWebhook','webhookService','log','Body\x20keys:','processPlisioGatewayWebhook','cointopay','handleKlymeWebhook','KLYME\x20webhook\x20processing\x20failed','Received\x20Rapyd\x20webhook:','CoinToPay\x20webhook\x20processing\x20error:','Received\x20Noda\x20webhook:','status','12970647McFikP','logWebhookError','processKlymeWebhook','CoinToPay\x20webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','1173695ymfEfu','Raw\x20body\x20type:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','get','loggerService','headers','Content-Type:','Gateway\x20webhook\x20processing\x20failed','5706042fLPSoG','Gateway\x20webhook\x20processed\x20successfully','Received\x20CoinToPay\x20webhook:','Noda\x20webhook\x20processing\x20failed','Content-Type','KLYME\x20webhook\x20processing\x20error:','Received\x20MasterCard\x20webhook:','KLYME\x20webhook\x20processed\x20successfully','error','../services/loggerService','Body\x20content:','logWebhookReceived','processRapydWebhook','Webhook\x20processed\x20successfully','1036128lNMFhN','processCoinToPayWebhook','8293uQvioS'];a15_0x81ca=function(){return _0x14c05c;};return a15_0x81ca();}exports[a15_0x1c8c8e(0x10f)]=WebhookController;