'use strict';const a15_0x44abd8=a15_0x2ca8;(function(_0x254e81,_0x44a3a1){const _0x1a2a76=a15_0x2ca8,_0x4e70c5=_0x254e81();while(!![]){try{const _0x153a29=-parseInt(_0x1a2a76(0x16f))/0x1*(-parseInt(_0x1a2a76(0x13f))/0x2)+parseInt(_0x1a2a76(0x170))/0x3+parseInt(_0x1a2a76(0x153))/0x4*(parseInt(_0x1a2a76(0x146))/0x5)+parseInt(_0x1a2a76(0x148))/0x6+-parseInt(_0x1a2a76(0x17f))/0x7*(parseInt(_0x1a2a76(0x17a))/0x8)+-parseInt(_0x1a2a76(0x182))/0x9+parseInt(_0x1a2a76(0x142))/0xa*(parseInt(_0x1a2a76(0x17b))/0xb);if(_0x153a29===_0x44a3a1)break;else _0x4e70c5['push'](_0x4e70c5['shift']());}catch(_0x572092){_0x4e70c5['push'](_0x4e70c5['shift']());}}}(a15_0x3e47,0x7c92e));Object[a15_0x44abd8(0x156)](exports,'__esModule',{'value':!![]}),exports['WebhookController']=void 0x0;function a15_0x3e47(){const _0x1a89f6=['status','../services/webhookService','1024VYCJEG','1537657brNuez','Noda\x20webhook\x20processing\x20error:','plisio_gateway','get','3437WOejbn','Received\x20MasterCard\x20webhook:','message','7151706XEhJug','mastercard','Rapyd\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','Noda\x20webhook\x20processed\x20successfully','Received\x20CoinToPay2\x20webhook:','cointopay','logWebhookError','302KIyiQj','KLYME\x20webhook\x20processed\x20successfully','body','20kyzjfm','Rapyd\x20webhook\x20processing\x20error:','WebhookService','WebhookController','165995TCeyYo','KLYME\x20webhook\x20processing\x20failed','1472670asTUuk','Raw\x20body\x20type:','CoinToPay2\x20webhook\x20processing\x20error:','log','Body\x20content:','processRapydWebhook','handleCoinToPayWebhook','error','Content-Type:','headers','handleCoinToPay2Webhook','36GHfFVB','Body\x20keys:','Gateway\x20webhook\x20processing\x20error:','defineProperty','Webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','processCoinToPayWebhook','MasterCard\x20webhook\x20processing\x20error:','json','loggerService','noda','handlePlisioGatewayWebhook','rapyd','handleKlymeWebhook','logWebhookReceived','Rapyd\x20webhook\x20processed\x20successfully','plisio','Gateway\x20webhook\x20processed\x20successfully','handleRapydWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processNodaWebhook','MasterCard\x20webhook\x20processed\x20successfully','klyme','Received\x20CoinToPay\x20webhook:','MasterCard\x20webhook\x20processing\x20failed','../services/loggerService','processPlisioWebhook','processMasterCardWebhook','2841wOIVVU','344805TdAugJ','Received\x20Noda\x20webhook:','handleMasterCardWebhook','processCoinToPay2Webhook','Received\x20KLYME\x20webhook:','cointopay2','keys','webhookService'];a15_0x3e47=function(){return _0x1a89f6;};return a15_0x3e47();}const webhookService_1=require(a15_0x44abd8(0x179)),loggerService_1=require(a15_0x44abd8(0x16c));function a15_0x2ca8(_0x3fcb2f,_0x48345f){const _0x3e4711=a15_0x3e47();return a15_0x2ca8=function(_0x2ca8b2,_0xe152e4){_0x2ca8b2=_0x2ca8b2-0x13a;let _0x50247e=_0x3e4711[_0x2ca8b2];return _0x50247e;},a15_0x2ca8(_0x3fcb2f,_0x48345f);}class WebhookController{constructor(){const _0x2f580a=a15_0x44abd8;this['handlePlisioWebhook']=async(_0xbb66a5,_0x4f8c0d,_0x2c207f)=>{const _0x3f285f=a15_0x2ca8;try{console[_0x3f285f(0x14b)]('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x3f285f(0x14b)](_0x3f285f(0x150),_0xbb66a5['get']('Content-Type')),console[_0x3f285f(0x14b)](_0x3f285f(0x149),typeof _0xbb66a5['body']),console['log']('Body\x20keys:',Object[_0x3f285f(0x176)](_0xbb66a5[_0x3f285f(0x141)]||{})),console['log'](_0x3f285f(0x14c),_0xbb66a5['body']),loggerService_1[_0x3f285f(0x15c)][_0x3f285f(0x161)](_0x3f285f(0x163),_0xbb66a5[_0x3f285f(0x141)],_0xbb66a5['headers']);const _0x13a439=await this['webhookService'][_0x3f285f(0x16d)](_0xbb66a5[_0x3f285f(0x141)]);_0x4f8c0d['status'](0xc8)[_0x3f285f(0x15b)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x3fc33c){console[_0x3f285f(0x14f)](_0x3f285f(0x157),_0x3fc33c),loggerService_1['loggerService'][_0x3f285f(0x13e)](_0x3f285f(0x163),_0x3fc33c,_0xbb66a5[_0x3f285f(0x141)]),_0x4f8c0d[_0x3f285f(0x178)](0xc8)['json']({'success':![],'message':_0x3fc33c instanceof Error?_0x3fc33c[_0x3f285f(0x181)]:_0x3f285f(0x13a)});}},this[_0x2f580a(0x15e)]=async(_0xf10655,_0x32eac4,_0x8f7cd7)=>{const _0x16b153=_0x2f580a;try{console[_0x16b153(0x14b)](_0x16b153(0x166)),console[_0x16b153(0x14b)](_0x16b153(0x150),_0xf10655[_0x16b153(0x17e)]('Content-Type')),console['log']('Raw\x20body\x20type:',typeof _0xf10655[_0x16b153(0x141)]),console[_0x16b153(0x14b)](_0x16b153(0x154),Object['keys'](_0xf10655[_0x16b153(0x141)]||{})),console[_0x16b153(0x14b)](_0x16b153(0x14c),_0xf10655['body']),loggerService_1['loggerService'][_0x16b153(0x161)](_0x16b153(0x17d),_0xf10655[_0x16b153(0x141)],_0xf10655[_0x16b153(0x151)]);const _0x196a8f=await this['webhookService']['processPlisioGatewayWebhook'](_0xf10655[_0x16b153(0x141)]);_0x32eac4[_0x16b153(0x178)](0xc8)['json']({'success':!![],'message':_0x16b153(0x164)});}catch(_0x31bdbe){console[_0x16b153(0x14f)](_0x16b153(0x155),_0x31bdbe),loggerService_1[_0x16b153(0x15c)]['logWebhookError'](_0x16b153(0x17d),_0x31bdbe,_0xf10655[_0x16b153(0x141)]),_0x32eac4[_0x16b153(0x178)](0xc8)[_0x16b153(0x15b)]({'success':![],'message':_0x31bdbe instanceof Error?_0x31bdbe[_0x16b153(0x181)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x2f580a(0x165)]=async(_0x122d1c,_0x245495,_0x185503)=>{const _0x32c050=_0x2f580a;try{console[_0x32c050(0x14b)]('Received\x20Rapyd\x20webhook:',_0x122d1c['body']),loggerService_1[_0x32c050(0x15c)][_0x32c050(0x161)](_0x32c050(0x15f),_0x122d1c['body'],_0x122d1c[_0x32c050(0x151)]);const _0x245367=await this[_0x32c050(0x177)][_0x32c050(0x14d)](_0x122d1c['body']);_0x245495[_0x32c050(0x178)](0xc8)[_0x32c050(0x15b)]({'success':!![],'message':_0x32c050(0x162)});}catch(_0x55058c){console[_0x32c050(0x14f)](_0x32c050(0x143),_0x55058c),loggerService_1[_0x32c050(0x15c)][_0x32c050(0x13e)](_0x32c050(0x15f),_0x55058c,_0x122d1c[_0x32c050(0x141)]),_0x245495['status'](0xc8)['json']({'success':![],'message':_0x55058c instanceof Error?_0x55058c['message']:_0x32c050(0x184)});}},this['handleNodaWebhook']=async(_0x213a98,_0x4c194a,_0x295337)=>{const _0x54414f=_0x2f580a;try{console[_0x54414f(0x14b)](_0x54414f(0x171),_0x213a98[_0x54414f(0x141)]),loggerService_1[_0x54414f(0x15c)][_0x54414f(0x161)](_0x54414f(0x15d),_0x213a98[_0x54414f(0x141)],_0x213a98[_0x54414f(0x151)]);const _0x10681b=await this[_0x54414f(0x177)][_0x54414f(0x167)](_0x213a98[_0x54414f(0x141)]);_0x4c194a['status'](0xc8)[_0x54414f(0x15b)]({'success':!![],'message':_0x54414f(0x13b)});}catch(_0xdf8683){console['error'](_0x54414f(0x17c),_0xdf8683),loggerService_1[_0x54414f(0x15c)][_0x54414f(0x13e)](_0x54414f(0x15d),_0xdf8683,_0x213a98['body']),_0x4c194a['status'](0xc8)[_0x54414f(0x15b)]({'success':![],'message':_0xdf8683 instanceof Error?_0xdf8683['message']:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x2f580a(0x14e)]=async(_0x198f0a,_0x19d6f0,_0x47e972)=>{const _0x46b59c=_0x2f580a;try{console[_0x46b59c(0x14b)](_0x46b59c(0x16a),_0x198f0a['body']),loggerService_1['loggerService'][_0x46b59c(0x161)](_0x46b59c(0x13d),_0x198f0a['body'],_0x198f0a['headers']);const _0x4a4dc5=await this[_0x46b59c(0x177)][_0x46b59c(0x159)](_0x198f0a[_0x46b59c(0x141)]);_0x19d6f0['status'](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0xdca346){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0xdca346),loggerService_1[_0x46b59c(0x15c)][_0x46b59c(0x13e)]('cointopay',_0xdca346,_0x198f0a[_0x46b59c(0x141)]),_0x19d6f0[_0x46b59c(0x178)](0xc8)['json']({'success':![],'message':_0xdca346 instanceof Error?_0xdca346[_0x46b59c(0x181)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x2f580a(0x152)]=async(_0x2f1872,_0x5e9e33,_0x4f71cd)=>{const _0xa1d2cd=_0x2f580a;try{console[_0xa1d2cd(0x14b)](_0xa1d2cd(0x13c),_0x2f1872[_0xa1d2cd(0x141)]),loggerService_1[_0xa1d2cd(0x15c)][_0xa1d2cd(0x161)](_0xa1d2cd(0x175),_0x2f1872[_0xa1d2cd(0x141)],_0x2f1872['headers']);const _0x41ea6f=await this[_0xa1d2cd(0x177)][_0xa1d2cd(0x173)](_0x2f1872['body']);_0x5e9e33[_0xa1d2cd(0x178)](0xc8)[_0xa1d2cd(0x15b)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x1151e4){console[_0xa1d2cd(0x14f)](_0xa1d2cd(0x14a),_0x1151e4),loggerService_1[_0xa1d2cd(0x15c)][_0xa1d2cd(0x13e)](_0xa1d2cd(0x175),_0x1151e4,_0x2f1872[_0xa1d2cd(0x141)]),_0x5e9e33[_0xa1d2cd(0x178)](0xc8)[_0xa1d2cd(0x15b)]({'success':![],'message':_0x1151e4 instanceof Error?_0x1151e4[_0xa1d2cd(0x181)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x2f580a(0x160)]=async(_0x3059e3,_0x274b55,_0x18ba7a)=>{const _0xf37c90=_0x2f580a;try{console[_0xf37c90(0x14b)](_0xf37c90(0x174),_0x3059e3[_0xf37c90(0x141)]),loggerService_1[_0xf37c90(0x15c)][_0xf37c90(0x161)]('klyme',_0x3059e3[_0xf37c90(0x141)],_0x3059e3[_0xf37c90(0x151)]);const _0x5172f9=await this[_0xf37c90(0x177)]['processKlymeWebhook'](_0x3059e3[_0xf37c90(0x141)]);_0x274b55['status'](0xc8)[_0xf37c90(0x15b)]({'success':!![],'message':_0xf37c90(0x140)});}catch(_0x3dd54b){console['error'](_0xf37c90(0x158),_0x3dd54b),loggerService_1[_0xf37c90(0x15c)][_0xf37c90(0x13e)](_0xf37c90(0x169),_0x3dd54b,_0x3059e3['body']),_0x274b55[_0xf37c90(0x178)](0xc8)[_0xf37c90(0x15b)]({'success':![],'message':_0x3dd54b instanceof Error?_0x3dd54b[_0xf37c90(0x181)]:_0xf37c90(0x147)});}},this[_0x2f580a(0x172)]=async(_0x550618,_0x44e17f,_0x200a03)=>{const _0x52e204=_0x2f580a;try{console[_0x52e204(0x14b)](_0x52e204(0x180),_0x550618[_0x52e204(0x141)]),loggerService_1['loggerService'][_0x52e204(0x161)](_0x52e204(0x183),_0x550618['body'],_0x550618[_0x52e204(0x151)]);const _0x2c7493=await this[_0x52e204(0x177)][_0x52e204(0x16e)](_0x550618[_0x52e204(0x141)]);_0x44e17f['status'](0xc8)['json']({'success':!![],'message':_0x52e204(0x168)});}catch(_0x5c90fa){console[_0x52e204(0x14f)](_0x52e204(0x15a),_0x5c90fa),loggerService_1[_0x52e204(0x15c)][_0x52e204(0x13e)](_0x52e204(0x183),_0x5c90fa,_0x550618['body']),_0x44e17f[_0x52e204(0x178)](0xc8)[_0x52e204(0x15b)]({'success':![],'message':_0x5c90fa instanceof Error?_0x5c90fa[_0x52e204(0x181)]:_0x52e204(0x16b)});}},this[_0x2f580a(0x177)]=new webhookService_1[(_0x2f580a(0x144))]();}}exports[a15_0x44abd8(0x145)]=WebhookController;