'use strict';function a15_0x2a30(){const _0x3798ec=['CoinToPay\x20webhook\x20processed\x20successfully','Body\x20content:','Content-Type:','body','Amer\x20webhook\x20processing\x20error:','VISA\x20webhook\x20processing\x20error:','webhookService','keys','Amer\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20failed','Received\x20Amer\x20webhook:','KLYME\x20webhook\x20processing\x20failed','AmPay\x20webhook\x20processing\x20failed','9965020eyjehg','processCoinToPay2Webhook','Noda\x20webhook\x20processed\x20successfully','Received\x20MasterCard\x20webhook:','6IAplAJ','error','method','noda','559893xprlyT','handleCoinToPay2Webhook','defineProperty','processNodaWebhook','get','MyXSpend\x20webhook\x20processed\x20successfully','Raw\x20body\x20type:','handleVisaWebhook','processRapydWebhook','Webhook\x20processing\x20error:','Received\x20CoinToPay\x20webhook:','__esModule','528saZPmK','Amer\x20webhook\x20processing\x20failed','handleMasterCardWebhook','5498148DwPxtW','MasterCard\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','rapyd','ampay','Noda\x20webhook\x20processing\x20failed','Webhook\x20processed\x20successfully','VISA\x20webhook\x20processing\x20failed','Received\x20Noda\x20webhook:','Noda\x20webhook\x20processing\x20error:','amer','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','cointopay','KLYME\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processed\x20successfully','374409DntHHR','logWebhookReceived','json','handleKlymeWebhook','===\x20AmPay\x20Webhook\x20Received\x20===','query','Body\x20keys:','13097JAOYmi','processAmerWebhook','../services/webhookService','Body:','Gateway\x20webhook\x20processed\x20successfully','VISA\x20webhook\x20processed\x20successfully','log','handlePlisioGatewayWebhook','CoinToPay\x20webhook\x20processing\x20error:','klyme','processMasterCardWebhook','4154444JbBxrC','Rapyd\x20webhook\x20processing\x20failed','Content-Type','processAmPayWebhook','5qFvlwo','CoinToPay2\x20webhook\x20processing\x20failed','myxspend','handleNodaWebhook','handlePlisioWebhook','loggerService','status','processKlymeWebhook','processVisaWebhook','Received\x20VISA\x20webhook:','mastercard','plisio','handleMyXSpendWebhook','WebhookController','processCoinToPayWebhook','251078IoSEve','WebhookService','plisio_gateway','KLYME\x20webhook\x20processing\x20error:','headers','AmPay\x20webhook\x20processing\x20error:','logWebhookError','Webhook\x20processing\x20failed','handleAmerWebhook','AmPay\x20webhook\x20processed\x20successfully','message','visa','CoinToPay2\x20webhook\x20processed\x20successfully','cointopay2','handleAmPayWebhook','Gateway\x20webhook\x20processing\x20failed','Body\x20type:'];a15_0x2a30=function(){return _0x3798ec;};return a15_0x2a30();}const a15_0x56a3d5=a15_0x5d81;(function(_0xd1b4f9,_0x455dfe){const _0x1afbbf=a15_0x5d81,_0x5f1ee7=_0xd1b4f9();while(!![]){try{const _0xd4b17d=parseInt(_0x1afbbf(0x1bc))/0x1+parseInt(_0x1afbbf(0x175))/0x2*(-parseInt(_0x1afbbf(0x179))/0x3)+parseInt(_0x1afbbf(0x1a9))/0x4+-parseInt(_0x1afbbf(0x1ad))/0x5*(-parseInt(_0x1afbbf(0x188))/0x6)+-parseInt(_0x1afbbf(0x19e))/0x7*(parseInt(_0x1afbbf(0x185))/0x8)+parseInt(_0x1afbbf(0x197))/0x9+-parseInt(_0x1afbbf(0x171))/0xa;if(_0xd4b17d===_0x455dfe)break;else _0x5f1ee7['push'](_0x5f1ee7['shift']());}catch(_0xa4fcab){_0x5f1ee7['push'](_0x5f1ee7['shift']());}}}(a15_0x2a30,0x8a9d7));Object[a15_0x56a3d5(0x17b)](exports,a15_0x56a3d5(0x184),{'value':!![]}),exports[a15_0x56a3d5(0x1ba)]=void 0x0;function a15_0x5d81(_0x3bab60,_0x2fc144){const _0x2a30b9=a15_0x2a30();return a15_0x5d81=function(_0x5d816d,_0x2fa5ff){_0x5d816d=_0x5d816d-0x15f;let _0x4f7482=_0x2a30b9[_0x5d816d];return _0x4f7482;},a15_0x5d81(_0x3bab60,_0x2fc144);}const webhookService_1=require(a15_0x56a3d5(0x1a0)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x46c813=a15_0x56a3d5;this[_0x46c813(0x1b1)]=async(_0x2fca4f,_0x46a3dc,_0x37ca70)=>{const _0x123725=_0x46c813;try{console[_0x123725(0x1a4)](_0x123725(0x193)),console['log'](_0x123725(0x166),_0x2fca4f[_0x123725(0x17d)]('Content-Type')),console[_0x123725(0x1a4)](_0x123725(0x17f),typeof _0x2fca4f[_0x123725(0x167)]),console[_0x123725(0x1a4)](_0x123725(0x19d),Object[_0x123725(0x16b)](_0x2fca4f[_0x123725(0x167)]||{})),console['log'](_0x123725(0x165),_0x2fca4f[_0x123725(0x167)]),loggerService_1[_0x123725(0x1b2)][_0x123725(0x198)](_0x123725(0x1b8),_0x2fca4f[_0x123725(0x167)],_0x2fca4f[_0x123725(0x1c0)]);const _0x56a3d8=await this[_0x123725(0x16a)]['processPlisioWebhook'](_0x2fca4f[_0x123725(0x167)]);_0x46a3dc['status'](0xc8)[_0x123725(0x199)]({'success':!![],'message':_0x123725(0x18e)});}catch(_0x4e4e7a){console[_0x123725(0x176)](_0x123725(0x182),_0x4e4e7a),loggerService_1['loggerService']['logWebhookError']('plisio',_0x4e4e7a,_0x2fca4f[_0x123725(0x167)]),_0x46a3dc[_0x123725(0x1b3)](0xc8)['json']({'success':![],'message':_0x4e4e7a instanceof Error?_0x4e4e7a[_0x123725(0x1c6)]:_0x123725(0x1c3)});}},this[_0x46c813(0x1a5)]=async(_0x28789f,_0x2f9e94,_0x33e6d3)=>{const _0x3173b7=_0x46c813;try{console[_0x3173b7(0x1a4)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x3173b7(0x1a4)](_0x3173b7(0x166),_0x28789f[_0x3173b7(0x17d)](_0x3173b7(0x1ab))),console[_0x3173b7(0x1a4)](_0x3173b7(0x17f),typeof _0x28789f[_0x3173b7(0x167)]),console[_0x3173b7(0x1a4)](_0x3173b7(0x19d),Object[_0x3173b7(0x16b)](_0x28789f[_0x3173b7(0x167)]||{})),console[_0x3173b7(0x1a4)]('Body\x20content:',_0x28789f['body']),loggerService_1[_0x3173b7(0x1b2)][_0x3173b7(0x198)](_0x3173b7(0x1be),_0x28789f[_0x3173b7(0x167)],_0x28789f[_0x3173b7(0x1c0)]);const _0x18690a=await this['webhookService']['processPlisioGatewayWebhook'](_0x28789f['body']);_0x2f9e94['status'](0xc8)[_0x3173b7(0x199)]({'success':!![],'message':_0x3173b7(0x1a2)});}catch(_0x358c0b){console[_0x3173b7(0x176)]('Gateway\x20webhook\x20processing\x20error:',_0x358c0b),loggerService_1['loggerService']['logWebhookError']('plisio_gateway',_0x358c0b,_0x28789f[_0x3173b7(0x167)]),_0x2f9e94['status'](0xc8)[_0x3173b7(0x199)]({'success':![],'message':_0x358c0b instanceof Error?_0x358c0b[_0x3173b7(0x1c6)]:_0x3173b7(0x162)});}},this['handleRapydWebhook']=async(_0x283d39,_0x352f7a,_0x1ddd43)=>{const _0xef2fea=_0x46c813;try{console['log']('Received\x20Rapyd\x20webhook:',_0x283d39[_0xef2fea(0x167)]),loggerService_1[_0xef2fea(0x1b2)][_0xef2fea(0x198)](_0xef2fea(0x18b),_0x283d39[_0xef2fea(0x167)],_0x283d39[_0xef2fea(0x1c0)]);const _0x55ee66=await this[_0xef2fea(0x16a)][_0xef2fea(0x181)](_0x283d39[_0xef2fea(0x167)]);_0x352f7a['status'](0xc8)[_0xef2fea(0x199)]({'success':!![],'message':_0xef2fea(0x196)});}catch(_0x1c8e89){console[_0xef2fea(0x176)]('Rapyd\x20webhook\x20processing\x20error:',_0x1c8e89),loggerService_1[_0xef2fea(0x1b2)][_0xef2fea(0x1c2)](_0xef2fea(0x18b),_0x1c8e89,_0x283d39['body']),_0x352f7a[_0xef2fea(0x1b3)](0xc8)['json']({'success':![],'message':_0x1c8e89 instanceof Error?_0x1c8e89['message']:_0xef2fea(0x1aa)});}},this[_0x46c813(0x1b0)]=async(_0x458357,_0x195258,_0x3a093e)=>{const _0x599237=_0x46c813;try{console['log'](_0x599237(0x190),_0x458357[_0x599237(0x167)]),loggerService_1[_0x599237(0x1b2)]['logWebhookReceived'](_0x599237(0x178),_0x458357[_0x599237(0x167)],_0x458357[_0x599237(0x1c0)]);const _0x479f32=await this[_0x599237(0x16a)][_0x599237(0x17c)](_0x458357[_0x599237(0x167)]);_0x195258[_0x599237(0x1b3)](0xc8)[_0x599237(0x199)]({'success':!![],'message':_0x599237(0x173)});}catch(_0x7386e5){console[_0x599237(0x176)](_0x599237(0x191),_0x7386e5),loggerService_1['loggerService']['logWebhookError']('noda',_0x7386e5,_0x458357[_0x599237(0x167)]),_0x195258[_0x599237(0x1b3)](0xc8)[_0x599237(0x199)]({'success':![],'message':_0x7386e5 instanceof Error?_0x7386e5[_0x599237(0x1c6)]:_0x599237(0x18d)});}},this['handleCoinToPayWebhook']=async(_0x5c0fa3,_0x337441,_0x270f32)=>{const _0x4c58d=_0x46c813;try{console['log'](_0x4c58d(0x183),_0x5c0fa3[_0x4c58d(0x167)]),loggerService_1['loggerService'][_0x4c58d(0x198)]('cointopay',_0x5c0fa3[_0x4c58d(0x167)],_0x5c0fa3[_0x4c58d(0x1c0)]);const _0xfcc2e0=await this[_0x4c58d(0x16a)][_0x4c58d(0x1bb)](_0x5c0fa3[_0x4c58d(0x167)]);_0x337441[_0x4c58d(0x1b3)](0xc8)[_0x4c58d(0x199)]({'success':!![],'message':_0x4c58d(0x164)});}catch(_0x4b9762){console[_0x4c58d(0x176)](_0x4c58d(0x1a6),_0x4b9762),loggerService_1[_0x4c58d(0x1b2)][_0x4c58d(0x1c2)](_0x4c58d(0x194),_0x4b9762,_0x5c0fa3['body']),_0x337441['status'](0xc8)['json']({'success':![],'message':_0x4b9762 instanceof Error?_0x4b9762['message']:_0x4c58d(0x16d)});}},this[_0x46c813(0x17a)]=async(_0x2b7990,_0x5a2f6e,_0x47dacb)=>{const _0x42f14a=_0x46c813;try{console[_0x42f14a(0x1a4)]('Received\x20CoinToPay2\x20webhook:',_0x2b7990['body']),loggerService_1['loggerService'][_0x42f14a(0x198)](_0x42f14a(0x160),_0x2b7990[_0x42f14a(0x167)],_0x2b7990[_0x42f14a(0x1c0)]);const _0x515d0f=await this['webhookService'][_0x42f14a(0x172)](_0x2b7990[_0x42f14a(0x167)]);_0x5a2f6e[_0x42f14a(0x1b3)](0xc8)[_0x42f14a(0x199)]({'success':!![],'message':_0x42f14a(0x15f)});}catch(_0x14efb5){console['error']('CoinToPay2\x20webhook\x20processing\x20error:',_0x14efb5),loggerService_1[_0x42f14a(0x1b2)][_0x42f14a(0x1c2)](_0x42f14a(0x160),_0x14efb5,_0x2b7990['body']),_0x5a2f6e[_0x42f14a(0x1b3)](0xc8)[_0x42f14a(0x199)]({'success':![],'message':_0x14efb5 instanceof Error?_0x14efb5['message']:_0x42f14a(0x1ae)});}},this[_0x46c813(0x19a)]=async(_0x6a7f6b,_0x195c0,_0x29500d)=>{const _0x102c7a=_0x46c813;try{console[_0x102c7a(0x1a4)]('Received\x20KLYME\x20webhook:',_0x6a7f6b[_0x102c7a(0x167)]),loggerService_1[_0x102c7a(0x1b2)][_0x102c7a(0x198)](_0x102c7a(0x1a7),_0x6a7f6b[_0x102c7a(0x167)],_0x6a7f6b[_0x102c7a(0x1c0)]);const _0x429139=await this[_0x102c7a(0x16a)][_0x102c7a(0x1b4)](_0x6a7f6b['body']);_0x195c0[_0x102c7a(0x1b3)](0xc8)[_0x102c7a(0x199)]({'success':!![],'message':_0x102c7a(0x195)});}catch(_0x5842ac){console[_0x102c7a(0x176)](_0x102c7a(0x1bf),_0x5842ac),loggerService_1['loggerService'][_0x102c7a(0x1c2)](_0x102c7a(0x1a7),_0x5842ac,_0x6a7f6b[_0x102c7a(0x167)]),_0x195c0[_0x102c7a(0x1b3)](0xc8)['json']({'success':![],'message':_0x5842ac instanceof Error?_0x5842ac[_0x102c7a(0x1c6)]:_0x102c7a(0x16f)});}},this[_0x46c813(0x180)]=async(_0x526f4b,_0x19b504,_0x872340)=>{const _0x4e9495=_0x46c813;try{console['log'](_0x4e9495(0x1b6),_0x526f4b[_0x4e9495(0x167)]),loggerService_1['loggerService'][_0x4e9495(0x198)]('visa',_0x526f4b[_0x4e9495(0x167)],_0x526f4b[_0x4e9495(0x1c0)]);const _0x3902c0=await this[_0x4e9495(0x16a)][_0x4e9495(0x1b5)](_0x526f4b[_0x4e9495(0x167)]);_0x19b504[_0x4e9495(0x1b3)](0xc8)['json']({'success':!![],'message':_0x4e9495(0x1a3)});}catch(_0x5472d4){console['error'](_0x4e9495(0x169),_0x5472d4),loggerService_1[_0x4e9495(0x1b2)][_0x4e9495(0x1c2)](_0x4e9495(0x1c7),_0x5472d4,_0x526f4b[_0x4e9495(0x167)]),_0x19b504[_0x4e9495(0x1b3)](0xc8)['json']({'success':![],'message':_0x5472d4 instanceof Error?_0x5472d4[_0x4e9495(0x1c6)]:_0x4e9495(0x18f)});}},this[_0x46c813(0x187)]=async(_0x189b62,_0x33debf,_0x5fd96b)=>{const _0x5f5c11=_0x46c813;try{console['log'](_0x5f5c11(0x174),_0x189b62[_0x5f5c11(0x167)]),loggerService_1[_0x5f5c11(0x1b2)][_0x5f5c11(0x198)](_0x5f5c11(0x1b7),_0x189b62[_0x5f5c11(0x167)],_0x189b62[_0x5f5c11(0x1c0)]);const _0x2eff4b=await this[_0x5f5c11(0x16a)][_0x5f5c11(0x1a8)](_0x189b62[_0x5f5c11(0x167)]);_0x33debf['status'](0xc8)[_0x5f5c11(0x199)]({'success':!![],'message':_0x5f5c11(0x18a)});}catch(_0x3c0041){console['error'](_0x5f5c11(0x189),_0x3c0041),loggerService_1[_0x5f5c11(0x1b2)][_0x5f5c11(0x1c2)](_0x5f5c11(0x1b7),_0x3c0041,_0x189b62[_0x5f5c11(0x167)]),_0x33debf[_0x5f5c11(0x1b3)](0xc8)[_0x5f5c11(0x199)]({'success':![],'message':_0x3c0041 instanceof Error?_0x3c0041[_0x5f5c11(0x1c6)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x46c813(0x1c4)]=async(_0xec6bae,_0x3a65de,_0x584579)=>{const _0xda296c=_0x46c813;try{console['log'](_0xda296c(0x16e),_0xec6bae[_0xda296c(0x167)]),loggerService_1[_0xda296c(0x1b2)][_0xda296c(0x198)](_0xda296c(0x192),_0xec6bae[_0xda296c(0x167)],_0xec6bae[_0xda296c(0x1c0)]);const _0x153369=await this['webhookService'][_0xda296c(0x19f)](_0xec6bae['body']);_0x3a65de[_0xda296c(0x1b3)](0xc8)[_0xda296c(0x199)]({'success':!![],'message':_0xda296c(0x16c)});}catch(_0x3a6ea7){console[_0xda296c(0x176)](_0xda296c(0x168),_0x3a6ea7),loggerService_1[_0xda296c(0x1b2)][_0xda296c(0x1c2)](_0xda296c(0x192),_0x3a6ea7,_0xec6bae[_0xda296c(0x167)]),_0x3a65de[_0xda296c(0x1b3)](0xc8)[_0xda296c(0x199)]({'success':![],'message':_0x3a6ea7 instanceof Error?_0x3a6ea7[_0xda296c(0x1c6)]:_0xda296c(0x186)});}},this[_0x46c813(0x161)]=async(_0x136019,_0x56f5c5,_0x308458)=>{const _0x27038b=_0x46c813;try{console['log'](_0x27038b(0x19b)),console[_0x27038b(0x1a4)]('Headers:',_0x136019['headers']),console[_0x27038b(0x1a4)](_0x27038b(0x1a1),_0x136019[_0x27038b(0x167)]),console['log'](_0x27038b(0x163),typeof _0x136019['body']),console['log'](_0x27038b(0x19d),Object[_0x27038b(0x16b)](_0x136019['body']||{})),loggerService_1[_0x27038b(0x1b2)][_0x27038b(0x198)](_0x27038b(0x18c),_0x136019[_0x27038b(0x167)],_0x136019['headers']);const _0x16189e=await this[_0x27038b(0x16a)][_0x27038b(0x1ac)](_0x136019[_0x27038b(0x167)]);_0x56f5c5[_0x27038b(0x1b3)](0xc8)[_0x27038b(0x199)]({'success':!![],'message':_0x27038b(0x1c5)});}catch(_0x4c0c3c){console[_0x27038b(0x176)](_0x27038b(0x1c1),_0x4c0c3c),loggerService_1[_0x27038b(0x1b2)][_0x27038b(0x1c2)]('ampay',_0x4c0c3c,_0x136019['body']),_0x56f5c5[_0x27038b(0x1b3)](0xc8)['json']({'success':![],'message':_0x4c0c3c instanceof Error?_0x4c0c3c[_0x27038b(0x1c6)]:_0x27038b(0x170)});}},this[_0x46c813(0x1b9)]=async(_0x3009ed,_0xb3b999,_0x58314c)=>{const _0x336314=_0x46c813;try{console[_0x336314(0x1a4)]('===\x20MyXSpend\x20Webhook\x20Received\x20==='),console[_0x336314(0x1a4)]('Headers:',_0x3009ed[_0x336314(0x1c0)]),console[_0x336314(0x1a4)]('Query\x20params:',_0x3009ed[_0x336314(0x19c)]),console[_0x336314(0x1a4)](_0x336314(0x1a1),_0x3009ed[_0x336314(0x167)]),console[_0x336314(0x1a4)]('Method:',_0x3009ed[_0x336314(0x177)]),loggerService_1[_0x336314(0x1b2)][_0x336314(0x198)](_0x336314(0x1af),_0x3009ed[_0x336314(0x167)]||_0x3009ed[_0x336314(0x19c)],_0x3009ed[_0x336314(0x1c0)]);const _0xb20dce=await this[_0x336314(0x16a)]['processMyXSpendWebhook'](_0x3009ed[_0x336314(0x19c)],_0x3009ed[_0x336314(0x167)]);_0xb3b999[_0x336314(0x1b3)](0xc8)[_0x336314(0x199)]({'success':!![],'message':_0x336314(0x17e)});}catch(_0x4897c0){console[_0x336314(0x176)]('MyXSpend\x20webhook\x20processing\x20error:',_0x4897c0),loggerService_1['loggerService'][_0x336314(0x1c2)](_0x336314(0x1af),_0x4897c0,_0x3009ed[_0x336314(0x167)]||_0x3009ed[_0x336314(0x19c)]),_0xb3b999[_0x336314(0x1b3)](0xc8)[_0x336314(0x199)]({'success':![],'message':_0x4897c0 instanceof Error?_0x4897c0[_0x336314(0x1c6)]:'MyXSpend\x20webhook\x20processing\x20failed'});}},this[_0x46c813(0x16a)]=new webhookService_1[(_0x46c813(0x1bd))]();}}exports[a15_0x56a3d5(0x1ba)]=WebhookController;