'use strict';const a14_0x3f505d=a14_0x4fe6;function a14_0x4fe6(_0x3c939b,_0xcf727c){const _0x144dcb=a14_0x144d();return a14_0x4fe6=function(_0x4fe6ce,_0x5d6a02){_0x4fe6ce=_0x4fe6ce-0x166;let _0xe44d30=_0x144dcb[_0x4fe6ce];return _0xe44d30;},a14_0x4fe6(_0x3c939b,_0xcf727c);}(function(_0x1fa906,_0x6b29ab){const _0x74b4=a14_0x4fe6,_0x5d5a09=_0x1fa906();while(!![]){try{const _0x78547d=parseInt(_0x74b4(0x19e))/0x1*(-parseInt(_0x74b4(0x18c))/0x2)+parseInt(_0x74b4(0x17c))/0x3+-parseInt(_0x74b4(0x173))/0x4+-parseInt(_0x74b4(0x182))/0x5+parseInt(_0x74b4(0x17e))/0x6*(parseInt(_0x74b4(0x199))/0x7)+parseInt(_0x74b4(0x16f))/0x8*(parseInt(_0x74b4(0x193))/0x9)+parseInt(_0x74b4(0x175))/0xa;if(_0x78547d===_0x6b29ab)break;else _0x5d5a09['push'](_0x5d5a09['shift']());}catch(_0x34ad0e){_0x5d5a09['push'](_0x5d5a09['shift']());}}}(a14_0x144d,0x59344));Object[a14_0x3f505d(0x1a3)](exports,a14_0x3f505d(0x167),{'value':!![]}),exports[a14_0x3f505d(0x16a)]=void 0x0;function a14_0x144d(){const _0x41d049=['904rwKQMh','processKlymeWebhook','Rapyd\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20error:','1162384vSuCvp','plisio_gateway','340910FOtoLE','Webhook\x20processed\x20successfully','handleRapydWebhook','processPlisioWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','logWebhookReceived','processNodaWebhook','1202463lpzbfY','klyme','60gnSkph','webhookService','status','get','275970hjbAwQ','../services/loggerService','../services/webhookService','KLYME\x20webhook\x20processed\x20successfully','loggerService','KLYME\x20webhook\x20processing\x20failed','Content-Type:','cointopay','headers','json','128518DAbquD','CoinToPay\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processing\x20error:','handleNodaWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','logWebhookError','18945iQGyow','rapyd','plisio','Raw\x20body\x20type:','Body\x20keys:','noda','161819CrVyWz','processCoinToPayWebhook','message','keys','processPlisioGatewayWebhook','3hUCTbo','Noda\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processing\x20failed','error','Received\x20KLYME\x20webhook:','defineProperty','handlePlisioWebhook','log','Body\x20content:','__esModule','processRapydWebhook','Content-Type','WebhookController','CoinToPay\x20webhook\x20processing\x20failed','handleCoinToPayWebhook','Rapyd\x20webhook\x20processing\x20failed','body'];a14_0x144d=function(){return _0x41d049;};return a14_0x144d();}const webhookService_1=require(a14_0x3f505d(0x184)),loggerService_1=require(a14_0x3f505d(0x183));class WebhookController{constructor(){const _0x1a126c=a14_0x3f505d;this[_0x1a126c(0x1a4)]=async(_0x588a76,_0xca525a,_0x1b7a6b)=>{const _0x42c1b7=_0x1a126c;try{console[_0x42c1b7(0x1a5)](_0x42c1b7(0x179)),console[_0x42c1b7(0x1a5)](_0x42c1b7(0x188),_0x588a76[_0x42c1b7(0x181)](_0x42c1b7(0x169))),console['log']('Raw\x20body\x20type:',typeof _0x588a76[_0x42c1b7(0x16e)]),console[_0x42c1b7(0x1a5)](_0x42c1b7(0x197),Object[_0x42c1b7(0x19c)](_0x588a76[_0x42c1b7(0x16e)]||{})),console[_0x42c1b7(0x1a5)]('Body\x20content:',_0x588a76['body']),loggerService_1[_0x42c1b7(0x186)][_0x42c1b7(0x17a)](_0x42c1b7(0x195),_0x588a76[_0x42c1b7(0x16e)],_0x588a76[_0x42c1b7(0x18a)]);const _0x6ce81b=await this[_0x42c1b7(0x17f)][_0x42c1b7(0x178)](_0x588a76[_0x42c1b7(0x16e)]);_0xca525a['status'](0xc8)[_0x42c1b7(0x18b)]({'success':!![],'message':_0x42c1b7(0x176)});}catch(_0x42688d){console[_0x42c1b7(0x1a1)]('Webhook\x20processing\x20error:',_0x42688d),loggerService_1[_0x42c1b7(0x186)][_0x42c1b7(0x192)]('plisio',_0x42688d,_0x588a76[_0x42c1b7(0x16e)]),_0xca525a[_0x42c1b7(0x180)](0xc8)['json']({'success':![],'message':_0x42688d instanceof Error?_0x42688d[_0x42c1b7(0x19b)]:'Webhook\x20processing\x20failed'});}},this['handlePlisioGatewayWebhook']=async(_0x5b0782,_0x3851cf,_0x1cd656)=>{const _0x153a0f=_0x1a126c;try{console[_0x153a0f(0x1a5)](_0x153a0f(0x191)),console['log']('Content-Type:',_0x5b0782['get'](_0x153a0f(0x169))),console['log'](_0x153a0f(0x196),typeof _0x5b0782[_0x153a0f(0x16e)]),console[_0x153a0f(0x1a5)](_0x153a0f(0x197),Object[_0x153a0f(0x19c)](_0x5b0782[_0x153a0f(0x16e)]||{})),console[_0x153a0f(0x1a5)](_0x153a0f(0x166),_0x5b0782['body']),loggerService_1[_0x153a0f(0x186)][_0x153a0f(0x17a)](_0x153a0f(0x174),_0x5b0782['body'],_0x5b0782[_0x153a0f(0x18a)]);const _0x9b2531=await this['webhookService'][_0x153a0f(0x19d)](_0x5b0782[_0x153a0f(0x16e)]);_0x3851cf[_0x153a0f(0x180)](0xc8)[_0x153a0f(0x18b)]({'success':!![],'message':_0x153a0f(0x18e)});}catch(_0x435e52){console['error']('Gateway\x20webhook\x20processing\x20error:',_0x435e52),loggerService_1[_0x153a0f(0x186)][_0x153a0f(0x192)](_0x153a0f(0x174),_0x435e52,_0x5b0782[_0x153a0f(0x16e)]),_0x3851cf['status'](0xc8)[_0x153a0f(0x18b)]({'success':![],'message':_0x435e52 instanceof Error?_0x435e52[_0x153a0f(0x19b)]:_0x153a0f(0x1a0)});}},this[_0x1a126c(0x177)]=async(_0x3ff74b,_0x3e47f2,_0xd9e4a7)=>{const _0x361830=_0x1a126c;try{console['log']('Received\x20Rapyd\x20webhook:',_0x3ff74b[_0x361830(0x16e)]),loggerService_1[_0x361830(0x186)][_0x361830(0x17a)](_0x361830(0x194),_0x3ff74b[_0x361830(0x16e)],_0x3ff74b[_0x361830(0x18a)]);const _0x36dbc0=await this['webhookService'][_0x361830(0x168)](_0x3ff74b[_0x361830(0x16e)]);_0x3e47f2['status'](0xc8)['json']({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0xeaa14f){console[_0x361830(0x1a1)](_0x361830(0x171),_0xeaa14f),loggerService_1['loggerService'][_0x361830(0x192)]('rapyd',_0xeaa14f,_0x3ff74b[_0x361830(0x16e)]),_0x3e47f2[_0x361830(0x180)](0xc8)[_0x361830(0x18b)]({'success':![],'message':_0xeaa14f instanceof Error?_0xeaa14f[_0x361830(0x19b)]:_0x361830(0x16d)});}},this[_0x1a126c(0x190)]=async(_0x1ede5b,_0x3bbd0c,_0xa9e05c)=>{const _0x22f735=_0x1a126c;try{console[_0x22f735(0x1a5)]('Received\x20Noda\x20webhook:',_0x1ede5b[_0x22f735(0x16e)]),loggerService_1['loggerService'][_0x22f735(0x17a)](_0x22f735(0x198),_0x1ede5b['body'],_0x1ede5b[_0x22f735(0x18a)]);const _0x7996c2=await this[_0x22f735(0x17f)][_0x22f735(0x17b)](_0x1ede5b[_0x22f735(0x16e)]);_0x3bbd0c[_0x22f735(0x180)](0xc8)['json']({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x1800c5){console[_0x22f735(0x1a1)](_0x22f735(0x19f),_0x1800c5),loggerService_1[_0x22f735(0x186)]['logWebhookError']('noda',_0x1800c5,_0x1ede5b[_0x22f735(0x16e)]),_0x3bbd0c[_0x22f735(0x180)](0xc8)[_0x22f735(0x18b)]({'success':![],'message':_0x1800c5 instanceof Error?_0x1800c5[_0x22f735(0x19b)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x1a126c(0x16c)]=async(_0x2c2522,_0x197a3e,_0xc53523)=>{const _0x1084d0=_0x1a126c;try{console[_0x1084d0(0x1a5)]('Received\x20CoinToPay\x20webhook:',_0x2c2522[_0x1084d0(0x16e)]),loggerService_1[_0x1084d0(0x186)][_0x1084d0(0x17a)]('cointopay',_0x2c2522[_0x1084d0(0x16e)],_0x2c2522[_0x1084d0(0x18a)]);const _0x362c67=await this[_0x1084d0(0x17f)][_0x1084d0(0x19a)](_0x2c2522['body']);_0x197a3e[_0x1084d0(0x180)](0xc8)[_0x1084d0(0x18b)]({'success':!![],'message':_0x1084d0(0x18d)});}catch(_0x226e11){console[_0x1084d0(0x1a1)](_0x1084d0(0x172),_0x226e11),loggerService_1['loggerService'][_0x1084d0(0x192)](_0x1084d0(0x189),_0x226e11,_0x2c2522[_0x1084d0(0x16e)]),_0x197a3e[_0x1084d0(0x180)](0xc8)[_0x1084d0(0x18b)]({'success':![],'message':_0x226e11 instanceof Error?_0x226e11['message']:_0x1084d0(0x16b)});}},this['handleKlymeWebhook']=async(_0x47571c,_0x4f3650,_0x11ca9a)=>{const _0x5d6c87=_0x1a126c;try{console[_0x5d6c87(0x1a5)](_0x5d6c87(0x1a2),_0x47571c[_0x5d6c87(0x16e)]),loggerService_1[_0x5d6c87(0x186)][_0x5d6c87(0x17a)]('klyme',_0x47571c[_0x5d6c87(0x16e)],_0x47571c['headers']);const _0x2e8498=await this[_0x5d6c87(0x17f)][_0x5d6c87(0x170)](_0x47571c['body']);_0x4f3650[_0x5d6c87(0x180)](0xc8)[_0x5d6c87(0x18b)]({'success':!![],'message':_0x5d6c87(0x185)});}catch(_0x196dc7){console['error'](_0x5d6c87(0x18f),_0x196dc7),loggerService_1[_0x5d6c87(0x186)][_0x5d6c87(0x192)](_0x5d6c87(0x17d),_0x196dc7,_0x47571c[_0x5d6c87(0x16e)]),_0x4f3650['status'](0xc8)[_0x5d6c87(0x18b)]({'success':![],'message':_0x196dc7 instanceof Error?_0x196dc7['message']:_0x5d6c87(0x187)});}},this[_0x1a126c(0x17f)]=new webhookService_1['WebhookService']();}}exports[a14_0x3f505d(0x16a)]=WebhookController;