'use strict';function a17_0x3824(){const _0x49211f=['handleVisaWebhook','Method:','CoinToPay2\x20webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','16UWVXiS','get','../services/loggerService','status','Headers:','handleCoinToPayWebhook','Body:','===\x20AmPay\x20Webhook\x20Received\x20===','mastercard','WebhookController','handleCoinToPay2Webhook','AmPay\x20webhook\x20processing\x20error:','566324ZWerkU','VISA\x20webhook\x20processing\x20error:','message','Body\x20keys:','keys','KLYME\x20webhook\x20processing\x20failed','2825110DyFMrW','Received\x20Noda\x20webhook:','7955720monDOZ','processKlymeWebhook','processRapydWebhook','Query\x20params:','Webhook\x20processing\x20error:','630315lpALUS','Gateway\x20webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20failed','WebhookService','handleAmPayTRYWebhook','===\x20AmPay\x20TRY\x20Webhook\x20Received\x20===','logWebhookReceived','plisio_gateway','===\x20MyXSpend\x20Webhook\x20Received\x20===','Amer\x20webhook\x20processed\x20successfully','AmPay\x20TRY\x20webhook\x20processing\x20error:','Noda\x20webhook\x20processed\x20successfully','visa','KLYME\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20error:','AmPay\x20TRY\x20webhook\x20processing\x20failed','processAmerWebhook','processCoinToPay2Webhook','query','Received\x20KLYME\x20webhook:','AmPay\x20TRY\x20webhook\x20processed\x20successfully','handlePlisioGatewayWebhook','Noda\x20webhook\x20processing\x20failed','724839jadQEg','Raw\x20body\x20type:','MyXSpend\x20webhook\x20processing\x20failed','MyXSpend\x20webhook\x20processed\x20successfully','CoinToPay2\x20webhook\x20processing\x20error:','Received\x20Amer\x20webhook:','Body\x20content:','Body\x20type:','Received\x20CoinToPay\x20webhook:','processNodaWebhook','log','Rapyd\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20failed','Webhook\x20processing\x20failed','Rapyd\x20webhook\x20processed\x20successfully','AmPay\x20webhook\x20processing\x20failed','ampay','1ArHMuZ','json','myxspend','handleMyXSpendWebhook','Webhook\x20processed\x20successfully','loggerService','processMyXSpendWebhook','body','Content-Type','Received\x20Rapyd\x20webhook:','cointopay','processAmPayTRYWebhook','handleKlymeWebhook','logWebhookError','handleRapydWebhook','VISA\x20webhook\x20processing\x20failed','rapyd','webhookService','MyXSpend\x20webhook\x20processing\x20error:','handleNodaWebhook','headers','plisio','6QkDYDn','amer','cointopay2','processCoinToPayWebhook','Received\x20MasterCard\x20webhook:','processVisaWebhook','3720303LYwUjx','834886eXhLTq','processPlisioGatewayWebhook','noda','klyme','AmPay\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20error:','Amer\x20webhook\x20processing\x20error:','handleMasterCardWebhook','error'];a17_0x3824=function(){return _0x49211f;};return a17_0x3824();}const a17_0x2b4c39=a17_0xf8b1;function a17_0xf8b1(_0x20679c,_0x216505){const _0x382477=a17_0x3824();return a17_0xf8b1=function(_0xf8b1d8,_0x515b6b){_0xf8b1d8=_0xf8b1d8-0x161;let _0x3484e6=_0x382477[_0xf8b1d8];return _0x3484e6;},a17_0xf8b1(_0x20679c,_0x216505);}(function(_0x512e65,_0x51ea1a){const _0x1520e7=a17_0xf8b1,_0x47e597=_0x512e65();while(!![]){try{const _0x14b6b3=parseInt(_0x1520e7(0x184))/0x1*(parseInt(_0x1520e7(0x1a1))/0x2)+parseInt(_0x1520e7(0x173))/0x3+-parseInt(_0x1520e7(0x1ba))/0x4+parseInt(_0x1520e7(0x1c0))/0x5*(parseInt(_0x1520e7(0x19a))/0x6)+parseInt(_0x1520e7(0x1c7))/0x7*(-parseInt(_0x1520e7(0x1ae))/0x8)+parseInt(_0x1520e7(0x1a0))/0x9+-parseInt(_0x1520e7(0x1c2))/0xa;if(_0x14b6b3===_0x51ea1a)break;else _0x47e597['push'](_0x47e597['shift']());}catch(_0x1984b6){_0x47e597['push'](_0x47e597['shift']());}}}(a17_0x3824,0x7f00a));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a17_0x2b4c39(0x1b7)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a17_0x2b4c39(0x1b0));class WebhookController{constructor(){const _0x2f35a5=a17_0x2b4c39;this['handlePlisioWebhook']=async(_0x4789ac,_0x52dcfe,_0x40d997)=>{const _0x4b7b1b=a17_0xf8b1;try{console['log'](_0x4b7b1b(0x1ad)),console['log']('Content-Type:',_0x4789ac[_0x4b7b1b(0x1af)](_0x4b7b1b(0x18c))),console[_0x4b7b1b(0x17d)](_0x4b7b1b(0x174),typeof _0x4789ac[_0x4b7b1b(0x18b)]),console[_0x4b7b1b(0x17d)](_0x4b7b1b(0x1bd),Object[_0x4b7b1b(0x1be)](_0x4789ac['body']||{})),console[_0x4b7b1b(0x17d)](_0x4b7b1b(0x179),_0x4789ac[_0x4b7b1b(0x18b)]),loggerService_1[_0x4b7b1b(0x189)][_0x4b7b1b(0x162)](_0x4b7b1b(0x199),_0x4789ac['body'],_0x4789ac[_0x4b7b1b(0x198)]);const _0x279c20=await this[_0x4b7b1b(0x195)]['processPlisioWebhook'](_0x4789ac[_0x4b7b1b(0x18b)]);_0x52dcfe[_0x4b7b1b(0x1b1)](0xc8)['json']({'success':!![],'message':_0x4b7b1b(0x188)});}catch(_0xa10395){console['error'](_0x4b7b1b(0x1c6),_0xa10395),loggerService_1[_0x4b7b1b(0x189)]['logWebhookError']('plisio',_0xa10395,_0x4789ac['body']),_0x52dcfe[_0x4b7b1b(0x1b1)](0xc8)['json']({'success':![],'message':_0xa10395 instanceof Error?_0xa10395['message']:_0x4b7b1b(0x180)});}},this[_0x2f35a5(0x171)]=async(_0x3c35d4,_0x5efb8c,_0x5660eb)=>{const _0xd75434=_0x2f35a5;try{console[_0xd75434(0x17d)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0xd75434(0x17d)]('Content-Type:',_0x3c35d4['get'](_0xd75434(0x18c))),console[_0xd75434(0x17d)](_0xd75434(0x174),typeof _0x3c35d4[_0xd75434(0x18b)]),console[_0xd75434(0x17d)](_0xd75434(0x1bd),Object[_0xd75434(0x1be)](_0x3c35d4[_0xd75434(0x18b)]||{})),console[_0xd75434(0x17d)]('Body\x20content:',_0x3c35d4[_0xd75434(0x18b)]),loggerService_1[_0xd75434(0x189)]['logWebhookReceived'](_0xd75434(0x163),_0x3c35d4[_0xd75434(0x18b)],_0x3c35d4[_0xd75434(0x198)]);const _0x18b3ba=await this[_0xd75434(0x195)][_0xd75434(0x1a2)](_0x3c35d4[_0xd75434(0x18b)]);_0x5efb8c[_0xd75434(0x1b1)](0xc8)[_0xd75434(0x185)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x4cb012){console['error'](_0xd75434(0x1c8),_0x4cb012),loggerService_1[_0xd75434(0x189)][_0xd75434(0x191)](_0xd75434(0x163),_0x4cb012,_0x3c35d4['body']),_0x5efb8c[_0xd75434(0x1b1)](0xc8)[_0xd75434(0x185)]({'success':![],'message':_0x4cb012 instanceof Error?_0x4cb012[_0xd75434(0x1bc)]:_0xd75434(0x17f)});}},this[_0x2f35a5(0x192)]=async(_0x590b16,_0x411223,_0x2a7948)=>{const _0x463bdc=_0x2f35a5;try{console['log'](_0x463bdc(0x18d),_0x590b16[_0x463bdc(0x18b)]),loggerService_1['loggerService'][_0x463bdc(0x162)](_0x463bdc(0x194),_0x590b16[_0x463bdc(0x18b)],_0x590b16[_0x463bdc(0x198)]);const _0x51a0f2=await this[_0x463bdc(0x195)][_0x463bdc(0x1c4)](_0x590b16['body']);_0x411223['status'](0xc8)['json']({'success':!![],'message':_0x463bdc(0x181)});}catch(_0x1091a3){console[_0x463bdc(0x1a9)]('Rapyd\x20webhook\x20processing\x20error:',_0x1091a3),loggerService_1[_0x463bdc(0x189)]['logWebhookError'](_0x463bdc(0x194),_0x1091a3,_0x590b16[_0x463bdc(0x18b)]),_0x411223[_0x463bdc(0x1b1)](0xc8)[_0x463bdc(0x185)]({'success':![],'message':_0x1091a3 instanceof Error?_0x1091a3[_0x463bdc(0x1bc)]:_0x463bdc(0x17e)});}},this[_0x2f35a5(0x197)]=async(_0x3c036a,_0x41b251,_0x295f68)=>{const _0x193d89=_0x2f35a5;try{console[_0x193d89(0x17d)](_0x193d89(0x1c1),_0x3c036a[_0x193d89(0x18b)]),loggerService_1[_0x193d89(0x189)][_0x193d89(0x162)](_0x193d89(0x1a3),_0x3c036a['body'],_0x3c036a[_0x193d89(0x198)]);const _0x514e45=await this[_0x193d89(0x195)][_0x193d89(0x17c)](_0x3c036a[_0x193d89(0x18b)]);_0x41b251['status'](0xc8)[_0x193d89(0x185)]({'success':!![],'message':_0x193d89(0x167)});}catch(_0x29f03a){console['error']('Noda\x20webhook\x20processing\x20error:',_0x29f03a),loggerService_1[_0x193d89(0x189)]['logWebhookError'](_0x193d89(0x1a3),_0x29f03a,_0x3c036a[_0x193d89(0x18b)]),_0x41b251[_0x193d89(0x1b1)](0xc8)[_0x193d89(0x185)]({'success':![],'message':_0x29f03a instanceof Error?_0x29f03a[_0x193d89(0x1bc)]:_0x193d89(0x172)});}},this[_0x2f35a5(0x1b3)]=async(_0x301274,_0x21b39c,_0x4b9dfc)=>{const _0x18ed1d=_0x2f35a5;try{console[_0x18ed1d(0x17d)](_0x18ed1d(0x17b),_0x301274[_0x18ed1d(0x18b)]),loggerService_1[_0x18ed1d(0x189)][_0x18ed1d(0x162)]('cointopay',_0x301274[_0x18ed1d(0x18b)],_0x301274['headers']);const _0x40e071=await this['webhookService'][_0x18ed1d(0x19d)](_0x301274[_0x18ed1d(0x18b)]);_0x21b39c[_0x18ed1d(0x1b1)](0xc8)[_0x18ed1d(0x185)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0xf29a4e){console[_0x18ed1d(0x1a9)](_0x18ed1d(0x1a6),_0xf29a4e),loggerService_1['loggerService'][_0x18ed1d(0x191)](_0x18ed1d(0x18e),_0xf29a4e,_0x301274['body']),_0x21b39c['status'](0xc8)[_0x18ed1d(0x185)]({'success':![],'message':_0xf29a4e instanceof Error?_0xf29a4e[_0x18ed1d(0x1bc)]:_0x18ed1d(0x1c9)});}},this[_0x2f35a5(0x1b8)]=async(_0x1643b0,_0x58432f,_0x6bee69)=>{const _0x57328c=_0x2f35a5;try{console[_0x57328c(0x17d)]('Received\x20CoinToPay2\x20webhook:',_0x1643b0[_0x57328c(0x18b)]),loggerService_1[_0x57328c(0x189)][_0x57328c(0x162)](_0x57328c(0x19c),_0x1643b0[_0x57328c(0x18b)],_0x1643b0[_0x57328c(0x198)]);const _0xe5c5=await this['webhookService'][_0x57328c(0x16d)](_0x1643b0[_0x57328c(0x18b)]);_0x58432f['status'](0xc8)[_0x57328c(0x185)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x166b98){console[_0x57328c(0x1a9)](_0x57328c(0x177),_0x166b98),loggerService_1['loggerService']['logWebhookError'](_0x57328c(0x19c),_0x166b98,_0x1643b0[_0x57328c(0x18b)]),_0x58432f[_0x57328c(0x1b1)](0xc8)['json']({'success':![],'message':_0x166b98 instanceof Error?_0x166b98[_0x57328c(0x1bc)]:_0x57328c(0x1ac)});}},this[_0x2f35a5(0x190)]=async(_0x5da9cc,_0x59e92f,_0xb06a01)=>{const _0x548ece=_0x2f35a5;try{console[_0x548ece(0x17d)](_0x548ece(0x16f),_0x5da9cc[_0x548ece(0x18b)]),loggerService_1[_0x548ece(0x189)][_0x548ece(0x162)](_0x548ece(0x1a4),_0x5da9cc[_0x548ece(0x18b)],_0x5da9cc[_0x548ece(0x198)]);const _0x5ea84e=await this[_0x548ece(0x195)][_0x548ece(0x1c3)](_0x5da9cc['body']);_0x59e92f[_0x548ece(0x1b1)](0xc8)[_0x548ece(0x185)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x44f1d7){console[_0x548ece(0x1a9)](_0x548ece(0x169),_0x44f1d7),loggerService_1[_0x548ece(0x189)][_0x548ece(0x191)](_0x548ece(0x1a4),_0x44f1d7,_0x5da9cc[_0x548ece(0x18b)]),_0x59e92f[_0x548ece(0x1b1)](0xc8)[_0x548ece(0x185)]({'success':![],'message':_0x44f1d7 instanceof Error?_0x44f1d7[_0x548ece(0x1bc)]:_0x548ece(0x1bf)});}},this[_0x2f35a5(0x1aa)]=async(_0x1ab4c3,_0x340d4f,_0x331f04)=>{const _0x1f0f71=_0x2f35a5;try{console[_0x1f0f71(0x17d)]('Received\x20VISA\x20webhook:',_0x1ab4c3['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x1f0f71(0x168),_0x1ab4c3[_0x1f0f71(0x18b)],_0x1ab4c3['headers']);const _0x2e43cf=await this[_0x1f0f71(0x195)][_0x1f0f71(0x19f)](_0x1ab4c3[_0x1f0f71(0x18b)]);_0x340d4f[_0x1f0f71(0x1b1)](0xc8)[_0x1f0f71(0x185)]({'success':!![],'message':'VISA\x20webhook\x20processed\x20successfully'});}catch(_0x23ef01){console['error'](_0x1f0f71(0x1bb),_0x23ef01),loggerService_1[_0x1f0f71(0x189)][_0x1f0f71(0x191)](_0x1f0f71(0x168),_0x23ef01,_0x1ab4c3[_0x1f0f71(0x18b)]),_0x340d4f['status'](0xc8)[_0x1f0f71(0x185)]({'success':![],'message':_0x23ef01 instanceof Error?_0x23ef01['message']:_0x1f0f71(0x193)});}},this[_0x2f35a5(0x1a8)]=async(_0x3eaabe,_0x5bd190,_0x558283)=>{const _0x51a5a9=_0x2f35a5;try{console[_0x51a5a9(0x17d)](_0x51a5a9(0x19e),_0x3eaabe[_0x51a5a9(0x18b)]),loggerService_1[_0x51a5a9(0x189)][_0x51a5a9(0x162)](_0x51a5a9(0x1b6),_0x3eaabe[_0x51a5a9(0x18b)],_0x3eaabe[_0x51a5a9(0x198)]);const _0x574521=await this[_0x51a5a9(0x195)]['processMasterCardWebhook'](_0x3eaabe[_0x51a5a9(0x18b)]);_0x5bd190[_0x51a5a9(0x1b1)](0xc8)['json']({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x6ccc18){console[_0x51a5a9(0x1a9)](_0x51a5a9(0x16a),_0x6ccc18),loggerService_1[_0x51a5a9(0x189)][_0x51a5a9(0x191)](_0x51a5a9(0x1b6),_0x6ccc18,_0x3eaabe[_0x51a5a9(0x18b)]),_0x5bd190[_0x51a5a9(0x1b1)](0xc8)[_0x51a5a9(0x185)]({'success':![],'message':_0x6ccc18 instanceof Error?_0x6ccc18[_0x51a5a9(0x1bc)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this['handleAmerWebhook']=async(_0x1fadf2,_0x556c97,_0x256741)=>{const _0x3a5901=_0x2f35a5;try{console[_0x3a5901(0x17d)](_0x3a5901(0x178),_0x1fadf2[_0x3a5901(0x18b)]),loggerService_1[_0x3a5901(0x189)][_0x3a5901(0x162)](_0x3a5901(0x19b),_0x1fadf2[_0x3a5901(0x18b)],_0x1fadf2[_0x3a5901(0x198)]);const _0x29b744=await this[_0x3a5901(0x195)][_0x3a5901(0x16c)](_0x1fadf2[_0x3a5901(0x18b)]);_0x556c97[_0x3a5901(0x1b1)](0xc8)[_0x3a5901(0x185)]({'success':!![],'message':_0x3a5901(0x165)});}catch(_0x3c72e6){console['error'](_0x3a5901(0x1a7),_0x3c72e6),loggerService_1[_0x3a5901(0x189)][_0x3a5901(0x191)]('amer',_0x3c72e6,_0x1fadf2[_0x3a5901(0x18b)]),_0x556c97[_0x3a5901(0x1b1)](0xc8)[_0x3a5901(0x185)]({'success':![],'message':_0x3c72e6 instanceof Error?_0x3c72e6[_0x3a5901(0x1bc)]:'Amer\x20webhook\x20processing\x20failed'});}},this['handleAmPayWebhook']=async(_0x1c0196,_0x32ce9c,_0x296711)=>{const _0x2f3aaa=_0x2f35a5;try{console[_0x2f3aaa(0x17d)](_0x2f3aaa(0x1b5)),console[_0x2f3aaa(0x17d)](_0x2f3aaa(0x1b2),_0x1c0196['headers']),console['log']('Body:',_0x1c0196[_0x2f3aaa(0x18b)]),console[_0x2f3aaa(0x17d)]('Body\x20type:',typeof _0x1c0196['body']),console[_0x2f3aaa(0x17d)](_0x2f3aaa(0x1bd),Object[_0x2f3aaa(0x1be)](_0x1c0196[_0x2f3aaa(0x18b)]||{})),loggerService_1['loggerService'][_0x2f3aaa(0x162)](_0x2f3aaa(0x183),_0x1c0196['body'],_0x1c0196[_0x2f3aaa(0x198)]);const _0x21c1ff=await this[_0x2f3aaa(0x195)]['processAmPayWebhook'](_0x1c0196[_0x2f3aaa(0x18b)]);_0x32ce9c[_0x2f3aaa(0x1b1)](0xc8)['json']({'success':!![],'message':_0x2f3aaa(0x1a5)});}catch(_0x3d323e){console[_0x2f3aaa(0x1a9)](_0x2f3aaa(0x1b9),_0x3d323e),loggerService_1[_0x2f3aaa(0x189)][_0x2f3aaa(0x191)]('ampay',_0x3d323e,_0x1c0196[_0x2f3aaa(0x18b)]),_0x32ce9c['status'](0xc8)[_0x2f3aaa(0x185)]({'success':![],'message':_0x3d323e instanceof Error?_0x3d323e[_0x2f3aaa(0x1bc)]:_0x2f3aaa(0x182)});}},this[_0x2f35a5(0x1cb)]=async(_0xcc24f7,_0x10eaa8,_0x5adc38)=>{const _0x538f2b=_0x2f35a5;try{console[_0x538f2b(0x17d)](_0x538f2b(0x161)),console[_0x538f2b(0x17d)]('Headers:',_0xcc24f7[_0x538f2b(0x198)]),console[_0x538f2b(0x17d)](_0x538f2b(0x1b4),_0xcc24f7[_0x538f2b(0x18b)]),console['log'](_0x538f2b(0x17a),typeof _0xcc24f7[_0x538f2b(0x18b)]),console[_0x538f2b(0x17d)]('Body\x20keys:',Object[_0x538f2b(0x1be)](_0xcc24f7[_0x538f2b(0x18b)]||{})),loggerService_1[_0x538f2b(0x189)][_0x538f2b(0x162)]('ampay_try',_0xcc24f7['body'],_0xcc24f7[_0x538f2b(0x198)]);const _0x5686bb=await this[_0x538f2b(0x195)][_0x538f2b(0x18f)](_0xcc24f7[_0x538f2b(0x18b)]);_0x10eaa8[_0x538f2b(0x1b1)](0xc8)[_0x538f2b(0x185)]({'success':!![],'message':_0x538f2b(0x170)});}catch(_0x18f02d){console[_0x538f2b(0x1a9)](_0x538f2b(0x166),_0x18f02d),loggerService_1[_0x538f2b(0x189)][_0x538f2b(0x191)]('ampay_try',_0x18f02d,_0xcc24f7['body']),_0x10eaa8[_0x538f2b(0x1b1)](0xc8)['json']({'success':![],'message':_0x18f02d instanceof Error?_0x18f02d[_0x538f2b(0x1bc)]:_0x538f2b(0x16b)});}},this[_0x2f35a5(0x187)]=async(_0x2998e2,_0x90397d,_0x303f89)=>{const _0x151f9=_0x2f35a5;try{console['log'](_0x151f9(0x164)),console[_0x151f9(0x17d)]('Headers:',_0x2998e2[_0x151f9(0x198)]),console[_0x151f9(0x17d)](_0x151f9(0x1c5),_0x2998e2[_0x151f9(0x16e)]),console[_0x151f9(0x17d)](_0x151f9(0x1b4),_0x2998e2['body']),console[_0x151f9(0x17d)](_0x151f9(0x1ab),_0x2998e2['method']),loggerService_1[_0x151f9(0x189)][_0x151f9(0x162)](_0x151f9(0x186),_0x2998e2[_0x151f9(0x18b)]||_0x2998e2[_0x151f9(0x16e)],_0x2998e2['headers']);const _0x3ff049=await this[_0x151f9(0x195)][_0x151f9(0x18a)](_0x2998e2[_0x151f9(0x16e)],_0x2998e2['body']);_0x90397d[_0x151f9(0x1b1)](0xc8)[_0x151f9(0x185)]({'success':!![],'message':_0x151f9(0x176)});}catch(_0x3ad748){console[_0x151f9(0x1a9)](_0x151f9(0x196),_0x3ad748),loggerService_1[_0x151f9(0x189)][_0x151f9(0x191)]('myxspend',_0x3ad748,_0x2998e2['body']||_0x2998e2[_0x151f9(0x16e)]),_0x90397d[_0x151f9(0x1b1)](0xc8)[_0x151f9(0x185)]({'success':![],'message':_0x3ad748 instanceof Error?_0x3ad748[_0x151f9(0x1bc)]:_0x151f9(0x175)});}},this[_0x2f35a5(0x195)]=new webhookService_1[(_0x2f35a5(0x1ca))]();}}exports[a17_0x2b4c39(0x1b7)]=WebhookController;