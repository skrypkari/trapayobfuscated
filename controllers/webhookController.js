'use strict';const a15_0x481093=a15_0x319c;function a15_0x1061(){const _0x3ae70d=['Body\x20content:','31852064MJcLHk','MasterCard\x20webhook\x20processing\x20error:','../services/loggerService','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','11104149YcBpaZ','Received\x20KLYME\x20webhook:','Received\x20Noda\x20webhook:','plisio','message','Rapyd\x20webhook\x20processed\x20successfully','processPlisioWebhook','WebhookController','defineProperty','error','Content-Type','handleRapydWebhook','Rapyd\x20webhook\x20processing\x20error:','noda','processMasterCardWebhook','3611344NnOpcc','rapyd','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','get','Received\x20MasterCard\x20webhook:','handlePlisioWebhook','__esModule','CoinToPay\x20webhook\x20processing\x20error:','Received\x20Rapyd\x20webhook:','handleMasterCardWebhook','Raw\x20body\x20type:','cointopay','Rapyd\x20webhook\x20processing\x20failed','processNodaWebhook','MasterCard\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processed\x20successfully','Webhook\x20processing\x20error:','Content-Type:','loggerService','Body\x20keys:','KLYME\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20failed','Gateway\x20webhook\x20processing\x20failed','WebhookService','json','status','webhookService','body','processRapydWebhook','plisio_gateway','headers','KLYME\x20webhook\x20processed\x20successfully','7701450YnestK','1452279BuQoRk','KLYME\x20webhook\x20processing\x20error:','logWebhookReceived','klyme','log','2235945GJePiv','Webhook\x20processing\x20failed','logWebhookError','Noda\x20webhook\x20processed\x20successfully','processCoinToPayWebhook','38438wKRWkO','Received\x20CoinToPay\x20webhook:','18FbbzcK'];a15_0x1061=function(){return _0x3ae70d;};return a15_0x1061();}function a15_0x319c(_0x1d566b,_0x36921e){const _0x106154=a15_0x1061();return a15_0x319c=function(_0x319cad,_0x5a2252){_0x319cad=_0x319cad-0x9c;let _0x445deb=_0x106154[_0x319cad];return _0x445deb;},a15_0x319c(_0x1d566b,_0x36921e);}(function(_0x2b470b,_0x26bdfe){const _0x2f057e=a15_0x319c,_0x184748=_0x2b470b();while(!![]){try{const _0x3978f9=-parseInt(_0x2f057e(0xbb))/0x1+-parseInt(_0x2f057e(0xc5))/0x2*(parseInt(_0x2f057e(0xc7))/0x3)+parseInt(_0x2f057e(0xdc))/0x4+parseInt(_0x2f057e(0xc0))/0x5+-parseInt(_0x2f057e(0xba))/0x6+-parseInt(_0x2f057e(0xcd))/0x7+parseInt(_0x2f057e(0xc9))/0x8;if(_0x3978f9===_0x26bdfe)break;else _0x184748['push'](_0x184748['shift']());}catch(_0x53961b){_0x184748['push'](_0x184748['shift']());}}}(a15_0x1061,0xda46a));Object[a15_0x481093(0xd5)](exports,a15_0x481093(0xa0),{'value':!![]}),exports[a15_0x481093(0xd4)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x481093(0xcb));class WebhookController{constructor(){const _0x48c9fe=a15_0x481093;this[_0x48c9fe(0x9f)]=async(_0x3a5ab3,_0x10cec7,_0x55f396)=>{const _0x52436e=_0x48c9fe;try{console['log'](_0x52436e(0x9c)),console[_0x52436e(0xbf)](_0x52436e(0xab),_0x3a5ab3['get'](_0x52436e(0xd7))),console['log'](_0x52436e(0xa4),typeof _0x3a5ab3[_0x52436e(0xb5)]),console[_0x52436e(0xbf)](_0x52436e(0xad),Object['keys'](_0x3a5ab3[_0x52436e(0xb5)]||{})),console[_0x52436e(0xbf)](_0x52436e(0xc8),_0x3a5ab3[_0x52436e(0xb5)]),loggerService_1[_0x52436e(0xac)]['logWebhookReceived'](_0x52436e(0xd0),_0x3a5ab3[_0x52436e(0xb5)],_0x3a5ab3['headers']);const _0x48451d=await this['webhookService'][_0x52436e(0xd3)](_0x3a5ab3[_0x52436e(0xb5)]);_0x10cec7[_0x52436e(0xb3)](0xc8)[_0x52436e(0xb2)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x4cf9d3){console[_0x52436e(0xd6)](_0x52436e(0xaa),_0x4cf9d3),loggerService_1[_0x52436e(0xac)]['logWebhookError'](_0x52436e(0xd0),_0x4cf9d3,_0x3a5ab3[_0x52436e(0xb5)]),_0x10cec7[_0x52436e(0xb3)](0xc8)['json']({'success':![],'message':_0x4cf9d3 instanceof Error?_0x4cf9d3[_0x52436e(0xd1)]:_0x52436e(0xc1)});}},this['handlePlisioGatewayWebhook']=async(_0x52f7d9,_0x43ebe2,_0x4b8e99)=>{const _0x2ffbdd=_0x48c9fe;try{console[_0x2ffbdd(0xbf)](_0x2ffbdd(0xcc)),console[_0x2ffbdd(0xbf)](_0x2ffbdd(0xab),_0x52f7d9[_0x2ffbdd(0x9d)](_0x2ffbdd(0xd7))),console['log'](_0x2ffbdd(0xa4),typeof _0x52f7d9[_0x2ffbdd(0xb5)]),console[_0x2ffbdd(0xbf)]('Body\x20keys:',Object['keys'](_0x52f7d9[_0x2ffbdd(0xb5)]||{})),console[_0x2ffbdd(0xbf)](_0x2ffbdd(0xc8),_0x52f7d9[_0x2ffbdd(0xb5)]),loggerService_1[_0x2ffbdd(0xac)][_0x2ffbdd(0xbd)](_0x2ffbdd(0xb7),_0x52f7d9[_0x2ffbdd(0xb5)],_0x52f7d9['headers']);const _0x2680d3=await this[_0x2ffbdd(0xb4)]['processPlisioGatewayWebhook'](_0x52f7d9['body']);_0x43ebe2[_0x2ffbdd(0xb3)](0xc8)['json']({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x3981da){console['error']('Gateway\x20webhook\x20processing\x20error:',_0x3981da),loggerService_1[_0x2ffbdd(0xac)][_0x2ffbdd(0xc2)]('plisio_gateway',_0x3981da,_0x52f7d9['body']),_0x43ebe2[_0x2ffbdd(0xb3)](0xc8)[_0x2ffbdd(0xb2)]({'success':![],'message':_0x3981da instanceof Error?_0x3981da['message']:_0x2ffbdd(0xb0)});}},this[_0x48c9fe(0xd8)]=async(_0x320fbc,_0x70a801,_0x45641f)=>{const _0x23471c=_0x48c9fe;try{console[_0x23471c(0xbf)](_0x23471c(0xa2),_0x320fbc[_0x23471c(0xb5)]),loggerService_1[_0x23471c(0xac)]['logWebhookReceived'](_0x23471c(0xdd),_0x320fbc['body'],_0x320fbc[_0x23471c(0xb8)]);const _0x4ff247=await this['webhookService'][_0x23471c(0xb6)](_0x320fbc[_0x23471c(0xb5)]);_0x70a801[_0x23471c(0xb3)](0xc8)[_0x23471c(0xb2)]({'success':!![],'message':_0x23471c(0xd2)});}catch(_0x17b23a){console[_0x23471c(0xd6)](_0x23471c(0xd9),_0x17b23a),loggerService_1['loggerService']['logWebhookError'](_0x23471c(0xdd),_0x17b23a,_0x320fbc[_0x23471c(0xb5)]),_0x70a801[_0x23471c(0xb3)](0xc8)['json']({'success':![],'message':_0x17b23a instanceof Error?_0x17b23a[_0x23471c(0xd1)]:_0x23471c(0xa6)});}},this['handleNodaWebhook']=async(_0x229382,_0x437266,_0x5aeb38)=>{const _0x5e4ac3=_0x48c9fe;try{console['log'](_0x5e4ac3(0xcf),_0x229382[_0x5e4ac3(0xb5)]),loggerService_1[_0x5e4ac3(0xac)][_0x5e4ac3(0xbd)](_0x5e4ac3(0xda),_0x229382[_0x5e4ac3(0xb5)],_0x229382[_0x5e4ac3(0xb8)]);const _0x5ab2c6=await this[_0x5e4ac3(0xb4)][_0x5e4ac3(0xa7)](_0x229382[_0x5e4ac3(0xb5)]);_0x437266[_0x5e4ac3(0xb3)](0xc8)[_0x5e4ac3(0xb2)]({'success':!![],'message':_0x5e4ac3(0xc3)});}catch(_0x567bc7){console[_0x5e4ac3(0xd6)]('Noda\x20webhook\x20processing\x20error:',_0x567bc7),loggerService_1['loggerService'][_0x5e4ac3(0xc2)](_0x5e4ac3(0xda),_0x567bc7,_0x229382[_0x5e4ac3(0xb5)]),_0x437266[_0x5e4ac3(0xb3)](0xc8)[_0x5e4ac3(0xb2)]({'success':![],'message':_0x567bc7 instanceof Error?_0x567bc7['message']:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x4c4b2e,_0x2ed44e,_0x47c739)=>{const _0x2e7cbb=_0x48c9fe;try{console[_0x2e7cbb(0xbf)](_0x2e7cbb(0xc6),_0x4c4b2e[_0x2e7cbb(0xb5)]),loggerService_1[_0x2e7cbb(0xac)][_0x2e7cbb(0xbd)](_0x2e7cbb(0xa5),_0x4c4b2e['body'],_0x4c4b2e[_0x2e7cbb(0xb8)]);const _0x207760=await this[_0x2e7cbb(0xb4)][_0x2e7cbb(0xc4)](_0x4c4b2e[_0x2e7cbb(0xb5)]);_0x2ed44e[_0x2e7cbb(0xb3)](0xc8)[_0x2e7cbb(0xb2)]({'success':!![],'message':_0x2e7cbb(0xa9)});}catch(_0x1bdf43){console[_0x2e7cbb(0xd6)](_0x2e7cbb(0xa1),_0x1bdf43),loggerService_1[_0x2e7cbb(0xac)]['logWebhookError'](_0x2e7cbb(0xa5),_0x1bdf43,_0x4c4b2e[_0x2e7cbb(0xb5)]),_0x2ed44e[_0x2e7cbb(0xb3)](0xc8)[_0x2e7cbb(0xb2)]({'success':![],'message':_0x1bdf43 instanceof Error?_0x1bdf43[_0x2e7cbb(0xd1)]:_0x2e7cbb(0xaf)});}},this['handleKlymeWebhook']=async(_0x25266e,_0x1a34ab,_0x3515b3)=>{const _0x1f953a=_0x48c9fe;try{console[_0x1f953a(0xbf)](_0x1f953a(0xce),_0x25266e[_0x1f953a(0xb5)]),loggerService_1[_0x1f953a(0xac)][_0x1f953a(0xbd)](_0x1f953a(0xbe),_0x25266e[_0x1f953a(0xb5)],_0x25266e[_0x1f953a(0xb8)]);const _0x1b7b35=await this[_0x1f953a(0xb4)]['processKlymeWebhook'](_0x25266e[_0x1f953a(0xb5)]);_0x1a34ab[_0x1f953a(0xb3)](0xc8)[_0x1f953a(0xb2)]({'success':!![],'message':_0x1f953a(0xb9)});}catch(_0xee7078){console[_0x1f953a(0xd6)](_0x1f953a(0xbc),_0xee7078),loggerService_1['loggerService']['logWebhookError']('klyme',_0xee7078,_0x25266e[_0x1f953a(0xb5)]),_0x1a34ab[_0x1f953a(0xb3)](0xc8)[_0x1f953a(0xb2)]({'success':![],'message':_0xee7078 instanceof Error?_0xee7078[_0x1f953a(0xd1)]:_0x1f953a(0xae)});}},this[_0x48c9fe(0xa3)]=async(_0x5be529,_0x4e74cd,_0x407184)=>{const _0x58062d=_0x48c9fe;try{console[_0x58062d(0xbf)](_0x58062d(0x9e),_0x5be529[_0x58062d(0xb5)]),loggerService_1[_0x58062d(0xac)][_0x58062d(0xbd)]('mastercard',_0x5be529[_0x58062d(0xb5)],_0x5be529[_0x58062d(0xb8)]);const _0x2b0b88=await this[_0x58062d(0xb4)][_0x58062d(0xdb)](_0x5be529[_0x58062d(0xb5)]);_0x4e74cd[_0x58062d(0xb3)](0xc8)[_0x58062d(0xb2)]({'success':!![],'message':_0x58062d(0xa8)});}catch(_0x566c01){console[_0x58062d(0xd6)](_0x58062d(0xca),_0x566c01),loggerService_1[_0x58062d(0xac)][_0x58062d(0xc2)]('mastercard',_0x566c01,_0x5be529[_0x58062d(0xb5)]),_0x4e74cd[_0x58062d(0xb3)](0xc8)[_0x58062d(0xb2)]({'success':![],'message':_0x566c01 instanceof Error?_0x566c01[_0x58062d(0xd1)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x48c9fe(0xb4)]=new webhookService_1[(_0x48c9fe(0xb1))]();}}exports[a15_0x481093(0xd4)]=WebhookController;