'use strict';const a14_0xf541e9=a14_0x37c6;function a14_0x37c6(_0x332c5f,_0x5e734a){const _0x4fe36c=a14_0x4fe3();return a14_0x37c6=function(_0x37c66c,_0x5c4150){_0x37c66c=_0x37c66c-0xe7;let _0x5633ef=_0x4fe36c[_0x37c66c];return _0x5633ef;},a14_0x37c6(_0x332c5f,_0x5e734a);}(function(_0x407224,_0x312f86){const _0x3655dd=a14_0x37c6,_0x4cbfeb=_0x407224();while(!![]){try{const _0x1134f0=-parseInt(_0x3655dd(0x128))/0x1+-parseInt(_0x3655dd(0xf2))/0x2*(parseInt(_0x3655dd(0x119))/0x3)+parseInt(_0x3655dd(0xf9))/0x4+-parseInt(_0x3655dd(0x109))/0x5+parseInt(_0x3655dd(0x100))/0x6*(parseInt(_0x3655dd(0x124))/0x7)+parseInt(_0x3655dd(0x120))/0x8*(-parseInt(_0x3655dd(0x110))/0x9)+-parseInt(_0x3655dd(0xee))/0xa*(-parseInt(_0x3655dd(0xed))/0xb);if(_0x1134f0===_0x312f86)break;else _0x4cbfeb['push'](_0x4cbfeb['shift']());}catch(_0x118ddd){_0x4cbfeb['push'](_0x4cbfeb['shift']());}}}(a14_0x4fe3,0xef9d5));function a14_0x4fe3(){const _0x569af7=['3872994YkSIoz','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','defineProperty','klyme','logWebhookError','../services/webhookService','status','__esModule','processCoinToPayWebhook','9440795SwCeVX','webhookService','Content-Type:','log','processRapydWebhook','CoinToPay\x20webhook\x20processing\x20failed','WebhookController','43263nAOTfk','Received\x20CoinToPay\x20webhook:','loggerService','Rapyd\x20webhook\x20processing\x20error:','json','Body\x20keys:','Raw\x20body\x20type:','body','Rapyd\x20webhook\x20processing\x20failed','3CIwPsN','logWebhookReceived','handlePlisioGatewayWebhook','plisio','KLYME\x20webhook\x20processed\x20successfully','processPlisioGatewayWebhook','handleRapydWebhook','2440WznnDF','Webhook\x20processed\x20successfully','error','CoinToPay\x20webhook\x20processing\x20error:','7oBEXUb','cointopay','get','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','1337724qkmHHw','Received\x20Rapyd\x20webhook:','KLYME\x20webhook\x20processing\x20error:','Webhook\x20processing\x20failed','Body\x20content:','noda','Content-Type','Noda\x20webhook\x20processing\x20error:','54846979Eslpjx','10wfVfpm','CoinToPay\x20webhook\x20processed\x20successfully','handleKlymeWebhook','message','1140826pXXAZa','plisio_gateway','Rapyd\x20webhook\x20processed\x20successfully','WebhookService','Noda\x20webhook\x20processed\x20successfully','rapyd','keys','2449216TtngVw','Webhook\x20processing\x20error:','Gateway\x20webhook\x20processed\x20successfully','headers','Received\x20Noda\x20webhook:','../services/loggerService','processKlymeWebhook'];a14_0x4fe3=function(){return _0x569af7;};return a14_0x4fe3();}Object[a14_0xf541e9(0x102)](exports,a14_0xf541e9(0x107),{'value':!![]}),exports[a14_0xf541e9(0x10f)]=void 0x0;const webhookService_1=require(a14_0xf541e9(0x105)),loggerService_1=require(a14_0xf541e9(0xfe));class WebhookController{constructor(){const _0xb15eae=a14_0xf541e9;this['handlePlisioWebhook']=async(_0x39e48e,_0x445f21,_0xce27c1)=>{const _0x364bce=a14_0x37c6;try{console[_0x364bce(0x10c)](_0x364bce(0x101)),console[_0x364bce(0x10c)]('Content-Type:',_0x39e48e[_0x364bce(0x126)](_0x364bce(0xeb))),console[_0x364bce(0x10c)](_0x364bce(0x116),typeof _0x39e48e[_0x364bce(0x117)]),console[_0x364bce(0x10c)](_0x364bce(0x115),Object[_0x364bce(0xf8)](_0x39e48e['body']||{})),console[_0x364bce(0x10c)](_0x364bce(0xe9),_0x39e48e[_0x364bce(0x117)]),loggerService_1[_0x364bce(0x112)]['logWebhookReceived'](_0x364bce(0x11c),_0x39e48e[_0x364bce(0x117)],_0x39e48e['headers']);const _0x14a96b=await this[_0x364bce(0x10a)]['processPlisioWebhook'](_0x39e48e[_0x364bce(0x117)]);_0x445f21[_0x364bce(0x106)](0xc8)[_0x364bce(0x114)]({'success':!![],'message':_0x364bce(0x121)});}catch(_0x79aa19){console[_0x364bce(0x122)](_0x364bce(0xfa),_0x79aa19),loggerService_1['loggerService'][_0x364bce(0x104)]('plisio',_0x79aa19,_0x39e48e[_0x364bce(0x117)]),_0x445f21[_0x364bce(0x106)](0xc8)['json']({'success':![],'message':_0x79aa19 instanceof Error?_0x79aa19[_0x364bce(0xf1)]:_0x364bce(0xe8)});}},this[_0xb15eae(0x11b)]=async(_0x33e3a3,_0x512f05,_0x10f29f)=>{const _0x4efdcd=_0xb15eae;try{console[_0x4efdcd(0x10c)](_0x4efdcd(0x127)),console[_0x4efdcd(0x10c)](_0x4efdcd(0x10b),_0x33e3a3[_0x4efdcd(0x126)]('Content-Type')),console['log']('Raw\x20body\x20type:',typeof _0x33e3a3[_0x4efdcd(0x117)]),console[_0x4efdcd(0x10c)](_0x4efdcd(0x115),Object[_0x4efdcd(0xf8)](_0x33e3a3[_0x4efdcd(0x117)]||{})),console['log'](_0x4efdcd(0xe9),_0x33e3a3['body']),loggerService_1[_0x4efdcd(0x112)][_0x4efdcd(0x11a)]('plisio_gateway',_0x33e3a3[_0x4efdcd(0x117)],_0x33e3a3['headers']);const _0x408556=await this[_0x4efdcd(0x10a)][_0x4efdcd(0x11e)](_0x33e3a3[_0x4efdcd(0x117)]);_0x512f05['status'](0xc8)[_0x4efdcd(0x114)]({'success':!![],'message':_0x4efdcd(0xfb)});}catch(_0x18f934){console['error']('Gateway\x20webhook\x20processing\x20error:',_0x18f934),loggerService_1[_0x4efdcd(0x112)][_0x4efdcd(0x104)](_0x4efdcd(0xf3),_0x18f934,_0x33e3a3[_0x4efdcd(0x117)]),_0x512f05[_0x4efdcd(0x106)](0xc8)[_0x4efdcd(0x114)]({'success':![],'message':_0x18f934 instanceof Error?_0x18f934[_0x4efdcd(0xf1)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0xb15eae(0x11f)]=async(_0xdcb6f4,_0x3519b6,_0x560cdc)=>{const _0x520b13=_0xb15eae;try{console[_0x520b13(0x10c)](_0x520b13(0x129),_0xdcb6f4[_0x520b13(0x117)]),loggerService_1[_0x520b13(0x112)][_0x520b13(0x11a)]('rapyd',_0xdcb6f4[_0x520b13(0x117)],_0xdcb6f4[_0x520b13(0xfc)]);const _0x5e3065=await this[_0x520b13(0x10a)][_0x520b13(0x10d)](_0xdcb6f4['body']);_0x3519b6[_0x520b13(0x106)](0xc8)['json']({'success':!![],'message':_0x520b13(0xf4)});}catch(_0xab9ba0){console[_0x520b13(0x122)](_0x520b13(0x113),_0xab9ba0),loggerService_1[_0x520b13(0x112)][_0x520b13(0x104)](_0x520b13(0xf7),_0xab9ba0,_0xdcb6f4[_0x520b13(0x117)]),_0x3519b6['status'](0xc8)['json']({'success':![],'message':_0xab9ba0 instanceof Error?_0xab9ba0[_0x520b13(0xf1)]:_0x520b13(0x118)});}},this['handleNodaWebhook']=async(_0x44e41a,_0x108a4e,_0xab350d)=>{const _0x367e5f=_0xb15eae;try{console[_0x367e5f(0x10c)](_0x367e5f(0xfd),_0x44e41a[_0x367e5f(0x117)]),loggerService_1[_0x367e5f(0x112)][_0x367e5f(0x11a)](_0x367e5f(0xea),_0x44e41a['body'],_0x44e41a[_0x367e5f(0xfc)]);const _0x2eb707=await this['webhookService']['processNodaWebhook'](_0x44e41a['body']);_0x108a4e[_0x367e5f(0x106)](0xc8)[_0x367e5f(0x114)]({'success':!![],'message':_0x367e5f(0xf6)});}catch(_0x4af047){console['error'](_0x367e5f(0xec),_0x4af047),loggerService_1[_0x367e5f(0x112)][_0x367e5f(0x104)](_0x367e5f(0xea),_0x4af047,_0x44e41a[_0x367e5f(0x117)]),_0x108a4e[_0x367e5f(0x106)](0xc8)[_0x367e5f(0x114)]({'success':![],'message':_0x4af047 instanceof Error?_0x4af047['message']:'Noda\x20webhook\x20processing\x20failed'});}},this['handleCoinToPayWebhook']=async(_0x3cfa52,_0x31158e,_0x257414)=>{const _0x51d6f4=_0xb15eae;try{console[_0x51d6f4(0x10c)](_0x51d6f4(0x111),_0x3cfa52[_0x51d6f4(0x117)]),loggerService_1[_0x51d6f4(0x112)][_0x51d6f4(0x11a)](_0x51d6f4(0x125),_0x3cfa52[_0x51d6f4(0x117)],_0x3cfa52[_0x51d6f4(0xfc)]);const _0x39bac2=await this[_0x51d6f4(0x10a)][_0x51d6f4(0x108)](_0x3cfa52[_0x51d6f4(0x117)]);_0x31158e[_0x51d6f4(0x106)](0xc8)[_0x51d6f4(0x114)]({'success':!![],'message':_0x51d6f4(0xef)});}catch(_0x17198b){console[_0x51d6f4(0x122)](_0x51d6f4(0x123),_0x17198b),loggerService_1[_0x51d6f4(0x112)][_0x51d6f4(0x104)](_0x51d6f4(0x125),_0x17198b,_0x3cfa52[_0x51d6f4(0x117)]),_0x31158e[_0x51d6f4(0x106)](0xc8)['json']({'success':![],'message':_0x17198b instanceof Error?_0x17198b[_0x51d6f4(0xf1)]:_0x51d6f4(0x10e)});}},this[_0xb15eae(0xf0)]=async(_0x27dd87,_0x51bce7,_0x203b14)=>{const _0x4a5169=_0xb15eae;try{console['log']('Received\x20KLYME\x20webhook:',_0x27dd87[_0x4a5169(0x117)]),loggerService_1[_0x4a5169(0x112)][_0x4a5169(0x11a)](_0x4a5169(0x103),_0x27dd87[_0x4a5169(0x117)],_0x27dd87['headers']);const _0x9bf8b7=await this[_0x4a5169(0x10a)][_0x4a5169(0xff)](_0x27dd87[_0x4a5169(0x117)]);_0x51bce7[_0x4a5169(0x106)](0xc8)['json']({'success':!![],'message':_0x4a5169(0x11d)});}catch(_0x10fe65){console[_0x4a5169(0x122)](_0x4a5169(0xe7),_0x10fe65),loggerService_1[_0x4a5169(0x112)][_0x4a5169(0x104)]('klyme',_0x10fe65,_0x27dd87[_0x4a5169(0x117)]),_0x51bce7[_0x4a5169(0x106)](0xc8)['json']({'success':![],'message':_0x10fe65 instanceof Error?_0x10fe65[_0x4a5169(0xf1)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0xb15eae(0x10a)]=new webhookService_1[(_0xb15eae(0xf5))]();}}exports[a14_0xf541e9(0x10f)]=WebhookController;