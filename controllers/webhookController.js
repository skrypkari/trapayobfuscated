'use strict';const a15_0xc4b63b=a15_0x5165;(function(_0x627b59,_0x1c7c5a){const _0x1bf99a=a15_0x5165,_0x5a2a54=_0x627b59();while(!![]){try{const _0x3d23b4=-parseInt(_0x1bf99a(0xb7))/0x1*(-parseInt(_0x1bf99a(0xd7))/0x2)+-parseInt(_0x1bf99a(0xb0))/0x3*(-parseInt(_0x1bf99a(0x92))/0x4)+parseInt(_0x1bf99a(0xad))/0x5+-parseInt(_0x1bf99a(0xc5))/0x6*(-parseInt(_0x1bf99a(0xb9))/0x7)+-parseInt(_0x1bf99a(0xda))/0x8+-parseInt(_0x1bf99a(0x88))/0x9*(parseInt(_0x1bf99a(0xdb))/0xa)+parseInt(_0x1bf99a(0xd3))/0xb*(-parseInt(_0x1bf99a(0x7e))/0xc);if(_0x3d23b4===_0x1c7c5a)break;else _0x5a2a54['push'](_0x5a2a54['shift']());}catch(_0x5af0b2){_0x5a2a54['push'](_0x5a2a54['shift']());}}}(a15_0x3996,0xef7a7));Object['defineProperty'](exports,a15_0xc4b63b(0xbf),{'value':!![]}),exports[a15_0xc4b63b(0xb1)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0xe3d77d=a15_0xc4b63b;this[_0xe3d77d(0xa8)]=async(_0x2af721,_0x422397,_0x34a676)=>{const _0xf51eb2=_0xe3d77d;try{console['log'](_0xf51eb2(0x7d)),console[_0xf51eb2(0xc9)](_0xf51eb2(0xc3),_0x2af721['get'](_0xf51eb2(0x9c))),console[_0xf51eb2(0xc9)]('Raw\x20body\x20type:',typeof _0x2af721[_0xf51eb2(0xd0)]),console[_0xf51eb2(0xc9)]('Body\x20keys:',Object[_0xf51eb2(0x9e)](_0x2af721[_0xf51eb2(0xd0)]||{})),console[_0xf51eb2(0xc9)](_0xf51eb2(0xc2),_0x2af721['body']),loggerService_1[_0xf51eb2(0xa0)]['logWebhookReceived']('plisio',_0x2af721['body'],_0x2af721[_0xf51eb2(0xa9)]);const _0x1a46c3=await this[_0xf51eb2(0xd9)][_0xf51eb2(0xc6)](_0x2af721['body']);_0x422397[_0xf51eb2(0xd6)](0xc8)[_0xf51eb2(0xce)]({'success':!![],'message':_0xf51eb2(0xdc)});}catch(_0x318093){console[_0xf51eb2(0xac)](_0xf51eb2(0x87),_0x318093),loggerService_1[_0xf51eb2(0xa0)]['logWebhookError'](_0xf51eb2(0xd2),_0x318093,_0x2af721[_0xf51eb2(0xd0)]),_0x422397[_0xf51eb2(0xd6)](0xc8)['json']({'success':![],'message':_0x318093 instanceof Error?_0x318093['message']:_0xf51eb2(0x89)});}},this['handlePlisioGatewayWebhook']=async(_0x34f311,_0x52bf14,_0x2d58ac)=>{const _0x4b0622=_0xe3d77d;try{console[_0x4b0622(0xc9)](_0x4b0622(0xb4)),console[_0x4b0622(0xc9)](_0x4b0622(0xc3),_0x34f311[_0x4b0622(0x8a)]('Content-Type')),console[_0x4b0622(0xc9)](_0x4b0622(0xb8),typeof _0x34f311[_0x4b0622(0xd0)]),console['log'](_0x4b0622(0xc0),Object[_0x4b0622(0x9e)](_0x34f311['body']||{})),console['log'](_0x4b0622(0xc2),_0x34f311[_0x4b0622(0xd0)]),loggerService_1['loggerService']['logWebhookReceived'](_0x4b0622(0x80),_0x34f311[_0x4b0622(0xd0)],_0x34f311[_0x4b0622(0xa9)]);const _0x236ed=await this[_0x4b0622(0xd9)][_0x4b0622(0xa6)](_0x34f311[_0x4b0622(0xd0)]);_0x52bf14[_0x4b0622(0xd6)](0xc8)[_0x4b0622(0xce)]({'success':!![],'message':_0x4b0622(0xb5)});}catch(_0x341cf2){console[_0x4b0622(0xac)]('Gateway\x20webhook\x20processing\x20error:',_0x341cf2),loggerService_1[_0x4b0622(0xa0)][_0x4b0622(0x90)](_0x4b0622(0x80),_0x341cf2,_0x34f311[_0x4b0622(0xd0)]),_0x52bf14[_0x4b0622(0xd6)](0xc8)[_0x4b0622(0xce)]({'success':![],'message':_0x341cf2 instanceof Error?_0x341cf2[_0x4b0622(0xa4)]:_0x4b0622(0x93)});}},this[_0xe3d77d(0x7f)]=async(_0x58e873,_0xb3f6f8,_0x5f1fdb)=>{const _0x35158d=_0xe3d77d;try{console['log'](_0x35158d(0x9a),_0x58e873[_0x35158d(0xd0)]),loggerService_1[_0x35158d(0xa0)][_0x35158d(0xab)](_0x35158d(0xa1),_0x58e873[_0x35158d(0xd0)],_0x58e873[_0x35158d(0xa9)]);const _0x12b4e0=await this['webhookService'][_0x35158d(0xd5)](_0x58e873[_0x35158d(0xd0)]);_0xb3f6f8[_0x35158d(0xd6)](0xc8)[_0x35158d(0xce)]({'success':!![],'message':_0x35158d(0xc7)});}catch(_0x358217){console[_0x35158d(0xac)](_0x35158d(0xd1),_0x358217),loggerService_1[_0x35158d(0xa0)][_0x35158d(0x90)](_0x35158d(0xa1),_0x358217,_0x58e873['body']),_0xb3f6f8[_0x35158d(0xd6)](0xc8)[_0x35158d(0xce)]({'success':![],'message':_0x358217 instanceof Error?_0x358217[_0x35158d(0xa4)]:_0x35158d(0x86)});}},this[_0xe3d77d(0xc4)]=async(_0x1bf190,_0x3b365f,_0xfe0e9b)=>{const _0x29f638=_0xe3d77d;try{console[_0x29f638(0xc9)](_0x29f638(0x81),_0x1bf190[_0x29f638(0xd0)]),loggerService_1['loggerService'][_0x29f638(0xab)]('noda',_0x1bf190[_0x29f638(0xd0)],_0x1bf190[_0x29f638(0xa9)]);const _0x1fe711=await this[_0x29f638(0xd9)][_0x29f638(0xcb)](_0x1bf190[_0x29f638(0xd0)]);_0x3b365f['status'](0xc8)[_0x29f638(0xce)]({'success':!![],'message':_0x29f638(0x7c)});}catch(_0x3810ec){console['error'](_0x29f638(0xaf),_0x3810ec),loggerService_1['loggerService'][_0x29f638(0x90)]('noda',_0x3810ec,_0x1bf190[_0x29f638(0xd0)]),_0x3b365f['status'](0xc8)['json']({'success':![],'message':_0x3810ec instanceof Error?_0x3810ec[_0x29f638(0xa4)]:_0x29f638(0xae)});}},this[_0xe3d77d(0xba)]=async(_0x3d9625,_0x1cb055,_0x238d3a)=>{const _0x507b64=_0xe3d77d;try{console[_0x507b64(0xc9)]('Received\x20CoinToPay\x20webhook:',_0x3d9625[_0x507b64(0xd0)]),loggerService_1[_0x507b64(0xa0)][_0x507b64(0xab)](_0x507b64(0x9b),_0x3d9625[_0x507b64(0xd0)],_0x3d9625[_0x507b64(0xa9)]);const _0x260f1d=await this[_0x507b64(0xd9)][_0x507b64(0x95)](_0x3d9625[_0x507b64(0xd0)]);_0x1cb055[_0x507b64(0xd6)](0xc8)[_0x507b64(0xce)]({'success':!![],'message':_0x507b64(0xaa)});}catch(_0x45155f){console[_0x507b64(0xac)](_0x507b64(0x8b),_0x45155f),loggerService_1['loggerService'][_0x507b64(0x90)](_0x507b64(0x9b),_0x45155f,_0x3d9625[_0x507b64(0xd0)]),_0x1cb055[_0x507b64(0xd6)](0xc8)[_0x507b64(0xce)]({'success':![],'message':_0x45155f instanceof Error?_0x45155f[_0x507b64(0xa4)]:_0x507b64(0xca)});}},this['handleCoinToPay2Webhook']=async(_0x1df7e2,_0x9ff190,_0x43471a)=>{const _0x18808f=_0xe3d77d;try{console[_0x18808f(0xc9)](_0x18808f(0xc1),_0x1df7e2[_0x18808f(0xd0)]),loggerService_1[_0x18808f(0xa0)][_0x18808f(0xab)]('cointopay2',_0x1df7e2[_0x18808f(0xd0)],_0x1df7e2[_0x18808f(0xa9)]);const _0x2441e6=await this[_0x18808f(0xd9)][_0x18808f(0x8d)](_0x1df7e2[_0x18808f(0xd0)]);_0x9ff190['status'](0xc8)[_0x18808f(0xce)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x1a9a33){console[_0x18808f(0xac)](_0x18808f(0xb2),_0x1a9a33),loggerService_1[_0x18808f(0xa0)][_0x18808f(0x90)](_0x18808f(0xcf),_0x1a9a33,_0x1df7e2[_0x18808f(0xd0)]),_0x9ff190[_0x18808f(0xd6)](0xc8)['json']({'success':![],'message':_0x1a9a33 instanceof Error?_0x1a9a33[_0x18808f(0xa4)]:_0x18808f(0x96)});}},this['handleKlymeWebhook']=async(_0x2e5305,_0x564797,_0x1e88ac)=>{const _0x173209=_0xe3d77d;try{console[_0x173209(0xc9)](_0x173209(0xc8),_0x2e5305[_0x173209(0xd0)]),loggerService_1[_0x173209(0xa0)][_0x173209(0xab)]('klyme',_0x2e5305['body'],_0x2e5305['headers']);const _0x172ae1=await this[_0x173209(0xd9)][_0x173209(0xcc)](_0x2e5305['body']);_0x564797[_0x173209(0xd6)](0xc8)[_0x173209(0xce)]({'success':!![],'message':_0x173209(0x94)});}catch(_0x1f66f3){console[_0x173209(0xac)](_0x173209(0xa7),_0x1f66f3),loggerService_1[_0x173209(0xa0)][_0x173209(0x90)]('klyme',_0x1f66f3,_0x2e5305[_0x173209(0xd0)]),_0x564797[_0x173209(0xd6)](0xc8)['json']({'success':![],'message':_0x1f66f3 instanceof Error?_0x1f66f3['message']:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0xe3d77d(0xbe)]=async(_0x5bc7e2,_0x3981e4,_0x4171d4)=>{const _0x61828f=_0xe3d77d;try{console[_0x61828f(0xc9)](_0x61828f(0x82),_0x5bc7e2[_0x61828f(0xd0)]),loggerService_1[_0x61828f(0xa0)][_0x61828f(0xab)]('visa',_0x5bc7e2[_0x61828f(0xd0)],_0x5bc7e2['headers']);const _0xdc8ad9=await this[_0x61828f(0xd9)]['processVisaWebhook'](_0x5bc7e2[_0x61828f(0xd0)]);_0x3981e4[_0x61828f(0xd6)](0xc8)[_0x61828f(0xce)]({'success':!![],'message':_0x61828f(0xbc)});}catch(_0x5bd489){console[_0x61828f(0xac)](_0x61828f(0xb3),_0x5bd489),loggerService_1[_0x61828f(0xa0)][_0x61828f(0x90)](_0x61828f(0x8f),_0x5bd489,_0x5bc7e2[_0x61828f(0xd0)]),_0x3981e4[_0x61828f(0xd6)](0xc8)[_0x61828f(0xce)]({'success':![],'message':_0x5bd489 instanceof Error?_0x5bd489[_0x61828f(0xa4)]:_0x61828f(0x83)});}},this[_0xe3d77d(0xd8)]=async(_0x1dae61,_0x59883c,_0x404ffe)=>{const _0x5c91c3=_0xe3d77d;try{console[_0x5c91c3(0xc9)](_0x5c91c3(0xbd),_0x1dae61['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x5c91c3(0xa2),_0x1dae61['body'],_0x1dae61[_0x5c91c3(0xa9)]);const _0x19ebba=await this[_0x5c91c3(0xd9)]['processMasterCardWebhook'](_0x1dae61['body']);_0x59883c[_0x5c91c3(0xd6)](0xc8)[_0x5c91c3(0xce)]({'success':!![],'message':_0x5c91c3(0xcd)});}catch(_0x548f9b){console[_0x5c91c3(0xac)](_0x5c91c3(0x8e),_0x548f9b),loggerService_1['loggerService'][_0x5c91c3(0x90)](_0x5c91c3(0xa2),_0x548f9b,_0x1dae61[_0x5c91c3(0xd0)]),_0x59883c[_0x5c91c3(0xd6)](0xc8)[_0x5c91c3(0xce)]({'success':![],'message':_0x548f9b instanceof Error?_0x548f9b['message']:_0x5c91c3(0x8c)});}},this['handleAmerWebhook']=async(_0x1bbc1f,_0x179e62,_0x2d13cb)=>{const _0x322060=_0xe3d77d;try{console[_0x322060(0xc9)]('Received\x20Amer\x20webhook:',_0x1bbc1f[_0x322060(0xd0)]),loggerService_1['loggerService'][_0x322060(0xab)]('amer',_0x1bbc1f[_0x322060(0xd0)],_0x1bbc1f[_0x322060(0xa9)]);const _0x2f1611=await this['webhookService']['processAmerWebhook'](_0x1bbc1f[_0x322060(0xd0)]);_0x179e62[_0x322060(0xd6)](0xc8)[_0x322060(0xce)]({'success':!![],'message':_0x322060(0x85)});}catch(_0x5be377){console[_0x322060(0xac)]('Amer\x20webhook\x20processing\x20error:',_0x5be377),loggerService_1[_0x322060(0xa0)][_0x322060(0x90)](_0x322060(0xa5),_0x5be377,_0x1bbc1f[_0x322060(0xd0)]),_0x179e62[_0x322060(0xd6)](0xc8)[_0x322060(0xce)]({'success':![],'message':_0x5be377 instanceof Error?_0x5be377['message']:_0x322060(0x91)});}},this[_0xe3d77d(0x9f)]=async(_0x53b3ee,_0x506c68,_0x2cb607)=>{const _0x2fe68a=_0xe3d77d;try{console[_0x2fe68a(0xc9)](_0x2fe68a(0x84)),console[_0x2fe68a(0xc9)]('Headers:',_0x53b3ee[_0x2fe68a(0xa9)]),console[_0x2fe68a(0xc9)](_0x2fe68a(0xd4),_0x53b3ee['body']),console[_0x2fe68a(0xc9)](_0x2fe68a(0x97),typeof _0x53b3ee[_0x2fe68a(0xd0)]),console[_0x2fe68a(0xc9)](_0x2fe68a(0xc0),Object[_0x2fe68a(0x9e)](_0x53b3ee['body']||{})),loggerService_1[_0x2fe68a(0xa0)][_0x2fe68a(0xab)](_0x2fe68a(0xbb),_0x53b3ee[_0x2fe68a(0xd0)],_0x53b3ee['headers']);const _0x483507=await this['webhookService'][_0x2fe68a(0xb6)](_0x53b3ee[_0x2fe68a(0xd0)]);_0x506c68[_0x2fe68a(0xd6)](0xc8)[_0x2fe68a(0xce)]({'success':!![],'message':_0x2fe68a(0x9d)});}catch(_0x45951d){console[_0x2fe68a(0xac)](_0x2fe68a(0x99),_0x45951d),loggerService_1['loggerService'][_0x2fe68a(0x90)]('ampay',_0x45951d,_0x53b3ee[_0x2fe68a(0xd0)]),_0x506c68[_0x2fe68a(0xd6)](0xc8)[_0x2fe68a(0xce)]({'success':![],'message':_0x45951d instanceof Error?_0x45951d[_0x2fe68a(0xa4)]:_0x2fe68a(0xa3)});}},this[_0xe3d77d(0xd9)]=new webhookService_1[(_0xe3d77d(0x98))]();}}exports['WebhookController']=WebhookController;function a15_0x5165(_0xf22451,_0xcf9567){const _0x3996a6=a15_0x3996();return a15_0x5165=function(_0x51654e,_0x45cb83){_0x51654e=_0x51654e-0x7c;let _0x169c71=_0x3996a6[_0x51654e];return _0x169c71;},a15_0x5165(_0xf22451,_0xcf9567);}function a15_0x3996(){const _0x18b89f=['2CktTQc','handleMasterCardWebhook','webhookService','5483552lgbaat','10UCwhsC','Webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','937680OkMHEq','handleRapydWebhook','plisio_gateway','Received\x20Noda\x20webhook:','Received\x20VISA\x20webhook:','VISA\x20webhook\x20processing\x20failed','===\x20AmPay\x20Webhook\x20Received\x20===','Amer\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processing\x20failed','Webhook\x20processing\x20error:','10487439qmzFkd','Webhook\x20processing\x20failed','get','CoinToPay\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20failed','processCoinToPay2Webhook','MasterCard\x20webhook\x20processing\x20error:','visa','logWebhookError','Amer\x20webhook\x20processing\x20failed','20tbIfxx','Gateway\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processed\x20successfully','processCoinToPayWebhook','CoinToPay2\x20webhook\x20processing\x20failed','Body\x20type:','WebhookService','AmPay\x20webhook\x20processing\x20error:','Received\x20Rapyd\x20webhook:','cointopay','Content-Type','AmPay\x20webhook\x20processed\x20successfully','keys','handleAmPayWebhook','loggerService','rapyd','mastercard','AmPay\x20webhook\x20processing\x20failed','message','amer','processPlisioGatewayWebhook','KLYME\x20webhook\x20processing\x20error:','handlePlisioWebhook','headers','CoinToPay\x20webhook\x20processed\x20successfully','logWebhookReceived','error','5642895DbdoBz','Noda\x20webhook\x20processing\x20failed','Noda\x20webhook\x20processing\x20error:','923016DwsUvL','WebhookController','CoinToPay2\x20webhook\x20processing\x20error:','VISA\x20webhook\x20processing\x20error:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Gateway\x20webhook\x20processed\x20successfully','processAmPayWebhook','566013MOvZUv','Raw\x20body\x20type:','7eGhfkU','handleCoinToPayWebhook','ampay','VISA\x20webhook\x20processed\x20successfully','Received\x20MasterCard\x20webhook:','handleVisaWebhook','__esModule','Body\x20keys:','Received\x20CoinToPay2\x20webhook:','Body\x20content:','Content-Type:','handleNodaWebhook','8375316vrkUBU','processPlisioWebhook','Rapyd\x20webhook\x20processed\x20successfully','Received\x20KLYME\x20webhook:','log','CoinToPay\x20webhook\x20processing\x20failed','processNodaWebhook','processKlymeWebhook','MasterCard\x20webhook\x20processed\x20successfully','json','cointopay2','body','Rapyd\x20webhook\x20processing\x20error:','plisio','253AGmDCW','Body:','processRapydWebhook','status'];a15_0x3996=function(){return _0x18b89f;};return a15_0x3996();}