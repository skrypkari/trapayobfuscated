'use strict';const a15_0x5e6e08=a15_0x3a36;(function(_0x3d43bc,_0x2b12d0){const _0x336d24=a15_0x3a36,_0x40fa9f=_0x3d43bc();while(!![]){try{const _0xe854a=-parseInt(_0x336d24(0xcc))/0x1+-parseInt(_0x336d24(0xe3))/0x2*(parseInt(_0x336d24(0xf7))/0x3)+parseInt(_0x336d24(0xe4))/0x4*(-parseInt(_0x336d24(0xe7))/0x5)+parseInt(_0x336d24(0xc5))/0x6+parseInt(_0x336d24(0xd8))/0x7*(parseInt(_0x336d24(0xe2))/0x8)+-parseInt(_0x336d24(0xd7))/0x9+-parseInt(_0x336d24(0x101))/0xa*(-parseInt(_0x336d24(0xfc))/0xb);if(_0xe854a===_0x2b12d0)break;else _0x40fa9f['push'](_0x40fa9f['shift']());}catch(_0x5bc1ac){_0x40fa9f['push'](_0x40fa9f['shift']());}}}(a15_0x55fd,0xb51c8));function a15_0x55fd(){const _0xdfff4b=['processPlisioGatewayWebhook','Content-Type:','Content-Type','15LhbckF','Body\x20content:','handleRapydWebhook','KLYME\x20webhook\x20processed\x20successfully','processNodaWebhook','473ADeiyf','Webhook\x20processing\x20failed','body','WebhookController','../services/webhookService','168380RBVsBd','cointopay','2141346zgUfeZ','loggerService','handlePlisioGatewayWebhook','processRapydWebhook','plisio_gateway','logWebhookReceived','logWebhookError','731354qjAjif','json','klyme','Rapyd\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','Raw\x20body\x20type:','plisio','noda','processKlymeWebhook','Gateway\x20webhook\x20processed\x20successfully','keys','357948rtGsSK','1687NPykCB','status','webhookService','handleKlymeWebhook','processPlisioWebhook','log','Body\x20keys:','handleNodaWebhook','../services/loggerService','Noda\x20webhook\x20processed\x20successfully','44040LmgFED','147532CxcoQJ','2252SXtOQu','Received\x20Noda\x20webhook:','Received\x20Rapyd\x20webhook:','4670DFzmue','message','WebhookService','rapyd','get','headers','Noda\x20webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','Rapyd\x20webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','error','Rapyd\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20error:'];a15_0x55fd=function(){return _0xdfff4b;};return a15_0x55fd();}function a15_0x3a36(_0x4374c3,_0x31d34c){const _0x55fdec=a15_0x55fd();return a15_0x3a36=function(_0x3a363f,_0x3519f6){_0x3a363f=_0x3a363f-0xc4;let _0x314003=_0x55fdec[_0x3a363f];return _0x314003;},a15_0x3a36(_0x4374c3,_0x31d34c);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a15_0x5e6e08(0xff)]=void 0x0;const webhookService_1=require(a15_0x5e6e08(0x100)),loggerService_1=require(a15_0x5e6e08(0xe0));class WebhookController{constructor(){const _0x14a737=a15_0x5e6e08;this['handlePlisioWebhook']=async(_0x49dc12,_0x1481cf,_0x5a2dc2)=>{const _0x516700=a15_0x3a36;try{console[_0x516700(0xdd)](_0x516700(0xf0)),console['log'](_0x516700(0xf5),_0x49dc12[_0x516700(0xeb)](_0x516700(0xf6))),console['log'](_0x516700(0xd1),typeof _0x49dc12['body']),console[_0x516700(0xdd)](_0x516700(0xde),Object[_0x516700(0xd6)](_0x49dc12['body']||{})),console[_0x516700(0xdd)]('Body\x20content:',_0x49dc12[_0x516700(0xfe)]),loggerService_1['loggerService'][_0x516700(0xca)](_0x516700(0xd2),_0x49dc12[_0x516700(0xfe)],_0x49dc12[_0x516700(0xec)]);const _0x487e94=await this[_0x516700(0xda)][_0x516700(0xdc)](_0x49dc12[_0x516700(0xfe)]);_0x1481cf[_0x516700(0xd9)](0xc8)[_0x516700(0xcd)]({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x139a05){console[_0x516700(0xf1)]('Webhook\x20processing\x20error:',_0x139a05),loggerService_1['loggerService'][_0x516700(0xcb)](_0x516700(0xd2),_0x139a05,_0x49dc12[_0x516700(0xfe)]),_0x1481cf[_0x516700(0xd9)](0xc8)[_0x516700(0xcd)]({'success':![],'message':_0x139a05 instanceof Error?_0x139a05[_0x516700(0xe8)]:_0x516700(0xfd)});}},this[_0x14a737(0xc7)]=async(_0x4926d8,_0x4d212e,_0x50e355)=>{const _0xa311c6=_0x14a737;try{console[_0xa311c6(0xdd)]('===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20==='),console[_0xa311c6(0xdd)]('Content-Type:',_0x4926d8[_0xa311c6(0xeb)](_0xa311c6(0xf6))),console[_0xa311c6(0xdd)](_0xa311c6(0xd1),typeof _0x4926d8[_0xa311c6(0xfe)]),console[_0xa311c6(0xdd)](_0xa311c6(0xde),Object[_0xa311c6(0xd6)](_0x4926d8[_0xa311c6(0xfe)]||{})),console[_0xa311c6(0xdd)](_0xa311c6(0xf8),_0x4926d8[_0xa311c6(0xfe)]),loggerService_1[_0xa311c6(0xc6)][_0xa311c6(0xca)]('plisio_gateway',_0x4926d8[_0xa311c6(0xfe)],_0x4926d8[_0xa311c6(0xec)]);const _0x4f1cec=await this[_0xa311c6(0xda)][_0xa311c6(0xf4)](_0x4926d8[_0xa311c6(0xfe)]);_0x4d212e[_0xa311c6(0xd9)](0xc8)[_0xa311c6(0xcd)]({'success':!![],'message':_0xa311c6(0xd5)});}catch(_0x3f4a99){console[_0xa311c6(0xf1)]('Gateway\x20webhook\x20processing\x20error:',_0x3f4a99),loggerService_1[_0xa311c6(0xc6)]['logWebhookError'](_0xa311c6(0xc9),_0x3f4a99,_0x4926d8[_0xa311c6(0xfe)]),_0x4d212e[_0xa311c6(0xd9)](0xc8)['json']({'success':![],'message':_0x3f4a99 instanceof Error?_0x3f4a99[_0xa311c6(0xe8)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x14a737(0xf9)]=async(_0xb4b66a,_0x40cacf,_0x3493a4)=>{const _0x2431f6=_0x14a737;try{console[_0x2431f6(0xdd)](_0x2431f6(0xe6),_0xb4b66a[_0x2431f6(0xfe)]),loggerService_1['loggerService'][_0x2431f6(0xca)]('rapyd',_0xb4b66a[_0x2431f6(0xfe)],_0xb4b66a[_0x2431f6(0xec)]);const _0x5ef2d1=await this[_0x2431f6(0xda)][_0x2431f6(0xc8)](_0xb4b66a[_0x2431f6(0xfe)]);_0x40cacf[_0x2431f6(0xd9)](0xc8)[_0x2431f6(0xcd)]({'success':!![],'message':_0x2431f6(0xf2)});}catch(_0x249f89){console['error'](_0x2431f6(0xcf),_0x249f89),loggerService_1[_0x2431f6(0xc6)][_0x2431f6(0xcb)](_0x2431f6(0xea),_0x249f89,_0xb4b66a[_0x2431f6(0xfe)]),_0x40cacf[_0x2431f6(0xd9)](0xc8)[_0x2431f6(0xcd)]({'success':![],'message':_0x249f89 instanceof Error?_0x249f89[_0x2431f6(0xe8)]:_0x2431f6(0xef)});}},this[_0x14a737(0xdf)]=async(_0xe99381,_0x4c4d92,_0x11a69c)=>{const _0x7abff2=_0x14a737;try{console[_0x7abff2(0xdd)](_0x7abff2(0xe5),_0xe99381['body']),loggerService_1[_0x7abff2(0xc6)][_0x7abff2(0xca)](_0x7abff2(0xd3),_0xe99381['body'],_0xe99381['headers']);const _0x5af0cb=await this[_0x7abff2(0xda)][_0x7abff2(0xfb)](_0xe99381[_0x7abff2(0xfe)]);_0x4c4d92[_0x7abff2(0xd9)](0xc8)['json']({'success':!![],'message':_0x7abff2(0xe1)});}catch(_0x102d24){console[_0x7abff2(0xf1)](_0x7abff2(0xf3),_0x102d24),loggerService_1[_0x7abff2(0xc6)][_0x7abff2(0xcb)]('noda',_0x102d24,_0xe99381['body']),_0x4c4d92[_0x7abff2(0xd9)](0xc8)[_0x7abff2(0xcd)]({'success':![],'message':_0x102d24 instanceof Error?_0x102d24[_0x7abff2(0xe8)]:_0x7abff2(0xed)});}},this['handleCoinToPayWebhook']=async(_0x26d007,_0x177af4,_0x365c42)=>{const _0x64522c=_0x14a737;try{console[_0x64522c(0xdd)]('Received\x20CoinToPay\x20webhook:',_0x26d007[_0x64522c(0xfe)]),loggerService_1[_0x64522c(0xc6)][_0x64522c(0xca)](_0x64522c(0xc4),_0x26d007[_0x64522c(0xfe)],_0x26d007[_0x64522c(0xec)]);const _0x4de31e=await this[_0x64522c(0xda)]['processCoinToPayWebhook'](_0x26d007[_0x64522c(0xfe)]);_0x177af4['status'](0xc8)[_0x64522c(0xcd)]({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x552e96){console[_0x64522c(0xf1)]('CoinToPay\x20webhook\x20processing\x20error:',_0x552e96),loggerService_1[_0x64522c(0xc6)]['logWebhookError'](_0x64522c(0xc4),_0x552e96,_0x26d007['body']),_0x177af4[_0x64522c(0xd9)](0xc8)[_0x64522c(0xcd)]({'success':![],'message':_0x552e96 instanceof Error?_0x552e96[_0x64522c(0xe8)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x14a737(0xdb)]=async(_0x37bf5f,_0x518f60,_0x5038ba)=>{const _0x24bc6e=_0x14a737;try{console[_0x24bc6e(0xdd)](_0x24bc6e(0xee),_0x37bf5f[_0x24bc6e(0xfe)]),loggerService_1[_0x24bc6e(0xc6)][_0x24bc6e(0xca)](_0x24bc6e(0xce),_0x37bf5f[_0x24bc6e(0xfe)],_0x37bf5f[_0x24bc6e(0xec)]);const _0x2d8538=await this['webhookService'][_0x24bc6e(0xd4)](_0x37bf5f[_0x24bc6e(0xfe)]);_0x518f60['status'](0xc8)['json']({'success':!![],'message':_0x24bc6e(0xfa)});}catch(_0x3799ff){console[_0x24bc6e(0xf1)](_0x24bc6e(0xd0),_0x3799ff),loggerService_1[_0x24bc6e(0xc6)][_0x24bc6e(0xcb)]('klyme',_0x3799ff,_0x37bf5f[_0x24bc6e(0xfe)]),_0x518f60['status'](0xc8)[_0x24bc6e(0xcd)]({'success':![],'message':_0x3799ff instanceof Error?_0x3799ff[_0x24bc6e(0xe8)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x14a737(0xda)]=new webhookService_1[(_0x14a737(0xe9))]();}}exports[a15_0x5e6e08(0xff)]=WebhookController;