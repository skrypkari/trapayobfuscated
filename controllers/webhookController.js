'use strict';function a15_0x4a50(_0xdb2cb0,_0x13a8ae){const _0x422dfc=a15_0x422d();return a15_0x4a50=function(_0x4a5029,_0x56e09a){_0x4a5029=_0x4a5029-0x6f;let _0xe198c2=_0x422dfc[_0x4a5029];return _0xe198c2;},a15_0x4a50(_0xdb2cb0,_0x13a8ae);}const a15_0x40c125=a15_0x4a50;(function(_0x37f124,_0x3117dd){const _0x196dcd=a15_0x4a50,_0xd0ba45=_0x37f124();while(!![]){try{const _0x484104=-parseInt(_0x196dcd(0x8f))/0x1*(parseInt(_0x196dcd(0x9a))/0x2)+parseInt(_0x196dcd(0xac))/0x3+-parseInt(_0x196dcd(0x6f))/0x4*(parseInt(_0x196dcd(0xa8))/0x5)+parseInt(_0x196dcd(0x89))/0x6+-parseInt(_0x196dcd(0x7c))/0x7*(parseInt(_0x196dcd(0x9f))/0x8)+-parseInt(_0x196dcd(0x78))/0x9*(-parseInt(_0x196dcd(0x91))/0xa)+parseInt(_0x196dcd(0x82))/0xb*(-parseInt(_0x196dcd(0xaa))/0xc);if(_0x484104===_0x3117dd)break;else _0xd0ba45['push'](_0xd0ba45['shift']());}catch(_0x4740ec){_0xd0ba45['push'](_0xd0ba45['shift']());}}}(a15_0x422d,0x8da19));Object['defineProperty'](exports,a15_0x40c125(0x8c),{'value':!![]}),exports[a15_0x40c125(0x8e)]=void 0x0;function a15_0x422d(){const _0x1334e0=['body','Rapyd\x20webhook\x20processed\x20successfully','processNodaWebhook','9963126fsRtey','noda','Rapyd\x20webhook\x20processing\x20failed','klyme','91yKuqdr','MasterCard\x20webhook\x20processing\x20failed','processPlisioGatewayWebhook','logWebhookError','KLYME\x20webhook\x20processing\x20failed','Content-Type:','81653etffXo','Content-Type','error','Body\x20keys:','headers','processPlisioWebhook','WebhookService','4849218dHMtFD','CoinToPay\x20webhook\x20processing\x20failed','loggerService','__esModule','Raw\x20body\x20type:','WebhookController','7013nQXckW','processKlymeWebhook','10iWRvtF','status','Noda\x20webhook\x20processing\x20error:','Gateway\x20webhook\x20processed\x20successfully','Gateway\x20webhook\x20processing\x20failed','cointopay','Webhook\x20processing\x20failed','logWebhookReceived','rapyd','84TsCQxx','log','Received\x20Rapyd\x20webhook:','plisio_gateway','handleCoinToPayWebhook','400208yweTgx','Webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','handlePlisioGatewayWebhook','Received\x20KLYME\x20webhook:','plisio','Body\x20content:','handleMasterCardWebhook','message','21745PKmrlU','webhookService','2124TwPPiA','KLYME\x20webhook\x20processed\x20successfully','2979729uECBgJ','mastercard','../services/loggerService','keys','get','Noda\x20webhook\x20processing\x20failed','64LwNObl','handleNodaWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Received\x20Noda\x20webhook:','json','handlePlisioWebhook'];a15_0x422d=function(){return _0x1334e0;};return a15_0x422d();}const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x40c125(0xae));class WebhookController{constructor(){const _0x23d0e2=a15_0x40c125;this[_0x23d0e2(0x74)]=async(_0x3b9851,_0x27e591,_0x1041a7)=>{const _0x171f49=_0x23d0e2;try{console['log']('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0x171f49(0x9b)](_0x171f49(0x81),_0x3b9851['get'](_0x171f49(0x83))),console[_0x171f49(0x9b)](_0x171f49(0x8d),typeof _0x3b9851[_0x171f49(0x75)]),console[_0x171f49(0x9b)](_0x171f49(0x85),Object['keys'](_0x3b9851['body']||{})),console[_0x171f49(0x9b)](_0x171f49(0xa5),_0x3b9851[_0x171f49(0x75)]),loggerService_1[_0x171f49(0x8b)]['logWebhookReceived'](_0x171f49(0xa4),_0x3b9851[_0x171f49(0x75)],_0x3b9851[_0x171f49(0x86)]);const _0x379ba5=await this['webhookService'][_0x171f49(0x87)](_0x3b9851[_0x171f49(0x75)]);_0x27e591[_0x171f49(0x92)](0xc8)[_0x171f49(0x73)]({'success':!![],'message':_0x171f49(0xa0)});}catch(_0x3108d3){console[_0x171f49(0x84)]('Webhook\x20processing\x20error:',_0x3108d3),loggerService_1[_0x171f49(0x8b)][_0x171f49(0x7f)](_0x171f49(0xa4),_0x3108d3,_0x3b9851[_0x171f49(0x75)]),_0x27e591[_0x171f49(0x92)](0xc8)['json']({'success':![],'message':_0x3108d3 instanceof Error?_0x3108d3[_0x171f49(0xa7)]:_0x171f49(0x97)});}},this[_0x23d0e2(0xa2)]=async(_0x4b7720,_0x31dac8,_0x5431aa)=>{const _0x46bc82=_0x23d0e2;try{console['log'](_0x46bc82(0x71)),console[_0x46bc82(0x9b)](_0x46bc82(0x81),_0x4b7720[_0x46bc82(0xb0)](_0x46bc82(0x83))),console[_0x46bc82(0x9b)](_0x46bc82(0x8d),typeof _0x4b7720[_0x46bc82(0x75)]),console[_0x46bc82(0x9b)](_0x46bc82(0x85),Object[_0x46bc82(0xaf)](_0x4b7720['body']||{})),console[_0x46bc82(0x9b)](_0x46bc82(0xa5),_0x4b7720[_0x46bc82(0x75)]),loggerService_1[_0x46bc82(0x8b)][_0x46bc82(0x98)](_0x46bc82(0x9d),_0x4b7720['body'],_0x4b7720[_0x46bc82(0x86)]);const _0x3ab5a2=await this[_0x46bc82(0xa9)][_0x46bc82(0x7e)](_0x4b7720[_0x46bc82(0x75)]);_0x31dac8[_0x46bc82(0x92)](0xc8)[_0x46bc82(0x73)]({'success':!![],'message':_0x46bc82(0x94)});}catch(_0x4edb86){console[_0x46bc82(0x84)]('Gateway\x20webhook\x20processing\x20error:',_0x4edb86),loggerService_1['loggerService'][_0x46bc82(0x7f)](_0x46bc82(0x9d),_0x4edb86,_0x4b7720[_0x46bc82(0x75)]),_0x31dac8[_0x46bc82(0x92)](0xc8)[_0x46bc82(0x73)]({'success':![],'message':_0x4edb86 instanceof Error?_0x4edb86[_0x46bc82(0xa7)]:_0x46bc82(0x95)});}},this['handleRapydWebhook']=async(_0x508250,_0x1aad7b,_0x5449c7)=>{const _0x108ee6=_0x23d0e2;try{console[_0x108ee6(0x9b)](_0x108ee6(0x9c),_0x508250[_0x108ee6(0x75)]),loggerService_1[_0x108ee6(0x8b)][_0x108ee6(0x98)](_0x108ee6(0x99),_0x508250[_0x108ee6(0x75)],_0x508250[_0x108ee6(0x86)]);const _0x422dec=await this[_0x108ee6(0xa9)]['processRapydWebhook'](_0x508250['body']);_0x1aad7b[_0x108ee6(0x92)](0xc8)[_0x108ee6(0x73)]({'success':!![],'message':_0x108ee6(0x76)});}catch(_0x3a0748){console['error']('Rapyd\x20webhook\x20processing\x20error:',_0x3a0748),loggerService_1['loggerService'][_0x108ee6(0x7f)](_0x108ee6(0x99),_0x3a0748,_0x508250[_0x108ee6(0x75)]),_0x1aad7b[_0x108ee6(0x92)](0xc8)[_0x108ee6(0x73)]({'success':![],'message':_0x3a0748 instanceof Error?_0x3a0748[_0x108ee6(0xa7)]:_0x108ee6(0x7a)});}},this[_0x23d0e2(0x70)]=async(_0x1cf9f0,_0x26aa52,_0x4f42ac)=>{const _0x122bf4=_0x23d0e2;try{console[_0x122bf4(0x9b)](_0x122bf4(0x72),_0x1cf9f0[_0x122bf4(0x75)]),loggerService_1[_0x122bf4(0x8b)][_0x122bf4(0x98)]('noda',_0x1cf9f0[_0x122bf4(0x75)],_0x1cf9f0['headers']);const _0x5c596f=await this[_0x122bf4(0xa9)][_0x122bf4(0x77)](_0x1cf9f0[_0x122bf4(0x75)]);_0x26aa52[_0x122bf4(0x92)](0xc8)['json']({'success':!![],'message':_0x122bf4(0xa1)});}catch(_0xb7c824){console['error'](_0x122bf4(0x93),_0xb7c824),loggerService_1[_0x122bf4(0x8b)][_0x122bf4(0x7f)](_0x122bf4(0x79),_0xb7c824,_0x1cf9f0[_0x122bf4(0x75)]),_0x26aa52['status'](0xc8)[_0x122bf4(0x73)]({'success':![],'message':_0xb7c824 instanceof Error?_0xb7c824['message']:_0x122bf4(0xb1)});}},this[_0x23d0e2(0x9e)]=async(_0x52332c,_0x1ebe49,_0x65b462)=>{const _0x5b594e=_0x23d0e2;try{console[_0x5b594e(0x9b)]('Received\x20CoinToPay\x20webhook:',_0x52332c[_0x5b594e(0x75)]),loggerService_1[_0x5b594e(0x8b)][_0x5b594e(0x98)](_0x5b594e(0x96),_0x52332c[_0x5b594e(0x75)],_0x52332c[_0x5b594e(0x86)]);const _0x385dd7=await this['webhookService']['processCoinToPayWebhook'](_0x52332c['body']);_0x1ebe49[_0x5b594e(0x92)](0xc8)['json']({'success':!![],'message':'CoinToPay\x20webhook\x20processed\x20successfully'});}catch(_0x498607){console[_0x5b594e(0x84)]('CoinToPay\x20webhook\x20processing\x20error:',_0x498607),loggerService_1[_0x5b594e(0x8b)][_0x5b594e(0x7f)](_0x5b594e(0x96),_0x498607,_0x52332c[_0x5b594e(0x75)]),_0x1ebe49['status'](0xc8)[_0x5b594e(0x73)]({'success':![],'message':_0x498607 instanceof Error?_0x498607[_0x5b594e(0xa7)]:_0x5b594e(0x8a)});}},this['handleKlymeWebhook']=async(_0x30dde8,_0xc099c2,_0x440aa4)=>{const _0x307882=_0x23d0e2;try{console['log'](_0x307882(0xa3),_0x30dde8[_0x307882(0x75)]),loggerService_1[_0x307882(0x8b)][_0x307882(0x98)](_0x307882(0x7b),_0x30dde8[_0x307882(0x75)],_0x30dde8['headers']);const _0x446a6f=await this[_0x307882(0xa9)][_0x307882(0x90)](_0x30dde8['body']);_0xc099c2[_0x307882(0x92)](0xc8)[_0x307882(0x73)]({'success':!![],'message':_0x307882(0xab)});}catch(_0x36d081){console[_0x307882(0x84)]('KLYME\x20webhook\x20processing\x20error:',_0x36d081),loggerService_1[_0x307882(0x8b)]['logWebhookError'](_0x307882(0x7b),_0x36d081,_0x30dde8[_0x307882(0x75)]),_0xc099c2['status'](0xc8)['json']({'success':![],'message':_0x36d081 instanceof Error?_0x36d081[_0x307882(0xa7)]:_0x307882(0x80)});}},this[_0x23d0e2(0xa6)]=async(_0x4a29aa,_0x42ea94,_0x58e658)=>{const _0x325b31=_0x23d0e2;try{console['log']('Received\x20MasterCard\x20webhook:',_0x4a29aa[_0x325b31(0x75)]),loggerService_1[_0x325b31(0x8b)]['logWebhookReceived'](_0x325b31(0xad),_0x4a29aa[_0x325b31(0x75)],_0x4a29aa[_0x325b31(0x86)]);const _0x3b357e=await this['webhookService']['processMasterCardWebhook'](_0x4a29aa[_0x325b31(0x75)]);_0x42ea94[_0x325b31(0x92)](0xc8)['json']({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x183e5d){console[_0x325b31(0x84)]('MasterCard\x20webhook\x20processing\x20error:',_0x183e5d),loggerService_1['loggerService'][_0x325b31(0x7f)](_0x325b31(0xad),_0x183e5d,_0x4a29aa[_0x325b31(0x75)]),_0x42ea94[_0x325b31(0x92)](0xc8)[_0x325b31(0x73)]({'success':![],'message':_0x183e5d instanceof Error?_0x183e5d[_0x325b31(0xa7)]:_0x325b31(0x7d)});}},this[_0x23d0e2(0xa9)]=new webhookService_1[(_0x23d0e2(0x88))]();}}exports[a15_0x40c125(0x8e)]=WebhookController;