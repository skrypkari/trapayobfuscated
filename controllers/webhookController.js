'use strict';const a15_0x328e65=a15_0x4c79;(function(_0x4b1d7c,_0x7d5e64){const _0x4d405c=a15_0x4c79,_0x3181b2=_0x4b1d7c();while(!![]){try{const _0x2501af=parseInt(_0x4d405c(0x10d))/0x1*(-parseInt(_0x4d405c(0xef))/0x2)+-parseInt(_0x4d405c(0xeb))/0x3+parseInt(_0x4d405c(0xfb))/0x4*(parseInt(_0x4d405c(0x11d))/0x5)+-parseInt(_0x4d405c(0x123))/0x6*(parseInt(_0x4d405c(0x105))/0x7)+-parseInt(_0x4d405c(0x12b))/0x8*(-parseInt(_0x4d405c(0xf3))/0x9)+parseInt(_0x4d405c(0x101))/0xa*(parseInt(_0x4d405c(0xf4))/0xb)+-parseInt(_0x4d405c(0x103))/0xc*(-parseInt(_0x4d405c(0x11e))/0xd);if(_0x2501af===_0x7d5e64)break;else _0x3181b2['push'](_0x3181b2['shift']());}catch(_0xba6947){_0x3181b2['push'](_0x3181b2['shift']());}}}(a15_0x2989,0x7ec5e));Object[a15_0x328e65(0xf6)](exports,a15_0x328e65(0x114),{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require(a15_0x328e65(0x129));function a15_0x4c79(_0x4cdbe2,_0x1d9a4e){const _0x2989bd=a15_0x2989();return a15_0x4c79=function(_0x4c79f4,_0x198441){_0x4c79f4=_0x4c79f4-0xe4;let _0xbd2adc=_0x2989bd[_0x4c79f4];return _0xbd2adc;},a15_0x4c79(_0x4cdbe2,_0x1d9a4e);}class WebhookController{constructor(){const _0x10fd96=a15_0x328e65;this['handlePlisioWebhook']=async(_0x196bbe,_0x31fa39,_0x54ed81)=>{const _0x16eabb=a15_0x4c79;try{console[_0x16eabb(0x128)](_0x16eabb(0x11a)),console[_0x16eabb(0x128)](_0x16eabb(0x111),_0x196bbe['get']('Content-Type')),console[_0x16eabb(0x128)](_0x16eabb(0xe4),typeof _0x196bbe['body']),console['log'](_0x16eabb(0xe9),Object['keys'](_0x196bbe[_0x16eabb(0xf2)]||{})),console[_0x16eabb(0x128)](_0x16eabb(0xec),_0x196bbe[_0x16eabb(0xf2)]),loggerService_1[_0x16eabb(0x10c)][_0x16eabb(0x115)](_0x16eabb(0xf9),_0x196bbe['body'],_0x196bbe['headers']);const _0x35d2bf=await this[_0x16eabb(0x117)][_0x16eabb(0xf1)](_0x196bbe[_0x16eabb(0xf2)]);_0x31fa39[_0x16eabb(0x107)](0xc8)['json']({'success':!![],'message':'Webhook\x20processed\x20successfully'});}catch(_0x6c29f0){console[_0x16eabb(0x127)](_0x16eabb(0xf8),_0x6c29f0),loggerService_1[_0x16eabb(0x10c)][_0x16eabb(0x106)](_0x16eabb(0xf9),_0x6c29f0,_0x196bbe[_0x16eabb(0xf2)]),_0x31fa39[_0x16eabb(0x107)](0xc8)[_0x16eabb(0x118)]({'success':![],'message':_0x6c29f0 instanceof Error?_0x6c29f0[_0x16eabb(0x108)]:_0x16eabb(0x122)});}},this[_0x10fd96(0xfe)]=async(_0x23b074,_0x373596,_0x3c5a92)=>{const _0x1452bb=_0x10fd96;try{console[_0x1452bb(0x128)](_0x1452bb(0x116)),console[_0x1452bb(0x128)](_0x1452bb(0x111),_0x23b074['get']('Content-Type')),console['log'](_0x1452bb(0xe4),typeof _0x23b074[_0x1452bb(0xf2)]),console['log'](_0x1452bb(0xe9),Object[_0x1452bb(0xe8)](_0x23b074[_0x1452bb(0xf2)]||{})),console['log'](_0x1452bb(0xec),_0x23b074[_0x1452bb(0xf2)]),loggerService_1[_0x1452bb(0x10c)][_0x1452bb(0x115)](_0x1452bb(0x121),_0x23b074[_0x1452bb(0xf2)],_0x23b074[_0x1452bb(0xfc)]);const _0x38f392=await this['webhookService'][_0x1452bb(0xfd)](_0x23b074[_0x1452bb(0xf2)]);_0x373596[_0x1452bb(0x107)](0xc8)[_0x1452bb(0x118)]({'success':!![],'message':_0x1452bb(0x109)});}catch(_0xee7fe){console[_0x1452bb(0x127)](_0x1452bb(0xf7),_0xee7fe),loggerService_1[_0x1452bb(0x10c)]['logWebhookError'](_0x1452bb(0x121),_0xee7fe,_0x23b074[_0x1452bb(0xf2)]),_0x373596[_0x1452bb(0x107)](0xc8)['json']({'success':![],'message':_0xee7fe instanceof Error?_0xee7fe[_0x1452bb(0x108)]:_0x1452bb(0x12a)});}},this['handleRapydWebhook']=async(_0x4170a0,_0x1fbcd1,_0x3fa440)=>{const _0x345d37=_0x10fd96;try{console['log']('Received\x20Rapyd\x20webhook:',_0x4170a0[_0x345d37(0xf2)]),loggerService_1[_0x345d37(0x10c)][_0x345d37(0x115)]('rapyd',_0x4170a0[_0x345d37(0xf2)],_0x4170a0[_0x345d37(0xfc)]);const _0x46c528=await this[_0x345d37(0x117)][_0x345d37(0x102)](_0x4170a0[_0x345d37(0xf2)]);_0x1fbcd1[_0x345d37(0x107)](0xc8)['json']({'success':!![],'message':_0x345d37(0xf0)});}catch(_0x302eac){console['error'](_0x345d37(0x113),_0x302eac),loggerService_1[_0x345d37(0x10c)]['logWebhookError'](_0x345d37(0xee),_0x302eac,_0x4170a0['body']),_0x1fbcd1[_0x345d37(0x107)](0xc8)[_0x345d37(0x118)]({'success':![],'message':_0x302eac instanceof Error?_0x302eac[_0x345d37(0x108)]:_0x345d37(0xe6)});}},this['handleNodaWebhook']=async(_0x44876c,_0x2db4e2,_0x30bc9d)=>{const _0x31504c=_0x10fd96;try{console[_0x31504c(0x128)]('Received\x20Noda\x20webhook:',_0x44876c[_0x31504c(0xf2)]),loggerService_1[_0x31504c(0x10c)][_0x31504c(0x115)](_0x31504c(0x124),_0x44876c[_0x31504c(0xf2)],_0x44876c[_0x31504c(0xfc)]);const _0x444b4c=await this[_0x31504c(0x117)][_0x31504c(0x120)](_0x44876c[_0x31504c(0xf2)]);_0x2db4e2['status'](0xc8)[_0x31504c(0x118)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x309789){console[_0x31504c(0x127)](_0x31504c(0x10e),_0x309789),loggerService_1[_0x31504c(0x10c)][_0x31504c(0x106)]('noda',_0x309789,_0x44876c[_0x31504c(0xf2)]),_0x2db4e2['status'](0xc8)[_0x31504c(0x118)]({'success':![],'message':_0x309789 instanceof Error?_0x309789['message']:_0x31504c(0x11f)});}},this[_0x10fd96(0x126)]=async(_0x14f430,_0x3ff6c8,_0x33a464)=>{const _0x50155c=_0x10fd96;try{console[_0x50155c(0x128)](_0x50155c(0x110),_0x14f430[_0x50155c(0xf2)]),loggerService_1[_0x50155c(0x10c)]['logWebhookReceived'](_0x50155c(0x11b),_0x14f430[_0x50155c(0xf2)],_0x14f430['headers']);const _0x4ba607=await this[_0x50155c(0x117)][_0x50155c(0x104)](_0x14f430[_0x50155c(0xf2)]);_0x3ff6c8[_0x50155c(0x107)](0xc8)[_0x50155c(0x118)]({'success':!![],'message':_0x50155c(0xea)});}catch(_0x4733c8){console['error'](_0x50155c(0x112),_0x4733c8),loggerService_1['loggerService']['logWebhookError'](_0x50155c(0x11b),_0x4733c8,_0x14f430[_0x50155c(0xf2)]),_0x3ff6c8[_0x50155c(0x107)](0xc8)['json']({'success':![],'message':_0x4733c8 instanceof Error?_0x4733c8[_0x50155c(0x108)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x10fd96(0x119)]=async(_0xf59866,_0x2f8b73,_0x544d3a)=>{const _0x4d289e=_0x10fd96;try{console[_0x4d289e(0x128)](_0x4d289e(0xe5),_0xf59866['body']),loggerService_1[_0x4d289e(0x10c)]['logWebhookReceived'](_0x4d289e(0x11c),_0xf59866[_0x4d289e(0xf2)],_0xf59866[_0x4d289e(0xfc)]);const _0x1c6fa0=await this[_0x4d289e(0x117)]['processKlymeWebhook'](_0xf59866[_0x4d289e(0xf2)]);_0x2f8b73[_0x4d289e(0x107)](0xc8)['json']({'success':!![],'message':_0x4d289e(0x10b)});}catch(_0x2501fd){console['error'](_0x4d289e(0xe7),_0x2501fd),loggerService_1[_0x4d289e(0x10c)][_0x4d289e(0x106)](_0x4d289e(0x11c),_0x2501fd,_0xf59866[_0x4d289e(0xf2)]),_0x2f8b73['status'](0xc8)[_0x4d289e(0x118)]({'success':![],'message':_0x2501fd instanceof Error?_0x2501fd[_0x4d289e(0x108)]:_0x4d289e(0x125)});}},this[_0x10fd96(0xed)]=async(_0x2d0d05,_0x43a122,_0x3e60fd)=>{const _0x5d3129=_0x10fd96;try{console[_0x5d3129(0x128)](_0x5d3129(0x10f),_0x2d0d05[_0x5d3129(0xf2)]),loggerService_1[_0x5d3129(0x10c)][_0x5d3129(0x115)](_0x5d3129(0xff),_0x2d0d05[_0x5d3129(0xf2)],_0x2d0d05[_0x5d3129(0xfc)]);const _0x2eb72e=await this[_0x5d3129(0x117)]['processMasterCardWebhook'](_0x2d0d05[_0x5d3129(0xf2)]);_0x43a122[_0x5d3129(0x107)](0xc8)[_0x5d3129(0x118)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x48206b){console[_0x5d3129(0x127)](_0x5d3129(0x100),_0x48206b),loggerService_1[_0x5d3129(0x10c)][_0x5d3129(0x106)]('mastercard',_0x48206b,_0x2d0d05[_0x5d3129(0xf2)]),_0x43a122[_0x5d3129(0x107)](0xc8)[_0x5d3129(0x118)]({'success':![],'message':_0x48206b instanceof Error?_0x48206b[_0x5d3129(0x108)]:_0x5d3129(0x10a)});}},this[_0x10fd96(0x117)]=new webhookService_1[(_0x10fd96(0xf5))]();}}exports[a15_0x328e65(0xfa)]=WebhookController;function a15_0x2989(){const _0x814d6e=['Content-Type:','CoinToPay\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20error:','__esModule','logWebhookReceived','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','webhookService','json','handleKlymeWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','cointopay','klyme','565VHxNAq','12883HXTeDl','Noda\x20webhook\x20processing\x20failed','processNodaWebhook','plisio_gateway','Webhook\x20processing\x20failed','30KkjXkc','noda','KLYME\x20webhook\x20processing\x20failed','handleCoinToPayWebhook','error','log','../services/loggerService','Gateway\x20webhook\x20processing\x20failed','200iMYCkc','Raw\x20body\x20type:','Received\x20KLYME\x20webhook:','Rapyd\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20error:','keys','Body\x20keys:','CoinToPay\x20webhook\x20processed\x20successfully','1537932aulxSl','Body\x20content:','handleMasterCardWebhook','rapyd','2XANtvc','Rapyd\x20webhook\x20processed\x20successfully','processPlisioWebhook','body','14040ZBztFH','253wJKiGh','WebhookService','defineProperty','Gateway\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','plisio','WebhookController','11196tbBGqj','headers','processPlisioGatewayWebhook','handlePlisioGatewayWebhook','mastercard','MasterCard\x20webhook\x20processing\x20error:','207330HmWnnq','processRapydWebhook','19212ixdBgS','processCoinToPayWebhook','1192702NTCope','logWebhookError','status','message','Gateway\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processed\x20successfully','loggerService','534901SQlgwN','Noda\x20webhook\x20processing\x20error:','Received\x20MasterCard\x20webhook:','Received\x20CoinToPay\x20webhook:'];a15_0x2989=function(){return _0x814d6e;};return a15_0x2989();}