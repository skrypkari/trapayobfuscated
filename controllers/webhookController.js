'use strict';const a15_0x2dc4e5=a15_0x20f9;function a15_0x2943(){const _0x18c064=['mastercard','../services/webhookService','headers','Gateway\x20webhook\x20processed\x20successfully','log','message','Webhook\x20processed\x20successfully','25goVSiY','logWebhookError','WebhookService','handlePlisioGatewayWebhook','status','Rapyd\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processed\x20successfully','handleCoinToPayWebhook','WebhookController','../services/loggerService','handleNodaWebhook','MasterCard\x20webhook\x20processing\x20error:','48236LrYGBC','processKlymeWebhook','KLYME\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','rapyd','body','257159mfNSBa','Noda\x20webhook\x20processing\x20failed','Body\x20keys:','processMasterCardWebhook','loggerService','Rapyd\x20webhook\x20processing\x20failed','keys','7599FSPutA','9355LEyvYT','processPlisioGatewayWebhook','Content-Type:','klyme','CoinToPay\x20webhook\x20processing\x20failed','processNodaWebhook','1458frTtmt','processCoinToPayWebhook','processRapydWebhook','plisio','35065349WsacbX','Raw\x20body\x20type:','processPlisioWebhook','__esModule','Content-Type','Webhook\x20processing\x20failed','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','2199744YogcXQ','get','56VOZEXg','Rapyd\x20webhook\x20processed\x20successfully','json','Body\x20content:','Gateway\x20webhook\x20processing\x20error:','noda','Noda\x20webhook\x20processing\x20error:','logWebhookReceived','Gateway\x20webhook\x20processing\x20failed','Webhook\x20processing\x20error:','12kWlvej','9116730BSWZhx','error','plisio_gateway','CoinToPay\x20webhook\x20processed\x20successfully','handleRapydWebhook','handlePlisioWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Received\x20KLYME\x20webhook:','2572vVEavQ','Received\x20CoinToPay\x20webhook:','Received\x20Rapyd\x20webhook:','webhookService'];a15_0x2943=function(){return _0x18c064;};return a15_0x2943();}(function(_0x3c0a58,_0x43c6ef){const _0x332ced=a15_0x20f9,_0x4241d3=_0x3c0a58();while(!![]){try{const _0x2aacf3=-parseInt(_0x332ced(0x1d9))/0x1*(-parseInt(_0x332ced(0x1e5))/0x2)+parseInt(_0x332ced(0x1f2))/0x3*(parseInt(_0x332ced(0x1ce))/0x4)+-parseInt(_0x332ced(0x1f3))/0x5*(-parseInt(_0x332ced(0x1f9))/0x6)+parseInt(_0x332ced(0x1eb))/0x7*(parseInt(_0x332ced(0x206))/0x8)+parseInt(_0x332ced(0x204))/0x9+parseInt(_0x332ced(0x211))/0xa+parseInt(_0x332ced(0x1fd))/0xb*(-parseInt(_0x332ced(0x210))/0xc);if(_0x2aacf3===_0x43c6ef)break;else _0x4241d3['push'](_0x4241d3['shift']());}catch(_0x550626){_0x4241d3['push'](_0x4241d3['shift']());}}}(a15_0x2943,0xde9c3));function a15_0x20f9(_0x3c3448,_0x3aa27f){const _0x294342=a15_0x2943();return a15_0x20f9=function(_0x20f9c5,_0xea176a){_0x20f9c5=_0x20f9c5-0x1cb;let _0x2dda02=_0x294342[_0x20f9c5];return _0x2dda02;},a15_0x20f9(_0x3c3448,_0x3aa27f);}Object['defineProperty'](exports,a15_0x2dc4e5(0x200),{'value':!![]}),exports['WebhookController']=void 0x0;const webhookService_1=require(a15_0x2dc4e5(0x1d3)),loggerService_1=require(a15_0x2dc4e5(0x1e2));class WebhookController{constructor(){const _0x241729=a15_0x2dc4e5;this[_0x241729(0x1cb)]=async(_0x59fdb2,_0x27781a,_0x274784)=>{const _0x6b46a4=_0x241729;try{console[_0x6b46a4(0x1d6)](_0x6b46a4(0x203)),console[_0x6b46a4(0x1d6)](_0x6b46a4(0x1f5),_0x59fdb2['get']('Content-Type')),console[_0x6b46a4(0x1d6)](_0x6b46a4(0x1fe),typeof _0x59fdb2[_0x6b46a4(0x1ea)]),console[_0x6b46a4(0x1d6)](_0x6b46a4(0x1ed),Object[_0x6b46a4(0x1f1)](_0x59fdb2[_0x6b46a4(0x1ea)]||{})),console['log'](_0x6b46a4(0x209),_0x59fdb2[_0x6b46a4(0x1ea)]),loggerService_1[_0x6b46a4(0x1ef)][_0x6b46a4(0x20d)](_0x6b46a4(0x1fc),_0x59fdb2[_0x6b46a4(0x1ea)],_0x59fdb2['headers']);const _0x510859=await this[_0x6b46a4(0x1d1)][_0x6b46a4(0x1ff)](_0x59fdb2['body']);_0x27781a[_0x6b46a4(0x1dd)](0xc8)['json']({'success':!![],'message':_0x6b46a4(0x1d8)});}catch(_0x79531){console[_0x6b46a4(0x212)](_0x6b46a4(0x20f),_0x79531),loggerService_1[_0x6b46a4(0x1ef)][_0x6b46a4(0x1da)](_0x6b46a4(0x1fc),_0x79531,_0x59fdb2[_0x6b46a4(0x1ea)]),_0x27781a['status'](0xc8)[_0x6b46a4(0x208)]({'success':![],'message':_0x79531 instanceof Error?_0x79531[_0x6b46a4(0x1d7)]:_0x6b46a4(0x202)});}},this[_0x241729(0x1dc)]=async(_0xbffd61,_0x5e87aa,_0x133470)=>{const _0xe05779=_0x241729;try{console[_0xe05779(0x1d6)](_0xe05779(0x1cc)),console[_0xe05779(0x1d6)](_0xe05779(0x1f5),_0xbffd61[_0xe05779(0x205)](_0xe05779(0x201))),console[_0xe05779(0x1d6)](_0xe05779(0x1fe),typeof _0xbffd61[_0xe05779(0x1ea)]),console[_0xe05779(0x1d6)](_0xe05779(0x1ed),Object['keys'](_0xbffd61[_0xe05779(0x1ea)]||{})),console[_0xe05779(0x1d6)]('Body\x20content:',_0xbffd61['body']),loggerService_1[_0xe05779(0x1ef)][_0xe05779(0x20d)](_0xe05779(0x213),_0xbffd61[_0xe05779(0x1ea)],_0xbffd61[_0xe05779(0x1d4)]);const _0x158f03=await this[_0xe05779(0x1d1)][_0xe05779(0x1f4)](_0xbffd61[_0xe05779(0x1ea)]);_0x5e87aa['status'](0xc8)[_0xe05779(0x208)]({'success':!![],'message':_0xe05779(0x1d5)});}catch(_0x3f1afe){console['error'](_0xe05779(0x20a),_0x3f1afe),loggerService_1['loggerService'][_0xe05779(0x1da)](_0xe05779(0x213),_0x3f1afe,_0xbffd61[_0xe05779(0x1ea)]),_0x5e87aa[_0xe05779(0x1dd)](0xc8)[_0xe05779(0x208)]({'success':![],'message':_0x3f1afe instanceof Error?_0x3f1afe['message']:_0xe05779(0x20e)});}},this[_0x241729(0x215)]=async(_0x5e1dc0,_0x265f92,_0x26cf52)=>{const _0x533596=_0x241729;try{console[_0x533596(0x1d6)](_0x533596(0x1d0),_0x5e1dc0[_0x533596(0x1ea)]),loggerService_1[_0x533596(0x1ef)][_0x533596(0x20d)](_0x533596(0x1e9),_0x5e1dc0[_0x533596(0x1ea)],_0x5e1dc0['headers']);const _0x3c50b7=await this[_0x533596(0x1d1)][_0x533596(0x1fb)](_0x5e1dc0[_0x533596(0x1ea)]);_0x265f92[_0x533596(0x1dd)](0xc8)[_0x533596(0x208)]({'success':!![],'message':_0x533596(0x207)});}catch(_0x576baf){console[_0x533596(0x212)](_0x533596(0x1de),_0x576baf),loggerService_1[_0x533596(0x1ef)][_0x533596(0x1da)]('rapyd',_0x576baf,_0x5e1dc0[_0x533596(0x1ea)]),_0x265f92[_0x533596(0x1dd)](0xc8)[_0x533596(0x208)]({'success':![],'message':_0x576baf instanceof Error?_0x576baf['message']:_0x533596(0x1f0)});}},this[_0x241729(0x1e3)]=async(_0x3c7194,_0x1be7a4,_0x2caa90)=>{const _0x303da3=_0x241729;try{console[_0x303da3(0x1d6)]('Received\x20Noda\x20webhook:',_0x3c7194[_0x303da3(0x1ea)]),loggerService_1['loggerService'][_0x303da3(0x20d)](_0x303da3(0x20b),_0x3c7194[_0x303da3(0x1ea)],_0x3c7194['headers']);const _0x29d1a4=await this[_0x303da3(0x1d1)][_0x303da3(0x1f8)](_0x3c7194['body']);_0x1be7a4[_0x303da3(0x1dd)](0xc8)[_0x303da3(0x208)]({'success':!![],'message':_0x303da3(0x1e8)});}catch(_0x3a90aa){console[_0x303da3(0x212)](_0x303da3(0x20c),_0x3a90aa),loggerService_1[_0x303da3(0x1ef)][_0x303da3(0x1da)](_0x303da3(0x20b),_0x3a90aa,_0x3c7194[_0x303da3(0x1ea)]),_0x1be7a4[_0x303da3(0x1dd)](0xc8)[_0x303da3(0x208)]({'success':![],'message':_0x3a90aa instanceof Error?_0x3a90aa['message']:_0x303da3(0x1ec)});}},this[_0x241729(0x1e0)]=async(_0x2f2a9f,_0x3660d8,_0x3ac58f)=>{const _0x31608c=_0x241729;try{console['log'](_0x31608c(0x1cf),_0x2f2a9f['body']),loggerService_1[_0x31608c(0x1ef)][_0x31608c(0x20d)]('cointopay',_0x2f2a9f['body'],_0x2f2a9f[_0x31608c(0x1d4)]);const _0x5e4732=await this['webhookService'][_0x31608c(0x1fa)](_0x2f2a9f[_0x31608c(0x1ea)]);_0x3660d8[_0x31608c(0x1dd)](0xc8)[_0x31608c(0x208)]({'success':!![],'message':_0x31608c(0x214)});}catch(_0x4a8301){console['error']('CoinToPay\x20webhook\x20processing\x20error:',_0x4a8301),loggerService_1[_0x31608c(0x1ef)][_0x31608c(0x1da)]('cointopay',_0x4a8301,_0x2f2a9f[_0x31608c(0x1ea)]),_0x3660d8[_0x31608c(0x1dd)](0xc8)['json']({'success':![],'message':_0x4a8301 instanceof Error?_0x4a8301['message']:_0x31608c(0x1f7)});}},this['handleKlymeWebhook']=async(_0x556887,_0x5466ff,_0xc5bc62)=>{const _0x17b4d0=_0x241729;try{console[_0x17b4d0(0x1d6)](_0x17b4d0(0x1cd),_0x556887[_0x17b4d0(0x1ea)]),loggerService_1[_0x17b4d0(0x1ef)][_0x17b4d0(0x20d)](_0x17b4d0(0x1f6),_0x556887[_0x17b4d0(0x1ea)],_0x556887[_0x17b4d0(0x1d4)]);const _0x1fc317=await this[_0x17b4d0(0x1d1)][_0x17b4d0(0x1e6)](_0x556887[_0x17b4d0(0x1ea)]);_0x5466ff[_0x17b4d0(0x1dd)](0xc8)[_0x17b4d0(0x208)]({'success':!![],'message':_0x17b4d0(0x1e7)});}catch(_0x236f74){console[_0x17b4d0(0x212)]('KLYME\x20webhook\x20processing\x20error:',_0x236f74),loggerService_1[_0x17b4d0(0x1ef)][_0x17b4d0(0x1da)]('klyme',_0x236f74,_0x556887['body']),_0x5466ff[_0x17b4d0(0x1dd)](0xc8)[_0x17b4d0(0x208)]({'success':![],'message':_0x236f74 instanceof Error?_0x236f74[_0x17b4d0(0x1d7)]:'KLYME\x20webhook\x20processing\x20failed'});}},this['handleMasterCardWebhook']=async(_0x54f64c,_0x26800d,_0x2deaa2)=>{const _0x659ff5=_0x241729;try{console[_0x659ff5(0x1d6)]('Received\x20MasterCard\x20webhook:',_0x54f64c['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x659ff5(0x1d2),_0x54f64c[_0x659ff5(0x1ea)],_0x54f64c[_0x659ff5(0x1d4)]);const _0x182697=await this['webhookService'][_0x659ff5(0x1ee)](_0x54f64c[_0x659ff5(0x1ea)]);_0x26800d[_0x659ff5(0x1dd)](0xc8)[_0x659ff5(0x208)]({'success':!![],'message':_0x659ff5(0x1df)});}catch(_0x1bf06b){console[_0x659ff5(0x212)](_0x659ff5(0x1e4),_0x1bf06b),loggerService_1[_0x659ff5(0x1ef)][_0x659ff5(0x1da)](_0x659ff5(0x1d2),_0x1bf06b,_0x54f64c[_0x659ff5(0x1ea)]),_0x26800d[_0x659ff5(0x1dd)](0xc8)['json']({'success':![],'message':_0x1bf06b instanceof Error?_0x1bf06b['message']:'MasterCard\x20webhook\x20processing\x20failed'});}},this['webhookService']=new webhookService_1[(_0x241729(0x1db))]();}}exports[a15_0x2dc4e5(0x1e1)]=WebhookController;