'use strict';const a15_0x21e726=a15_0x337a;function a15_0x337a(_0x49431f,_0x25c1d1){const _0x230ef5=a15_0x230e();return a15_0x337a=function(_0x337ae7,_0x547739){_0x337ae7=_0x337ae7-0x12d;let _0x116e64=_0x230ef5[_0x337ae7];return _0x116e64;},a15_0x337a(_0x49431f,_0x25c1d1);}function a15_0x230e(){const _0x5ae028=['MasterCard\x20webhook\x20processing\x20error:','WebhookController','Raw\x20body\x20type:','Received\x20MasterCard\x20webhook:','noda','Received\x20Rapyd\x20webhook:','3776454TdZRXb','../services/webhookService','processPlisioWebhook','Rapyd\x20webhook\x20processing\x20failed','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','headers','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','102dXXyFK','klyme','4QuqWBd','2OXUiyF','plisio_gateway','Rapyd\x20webhook\x20processing\x20error:','plisio','Content-Type','mastercard','1626691qdGwzf','processCoinToPayWebhook','cointopay','Gateway\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processing\x20error:','processRapydWebhook','Noda\x20webhook\x20processing\x20failed','loggerService','Webhook\x20processing\x20error:','Received\x20KLYME\x20webhook:','CoinToPay\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processed\x20successfully','handleMasterCardWebhook','logWebhookError','message','WebhookService','MasterCard\x20webhook\x20processed\x20successfully','handleNodaWebhook','3983115GmYtQa','status','body','Content-Type:','10JlOPGJ','handleRapydWebhook','Body\x20keys:','16sQcuFe','__esModule','397353YTrrUw','error','get','KLYME\x20webhook\x20processing\x20failed','Received\x20Noda\x20webhook:','Gateway\x20webhook\x20processing\x20error:','13533324UmVvLw','handleKlymeWebhook','Webhook\x20processed\x20successfully','processMasterCardWebhook','logWebhookReceived','Rapyd\x20webhook\x20processed\x20successfully','log','Body\x20content:','MasterCard\x20webhook\x20processing\x20failed','webhookService','../services/loggerService','456301MNjCfs','rapyd','processKlymeWebhook','defineProperty','json','processPlisioGatewayWebhook','keys','42749fSTJdb','KLYME\x20webhook\x20processed\x20successfully'];a15_0x230e=function(){return _0x5ae028;};return a15_0x230e();}(function(_0x2f65e1,_0x3b6491){const _0xea6769=a15_0x337a,_0x1d8243=_0x2f65e1();while(!![]){try{const _0x43cbaa=parseInt(_0xea6769(0x175))/0x1*(-parseInt(_0xea6769(0x143))/0x2)+-parseInt(_0xea6769(0x164))/0x3*(-parseInt(_0xea6769(0x142))/0x4)+parseInt(_0xea6769(0x15b))/0x5+-parseInt(_0xea6769(0x140))/0x6*(-parseInt(_0xea6769(0x131))/0x7)+-parseInt(_0xea6769(0x162))/0x8*(parseInt(_0xea6769(0x139))/0x9)+-parseInt(_0xea6769(0x15f))/0xa*(parseInt(_0xea6769(0x149))/0xb)+parseInt(_0xea6769(0x16a))/0xc;if(_0x43cbaa===_0x3b6491)break;else _0x1d8243['push'](_0x1d8243['shift']());}catch(_0x1f7f15){_0x1d8243['push'](_0x1d8243['shift']());}}}(a15_0x230e,0xaf1dc));Object[a15_0x21e726(0x12d)](exports,a15_0x21e726(0x163),{'value':!![]}),exports[a15_0x21e726(0x134)]=void 0x0;const webhookService_1=require(a15_0x21e726(0x13a)),loggerService_1=require(a15_0x21e726(0x174));class WebhookController{constructor(){const _0x2a30db=a15_0x21e726;this['handlePlisioWebhook']=async(_0x4c328b,_0x4fd76c,_0x32a9dc)=>{const _0x4718b3=a15_0x337a;try{console['log'](_0x4718b3(0x13f)),console['log'](_0x4718b3(0x15e),_0x4c328b[_0x4718b3(0x166)](_0x4718b3(0x147))),console[_0x4718b3(0x170)]('Raw\x20body\x20type:',typeof _0x4c328b[_0x4718b3(0x15d)]),console['log'](_0x4718b3(0x161),Object[_0x4718b3(0x130)](_0x4c328b[_0x4718b3(0x15d)]||{})),console[_0x4718b3(0x170)](_0x4718b3(0x171),_0x4c328b[_0x4718b3(0x15d)]),loggerService_1['loggerService'][_0x4718b3(0x16e)](_0x4718b3(0x146),_0x4c328b[_0x4718b3(0x15d)],_0x4c328b[_0x4718b3(0x13e)]);const _0x3d99f4=await this['webhookService'][_0x4718b3(0x13b)](_0x4c328b[_0x4718b3(0x15d)]);_0x4fd76c[_0x4718b3(0x15c)](0xc8)[_0x4718b3(0x12e)]({'success':!![],'message':_0x4718b3(0x16c)});}catch(_0x4ff41f){console[_0x4718b3(0x165)](_0x4718b3(0x151),_0x4ff41f),loggerService_1['loggerService'][_0x4718b3(0x156)](_0x4718b3(0x146),_0x4ff41f,_0x4c328b['body']),_0x4fd76c[_0x4718b3(0x15c)](0xc8)[_0x4718b3(0x12e)]({'success':![],'message':_0x4ff41f instanceof Error?_0x4ff41f[_0x4718b3(0x157)]:'Webhook\x20processing\x20failed'});}},this['handlePlisioGatewayWebhook']=async(_0x42227c,_0x4d0913,_0x1b31fd)=>{const _0x274368=a15_0x337a;try{console[_0x274368(0x170)](_0x274368(0x13d)),console[_0x274368(0x170)](_0x274368(0x15e),_0x42227c['get'](_0x274368(0x147))),console[_0x274368(0x170)](_0x274368(0x135),typeof _0x42227c[_0x274368(0x15d)]),console['log'](_0x274368(0x161),Object[_0x274368(0x130)](_0x42227c[_0x274368(0x15d)]||{})),console[_0x274368(0x170)]('Body\x20content:',_0x42227c[_0x274368(0x15d)]),loggerService_1['loggerService'][_0x274368(0x16e)](_0x274368(0x144),_0x42227c[_0x274368(0x15d)],_0x42227c[_0x274368(0x13e)]);const _0xc4efa0=await this['webhookService'][_0x274368(0x12f)](_0x42227c[_0x274368(0x15d)]);_0x4d0913['status'](0xc8)[_0x274368(0x12e)]({'success':!![],'message':_0x274368(0x14c)});}catch(_0x43953f){console[_0x274368(0x165)](_0x274368(0x169),_0x43953f),loggerService_1['loggerService'][_0x274368(0x156)](_0x274368(0x144),_0x43953f,_0x42227c[_0x274368(0x15d)]),_0x4d0913[_0x274368(0x15c)](0xc8)[_0x274368(0x12e)]({'success':![],'message':_0x43953f instanceof Error?_0x43953f['message']:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x2a30db(0x160)]=async(_0x178698,_0x2088b4,_0x3a2493)=>{const _0x784bf2=_0x2a30db;try{console[_0x784bf2(0x170)](_0x784bf2(0x138),_0x178698[_0x784bf2(0x15d)]),loggerService_1['loggerService'][_0x784bf2(0x16e)](_0x784bf2(0x176),_0x178698[_0x784bf2(0x15d)],_0x178698[_0x784bf2(0x13e)]);const _0x4f7f07=await this[_0x784bf2(0x173)][_0x784bf2(0x14e)](_0x178698[_0x784bf2(0x15d)]);_0x2088b4[_0x784bf2(0x15c)](0xc8)[_0x784bf2(0x12e)]({'success':!![],'message':_0x784bf2(0x16f)});}catch(_0x5f8fe3){console['error'](_0x784bf2(0x145),_0x5f8fe3),loggerService_1['loggerService'][_0x784bf2(0x156)](_0x784bf2(0x176),_0x5f8fe3,_0x178698[_0x784bf2(0x15d)]),_0x2088b4['status'](0xc8)[_0x784bf2(0x12e)]({'success':![],'message':_0x5f8fe3 instanceof Error?_0x5f8fe3[_0x784bf2(0x157)]:_0x784bf2(0x13c)});}},this[_0x2a30db(0x15a)]=async(_0x24e789,_0x6ff5c4,_0x34b875)=>{const _0x3df0af=_0x2a30db;try{console[_0x3df0af(0x170)](_0x3df0af(0x168),_0x24e789['body']),loggerService_1[_0x3df0af(0x150)][_0x3df0af(0x16e)](_0x3df0af(0x137),_0x24e789[_0x3df0af(0x15d)],_0x24e789[_0x3df0af(0x13e)]);const _0x22636b=await this[_0x3df0af(0x173)]['processNodaWebhook'](_0x24e789[_0x3df0af(0x15d)]);_0x6ff5c4['status'](0xc8)['json']({'success':!![],'message':_0x3df0af(0x154)});}catch(_0x572f19){console['error']('Noda\x20webhook\x20processing\x20error:',_0x572f19),loggerService_1['loggerService']['logWebhookError']('noda',_0x572f19,_0x24e789[_0x3df0af(0x15d)]),_0x6ff5c4[_0x3df0af(0x15c)](0xc8)[_0x3df0af(0x12e)]({'success':![],'message':_0x572f19 instanceof Error?_0x572f19[_0x3df0af(0x157)]:_0x3df0af(0x14f)});}},this['handleCoinToPayWebhook']=async(_0x3e2eda,_0x4e3658,_0x4f40de)=>{const _0x2e3eed=_0x2a30db;try{console[_0x2e3eed(0x170)]('Received\x20CoinToPay\x20webhook:',_0x3e2eda[_0x2e3eed(0x15d)]),loggerService_1[_0x2e3eed(0x150)][_0x2e3eed(0x16e)]('cointopay',_0x3e2eda[_0x2e3eed(0x15d)],_0x3e2eda[_0x2e3eed(0x13e)]);const _0x5d7aa8=await this[_0x2e3eed(0x173)][_0x2e3eed(0x14a)](_0x3e2eda[_0x2e3eed(0x15d)]);_0x4e3658[_0x2e3eed(0x15c)](0xc8)[_0x2e3eed(0x12e)]({'success':!![],'message':_0x2e3eed(0x153)});}catch(_0x1ed40e){console[_0x2e3eed(0x165)]('CoinToPay\x20webhook\x20processing\x20error:',_0x1ed40e),loggerService_1['loggerService'][_0x2e3eed(0x156)](_0x2e3eed(0x14b),_0x1ed40e,_0x3e2eda[_0x2e3eed(0x15d)]),_0x4e3658['status'](0xc8)[_0x2e3eed(0x12e)]({'success':![],'message':_0x1ed40e instanceof Error?_0x1ed40e[_0x2e3eed(0x157)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x2a30db(0x16b)]=async(_0x282a7d,_0x3a8dbe,_0x405171)=>{const _0x1ef157=_0x2a30db;try{console[_0x1ef157(0x170)](_0x1ef157(0x152),_0x282a7d[_0x1ef157(0x15d)]),loggerService_1[_0x1ef157(0x150)][_0x1ef157(0x16e)](_0x1ef157(0x141),_0x282a7d[_0x1ef157(0x15d)],_0x282a7d['headers']);const _0x5c2c8a=await this[_0x1ef157(0x173)][_0x1ef157(0x177)](_0x282a7d[_0x1ef157(0x15d)]);_0x3a8dbe[_0x1ef157(0x15c)](0xc8)[_0x1ef157(0x12e)]({'success':!![],'message':_0x1ef157(0x132)});}catch(_0x2ab24a){console[_0x1ef157(0x165)](_0x1ef157(0x14d),_0x2ab24a),loggerService_1[_0x1ef157(0x150)][_0x1ef157(0x156)](_0x1ef157(0x141),_0x2ab24a,_0x282a7d[_0x1ef157(0x15d)]),_0x3a8dbe[_0x1ef157(0x15c)](0xc8)[_0x1ef157(0x12e)]({'success':![],'message':_0x2ab24a instanceof Error?_0x2ab24a[_0x1ef157(0x157)]:_0x1ef157(0x167)});}},this[_0x2a30db(0x155)]=async(_0x361823,_0x160e1a,_0x2dfda2)=>{const _0x77cb9=_0x2a30db;try{console[_0x77cb9(0x170)](_0x77cb9(0x136),_0x361823[_0x77cb9(0x15d)]),loggerService_1[_0x77cb9(0x150)][_0x77cb9(0x16e)]('mastercard',_0x361823[_0x77cb9(0x15d)],_0x361823[_0x77cb9(0x13e)]);const _0x5ab9f0=await this['webhookService'][_0x77cb9(0x16d)](_0x361823['body']);_0x160e1a[_0x77cb9(0x15c)](0xc8)[_0x77cb9(0x12e)]({'success':!![],'message':_0x77cb9(0x159)});}catch(_0x3dea3){console[_0x77cb9(0x165)](_0x77cb9(0x133),_0x3dea3),loggerService_1[_0x77cb9(0x150)][_0x77cb9(0x156)](_0x77cb9(0x148),_0x3dea3,_0x361823[_0x77cb9(0x15d)]),_0x160e1a[_0x77cb9(0x15c)](0xc8)['json']({'success':![],'message':_0x3dea3 instanceof Error?_0x3dea3['message']:_0x77cb9(0x172)});}},this[_0x2a30db(0x173)]=new webhookService_1[(_0x2a30db(0x158))]();}}exports[a15_0x21e726(0x134)]=WebhookController;