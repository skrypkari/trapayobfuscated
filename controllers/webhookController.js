'use strict';const a16_0x296d17=a16_0x3b3e;(function(_0x24fb6c,_0x237820){const _0x313734=a16_0x3b3e,_0x1f1d51=_0x24fb6c();while(!![]){try{const _0x394081=-parseInt(_0x313734(0x22a))/0x1+-parseInt(_0x313734(0x23b))/0x2+parseInt(_0x313734(0x224))/0x3*(-parseInt(_0x313734(0x221))/0x4)+-parseInt(_0x313734(0x1e9))/0x5+parseInt(_0x313734(0x243))/0x6+parseInt(_0x313734(0x20e))/0x7*(-parseInt(_0x313734(0x1fa))/0x8)+-parseInt(_0x313734(0x227))/0x9*(-parseInt(_0x313734(0x1f1))/0xa);if(_0x394081===_0x237820)break;else _0x1f1d51['push'](_0x1f1d51['shift']());}catch(_0x3e0845){_0x1f1d51['push'](_0x1f1d51['shift']());}}}(a16_0x3fe3,0xcbf73));Object[a16_0x296d17(0x200)](exports,a16_0x296d17(0x210),{'value':!![]}),exports[a16_0x296d17(0x222)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');function a16_0x3fe3(){const _0x2f931a=['handleCoinToPay2Webhook','Body\x20keys:','handlePlisioGatewayWebhook','Rapyd\x20webhook\x20processed\x20successfully','Method:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processCoinToPay2Webhook','log','199241swklAl','processMasterCardWebhook','__esModule','handleAmerWebhook','plisio_gateway','MyXSpend\x20webhook\x20processing\x20failed','body','KLYME\x20webhook\x20processed\x20successfully','===\x20AmPay\x20TRY\x20Webhook\x20Received\x20===','Received\x20Noda\x20webhook:','handleVisaWebhook','Amer\x20webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20failed','headers','CoinToPay2\x20webhook\x20processing\x20error:','Received\x20VISA\x20webhook:','Raw\x20body\x20type:','handleNodaWebhook','VISA\x20webhook\x20processing\x20error:','400KpyvDu','WebhookController','handleAmPayTRYWebhook','25626nTkPCb','VISA\x20webhook\x20processing\x20failed','myxspend','5751vKSnsv','query','json','261502txpaEZ','visa','processPlisioWebhook','MyXSpend\x20webhook\x20processed\x20successfully','AmPay\x20webhook\x20processed\x20successfully','processNodaWebhook','Headers:','handleAmPayWebhook','get','handleCoinToPayWebhook','logWebhookReceived','MyXSpend\x20webhook\x20processing\x20error:','processMyXSpendWebhook','ampay_try','processVisaWebhook','ampay','CoinToPay\x20webhook\x20processed\x20successfully','579060MdtNzu','cointopay2','AmPay\x20TRY\x20webhook\x20processed\x20successfully','method','Received\x20Amer\x20webhook:','Amer\x20webhook\x20processing\x20failed','handleMyXSpendWebhook','Received\x20Rapyd\x20webhook:','9285864dmwKba','Webhook\x20processed\x20successfully','error','amer','===\x20MyXSpend\x20Webhook\x20Received\x20===','AmPay\x20webhook\x20processing\x20error:','loggerService','CoinToPay\x20webhook\x20processing\x20error:','processAmPayWebhook','cointopay','handleKlymeWebhook','mastercard','processAmPayTRYWebhook','Received\x20CoinToPay2\x20webhook:','Gateway\x20webhook\x20processing\x20error:','Body\x20content:','5477990qxKZCb','klyme','VISA\x20webhook\x20processed\x20successfully','plisio','Noda\x20webhook\x20processed\x20successfully','Webhook\x20processing\x20failed','Content-Type','Gateway\x20webhook\x20processed\x20successfully','47590aLgYhr','Received\x20KLYME\x20webhook:','Body\x20type:','processRapydWebhook','KLYME\x20webhook\x20processing\x20error:','status','Gateway\x20webhook\x20processing\x20failed','webhookService','processPlisioGatewayWebhook','352dnayXY','Content-Type:','KLYME\x20webhook\x20processing\x20failed','rapyd','message','keys','defineProperty','===\x20AmPay\x20Webhook\x20Received\x20===','noda','AmPay\x20webhook\x20processing\x20failed','Body:','logWebhookError'];a16_0x3fe3=function(){return _0x2f931a;};return a16_0x3fe3();}function a16_0x3b3e(_0x142f9b,_0x13a69d){const _0x3fe3bd=a16_0x3fe3();return a16_0x3b3e=function(_0x3b3ed1,_0x5cdf07){_0x3b3ed1=_0x3b3ed1-0x1da;let _0xc91843=_0x3fe3bd[_0x3b3ed1];return _0xc91843;},a16_0x3b3e(_0x142f9b,_0x13a69d);}class WebhookController{constructor(){const _0x382563=a16_0x296d17;this['handlePlisioWebhook']=async(_0x170fdc,_0x171f16,_0x476310)=>{const _0xf92767=a16_0x3b3e;try{console['log']('===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20==='),console[_0xf92767(0x20d)](_0xf92767(0x1fb),_0x170fdc[_0xf92767(0x232)](_0xf92767(0x1ef))),console[_0xf92767(0x20d)]('Raw\x20body\x20type:',typeof _0x170fdc[_0xf92767(0x214)]),console[_0xf92767(0x20d)]('Body\x20keys:',Object['keys'](_0x170fdc[_0xf92767(0x214)]||{})),console[_0xf92767(0x20d)](_0xf92767(0x1e8),_0x170fdc[_0xf92767(0x214)]),loggerService_1[_0xf92767(0x1df)][_0xf92767(0x234)](_0xf92767(0x1ec),_0x170fdc[_0xf92767(0x214)],_0x170fdc[_0xf92767(0x21b)]);const _0x41ffa4=await this[_0xf92767(0x1f8)][_0xf92767(0x22c)](_0x170fdc['body']);_0x171f16[_0xf92767(0x1f6)](0xc8)[_0xf92767(0x229)]({'success':!![],'message':_0xf92767(0x1da)});}catch(_0x159168){console[_0xf92767(0x1db)]('Webhook\x20processing\x20error:',_0x159168),loggerService_1['loggerService'][_0xf92767(0x205)](_0xf92767(0x1ec),_0x159168,_0x170fdc['body']),_0x171f16[_0xf92767(0x1f6)](0xc8)[_0xf92767(0x229)]({'success':![],'message':_0x159168 instanceof Error?_0x159168[_0xf92767(0x1fe)]:_0xf92767(0x1ee)});}},this[_0x382563(0x208)]=async(_0x263962,_0x390839,_0x4b1813)=>{const _0x50d2f6=_0x382563;try{console[_0x50d2f6(0x20d)](_0x50d2f6(0x20b)),console[_0x50d2f6(0x20d)](_0x50d2f6(0x1fb),_0x263962[_0x50d2f6(0x232)](_0x50d2f6(0x1ef))),console[_0x50d2f6(0x20d)](_0x50d2f6(0x21e),typeof _0x263962[_0x50d2f6(0x214)]),console['log']('Body\x20keys:',Object['keys'](_0x263962[_0x50d2f6(0x214)]||{})),console[_0x50d2f6(0x20d)](_0x50d2f6(0x1e8),_0x263962[_0x50d2f6(0x214)]),loggerService_1[_0x50d2f6(0x1df)][_0x50d2f6(0x234)](_0x50d2f6(0x212),_0x263962[_0x50d2f6(0x214)],_0x263962[_0x50d2f6(0x21b)]);const _0x4fa16b=await this['webhookService'][_0x50d2f6(0x1f9)](_0x263962['body']);_0x390839[_0x50d2f6(0x1f6)](0xc8)[_0x50d2f6(0x229)]({'success':!![],'message':_0x50d2f6(0x1f0)});}catch(_0x6f08e7){console[_0x50d2f6(0x1db)](_0x50d2f6(0x1e7),_0x6f08e7),loggerService_1[_0x50d2f6(0x1df)]['logWebhookError'](_0x50d2f6(0x212),_0x6f08e7,_0x263962[_0x50d2f6(0x214)]),_0x390839['status'](0xc8)[_0x50d2f6(0x229)]({'success':![],'message':_0x6f08e7 instanceof Error?_0x6f08e7[_0x50d2f6(0x1fe)]:_0x50d2f6(0x1f7)});}},this['handleRapydWebhook']=async(_0x2a7a63,_0xdefd1d,_0x52484c)=>{const _0x26000c=_0x382563;try{console[_0x26000c(0x20d)](_0x26000c(0x242),_0x2a7a63[_0x26000c(0x214)]),loggerService_1[_0x26000c(0x1df)][_0x26000c(0x234)](_0x26000c(0x1fd),_0x2a7a63['body'],_0x2a7a63[_0x26000c(0x21b)]);const _0x2e06f2=await this[_0x26000c(0x1f8)][_0x26000c(0x1f4)](_0x2a7a63['body']);_0xdefd1d[_0x26000c(0x1f6)](0xc8)[_0x26000c(0x229)]({'success':!![],'message':_0x26000c(0x209)});}catch(_0x781a42){console[_0x26000c(0x1db)]('Rapyd\x20webhook\x20processing\x20error:',_0x781a42),loggerService_1['loggerService'][_0x26000c(0x205)]('rapyd',_0x781a42,_0x2a7a63[_0x26000c(0x214)]),_0xdefd1d[_0x26000c(0x1f6)](0xc8)[_0x26000c(0x229)]({'success':![],'message':_0x781a42 instanceof Error?_0x781a42['message']:'Rapyd\x20webhook\x20processing\x20failed'});}},this[_0x382563(0x21f)]=async(_0x274a23,_0x58f96e,_0xd5fa4e)=>{const _0x21cf04=_0x382563;try{console[_0x21cf04(0x20d)](_0x21cf04(0x217),_0x274a23[_0x21cf04(0x214)]),loggerService_1[_0x21cf04(0x1df)]['logWebhookReceived'](_0x21cf04(0x202),_0x274a23[_0x21cf04(0x214)],_0x274a23[_0x21cf04(0x21b)]);const _0x30c4c2=await this[_0x21cf04(0x1f8)][_0x21cf04(0x22f)](_0x274a23['body']);_0x58f96e['status'](0xc8)[_0x21cf04(0x229)]({'success':!![],'message':_0x21cf04(0x1ed)});}catch(_0x167b9d){console[_0x21cf04(0x1db)]('Noda\x20webhook\x20processing\x20error:',_0x167b9d),loggerService_1[_0x21cf04(0x1df)][_0x21cf04(0x205)](_0x21cf04(0x202),_0x167b9d,_0x274a23[_0x21cf04(0x214)]),_0x58f96e[_0x21cf04(0x1f6)](0xc8)[_0x21cf04(0x229)]({'success':![],'message':_0x167b9d instanceof Error?_0x167b9d[_0x21cf04(0x1fe)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x382563(0x233)]=async(_0x3f4593,_0x1d7d0b,_0x4bf5a8)=>{const _0x56ca4b=_0x382563;try{console[_0x56ca4b(0x20d)]('Received\x20CoinToPay\x20webhook:',_0x3f4593[_0x56ca4b(0x214)]),loggerService_1[_0x56ca4b(0x1df)][_0x56ca4b(0x234)](_0x56ca4b(0x1e2),_0x3f4593[_0x56ca4b(0x214)],_0x3f4593['headers']);const _0x509000=await this[_0x56ca4b(0x1f8)]['processCoinToPayWebhook'](_0x3f4593[_0x56ca4b(0x214)]);_0x1d7d0b[_0x56ca4b(0x1f6)](0xc8)[_0x56ca4b(0x229)]({'success':!![],'message':_0x56ca4b(0x23a)});}catch(_0x4db3a5){console[_0x56ca4b(0x1db)](_0x56ca4b(0x1e0),_0x4db3a5),loggerService_1[_0x56ca4b(0x1df)][_0x56ca4b(0x205)]('cointopay',_0x4db3a5,_0x3f4593[_0x56ca4b(0x214)]),_0x1d7d0b[_0x56ca4b(0x1f6)](0xc8)[_0x56ca4b(0x229)]({'success':![],'message':_0x4db3a5 instanceof Error?_0x4db3a5[_0x56ca4b(0x1fe)]:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x382563(0x206)]=async(_0x584eaf,_0x5ab2d5,_0x39757a)=>{const _0x290715=_0x382563;try{console[_0x290715(0x20d)](_0x290715(0x1e6),_0x584eaf['body']),loggerService_1['loggerService'][_0x290715(0x234)](_0x290715(0x23c),_0x584eaf[_0x290715(0x214)],_0x584eaf[_0x290715(0x21b)]);const _0xc9af58=await this[_0x290715(0x1f8)][_0x290715(0x20c)](_0x584eaf[_0x290715(0x214)]);_0x5ab2d5['status'](0xc8)[_0x290715(0x229)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x4d2794){console[_0x290715(0x1db)](_0x290715(0x21c),_0x4d2794),loggerService_1[_0x290715(0x1df)][_0x290715(0x205)](_0x290715(0x23c),_0x4d2794,_0x584eaf[_0x290715(0x214)]),_0x5ab2d5[_0x290715(0x1f6)](0xc8)['json']({'success':![],'message':_0x4d2794 instanceof Error?_0x4d2794[_0x290715(0x1fe)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x382563(0x1e3)]=async(_0x529a46,_0x271afb,_0x85ae3c)=>{const _0x442022=_0x382563;try{console[_0x442022(0x20d)](_0x442022(0x1f2),_0x529a46['body']),loggerService_1['loggerService'][_0x442022(0x234)]('klyme',_0x529a46['body'],_0x529a46[_0x442022(0x21b)]);const _0x3d8080=await this[_0x442022(0x1f8)]['processKlymeWebhook'](_0x529a46[_0x442022(0x214)]);_0x271afb[_0x442022(0x1f6)](0xc8)[_0x442022(0x229)]({'success':!![],'message':_0x442022(0x215)});}catch(_0x165c7e){console[_0x442022(0x1db)](_0x442022(0x1f5),_0x165c7e),loggerService_1['loggerService'][_0x442022(0x205)](_0x442022(0x1ea),_0x165c7e,_0x529a46['body']),_0x271afb['status'](0xc8)['json']({'success':![],'message':_0x165c7e instanceof Error?_0x165c7e[_0x442022(0x1fe)]:_0x442022(0x1fc)});}},this[_0x382563(0x218)]=async(_0x215654,_0x564bcc,_0x52825b)=>{const _0x2e9805=_0x382563;try{console[_0x2e9805(0x20d)](_0x2e9805(0x21d),_0x215654[_0x2e9805(0x214)]),loggerService_1[_0x2e9805(0x1df)]['logWebhookReceived'](_0x2e9805(0x22b),_0x215654[_0x2e9805(0x214)],_0x215654[_0x2e9805(0x21b)]);const _0x3c0c32=await this[_0x2e9805(0x1f8)][_0x2e9805(0x238)](_0x215654[_0x2e9805(0x214)]);_0x564bcc[_0x2e9805(0x1f6)](0xc8)[_0x2e9805(0x229)]({'success':!![],'message':_0x2e9805(0x1eb)});}catch(_0x447a52){console[_0x2e9805(0x1db)](_0x2e9805(0x220),_0x447a52),loggerService_1[_0x2e9805(0x1df)][_0x2e9805(0x205)](_0x2e9805(0x22b),_0x447a52,_0x215654[_0x2e9805(0x214)]),_0x564bcc[_0x2e9805(0x1f6)](0xc8)[_0x2e9805(0x229)]({'success':![],'message':_0x447a52 instanceof Error?_0x447a52['message']:_0x2e9805(0x225)});}},this['handleMasterCardWebhook']=async(_0x11b07c,_0x23a405,_0x4f955b)=>{const _0x5c54ee=_0x382563;try{console[_0x5c54ee(0x20d)]('Received\x20MasterCard\x20webhook:',_0x11b07c[_0x5c54ee(0x214)]),loggerService_1[_0x5c54ee(0x1df)]['logWebhookReceived'](_0x5c54ee(0x1e4),_0x11b07c[_0x5c54ee(0x214)],_0x11b07c[_0x5c54ee(0x21b)]);const _0x38b427=await this['webhookService'][_0x5c54ee(0x20f)](_0x11b07c['body']);_0x23a405[_0x5c54ee(0x1f6)](0xc8)[_0x5c54ee(0x229)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x4b5c75){console[_0x5c54ee(0x1db)]('MasterCard\x20webhook\x20processing\x20error:',_0x4b5c75),loggerService_1[_0x5c54ee(0x1df)]['logWebhookError'](_0x5c54ee(0x1e4),_0x4b5c75,_0x11b07c['body']),_0x23a405[_0x5c54ee(0x1f6)](0xc8)[_0x5c54ee(0x229)]({'success':![],'message':_0x4b5c75 instanceof Error?_0x4b5c75[_0x5c54ee(0x1fe)]:_0x5c54ee(0x21a)});}},this[_0x382563(0x211)]=async(_0x2a7d79,_0x4fb622,_0x5d0f5b)=>{const _0x258a7c=_0x382563;try{console[_0x258a7c(0x20d)](_0x258a7c(0x23f),_0x2a7d79['body']),loggerService_1[_0x258a7c(0x1df)][_0x258a7c(0x234)]('amer',_0x2a7d79[_0x258a7c(0x214)],_0x2a7d79[_0x258a7c(0x21b)]);const _0x32827b=await this[_0x258a7c(0x1f8)]['processAmerWebhook'](_0x2a7d79[_0x258a7c(0x214)]);_0x4fb622['status'](0xc8)['json']({'success':!![],'message':_0x258a7c(0x219)});}catch(_0x2ad7a4){console[_0x258a7c(0x1db)]('Amer\x20webhook\x20processing\x20error:',_0x2ad7a4),loggerService_1[_0x258a7c(0x1df)][_0x258a7c(0x205)](_0x258a7c(0x1dc),_0x2ad7a4,_0x2a7d79[_0x258a7c(0x214)]),_0x4fb622[_0x258a7c(0x1f6)](0xc8)[_0x258a7c(0x229)]({'success':![],'message':_0x2ad7a4 instanceof Error?_0x2ad7a4[_0x258a7c(0x1fe)]:_0x258a7c(0x240)});}},this[_0x382563(0x231)]=async(_0x190e40,_0x2e0804,_0x36d8f9)=>{const _0x4a45c9=_0x382563;try{console[_0x4a45c9(0x20d)](_0x4a45c9(0x201)),console[_0x4a45c9(0x20d)](_0x4a45c9(0x230),_0x190e40[_0x4a45c9(0x21b)]),console[_0x4a45c9(0x20d)](_0x4a45c9(0x204),_0x190e40[_0x4a45c9(0x214)]),console['log'](_0x4a45c9(0x1f3),typeof _0x190e40[_0x4a45c9(0x214)]),console[_0x4a45c9(0x20d)](_0x4a45c9(0x207),Object[_0x4a45c9(0x1ff)](_0x190e40['body']||{})),loggerService_1['loggerService'][_0x4a45c9(0x234)](_0x4a45c9(0x239),_0x190e40[_0x4a45c9(0x214)],_0x190e40[_0x4a45c9(0x21b)]);const _0x1e8e71=await this[_0x4a45c9(0x1f8)][_0x4a45c9(0x1e1)](_0x190e40[_0x4a45c9(0x214)]);_0x2e0804[_0x4a45c9(0x1f6)](0xc8)['json']({'success':!![],'message':_0x4a45c9(0x22e)});}catch(_0x360bee){console[_0x4a45c9(0x1db)](_0x4a45c9(0x1de),_0x360bee),loggerService_1['loggerService'][_0x4a45c9(0x205)](_0x4a45c9(0x239),_0x360bee,_0x190e40[_0x4a45c9(0x214)]),_0x2e0804[_0x4a45c9(0x1f6)](0xc8)['json']({'success':![],'message':_0x360bee instanceof Error?_0x360bee[_0x4a45c9(0x1fe)]:_0x4a45c9(0x203)});}},this[_0x382563(0x223)]=async(_0x3528d9,_0x434695,_0x3d8bbb)=>{const _0x24d743=_0x382563;try{console[_0x24d743(0x20d)](_0x24d743(0x216)),console[_0x24d743(0x20d)](_0x24d743(0x230),_0x3528d9[_0x24d743(0x21b)]),console[_0x24d743(0x20d)](_0x24d743(0x204),_0x3528d9[_0x24d743(0x214)]),console['log'](_0x24d743(0x1f3),typeof _0x3528d9[_0x24d743(0x214)]),console[_0x24d743(0x20d)](_0x24d743(0x207),Object[_0x24d743(0x1ff)](_0x3528d9['body']||{})),loggerService_1[_0x24d743(0x1df)][_0x24d743(0x234)](_0x24d743(0x237),_0x3528d9['body'],_0x3528d9[_0x24d743(0x21b)]);const _0x2aeca2=await this[_0x24d743(0x1f8)][_0x24d743(0x1e5)](_0x3528d9[_0x24d743(0x214)]);_0x434695['status'](0xc8)[_0x24d743(0x229)]({'success':!![],'message':_0x24d743(0x23d)});}catch(_0x21145d){console[_0x24d743(0x1db)]('AmPay\x20TRY\x20webhook\x20processing\x20error:',_0x21145d),loggerService_1[_0x24d743(0x1df)][_0x24d743(0x205)]('ampay_try',_0x21145d,_0x3528d9[_0x24d743(0x214)]),_0x434695['status'](0xc8)['json']({'success':![],'message':_0x21145d instanceof Error?_0x21145d['message']:'AmPay\x20TRY\x20webhook\x20processing\x20failed'});}},this[_0x382563(0x241)]=async(_0x153b12,_0x154562,_0x2221ee)=>{const _0x47239d=_0x382563;try{console[_0x47239d(0x20d)](_0x47239d(0x1dd)),console[_0x47239d(0x20d)]('Headers:',_0x153b12[_0x47239d(0x21b)]),console['log']('Query\x20params:',_0x153b12[_0x47239d(0x228)]),console[_0x47239d(0x20d)]('Body:',_0x153b12[_0x47239d(0x214)]),console[_0x47239d(0x20d)](_0x47239d(0x20a),_0x153b12[_0x47239d(0x23e)]),loggerService_1[_0x47239d(0x1df)][_0x47239d(0x234)]('myxspend',_0x153b12['body']||_0x153b12[_0x47239d(0x228)],_0x153b12['headers']);const _0x2f7ed5=await this[_0x47239d(0x1f8)][_0x47239d(0x236)](_0x153b12['query'],_0x153b12[_0x47239d(0x214)]);_0x154562[_0x47239d(0x1f6)](0xc8)['json']({'success':!![],'message':_0x47239d(0x22d)});}catch(_0x375932){console[_0x47239d(0x1db)](_0x47239d(0x235),_0x375932),loggerService_1[_0x47239d(0x1df)][_0x47239d(0x205)](_0x47239d(0x226),_0x375932,_0x153b12[_0x47239d(0x214)]||_0x153b12[_0x47239d(0x228)]),_0x154562[_0x47239d(0x1f6)](0xc8)[_0x47239d(0x229)]({'success':![],'message':_0x375932 instanceof Error?_0x375932[_0x47239d(0x1fe)]:_0x47239d(0x213)});}},this['webhookService']=new webhookService_1['WebhookService']();}}exports[a16_0x296d17(0x222)]=WebhookController;