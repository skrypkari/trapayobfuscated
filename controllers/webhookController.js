'use strict';const a17_0x47b57c=a17_0x1bc5;function a17_0x24e4(){const _0xa0a56c=['48BrojiG','===\x20MyXSpend\x20Webhook\x20Received\x20===','CoinToPay\x20webhook\x20processing\x20error:','Headers:','status','myxspend','26340DTNOEU','processAmerWebhook','AmPay\x20webhook\x20processed\x20successfully','Body\x20type:','Webhook\x20processed\x20successfully','noda','AmPay\x20TRY\x20webhook\x20processing\x20error:','Received\x20CoinToPay2\x20webhook:','AmPay\x20webhook\x20processing\x20failed','get','visa','WebhookService','3636245OMPLkV','215396ZptdQe','Noda\x20webhook\x20processing\x20failed','995090xDEEwP','../services/loggerService','Received\x20Rapyd\x20webhook:','Amer\x20webhook\x20processing\x20failed','webhookService','handleAmPayWebhook','AmPay\x20webhook\x20processing\x20error:','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','logWebhookError','cointopay2','body','45SPErfu','Received\x20Noda\x20webhook:','../services/webhookService','mastercard','Body\x20content:','Gateway\x20webhook\x20processed\x20successfully','ampay_try','Gateway\x20webhook\x20processing\x20failed','42058qXgyDz','processAmPayTRYWebhook','amer','logWebhookReceived','__esModule','handlePlisioGatewayWebhook','plisio','CoinToPay2\x20webhook\x20processing\x20error:','processAmPayWebhook','defineProperty','AmPay\x20TRY\x20webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processed\x20successfully','processRapydWebhook','keys','processPlisioGatewayWebhook','handleCoinToPay2Webhook','KLYME\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','handleKlymeWebhook','Received\x20VISA\x20webhook:','plisio_gateway','json','ampay','Content-Type','17CseQfU','1256992XBQcrh','MyXSpend\x20webhook\x20processing\x20error:','Received\x20MasterCard\x20webhook:','method','Rapyd\x20webhook\x20processing\x20error:','processVisaWebhook','rapyd','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','cointopay','Rapyd\x20webhook\x20processing\x20failed','Amer\x20webhook\x20processed\x20successfully','Noda\x20webhook\x20processing\x20error:','loggerService','message','Received\x20CoinToPay\x20webhook:','processCoinToPay2Webhook','17144kThnHq','Raw\x20body\x20type:','CoinToPay2\x20webhook\x20processing\x20failed','log','Received\x20Amer\x20webhook:','===\x20AmPay\x20TRY\x20Webhook\x20Received\x20===','Rapyd\x20webhook\x20processed\x20successfully','query','error','CoinToPay\x20webhook\x20processing\x20failed','handleMasterCardWebhook','WebhookController','headers','Gateway\x20webhook\x20processing\x20error:','VISA\x20webhook\x20processing\x20error:','CoinToPay2\x20webhook\x20processed\x20successfully','Body:','processPlisioWebhook','MasterCard\x20webhook\x20processing\x20error:','Query\x20params:','handleCoinToPayWebhook','1253rBzNkv','6RFiRgK','MasterCard\x20webhook\x20processed\x20successfully','Body\x20keys:','handleMyXSpendWebhook','handleRapydWebhook','Noda\x20webhook\x20processed\x20successfully','Content-Type:','processCoinToPayWebhook'];a17_0x24e4=function(){return _0xa0a56c;};return a17_0x24e4();}(function(_0xf96b0d,_0xc1409b){const _0x582439=a17_0x1bc5,_0x5ec275=_0xf96b0d();while(!![]){try{const _0x5841fe=-parseInt(_0x582439(0xf2))/0x1*(parseInt(_0x582439(0xda))/0x2)+-parseInt(_0x582439(0x121))/0x3*(parseInt(_0x582439(0x134))/0x4)+parseInt(_0x582439(0x133))/0x5*(parseInt(_0x582439(0x119))/0x6)+-parseInt(_0x582439(0x118))/0x7*(-parseInt(_0x582439(0x103))/0x8)+parseInt(_0x582439(0xd2))/0x9*(parseInt(_0x582439(0x136))/0xa)+parseInt(_0x582439(0xf3))/0xb+-parseInt(_0x582439(0x127))/0xc;if(_0x5841fe===_0xc1409b)break;else _0x5ec275['push'](_0x5ec275['shift']());}catch(_0x33197d){_0x5ec275['push'](_0x5ec275['shift']());}}}(a17_0x24e4,0x7a68f));Object[a17_0x47b57c(0xe3)](exports,a17_0x47b57c(0xde),{'value':!![]}),exports[a17_0x47b57c(0x10e)]=void 0x0;const webhookService_1=require(a17_0x47b57c(0xd4)),loggerService_1=require(a17_0x47b57c(0x137));function a17_0x1bc5(_0xcf1c3c,_0x2d36cf){const _0x24e423=a17_0x24e4();return a17_0x1bc5=function(_0x1bc5f6,_0x29eea4){_0x1bc5f6=_0x1bc5f6-0xc9;let _0x556f9d=_0x24e423[_0x1bc5f6];return _0x556f9d;},a17_0x1bc5(_0xcf1c3c,_0x2d36cf);}class WebhookController{constructor(){const _0x5ad9cb=a17_0x47b57c;this['handlePlisioWebhook']=async(_0x10ea3c,_0x105b6e,_0x1bdb5f)=>{const _0x40a5ac=a17_0x1bc5;try{console['log'](_0x40a5ac(0xce)),console['log'](_0x40a5ac(0x11f),_0x10ea3c[_0x40a5ac(0x130)](_0x40a5ac(0xf1))),console['log']('Raw\x20body\x20type:',typeof _0x10ea3c['body']),console[_0x40a5ac(0x106)]('Body\x20keys:',Object[_0x40a5ac(0xe7)](_0x10ea3c['body']||{})),console[_0x40a5ac(0x106)](_0x40a5ac(0xd6),_0x10ea3c[_0x40a5ac(0xd1)]),loggerService_1[_0x40a5ac(0xff)][_0x40a5ac(0xdd)](_0x40a5ac(0xe0),_0x10ea3c[_0x40a5ac(0xd1)],_0x10ea3c[_0x40a5ac(0x10f)]);const _0x529975=await this['webhookService'][_0x40a5ac(0x114)](_0x10ea3c['body']);_0x105b6e[_0x40a5ac(0x125)](0xc8)[_0x40a5ac(0xef)]({'success':!![],'message':_0x40a5ac(0x12b)});}catch(_0x574d4e){console[_0x40a5ac(0x10b)](_0x40a5ac(0xeb),_0x574d4e),loggerService_1[_0x40a5ac(0xff)]['logWebhookError'](_0x40a5ac(0xe0),_0x574d4e,_0x10ea3c['body']),_0x105b6e['status'](0xc8)['json']({'success':![],'message':_0x574d4e instanceof Error?_0x574d4e[_0x40a5ac(0x100)]:'Webhook\x20processing\x20failed'});}},this[_0x5ad9cb(0xdf)]=async(_0x267d83,_0x348f60,_0x247a16)=>{const _0x178bf2=_0x5ad9cb;try{console[_0x178bf2(0x106)](_0x178bf2(0xfa)),console[_0x178bf2(0x106)](_0x178bf2(0x11f),_0x267d83[_0x178bf2(0x130)](_0x178bf2(0xf1))),console[_0x178bf2(0x106)](_0x178bf2(0x104),typeof _0x267d83['body']),console[_0x178bf2(0x106)]('Body\x20keys:',Object[_0x178bf2(0xe7)](_0x267d83[_0x178bf2(0xd1)]||{})),console[_0x178bf2(0x106)]('Body\x20content:',_0x267d83[_0x178bf2(0xd1)]),loggerService_1[_0x178bf2(0xff)][_0x178bf2(0xdd)]('plisio_gateway',_0x267d83[_0x178bf2(0xd1)],_0x267d83['headers']);const _0x3976b1=await this[_0x178bf2(0xcb)][_0x178bf2(0xe8)](_0x267d83['body']);_0x348f60[_0x178bf2(0x125)](0xc8)[_0x178bf2(0xef)]({'success':!![],'message':_0x178bf2(0xd7)});}catch(_0x191f47){console[_0x178bf2(0x10b)](_0x178bf2(0x110),_0x191f47),loggerService_1[_0x178bf2(0xff)][_0x178bf2(0xcf)](_0x178bf2(0xee),_0x191f47,_0x267d83[_0x178bf2(0xd1)]),_0x348f60[_0x178bf2(0x125)](0xc8)[_0x178bf2(0xef)]({'success':![],'message':_0x191f47 instanceof Error?_0x191f47[_0x178bf2(0x100)]:_0x178bf2(0xd9)});}},this[_0x5ad9cb(0x11d)]=async(_0x4f5bb1,_0x528480,_0x6b08f8)=>{const _0x1802b1=_0x5ad9cb;try{console[_0x1802b1(0x106)](_0x1802b1(0xc9),_0x4f5bb1['body']),loggerService_1[_0x1802b1(0xff)][_0x1802b1(0xdd)](_0x1802b1(0xf9),_0x4f5bb1['body'],_0x4f5bb1[_0x1802b1(0x10f)]);const _0x3ca112=await this[_0x1802b1(0xcb)][_0x1802b1(0xe6)](_0x4f5bb1[_0x1802b1(0xd1)]);_0x528480['status'](0xc8)['json']({'success':!![],'message':_0x1802b1(0x109)});}catch(_0x21bc85){console['error'](_0x1802b1(0xf7),_0x21bc85),loggerService_1['loggerService'][_0x1802b1(0xcf)]('rapyd',_0x21bc85,_0x4f5bb1[_0x1802b1(0xd1)]),_0x528480['status'](0xc8)[_0x1802b1(0xef)]({'success':![],'message':_0x21bc85 instanceof Error?_0x21bc85['message']:_0x1802b1(0xfc)});}},this['handleNodaWebhook']=async(_0x695f37,_0xc7807e,_0x57104f)=>{const _0x3f7207=_0x5ad9cb;try{console[_0x3f7207(0x106)](_0x3f7207(0xd3),_0x695f37['body']),loggerService_1['loggerService'][_0x3f7207(0xdd)](_0x3f7207(0x12c),_0x695f37[_0x3f7207(0xd1)],_0x695f37[_0x3f7207(0x10f)]);const _0x5db100=await this[_0x3f7207(0xcb)]['processNodaWebhook'](_0x695f37['body']);_0xc7807e['status'](0xc8)[_0x3f7207(0xef)]({'success':!![],'message':_0x3f7207(0x11e)});}catch(_0xb43c05){console[_0x3f7207(0x10b)](_0x3f7207(0xfe),_0xb43c05),loggerService_1['loggerService'][_0x3f7207(0xcf)]('noda',_0xb43c05,_0x695f37[_0x3f7207(0xd1)]),_0xc7807e[_0x3f7207(0x125)](0xc8)[_0x3f7207(0xef)]({'success':![],'message':_0xb43c05 instanceof Error?_0xb43c05[_0x3f7207(0x100)]:_0x3f7207(0x135)});}},this[_0x5ad9cb(0x117)]=async(_0x556df4,_0x40a82b,_0x1038c4)=>{const _0x2c6a1a=_0x5ad9cb;try{console[_0x2c6a1a(0x106)](_0x2c6a1a(0x101),_0x556df4[_0x2c6a1a(0xd1)]),loggerService_1[_0x2c6a1a(0xff)]['logWebhookReceived']('cointopay',_0x556df4[_0x2c6a1a(0xd1)],_0x556df4[_0x2c6a1a(0x10f)]);const _0x5d9021=await this['webhookService'][_0x2c6a1a(0x120)](_0x556df4[_0x2c6a1a(0xd1)]);_0x40a82b[_0x2c6a1a(0x125)](0xc8)['json']({'success':!![],'message':_0x2c6a1a(0xe5)});}catch(_0x5b4cc8){console[_0x2c6a1a(0x10b)](_0x2c6a1a(0x123),_0x5b4cc8),loggerService_1[_0x2c6a1a(0xff)][_0x2c6a1a(0xcf)](_0x2c6a1a(0xfb),_0x5b4cc8,_0x556df4[_0x2c6a1a(0xd1)]),_0x40a82b[_0x2c6a1a(0x125)](0xc8)[_0x2c6a1a(0xef)]({'success':![],'message':_0x5b4cc8 instanceof Error?_0x5b4cc8[_0x2c6a1a(0x100)]:_0x2c6a1a(0x10c)});}},this[_0x5ad9cb(0xe9)]=async(_0x3875ee,_0x334c00,_0x58682a)=>{const _0xdd6687=_0x5ad9cb;try{console[_0xdd6687(0x106)](_0xdd6687(0x12e),_0x3875ee[_0xdd6687(0xd1)]),loggerService_1['loggerService']['logWebhookReceived'](_0xdd6687(0xd0),_0x3875ee[_0xdd6687(0xd1)],_0x3875ee[_0xdd6687(0x10f)]);const _0x22a239=await this[_0xdd6687(0xcb)][_0xdd6687(0x102)](_0x3875ee['body']);_0x334c00['status'](0xc8)[_0xdd6687(0xef)]({'success':!![],'message':_0xdd6687(0x112)});}catch(_0x3b1791){console[_0xdd6687(0x10b)](_0xdd6687(0xe1),_0x3b1791),loggerService_1[_0xdd6687(0xff)][_0xdd6687(0xcf)](_0xdd6687(0xd0),_0x3b1791,_0x3875ee[_0xdd6687(0xd1)]),_0x334c00[_0xdd6687(0x125)](0xc8)[_0xdd6687(0xef)]({'success':![],'message':_0x3b1791 instanceof Error?_0x3b1791['message']:_0xdd6687(0x105)});}},this[_0x5ad9cb(0xec)]=async(_0x3732b4,_0x539b82,_0x5d700d)=>{const _0x1214e1=_0x5ad9cb;try{console[_0x1214e1(0x106)]('Received\x20KLYME\x20webhook:',_0x3732b4[_0x1214e1(0xd1)]),loggerService_1[_0x1214e1(0xff)]['logWebhookReceived']('klyme',_0x3732b4['body'],_0x3732b4[_0x1214e1(0x10f)]);const _0x1f6e76=await this[_0x1214e1(0xcb)]['processKlymeWebhook'](_0x3732b4[_0x1214e1(0xd1)]);_0x539b82[_0x1214e1(0x125)](0xc8)[_0x1214e1(0xef)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x37e33a){console[_0x1214e1(0x10b)](_0x1214e1(0xea),_0x37e33a),loggerService_1[_0x1214e1(0xff)][_0x1214e1(0xcf)]('klyme',_0x37e33a,_0x3732b4['body']),_0x539b82['status'](0xc8)[_0x1214e1(0xef)]({'success':![],'message':_0x37e33a instanceof Error?_0x37e33a[_0x1214e1(0x100)]:'KLYME\x20webhook\x20processing\x20failed'});}},this['handleVisaWebhook']=async(_0x438833,_0x2a040d,_0x29e960)=>{const _0x4770b0=_0x5ad9cb;try{console[_0x4770b0(0x106)](_0x4770b0(0xed),_0x438833[_0x4770b0(0xd1)]),loggerService_1[_0x4770b0(0xff)][_0x4770b0(0xdd)]('visa',_0x438833[_0x4770b0(0xd1)],_0x438833[_0x4770b0(0x10f)]);const _0x5d51a0=await this['webhookService'][_0x4770b0(0xf8)](_0x438833[_0x4770b0(0xd1)]);_0x2a040d[_0x4770b0(0x125)](0xc8)['json']({'success':!![],'message':'VISA\x20webhook\x20processed\x20successfully'});}catch(_0x525c23){console[_0x4770b0(0x10b)](_0x4770b0(0x111),_0x525c23),loggerService_1[_0x4770b0(0xff)][_0x4770b0(0xcf)](_0x4770b0(0x131),_0x525c23,_0x438833[_0x4770b0(0xd1)]),_0x2a040d[_0x4770b0(0x125)](0xc8)[_0x4770b0(0xef)]({'success':![],'message':_0x525c23 instanceof Error?_0x525c23['message']:'VISA\x20webhook\x20processing\x20failed'});}},this[_0x5ad9cb(0x10d)]=async(_0x46291c,_0x276425,_0x5e4e7)=>{const _0x521164=_0x5ad9cb;try{console[_0x521164(0x106)](_0x521164(0xf5),_0x46291c[_0x521164(0xd1)]),loggerService_1[_0x521164(0xff)][_0x521164(0xdd)](_0x521164(0xd5),_0x46291c[_0x521164(0xd1)],_0x46291c[_0x521164(0x10f)]);const _0x27cdfd=await this[_0x521164(0xcb)]['processMasterCardWebhook'](_0x46291c['body']);_0x276425[_0x521164(0x125)](0xc8)[_0x521164(0xef)]({'success':!![],'message':_0x521164(0x11a)});}catch(_0x5509bb){console[_0x521164(0x10b)](_0x521164(0x115),_0x5509bb),loggerService_1[_0x521164(0xff)][_0x521164(0xcf)](_0x521164(0xd5),_0x5509bb,_0x46291c['body']),_0x276425['status'](0xc8)[_0x521164(0xef)]({'success':![],'message':_0x5509bb instanceof Error?_0x5509bb['message']:'MasterCard\x20webhook\x20processing\x20failed'});}},this['handleAmerWebhook']=async(_0x3ff063,_0x2b5f87,_0x3c642b)=>{const _0x496677=_0x5ad9cb;try{console[_0x496677(0x106)](_0x496677(0x107),_0x3ff063['body']),loggerService_1[_0x496677(0xff)]['logWebhookReceived'](_0x496677(0xdc),_0x3ff063[_0x496677(0xd1)],_0x3ff063[_0x496677(0x10f)]);const _0x195426=await this[_0x496677(0xcb)][_0x496677(0x128)](_0x3ff063[_0x496677(0xd1)]);_0x2b5f87[_0x496677(0x125)](0xc8)[_0x496677(0xef)]({'success':!![],'message':_0x496677(0xfd)});}catch(_0x49fa33){console['error']('Amer\x20webhook\x20processing\x20error:',_0x49fa33),loggerService_1[_0x496677(0xff)][_0x496677(0xcf)]('amer',_0x49fa33,_0x3ff063[_0x496677(0xd1)]),_0x2b5f87[_0x496677(0x125)](0xc8)[_0x496677(0xef)]({'success':![],'message':_0x49fa33 instanceof Error?_0x49fa33[_0x496677(0x100)]:_0x496677(0xca)});}},this[_0x5ad9cb(0xcc)]=async(_0x33a682,_0x6cfb99,_0x34c472)=>{const _0x28d475=_0x5ad9cb;try{console['log']('===\x20AmPay\x20Webhook\x20Received\x20==='),console['log']('Headers:',_0x33a682['headers']),console[_0x28d475(0x106)](_0x28d475(0x113),_0x33a682[_0x28d475(0xd1)]),console['log'](_0x28d475(0x12a),typeof _0x33a682[_0x28d475(0xd1)]),console[_0x28d475(0x106)](_0x28d475(0x11b),Object['keys'](_0x33a682[_0x28d475(0xd1)]||{})),loggerService_1[_0x28d475(0xff)]['logWebhookReceived'](_0x28d475(0xf0),_0x33a682[_0x28d475(0xd1)],_0x33a682[_0x28d475(0x10f)]);const _0x297d22=await this[_0x28d475(0xcb)][_0x28d475(0xe2)](_0x33a682[_0x28d475(0xd1)]);_0x6cfb99[_0x28d475(0x125)](0xc8)[_0x28d475(0xef)]({'success':!![],'message':_0x28d475(0x129)});}catch(_0x4e6547){console[_0x28d475(0x10b)](_0x28d475(0xcd),_0x4e6547),loggerService_1[_0x28d475(0xff)][_0x28d475(0xcf)](_0x28d475(0xf0),_0x4e6547,_0x33a682[_0x28d475(0xd1)]),_0x6cfb99[_0x28d475(0x125)](0xc8)[_0x28d475(0xef)]({'success':![],'message':_0x4e6547 instanceof Error?_0x4e6547[_0x28d475(0x100)]:_0x28d475(0x12f)});}},this['handleAmPayTRYWebhook']=async(_0x40ac75,_0x5d785e,_0x2c15a5)=>{const _0x444d55=_0x5ad9cb;try{console[_0x444d55(0x106)](_0x444d55(0x108)),console['log'](_0x444d55(0x124),_0x40ac75[_0x444d55(0x10f)]),console[_0x444d55(0x106)](_0x444d55(0x113),_0x40ac75[_0x444d55(0xd1)]),console[_0x444d55(0x106)](_0x444d55(0x12a),typeof _0x40ac75['body']),console[_0x444d55(0x106)](_0x444d55(0x11b),Object['keys'](_0x40ac75['body']||{})),loggerService_1[_0x444d55(0xff)][_0x444d55(0xdd)](_0x444d55(0xd8),_0x40ac75[_0x444d55(0xd1)],_0x40ac75['headers']);const _0x23266b=await this[_0x444d55(0xcb)][_0x444d55(0xdb)](_0x40ac75[_0x444d55(0xd1)]);_0x5d785e[_0x444d55(0x125)](0xc8)['json']({'success':!![],'message':'AmPay\x20TRY\x20webhook\x20processed\x20successfully'});}catch(_0x1c92ac){console[_0x444d55(0x10b)](_0x444d55(0x12d),_0x1c92ac),loggerService_1[_0x444d55(0xff)][_0x444d55(0xcf)]('ampay_try',_0x1c92ac,_0x40ac75[_0x444d55(0xd1)]),_0x5d785e[_0x444d55(0x125)](0xc8)[_0x444d55(0xef)]({'success':![],'message':_0x1c92ac instanceof Error?_0x1c92ac[_0x444d55(0x100)]:_0x444d55(0xe4)});}},this[_0x5ad9cb(0x11c)]=async(_0x59b0e7,_0x16d1eb,_0x1f3bda)=>{const _0xe1c0ba=_0x5ad9cb;try{console[_0xe1c0ba(0x106)](_0xe1c0ba(0x122)),console['log'](_0xe1c0ba(0x124),_0x59b0e7['headers']),console[_0xe1c0ba(0x106)](_0xe1c0ba(0x116),_0x59b0e7[_0xe1c0ba(0x10a)]),console[_0xe1c0ba(0x106)](_0xe1c0ba(0x113),_0x59b0e7[_0xe1c0ba(0xd1)]),console[_0xe1c0ba(0x106)]('Method:',_0x59b0e7[_0xe1c0ba(0xf6)]),loggerService_1['loggerService']['logWebhookReceived'](_0xe1c0ba(0x126),_0x59b0e7[_0xe1c0ba(0xd1)]||_0x59b0e7[_0xe1c0ba(0x10a)],_0x59b0e7[_0xe1c0ba(0x10f)]);const _0x3af3a2=await this[_0xe1c0ba(0xcb)]['processMyXSpendWebhook'](_0x59b0e7[_0xe1c0ba(0x10a)],_0x59b0e7[_0xe1c0ba(0xd1)]);_0x16d1eb[_0xe1c0ba(0x125)](0xc8)[_0xe1c0ba(0xef)]({'success':!![],'message':'MyXSpend\x20webhook\x20processed\x20successfully'});}catch(_0x4af68c){console[_0xe1c0ba(0x10b)](_0xe1c0ba(0xf4),_0x4af68c),loggerService_1[_0xe1c0ba(0xff)][_0xe1c0ba(0xcf)]('myxspend',_0x4af68c,_0x59b0e7[_0xe1c0ba(0xd1)]||_0x59b0e7[_0xe1c0ba(0x10a)]),_0x16d1eb[_0xe1c0ba(0x125)](0xc8)[_0xe1c0ba(0xef)]({'success':![],'message':_0x4af68c instanceof Error?_0x4af68c[_0xe1c0ba(0x100)]:'MyXSpend\x20webhook\x20processing\x20failed'});}},this[_0x5ad9cb(0xcb)]=new webhookService_1[(_0x5ad9cb(0x132))]();}}exports['WebhookController']=WebhookController;