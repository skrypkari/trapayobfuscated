'use strict';function a15_0x1613(_0x4ca931,_0x559d10){const _0x2376b9=a15_0x2376();return a15_0x1613=function(_0x161319,_0x34422b){_0x161319=_0x161319-0x182;let _0xeccccf=_0x2376b9[_0x161319];return _0xeccccf;},a15_0x1613(_0x4ca931,_0x559d10);}const a15_0x165ed8=a15_0x1613;(function(_0x3f63ed,_0x5470d3){const _0x431ae0=a15_0x1613,_0x5b9b48=_0x3f63ed();while(!![]){try{const _0x4d7588=-parseInt(_0x431ae0(0x1a5))/0x1*(-parseInt(_0x431ae0(0x1b5))/0x2)+-parseInt(_0x431ae0(0x1c4))/0x3*(-parseInt(_0x431ae0(0x1ba))/0x4)+-parseInt(_0x431ae0(0x1a2))/0x5+-parseInt(_0x431ae0(0x1c5))/0x6+parseInt(_0x431ae0(0x1a1))/0x7+-parseInt(_0x431ae0(0x1a3))/0x8+-parseInt(_0x431ae0(0x182))/0x9;if(_0x4d7588===_0x5470d3)break;else _0x5b9b48['push'](_0x5b9b48['shift']());}catch(_0x26b06f){_0x5b9b48['push'](_0x5b9b48['shift']());}}}(a15_0x2376,0xb4e41));function a15_0x2376(){const _0x78d2ae=['2580740wbncvk','6190992izESct','Webhook\x20processed\x20successfully','2kjgZKR','KLYME\x20webhook\x20processed\x20successfully','cointopay2','processNodaWebhook','Webhook\x20processing\x20failed','CoinToPay\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','handlePlisioGatewayWebhook','KLYME\x20webhook\x20processing\x20failed','mastercard','processPlisioGatewayWebhook','headers','Received\x20MasterCard\x20webhook:','log','handleRapydWebhook','handleCoinToPayWebhook','567958oNzezw','Body\x20keys:','Noda\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','message','5640212YUVhwN','MasterCard\x20webhook\x20processed\x20successfully','Received\x20KLYME\x20webhook:','Content-Type','loggerService','rapyd','error','handleKlymeWebhook','WebhookController','cointopay','3xnGubr','555702nrzNCK','KLYME\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20error:','logWebhookReceived','Received\x20CoinToPay\x20webhook:','9024489RqmwqI','webhookService','Gateway\x20webhook\x20processed\x20successfully','__esModule','plisio','handleCoinToPay2Webhook','Body\x20content:','logWebhookError','klyme','noda','Received\x20Noda\x20webhook:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','processRapydWebhook','defineProperty','CoinToPay\x20webhook\x20processed\x20successfully','processCoinToPay2Webhook','get','CoinToPay\x20webhook\x20processing\x20failed','Raw\x20body\x20type:','WebhookService','MasterCard\x20webhook\x20processing\x20failed','plisio_gateway','handleMasterCardWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','processPlisioWebhook','json','status','handleNodaWebhook','Gateway\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20error:','body','8037946GbgQoZ'];a15_0x2376=function(){return _0x78d2ae;};return a15_0x2376();}Object[a15_0x165ed8(0x18f)](exports,a15_0x165ed8(0x185),{'value':!![]}),exports[a15_0x165ed8(0x1c2)]=void 0x0;const webhookService_1=require('../services/webhookService'),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0x2a47f0=a15_0x165ed8;this['handlePlisioWebhook']=async(_0x2c5b33,_0x2b98f0,_0x161dc4)=>{const _0x155018=a15_0x1613;try{console[_0x155018(0x1b2)](_0x155018(0x199)),console['log']('Content-Type:',_0x2c5b33[_0x155018(0x192)](_0x155018(0x1bd))),console[_0x155018(0x1b2)](_0x155018(0x194),typeof _0x2c5b33['body']),console[_0x155018(0x1b2)]('Body\x20keys:',Object['keys'](_0x2c5b33['body']||{})),console[_0x155018(0x1b2)]('Body\x20content:',_0x2c5b33['body']),loggerService_1[_0x155018(0x1be)]['logWebhookReceived'](_0x155018(0x186),_0x2c5b33[_0x155018(0x1a0)],_0x2c5b33['headers']);const _0x5f44f4=await this[_0x155018(0x183)][_0x155018(0x19a)](_0x2c5b33['body']);_0x2b98f0['status'](0xc8)['json']({'success':!![],'message':_0x155018(0x1a4)});}catch(_0x4c82f4){console[_0x155018(0x1c0)](_0x155018(0x1ab),_0x4c82f4),loggerService_1[_0x155018(0x1be)][_0x155018(0x189)](_0x155018(0x186),_0x4c82f4,_0x2c5b33['body']),_0x2b98f0[_0x155018(0x19c)](0xc8)[_0x155018(0x19b)]({'success':![],'message':_0x4c82f4 instanceof Error?_0x4c82f4['message']:_0x155018(0x1a9)});}},this[_0x2a47f0(0x1ac)]=async(_0x463c04,_0xdcc710,_0x27bd9e)=>{const _0x1a3c7c=_0x2a47f0;try{console[_0x1a3c7c(0x1b2)](_0x1a3c7c(0x18d)),console[_0x1a3c7c(0x1b2)]('Content-Type:',_0x463c04['get']('Content-Type')),console[_0x1a3c7c(0x1b2)]('Raw\x20body\x20type:',typeof _0x463c04[_0x1a3c7c(0x1a0)]),console[_0x1a3c7c(0x1b2)](_0x1a3c7c(0x1b6),Object['keys'](_0x463c04[_0x1a3c7c(0x1a0)]||{})),console[_0x1a3c7c(0x1b2)](_0x1a3c7c(0x188),_0x463c04['body']),loggerService_1[_0x1a3c7c(0x1be)][_0x1a3c7c(0x1c8)](_0x1a3c7c(0x197),_0x463c04['body'],_0x463c04[_0x1a3c7c(0x1b0)]);const _0x5aaa0d=await this[_0x1a3c7c(0x183)][_0x1a3c7c(0x1af)](_0x463c04[_0x1a3c7c(0x1a0)]);_0xdcc710['status'](0xc8)[_0x1a3c7c(0x19b)]({'success':!![],'message':_0x1a3c7c(0x184)});}catch(_0x420fa1){console['error'](_0x1a3c7c(0x19e),_0x420fa1),loggerService_1[_0x1a3c7c(0x1be)][_0x1a3c7c(0x189)](_0x1a3c7c(0x197),_0x420fa1,_0x463c04['body']),_0xdcc710[_0x1a3c7c(0x19c)](0xc8)[_0x1a3c7c(0x19b)]({'success':![],'message':_0x420fa1 instanceof Error?_0x420fa1[_0x1a3c7c(0x1b9)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x2a47f0(0x1b3)]=async(_0x32fdd9,_0x70a15e,_0x97ceb3)=>{const _0x4fc0ce=_0x2a47f0;try{console[_0x4fc0ce(0x1b2)]('Received\x20Rapyd\x20webhook:',_0x32fdd9[_0x4fc0ce(0x1a0)]),loggerService_1[_0x4fc0ce(0x1be)][_0x4fc0ce(0x1c8)](_0x4fc0ce(0x1bf),_0x32fdd9[_0x4fc0ce(0x1a0)],_0x32fdd9[_0x4fc0ce(0x1b0)]);const _0x57d7e9=await this[_0x4fc0ce(0x183)][_0x4fc0ce(0x18e)](_0x32fdd9[_0x4fc0ce(0x1a0)]);_0x70a15e[_0x4fc0ce(0x19c)](0xc8)[_0x4fc0ce(0x19b)]({'success':!![],'message':'Rapyd\x20webhook\x20processed\x20successfully'});}catch(_0x279eed){console[_0x4fc0ce(0x1c0)](_0x4fc0ce(0x19f),_0x279eed),loggerService_1['loggerService'][_0x4fc0ce(0x189)](_0x4fc0ce(0x1bf),_0x279eed,_0x32fdd9[_0x4fc0ce(0x1a0)]),_0x70a15e[_0x4fc0ce(0x19c)](0xc8)[_0x4fc0ce(0x19b)]({'success':![],'message':_0x279eed instanceof Error?_0x279eed['message']:_0x4fc0ce(0x1b8)});}},this[_0x2a47f0(0x19d)]=async(_0x3a3cbb,_0x2d6ef7,_0x5989f0)=>{const _0x41215c=_0x2a47f0;try{console['log'](_0x41215c(0x18c),_0x3a3cbb[_0x41215c(0x1a0)]),loggerService_1['loggerService'][_0x41215c(0x1c8)](_0x41215c(0x18b),_0x3a3cbb[_0x41215c(0x1a0)],_0x3a3cbb['headers']);const _0x157d38=await this['webhookService'][_0x41215c(0x1a8)](_0x3a3cbb[_0x41215c(0x1a0)]);_0x2d6ef7['status'](0xc8)[_0x41215c(0x19b)]({'success':!![],'message':'Noda\x20webhook\x20processed\x20successfully'});}catch(_0x1bc7d9){console['error'](_0x41215c(0x1b7),_0x1bc7d9),loggerService_1[_0x41215c(0x1be)][_0x41215c(0x189)](_0x41215c(0x18b),_0x1bc7d9,_0x3a3cbb['body']),_0x2d6ef7[_0x41215c(0x19c)](0xc8)[_0x41215c(0x19b)]({'success':![],'message':_0x1bc7d9 instanceof Error?_0x1bc7d9[_0x41215c(0x1b9)]:'Noda\x20webhook\x20processing\x20failed'});}},this[_0x2a47f0(0x1b4)]=async(_0x49a76f,_0x3b5005,_0x4d0055)=>{const _0xeb34b7=_0x2a47f0;try{console[_0xeb34b7(0x1b2)](_0xeb34b7(0x1c9),_0x49a76f[_0xeb34b7(0x1a0)]),loggerService_1[_0xeb34b7(0x1be)]['logWebhookReceived']('cointopay',_0x49a76f['body'],_0x49a76f[_0xeb34b7(0x1b0)]);const _0x4ad6b3=await this[_0xeb34b7(0x183)]['processCoinToPayWebhook'](_0x49a76f['body']);_0x3b5005['status'](0xc8)[_0xeb34b7(0x19b)]({'success':!![],'message':_0xeb34b7(0x190)});}catch(_0x1d44c3){console[_0xeb34b7(0x1c0)](_0xeb34b7(0x1aa),_0x1d44c3),loggerService_1['loggerService'][_0xeb34b7(0x189)](_0xeb34b7(0x1c3),_0x1d44c3,_0x49a76f[_0xeb34b7(0x1a0)]),_0x3b5005[_0xeb34b7(0x19c)](0xc8)[_0xeb34b7(0x19b)]({'success':![],'message':_0x1d44c3 instanceof Error?_0x1d44c3['message']:_0xeb34b7(0x193)});}},this[_0x2a47f0(0x187)]=async(_0x27eb1a,_0xdc74ae,_0x33bfa5)=>{const _0x1aa842=_0x2a47f0;try{console[_0x1aa842(0x1b2)]('Received\x20CoinToPay2\x20webhook:',_0x27eb1a[_0x1aa842(0x1a0)]),loggerService_1[_0x1aa842(0x1be)][_0x1aa842(0x1c8)](_0x1aa842(0x1a7),_0x27eb1a[_0x1aa842(0x1a0)],_0x27eb1a[_0x1aa842(0x1b0)]);const _0x44d0c6=await this[_0x1aa842(0x183)][_0x1aa842(0x191)](_0x27eb1a[_0x1aa842(0x1a0)]);_0xdc74ae[_0x1aa842(0x19c)](0xc8)[_0x1aa842(0x19b)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x46aeff){console[_0x1aa842(0x1c0)]('CoinToPay2\x20webhook\x20processing\x20error:',_0x46aeff),loggerService_1['loggerService'][_0x1aa842(0x189)](_0x1aa842(0x1a7),_0x46aeff,_0x27eb1a[_0x1aa842(0x1a0)]),_0xdc74ae[_0x1aa842(0x19c)](0xc8)[_0x1aa842(0x19b)]({'success':![],'message':_0x46aeff instanceof Error?_0x46aeff[_0x1aa842(0x1b9)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this[_0x2a47f0(0x1c1)]=async(_0x109f88,_0x3e6a39,_0x537c72)=>{const _0x456b93=_0x2a47f0;try{console[_0x456b93(0x1b2)](_0x456b93(0x1bc),_0x109f88['body']),loggerService_1['loggerService'][_0x456b93(0x1c8)](_0x456b93(0x18a),_0x109f88[_0x456b93(0x1a0)],_0x109f88['headers']);const _0x3c1a24=await this['webhookService']['processKlymeWebhook'](_0x109f88[_0x456b93(0x1a0)]);_0x3e6a39[_0x456b93(0x19c)](0xc8)[_0x456b93(0x19b)]({'success':!![],'message':_0x456b93(0x1a6)});}catch(_0x166476){console[_0x456b93(0x1c0)](_0x456b93(0x1c6),_0x166476),loggerService_1[_0x456b93(0x1be)][_0x456b93(0x189)](_0x456b93(0x18a),_0x166476,_0x109f88[_0x456b93(0x1a0)]),_0x3e6a39[_0x456b93(0x19c)](0xc8)[_0x456b93(0x19b)]({'success':![],'message':_0x166476 instanceof Error?_0x166476[_0x456b93(0x1b9)]:_0x456b93(0x1ad)});}},this[_0x2a47f0(0x198)]=async(_0x410400,_0x284881,_0x178639)=>{const _0x4d917d=_0x2a47f0;try{console[_0x4d917d(0x1b2)](_0x4d917d(0x1b1),_0x410400[_0x4d917d(0x1a0)]),loggerService_1[_0x4d917d(0x1be)]['logWebhookReceived'](_0x4d917d(0x1ae),_0x410400[_0x4d917d(0x1a0)],_0x410400[_0x4d917d(0x1b0)]);const _0x49ba5b=await this[_0x4d917d(0x183)]['processMasterCardWebhook'](_0x410400[_0x4d917d(0x1a0)]);_0x284881[_0x4d917d(0x19c)](0xc8)[_0x4d917d(0x19b)]({'success':!![],'message':_0x4d917d(0x1bb)});}catch(_0x339272){console[_0x4d917d(0x1c0)](_0x4d917d(0x1c7),_0x339272),loggerService_1['loggerService'][_0x4d917d(0x189)](_0x4d917d(0x1ae),_0x339272,_0x410400['body']),_0x284881[_0x4d917d(0x19c)](0xc8)[_0x4d917d(0x19b)]({'success':![],'message':_0x339272 instanceof Error?_0x339272[_0x4d917d(0x1b9)]:_0x4d917d(0x196)});}},this['webhookService']=new webhookService_1[(_0x2a47f0(0x195))]();}}exports[a15_0x165ed8(0x1c2)]=WebhookController;