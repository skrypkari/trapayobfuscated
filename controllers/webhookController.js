'use strict';const a15_0x58b83c=a15_0x3419;(function(_0x560b2e,_0x49ac75){const _0x1b0daf=a15_0x3419,_0x3b83c1=_0x560b2e();while(!![]){try{const _0x19fa24=parseInt(_0x1b0daf(0x198))/0x1+parseInt(_0x1b0daf(0x1b7))/0x2*(-parseInt(_0x1b0daf(0x1af))/0x3)+-parseInt(_0x1b0daf(0x19e))/0x4*(-parseInt(_0x1b0daf(0x176))/0x5)+-parseInt(_0x1b0daf(0x178))/0x6+-parseInt(_0x1b0daf(0x1bc))/0x7*(parseInt(_0x1b0daf(0x183))/0x8)+-parseInt(_0x1b0daf(0x1c3))/0x9*(-parseInt(_0x1b0daf(0x1b1))/0xa)+parseInt(_0x1b0daf(0x186))/0xb*(parseInt(_0x1b0daf(0x193))/0xc);if(_0x19fa24===_0x49ac75)break;else _0x3b83c1['push'](_0x3b83c1['shift']());}catch(_0x55da80){_0x3b83c1['push'](_0x3b83c1['shift']());}}}(a15_0xe81b,0xb2574));Object[a15_0x58b83c(0x177)](exports,a15_0x58b83c(0x1be),{'value':!![]}),exports[a15_0x58b83c(0x187)]=void 0x0;const webhookService_1=require(a15_0x58b83c(0x1ae)),loggerService_1=require(a15_0x58b83c(0x17e));function a15_0xe81b(){const _0x5694f0=['Body\x20content:','processNodaWebhook','725296FULrJV','headers','webhookService','logWebhookReceived','status','logWebhookError','8zHGUMK','processKlymeWebhook','processRapydWebhook','Webhook\x20processing\x20failed','json','log','Noda\x20webhook\x20processing\x20error:','KLYME\x20webhook\x20processing\x20error:','Rapyd\x20webhook\x20processing\x20failed','handleNodaWebhook','processAmerWebhook','plisio','Rapyd\x20webhook\x20processing\x20error:','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','Webhook\x20processing\x20error:','CoinToPay\x20webhook\x20processing\x20failed','../services/webhookService','3714ISqzye','MasterCard\x20webhook\x20processing\x20error:','2882390NhfBkg','WebhookService','cointopay','Content-Type:','keys','error','1970XWSrVa','handleCoinToPayWebhook','Noda\x20webhook\x20processed\x20successfully','Webhook\x20processed\x20successfully','processCoinToPayWebhook','11634BqxYrt','rapyd','__esModule','handleAmerWebhook','Received\x20MasterCard\x20webhook:','Body\x20keys:','Received\x20CoinToPay2\x20webhook:','18KyjgjY','Raw\x20body\x20type:','Noda\x20webhook\x20processing\x20failed','Received\x20KLYME\x20webhook:','KLYME\x20webhook\x20processed\x20successfully','klyme','cointopay2','processPlisioWebhook','1561265ElPGGL','defineProperty','4219320rwSFrE','Content-Type','message','Rapyd\x20webhook\x20processed\x20successfully','handleMasterCardWebhook','body','../services/loggerService','handleRapydWebhook','handlePlisioWebhook','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','get','6104YxeKaj','Gateway\x20webhook\x20processing\x20error:','Received\x20Noda\x20webhook:','249370xbqsYo','WebhookController','Received\x20CoinToPay\x20webhook:','amer','CoinToPay\x20webhook\x20processed\x20successfully','plisio_gateway','noda','loggerService','Gateway\x20webhook\x20processing\x20failed','KLYME\x20webhook\x20processing\x20failed','MasterCard\x20webhook\x20processed\x20successfully','mastercard','Received\x20Amer\x20webhook:','1056RWWMNA','Amer\x20webhook\x20processing\x20failed','handleCoinToPay2Webhook'];a15_0xe81b=function(){return _0x5694f0;};return a15_0xe81b();}class WebhookController{constructor(){const _0x3f3b34=a15_0x58b83c;this[_0x3f3b34(0x180)]=async(_0x480b31,_0x41241a,_0x1affd6)=>{const _0x555a36=_0x3f3b34;try{console['log'](_0x555a36(0x181)),console['log'](_0x555a36(0x1b4),_0x480b31[_0x555a36(0x182)](_0x555a36(0x179))),console[_0x555a36(0x1a3)](_0x555a36(0x16f),typeof _0x480b31[_0x555a36(0x17d)]),console[_0x555a36(0x1a3)]('Body\x20keys:',Object[_0x555a36(0x1b5)](_0x480b31[_0x555a36(0x17d)]||{})),console[_0x555a36(0x1a3)]('Body\x20content:',_0x480b31[_0x555a36(0x17d)]),loggerService_1[_0x555a36(0x18d)][_0x555a36(0x19b)](_0x555a36(0x1a9),_0x480b31['body'],_0x480b31[_0x555a36(0x199)]);const _0x6a7e1=await this['webhookService'][_0x555a36(0x175)](_0x480b31['body']);_0x41241a[_0x555a36(0x19c)](0xc8)['json']({'success':!![],'message':_0x555a36(0x1ba)});}catch(_0x34c92b){console[_0x555a36(0x1b6)](_0x555a36(0x1ac),_0x34c92b),loggerService_1[_0x555a36(0x18d)][_0x555a36(0x19d)](_0x555a36(0x1a9),_0x34c92b,_0x480b31['body']),_0x41241a[_0x555a36(0x19c)](0xc8)[_0x555a36(0x1a2)]({'success':![],'message':_0x34c92b instanceof Error?_0x34c92b[_0x555a36(0x17a)]:_0x555a36(0x1a1)});}},this['handlePlisioGatewayWebhook']=async(_0x479d52,_0x209742,_0xbb7d20)=>{const _0x255c11=_0x3f3b34;try{console['log'](_0x255c11(0x1ab)),console[_0x255c11(0x1a3)](_0x255c11(0x1b4),_0x479d52['get'](_0x255c11(0x179))),console[_0x255c11(0x1a3)]('Raw\x20body\x20type:',typeof _0x479d52['body']),console[_0x255c11(0x1a3)](_0x255c11(0x1c1),Object['keys'](_0x479d52[_0x255c11(0x17d)]||{})),console[_0x255c11(0x1a3)](_0x255c11(0x196),_0x479d52[_0x255c11(0x17d)]),loggerService_1[_0x255c11(0x18d)][_0x255c11(0x19b)](_0x255c11(0x18b),_0x479d52[_0x255c11(0x17d)],_0x479d52[_0x255c11(0x199)]);const _0x4daf5f=await this[_0x255c11(0x19a)]['processPlisioGatewayWebhook'](_0x479d52['body']);_0x209742[_0x255c11(0x19c)](0xc8)[_0x255c11(0x1a2)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x502eb9){console['error'](_0x255c11(0x184),_0x502eb9),loggerService_1[_0x255c11(0x18d)]['logWebhookError']('plisio_gateway',_0x502eb9,_0x479d52[_0x255c11(0x17d)]),_0x209742[_0x255c11(0x19c)](0xc8)['json']({'success':![],'message':_0x502eb9 instanceof Error?_0x502eb9[_0x255c11(0x17a)]:_0x255c11(0x18e)});}},this[_0x3f3b34(0x17f)]=async(_0x200a56,_0x165201,_0x1cde8b)=>{const _0x5e833e=_0x3f3b34;try{console[_0x5e833e(0x1a3)]('Received\x20Rapyd\x20webhook:',_0x200a56[_0x5e833e(0x17d)]),loggerService_1[_0x5e833e(0x18d)][_0x5e833e(0x19b)](_0x5e833e(0x1bd),_0x200a56[_0x5e833e(0x17d)],_0x200a56[_0x5e833e(0x199)]);const _0x2d9669=await this[_0x5e833e(0x19a)][_0x5e833e(0x1a0)](_0x200a56['body']);_0x165201[_0x5e833e(0x19c)](0xc8)['json']({'success':!![],'message':_0x5e833e(0x17b)});}catch(_0xd69bd8){console[_0x5e833e(0x1b6)](_0x5e833e(0x1aa),_0xd69bd8),loggerService_1[_0x5e833e(0x18d)][_0x5e833e(0x19d)]('rapyd',_0xd69bd8,_0x200a56[_0x5e833e(0x17d)]),_0x165201['status'](0xc8)['json']({'success':![],'message':_0xd69bd8 instanceof Error?_0xd69bd8[_0x5e833e(0x17a)]:_0x5e833e(0x1a6)});}},this[_0x3f3b34(0x1a7)]=async(_0x150f74,_0x474189,_0x55026d)=>{const _0x29c010=_0x3f3b34;try{console[_0x29c010(0x1a3)](_0x29c010(0x185),_0x150f74['body']),loggerService_1[_0x29c010(0x18d)][_0x29c010(0x19b)](_0x29c010(0x18c),_0x150f74['body'],_0x150f74[_0x29c010(0x199)]);const _0x73504f=await this['webhookService'][_0x29c010(0x197)](_0x150f74[_0x29c010(0x17d)]);_0x474189[_0x29c010(0x19c)](0xc8)[_0x29c010(0x1a2)]({'success':!![],'message':_0x29c010(0x1b9)});}catch(_0x26893e){console[_0x29c010(0x1b6)](_0x29c010(0x1a4),_0x26893e),loggerService_1[_0x29c010(0x18d)][_0x29c010(0x19d)]('noda',_0x26893e,_0x150f74[_0x29c010(0x17d)]),_0x474189[_0x29c010(0x19c)](0xc8)['json']({'success':![],'message':_0x26893e instanceof Error?_0x26893e[_0x29c010(0x17a)]:_0x29c010(0x170)});}},this[_0x3f3b34(0x1b8)]=async(_0x59fb5a,_0x11b078,_0x5db8e7)=>{const _0x452a0b=_0x3f3b34;try{console[_0x452a0b(0x1a3)](_0x452a0b(0x188),_0x59fb5a[_0x452a0b(0x17d)]),loggerService_1[_0x452a0b(0x18d)][_0x452a0b(0x19b)](_0x452a0b(0x1b3),_0x59fb5a[_0x452a0b(0x17d)],_0x59fb5a[_0x452a0b(0x199)]);const _0x5f0398=await this[_0x452a0b(0x19a)][_0x452a0b(0x1bb)](_0x59fb5a[_0x452a0b(0x17d)]);_0x11b078[_0x452a0b(0x19c)](0xc8)['json']({'success':!![],'message':_0x452a0b(0x18a)});}catch(_0x2970ac){console[_0x452a0b(0x1b6)]('CoinToPay\x20webhook\x20processing\x20error:',_0x2970ac),loggerService_1[_0x452a0b(0x18d)][_0x452a0b(0x19d)](_0x452a0b(0x1b3),_0x2970ac,_0x59fb5a[_0x452a0b(0x17d)]),_0x11b078['status'](0xc8)[_0x452a0b(0x1a2)]({'success':![],'message':_0x2970ac instanceof Error?_0x2970ac[_0x452a0b(0x17a)]:_0x452a0b(0x1ad)});}},this[_0x3f3b34(0x195)]=async(_0x569bed,_0x3c191b,_0x161e7e)=>{const _0x46275b=_0x3f3b34;try{console['log'](_0x46275b(0x1c2),_0x569bed[_0x46275b(0x17d)]),loggerService_1[_0x46275b(0x18d)][_0x46275b(0x19b)]('cointopay2',_0x569bed[_0x46275b(0x17d)],_0x569bed[_0x46275b(0x199)]);const _0x580134=await this['webhookService']['processCoinToPay2Webhook'](_0x569bed['body']);_0x3c191b[_0x46275b(0x19c)](0xc8)[_0x46275b(0x1a2)]({'success':!![],'message':'CoinToPay2\x20webhook\x20processed\x20successfully'});}catch(_0x5ee981){console['error']('CoinToPay2\x20webhook\x20processing\x20error:',_0x5ee981),loggerService_1['loggerService'][_0x46275b(0x19d)](_0x46275b(0x174),_0x5ee981,_0x569bed[_0x46275b(0x17d)]),_0x3c191b['status'](0xc8)[_0x46275b(0x1a2)]({'success':![],'message':_0x5ee981 instanceof Error?_0x5ee981[_0x46275b(0x17a)]:'CoinToPay2\x20webhook\x20processing\x20failed'});}},this['handleKlymeWebhook']=async(_0x3d1501,_0x35d8dd,_0x10f570)=>{const _0x2ad543=_0x3f3b34;try{console[_0x2ad543(0x1a3)](_0x2ad543(0x171),_0x3d1501[_0x2ad543(0x17d)]),loggerService_1[_0x2ad543(0x18d)][_0x2ad543(0x19b)]('klyme',_0x3d1501[_0x2ad543(0x17d)],_0x3d1501['headers']);const _0xcbc93d=await this[_0x2ad543(0x19a)][_0x2ad543(0x19f)](_0x3d1501[_0x2ad543(0x17d)]);_0x35d8dd[_0x2ad543(0x19c)](0xc8)[_0x2ad543(0x1a2)]({'success':!![],'message':_0x2ad543(0x172)});}catch(_0x321e12){console[_0x2ad543(0x1b6)](_0x2ad543(0x1a5),_0x321e12),loggerService_1[_0x2ad543(0x18d)][_0x2ad543(0x19d)](_0x2ad543(0x173),_0x321e12,_0x3d1501[_0x2ad543(0x17d)]),_0x35d8dd[_0x2ad543(0x19c)](0xc8)[_0x2ad543(0x1a2)]({'success':![],'message':_0x321e12 instanceof Error?_0x321e12[_0x2ad543(0x17a)]:_0x2ad543(0x18f)});}},this[_0x3f3b34(0x17c)]=async(_0x2c0118,_0x22e448,_0xc5bd71)=>{const _0xf56d8=_0x3f3b34;try{console['log'](_0xf56d8(0x1c0),_0x2c0118[_0xf56d8(0x17d)]),loggerService_1[_0xf56d8(0x18d)][_0xf56d8(0x19b)](_0xf56d8(0x191),_0x2c0118['body'],_0x2c0118['headers']);const _0xcfd12a=await this['webhookService']['processMasterCardWebhook'](_0x2c0118[_0xf56d8(0x17d)]);_0x22e448[_0xf56d8(0x19c)](0xc8)['json']({'success':!![],'message':_0xf56d8(0x190)});}catch(_0x3dd06a){console[_0xf56d8(0x1b6)](_0xf56d8(0x1b0),_0x3dd06a),loggerService_1['loggerService'][_0xf56d8(0x19d)](_0xf56d8(0x191),_0x3dd06a,_0x2c0118[_0xf56d8(0x17d)]),_0x22e448['status'](0xc8)[_0xf56d8(0x1a2)]({'success':![],'message':_0x3dd06a instanceof Error?_0x3dd06a[_0xf56d8(0x17a)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x3f3b34(0x1bf)]=async(_0x4161b1,_0x2617e4,_0x3c2133)=>{const _0x54293a=_0x3f3b34;try{console[_0x54293a(0x1a3)](_0x54293a(0x192),_0x4161b1[_0x54293a(0x17d)]),loggerService_1['loggerService']['logWebhookReceived'](_0x54293a(0x189),_0x4161b1['body'],_0x4161b1[_0x54293a(0x199)]);const _0x56d597=await this[_0x54293a(0x19a)][_0x54293a(0x1a8)](_0x4161b1[_0x54293a(0x17d)]);_0x2617e4['status'](0xc8)[_0x54293a(0x1a2)]({'success':!![],'message':'Amer\x20webhook\x20processed\x20successfully'});}catch(_0x1e52ec){console[_0x54293a(0x1b6)]('Amer\x20webhook\x20processing\x20error:',_0x1e52ec),loggerService_1[_0x54293a(0x18d)][_0x54293a(0x19d)](_0x54293a(0x189),_0x1e52ec,_0x4161b1[_0x54293a(0x17d)]),_0x2617e4[_0x54293a(0x19c)](0xc8)[_0x54293a(0x1a2)]({'success':![],'message':_0x1e52ec instanceof Error?_0x1e52ec[_0x54293a(0x17a)]:_0x54293a(0x194)});}},this[_0x3f3b34(0x19a)]=new webhookService_1[(_0x3f3b34(0x1b2))]();}}function a15_0x3419(_0x14a526,_0x45fd07){const _0xe81b88=a15_0xe81b();return a15_0x3419=function(_0x341988,_0x40bc0b){_0x341988=_0x341988-0x16f;let _0x180a4d=_0xe81b88[_0x341988];return _0x180a4d;},a15_0x3419(_0x14a526,_0x45fd07);}exports[a15_0x58b83c(0x187)]=WebhookController;