'use strict';const a15_0x2382ff=a15_0x42be;(function(_0x17cee1,_0x31d6df){const _0x573df3=a15_0x42be,_0xdcf4fa=_0x17cee1();while(!![]){try{const _0x3ae914=-parseInt(_0x573df3(0x143))/0x1+-parseInt(_0x573df3(0x132))/0x2+parseInt(_0x573df3(0x149))/0x3*(parseInt(_0x573df3(0x166))/0x4)+-parseInt(_0x573df3(0x167))/0x5+parseInt(_0x573df3(0x14a))/0x6*(parseInt(_0x573df3(0x14d))/0x7)+parseInt(_0x573df3(0x151))/0x8*(-parseInt(_0x573df3(0x16c))/0x9)+parseInt(_0x573df3(0x146))/0xa;if(_0x3ae914===_0x31d6df)break;else _0xdcf4fa['push'](_0xdcf4fa['shift']());}catch(_0x3846a9){_0xdcf4fa['push'](_0xdcf4fa['shift']());}}}(a15_0x3536,0x63fa5));function a15_0x3536(){const _0x314eed=['keys','plisio_gateway','body','WebhookService','Gateway\x20webhook\x20processing\x20error:','klyme','WebhookController','handleMasterCardWebhook','Body\x20keys:','../services/webhookService','json','status','handleRapydWebhook','logWebhookReceived','processNodaWebhook','Received\x20MasterCard\x20webhook:','Rapyd\x20webhook\x20processing\x20failed','processMasterCardWebhook','handleKlymeWebhook','40AVQhwC','1834625bSEugS','CoinToPay\x20webhook\x20processed\x20successfully','Rapyd\x20webhook\x20processed\x20successfully','loggerService','get','18WYrfuG','logWebhookError','rapyd','Received\x20Noda\x20webhook:','Noda\x20webhook\x20processed\x20successfully','processCoinToPayWebhook','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','455794mMkCeb','Rapyd\x20webhook\x20processing\x20error:','processKlymeWebhook','MasterCard\x20webhook\x20processed\x20successfully','Raw\x20body\x20type:','Webhook\x20processed\x20successfully','error','CoinToPay\x20webhook\x20processing\x20error:','cointopay','log','Received\x20Rapyd\x20webhook:','webhookService','handlePlisioGatewayWebhook','headers','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','Received\x20KLYME\x20webhook:','message','463332cnPado','plisio','handleNodaWebhook','14158250bcuhFX','__esModule','Noda\x20webhook\x20processing\x20failed','49017lykIwt','12vXNzFX','mastercard','Body\x20content:','2365930rOAHhs','Content-Type:','noda','processPlisioGatewayWebhook','3150128rNIRxI','Content-Type'];a15_0x3536=function(){return _0x314eed;};return a15_0x3536();}Object['defineProperty'](exports,a15_0x2382ff(0x147),{'value':!![]}),exports[a15_0x2382ff(0x159)]=void 0x0;const webhookService_1=require(a15_0x2382ff(0x15c)),loggerService_1=require('../services/loggerService');function a15_0x42be(_0x43d47e,_0x5d4b64){const _0x35364f=a15_0x3536();return a15_0x42be=function(_0x42be2c,_0xcd793d){_0x42be2c=_0x42be2c-0x12e;let _0xcbb2a6=_0x35364f[_0x42be2c];return _0xcbb2a6;},a15_0x42be(_0x43d47e,_0x5d4b64);}class WebhookController{constructor(){const _0x14141b=a15_0x2382ff;this['handlePlisioWebhook']=async(_0x44ae78,_0x424838,_0x31dab5)=>{const _0x5bfee6=a15_0x42be;try{console['log'](_0x5bfee6(0x140)),console[_0x5bfee6(0x13b)](_0x5bfee6(0x14e),_0x44ae78['get'](_0x5bfee6(0x152))),console[_0x5bfee6(0x13b)](_0x5bfee6(0x136),typeof _0x44ae78['body']),console[_0x5bfee6(0x13b)](_0x5bfee6(0x15b),Object[_0x5bfee6(0x153)](_0x44ae78[_0x5bfee6(0x155)]||{})),console[_0x5bfee6(0x13b)](_0x5bfee6(0x14c),_0x44ae78[_0x5bfee6(0x155)]),loggerService_1[_0x5bfee6(0x16a)]['logWebhookReceived'](_0x5bfee6(0x144),_0x44ae78[_0x5bfee6(0x155)],_0x44ae78[_0x5bfee6(0x13f)]);const _0x26cd35=await this[_0x5bfee6(0x13d)]['processPlisioWebhook'](_0x44ae78[_0x5bfee6(0x155)]);_0x424838[_0x5bfee6(0x15e)](0xc8)[_0x5bfee6(0x15d)]({'success':!![],'message':_0x5bfee6(0x137)});}catch(_0x2b3371){console[_0x5bfee6(0x138)]('Webhook\x20processing\x20error:',_0x2b3371),loggerService_1['loggerService'][_0x5bfee6(0x16d)](_0x5bfee6(0x144),_0x2b3371,_0x44ae78[_0x5bfee6(0x155)]),_0x424838[_0x5bfee6(0x15e)](0xc8)[_0x5bfee6(0x15d)]({'success':![],'message':_0x2b3371 instanceof Error?_0x2b3371[_0x5bfee6(0x142)]:'Webhook\x20processing\x20failed'});}},this[_0x14141b(0x13e)]=async(_0x211b2c,_0x2dc0d2,_0x709cd6)=>{const _0x5caf07=_0x14141b;try{console['log'](_0x5caf07(0x131)),console[_0x5caf07(0x13b)](_0x5caf07(0x14e),_0x211b2c[_0x5caf07(0x16b)](_0x5caf07(0x152))),console[_0x5caf07(0x13b)](_0x5caf07(0x136),typeof _0x211b2c[_0x5caf07(0x155)]),console[_0x5caf07(0x13b)]('Body\x20keys:',Object[_0x5caf07(0x153)](_0x211b2c[_0x5caf07(0x155)]||{})),console[_0x5caf07(0x13b)]('Body\x20content:',_0x211b2c[_0x5caf07(0x155)]),loggerService_1['loggerService'][_0x5caf07(0x160)](_0x5caf07(0x154),_0x211b2c['body'],_0x211b2c[_0x5caf07(0x13f)]);const _0x53d304=await this[_0x5caf07(0x13d)][_0x5caf07(0x150)](_0x211b2c['body']);_0x2dc0d2['status'](0xc8)['json']({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x2b0f1c){console[_0x5caf07(0x138)](_0x5caf07(0x157),_0x2b0f1c),loggerService_1[_0x5caf07(0x16a)][_0x5caf07(0x16d)](_0x5caf07(0x154),_0x2b0f1c,_0x211b2c[_0x5caf07(0x155)]),_0x2dc0d2[_0x5caf07(0x15e)](0xc8)[_0x5caf07(0x15d)]({'success':![],'message':_0x2b0f1c instanceof Error?_0x2b0f1c[_0x5caf07(0x142)]:'Gateway\x20webhook\x20processing\x20failed'});}},this[_0x14141b(0x15f)]=async(_0x4f71ad,_0x3a06cd,_0x429d13)=>{const _0x382fa7=_0x14141b;try{console[_0x382fa7(0x13b)](_0x382fa7(0x13c),_0x4f71ad['body']),loggerService_1[_0x382fa7(0x16a)][_0x382fa7(0x160)](_0x382fa7(0x16e),_0x4f71ad[_0x382fa7(0x155)],_0x4f71ad[_0x382fa7(0x13f)]);const _0x1a5e51=await this['webhookService']['processRapydWebhook'](_0x4f71ad[_0x382fa7(0x155)]);_0x3a06cd[_0x382fa7(0x15e)](0xc8)[_0x382fa7(0x15d)]({'success':!![],'message':_0x382fa7(0x169)});}catch(_0x491483){console['error'](_0x382fa7(0x133),_0x491483),loggerService_1['loggerService'][_0x382fa7(0x16d)](_0x382fa7(0x16e),_0x491483,_0x4f71ad['body']),_0x3a06cd[_0x382fa7(0x15e)](0xc8)[_0x382fa7(0x15d)]({'success':![],'message':_0x491483 instanceof Error?_0x491483[_0x382fa7(0x142)]:_0x382fa7(0x163)});}},this[_0x14141b(0x145)]=async(_0x295e0a,_0x4348c3,_0x60a7f1)=>{const _0x256d3d=_0x14141b;try{console[_0x256d3d(0x13b)](_0x256d3d(0x12e),_0x295e0a[_0x256d3d(0x155)]),loggerService_1[_0x256d3d(0x16a)][_0x256d3d(0x160)](_0x256d3d(0x14f),_0x295e0a[_0x256d3d(0x155)],_0x295e0a[_0x256d3d(0x13f)]);const _0x15057f=await this[_0x256d3d(0x13d)][_0x256d3d(0x161)](_0x295e0a[_0x256d3d(0x155)]);_0x4348c3['status'](0xc8)['json']({'success':!![],'message':_0x256d3d(0x12f)});}catch(_0x3d038b){console[_0x256d3d(0x138)]('Noda\x20webhook\x20processing\x20error:',_0x3d038b),loggerService_1['loggerService']['logWebhookError'](_0x256d3d(0x14f),_0x3d038b,_0x295e0a[_0x256d3d(0x155)]),_0x4348c3[_0x256d3d(0x15e)](0xc8)[_0x256d3d(0x15d)]({'success':![],'message':_0x3d038b instanceof Error?_0x3d038b[_0x256d3d(0x142)]:_0x256d3d(0x148)});}},this['handleCoinToPayWebhook']=async(_0x37fbdb,_0x3ac6e1,_0x58edf0)=>{const _0x126de8=_0x14141b;try{console[_0x126de8(0x13b)]('Received\x20CoinToPay\x20webhook:',_0x37fbdb['body']),loggerService_1[_0x126de8(0x16a)]['logWebhookReceived'](_0x126de8(0x13a),_0x37fbdb[_0x126de8(0x155)],_0x37fbdb[_0x126de8(0x13f)]);const _0x37cb0c=await this[_0x126de8(0x13d)][_0x126de8(0x130)](_0x37fbdb[_0x126de8(0x155)]);_0x3ac6e1['status'](0xc8)[_0x126de8(0x15d)]({'success':!![],'message':_0x126de8(0x168)});}catch(_0xb9c187){console[_0x126de8(0x138)](_0x126de8(0x139),_0xb9c187),loggerService_1[_0x126de8(0x16a)][_0x126de8(0x16d)](_0x126de8(0x13a),_0xb9c187,_0x37fbdb[_0x126de8(0x155)]),_0x3ac6e1[_0x126de8(0x15e)](0xc8)[_0x126de8(0x15d)]({'success':![],'message':_0xb9c187 instanceof Error?_0xb9c187['message']:'CoinToPay\x20webhook\x20processing\x20failed'});}},this[_0x14141b(0x165)]=async(_0x4fcb03,_0x5e18e7,_0x77364e)=>{const _0x3fbc60=_0x14141b;try{console['log'](_0x3fbc60(0x141),_0x4fcb03[_0x3fbc60(0x155)]),loggerService_1[_0x3fbc60(0x16a)][_0x3fbc60(0x160)]('klyme',_0x4fcb03['body'],_0x4fcb03['headers']);const _0x1e523c=await this['webhookService'][_0x3fbc60(0x134)](_0x4fcb03[_0x3fbc60(0x155)]);_0x5e18e7[_0x3fbc60(0x15e)](0xc8)[_0x3fbc60(0x15d)]({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0xb77c9a){console[_0x3fbc60(0x138)]('KLYME\x20webhook\x20processing\x20error:',_0xb77c9a),loggerService_1[_0x3fbc60(0x16a)][_0x3fbc60(0x16d)](_0x3fbc60(0x158),_0xb77c9a,_0x4fcb03[_0x3fbc60(0x155)]),_0x5e18e7[_0x3fbc60(0x15e)](0xc8)[_0x3fbc60(0x15d)]({'success':![],'message':_0xb77c9a instanceof Error?_0xb77c9a[_0x3fbc60(0x142)]:'KLYME\x20webhook\x20processing\x20failed'});}},this[_0x14141b(0x15a)]=async(_0x2c13d4,_0x12cc1c,_0x3b7f7c)=>{const _0x1b68ac=_0x14141b;try{console[_0x1b68ac(0x13b)](_0x1b68ac(0x162),_0x2c13d4['body']),loggerService_1[_0x1b68ac(0x16a)]['logWebhookReceived'](_0x1b68ac(0x14b),_0x2c13d4[_0x1b68ac(0x155)],_0x2c13d4[_0x1b68ac(0x13f)]);const _0x464842=await this[_0x1b68ac(0x13d)][_0x1b68ac(0x164)](_0x2c13d4[_0x1b68ac(0x155)]);_0x12cc1c[_0x1b68ac(0x15e)](0xc8)[_0x1b68ac(0x15d)]({'success':!![],'message':_0x1b68ac(0x135)});}catch(_0x2eab56){console[_0x1b68ac(0x138)]('MasterCard\x20webhook\x20processing\x20error:',_0x2eab56),loggerService_1[_0x1b68ac(0x16a)][_0x1b68ac(0x16d)](_0x1b68ac(0x14b),_0x2eab56,_0x2c13d4[_0x1b68ac(0x155)]),_0x12cc1c[_0x1b68ac(0x15e)](0xc8)[_0x1b68ac(0x15d)]({'success':![],'message':_0x2eab56 instanceof Error?_0x2eab56[_0x1b68ac(0x142)]:'MasterCard\x20webhook\x20processing\x20failed'});}},this[_0x14141b(0x13d)]=new webhookService_1[(_0x14141b(0x156))]();}}exports[a15_0x2382ff(0x159)]=WebhookController;