'use strict';const a15_0x545cbe=a15_0x41a1;(function(_0x4cb7a0,_0x1bcdae){const _0x371214=a15_0x41a1,_0x3860c2=_0x4cb7a0();while(!![]){try{const _0x3a3468=parseInt(_0x371214(0xd9))/0x1*(parseInt(_0x371214(0xf4))/0x2)+-parseInt(_0x371214(0xf7))/0x3+-parseInt(_0x371214(0xe2))/0x4+parseInt(_0x371214(0xc8))/0x5*(parseInt(_0x371214(0xe7))/0x6)+parseInt(_0x371214(0xda))/0x7+parseInt(_0x371214(0xe8))/0x8+parseInt(_0x371214(0xd4))/0x9*(-parseInt(_0x371214(0xbc))/0xa);if(_0x3a3468===_0x1bcdae)break;else _0x3860c2['push'](_0x3860c2['shift']());}catch(_0x903f35){_0x3860c2['push'](_0x3860c2['shift']());}}}(a15_0x191b,0xd18c0));Object[a15_0x545cbe(0xb9)](exports,a15_0x545cbe(0xb8),{'value':!![]}),exports[a15_0x545cbe(0xc6)]=void 0x0;const webhookService_1=require(a15_0x545cbe(0xeb)),loggerService_1=require('../services/loggerService');class WebhookController{constructor(){const _0xd12ca1=a15_0x545cbe;this[_0xd12ca1(0xed)]=async(_0x481042,_0x32d451,_0x3460eb)=>{const _0x3b4211=_0xd12ca1;try{console[_0x3b4211(0xce)](_0x3b4211(0xc3)),console[_0x3b4211(0xce)](_0x3b4211(0xe4),_0x481042['get']('Content-Type')),console[_0x3b4211(0xce)](_0x3b4211(0xf5),typeof _0x481042[_0x3b4211(0xdb)]),console['log'](_0x3b4211(0xe6),Object[_0x3b4211(0xdc)](_0x481042[_0x3b4211(0xdb)]||{})),console[_0x3b4211(0xce)](_0x3b4211(0xf1),_0x481042['body']),loggerService_1[_0x3b4211(0xdd)][_0x3b4211(0xca)](_0x3b4211(0xd6),_0x481042['body'],_0x481042[_0x3b4211(0xf2)]);const _0x437ddc=await this[_0x3b4211(0xec)]['processPlisioWebhook'](_0x481042['body']);_0x32d451[_0x3b4211(0xc0)](0xc8)[_0x3b4211(0xe3)]({'success':!![],'message':_0x3b4211(0xbd)});}catch(_0xc0f87d){console[_0x3b4211(0xd2)](_0x3b4211(0xb7),_0xc0f87d),loggerService_1['loggerService'][_0x3b4211(0xd0)](_0x3b4211(0xd6),_0xc0f87d,_0x481042[_0x3b4211(0xdb)]),_0x32d451[_0x3b4211(0xc0)](0xc8)[_0x3b4211(0xe3)]({'success':![],'message':_0xc0f87d instanceof Error?_0xc0f87d[_0x3b4211(0xd8)]:'Webhook\x20processing\x20failed'});}},this['handlePlisioGatewayWebhook']=async(_0x2e7ec1,_0x17552b,_0x5ee8a3)=>{const _0x15fa80=_0xd12ca1;try{console[_0x15fa80(0xce)](_0x15fa80(0xd3)),console[_0x15fa80(0xce)]('Content-Type:',_0x2e7ec1[_0x15fa80(0xd7)](_0x15fa80(0xd1))),console[_0x15fa80(0xce)](_0x15fa80(0xf5),typeof _0x2e7ec1['body']),console[_0x15fa80(0xce)](_0x15fa80(0xe6),Object[_0x15fa80(0xdc)](_0x2e7ec1[_0x15fa80(0xdb)]||{})),console[_0x15fa80(0xce)](_0x15fa80(0xf1),_0x2e7ec1[_0x15fa80(0xdb)]),loggerService_1[_0x15fa80(0xdd)][_0x15fa80(0xca)](_0x15fa80(0xe9),_0x2e7ec1[_0x15fa80(0xdb)],_0x2e7ec1[_0x15fa80(0xf2)]);const _0x18656a=await this[_0x15fa80(0xec)][_0x15fa80(0xc4)](_0x2e7ec1[_0x15fa80(0xdb)]);_0x17552b[_0x15fa80(0xc0)](0xc8)[_0x15fa80(0xe3)]({'success':!![],'message':'Gateway\x20webhook\x20processed\x20successfully'});}catch(_0x2e64da){console[_0x15fa80(0xd2)](_0x15fa80(0xc7),_0x2e64da),loggerService_1[_0x15fa80(0xdd)][_0x15fa80(0xd0)](_0x15fa80(0xe9),_0x2e64da,_0x2e7ec1[_0x15fa80(0xdb)]),_0x17552b[_0x15fa80(0xc0)](0xc8)['json']({'success':![],'message':_0x2e64da instanceof Error?_0x2e64da['message']:_0x15fa80(0xe1)});}},this[_0xd12ca1(0xee)]=async(_0x34ccb9,_0x4d7634,_0x26942a)=>{const _0x926b0=_0xd12ca1;try{console['log']('Received\x20Rapyd\x20webhook:',_0x34ccb9['body']),loggerService_1[_0x926b0(0xdd)][_0x926b0(0xca)](_0x926b0(0xef),_0x34ccb9[_0x926b0(0xdb)],_0x34ccb9[_0x926b0(0xf2)]);const _0xfcd691=await this['webhookService'][_0x926b0(0xe0)](_0x34ccb9[_0x926b0(0xdb)]);_0x4d7634[_0x926b0(0xc0)](0xc8)[_0x926b0(0xe3)]({'success':!![],'message':_0x926b0(0xfc)});}catch(_0xdf02fe){console[_0x926b0(0xd2)](_0x926b0(0xf0),_0xdf02fe),loggerService_1[_0x926b0(0xdd)][_0x926b0(0xd0)](_0x926b0(0xef),_0xdf02fe,_0x34ccb9[_0x926b0(0xdb)]),_0x4d7634[_0x926b0(0xc0)](0xc8)[_0x926b0(0xe3)]({'success':![],'message':_0xdf02fe instanceof Error?_0xdf02fe[_0x926b0(0xd8)]:_0x926b0(0xcf)});}},this[_0xd12ca1(0xcd)]=async(_0x1070db,_0xa500b0,_0x2684fa)=>{const _0x40e743=_0xd12ca1;try{console['log']('Received\x20Noda\x20webhook:',_0x1070db[_0x40e743(0xdb)]),loggerService_1[_0x40e743(0xdd)][_0x40e743(0xca)](_0x40e743(0xf9),_0x1070db[_0x40e743(0xdb)],_0x1070db[_0x40e743(0xf2)]);const _0x217ae5=await this[_0x40e743(0xec)][_0x40e743(0xde)](_0x1070db['body']);_0xa500b0['status'](0xc8)['json']({'success':!![],'message':_0x40e743(0xba)});}catch(_0x349c7a){console['error'](_0x40e743(0xea),_0x349c7a),loggerService_1[_0x40e743(0xdd)][_0x40e743(0xd0)](_0x40e743(0xf9),_0x349c7a,_0x1070db[_0x40e743(0xdb)]),_0xa500b0[_0x40e743(0xc0)](0xc8)[_0x40e743(0xe3)]({'success':![],'message':_0x349c7a instanceof Error?_0x349c7a['message']:_0x40e743(0xdf)});}},this[_0xd12ca1(0xc9)]=async(_0x580061,_0x5e18aa,_0x334daf)=>{const _0x2f5c35=_0xd12ca1;try{console[_0x2f5c35(0xce)](_0x2f5c35(0xf3),_0x580061['body']),loggerService_1['loggerService']['logWebhookReceived'](_0x2f5c35(0xfb),_0x580061[_0x2f5c35(0xdb)],_0x580061[_0x2f5c35(0xf2)]);const _0x114802=await this[_0x2f5c35(0xec)][_0x2f5c35(0xcc)](_0x580061['body']);_0x5e18aa['status'](0xc8)[_0x2f5c35(0xe3)]({'success':!![],'message':_0x2f5c35(0xc5)});}catch(_0x5c369e){console[_0x2f5c35(0xd2)](_0x2f5c35(0xfd),_0x5c369e),loggerService_1[_0x2f5c35(0xdd)][_0x2f5c35(0xd0)](_0x2f5c35(0xfb),_0x5c369e,_0x580061['body']),_0x5e18aa[_0x2f5c35(0xc0)](0xc8)['json']({'success':![],'message':_0x5c369e instanceof Error?_0x5c369e[_0x2f5c35(0xd8)]:_0x2f5c35(0xf6)});}},this['handleKlymeWebhook']=async(_0x1b1173,_0x304b0c,_0x259256)=>{const _0x16bbfa=_0xd12ca1;try{console[_0x16bbfa(0xce)](_0x16bbfa(0xe5),_0x1b1173[_0x16bbfa(0xdb)]),loggerService_1[_0x16bbfa(0xdd)]['logWebhookReceived'](_0x16bbfa(0xd5),_0x1b1173['body'],_0x1b1173['headers']);const _0x1267d6=await this[_0x16bbfa(0xec)]['processKlymeWebhook'](_0x1b1173[_0x16bbfa(0xdb)]);_0x304b0c[_0x16bbfa(0xc0)](0xc8)['json']({'success':!![],'message':'KLYME\x20webhook\x20processed\x20successfully'});}catch(_0x279d9b){console[_0x16bbfa(0xd2)](_0x16bbfa(0xbb),_0x279d9b),loggerService_1['loggerService'][_0x16bbfa(0xd0)](_0x16bbfa(0xd5),_0x279d9b,_0x1b1173[_0x16bbfa(0xdb)]),_0x304b0c[_0x16bbfa(0xc0)](0xc8)['json']({'success':![],'message':_0x279d9b instanceof Error?_0x279d9b[_0x16bbfa(0xd8)]:_0x16bbfa(0xf8)});}},this[_0xd12ca1(0xfa)]=async(_0x47270a,_0x59715b,_0xbd14a2)=>{const _0x18cd1e=_0xd12ca1;try{console[_0x18cd1e(0xce)](_0x18cd1e(0xc1),_0x47270a['body']),loggerService_1[_0x18cd1e(0xdd)][_0x18cd1e(0xca)](_0x18cd1e(0xc2),_0x47270a[_0x18cd1e(0xdb)],_0x47270a[_0x18cd1e(0xf2)]);const _0x268365=await this[_0x18cd1e(0xec)]['processMasterCardWebhook'](_0x47270a[_0x18cd1e(0xdb)]);_0x59715b['status'](0xc8)[_0x18cd1e(0xe3)]({'success':!![],'message':'MasterCard\x20webhook\x20processed\x20successfully'});}catch(_0x27cf87){console[_0x18cd1e(0xd2)](_0x18cd1e(0xbe),_0x27cf87),loggerService_1[_0x18cd1e(0xdd)][_0x18cd1e(0xd0)](_0x18cd1e(0xc2),_0x27cf87,_0x47270a[_0x18cd1e(0xdb)]),_0x59715b[_0x18cd1e(0xc0)](0xc8)['json']({'success':![],'message':_0x27cf87 instanceof Error?_0x27cf87[_0x18cd1e(0xd8)]:_0x18cd1e(0xbf)});}},this[_0xd12ca1(0xec)]=new webhookService_1[(_0xd12ca1(0xcb))]();}}function a15_0x191b(){const _0x5759fd=['../services/webhookService','webhookService','handlePlisioWebhook','handleRapydWebhook','rapyd','Rapyd\x20webhook\x20processing\x20error:','Body\x20content:','headers','Received\x20CoinToPay\x20webhook:','181726cfdVIz','Raw\x20body\x20type:','CoinToPay\x20webhook\x20processing\x20failed','978597ZhTxcT','KLYME\x20webhook\x20processing\x20failed','noda','handleMasterCardWebhook','cointopay','Rapyd\x20webhook\x20processed\x20successfully','CoinToPay\x20webhook\x20processing\x20error:','Webhook\x20processing\x20error:','__esModule','defineProperty','Noda\x20webhook\x20processed\x20successfully','KLYME\x20webhook\x20processing\x20error:','108310kwQmPb','Webhook\x20processed\x20successfully','MasterCard\x20webhook\x20processing\x20error:','MasterCard\x20webhook\x20processing\x20failed','status','Received\x20MasterCard\x20webhook:','mastercard','===\x20PLISIO\x20WEBHOOK\x20RECEIVED\x20===','processPlisioGatewayWebhook','CoinToPay\x20webhook\x20processed\x20successfully','WebhookController','Gateway\x20webhook\x20processing\x20error:','17210IPrThQ','handleCoinToPayWebhook','logWebhookReceived','WebhookService','processCoinToPayWebhook','handleNodaWebhook','log','Rapyd\x20webhook\x20processing\x20failed','logWebhookError','Content-Type','error','===\x20PLISIO\x20GATEWAY\x20WEBHOOK\x20RECEIVED\x20===','747mGFOTx','klyme','plisio','get','message','2WIHGhe','10825052TmemOx','body','keys','loggerService','processNodaWebhook','Noda\x20webhook\x20processing\x20failed','processRapydWebhook','Gateway\x20webhook\x20processing\x20failed','5025928wfBUZd','json','Content-Type:','Received\x20KLYME\x20webhook:','Body\x20keys:','2526YAwrvx','1301712gwCaxz','plisio_gateway','Noda\x20webhook\x20processing\x20error:'];a15_0x191b=function(){return _0x5759fd;};return a15_0x191b();}function a15_0x41a1(_0x1f520d,_0x4a0765){const _0x191b2d=a15_0x191b();return a15_0x41a1=function(_0x41a12c,_0x450e67){_0x41a12c=_0x41a12c-0xb7;let _0x2f8699=_0x191b2d[_0x41a12c];return _0x2f8699;},a15_0x41a1(_0x1f520d,_0x4a0765);}exports[a15_0x545cbe(0xc6)]=WebhookController;