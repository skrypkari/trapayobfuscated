'use strict';const a12_0x168f5a=a12_0x3d2f;(function(_0x44629c,_0x1963ec){const _0x1bc814=a12_0x3d2f,_0x2a7ebd=_0x44629c();while(!![]){try{const _0x3ee276=-parseInt(_0x1bc814(0x125))/0x1+parseInt(_0x1bc814(0x11b))/0x2+-parseInt(_0x1bc814(0x120))/0x3*(parseInt(_0x1bc814(0x131))/0x4)+parseInt(_0x1bc814(0x134))/0x5*(-parseInt(_0x1bc814(0x149))/0x6)+parseInt(_0x1bc814(0x119))/0x7+-parseInt(_0x1bc814(0x116))/0x8+-parseInt(_0x1bc814(0x12a))/0x9*(-parseInt(_0x1bc814(0x123))/0xa);if(_0x3ee276===_0x1963ec)break;else _0x2a7ebd['push'](_0x2a7ebd['shift']());}catch(_0x536414){_0x2a7ebd['push'](_0x2a7ebd['shift']());}}}(a12_0x23c7,0xa8358));function a12_0x3d2f(_0x19b5cd,_0x334208){_0x19b5cd=_0x19b5cd-0x113;const _0x23c72e=a12_0x23c7();let _0x3d2f5a=_0x23c72e[_0x19b5cd];return _0x3d2f5a;}Object[a12_0x168f5a(0x11e)](exports,'__esModule',{'value':!![]}),exports[a12_0x168f5a(0x144)]=void 0x0;function a12_0x23c7(){const _0x29370e=[',\x20Amount:\x20','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','üìä\x20Status:\x20','192NoKJGW','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','headers','loggerService','560272PMOcSe','status','‚ùå\x20Error\x20in\x20MaxPara\x20test:','1950592ZmcBDK','‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:','1454588bsGTMa','DEPOSIT','maxpara','defineProperty','UTC','3tfWsxt','logWebhookError','Invalid\x20webhook\x20data','50zJfXbT','test_payment_123','1156238nndbZn','amount','body','logWebhookReceived','log','4259331TYytLg','Failed\x20to\x20process\x20webhook','json','WebhookService','message','token','Unknown\x20error','3166324mentcS','Webhook\x20ignored\x20(not\x20deposit)','üìä\x20Processing\x20MaxPara\x20','103970vkNlZU','Test\x20webhook\x20processed\x20successfully','toISOString','‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook','handleTest','webhookService','success','üß™\x20MaxPara\x20test\x20endpoint\x20called','processMaxParaWebhook','Test\x20User','type','Test\x20failed','test_token_123','../services/webhookService','Webhook\x20processed\x20successfully','error','MaxParaController','üì•\x20Body:'];a12_0x23c7=function(){return _0x29370e;};return a12_0x23c7();}const loggerService_1=require('../services/loggerService'),webhookService_1=require(a12_0x168f5a(0x141));class MaxParaController{constructor(){const _0x5b500b=a12_0x168f5a;this['webhookService']=new webhookService_1[(_0x5b500b(0x12d))]();}async['handleWebhook'](_0x273be8,_0x2b00b1){const _0xdee6dd=a12_0x168f5a;console[_0xdee6dd(0x129)]('üîÑ\x20MaxPara\x20webhook\x20received'),console[_0xdee6dd(0x129)]('üì•\x20Headers:',_0x273be8[_0xdee6dd(0x114)]),console[_0xdee6dd(0x129)](_0xdee6dd(0x145),_0x273be8['body']);try{loggerService_1[_0xdee6dd(0x115)][_0xdee6dd(0x128)](_0xdee6dd(0x11d),_0x273be8[_0xdee6dd(0x127)],_0x273be8['headers']);const _0x3cb131=_0x273be8[_0xdee6dd(0x127)];if(!_0x3cb131||!_0x3cb131[_0xdee6dd(0x12f)]||!_0x3cb131[_0xdee6dd(0x117)])return console[_0xdee6dd(0x143)]('‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data'),loggerService_1['loggerService'][_0xdee6dd(0x121)](_0xdee6dd(0x11d),new Error(_0xdee6dd(0x122)),_0x273be8[_0xdee6dd(0x127)]),_0x2b00b1[_0xdee6dd(0x117)](0x190)[_0xdee6dd(0x12c)]({'error':_0xdee6dd(0x122)});if(_0x3cb131['type']!=='DEPOSIT')return console[_0xdee6dd(0x129)](_0xdee6dd(0x137)),_0x2b00b1[_0xdee6dd(0x117)](0xc8)[_0xdee6dd(0x12c)]({'message':_0xdee6dd(0x132)});console[_0xdee6dd(0x129)](_0xdee6dd(0x133)+_0x3cb131[_0xdee6dd(0x13e)]+'\x20webhook\x20for\x20token:\x20'+_0x3cb131[_0xdee6dd(0x12f)]),console[_0xdee6dd(0x129)](_0xdee6dd(0x148)+_0x3cb131['status']+_0xdee6dd(0x146)+_0x3cb131[_0xdee6dd(0x126)]),await this[_0xdee6dd(0x139)][_0xdee6dd(0x13c)](_0x3cb131),console[_0xdee6dd(0x129)](_0xdee6dd(0x113)),_0x2b00b1[_0xdee6dd(0x117)](0xc8)[_0xdee6dd(0x12c)]({'message':_0xdee6dd(0x142),'status':_0xdee6dd(0x13a)});}catch(_0x3afd60){console[_0xdee6dd(0x143)](_0xdee6dd(0x11a),_0x3afd60),loggerService_1[_0xdee6dd(0x115)]['logWebhookError'](_0xdee6dd(0x11d),_0x3afd60,_0x273be8['body']),_0x2b00b1[_0xdee6dd(0x117)](0x1f4)['json']({'error':'Internal\x20server\x20error','message':_0xdee6dd(0x12b)});}}async[a12_0x168f5a(0x138)](_0x2a3033,_0x388202){const _0x5f28c9=a12_0x168f5a;console[_0x5f28c9(0x129)](_0x5f28c9(0x13b));try{const _0x260554={'id':0x7b,'username':_0x5f28c9(0x13d),'user_id':_0x5f28c9(0x124),'amount':0x64,'status':'APPROVED','token':_0x5f28c9(0x140),'method':'fast','date':{'date':new Date()[_0x5f28c9(0x136)](),'timezone_type':0x3,'timezone':_0x5f28c9(0x11f)},'type':_0x5f28c9(0x11c),'message':null};console[_0x5f28c9(0x129)](_0x5f28c9(0x147),_0x260554),await this['webhookService'][_0x5f28c9(0x13c)](_0x260554),_0x388202['status'](0xc8)[_0x5f28c9(0x12c)]({'message':_0x5f28c9(0x135),'testData':_0x260554});}catch(_0x5f483d){console[_0x5f28c9(0x143)](_0x5f28c9(0x118),_0x5f483d),_0x388202['status'](0x1f4)[_0x5f28c9(0x12c)]({'error':_0x5f28c9(0x13f),'message':_0x5f483d instanceof Error?_0x5f483d[_0x5f28c9(0x12e)]:_0x5f28c9(0x130)});}}}exports[a12_0x168f5a(0x144)]=MaxParaController;