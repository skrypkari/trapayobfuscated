'use strict';const a12_0x510e9e=a12_0x476d;(function(_0x4cc632,_0x9b3a82){const _0x41cdf=a12_0x476d,_0x25f9b5=_0x4cc632();while(!![]){try{const _0x53a27b=parseInt(_0x41cdf(0x1e4))/0x1+-parseInt(_0x41cdf(0x1e1))/0x2*(parseInt(_0x41cdf(0x1e6))/0x3)+-parseInt(_0x41cdf(0x1cd))/0x4*(-parseInt(_0x41cdf(0x1b6))/0x5)+-parseInt(_0x41cdf(0x1bc))/0x6+parseInt(_0x41cdf(0x1d8))/0x7+-parseInt(_0x41cdf(0x1b9))/0x8*(parseInt(_0x41cdf(0x1c7))/0x9)+parseInt(_0x41cdf(0x1c3))/0xa*(parseInt(_0x41cdf(0x1d6))/0xb);if(_0x53a27b===_0x9b3a82)break;else _0x25f9b5['push'](_0x25f9b5['shift']());}catch(_0x3d431b){_0x25f9b5['push'](_0x25f9b5['shift']());}}}(a12_0xea7d,0x5af61));function a12_0xea7d(){const _0x4c8462=['success','3167563PafdWh','logWebhookReceived','loggerService','Test\x20User','üì•\x20Body:','üìä\x20Processing\x20MaxPara\x20','fast','json',',\x20Amount:\x20','2cYIIMn','Test\x20webhook\x20processed\x20successfully','body','708267pEsoAb','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','995523EWsqTf','test_token_123','Failed\x20to\x20process\x20webhook','test_payment_123','WebhookService','processMaxParaWebhook','Webhook\x20ignored\x20(not\x20deposit)','error','webhookService','amount','392835dkNYXE','toISOString','Unknown\x20error','440VmQPyq','Internal\x20server\x20error','Invalid\x20webhook\x20data','3530118WEtLlg','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','../services/loggerService','headers','log','\x20webhook\x20for\x20token:\x20','../services/webhookService','451190mZdHpe','UTC','‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data','‚ùå\x20Error\x20in\x20MaxPara\x20test:','116514CIyhtx','token','üß™\x20MaxPara\x20test\x20endpoint\x20called','status','Test\x20failed','defineProperty','20yHeiOS','DEPOSIT','MaxParaController','maxpara','handleWebhook','üì•\x20Headers:','type','message','logWebhookError','110TzggAP'];a12_0xea7d=function(){return _0x4c8462;};return a12_0xea7d();}Object[a12_0x510e9e(0x1cc)](exports,'__esModule',{'value':!![]}),exports[a12_0x510e9e(0x1cf)]=void 0x0;function a12_0x476d(_0x45eea7,_0x2a9813){_0x45eea7=_0x45eea7-0x1b4;const _0xea7df0=a12_0xea7d();let _0x476d01=_0xea7df0[_0x45eea7];return _0x476d01;}const loggerService_1=require(a12_0x510e9e(0x1be)),webhookService_1=require(a12_0x510e9e(0x1c2));class MaxParaController{constructor(){const _0x4469a6=a12_0x510e9e;this['webhookService']=new webhookService_1[(_0x4469a6(0x1ea))]();}async[a12_0x510e9e(0x1d1)](_0x42d86d,_0x114fbe){const _0x2a99aa=a12_0x510e9e;console[_0x2a99aa(0x1c0)]('üîÑ\x20MaxPara\x20webhook\x20received'),console['log'](_0x2a99aa(0x1d2),_0x42d86d[_0x2a99aa(0x1bf)]),console['log'](_0x2a99aa(0x1dc),_0x42d86d[_0x2a99aa(0x1e3)]);try{loggerService_1[_0x2a99aa(0x1da)][_0x2a99aa(0x1d9)](_0x2a99aa(0x1d0),_0x42d86d[_0x2a99aa(0x1e3)],_0x42d86d[_0x2a99aa(0x1bf)]);const _0x1ee883=_0x42d86d[_0x2a99aa(0x1e3)];if(!_0x1ee883||!_0x1ee883['token']||!_0x1ee883['status'])return console[_0x2a99aa(0x1ed)](_0x2a99aa(0x1c5)),loggerService_1[_0x2a99aa(0x1da)][_0x2a99aa(0x1d5)](_0x2a99aa(0x1d0),new Error('Invalid\x20webhook\x20data'),_0x42d86d[_0x2a99aa(0x1e3)]),_0x114fbe['status'](0x190)[_0x2a99aa(0x1df)]({'error':_0x2a99aa(0x1bb)});if(_0x1ee883[_0x2a99aa(0x1d3)]!==_0x2a99aa(0x1ce))return console[_0x2a99aa(0x1c0)]('‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook'),_0x114fbe[_0x2a99aa(0x1ca)](0xc8)[_0x2a99aa(0x1df)]({'message':_0x2a99aa(0x1ec)});console[_0x2a99aa(0x1c0)](_0x2a99aa(0x1dd)+_0x1ee883[_0x2a99aa(0x1d3)]+_0x2a99aa(0x1c1)+_0x1ee883[_0x2a99aa(0x1c8)]),console[_0x2a99aa(0x1c0)]('üìä\x20Status:\x20'+_0x1ee883[_0x2a99aa(0x1ca)]+_0x2a99aa(0x1e0)+_0x1ee883[_0x2a99aa(0x1b5)]),await this[_0x2a99aa(0x1b4)][_0x2a99aa(0x1eb)](_0x1ee883),console[_0x2a99aa(0x1c0)](_0x2a99aa(0x1bd)),_0x114fbe['status'](0xc8)[_0x2a99aa(0x1df)]({'message':'Webhook\x20processed\x20successfully','status':_0x2a99aa(0x1d7)});}catch(_0x3da3fb){console[_0x2a99aa(0x1ed)]('‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:',_0x3da3fb),loggerService_1[_0x2a99aa(0x1da)]['logWebhookError']('maxpara',_0x3da3fb,_0x42d86d['body']),_0x114fbe[_0x2a99aa(0x1ca)](0x1f4)[_0x2a99aa(0x1df)]({'error':_0x2a99aa(0x1ba),'message':_0x2a99aa(0x1e8)});}}async['handleTest'](_0x204259,_0xd9e2fd){const _0x18fac6=a12_0x510e9e;console[_0x18fac6(0x1c0)](_0x18fac6(0x1c9));try{const _0x2c060e={'id':0x7b,'username':_0x18fac6(0x1db),'user_id':_0x18fac6(0x1e9),'amount':0x64,'status':'APPROVED','token':_0x18fac6(0x1e7),'method':_0x18fac6(0x1de),'date':{'date':new Date()[_0x18fac6(0x1b7)](),'timezone_type':0x3,'timezone':_0x18fac6(0x1c4)},'type':_0x18fac6(0x1ce),'message':null};console[_0x18fac6(0x1c0)](_0x18fac6(0x1e5),_0x2c060e),await this[_0x18fac6(0x1b4)][_0x18fac6(0x1eb)](_0x2c060e),_0xd9e2fd[_0x18fac6(0x1ca)](0xc8)[_0x18fac6(0x1df)]({'message':_0x18fac6(0x1e2),'testData':_0x2c060e});}catch(_0x40c067){console[_0x18fac6(0x1ed)](_0x18fac6(0x1c6),_0x40c067),_0xd9e2fd[_0x18fac6(0x1ca)](0x1f4)[_0x18fac6(0x1df)]({'error':_0x18fac6(0x1cb),'message':_0x40c067 instanceof Error?_0x40c067[_0x18fac6(0x1d4)]:_0x18fac6(0x1b8)});}}}exports[a12_0x510e9e(0x1cf)]=MaxParaController;