'use strict';function a11_0x5e8b(_0x4bf730,_0x2d07b1){_0x4bf730=_0x4bf730-0xf9;const _0x1c9da6=a11_0x1c9d();let _0x5e8b11=_0x1c9da6[_0x4bf730];return _0x5e8b11;}function a11_0x1c9d(){const _0x1d6bed=[',\x20Amount:\x20','success','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','logWebhookReceived','loggerService','message','maxpara','üì•\x20Headers:','amount','UTC','7279692AqiLFx','Test\x20User','Internal\x20server\x20error','body','7677090zBJSxV','4404368MNMVkH','\x20webhook\x20for\x20token:\x20','toISOString','headers','467178CCoVfr','Failed\x20to\x20process\x20webhook','../services/webhookService','99212zgMRrP','MaxParaController','DEPOSIT','defineProperty','Webhook\x20ignored\x20(not\x20deposit)','üß™\x20MaxPara\x20test\x20endpoint\x20called','test_payment_123','json','45XzgezF','token','Test\x20failed','webhookService','Invalid\x20webhook\x20data','25BLMRxO','../services/loggerService','logWebhookError','1139220WxSuKP','handleTest','processMaxParaWebhook','handleWebhook','fast','715146GklAmv','status','üîÑ\x20MaxPara\x20webhook\x20received','Webhook\x20processed\x20successfully','‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data','log','Unknown\x20error','type','error'];a11_0x1c9d=function(){return _0x1d6bed;};return a11_0x1c9d();}const a11_0xf19ed5=a11_0x5e8b;(function(_0x467125,_0x1ad392){const _0x6c732f=a11_0x5e8b,_0x33e94f=_0x467125();while(!![]){try{const _0x44f8b1=parseInt(_0x6c732f(0x109))/0x1+parseInt(_0x6c732f(0x10c))/0x2*(parseInt(_0x6c732f(0x114))/0x3)+-parseInt(_0x6c732f(0x11c))/0x4+-parseInt(_0x6c732f(0x119))/0x5*(parseInt(_0x6c732f(0x121))/0x6)+-parseInt(_0x6c732f(0x100))/0x7+parseInt(_0x6c732f(0x105))/0x8+parseInt(_0x6c732f(0x104))/0x9;if(_0x44f8b1===_0x1ad392)break;else _0x33e94f['push'](_0x33e94f['shift']());}catch(_0x388562){_0x33e94f['push'](_0x33e94f['shift']());}}}(a11_0x1c9d,0xa975c));Object[a11_0xf19ed5(0x10f)](exports,'__esModule',{'value':!![]}),exports[a11_0xf19ed5(0x10d)]=void 0x0;const loggerService_1=require(a11_0xf19ed5(0x11a)),webhookService_1=require(a11_0xf19ed5(0x10b));class MaxParaController{constructor(){this['webhookService']=new webhookService_1['WebhookService']();}async[a11_0xf19ed5(0x11f)](_0x37a3bd,_0x19a524){const _0x3e57a8=a11_0xf19ed5;console[_0x3e57a8(0x126)](_0x3e57a8(0x123)),console[_0x3e57a8(0x126)](_0x3e57a8(0xfd),_0x37a3bd[_0x3e57a8(0x108)]),console['log']('üì•\x20Body:',_0x37a3bd['body']);try{loggerService_1['loggerService'][_0x3e57a8(0xf9)](_0x3e57a8(0xfc),_0x37a3bd['body'],_0x37a3bd[_0x3e57a8(0x108)]);const _0x340036=_0x37a3bd[_0x3e57a8(0x103)];if(!_0x340036||!_0x340036[_0x3e57a8(0x115)]||!_0x340036['status'])return console[_0x3e57a8(0x129)](_0x3e57a8(0x125)),loggerService_1[_0x3e57a8(0xfa)]['logWebhookError'](_0x3e57a8(0xfc),new Error(_0x3e57a8(0x118)),_0x37a3bd[_0x3e57a8(0x103)]),_0x19a524['status'](0x190)[_0x3e57a8(0x113)]({'error':_0x3e57a8(0x118)});if(_0x340036[_0x3e57a8(0x128)]!==_0x3e57a8(0x10e))return console['log']('‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook'),_0x19a524[_0x3e57a8(0x122)](0xc8)['json']({'message':_0x3e57a8(0x110)});console[_0x3e57a8(0x126)]('üìä\x20Processing\x20MaxPara\x20'+_0x340036['type']+_0x3e57a8(0x106)+_0x340036[_0x3e57a8(0x115)]),console[_0x3e57a8(0x126)]('üìä\x20Status:\x20'+_0x340036[_0x3e57a8(0x122)]+_0x3e57a8(0x12a)+_0x340036[_0x3e57a8(0xfe)]),await this[_0x3e57a8(0x117)][_0x3e57a8(0x11e)](_0x340036),console[_0x3e57a8(0x126)](_0x3e57a8(0x12d)),_0x19a524[_0x3e57a8(0x122)](0xc8)['json']({'message':_0x3e57a8(0x124),'status':_0x3e57a8(0x12b)});}catch(_0x3386b6){console[_0x3e57a8(0x129)]('‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:',_0x3386b6),loggerService_1[_0x3e57a8(0xfa)][_0x3e57a8(0x11b)]('maxpara',_0x3386b6,_0x37a3bd[_0x3e57a8(0x103)]),_0x19a524[_0x3e57a8(0x122)](0x1f4)['json']({'error':_0x3e57a8(0x102),'message':_0x3e57a8(0x10a)});}}async[a11_0xf19ed5(0x11d)](_0x3d46d0,_0x432fcd){const _0x2653e0=a11_0xf19ed5;console[_0x2653e0(0x126)](_0x2653e0(0x111));try{const _0x1a386b={'id':0x7b,'username':_0x2653e0(0x101),'user_id':_0x2653e0(0x112),'amount':0x64,'status':'APPROVED','token':'test_token_123','method':_0x2653e0(0x120),'date':{'date':new Date()[_0x2653e0(0x107)](),'timezone_type':0x3,'timezone':_0x2653e0(0xff)},'type':_0x2653e0(0x10e),'message':null};console[_0x2653e0(0x126)](_0x2653e0(0x12c),_0x1a386b),await this[_0x2653e0(0x117)][_0x2653e0(0x11e)](_0x1a386b),_0x432fcd['status'](0xc8)[_0x2653e0(0x113)]({'message':'Test\x20webhook\x20processed\x20successfully','testData':_0x1a386b});}catch(_0x32d58e){console['error']('‚ùå\x20Error\x20in\x20MaxPara\x20test:',_0x32d58e),_0x432fcd[_0x2653e0(0x122)](0x1f4)[_0x2653e0(0x113)]({'error':_0x2653e0(0x116),'message':_0x32d58e instanceof Error?_0x32d58e[_0x2653e0(0xfb)]:_0x2653e0(0x127)});}}}exports[a11_0xf19ed5(0x10d)]=MaxParaController;