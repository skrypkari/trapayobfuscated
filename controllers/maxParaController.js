'use strict';const a11_0x46d7b1=a11_0x2229;(function(_0x9d7a03,_0xa3b702){const _0x579df4=a11_0x2229,_0x2a2979=_0x9d7a03();while(!![]){try{const _0xbea545=parseInt(_0x579df4(0x10b))/0x1*(-parseInt(_0x579df4(0x114))/0x2)+parseInt(_0x579df4(0x118))/0x3*(-parseInt(_0x579df4(0x11b))/0x4)+-parseInt(_0x579df4(0x115))/0x5+parseInt(_0x579df4(0x127))/0x6*(parseInt(_0x579df4(0x137))/0x7)+-parseInt(_0x579df4(0x134))/0x8*(parseInt(_0x579df4(0x13b))/0x9)+-parseInt(_0x579df4(0x12b))/0xa+parseInt(_0x579df4(0x139))/0xb;if(_0xbea545===_0xa3b702)break;else _0x2a2979['push'](_0x2a2979['shift']());}catch(_0x4e7ab9){_0x2a2979['push'](_0x2a2979['shift']());}}}(a11_0xd109,0x520a6));function a11_0xd109(){const _0xf53e0e=['133cQdiaK','status','17908451HxjNby','body','185346SQJPYK',',\x20Amount:\x20','WebhookService','defineProperty','üì•\x20Headers:','type','3tOKQDv','headers','json','APPROVED','Invalid\x20webhook\x20data','üìä\x20Processing\x20MaxPara\x20','webhookService','../services/webhookService','Test\x20webhook\x20processed\x20successfully','214766HMKpPb','1177185wqRzXa','test_token_123','Failed\x20to\x20process\x20webhook','27114xxiFPd','maxpara','‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data','192CSpBZt','toISOString','üß™\x20MaxPara\x20test\x20endpoint\x20called','\x20webhook\x20for\x20token:\x20','Test\x20User','Webhook\x20ignored\x20(not\x20deposit)','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook','../services/loggerService','logWebhookError','loggerService','MaxParaController','118950CVRsPZ','token','__esModule','amount','2242000wdNERp','log','handleTest','DEPOSIT','error','Webhook\x20processed\x20successfully','Unknown\x20error','üìä\x20Status:\x20','Test\x20failed','176XbFfDk','processMaxParaWebhook','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully'];a11_0xd109=function(){return _0xf53e0e;};return a11_0xd109();}function a11_0x2229(_0x3cd915,_0x350a33){_0x3cd915=_0x3cd915-0x108;const _0xd109e0=a11_0xd109();let _0x22295f=_0xd109e0[_0x3cd915];return _0x22295f;}Object[a11_0x46d7b1(0x108)](exports,a11_0x46d7b1(0x129),{'value':!![]}),exports[a11_0x46d7b1(0x126)]=void 0x0;const loggerService_1=require(a11_0x46d7b1(0x123)),webhookService_1=require(a11_0x46d7b1(0x112));class MaxParaController{constructor(){const _0x201444=a11_0x46d7b1;this[_0x201444(0x111)]=new webhookService_1[(_0x201444(0x13d))]();}async['handleWebhook'](_0x5ba55f,_0x3ed26d){const _0x1d2ace=a11_0x46d7b1;console[_0x1d2ace(0x12c)]('üîÑ\x20MaxPara\x20webhook\x20received'),console[_0x1d2ace(0x12c)](_0x1d2ace(0x109),_0x5ba55f[_0x1d2ace(0x10c)]),console[_0x1d2ace(0x12c)]('üì•\x20Body:',_0x5ba55f[_0x1d2ace(0x13a)]);try{loggerService_1[_0x1d2ace(0x125)]['logWebhookReceived'](_0x1d2ace(0x119),_0x5ba55f[_0x1d2ace(0x13a)],_0x5ba55f[_0x1d2ace(0x10c)]);const _0x2969d1=_0x5ba55f['body'];if(!_0x2969d1||!_0x2969d1[_0x1d2ace(0x128)]||!_0x2969d1['status'])return console[_0x1d2ace(0x12f)](_0x1d2ace(0x11a)),loggerService_1[_0x1d2ace(0x125)][_0x1d2ace(0x124)](_0x1d2ace(0x119),new Error('Invalid\x20webhook\x20data'),_0x5ba55f[_0x1d2ace(0x13a)]),_0x3ed26d[_0x1d2ace(0x138)](0x190)[_0x1d2ace(0x10d)]({'error':_0x1d2ace(0x10f)});if(_0x2969d1[_0x1d2ace(0x10a)]!==_0x1d2ace(0x12e))return console['log'](_0x1d2ace(0x122)),_0x3ed26d[_0x1d2ace(0x138)](0xc8)[_0x1d2ace(0x10d)]({'message':_0x1d2ace(0x120)});console[_0x1d2ace(0x12c)](_0x1d2ace(0x110)+_0x2969d1[_0x1d2ace(0x10a)]+_0x1d2ace(0x11e)+_0x2969d1[_0x1d2ace(0x128)]),console[_0x1d2ace(0x12c)](_0x1d2ace(0x132)+_0x2969d1[_0x1d2ace(0x138)]+_0x1d2ace(0x13c)+_0x2969d1[_0x1d2ace(0x12a)]),await this[_0x1d2ace(0x111)]['processMaxParaWebhook'](_0x2969d1),console['log'](_0x1d2ace(0x136)),_0x3ed26d[_0x1d2ace(0x138)](0xc8)[_0x1d2ace(0x10d)]({'message':_0x1d2ace(0x130),'status':'success'});}catch(_0x300c87){console[_0x1d2ace(0x12f)]('‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:',_0x300c87),loggerService_1[_0x1d2ace(0x125)][_0x1d2ace(0x124)](_0x1d2ace(0x119),_0x300c87,_0x5ba55f[_0x1d2ace(0x13a)]),_0x3ed26d[_0x1d2ace(0x138)](0x1f4)['json']({'error':'Internal\x20server\x20error','message':_0x1d2ace(0x117)});}}async[a11_0x46d7b1(0x12d)](_0x219525,_0x40b062){const _0xbefb29=a11_0x46d7b1;console[_0xbefb29(0x12c)](_0xbefb29(0x11d));try{const _0x2c8a50={'id':0x7b,'username':_0xbefb29(0x11f),'user_id':'test_payment_123','amount':0x64,'status':_0xbefb29(0x10e),'token':_0xbefb29(0x116),'method':'fast','date':{'date':new Date()[_0xbefb29(0x11c)](),'timezone_type':0x3,'timezone':'UTC'},'type':_0xbefb29(0x12e),'message':null};console[_0xbefb29(0x12c)](_0xbefb29(0x121),_0x2c8a50),await this[_0xbefb29(0x111)][_0xbefb29(0x135)](_0x2c8a50),_0x40b062[_0xbefb29(0x138)](0xc8)[_0xbefb29(0x10d)]({'message':_0xbefb29(0x113),'testData':_0x2c8a50});}catch(_0x1e632f){console[_0xbefb29(0x12f)]('‚ùå\x20Error\x20in\x20MaxPara\x20test:',_0x1e632f),_0x40b062['status'](0x1f4)[_0xbefb29(0x10d)]({'error':_0xbefb29(0x133),'message':_0x1e632f instanceof Error?_0x1e632f['message']:_0xbefb29(0x131)});}}}exports[a11_0x46d7b1(0x126)]=MaxParaController;