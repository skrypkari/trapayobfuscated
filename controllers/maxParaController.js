'use strict';const a10_0x388856=a10_0x1552;(function(_0xd2ca73,_0x11c3d9){const _0x445a91=a10_0x1552,_0x56f830=_0xd2ca73();while(!![]){try{const _0x305963=parseInt(_0x445a91(0x8f))/0x1+-parseInt(_0x445a91(0x9c))/0x2*(parseInt(_0x445a91(0x8e))/0x3)+-parseInt(_0x445a91(0xad))/0x4+parseInt(_0x445a91(0xb7))/0x5*(parseInt(_0x445a91(0x8b))/0x6)+parseInt(_0x445a91(0xb2))/0x7+-parseInt(_0x445a91(0xa5))/0x8*(parseInt(_0x445a91(0x89))/0x9)+-parseInt(_0x445a91(0x85))/0xa;if(_0x305963===_0x11c3d9)break;else _0x56f830['push'](_0x56f830['shift']());}catch(_0x5466f0){_0x56f830['push'](_0x56f830['shift']());}}}(a10_0x522f,0xb27d4));function a10_0x1552(_0x22e4fa,_0x40f59b){_0x22e4fa=_0x22e4fa-0x82;const _0x522fce=a10_0x522f();let _0x155239=_0x522fce[_0x22e4fa];return _0x155239;}Object['defineProperty'](exports,a10_0x388856(0x96),{'value':!![]}),exports['MaxParaController']=void 0x0;const loggerService_1=require(a10_0x388856(0xa7)),webhookService_1=require(a10_0x388856(0x87));function a10_0x522f(){const _0x4d07e5=['‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','Test\x20failed','üß™\x20MaxPara\x20test\x20endpoint\x20called','Unknown\x20error','maxpara','__esModule','Webhook\x20ignored\x20(not\x20deposit)','log','token','Test\x20webhook\x20processed\x20successfully','fast','10liUdrh','loggerService','headers','processMaxParaWebhook','amount','‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data','UTC','logWebhookError','status','1044784LgoDxx','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','../services/loggerService','‚ùå\x20Error\x20in\x20MaxPara\x20test:','Failed\x20to\x20process\x20webhook','success','webhookService','body','1125808dLLJSR','handleTest','type','üìä\x20Processing\x20MaxPara\x20','üì•\x20Body:','8866970VMeWJP','json','üîÑ\x20MaxPara\x20webhook\x20received','DEPOSIT','Test\x20User','35yYuBNn','handleWebhook','WebhookService','Invalid\x20webhook\x20data','1388220BGxLlk','toISOString','../services/webhookService','‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook','9FwsvMZ','\x20webhook\x20for\x20token:\x20','209514speSCZ','error','test_token_123','699498fyYawN','936651QFZDNn','üìä\x20Status:\x20'];a10_0x522f=function(){return _0x4d07e5;};return a10_0x522f();}class MaxParaController{constructor(){const _0x4d4af8=a10_0x388856;this[_0x4d4af8(0xab)]=new webhookService_1[(_0x4d4af8(0x83))]();}async[a10_0x388856(0x82)](_0x45fdc5,_0x2af9cd){const _0x3be445=a10_0x388856;console[_0x3be445(0x98)](_0x3be445(0xb4)),console[_0x3be445(0x98)]('üì•\x20Headers:',_0x45fdc5[_0x3be445(0x9e)]),console['log'](_0x3be445(0xb1),_0x45fdc5['body']);try{loggerService_1['loggerService']['logWebhookReceived'](_0x3be445(0x95),_0x45fdc5[_0x3be445(0xac)],_0x45fdc5[_0x3be445(0x9e)]);const _0x37b620=_0x45fdc5[_0x3be445(0xac)];if(!_0x37b620||!_0x37b620[_0x3be445(0x99)]||!_0x37b620[_0x3be445(0xa4)])return console[_0x3be445(0x8c)](_0x3be445(0xa1)),loggerService_1['loggerService'][_0x3be445(0xa3)](_0x3be445(0x95),new Error('Invalid\x20webhook\x20data'),_0x45fdc5[_0x3be445(0xac)]),_0x2af9cd[_0x3be445(0xa4)](0x190)[_0x3be445(0xb3)]({'error':_0x3be445(0x84)});if(_0x37b620[_0x3be445(0xaf)]!==_0x3be445(0xb5))return console[_0x3be445(0x98)](_0x3be445(0x88)),_0x2af9cd['status'](0xc8)[_0x3be445(0xb3)]({'message':_0x3be445(0x97)});console[_0x3be445(0x98)](_0x3be445(0xb0)+_0x37b620[_0x3be445(0xaf)]+_0x3be445(0x8a)+_0x37b620[_0x3be445(0x99)]),console[_0x3be445(0x98)](_0x3be445(0x90)+_0x37b620[_0x3be445(0xa4)]+',\x20Amount:\x20'+_0x37b620[_0x3be445(0xa0)]),await this[_0x3be445(0xab)][_0x3be445(0x9f)](_0x37b620),console[_0x3be445(0x98)](_0x3be445(0x91)),_0x2af9cd[_0x3be445(0xa4)](0xc8)[_0x3be445(0xb3)]({'message':'Webhook\x20processed\x20successfully','status':_0x3be445(0xaa)});}catch(_0xe68d53){console[_0x3be445(0x8c)]('‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:',_0xe68d53),loggerService_1[_0x3be445(0x9d)]['logWebhookError'](_0x3be445(0x95),_0xe68d53,_0x45fdc5[_0x3be445(0xac)]),_0x2af9cd[_0x3be445(0xa4)](0x1f4)['json']({'error':'Internal\x20server\x20error','message':_0x3be445(0xa9)});}}async[a10_0x388856(0xae)](_0x35e8e7,_0x2df616){const _0x537fe=a10_0x388856;console[_0x537fe(0x98)](_0x537fe(0x93));try{const _0x49fc18={'id':0x7b,'username':_0x537fe(0xb6),'user_id':'test_payment_123','amount':0x64,'status':'APPROVED','token':_0x537fe(0x8d),'method':_0x537fe(0x9b),'date':{'date':new Date()[_0x537fe(0x86)](),'timezone_type':0x3,'timezone':_0x537fe(0xa2)},'type':_0x537fe(0xb5),'message':null};console[_0x537fe(0x98)](_0x537fe(0xa6),_0x49fc18),await this[_0x537fe(0xab)][_0x537fe(0x9f)](_0x49fc18),_0x2df616[_0x537fe(0xa4)](0xc8)[_0x537fe(0xb3)]({'message':_0x537fe(0x9a),'testData':_0x49fc18});}catch(_0x356814){console[_0x537fe(0x8c)](_0x537fe(0xa8),_0x356814),_0x2df616[_0x537fe(0xa4)](0x1f4)[_0x537fe(0xb3)]({'error':_0x537fe(0x92),'message':_0x356814 instanceof Error?_0x356814['message']:_0x537fe(0x94)});}}}exports['MaxParaController']=MaxParaController;