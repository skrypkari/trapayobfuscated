'use strict';const a11_0x4c6597=a11_0x27b1;function a11_0x27b1(_0x33925c,_0x41be78){_0x33925c=_0x33925c-0x137;const _0x431468=a11_0x4314();let _0x27b188=_0x431468[_0x33925c];return _0x27b188;}(function(_0x560490,_0xdcf7f){const _0x4fd05b=a11_0x27b1,_0x10b49f=_0x560490();while(!![]){try{const _0x1f3dc7=parseInt(_0x4fd05b(0x164))/0x1+parseInt(_0x4fd05b(0x141))/0x2+-parseInt(_0x4fd05b(0x151))/0x3+parseInt(_0x4fd05b(0x150))/0x4+-parseInt(_0x4fd05b(0x14e))/0x5*(-parseInt(_0x4fd05b(0x165))/0x6)+-parseInt(_0x4fd05b(0x14f))/0x7+-parseInt(_0x4fd05b(0x14c))/0x8*(parseInt(_0x4fd05b(0x15f))/0x9);if(_0x1f3dc7===_0xdcf7f)break;else _0x10b49f['push'](_0x10b49f['shift']());}catch(_0x41d52e){_0x10b49f['push'](_0x10b49f['shift']());}}}(a11_0x4314,0x4b5ae));Object[a11_0x4c6597(0x15b)](exports,a11_0x4c6597(0x169),{'value':!![]}),exports['MaxParaController']=void 0x0;const loggerService_1=require(a11_0x4c6597(0x13f)),webhookService_1=require('../services/webhookService');class MaxParaController{constructor(){const _0x28a03a=a11_0x4c6597;this[_0x28a03a(0x13d)]=new webhookService_1[(_0x28a03a(0x13a))]();}async['handleWebhook'](_0x27130c,_0x426cf5){const _0x219ac3=a11_0x4c6597;console[_0x219ac3(0x14d)](_0x219ac3(0x15a)),console[_0x219ac3(0x14d)]('üì•\x20Headers:',_0x27130c[_0x219ac3(0x159)]),console[_0x219ac3(0x14d)]('üì•\x20Body:',_0x27130c[_0x219ac3(0x154)]);try{loggerService_1[_0x219ac3(0x137)][_0x219ac3(0x156)](_0x219ac3(0x158),_0x27130c[_0x219ac3(0x154)],_0x27130c[_0x219ac3(0x159)]);const _0x952650=_0x27130c['body'];if(!_0x952650||!_0x952650['token']||!_0x952650['status'])return console[_0x219ac3(0x15d)](_0x219ac3(0x14a)),loggerService_1[_0x219ac3(0x137)][_0x219ac3(0x167)](_0x219ac3(0x158),new Error(_0x219ac3(0x138)),_0x27130c['body']),_0x426cf5[_0x219ac3(0x14b)](0x190)[_0x219ac3(0x140)]({'error':'Invalid\x20webhook\x20data'});if(_0x952650[_0x219ac3(0x152)]!==_0x219ac3(0x15e))return console[_0x219ac3(0x14d)](_0x219ac3(0x145)),_0x426cf5[_0x219ac3(0x14b)](0xc8)['json']({'message':_0x219ac3(0x148)});console['log']('üìä\x20Processing\x20MaxPara\x20'+_0x952650[_0x219ac3(0x152)]+'\x20webhook\x20for\x20token:\x20'+_0x952650['token']),console['log'](_0x219ac3(0x143)+_0x952650[_0x219ac3(0x14b)]+',\x20Amount:\x20'+_0x952650['amount']),await this[_0x219ac3(0x13d)]['processMaxParaWebhook'](_0x952650),console[_0x219ac3(0x14d)](_0x219ac3(0x153)),_0x426cf5[_0x219ac3(0x14b)](0xc8)['json']({'message':_0x219ac3(0x13e),'status':_0x219ac3(0x162)});}catch(_0x2aaea4){console['error'](_0x219ac3(0x147),_0x2aaea4),loggerService_1[_0x219ac3(0x137)][_0x219ac3(0x167)](_0x219ac3(0x158),_0x2aaea4,_0x27130c['body']),_0x426cf5[_0x219ac3(0x14b)](0x1f4)[_0x219ac3(0x140)]({'error':_0x219ac3(0x13c),'message':_0x219ac3(0x142)});}}async['handleTest'](_0xeb9347,_0xd3c99b){const _0x50c31f=a11_0x4c6597;console['log'](_0x50c31f(0x149));try{const _0x246ed3={'id':0x7b,'username':_0x50c31f(0x166),'user_id':'test_payment_123','amount':0x64,'status':_0x50c31f(0x13b),'token':_0x50c31f(0x163),'method':_0x50c31f(0x139),'date':{'date':new Date()[_0x50c31f(0x15c)](),'timezone_type':0x3,'timezone':_0x50c31f(0x168)},'type':'DEPOSIT','message':null};console[_0x50c31f(0x14d)](_0x50c31f(0x146),_0x246ed3),await this['webhookService'][_0x50c31f(0x144)](_0x246ed3),_0xd3c99b['status'](0xc8)[_0x50c31f(0x140)]({'message':_0x50c31f(0x157),'testData':_0x246ed3});}catch(_0xa20f7b){console[_0x50c31f(0x15d)](_0x50c31f(0x161),_0xa20f7b),_0xd3c99b[_0x50c31f(0x14b)](0x1f4)[_0x50c31f(0x140)]({'error':_0x50c31f(0x16a),'message':_0xa20f7b instanceof Error?_0xa20f7b[_0x50c31f(0x160)]:_0x50c31f(0x155)});}}}function a11_0x4314(){const _0x1a5e7b=['logWebhookError','UTC','__esModule','Test\x20failed','loggerService','Invalid\x20webhook\x20data','fast','WebhookService','APPROVED','Internal\x20server\x20error','webhookService','Webhook\x20processed\x20successfully','../services/loggerService','json','1032336cVMCuo','Failed\x20to\x20process\x20webhook','üìä\x20Status:\x20','processMaxParaWebhook','‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:','Webhook\x20ignored\x20(not\x20deposit)','üß™\x20MaxPara\x20test\x20endpoint\x20called','‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data','status','24BfoNkS','log','25TZXezu','1147041AFVrUp','1845292IKXQww','672579EdUKve','type','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','body','Unknown\x20error','logWebhookReceived','Test\x20webhook\x20processed\x20successfully','maxpara','headers','üîÑ\x20MaxPara\x20webhook\x20received','defineProperty','toISOString','error','DEPOSIT','2674611QqZzAX','message','‚ùå\x20Error\x20in\x20MaxPara\x20test:','success','test_token_123','387201SOfxlp','268266KJymoU','Test\x20User'];a11_0x4314=function(){return _0x1a5e7b;};return a11_0x4314();}exports['MaxParaController']=MaxParaController;