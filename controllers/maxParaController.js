'use strict';const a12_0x3c36ed=a12_0x1ac8;function a12_0xf144(){const _0x2e0362=['UTC','log','‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:','5309390rtobgR','\x20webhook\x20for\x20token:\x20','üîÑ\x20MaxPara\x20webhook\x20received','toISOString','Test\x20failed','Failed\x20to\x20process\x20webhook','Webhook\x20processed\x20successfully','54312DweIvu','179CHFbDv','MaxParaController','22vYtJXD','üìä\x20Status:\x20','Test\x20webhook\x20processed\x20successfully','test_payment_123','logWebhookReceived','Internal\x20server\x20error','9401959VoILOd','WebhookService',',\x20Amount:\x20','error','success','3WyUmcN','loggerService','üì•\x20Headers:','Invalid\x20webhook\x20data','DEPOSIT','Test\x20User','__esModule','üß™\x20MaxPara\x20test\x20endpoint\x20called','handleWebhook','maxpara','headers','üì•\x20Body:','‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook','type','Webhook\x20ignored\x20(not\x20deposit)','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','status','amount','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','logWebhookError','333KdyHCQ','handleTest','../services/webhookService','webhookService','üìä\x20Processing\x20MaxPara\x20','processMaxParaWebhook','5982nnvgUF','token','3604324lwXwjZ','body','json','‚ùå\x20Error\x20in\x20MaxPara\x20test:','466710EbGGus','5705616arKwCL'];a12_0xf144=function(){return _0x2e0362;};return a12_0xf144();}(function(_0x19398f,_0x2edcf6){const _0x2f8537=a12_0x1ac8,_0x27b56b=_0x19398f();while(!![]){try{const _0x10833d=parseInt(_0x2f8537(0x99))/0x1*(parseInt(_0x2f8537(0xc0))/0x2)+-parseInt(_0x2f8537(0xa6))/0x3*(parseInt(_0x2f8537(0xc2))/0x4)+-parseInt(_0x2f8537(0xcb))/0x5+parseInt(_0x2f8537(0xc7))/0x6+parseInt(_0x2f8537(0xa1))/0x7+parseInt(_0x2f8537(0x98))/0x8*(-parseInt(_0x2f8537(0xba))/0x9)+parseInt(_0x2f8537(0xc6))/0xa*(parseInt(_0x2f8537(0x9b))/0xb);if(_0x10833d===_0x2edcf6)break;else _0x27b56b['push'](_0x27b56b['shift']());}catch(_0x2c5052){_0x27b56b['push'](_0x27b56b['shift']());}}}(a12_0xf144,0xad02c));Object['defineProperty'](exports,a12_0x3c36ed(0xac),{'value':!![]}),exports['MaxParaController']=void 0x0;const loggerService_1=require('../services/loggerService'),webhookService_1=require(a12_0x3c36ed(0xbc));class MaxParaController{constructor(){const _0x3f0c3d=a12_0x3c36ed;this[_0x3f0c3d(0xbd)]=new webhookService_1[(_0x3f0c3d(0xa2))]();}async[a12_0x3c36ed(0xae)](_0x3bf797,_0x28b452){const _0x27873d=a12_0x3c36ed;console[_0x27873d(0xc9)](_0x27873d(0xcd)),console[_0x27873d(0xc9)](_0x27873d(0xa8),_0x3bf797[_0x27873d(0xb0)]),console[_0x27873d(0xc9)](_0x27873d(0xb1),_0x3bf797['body']);try{loggerService_1['loggerService'][_0x27873d(0x9f)](_0x27873d(0xaf),_0x3bf797[_0x27873d(0xc3)],_0x3bf797['headers']);const _0x78ce5=_0x3bf797['body'];if(!_0x78ce5||!_0x78ce5['token']||!_0x78ce5[_0x27873d(0xb6)])return console[_0x27873d(0xa4)]('‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data'),loggerService_1[_0x27873d(0xa7)][_0x27873d(0xb9)](_0x27873d(0xaf),new Error(_0x27873d(0xa9)),_0x3bf797[_0x27873d(0xc3)]),_0x28b452[_0x27873d(0xb6)](0x190)[_0x27873d(0xc4)]({'error':_0x27873d(0xa9)});if(_0x78ce5[_0x27873d(0xb3)]!==_0x27873d(0xaa))return console[_0x27873d(0xc9)](_0x27873d(0xb2)),_0x28b452[_0x27873d(0xb6)](0xc8)['json']({'message':_0x27873d(0xb4)});console[_0x27873d(0xc9)](_0x27873d(0xbe)+_0x78ce5[_0x27873d(0xb3)]+_0x27873d(0xcc)+_0x78ce5[_0x27873d(0xc1)]),console[_0x27873d(0xc9)](_0x27873d(0x9c)+_0x78ce5[_0x27873d(0xb6)]+_0x27873d(0xa3)+_0x78ce5[_0x27873d(0xb7)]),await this[_0x27873d(0xbd)][_0x27873d(0xbf)](_0x78ce5),console['log'](_0x27873d(0xb5)),_0x28b452[_0x27873d(0xb6)](0xc8)['json']({'message':_0x27873d(0x97),'status':_0x27873d(0xa5)});}catch(_0x34146a){console[_0x27873d(0xa4)](_0x27873d(0xca),_0x34146a),loggerService_1['loggerService'][_0x27873d(0xb9)](_0x27873d(0xaf),_0x34146a,_0x3bf797['body']),_0x28b452[_0x27873d(0xb6)](0x1f4)[_0x27873d(0xc4)]({'error':_0x27873d(0xa0),'message':_0x27873d(0xd0)});}}async[a12_0x3c36ed(0xbb)](_0x2fee02,_0x51520d){const _0x12c444=a12_0x3c36ed;console['log'](_0x12c444(0xad));try{const _0x3834a3={'id':0x7b,'username':_0x12c444(0xab),'user_id':_0x12c444(0x9e),'amount':0x64,'status':'APPROVED','token':'test_token_123','method':'fast','date':{'date':new Date()[_0x12c444(0xce)](),'timezone_type':0x3,'timezone':_0x12c444(0xc8)},'type':_0x12c444(0xaa),'message':null};console[_0x12c444(0xc9)](_0x12c444(0xb8),_0x3834a3),await this['webhookService'][_0x12c444(0xbf)](_0x3834a3),_0x51520d['status'](0xc8)['json']({'message':_0x12c444(0x9d),'testData':_0x3834a3});}catch(_0x290081){console[_0x12c444(0xa4)](_0x12c444(0xc5),_0x290081),_0x51520d[_0x12c444(0xb6)](0x1f4)[_0x12c444(0xc4)]({'error':_0x12c444(0xcf),'message':_0x290081 instanceof Error?_0x290081['message']:'Unknown\x20error'});}}}function a12_0x1ac8(_0x45f901,_0x495d35){_0x45f901=_0x45f901-0x97;const _0xf144cf=a12_0xf144();let _0x1ac8df=_0xf144cf[_0x45f901];return _0x1ac8df;}exports[a12_0x3c36ed(0x9a)]=MaxParaController;