'use strict';const a10_0x57d748=a10_0xf86c;(function(_0x210d46,_0x45668f){const _0x26d659=a10_0xf86c,_0x4e1e82=_0x210d46();while(!![]){try{const _0x504710=parseInt(_0x26d659(0x112))/0x1+-parseInt(_0x26d659(0x123))/0x2+parseInt(_0x26d659(0x129))/0x3*(parseInt(_0x26d659(0xff))/0x4)+-parseInt(_0x26d659(0x11a))/0x5*(-parseInt(_0x26d659(0x128))/0x6)+parseInt(_0x26d659(0x125))/0x7*(-parseInt(_0x26d659(0x111))/0x8)+-parseInt(_0x26d659(0xfb))/0x9+-parseInt(_0x26d659(0x11b))/0xa*(-parseInt(_0x26d659(0x115))/0xb);if(_0x504710===_0x45668f)break;else _0x4e1e82['push'](_0x4e1e82['shift']());}catch(_0x1d0d9a){_0x4e1e82['push'](_0x4e1e82['shift']());}}}(a10_0x440d,0xd4b4d));function a10_0xf86c(_0xba08dd,_0x14013e){_0xba08dd=_0xba08dd-0xfa;const _0x440ddf=a10_0x440d();let _0xf86c4f=_0x440ddf[_0xba08dd];return _0xf86c4f;}function a10_0x440d(){const _0x266f69=['logWebhookReceived','webhookService','error','3191448TSNuTJ','1055009PncMZC','Webhook\x20processed\x20successfully',',\x20Amount:\x20','1089dmRnqo','üì•\x20Headers:','message','defineProperty','‚úÖ\x20MaxPara\x20webhook\x20processed\x20successfully','240xDuljk','306870KtFHqm','status','APPROVED','\x20webhook\x20for\x20token:\x20','Failed\x20to\x20process\x20webhook','type','handleWebhook','üì•\x20Body:','2107028jEAIbx','Internal\x20server\x20error','21kXvoRc','log','WebhookService','28044LpvywI','3iViUPl','Test\x20failed','loggerService','‚ùå\x20Error\x20in\x20MaxPara\x20test:','logWebhookError','üß™\x20Simulating\x20MaxPara\x20webhook\x20with\x20test\x20data:','../services/webhookService','11492100ZYraJM','Test\x20User','maxpara','MaxParaController','324312PaBMlA','üìä\x20Status:\x20','test_token_123','json','token','body','headers','üîÑ\x20MaxPara\x20webhook\x20received','Webhook\x20ignored\x20(not\x20deposit)','DEPOSIT','Unknown\x20error','üìä\x20Processing\x20MaxPara\x20','success','fast','Invalid\x20webhook\x20data'];a10_0x440d=function(){return _0x266f69;};return a10_0x440d();}Object[a10_0x57d748(0x118)](exports,'__esModule',{'value':!![]}),exports[a10_0x57d748(0xfe)]=void 0x0;const loggerService_1=require('../services/loggerService'),webhookService_1=require(a10_0x57d748(0xfa));class MaxParaController{constructor(){const _0x2183e6=a10_0x57d748;this[_0x2183e6(0x10f)]=new webhookService_1[(_0x2183e6(0x127))]();}async[a10_0x57d748(0x121)](_0x7423b0,_0x34624d){const _0x135d0d=a10_0x57d748;console['log'](_0x135d0d(0x106)),console[_0x135d0d(0x126)](_0x135d0d(0x116),_0x7423b0[_0x135d0d(0x105)]),console['log'](_0x135d0d(0x122),_0x7423b0[_0x135d0d(0x104)]);try{loggerService_1[_0x135d0d(0x12b)][_0x135d0d(0x10e)](_0x135d0d(0xfd),_0x7423b0[_0x135d0d(0x104)],_0x7423b0[_0x135d0d(0x105)]);const _0x4eb494=_0x7423b0['body'];if(!_0x4eb494||!_0x4eb494[_0x135d0d(0x103)]||!_0x4eb494[_0x135d0d(0x11c)])return console[_0x135d0d(0x110)]('‚ùå\x20Invalid\x20MaxPara\x20webhook\x20data'),loggerService_1['loggerService'][_0x135d0d(0x12d)](_0x135d0d(0xfd),new Error('Invalid\x20webhook\x20data'),_0x7423b0[_0x135d0d(0x104)]),_0x34624d[_0x135d0d(0x11c)](0x190)['json']({'error':_0x135d0d(0x10d)});if(_0x4eb494[_0x135d0d(0x120)]!==_0x135d0d(0x108))return console[_0x135d0d(0x126)]('‚ÑπÔ∏è\x20Ignoring\x20non-deposit\x20MaxPara\x20webhook'),_0x34624d[_0x135d0d(0x11c)](0xc8)['json']({'message':_0x135d0d(0x107)});console[_0x135d0d(0x126)](_0x135d0d(0x10a)+_0x4eb494[_0x135d0d(0x120)]+_0x135d0d(0x11e)+_0x4eb494[_0x135d0d(0x103)]),console[_0x135d0d(0x126)](_0x135d0d(0x100)+_0x4eb494[_0x135d0d(0x11c)]+_0x135d0d(0x114)+_0x4eb494['amount']),await this[_0x135d0d(0x10f)]['processMaxParaWebhook'](_0x4eb494),console[_0x135d0d(0x126)](_0x135d0d(0x119)),_0x34624d[_0x135d0d(0x11c)](0xc8)['json']({'message':_0x135d0d(0x113),'status':_0x135d0d(0x10b)});}catch(_0x552ab2){console['error']('‚ùå\x20Error\x20processing\x20MaxPara\x20webhook:',_0x552ab2),loggerService_1['loggerService'][_0x135d0d(0x12d)](_0x135d0d(0xfd),_0x552ab2,_0x7423b0[_0x135d0d(0x104)]),_0x34624d['status'](0x1f4)['json']({'error':_0x135d0d(0x124),'message':_0x135d0d(0x11f)});}}async['handleTest'](_0x4e494b,_0x3182fc){const _0x2beaf4=a10_0x57d748;console['log']('üß™\x20MaxPara\x20test\x20endpoint\x20called');try{const _0x1fc01a={'id':0x7b,'username':_0x2beaf4(0xfc),'user_id':'test_payment_123','amount':0x64,'status':_0x2beaf4(0x11d),'token':_0x2beaf4(0x101),'method':_0x2beaf4(0x10c),'date':{'date':new Date()['toISOString'](),'timezone_type':0x3,'timezone':'UTC'},'type':_0x2beaf4(0x108),'message':null};console['log'](_0x2beaf4(0x12e),_0x1fc01a),await this['webhookService']['processMaxParaWebhook'](_0x1fc01a),_0x3182fc[_0x2beaf4(0x11c)](0xc8)[_0x2beaf4(0x102)]({'message':'Test\x20webhook\x20processed\x20successfully','testData':_0x1fc01a});}catch(_0x547c2a){console['error'](_0x2beaf4(0x12c),_0x547c2a),_0x3182fc[_0x2beaf4(0x11c)](0x1f4)[_0x2beaf4(0x102)]({'error':_0x2beaf4(0x12a),'message':_0x547c2a instanceof Error?_0x547c2a[_0x2beaf4(0x117)]:_0x2beaf4(0x109)});}}}exports[a10_0x57d748(0xfe)]=MaxParaController;