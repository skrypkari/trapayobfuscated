'use strict';function a5_0x1b9b(){const _0xa28d5=['2000068pLydDT','status','usdt','Currency\x20rates\x20updated\x20successfully','568530cfbRCJ','convertCurrency','527973WQxVfv','6kOweiB','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','USDT','updateRates','5160460gspZyZ','864920woUyOh','json','70842YqyrDY','5WjHRSm','897642mvkcLg','../services/currencyService','CurrencyController','currencyService','toUpperCase','toLowerCase','48YzaSBs'];a5_0x1b9b=function(){return _0xa28d5;};return a5_0x1b9b();}function a5_0x1405(_0x54eda9,_0x21b455){const _0x1b9b79=a5_0x1b9b();return a5_0x1405=function(_0x140506,_0x365846){_0x140506=_0x140506-0x1c7;let _0x25632d=_0x1b9b79[_0x140506];return _0x25632d;},a5_0x1405(_0x54eda9,_0x21b455);}const a5_0x255ac2=a5_0x1405;(function(_0x1420b0,_0x5de45f){const _0x1c39c7=a5_0x1405,_0x1a07bf=_0x1420b0();while(!![]){try{const _0x57435e=-parseInt(_0x1c39c7(0x1d6))/0x1*(parseInt(_0x1c39c7(0x1dd))/0x2)+parseInt(_0x1c39c7(0x1d5))/0x3+-parseInt(_0x1c39c7(0x1db))/0x4+parseInt(_0x1c39c7(0x1c7))/0x5*(-parseInt(_0x1c39c7(0x1c8))/0x6)+-parseInt(_0x1c39c7(0x1cf))/0x7+-parseInt(_0x1c39c7(0x1ce))/0x8*(-parseInt(_0x1c39c7(0x1d3))/0x9)+parseInt(_0x1c39c7(0x1da))/0xa;if(_0x57435e===_0x5de45f)break;else _0x1a07bf['push'](_0x1a07bf['shift']());}catch(_0x22adec){_0x1a07bf['push'](_0x1a07bf['shift']());}}}(a5_0x1b9b,0x3287a));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a5_0x255ac2(0x1ca)]=void 0x0;const currencyService_1=require(a5_0x255ac2(0x1c9));class CurrencyController{constructor(){const _0x23bbe0=a5_0x255ac2;this['getRates']=async(_0x2dae82,_0x494578,_0x27d81d)=>{try{const _0x2565cb=await currencyService_1['currencyService']['getAllRates']();_0x494578['json']({'success':!![],'rates':_0x2565cb});}catch(_0x385be7){_0x27d81d(_0x385be7);}},this['getStatus']=async(_0x4aa61d,_0x575225,_0x1276f6)=>{const _0x823ad6=a5_0x1405;try{const _0x5851d8=await currencyService_1[_0x823ad6(0x1cb)]['getRatesStatus']();_0x575225[_0x823ad6(0x1dc)]({'success':!![],'status':_0x5851d8});}catch(_0x386708){_0x1276f6(_0x386708);}},this[_0x23bbe0(0x1d9)]=async(_0x55e127,_0x2f309c,_0x26e1d6)=>{const _0x406a02=_0x23bbe0;try{await currencyService_1[_0x406a02(0x1cb)]['updateCurrencyRates'](),_0x2f309c['json']({'success':!![],'message':_0x406a02(0x1d2)});}catch(_0x30cfa7){_0x26e1d6(_0x30cfa7);}},this[_0x23bbe0(0x1d4)]=async(_0x1cde24,_0x288844,_0x2889ad)=>{const _0x35094f=_0x23bbe0;try{const {amount:_0xe98097,fromCurrency:_0x504477,toCurrency:toCurrency=_0x35094f(0x1d1)}=_0x1cde24['body'];if(!_0xe98097||!_0x504477)return _0x288844[_0x35094f(0x1d0)](0x190)['json']({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x35094f(0x1cd)]()!==_0x35094f(0x1d1))return _0x288844[_0x35094f(0x1d0)](0x190)['json']({'success':![],'message':_0x35094f(0x1d7)});const _0x1e5f37=await currencyService_1[_0x35094f(0x1cb)]['convertToUSDT'](_0xe98097,_0x504477);_0x288844[_0x35094f(0x1dc)]({'success':!![],'result':{'originalAmount':_0xe98097,'fromCurrency':_0x504477[_0x35094f(0x1cc)](),'convertedAmount':_0x1e5f37,'toCurrency':_0x35094f(0x1d8)}});}catch(_0x10052e){_0x2889ad(_0x10052e);}};}}exports['CurrencyController']=CurrencyController;