'use strict';const a5_0x2857b6=a5_0x3534;(function(_0x13ff74,_0x227c61){const _0x797105=a5_0x3534,_0x2a64f0=_0x13ff74();while(!![]){try{const _0x4e2b2f=parseInt(_0x797105(0x7a))/0x1+-parseInt(_0x797105(0x8b))/0x2*(-parseInt(_0x797105(0x80))/0x3)+-parseInt(_0x797105(0x79))/0x4+-parseInt(_0x797105(0x81))/0x5*(parseInt(_0x797105(0x87))/0x6)+-parseInt(_0x797105(0x84))/0x7*(-parseInt(_0x797105(0x8a))/0x8)+-parseInt(_0x797105(0x7b))/0x9*(parseInt(_0x797105(0x7c))/0xa)+-parseInt(_0x797105(0x7e))/0xb;if(_0x4e2b2f===_0x227c61)break;else _0x2a64f0['push'](_0x2a64f0['shift']());}catch(_0x4c43f4){_0x2a64f0['push'](_0x2a64f0['shift']());}}}(a5_0x4215,0x59579));Object[a5_0x2857b6(0x8c)](exports,a5_0x2857b6(0x7f),{'value':!![]}),exports['CurrencyController']=void 0x0;function a5_0x3534(_0x42651f,_0x1cb95d){const _0x42150f=a5_0x4215();return a5_0x3534=function(_0x353412,_0x10269f){_0x353412=_0x353412-0x76;let _0x409075=_0x42150f[_0x353412];return _0x409075;},a5_0x3534(_0x42651f,_0x1cb95d);}const currencyService_1=require('../services/currencyService');function a5_0x4215(){const _0x127e32=['__esModule','195417dibQBk','310tgWHic','getStatus','USDT','162491jSjvJm','status','updateCurrencyRates','26262pwsQMr','Currency\x20rates\x20updated\x20successfully','Amount\x20and\x20fromCurrency\x20are\x20required','104gpBqzg','10jRaQTr','defineProperty','usdt','body','json','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','toLowerCase','updateRates','469044ESxYFs','504689VdXNJc','117VlwZhN','280010uyoAur','currencyService','149160Seinyp'];a5_0x4215=function(){return _0x127e32;};return a5_0x4215();}class CurrencyController{constructor(){const _0x5e5227=a5_0x2857b6;this['getRates']=async(_0x5c8a02,_0x171353,_0x2b30ca)=>{const _0x31b7cd=a5_0x3534;try{const _0x2abfee=await currencyService_1[_0x31b7cd(0x7d)]['getAllRates']();_0x171353['json']({'success':!![],'rates':_0x2abfee});}catch(_0x22de18){_0x2b30ca(_0x22de18);}},this[_0x5e5227(0x82)]=async(_0x8895f1,_0x10078f,_0x148588)=>{const _0x4e7a36=_0x5e5227;try{const _0x31acce=await currencyService_1[_0x4e7a36(0x7d)]['getRatesStatus']();_0x10078f['json']({'success':!![],'status':_0x31acce});}catch(_0x3d9055){_0x148588(_0x3d9055);}},this[_0x5e5227(0x78)]=async(_0x56378e,_0x481788,_0xf7d252)=>{const _0x365892=_0x5e5227;try{await currencyService_1[_0x365892(0x7d)][_0x365892(0x86)](),_0x481788['json']({'success':!![],'message':_0x365892(0x88)});}catch(_0x3fdf99){_0xf7d252(_0x3fdf99);}},this['convertCurrency']=async(_0x2bec04,_0x36fc98,_0x469418)=>{const _0x2e77da=_0x5e5227;try{const {amount:_0x37b335,fromCurrency:_0x4e219b,toCurrency:toCurrency=_0x2e77da(0x8d)}=_0x2bec04[_0x2e77da(0x8e)];if(!_0x37b335||!_0x4e219b)return _0x36fc98[_0x2e77da(0x85)](0x190)[_0x2e77da(0x8f)]({'success':![],'message':_0x2e77da(0x89)});if(toCurrency[_0x2e77da(0x77)]()!==_0x2e77da(0x8d))return _0x36fc98[_0x2e77da(0x85)](0x190)[_0x2e77da(0x8f)]({'success':![],'message':_0x2e77da(0x76)});const _0x28b365=await currencyService_1[_0x2e77da(0x7d)]['convertToUSDT'](_0x37b335,_0x4e219b);_0x36fc98[_0x2e77da(0x8f)]({'success':!![],'result':{'originalAmount':_0x37b335,'fromCurrency':_0x4e219b['toUpperCase'](),'convertedAmount':_0x28b365,'toCurrency':_0x2e77da(0x83)}});}catch(_0x4ffc8b){_0x469418(_0x4ffc8b);}};}}exports['CurrencyController']=CurrencyController;