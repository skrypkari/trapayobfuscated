'use strict';const a5_0x4703ce=a5_0x221b;function a5_0x5957(){const _0xe36d55=['1734132RcldPq','currencyService','defineProperty','163167kKXpZk','getAllRates','7awjNoA','USDT','3539058watvba','status','CurrencyController','convertToUSDT','13764906RDPhMS','4368632rzvpKm','updateCurrencyRates','usdt','6yPWyRD','4472265JwvQXo','toUpperCase','body','__esModule','json','383611UsrEFX','../services/currencyService','updateRates','getRatesStatus','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'];a5_0x5957=function(){return _0xe36d55;};return a5_0x5957();}(function(_0x3455c8,_0x3ce7dc){const _0x488076=a5_0x221b,_0x3d0842=_0x3455c8();while(!![]){try{const _0x31791e=parseInt(_0x488076(0x1a5))/0x1+-parseInt(_0x488076(0x19f))/0x2*(parseInt(_0x488076(0x1ad))/0x3)+-parseInt(_0x488076(0x1aa))/0x4+-parseInt(_0x488076(0x1a0))/0x5+parseInt(_0x488076(0x1b1))/0x6+parseInt(_0x488076(0x1af))/0x7*(-parseInt(_0x488076(0x1b6))/0x8)+parseInt(_0x488076(0x1b5))/0x9;if(_0x31791e===_0x3ce7dc)break;else _0x3d0842['push'](_0x3d0842['shift']());}catch(_0x2191a9){_0x3d0842['push'](_0x3d0842['shift']());}}}(a5_0x5957,0x71af8));Object[a5_0x4703ce(0x1ac)](exports,a5_0x4703ce(0x1a3),{'value':!![]}),exports['CurrencyController']=void 0x0;const currencyService_1=require(a5_0x4703ce(0x1a6));function a5_0x221b(_0x5b5d26,_0x1e34ed){const _0x59572e=a5_0x5957();return a5_0x221b=function(_0x221be2,_0x1a711f){_0x221be2=_0x221be2-0x19f;let _0x2d46dc=_0x59572e[_0x221be2];return _0x2d46dc;},a5_0x221b(_0x5b5d26,_0x1e34ed);}class CurrencyController{constructor(){const _0x389aca=a5_0x4703ce;this['getRates']=async(_0x4a01cf,_0x48dc97,_0x34960d)=>{const _0x53ac4f=a5_0x221b;try{const _0x51e0b2=await currencyService_1['currencyService'][_0x53ac4f(0x1ae)]();_0x48dc97[_0x53ac4f(0x1a4)]({'success':!![],'rates':_0x51e0b2});}catch(_0x3aeeb8){_0x34960d(_0x3aeeb8);}},this['getStatus']=async(_0x57e76a,_0x2d7abc,_0x358d72)=>{const _0x284fba=a5_0x221b;try{const _0x1febcd=await currencyService_1[_0x284fba(0x1ab)][_0x284fba(0x1a8)]();_0x2d7abc[_0x284fba(0x1a4)]({'success':!![],'status':_0x1febcd});}catch(_0x84cbcd){_0x358d72(_0x84cbcd);}},this[_0x389aca(0x1a7)]=async(_0x2500ed,_0x4d72d8,_0x247022)=>{const _0x4864d7=_0x389aca;try{await currencyService_1['currencyService'][_0x4864d7(0x1b7)](),_0x4d72d8[_0x4864d7(0x1a4)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x1435d9){_0x247022(_0x1435d9);}},this['convertCurrency']=async(_0x197277,_0x691f80,_0x344eff)=>{const _0x3161cb=_0x389aca;try{const {amount:_0x1f6a04,fromCurrency:_0x48c148,toCurrency:toCurrency=_0x3161cb(0x1b8)}=_0x197277[_0x3161cb(0x1a2)];if(!_0x1f6a04||!_0x48c148)return _0x691f80[_0x3161cb(0x1b2)](0x190)[_0x3161cb(0x1a4)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency['toLowerCase']()!=='usdt')return _0x691f80['status'](0x190)['json']({'success':![],'message':_0x3161cb(0x1a9)});const _0xef175=await currencyService_1[_0x3161cb(0x1ab)][_0x3161cb(0x1b4)](_0x1f6a04,_0x48c148);_0x691f80[_0x3161cb(0x1a4)]({'success':!![],'result':{'originalAmount':_0x1f6a04,'fromCurrency':_0x48c148[_0x3161cb(0x1a1)](),'convertedAmount':_0xef175,'toCurrency':_0x3161cb(0x1b0)}});}catch(_0x3beaa6){_0x344eff(_0x3beaa6);}};}}exports[a5_0x4703ce(0x1b3)]=CurrencyController;