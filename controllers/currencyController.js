'use strict';function a5_0x5be0(_0x33ab3d,_0x27c7a8){const _0x52921c=a5_0x5292();return a5_0x5be0=function(_0x5be09b,_0x512e0c){_0x5be09b=_0x5be09b-0x122;let _0x240b3a=_0x52921c[_0x5be09b];return _0x240b3a;},a5_0x5be0(_0x33ab3d,_0x27c7a8);}const a5_0x5d34eb=a5_0x5be0;(function(_0x54a3a7,_0x26ab9b){const _0x2e0a92=a5_0x5be0,_0x1c04ba=_0x54a3a7();while(!![]){try{const _0x24baac=parseInt(_0x2e0a92(0x126))/0x1+parseInt(_0x2e0a92(0x136))/0x2*(parseInt(_0x2e0a92(0x123))/0x3)+-parseInt(_0x2e0a92(0x12d))/0x4*(parseInt(_0x2e0a92(0x137))/0x5)+parseInt(_0x2e0a92(0x125))/0x6*(parseInt(_0x2e0a92(0x138))/0x7)+parseInt(_0x2e0a92(0x133))/0x8+-parseInt(_0x2e0a92(0x127))/0x9*(-parseInt(_0x2e0a92(0x128))/0xa)+-parseInt(_0x2e0a92(0x12c))/0xb;if(_0x24baac===_0x26ab9b)break;else _0x1c04ba['push'](_0x1c04ba['shift']());}catch(_0x333988){_0x1c04ba['push'](_0x1c04ba['shift']());}}}(a5_0x5292,0xd166e));function a5_0x5292(){const _0x22f666=['json','getRates','32820975BuTKvb','108DIozfD','toUpperCase','convertCurrency','convertToUSDT','CurrencyController','getAllRates','1177120BWFXZm','status','__esModule','890tNexsT','18295jWkJKX','3269mVFNWy','currencyService','getStatus','getRatesStatus','4821sUalxy','body','20598dzsHNr','1092833nLfWuC','20583xZlUZk','1670JjlBtx','updateRates'];a5_0x5292=function(){return _0x22f666;};return a5_0x5292();}Object['defineProperty'](exports,a5_0x5d34eb(0x135),{'value':!![]}),exports[a5_0x5d34eb(0x131)]=void 0x0;const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x2d1ec9=a5_0x5d34eb;this[_0x2d1ec9(0x12b)]=async(_0x464132,_0x3092bf,_0x140e65)=>{const _0x5882f7=_0x2d1ec9;try{const _0x4284fb=await currencyService_1[_0x5882f7(0x139)][_0x5882f7(0x132)]();_0x3092bf[_0x5882f7(0x12a)]({'success':!![],'rates':_0x4284fb});}catch(_0x379021){_0x140e65(_0x379021);}},this[_0x2d1ec9(0x13a)]=async(_0x1a9f1d,_0x35321d,_0x55c92c)=>{const _0x571977=_0x2d1ec9;try{const _0x529356=await currencyService_1['currencyService'][_0x571977(0x122)]();_0x35321d[_0x571977(0x12a)]({'success':!![],'status':_0x529356});}catch(_0x38b1bd){_0x55c92c(_0x38b1bd);}},this[_0x2d1ec9(0x129)]=async(_0x35ca2d,_0x57c114,_0x11d49e)=>{const _0x50d030=_0x2d1ec9;try{await currencyService_1[_0x50d030(0x139)]['updateCurrencyRates'](),_0x57c114[_0x50d030(0x12a)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x383cb1){_0x11d49e(_0x383cb1);}},this[_0x2d1ec9(0x12f)]=async(_0x33d4f5,_0x5c30d0,_0x51e224)=>{const _0x2d7e33=_0x2d1ec9;try{const {amount:_0x489035,fromCurrency:_0x466ff5,toCurrency:toCurrency='usdt'}=_0x33d4f5[_0x2d7e33(0x124)];if(!_0x489035||!_0x466ff5)return _0x5c30d0[_0x2d7e33(0x134)](0x190)['json']({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency['toLowerCase']()!=='usdt')return _0x5c30d0[_0x2d7e33(0x134)](0x190)['json']({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0xdad03=await currencyService_1[_0x2d7e33(0x139)][_0x2d7e33(0x130)](_0x489035,_0x466ff5);_0x5c30d0['json']({'success':!![],'result':{'originalAmount':_0x489035,'fromCurrency':_0x466ff5[_0x2d7e33(0x12e)](),'convertedAmount':_0xdad03,'toCurrency':'USDT'}});}catch(_0x3172a0){_0x51e224(_0x3172a0);}};}}exports[a5_0x5d34eb(0x131)]=CurrencyController;