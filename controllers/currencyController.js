'use strict';function a5_0x4823(){const _0x1996df=['json','6485742MAWVAU','1956507bFMmHL','getAllRates','4gZtXRn','4757090KbjxGY','toLowerCase','3930TEdIOU','8KdlxJs','155pLKvgW','getStatus','toUpperCase','CurrencyController','8021853pNdQWd','50RfVGkS','__esModule','Amount\x20and\x20fromCurrency\x20are\x20required','convertCurrency','getRatesStatus','currencyService','Currency\x20rates\x20updated\x20successfully','36850913qzrOWy','defineProperty','1370871lZmlDz','usdt','convertToUSDT'];a5_0x4823=function(){return _0x1996df;};return a5_0x4823();}const a5_0x24a785=a5_0x4754;(function(_0x28f6f1,_0xefbf9f){const _0x25555b=a5_0x4754,_0x31f475=_0x28f6f1();while(!![]){try{const _0x23af94=-parseInt(_0x25555b(0x85))/0x1*(-parseInt(_0x25555b(0x83))/0x2)+parseInt(_0x25555b(0x7e))/0x3*(-parseInt(_0x25555b(0x80))/0x4)+-parseInt(_0x25555b(0x81))/0x5+-parseInt(_0x25555b(0x7d))/0x6+-parseInt(_0x25555b(0x89))/0x7*(parseInt(_0x25555b(0x84))/0x8)+parseInt(_0x25555b(0x79))/0x9*(parseInt(_0x25555b(0x8a))/0xa)+parseInt(_0x25555b(0x77))/0xb;if(_0x23af94===_0xefbf9f)break;else _0x31f475['push'](_0x31f475['shift']());}catch(_0x1d1d56){_0x31f475['push'](_0x31f475['shift']());}}}(a5_0x4823,0x8f002));Object[a5_0x24a785(0x78)](exports,a5_0x24a785(0x8b),{'value':!![]}),exports[a5_0x24a785(0x88)]=void 0x0;function a5_0x4754(_0x44c3b0,_0x90dd40){_0x44c3b0=_0x44c3b0-0x73;const _0x482383=a5_0x4823();let _0x475442=_0x482383[_0x44c3b0];return _0x475442;}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x973d6a=a5_0x24a785;this['getRates']=async(_0x54b7bb,_0xdde049,_0x48530d)=>{const _0x25f47d=a5_0x4754;try{const _0xd811bf=await currencyService_1['currencyService'][_0x25f47d(0x7f)]();_0xdde049[_0x25f47d(0x7c)]({'success':!![],'rates':_0xd811bf});}catch(_0x69be4d){_0x48530d(_0x69be4d);}},this[_0x973d6a(0x86)]=async(_0x2cf196,_0x3275cb,_0x19aa03)=>{const _0xf5919d=_0x973d6a;try{const _0xe5ed2=await currencyService_1[_0xf5919d(0x75)][_0xf5919d(0x74)]();_0x3275cb[_0xf5919d(0x7c)]({'success':!![],'status':_0xe5ed2});}catch(_0x185482){_0x19aa03(_0x185482);}},this['updateRates']=async(_0x4629c2,_0x4bd132,_0x118923)=>{const _0x446505=_0x973d6a;try{await currencyService_1[_0x446505(0x75)]['updateCurrencyRates'](),_0x4bd132[_0x446505(0x7c)]({'success':!![],'message':_0x446505(0x76)});}catch(_0x48deae){_0x118923(_0x48deae);}},this[_0x973d6a(0x73)]=async(_0x33a432,_0x5c248c,_0xbd0ab)=>{const _0x16b6ea=_0x973d6a;try{const {amount:_0x579a10,fromCurrency:_0x688174,toCurrency:toCurrency=_0x16b6ea(0x7a)}=_0x33a432['body'];if(!_0x579a10||!_0x688174)return _0x5c248c['status'](0x190)[_0x16b6ea(0x7c)]({'success':![],'message':_0x16b6ea(0x8c)});if(toCurrency[_0x16b6ea(0x82)]()!==_0x16b6ea(0x7a))return _0x5c248c['status'](0x190)['json']({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x27d443=await currencyService_1[_0x16b6ea(0x75)][_0x16b6ea(0x7b)](_0x579a10,_0x688174);_0x5c248c['json']({'success':!![],'result':{'originalAmount':_0x579a10,'fromCurrency':_0x688174[_0x16b6ea(0x87)](),'convertedAmount':_0x27d443,'toCurrency':'USDT'}});}catch(_0x128a98){_0xbd0ab(_0x128a98);}};}}exports[a5_0x24a785(0x88)]=CurrencyController;