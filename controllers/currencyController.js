'use strict';function a5_0x1fe6(){const _0x45d22d=['9614560bMPYxS','__esModule','json','868599dQIFKu','1684390GuiUMt','7179272OEmfmK','../services/currencyService','convertCurrency','status','USDT','72zVJAdI','6UEDQiM','6365429LRVavm','Currency\x20rates\x20updated\x20successfully','120SeyxBl','getRatesStatus','convertToUSDT','updateCurrencyRates','getRates','75494vVEGFh','currencyService','CurrencyController','3520022WFqmUZ','usdt','9ntRBKR','12fKOpoc'];a5_0x1fe6=function(){return _0x45d22d;};return a5_0x1fe6();}const a5_0x1c6757=a5_0x502b;(function(_0x5c7350,_0x18f47f){const _0xfe0529=a5_0x502b,_0x584e17=_0x5c7350();while(!![]){try{const _0x2f02ff=parseInt(_0xfe0529(0x1aa))/0x1+-parseInt(_0xfe0529(0x1a0))/0x2*(-parseInt(_0xfe0529(0x1b1))/0x3)+-parseInt(_0xfe0529(0x1a6))/0x4*(-parseInt(_0xfe0529(0x1ab))/0x5)+-parseInt(_0xfe0529(0x198))/0x6*(-parseInt(_0xfe0529(0x199))/0x7)+-parseInt(_0xfe0529(0x1ac))/0x8+-parseInt(_0xfe0529(0x1a5))/0x9*(-parseInt(_0xfe0529(0x1a7))/0xa)+-parseInt(_0xfe0529(0x1a3))/0xb*(parseInt(_0xfe0529(0x19b))/0xc);if(_0x2f02ff===_0x18f47f)break;else _0x584e17['push'](_0x584e17['shift']());}catch(_0x1a426a){_0x584e17['push'](_0x584e17['shift']());}}}(a5_0x1fe6,0x885c7));function a5_0x502b(_0xe28fd9,_0x168963){const _0x1fe67f=a5_0x1fe6();return a5_0x502b=function(_0x502bb2,_0x2a42a6){_0x502bb2=_0x502bb2-0x198;let _0x36d7aa=_0x1fe67f[_0x502bb2];return _0x36d7aa;},a5_0x502b(_0xe28fd9,_0x168963);}Object['defineProperty'](exports,a5_0x1c6757(0x1a8),{'value':!![]}),exports[a5_0x1c6757(0x1a2)]=void 0x0;const currencyService_1=require(a5_0x1c6757(0x1ad));class CurrencyController{constructor(){const _0x1f7e2c=a5_0x1c6757;this[_0x1f7e2c(0x19f)]=async(_0x3e41f7,_0x1ca071,_0x3986f2)=>{const _0x356079=_0x1f7e2c;try{const _0x2e4e7a=await currencyService_1[_0x356079(0x1a1)]['getAllRates']();_0x1ca071[_0x356079(0x1a9)]({'success':!![],'rates':_0x2e4e7a});}catch(_0x54ba98){_0x3986f2(_0x54ba98);}},this['getStatus']=async(_0x96efcb,_0x19cde3,_0x56f044)=>{const _0x4474da=_0x1f7e2c;try{const _0x7ce20a=await currencyService_1[_0x4474da(0x1a1)][_0x4474da(0x19c)]();_0x19cde3['json']({'success':!![],'status':_0x7ce20a});}catch(_0x3cd801){_0x56f044(_0x3cd801);}},this['updateRates']=async(_0x3fcee0,_0x5d4b50,_0x25715a)=>{const _0x1e5949=_0x1f7e2c;try{await currencyService_1['currencyService'][_0x1e5949(0x19e)](),_0x5d4b50[_0x1e5949(0x1a9)]({'success':!![],'message':_0x1e5949(0x19a)});}catch(_0x62cb19){_0x25715a(_0x62cb19);}},this[_0x1f7e2c(0x1ae)]=async(_0x2ece61,_0x9fa9f0,_0x46a199)=>{const _0x1cfe45=_0x1f7e2c;try{const {amount:_0x380adb,fromCurrency:_0x385b75,toCurrency:toCurrency=_0x1cfe45(0x1a4)}=_0x2ece61['body'];if(!_0x380adb||!_0x385b75)return _0x9fa9f0['status'](0x190)[_0x1cfe45(0x1a9)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency['toLowerCase']()!=='usdt')return _0x9fa9f0[_0x1cfe45(0x1af)](0x190)['json']({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x433f2a=await currencyService_1[_0x1cfe45(0x1a1)][_0x1cfe45(0x19d)](_0x380adb,_0x385b75);_0x9fa9f0[_0x1cfe45(0x1a9)]({'success':!![],'result':{'originalAmount':_0x380adb,'fromCurrency':_0x385b75['toUpperCase'](),'convertedAmount':_0x433f2a,'toCurrency':_0x1cfe45(0x1b0)}});}catch(_0x56098d){_0x46a199(_0x56098d);}};}}exports['CurrencyController']=CurrencyController;