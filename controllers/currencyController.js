'use strict';const a5_0x4fbbb3=a5_0x2304;function a5_0x2304(_0x552985,_0x7b0b28){const _0x10791f=a5_0x1079();return a5_0x2304=function(_0x230403,_0x5705d8){_0x230403=_0x230403-0x7f;let _0x57d3ac=_0x10791f[_0x230403];return _0x57d3ac;},a5_0x2304(_0x552985,_0x7b0b28);}(function(_0x43ae3b,_0x4fb3a4){const _0x57093d=a5_0x2304,_0x2035c2=_0x43ae3b();while(!![]){try{const _0x4e0e0a=parseInt(_0x57093d(0x8e))/0x1*(-parseInt(_0x57093d(0x82))/0x2)+parseInt(_0x57093d(0x8d))/0x3+-parseInt(_0x57093d(0x88))/0x4*(-parseInt(_0x57093d(0x94))/0x5)+parseInt(_0x57093d(0x7f))/0x6*(parseInt(_0x57093d(0x8c))/0x7)+-parseInt(_0x57093d(0x93))/0x8+parseInt(_0x57093d(0x96))/0x9*(parseInt(_0x57093d(0x8a))/0xa)+-parseInt(_0x57093d(0x89))/0xb;if(_0x4e0e0a===_0x4fb3a4)break;else _0x2035c2['push'](_0x2035c2['shift']());}catch(_0x556b60){_0x2035c2['push'](_0x2035c2['shift']());}}}(a5_0x1079,0x7525f));function a5_0x1079(){const _0x3edd8c=['521270onxdXo','body','7maKPcY','1597299VWynly','2vNzPtd','json','getAllRates','getRates','updateRates','6773928AAmTAr','115gCMoHZ','status','45mTGeMC','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','4205346sRgUtG','updateCurrencyRates','currencyService','329956AgvJHh','toUpperCase','USDT','../services/currencyService','CurrencyController','__esModule','54428aLgbpY','1654224WhMVkV'];a5_0x1079=function(){return _0x3edd8c;};return a5_0x1079();}Object['defineProperty'](exports,a5_0x4fbbb3(0x87),{'value':!![]}),exports['CurrencyController']=void 0x0;const currencyService_1=require(a5_0x4fbbb3(0x85));class CurrencyController{constructor(){const _0x501c88=a5_0x4fbbb3;this[_0x501c88(0x91)]=async(_0x1b5c00,_0x5bb611,_0x4a0297)=>{const _0x5235ff=_0x501c88;try{const _0x487d08=await currencyService_1[_0x5235ff(0x81)][_0x5235ff(0x90)]();_0x5bb611['json']({'success':!![],'rates':_0x487d08});}catch(_0x259612){_0x4a0297(_0x259612);}},this['getStatus']=async(_0x45503a,_0x18d38e,_0x7dc6ed)=>{const _0x40cfbb=_0x501c88;try{const _0xf2ba3d=await currencyService_1[_0x40cfbb(0x81)]['getRatesStatus']();_0x18d38e[_0x40cfbb(0x8f)]({'success':!![],'status':_0xf2ba3d});}catch(_0x21f82e){_0x7dc6ed(_0x21f82e);}},this[_0x501c88(0x92)]=async(_0x1871aa,_0x2f5ba8,_0x159742)=>{const _0x29ed9c=_0x501c88;try{await currencyService_1[_0x29ed9c(0x81)][_0x29ed9c(0x80)](),_0x2f5ba8['json']({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x10bc85){_0x159742(_0x10bc85);}},this['convertCurrency']=async(_0x8aa7c2,_0x32f8fd,_0x1c3a65)=>{const _0x24107c=_0x501c88;try{const {amount:_0x25c76d,fromCurrency:_0x23b3ae,toCurrency:toCurrency='usdt'}=_0x8aa7c2[_0x24107c(0x8b)];if(!_0x25c76d||!_0x23b3ae)return _0x32f8fd[_0x24107c(0x95)](0x190)['json']({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency['toLowerCase']()!=='usdt')return _0x32f8fd['status'](0x190)[_0x24107c(0x8f)]({'success':![],'message':_0x24107c(0x97)});const _0x5939c3=await currencyService_1[_0x24107c(0x81)]['convertToUSDT'](_0x25c76d,_0x23b3ae);_0x32f8fd[_0x24107c(0x8f)]({'success':!![],'result':{'originalAmount':_0x25c76d,'fromCurrency':_0x23b3ae[_0x24107c(0x83)](),'convertedAmount':_0x5939c3,'toCurrency':_0x24107c(0x84)}});}catch(_0x29ce6e){_0x1c3a65(_0x29ce6e);}};}}exports[a5_0x4fbbb3(0x86)]=CurrencyController;