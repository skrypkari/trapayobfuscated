'use strict';function a5_0x2def(_0x1dd5ab,_0x2d3543){const _0x4c3ad0=a5_0x4c3a();return a5_0x2def=function(_0x2def57,_0x223c68){_0x2def57=_0x2def57-0xf6;let _0x4d233e=_0x4c3ad0[_0x2def57];return _0x4d233e;},a5_0x2def(_0x1dd5ab,_0x2d3543);}const a5_0x460219=a5_0x2def;(function(_0x36e70a,_0x94887d){const _0x482e3c=a5_0x2def,_0x12f439=_0x36e70a();while(!![]){try{const _0x18de5b=-parseInt(_0x482e3c(0x10f))/0x1+-parseInt(_0x482e3c(0x10e))/0x2*(parseInt(_0x482e3c(0x10c))/0x3)+parseInt(_0x482e3c(0x113))/0x4*(-parseInt(_0x482e3c(0x107))/0x5)+-parseInt(_0x482e3c(0xf7))/0x6*(parseInt(_0x482e3c(0xfe))/0x7)+-parseInt(_0x482e3c(0x111))/0x8+parseInt(_0x482e3c(0xff))/0x9*(parseInt(_0x482e3c(0x101))/0xa)+parseInt(_0x482e3c(0xfd))/0xb;if(_0x18de5b===_0x94887d)break;else _0x12f439['push'](_0x12f439['shift']());}catch(_0x388328){_0x12f439['push'](_0x12f439['shift']());}}}(a5_0x4c3a,0x19077));Object[a5_0x460219(0x10a)](exports,a5_0x460219(0xf9),{'value':!![]}),exports[a5_0x460219(0x102)]=void 0x0;function a5_0x4c3a(){const _0x1d9a7e=['usdt','defineProperty','toUpperCase','15YgZNpv','getAllRates','19466IQJvcR','79380QuFQDb','status','471184YcTeBC','updateRates','28yLlFkc','USDT','302448rtftXb','json','__esModule','body','toLowerCase','Amount\x20and\x20fromCurrency\x20are\x20required','5225341jVcpnY','21YfOrvt','18bPHTKd','getRatesStatus','146390PAQGKs','CurrencyController','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','currencyService','getRates','getStatus','45445cXyEDa','updateCurrencyRates'];a5_0x4c3a=function(){return _0x1d9a7e;};return a5_0x4c3a();}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x92ecb7=a5_0x460219;this[_0x92ecb7(0x105)]=async(_0x5ad4e1,_0x14c5b1,_0x2d6893)=>{const _0x317c50=_0x92ecb7;try{const _0xa06351=await currencyService_1[_0x317c50(0x104)][_0x317c50(0x10d)]();_0x14c5b1['json']({'success':!![],'rates':_0xa06351});}catch(_0x55d026){_0x2d6893(_0x55d026);}},this[_0x92ecb7(0x106)]=async(_0x3a94de,_0xea065e,_0x597ffb)=>{const _0x521468=_0x92ecb7;try{const _0x2976d0=await currencyService_1[_0x521468(0x104)][_0x521468(0x100)]();_0xea065e[_0x521468(0xf8)]({'success':!![],'status':_0x2976d0});}catch(_0x5be65f){_0x597ffb(_0x5be65f);}},this[_0x92ecb7(0x112)]=async(_0x39290d,_0x3dea02,_0x47d9af)=>{const _0x39ffdd=_0x92ecb7;try{await currencyService_1[_0x39ffdd(0x104)][_0x39ffdd(0x108)](),_0x3dea02['json']({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x13abb3){_0x47d9af(_0x13abb3);}},this['convertCurrency']=async(_0x4aa869,_0xb71255,_0x3b97c5)=>{const _0x1f4555=_0x92ecb7;try{const {amount:_0x4f2bf6,fromCurrency:_0x154800,toCurrency:toCurrency=_0x1f4555(0x109)}=_0x4aa869[_0x1f4555(0xfa)];if(!_0x4f2bf6||!_0x154800)return _0xb71255[_0x1f4555(0x110)](0x190)['json']({'success':![],'message':_0x1f4555(0xfc)});if(toCurrency[_0x1f4555(0xfb)]()!==_0x1f4555(0x109))return _0xb71255[_0x1f4555(0x110)](0x190)[_0x1f4555(0xf8)]({'success':![],'message':_0x1f4555(0x103)});const _0x2482cf=await currencyService_1[_0x1f4555(0x104)]['convertToUSDT'](_0x4f2bf6,_0x154800);_0xb71255['json']({'success':!![],'result':{'originalAmount':_0x4f2bf6,'fromCurrency':_0x154800[_0x1f4555(0x10b)](),'convertedAmount':_0x2482cf,'toCurrency':_0x1f4555(0xf6)}});}catch(_0x3e6f46){_0x3b97c5(_0x3e6f46);}};}}exports[a5_0x460219(0x102)]=CurrencyController;