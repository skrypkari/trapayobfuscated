'use strict';const a6_0x3465bd=a6_0x147b;function a6_0x4a2d(){const _0x1e4b7=['2583nLdAbX','toUpperCase','getRatesStatus','status','USDT','218355ofoCMP','Amount\x20and\x20fromCurrency\x20are\x20required','13850VXRSxJ','updateRates','getAllRates','getStatus','1351aYKhjv','17322EWueDg','toLowerCase','7880424AbMxQP','usdt','defineProperty','../services/currencyService','17303352vGuxPK','773814BZyIQc','json','24ztDLLQ','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','Currency\x20rates\x20updated\x20successfully','convertToUSDT','421046mvzfpb','body','__esModule','currencyService','convertCurrency','92eiUNXw','CurrencyController','11QddOac'];a6_0x4a2d=function(){return _0x1e4b7;};return a6_0x4a2d();}function a6_0x147b(_0x9e4250,_0x56e7b5){_0x9e4250=_0x9e4250-0x15a;const _0x4a2d8a=a6_0x4a2d();let _0x147b1c=_0x4a2d8a[_0x9e4250];return _0x147b1c;}(function(_0x2afbf0,_0x5b779a){const _0x240ece=a6_0x147b,_0x1e8b8f=_0x2afbf0();while(!![]){try{const _0x2286dc=parseInt(_0x240ece(0x167))/0x1+parseInt(_0x240ece(0x16d))/0x2*(parseInt(_0x240ece(0x169))/0x3)+-parseInt(_0x240ece(0x172))/0x4*(parseInt(_0x240ece(0x17a))/0x5)+-parseInt(_0x240ece(0x160))/0x6*(parseInt(_0x240ece(0x15f))/0x7)+-parseInt(_0x240ece(0x162))/0x8+-parseInt(_0x240ece(0x175))/0x9*(parseInt(_0x240ece(0x15b))/0xa)+parseInt(_0x240ece(0x174))/0xb*(parseInt(_0x240ece(0x166))/0xc);if(_0x2286dc===_0x5b779a)break;else _0x1e8b8f['push'](_0x1e8b8f['shift']());}catch(_0x250236){_0x1e8b8f['push'](_0x1e8b8f['shift']());}}}(a6_0x4a2d,0xe957c));Object[a6_0x3465bd(0x164)](exports,a6_0x3465bd(0x16f),{'value':!![]}),exports[a6_0x3465bd(0x173)]=void 0x0;const currencyService_1=require(a6_0x3465bd(0x165));class CurrencyController{constructor(){const _0x5ed047=a6_0x3465bd;this['getRates']=async(_0x2d3bd5,_0x290208,_0x5a5e34)=>{const _0xae3405=a6_0x147b;try{const _0x1f8a92=await currencyService_1[_0xae3405(0x170)][_0xae3405(0x15d)]();_0x290208[_0xae3405(0x168)]({'success':!![],'rates':_0x1f8a92});}catch(_0x1a4c22){_0x5a5e34(_0x1a4c22);}},this[_0x5ed047(0x15e)]=async(_0x4db17b,_0x48feeb,_0x178400)=>{const _0x294fbd=_0x5ed047;try{const _0x1478a8=await currencyService_1[_0x294fbd(0x170)][_0x294fbd(0x177)]();_0x48feeb[_0x294fbd(0x168)]({'success':!![],'status':_0x1478a8});}catch(_0x209f19){_0x178400(_0x209f19);}},this[_0x5ed047(0x15c)]=async(_0x1b8479,_0x269edf,_0x4a3c74)=>{const _0x29a13c=_0x5ed047;try{await currencyService_1[_0x29a13c(0x170)]['updateCurrencyRates'](),_0x269edf['json']({'success':!![],'message':_0x29a13c(0x16b)});}catch(_0x1cda39){_0x4a3c74(_0x1cda39);}},this[_0x5ed047(0x171)]=async(_0x548ccf,_0x9368f6,_0xacb03d)=>{const _0x1307f6=_0x5ed047;try{const {amount:_0x5a27b2,fromCurrency:_0x32b1df,toCurrency:toCurrency=_0x1307f6(0x163)}=_0x548ccf[_0x1307f6(0x16e)];if(!_0x5a27b2||!_0x32b1df)return _0x9368f6['status'](0x190)[_0x1307f6(0x168)]({'success':![],'message':_0x1307f6(0x15a)});if(toCurrency[_0x1307f6(0x161)]()!=='usdt')return _0x9368f6[_0x1307f6(0x178)](0x190)[_0x1307f6(0x168)]({'success':![],'message':_0x1307f6(0x16a)});const _0x27cc26=await currencyService_1[_0x1307f6(0x170)][_0x1307f6(0x16c)](_0x5a27b2,_0x32b1df);_0x9368f6[_0x1307f6(0x168)]({'success':!![],'result':{'originalAmount':_0x5a27b2,'fromCurrency':_0x32b1df[_0x1307f6(0x176)](),'convertedAmount':_0x27cc26,'toCurrency':_0x1307f6(0x179)}});}catch(_0x58571b){_0xacb03d(_0x58571b);}};}}exports[a6_0x3465bd(0x173)]=CurrencyController;