'use strict';const a6_0x3ba76d=a6_0x2fa4;function a6_0x2fa4(_0x15bb85,_0x586648){_0x15bb85=_0x15bb85-0x80;const _0x4a7a72=a6_0x4a7a();let _0x2fa475=_0x4a7a72[_0x15bb85];return _0x2fa475;}function a6_0x4a7a(){const _0x1136da=['CurrencyController','1268736UenzYC','1003282bUXjxV','getRatesStatus','32517nhoFtz','status','defineProperty','USDT','body','getStatus','5391TTfvyY','Amount\x20and\x20fromCurrency\x20are\x20required','usdt','currencyService','getRates','530PchTkb','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','getAllRates','json','Currency\x20rates\x20updated\x20successfully','updateCurrencyRates','1910upYuTx','329852dYmQLL','588SeeRlp','3270fcpiZG','updateRates','867xPNmhc','toLowerCase'];a6_0x4a7a=function(){return _0x1136da;};return a6_0x4a7a();}(function(_0x2169b0,_0x4faf25){const _0x2cc3c3=a6_0x2fa4,_0x16b226=_0x2169b0();while(!![]){try{const _0x508856=parseInt(_0x2cc3c3(0x82))/0x1+-parseInt(_0x2cc3c3(0x8d))/0x2*(parseInt(_0x2cc3c3(0x98))/0x3)+parseInt(_0x2cc3c3(0x94))/0x4+-parseInt(_0x2cc3c3(0x96))/0x5*(parseInt(_0x2cc3c3(0x95))/0x6)+-parseInt(_0x2cc3c3(0x80))/0x7+parseInt(_0x2cc3c3(0x9b))/0x8+-parseInt(_0x2cc3c3(0x88))/0x9*(-parseInt(_0x2cc3c3(0x93))/0xa);if(_0x508856===_0x4faf25)break;else _0x16b226['push'](_0x16b226['shift']());}catch(_0x5b23b8){_0x16b226['push'](_0x16b226['shift']());}}}(a6_0x4a7a,0x1962a));Object[a6_0x3ba76d(0x84)](exports,'__esModule',{'value':!![]}),exports[a6_0x3ba76d(0x9a)]=void 0x0;const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x319035=a6_0x3ba76d;this[_0x319035(0x8c)]=async(_0x29c6c5,_0x3430ff,_0x2bf4ef)=>{const _0x5d60f9=_0x319035;try{const _0x2cee01=await currencyService_1[_0x5d60f9(0x8b)][_0x5d60f9(0x8f)]();_0x3430ff[_0x5d60f9(0x90)]({'success':!![],'rates':_0x2cee01});}catch(_0x371aab){_0x2bf4ef(_0x371aab);}},this[_0x319035(0x87)]=async(_0x555a84,_0x46fcaf,_0x1e81ee)=>{const _0x559a12=_0x319035;try{const _0xdd0b4e=await currencyService_1[_0x559a12(0x8b)][_0x559a12(0x81)]();_0x46fcaf[_0x559a12(0x90)]({'success':!![],'status':_0xdd0b4e});}catch(_0x4895ab){_0x1e81ee(_0x4895ab);}},this[_0x319035(0x97)]=async(_0x5c0d3f,_0x59e111,_0x28a419)=>{const _0x3d3762=_0x319035;try{await currencyService_1['currencyService'][_0x3d3762(0x92)](),_0x59e111[_0x3d3762(0x90)]({'success':!![],'message':_0x3d3762(0x91)});}catch(_0x193f99){_0x28a419(_0x193f99);}},this['convertCurrency']=async(_0x4b8e1d,_0x40afb5,_0x554509)=>{const _0x5e378a=_0x319035;try{const {amount:_0x3dd75c,fromCurrency:_0x525e42,toCurrency:toCurrency=_0x5e378a(0x8a)}=_0x4b8e1d[_0x5e378a(0x86)];if(!_0x3dd75c||!_0x525e42)return _0x40afb5[_0x5e378a(0x83)](0x190)[_0x5e378a(0x90)]({'success':![],'message':_0x5e378a(0x89)});if(toCurrency[_0x5e378a(0x99)]()!=='usdt')return _0x40afb5['status'](0x190)[_0x5e378a(0x90)]({'success':![],'message':_0x5e378a(0x8e)});const _0x30cc44=await currencyService_1[_0x5e378a(0x8b)]['convertToUSDT'](_0x3dd75c,_0x525e42);_0x40afb5['json']({'success':!![],'result':{'originalAmount':_0x3dd75c,'fromCurrency':_0x525e42['toUpperCase'](),'convertedAmount':_0x30cc44,'toCurrency':_0x5e378a(0x85)}});}catch(_0x338825){_0x554509(_0x338825);}};}}exports[a6_0x3ba76d(0x9a)]=CurrencyController;