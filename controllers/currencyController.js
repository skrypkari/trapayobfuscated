'use strict';function a5_0x2528(){const _0x159705=['defineProperty','status','27553570qcJIOK','6252952SJAJij','16opPvGv','usdt','1438129YmLQuL','getRatesStatus','getStatus','CurrencyController','USDT','9KuhZOK','json','body','toUpperCase','5327958RNHcOr','507948sqQnrZ','currencyService','3494340eqhJFC','Currency\x20rates\x20updated\x20successfully','toLowerCase','../services/currencyService','getRates','50vQMPPY','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','61130DTrzTG','__esModule'];a5_0x2528=function(){return _0x159705;};return a5_0x2528();}const a5_0x5441a5=a5_0x490d;(function(_0x535478,_0x5ed399){const _0x1b1355=a5_0x490d,_0x5bf571=_0x535478();while(!![]){try{const _0x43a506=-parseInt(_0x1b1355(0x106))/0x1*(parseInt(_0x1b1355(0x104))/0x2)+parseInt(_0x1b1355(0x118))/0x3*(parseInt(_0x1b1355(0x10c))/0x4)+-parseInt(_0x1b1355(0xff))/0x5+-parseInt(_0x1b1355(0x117))/0x6+-parseInt(_0x1b1355(0x10e))/0x7+parseInt(_0x1b1355(0x10b))/0x8*(parseInt(_0x1b1355(0x113))/0x9)+parseInt(_0x1b1355(0x10a))/0xa;if(_0x43a506===_0x5ed399)break;else _0x5bf571['push'](_0x5bf571['shift']());}catch(_0x1ce340){_0x5bf571['push'](_0x5bf571['shift']());}}}(a5_0x2528,0xda2f2));function a5_0x490d(_0x4c33d8,_0xecb235){const _0x25283a=a5_0x2528();return a5_0x490d=function(_0x490d4f,_0x4ae1dd){_0x490d4f=_0x490d4f-0xff;let _0x219158=_0x25283a[_0x490d4f];return _0x219158;},a5_0x490d(_0x4c33d8,_0xecb235);}Object[a5_0x5441a5(0x108)](exports,a5_0x5441a5(0x107),{'value':!![]}),exports[a5_0x5441a5(0x111)]=void 0x0;const currencyService_1=require(a5_0x5441a5(0x102));class CurrencyController{constructor(){const _0x19bc55=a5_0x5441a5;this[_0x19bc55(0x103)]=async(_0x3ba482,_0x387802,_0x1b03ee)=>{const _0x297d9e=_0x19bc55;try{const _0x37752c=await currencyService_1[_0x297d9e(0x119)]['getAllRates']();_0x387802[_0x297d9e(0x114)]({'success':!![],'rates':_0x37752c});}catch(_0x18a197){_0x1b03ee(_0x18a197);}},this[_0x19bc55(0x110)]=async(_0x2c0ad2,_0x205b5a,_0x45a990)=>{const _0x543493=_0x19bc55;try{const _0x4beb53=await currencyService_1[_0x543493(0x119)][_0x543493(0x10f)]();_0x205b5a[_0x543493(0x114)]({'success':!![],'status':_0x4beb53});}catch(_0x1c7c38){_0x45a990(_0x1c7c38);}},this['updateRates']=async(_0x817163,_0x437db5,_0x42d16c)=>{const _0x5f1eae=_0x19bc55;try{await currencyService_1[_0x5f1eae(0x119)]['updateCurrencyRates'](),_0x437db5[_0x5f1eae(0x114)]({'success':!![],'message':_0x5f1eae(0x100)});}catch(_0x429cc6){_0x42d16c(_0x429cc6);}},this['convertCurrency']=async(_0x47cbd5,_0x3f7ab9,_0x368d35)=>{const _0x1ae26a=_0x19bc55;try{const {amount:_0x5b42b3,fromCurrency:_0x1f1b6f,toCurrency:toCurrency=_0x1ae26a(0x10d)}=_0x47cbd5[_0x1ae26a(0x115)];if(!_0x5b42b3||!_0x1f1b6f)return _0x3f7ab9[_0x1ae26a(0x109)](0x190)['json']({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x1ae26a(0x101)]()!==_0x1ae26a(0x10d))return _0x3f7ab9['status'](0x190)[_0x1ae26a(0x114)]({'success':![],'message':_0x1ae26a(0x105)});const _0xa02c98=await currencyService_1[_0x1ae26a(0x119)]['convertToUSDT'](_0x5b42b3,_0x1f1b6f);_0x3f7ab9[_0x1ae26a(0x114)]({'success':!![],'result':{'originalAmount':_0x5b42b3,'fromCurrency':_0x1f1b6f[_0x1ae26a(0x116)](),'convertedAmount':_0xa02c98,'toCurrency':_0x1ae26a(0x112)}});}catch(_0x500888){_0x368d35(_0x500888);}};}}exports['CurrencyController']=CurrencyController;