'use strict';function a5_0x311d(_0x1fdfa7,_0x20491c){const _0x27f357=a5_0x27f3();return a5_0x311d=function(_0x311d37,_0x54a837){_0x311d37=_0x311d37-0x1ad;let _0x3551c2=_0x27f357[_0x311d37];return _0x3551c2;},a5_0x311d(_0x1fdfa7,_0x20491c);}const a5_0x38c700=a5_0x311d;(function(_0x53dbfc,_0x47d67a){const _0x5531e3=a5_0x311d,_0x2734ad=_0x53dbfc();while(!![]){try{const _0x462c5b=-parseInt(_0x5531e3(0x1bd))/0x1*(parseInt(_0x5531e3(0x1bf))/0x2)+-parseInt(_0x5531e3(0x1b8))/0x3+parseInt(_0x5531e3(0x1b3))/0x4*(-parseInt(_0x5531e3(0x1c0))/0x5)+parseInt(_0x5531e3(0x1bc))/0x6*(parseInt(_0x5531e3(0x1c4))/0x7)+-parseInt(_0x5531e3(0x1b2))/0x8+parseInt(_0x5531e3(0x1b0))/0x9*(parseInt(_0x5531e3(0x1c3))/0xa)+parseInt(_0x5531e3(0x1be))/0xb;if(_0x462c5b===_0x47d67a)break;else _0x2734ad['push'](_0x2734ad['shift']());}catch(_0x53dccd){_0x2734ad['push'](_0x2734ad['shift']());}}}(a5_0x27f3,0xbf1a5));Object[a5_0x38c700(0x1c7)](exports,'__esModule',{'value':!![]}),exports[a5_0x38c700(0x1ba)]=void 0x0;const currencyService_1=require(a5_0x38c700(0x1af));function a5_0x27f3(){const _0x14f11a=['getRatesStatus','Amount\x20and\x20fromCurrency\x20are\x20required','getStatus','4072506tPjwSd','USDT','CurrencyController','currencyService','6TheycW','143oitUSM','44298309hUImAi','18736LLerKS','515ZnPbqe','usdt','Currency\x20rates\x20updated\x20successfully','1226570JNDKtR','6797546FAnUwp','json','updateCurrencyRates','defineProperty','status','getAllRates','toUpperCase','body','../services/currencyService','27weaLmJ','getRates','8068976spNLJP','34084amCREm','toLowerCase'];a5_0x27f3=function(){return _0x14f11a;};return a5_0x27f3();}class CurrencyController{constructor(){const _0x1e066c=a5_0x38c700;this[_0x1e066c(0x1b1)]=async(_0x42006e,_0x2d8add,_0x5251e2)=>{const _0xc83b42=_0x1e066c;try{const _0x5a27aa=await currencyService_1[_0xc83b42(0x1bb)][_0xc83b42(0x1c9)]();_0x2d8add[_0xc83b42(0x1c5)]({'success':!![],'rates':_0x5a27aa});}catch(_0x2873d1){_0x5251e2(_0x2873d1);}},this[_0x1e066c(0x1b7)]=async(_0xde2bde,_0xf3631b,_0x3eadf5)=>{const _0x10a36c=_0x1e066c;try{const _0x296b75=await currencyService_1['currencyService'][_0x10a36c(0x1b5)]();_0xf3631b['json']({'success':!![],'status':_0x296b75});}catch(_0x49bdfd){_0x3eadf5(_0x49bdfd);}},this['updateRates']=async(_0x2fea35,_0x185d2b,_0xa33452)=>{const _0x537529=_0x1e066c;try{await currencyService_1[_0x537529(0x1bb)][_0x537529(0x1c6)](),_0x185d2b['json']({'success':!![],'message':_0x537529(0x1c2)});}catch(_0x23ee1d){_0xa33452(_0x23ee1d);}},this['convertCurrency']=async(_0x4a6798,_0x2978ef,_0x6223b0)=>{const _0x5e8a5=_0x1e066c;try{const {amount:_0x4c96e2,fromCurrency:_0x1bbd50,toCurrency:toCurrency=_0x5e8a5(0x1c1)}=_0x4a6798[_0x5e8a5(0x1ae)];if(!_0x4c96e2||!_0x1bbd50)return _0x2978ef['status'](0x190)[_0x5e8a5(0x1c5)]({'success':![],'message':_0x5e8a5(0x1b6)});if(toCurrency[_0x5e8a5(0x1b4)]()!==_0x5e8a5(0x1c1))return _0x2978ef[_0x5e8a5(0x1c8)](0x190)[_0x5e8a5(0x1c5)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x4e0ea0=await currencyService_1[_0x5e8a5(0x1bb)]['convertToUSDT'](_0x4c96e2,_0x1bbd50);_0x2978ef[_0x5e8a5(0x1c5)]({'success':!![],'result':{'originalAmount':_0x4c96e2,'fromCurrency':_0x1bbd50[_0x5e8a5(0x1ad)](),'convertedAmount':_0x4e0ea0,'toCurrency':_0x5e8a5(0x1b9)}});}catch(_0x350664){_0x6223b0(_0x350664);}};}}exports[a5_0x38c700(0x1ba)]=CurrencyController;