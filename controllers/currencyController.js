'use strict';const a5_0x45708e=a5_0x3cf5;function a5_0x2746(){const _0xb6508d=['currencyService','getStatus','getRates','10pOBQZp','convertCurrency','json','convertToUSDT','updateCurrencyRates','body','usdt','Amount\x20and\x20fromCurrency\x20are\x20required','updateRates','59991oYhVHr','1841WNktDD','CurrencyController','787020RNEXnf','USDT','status','27442512IUPKTs','1259096RRCBXK','34904TdWZwz','toUpperCase','__esModule','31385oRHqwv','getRatesStatus','579618BXkBjd'];a5_0x2746=function(){return _0xb6508d;};return a5_0x2746();}(function(_0x9a78f1,_0x2fad7c){const _0x4c8425=a5_0x3cf5,_0x5314f2=_0x9a78f1();while(!![]){try{const _0x4c7ffc=parseInt(_0x4c8425(0x155))/0x1+-parseInt(_0x4c8425(0x151))/0x2+-parseInt(_0x4c8425(0x14a))/0x3+-parseInt(_0x4c8425(0x14d))/0x4+parseInt(_0x4c8425(0x15b))/0x5*(-parseInt(_0x4c8425(0x157))/0x6)+-parseInt(_0x4c8425(0x14b))/0x7*(parseInt(_0x4c8425(0x152))/0x8)+parseInt(_0x4c8425(0x150))/0x9;if(_0x4c7ffc===_0x2fad7c)break;else _0x5314f2['push'](_0x5314f2['shift']());}catch(_0x139af6){_0x5314f2['push'](_0x5314f2['shift']());}}}(a5_0x2746,0xda28a));Object['defineProperty'](exports,a5_0x45708e(0x154),{'value':!![]}),exports['CurrencyController']=void 0x0;function a5_0x3cf5(_0x2e020a,_0x1fd0d8){const _0x274679=a5_0x2746();return a5_0x3cf5=function(_0x3cf529,_0x2e7213){_0x3cf529=_0x3cf529-0x144;let _0x1004ea=_0x274679[_0x3cf529];return _0x1004ea;},a5_0x3cf5(_0x2e020a,_0x1fd0d8);}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x23921f=a5_0x45708e;this[_0x23921f(0x15a)]=async(_0x5b272e,_0x465920,_0x1e51be)=>{const _0x2c0378=_0x23921f;try{const _0x6e3002=await currencyService_1[_0x2c0378(0x158)]['getAllRates']();_0x465920['json']({'success':!![],'rates':_0x6e3002});}catch(_0x5204e7){_0x1e51be(_0x5204e7);}},this[_0x23921f(0x159)]=async(_0x1cc0cd,_0x1f512e,_0x25a5e5)=>{const _0x301b33=_0x23921f;try{const _0x1736eb=await currencyService_1[_0x301b33(0x158)][_0x301b33(0x156)]();_0x1f512e[_0x301b33(0x15d)]({'success':!![],'status':_0x1736eb});}catch(_0x1281ab){_0x25a5e5(_0x1281ab);}},this[_0x23921f(0x149)]=async(_0x35660f,_0x20ef3b,_0x13fc21)=>{const _0x4e3a13=_0x23921f;try{await currencyService_1['currencyService'][_0x4e3a13(0x145)](),_0x20ef3b['json']({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x59adc0){_0x13fc21(_0x59adc0);}},this[_0x23921f(0x15c)]=async(_0x404a8f,_0xbed830,_0x385772)=>{const _0x5d5488=_0x23921f;try{const {amount:_0x3a0c8e,fromCurrency:_0x3db042,toCurrency:toCurrency=_0x5d5488(0x147)}=_0x404a8f[_0x5d5488(0x146)];if(!_0x3a0c8e||!_0x3db042)return _0xbed830[_0x5d5488(0x14f)](0x190)['json']({'success':![],'message':_0x5d5488(0x148)});if(toCurrency['toLowerCase']()!=='usdt')return _0xbed830[_0x5d5488(0x14f)](0x190)[_0x5d5488(0x15d)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x468fcf=await currencyService_1[_0x5d5488(0x158)][_0x5d5488(0x144)](_0x3a0c8e,_0x3db042);_0xbed830[_0x5d5488(0x15d)]({'success':!![],'result':{'originalAmount':_0x3a0c8e,'fromCurrency':_0x3db042[_0x5d5488(0x153)](),'convertedAmount':_0x468fcf,'toCurrency':_0x5d5488(0x14e)}});}catch(_0x34af6b){_0x385772(_0x34af6b);}};}}exports[a5_0x45708e(0x14c)]=CurrencyController;