'use strict';function a5_0x4c62(){const _0x149688=['convertCurrency','4682922CmWInE','convertToUSDT','__esModule','usdt','218490wmAHhH','3744867pOZmhe','status','51424xGpOSx','currencyService','getAllRates','31385vwQXrH','1099krfgqf','toUpperCase','628kfGaoj','getStatus','getRates','CurrencyController','defineProperty','updateRates','USDT','json','14572998sxoxsb','49489zTTEXq','body','../services/currencyService','toLowerCase','updateCurrencyRates'];a5_0x4c62=function(){return _0x149688;};return a5_0x4c62();}const a5_0x4e2587=a5_0x1aca;(function(_0x1e74f9,_0x523622){const _0x4a0f5e=a5_0x1aca,_0x5a7dc6=_0x1e74f9();while(!![]){try{const _0x3e6b42=-parseInt(_0x4a0f5e(0x109))/0x1+-parseInt(_0x4a0f5e(0xf7))/0x2+parseInt(_0x4a0f5e(0xf8))/0x3+parseInt(_0x4a0f5e(0x100))/0x4*(parseInt(_0x4a0f5e(0xfd))/0x5)+-parseInt(_0x4a0f5e(0xf3))/0x6+-parseInt(_0x4a0f5e(0xfe))/0x7*(-parseInt(_0x4a0f5e(0xfa))/0x8)+-parseInt(_0x4a0f5e(0x108))/0x9;if(_0x3e6b42===_0x523622)break;else _0x5a7dc6['push'](_0x5a7dc6['shift']());}catch(_0x4301fc){_0x5a7dc6['push'](_0x5a7dc6['shift']());}}}(a5_0x4c62,0xa71f3));Object[a5_0x4e2587(0x104)](exports,a5_0x4e2587(0xf5),{'value':!![]}),exports[a5_0x4e2587(0x103)]=void 0x0;const currencyService_1=require(a5_0x4e2587(0x10b));function a5_0x1aca(_0x1cca87,_0x5268a2){const _0x4c621f=a5_0x4c62();return a5_0x1aca=function(_0x1aca63,_0x30eb2b){_0x1aca63=_0x1aca63-0xf2;let _0x289f9d=_0x4c621f[_0x1aca63];return _0x289f9d;},a5_0x1aca(_0x1cca87,_0x5268a2);}class CurrencyController{constructor(){const _0x476067=a5_0x4e2587;this[_0x476067(0x102)]=async(_0x54b94a,_0x1987e2,_0x5b5bd5)=>{const _0x5442fb=_0x476067;try{const _0x11e200=await currencyService_1[_0x5442fb(0xfb)][_0x5442fb(0xfc)]();_0x1987e2[_0x5442fb(0x107)]({'success':!![],'rates':_0x11e200});}catch(_0x1502a9){_0x5b5bd5(_0x1502a9);}},this[_0x476067(0x101)]=async(_0x2574b,_0x3ae337,_0x2b7dbf)=>{const _0x2ce9c5=_0x476067;try{const _0x168678=await currencyService_1[_0x2ce9c5(0xfb)]['getRatesStatus']();_0x3ae337['json']({'success':!![],'status':_0x168678});}catch(_0x12a40c){_0x2b7dbf(_0x12a40c);}},this[_0x476067(0x105)]=async(_0x509c7e,_0xe9f943,_0x5a7268)=>{const _0x1f7e23=_0x476067;try{await currencyService_1[_0x1f7e23(0xfb)][_0x1f7e23(0x10d)](),_0xe9f943[_0x1f7e23(0x107)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x14147c){_0x5a7268(_0x14147c);}},this[_0x476067(0xf2)]=async(_0x2da829,_0x64ed0,_0x18e81e)=>{const _0xe43c48=_0x476067;try{const {amount:_0x207725,fromCurrency:_0x532306,toCurrency:toCurrency=_0xe43c48(0xf6)}=_0x2da829[_0xe43c48(0x10a)];if(!_0x207725||!_0x532306)return _0x64ed0[_0xe43c48(0xf9)](0x190)[_0xe43c48(0x107)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0xe43c48(0x10c)]()!==_0xe43c48(0xf6))return _0x64ed0['status'](0x190)[_0xe43c48(0x107)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x3fa16b=await currencyService_1[_0xe43c48(0xfb)][_0xe43c48(0xf4)](_0x207725,_0x532306);_0x64ed0['json']({'success':!![],'result':{'originalAmount':_0x207725,'fromCurrency':_0x532306[_0xe43c48(0xff)](),'convertedAmount':_0x3fa16b,'toCurrency':_0xe43c48(0x106)}});}catch(_0x19189e){_0x18e81e(_0x19189e);}};}}exports['CurrencyController']=CurrencyController;