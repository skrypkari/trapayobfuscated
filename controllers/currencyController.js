'use strict';const a5_0x3090d4=a5_0xcac8;(function(_0x564f81,_0xe58be8){const _0x13dcd6=a5_0xcac8,_0x12222c=_0x564f81();while(!![]){try{const _0x88445a=parseInt(_0x13dcd6(0xb1))/0x1+-parseInt(_0x13dcd6(0xb8))/0x2+-parseInt(_0x13dcd6(0xc3))/0x3*(parseInt(_0x13dcd6(0xb5))/0x4)+parseInt(_0x13dcd6(0xbe))/0x5*(parseInt(_0x13dcd6(0xb2))/0x6)+parseInt(_0x13dcd6(0xb6))/0x7*(-parseInt(_0x13dcd6(0xbc))/0x8)+parseInt(_0x13dcd6(0xc9))/0x9+parseInt(_0x13dcd6(0xaf))/0xa;if(_0x88445a===_0xe58be8)break;else _0x12222c['push'](_0x12222c['shift']());}catch(_0x47e315){_0x12222c['push'](_0x12222c['shift']());}}}(a5_0x1a1b,0x3010e));Object[a5_0x3090d4(0xca)](exports,'__esModule',{'value':!![]}),exports[a5_0x3090d4(0xb0)]=void 0x0;function a5_0x1a1b(){const _0x5f9392=['json','toUpperCase','732lTBmcJ','getRates','../services/currencyService','updateRates','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','currencyService','2599344ATwnFp','defineProperty','6238020zibKRR','CurrencyController','96390ZWgpSa','18WKhAYO','USDT','body','5972wCKwDQ','803306uDhtAu','usdt','759412mOQWct','status','convertToUSDT','getStatus','8rncZSc','getAllRates','77710kCuDZi','Amount\x20and\x20fromCurrency\x20are\x20required','convertCurrency'];a5_0x1a1b=function(){return _0x5f9392;};return a5_0x1a1b();}const currencyService_1=require(a5_0x3090d4(0xc5));class CurrencyController{constructor(){const _0x207580=a5_0x3090d4;this[_0x207580(0xc4)]=async(_0x45f915,_0x45b64d,_0x45330f)=>{const _0x441e4d=_0x207580;try{const _0x37ffa9=await currencyService_1['currencyService'][_0x441e4d(0xbd)]();_0x45b64d['json']({'success':!![],'rates':_0x37ffa9});}catch(_0x5e221e){_0x45330f(_0x5e221e);}},this[_0x207580(0xbb)]=async(_0xebb2bf,_0x425999,_0x4471dd)=>{const _0x3dff0b=_0x207580;try{const _0x65c1a9=await currencyService_1['currencyService']['getRatesStatus']();_0x425999[_0x3dff0b(0xc1)]({'success':!![],'status':_0x65c1a9});}catch(_0x5854ae){_0x4471dd(_0x5854ae);}},this[_0x207580(0xc6)]=async(_0x244ce9,_0xd0e6fc,_0x20b015)=>{const _0x2bcefa=_0x207580;try{await currencyService_1[_0x2bcefa(0xc8)]['updateCurrencyRates'](),_0xd0e6fc[_0x2bcefa(0xc1)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x52a1fb){_0x20b015(_0x52a1fb);}},this[_0x207580(0xc0)]=async(_0x45638f,_0x18456d,_0x3c3d02)=>{const _0x4c60e9=_0x207580;try{const {amount:_0x5e8074,fromCurrency:_0x1f19c4,toCurrency:toCurrency='usdt'}=_0x45638f[_0x4c60e9(0xb4)];if(!_0x5e8074||!_0x1f19c4)return _0x18456d[_0x4c60e9(0xb9)](0x190)[_0x4c60e9(0xc1)]({'success':![],'message':_0x4c60e9(0xbf)});if(toCurrency['toLowerCase']()!==_0x4c60e9(0xb7))return _0x18456d[_0x4c60e9(0xb9)](0x190)['json']({'success':![],'message':_0x4c60e9(0xc7)});const _0xb1fece=await currencyService_1[_0x4c60e9(0xc8)][_0x4c60e9(0xba)](_0x5e8074,_0x1f19c4);_0x18456d[_0x4c60e9(0xc1)]({'success':!![],'result':{'originalAmount':_0x5e8074,'fromCurrency':_0x1f19c4[_0x4c60e9(0xc2)](),'convertedAmount':_0xb1fece,'toCurrency':_0x4c60e9(0xb3)}});}catch(_0x1eb8fb){_0x3c3d02(_0x1eb8fb);}};}}function a5_0xcac8(_0x3ee395,_0x3d360e){_0x3ee395=_0x3ee395-0xaf;const _0x1a1b6d=a5_0x1a1b();let _0xcac8e9=_0x1a1b6d[_0x3ee395];return _0xcac8e9;}exports[a5_0x3090d4(0xb0)]=CurrencyController;