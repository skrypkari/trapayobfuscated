'use strict';const a5_0x37afb3=a5_0x5d52;(function(_0x55112a,_0x416193){const _0x9b379c=a5_0x5d52,_0x190728=_0x55112a();while(!![]){try{const _0x53401e=-parseInt(_0x9b379c(0x179))/0x1+parseInt(_0x9b379c(0x16e))/0x2*(-parseInt(_0x9b379c(0x16f))/0x3)+-parseInt(_0x9b379c(0x181))/0x4*(parseInt(_0x9b379c(0x170))/0x5)+-parseInt(_0x9b379c(0x180))/0x6*(-parseInt(_0x9b379c(0x183))/0x7)+parseInt(_0x9b379c(0x17e))/0x8+-parseInt(_0x9b379c(0x182))/0x9+-parseInt(_0x9b379c(0x178))/0xa*(-parseInt(_0x9b379c(0x16c))/0xb);if(_0x53401e===_0x416193)break;else _0x190728['push'](_0x190728['shift']());}catch(_0x358160){_0x190728['push'](_0x190728['shift']());}}}(a5_0x5c51,0x64d63));Object[a5_0x37afb3(0x17d)](exports,a5_0x37afb3(0x17f),{'value':!![]}),exports[a5_0x37afb3(0x172)]=void 0x0;function a5_0x5c51(){const _0x278678=['currencyService','status','json','defineProperty','4742992VuKoXG','__esModule','22170mQMOzy','8xiRXdl','2483370HzHMxJ','693EBckOh','toLowerCase','11wVjPzC','convertToUSDT','46JcHeLA','26004gDhWEy','901825UZsvuX','Currency\x20rates\x20updated\x20successfully','CurrencyController','updateCurrencyRates','updateRates','USDT','toUpperCase','../services/currencyService','9045010GaDEux','614129lTIiAd'];a5_0x5c51=function(){return _0x278678;};return a5_0x5c51();}const currencyService_1=require(a5_0x37afb3(0x177));function a5_0x5d52(_0xa0ad4e,_0x2877fb){const _0x5c51f1=a5_0x5c51();return a5_0x5d52=function(_0x5d52f1,_0x4890e2){_0x5d52f1=_0x5d52f1-0x16b;let _0x5d8802=_0x5c51f1[_0x5d52f1];return _0x5d8802;},a5_0x5d52(_0xa0ad4e,_0x2877fb);}class CurrencyController{constructor(){const _0x374792=a5_0x37afb3;this['getRates']=async(_0x49faeb,_0x42e9d7,_0x57408a)=>{const _0x347248=a5_0x5d52;try{const _0x514bc8=await currencyService_1[_0x347248(0x17a)]['getAllRates']();_0x42e9d7[_0x347248(0x17c)]({'success':!![],'rates':_0x514bc8});}catch(_0x14e41b){_0x57408a(_0x14e41b);}},this['getStatus']=async(_0x1c777f,_0x8dd6eb,_0x77e277)=>{const _0x4c550f=a5_0x5d52;try{const _0x2568aa=await currencyService_1['currencyService']['getRatesStatus']();_0x8dd6eb[_0x4c550f(0x17c)]({'success':!![],'status':_0x2568aa});}catch(_0x40d9a9){_0x77e277(_0x40d9a9);}},this[_0x374792(0x174)]=async(_0x205f84,_0x5838e5,_0x23d7f4)=>{const _0x323e45=_0x374792;try{await currencyService_1[_0x323e45(0x17a)][_0x323e45(0x173)](),_0x5838e5[_0x323e45(0x17c)]({'success':!![],'message':_0x323e45(0x171)});}catch(_0x42542b){_0x23d7f4(_0x42542b);}},this['convertCurrency']=async(_0x12ee45,_0x3e2caf,_0x1a5916)=>{const _0x18174e=_0x374792;try{const {amount:_0x2f03e3,fromCurrency:_0x4e19c8,toCurrency:toCurrency='usdt'}=_0x12ee45['body'];if(!_0x2f03e3||!_0x4e19c8)return _0x3e2caf['status'](0x190)['json']({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x18174e(0x16b)]()!=='usdt')return _0x3e2caf[_0x18174e(0x17b)](0x190)[_0x18174e(0x17c)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x10533f=await currencyService_1[_0x18174e(0x17a)][_0x18174e(0x16d)](_0x2f03e3,_0x4e19c8);_0x3e2caf[_0x18174e(0x17c)]({'success':!![],'result':{'originalAmount':_0x2f03e3,'fromCurrency':_0x4e19c8[_0x18174e(0x176)](),'convertedAmount':_0x10533f,'toCurrency':_0x18174e(0x175)}});}catch(_0x14d01f){_0x1a5916(_0x14d01f);}};}}exports[a5_0x37afb3(0x172)]=CurrencyController;