'use strict';const a5_0x216236=a5_0x3e35;(function(_0x3f73bd,_0x5f3133){const _0x67c747=a5_0x3e35,_0x2c9817=_0x3f73bd();while(!![]){try{const _0x1d7af1=-parseInt(_0x67c747(0x81))/0x1+parseInt(_0x67c747(0x7a))/0x2*(-parseInt(_0x67c747(0x7c))/0x3)+-parseInt(_0x67c747(0x79))/0x4*(parseInt(_0x67c747(0x76))/0x5)+-parseInt(_0x67c747(0x84))/0x6*(-parseInt(_0x67c747(0x7b))/0x7)+-parseInt(_0x67c747(0x82))/0x8*(parseInt(_0x67c747(0x70))/0x9)+-parseInt(_0x67c747(0x86))/0xa+parseInt(_0x67c747(0x7f))/0xb;if(_0x1d7af1===_0x5f3133)break;else _0x2c9817['push'](_0x2c9817['shift']());}catch(_0x19ec7a){_0x2c9817['push'](_0x2c9817['shift']());}}}(a5_0x8e77,0x74f48));Object['defineProperty'](exports,a5_0x216236(0x75),{'value':!![]}),exports[a5_0x216236(0x7e)]=void 0x0;function a5_0x3e35(_0x3df834,_0x475a2c){const _0x8e7789=a5_0x8e77();return a5_0x3e35=function(_0x3e359f,_0x2d80f6){_0x3e359f=_0x3e359f-0x6e;let _0x7fad4c=_0x8e7789[_0x3e359f];return _0x7fad4c;},a5_0x3e35(_0x3df834,_0x475a2c);}function a5_0x8e77(){const _0xd29c76=['toUpperCase','getAllRates','USDT','getRates','__esModule','106970cNTVmz','updateRates','toLowerCase','52rVLcrk','34lbwaeK','138397ucdEAh','165483TmYfNy','usdt','CurrencyController','26284852tNATxy','currencyService','378196GAZunS','71128cHVAbv','body','36wmgJlF','Currency\x20rates\x20updated\x20successfully','2839080XcqRdz','convertToUSDT','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','status','getRatesStatus','json','153macgmg'];a5_0x8e77=function(){return _0xd29c76;};return a5_0x8e77();}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x31274e=a5_0x216236;this[_0x31274e(0x74)]=async(_0x5a4b20,_0x4e9989,_0x4aa1b5)=>{const _0x58c08a=_0x31274e;try{const _0x421bde=await currencyService_1['currencyService'][_0x58c08a(0x72)]();_0x4e9989['json']({'success':!![],'rates':_0x421bde});}catch(_0xbb8295){_0x4aa1b5(_0xbb8295);}},this['getStatus']=async(_0x393ad0,_0x192c48,_0x26ebf4)=>{const _0x31ab3f=_0x31274e;try{const _0x4a34cb=await currencyService_1[_0x31ab3f(0x80)][_0x31ab3f(0x6e)]();_0x192c48['json']({'success':!![],'status':_0x4a34cb});}catch(_0x1b646a){_0x26ebf4(_0x1b646a);}},this[_0x31274e(0x77)]=async(_0xe8e622,_0x9ad139,_0x44de7a)=>{const _0x27eb32=_0x31274e;try{await currencyService_1[_0x27eb32(0x80)]['updateCurrencyRates'](),_0x9ad139[_0x27eb32(0x6f)]({'success':!![],'message':_0x27eb32(0x85)});}catch(_0x1b8e1b){_0x44de7a(_0x1b8e1b);}},this['convertCurrency']=async(_0x128710,_0x536da5,_0x5a7ee4)=>{const _0x24036d=_0x31274e;try{const {amount:_0x33ffc7,fromCurrency:_0x1cfa3a,toCurrency:toCurrency='usdt'}=_0x128710[_0x24036d(0x83)];if(!_0x33ffc7||!_0x1cfa3a)return _0x536da5[_0x24036d(0x89)](0x190)[_0x24036d(0x6f)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x24036d(0x78)]()!==_0x24036d(0x7d))return _0x536da5['status'](0x190)[_0x24036d(0x6f)]({'success':![],'message':_0x24036d(0x88)});const _0x4440fd=await currencyService_1[_0x24036d(0x80)][_0x24036d(0x87)](_0x33ffc7,_0x1cfa3a);_0x536da5[_0x24036d(0x6f)]({'success':!![],'result':{'originalAmount':_0x33ffc7,'fromCurrency':_0x1cfa3a[_0x24036d(0x71)](),'convertedAmount':_0x4440fd,'toCurrency':_0x24036d(0x73)}});}catch(_0x43de40){_0x5a7ee4(_0x43de40);}};}}exports[a5_0x216236(0x7e)]=CurrencyController;