'use strict';const a5_0x43c5e4=a5_0x266f;function a5_0x2489(){const _0x1518c7=['body','CurrencyController','getAllRates','6127344TnGTMZ','updateRates','2kkBJAN','6069272rGaCFJ','3wbzaGa','defineProperty','7184HhKlBy','USDT','toUpperCase','332596QfHQCL','json','getRates','getRatesStatus','currencyService','convertToUSDT','status','Currency\x20rates\x20updated\x20successfully','7469BKLcCm','toLowerCase','2169282QcwXhD','__esModule','3798295SnfUvc','6544080MtBwub'];a5_0x2489=function(){return _0x1518c7;};return a5_0x2489();}(function(_0x48037b,_0x3db106){const _0x11d0a3=a5_0x266f,_0x4265db=_0x48037b();while(!![]){try{const _0x1556ea=parseInt(_0x11d0a3(0x9b))/0x1*(-parseInt(_0x11d0a3(0x88))/0x2)+parseInt(_0x11d0a3(0x9d))/0x3*(parseInt(_0x11d0a3(0x9c))/0x4)+-parseInt(_0x11d0a3(0x94))/0x5+-parseInt(_0x11d0a3(0x92))/0x6+parseInt(_0x11d0a3(0x90))/0x7*(parseInt(_0x11d0a3(0x9f))/0x8)+-parseInt(_0x11d0a3(0x99))/0x9+parseInt(_0x11d0a3(0x95))/0xa;if(_0x1556ea===_0x3db106)break;else _0x4265db['push'](_0x4265db['shift']());}catch(_0x4f09e7){_0x4265db['push'](_0x4265db['shift']());}}}(a5_0x2489,0xf2fca));Object[a5_0x43c5e4(0x9e)](exports,a5_0x43c5e4(0x93),{'value':!![]}),exports[a5_0x43c5e4(0x97)]=void 0x0;function a5_0x266f(_0x309bb7,_0x1682fe){const _0x2489b9=a5_0x2489();return a5_0x266f=function(_0x266f79,_0x24c573){_0x266f79=_0x266f79-0x87;let _0x5f2ecd=_0x2489b9[_0x266f79];return _0x5f2ecd;},a5_0x266f(_0x309bb7,_0x1682fe);}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x962841=a5_0x43c5e4;this[_0x962841(0x8a)]=async(_0x42cf72,_0x20f7e4,_0x390468)=>{const _0x402a7c=_0x962841;try{const _0x24ddf3=await currencyService_1[_0x402a7c(0x8c)][_0x402a7c(0x98)]();_0x20f7e4[_0x402a7c(0x89)]({'success':!![],'rates':_0x24ddf3});}catch(_0x4e06df){_0x390468(_0x4e06df);}},this['getStatus']=async(_0x50d978,_0x54c944,_0x1c5983)=>{const _0x4ddbcd=_0x962841;try{const _0x375300=await currencyService_1[_0x4ddbcd(0x8c)][_0x4ddbcd(0x8b)]();_0x54c944[_0x4ddbcd(0x89)]({'success':!![],'status':_0x375300});}catch(_0x58c265){_0x1c5983(_0x58c265);}},this[_0x962841(0x9a)]=async(_0x598b11,_0x47df0,_0x338c25)=>{const _0x2a5c96=_0x962841;try{await currencyService_1[_0x2a5c96(0x8c)]['updateCurrencyRates'](),_0x47df0[_0x2a5c96(0x89)]({'success':!![],'message':_0x2a5c96(0x8f)});}catch(_0x51c7c0){_0x338c25(_0x51c7c0);}},this['convertCurrency']=async(_0x21cf31,_0x411e22,_0x893a83)=>{const _0x2dcae6=_0x962841;try{const {amount:_0x4c4767,fromCurrency:_0x16d53c,toCurrency:toCurrency='usdt'}=_0x21cf31[_0x2dcae6(0x96)];if(!_0x4c4767||!_0x16d53c)return _0x411e22[_0x2dcae6(0x8e)](0x190)[_0x2dcae6(0x89)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x2dcae6(0x91)]()!=='usdt')return _0x411e22[_0x2dcae6(0x8e)](0x190)['json']({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x5c8fea=await currencyService_1[_0x2dcae6(0x8c)][_0x2dcae6(0x8d)](_0x4c4767,_0x16d53c);_0x411e22[_0x2dcae6(0x89)]({'success':!![],'result':{'originalAmount':_0x4c4767,'fromCurrency':_0x16d53c[_0x2dcae6(0x87)](),'convertedAmount':_0x5c8fea,'toCurrency':_0x2dcae6(0xa0)}});}catch(_0x114127){_0x893a83(_0x114127);}};}}exports[a5_0x43c5e4(0x97)]=CurrencyController;