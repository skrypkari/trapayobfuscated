'use strict';function a5_0x5e86(){const _0x34c185=['CurrencyController','usdt','1359Uaiiec','convertToUSDT','updateCurrencyRates','10EznPNu','json','1066435NefbGN','USDT','../services/currencyService','currencyService','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','getRates','1074WqejNd','__esModule','toUpperCase','getStatus','7028WzVYnx','convertCurrency','Amount\x20and\x20fromCurrency\x20are\x20required','5407470gYZLeT','450947pMCQrW','6224920qLEhSS','defineProperty','getRatesStatus','2428WxnfFp','2594024bNYAuo'];a5_0x5e86=function(){return _0x34c185;};return a5_0x5e86();}const a5_0x3983e6=a5_0x193c;function a5_0x193c(_0x1e513,_0x1c7417){const _0x5e8605=a5_0x5e86();return a5_0x193c=function(_0x193cde,_0x1fbc45){_0x193cde=_0x193cde-0xba;let _0x291f3e=_0x5e8605[_0x193cde];return _0x291f3e;},a5_0x193c(_0x1e513,_0x1c7417);}(function(_0x11bb17,_0x2c2603){const _0x461b5e=a5_0x193c,_0xc96e22=_0x11bb17();while(!![]){try{const _0x43d3cc=parseInt(_0x461b5e(0xc1))/0x1+parseInt(_0x461b5e(0xc5))/0x2*(-parseInt(_0x461b5e(0xc9))/0x3)+parseInt(_0x461b5e(0xc6))/0x4+parseInt(_0x461b5e(0xce))/0x5+-parseInt(_0x461b5e(0xd4))/0x6*(parseInt(_0x461b5e(0xbd))/0x7)+-parseInt(_0x461b5e(0xc2))/0x8+-parseInt(_0x461b5e(0xc0))/0x9*(-parseInt(_0x461b5e(0xcc))/0xa);if(_0x43d3cc===_0x2c2603)break;else _0xc96e22['push'](_0xc96e22['shift']());}catch(_0x2bda2e){_0xc96e22['push'](_0xc96e22['shift']());}}}(a5_0x5e86,0x63125));Object[a5_0x3983e6(0xc3)](exports,a5_0x3983e6(0xba),{'value':!![]}),exports[a5_0x3983e6(0xc7)]=void 0x0;const currencyService_1=require(a5_0x3983e6(0xd0));class CurrencyController{constructor(){const _0x544f09=a5_0x3983e6;this[_0x544f09(0xd3)]=async(_0x27360f,_0x5a082e,_0x36273a)=>{try{const _0x4c60f6=await currencyService_1['currencyService']['getAllRates']();_0x5a082e['json']({'success':!![],'rates':_0x4c60f6});}catch(_0x2f2533){_0x36273a(_0x2f2533);}},this[_0x544f09(0xbc)]=async(_0xb0b8cf,_0x51de64,_0x5a29f5)=>{const _0x86bde8=_0x544f09;try{const _0x2fa7d3=await currencyService_1[_0x86bde8(0xd1)][_0x86bde8(0xc4)]();_0x51de64['json']({'success':!![],'status':_0x2fa7d3});}catch(_0x1ab552){_0x5a29f5(_0x1ab552);}},this['updateRates']=async(_0x2e0bbb,_0x373b76,_0xae149a)=>{const _0x5d66e5=_0x544f09;try{await currencyService_1[_0x5d66e5(0xd1)][_0x5d66e5(0xcb)](),_0x373b76['json']({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0xb79827){_0xae149a(_0xb79827);}},this[_0x544f09(0xbe)]=async(_0x492d25,_0x16aab0,_0x34394a)=>{const _0x2f0b30=_0x544f09;try{const {amount:_0x5a7fda,fromCurrency:_0x36fbfb,toCurrency:toCurrency=_0x2f0b30(0xc8)}=_0x492d25['body'];if(!_0x5a7fda||!_0x36fbfb)return _0x16aab0['status'](0x190)[_0x2f0b30(0xcd)]({'success':![],'message':_0x2f0b30(0xbf)});if(toCurrency['toLowerCase']()!=='usdt')return _0x16aab0['status'](0x190)[_0x2f0b30(0xcd)]({'success':![],'message':_0x2f0b30(0xd2)});const _0x44e858=await currencyService_1[_0x2f0b30(0xd1)][_0x2f0b30(0xca)](_0x5a7fda,_0x36fbfb);_0x16aab0[_0x2f0b30(0xcd)]({'success':!![],'result':{'originalAmount':_0x5a7fda,'fromCurrency':_0x36fbfb[_0x2f0b30(0xbb)](),'convertedAmount':_0x44e858,'toCurrency':_0x2f0b30(0xcf)}});}catch(_0x3a1eb9){_0x34394a(_0x3a1eb9);}};}}exports[a5_0x3983e6(0xc7)]=CurrencyController;