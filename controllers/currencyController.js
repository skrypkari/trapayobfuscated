'use strict';function a5_0x2304(_0x146cdb,_0x157f59){const _0x27958b=a5_0x2795();return a5_0x2304=function(_0x2304e7,_0x41de93){_0x2304e7=_0x2304e7-0x114;let _0xb6afd2=_0x27958b[_0x2304e7];return _0xb6afd2;},a5_0x2304(_0x146cdb,_0x157f59);}function a5_0x2795(){const _0x5070ae=['CurrencyController','getStatus','defineProperty','convertCurrency','Currency\x20rates\x20updated\x20successfully','13220504BCnzCi','__esModule','json','../services/currencyService','status','1143940ISCSuJ','2BAaFZm','currencyService','3489231uPpDcn','38332ZbTLht','1810840hCrWYs','updateRates','toUpperCase','Amount\x20and\x20fromCurrency\x20are\x20required','1086HqCmCZ','126ZUsJFf','USDT','usdt','getAllRates','15ngUKLU','1091226qJRvcu','60419887GglWIl','getRatesStatus'];a5_0x2795=function(){return _0x5070ae;};return a5_0x2795();}const a5_0x7898c0=a5_0x2304;(function(_0x564c91,_0x4d338a){const _0x3f286f=a5_0x2304,_0x2a9f6f=_0x564c91();while(!![]){try{const _0x429ac6=-parseInt(_0x3f286f(0x127))/0x1+-parseInt(_0x3f286f(0x119))/0x2*(parseInt(_0x3f286f(0x11b))/0x3)+parseInt(_0x3f286f(0x11d))/0x4*(-parseInt(_0x3f286f(0x126))/0x5)+parseInt(_0x3f286f(0x121))/0x6*(-parseInt(_0x3f286f(0x11c))/0x7)+-parseInt(_0x3f286f(0x12f))/0x8+-parseInt(_0x3f286f(0x122))/0x9*(-parseInt(_0x3f286f(0x118))/0xa)+parseInt(_0x3f286f(0x128))/0xb;if(_0x429ac6===_0x4d338a)break;else _0x2a9f6f['push'](_0x2a9f6f['shift']());}catch(_0x4fb44d){_0x2a9f6f['push'](_0x2a9f6f['shift']());}}}(a5_0x2795,0xcc9c1));Object[a5_0x7898c0(0x12c)](exports,a5_0x7898c0(0x114),{'value':!![]}),exports[a5_0x7898c0(0x12a)]=void 0x0;const currencyService_1=require(a5_0x7898c0(0x116));class CurrencyController{constructor(){const _0x3a327a=a5_0x7898c0;this['getRates']=async(_0x3169b0,_0x36ed46,_0x36e7be)=>{const _0x369f56=a5_0x2304;try{const _0x4c6863=await currencyService_1[_0x369f56(0x11a)][_0x369f56(0x125)]();_0x36ed46[_0x369f56(0x115)]({'success':!![],'rates':_0x4c6863});}catch(_0x5cd393){_0x36e7be(_0x5cd393);}},this[_0x3a327a(0x12b)]=async(_0x5242c2,_0x3d7dde,_0x232534)=>{const _0x3e6e61=_0x3a327a;try{const _0x356929=await currencyService_1[_0x3e6e61(0x11a)][_0x3e6e61(0x129)]();_0x3d7dde[_0x3e6e61(0x115)]({'success':!![],'status':_0x356929});}catch(_0x3b7512){_0x232534(_0x3b7512);}},this[_0x3a327a(0x11e)]=async(_0x2ffe87,_0x3df830,_0x547edd)=>{const _0x30a824=_0x3a327a;try{await currencyService_1['currencyService']['updateCurrencyRates'](),_0x3df830['json']({'success':!![],'message':_0x30a824(0x12e)});}catch(_0x452645){_0x547edd(_0x452645);}},this[_0x3a327a(0x12d)]=async(_0x28ee73,_0x42a502,_0x91b337)=>{const _0x4b1f7d=_0x3a327a;try{const {amount:_0x1f7024,fromCurrency:_0x234acd,toCurrency:toCurrency=_0x4b1f7d(0x124)}=_0x28ee73['body'];if(!_0x1f7024||!_0x234acd)return _0x42a502['status'](0x190)[_0x4b1f7d(0x115)]({'success':![],'message':_0x4b1f7d(0x120)});if(toCurrency['toLowerCase']()!=='usdt')return _0x42a502[_0x4b1f7d(0x117)](0x190)[_0x4b1f7d(0x115)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x3227d5=await currencyService_1[_0x4b1f7d(0x11a)]['convertToUSDT'](_0x1f7024,_0x234acd);_0x42a502[_0x4b1f7d(0x115)]({'success':!![],'result':{'originalAmount':_0x1f7024,'fromCurrency':_0x234acd[_0x4b1f7d(0x11f)](),'convertedAmount':_0x3227d5,'toCurrency':_0x4b1f7d(0x123)}});}catch(_0x2a4fb1){_0x91b337(_0x2a4fb1);}};}}exports[a5_0x7898c0(0x12a)]=CurrencyController;