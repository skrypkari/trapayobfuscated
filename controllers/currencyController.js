'use strict';function a5_0x2192(){const _0x1655bb=['usdt','78970gaSxMz','5047609mkRuLW','__esModule','927vfTviu','2205xgUuke','getRates','9ivxYjQ','getStatus','41618vfxoGH','toUpperCase','6xnpvSJ','updateCurrencyRates','Currency\x20rates\x20updated\x20successfully','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','9136743LfLBGU','toLowerCase','1588MCfPJx','defineProperty','status','currencyService','../services/currencyService','json','1504385opwyPt','body','CurrencyController','8zusVTO','25836420YnsNIE'];a5_0x2192=function(){return _0x1655bb;};return a5_0x2192();}const a5_0x563853=a5_0x5459;function a5_0x5459(_0x305d9d,_0x73b7e6){const _0x2192c1=a5_0x2192();return a5_0x5459=function(_0x5459c2,_0x6803de){_0x5459c2=_0x5459c2-0x1d7;let _0x2e3c11=_0x2192c1[_0x5459c2];return _0x2e3c11;},a5_0x5459(_0x305d9d,_0x73b7e6);}(function(_0x1aa558,_0x13e651){const _0x3b8437=a5_0x5459,_0x955d7b=_0x1aa558();while(!![]){try{const _0x17c9c5=parseInt(_0x3b8437(0x1ea))/0x1*(-parseInt(_0x3b8437(0x1ec))/0x2)+-parseInt(_0x3b8437(0x1e8))/0x3*(parseInt(_0x3b8437(0x1d8))/0x4)+-parseInt(_0x3b8437(0x1de))/0x5*(parseInt(_0x3b8437(0x1ee))/0x6)+-parseInt(_0x3b8437(0x1e5))/0x7*(-parseInt(_0x3b8437(0x1e1))/0x8)+-parseInt(_0x3b8437(0x1e7))/0x9*(parseInt(_0x3b8437(0x1e4))/0xa)+-parseInt(_0x3b8437(0x1f2))/0xb+parseInt(_0x3b8437(0x1e2))/0xc;if(_0x17c9c5===_0x13e651)break;else _0x955d7b['push'](_0x955d7b['shift']());}catch(_0x4a8fd4){_0x955d7b['push'](_0x955d7b['shift']());}}}(a5_0x2192,0x6de75));Object[a5_0x563853(0x1d9)](exports,a5_0x563853(0x1e6),{'value':!![]}),exports['CurrencyController']=void 0x0;const currencyService_1=require(a5_0x563853(0x1dc));class CurrencyController{constructor(){const _0x55b777=a5_0x563853;this[_0x55b777(0x1e9)]=async(_0x371ad8,_0x2d3e6d,_0x1c086c)=>{try{const _0x9ca826=await currencyService_1['currencyService']['getAllRates']();_0x2d3e6d['json']({'success':!![],'rates':_0x9ca826});}catch(_0x10321a){_0x1c086c(_0x10321a);}},this[_0x55b777(0x1eb)]=async(_0x13dacf,_0x2032d6,_0x125d3a)=>{const _0x1129dc=_0x55b777;try{const _0x1329a4=await currencyService_1['currencyService']['getRatesStatus']();_0x2032d6[_0x1129dc(0x1dd)]({'success':!![],'status':_0x1329a4});}catch(_0x380aa0){_0x125d3a(_0x380aa0);}},this['updateRates']=async(_0x1bccda,_0x1b558a,_0x563d36)=>{const _0x12c304=_0x55b777;try{await currencyService_1[_0x12c304(0x1db)][_0x12c304(0x1ef)](),_0x1b558a[_0x12c304(0x1dd)]({'success':!![],'message':_0x12c304(0x1f0)});}catch(_0x625cd3){_0x563d36(_0x625cd3);}},this['convertCurrency']=async(_0x13f7b3,_0x1381e5,_0x302c8b)=>{const _0x4a9b60=_0x55b777;try{const {amount:_0x26c4ad,fromCurrency:_0x586ac5,toCurrency:toCurrency=_0x4a9b60(0x1e3)}=_0x13f7b3[_0x4a9b60(0x1df)];if(!_0x26c4ad||!_0x586ac5)return _0x1381e5['status'](0x190)[_0x4a9b60(0x1dd)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x4a9b60(0x1d7)]()!==_0x4a9b60(0x1e3))return _0x1381e5[_0x4a9b60(0x1da)](0x190)['json']({'success':![],'message':_0x4a9b60(0x1f1)});const _0x92d62e=await currencyService_1['currencyService']['convertToUSDT'](_0x26c4ad,_0x586ac5);_0x1381e5[_0x4a9b60(0x1dd)]({'success':!![],'result':{'originalAmount':_0x26c4ad,'fromCurrency':_0x586ac5[_0x4a9b60(0x1ed)](),'convertedAmount':_0x92d62e,'toCurrency':'USDT'}});}catch(_0x22222e){_0x302c8b(_0x22222e);}};}}exports[a5_0x563853(0x1e0)]=CurrencyController;