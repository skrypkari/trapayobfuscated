'use strict';function a5_0x1fc5(){const _0x18633a=['currencyService','10701564sGjGOu','toUpperCase','738279lYjDZC','737wOLmuV','convertToUSDT','632285SVMBje','37390ZhVoBw','1033360CLTRCu','convertCurrency','defineProperty','toLowerCase','Currency\x20rates\x20updated\x20successfully','2157777WtYplx','CurrencyController','updateRates','body','4MOBBrs','6PzBvXt','usdt','71504BVaKGB','json','14izFprv','getRatesStatus','../services/currencyService','__esModule','1TjsGMp'];a5_0x1fc5=function(){return _0x18633a;};return a5_0x1fc5();}function a5_0x3c0f(_0xa53b2d,_0x5847f4){const _0x1fc54a=a5_0x1fc5();return a5_0x3c0f=function(_0x3c0f0d,_0x48c16a){_0x3c0f0d=_0x3c0f0d-0xdf;let _0x5e43bc=_0x1fc54a[_0x3c0f0d];return _0x5e43bc;},a5_0x3c0f(_0xa53b2d,_0x5847f4);}const a5_0x2a8ab2=a5_0x3c0f;(function(_0x57f775,_0x1cdf4d){const _0x6c6b2e=a5_0x3c0f,_0x3b3aac=_0x57f775();while(!![]){try{const _0x219440=parseInt(_0x6c6b2e(0xf8))/0x1*(-parseInt(_0x6c6b2e(0xf2))/0x2)+parseInt(_0x6c6b2e(0xe1))/0x3*(parseInt(_0x6c6b2e(0xef))/0x4)+parseInt(_0x6c6b2e(0xe4))/0x5*(-parseInt(_0x6c6b2e(0xf0))/0x6)+parseInt(_0x6c6b2e(0xf4))/0x7*(-parseInt(_0x6c6b2e(0xe6))/0x8)+-parseInt(_0x6c6b2e(0xeb))/0x9+-parseInt(_0x6c6b2e(0xe5))/0xa*(parseInt(_0x6c6b2e(0xe2))/0xb)+parseInt(_0x6c6b2e(0xdf))/0xc;if(_0x219440===_0x1cdf4d)break;else _0x3b3aac['push'](_0x3b3aac['shift']());}catch(_0x3716da){_0x3b3aac['push'](_0x3b3aac['shift']());}}}(a5_0x1fc5,0x37703));Object[a5_0x2a8ab2(0xe8)](exports,a5_0x2a8ab2(0xf7),{'value':!![]}),exports[a5_0x2a8ab2(0xec)]=void 0x0;const currencyService_1=require(a5_0x2a8ab2(0xf6));class CurrencyController{constructor(){const _0x20bf55=a5_0x2a8ab2;this['getRates']=async(_0xfecc6c,_0x22e01d,_0x1f21f2)=>{const _0x46954b=a5_0x3c0f;try{const _0x34e4a2=await currencyService_1[_0x46954b(0xf9)]['getAllRates']();_0x22e01d[_0x46954b(0xf3)]({'success':!![],'rates':_0x34e4a2});}catch(_0x49f7d0){_0x1f21f2(_0x49f7d0);}},this['getStatus']=async(_0x5a42f2,_0x3e7d86,_0x43b6cf)=>{const _0x2021f4=a5_0x3c0f;try{const _0x5f8576=await currencyService_1['currencyService'][_0x2021f4(0xf5)]();_0x3e7d86[_0x2021f4(0xf3)]({'success':!![],'status':_0x5f8576});}catch(_0x3d6ff4){_0x43b6cf(_0x3d6ff4);}},this[_0x20bf55(0xed)]=async(_0x197f2e,_0x59b9ad,_0x235711)=>{const _0x517d67=_0x20bf55;try{await currencyService_1['currencyService']['updateCurrencyRates'](),_0x59b9ad[_0x517d67(0xf3)]({'success':!![],'message':_0x517d67(0xea)});}catch(_0x79436e){_0x235711(_0x79436e);}},this[_0x20bf55(0xe7)]=async(_0x2e4c40,_0x17feea,_0x5b68c0)=>{const _0x430ec0=_0x20bf55;try{const {amount:_0x4e7eb0,fromCurrency:_0x21d946,toCurrency:toCurrency='usdt'}=_0x2e4c40[_0x430ec0(0xee)];if(!_0x4e7eb0||!_0x21d946)return _0x17feea['status'](0x190)[_0x430ec0(0xf3)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x430ec0(0xe9)]()!==_0x430ec0(0xf1))return _0x17feea['status'](0x190)[_0x430ec0(0xf3)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x103153=await currencyService_1['currencyService'][_0x430ec0(0xe3)](_0x4e7eb0,_0x21d946);_0x17feea['json']({'success':!![],'result':{'originalAmount':_0x4e7eb0,'fromCurrency':_0x21d946[_0x430ec0(0xe0)](),'convertedAmount':_0x103153,'toCurrency':'USDT'}});}catch(_0x196adc){_0x5b68c0(_0x196adc);}};}}exports['CurrencyController']=CurrencyController;