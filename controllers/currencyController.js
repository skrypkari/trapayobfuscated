'use strict';const a5_0x2dfb48=a5_0x40ef;function a5_0x3528(){const _0x56bf4b=['toLowerCase','3841761vycxvM','updateCurrencyRates','__esModule','convertToUSDT','toUpperCase','22906rbFoLk','json','usdt','CurrencyController','33009rVywfW','currencyService','238716IItSBf','body','Currency\x20rates\x20updated\x20successfully','getStatus','defineProperty','120NdwFhv','85sMQNvl','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','6323264nzvrgr','../services/currencyService','getAllRates','6ytyTqT','updateRates','status','24059690CMSxPF','3933828rjUiGP'];a5_0x3528=function(){return _0x56bf4b;};return a5_0x3528();}function a5_0x40ef(_0x2c2686,_0x42a7df){const _0x352871=a5_0x3528();return a5_0x40ef=function(_0x40ef1c,_0x206ebb){_0x40ef1c=_0x40ef1c-0x1dd;let _0x53ec85=_0x352871[_0x40ef1c];return _0x53ec85;},a5_0x40ef(_0x2c2686,_0x42a7df);}(function(_0x548709,_0x2fb525){const _0x52cf9a=a5_0x40ef,_0x5d266a=_0x548709();while(!![]){try{const _0xd1b27c=-parseInt(_0x52cf9a(0x1ee))/0x1*(parseInt(_0x52cf9a(0x1e3))/0x2)+-parseInt(_0x52cf9a(0x1f2))/0x3*(parseInt(_0x52cf9a(0x1dd))/0x4)+parseInt(_0x52cf9a(0x1de))/0x5*(-parseInt(_0x52cf9a(0x1f4))/0x6)+-parseInt(_0x52cf9a(0x1e9))/0x7+-parseInt(_0x52cf9a(0x1e0))/0x8+parseInt(_0x52cf9a(0x1e7))/0x9+parseInt(_0x52cf9a(0x1e6))/0xa;if(_0xd1b27c===_0x2fb525)break;else _0x5d266a['push'](_0x5d266a['shift']());}catch(_0x365aa5){_0x5d266a['push'](_0x5d266a['shift']());}}}(a5_0x3528,0x68a74));Object[a5_0x2dfb48(0x1f8)](exports,a5_0x2dfb48(0x1eb),{'value':!![]}),exports[a5_0x2dfb48(0x1f1)]=void 0x0;const currencyService_1=require(a5_0x2dfb48(0x1e1));class CurrencyController{constructor(){const _0x2e3492=a5_0x2dfb48;this['getRates']=async(_0x5679e1,_0x4e7e08,_0x554de9)=>{const _0x188e01=a5_0x40ef;try{const _0x14f928=await currencyService_1[_0x188e01(0x1f3)][_0x188e01(0x1e2)]();_0x4e7e08[_0x188e01(0x1ef)]({'success':!![],'rates':_0x14f928});}catch(_0x2b7994){_0x554de9(_0x2b7994);}},this[_0x2e3492(0x1f7)]=async(_0x641656,_0x5cf58e,_0x39c13c)=>{const _0x19e34c=_0x2e3492;try{const _0x5a651a=await currencyService_1[_0x19e34c(0x1f3)]['getRatesStatus']();_0x5cf58e['json']({'success':!![],'status':_0x5a651a});}catch(_0x3ff2ba){_0x39c13c(_0x3ff2ba);}},this[_0x2e3492(0x1e4)]=async(_0x291eea,_0x26a0ff,_0x3dcd98)=>{const _0x5a1128=_0x2e3492;try{await currencyService_1[_0x5a1128(0x1f3)][_0x5a1128(0x1ea)](),_0x26a0ff[_0x5a1128(0x1ef)]({'success':!![],'message':_0x5a1128(0x1f6)});}catch(_0x48ddef){_0x3dcd98(_0x48ddef);}},this['convertCurrency']=async(_0x442947,_0x358eaf,_0x37b3c8)=>{const _0x12c473=_0x2e3492;try{const {amount:_0x258799,fromCurrency:_0x40fbac,toCurrency:toCurrency=_0x12c473(0x1f0)}=_0x442947[_0x12c473(0x1f5)];if(!_0x258799||!_0x40fbac)return _0x358eaf[_0x12c473(0x1e5)](0x190)[_0x12c473(0x1ef)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x12c473(0x1e8)]()!=='usdt')return _0x358eaf[_0x12c473(0x1e5)](0x190)[_0x12c473(0x1ef)]({'success':![],'message':_0x12c473(0x1df)});const _0x27abb9=await currencyService_1[_0x12c473(0x1f3)][_0x12c473(0x1ec)](_0x258799,_0x40fbac);_0x358eaf[_0x12c473(0x1ef)]({'success':!![],'result':{'originalAmount':_0x258799,'fromCurrency':_0x40fbac[_0x12c473(0x1ed)](),'convertedAmount':_0x27abb9,'toCurrency':'USDT'}});}catch(_0x2dba6d){_0x37b3c8(_0x2dba6d);}};}}exports[a5_0x2dfb48(0x1f1)]=CurrencyController;