'use strict';function a6_0x5de2(){const _0x941af0=['usdt','toUpperCase','CurrencyController','updateCurrencyRates','9907659elXGDX','885872uYHVwv','body','8ArKwqH','Amount\x20and\x20fromCurrency\x20are\x20required','getRatesStatus','2225032uDdTCM','getRates','7aYMYLA','convertToUSDT','869Ekfyol','status','json','getStatus','currencyService','4UWoxnR','7028916PItcZX','updateRates','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','__esModule','getAllRates','274060CkdrBn','1444044mdXNdn','435995tDnfeC'];a6_0x5de2=function(){return _0x941af0;};return a6_0x5de2();}const a6_0x10ac4e=a6_0x31b3;(function(_0x2c39c1,_0xa21f5d){const _0x21b996=a6_0x31b3,_0x435e19=_0x2c39c1();while(!![]){try{const _0x3a8f5c=-parseInt(_0x21b996(0xa9))/0x1+parseInt(_0x21b996(0xae))/0x2+-parseInt(_0x21b996(0xa2))/0x3*(-parseInt(_0x21b996(0xb7))/0x4)+-parseInt(_0x21b996(0xa3))/0x5+-parseInt(_0x21b996(0x9c))/0x6*(-parseInt(_0x21b996(0xb0))/0x7)+-parseInt(_0x21b996(0xab))/0x8*(-parseInt(_0x21b996(0xa8))/0x9)+-parseInt(_0x21b996(0xa1))/0xa*(parseInt(_0x21b996(0xb2))/0xb);if(_0x3a8f5c===_0xa21f5d)break;else _0x435e19['push'](_0x435e19['shift']());}catch(_0x522320){_0x435e19['push'](_0x435e19['shift']());}}}(a6_0x5de2,0xb1bf8));Object['defineProperty'](exports,a6_0x10ac4e(0x9f),{'value':!![]}),exports[a6_0x10ac4e(0xa6)]=void 0x0;function a6_0x31b3(_0x441eb4,_0x37e120){_0x441eb4=_0x441eb4-0x9c;const _0x5de2a2=a6_0x5de2();let _0x31b358=_0x5de2a2[_0x441eb4];return _0x31b358;}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0xc7b54f=a6_0x10ac4e;this[_0xc7b54f(0xaf)]=async(_0x9d35ec,_0x308648,_0x34e976)=>{const _0x1b2e38=_0xc7b54f;try{const _0x5802a9=await currencyService_1[_0x1b2e38(0xb6)][_0x1b2e38(0xa0)]();_0x308648['json']({'success':!![],'rates':_0x5802a9});}catch(_0x513890){_0x34e976(_0x513890);}},this[_0xc7b54f(0xb5)]=async(_0x3c7db2,_0x21e5b8,_0x3c7bb4)=>{const _0x1dc191=_0xc7b54f;try{const _0x3f0a73=await currencyService_1[_0x1dc191(0xb6)][_0x1dc191(0xad)]();_0x21e5b8[_0x1dc191(0xb4)]({'success':!![],'status':_0x3f0a73});}catch(_0x4e5f47){_0x3c7bb4(_0x4e5f47);}},this[_0xc7b54f(0x9d)]=async(_0x3badaa,_0x598a98,_0x5a5745)=>{const _0x3ad939=_0xc7b54f;try{await currencyService_1['currencyService'][_0x3ad939(0xa7)](),_0x598a98[_0x3ad939(0xb4)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x2cd85b){_0x5a5745(_0x2cd85b);}},this['convertCurrency']=async(_0x594a5d,_0x144631,_0x391000)=>{const _0x43c136=_0xc7b54f;try{const {amount:_0x37440b,fromCurrency:_0x138793,toCurrency:toCurrency=_0x43c136(0xa4)}=_0x594a5d[_0x43c136(0xaa)];if(!_0x37440b||!_0x138793)return _0x144631[_0x43c136(0xb3)](0x190)['json']({'success':![],'message':_0x43c136(0xac)});if(toCurrency['toLowerCase']()!==_0x43c136(0xa4))return _0x144631[_0x43c136(0xb3)](0x190)[_0x43c136(0xb4)]({'success':![],'message':_0x43c136(0x9e)});const _0x3562c3=await currencyService_1[_0x43c136(0xb6)][_0x43c136(0xb1)](_0x37440b,_0x138793);_0x144631[_0x43c136(0xb4)]({'success':!![],'result':{'originalAmount':_0x37440b,'fromCurrency':_0x138793[_0x43c136(0xa5)](),'convertedAmount':_0x3562c3,'toCurrency':'USDT'}});}catch(_0x6b8c0){_0x391000(_0x6b8c0);}};}}exports[a6_0x10ac4e(0xa6)]=CurrencyController;