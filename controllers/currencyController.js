'use strict';const a5_0x3a3c2d=a5_0x45ef;(function(_0x83aeee,_0x3ee059){const _0x504af8=a5_0x45ef,_0xa1d0e5=_0x83aeee();while(!![]){try{const _0x4c563a=-parseInt(_0x504af8(0x10d))/0x1+-parseInt(_0x504af8(0x105))/0x2*(parseInt(_0x504af8(0x116))/0x3)+parseInt(_0x504af8(0x117))/0x4+parseInt(_0x504af8(0x115))/0x5*(-parseInt(_0x504af8(0x10f))/0x6)+parseInt(_0x504af8(0x10b))/0x7*(parseInt(_0x504af8(0x107))/0x8)+parseInt(_0x504af8(0x106))/0x9*(parseInt(_0x504af8(0x10e))/0xa)+parseInt(_0x504af8(0x112))/0xb;if(_0x4c563a===_0x3ee059)break;else _0xa1d0e5['push'](_0xa1d0e5['shift']());}catch(_0xea8ef2){_0xa1d0e5['push'](_0xa1d0e5['shift']());}}}(a5_0x459b,0x6ecc2));function a5_0x45ef(_0x24c6e8,_0x413def){const _0x459b4b=a5_0x459b();return a5_0x45ef=function(_0x45ef6c,_0x6e214e){_0x45ef6c=_0x45ef6c-0x101;let _0x294dec=_0x459b4b[_0x45ef6c];return _0x294dec;},a5_0x45ef(_0x24c6e8,_0x413def);}Object[a5_0x3a3c2d(0x114)](exports,a5_0x3a3c2d(0x119),{'value':!![]}),exports['CurrencyController']=void 0x0;function a5_0x459b(){const _0x170574=['USDT','Amount\x20and\x20fromCurrency\x20are\x20required','updateCurrencyRates','usdt','body','getRates','8086vZOqnf','27tzrHyz','328rimIVz','getStatus','currencyService','CurrencyController','6461beRWdI','toUpperCase','103216RegmAB','2683980XTwUOb','96jpAmCF','json','status','1854457gmNluu','getAllRates','defineProperty','74120gakiYg','237DewXPl','407996kHGYWe','Currency\x20rates\x20updated\x20successfully','__esModule','toLowerCase'];a5_0x459b=function(){return _0x170574;};return a5_0x459b();}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x5152ec=a5_0x3a3c2d;this[_0x5152ec(0x104)]=async(_0x22b80a,_0x2b6b18,_0x1d855e)=>{const _0x48a47b=_0x5152ec;try{const _0x992b2b=await currencyService_1[_0x48a47b(0x109)][_0x48a47b(0x113)]();_0x2b6b18['json']({'success':!![],'rates':_0x992b2b});}catch(_0x4596d3){_0x1d855e(_0x4596d3);}},this[_0x5152ec(0x108)]=async(_0x1d8260,_0x3db7e5,_0x19736c)=>{const _0x1ce45b=_0x5152ec;try{const _0x53b4fb=await currencyService_1[_0x1ce45b(0x109)]['getRatesStatus']();_0x3db7e5['json']({'success':!![],'status':_0x53b4fb});}catch(_0x9dcf1a){_0x19736c(_0x9dcf1a);}},this['updateRates']=async(_0x5c5016,_0x3cc77d,_0x297a0c)=>{const _0x364f0b=_0x5152ec;try{await currencyService_1[_0x364f0b(0x109)][_0x364f0b(0x101)](),_0x3cc77d['json']({'success':!![],'message':_0x364f0b(0x118)});}catch(_0x3f86fb){_0x297a0c(_0x3f86fb);}},this['convertCurrency']=async(_0xa7b65c,_0x34a70a,_0x1ffd52)=>{const _0x5c9340=_0x5152ec;try{const {amount:_0x487b18,fromCurrency:_0x550b93,toCurrency:toCurrency='usdt'}=_0xa7b65c[_0x5c9340(0x103)];if(!_0x487b18||!_0x550b93)return _0x34a70a[_0x5c9340(0x111)](0x190)[_0x5c9340(0x110)]({'success':![],'message':_0x5c9340(0x11c)});if(toCurrency[_0x5c9340(0x11a)]()!==_0x5c9340(0x102))return _0x34a70a[_0x5c9340(0x111)](0x190)[_0x5c9340(0x110)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x58a97c=await currencyService_1['currencyService']['convertToUSDT'](_0x487b18,_0x550b93);_0x34a70a['json']({'success':!![],'result':{'originalAmount':_0x487b18,'fromCurrency':_0x550b93[_0x5c9340(0x10c)](),'convertedAmount':_0x58a97c,'toCurrency':_0x5c9340(0x11b)}});}catch(_0x23e284){_0x1ffd52(_0x23e284);}};}}exports[a5_0x3a3c2d(0x10a)]=CurrencyController;