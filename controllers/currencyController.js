'use strict';const a5_0xa3de32=a5_0x4ebb;(function(_0x1fa7f1,_0x2b483c){const _0x51e76c=a5_0x4ebb,_0x1fbb98=_0x1fa7f1();while(!![]){try{const _0x17dc2e=parseInt(_0x51e76c(0xd5))/0x1*(parseInt(_0x51e76c(0xc9))/0x2)+-parseInt(_0x51e76c(0xd6))/0x3+parseInt(_0x51e76c(0xda))/0x4+-parseInt(_0x51e76c(0xd8))/0x5+-parseInt(_0x51e76c(0xd9))/0x6*(parseInt(_0x51e76c(0xcd))/0x7)+-parseInt(_0x51e76c(0xd4))/0x8+parseInt(_0x51e76c(0xc8))/0x9;if(_0x17dc2e===_0x2b483c)break;else _0x1fbb98['push'](_0x1fbb98['shift']());}catch(_0x5d1a08){_0x1fbb98['push'](_0x1fbb98['shift']());}}}(a5_0x68f7,0x8bc07));function a5_0x68f7(){const _0x4e7cef=['22956tDtnsP','4206664QqUmLd','__esModule','convertCurrency','convertToUSDT','usdt','defineProperty','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','getStatus','9874782MJbpcg','4llVRXn','getRates','body','CurrencyController','1694MaHvBa','USDT','currencyService','Amount\x20and\x20fromCurrency\x20are\x20required','status','json','updateRates','178392eVquLr','340031jDHNkw','1658958jdVuMH','getRatesStatus','3776630TOkiho'];a5_0x68f7=function(){return _0x4e7cef;};return a5_0x68f7();}Object[a5_0xa3de32(0xc5)](exports,a5_0xa3de32(0xdb),{'value':!![]}),exports[a5_0xa3de32(0xcc)]=void 0x0;function a5_0x4ebb(_0x7b6802,_0x138353){const _0x68f7cc=a5_0x68f7();return a5_0x4ebb=function(_0x4ebb5f,_0x21add1){_0x4ebb5f=_0x4ebb5f-0xc5;let _0x4afbd4=_0x68f7cc[_0x4ebb5f];return _0x4afbd4;},a5_0x4ebb(_0x7b6802,_0x138353);}const currencyService_1=require('../services/currencyService');class CurrencyController{constructor(){const _0x4e161c=a5_0xa3de32;this[_0x4e161c(0xca)]=async(_0x12cc32,_0x377d8c,_0x159829)=>{const _0x58166f=_0x4e161c;try{const _0xab174c=await currencyService_1[_0x58166f(0xcf)]['getAllRates']();_0x377d8c['json']({'success':!![],'rates':_0xab174c});}catch(_0x452e75){_0x159829(_0x452e75);}},this[_0x4e161c(0xc7)]=async(_0x54112f,_0x1ea9ec,_0x1f4ee4)=>{const _0x3e5720=_0x4e161c;try{const _0x473f78=await currencyService_1['currencyService'][_0x3e5720(0xd7)]();_0x1ea9ec[_0x3e5720(0xd2)]({'success':!![],'status':_0x473f78});}catch(_0x241e2c){_0x1f4ee4(_0x241e2c);}},this[_0x4e161c(0xd3)]=async(_0x5fa538,_0x5ddac7,_0x4be665)=>{const _0x2e7e36=_0x4e161c;try{await currencyService_1['currencyService']['updateCurrencyRates'](),_0x5ddac7[_0x2e7e36(0xd2)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x364091){_0x4be665(_0x364091);}},this[_0x4e161c(0xdc)]=async(_0x5b6e6f,_0xcff3a,_0x58e732)=>{const _0x2ff1ac=_0x4e161c;try{const {amount:_0x5655ff,fromCurrency:_0x36042b,toCurrency:toCurrency='usdt'}=_0x5b6e6f[_0x2ff1ac(0xcb)];if(!_0x5655ff||!_0x36042b)return _0xcff3a[_0x2ff1ac(0xd1)](0x190)['json']({'success':![],'message':_0x2ff1ac(0xd0)});if(toCurrency['toLowerCase']()!==_0x2ff1ac(0xde))return _0xcff3a['status'](0x190)['json']({'success':![],'message':_0x2ff1ac(0xc6)});const _0x4445c1=await currencyService_1['currencyService'][_0x2ff1ac(0xdd)](_0x5655ff,_0x36042b);_0xcff3a[_0x2ff1ac(0xd2)]({'success':!![],'result':{'originalAmount':_0x5655ff,'fromCurrency':_0x36042b['toUpperCase'](),'convertedAmount':_0x4445c1,'toCurrency':_0x2ff1ac(0xce)}});}catch(_0x4985ae){_0x58e732(_0x4985ae);}};}}exports[a5_0xa3de32(0xcc)]=CurrencyController;