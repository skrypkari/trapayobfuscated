'use strict';const a5_0x754820=a5_0x390a;function a5_0x2854(){const _0x39db33=['Currency\x20rates\x20updated\x20successfully','15716HrcDmQ','defineProperty','convertToUSDT','convertCurrency','1902100hdmpcL','2128848INEeIM','body','6270444ZtWmaL','1771552qStTnb','getRates','getStatus','usdt','__esModule','987933NtTIFs','updateCurrencyRates','toUpperCase','../services/currencyService','154xXUpCy','status','1GiZbpT','updateRates','currencyService','json','129630zlvXou'];a5_0x2854=function(){return _0x39db33;};return a5_0x2854();}(function(_0x27c937,_0x22e79e){const _0x50f5c7=a5_0x390a,_0x372ce8=_0x27c937();while(!![]){try{const _0x645c98=parseInt(_0x50f5c7(0xfe))/0x1*(-parseInt(_0x50f5c7(0x104))/0x2)+parseInt(_0x50f5c7(0xf8))/0x3+parseInt(_0x50f5c7(0xf0))/0x4+parseInt(_0x50f5c7(0xef))/0x5+parseInt(_0x50f5c7(0x102))/0x6*(-parseInt(_0x50f5c7(0xfc))/0x7)+parseInt(_0x50f5c7(0xf3))/0x8+-parseInt(_0x50f5c7(0xf2))/0x9;if(_0x645c98===_0x22e79e)break;else _0x372ce8['push'](_0x372ce8['shift']());}catch(_0x33edd8){_0x372ce8['push'](_0x372ce8['shift']());}}}(a5_0x2854,0x4536f));function a5_0x390a(_0x300d2d,_0x36ebc3){const _0x28546d=a5_0x2854();return a5_0x390a=function(_0x390a75,_0x2cc2d7){_0x390a75=_0x390a75-0xee;let _0xbf3b04=_0x28546d[_0x390a75];return _0xbf3b04;},a5_0x390a(_0x300d2d,_0x36ebc3);}Object[a5_0x754820(0x105)](exports,a5_0x754820(0xf7),{'value':!![]}),exports['CurrencyController']=void 0x0;const currencyService_1=require(a5_0x754820(0xfb));class CurrencyController{constructor(){const _0x235c34=a5_0x754820;this[_0x235c34(0xf4)]=async(_0x3a26e2,_0x4776dd,_0x459db1)=>{const _0x4d9c93=_0x235c34;try{const _0x315744=await currencyService_1[_0x4d9c93(0x100)]['getAllRates']();_0x4776dd[_0x4d9c93(0x101)]({'success':!![],'rates':_0x315744});}catch(_0x3c14d9){_0x459db1(_0x3c14d9);}},this[_0x235c34(0xf5)]=async(_0x46cbbd,_0x3bf456,_0x2f5574)=>{const _0x5c1b7d=_0x235c34;try{const _0xeaa5f3=await currencyService_1[_0x5c1b7d(0x100)]['getRatesStatus']();_0x3bf456[_0x5c1b7d(0x101)]({'success':!![],'status':_0xeaa5f3});}catch(_0x4dcdda){_0x2f5574(_0x4dcdda);}},this[_0x235c34(0xff)]=async(_0x9807a5,_0x2255ae,_0x591593)=>{const _0xe85456=_0x235c34;try{await currencyService_1[_0xe85456(0x100)][_0xe85456(0xf9)](),_0x2255ae[_0xe85456(0x101)]({'success':!![],'message':_0xe85456(0x103)});}catch(_0x12231b){_0x591593(_0x12231b);}},this[_0x235c34(0xee)]=async(_0x72e356,_0x3bddb2,_0x3eab07)=>{const _0x14a0d0=_0x235c34;try{const {amount:_0x23f266,fromCurrency:_0x2094c1,toCurrency:toCurrency=_0x14a0d0(0xf6)}=_0x72e356[_0x14a0d0(0xf1)];if(!_0x23f266||!_0x2094c1)return _0x3bddb2[_0x14a0d0(0xfd)](0x190)[_0x14a0d0(0x101)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency['toLowerCase']()!==_0x14a0d0(0xf6))return _0x3bddb2[_0x14a0d0(0xfd)](0x190)['json']({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x535d54=await currencyService_1[_0x14a0d0(0x100)][_0x14a0d0(0x106)](_0x23f266,_0x2094c1);_0x3bddb2[_0x14a0d0(0x101)]({'success':!![],'result':{'originalAmount':_0x23f266,'fromCurrency':_0x2094c1[_0x14a0d0(0xfa)](),'convertedAmount':_0x535d54,'toCurrency':'USDT'}});}catch(_0x51fb8b){_0x3eab07(_0x51fb8b);}};}}exports['CurrencyController']=CurrencyController;