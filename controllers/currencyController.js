'use strict';const a5_0x40b054=a5_0x199a;function a5_0x199a(_0x247a7c,_0x220595){_0x247a7c=_0x247a7c-0x167;const _0xca3012=a5_0xca30();let _0x199a50=_0xca3012[_0x247a7c];return _0x199a50;}(function(_0x2dd046,_0x250f4b){const _0x5860dd=a5_0x199a,_0x8c7448=_0x2dd046();while(!![]){try{const _0x2b5033=-parseInt(_0x5860dd(0x16c))/0x1*(parseInt(_0x5860dd(0x168))/0x2)+-parseInt(_0x5860dd(0x17d))/0x3*(parseInt(_0x5860dd(0x16a))/0x4)+-parseInt(_0x5860dd(0x16d))/0x5+parseInt(_0x5860dd(0x175))/0x6+parseInt(_0x5860dd(0x178))/0x7*(parseInt(_0x5860dd(0x17c))/0x8)+-parseInt(_0x5860dd(0x172))/0x9*(parseInt(_0x5860dd(0x17a))/0xa)+-parseInt(_0x5860dd(0x170))/0xb*(-parseInt(_0x5860dd(0x17e))/0xc);if(_0x2b5033===_0x250f4b)break;else _0x8c7448['push'](_0x8c7448['shift']());}catch(_0x14b732){_0x8c7448['push'](_0x8c7448['shift']());}}}(a5_0xca30,0x79cab));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a5_0x40b054(0x169)]=void 0x0;function a5_0xca30(){const _0x4a3a88=['updateCurrencyRates','5648562rFfrgm','currencyService','convertCurrency','1820ijxovx','toLowerCase','6190yzsmpb','toUpperCase','15528vcrUsV','1035zcburJ','12WadyQh','status','2rejLBc','CurrencyController','4880cbkGEr','../services/currencyService','149605RdyltP','3390625rXxNbQ','usdt','json','13045483aNcLSN','getAllRates','12861hVAOet','convertToUSDT'];a5_0xca30=function(){return _0x4a3a88;};return a5_0xca30();}const currencyService_1=require(a5_0x40b054(0x16b));class CurrencyController{constructor(){const _0x3f0866=a5_0x40b054;this['getRates']=async(_0x15e6f7,_0x549711,_0x12ea7c)=>{const _0x344ecb=a5_0x199a;try{const _0x299a23=await currencyService_1[_0x344ecb(0x176)][_0x344ecb(0x171)]();_0x549711[_0x344ecb(0x16f)]({'success':!![],'rates':_0x299a23});}catch(_0xf11411){_0x12ea7c(_0xf11411);}},this['getStatus']=async(_0x2cb39f,_0x5348c8,_0x21d3a9)=>{const _0x544e1c=a5_0x199a;try{const _0x137dc8=await currencyService_1[_0x544e1c(0x176)]['getRatesStatus']();_0x5348c8['json']({'success':!![],'status':_0x137dc8});}catch(_0xbc9d79){_0x21d3a9(_0xbc9d79);}},this['updateRates']=async(_0x1b2025,_0x4d2f62,_0x343e58)=>{const _0x11e7c2=a5_0x199a;try{await currencyService_1[_0x11e7c2(0x176)][_0x11e7c2(0x174)](),_0x4d2f62[_0x11e7c2(0x16f)]({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x3616cc){_0x343e58(_0x3616cc);}},this[_0x3f0866(0x177)]=async(_0x408ebc,_0x7ccd0,_0x336ac4)=>{const _0x230de8=_0x3f0866;try{const {amount:_0x1bc786,fromCurrency:_0x50a388,toCurrency:toCurrency=_0x230de8(0x16e)}=_0x408ebc['body'];if(!_0x1bc786||!_0x50a388)return _0x7ccd0[_0x230de8(0x167)](0x190)[_0x230de8(0x16f)]({'success':![],'message':'Amount\x20and\x20fromCurrency\x20are\x20required'});if(toCurrency[_0x230de8(0x179)]()!==_0x230de8(0x16e))return _0x7ccd0['status'](0x190)[_0x230de8(0x16f)]({'success':![],'message':'Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported'});const _0x475fc5=await currencyService_1['currencyService'][_0x230de8(0x173)](_0x1bc786,_0x50a388);_0x7ccd0[_0x230de8(0x16f)]({'success':!![],'result':{'originalAmount':_0x1bc786,'fromCurrency':_0x50a388[_0x230de8(0x17b)](),'convertedAmount':_0x475fc5,'toCurrency':'USDT'}});}catch(_0x3cddce){_0x336ac4(_0x3cddce);}};}}exports['CurrencyController']=CurrencyController;