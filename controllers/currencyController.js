'use strict';const a5_0x587970=a5_0x47b7;function a5_0x47b7(_0x543777,_0x343081){const _0x160919=a5_0x1609();return a5_0x47b7=function(_0x47b73b,_0x1a0165){_0x47b73b=_0x47b73b-0x1ef;let _0x3086e4=_0x160919[_0x47b73b];return _0x3086e4;},a5_0x47b7(_0x543777,_0x343081);}(function(_0xc0a07a,_0x4761c1){const _0x3bd4b7=a5_0x47b7,_0x5ae87a=_0xc0a07a();while(!![]){try{const _0x47dc4b=-parseInt(_0x3bd4b7(0x1f1))/0x1*(-parseInt(_0x3bd4b7(0x200))/0x2)+-parseInt(_0x3bd4b7(0x1f8))/0x3*(-parseInt(_0x3bd4b7(0x1fb))/0x4)+-parseInt(_0x3bd4b7(0x1fd))/0x5+-parseInt(_0x3bd4b7(0x208))/0x6+parseInt(_0x3bd4b7(0x1f2))/0x7+parseInt(_0x3bd4b7(0x1fc))/0x8+-parseInt(_0x3bd4b7(0x1f6))/0x9;if(_0x47dc4b===_0x4761c1)break;else _0x5ae87a['push'](_0x5ae87a['shift']());}catch(_0x39528f){_0x5ae87a['push'](_0x5ae87a['shift']());}}}(a5_0x1609,0x65c39));function a5_0x1609(){const _0x589b4f=['CurrencyController','2211891VeOvhc','convertToUSDT','updateRates','4yXnwTg','3301872BxrEAF','4111025yaQRQB','__esModule','Currently\x20only\x20conversion\x20to\x20USDT\x20is\x20supported','58BGMZBS','getAllRates','../services/currencyService','json','Amount\x20and\x20fromCurrency\x20are\x20required','toLowerCase','getRatesStatus','usdt','458208FsJJRu','convertCurrency','getRates','3993XCJBph','4853975wqFJYh','status','defineProperty','currencyService','5794695bNHYBm'];a5_0x1609=function(){return _0x589b4f;};return a5_0x1609();}Object[a5_0x587970(0x1f4)](exports,a5_0x587970(0x1fe),{'value':!![]}),exports[a5_0x587970(0x1f7)]=void 0x0;const currencyService_1=require(a5_0x587970(0x202));class CurrencyController{constructor(){const _0x1450d4=a5_0x587970;this[_0x1450d4(0x1f0)]=async(_0x477ef3,_0x27c159,_0x16d85a)=>{const _0x59ec22=_0x1450d4;try{const _0xfce4dc=await currencyService_1['currencyService'][_0x59ec22(0x201)]();_0x27c159[_0x59ec22(0x203)]({'success':!![],'rates':_0xfce4dc});}catch(_0x6fb2d6){_0x16d85a(_0x6fb2d6);}},this['getStatus']=async(_0x2f0ca8,_0x3ad9ee,_0x5be209)=>{const _0x531a31=_0x1450d4;try{const _0x5c7e83=await currencyService_1['currencyService'][_0x531a31(0x206)]();_0x3ad9ee[_0x531a31(0x203)]({'success':!![],'status':_0x5c7e83});}catch(_0x5659f6){_0x5be209(_0x5659f6);}},this[_0x1450d4(0x1fa)]=async(_0x2af985,_0x50e1dd,_0x44b689)=>{const _0x1f6c22=_0x1450d4;try{await currencyService_1[_0x1f6c22(0x1f5)]['updateCurrencyRates'](),_0x50e1dd['json']({'success':!![],'message':'Currency\x20rates\x20updated\x20successfully'});}catch(_0x2ee1e3){_0x44b689(_0x2ee1e3);}},this[_0x1450d4(0x1ef)]=async(_0x352d5a,_0x5dec97,_0x59779f)=>{const _0x552109=_0x1450d4;try{const {amount:_0x79604a,fromCurrency:_0x1df18b,toCurrency:toCurrency=_0x552109(0x207)}=_0x352d5a['body'];if(!_0x79604a||!_0x1df18b)return _0x5dec97['status'](0x190)['json']({'success':![],'message':_0x552109(0x204)});if(toCurrency[_0x552109(0x205)]()!==_0x552109(0x207))return _0x5dec97[_0x552109(0x1f3)](0x190)[_0x552109(0x203)]({'success':![],'message':_0x552109(0x1ff)});const _0x8f79b5=await currencyService_1[_0x552109(0x1f5)][_0x552109(0x1f9)](_0x79604a,_0x1df18b);_0x5dec97[_0x552109(0x203)]({'success':!![],'result':{'originalAmount':_0x79604a,'fromCurrency':_0x1df18b['toUpperCase'](),'convertedAmount':_0x8f79b5,'toCurrency':'USDT'}});}catch(_0x2da162){_0x59779f(_0x2da162);}};}}exports[a5_0x587970(0x1f7)]=CurrencyController;