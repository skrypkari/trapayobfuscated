'use strict';const a17_0x44d44b=a17_0x269b;(function(_0x151cc2,_0x1e7040){const _0x1d795b=a17_0x269b,_0x8a2bc=_0x151cc2();while(!![]){try{const _0x3d25c9=-parseInt(_0x1d795b(0xb6))/0x1+-parseInt(_0x1d795b(0x9e))/0x2*(-parseInt(_0x1d795b(0xb5))/0x3)+-parseInt(_0x1d795b(0xb2))/0x4*(parseInt(_0x1d795b(0xb1))/0x5)+-parseInt(_0x1d795b(0xb3))/0x6+parseInt(_0x1d795b(0xaa))/0x7*(parseInt(_0x1d795b(0xbd))/0x8)+parseInt(_0x1d795b(0xba))/0x9+-parseInt(_0x1d795b(0xb7))/0xa*(-parseInt(_0x1d795b(0xc1))/0xb);if(_0x3d25c9===_0x1e7040)break;else _0x8a2bc['push'](_0x8a2bc['shift']());}catch(_0xca37d9){_0x8a2bc['push'](_0x8a2bc['shift']());}}}(a17_0x2f29,0xe45c1));Object['defineProperty'](exports,a17_0x44d44b(0xb0),{'value':!![]}),exports['SettingsController']=void 0x0;function a17_0x2f29(){const _0x43ba2f=['settingsService','status','Unauthorized','Telegram\x20bot\x20settings\x20updated\x20successfully','updateWebhookSettings','updateNotifications','All\x20API\x20keys\x20revoked\x20successfully','SettingsController','Notification\x20preferences\x20updated\x20successfully','2060709JMSKdT','getShopSettings','disconnectTelegramSession','revokeAllApiKeys','Password\x20updated\x20successfully','Account\x20deleted\x20successfully','__esModule','25sXnKqV','110192FxrIrm','10036902bgrExs','params','650562mybthF','1252063VOhEuc','30270NMJzOy','deleteAccount','user','6700689IghAEI','getTelegramSessions','SettingsService','8JQZiPH','updateTelegramSettings','changePassword','json','7601SmOmuH','body','8HGZEgQ','Shop\x20settings\x20retrieved\x20successfully','revokeApiKeys'];a17_0x2f29=function(){return _0x43ba2f;};return a17_0x2f29();}const settingsService_1=require('../services/settingsService');function a17_0x269b(_0x45ca54,_0x240048){_0x45ca54=_0x45ca54-0x9d;const _0x2f2995=a17_0x2f29();let _0x269bd1=_0x2f2995[_0x45ca54];return _0x269bd1;}class SettingsController{constructor(){const _0x1e52d6=a17_0x44d44b;this['getSettings']=async(_0x39d9b1,_0x5ca67d,_0x3aea78)=>{const _0x376275=a17_0x269b;try{const _0x42f3da=_0x39d9b1['user']?.['id'];if(!_0x42f3da)return _0x5ca67d[_0x376275(0xa2)](0x191)['json']({'success':![],'message':_0x376275(0xa3)});const _0x57b7c8=await this[_0x376275(0xa1)][_0x376275(0xab)](_0x42f3da);_0x5ca67d['json']({'success':!![],'message':_0x376275(0x9f),'data':_0x57b7c8});}catch(_0x4d53a8){_0x3aea78(_0x4d53a8);}},this[_0x1e52d6(0xbf)]=async(_0xaca811,_0x125041,_0x42196c)=>{const _0x2c2705=_0x1e52d6;try{const _0x4d69f6=_0xaca811['user']?.['id'];if(!_0x4d69f6)return _0x125041[_0x2c2705(0xa2)](0x191)[_0x2c2705(0xc0)]({'success':![],'message':_0x2c2705(0xa3)});const _0x53220d=_0xaca811[_0x2c2705(0x9d)];await this[_0x2c2705(0xa1)][_0x2c2705(0xbf)](_0x4d69f6,_0x53220d),_0x125041[_0x2c2705(0xc0)]({'success':!![],'message':_0x2c2705(0xae)});}catch(_0x35a1e3){_0x42196c(_0x35a1e3);}},this[_0x1e52d6(0xa6)]=async(_0x1cf199,_0x1918e2,_0xda3398)=>{const _0x5ba61a=_0x1e52d6;try{const _0x40f66d=_0x1cf199[_0x5ba61a(0xb9)]?.['id'];if(!_0x40f66d)return _0x1918e2[_0x5ba61a(0xa2)](0x191)['json']({'success':![],'message':_0x5ba61a(0xa3)});const _0x1fc1cf=_0x1cf199[_0x5ba61a(0x9d)];await this[_0x5ba61a(0xa1)][_0x5ba61a(0xa6)](_0x40f66d,_0x1fc1cf),_0x1918e2['json']({'success':!![],'message':_0x5ba61a(0xa9)});}catch(_0x1edd0a){_0xda3398(_0x1edd0a);}},this[_0x1e52d6(0xbe)]=async(_0x3a0f66,_0x9ddf57,_0x3d4bea)=>{const _0x11808b=_0x1e52d6;try{const _0x1f9443=_0x3a0f66['user']?.['id'];if(!_0x1f9443)return _0x9ddf57['status'](0x191)[_0x11808b(0xc0)]({'success':![],'message':'Unauthorized'});const _0x48bb4e=_0x3a0f66[_0x11808b(0x9d)];await this[_0x11808b(0xa1)][_0x11808b(0xbe)](_0x1f9443,_0x48bb4e),_0x9ddf57[_0x11808b(0xc0)]({'success':!![],'message':_0x11808b(0xa4)});}catch(_0x2fd7a4){_0x3d4bea(_0x2fd7a4);}},this[_0x1e52d6(0xa5)]=async(_0x257d5f,_0x5dff32,_0x3af81c)=>{const _0x3cb617=_0x1e52d6;try{const _0x49740f=_0x257d5f[_0x3cb617(0xb9)]?.['id'];if(!_0x49740f)return _0x5dff32[_0x3cb617(0xa2)](0x191)[_0x3cb617(0xc0)]({'success':![],'message':_0x3cb617(0xa3)});const _0x597cec=_0x257d5f[_0x3cb617(0x9d)];await this[_0x3cb617(0xa1)][_0x3cb617(0xa5)](_0x49740f,_0x597cec),_0x5dff32[_0x3cb617(0xc0)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x17715a){_0x3af81c(_0x17715a);}},this[_0x1e52d6(0xa0)]=async(_0x3742ec,_0x856277,_0x18b6b0)=>{const _0xefa8c9=_0x1e52d6;try{const _0x561973=_0x3742ec[_0xefa8c9(0xb9)]?.['id'];if(!_0x561973)return _0x856277['status'](0x191)[_0xefa8c9(0xc0)]({'success':![],'message':_0xefa8c9(0xa3)});const {twoFactorToken:_0x1755a4}=_0x3742ec['body'];await this[_0xefa8c9(0xa1)][_0xefa8c9(0xad)](_0x561973,_0x1755a4),_0x856277['json']({'success':!![],'message':_0xefa8c9(0xa7)});}catch(_0x31b797){_0x18b6b0(_0x31b797);}},this[_0x1e52d6(0xb8)]=async(_0x1c4627,_0x494111,_0x16c64f)=>{const _0x236a7d=_0x1e52d6;try{const _0x318e46=_0x1c4627[_0x236a7d(0xb9)]?.['id'];if(!_0x318e46)return _0x494111[_0x236a7d(0xa2)](0x191)[_0x236a7d(0xc0)]({'success':![],'message':_0x236a7d(0xa3)});const _0x226f0a=_0x1c4627['body'];await this[_0x236a7d(0xa1)][_0x236a7d(0xb8)](_0x318e46,_0x226f0a),_0x494111[_0x236a7d(0xc0)]({'success':!![],'message':_0x236a7d(0xaf)});}catch(_0x409208){_0x16c64f(_0x409208);}},this[_0x1e52d6(0xbb)]=async(_0x17d54a,_0x118228,_0xf65ed9)=>{const _0x36f462=_0x1e52d6;try{const _0x315dfd=_0x17d54a['user']?.['id'];if(!_0x315dfd)return _0x118228[_0x36f462(0xa2)](0x191)['json']({'success':![],'message':_0x36f462(0xa3)});const _0x5be10b=await this[_0x36f462(0xa1)][_0x36f462(0xbb)](_0x315dfd);_0x118228[_0x36f462(0xc0)]({'success':!![],'sessions':_0x5be10b});}catch(_0x41e91a){_0xf65ed9(_0x41e91a);}},this['disconnectTelegramSession']=async(_0x5b4d35,_0xa60902,_0x5733a1)=>{const _0x4b4560=_0x1e52d6;try{const _0x90697f=_0x5b4d35['user']?.['id'];if(!_0x90697f)return _0xa60902[_0x4b4560(0xa2)](0x191)[_0x4b4560(0xc0)]({'success':![],'message':'Unauthorized'});const {telegramUserId:_0x3e84a0}=_0x5b4d35[_0x4b4560(0xb4)];await this[_0x4b4560(0xa1)][_0x4b4560(0xac)](_0x90697f,_0x3e84a0),_0xa60902[_0x4b4560(0xc0)]({'success':!![],'message':'Telegram\x20session\x20disconnected\x20successfully'});}catch(_0x5e64ad){_0x5733a1(_0x5e64ad);}},this[_0x1e52d6(0xa1)]=new settingsService_1[(_0x1e52d6(0xbc))]();}}exports[a17_0x44d44b(0xa8)]=SettingsController;