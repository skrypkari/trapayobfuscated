'use strict';function a16_0x8622(){const _0x3e3346=['status','5538603tsYGoX','updateNotifications','3795810NkuGbO','1000iIwVOz','SettingsService','getShopSettings','43110dhARkt','../services/settingsService','Account\x20deleted\x20successfully','1632376OrKTaT','__esModule','Password\x20updated\x20successfully','All\x20API\x20keys\x20revoked\x20successfully','3zdyajC','user','394360lSFuIE','disconnectTelegramSession','Notification\x20preferences\x20updated\x20successfully','updateWebhookSettings','2794444nJomqr','json','changePassword','deleteAccount','3134565dysjiA','getTelegramSessions','revokeAllApiKeys','Telegram\x20bot\x20settings\x20updated\x20successfully','body','Unauthorized','updateTelegramSettings','settingsService','Telegram\x20session\x20disconnected\x20successfully'];a16_0x8622=function(){return _0x3e3346;};return a16_0x8622();}const a16_0x1705fa=a16_0x46fb;(function(_0x1f84de,_0x43b788){const _0x26fe69=a16_0x46fb,_0x5eaac4=_0x1f84de();while(!![]){try{const _0xe8ea4=parseInt(_0x26fe69(0x140))/0x1+parseInt(_0x26fe69(0x13a))/0x2*(-parseInt(_0x26fe69(0x13e))/0x3)+parseInt(_0x26fe69(0x144))/0x4+-parseInt(_0x26fe69(0x127))/0x5+parseInt(_0x26fe69(0x133))/0x6+parseInt(_0x26fe69(0x131))/0x7+parseInt(_0x26fe69(0x134))/0x8*(-parseInt(_0x26fe69(0x137))/0x9);if(_0xe8ea4===_0x43b788)break;else _0x5eaac4['push'](_0x5eaac4['shift']());}catch(_0x4c58bc){_0x5eaac4['push'](_0x5eaac4['shift']());}}}(a16_0x8622,0x73f68));function a16_0x46fb(_0x273a0a,_0x1c2f64){_0x273a0a=_0x273a0a-0x127;const _0x8622d0=a16_0x8622();let _0x46fb66=_0x8622d0[_0x273a0a];return _0x46fb66;}Object['defineProperty'](exports,a16_0x1705fa(0x13b),{'value':!![]}),exports['SettingsController']=void 0x0;const settingsService_1=require(a16_0x1705fa(0x138));class SettingsController{constructor(){const _0x18a57d=a16_0x1705fa;this['getSettings']=async(_0x27ca3f,_0x26090c,_0x52228e)=>{const _0x1b114c=a16_0x46fb;try{const _0x27ec71=_0x27ca3f[_0x1b114c(0x13f)]?.['id'];if(!_0x27ec71)return _0x26090c[_0x1b114c(0x130)](0x191)['json']({'success':![],'message':_0x1b114c(0x12c)});const _0x457470=await this[_0x1b114c(0x12e)][_0x1b114c(0x136)](_0x27ec71);_0x26090c[_0x1b114c(0x145)]({'success':!![],'message':'Shop\x20settings\x20retrieved\x20successfully','data':_0x457470});}catch(_0x51d8b2){_0x52228e(_0x51d8b2);}},this[_0x18a57d(0x146)]=async(_0x96874a,_0x143f19,_0x1c7f37)=>{const _0x3c0e92=_0x18a57d;try{const _0x32ab9f=_0x96874a[_0x3c0e92(0x13f)]?.['id'];if(!_0x32ab9f)return _0x143f19[_0x3c0e92(0x130)](0x191)['json']({'success':![],'message':_0x3c0e92(0x12c)});const _0x2f959f=_0x96874a[_0x3c0e92(0x12b)];await this['settingsService'][_0x3c0e92(0x146)](_0x32ab9f,_0x2f959f),_0x143f19[_0x3c0e92(0x145)]({'success':!![],'message':_0x3c0e92(0x13c)});}catch(_0xd8cd9c){_0x1c7f37(_0xd8cd9c);}},this[_0x18a57d(0x132)]=async(_0x10898d,_0x33ad66,_0x63b84c)=>{const _0x424232=_0x18a57d;try{const _0x40232b=_0x10898d['user']?.['id'];if(!_0x40232b)return _0x33ad66[_0x424232(0x130)](0x191)[_0x424232(0x145)]({'success':![],'message':_0x424232(0x12c)});const _0x22ac1f=_0x10898d[_0x424232(0x12b)];await this[_0x424232(0x12e)]['updateNotifications'](_0x40232b,_0x22ac1f),_0x33ad66[_0x424232(0x145)]({'success':!![],'message':_0x424232(0x142)});}catch(_0x291534){_0x63b84c(_0x291534);}},this[_0x18a57d(0x12d)]=async(_0x160389,_0x32fe1a,_0x38f629)=>{const _0x159e0d=_0x18a57d;try{const _0x4ae12e=_0x160389['user']?.['id'];if(!_0x4ae12e)return _0x32fe1a[_0x159e0d(0x130)](0x191)[_0x159e0d(0x145)]({'success':![],'message':_0x159e0d(0x12c)});const _0x384b6b=_0x160389['body'];await this[_0x159e0d(0x12e)]['updateTelegramSettings'](_0x4ae12e,_0x384b6b),_0x32fe1a[_0x159e0d(0x145)]({'success':!![],'message':_0x159e0d(0x12a)});}catch(_0x5d0d87){_0x38f629(_0x5d0d87);}},this[_0x18a57d(0x143)]=async(_0x4f5230,_0x4a3e1e,_0x4c23ee)=>{const _0x29a1b7=_0x18a57d;try{const _0xaedc5b=_0x4f5230['user']?.['id'];if(!_0xaedc5b)return _0x4a3e1e[_0x29a1b7(0x130)](0x191)[_0x29a1b7(0x145)]({'success':![],'message':_0x29a1b7(0x12c)});const _0x3b1a43=_0x4f5230[_0x29a1b7(0x12b)];await this[_0x29a1b7(0x12e)][_0x29a1b7(0x143)](_0xaedc5b,_0x3b1a43),_0x4a3e1e[_0x29a1b7(0x145)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x132cd5){_0x4c23ee(_0x132cd5);}},this['revokeApiKeys']=async(_0xd46abd,_0x5a057d,_0x5c9ccc)=>{const _0x21c5c5=_0x18a57d;try{const _0x276dc8=_0xd46abd[_0x21c5c5(0x13f)]?.['id'];if(!_0x276dc8)return _0x5a057d['status'](0x191)['json']({'success':![],'message':_0x21c5c5(0x12c)});const {twoFactorToken:_0x4dabed}=_0xd46abd['body'];await this[_0x21c5c5(0x12e)][_0x21c5c5(0x129)](_0x276dc8,_0x4dabed),_0x5a057d[_0x21c5c5(0x145)]({'success':!![],'message':_0x21c5c5(0x13d)});}catch(_0x38aaa6){_0x5c9ccc(_0x38aaa6);}},this[_0x18a57d(0x147)]=async(_0x531eb8,_0x136e8b,_0x570ffe)=>{const _0x50baed=_0x18a57d;try{const _0x58ab1c=_0x531eb8[_0x50baed(0x13f)]?.['id'];if(!_0x58ab1c)return _0x136e8b[_0x50baed(0x130)](0x191)[_0x50baed(0x145)]({'success':![],'message':'Unauthorized'});const _0x3acf91=_0x531eb8[_0x50baed(0x12b)];await this[_0x50baed(0x12e)][_0x50baed(0x147)](_0x58ab1c,_0x3acf91),_0x136e8b['json']({'success':!![],'message':_0x50baed(0x139)});}catch(_0x2497ea){_0x570ffe(_0x2497ea);}},this[_0x18a57d(0x128)]=async(_0x5f26db,_0x2fc696,_0xd3a2c1)=>{const _0x507e71=_0x18a57d;try{const _0x59053c=_0x5f26db[_0x507e71(0x13f)]?.['id'];if(!_0x59053c)return _0x2fc696[_0x507e71(0x130)](0x191)[_0x507e71(0x145)]({'success':![],'message':_0x507e71(0x12c)});const _0xe6b056=await this[_0x507e71(0x12e)][_0x507e71(0x128)](_0x59053c);_0x2fc696[_0x507e71(0x145)]({'success':!![],'sessions':_0xe6b056});}catch(_0x4f4fc1){_0xd3a2c1(_0x4f4fc1);}},this[_0x18a57d(0x141)]=async(_0x4b6e68,_0x12a2a4,_0x27ad4b)=>{const _0x3ad919=_0x18a57d;try{const _0x105c6f=_0x4b6e68[_0x3ad919(0x13f)]?.['id'];if(!_0x105c6f)return _0x12a2a4[_0x3ad919(0x130)](0x191)[_0x3ad919(0x145)]({'success':![],'message':_0x3ad919(0x12c)});const {telegramUserId:_0x3d535f}=_0x4b6e68['params'];await this['settingsService'][_0x3ad919(0x141)](_0x105c6f,_0x3d535f),_0x12a2a4['json']({'success':!![],'message':_0x3ad919(0x12f)});}catch(_0x1cb026){_0x27ad4b(_0x1cb026);}},this[_0x18a57d(0x12e)]=new settingsService_1[(_0x18a57d(0x135))]();}}exports['SettingsController']=SettingsController;