'use strict';const a10_0x45ce9d=a10_0x4b3c;function a10_0x4b3c(_0x28d95e,_0x1eefbd){const _0x28fbe5=a10_0x28fb();return a10_0x4b3c=function(_0x4b3c8d,_0xf38d3b){_0x4b3c8d=_0x4b3c8d-0x1b6;let _0x5466c0=_0x28fbe5[_0x4b3c8d];return _0x5466c0;},a10_0x4b3c(_0x28d95e,_0x1eefbd);}(function(_0x27a5d3,_0x57e83c){const _0x590222=a10_0x4b3c,_0x4f5067=_0x27a5d3();while(!![]){try{const _0x356f65=parseInt(_0x590222(0x1ce))/0x1+-parseInt(_0x590222(0x1c8))/0x2*(parseInt(_0x590222(0x1c4))/0x3)+parseInt(_0x590222(0x1b6))/0x4+-parseInt(_0x590222(0x1bf))/0x5+-parseInt(_0x590222(0x1b9))/0x6+parseInt(_0x590222(0x1b8))/0x7*(parseInt(_0x590222(0x1c0))/0x8)+parseInt(_0x590222(0x1bb))/0x9;if(_0x356f65===_0x57e83c)break;else _0x4f5067['push'](_0x4f5067['shift']());}catch(_0x2b1298){_0x4f5067['push'](_0x4f5067['shift']());}}}(a10_0x28fb,0x7527f));function a10_0x28fb(){const _0x18c29f=['body','3128520lLPGuG','json','6755tUNDrn','5508744jAASwt','updateTelegramSettings','13928157vAWHUi','Account\x20deleted\x20successfully','Unauthorized','All\x20API\x20keys\x20revoked\x20successfully','3878200yQwDIp','296zpkYXr','__esModule','status','revokeApiKeys','3SGhuGF','settingsService','Shop\x20settings\x20retrieved\x20successfully','updateWebhookSettings','1584984GjgFag','getShopSettings','changePassword','Notification\x20preferences\x20updated\x20successfully','getSettings','user','600719xytfms','SettingsController','deleteAccount'];a10_0x28fb=function(){return _0x18c29f;};return a10_0x28fb();}Object['defineProperty'](exports,a10_0x45ce9d(0x1c1),{'value':!![]}),exports[a10_0x45ce9d(0x1cf)]=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x412e3f=a10_0x45ce9d;this[_0x412e3f(0x1cc)]=async(_0x4b3b42,_0xfaea9b,_0xe5626d)=>{const _0x4db4cd=_0x412e3f;try{const _0x3799e5=_0x4b3b42[_0x4db4cd(0x1cd)]?.['id'];if(!_0x3799e5)return _0xfaea9b[_0x4db4cd(0x1c2)](0x191)[_0x4db4cd(0x1b7)]({'success':![],'message':_0x4db4cd(0x1bd)});const _0x29aaad=await this['settingsService'][_0x4db4cd(0x1c9)](_0x3799e5);_0xfaea9b[_0x4db4cd(0x1b7)]({'success':!![],'message':_0x4db4cd(0x1c6),'data':_0x29aaad});}catch(_0x4d0a18){_0xe5626d(_0x4d0a18);}},this[_0x412e3f(0x1ca)]=async(_0x29fb55,_0x445c55,_0xb83193)=>{const _0x25c47c=_0x412e3f;try{const _0x1f5d01=_0x29fb55['user']?.['id'];if(!_0x1f5d01)return _0x445c55['status'](0x191)[_0x25c47c(0x1b7)]({'success':![],'message':_0x25c47c(0x1bd)});const _0x5ee70a=_0x29fb55[_0x25c47c(0x1d1)];await this[_0x25c47c(0x1c5)][_0x25c47c(0x1ca)](_0x1f5d01,_0x5ee70a),_0x445c55[_0x25c47c(0x1b7)]({'success':!![],'message':'Password\x20updated\x20successfully'});}catch(_0x2d6c3c){_0xb83193(_0x2d6c3c);}},this['updateNotifications']=async(_0x27f465,_0x59331a,_0x524a0d)=>{const _0x3d47f9=_0x412e3f;try{const _0x16070d=_0x27f465[_0x3d47f9(0x1cd)]?.['id'];if(!_0x16070d)return _0x59331a[_0x3d47f9(0x1c2)](0x191)[_0x3d47f9(0x1b7)]({'success':![],'message':_0x3d47f9(0x1bd)});const _0x3bd042=_0x27f465[_0x3d47f9(0x1d1)];await this['settingsService']['updateNotifications'](_0x16070d,_0x3bd042),_0x59331a[_0x3d47f9(0x1b7)]({'success':!![],'message':_0x3d47f9(0x1cb)});}catch(_0x4c3c6a){_0x524a0d(_0x4c3c6a);}},this[_0x412e3f(0x1ba)]=async(_0x27c990,_0x4c9a00,_0x305ea8)=>{const _0x441f40=_0x412e3f;try{const _0x4ecf01=_0x27c990[_0x441f40(0x1cd)]?.['id'];if(!_0x4ecf01)return _0x4c9a00[_0x441f40(0x1c2)](0x191)[_0x441f40(0x1b7)]({'success':![],'message':_0x441f40(0x1bd)});const _0x58288f=_0x27c990[_0x441f40(0x1d1)];await this[_0x441f40(0x1c5)][_0x441f40(0x1ba)](_0x4ecf01,_0x58288f),_0x4c9a00['json']({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x3fe308){_0x305ea8(_0x3fe308);}},this[_0x412e3f(0x1c7)]=async(_0x33cf9f,_0x4770f6,_0x49c7e5)=>{const _0x320bea=_0x412e3f;try{const _0x189b85=_0x33cf9f[_0x320bea(0x1cd)]?.['id'];if(!_0x189b85)return _0x4770f6[_0x320bea(0x1c2)](0x191)[_0x320bea(0x1b7)]({'success':![],'message':_0x320bea(0x1bd)});const _0x2e9dba=_0x33cf9f[_0x320bea(0x1d1)];await this['settingsService']['updateWebhookSettings'](_0x189b85,_0x2e9dba),_0x4770f6[_0x320bea(0x1b7)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x3de513){_0x49c7e5(_0x3de513);}},this[_0x412e3f(0x1c3)]=async(_0x3be5d7,_0x632e9e,_0xb8d210)=>{const _0x276f7b=_0x412e3f;try{const _0x199096=_0x3be5d7[_0x276f7b(0x1cd)]?.['id'];if(!_0x199096)return _0x632e9e['status'](0x191)['json']({'success':![],'message':'Unauthorized'});await this[_0x276f7b(0x1c5)]['revokeAllApiKeys'](_0x199096),_0x632e9e[_0x276f7b(0x1b7)]({'success':!![],'message':_0x276f7b(0x1be)});}catch(_0x10d425){_0xb8d210(_0x10d425);}},this[_0x412e3f(0x1d0)]=async(_0x943e21,_0x4f9dd3,_0x214e51)=>{const _0x8cd48f=_0x412e3f;try{const _0x400b18=_0x943e21['user']?.['id'];if(!_0x400b18)return _0x4f9dd3['status'](0x191)[_0x8cd48f(0x1b7)]({'success':![],'message':_0x8cd48f(0x1bd)});const _0x41af12=_0x943e21['body'];await this[_0x8cd48f(0x1c5)][_0x8cd48f(0x1d0)](_0x400b18,_0x41af12),_0x4f9dd3[_0x8cd48f(0x1b7)]({'success':!![],'message':_0x8cd48f(0x1bc)});}catch(_0x4d1387){_0x214e51(_0x4d1387);}},this[_0x412e3f(0x1c5)]=new settingsService_1['SettingsService']();}}exports[a10_0x45ce9d(0x1cf)]=SettingsController;