'use strict';const a10_0x103ae6=a10_0x25e8;function a10_0x56bc(){const _0x5be0e0=['updateNotifications','revokeAllApiKeys','All\x20API\x20keys\x20revoked\x20successfully','Account\x20deleted\x20successfully','4JZPLlJ','28305zkIXpH','16ZFjcaI','user','SettingsService','60370WjFAHB','6145505jXZHSr','getShopSettings','deleteAccount','SettingsController','revokeApiKeys','Telegram\x20bot\x20settings\x20updated\x20successfully','updateTelegramSettings','body','Shop\x20settings\x20retrieved\x20successfully','Unauthorized','5564205znZcFf','1808WRtiVr','changePassword','json','settingsService','Notification\x20preferences\x20updated\x20successfully','385MKmlDn','updateWebhookSettings','10530804Mbriqg','9213694zQBznM','200611rTewmd','status'];a10_0x56bc=function(){return _0x5be0e0;};return a10_0x56bc();}(function(_0x2761f6,_0x15cc51){const _0x1a32be=a10_0x25e8,_0x389265=_0x2761f6();while(!![]){try{const _0x20ce11=parseInt(_0x1a32be(0x13c))/0x1*(-parseInt(_0x1a32be(0x124))/0x2)+parseInt(_0x1a32be(0x132))/0x3+parseInt(_0x1a32be(0x142))/0x4*(parseInt(_0x1a32be(0x128))/0x5)+parseInt(_0x1a32be(0x13a))/0x6+-parseInt(_0x1a32be(0x13b))/0x7+-parseInt(_0x1a32be(0x133))/0x8*(parseInt(_0x1a32be(0x123))/0x9)+parseInt(_0x1a32be(0x127))/0xa*(-parseInt(_0x1a32be(0x138))/0xb);if(_0x20ce11===_0x15cc51)break;else _0x389265['push'](_0x389265['shift']());}catch(_0x201427){_0x389265['push'](_0x389265['shift']());}}}(a10_0x56bc,0xf31bf));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['SettingsController']=void 0x0;const settingsService_1=require('../services/settingsService');function a10_0x25e8(_0x29e6e6,_0x5cdde4){const _0x56bcb6=a10_0x56bc();return a10_0x25e8=function(_0x25e84e,_0x3718b7){_0x25e84e=_0x25e84e-0x123;let _0x5a9f00=_0x56bcb6[_0x25e84e];return _0x5a9f00;},a10_0x25e8(_0x29e6e6,_0x5cdde4);}class SettingsController{constructor(){const _0x28456a=a10_0x25e8;this['getSettings']=async(_0x307881,_0x573ec6,_0xc2fd02)=>{const _0x236166=a10_0x25e8;try{const _0x10c263=_0x307881[_0x236166(0x125)]?.['id'];if(!_0x10c263)return _0x573ec6[_0x236166(0x13d)](0x191)['json']({'success':![],'message':_0x236166(0x131)});const _0x2b5d72=await this[_0x236166(0x136)][_0x236166(0x129)](_0x10c263);_0x573ec6[_0x236166(0x135)]({'success':!![],'message':_0x236166(0x130),'data':_0x2b5d72});}catch(_0x40a319){_0xc2fd02(_0x40a319);}},this['changePassword']=async(_0x493751,_0x4cf281,_0x3ec487)=>{const _0x101b2f=a10_0x25e8;try{const _0x53a483=_0x493751['user']?.['id'];if(!_0x53a483)return _0x4cf281[_0x101b2f(0x13d)](0x191)[_0x101b2f(0x135)]({'success':![],'message':_0x101b2f(0x131)});const _0xa5f057=_0x493751['body'];await this[_0x101b2f(0x136)][_0x101b2f(0x134)](_0x53a483,_0xa5f057),_0x4cf281[_0x101b2f(0x135)]({'success':!![],'message':'Password\x20updated\x20successfully'});}catch(_0x116d11){_0x3ec487(_0x116d11);}},this[_0x28456a(0x13e)]=async(_0x256e4a,_0xa781fb,_0x5b05b3)=>{const _0x20a12f=_0x28456a;try{const _0x35ecb6=_0x256e4a[_0x20a12f(0x125)]?.['id'];if(!_0x35ecb6)return _0xa781fb[_0x20a12f(0x13d)](0x191)[_0x20a12f(0x135)]({'success':![],'message':_0x20a12f(0x131)});const _0x509715=_0x256e4a[_0x20a12f(0x12f)];await this[_0x20a12f(0x136)][_0x20a12f(0x13e)](_0x35ecb6,_0x509715),_0xa781fb[_0x20a12f(0x135)]({'success':!![],'message':_0x20a12f(0x137)});}catch(_0x2f8d71){_0x5b05b3(_0x2f8d71);}},this[_0x28456a(0x12e)]=async(_0x1cdae2,_0xbfaa4a,_0x2c9695)=>{const _0x11d825=_0x28456a;try{const _0x4496e0=_0x1cdae2[_0x11d825(0x125)]?.['id'];if(!_0x4496e0)return _0xbfaa4a[_0x11d825(0x13d)](0x191)[_0x11d825(0x135)]({'success':![],'message':_0x11d825(0x131)});const _0x3d129d=_0x1cdae2[_0x11d825(0x12f)];await this[_0x11d825(0x136)]['updateTelegramSettings'](_0x4496e0,_0x3d129d),_0xbfaa4a[_0x11d825(0x135)]({'success':!![],'message':_0x11d825(0x12d)});}catch(_0x1c73f9){_0x2c9695(_0x1c73f9);}},this['updateWebhookSettings']=async(_0x56f519,_0xb54f52,_0x354fdc)=>{const _0x197c3=_0x28456a;try{const _0x69d74a=_0x56f519[_0x197c3(0x125)]?.['id'];if(!_0x69d74a)return _0xb54f52[_0x197c3(0x13d)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x45f985=_0x56f519[_0x197c3(0x12f)];await this['settingsService'][_0x197c3(0x139)](_0x69d74a,_0x45f985),_0xb54f52[_0x197c3(0x135)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x232285){_0x354fdc(_0x232285);}},this[_0x28456a(0x12c)]=async(_0x86d5cf,_0x3e324e,_0x125c68)=>{const _0xd0566a=_0x28456a;try{const _0x24432b=_0x86d5cf['user']?.['id'];if(!_0x24432b)return _0x3e324e[_0xd0566a(0x13d)](0x191)[_0xd0566a(0x135)]({'success':![],'message':_0xd0566a(0x131)});await this[_0xd0566a(0x136)][_0xd0566a(0x13f)](_0x24432b),_0x3e324e['json']({'success':!![],'message':_0xd0566a(0x140)});}catch(_0x3c458d){_0x125c68(_0x3c458d);}},this['deleteAccount']=async(_0x2d149e,_0x8f9f48,_0x479017)=>{const _0x218622=_0x28456a;try{const _0x1b8ca2=_0x2d149e['user']?.['id'];if(!_0x1b8ca2)return _0x8f9f48['status'](0x191)[_0x218622(0x135)]({'success':![],'message':'Unauthorized'});const _0x226a5a=_0x2d149e[_0x218622(0x12f)];await this[_0x218622(0x136)][_0x218622(0x12a)](_0x1b8ca2,_0x226a5a),_0x8f9f48[_0x218622(0x135)]({'success':!![],'message':_0x218622(0x141)});}catch(_0x2d0514){_0x479017(_0x2d0514);}},this['settingsService']=new settingsService_1[(_0x28456a(0x126))]();}}exports[a10_0x103ae6(0x12b)]=SettingsController;