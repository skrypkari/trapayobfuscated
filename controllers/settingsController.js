'use strict';const a17_0x2201da=a17_0x53f4;(function(_0x253155,_0x231338){const _0x3ede0c=a17_0x53f4,_0xc7c803=_0x253155();while(!![]){try{const _0x5e5899=parseInt(_0x3ede0c(0x1dd))/0x1+-parseInt(_0x3ede0c(0x1cd))/0x2+parseInt(_0x3ede0c(0x1db))/0x3+-parseInt(_0x3ede0c(0x1cb))/0x4*(parseInt(_0x3ede0c(0x1da))/0x5)+parseInt(_0x3ede0c(0x1e5))/0x6+parseInt(_0x3ede0c(0x1d6))/0x7+parseInt(_0x3ede0c(0x1d8))/0x8;if(_0x5e5899===_0x231338)break;else _0xc7c803['push'](_0xc7c803['shift']());}catch(_0x3f01e3){_0xc7c803['push'](_0xc7c803['shift']());}}}(a17_0xa8f4,0xc8448));function a17_0x53f4(_0x5f43ff,_0x1f0ebc){_0x5f43ff=_0x5f43ff-0x1c9;const _0xa8f4b4=a17_0xa8f4();let _0x53f416=_0xa8f4b4[_0x5f43ff];return _0x53f416;}Object['defineProperty'](exports,a17_0x2201da(0x1d0),{'value':!![]}),exports[a17_0x2201da(0x1d7)]=void 0x0;const settingsService_1=require(a17_0x2201da(0x1ca));class SettingsController{constructor(){const _0x2ec68d=a17_0x2201da;this['getSettings']=async(_0x385d6b,_0x24d566,_0x30419c)=>{const _0x37faf8=a17_0x53f4;try{const _0x337656=_0x385d6b[_0x37faf8(0x1dc)]?.['id'];if(!_0x337656)return _0x24d566[_0x37faf8(0x1d9)](0x191)['json']({'success':![],'message':_0x37faf8(0x1d2)});const _0x136db6=await this[_0x37faf8(0x1e4)]['getShopSettings'](_0x337656);_0x24d566[_0x37faf8(0x1c9)]({'success':!![],'message':'Shop\x20settings\x20retrieved\x20successfully','data':_0x136db6});}catch(_0x3598c7){_0x30419c(_0x3598c7);}},this['changePassword']=async(_0x21bef8,_0x23ac91,_0xe11fc9)=>{const _0x47c2e1=a17_0x53f4;try{const _0x3e6c15=_0x21bef8[_0x47c2e1(0x1dc)]?.['id'];if(!_0x3e6c15)return _0x23ac91[_0x47c2e1(0x1d9)](0x191)[_0x47c2e1(0x1c9)]({'success':![],'message':'Unauthorized'});const _0x1f5ec1=_0x21bef8['body'];await this[_0x47c2e1(0x1e4)]['changePassword'](_0x3e6c15,_0x1f5ec1),_0x23ac91[_0x47c2e1(0x1c9)]({'success':!![],'message':_0x47c2e1(0x1e2)});}catch(_0x3cd97d){_0xe11fc9(_0x3cd97d);}},this[_0x2ec68d(0x1e6)]=async(_0x479342,_0x2b81d7,_0x473daf)=>{const _0x1239c6=_0x2ec68d;try{const _0x4fe543=_0x479342[_0x1239c6(0x1dc)]?.['id'];if(!_0x4fe543)return _0x2b81d7[_0x1239c6(0x1d9)](0x191)[_0x1239c6(0x1c9)]({'success':![],'message':_0x1239c6(0x1d2)});const _0x3670f3=_0x479342[_0x1239c6(0x1de)];await this[_0x1239c6(0x1e4)][_0x1239c6(0x1e6)](_0x4fe543,_0x3670f3),_0x2b81d7[_0x1239c6(0x1c9)]({'success':!![],'message':_0x1239c6(0x1d3)});}catch(_0x4b58cb){_0x473daf(_0x4b58cb);}},this['updateTelegramSettings']=async(_0xad765d,_0x2392b6,_0x20ea21)=>{const _0x1778ba=_0x2ec68d;try{const _0x4f86e5=_0xad765d[_0x1778ba(0x1dc)]?.['id'];if(!_0x4f86e5)return _0x2392b6['status'](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x155d74=_0xad765d[_0x1778ba(0x1de)];await this[_0x1778ba(0x1e4)]['updateTelegramSettings'](_0x4f86e5,_0x155d74),_0x2392b6['json']({'success':!![],'message':_0x1778ba(0x1cf)});}catch(_0x30ba01){_0x20ea21(_0x30ba01);}},this['updateWebhookSettings']=async(_0x3f7b51,_0x5630e0,_0x2e2393)=>{const _0x3a4ea6=_0x2ec68d;try{const _0x451519=_0x3f7b51['user']?.['id'];if(!_0x451519)return _0x5630e0['status'](0x191)[_0x3a4ea6(0x1c9)]({'success':![],'message':_0x3a4ea6(0x1d2)});const _0x4bc3cc=_0x3f7b51[_0x3a4ea6(0x1de)];await this[_0x3a4ea6(0x1e4)][_0x3a4ea6(0x1d4)](_0x451519,_0x4bc3cc),_0x5630e0[_0x3a4ea6(0x1c9)]({'success':!![],'message':_0x3a4ea6(0x1e1)});}catch(_0x1dd35a){_0x2e2393(_0x1dd35a);}},this['revokeApiKeys']=async(_0x4364f0,_0x51df6a,_0x37634a)=>{const _0x121994=_0x2ec68d;try{const _0xde43f3=_0x4364f0[_0x121994(0x1dc)]?.['id'];if(!_0xde43f3)return _0x51df6a[_0x121994(0x1d9)](0x191)[_0x121994(0x1c9)]({'success':![],'message':'Unauthorized'});const {twoFactorToken:_0xe37e0}=_0x4364f0[_0x121994(0x1de)];await this['settingsService'][_0x121994(0x1df)](_0xde43f3,_0xe37e0),_0x51df6a['json']({'success':!![],'message':_0x121994(0x1d1)});}catch(_0x52fffa){_0x37634a(_0x52fffa);}},this['deleteAccount']=async(_0x341a0f,_0x109d69,_0x34ebc4)=>{const _0x1074f6=_0x2ec68d;try{const _0x4ee88f=_0x341a0f[_0x1074f6(0x1dc)]?.['id'];if(!_0x4ee88f)return _0x109d69[_0x1074f6(0x1d9)](0x191)[_0x1074f6(0x1c9)]({'success':![],'message':'Unauthorized'});const _0x56e156=_0x341a0f[_0x1074f6(0x1de)];await this[_0x1074f6(0x1e4)][_0x1074f6(0x1cc)](_0x4ee88f,_0x56e156),_0x109d69[_0x1074f6(0x1c9)]({'success':!![],'message':_0x1074f6(0x1d5)});}catch(_0x5a162d){_0x34ebc4(_0x5a162d);}},this['getTelegramSessions']=async(_0x2cd764,_0x164627,_0x5695ae)=>{const _0x245a98=_0x2ec68d;try{const _0x5e48a3=_0x2cd764[_0x245a98(0x1dc)]?.['id'];if(!_0x5e48a3)return _0x164627[_0x245a98(0x1d9)](0x191)[_0x245a98(0x1c9)]({'success':![],'message':'Unauthorized'});const _0x164361=await this[_0x245a98(0x1e4)][_0x245a98(0x1e7)](_0x5e48a3);_0x164627[_0x245a98(0x1c9)]({'success':!![],'sessions':_0x164361});}catch(_0x3a6edc){_0x5695ae(_0x3a6edc);}},this[_0x2ec68d(0x1e0)]=async(_0x4df532,_0x2ad0bf,_0x4fdef8)=>{const _0x598ca8=_0x2ec68d;try{const _0x8931cf=_0x4df532[_0x598ca8(0x1dc)]?.['id'];if(!_0x8931cf)return _0x2ad0bf[_0x598ca8(0x1d9)](0x191)[_0x598ca8(0x1c9)]({'success':![],'message':_0x598ca8(0x1d2)});const {telegramUserId:_0x850098}=_0x4df532[_0x598ca8(0x1e3)];await this[_0x598ca8(0x1e4)][_0x598ca8(0x1e0)](_0x8931cf,_0x850098),_0x2ad0bf[_0x598ca8(0x1c9)]({'success':!![],'message':_0x598ca8(0x1ce)});}catch(_0x5b3827){_0x4fdef8(_0x5b3827);}},this['settingsService']=new settingsService_1['SettingsService']();}}exports['SettingsController']=SettingsController;function a17_0xa8f4(){const _0x5042a7=['683078hfjfrS','body','revokeAllApiKeys','disconnectTelegramSession','Webhook\x20settings\x20updated\x20successfully','Password\x20updated\x20successfully','params','settingsService','2887884lXCITe','updateNotifications','getTelegramSessions','json','../services/settingsService','156624COGNrk','deleteAccount','2433284ogqhDp','Telegram\x20session\x20disconnected\x20successfully','Telegram\x20bot\x20settings\x20updated\x20successfully','__esModule','All\x20API\x20keys\x20revoked\x20successfully','Unauthorized','Notification\x20preferences\x20updated\x20successfully','updateWebhookSettings','Account\x20deleted\x20successfully','1468131jBMCNy','SettingsController','6789952qLOqWo','status','205EEOWnw','4258395KvcUYB','user'];a17_0xa8f4=function(){return _0x5042a7;};return a17_0xa8f4();}