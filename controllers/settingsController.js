'use strict';const a17_0x422976=a17_0x31de;(function(_0x183c8a,_0x533022){const _0x39d3ec=a17_0x31de,_0x5f3c25=_0x183c8a();while(!![]){try{const _0x3c9f4e=parseInt(_0x39d3ec(0x1ee))/0x1+parseInt(_0x39d3ec(0x205))/0x2+parseInt(_0x39d3ec(0x1f8))/0x3+-parseInt(_0x39d3ec(0x1f9))/0x4*(-parseInt(_0x39d3ec(0x1f7))/0x5)+parseInt(_0x39d3ec(0x1f6))/0x6*(parseInt(_0x39d3ec(0x1ea))/0x7)+parseInt(_0x39d3ec(0x20c))/0x8+-parseInt(_0x39d3ec(0x203))/0x9*(parseInt(_0x39d3ec(0x204))/0xa);if(_0x3c9f4e===_0x533022)break;else _0x5f3c25['push'](_0x5f3c25['shift']());}catch(_0xa03688){_0x5f3c25['push'](_0x5f3c25['shift']());}}}(a17_0x4e78,0x5ed74));Object['defineProperty'](exports,a17_0x422976(0x202),{'value':!![]}),exports[a17_0x422976(0x1f2)]=void 0x0;function a17_0x4e78(){const _0x280448=['Notification\x20preferences\x20updated\x20successfully','7oAGCoZ','status','updateNotifications','Password\x20updated\x20successfully','235216VUzERR','Shop\x20settings\x20retrieved\x20successfully','disconnectTelegramSession','Unauthorized','SettingsController','params','changePassword','settingsService','2434494DuttMS','45EntfVI','316404GYPPEn','339052HFuAni','getShopSettings','revokeApiKeys','revokeAllApiKeys','../services/settingsService','All\x20API\x20keys\x20revoked\x20successfully','user','SettingsService','Account\x20deleted\x20successfully','__esModule','18kJFUXG','9289330gubvYk','1092176tFlbvc','getTelegramSessions','body','json','updateTelegramSettings','deleteAccount','updateWebhookSettings','1527568HxcISY','Telegram\x20bot\x20settings\x20updated\x20successfully'];a17_0x4e78=function(){return _0x280448;};return a17_0x4e78();}const settingsService_1=require(a17_0x422976(0x1fd));function a17_0x31de(_0x3e198c,_0x1c5561){_0x3e198c=_0x3e198c-0x1ea;const _0x4e78e0=a17_0x4e78();let _0x31de43=_0x4e78e0[_0x3e198c];return _0x31de43;}class SettingsController{constructor(){const _0x25aaa7=a17_0x422976;this['getSettings']=async(_0x5a69b3,_0x2cad9d,_0xdc0354)=>{const _0x1555a1=a17_0x31de;try{const _0x13e436=_0x5a69b3[_0x1555a1(0x1ff)]?.['id'];if(!_0x13e436)return _0x2cad9d[_0x1555a1(0x1eb)](0x191)[_0x1555a1(0x208)]({'success':![],'message':_0x1555a1(0x1f1)});const _0xa38e42=await this[_0x1555a1(0x1f5)][_0x1555a1(0x1fa)](_0x13e436);_0x2cad9d['json']({'success':!![],'message':_0x1555a1(0x1ef),'data':_0xa38e42});}catch(_0x3d6595){_0xdc0354(_0x3d6595);}},this[_0x25aaa7(0x1f4)]=async(_0x1c85b6,_0x2d0ace,_0x3e4c31)=>{const _0x30c35b=_0x25aaa7;try{const _0x2b4d4f=_0x1c85b6[_0x30c35b(0x1ff)]?.['id'];if(!_0x2b4d4f)return _0x2d0ace[_0x30c35b(0x1eb)](0x191)[_0x30c35b(0x208)]({'success':![],'message':_0x30c35b(0x1f1)});const _0x225408=_0x1c85b6[_0x30c35b(0x207)];await this['settingsService'][_0x30c35b(0x1f4)](_0x2b4d4f,_0x225408),_0x2d0ace[_0x30c35b(0x208)]({'success':!![],'message':_0x30c35b(0x1ed)});}catch(_0x1536cc){_0x3e4c31(_0x1536cc);}},this['updateNotifications']=async(_0x4e01c8,_0x4ae6a0,_0x4e999f)=>{const _0x38b710=_0x25aaa7;try{const _0x1002c1=_0x4e01c8[_0x38b710(0x1ff)]?.['id'];if(!_0x1002c1)return _0x4ae6a0[_0x38b710(0x1eb)](0x191)[_0x38b710(0x208)]({'success':![],'message':_0x38b710(0x1f1)});const _0x263c0a=_0x4e01c8['body'];await this[_0x38b710(0x1f5)][_0x38b710(0x1ec)](_0x1002c1,_0x263c0a),_0x4ae6a0[_0x38b710(0x208)]({'success':!![],'message':_0x38b710(0x20e)});}catch(_0x2bf78b){_0x4e999f(_0x2bf78b);}},this[_0x25aaa7(0x209)]=async(_0x3e4118,_0x1722dc,_0x29f9f7)=>{const _0x477c46=_0x25aaa7;try{const _0xfeb0b7=_0x3e4118[_0x477c46(0x1ff)]?.['id'];if(!_0xfeb0b7)return _0x1722dc[_0x477c46(0x1eb)](0x191)[_0x477c46(0x208)]({'success':![],'message':_0x477c46(0x1f1)});const _0x4be813=_0x3e4118[_0x477c46(0x207)];await this[_0x477c46(0x1f5)][_0x477c46(0x209)](_0xfeb0b7,_0x4be813),_0x1722dc[_0x477c46(0x208)]({'success':!![],'message':_0x477c46(0x20d)});}catch(_0x1d5f3a){_0x29f9f7(_0x1d5f3a);}},this[_0x25aaa7(0x20b)]=async(_0x33df9d,_0x620875,_0x2b8e29)=>{const _0x3e175b=_0x25aaa7;try{const _0x1067d5=_0x33df9d[_0x3e175b(0x1ff)]?.['id'];if(!_0x1067d5)return _0x620875[_0x3e175b(0x1eb)](0x191)[_0x3e175b(0x208)]({'success':![],'message':_0x3e175b(0x1f1)});const _0xfb7373=_0x33df9d[_0x3e175b(0x207)];await this['settingsService']['updateWebhookSettings'](_0x1067d5,_0xfb7373),_0x620875[_0x3e175b(0x208)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x40d8a5){_0x2b8e29(_0x40d8a5);}},this[_0x25aaa7(0x1fb)]=async(_0x27bd23,_0x961ddb,_0x19b927)=>{const _0x31e115=_0x25aaa7;try{const _0x345d57=_0x27bd23[_0x31e115(0x1ff)]?.['id'];if(!_0x345d57)return _0x961ddb[_0x31e115(0x1eb)](0x191)[_0x31e115(0x208)]({'success':![],'message':_0x31e115(0x1f1)});const {twoFactorToken:_0x51d326}=_0x27bd23['body'];await this['settingsService'][_0x31e115(0x1fc)](_0x345d57,_0x51d326),_0x961ddb['json']({'success':!![],'message':_0x31e115(0x1fe)});}catch(_0x242434){_0x19b927(_0x242434);}},this[_0x25aaa7(0x20a)]=async(_0xdfdc3d,_0xd0552c,_0x538555)=>{const _0x3c7732=_0x25aaa7;try{const _0x541c71=_0xdfdc3d['user']?.['id'];if(!_0x541c71)return _0xd0552c[_0x3c7732(0x1eb)](0x191)[_0x3c7732(0x208)]({'success':![],'message':_0x3c7732(0x1f1)});const _0x4dd58a=_0xdfdc3d[_0x3c7732(0x207)];await this[_0x3c7732(0x1f5)][_0x3c7732(0x20a)](_0x541c71,_0x4dd58a),_0xd0552c['json']({'success':!![],'message':_0x3c7732(0x201)});}catch(_0x1700b3){_0x538555(_0x1700b3);}},this[_0x25aaa7(0x206)]=async(_0x73b09a,_0x43680a,_0x1a3377)=>{const _0x26bb3c=_0x25aaa7;try{const _0x65b33a=_0x73b09a[_0x26bb3c(0x1ff)]?.['id'];if(!_0x65b33a)return _0x43680a['status'](0x191)[_0x26bb3c(0x208)]({'success':![],'message':'Unauthorized'});const _0x4f85c4=await this[_0x26bb3c(0x1f5)][_0x26bb3c(0x206)](_0x65b33a);_0x43680a[_0x26bb3c(0x208)]({'success':!![],'sessions':_0x4f85c4});}catch(_0x73137d){_0x1a3377(_0x73137d);}},this['disconnectTelegramSession']=async(_0x976563,_0x520223,_0x37b5fa)=>{const _0x516e1a=_0x25aaa7;try{const _0x7df500=_0x976563[_0x516e1a(0x1ff)]?.['id'];if(!_0x7df500)return _0x520223['status'](0x191)[_0x516e1a(0x208)]({'success':![],'message':'Unauthorized'});const {telegramUserId:_0x5c6906}=_0x976563[_0x516e1a(0x1f3)];await this[_0x516e1a(0x1f5)][_0x516e1a(0x1f0)](_0x7df500,_0x5c6906),_0x520223[_0x516e1a(0x208)]({'success':!![],'message':'Telegram\x20session\x20disconnected\x20successfully'});}catch(_0x5e899b){_0x37b5fa(_0x5e899b);}},this[_0x25aaa7(0x1f5)]=new settingsService_1[(_0x25aaa7(0x200))]();}}exports[a17_0x422976(0x1f2)]=SettingsController;