'use strict';const a10_0x11e805=a10_0x40fa;(function(_0x5e9c31,_0x2c4614){const _0x5d21fd=a10_0x40fa,_0x388466=_0x5e9c31();while(!![]){try{const _0x363a36=-parseInt(_0x5d21fd(0x1b8))/0x1+-parseInt(_0x5d21fd(0x1c8))/0x2+parseInt(_0x5d21fd(0x1cf))/0x3+parseInt(_0x5d21fd(0x1b6))/0x4+parseInt(_0x5d21fd(0x1d0))/0x5+-parseInt(_0x5d21fd(0x1b9))/0x6*(-parseInt(_0x5d21fd(0x1c0))/0x7)+-parseInt(_0x5d21fd(0x1bb))/0x8*(parseInt(_0x5d21fd(0x1d2))/0x9);if(_0x363a36===_0x2c4614)break;else _0x388466['push'](_0x388466['shift']());}catch(_0x2ec5ae){_0x388466['push'](_0x388466['shift']());}}}(a10_0x463b,0x8ecb4));Object[a10_0x11e805(0x1ce)](exports,a10_0x11e805(0x1c9),{'value':!![]}),exports[a10_0x11e805(0x1c7)]=void 0x0;function a10_0x40fa(_0x1fb774,_0x2b0dd0){const _0x463bbb=a10_0x463b();return a10_0x40fa=function(_0x40fa9b,_0x1edce9){_0x40fa9b=_0x40fa9b-0x1b5;let _0x17f3fc=_0x463bbb[_0x40fa9b];return _0x17f3fc;},a10_0x40fa(_0x1fb774,_0x2b0dd0);}function a10_0x463b(){const _0x178b5a=['SettingsService','revokeApiKeys','Password\x20updated\x20successfully','defineProperty','15081PydfAQ','5317015zFXFzd','updateTelegramSettings','144jSiUmh','updateWebhookSettings','441600qEIJbz','Shop\x20settings\x20retrieved\x20successfully','437424DREFMt','337296EjytXF','Account\x20deleted\x20successfully','127136ofEgRG','updateNotifications','json','deleteAccount','body','21KNIony','user','settingsService','Unauthorized','getShopSettings','status','All\x20API\x20keys\x20revoked\x20successfully','SettingsController','141796FjXgPa','__esModule','changePassword'];a10_0x463b=function(){return _0x178b5a;};return a10_0x463b();}const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x2f321e=a10_0x11e805;this['getSettings']=async(_0x5b5f4e,_0x25a956,_0x3fece5)=>{const _0x5bfbf4=a10_0x40fa;try{const _0xebedfd=_0x5b5f4e[_0x5bfbf4(0x1c1)]?.['id'];if(!_0xebedfd)return _0x25a956['status'](0x191)[_0x5bfbf4(0x1bd)]({'success':![],'message':'Unauthorized'});const _0x3aa69e=await this[_0x5bfbf4(0x1c2)][_0x5bfbf4(0x1c4)](_0xebedfd);_0x25a956['json']({'success':!![],'message':_0x5bfbf4(0x1b7),'data':_0x3aa69e});}catch(_0x2d68a1){_0x3fece5(_0x2d68a1);}},this[_0x2f321e(0x1ca)]=async(_0x1ba26a,_0x41cc77,_0x5dca9a)=>{const _0x3c960d=_0x2f321e;try{const _0x3b17a9=_0x1ba26a[_0x3c960d(0x1c1)]?.['id'];if(!_0x3b17a9)return _0x41cc77[_0x3c960d(0x1c5)](0x191)['json']({'success':![],'message':_0x3c960d(0x1c3)});const _0x3f4a60=_0x1ba26a['body'];await this['settingsService']['changePassword'](_0x3b17a9,_0x3f4a60),_0x41cc77['json']({'success':!![],'message':_0x3c960d(0x1cd)});}catch(_0x436668){_0x5dca9a(_0x436668);}},this[_0x2f321e(0x1bc)]=async(_0x1d042e,_0x3e9dd6,_0x1a7336)=>{const _0x25b3cf=_0x2f321e;try{const _0x24a5c9=_0x1d042e[_0x25b3cf(0x1c1)]?.['id'];if(!_0x24a5c9)return _0x3e9dd6[_0x25b3cf(0x1c5)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x30bbac=_0x1d042e[_0x25b3cf(0x1bf)];await this[_0x25b3cf(0x1c2)][_0x25b3cf(0x1bc)](_0x24a5c9,_0x30bbac),_0x3e9dd6[_0x25b3cf(0x1bd)]({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x517cff){_0x1a7336(_0x517cff);}},this['updateTelegramSettings']=async(_0x3ee092,_0x3860d6,_0x2c9340)=>{const _0x1187d2=_0x2f321e;try{const _0x4ab3e1=_0x3ee092[_0x1187d2(0x1c1)]?.['id'];if(!_0x4ab3e1)return _0x3860d6['status'](0x191)[_0x1187d2(0x1bd)]({'success':![],'message':_0x1187d2(0x1c3)});const _0x4ff87c=_0x3ee092[_0x1187d2(0x1bf)];await this[_0x1187d2(0x1c2)][_0x1187d2(0x1d1)](_0x4ab3e1,_0x4ff87c),_0x3860d6[_0x1187d2(0x1bd)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x26c288){_0x2c9340(_0x26c288);}},this[_0x2f321e(0x1b5)]=async(_0x17b0cc,_0x36afb2,_0x142ebc)=>{const _0x3a8dda=_0x2f321e;try{const _0x13a676=_0x17b0cc['user']?.['id'];if(!_0x13a676)return _0x36afb2['status'](0x191)[_0x3a8dda(0x1bd)]({'success':![],'message':_0x3a8dda(0x1c3)});const _0x14db63=_0x17b0cc['body'];await this[_0x3a8dda(0x1c2)][_0x3a8dda(0x1b5)](_0x13a676,_0x14db63),_0x36afb2[_0x3a8dda(0x1bd)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x257c6a){_0x142ebc(_0x257c6a);}},this[_0x2f321e(0x1cc)]=async(_0x2346c7,_0x100107,_0x1a0acc)=>{const _0x50deb4=_0x2f321e;try{const _0x3ad2ef=_0x2346c7['user']?.['id'];if(!_0x3ad2ef)return _0x100107['status'](0x191)['json']({'success':![],'message':'Unauthorized'});await this['settingsService']['revokeAllApiKeys'](_0x3ad2ef),_0x100107['json']({'success':!![],'message':_0x50deb4(0x1c6)});}catch(_0x55eee8){_0x1a0acc(_0x55eee8);}},this[_0x2f321e(0x1be)]=async(_0x1b76dc,_0x33f93c,_0x9d2e15)=>{const _0x2a3de8=_0x2f321e;try{const _0x4303cc=_0x1b76dc[_0x2a3de8(0x1c1)]?.['id'];if(!_0x4303cc)return _0x33f93c[_0x2a3de8(0x1c5)](0x191)[_0x2a3de8(0x1bd)]({'success':![],'message':'Unauthorized'});const _0x209ab0=_0x1b76dc['body'];await this['settingsService'][_0x2a3de8(0x1be)](_0x4303cc,_0x209ab0),_0x33f93c[_0x2a3de8(0x1bd)]({'success':!![],'message':_0x2a3de8(0x1ba)});}catch(_0x1aeb2c){_0x9d2e15(_0x1aeb2c);}},this[_0x2f321e(0x1c2)]=new settingsService_1[(_0x2f321e(0x1cb))]();}}exports['SettingsController']=SettingsController;