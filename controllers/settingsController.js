'use strict';const a15_0x38a014=a15_0x320e;(function(_0x35ea49,_0x44dfc3){const _0x587159=a15_0x320e,_0x6b0459=_0x35ea49();while(!![]){try{const _0x22866f=-parseInt(_0x587159(0x195))/0x1+parseInt(_0x587159(0x19d))/0x2*(-parseInt(_0x587159(0x18e))/0x3)+-parseInt(_0x587159(0x19f))/0x4+-parseInt(_0x587159(0x19e))/0x5+-parseInt(_0x587159(0x187))/0x6+-parseInt(_0x587159(0x196))/0x7*(-parseInt(_0x587159(0x198))/0x8)+parseInt(_0x587159(0x197))/0x9*(parseInt(_0x587159(0x191))/0xa);if(_0x22866f===_0x44dfc3)break;else _0x6b0459['push'](_0x6b0459['shift']());}catch(_0x49c80a){_0x6b0459['push'](_0x6b0459['shift']());}}}(a15_0x4523,0xe2d6c));function a15_0x320e(_0x512a42,_0x181cba){_0x512a42=_0x512a42-0x17c;const _0x4523a2=a15_0x4523();let _0x320ecb=_0x4523a2[_0x512a42];return _0x320ecb;}function a15_0x4523(){const _0x149ddd=['status','updateNotifications','All\x20API\x20keys\x20revoked\x20successfully','user','disconnectTelegramSession','params','Account\x20deleted\x20successfully','deleteAccount','Notification\x20preferences\x20updated\x20successfully','getTelegramSessions','updateTelegramSettings','SettingsController','8959074Vjvxtf','Password\x20updated\x20successfully','defineProperty','Shop\x20settings\x20retrieved\x20successfully','getShopSettings','SettingsService','Telegram\x20bot\x20settings\x20updated\x20successfully','742863sjMdQH','revokeApiKeys','changePassword','19006050vbLQGg','json','Unauthorized','updateWebhookSettings','566508xPxiZP','5217898DsIFrK','27nilIpK','16JnbtiD','body','Telegram\x20session\x20disconnected\x20successfully','getSettings','Webhook\x20settings\x20updated\x20successfully','12oEcBCy','8177135hvyrhA','4330684sYLcWR','settingsService'];a15_0x4523=function(){return _0x149ddd;};return a15_0x4523();}Object[a15_0x38a014(0x189)](exports,'__esModule',{'value':!![]}),exports[a15_0x38a014(0x186)]=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x3483a5=a15_0x38a014;this[_0x3483a5(0x19b)]=async(_0x48370f,_0x7ea2b9,_0x4b9aaf)=>{const _0x4f23f2=_0x3483a5;try{const _0x2eaf45=_0x48370f['user']?.['id'];if(!_0x2eaf45)return _0x7ea2b9[_0x4f23f2(0x1a1)](0x191)[_0x4f23f2(0x192)]({'success':![],'message':_0x4f23f2(0x193)});const _0x3e199b=await this['settingsService'][_0x4f23f2(0x18b)](_0x2eaf45);_0x7ea2b9[_0x4f23f2(0x192)]({'success':!![],'message':_0x4f23f2(0x18a),'data':_0x3e199b});}catch(_0x3c3310){_0x4b9aaf(_0x3c3310);}},this[_0x3483a5(0x190)]=async(_0x3f317c,_0x9859fd,_0x1b5a34)=>{const _0x55928a=_0x3483a5;try{const _0x490c98=_0x3f317c[_0x55928a(0x17e)]?.['id'];if(!_0x490c98)return _0x9859fd[_0x55928a(0x1a1)](0x191)[_0x55928a(0x192)]({'success':![],'message':'Unauthorized'});const _0x4982d5=_0x3f317c[_0x55928a(0x199)];await this[_0x55928a(0x1a0)][_0x55928a(0x190)](_0x490c98,_0x4982d5),_0x9859fd[_0x55928a(0x192)]({'success':!![],'message':_0x55928a(0x188)});}catch(_0x451284){_0x1b5a34(_0x451284);}},this[_0x3483a5(0x17c)]=async(_0x4f7c68,_0x2ceb76,_0x44be92)=>{const _0x412659=_0x3483a5;try{const _0x320fce=_0x4f7c68['user']?.['id'];if(!_0x320fce)return _0x2ceb76['status'](0x191)[_0x412659(0x192)]({'success':![],'message':'Unauthorized'});const _0x29a4ea=_0x4f7c68[_0x412659(0x199)];await this[_0x412659(0x1a0)][_0x412659(0x17c)](_0x320fce,_0x29a4ea),_0x2ceb76[_0x412659(0x192)]({'success':!![],'message':_0x412659(0x183)});}catch(_0x300b3c){_0x44be92(_0x300b3c);}},this['updateTelegramSettings']=async(_0x42c2d5,_0x290a27,_0x376496)=>{const _0x59b593=_0x3483a5;try{const _0x35d531=_0x42c2d5['user']?.['id'];if(!_0x35d531)return _0x290a27[_0x59b593(0x1a1)](0x191)[_0x59b593(0x192)]({'success':![],'message':_0x59b593(0x193)});const _0x3f8806=_0x42c2d5['body'];await this['settingsService'][_0x59b593(0x185)](_0x35d531,_0x3f8806),_0x290a27[_0x59b593(0x192)]({'success':!![],'message':_0x59b593(0x18d)});}catch(_0xf6bf97){_0x376496(_0xf6bf97);}},this['updateWebhookSettings']=async(_0x2fadc6,_0x3bc6e6,_0x5bd352)=>{const _0x1a4844=_0x3483a5;try{const _0x203ed8=_0x2fadc6[_0x1a4844(0x17e)]?.['id'];if(!_0x203ed8)return _0x3bc6e6[_0x1a4844(0x1a1)](0x191)[_0x1a4844(0x192)]({'success':![],'message':_0x1a4844(0x193)});const _0x3d07ed=_0x2fadc6['body'];await this['settingsService'][_0x1a4844(0x194)](_0x203ed8,_0x3d07ed),_0x3bc6e6['json']({'success':!![],'message':_0x1a4844(0x19c)});}catch(_0x5c9200){_0x5bd352(_0x5c9200);}},this[_0x3483a5(0x18f)]=async(_0x3f9bad,_0x1600cb,_0x2d5247)=>{const _0x51fce0=_0x3483a5;try{const _0x2bd81e=_0x3f9bad['user']?.['id'];if(!_0x2bd81e)return _0x1600cb[_0x51fce0(0x1a1)](0x191)['json']({'success':![],'message':_0x51fce0(0x193)});const {twoFactorToken:_0x1482aa}=_0x3f9bad[_0x51fce0(0x199)];await this['settingsService']['revokeAllApiKeys'](_0x2bd81e,_0x1482aa),_0x1600cb[_0x51fce0(0x192)]({'success':!![],'message':_0x51fce0(0x17d)});}catch(_0x2861bc){_0x2d5247(_0x2861bc);}},this[_0x3483a5(0x182)]=async(_0x500b77,_0xd64996,_0x149872)=>{const _0x3bbb6b=_0x3483a5;try{const _0xd76445=_0x500b77[_0x3bbb6b(0x17e)]?.['id'];if(!_0xd76445)return _0xd64996[_0x3bbb6b(0x1a1)](0x191)['json']({'success':![],'message':_0x3bbb6b(0x193)});const _0x586844=_0x500b77['body'];await this[_0x3bbb6b(0x1a0)][_0x3bbb6b(0x182)](_0xd76445,_0x586844),_0xd64996[_0x3bbb6b(0x192)]({'success':!![],'message':_0x3bbb6b(0x181)});}catch(_0x5392b5){_0x149872(_0x5392b5);}},this[_0x3483a5(0x184)]=async(_0x45f984,_0x3514c9,_0x1696c3)=>{const _0x4d6320=_0x3483a5;try{const _0xa49e34=_0x45f984[_0x4d6320(0x17e)]?.['id'];if(!_0xa49e34)return _0x3514c9[_0x4d6320(0x1a1)](0x191)[_0x4d6320(0x192)]({'success':![],'message':'Unauthorized'});const _0x1a4a41=await this[_0x4d6320(0x1a0)][_0x4d6320(0x184)](_0xa49e34);_0x3514c9[_0x4d6320(0x192)]({'success':!![],'sessions':_0x1a4a41});}catch(_0x220681){_0x1696c3(_0x220681);}},this[_0x3483a5(0x17f)]=async(_0x16de5f,_0x38c372,_0x5dc879)=>{const _0xf5f9a5=_0x3483a5;try{const _0x532b28=_0x16de5f[_0xf5f9a5(0x17e)]?.['id'];if(!_0x532b28)return _0x38c372[_0xf5f9a5(0x1a1)](0x191)[_0xf5f9a5(0x192)]({'success':![],'message':_0xf5f9a5(0x193)});const {telegramUserId:_0x55b765}=_0x16de5f[_0xf5f9a5(0x180)];await this[_0xf5f9a5(0x1a0)][_0xf5f9a5(0x17f)](_0x532b28,_0x55b765),_0x38c372[_0xf5f9a5(0x192)]({'success':!![],'message':_0xf5f9a5(0x19a)});}catch(_0x50bafc){_0x5dc879(_0x50bafc);}},this[_0x3483a5(0x1a0)]=new settingsService_1[(_0x3483a5(0x18c))]();}}exports[a15_0x38a014(0x186)]=SettingsController;