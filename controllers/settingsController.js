'use strict';const a17_0x1a9f58=a17_0x2b30;(function(_0x23c344,_0xff9f7c){const _0x1cac01=a17_0x2b30,_0x1088ff=_0x23c344();while(!![]){try{const _0x3e1377=-parseInt(_0x1cac01(0x193))/0x1*(parseInt(_0x1cac01(0x18f))/0x2)+parseInt(_0x1cac01(0x181))/0x3*(parseInt(_0x1cac01(0x19a))/0x4)+parseInt(_0x1cac01(0x18a))/0x5+parseInt(_0x1cac01(0x17c))/0x6+parseInt(_0x1cac01(0x19c))/0x7*(-parseInt(_0x1cac01(0x18e))/0x8)+parseInt(_0x1cac01(0x18d))/0x9*(parseInt(_0x1cac01(0x186))/0xa)+-parseInt(_0x1cac01(0x191))/0xb;if(_0x3e1377===_0xff9f7c)break;else _0x1088ff['push'](_0x1088ff['shift']());}catch(_0x187359){_0x1088ff['push'](_0x1088ff['shift']());}}}(a17_0x3ddf,0xe5dee));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a17_0x1a9f58(0x188)]=void 0x0;const settingsService_1=require(a17_0x1a9f58(0x18c));function a17_0x3ddf(){const _0x7dcb32=['updateTelegramSettings','disconnectTelegramSession','Account\x20deleted\x20successfully','getTelegramSessions','6197052MaKZeQ','updateWebhookSettings','All\x20API\x20keys\x20revoked\x20successfully','Telegram\x20session\x20disconnected\x20successfully','SettingsService','3AZkXPj','revokeAllApiKeys','updateNotifications','status','user','2957450rzkWiq','getSettings','SettingsController','Notification\x20preferences\x20updated\x20successfully','5210925QoJKfw','Webhook\x20settings\x20updated\x20successfully','../services/settingsService','9MtxQZX','12472vLFeUj','2CbpvtX','settingsService','3467937szNFOn','json','1376241TAJOgG','body','Unauthorized','changePassword','revokeApiKeys','getShopSettings','Shop\x20settings\x20retrieved\x20successfully','4709676rOFqar','deleteAccount','4109ffByNt'];a17_0x3ddf=function(){return _0x7dcb32;};return a17_0x3ddf();}class SettingsController{constructor(){const _0x55406a=a17_0x1a9f58;this[_0x55406a(0x187)]=async(_0x111a26,_0x446bd3,_0x1693da)=>{const _0x4863e1=_0x55406a;try{const _0x39b334=_0x111a26['user']?.['id'];if(!_0x39b334)return _0x446bd3['status'](0x191)['json']({'success':![],'message':_0x4863e1(0x195)});const _0x4c8a41=await this[_0x4863e1(0x190)][_0x4863e1(0x198)](_0x39b334);_0x446bd3[_0x4863e1(0x192)]({'success':!![],'message':_0x4863e1(0x199),'data':_0x4c8a41});}catch(_0x13c217){_0x1693da(_0x13c217);}},this['changePassword']=async(_0x482a74,_0x121dcc,_0x1261da)=>{const _0x49c6b4=_0x55406a;try{const _0x1bb4c5=_0x482a74[_0x49c6b4(0x185)]?.['id'];if(!_0x1bb4c5)return _0x121dcc[_0x49c6b4(0x184)](0x191)[_0x49c6b4(0x192)]({'success':![],'message':_0x49c6b4(0x195)});const _0x1d5515=_0x482a74[_0x49c6b4(0x194)];await this[_0x49c6b4(0x190)][_0x49c6b4(0x196)](_0x1bb4c5,_0x1d5515),_0x121dcc[_0x49c6b4(0x192)]({'success':!![],'message':'Password\x20updated\x20successfully'});}catch(_0x53c297){_0x1261da(_0x53c297);}},this['updateNotifications']=async(_0x3e8bd6,_0x10a023,_0x27461a)=>{const _0x304467=_0x55406a;try{const _0x1ddd29=_0x3e8bd6[_0x304467(0x185)]?.['id'];if(!_0x1ddd29)return _0x10a023[_0x304467(0x184)](0x191)['json']({'success':![],'message':_0x304467(0x195)});const _0x5a97e4=_0x3e8bd6[_0x304467(0x194)];await this[_0x304467(0x190)][_0x304467(0x183)](_0x1ddd29,_0x5a97e4),_0x10a023[_0x304467(0x192)]({'success':!![],'message':_0x304467(0x189)});}catch(_0x9ca09c){_0x27461a(_0x9ca09c);}},this[_0x55406a(0x19d)]=async(_0xbdac1b,_0x285fe3,_0x5e6690)=>{const _0xa012=_0x55406a;try{const _0x38754c=_0xbdac1b[_0xa012(0x185)]?.['id'];if(!_0x38754c)return _0x285fe3[_0xa012(0x184)](0x191)[_0xa012(0x192)]({'success':![],'message':'Unauthorized'});const _0x46813a=_0xbdac1b['body'];await this['settingsService'][_0xa012(0x19d)](_0x38754c,_0x46813a),_0x285fe3[_0xa012(0x192)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x116b3f){_0x5e6690(_0x116b3f);}},this[_0x55406a(0x17d)]=async(_0x5adf3c,_0x49ce9a,_0x3a1a96)=>{const _0xf6492e=_0x55406a;try{const _0x37556a=_0x5adf3c[_0xf6492e(0x185)]?.['id'];if(!_0x37556a)return _0x49ce9a[_0xf6492e(0x184)](0x191)[_0xf6492e(0x192)]({'success':![],'message':'Unauthorized'});const _0x270272=_0x5adf3c[_0xf6492e(0x194)];await this['settingsService'][_0xf6492e(0x17d)](_0x37556a,_0x270272),_0x49ce9a[_0xf6492e(0x192)]({'success':!![],'message':_0xf6492e(0x18b)});}catch(_0x2e25d3){_0x3a1a96(_0x2e25d3);}},this[_0x55406a(0x197)]=async(_0x5af8c7,_0xec986a,_0x16019e)=>{const _0x3cd550=_0x55406a;try{const _0x2d5b7a=_0x5af8c7[_0x3cd550(0x185)]?.['id'];if(!_0x2d5b7a)return _0xec986a[_0x3cd550(0x184)](0x191)[_0x3cd550(0x192)]({'success':![],'message':_0x3cd550(0x195)});const {twoFactorToken:_0x1a1d34}=_0x5af8c7[_0x3cd550(0x194)];await this[_0x3cd550(0x190)][_0x3cd550(0x182)](_0x2d5b7a,_0x1a1d34),_0xec986a[_0x3cd550(0x192)]({'success':!![],'message':_0x3cd550(0x17e)});}catch(_0x4bc8c2){_0x16019e(_0x4bc8c2);}},this[_0x55406a(0x19b)]=async(_0x2b7f0c,_0x3bacc7,_0x429845)=>{const _0x48aa25=_0x55406a;try{const _0x402204=_0x2b7f0c[_0x48aa25(0x185)]?.['id'];if(!_0x402204)return _0x3bacc7['status'](0x191)[_0x48aa25(0x192)]({'success':![],'message':'Unauthorized'});const _0x8777c5=_0x2b7f0c['body'];await this[_0x48aa25(0x190)]['deleteAccount'](_0x402204,_0x8777c5),_0x3bacc7[_0x48aa25(0x192)]({'success':!![],'message':_0x48aa25(0x17a)});}catch(_0x2961bf){_0x429845(_0x2961bf);}},this[_0x55406a(0x17b)]=async(_0x502797,_0x17ad75,_0x18262b)=>{const _0x9821e7=_0x55406a;try{const _0x276325=_0x502797[_0x9821e7(0x185)]?.['id'];if(!_0x276325)return _0x17ad75['status'](0x191)[_0x9821e7(0x192)]({'success':![],'message':_0x9821e7(0x195)});const _0x38438d=await this[_0x9821e7(0x190)][_0x9821e7(0x17b)](_0x276325);_0x17ad75[_0x9821e7(0x192)]({'success':!![],'sessions':_0x38438d});}catch(_0x5974f1){_0x18262b(_0x5974f1);}},this[_0x55406a(0x19e)]=async(_0x5459e1,_0x29d444,_0x4f48cc)=>{const _0x2bfc75=_0x55406a;try{const _0x56354b=_0x5459e1[_0x2bfc75(0x185)]?.['id'];if(!_0x56354b)return _0x29d444[_0x2bfc75(0x184)](0x191)[_0x2bfc75(0x192)]({'success':![],'message':_0x2bfc75(0x195)});const {telegramUserId:_0x952963}=_0x5459e1['params'];await this[_0x2bfc75(0x190)][_0x2bfc75(0x19e)](_0x56354b,_0x952963),_0x29d444[_0x2bfc75(0x192)]({'success':!![],'message':_0x2bfc75(0x17f)});}catch(_0x59a570){_0x4f48cc(_0x59a570);}},this[_0x55406a(0x190)]=new settingsService_1[(_0x55406a(0x180))]();}}function a17_0x2b30(_0x551aaa,_0x43b72d){_0x551aaa=_0x551aaa-0x17a;const _0x3ddf8c=a17_0x3ddf();let _0x2b307b=_0x3ddf8c[_0x551aaa];return _0x2b307b;}exports[a17_0x1a9f58(0x188)]=SettingsController;