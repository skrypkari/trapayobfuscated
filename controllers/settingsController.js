'use strict';const a10_0x1a3799=a10_0x30ea;function a10_0x5ec7(){const _0x497a30=['Password\x20updated\x20successfully','SettingsController','3SzpLhx','../services/settingsService','updateTelegramSettings','3202460DDtOKS','status','8yEBban','Unauthorized','getSettings','Notification\x20preferences\x20updated\x20successfully','Webhook\x20settings\x20updated\x20successfully','608942CikMJq','updateWebhookSettings','42dJkXbR','277214HFRZBa','body','user','366770uzYuVC','150435OmvGQe','409948bVnpCA','updateNotifications','__esModule','Shop\x20settings\x20retrieved\x20successfully','revokeApiKeys','1447260yGCtnr','SettingsService','settingsService','340QYlMOW','changePassword','json','deleteAccount','55yDwkfg'];a10_0x5ec7=function(){return _0x497a30;};return a10_0x5ec7();}(function(_0x2f4606,_0x295aab){const _0x3804eb=a10_0x30ea,_0x213289=_0x2f4606();while(!![]){try{const _0x371b7e=-parseInt(_0x3804eb(0xb5))/0x1+-parseInt(_0x3804eb(0xbd))/0x2+-parseInt(_0x3804eb(0xab))/0x3*(-parseInt(_0x3804eb(0xae))/0x4)+-parseInt(_0x3804eb(0xbb))/0x5*(-parseInt(_0x3804eb(0xb7))/0x6)+parseInt(_0x3804eb(0xb8))/0x7*(-parseInt(_0x3804eb(0xb0))/0x8)+parseInt(_0x3804eb(0xbc))/0x9*(parseInt(_0x3804eb(0xc5))/0xa)+-parseInt(_0x3804eb(0xc9))/0xb*(parseInt(_0x3804eb(0xc2))/0xc);if(_0x371b7e===_0x295aab)break;else _0x213289['push'](_0x213289['shift']());}catch(_0x2d73bb){_0x213289['push'](_0x213289['shift']());}}}(a10_0x5ec7,0x67f84));Object['defineProperty'](exports,a10_0x1a3799(0xbf),{'value':!![]}),exports[a10_0x1a3799(0xaa)]=void 0x0;function a10_0x30ea(_0x10b206,_0x3929ba){const _0x5ec7d8=a10_0x5ec7();return a10_0x30ea=function(_0x30ea76,_0x3e55cc){_0x30ea76=_0x30ea76-0xaa;let _0x2182e3=_0x5ec7d8[_0x30ea76];return _0x2182e3;},a10_0x30ea(_0x10b206,_0x3929ba);}const settingsService_1=require(a10_0x1a3799(0xac));class SettingsController{constructor(){const _0x33668a=a10_0x1a3799;this[_0x33668a(0xb2)]=async(_0x2f1e7b,_0x4e02bf,_0x54f9ee)=>{const _0x450509=_0x33668a;try{const _0x433be4=_0x2f1e7b[_0x450509(0xba)]?.['id'];if(!_0x433be4)return _0x4e02bf[_0x450509(0xaf)](0x191)['json']({'success':![],'message':_0x450509(0xb1)});const _0x2e091e=await this['settingsService']['getShopSettings'](_0x433be4);_0x4e02bf[_0x450509(0xc7)]({'success':!![],'message':_0x450509(0xc0),'data':_0x2e091e});}catch(_0x34173b){_0x54f9ee(_0x34173b);}},this[_0x33668a(0xc6)]=async(_0x245b99,_0x24cccb,_0x2b202a)=>{const _0x5478db=_0x33668a;try{const _0x137732=_0x245b99['user']?.['id'];if(!_0x137732)return _0x24cccb[_0x5478db(0xaf)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x419cf2=_0x245b99[_0x5478db(0xb9)];await this['settingsService']['changePassword'](_0x137732,_0x419cf2),_0x24cccb[_0x5478db(0xc7)]({'success':!![],'message':_0x5478db(0xca)});}catch(_0x5c2936){_0x2b202a(_0x5c2936);}},this[_0x33668a(0xbe)]=async(_0x3eda42,_0x484d5b,_0x474fa3)=>{const _0x5049a4=_0x33668a;try{const _0x2c7f9b=_0x3eda42[_0x5049a4(0xba)]?.['id'];if(!_0x2c7f9b)return _0x484d5b[_0x5049a4(0xaf)](0x191)[_0x5049a4(0xc7)]({'success':![],'message':_0x5049a4(0xb1)});const _0x25091b=_0x3eda42[_0x5049a4(0xb9)];await this['settingsService'][_0x5049a4(0xbe)](_0x2c7f9b,_0x25091b),_0x484d5b['json']({'success':!![],'message':_0x5049a4(0xb3)});}catch(_0x5dd59c){_0x474fa3(_0x5dd59c);}},this[_0x33668a(0xad)]=async(_0xa67551,_0x579ddb,_0x1e9720)=>{const _0x29b3d3=_0x33668a;try{const _0x5cf83c=_0xa67551[_0x29b3d3(0xba)]?.['id'];if(!_0x5cf83c)return _0x579ddb[_0x29b3d3(0xaf)](0x191)['json']({'success':![],'message':_0x29b3d3(0xb1)});const _0x46156b=_0xa67551[_0x29b3d3(0xb9)];await this[_0x29b3d3(0xc4)]['updateTelegramSettings'](_0x5cf83c,_0x46156b),_0x579ddb['json']({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x4320f3){_0x1e9720(_0x4320f3);}},this['updateWebhookSettings']=async(_0x4c2da4,_0x5206f0,_0x370213)=>{const _0x8d141d=_0x33668a;try{const _0x37667f=_0x4c2da4[_0x8d141d(0xba)]?.['id'];if(!_0x37667f)return _0x5206f0[_0x8d141d(0xaf)](0x191)[_0x8d141d(0xc7)]({'success':![],'message':_0x8d141d(0xb1)});const _0x497eb4=_0x4c2da4['body'];await this[_0x8d141d(0xc4)][_0x8d141d(0xb6)](_0x37667f,_0x497eb4),_0x5206f0[_0x8d141d(0xc7)]({'success':!![],'message':_0x8d141d(0xb4)});}catch(_0x3af40b){_0x370213(_0x3af40b);}},this[_0x33668a(0xc1)]=async(_0x1e7a52,_0x98e24c,_0x214a48)=>{const _0x1b4daa=_0x33668a;try{const _0x2debbf=_0x1e7a52[_0x1b4daa(0xba)]?.['id'];if(!_0x2debbf)return _0x98e24c[_0x1b4daa(0xaf)](0x191)['json']({'success':![],'message':_0x1b4daa(0xb1)});await this['settingsService']['revokeAllApiKeys'](_0x2debbf),_0x98e24c['json']({'success':!![],'message':'All\x20API\x20keys\x20revoked\x20successfully'});}catch(_0x547932){_0x214a48(_0x547932);}},this[_0x33668a(0xc8)]=async(_0x10c800,_0x267ac3,_0x16dc9f)=>{const _0x1acca7=_0x33668a;try{const _0x22e279=_0x10c800[_0x1acca7(0xba)]?.['id'];if(!_0x22e279)return _0x267ac3[_0x1acca7(0xaf)](0x191)['json']({'success':![],'message':_0x1acca7(0xb1)});const _0x50494a=_0x10c800['body'];await this[_0x1acca7(0xc4)][_0x1acca7(0xc8)](_0x22e279,_0x50494a),_0x267ac3[_0x1acca7(0xc7)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0x6d88f1){_0x16dc9f(_0x6d88f1);}},this['settingsService']=new settingsService_1[(_0x33668a(0xc3))]();}}exports[a10_0x1a3799(0xaa)]=SettingsController;