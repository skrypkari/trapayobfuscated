'use strict';function a17_0x5274(){const _0x5d7456=['Unauthorized','../services/settingsService','__esModule','Account\x20deleted\x20successfully','json','SettingsService','params','Webhook\x20settings\x20updated\x20successfully','updateWebhookSettings','revokeAllApiKeys','status','3444giOjOr','user','7750616JFqwlL','updateTelegramSettings','defineProperty','All\x20API\x20keys\x20revoked\x20successfully','SettingsController','updateNotifications','Telegram\x20session\x20disconnected\x20successfully','body','2449608BmoxWW','deleteAccount','214HVqyEY','disconnectTelegramSession','Notification\x20preferences\x20updated\x20successfully','28163376GeBWOJ','6899BBjNwE','Password\x20updated\x20successfully','1723745FKVvFB','2282187ZxCrPC','revokeApiKeys','4137BfPBzT','changePassword','settingsService'];a17_0x5274=function(){return _0x5d7456;};return a17_0x5274();}const a17_0x5d7ee3=a17_0x2d6d;(function(_0x57264b,_0x558150){const _0x4ff08a=a17_0x2d6d,_0x1396d9=_0x57264b();while(!![]){try{const _0x937051=-parseInt(_0x4ff08a(0x92))/0x1*(parseInt(_0x4ff08a(0xb1))/0x2)+-parseInt(_0x4ff08a(0x95))/0x3+parseInt(_0x4ff08a(0xaf))/0x4+-parseInt(_0x4ff08a(0x94))/0x5+parseInt(_0x4ff08a(0xa5))/0x6*(-parseInt(_0x4ff08a(0x97))/0x7)+-parseInt(_0x4ff08a(0xa7))/0x8+parseInt(_0x4ff08a(0x91))/0x9;if(_0x937051===_0x558150)break;else _0x1396d9['push'](_0x1396d9['shift']());}catch(_0x5bc2a7){_0x1396d9['push'](_0x1396d9['shift']());}}}(a17_0x5274,0x9006e));function a17_0x2d6d(_0x26245a,_0x1524c3){_0x26245a=_0x26245a-0x91;const _0x52740f=a17_0x5274();let _0x2d6d03=_0x52740f[_0x26245a];return _0x2d6d03;}Object[a17_0x5d7ee3(0xa9)](exports,a17_0x5d7ee3(0x9c),{'value':!![]}),exports[a17_0x5d7ee3(0xab)]=void 0x0;const settingsService_1=require(a17_0x5d7ee3(0x9b));class SettingsController{constructor(){const _0x3e036d=a17_0x5d7ee3;this['getSettings']=async(_0xadde39,_0x232da3,_0x5747b6)=>{const _0x1dbeab=a17_0x2d6d;try{const _0xd27f3=_0xadde39['user']?.['id'];if(!_0xd27f3)return _0x232da3[_0x1dbeab(0xa4)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x5a08e6=await this[_0x1dbeab(0x99)]['getShopSettings'](_0xd27f3);_0x232da3[_0x1dbeab(0x9e)]({'success':!![],'message':'Shop\x20settings\x20retrieved\x20successfully','data':_0x5a08e6});}catch(_0x5abbf6){_0x5747b6(_0x5abbf6);}},this['changePassword']=async(_0x4cba60,_0x4e4036,_0x3b5a7a)=>{const _0x591b4d=a17_0x2d6d;try{const _0x36eb07=_0x4cba60[_0x591b4d(0xa6)]?.['id'];if(!_0x36eb07)return _0x4e4036['status'](0x191)[_0x591b4d(0x9e)]({'success':![],'message':_0x591b4d(0x9a)});const _0x17d0cc=_0x4cba60['body'];await this[_0x591b4d(0x99)][_0x591b4d(0x98)](_0x36eb07,_0x17d0cc),_0x4e4036[_0x591b4d(0x9e)]({'success':!![],'message':_0x591b4d(0x93)});}catch(_0x1b502d){_0x3b5a7a(_0x1b502d);}},this[_0x3e036d(0xac)]=async(_0x15223f,_0x58f69f,_0x2ccab6)=>{const _0x20a8be=_0x3e036d;try{const _0x3c63ae=_0x15223f[_0x20a8be(0xa6)]?.['id'];if(!_0x3c63ae)return _0x58f69f[_0x20a8be(0xa4)](0x191)[_0x20a8be(0x9e)]({'success':![],'message':_0x20a8be(0x9a)});const _0x2b27e9=_0x15223f['body'];await this[_0x20a8be(0x99)][_0x20a8be(0xac)](_0x3c63ae,_0x2b27e9),_0x58f69f[_0x20a8be(0x9e)]({'success':!![],'message':_0x20a8be(0xb3)});}catch(_0x52aecf){_0x2ccab6(_0x52aecf);}},this[_0x3e036d(0xa8)]=async(_0x4cab75,_0x1d2bb3,_0x258f2a)=>{const _0xbc05ba=_0x3e036d;try{const _0x2026f5=_0x4cab75['user']?.['id'];if(!_0x2026f5)return _0x1d2bb3[_0xbc05ba(0xa4)](0x191)[_0xbc05ba(0x9e)]({'success':![],'message':'Unauthorized'});const _0x38e85c=_0x4cab75['body'];await this[_0xbc05ba(0x99)][_0xbc05ba(0xa8)](_0x2026f5,_0x38e85c),_0x1d2bb3[_0xbc05ba(0x9e)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x362158){_0x258f2a(_0x362158);}},this[_0x3e036d(0xa2)]=async(_0x4b3785,_0xeeb736,_0x20f5af)=>{const _0x3820b6=_0x3e036d;try{const _0x3ae922=_0x4b3785[_0x3820b6(0xa6)]?.['id'];if(!_0x3ae922)return _0xeeb736[_0x3820b6(0xa4)](0x191)[_0x3820b6(0x9e)]({'success':![],'message':'Unauthorized'});const _0x5ead82=_0x4b3785[_0x3820b6(0xae)];await this[_0x3820b6(0x99)][_0x3820b6(0xa2)](_0x3ae922,_0x5ead82),_0xeeb736[_0x3820b6(0x9e)]({'success':!![],'message':_0x3820b6(0xa1)});}catch(_0x619b23){_0x20f5af(_0x619b23);}},this[_0x3e036d(0x96)]=async(_0x286b90,_0x5ede30,_0x5c1153)=>{const _0x3dd206=_0x3e036d;try{const _0x5c0dc5=_0x286b90[_0x3dd206(0xa6)]?.['id'];if(!_0x5c0dc5)return _0x5ede30[_0x3dd206(0xa4)](0x191)[_0x3dd206(0x9e)]({'success':![],'message':'Unauthorized'});const {twoFactorToken:_0x3f52de}=_0x286b90[_0x3dd206(0xae)];await this['settingsService'][_0x3dd206(0xa3)](_0x5c0dc5,_0x3f52de),_0x5ede30[_0x3dd206(0x9e)]({'success':!![],'message':_0x3dd206(0xaa)});}catch(_0x1f456d){_0x5c1153(_0x1f456d);}},this[_0x3e036d(0xb0)]=async(_0x4ae9e0,_0x2dfc5e,_0x4e7b17)=>{const _0xecf2=_0x3e036d;try{const _0xe93c78=_0x4ae9e0[_0xecf2(0xa6)]?.['id'];if(!_0xe93c78)return _0x2dfc5e[_0xecf2(0xa4)](0x191)[_0xecf2(0x9e)]({'success':![],'message':'Unauthorized'});const _0x56e352=_0x4ae9e0[_0xecf2(0xae)];await this[_0xecf2(0x99)][_0xecf2(0xb0)](_0xe93c78,_0x56e352),_0x2dfc5e[_0xecf2(0x9e)]({'success':!![],'message':_0xecf2(0x9d)});}catch(_0x2116eb){_0x4e7b17(_0x2116eb);}},this['getTelegramSessions']=async(_0x5ebe2e,_0x20b2f5,_0x5dff08)=>{const _0x29430b=_0x3e036d;try{const _0x30c1d9=_0x5ebe2e['user']?.['id'];if(!_0x30c1d9)return _0x20b2f5[_0x29430b(0xa4)](0x191)[_0x29430b(0x9e)]({'success':![],'message':_0x29430b(0x9a)});const _0x3d24f2=await this['settingsService']['getTelegramSessions'](_0x30c1d9);_0x20b2f5[_0x29430b(0x9e)]({'success':!![],'sessions':_0x3d24f2});}catch(_0x3513a6){_0x5dff08(_0x3513a6);}},this[_0x3e036d(0xb2)]=async(_0x5bc37e,_0x32e74a,_0x1382c6)=>{const _0x339e10=_0x3e036d;try{const _0x5c2ba7=_0x5bc37e[_0x339e10(0xa6)]?.['id'];if(!_0x5c2ba7)return _0x32e74a['status'](0x191)[_0x339e10(0x9e)]({'success':![],'message':_0x339e10(0x9a)});const {telegramUserId:_0x4238b4}=_0x5bc37e[_0x339e10(0xa0)];await this['settingsService']['disconnectTelegramSession'](_0x5c2ba7,_0x4238b4),_0x32e74a[_0x339e10(0x9e)]({'success':!![],'message':_0x339e10(0xad)});}catch(_0x132392){_0x1382c6(_0x132392);}},this['settingsService']=new settingsService_1[(_0x3e036d(0x9f))]();}}exports['SettingsController']=SettingsController;