'use strict';const a10_0x5938a2=a10_0x26e0;(function(_0x18f0a3,_0x25fc18){const _0x5c1b04=a10_0x26e0,_0x3be877=_0x18f0a3();while(!![]){try{const _0xe68675=parseInt(_0x5c1b04(0x1f8))/0x1+-parseInt(_0x5c1b04(0x20a))/0x2+-parseInt(_0x5c1b04(0x209))/0x3+parseInt(_0x5c1b04(0x1fa))/0x4*(-parseInt(_0x5c1b04(0x1ff))/0x5)+-parseInt(_0x5c1b04(0x20c))/0x6*(-parseInt(_0x5c1b04(0x205))/0x7)+-parseInt(_0x5c1b04(0x207))/0x8+parseInt(_0x5c1b04(0x1f9))/0x9;if(_0xe68675===_0x25fc18)break;else _0x3be877['push'](_0x3be877['shift']());}catch(_0x46c0a5){_0x3be877['push'](_0x3be877['shift']());}}}(a10_0x4991,0x4d072));function a10_0x26e0(_0x21afa1,_0x11bf79){const _0x49914b=a10_0x4991();return a10_0x26e0=function(_0x26e0c3,_0x5ef012){_0x26e0c3=_0x26e0c3-0x1f3;let _0xd0e8b7=_0x49914b[_0x26e0c3];return _0xd0e8b7;},a10_0x26e0(_0x21afa1,_0x11bf79);}function a10_0x4991(){const _0x18019b=['All\x20API\x20keys\x20revoked\x20successfully','Password\x20updated\x20successfully','status','user','deleteAccount','Telegram\x20bot\x20settings\x20updated\x20successfully','json','630977ztUaRj','4647042CADbrP','124WkMvqj','Unauthorized','settingsService','updateWebhookSettings','Notification\x20preferences\x20updated\x20successfully','14225HhtrNx','../services/settingsService','updateNotifications','updateTelegramSettings','body','Webhook\x20settings\x20updated\x20successfully','7wftpjY','revokeApiKeys','1211480OXBTnh','changePassword','1308000rjftCn','1042964OMrDAb','SettingsController','2191818ifqiCi'];a10_0x4991=function(){return _0x18019b;};return a10_0x4991();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a10_0x5938a2(0x20b)]=void 0x0;const settingsService_1=require(a10_0x5938a2(0x200));class SettingsController{constructor(){const _0x586983=a10_0x5938a2;this['getSettings']=async(_0x4357e2,_0x1e3b80,_0x29318b)=>{const _0x266503=a10_0x26e0;try{const _0x3b5da4=_0x4357e2[_0x266503(0x1f4)]?.['id'];if(!_0x3b5da4)return _0x1e3b80[_0x266503(0x1f3)](0x191)[_0x266503(0x1f7)]({'success':![],'message':_0x266503(0x1fb)});const _0x26f822=await this['settingsService']['getShopSettings'](_0x3b5da4);_0x1e3b80['json']({'success':!![],'message':'Shop\x20settings\x20retrieved\x20successfully','data':_0x26f822});}catch(_0x3f8d22){_0x29318b(_0x3f8d22);}},this['changePassword']=async(_0x507a1a,_0x49c416,_0x95019f)=>{const _0xeac253=a10_0x26e0;try{const _0x5b9030=_0x507a1a[_0xeac253(0x1f4)]?.['id'];if(!_0x5b9030)return _0x49c416['status'](0x191)['json']({'success':![],'message':_0xeac253(0x1fb)});const _0xb6f836=_0x507a1a['body'];await this['settingsService'][_0xeac253(0x208)](_0x5b9030,_0xb6f836),_0x49c416['json']({'success':!![],'message':_0xeac253(0x20e)});}catch(_0x1c7374){_0x95019f(_0x1c7374);}},this[_0x586983(0x201)]=async(_0x45134a,_0x4789f3,_0xc20e1f)=>{const _0x20cb0d=_0x586983;try{const _0x3ccbe0=_0x45134a[_0x20cb0d(0x1f4)]?.['id'];if(!_0x3ccbe0)return _0x4789f3[_0x20cb0d(0x1f3)](0x191)['json']({'success':![],'message':_0x20cb0d(0x1fb)});const _0x20ac48=_0x45134a[_0x20cb0d(0x203)];await this[_0x20cb0d(0x1fc)][_0x20cb0d(0x201)](_0x3ccbe0,_0x20ac48),_0x4789f3[_0x20cb0d(0x1f7)]({'success':!![],'message':_0x20cb0d(0x1fe)});}catch(_0x3fbcf1){_0xc20e1f(_0x3fbcf1);}},this[_0x586983(0x202)]=async(_0x634a43,_0x1e8645,_0x24b94c)=>{const _0x53179f=_0x586983;try{const _0x2866dc=_0x634a43[_0x53179f(0x1f4)]?.['id'];if(!_0x2866dc)return _0x1e8645[_0x53179f(0x1f3)](0x191)[_0x53179f(0x1f7)]({'success':![],'message':_0x53179f(0x1fb)});const _0x26c191=_0x634a43[_0x53179f(0x203)];await this['settingsService'][_0x53179f(0x202)](_0x2866dc,_0x26c191),_0x1e8645[_0x53179f(0x1f7)]({'success':!![],'message':_0x53179f(0x1f6)});}catch(_0xf42080){_0x24b94c(_0xf42080);}},this[_0x586983(0x1fd)]=async(_0x4b53fd,_0x1e9fb9,_0x22676f)=>{const _0x4c14e4=_0x586983;try{const _0x32e86a=_0x4b53fd[_0x4c14e4(0x1f4)]?.['id'];if(!_0x32e86a)return _0x1e9fb9[_0x4c14e4(0x1f3)](0x191)[_0x4c14e4(0x1f7)]({'success':![],'message':_0x4c14e4(0x1fb)});const _0x326054=_0x4b53fd[_0x4c14e4(0x203)];await this[_0x4c14e4(0x1fc)][_0x4c14e4(0x1fd)](_0x32e86a,_0x326054),_0x1e9fb9[_0x4c14e4(0x1f7)]({'success':!![],'message':_0x4c14e4(0x204)});}catch(_0x331e53){_0x22676f(_0x331e53);}},this[_0x586983(0x206)]=async(_0x38685d,_0x4fcf5c,_0x30a367)=>{const _0x31a8f2=_0x586983;try{const _0x113799=_0x38685d['user']?.['id'];if(!_0x113799)return _0x4fcf5c[_0x31a8f2(0x1f3)](0x191)[_0x31a8f2(0x1f7)]({'success':![],'message':_0x31a8f2(0x1fb)});await this[_0x31a8f2(0x1fc)]['revokeAllApiKeys'](_0x113799),_0x4fcf5c[_0x31a8f2(0x1f7)]({'success':!![],'message':_0x31a8f2(0x20d)});}catch(_0x2159b5){_0x30a367(_0x2159b5);}},this['deleteAccount']=async(_0x2f318e,_0x5d0ab8,_0x3865d3)=>{const _0x5937a8=_0x586983;try{const _0x3dbea2=_0x2f318e[_0x5937a8(0x1f4)]?.['id'];if(!_0x3dbea2)return _0x5d0ab8[_0x5937a8(0x1f3)](0x191)[_0x5937a8(0x1f7)]({'success':![],'message':'Unauthorized'});const _0x55defb=_0x2f318e[_0x5937a8(0x203)];await this['settingsService'][_0x5937a8(0x1f5)](_0x3dbea2,_0x55defb),_0x5d0ab8[_0x5937a8(0x1f7)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0x40edcf){_0x3865d3(_0x40edcf);}},this['settingsService']=new settingsService_1['SettingsService']();}}exports['SettingsController']=SettingsController;