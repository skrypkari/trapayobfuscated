'use strict';function a15_0x6277(){const _0x2bd091=['5726ayykcx','80578Stszuv','All\x20API\x20keys\x20revoked\x20successfully','SettingsController','59610uXybRx','5809560JiSzNQ','revokeAllApiKeys','body','Account\x20deleted\x20successfully','user','status','updateNotifications','44ublRFC','10FUBLVA','revokeApiKeys','json','settingsService','Shop\x20settings\x20retrieved\x20successfully','744oxRHgU','2afipWj','updateTelegramSettings','6747210ERUOAo','Password\x20updated\x20successfully','500GXGnpi','198093FPBeIk','Unauthorized','getSettings','5738623rnrAVg','Telegram\x20bot\x20settings\x20updated\x20successfully','Notification\x20preferences\x20updated\x20successfully','changePassword','updateWebhookSettings','Webhook\x20settings\x20updated\x20successfully'];a15_0x6277=function(){return _0x2bd091;};return a15_0x6277();}const a15_0x5483e2=a15_0x4a92;(function(_0x4d51fc,_0x3c3f41){const _0x4dcc3a=a15_0x4a92,_0x4a1463=_0x4d51fc();while(!![]){try{const _0x47fce0=parseInt(_0x4dcc3a(0x14d))/0x1*(parseInt(_0x4dcc3a(0x15f))/0x2)+-parseInt(_0x4dcc3a(0x164))/0x3*(-parseInt(_0x4dcc3a(0x158))/0x4)+-parseInt(_0x4dcc3a(0x163))/0x5*(parseInt(_0x4dcc3a(0x150))/0x6)+-parseInt(_0x4dcc3a(0x14c))/0x7*(parseInt(_0x4dcc3a(0x15e))/0x8)+parseInt(_0x4dcc3a(0x161))/0x9+-parseInt(_0x4dcc3a(0x159))/0xa*(-parseInt(_0x4dcc3a(0x167))/0xb)+-parseInt(_0x4dcc3a(0x151))/0xc;if(_0x47fce0===_0x3c3f41)break;else _0x4a1463['push'](_0x4a1463['shift']());}catch(_0x14af29){_0x4a1463['push'](_0x4a1463['shift']());}}}(a15_0x6277,0x80136));function a15_0x4a92(_0x39ca64,_0x4ade41){_0x39ca64=_0x39ca64-0x14a;const _0x627775=a15_0x6277();let _0x4a928d=_0x627775[_0x39ca64];return _0x4a928d;}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a15_0x5483e2(0x14f)]=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x96c496=a15_0x5483e2;this[_0x96c496(0x166)]=async(_0x217744,_0x2e522c,_0x1243f0)=>{const _0x17a390=_0x96c496;try{const _0x3c26a8=_0x217744['user']?.['id'];if(!_0x3c26a8)return _0x2e522c[_0x17a390(0x156)](0x191)[_0x17a390(0x15b)]({'success':![],'message':_0x17a390(0x165)});const _0x275f39=await this['settingsService']['getShopSettings'](_0x3c26a8);_0x2e522c['json']({'success':!![],'message':_0x17a390(0x15d),'data':_0x275f39});}catch(_0x217f68){_0x1243f0(_0x217f68);}},this[_0x96c496(0x16a)]=async(_0x1fa210,_0x4a39ed,_0x10313d)=>{const _0x3c8a17=_0x96c496;try{const _0x542eb8=_0x1fa210[_0x3c8a17(0x155)]?.['id'];if(!_0x542eb8)return _0x4a39ed[_0x3c8a17(0x156)](0x191)[_0x3c8a17(0x15b)]({'success':![],'message':_0x3c8a17(0x165)});const _0x2eafad=_0x1fa210[_0x3c8a17(0x153)];await this[_0x3c8a17(0x15c)][_0x3c8a17(0x16a)](_0x542eb8,_0x2eafad),_0x4a39ed[_0x3c8a17(0x15b)]({'success':!![],'message':_0x3c8a17(0x162)});}catch(_0x212be1){_0x10313d(_0x212be1);}},this[_0x96c496(0x157)]=async(_0x5e360c,_0x2c756d,_0x481f40)=>{const _0x56e59e=_0x96c496;try{const _0x1e833d=_0x5e360c[_0x56e59e(0x155)]?.['id'];if(!_0x1e833d)return _0x2c756d[_0x56e59e(0x156)](0x191)['json']({'success':![],'message':_0x56e59e(0x165)});const _0x214c30=_0x5e360c[_0x56e59e(0x153)];await this['settingsService']['updateNotifications'](_0x1e833d,_0x214c30),_0x2c756d[_0x56e59e(0x15b)]({'success':!![],'message':_0x56e59e(0x169)});}catch(_0x3c22d0){_0x481f40(_0x3c22d0);}},this['updateTelegramSettings']=async(_0x5243f7,_0x4da2ab,_0x5e9780)=>{const _0x47ab75=_0x96c496;try{const _0x23b4fc=_0x5243f7[_0x47ab75(0x155)]?.['id'];if(!_0x23b4fc)return _0x4da2ab['status'](0x191)[_0x47ab75(0x15b)]({'success':![],'message':_0x47ab75(0x165)});const _0x4e2d6e=_0x5243f7[_0x47ab75(0x153)];await this[_0x47ab75(0x15c)][_0x47ab75(0x160)](_0x23b4fc,_0x4e2d6e),_0x4da2ab[_0x47ab75(0x15b)]({'success':!![],'message':_0x47ab75(0x168)});}catch(_0x398a59){_0x5e9780(_0x398a59);}},this[_0x96c496(0x14a)]=async(_0x25896b,_0x17f2b0,_0x1f696e)=>{const _0x1e59cf=_0x96c496;try{const _0x54a66f=_0x25896b[_0x1e59cf(0x155)]?.['id'];if(!_0x54a66f)return _0x17f2b0['status'](0x191)[_0x1e59cf(0x15b)]({'success':![],'message':_0x1e59cf(0x165)});const _0x3d1ca7=_0x25896b['body'];await this['settingsService']['updateWebhookSettings'](_0x54a66f,_0x3d1ca7),_0x17f2b0[_0x1e59cf(0x15b)]({'success':!![],'message':_0x1e59cf(0x14b)});}catch(_0x17b7e6){_0x1f696e(_0x17b7e6);}},this[_0x96c496(0x15a)]=async(_0x38dbcf,_0x3af0de,_0x3ed5c3)=>{const _0xbfc9d=_0x96c496;try{const _0x48dda0=_0x38dbcf[_0xbfc9d(0x155)]?.['id'];if(!_0x48dda0)return _0x3af0de[_0xbfc9d(0x156)](0x191)[_0xbfc9d(0x15b)]({'success':![],'message':_0xbfc9d(0x165)});const {twoFactorToken:_0x4358bb}=_0x38dbcf['body'];await this[_0xbfc9d(0x15c)][_0xbfc9d(0x152)](_0x48dda0,_0x4358bb),_0x3af0de['json']({'success':!![],'message':_0xbfc9d(0x14e)});}catch(_0x39a0ba){_0x3ed5c3(_0x39a0ba);}},this['deleteAccount']=async(_0x2ea724,_0x1d28bc,_0x5ad68a)=>{const _0x3aa92a=_0x96c496;try{const _0x38be4e=_0x2ea724[_0x3aa92a(0x155)]?.['id'];if(!_0x38be4e)return _0x1d28bc[_0x3aa92a(0x156)](0x191)['json']({'success':![],'message':_0x3aa92a(0x165)});const _0x4c62c7=_0x2ea724[_0x3aa92a(0x153)];await this[_0x3aa92a(0x15c)]['deleteAccount'](_0x38be4e,_0x4c62c7),_0x1d28bc[_0x3aa92a(0x15b)]({'success':!![],'message':_0x3aa92a(0x154)});}catch(_0x4d6610){_0x5ad68a(_0x4d6610);}},this['settingsService']=new settingsService_1['SettingsService']();}}exports[a15_0x5483e2(0x14f)]=SettingsController;