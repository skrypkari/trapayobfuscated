'use strict';const a15_0x11c00c=a15_0x409e;(function(_0x1853ec,_0x13f181){const _0x1402df=a15_0x409e,_0x1be488=_0x1853ec();while(!![]){try{const _0x52937d=-parseInt(_0x1402df(0x161))/0x1*(parseInt(_0x1402df(0x158))/0x2)+-parseInt(_0x1402df(0x16e))/0x3+parseInt(_0x1402df(0x160))/0x4+parseInt(_0x1402df(0x165))/0x5*(parseInt(_0x1402df(0x166))/0x6)+parseInt(_0x1402df(0x152))/0x7*(parseInt(_0x1402df(0x169))/0x8)+parseInt(_0x1402df(0x16a))/0x9*(parseInt(_0x1402df(0x156))/0xa)+-parseInt(_0x1402df(0x16f))/0xb;if(_0x52937d===_0x13f181)break;else _0x1be488['push'](_0x1be488['shift']());}catch(_0x1bc824){_0x1be488['push'](_0x1be488['shift']());}}}(a15_0xfbd1,0xaefe0));function a15_0x409e(_0x5daa04,_0x42ef95){_0x5daa04=_0x5daa04-0x152;const _0xfbd1ad=a15_0xfbd1();let _0x409e16=_0xfbd1ad[_0x5daa04];return _0x409e16;}Object[a15_0x11c00c(0x15d)](exports,'__esModule',{'value':!![]}),exports['SettingsController']=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0xc46c34=a15_0x11c00c;this[_0xc46c34(0x15e)]=async(_0x414f91,_0x50d321,_0x3d6c0c)=>{const _0x597372=_0xc46c34;try{const _0x4eb6ba=_0x414f91[_0x597372(0x15b)]?.['id'];if(!_0x4eb6ba)return _0x50d321[_0x597372(0x159)](0x191)['json']({'success':![],'message':_0x597372(0x167)});const _0x4b6502=await this[_0x597372(0x168)]['getShopSettings'](_0x4eb6ba);_0x50d321[_0x597372(0x164)]({'success':!![],'message':'Shop\x20settings\x20retrieved\x20successfully','data':_0x4b6502});}catch(_0x54b31d){_0x3d6c0c(_0x54b31d);}},this['changePassword']=async(_0x4bae5d,_0x563cd7,_0x59d513)=>{const _0x24a11d=_0xc46c34;try{const _0x1d7f3b=_0x4bae5d['user']?.['id'];if(!_0x1d7f3b)return _0x563cd7['status'](0x191)[_0x24a11d(0x164)]({'success':![],'message':_0x24a11d(0x167)});const _0x4706f8=_0x4bae5d[_0x24a11d(0x155)];await this['settingsService'][_0x24a11d(0x15a)](_0x1d7f3b,_0x4706f8),_0x563cd7[_0x24a11d(0x164)]({'success':!![],'message':_0x24a11d(0x153)});}catch(_0x5cefb0){_0x59d513(_0x5cefb0);}},this[_0xc46c34(0x16d)]=async(_0x1cc223,_0x174323,_0x5de259)=>{const _0x581e57=_0xc46c34;try{const _0x9630a2=_0x1cc223['user']?.['id'];if(!_0x9630a2)return _0x174323[_0x581e57(0x159)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x157085=_0x1cc223[_0x581e57(0x155)];await this['settingsService']['updateNotifications'](_0x9630a2,_0x157085),_0x174323[_0x581e57(0x164)]({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x2e9934){_0x5de259(_0x2e9934);}},this[_0xc46c34(0x163)]=async(_0x32f682,_0x3ba72d,_0x7f3af5)=>{const _0x21d1a3=_0xc46c34;try{const _0xe65063=_0x32f682[_0x21d1a3(0x15b)]?.['id'];if(!_0xe65063)return _0x3ba72d[_0x21d1a3(0x159)](0x191)[_0x21d1a3(0x164)]({'success':![],'message':_0x21d1a3(0x167)});const _0x4a6448=_0x32f682[_0x21d1a3(0x155)];await this[_0x21d1a3(0x168)][_0x21d1a3(0x163)](_0xe65063,_0x4a6448),_0x3ba72d[_0x21d1a3(0x164)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x5161bd){_0x7f3af5(_0x5161bd);}},this[_0xc46c34(0x15c)]=async(_0xbdc05c,_0x415a4e,_0x1eb492)=>{const _0x472185=_0xc46c34;try{const _0x1faeed=_0xbdc05c[_0x472185(0x15b)]?.['id'];if(!_0x1faeed)return _0x415a4e[_0x472185(0x159)](0x191)[_0x472185(0x164)]({'success':![],'message':'Unauthorized'});const _0x278321=_0xbdc05c[_0x472185(0x155)];await this[_0x472185(0x168)][_0x472185(0x15c)](_0x1faeed,_0x278321),_0x415a4e[_0x472185(0x164)]({'success':!![],'message':_0x472185(0x16b)});}catch(_0x3df8a8){_0x1eb492(_0x3df8a8);}},this[_0xc46c34(0x170)]=async(_0x55efaa,_0x3c3e42,_0x41a89c)=>{const _0x9db719=_0xc46c34;try{const _0x4b679f=_0x55efaa[_0x9db719(0x15b)]?.['id'];if(!_0x4b679f)return _0x3c3e42[_0x9db719(0x159)](0x191)[_0x9db719(0x164)]({'success':![],'message':'Unauthorized'});const {twoFactorToken:_0x128e72}=_0x55efaa[_0x9db719(0x155)];await this[_0x9db719(0x168)][_0x9db719(0x154)](_0x4b679f,_0x128e72),_0x3c3e42[_0x9db719(0x164)]({'success':!![],'message':_0x9db719(0x16c)});}catch(_0x22e72c){_0x41a89c(_0x22e72c);}},this[_0xc46c34(0x162)]=async(_0x5233c1,_0x77ded4,_0x3b4242)=>{const _0x5ae1f0=_0xc46c34;try{const _0x29d963=_0x5233c1['user']?.['id'];if(!_0x29d963)return _0x77ded4['status'](0x191)[_0x5ae1f0(0x164)]({'success':![],'message':'Unauthorized'});const _0x84da89=_0x5233c1[_0x5ae1f0(0x155)];await this[_0x5ae1f0(0x168)][_0x5ae1f0(0x162)](_0x29d963,_0x84da89),_0x77ded4[_0x5ae1f0(0x164)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0xd45c87){_0x3b4242(_0xd45c87);}},this[_0xc46c34(0x168)]=new settingsService_1[(_0xc46c34(0x15f))]();}}exports[a15_0x11c00c(0x157)]=SettingsController;function a15_0xfbd1(){const _0x721cd3=['user','updateWebhookSettings','defineProperty','getSettings','SettingsService','667920wRfOGm','4194mDDcxj','deleteAccount','updateTelegramSettings','json','5qhMNNF','7851366wEMfBJ','Unauthorized','settingsService','131960PSejnH','10800207fyMqEi','Webhook\x20settings\x20updated\x20successfully','All\x20API\x20keys\x20revoked\x20successfully','updateNotifications','2468781DhPYNT','18558364BbEqaj','revokeApiKeys','581ZFARWY','Password\x20updated\x20successfully','revokeAllApiKeys','body','10BfSzjy','SettingsController','390VTiXWs','status','changePassword'];a15_0xfbd1=function(){return _0x721cd3;};return a15_0xfbd1();}