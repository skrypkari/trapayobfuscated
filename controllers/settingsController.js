'use strict';const a10_0x5dc936=a10_0x3950;function a10_0x3950(_0x119d2f,_0x208cd3){const _0x4bbc24=a10_0x4bbc();return a10_0x3950=function(_0x395083,_0x3bf919){_0x395083=_0x395083-0x1ae;let _0x10b108=_0x4bbc24[_0x395083];return _0x10b108;},a10_0x3950(_0x119d2f,_0x208cd3);}(function(_0x137ef0,_0x72eef5){const _0x3d1af0=a10_0x3950,_0x3b06f0=_0x137ef0();while(!![]){try{const _0x1a245b=-parseInt(_0x3d1af0(0x1ae))/0x1+parseInt(_0x3d1af0(0x1c8))/0x2+parseInt(_0x3d1af0(0x1af))/0x3+parseInt(_0x3d1af0(0x1bb))/0x4+-parseInt(_0x3d1af0(0x1c5))/0x5+-parseInt(_0x3d1af0(0x1c6))/0x6+parseInt(_0x3d1af0(0x1bc))/0x7*(-parseInt(_0x3d1af0(0x1c7))/0x8);if(_0x1a245b===_0x72eef5)break;else _0x3b06f0['push'](_0x3b06f0['shift']());}catch(_0x41c423){_0x3b06f0['push'](_0x3b06f0['shift']());}}}(a10_0x4bbc,0x819d2));function a10_0x4bbc(){const _0xc9de32=['857424aGQQMz','changePassword','All\x20API\x20keys\x20revoked\x20successfully','29721gpeCBe','1961571SdqKSP','Telegram\x20bot\x20settings\x20updated\x20successfully','deleteAccount','settingsService','defineProperty','SettingsController','Webhook\x20settings\x20updated\x20successfully','Shop\x20settings\x20retrieved\x20successfully','__esModule','status','getSettings','Password\x20updated\x20successfully','1150404EqvSrR','114527XJjfHf','Account\x20deleted\x20successfully','revokeApiKeys','updateWebhookSettings','body','json','SettingsService','user','Unauthorized','1694560vNtQms','2234838QukkwF','48eUYayN'];a10_0x4bbc=function(){return _0xc9de32;};return a10_0x4bbc();}Object[a10_0x5dc936(0x1b3)](exports,a10_0x5dc936(0x1b7),{'value':!![]}),exports[a10_0x5dc936(0x1b4)]=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0xa7269f=a10_0x5dc936;this[_0xa7269f(0x1b9)]=async(_0x3ab42a,_0x332e7b,_0x169ef4)=>{const _0x5e5726=_0xa7269f;try{const _0x3a63c1=_0x3ab42a[_0x5e5726(0x1c3)]?.['id'];if(!_0x3a63c1)return _0x332e7b[_0x5e5726(0x1b8)](0x191)[_0x5e5726(0x1c1)]({'success':![],'message':_0x5e5726(0x1c4)});const _0x5f50a6=await this['settingsService']['getShopSettings'](_0x3a63c1);_0x332e7b[_0x5e5726(0x1c1)]({'success':!![],'message':_0x5e5726(0x1b6),'data':_0x5f50a6});}catch(_0xc3807b){_0x169ef4(_0xc3807b);}},this[_0xa7269f(0x1c9)]=async(_0x3455c2,_0x586f83,_0x2df22a)=>{const _0x2b1bae=_0xa7269f;try{const _0x564ae4=_0x3455c2['user']?.['id'];if(!_0x564ae4)return _0x586f83[_0x2b1bae(0x1b8)](0x191)[_0x2b1bae(0x1c1)]({'success':![],'message':_0x2b1bae(0x1c4)});const _0x218c40=_0x3455c2['body'];await this[_0x2b1bae(0x1b2)]['changePassword'](_0x564ae4,_0x218c40),_0x586f83[_0x2b1bae(0x1c1)]({'success':!![],'message':_0x2b1bae(0x1ba)});}catch(_0x132dcb){_0x2df22a(_0x132dcb);}},this['updateNotifications']=async(_0x486600,_0x1f00e0,_0x10110e)=>{const _0x352d03=_0xa7269f;try{const _0x40e999=_0x486600['user']?.['id'];if(!_0x40e999)return _0x1f00e0['status'](0x191)[_0x352d03(0x1c1)]({'success':![],'message':_0x352d03(0x1c4)});const _0x54e946=_0x486600['body'];await this['settingsService']['updateNotifications'](_0x40e999,_0x54e946),_0x1f00e0['json']({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x2bcb58){_0x10110e(_0x2bcb58);}},this['updateTelegramSettings']=async(_0x20822f,_0x90e091,_0x10ddd2)=>{const _0x299144=_0xa7269f;try{const _0x275527=_0x20822f[_0x299144(0x1c3)]?.['id'];if(!_0x275527)return _0x90e091['status'](0x191)[_0x299144(0x1c1)]({'success':![],'message':'Unauthorized'});const _0x30765d=_0x20822f[_0x299144(0x1c0)];await this[_0x299144(0x1b2)]['updateTelegramSettings'](_0x275527,_0x30765d),_0x90e091['json']({'success':!![],'message':_0x299144(0x1b0)});}catch(_0xed2475){_0x10ddd2(_0xed2475);}},this['updateWebhookSettings']=async(_0x19fc04,_0x13d0fc,_0x36859b)=>{const _0x3bb819=_0xa7269f;try{const _0x4869c8=_0x19fc04[_0x3bb819(0x1c3)]?.['id'];if(!_0x4869c8)return _0x13d0fc['status'](0x191)[_0x3bb819(0x1c1)]({'success':![],'message':_0x3bb819(0x1c4)});const _0x46812a=_0x19fc04[_0x3bb819(0x1c0)];await this[_0x3bb819(0x1b2)][_0x3bb819(0x1bf)](_0x4869c8,_0x46812a),_0x13d0fc[_0x3bb819(0x1c1)]({'success':!![],'message':_0x3bb819(0x1b5)});}catch(_0x7fecf2){_0x36859b(_0x7fecf2);}},this[_0xa7269f(0x1be)]=async(_0x41b5d8,_0x197aec,_0x2d26fe)=>{const _0x49080e=_0xa7269f;try{const _0x3d6562=_0x41b5d8[_0x49080e(0x1c3)]?.['id'];if(!_0x3d6562)return _0x197aec[_0x49080e(0x1b8)](0x191)[_0x49080e(0x1c1)]({'success':![],'message':_0x49080e(0x1c4)});await this['settingsService']['revokeAllApiKeys'](_0x3d6562),_0x197aec[_0x49080e(0x1c1)]({'success':!![],'message':_0x49080e(0x1ca)});}catch(_0x178d23){_0x2d26fe(_0x178d23);}},this[_0xa7269f(0x1b1)]=async(_0x2cbd33,_0x2a7866,_0x380e7d)=>{const _0x489e84=_0xa7269f;try{const _0x43912c=_0x2cbd33[_0x489e84(0x1c3)]?.['id'];if(!_0x43912c)return _0x2a7866[_0x489e84(0x1b8)](0x191)[_0x489e84(0x1c1)]({'success':![],'message':_0x489e84(0x1c4)});const _0x2abe5a=_0x2cbd33[_0x489e84(0x1c0)];await this[_0x489e84(0x1b2)][_0x489e84(0x1b1)](_0x43912c,_0x2abe5a),_0x2a7866['json']({'success':!![],'message':_0x489e84(0x1bd)});}catch(_0x5c5580){_0x380e7d(_0x5c5580);}},this['settingsService']=new settingsService_1[(_0xa7269f(0x1c2))]();}}exports['SettingsController']=SettingsController;