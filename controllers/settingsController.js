'use strict';const a17_0x38ea87=a17_0x328a;(function(_0x108de3,_0x4f2b96){const _0x15c995=a17_0x328a,_0x1b895f=_0x108de3();while(!![]){try{const _0x3073f1=parseInt(_0x15c995(0xc8))/0x1+parseInt(_0x15c995(0xbf))/0x2+-parseInt(_0x15c995(0xce))/0x3+-parseInt(_0x15c995(0xd8))/0x4+parseInt(_0x15c995(0xdb))/0x5+-parseInt(_0x15c995(0xd0))/0x6*(parseInt(_0x15c995(0xd2))/0x7)+parseInt(_0x15c995(0xd1))/0x8;if(_0x3073f1===_0x4f2b96)break;else _0x1b895f['push'](_0x1b895f['shift']());}catch(_0xc8f42b){_0x1b895f['push'](_0x1b895f['shift']());}}}(a17_0x4030,0x25674));function a17_0x4030(){const _0x3a7fba=['75936hgxLlm','Webhook\x20settings\x20updated\x20successfully','Password\x20updated\x20successfully','revokeApiKeys','updateNotifications','__esModule','Unauthorized','getTelegramSessions','Shop\x20settings\x20retrieved\x20successfully','122642OtNMzG','user','getShopSettings','changePassword','deleteAccount','json','876087ejbmeo','status','6kQlYLD','4520264lBSFgw','548492ZfSJBN','revokeAllApiKeys','Account\x20deleted\x20successfully','../services/settingsService','updateWebhookSettings','updateTelegramSettings','1153380BGOIRH','SettingsController','All\x20API\x20keys\x20revoked\x20successfully','431455fpFCGs','params','Telegram\x20session\x20disconnected\x20successfully','disconnectTelegramSession','getSettings','settingsService','body'];a17_0x4030=function(){return _0x3a7fba;};return a17_0x4030();}Object['defineProperty'](exports,a17_0x38ea87(0xc4),{'value':!![]}),exports['SettingsController']=void 0x0;function a17_0x328a(_0x181427,_0x5a867b){_0x181427=_0x181427-0xbb;const _0x40307a=a17_0x4030();let _0x328acc=_0x40307a[_0x181427];return _0x328acc;}const settingsService_1=require(a17_0x38ea87(0xd5));class SettingsController{constructor(){const _0x527f17=a17_0x38ea87;this[_0x527f17(0xbc)]=async(_0x2f203c,_0x2de0eb,_0x50aa0d)=>{const _0x21310e=_0x527f17;try{const _0x2c3ee6=_0x2f203c['user']?.['id'];if(!_0x2c3ee6)return _0x2de0eb['status'](0x191)[_0x21310e(0xcd)]({'success':![],'message':_0x21310e(0xc5)});const _0x2e6d7d=await this[_0x21310e(0xbd)][_0x21310e(0xca)](_0x2c3ee6);_0x2de0eb['json']({'success':!![],'message':_0x21310e(0xc7),'data':_0x2e6d7d});}catch(_0x1a29e0){_0x50aa0d(_0x1a29e0);}},this['changePassword']=async(_0x3fa14d,_0x3f82d9,_0x2f1e84)=>{const _0x14377e=_0x527f17;try{const _0x39d524=_0x3fa14d['user']?.['id'];if(!_0x39d524)return _0x3f82d9[_0x14377e(0xcf)](0x191)[_0x14377e(0xcd)]({'success':![],'message':_0x14377e(0xc5)});const _0x462f5f=_0x3fa14d[_0x14377e(0xbe)];await this[_0x14377e(0xbd)][_0x14377e(0xcb)](_0x39d524,_0x462f5f),_0x3f82d9[_0x14377e(0xcd)]({'success':!![],'message':_0x14377e(0xc1)});}catch(_0x4a1ec7){_0x2f1e84(_0x4a1ec7);}},this[_0x527f17(0xc3)]=async(_0x5da894,_0x2d2d36,_0x451a53)=>{const _0xbd769f=_0x527f17;try{const _0x4fd59c=_0x5da894[_0xbd769f(0xc9)]?.['id'];if(!_0x4fd59c)return _0x2d2d36[_0xbd769f(0xcf)](0x191)[_0xbd769f(0xcd)]({'success':![],'message':'Unauthorized'});const _0x496d00=_0x5da894[_0xbd769f(0xbe)];await this[_0xbd769f(0xbd)][_0xbd769f(0xc3)](_0x4fd59c,_0x496d00),_0x2d2d36[_0xbd769f(0xcd)]({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x16be6c){_0x451a53(_0x16be6c);}},this[_0x527f17(0xd7)]=async(_0x1c6d95,_0x45507f,_0xe686d0)=>{const _0x572a00=_0x527f17;try{const _0x10db09=_0x1c6d95['user']?.['id'];if(!_0x10db09)return _0x45507f['status'](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x351245=_0x1c6d95[_0x572a00(0xbe)];await this[_0x572a00(0xbd)][_0x572a00(0xd7)](_0x10db09,_0x351245),_0x45507f[_0x572a00(0xcd)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x3d1846){_0xe686d0(_0x3d1846);}},this[_0x527f17(0xd6)]=async(_0xb4c7c4,_0x696376,_0xa7f851)=>{const _0x23eed1=_0x527f17;try{const _0x45600b=_0xb4c7c4['user']?.['id'];if(!_0x45600b)return _0x696376['status'](0x191)[_0x23eed1(0xcd)]({'success':![],'message':_0x23eed1(0xc5)});const _0x4183af=_0xb4c7c4[_0x23eed1(0xbe)];await this[_0x23eed1(0xbd)]['updateWebhookSettings'](_0x45600b,_0x4183af),_0x696376[_0x23eed1(0xcd)]({'success':!![],'message':_0x23eed1(0xc0)});}catch(_0xce7fd6){_0xa7f851(_0xce7fd6);}},this[_0x527f17(0xc2)]=async(_0x1a6b33,_0x39a81e,_0x55d4c5)=>{const _0x1e79e4=_0x527f17;try{const _0x584cc0=_0x1a6b33[_0x1e79e4(0xc9)]?.['id'];if(!_0x584cc0)return _0x39a81e[_0x1e79e4(0xcf)](0x191)[_0x1e79e4(0xcd)]({'success':![],'message':_0x1e79e4(0xc5)});const {twoFactorToken:_0x397ffd}=_0x1a6b33['body'];await this[_0x1e79e4(0xbd)][_0x1e79e4(0xd3)](_0x584cc0,_0x397ffd),_0x39a81e[_0x1e79e4(0xcd)]({'success':!![],'message':_0x1e79e4(0xda)});}catch(_0x1162ad){_0x55d4c5(_0x1162ad);}},this['deleteAccount']=async(_0x29a3b9,_0x27475c,_0x143df2)=>{const _0x2465f0=_0x527f17;try{const _0x30e86b=_0x29a3b9[_0x2465f0(0xc9)]?.['id'];if(!_0x30e86b)return _0x27475c[_0x2465f0(0xcf)](0x191)[_0x2465f0(0xcd)]({'success':![],'message':_0x2465f0(0xc5)});const _0xbac310=_0x29a3b9[_0x2465f0(0xbe)];await this['settingsService'][_0x2465f0(0xcc)](_0x30e86b,_0xbac310),_0x27475c['json']({'success':!![],'message':_0x2465f0(0xd4)});}catch(_0x21b9f0){_0x143df2(_0x21b9f0);}},this[_0x527f17(0xc6)]=async(_0x4e5094,_0x149a44,_0x502c46)=>{const _0x57c744=_0x527f17;try{const _0x2aaaae=_0x4e5094[_0x57c744(0xc9)]?.['id'];if(!_0x2aaaae)return _0x149a44[_0x57c744(0xcf)](0x191)[_0x57c744(0xcd)]({'success':![],'message':_0x57c744(0xc5)});const _0x1c5b27=await this['settingsService'][_0x57c744(0xc6)](_0x2aaaae);_0x149a44[_0x57c744(0xcd)]({'success':!![],'sessions':_0x1c5b27});}catch(_0x56ebd3){_0x502c46(_0x56ebd3);}},this[_0x527f17(0xbb)]=async(_0x434f4f,_0x1e3423,_0x32995a)=>{const _0x45c2b9=_0x527f17;try{const _0x123958=_0x434f4f[_0x45c2b9(0xc9)]?.['id'];if(!_0x123958)return _0x1e3423[_0x45c2b9(0xcf)](0x191)[_0x45c2b9(0xcd)]({'success':![],'message':_0x45c2b9(0xc5)});const {telegramUserId:_0x47bc93}=_0x434f4f[_0x45c2b9(0xdc)];await this[_0x45c2b9(0xbd)][_0x45c2b9(0xbb)](_0x123958,_0x47bc93),_0x1e3423['json']({'success':!![],'message':_0x45c2b9(0xdd)});}catch(_0x383844){_0x32995a(_0x383844);}},this[_0x527f17(0xbd)]=new settingsService_1['SettingsService']();}}exports[a17_0x38ea87(0xd9)]=SettingsController;