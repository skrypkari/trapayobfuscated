'use strict';const a17_0x56320f=a17_0x10a0;(function(_0x3fdfd9,_0xbef73e){const _0x30fffd=a17_0x10a0,_0x3555b9=_0x3fdfd9();while(!![]){try{const _0x58bf4d=parseInt(_0x30fffd(0x12a))/0x1*(parseInt(_0x30fffd(0x138))/0x2)+parseInt(_0x30fffd(0x135))/0x3*(parseInt(_0x30fffd(0x134))/0x4)+-parseInt(_0x30fffd(0x13f))/0x5*(-parseInt(_0x30fffd(0x12b))/0x6)+-parseInt(_0x30fffd(0x130))/0x7*(parseInt(_0x30fffd(0x13b))/0x8)+-parseInt(_0x30fffd(0x133))/0x9+-parseInt(_0x30fffd(0x12f))/0xa*(parseInt(_0x30fffd(0x127))/0xb)+-parseInt(_0x30fffd(0x126))/0xc;if(_0x58bf4d===_0xbef73e)break;else _0x3555b9['push'](_0x3555b9['shift']());}catch(_0xa2c1a){_0x3555b9['push'](_0x3555b9['shift']());}}}(a17_0x26ae,0x84573));Object['defineProperty'](exports,a17_0x56320f(0x143),{'value':!![]}),exports[a17_0x56320f(0x13d)]=void 0x0;const settingsService_1=require(a17_0x56320f(0x13c));function a17_0x26ae(){const _0x44e679=['Notification\x20preferences\x20updated\x20successfully','deleteAccount','Account\x20deleted\x20successfully','changePassword','11216220RTvxlZ','825ivynTh','Shop\x20settings\x20retrieved\x20successfully','getTelegramSessions','231669tVAZte','5220QuEHnZ','body','updateWebhookSettings','Password\x20updated\x20successfully','11010VwFLZj','630980zfCIyU','Webhook\x20settings\x20updated\x20successfully','updateTelegramSettings','3959172bVvBbE','64352bKzMFj','168PgscCa','getShopSettings','json','6UmIszw','status','updateNotifications','32OXpoJk','../services/settingsService','SettingsController','getSettings','4390JKIYDR','Telegram\x20session\x20disconnected\x20successfully','user','params','__esModule','Telegram\x20bot\x20settings\x20updated\x20successfully','settingsService','Unauthorized','disconnectTelegramSession','SettingsService'];a17_0x26ae=function(){return _0x44e679;};return a17_0x26ae();}function a17_0x10a0(_0x4da915,_0x3d25cd){_0x4da915=_0x4da915-0x121;const _0x26ae0c=a17_0x26ae();let _0x10a0d1=_0x26ae0c[_0x4da915];return _0x10a0d1;}class SettingsController{constructor(){const _0x59ffa0=a17_0x56320f;this[_0x59ffa0(0x13e)]=async(_0x56476c,_0x23dad1,_0x4eb0ab)=>{const _0x5a048a=_0x59ffa0;try{const _0x10c153=_0x56476c[_0x5a048a(0x141)]?.['id'];if(!_0x10c153)return _0x23dad1[_0x5a048a(0x139)](0x191)[_0x5a048a(0x137)]({'success':![],'message':_0x5a048a(0x146)});const _0x483b3d=await this[_0x5a048a(0x145)][_0x5a048a(0x136)](_0x10c153);_0x23dad1[_0x5a048a(0x137)]({'success':!![],'message':_0x5a048a(0x128),'data':_0x483b3d});}catch(_0x13ebf3){_0x4eb0ab(_0x13ebf3);}},this[_0x59ffa0(0x125)]=async(_0x7bcd49,_0x5dd909,_0x3a515b)=>{const _0x218efa=_0x59ffa0;try{const _0x257963=_0x7bcd49[_0x218efa(0x141)]?.['id'];if(!_0x257963)return _0x5dd909[_0x218efa(0x139)](0x191)[_0x218efa(0x137)]({'success':![],'message':_0x218efa(0x146)});const _0x41026f=_0x7bcd49[_0x218efa(0x12c)];await this[_0x218efa(0x145)]['changePassword'](_0x257963,_0x41026f),_0x5dd909[_0x218efa(0x137)]({'success':!![],'message':_0x218efa(0x12e)});}catch(_0x23abb0){_0x3a515b(_0x23abb0);}},this['updateNotifications']=async(_0x4bd654,_0x5950a7,_0x37f2ad)=>{const _0x18d9c7=_0x59ffa0;try{const _0x3cf11f=_0x4bd654['user']?.['id'];if(!_0x3cf11f)return _0x5950a7[_0x18d9c7(0x139)](0x191)[_0x18d9c7(0x137)]({'success':![],'message':_0x18d9c7(0x146)});const _0x3095ec=_0x4bd654[_0x18d9c7(0x12c)];await this[_0x18d9c7(0x145)][_0x18d9c7(0x13a)](_0x3cf11f,_0x3095ec),_0x5950a7['json']({'success':!![],'message':_0x18d9c7(0x122)});}catch(_0x34c1a6){_0x37f2ad(_0x34c1a6);}},this['updateTelegramSettings']=async(_0x41e09f,_0x5ef606,_0x14678d)=>{const _0x3f04b1=_0x59ffa0;try{const _0x17838f=_0x41e09f[_0x3f04b1(0x141)]?.['id'];if(!_0x17838f)return _0x5ef606[_0x3f04b1(0x139)](0x191)['json']({'success':![],'message':_0x3f04b1(0x146)});const _0x178015=_0x41e09f[_0x3f04b1(0x12c)];await this[_0x3f04b1(0x145)][_0x3f04b1(0x132)](_0x17838f,_0x178015),_0x5ef606[_0x3f04b1(0x137)]({'success':!![],'message':_0x3f04b1(0x144)});}catch(_0x1016e1){_0x14678d(_0x1016e1);}},this[_0x59ffa0(0x12d)]=async(_0x340832,_0x229717,_0x802a42)=>{const _0x4b8f9f=_0x59ffa0;try{const _0x58d960=_0x340832[_0x4b8f9f(0x141)]?.['id'];if(!_0x58d960)return _0x229717['status'](0x191)[_0x4b8f9f(0x137)]({'success':![],'message':'Unauthorized'});const _0x8bd910=_0x340832[_0x4b8f9f(0x12c)];await this[_0x4b8f9f(0x145)][_0x4b8f9f(0x12d)](_0x58d960,_0x8bd910),_0x229717[_0x4b8f9f(0x137)]({'success':!![],'message':_0x4b8f9f(0x131)});}catch(_0xfe9f73){_0x802a42(_0xfe9f73);}},this['revokeApiKeys']=async(_0x57ed08,_0x56ebde,_0x192d8e)=>{const _0xa83243=_0x59ffa0;try{const _0x12996f=_0x57ed08[_0xa83243(0x141)]?.['id'];if(!_0x12996f)return _0x56ebde[_0xa83243(0x139)](0x191)[_0xa83243(0x137)]({'success':![],'message':_0xa83243(0x146)});const {twoFactorToken:_0xf5258}=_0x57ed08[_0xa83243(0x12c)];await this['settingsService']['revokeAllApiKeys'](_0x12996f,_0xf5258),_0x56ebde[_0xa83243(0x137)]({'success':!![],'message':'All\x20API\x20keys\x20revoked\x20successfully'});}catch(_0x56d5dd){_0x192d8e(_0x56d5dd);}},this[_0x59ffa0(0x123)]=async(_0xc80979,_0x2277c6,_0x3efc4c)=>{const _0x56c97a=_0x59ffa0;try{const _0x5242c4=_0xc80979[_0x56c97a(0x141)]?.['id'];if(!_0x5242c4)return _0x2277c6['status'](0x191)[_0x56c97a(0x137)]({'success':![],'message':_0x56c97a(0x146)});const _0x5bb607=_0xc80979['body'];await this['settingsService'][_0x56c97a(0x123)](_0x5242c4,_0x5bb607),_0x2277c6[_0x56c97a(0x137)]({'success':!![],'message':_0x56c97a(0x124)});}catch(_0xea8dde){_0x3efc4c(_0xea8dde);}},this[_0x59ffa0(0x129)]=async(_0x5e1e43,_0x55b2db,_0x24f074)=>{const _0x1dea62=_0x59ffa0;try{const _0x217b28=_0x5e1e43[_0x1dea62(0x141)]?.['id'];if(!_0x217b28)return _0x55b2db[_0x1dea62(0x139)](0x191)[_0x1dea62(0x137)]({'success':![],'message':_0x1dea62(0x146)});const _0x362b69=await this[_0x1dea62(0x145)][_0x1dea62(0x129)](_0x217b28);_0x55b2db['json']({'success':!![],'sessions':_0x362b69});}catch(_0x1bf133){_0x24f074(_0x1bf133);}},this[_0x59ffa0(0x147)]=async(_0x527f32,_0x4937c6,_0x6f17c6)=>{const _0x1f2129=_0x59ffa0;try{const _0x1ccaa3=_0x527f32[_0x1f2129(0x141)]?.['id'];if(!_0x1ccaa3)return _0x4937c6[_0x1f2129(0x139)](0x191)['json']({'success':![],'message':_0x1f2129(0x146)});const {telegramUserId:_0x34ed48}=_0x527f32[_0x1f2129(0x142)];await this['settingsService'][_0x1f2129(0x147)](_0x1ccaa3,_0x34ed48),_0x4937c6[_0x1f2129(0x137)]({'success':!![],'message':_0x1f2129(0x140)});}catch(_0x77a127){_0x6f17c6(_0x77a127);}},this['settingsService']=new settingsService_1[(_0x59ffa0(0x121))]();}}exports[a17_0x56320f(0x13d)]=SettingsController;