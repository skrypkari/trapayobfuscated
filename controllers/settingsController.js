'use strict';const a10_0x5618a3=a10_0x5f51;function a10_0xa9b4(){const _0x545440=['29317596HwjLXB','revokeApiKeys','updateTelegramSettings','Notification\x20preferences\x20updated\x20successfully','deleteAccount','Password\x20updated\x20successfully','Telegram\x20bot\x20settings\x20updated\x20successfully','updateNotifications','defineProperty','Unauthorized','104UTEjja','Shop\x20settings\x20retrieved\x20successfully','5193342XLVamx','settingsService','4290165LZiUGY','__esModule','All\x20API\x20keys\x20revoked\x20successfully','158xfoUpK','body','json','7957uXSYjw','status','SettingsController','user','changePassword','420uRdivj','233429thvIFl','80604cUGODC','getSettings','2721yBXhuQ','3824yEbqUW'];a10_0xa9b4=function(){return _0x545440;};return a10_0xa9b4();}function a10_0x5f51(_0x3ee919,_0x2a4cba){const _0xa9b494=a10_0xa9b4();return a10_0x5f51=function(_0x5f51b9,_0x57c335){_0x5f51b9=_0x5f51b9-0xc2;let _0x4d7fa2=_0xa9b494[_0x5f51b9];return _0x4d7fa2;},a10_0x5f51(_0x3ee919,_0x2a4cba);}(function(_0x57ad01,_0x444170){const _0x4e3cfc=a10_0x5f51,_0x1e8579=_0x57ad01();while(!![]){try{const _0x3c349e=parseInt(_0x4e3cfc(0xcf))/0x1*(parseInt(_0x4e3cfc(0xcc))/0x2)+-parseInt(_0x4e3cfc(0xd8))/0x3*(-parseInt(_0x4e3cfc(0xd9))/0x4)+parseInt(_0x4e3cfc(0xc9))/0x5+parseInt(_0x4e3cfc(0xc7))/0x6+parseInt(_0x4e3cfc(0xd5))/0x7*(-parseInt(_0x4e3cfc(0xc5))/0x8)+-parseInt(_0x4e3cfc(0xd6))/0x9*(-parseInt(_0x4e3cfc(0xd4))/0xa)+-parseInt(_0x4e3cfc(0xda))/0xb;if(_0x3c349e===_0x444170)break;else _0x1e8579['push'](_0x1e8579['shift']());}catch(_0x17c2fd){_0x1e8579['push'](_0x1e8579['shift']());}}}(a10_0xa9b4,0x79432));Object[a10_0x5618a3(0xc3)](exports,a10_0x5618a3(0xca),{'value':!![]}),exports[a10_0x5618a3(0xd1)]=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x3d3e29=a10_0x5618a3;this[_0x3d3e29(0xd7)]=async(_0x57862c,_0x348dbf,_0x42e39d)=>{const _0x342d9a=_0x3d3e29;try{const _0xe3f635=_0x57862c['user']?.['id'];if(!_0xe3f635)return _0x348dbf['status'](0x191)[_0x342d9a(0xce)]({'success':![],'message':_0x342d9a(0xc4)});const _0x3dae9d=await this[_0x342d9a(0xc8)]['getShopSettings'](_0xe3f635);_0x348dbf[_0x342d9a(0xce)]({'success':!![],'message':_0x342d9a(0xc6),'data':_0x3dae9d});}catch(_0x247f9a){_0x42e39d(_0x247f9a);}},this[_0x3d3e29(0xd3)]=async(_0xf1b1a6,_0x5ee8de,_0x4f7ffe)=>{const _0x1da145=_0x3d3e29;try{const _0x95900f=_0xf1b1a6['user']?.['id'];if(!_0x95900f)return _0x5ee8de['status'](0x191)['json']({'success':![],'message':_0x1da145(0xc4)});const _0x30d76e=_0xf1b1a6[_0x1da145(0xcd)];await this['settingsService'][_0x1da145(0xd3)](_0x95900f,_0x30d76e),_0x5ee8de[_0x1da145(0xce)]({'success':!![],'message':_0x1da145(0xdf)});}catch(_0x537cd8){_0x4f7ffe(_0x537cd8);}},this[_0x3d3e29(0xc2)]=async(_0x588579,_0x498c08,_0x16e733)=>{const _0x30b8b5=_0x3d3e29;try{const _0xa5d626=_0x588579[_0x30b8b5(0xd2)]?.['id'];if(!_0xa5d626)return _0x498c08[_0x30b8b5(0xd0)](0x191)['json']({'success':![],'message':_0x30b8b5(0xc4)});const _0x56b5c8=_0x588579['body'];await this[_0x30b8b5(0xc8)]['updateNotifications'](_0xa5d626,_0x56b5c8),_0x498c08[_0x30b8b5(0xce)]({'success':!![],'message':_0x30b8b5(0xdd)});}catch(_0x23cea4){_0x16e733(_0x23cea4);}},this['updateTelegramSettings']=async(_0x1945c6,_0x473179,_0x3b8f7e)=>{const _0x546970=_0x3d3e29;try{const _0xcacf4e=_0x1945c6[_0x546970(0xd2)]?.['id'];if(!_0xcacf4e)return _0x473179[_0x546970(0xd0)](0x191)[_0x546970(0xce)]({'success':![],'message':_0x546970(0xc4)});const _0x464995=_0x1945c6[_0x546970(0xcd)];await this['settingsService'][_0x546970(0xdc)](_0xcacf4e,_0x464995),_0x473179[_0x546970(0xce)]({'success':!![],'message':_0x546970(0xe0)});}catch(_0x294049){_0x3b8f7e(_0x294049);}},this['updateWebhookSettings']=async(_0x46fb48,_0x79eed8,_0x398504)=>{const _0x1826dc=_0x3d3e29;try{const _0x43e23e=_0x46fb48['user']?.['id'];if(!_0x43e23e)return _0x79eed8[_0x1826dc(0xd0)](0x191)[_0x1826dc(0xce)]({'success':![],'message':_0x1826dc(0xc4)});const _0x39dbc7=_0x46fb48[_0x1826dc(0xcd)];await this['settingsService']['updateWebhookSettings'](_0x43e23e,_0x39dbc7),_0x79eed8[_0x1826dc(0xce)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x32ee37){_0x398504(_0x32ee37);}},this[_0x3d3e29(0xdb)]=async(_0x571d4d,_0x56cb29,_0x47287b)=>{const _0x163d41=_0x3d3e29;try{const _0x49ea04=_0x571d4d[_0x163d41(0xd2)]?.['id'];if(!_0x49ea04)return _0x56cb29['status'](0x191)['json']({'success':![],'message':'Unauthorized'});await this[_0x163d41(0xc8)]['revokeAllApiKeys'](_0x49ea04),_0x56cb29[_0x163d41(0xce)]({'success':!![],'message':_0x163d41(0xcb)});}catch(_0x26f764){_0x47287b(_0x26f764);}},this['deleteAccount']=async(_0x458620,_0x4b69f5,_0x2a5b40)=>{const _0x32135b=_0x3d3e29;try{const _0x221538=_0x458620['user']?.['id'];if(!_0x221538)return _0x4b69f5[_0x32135b(0xd0)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x3f814c=_0x458620['body'];await this[_0x32135b(0xc8)][_0x32135b(0xde)](_0x221538,_0x3f814c),_0x4b69f5[_0x32135b(0xce)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0x56fe57){_0x2a5b40(_0x56fe57);}},this[_0x3d3e29(0xc8)]=new settingsService_1['SettingsService']();}}exports['SettingsController']=SettingsController;