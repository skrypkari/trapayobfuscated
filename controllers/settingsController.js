'use strict';function a10_0x4a2d(){const _0x30306c=['status','user','5398908MehITp','updateTelegramSettings','getShopSettings','Shop\x20settings\x20retrieved\x20successfully','504JqkfSy','9lDWnsj','1279145nvlPTp','Notification\x20preferences\x20updated\x20successfully','revokeAllApiKeys','2IVzDnT','json','__esModule','Password\x20updated\x20successfully','revokeApiKeys','updateNotifications','417705bCcKkd','302064clAbHi','6JOtHNp','Telegram\x20bot\x20settings\x20updated\x20successfully','Unauthorized','Account\x20deleted\x20successfully','5631329BrEcDm','settingsService','updateWebhookSettings','deleteAccount','5091646oWoNbA','defineProperty','SettingsController','10kUQKBS','95859xnfSNB','body'];a10_0x4a2d=function(){return _0x30306c;};return a10_0x4a2d();}const a10_0x2eab4a=a10_0x4704;(function(_0x27b2e7,_0x536b5a){const _0x1f8f43=a10_0x4704,_0x512b3e=_0x27b2e7();while(!![]){try{const _0x169410=-parseInt(_0x1f8f43(0x101))/0x1*(-parseInt(_0x1f8f43(0xfb))/0x2)+parseInt(_0x1f8f43(0xf7))/0x3*(parseInt(_0x1f8f43(0x102))/0x4)+-parseInt(_0x1f8f43(0xf8))/0x5+parseInt(_0x1f8f43(0x103))/0x6*(-parseInt(_0x1f8f43(0x10b))/0x7)+-parseInt(_0x1f8f43(0xf6))/0x8*(-parseInt(_0x1f8f43(0x10f))/0x9)+-parseInt(_0x1f8f43(0x10e))/0xa*(-parseInt(_0x1f8f43(0x107))/0xb)+-parseInt(_0x1f8f43(0xf2))/0xc;if(_0x169410===_0x536b5a)break;else _0x512b3e['push'](_0x512b3e['shift']());}catch(_0xadd646){_0x512b3e['push'](_0x512b3e['shift']());}}}(a10_0x4a2d,0x60369));Object[a10_0x2eab4a(0x10c)](exports,a10_0x2eab4a(0xfd),{'value':!![]}),exports['SettingsController']=void 0x0;function a10_0x4704(_0x17c381,_0x279d77){const _0x4a2d7d=a10_0x4a2d();return a10_0x4704=function(_0x47041d,_0x42035e){_0x47041d=_0x47041d-0xf2;let _0x266147=_0x4a2d7d[_0x47041d];return _0x266147;},a10_0x4704(_0x17c381,_0x279d77);}const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x982dda=a10_0x2eab4a;this['getSettings']=async(_0xb93e14,_0x57a68b,_0x52b0cd)=>{const _0x51723a=a10_0x4704;try{const _0x32e66f=_0xb93e14[_0x51723a(0x112)]?.['id'];if(!_0x32e66f)return _0x57a68b[_0x51723a(0x111)](0x191)[_0x51723a(0xfc)]({'success':![],'message':'Unauthorized'});const _0x37c16c=await this[_0x51723a(0x108)][_0x51723a(0xf4)](_0x32e66f);_0x57a68b[_0x51723a(0xfc)]({'success':!![],'message':_0x51723a(0xf5),'data':_0x37c16c});}catch(_0x33cd3b){_0x52b0cd(_0x33cd3b);}},this['changePassword']=async(_0x324ecd,_0x48c201,_0x3cbef6)=>{const _0x4d0a10=a10_0x4704;try{const _0x518037=_0x324ecd['user']?.['id'];if(!_0x518037)return _0x48c201[_0x4d0a10(0x111)](0x191)[_0x4d0a10(0xfc)]({'success':![],'message':_0x4d0a10(0x105)});const _0x2c399a=_0x324ecd[_0x4d0a10(0x110)];await this['settingsService']['changePassword'](_0x518037,_0x2c399a),_0x48c201[_0x4d0a10(0xfc)]({'success':!![],'message':_0x4d0a10(0xfe)});}catch(_0x27a675){_0x3cbef6(_0x27a675);}},this[_0x982dda(0x100)]=async(_0x4bb41c,_0x44f20e,_0x4c3d60)=>{const _0x308516=_0x982dda;try{const _0x5b1ea6=_0x4bb41c[_0x308516(0x112)]?.['id'];if(!_0x5b1ea6)return _0x44f20e['status'](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x439131=_0x4bb41c[_0x308516(0x110)];await this[_0x308516(0x108)][_0x308516(0x100)](_0x5b1ea6,_0x439131),_0x44f20e[_0x308516(0xfc)]({'success':!![],'message':_0x308516(0xf9)});}catch(_0x3030f7){_0x4c3d60(_0x3030f7);}},this['updateTelegramSettings']=async(_0x671a2a,_0x279bf7,_0x2caf0a)=>{const _0x4e11c6=_0x982dda;try{const _0x34ad63=_0x671a2a[_0x4e11c6(0x112)]?.['id'];if(!_0x34ad63)return _0x279bf7[_0x4e11c6(0x111)](0x191)[_0x4e11c6(0xfc)]({'success':![],'message':_0x4e11c6(0x105)});const _0x57e62c=_0x671a2a['body'];await this['settingsService'][_0x4e11c6(0xf3)](_0x34ad63,_0x57e62c),_0x279bf7['json']({'success':!![],'message':_0x4e11c6(0x104)});}catch(_0x2b22b9){_0x2caf0a(_0x2b22b9);}},this[_0x982dda(0x109)]=async(_0x1c27c4,_0xf77753,_0x1de8db)=>{const _0x5309ee=_0x982dda;try{const _0x357c47=_0x1c27c4['user']?.['id'];if(!_0x357c47)return _0xf77753[_0x5309ee(0x111)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x573b45=_0x1c27c4[_0x5309ee(0x110)];await this[_0x5309ee(0x108)][_0x5309ee(0x109)](_0x357c47,_0x573b45),_0xf77753[_0x5309ee(0xfc)]({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x898b80){_0x1de8db(_0x898b80);}},this[_0x982dda(0xff)]=async(_0x28aaf9,_0x4beb05,_0x59cf9d)=>{const _0x239e0a=_0x982dda;try{const _0x4b3b74=_0x28aaf9['user']?.['id'];if(!_0x4b3b74)return _0x4beb05[_0x239e0a(0x111)](0x191)['json']({'success':![],'message':_0x239e0a(0x105)});await this['settingsService'][_0x239e0a(0xfa)](_0x4b3b74),_0x4beb05['json']({'success':!![],'message':'All\x20API\x20keys\x20revoked\x20successfully'});}catch(_0x36c70c){_0x59cf9d(_0x36c70c);}},this[_0x982dda(0x10a)]=async(_0x381cf3,_0x53d3be,_0x2e083e)=>{const _0x4ce6f0=_0x982dda;try{const _0x322b4d=_0x381cf3[_0x4ce6f0(0x112)]?.['id'];if(!_0x322b4d)return _0x53d3be['status'](0x191)['json']({'success':![],'message':_0x4ce6f0(0x105)});const _0x3b1837=_0x381cf3[_0x4ce6f0(0x110)];await this[_0x4ce6f0(0x108)]['deleteAccount'](_0x322b4d,_0x3b1837),_0x53d3be[_0x4ce6f0(0xfc)]({'success':!![],'message':_0x4ce6f0(0x106)});}catch(_0x4ec5d1){_0x2e083e(_0x4ec5d1);}},this[_0x982dda(0x108)]=new settingsService_1['SettingsService']();}}exports[a10_0x2eab4a(0x10d)]=SettingsController;