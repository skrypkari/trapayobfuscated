'use strict';const a11_0x862d15=a11_0x2a71;(function(_0x1c2e43,_0x1be3a3){const _0x2b3b54=a11_0x2a71,_0xc15010=_0x1c2e43();while(!![]){try{const _0x1983d3=parseInt(_0x2b3b54(0x201))/0x1+parseInt(_0x2b3b54(0x203))/0x2+parseInt(_0x2b3b54(0x1f3))/0x3+parseInt(_0x2b3b54(0x1f7))/0x4+-parseInt(_0x2b3b54(0x1fe))/0x5*(parseInt(_0x2b3b54(0x1ff))/0x6)+parseInt(_0x2b3b54(0x208))/0x7*(parseInt(_0x2b3b54(0x1f0))/0x8)+-parseInt(_0x2b3b54(0x1ec))/0x9*(parseInt(_0x2b3b54(0x20a))/0xa);if(_0x1983d3===_0x1be3a3)break;else _0xc15010['push'](_0xc15010['shift']());}catch(_0x2d7523){_0xc15010['push'](_0xc15010['shift']());}}}(a11_0x4403,0xf4043));Object['defineProperty'](exports,a11_0x862d15(0x200),{'value':!![]}),exports[a11_0x862d15(0x1f9)]=void 0x0;const settingsService_1=require('../services/settingsService');function a11_0x4403(){const _0x2b1b90=['Account\x20deleted\x20successfully','deleteAccount','All\x20API\x20keys\x20revoked\x20successfully','2359DuLksM','status','10jZduUg','44076861qAaZoy','body','getSettings','SettingsService','42312UESBlu','revokeApiKeys','updateTelegramSettings','3778353QcIrFl','Notification\x20preferences\x20updated\x20successfully','updateNotifications','json','570700HntNei','Unauthorized','SettingsController','updateWebhookSettings','getShopSettings','user','changePassword','5YwwhjN','3918498SALMgJ','__esModule','1591104OFyBnw','settingsService','3548760AYDqbn','Telegram\x20bot\x20settings\x20updated\x20successfully'];a11_0x4403=function(){return _0x2b1b90;};return a11_0x4403();}class SettingsController{constructor(){const _0xf7faf1=a11_0x862d15;this[_0xf7faf1(0x1ee)]=async(_0x38bf96,_0x208431,_0x39a044)=>{const _0x50ab0b=_0xf7faf1;try{const _0x4ae8d4=_0x38bf96['user']?.['id'];if(!_0x4ae8d4)return _0x208431[_0x50ab0b(0x209)](0x191)[_0x50ab0b(0x1f6)]({'success':![],'message':'Unauthorized'});const _0x1726fd=await this[_0x50ab0b(0x202)][_0x50ab0b(0x1fb)](_0x4ae8d4);_0x208431['json']({'success':!![],'message':'Shop\x20settings\x20retrieved\x20successfully','data':_0x1726fd});}catch(_0x4c6a21){_0x39a044(_0x4c6a21);}},this[_0xf7faf1(0x1fd)]=async(_0x585f37,_0x2936fe,_0x1f7f9d)=>{const _0x31b4e8=_0xf7faf1;try{const _0x409dfa=_0x585f37['user']?.['id'];if(!_0x409dfa)return _0x2936fe['status'](0x191)[_0x31b4e8(0x1f6)]({'success':![],'message':_0x31b4e8(0x1f8)});const _0x322637=_0x585f37[_0x31b4e8(0x1ed)];await this['settingsService']['changePassword'](_0x409dfa,_0x322637),_0x2936fe[_0x31b4e8(0x1f6)]({'success':!![],'message':'Password\x20updated\x20successfully'});}catch(_0x54fc71){_0x1f7f9d(_0x54fc71);}},this[_0xf7faf1(0x1f5)]=async(_0x31d869,_0x8cc2a2,_0x2e16f9)=>{const _0xec977e=_0xf7faf1;try{const _0x5341ca=_0x31d869[_0xec977e(0x1fc)]?.['id'];if(!_0x5341ca)return _0x8cc2a2[_0xec977e(0x209)](0x191)[_0xec977e(0x1f6)]({'success':![],'message':_0xec977e(0x1f8)});const _0x2b8bcc=_0x31d869[_0xec977e(0x1ed)];await this[_0xec977e(0x202)]['updateNotifications'](_0x5341ca,_0x2b8bcc),_0x8cc2a2[_0xec977e(0x1f6)]({'success':!![],'message':_0xec977e(0x1f4)});}catch(_0x5d5d48){_0x2e16f9(_0x5d5d48);}},this[_0xf7faf1(0x1f2)]=async(_0x13026c,_0x18a735,_0x2da2c0)=>{const _0x1a2a2f=_0xf7faf1;try{const _0x4bee1c=_0x13026c[_0x1a2a2f(0x1fc)]?.['id'];if(!_0x4bee1c)return _0x18a735[_0x1a2a2f(0x209)](0x191)['json']({'success':![],'message':_0x1a2a2f(0x1f8)});const _0x37138e=_0x13026c[_0x1a2a2f(0x1ed)];await this[_0x1a2a2f(0x202)][_0x1a2a2f(0x1f2)](_0x4bee1c,_0x37138e),_0x18a735[_0x1a2a2f(0x1f6)]({'success':!![],'message':_0x1a2a2f(0x204)});}catch(_0x2123a7){_0x2da2c0(_0x2123a7);}},this['updateWebhookSettings']=async(_0x2608a7,_0x102726,_0xe43de7)=>{const _0x5324e5=_0xf7faf1;try{const _0x34c9d9=_0x2608a7['user']?.['id'];if(!_0x34c9d9)return _0x102726[_0x5324e5(0x209)](0x191)[_0x5324e5(0x1f6)]({'success':![],'message':_0x5324e5(0x1f8)});const _0x411e08=_0x2608a7[_0x5324e5(0x1ed)];await this[_0x5324e5(0x202)][_0x5324e5(0x1fa)](_0x34c9d9,_0x411e08),_0x102726['json']({'success':!![],'message':'Webhook\x20settings\x20updated\x20successfully'});}catch(_0x475ee0){_0xe43de7(_0x475ee0);}},this[_0xf7faf1(0x1f1)]=async(_0x42eb0f,_0x4f8303,_0x5dd264)=>{const _0x5e05eb=_0xf7faf1;try{const _0x37089e=_0x42eb0f['user']?.['id'];if(!_0x37089e)return _0x4f8303[_0x5e05eb(0x209)](0x191)['json']({'success':![],'message':'Unauthorized'});await this[_0x5e05eb(0x202)]['revokeAllApiKeys'](_0x37089e),_0x4f8303[_0x5e05eb(0x1f6)]({'success':!![],'message':_0x5e05eb(0x207)});}catch(_0x3549c1){_0x5dd264(_0x3549c1);}},this['deleteAccount']=async(_0x2c3b64,_0xe472d5,_0xab2cd)=>{const _0x5ede01=_0xf7faf1;try{const _0x1eea78=_0x2c3b64[_0x5ede01(0x1fc)]?.['id'];if(!_0x1eea78)return _0xe472d5[_0x5ede01(0x209)](0x191)[_0x5ede01(0x1f6)]({'success':![],'message':_0x5ede01(0x1f8)});const _0x40675a=_0x2c3b64['body'];await this[_0x5ede01(0x202)][_0x5ede01(0x206)](_0x1eea78,_0x40675a),_0xe472d5[_0x5ede01(0x1f6)]({'success':!![],'message':_0x5ede01(0x205)});}catch(_0x162150){_0xab2cd(_0x162150);}},this[_0xf7faf1(0x202)]=new settingsService_1[(_0xf7faf1(0x1ef))]();}}function a11_0x2a71(_0x4fbf84,_0x6f358a){const _0x4403e8=a11_0x4403();return a11_0x2a71=function(_0x2a716f,_0x2a96c8){_0x2a716f=_0x2a716f-0x1ec;let _0xaa364e=_0x4403e8[_0x2a716f];return _0xaa364e;},a11_0x2a71(_0x4fbf84,_0x6f358a);}exports[a11_0x862d15(0x1f9)]=SettingsController;