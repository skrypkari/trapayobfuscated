'use strict';const a10_0x133fc5=a10_0xf4c4;(function(_0x2ef21d,_0x75fec){const _0x514f80=a10_0xf4c4,_0x1bb62e=_0x2ef21d();while(!![]){try{const _0x16e4a3=parseInt(_0x514f80(0xb0))/0x1+parseInt(_0x514f80(0xb9))/0x2*(-parseInt(_0x514f80(0xc4))/0x3)+-parseInt(_0x514f80(0xb5))/0x4*(parseInt(_0x514f80(0xb3))/0x5)+parseInt(_0x514f80(0xb7))/0x6+-parseInt(_0x514f80(0xad))/0x7*(-parseInt(_0x514f80(0xac))/0x8)+parseInt(_0x514f80(0xc0))/0x9+-parseInt(_0x514f80(0xc3))/0xa*(parseInt(_0x514f80(0xaf))/0xb);if(_0x16e4a3===_0x75fec)break;else _0x1bb62e['push'](_0x1bb62e['shift']());}catch(_0x1d7b22){_0x1bb62e['push'](_0x1bb62e['shift']());}}}(a10_0x4eb9,0x89a3e));function a10_0x4eb9(){const _0x51f33c=['changePassword','4275208zUAIws','status','6346278YGSuOJ','Password\x20updated\x20successfully','4JXbPiV','Telegram\x20bot\x20settings\x20updated\x20successfully','Notification\x20preferences\x20updated\x20successfully','json','user','SettingsController','settingsService','21573nUDVdn','body','Shop\x20settings\x20retrieved\x20successfully','20sIJFMU','552087cxBRDb','Unauthorized','revokeApiKeys','revokeAllApiKeys','Webhook\x20settings\x20updated\x20successfully','updateNotifications','Account\x20deleted\x20successfully','1184iotcxK','40243mCiHZr','deleteAccount','108922YAUuHE','109476xqEAnp','../services/settingsService','__esModule','5NuRWyK'];a10_0x4eb9=function(){return _0x51f33c;};return a10_0x4eb9();}function a10_0xf4c4(_0x4781b2,_0x4eed3e){const _0x4eb99e=a10_0x4eb9();return a10_0xf4c4=function(_0xf4c486,_0x12fcd1){_0xf4c486=_0xf4c486-0xac;let _0x59b2eb=_0x4eb99e[_0xf4c486];return _0x59b2eb;},a10_0xf4c4(_0x4781b2,_0x4eed3e);}Object['defineProperty'](exports,a10_0x133fc5(0xb2),{'value':!![]}),exports['SettingsController']=void 0x0;const settingsService_1=require(a10_0x133fc5(0xb1));class SettingsController{constructor(){const _0x2a01c6=a10_0x133fc5;this['getSettings']=async(_0x182a27,_0x663305,_0x1643c7)=>{const _0x413426=a10_0xf4c4;try{const _0x10d179=_0x182a27['user']?.['id'];if(!_0x10d179)return _0x663305[_0x413426(0xb6)](0x191)[_0x413426(0xbc)]({'success':![],'message':_0x413426(0xc5)});const _0x220755=await this[_0x413426(0xbf)]['getShopSettings'](_0x10d179);_0x663305['json']({'success':!![],'message':_0x413426(0xc2),'data':_0x220755});}catch(_0x352624){_0x1643c7(_0x352624);}},this[_0x2a01c6(0xb4)]=async(_0x458bda,_0x4f52fc,_0x3d5fc1)=>{const _0xa64380=_0x2a01c6;try{const _0x1a06b6=_0x458bda[_0xa64380(0xbd)]?.['id'];if(!_0x1a06b6)return _0x4f52fc[_0xa64380(0xb6)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x3f98bd=_0x458bda[_0xa64380(0xc1)];await this[_0xa64380(0xbf)][_0xa64380(0xb4)](_0x1a06b6,_0x3f98bd),_0x4f52fc['json']({'success':!![],'message':_0xa64380(0xb8)});}catch(_0x2041f7){_0x3d5fc1(_0x2041f7);}},this[_0x2a01c6(0xc9)]=async(_0x4cbbd6,_0x1bdf1d,_0xf19337)=>{const _0x490fbb=_0x2a01c6;try{const _0x4b8c04=_0x4cbbd6[_0x490fbb(0xbd)]?.['id'];if(!_0x4b8c04)return _0x1bdf1d[_0x490fbb(0xb6)](0x191)[_0x490fbb(0xbc)]({'success':![],'message':_0x490fbb(0xc5)});const _0x3b938a=_0x4cbbd6['body'];await this[_0x490fbb(0xbf)][_0x490fbb(0xc9)](_0x4b8c04,_0x3b938a),_0x1bdf1d[_0x490fbb(0xbc)]({'success':!![],'message':_0x490fbb(0xbb)});}catch(_0x32cc4a){_0xf19337(_0x32cc4a);}},this['updateTelegramSettings']=async(_0x38f06d,_0x2cd779,_0x4b9cf0)=>{const _0xcd41d5=_0x2a01c6;try{const _0x1be08e=_0x38f06d['user']?.['id'];if(!_0x1be08e)return _0x2cd779[_0xcd41d5(0xb6)](0x191)[_0xcd41d5(0xbc)]({'success':![],'message':_0xcd41d5(0xc5)});const _0x46167b=_0x38f06d[_0xcd41d5(0xc1)];await this['settingsService']['updateTelegramSettings'](_0x1be08e,_0x46167b),_0x2cd779[_0xcd41d5(0xbc)]({'success':!![],'message':_0xcd41d5(0xba)});}catch(_0xb89528){_0x4b9cf0(_0xb89528);}},this['updateWebhookSettings']=async(_0x295e10,_0x3bf09f,_0x59d849)=>{const _0x5ddad5=_0x2a01c6;try{const _0x460a99=_0x295e10['user']?.['id'];if(!_0x460a99)return _0x3bf09f['status'](0x191)[_0x5ddad5(0xbc)]({'success':![],'message':_0x5ddad5(0xc5)});const _0x38c2b8=_0x295e10[_0x5ddad5(0xc1)];await this['settingsService']['updateWebhookSettings'](_0x460a99,_0x38c2b8),_0x3bf09f[_0x5ddad5(0xbc)]({'success':!![],'message':_0x5ddad5(0xc8)});}catch(_0x38fd74){_0x59d849(_0x38fd74);}},this[_0x2a01c6(0xc6)]=async(_0x58677b,_0x121e72,_0x471f29)=>{const _0xc14ed=_0x2a01c6;try{const _0x2c4057=_0x58677b[_0xc14ed(0xbd)]?.['id'];if(!_0x2c4057)return _0x121e72['status'](0x191)[_0xc14ed(0xbc)]({'success':![],'message':'Unauthorized'});await this[_0xc14ed(0xbf)][_0xc14ed(0xc7)](_0x2c4057),_0x121e72[_0xc14ed(0xbc)]({'success':!![],'message':'All\x20API\x20keys\x20revoked\x20successfully'});}catch(_0x297086){_0x471f29(_0x297086);}},this[_0x2a01c6(0xae)]=async(_0x11e5ff,_0x3c7915,_0x11ac43)=>{const _0x54b6ac=_0x2a01c6;try{const _0x2d72d7=_0x11e5ff[_0x54b6ac(0xbd)]?.['id'];if(!_0x2d72d7)return _0x3c7915[_0x54b6ac(0xb6)](0x191)[_0x54b6ac(0xbc)]({'success':![],'message':'Unauthorized'});const _0x559e03=_0x11e5ff[_0x54b6ac(0xc1)];await this[_0x54b6ac(0xbf)]['deleteAccount'](_0x2d72d7,_0x559e03),_0x3c7915[_0x54b6ac(0xbc)]({'success':!![],'message':_0x54b6ac(0xca)});}catch(_0x4b2884){_0x11ac43(_0x4b2884);}},this[_0x2a01c6(0xbf)]=new settingsService_1['SettingsService']();}}exports[a10_0x133fc5(0xbe)]=SettingsController;