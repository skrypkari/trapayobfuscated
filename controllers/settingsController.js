'use strict';function a10_0xe4fa(_0x2767b3,_0x450d6b){const _0x53ef6f=a10_0x53ef();return a10_0xe4fa=function(_0xe4fa8f,_0x28da1c){_0xe4fa8f=_0xe4fa8f-0xd1;let _0x462f72=_0x53ef6f[_0xe4fa8f];return _0x462f72;},a10_0xe4fa(_0x2767b3,_0x450d6b);}function a10_0x53ef(){const _0x3da3e0=['updateNotifications','settingsService','json','2ustgDs','1514913LxiEDz','Shop\x20settings\x20retrieved\x20successfully','Notification\x20preferences\x20updated\x20successfully','changePassword','3652324AiFCvc','updateWebhookSettings','deleteAccount','5208910blWKhe','getSettings','6987432iYKALx','1696ukgCFh','updateTelegramSettings','revokeAllApiKeys','status','Password\x20updated\x20successfully','489187qpZgTM','Unauthorized','40180TrnUpp','user','SettingsController','Webhook\x20settings\x20updated\x20successfully','5RcRBDE','Telegram\x20bot\x20settings\x20updated\x20successfully','10747gIQNDc','41733SwbKrr','body','revokeApiKeys','SettingsService','All\x20API\x20keys\x20revoked\x20successfully'];a10_0x53ef=function(){return _0x3da3e0;};return a10_0x53ef();}const a10_0x1abfcc=a10_0xe4fa;(function(_0x182838,_0x395773){const _0x15676d=a10_0xe4fa,_0x5c0261=_0x182838();while(!![]){try{const _0x421f21=-parseInt(_0x15676d(0xd7))/0x1*(parseInt(_0x15676d(0xe8))/0x2)+-parseInt(_0x15676d(0xe9))/0x3+-parseInt(_0x15676d(0xed))/0x4*(parseInt(_0x15676d(0xdd))/0x5)+-parseInt(_0x15676d(0xd1))/0x6+parseInt(_0x15676d(0xf0))/0x7+-parseInt(_0x15676d(0xd2))/0x8*(parseInt(_0x15676d(0xe0))/0x9)+-parseInt(_0x15676d(0xd9))/0xa*(-parseInt(_0x15676d(0xdf))/0xb);if(_0x421f21===_0x395773)break;else _0x5c0261['push'](_0x5c0261['shift']());}catch(_0x5b932d){_0x5c0261['push'](_0x5c0261['shift']());}}}(a10_0x53ef,0x961cd));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['SettingsController']=void 0x0;const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x549958=a10_0xe4fa;this[_0x549958(0xf1)]=async(_0x4fd990,_0xe05e67,_0x5f37a1)=>{const _0x4166f3=_0x549958;try{const _0x3ce5b6=_0x4fd990[_0x4166f3(0xda)]?.['id'];if(!_0x3ce5b6)return _0xe05e67['status'](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x117ba8=await this['settingsService']['getShopSettings'](_0x3ce5b6);_0xe05e67[_0x4166f3(0xe7)]({'success':!![],'message':_0x4166f3(0xea),'data':_0x117ba8});}catch(_0x2d4963){_0x5f37a1(_0x2d4963);}},this[_0x549958(0xec)]=async(_0x372078,_0x31c89b,_0x395605)=>{const _0x53698d=_0x549958;try{const _0x22f92c=_0x372078['user']?.['id'];if(!_0x22f92c)return _0x31c89b[_0x53698d(0xd5)](0x191)[_0x53698d(0xe7)]({'success':![],'message':'Unauthorized'});const _0x2b9631=_0x372078[_0x53698d(0xe1)];await this[_0x53698d(0xe6)]['changePassword'](_0x22f92c,_0x2b9631),_0x31c89b[_0x53698d(0xe7)]({'success':!![],'message':_0x53698d(0xd6)});}catch(_0x2ee00d){_0x395605(_0x2ee00d);}},this[_0x549958(0xe5)]=async(_0x184b44,_0x55d512,_0x224e16)=>{const _0x425936=_0x549958;try{const _0x408fea=_0x184b44[_0x425936(0xda)]?.['id'];if(!_0x408fea)return _0x55d512[_0x425936(0xd5)](0x191)[_0x425936(0xe7)]({'success':![],'message':_0x425936(0xd8)});const _0x752885=_0x184b44[_0x425936(0xe1)];await this[_0x425936(0xe6)][_0x425936(0xe5)](_0x408fea,_0x752885),_0x55d512[_0x425936(0xe7)]({'success':!![],'message':_0x425936(0xeb)});}catch(_0x424a32){_0x224e16(_0x424a32);}},this[_0x549958(0xd3)]=async(_0x576b2f,_0x158402,_0x2e4bff)=>{const _0xd1ee90=_0x549958;try{const _0x415c86=_0x576b2f[_0xd1ee90(0xda)]?.['id'];if(!_0x415c86)return _0x158402[_0xd1ee90(0xd5)](0x191)['json']({'success':![],'message':_0xd1ee90(0xd8)});const _0x35a870=_0x576b2f['body'];await this[_0xd1ee90(0xe6)]['updateTelegramSettings'](_0x415c86,_0x35a870),_0x158402[_0xd1ee90(0xe7)]({'success':!![],'message':_0xd1ee90(0xde)});}catch(_0x5babb7){_0x2e4bff(_0x5babb7);}},this[_0x549958(0xee)]=async(_0x1b091d,_0x2f65ab,_0x2f5d7d)=>{const _0x1d858d=_0x549958;try{const _0x1ecd03=_0x1b091d[_0x1d858d(0xda)]?.['id'];if(!_0x1ecd03)return _0x2f65ab[_0x1d858d(0xd5)](0x191)[_0x1d858d(0xe7)]({'success':![],'message':_0x1d858d(0xd8)});const _0x389514=_0x1b091d['body'];await this[_0x1d858d(0xe6)][_0x1d858d(0xee)](_0x1ecd03,_0x389514),_0x2f65ab['json']({'success':!![],'message':_0x1d858d(0xdc)});}catch(_0x1dd67b){_0x2f5d7d(_0x1dd67b);}},this[_0x549958(0xe2)]=async(_0x5253e7,_0x1f8ad1,_0x2cd664)=>{const _0x4345b5=_0x549958;try{const _0x5e74dd=_0x5253e7[_0x4345b5(0xda)]?.['id'];if(!_0x5e74dd)return _0x1f8ad1[_0x4345b5(0xd5)](0x191)[_0x4345b5(0xe7)]({'success':![],'message':_0x4345b5(0xd8)});await this[_0x4345b5(0xe6)][_0x4345b5(0xd4)](_0x5e74dd),_0x1f8ad1['json']({'success':!![],'message':_0x4345b5(0xe4)});}catch(_0x4df73e){_0x2cd664(_0x4df73e);}},this['deleteAccount']=async(_0x3d78c2,_0x5b7529,_0x266c5b)=>{const _0x48f0df=_0x549958;try{const _0x476220=_0x3d78c2[_0x48f0df(0xda)]?.['id'];if(!_0x476220)return _0x5b7529[_0x48f0df(0xd5)](0x191)[_0x48f0df(0xe7)]({'success':![],'message':'Unauthorized'});const _0x46adae=_0x3d78c2['body'];await this['settingsService'][_0x48f0df(0xef)](_0x476220,_0x46adae),_0x5b7529['json']({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0xda628a){_0x266c5b(_0xda628a);}},this[_0x549958(0xe6)]=new settingsService_1[(_0x549958(0xe3))]();}}exports[a10_0x1abfcc(0xdb)]=SettingsController;