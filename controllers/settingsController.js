'use strict';const a10_0x18c2cb=a10_0x4a46;function a10_0x59c7(){const _0x3edfe=['516hbvmdI','changePassword','updateNotifications','1634716JJtKUr','updateWebhookSettings','299549sabFlD','getSettings','settingsService','5476150eWPzno','Unauthorized','Shop\x20settings\x20retrieved\x20successfully','Telegram\x20bot\x20settings\x20updated\x20successfully','430530KdpkXo','3709464gdDdja','SettingsController','22zwYafW','SettingsService','getShopSettings','json','5076432gkiKgB','user','10EAxXBf','updateTelegramSettings','Account\x20deleted\x20successfully','Webhook\x20settings\x20updated\x20successfully','All\x20API\x20keys\x20revoked\x20successfully','137025tUGfuc','body','__esModule','status','defineProperty','3eXxrnn'];a10_0x59c7=function(){return _0x3edfe;};return a10_0x59c7();}(function(_0x7cbaad,_0xd9a778){const _0x36c580=a10_0x4a46,_0xb2cb8a=_0x7cbaad();while(!![]){try{const _0x4717a1=-parseInt(_0x36c580(0x168))/0x1+-parseInt(_0x36c580(0x14f))/0x2*(parseInt(_0x36c580(0x162))/0x3)+parseInt(_0x36c580(0x166))/0x4*(parseInt(_0x36c580(0x158))/0x5)+-parseInt(_0x36c580(0x163))/0x6*(-parseInt(_0x36c580(0x15d))/0x7)+-parseInt(_0x36c580(0x150))/0x8+parseInt(_0x36c580(0x156))/0x9+-parseInt(_0x36c580(0x16b))/0xa*(parseInt(_0x36c580(0x152))/0xb);if(_0x4717a1===_0xd9a778)break;else _0xb2cb8a['push'](_0xb2cb8a['shift']());}catch(_0x304718){_0xb2cb8a['push'](_0xb2cb8a['shift']());}}}(a10_0x59c7,0xf1f99));Object[a10_0x18c2cb(0x161)](exports,a10_0x18c2cb(0x15f),{'value':!![]}),exports[a10_0x18c2cb(0x151)]=void 0x0;const settingsService_1=require('../services/settingsService');function a10_0x4a46(_0x3cb194,_0x1b3adc){const _0x59c763=a10_0x59c7();return a10_0x4a46=function(_0x4a4642,_0x39f080){_0x4a4642=_0x4a4642-0x14c;let _0x2c829d=_0x59c763[_0x4a4642];return _0x2c829d;},a10_0x4a46(_0x3cb194,_0x1b3adc);}class SettingsController{constructor(){const _0x5e43d5=a10_0x18c2cb;this[_0x5e43d5(0x169)]=async(_0x21884e,_0x561051,_0x1b359e)=>{const _0xc4cb2=_0x5e43d5;try{const _0x4d67f4=_0x21884e[_0xc4cb2(0x157)]?.['id'];if(!_0x4d67f4)return _0x561051['status'](0x191)[_0xc4cb2(0x155)]({'success':![],'message':_0xc4cb2(0x14c)});const _0x1b1f0e=await this[_0xc4cb2(0x16a)][_0xc4cb2(0x154)](_0x4d67f4);_0x561051[_0xc4cb2(0x155)]({'success':!![],'message':_0xc4cb2(0x14d),'data':_0x1b1f0e});}catch(_0x4319cb){_0x1b359e(_0x4319cb);}},this[_0x5e43d5(0x164)]=async(_0x3a2319,_0x1cc960,_0xb83c05)=>{const _0x51a623=_0x5e43d5;try{const _0x48f0a8=_0x3a2319[_0x51a623(0x157)]?.['id'];if(!_0x48f0a8)return _0x1cc960[_0x51a623(0x160)](0x191)[_0x51a623(0x155)]({'success':![],'message':_0x51a623(0x14c)});const _0x699f13=_0x3a2319['body'];await this[_0x51a623(0x16a)][_0x51a623(0x164)](_0x48f0a8,_0x699f13),_0x1cc960[_0x51a623(0x155)]({'success':!![],'message':'Password\x20updated\x20successfully'});}catch(_0x46f445){_0xb83c05(_0x46f445);}},this[_0x5e43d5(0x165)]=async(_0x246f58,_0x375287,_0x5e0f1a)=>{const _0x120e38=_0x5e43d5;try{const _0x906b03=_0x246f58[_0x120e38(0x157)]?.['id'];if(!_0x906b03)return _0x375287[_0x120e38(0x160)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x2bb6dc=_0x246f58[_0x120e38(0x15e)];await this[_0x120e38(0x16a)]['updateNotifications'](_0x906b03,_0x2bb6dc),_0x375287[_0x120e38(0x155)]({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x141a40){_0x5e0f1a(_0x141a40);}},this[_0x5e43d5(0x159)]=async(_0x3da478,_0x4dcfdb,_0x459df7)=>{const _0x4f83dd=_0x5e43d5;try{const _0x34d757=_0x3da478[_0x4f83dd(0x157)]?.['id'];if(!_0x34d757)return _0x4dcfdb[_0x4f83dd(0x160)](0x191)['json']({'success':![],'message':_0x4f83dd(0x14c)});const _0x4fb069=_0x3da478[_0x4f83dd(0x15e)];await this[_0x4f83dd(0x16a)]['updateTelegramSettings'](_0x34d757,_0x4fb069),_0x4dcfdb[_0x4f83dd(0x155)]({'success':!![],'message':_0x4f83dd(0x14e)});}catch(_0x3e75cb){_0x459df7(_0x3e75cb);}},this[_0x5e43d5(0x167)]=async(_0x535d84,_0x12ad7f,_0xd63ecb)=>{const _0x518862=_0x5e43d5;try{const _0x19b14f=_0x535d84[_0x518862(0x157)]?.['id'];if(!_0x19b14f)return _0x12ad7f[_0x518862(0x160)](0x191)[_0x518862(0x155)]({'success':![],'message':'Unauthorized'});const _0x1f841a=_0x535d84[_0x518862(0x15e)];await this[_0x518862(0x16a)]['updateWebhookSettings'](_0x19b14f,_0x1f841a),_0x12ad7f[_0x518862(0x155)]({'success':!![],'message':_0x518862(0x15b)});}catch(_0x104dea){_0xd63ecb(_0x104dea);}},this['revokeApiKeys']=async(_0x569b42,_0x5c1824,_0x55016c)=>{const _0x572c89=_0x5e43d5;try{const _0x153181=_0x569b42['user']?.['id'];if(!_0x153181)return _0x5c1824[_0x572c89(0x160)](0x191)[_0x572c89(0x155)]({'success':![],'message':_0x572c89(0x14c)});await this[_0x572c89(0x16a)]['revokeAllApiKeys'](_0x153181),_0x5c1824[_0x572c89(0x155)]({'success':!![],'message':_0x572c89(0x15c)});}catch(_0x19a59d){_0x55016c(_0x19a59d);}},this['deleteAccount']=async(_0x4b1af5,_0x14d521,_0x318a1e)=>{const _0x920ee=_0x5e43d5;try{const _0x23b108=_0x4b1af5[_0x920ee(0x157)]?.['id'];if(!_0x23b108)return _0x14d521[_0x920ee(0x160)](0x191)[_0x920ee(0x155)]({'success':![],'message':'Unauthorized'});const _0x4611dc=_0x4b1af5[_0x920ee(0x15e)];await this['settingsService']['deleteAccount'](_0x23b108,_0x4611dc),_0x14d521[_0x920ee(0x155)]({'success':!![],'message':_0x920ee(0x15a)});}catch(_0x464334){_0x318a1e(_0x464334);}},this[_0x5e43d5(0x16a)]=new settingsService_1[(_0x5e43d5(0x153))]();}}exports[a10_0x18c2cb(0x151)]=SettingsController;