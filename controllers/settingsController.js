'use strict';const a17_0x322430=a17_0x5b85;(function(_0x5b38c0,_0x537a37){const _0x125820=a17_0x5b85,_0x6817ee=_0x5b38c0();while(!![]){try{const _0x215abd=-parseInt(_0x125820(0x13d))/0x1*(parseInt(_0x125820(0x13b))/0x2)+-parseInt(_0x125820(0x131))/0x3+-parseInt(_0x125820(0x134))/0x4*(-parseInt(_0x125820(0x136))/0x5)+parseInt(_0x125820(0x142))/0x6+-parseInt(_0x125820(0x12f))/0x7+parseInt(_0x125820(0x12d))/0x8*(parseInt(_0x125820(0x127))/0x9)+-parseInt(_0x125820(0x12c))/0xa*(parseInt(_0x125820(0x13a))/0xb);if(_0x215abd===_0x537a37)break;else _0x6817ee['push'](_0x6817ee['shift']());}catch(_0x1c535f){_0x6817ee['push'](_0x6817ee['shift']());}}}(a17_0x3f05,0xa5302));Object[a17_0x322430(0x143)](exports,a17_0x322430(0x146),{'value':!![]}),exports[a17_0x322430(0x13c)]=void 0x0;function a17_0x3f05(){const _0x49b447=['27eEUwjI','settingsService','Unauthorized','deleteAccount','revokeAllApiKeys','15542520jbEVAG','1187872JlrMbU','body','1470483agvfiH','updateNotifications','202347wuNFYp','revokeApiKeys','Password\x20updated\x20successfully','4qSTTKH','user','6160745bPgAEU','getShopSettings','changePassword','json','11NoaHOe','839986TZyPbQ','SettingsController','1iqjClf','updateWebhookSettings','updateTelegramSettings','Telegram\x20bot\x20settings\x20updated\x20successfully','Notification\x20preferences\x20updated\x20successfully','7504632aVpLyb','defineProperty','Webhook\x20settings\x20updated\x20successfully','status','__esModule','Shop\x20settings\x20retrieved\x20successfully','disconnectTelegramSession'];a17_0x3f05=function(){return _0x49b447;};return a17_0x3f05();}const settingsService_1=require('../services/settingsService');class SettingsController{constructor(){const _0x384a73=a17_0x322430;this['getSettings']=async(_0x175aaf,_0x15a53e,_0x636656)=>{const _0x489232=a17_0x5b85;try{const _0x42289b=_0x175aaf[_0x489232(0x135)]?.['id'];if(!_0x42289b)return _0x15a53e['status'](0x191)[_0x489232(0x139)]({'success':![],'message':'Unauthorized'});const _0x495bb6=await this['settingsService'][_0x489232(0x137)](_0x42289b);_0x15a53e[_0x489232(0x139)]({'success':!![],'message':_0x489232(0x147),'data':_0x495bb6});}catch(_0x5706aa){_0x636656(_0x5706aa);}},this[_0x384a73(0x138)]=async(_0x5044cf,_0x2eb961,_0x34976d)=>{const _0x427354=_0x384a73;try{const _0x500c13=_0x5044cf[_0x427354(0x135)]?.['id'];if(!_0x500c13)return _0x2eb961[_0x427354(0x145)](0x191)[_0x427354(0x139)]({'success':![],'message':_0x427354(0x129)});const _0x27fb53=_0x5044cf['body'];await this[_0x427354(0x128)][_0x427354(0x138)](_0x500c13,_0x27fb53),_0x2eb961[_0x427354(0x139)]({'success':!![],'message':_0x427354(0x133)});}catch(_0x3b2f7d){_0x34976d(_0x3b2f7d);}},this['updateNotifications']=async(_0x4da94b,_0xe35634,_0x3ed8b8)=>{const _0x12edcd=_0x384a73;try{const _0x33798a=_0x4da94b['user']?.['id'];if(!_0x33798a)return _0xe35634[_0x12edcd(0x145)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x3ec6a2=_0x4da94b[_0x12edcd(0x12e)];await this[_0x12edcd(0x128)][_0x12edcd(0x130)](_0x33798a,_0x3ec6a2),_0xe35634[_0x12edcd(0x139)]({'success':!![],'message':_0x12edcd(0x141)});}catch(_0xdd36bd){_0x3ed8b8(_0xdd36bd);}},this[_0x384a73(0x13f)]=async(_0x2a754b,_0x3c6a97,_0x4193f7)=>{const _0x29e0c9=_0x384a73;try{const _0x212e02=_0x2a754b[_0x29e0c9(0x135)]?.['id'];if(!_0x212e02)return _0x3c6a97[_0x29e0c9(0x145)](0x191)['json']({'success':![],'message':_0x29e0c9(0x129)});const _0x295a5b=_0x2a754b[_0x29e0c9(0x12e)];await this[_0x29e0c9(0x128)]['updateTelegramSettings'](_0x212e02,_0x295a5b),_0x3c6a97[_0x29e0c9(0x139)]({'success':!![],'message':_0x29e0c9(0x140)});}catch(_0x1eac18){_0x4193f7(_0x1eac18);}},this[_0x384a73(0x13e)]=async(_0x37e035,_0x3eb14b,_0xf7eef3)=>{const _0x142e13=_0x384a73;try{const _0x42d603=_0x37e035['user']?.['id'];if(!_0x42d603)return _0x3eb14b[_0x142e13(0x145)](0x191)[_0x142e13(0x139)]({'success':![],'message':'Unauthorized'});const _0x5cb968=_0x37e035[_0x142e13(0x12e)];await this[_0x142e13(0x128)][_0x142e13(0x13e)](_0x42d603,_0x5cb968),_0x3eb14b[_0x142e13(0x139)]({'success':!![],'message':_0x142e13(0x144)});}catch(_0x44c7a0){_0xf7eef3(_0x44c7a0);}},this[_0x384a73(0x132)]=async(_0x11fd63,_0x3b47ad,_0x58bdf6)=>{const _0x56b259=_0x384a73;try{const _0x1f8bea=_0x11fd63[_0x56b259(0x135)]?.['id'];if(!_0x1f8bea)return _0x3b47ad[_0x56b259(0x145)](0x191)[_0x56b259(0x139)]({'success':![],'message':_0x56b259(0x129)});const {twoFactorToken:_0x48632b}=_0x11fd63[_0x56b259(0x12e)];await this[_0x56b259(0x128)][_0x56b259(0x12b)](_0x1f8bea,_0x48632b),_0x3b47ad[_0x56b259(0x139)]({'success':!![],'message':'All\x20API\x20keys\x20revoked\x20successfully'});}catch(_0xf0b166){_0x58bdf6(_0xf0b166);}},this[_0x384a73(0x12a)]=async(_0x46ac8a,_0x309572,_0x48d126)=>{const _0x3f68fb=_0x384a73;try{const _0x4ee1e9=_0x46ac8a[_0x3f68fb(0x135)]?.['id'];if(!_0x4ee1e9)return _0x309572['status'](0x191)[_0x3f68fb(0x139)]({'success':![],'message':_0x3f68fb(0x129)});const _0x721266=_0x46ac8a['body'];await this[_0x3f68fb(0x128)][_0x3f68fb(0x12a)](_0x4ee1e9,_0x721266),_0x309572[_0x3f68fb(0x139)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0x238d08){_0x48d126(_0x238d08);}},this['getTelegramSessions']=async(_0x39c1ec,_0x51f341,_0x3965ba)=>{const _0x171c43=_0x384a73;try{const _0xb99f13=_0x39c1ec['user']?.['id'];if(!_0xb99f13)return _0x51f341[_0x171c43(0x145)](0x191)[_0x171c43(0x139)]({'success':![],'message':_0x171c43(0x129)});const _0x5ada24=await this[_0x171c43(0x128)]['getTelegramSessions'](_0xb99f13);_0x51f341[_0x171c43(0x139)]({'success':!![],'sessions':_0x5ada24});}catch(_0x1d8308){_0x3965ba(_0x1d8308);}},this[_0x384a73(0x148)]=async(_0x47f25b,_0x4ffa19,_0x38d22f)=>{const _0x46aac4=_0x384a73;try{const _0x4ed0e4=_0x47f25b[_0x46aac4(0x135)]?.['id'];if(!_0x4ed0e4)return _0x4ffa19[_0x46aac4(0x145)](0x191)['json']({'success':![],'message':_0x46aac4(0x129)});const {telegramUserId:_0x38e2c6}=_0x47f25b['params'];await this[_0x46aac4(0x128)][_0x46aac4(0x148)](_0x4ed0e4,_0x38e2c6),_0x4ffa19[_0x46aac4(0x139)]({'success':!![],'message':'Telegram\x20session\x20disconnected\x20successfully'});}catch(_0x32778f){_0x38d22f(_0x32778f);}},this['settingsService']=new settingsService_1['SettingsService']();}}function a17_0x5b85(_0xec3312,_0x13c8bd){_0xec3312=_0xec3312-0x127;const _0x3f0588=a17_0x3f05();let _0x5b85f0=_0x3f0588[_0xec3312];return _0x5b85f0;}exports[a17_0x322430(0x13c)]=SettingsController;