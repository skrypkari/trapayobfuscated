'use strict';function a10_0xb3c9(){const _0x4fb46e=['user','Password\x20updated\x20successfully','Unauthorized','../services/settingsService','SettingsController','settingsService','68FvQNqz','status','getShopSettings','151191bRwkhz','updateTelegramSettings','42915JvxizF','updateWebhookSettings','Webhook\x20settings\x20updated\x20successfully','All\x20API\x20keys\x20revoked\x20successfully','406KQxGcv','10032UfpREn','Notification\x20preferences\x20updated\x20successfully','body','26580lkTbHA','changePassword','6hClTVp','5444124hSgcim','SettingsService','432WvquhY','Account\x20deleted\x20successfully','updateNotifications','5447440GIUydH','json','deleteAccount','getSettings','3121oaPaWX','Shop\x20settings\x20retrieved\x20successfully','3827995xAdoDR'];a10_0xb3c9=function(){return _0x4fb46e;};return a10_0xb3c9();}const a10_0x4ce5b7=a10_0x6b00;(function(_0x174888,_0x250437){const _0x48dc7c=a10_0x6b00,_0x49687c=_0x174888();while(!![]){try{const _0x20b853=-parseInt(_0x48dc7c(0x1b4))/0x1*(parseInt(_0x48dc7c(0x1a4))/0x2)+parseInt(_0x48dc7c(0x1c2))/0x3*(parseInt(_0x48dc7c(0x1bd))/0x4)+parseInt(_0x48dc7c(0x1b6))/0x5*(parseInt(_0x48dc7c(0x1aa))/0x6)+parseInt(_0x48dc7c(0x1ab))/0x7+-parseInt(_0x48dc7c(0x1ad))/0x8*(-parseInt(_0x48dc7c(0x1c0))/0x9)+parseInt(_0x48dc7c(0x1b0))/0xa+-parseInt(_0x48dc7c(0x1a5))/0xb*(parseInt(_0x48dc7c(0x1a8))/0xc);if(_0x20b853===_0x250437)break;else _0x49687c['push'](_0x49687c['shift']());}catch(_0x3239a1){_0x49687c['push'](_0x49687c['shift']());}}}(a10_0xb3c9,0x8ec3b));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a10_0x4ce5b7(0x1bb)]=void 0x0;const settingsService_1=require(a10_0x4ce5b7(0x1ba));function a10_0x6b00(_0x5a8e8f,_0x4fceee){const _0xb3c98e=a10_0xb3c9();return a10_0x6b00=function(_0x6b009c,_0x48b006){_0x6b009c=_0x6b009c-0x1a4;let _0x4a94aa=_0xb3c98e[_0x6b009c];return _0x4a94aa;},a10_0x6b00(_0x5a8e8f,_0x4fceee);}class SettingsController{constructor(){const _0x54d726=a10_0x4ce5b7;this[_0x54d726(0x1b3)]=async(_0x582618,_0x2d0236,_0x4d10a4)=>{const _0x41f6a7=_0x54d726;try{const _0x28c0a3=_0x582618[_0x41f6a7(0x1b7)]?.['id'];if(!_0x28c0a3)return _0x2d0236['status'](0x191)[_0x41f6a7(0x1b1)]({'success':![],'message':_0x41f6a7(0x1b9)});const _0x343617=await this[_0x41f6a7(0x1bc)][_0x41f6a7(0x1bf)](_0x28c0a3);_0x2d0236[_0x41f6a7(0x1b1)]({'success':!![],'message':_0x41f6a7(0x1b5),'data':_0x343617});}catch(_0x5239f7){_0x4d10a4(_0x5239f7);}},this[_0x54d726(0x1a9)]=async(_0x89c90,_0x14cf6f,_0x5883e6)=>{const _0x63262=_0x54d726;try{const _0x5edb45=_0x89c90['user']?.['id'];if(!_0x5edb45)return _0x14cf6f[_0x63262(0x1be)](0x191)[_0x63262(0x1b1)]({'success':![],'message':_0x63262(0x1b9)});const _0x64e1c5=_0x89c90[_0x63262(0x1a7)];await this[_0x63262(0x1bc)][_0x63262(0x1a9)](_0x5edb45,_0x64e1c5),_0x14cf6f[_0x63262(0x1b1)]({'success':!![],'message':_0x63262(0x1b8)});}catch(_0x5bd6e9){_0x5883e6(_0x5bd6e9);}},this['updateNotifications']=async(_0x42b852,_0x54f3c0,_0x272d30)=>{const _0x278ddf=_0x54d726;try{const _0x1c99e1=_0x42b852['user']?.['id'];if(!_0x1c99e1)return _0x54f3c0[_0x278ddf(0x1be)](0x191)[_0x278ddf(0x1b1)]({'success':![],'message':'Unauthorized'});const _0x3b7e65=_0x42b852[_0x278ddf(0x1a7)];await this[_0x278ddf(0x1bc)][_0x278ddf(0x1af)](_0x1c99e1,_0x3b7e65),_0x54f3c0[_0x278ddf(0x1b1)]({'success':!![],'message':_0x278ddf(0x1a6)});}catch(_0x4e17ef){_0x272d30(_0x4e17ef);}},this[_0x54d726(0x1c1)]=async(_0x2181c5,_0x563f50,_0x52412b)=>{const _0x38d6c4=_0x54d726;try{const _0xe7dfff=_0x2181c5[_0x38d6c4(0x1b7)]?.['id'];if(!_0xe7dfff)return _0x563f50[_0x38d6c4(0x1be)](0x191)[_0x38d6c4(0x1b1)]({'success':![],'message':_0x38d6c4(0x1b9)});const _0x45ad51=_0x2181c5[_0x38d6c4(0x1a7)];await this[_0x38d6c4(0x1bc)]['updateTelegramSettings'](_0xe7dfff,_0x45ad51),_0x563f50[_0x38d6c4(0x1b1)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x2663d0){_0x52412b(_0x2663d0);}},this[_0x54d726(0x1c3)]=async(_0x3453ec,_0x29953c,_0x212507)=>{const _0x52eee7=_0x54d726;try{const _0x468951=_0x3453ec[_0x52eee7(0x1b7)]?.['id'];if(!_0x468951)return _0x29953c['status'](0x191)['json']({'success':![],'message':_0x52eee7(0x1b9)});const _0x28531d=_0x3453ec[_0x52eee7(0x1a7)];await this['settingsService'][_0x52eee7(0x1c3)](_0x468951,_0x28531d),_0x29953c[_0x52eee7(0x1b1)]({'success':!![],'message':_0x52eee7(0x1c4)});}catch(_0x1433bc){_0x212507(_0x1433bc);}},this['revokeApiKeys']=async(_0x1df854,_0x31972b,_0x1d52af)=>{const _0x3f7138=_0x54d726;try{const _0x484880=_0x1df854[_0x3f7138(0x1b7)]?.['id'];if(!_0x484880)return _0x31972b[_0x3f7138(0x1be)](0x191)[_0x3f7138(0x1b1)]({'success':![],'message':'Unauthorized'});await this[_0x3f7138(0x1bc)]['revokeAllApiKeys'](_0x484880),_0x31972b[_0x3f7138(0x1b1)]({'success':!![],'message':_0x3f7138(0x1c5)});}catch(_0x39e03e){_0x1d52af(_0x39e03e);}},this[_0x54d726(0x1b2)]=async(_0x27a383,_0x20dd47,_0x6b46f9)=>{const _0x48d5be=_0x54d726;try{const _0x51fa2d=_0x27a383[_0x48d5be(0x1b7)]?.['id'];if(!_0x51fa2d)return _0x20dd47[_0x48d5be(0x1be)](0x191)[_0x48d5be(0x1b1)]({'success':![],'message':_0x48d5be(0x1b9)});const _0x173cf0=_0x27a383[_0x48d5be(0x1a7)];await this[_0x48d5be(0x1bc)]['deleteAccount'](_0x51fa2d,_0x173cf0),_0x20dd47[_0x48d5be(0x1b1)]({'success':!![],'message':_0x48d5be(0x1ae)});}catch(_0xc8ebd4){_0x6b46f9(_0xc8ebd4);}},this[_0x54d726(0x1bc)]=new settingsService_1[(_0x54d726(0x1ac))]();}}exports[a10_0x4ce5b7(0x1bb)]=SettingsController;