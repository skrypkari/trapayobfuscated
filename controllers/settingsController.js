'use strict';function a11_0x2ec9(){const _0x56680a=['Unauthorized','../services/settingsService','updateNotifications','2943624VlNyZc','Shop\x20settings\x20retrieved\x20successfully','getShopSettings','updateTelegramSettings','status','9262350zJRjxk','json','All\x20API\x20keys\x20revoked\x20successfully','707965lkYjrO','user','61733rrXzDq','Account\x20deleted\x20successfully','updateWebhookSettings','3122415bYmGev','19347wmHEKR','1879860wHcmBo','body','changePassword','160UuKhME','getSettings','revokeApiKeys','120VcdzHO','settingsService','deleteAccount','Webhook\x20settings\x20updated\x20successfully'];a11_0x2ec9=function(){return _0x56680a;};return a11_0x2ec9();}const a11_0x455328=a11_0x39c7;(function(_0x6b6ca3,_0x2bdcd1){const _0x4e5061=a11_0x39c7,_0x107dd4=_0x6b6ca3();while(!![]){try{const _0x1df843=-parseInt(_0x4e5061(0x203))/0x1+parseInt(_0x4e5061(0x20d))/0x2*(parseInt(_0x4e5061(0x209))/0x3)+parseInt(_0x4e5061(0x20a))/0x4+parseInt(_0x4e5061(0x208))/0x5+parseInt(_0x4e5061(0x1f4))/0x6*(parseInt(_0x4e5061(0x205))/0x7)+parseInt(_0x4e5061(0x1fb))/0x8+-parseInt(_0x4e5061(0x200))/0x9;if(_0x1df843===_0x2bdcd1)break;else _0x107dd4['push'](_0x107dd4['shift']());}catch(_0x10e003){_0x107dd4['push'](_0x107dd4['shift']());}}}(a11_0x2ec9,0x65f32));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['SettingsController']=void 0x0;const settingsService_1=require(a11_0x455328(0x1f9));function a11_0x39c7(_0xf7c117,_0xc626e1){const _0x2ec9b9=a11_0x2ec9();return a11_0x39c7=function(_0x39c786,_0x2833ff){_0x39c786=_0x39c786-0x1f4;let _0x5ba641=_0x2ec9b9[_0x39c786];return _0x5ba641;},a11_0x39c7(_0xf7c117,_0xc626e1);}class SettingsController{constructor(){const _0x38c6e1=a11_0x455328;this[_0x38c6e1(0x20e)]=async(_0x21a207,_0x227a05,_0x5f0381)=>{const _0x1f6649=_0x38c6e1;try{const _0x5dd603=_0x21a207[_0x1f6649(0x204)]?.['id'];if(!_0x5dd603)return _0x227a05[_0x1f6649(0x1ff)](0x191)[_0x1f6649(0x201)]({'success':![],'message':_0x1f6649(0x1f8)});const _0xd921=await this['settingsService'][_0x1f6649(0x1fd)](_0x5dd603);_0x227a05[_0x1f6649(0x201)]({'success':!![],'message':_0x1f6649(0x1fc),'data':_0xd921});}catch(_0x5ef6b1){_0x5f0381(_0x5ef6b1);}},this[_0x38c6e1(0x20c)]=async(_0x3c843e,_0x797a68,_0xc971ef)=>{const _0x1c791f=_0x38c6e1;try{const _0x2ae3de=_0x3c843e['user']?.['id'];if(!_0x2ae3de)return _0x797a68['status'](0x191)[_0x1c791f(0x201)]({'success':![],'message':_0x1c791f(0x1f8)});const _0x2d06cf=_0x3c843e[_0x1c791f(0x20b)];await this[_0x1c791f(0x1f5)][_0x1c791f(0x20c)](_0x2ae3de,_0x2d06cf),_0x797a68[_0x1c791f(0x201)]({'success':!![],'message':'Password\x20updated\x20successfully'});}catch(_0x175356){_0xc971ef(_0x175356);}},this[_0x38c6e1(0x1fa)]=async(_0x47fc7b,_0x5a6409,_0x359e4b)=>{const _0x402bd4=_0x38c6e1;try{const _0x3333b5=_0x47fc7b['user']?.['id'];if(!_0x3333b5)return _0x5a6409[_0x402bd4(0x1ff)](0x191)[_0x402bd4(0x201)]({'success':![],'message':'Unauthorized'});const _0x48ec2b=_0x47fc7b[_0x402bd4(0x20b)];await this[_0x402bd4(0x1f5)][_0x402bd4(0x1fa)](_0x3333b5,_0x48ec2b),_0x5a6409[_0x402bd4(0x201)]({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x1a66ea){_0x359e4b(_0x1a66ea);}},this[_0x38c6e1(0x1fe)]=async(_0x58280b,_0x33ab3,_0x2e9e8e)=>{const _0x5bb06d=_0x38c6e1;try{const _0xa90f53=_0x58280b[_0x5bb06d(0x204)]?.['id'];if(!_0xa90f53)return _0x33ab3[_0x5bb06d(0x1ff)](0x191)[_0x5bb06d(0x201)]({'success':![],'message':_0x5bb06d(0x1f8)});const _0xb65c=_0x58280b[_0x5bb06d(0x20b)];await this[_0x5bb06d(0x1f5)]['updateTelegramSettings'](_0xa90f53,_0xb65c),_0x33ab3[_0x5bb06d(0x201)]({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x257cb6){_0x2e9e8e(_0x257cb6);}},this['updateWebhookSettings']=async(_0x2ec774,_0x5e87fa,_0x44bab5)=>{const _0x5331ea=_0x38c6e1;try{const _0x85f19c=_0x2ec774[_0x5331ea(0x204)]?.['id'];if(!_0x85f19c)return _0x5e87fa[_0x5331ea(0x1ff)](0x191)[_0x5331ea(0x201)]({'success':![],'message':_0x5331ea(0x1f8)});const _0x7f8eb8=_0x2ec774[_0x5331ea(0x20b)];await this['settingsService'][_0x5331ea(0x207)](_0x85f19c,_0x7f8eb8),_0x5e87fa[_0x5331ea(0x201)]({'success':!![],'message':_0x5331ea(0x1f7)});}catch(_0xa4b17b){_0x44bab5(_0xa4b17b);}},this[_0x38c6e1(0x20f)]=async(_0x174a1f,_0x2b65c7,_0x59180e)=>{const _0x593318=_0x38c6e1;try{const _0x2137db=_0x174a1f[_0x593318(0x204)]?.['id'];if(!_0x2137db)return _0x2b65c7[_0x593318(0x1ff)](0x191)['json']({'success':![],'message':_0x593318(0x1f8)});await this[_0x593318(0x1f5)]['revokeAllApiKeys'](_0x2137db),_0x2b65c7[_0x593318(0x201)]({'success':!![],'message':_0x593318(0x202)});}catch(_0x50521c){_0x59180e(_0x50521c);}},this[_0x38c6e1(0x1f6)]=async(_0x4a8e2d,_0x4a9f72,_0x86463c)=>{const _0x4d638f=_0x38c6e1;try{const _0x44f33d=_0x4a8e2d[_0x4d638f(0x204)]?.['id'];if(!_0x44f33d)return _0x4a9f72[_0x4d638f(0x1ff)](0x191)['json']({'success':![],'message':_0x4d638f(0x1f8)});const _0x382c74=_0x4a8e2d[_0x4d638f(0x20b)];await this[_0x4d638f(0x1f5)][_0x4d638f(0x1f6)](_0x44f33d,_0x382c74),_0x4a9f72[_0x4d638f(0x201)]({'success':!![],'message':_0x4d638f(0x206)});}catch(_0x4f7eca){_0x86463c(_0x4f7eca);}},this[_0x38c6e1(0x1f5)]=new settingsService_1['SettingsService']();}}exports['SettingsController']=SettingsController;