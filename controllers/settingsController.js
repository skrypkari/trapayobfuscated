'use strict';function a10_0x3bbb(){const _0x3bc9bb=['1187784LvaBnq','__esModule','changePassword','settingsService','json','../services/settingsService','getSettings','Webhook\x20settings\x20updated\x20successfully','updateTelegramSettings','body','2043288yECClz','Unauthorized','user','defineProperty','revokeApiKeys','revokeAllApiKeys','2861HlZYyk','updateNotifications','1924671xhHqZK','3366828AzOPwq','4248180vSEPSr','474neocER','SettingsService','All\x20API\x20keys\x20revoked\x20successfully','status','deleteAccount','2445507jjSOPx','Password\x20updated\x20successfully','SettingsController','Shop\x20settings\x20retrieved\x20successfully','5AuZcfq','72XHJqgc'];a10_0x3bbb=function(){return _0x3bc9bb;};return a10_0x3bbb();}const a10_0x23bddd=a10_0x1281;(function(_0x49b232,_0x3fad6f){const _0x524ed7=a10_0x1281,_0x18c617=_0x49b232();while(!![]){try{const _0x8b9f80=-parseInt(_0x524ed7(0x132))/0x1*(parseInt(_0x524ed7(0x137))/0x2)+-parseInt(_0x524ed7(0x13c))/0x3+parseInt(_0x524ed7(0x135))/0x4*(-parseInt(_0x524ed7(0x140))/0x5)+-parseInt(_0x524ed7(0x14c))/0x6+-parseInt(_0x524ed7(0x134))/0x7+parseInt(_0x524ed7(0x142))/0x8+-parseInt(_0x524ed7(0x141))/0x9*(-parseInt(_0x524ed7(0x136))/0xa);if(_0x8b9f80===_0x3fad6f)break;else _0x18c617['push'](_0x18c617['shift']());}catch(_0x3d33e3){_0x18c617['push'](_0x18c617['shift']());}}}(a10_0x3bbb,0x91a67));Object[a10_0x23bddd(0x14f)](exports,a10_0x23bddd(0x143),{'value':!![]}),exports[a10_0x23bddd(0x13e)]=void 0x0;const settingsService_1=require(a10_0x23bddd(0x147));function a10_0x1281(_0x10d506,_0xe86a40){const _0x3bbb62=a10_0x3bbb();return a10_0x1281=function(_0x1281c7,_0x28aa04){_0x1281c7=_0x1281c7-0x130;let _0x142dc2=_0x3bbb62[_0x1281c7];return _0x142dc2;},a10_0x1281(_0x10d506,_0xe86a40);}class SettingsController{constructor(){const _0x5079ce=a10_0x23bddd;this[_0x5079ce(0x148)]=async(_0x513321,_0x229f6b,_0x4d0b32)=>{const _0x2605e0=_0x5079ce;try{const _0x37d64f=_0x513321[_0x2605e0(0x14e)]?.['id'];if(!_0x37d64f)return _0x229f6b[_0x2605e0(0x13a)](0x191)['json']({'success':![],'message':'Unauthorized'});const _0x1fc497=await this[_0x2605e0(0x145)]['getShopSettings'](_0x37d64f);_0x229f6b[_0x2605e0(0x146)]({'success':!![],'message':_0x2605e0(0x13f),'data':_0x1fc497});}catch(_0x31419f){_0x4d0b32(_0x31419f);}},this[_0x5079ce(0x144)]=async(_0x57a0e2,_0x4e96bf,_0x5996a5)=>{const _0x3afecd=_0x5079ce;try{const _0x4f1592=_0x57a0e2[_0x3afecd(0x14e)]?.['id'];if(!_0x4f1592)return _0x4e96bf[_0x3afecd(0x13a)](0x191)[_0x3afecd(0x146)]({'success':![],'message':_0x3afecd(0x14d)});const _0xa795b7=_0x57a0e2[_0x3afecd(0x14b)];await this[_0x3afecd(0x145)]['changePassword'](_0x4f1592,_0xa795b7),_0x4e96bf[_0x3afecd(0x146)]({'success':!![],'message':_0x3afecd(0x13d)});}catch(_0x4c3e5f){_0x5996a5(_0x4c3e5f);}},this[_0x5079ce(0x133)]=async(_0x565c7c,_0x51694b,_0x10a1bb)=>{const _0x228d8c=_0x5079ce;try{const _0x13a65a=_0x565c7c['user']?.['id'];if(!_0x13a65a)return _0x51694b[_0x228d8c(0x13a)](0x191)[_0x228d8c(0x146)]({'success':![],'message':_0x228d8c(0x14d)});const _0x43e2b1=_0x565c7c[_0x228d8c(0x14b)];await this['settingsService']['updateNotifications'](_0x13a65a,_0x43e2b1),_0x51694b[_0x228d8c(0x146)]({'success':!![],'message':'Notification\x20preferences\x20updated\x20successfully'});}catch(_0x437b61){_0x10a1bb(_0x437b61);}},this[_0x5079ce(0x14a)]=async(_0x1d96ad,_0x561f51,_0x37f065)=>{const _0x43c832=_0x5079ce;try{const _0x35e019=_0x1d96ad[_0x43c832(0x14e)]?.['id'];if(!_0x35e019)return _0x561f51['status'](0x191)[_0x43c832(0x146)]({'success':![],'message':_0x43c832(0x14d)});const _0x51e244=_0x1d96ad[_0x43c832(0x14b)];await this['settingsService']['updateTelegramSettings'](_0x35e019,_0x51e244),_0x561f51['json']({'success':!![],'message':'Telegram\x20bot\x20settings\x20updated\x20successfully'});}catch(_0x4e6916){_0x37f065(_0x4e6916);}},this['updateWebhookSettings']=async(_0x455eba,_0x21d98d,_0x5d7c5d)=>{const _0x3db8ad=_0x5079ce;try{const _0x217041=_0x455eba[_0x3db8ad(0x14e)]?.['id'];if(!_0x217041)return _0x21d98d[_0x3db8ad(0x13a)](0x191)[_0x3db8ad(0x146)]({'success':![],'message':_0x3db8ad(0x14d)});const _0x15c50c=_0x455eba['body'];await this[_0x3db8ad(0x145)]['updateWebhookSettings'](_0x217041,_0x15c50c),_0x21d98d[_0x3db8ad(0x146)]({'success':!![],'message':_0x3db8ad(0x149)});}catch(_0xd28969){_0x5d7c5d(_0xd28969);}},this[_0x5079ce(0x130)]=async(_0x275ddd,_0x1b86cd,_0x3debd9)=>{const _0x587fd6=_0x5079ce;try{const _0x1c33f9=_0x275ddd['user']?.['id'];if(!_0x1c33f9)return _0x1b86cd['status'](0x191)[_0x587fd6(0x146)]({'success':![],'message':_0x587fd6(0x14d)});await this[_0x587fd6(0x145)][_0x587fd6(0x131)](_0x1c33f9),_0x1b86cd[_0x587fd6(0x146)]({'success':!![],'message':_0x587fd6(0x139)});}catch(_0x5406bd){_0x3debd9(_0x5406bd);}},this[_0x5079ce(0x13b)]=async(_0x4160f1,_0x5e0d2b,_0x59b119)=>{const _0x1433a3=_0x5079ce;try{const _0x5619fd=_0x4160f1[_0x1433a3(0x14e)]?.['id'];if(!_0x5619fd)return _0x5e0d2b['status'](0x191)[_0x1433a3(0x146)]({'success':![],'message':_0x1433a3(0x14d)});const _0x318acf=_0x4160f1[_0x1433a3(0x14b)];await this['settingsService'][_0x1433a3(0x13b)](_0x5619fd,_0x318acf),_0x5e0d2b[_0x1433a3(0x146)]({'success':!![],'message':'Account\x20deleted\x20successfully'});}catch(_0x2180a2){_0x59b119(_0x2180a2);}},this[_0x5079ce(0x145)]=new settingsService_1[(_0x5079ce(0x138))]();}}exports['SettingsController']=SettingsController;